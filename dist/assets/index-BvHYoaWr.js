(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yk(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var v_={exports:{}},hy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5;function iU(){if(R5)return hy;R5=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,l,u){var m=null;if(u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:m,ref:l!==void 0?l:null,props:u}}return hy.Fragment=t,hy.jsx=s,hy.jsxs=s,hy}var P5;function aU(){return P5||(P5=1,v_.exports=iU()),v_.exports}var n=aU(),w_={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5;function lU(){if(O5)return qt;O5=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=C&&G[C]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function I(G,ue,me){this.props=G,this.context=ue,this.refs=R,this.updater=me||S}I.prototype.isReactComponent={},I.prototype.setState=function(G,ue){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ue,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function z(){}z.prototype=I.prototype;function V(G,ue,me){this.props=G,this.context=ue,this.refs=R,this.updater=me||S}var U=V.prototype=new z;U.constructor=V,M(U,I.prototype),U.isPureReactComponent=!0;var q=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function Q(G,ue,me,ye,ve,Me){return me=Me.ref,{$$typeof:r,type:G,key:ue,ref:me!==void 0?me:null,props:Me}}function B(G,ue){return Q(G.type,ue,void 0,void 0,void 0,G.props)}function Y(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function J(G){var ue={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(me){return ue[me]})}var W=/\/+/g;function ee(G,ue){return typeof G=="object"&&G!==null&&G.key!=null?J(""+G.key):ue.toString(36)}function te(){}function be(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(te,te):(G.status="pending",G.then(function(ue){G.status==="pending"&&(G.status="fulfilled",G.value=ue)},function(ue){G.status==="pending"&&(G.status="rejected",G.reason=ue)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function xe(G,ue,me,ye,ve){var Me=typeof G;(Me==="undefined"||Me==="boolean")&&(G=null);var Ae=!1;if(G===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(G.$$typeof){case r:case t:Ae=!0;break;case k:return Ae=G._init,xe(Ae(G._payload),ue,me,ye,ve)}}if(Ae)return ve=ve(G),Ae=ye===""?"."+ee(G,0):ye,q(ve)?(me="",Ae!=null&&(me=Ae.replace(W,"$&/")+"/"),xe(ve,ue,me,"",function(Qe){return Qe})):ve!=null&&(Y(ve)&&(ve=B(ve,me+(ve.key==null||G&&G.key===ve.key?"":(""+ve.key).replace(W,"$&/")+"/")+Ae)),ue.push(ve)),1;Ae=0;var Ye=ye===""?".":ye+":";if(q(G))for(var ze=0;ze<G.length;ze++)ye=G[ze],Me=Ye+ee(ye,ze),Ae+=xe(ye,ue,me,Me,ve);else if(ze=_(G),typeof ze=="function")for(G=ze.call(G),ze=0;!(ye=G.next()).done;)ye=ye.value,Me=Ye+ee(ye,ze++),Ae+=xe(ye,ue,me,Me,ve);else if(Me==="object"){if(typeof G.then=="function")return xe(be(G),ue,me,ye,ve);throw ue=String(G),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ie(G,ue,me){if(G==null)return G;var ye=[],ve=0;return xe(G,ye,"","",function(Me){return ue.call(me,Me,ve++)}),ye}function ae(G){if(G._status===-1){var ue=G._result;ue=ue(),ue.then(function(me){(G._status===0||G._status===-1)&&(G._status=1,G._result=me)},function(me){(G._status===0||G._status===-1)&&(G._status=2,G._result=me)}),G._status===-1&&(G._status=0,G._result=ue)}if(G._status===1)return G._result.default;throw G._result}var le=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function oe(){}return qt.Children={map:ie,forEach:function(G,ue,me){ie(G,function(){ue.apply(this,arguments)},me)},count:function(G){var ue=0;return ie(G,function(){ue++}),ue},toArray:function(G){return ie(G,function(ue){return ue})||[]},only:function(G){if(!Y(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},qt.Component=I,qt.Fragment=s,qt.Profiler=l,qt.PureComponent=V,qt.StrictMode=i,qt.Suspense=b,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,qt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return $.H.useMemoCache(G)}},qt.cache=function(G){return function(){return G.apply(null,arguments)}},qt.cloneElement=function(G,ue,me){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ye=M({},G.props),ve=G.key,Me=void 0;if(ue!=null)for(Ae in ue.ref!==void 0&&(Me=void 0),ue.key!==void 0&&(ve=""+ue.key),ue)!ne.call(ue,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ue.ref===void 0||(ye[Ae]=ue[Ae]);var Ae=arguments.length-2;if(Ae===1)ye.children=me;else if(1<Ae){for(var Ye=Array(Ae),ze=0;ze<Ae;ze++)Ye[ze]=arguments[ze+2];ye.children=Ye}return Q(G.type,ve,void 0,void 0,Me,ye)},qt.createContext=function(G){return G={$$typeof:m,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:u,_context:G},G},qt.createElement=function(G,ue,me){var ye,ve={},Me=null;if(ue!=null)for(ye in ue.key!==void 0&&(Me=""+ue.key),ue)ne.call(ue,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(ve[ye]=ue[ye]);var Ae=arguments.length-2;if(Ae===1)ve.children=me;else if(1<Ae){for(var Ye=Array(Ae),ze=0;ze<Ae;ze++)Ye[ze]=arguments[ze+2];ve.children=Ye}if(G&&G.defaultProps)for(ye in Ae=G.defaultProps,Ae)ve[ye]===void 0&&(ve[ye]=Ae[ye]);return Q(G,Me,void 0,void 0,null,ve)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(G){return{$$typeof:f,render:G}},qt.isValidElement=Y,qt.lazy=function(G){return{$$typeof:k,_payload:{_status:-1,_result:G},_init:ae}},qt.memo=function(G,ue){return{$$typeof:v,type:G,compare:ue===void 0?null:ue}},qt.startTransition=function(G){var ue=$.T,me={};$.T=me;try{var ye=G(),ve=$.S;ve!==null&&ve(me,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(oe,le)}catch(Me){le(Me)}finally{$.T=ue}},qt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},qt.use=function(G){return $.H.use(G)},qt.useActionState=function(G,ue,me){return $.H.useActionState(G,ue,me)},qt.useCallback=function(G,ue){return $.H.useCallback(G,ue)},qt.useContext=function(G){return $.H.useContext(G)},qt.useDebugValue=function(){},qt.useDeferredValue=function(G,ue){return $.H.useDeferredValue(G,ue)},qt.useEffect=function(G,ue,me){var ye=$.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(G,ue)},qt.useId=function(){return $.H.useId()},qt.useImperativeHandle=function(G,ue,me){return $.H.useImperativeHandle(G,ue,me)},qt.useInsertionEffect=function(G,ue){return $.H.useInsertionEffect(G,ue)},qt.useLayoutEffect=function(G,ue){return $.H.useLayoutEffect(G,ue)},qt.useMemo=function(G,ue){return $.H.useMemo(G,ue)},qt.useOptimistic=function(G,ue){return $.H.useOptimistic(G,ue)},qt.useReducer=function(G,ue,me){return $.H.useReducer(G,ue,me)},qt.useRef=function(G){return $.H.useRef(G)},qt.useState=function(G){return $.H.useState(G)},qt.useSyncExternalStore=function(G,ue,me){return $.H.useSyncExternalStore(G,ue,me)},qt.useTransition=function(){return $.H.useTransition()},qt.version="19.1.0",qt}var B5;function VA(){return B5||(B5=1,w_.exports=lU()),w_.exports}var O=VA();const ot=Yk(O);var k_={exports:{}},my={},C_={exports:{}},__={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function cU(){return L5||(L5=1,function(r){function t(ie,ae){var le=ie.length;ie.push(ae);e:for(;0<le;){var oe=le-1>>>1,G=ie[oe];if(0<l(G,ae))ie[oe]=ae,ie[le]=G,le=oe;else break e}}function s(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ae=ie[0],le=ie.pop();if(le!==ae){ie[0]=le;e:for(var oe=0,G=ie.length,ue=G>>>1;oe<ue;){var me=2*(oe+1)-1,ye=ie[me],ve=me+1,Me=ie[ve];if(0>l(ye,le))ve<G&&0>l(Me,ye)?(ie[oe]=Me,ie[ve]=le,oe=ve):(ie[oe]=ye,ie[me]=le,oe=me);else if(ve<G&&0>l(Me,le))ie[oe]=Me,ie[ve]=le,oe=ve;else break e}}return ae}function l(ie,ae){var le=ie.sortIndex-ae.sortIndex;return le!==0?le:ie.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var m=Date,f=m.now();r.unstable_now=function(){return m.now()-f}}var b=[],v=[],k=1,C=null,_=3,S=!1,M=!1,R=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function q(ie){for(var ae=s(v);ae!==null;){if(ae.callback===null)i(v);else if(ae.startTime<=ie)i(v),ae.sortIndex=ae.expirationTime,t(b,ae);else break;ae=s(v)}}function $(ie){if(R=!1,q(ie),!M)if(s(b)!==null)M=!0,ne||(ne=!0,ee());else{var ae=s(v);ae!==null&&xe($,ae.startTime-ie)}}var ne=!1,Q=-1,B=5,Y=-1;function J(){return I?!0:!(r.unstable_now()-Y<B)}function W(){if(I=!1,ne){var ie=r.unstable_now();Y=ie;var ae=!0;try{e:{M=!1,R&&(R=!1,V(Q),Q=-1),S=!0;var le=_;try{t:{for(q(ie),C=s(b);C!==null&&!(C.expirationTime>ie&&J());){var oe=C.callback;if(typeof oe=="function"){C.callback=null,_=C.priorityLevel;var G=oe(C.expirationTime<=ie);if(ie=r.unstable_now(),typeof G=="function"){C.callback=G,q(ie),ae=!0;break t}C===s(b)&&i(b),q(ie)}else i(b);C=s(b)}if(C!==null)ae=!0;else{var ue=s(v);ue!==null&&xe($,ue.startTime-ie),ae=!1}}break e}finally{C=null,_=le,S=!1}ae=void 0}}finally{ae?ee():ne=!1}}}var ee;if(typeof U=="function")ee=function(){U(W)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,be=te.port2;te.port1.onmessage=W,ee=function(){be.postMessage(null)}}else ee=function(){z(W,0)};function xe(ie,ae){Q=z(function(){ie(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var le=_;_=ae;try{return ie()}finally{_=le}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(ie,ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=_;_=ie;try{return ae()}finally{_=le}},r.unstable_scheduleCallback=function(ie,ae,le){var oe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?oe+le:oe):le=oe,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,ie={id:k++,callback:ae,priorityLevel:ie,startTime:le,expirationTime:G,sortIndex:-1},le>oe?(ie.sortIndex=le,t(v,ie),s(b)===null&&ie===s(v)&&(R?(V(Q),Q=-1):R=!0,xe($,le-oe))):(ie.sortIndex=G,t(b,ie),M||S||(M=!0,ne||(ne=!0,ee()))),ie},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(ie){var ae=_;return function(){var le=_;_=ae;try{return ie.apply(this,arguments)}finally{_=le}}}}(__)),__}var z5;function dU(){return z5||(z5=1,C_.exports=cU()),C_.exports}var A_={exports:{}},ao={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5;function uU(){if(F5)return ao;F5=1;var r=VA();function t(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)v+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(b,v,k){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:b,containerInfo:v,implementation:k}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ao.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ao.createPortal=function(b,v){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(b,v,null,k)},ao.flushSync=function(b){var v=m.T,k=i.p;try{if(m.T=null,i.p=2,b)return b()}finally{m.T=v,i.p=k,i.d.f()}},ao.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(b,v))},ao.prefetchDNS=function(b){typeof b=="string"&&i.d.D(b)},ao.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var k=v.as,C=f(k,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;k==="style"?i.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:S}):k==="script"&&i.d.X(b,{crossOrigin:C,integrity:_,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ao.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var k=f(v.as,v.crossOrigin);i.d.M(b,{crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(b)},ao.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var k=v.as,C=f(k,v.crossOrigin);i.d.L(b,k,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ao.preloadModule=function(b,v){if(typeof b=="string")if(v){var k=f(v.as,v.crossOrigin);i.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(b)},ao.requestFormReset=function(b){i.d.r(b)},ao.unstable_batchedUpdates=function(b,v){return b(v)},ao.useFormState=function(b,v,k){return m.H.useFormState(b,v,k)},ao.useFormStatus=function(){return m.H.useHostTransitionStatus()},ao.version="19.1.0",ao}var V5;function u3(){if(V5)return A_.exports;V5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),A_.exports=uU(),A_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function hU(){if(U5)return my;U5=1;var r=dU(),t=VA(),s=u3();function i(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function u(h){var g=h,x=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(x=g.return),h=g.return;while(h)}return g.tag===3?x:null}function m(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function f(h){if(u(h)!==h)throw Error(i(188))}function b(h){var g=h.alternate;if(!g){if(g=u(h),g===null)throw Error(i(188));return g!==h?null:h}for(var x=h,j=g;;){var T=x.return;if(T===null)break;var L=T.alternate;if(L===null){if(j=T.return,j!==null){x=j;continue}break}if(T.child===L.child){for(L=T.child;L;){if(L===x)return f(T),h;if(L===j)return f(T),g;L=L.sibling}throw Error(i(188))}if(x.return!==j.return)x=T,j=L;else{for(var re=!1,ce=T.child;ce;){if(ce===x){re=!0,x=T,j=L;break}if(ce===j){re=!0,j=T,x=L;break}ce=ce.sibling}if(!re){for(ce=L.child;ce;){if(ce===x){re=!0,x=L,j=T;break}if(ce===j){re=!0,j=L,x=T;break}ce=ce.sibling}if(!re)throw Error(i(189))}}if(x.alternate!==j)throw Error(i(190))}if(x.tag!==3)throw Error(i(188));return x.stateNode.current===x?h:g}function v(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h;for(h=h.child;h!==null;){if(g=v(h),g!==null)return g;h=h.sibling}return null}var k=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(h){return h===null||typeof h!="object"?null:(h=W&&h[W]||h["@@iterator"],typeof h=="function"?h:null)}var te=Symbol.for("react.client.reference");function be(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===te?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case M:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case Y:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case S:return"Portal";case U:return(h.displayName||"Context")+".Provider";case V:return(h._context.displayName||"Context")+".Consumer";case q:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Q:return g=h.displayName||null,g!==null?g:be(h.type)||"Memo";case B:g=h._payload,h=h._init;try{return be(h(g))}catch{}}return null}var xe=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},oe=[],G=-1;function ue(h){return{current:h}}function me(h){0>G||(h.current=oe[G],oe[G]=null,G--)}function ye(h,g){G++,oe[G]=h.current,h.current=g}var ve=ue(null),Me=ue(null),Ae=ue(null),Ye=ue(null);function ze(h,g){switch(ye(Ae,g),ye(Me,h),ye(ve,null),g.nodeType){case 9:case 11:h=(h=g.documentElement)&&(h=h.namespaceURI)?so(h):0;break;default:if(h=g.tagName,g=g.namespaceURI)g=so(g),h=lf(g,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}me(ve),ye(ve,h)}function Qe(){me(ve),me(Me),me(Ae)}function Be(h){h.memoizedState!==null&&ye(Ye,h);var g=ve.current,x=lf(g,h.type);g!==x&&(ye(Me,h),ye(ve,x))}function fe(h){Me.current===h&&(me(ve),me(Me)),Ye.current===h&&(me(Ye),mm._currentValue=le)}var et=Object.prototype.hasOwnProperty,He=r.unstable_scheduleCallback,tt=r.unstable_cancelCallback,xt=r.unstable_shouldYield,_e=r.unstable_requestPaint,lt=r.unstable_now,Mt=r.unstable_getCurrentPriorityLevel,br=r.unstable_ImmediatePriority,sn=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,Er=r.unstable_LowPriority,_r=r.unstable_IdlePriority,Js=r.log,go=r.unstable_setDisableYieldValue,Wt=null,kt=null;function Gr(h){if(typeof Js=="function"&&go(h),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Wt,h)}catch{}}var ct=Math.clz32?Math.clz32:tr,Pt=Math.log,Ct=Math.LN2;function tr(h){return h>>>=0,h===0?32:31-(Pt(h)/Ct|0)|0}var on=256,ss=4194304;function Le(h){var g=h&42;if(g!==0)return g;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function $t(h,g,x){var j=h.pendingLanes;if(j===0)return 0;var T=0,L=h.suspendedLanes,re=h.pingedLanes;h=h.warmLanes;var ce=j&134217727;return ce!==0?(j=ce&~L,j!==0?T=Le(j):(re&=ce,re!==0?T=Le(re):x||(x=ce&~h,x!==0&&(T=Le(x))))):(ce=j&~L,ce!==0?T=Le(ce):re!==0?T=Le(re):x||(x=j&~h,x!==0&&(T=Le(x)))),T===0?0:g!==0&&g!==T&&(g&L)===0&&(L=T&-T,x=g&-g,L>=x||L===32&&(x&4194048)!==0)?g:T}function Bt(h,g){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&g)===0}function Tt(h,g){switch(h){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(){var h=on;return on<<=1,(on&4194048)===0&&(on=256),h}function Ts(){var h=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),h}function Is(h){for(var g=[],x=0;31>x;x++)g.push(h);return g}function ir(h,g){h.pendingLanes|=g,g!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Ln(h,g,x,j,T,L){var re=h.pendingLanes;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=x,h.entangledLanes&=x,h.errorRecoveryDisabledLanes&=x,h.shellSuspendCounter=0;var ce=h.entanglements,ge=h.expirationTimes,Ee=h.hiddenUpdates;for(x=re&~x;0<x;){var Ve=31-ct(x),qe=1<<Ve;ce[Ve]=0,ge[Ve]=-1;var De=Ee[Ve];if(De!==null)for(Ee[Ve]=null,Ve=0;Ve<De.length;Ve++){var Te=De[Ve];Te!==null&&(Te.lane&=-536870913)}x&=~qe}j!==0&&Wr(h,j,0),L!==0&&T===0&&h.tag!==0&&(h.suspendedLanes|=L&~(re&~g))}function Wr(h,g,x){h.pendingLanes|=g,h.suspendedLanes&=~g;var j=31-ct(g);h.entangledLanes|=g,h.entanglements[j]=h.entanglements[j]|1073741824|x&4194090}function Rs(h,g){var x=h.entangledLanes|=g;for(h=h.entanglements;x;){var j=31-ct(x),T=1<<j;T&g|h[j]&g&&(h[j]|=g),x&=~T}}function pn(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function jn(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function yr(){var h=ae.p;return h!==0?h:(h=window.event,h===void 0?32:z0(h.type))}function oi(h,g){var x=ae.p;try{return ae.p=h,g()}finally{ae.p=x}}var St=Math.random().toString(36).slice(2),xr="__reactFiber$"+St,vr="__reactProps$"+St,an="__reactContainer$"+St,ii="__reactEvents$"+St,la="__reactListeners$"+St,os="__reactHandles$"+St,Ps="__reactResources$"+St,Xs="__reactMarker$"+St;function al(h){delete h[xr],delete h[vr],delete h[ii],delete h[la],delete h[os]}function ca(h){var g=h[xr];if(g)return g;for(var x=h.parentNode;x;){if(g=x[an]||x[xr]){if(x=g.alternate,g.child!==null||x!==null&&x.child!==null)for(h=So(h);h!==null;){if(x=h[xr])return x;h=So(h)}return g}h=x,x=h.parentNode}return null}function Ii(h){if(h=h[xr]||h[an]){var g=h.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return h}return null}function Ri(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h.stateNode;throw Error(i(33))}function fn(h){var g=h[Ps];return g||(g=h[Ps]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function Xr(h){h[Xs]=!0}var Cd=new Set,_d={};function ai(h,g){Os(h,g),Os(h+"Capture",g)}function Os(h,g){for(_d[h]=g,h=0;h<g.length;h++)Cd.add(g[h])}var sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),op={},lc={};function ip(h){return et.call(lc,h)?!0:et.call(op,h)?!1:sp.test(h)?lc[h]=!0:(op[h]=!0,!1)}function ll(h,g,x){if(ip(g))if(x===null)h.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":h.removeAttribute(g);return;case"boolean":var j=g.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){h.removeAttribute(g);return}}h.setAttribute(g,""+x)}}function Pi(h,g,x){if(x===null)h.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttribute(g,""+x)}}function is(h,g,x,j){if(j===null)h.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(x);return}h.setAttributeNS(g,x,""+j)}}var cc,Oi;function bo(h){if(cc===void 0)try{throw Error()}catch(x){var g=x.stack.trim().match(/\n( *(at )?)/);cc=g&&g[1]||"",Oi=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cc+h+Oi}var Bi=!1;function Ad(h,g){if(!h||Bi)return"";Bi=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(g){var qe=function(){throw Error()};if(Object.defineProperty(qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qe,[])}catch(Te){var De=Te}Reflect.construct(h,[],qe)}else{try{qe.call()}catch(Te){De=Te}h.call(qe.prototype)}}else{try{throw Error()}catch(Te){De=Te}(qe=h())&&typeof qe.catch=="function"&&qe.catch(function(){})}}catch(Te){if(Te&&De&&typeof Te.stack=="string")return[Te.stack,De.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=j.DetermineComponentFrameRoot(),re=L[0],ce=L[1];if(re&&ce){var ge=re.split(`
`),Ee=ce.split(`
`);for(T=j=0;j<ge.length&&!ge[j].includes("DetermineComponentFrameRoot");)j++;for(;T<Ee.length&&!Ee[T].includes("DetermineComponentFrameRoot");)T++;if(j===ge.length||T===Ee.length)for(j=ge.length-1,T=Ee.length-1;1<=j&&0<=T&&ge[j]!==Ee[T];)T--;for(;1<=j&&0<=T;j--,T--)if(ge[j]!==Ee[T]){if(j!==1||T!==1)do if(j--,T--,0>T||ge[j]!==Ee[T]){var Ve=`
`+ge[j].replace(" at new "," at ");return h.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",h.displayName)),Ve}while(1<=j&&0<=T);break}}}finally{Bi=!1,Error.prepareStackTrace=x}return(x=h?h.displayName||h.name:"")?bo(x):""}function ah(h){switch(h.tag){case 26:case 27:case 5:return bo(h.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 15:return Ad(h.type,!1);case 11:return Ad(h.type.render,!1);case 1:return Ad(h.type,!0);case 31:return bo("Activity");default:return""}}function jd(h){try{var g="";do g+=ah(h),h=h.return;while(h);return g}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Bs(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function lh(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function wg(h){var g=lh(h)?"checked":"value",x=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),j=""+h[g];if(!h.hasOwnProperty(g)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,L=x.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return T.call(this)},set:function(re){j=""+re,L.call(this,re)}}),Object.defineProperty(h,g,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(re){j=""+re},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function Nd(h){h._valueTracker||(h._valueTracker=wg(h))}function Li(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var x=g.getValue(),j="";return h&&(j=lh(h)?h.checked?"true":"false":h.value),h=j,h!==x?(g.setValue(h),!0):!1}function cl(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var kg=/[\n"\\]/g;function Nn(h){return h.replace(kg,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function xs(h,g,x,j,T,L,re,ce){h.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?h.type=re:h.removeAttribute("type"),g!=null?re==="number"?(g===0&&h.value===""||h.value!=g)&&(h.value=""+Bs(g)):h.value!==""+Bs(g)&&(h.value=""+Bs(g)):re!=="submit"&&re!=="reset"||h.removeAttribute("value"),g!=null?dl(h,re,Bs(g)):x!=null?dl(h,re,Bs(x)):j!=null&&h.removeAttribute("value"),T==null&&L!=null&&(h.defaultChecked=!!L),T!=null&&(h.checked=T&&typeof T!="function"&&typeof T!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?h.name=""+Bs(ce):h.removeAttribute("name")}function dc(h,g,x,j,T,L,re,ce){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(h.type=L),g!=null||x!=null){if(!(L!=="submit"&&L!=="reset"||g!=null))return;x=x!=null?""+Bs(x):"",g=g!=null?""+Bs(g):x,ce||g===h.value||(h.value=g),h.defaultValue=g}j=j??T,j=typeof j!="function"&&typeof j!="symbol"&&!!j,h.checked=ce?h.checked:!!j,h.defaultChecked=!!j,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(h.name=re)}function dl(h,g,x){g==="number"&&cl(h.ownerDocument)===h||h.defaultValue===""+x||(h.defaultValue=""+x)}function da(h,g,x,j){if(h=h.options,g){g={};for(var T=0;T<x.length;T++)g["$"+x[T]]=!0;for(x=0;x<h.length;x++)T=g.hasOwnProperty("$"+h[x].value),h[x].selected!==T&&(h[x].selected=T),T&&j&&(h[x].defaultSelected=!0)}else{for(x=""+Bs(x),g=null,T=0;T<h.length;T++){if(h[T].value===x){h[T].selected=!0,j&&(h[T].defaultSelected=!0);return}g!==null||h[T].disabled||(g=h[T])}g!==null&&(g.selected=!0)}}function Rr(h,g,x){if(g!=null&&(g=""+Bs(g),g!==h.value&&(h.value=g),x==null)){h.defaultValue!==g&&(h.defaultValue=g);return}h.defaultValue=x!=null?""+Bs(x):""}function Io(h,g,x,j){if(g==null){if(j!=null){if(x!=null)throw Error(i(92));if(xe(j)){if(1<j.length)throw Error(i(93));j=j[0]}x=j}x==null&&(x=""),g=x}x=Bs(g),h.defaultValue=x,j=h.textContent,j===x&&j!==""&&j!==null&&(h.value=j)}function Ls(h,g){if(g){var x=h.firstChild;if(x&&x===h.lastChild&&x.nodeType===3){x.nodeValue=g;return}}h.textContent=g}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ua(h,g,x){var j=g.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="":j?h.setProperty(g,x):typeof x!="number"||x===0||uc.has(g)?g==="float"?h.cssFloat=x:h[g]=(""+x).trim():h[g]=x+"px"}function ha(h,g,x){if(g!=null&&typeof g!="object")throw Error(i(62));if(h=h.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||g!=null&&g.hasOwnProperty(j)||(j.indexOf("--")===0?h.setProperty(j,""):j==="float"?h.cssFloat="":h[j]="");for(var T in g)j=g[T],g.hasOwnProperty(T)&&x[T]!==j&&ua(h,T,j)}else for(var L in g)g.hasOwnProperty(L)&&ua(h,L,g[L])}function ch(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ed(h){return dh.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var li=null;function as(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ma=null,zi=null;function Dd(h){var g=Ii(h);if(g&&(h=g.stateNode)){var x=h[vr]||null;e:switch(h=g.stateNode,g.type){case"input":if(xs(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),g=x.name,x.type==="radio"&&g!=null){for(x=h;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Nn(""+g)+'"][type="radio"]'),g=0;g<x.length;g++){var j=x[g];if(j!==h&&j.form===h.form){var T=j[vr]||null;if(!T)throw Error(i(90));xs(j,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(g=0;g<x.length;g++)j=x[g],j.form===h.form&&Li(j)}break e;case"textarea":Rr(h,x.value,x.defaultValue);break e;case"select":g=x.value,g!=null&&da(h,!!x.multiple,g,!1)}}}var Fi=!1;function ap(h,g,x){if(Fi)return h(g,x);Fi=!0;try{var j=h(g);return j}finally{if(Fi=!1,(ma!==null||zi!==null)&&(du(),ma&&(g=ma,h=zi,zi=ma=null,Dd(g),h)))for(g=0;g<h.length;g++)Dd(h[g])}}function pa(h,g){var x=h.stateNode;if(x===null)return null;var j=x[vr]||null;if(j===null)return null;x=j[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(h=h.type,j=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!j;break e;default:h=!1}if(h)return null;if(x&&typeof x!="function")throw Error(i(231,g,typeof x));return x}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(ci)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){yo=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{yo=!1}var di=null,Ro=null,fa=null;function hc(){if(fa)return fa;var h,g=Ro,x=g.length,j,T="value"in di?di.value:di.textContent,L=T.length;for(h=0;h<x&&g[h]===T[h];h++);var re=x-h;for(j=1;j<=re&&g[x-j]===T[L-j];j++);return fa=T.slice(h,1<j?1-j:void 0)}function ui(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function ar(){return!0}function uh(){return!1}function Sn(h){function g(x,j,T,L,re){this._reactName=x,this._targetInst=T,this.type=j,this.nativeEvent=L,this.target=re,this.currentTarget=null;for(var ce in h)h.hasOwnProperty(ce)&&(x=h[ce],this[ce]=x?x(L):L[ce]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ar:uh,this.isPropagationStopped=uh,this}return k(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),g}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Sn(wr),ga=k({},wr,{view:0,detail:0}),ba=Sn(ga),mc,hl,Ui,ml=k({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Ui&&(Ui&&h.type==="mousemove"?(mc=h.screenX-Ui.screenX,hl=h.screenY-Ui.screenY):hl=mc=0,Ui=h),mc)},movementY:function(h){return"movementY"in h?h.movementY:hl}}),Po=Sn(ml),Md=k({},ml,{dataTransfer:0}),Cg=Sn(Md),pc=k({},ga,{relatedTarget:0}),Td=Sn(pc),pl=k({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),fl=Sn(pl),lp=k({},wr,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Id=Sn(lp),_g=k({},wr,{data:0}),hh=Sn(_g),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rd(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=mh[h])?!!g[h]:!1}function gl(){return Rd}var ph=k({},ga,{key:function(h){if(h.key){var g=Oo[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=ui(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?cp[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(h){return h.type==="keypress"?ui(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ui(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),fc=Sn(ph),fh=k({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=Sn(fh),Gi=k({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),dp=Sn(Gi),bh=k({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pd=Sn(bh),up=k({},ml,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),gc=Sn(up),vs=k({},wr,{newState:0,oldState:0}),hp=Sn(vs),yh=[9,13,27,32],Bo=ci&&"CompositionEvent"in window,E=null;ci&&"documentMode"in document&&(E=document.documentMode);var H=ci&&"TextEvent"in window&&!E,Z=ci&&(!Bo||E&&8<E&&11>=E),he=" ",je=!1;function Re(h,g){switch(h){case"keyup":return yh.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var nr=!1;function En(h,g){switch(h){case"compositionend":return nt(g);case"keypress":return g.which!==32?null:(je=!0,he);case"textInput":return h=g.data,h===he&&je?null:h;default:return null}}function sr(h,g){if(nr)return h==="compositionend"||!Bo&&Re(h,g)?(h=hc(),fa=Ro=di=null,nr=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Z&&g.locale!=="ko"?null:g.data;default:return null}}var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!Wn[h.type]:g==="textarea"}function ya(h,g,x,j){ma?zi?zi.push(j):zi=[j]:ma=j,g=rm(g,"onChange"),0<g.length&&(x=new Vi("onChange","change",null,x,j),h.push({event:x,listeners:g}))}var ls=null,Hi=null;function hi(h){b0(h,0)}function bl(h){var g=Ri(h);if(Li(g))return h}function ev(h,g){if(h==="change")return g}var tv=!1;if(ci){var Od;if(ci){var xh="oninput"in document;if(!xh){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),xh=typeof rv.oninput=="function"}Od=xh}else Od=!1;tv=Od&&(!document.documentMode||9<document.documentMode)}function nv(){ls&&(ls.detachEvent("onpropertychange",sv),Hi=ls=null)}function sv(h){if(h.propertyName==="value"&&bl(Hi)){var g=[];ya(g,Hi,h,as(h)),ap(hi,g)}}function ov(h,g,x){h==="focusin"?(nv(),ls=g,Hi=x,ls.attachEvent("onpropertychange",sv)):h==="focusout"&&nv()}function iv(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return bl(Hi)}function U1(h,g){if(h==="click")return bl(g)}function av(h,g){if(h==="input"||h==="change")return bl(g)}function G1(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Zs=typeof Object.is=="function"?Object.is:G1;function vh(h,g){if(Zs(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var x=Object.keys(h),j=Object.keys(g);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var T=x[j];if(!et.call(g,T)||!Zs(h[T],g[T]))return!1}return!0}function Ag(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function lv(h,g){var x=Ag(h);h=0;for(var j;x;){if(x.nodeType===3){if(j=h+x.textContent.length,h<=g&&j>=g)return{node:x,offset:g-h};h=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ag(x)}}function jg(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?jg(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function cv(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var g=cl(h.document);g instanceof h.HTMLIFrameElement;){try{var x=typeof g.contentWindow.location.href=="string"}catch{x=!1}if(x)h=g.contentWindow;else break;g=cl(h.document)}return g}function Ng(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}var dv=ci&&"documentMode"in document&&11>=document.documentMode,Bd=null,mp=null,Ld=null,pp=!1;function zr(h,g,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;pp||Bd==null||Bd!==cl(j)||(j=Bd,"selectionStart"in j&&Ng(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Ld&&vh(Ld,j)||(Ld=j,j=rm(mp,"onSelect"),0<j.length&&(g=new Vi("onSelect","select",null,g,x),h.push({event:g,listeners:j}),g.target=Bd)))}function xa(h,g){var x={};return x[h.toLowerCase()]=g.toLowerCase(),x["Webkit"+h]="webkit"+g,x["Moz"+h]="moz"+g,x}var yl={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},va={},Sg={};ci&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function xl(h){if(va[h])return va[h];if(!yl[h])return h;var g=yl[h],x;for(x in g)if(g.hasOwnProperty(x)&&x in Sg)return va[h]=g[x];return h}var uv=xl("animationend"),wa=xl("animationiteration"),wh=xl("animationstart"),hv=xl("transitionrun"),vl=xl("transitionstart"),H1=xl("transitioncancel"),Eg=xl("transitionend"),fp=new Map,It="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");It.push("scrollEnd");function xo(h,g){fp.set(h,g),ai(g,[h])}var kh=new WeakMap;function vo(h,g){if(typeof h=="object"&&h!==null){var x=kh.get(h);return x!==void 0?x:(g={value:h,source:g,stack:jd(g)},kh.set(h,g),g)}return{value:h,source:g,stack:jd(g)}}var kr=[],bc=0,Ar=0;function yc(){for(var h=bc,g=Ar=bc=0;g<h;){var x=kr[g];kr[g++]=null;var j=kr[g];kr[g++]=null;var T=kr[g];kr[g++]=null;var L=kr[g];if(kr[g++]=null,j!==null&&T!==null){var re=j.pending;re===null?T.next=T:(T.next=re.next,re.next=T),j.pending=T}L!==0&&ln(x,T,L)}}function Ch(h,g,x,j){kr[bc++]=h,kr[bc++]=g,kr[bc++]=x,kr[bc++]=j,Ar|=j,h.lanes|=j,h=h.alternate,h!==null&&(h.lanes|=j)}function gp(h,g,x,j){return Ch(h,g,x,j),vc(h)}function xc(h,g){return Ch(h,null,null,g),vc(h)}function ln(h,g,x){h.lanes|=x;var j=h.alternate;j!==null&&(j.lanes|=x);for(var T=!1,L=h.return;L!==null;)L.childLanes|=x,j=L.alternate,j!==null&&(j.childLanes|=x),L.tag===22&&(h=L.stateNode,h===null||h._visibility&1||(T=!0)),h=L,L=L.return;return h.tag===3?(L=h.stateNode,T&&g!==null&&(T=31-ct(x),h=L.hiddenUpdates,j=h[T],j===null?h[T]=[g]:j.push(g),g.lane=x|536870912),L):null}function vc(h){if(50<Lc)throw Lc=0,Zp=null,Error(i(185));for(var g=h.return;g!==null;)h=g,g=h.return;return h.tag===3?h.stateNode:null}var zd={};function Dg(h,g,x,j){this.tag=h,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(h,g,x,j){return new Dg(h,g,x,j)}function bp(h){return h=h.prototype,!(!h||!h.isReactComponent)}function wo(h,g){var x=h.alternate;return x===null?(x=ws(h.tag,g,h.key,h.mode),x.elementType=h.elementType,x.type=h.type,x.stateNode=h.stateNode,x.alternate=h,h.alternate=x):(x.pendingProps=g,x.type=h.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=h.flags&65011712,x.childLanes=h.childLanes,x.lanes=h.lanes,x.child=h.child,x.memoizedProps=h.memoizedProps,x.memoizedState=h.memoizedState,x.updateQueue=h.updateQueue,g=h.dependencies,x.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},x.sibling=h.sibling,x.index=h.index,x.ref=h.ref,x.refCleanup=h.refCleanup,x}function wl(h,g){h.flags&=65011714;var x=h.alternate;return x===null?(h.childLanes=0,h.lanes=g,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,g=x.dependencies,h.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h}function _h(h,g,x,j,T,L){var re=0;if(j=h,typeof h=="function")bp(h)&&(re=1);else if(typeof h=="string")re=gC(h,x,ve.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case Y:return h=ws(31,x,g,T),h.elementType=Y,h.lanes=L,h;case M:return kl(x.children,T,L,g);case R:re=8,T|=24;break;case I:return h=ws(12,x,g,T|2),h.elementType=I,h.lanes=L,h;case $:return h=ws(13,x,g,T),h.elementType=$,h.lanes=L,h;case ne:return h=ws(19,x,g,T),h.elementType=ne,h.lanes=L,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case z:case U:re=10;break e;case V:re=9;break e;case q:re=11;break e;case Q:re=14;break e;case B:re=16,j=null;break e}re=29,x=Error(i(130,h===null?"null":typeof h,"")),j=null}return g=ws(re,x,g,T),g.elementType=h,g.type=j,g.lanes=L,g}function kl(h,g,x,j){return h=ws(7,h,j,g),h.lanes=x,h}function yp(h,g,x){return h=ws(6,h,null,g),h.lanes=x,h}function Ah(h,g,x){return g=ws(4,h.children!==null?h.children:[],h.key,g),g.lanes=x,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}var wc=[],Fd=0,xp=null,jh=0,ko=[],Co=0,Cl=null,mi=1,ka="";function _l(h,g){wc[Fd++]=jh,wc[Fd++]=xp,xp=h,jh=g}function mv(h,g,x){ko[Co++]=mi,ko[Co++]=ka,ko[Co++]=Cl,Cl=h;var j=mi;h=ka;var T=32-ct(j)-1;j&=~(1<<T),x+=1;var L=32-ct(g)+T;if(30<L){var re=T-T%5;L=(j&(1<<re)-1).toString(32),j>>=re,T-=re,mi=1<<32-ct(g)+T|x<<T|j,ka=L+h}else mi=1<<L|x<<T|j,ka=h}function Mg(h){h.return!==null&&(_l(h,1),mv(h,1,0))}function rr(h){for(;h===xp;)xp=wc[--Fd],wc[Fd]=null,jh=wc[--Fd],wc[Fd]=null;for(;h===Cl;)Cl=ko[--Co],ko[Co]=null,ka=ko[--Co],ko[Co]=null,mi=ko[--Co],ko[Co]=null}var zs=null,Fr=null,lr=!1,Al=null,Lo=!1,Dn=Error(i(519));function kc(h){var g=Error(i(418,""));throw ks(vo(g,h)),Dn}function pv(h){var g=h.stateNode,x=h.type,j=h.memoizedProps;switch(g[xr]=h,g[vr]=j,x){case"dialog":Zt("cancel",g),Zt("close",g);break;case"iframe":case"object":case"embed":Zt("load",g);break;case"video":case"audio":for(x=0;x<em.length;x++)Zt(em[x],g);break;case"source":Zt("error",g);break;case"img":case"image":case"link":Zt("error",g),Zt("load",g);break;case"details":Zt("toggle",g);break;case"input":Zt("invalid",g),dc(g,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0),Nd(g);break;case"select":Zt("invalid",g);break;case"textarea":Zt("invalid",g),Io(g,j.value,j.defaultValue,j.children),Nd(g)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||g.textContent===""+x||j.suppressHydrationWarning===!0||w0(g.textContent,x)?(j.popover!=null&&(Zt("beforetoggle",g),Zt("toggle",g)),j.onScroll!=null&&Zt("scroll",g),j.onScrollEnd!=null&&Zt("scrollend",g),j.onClick!=null&&(g.onclick=nm),g=!0):g=!1,g||kc(h)}function Tg(h){for(zs=h.return;zs;)switch(zs.tag){case 5:case 13:Lo=!1;return;case 27:case 3:Lo=!0;return;default:zs=zs.return}}function Nh(h){if(h!==zs)return!1;if(!lr)return Tg(h),lr=!0,!1;var g=h.tag,x;if((x=g!==3&&g!==27)&&((x=g===5)&&(x=h.type,x=!(x!=="form"&&x!=="button")||cf(h.type,h.memoizedProps)),x=!x),x&&Fr&&kc(h),Tg(h),g===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8)if(x=h.data,x==="/$"){if(g===0){Fr=Un(h.nextSibling);break e}g--}else x!=="$"&&x!=="$!"&&x!=="$?"||g++;h=h.nextSibling}Fr=null}}else g===27?(g=Fr,or(h.type)?(h=Yo,Yo=null,Fr=h):Fr=g):Fr=zs?Un(h.stateNode.nextSibling):null;return!0}function Fs(){Fr=zs=null,lr=!1}function gn(){var h=Al;return h!==null&&(Us===null?Us=h:Us.push.apply(Us,h),Al=null),h}function ks(h){Al===null?Al=[h]:Al.push(h)}var zo=ue(null),Cs=null,pi=null;function qi(h,g,x){ye(zo,g._currentValue),g._currentValue=x}function fi(h){h._currentValue=zo.current,me(zo)}function Ig(h,g,x){for(;h!==null;){var j=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,j!==null&&(j.childLanes|=g)):j!==null&&(j.childLanes&g)!==g&&(j.childLanes|=g),h===x)break;h=h.return}}function vp(h,g,x,j){var T=h.child;for(T!==null&&(T.return=h);T!==null;){var L=T.dependencies;if(L!==null){var re=T.child;L=L.firstContext;e:for(;L!==null;){var ce=L;L=T;for(var ge=0;ge<g.length;ge++)if(ce.context===g[ge]){L.lanes|=x,ce=L.alternate,ce!==null&&(ce.lanes|=x),Ig(L.return,x,h),j||(re=null);break e}L=ce.next}}else if(T.tag===18){if(re=T.return,re===null)throw Error(i(341));re.lanes|=x,L=re.alternate,L!==null&&(L.lanes|=x),Ig(re,x,h),re=null}else re=T.child;if(re!==null)re.return=T;else for(re=T;re!==null;){if(re===h){re=null;break}if(T=re.sibling,T!==null){T.return=re.return,re=T;break}re=re.return}T=re}}function Fo(h,g,x,j){h=null;for(var T=g,L=!1;T!==null;){if(!L){if((T.flags&524288)!==0)L=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var re=T.alternate;if(re===null)throw Error(i(387));if(re=re.memoizedProps,re!==null){var ce=T.type;Zs(T.pendingProps.value,re.value)||(h!==null?h.push(ce):h=[ce])}}else if(T===Ye.current){if(re=T.alternate,re===null)throw Error(i(387));re.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(h!==null?h.push(mm):h=[mm])}T=T.return}h!==null&&vp(g,h,x,j),g.flags|=262144}function wp(h){for(h=h.firstContext;h!==null;){if(!Zs(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function at(h){Cs=h,pi=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function cs(h){return Kt(Cs,h)}function kp(h,g){return Cs===null&&at(h),Kt(h,g)}function Kt(h,g){var x=g._currentValue;if(g={context:g,memoizedValue:x,next:null},pi===null){if(h===null)throw Error(i(308));pi=g,h.dependencies={lanes:0,firstContext:g},h.flags|=524288}else pi=pi.next=g;return x}var gi=typeof AbortController<"u"?AbortController:function(){var h=[],g=this.signal={aborted:!1,addEventListener:function(x,j){h.push(j)}};this.abort=function(){g.aborted=!0,h.forEach(function(x){return x()})}},Sh=r.unstable_scheduleCallback,q1=r.unstable_NormalPriority,Mn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new gi,data:new Map,refCount:0}}function Ud(h){h.refCount--,h.refCount===0&&Sh(q1,function(){h.controller.abort()})}var Eh=null,Rg=0,Gd=0,Cc=null;function fv(h,g){if(Eh===null){var x=Eh=[];Rg=0,Gd=Yb(),Cc={status:"pending",value:void 0,then:function(j){x.push(j)}}}return Rg++,g.then(Pg,Pg),g}function Pg(){if(--Rg===0&&Eh!==null){Cc!==null&&(Cc.status="fulfilled");var h=Eh;Eh=null,Gd=0,Cc=null;for(var g=0;g<h.length;g++)(0,h[g])()}}function gv(h,g){var x=[],j={status:"pending",value:null,reason:null,then:function(T){x.push(T)}};return h.then(function(){j.status="fulfilled",j.value=g;for(var T=0;T<x.length;T++)(0,x[T])(g)},function(T){for(j.status="rejected",j.reason=T,T=0;T<x.length;T++)(0,x[T])(void 0)}),j}var Og=ie.S;ie.S=function(h,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&fv(h,g),Og!==null&&Og(h,g)};var jl=ue(null);function Nl(){var h=jl.current;return h!==null?h:Hr.pooledCache}function _c(h,g){g===null?ye(jl,jl.current):ye(jl,g.pool)}function Cp(){var h=Nl();return h===null?null:{parent:Mn._currentValue,pool:h}}var Ac=Error(i(460)),Bg=Error(i(474)),Dh=Error(i(542)),Lg={then:function(){}};function zg(h){return h=h.status,h==="fulfilled"||h==="rejected"}function _p(){}function Fg(h,g,x){switch(x=h[x],x===void 0?h.push(g):x!==g&&(g.then(_p,_p),g=x),g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,bv(h),h;default:if(typeof g.status=="string")g.then(_p,_p);else{if(h=Hr,h!==null&&100<h.shellSuspendCounter)throw Error(i(482));h=g,h.status="pending",h.then(function(j){if(g.status==="pending"){var T=g;T.status="fulfilled",T.value=j}},function(j){if(g.status==="pending"){var T=g;T.status="rejected",T.reason=j}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,bv(h),h}throw Yi=g,Ac}}var Yi=null;function Vg(){if(Yi===null)throw Error(i(459));var h=Yi;return Yi=null,h}function bv(h){if(h===Ac||h===Dh)throw Error(i(483))}var hr=!1;function Ap(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ug(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function bi(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Ca(h,g,x){var j=h.updateQueue;if(j===null)return null;if(j=j.shared,(Mr&2)!==0){var T=j.pending;return T===null?g.next=g:(g.next=T.next,T.next=g),j.pending=g,g=vc(h),ln(h,null,x),g}return Ch(h,j,g,x),vc(h)}function Mh(h,g,x){if(g=g.updateQueue,g!==null&&(g=g.shared,(x&4194048)!==0)){var j=g.lanes;j&=h.pendingLanes,x|=j,g.lanes=x,Rs(h,x)}}function jp(h,g){var x=h.updateQueue,j=h.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var T=null,L=null;if(x=x.firstBaseUpdate,x!==null){do{var re={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};L===null?T=L=re:L=L.next=re,x=x.next}while(x!==null);L===null?T=L=g:L=L.next=g}else T=L=g;x={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:L,shared:j.shared,callbacks:j.callbacks},h.updateQueue=x;return}h=x.lastBaseUpdate,h===null?x.firstBaseUpdate=g:h.next=g,x.lastBaseUpdate=g}var Gg=!1;function Hd(){if(Gg){var h=Cc;if(h!==null)throw h}}function qd(h,g,x,j){Gg=!1;var T=h.updateQueue;hr=!1;var L=T.firstBaseUpdate,re=T.lastBaseUpdate,ce=T.shared.pending;if(ce!==null){T.shared.pending=null;var ge=ce,Ee=ge.next;ge.next=null,re===null?L=Ee:re.next=Ee,re=ge;var Ve=h.alternate;Ve!==null&&(Ve=Ve.updateQueue,ce=Ve.lastBaseUpdate,ce!==re&&(ce===null?Ve.firstBaseUpdate=Ee:ce.next=Ee,Ve.lastBaseUpdate=ge))}if(L!==null){var qe=T.baseState;re=0,Ve=Ee=ge=null,ce=L;do{var De=ce.lane&-536870913,Te=De!==ce.lane;if(Te?(Vt&De)===De:(j&De)===De){De!==0&&De===Gd&&(Gg=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var _t=h,yt=ce;De=g;var Ir=x;switch(yt.tag){case 1:if(_t=yt.payload,typeof _t=="function"){qe=_t.call(Ir,qe,De);break e}qe=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=yt.payload,De=typeof _t=="function"?_t.call(Ir,qe,De):_t,De==null)break e;qe=k({},qe,De);break e;case 2:hr=!0}}De=ce.callback,De!==null&&(h.flags|=64,Te&&(h.flags|=8192),Te=T.callbacks,Te===null?T.callbacks=[De]:Te.push(De))}else Te={lane:De,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Ve===null?(Ee=Ve=Te,ge=qe):Ve=Ve.next=Te,re|=De;if(ce=ce.next,ce===null){if(ce=T.shared.pending,ce===null)break;Te=ce,ce=Te.next,Te.next=null,T.lastBaseUpdate=Te,T.shared.pending=null}}while(!0);Ve===null&&(ge=qe),T.baseState=ge,T.firstBaseUpdate=Ee,T.lastBaseUpdate=Ve,L===null&&(T.shared.lanes=0),us|=re,h.lanes=re,h.memoizedState=qe}}function yv(h,g){if(typeof h!="function")throw Error(i(191,h));h.call(g)}function Np(h,g){var x=h.callbacks;if(x!==null)for(h.callbacks=null,h=0;h<x.length;h++)yv(x[h],g)}var jc=ue(null),Sp=ue(0);function xv(h,g){h=Vn,ye(Sp,h),ye(jc,g),Vn=h|g.baseLanes}function Hg(){ye(Sp,Vn),ye(jc,jc.current)}function qg(){Vn=Sp.current,me(jc),me(Sp)}var _a=0,Ht=null,jr=null,cn=null,Th=!1,Yd=!1,Vo=!1,Wd=0,Kd=0,Qd=null,vv=0;function Ge(){throw Error(i(321))}function Ep(h,g){if(g===null)return!1;for(var x=0;x<g.length&&x<h.length;x++)if(!Zs(h[x],g[x]))return!1;return!0}function Ut(h,g,x,j,T,L){return _a=L,Ht=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ie.H=h===null||h.memoizedState===null?Bv:Lv,Vo=!1,L=x(j,T),Vo=!1,Yd&&(L=Wg(g,x,j,T)),Yg(h),L}function Yg(h){ie.H=Lp;var g=jr!==null&&jr.next!==null;if(_a=0,cn=jr=Ht=null,Th=!1,Kd=0,Qd=null,g)throw Error(i(300));h===null||Qr||(h=h.dependencies,h!==null&&wp(h)&&(Qr=!0))}function Wg(h,g,x,j){Ht=h;var T=0;do{if(Yd&&(Qd=null),Kd=0,Yd=!1,25<=T)throw Error(i(301));if(T+=1,cn=jr=null,h.updateQueue!=null){var L=h.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}ie.H=X1,L=g(x,j)}while(Yd);return L}function wv(){var h=ie.H,g=h.useState()[0];return g=typeof g.then=="function"?Xd(g):g,h=h.useState()[0],(jr!==null?jr.memoizedState:null)!==h&&(Ht.flags|=1024),g}function Dp(){var h=Wd!==0;return Wd=0,h}function Jd(h,g,x){g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~x}function Kg(h){if(Th){for(h=h.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Th=!1}_a=0,cn=jr=Ht=null,Yd=!1,Kd=Wd=0,Qd=null}function Vs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ht.memoizedState=cn=h:cn=cn.next=h,cn}function Tn(){if(jr===null){var h=Ht.alternate;h=h!==null?h.memoizedState:null}else h=jr.next;var g=cn===null?Ht.memoizedState:cn.next;if(g!==null)cn=g,jr=h;else{if(h===null)throw Ht.alternate===null?Error(i(467)):Error(i(310));jr=h,h={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},cn===null?Ht.memoizedState=cn=h:cn=cn.next=h}return cn}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xd(h){var g=Kd;return Kd+=1,Qd===null&&(Qd=[]),h=Fg(Qd,h,g),g=Ht,(cn===null?g.memoizedState:cn.next)===null&&(g=g.alternate,ie.H=g===null||g.memoizedState===null?Bv:Lv),h}function Ih(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Xd(h);if(h.$$typeof===U)return cs(h)}throw Error(i(438,String(h)))}function Qg(h){var g=null,x=Ht.updateQueue;if(x!==null&&(g=x.memoCache),g==null){var j=Ht.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(g={data:j.data.map(function(T){return T.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),x===null&&(x=$d(),Ht.updateQueue=x),x.memoCache=g,x=g.data[g.index],x===void 0)for(x=g.data[g.index]=Array(h),j=0;j<h;j++)x[j]=J;return g.index++,x}function yi(h,g){return typeof g=="function"?g(h):g}function Rh(h){var g=Tn();return Jg(g,jr,h)}function Jg(h,g,x){var j=h.queue;if(j===null)throw Error(i(311));j.lastRenderedReducer=x;var T=h.baseQueue,L=j.pending;if(L!==null){if(T!==null){var re=T.next;T.next=L.next,L.next=re}g.baseQueue=T=L,j.pending=null}if(L=h.baseState,T===null)h.memoizedState=L;else{g=T.next;var ce=re=null,ge=null,Ee=g,Ve=!1;do{var qe=Ee.lane&-536870913;if(qe!==Ee.lane?(Vt&qe)===qe:(_a&qe)===qe){var De=Ee.revertLane;if(De===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),qe===Gd&&(Ve=!0);else if((_a&De)===De){Ee=Ee.next,De===Gd&&(Ve=!0);continue}else qe={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ge===null?(ce=ge=qe,re=L):ge=ge.next=qe,Ht.lanes|=De,us|=De;qe=Ee.action,Vo&&x(L,qe),L=Ee.hasEagerState?Ee.eagerState:x(L,qe)}else De={lane:qe,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ge===null?(ce=ge=De,re=L):ge=ge.next=De,Ht.lanes|=qe,us|=qe;Ee=Ee.next}while(Ee!==null&&Ee!==g);if(ge===null?re=L:ge.next=ce,!Zs(L,h.memoizedState)&&(Qr=!0,Ve&&(x=Cc,x!==null)))throw x;h.memoizedState=L,h.baseState=re,h.baseQueue=ge,j.lastRenderedState=L}return T===null&&(j.lanes=0),[h.memoizedState,j.dispatch]}function Aa(h){var g=Tn(),x=g.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=h;var j=x.dispatch,T=x.pending,L=g.memoizedState;if(T!==null){x.pending=null;var re=T=T.next;do L=h(L,re.action),re=re.next;while(re!==T);Zs(L,g.memoizedState)||(Qr=!0),g.memoizedState=L,g.baseQueue===null&&(g.baseState=L),x.lastRenderedState=L}return[L,j]}function $g(h,g,x){var j=Ht,T=Tn(),L=lr;if(L){if(x===void 0)throw Error(i(407));x=x()}else x=g();var re=!Zs((jr||T).memoizedState,x);re&&(T.memoizedState=x,Qr=!0),T=T.queue;var ce=xi.bind(null,j,T,h);if(Bh(2048,8,ce,[h]),T.getSnapshot!==g||re||cn!==null&&cn.memoizedState.tag&1){if(j.flags|=2048,Nc(9,Tp(),Dr.bind(null,j,T,x,g),null),Hr===null)throw Error(i(349));L||(_a&124)!==0||Sl(j,g,x)}return x}function Sl(h,g,x){h.flags|=16384,h={getSnapshot:g,value:x},g=Ht.updateQueue,g===null?(g=$d(),Ht.updateQueue=g,g.stores=[h]):(x=g.stores,x===null?g.stores=[h]:x.push(h))}function Dr(h,g,x,j){g.value=x,g.getSnapshot=j,Uo(g)&&Xg(h)}function xi(h,g,x){return x(function(){Uo(g)&&Xg(h)})}function Uo(h){var g=h.getSnapshot;h=h.value;try{var x=g();return!Zs(h,x)}catch{return!0}}function Xg(h){var g=xc(h,2);g!==null&&ro(g,h,2)}function Ph(h){var g=Vs();if(typeof h=="function"){var x=h;if(h=x(),Vo){Gr(!0);try{x()}finally{Gr(!1)}}}return g.memoizedState=g.baseState=h,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:h},g}function Oh(h,g,x,j){return h.baseState=x,Jg(h,jr,typeof j=="function"?j:yi)}function Y1(h,g,x,j,T){if(Bp(h))throw Error(i(485));if(h=g.action,h!==null){var L={payload:T,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){L.listeners.push(re)}};ie.T!==null?x(!0):L.isTransition=!1,j(L),x=g.pending,x===null?(L.next=g.pending=L,kv(g,L)):(L.next=x.next,g.pending=x.next=L)}}function kv(h,g){var x=g.action,j=g.payload,T=h.state;if(g.isTransition){var L=ie.T,re={};ie.T=re;try{var ce=x(T,j),ge=ie.S;ge!==null&&ge(re,ce),Cv(h,g,ce)}catch(Ee){Zg(h,g,Ee)}finally{ie.T=L}}else try{L=x(T,j),Cv(h,g,L)}catch(Ee){Zg(h,g,Ee)}}function Cv(h,g,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){Mp(h,g,j)},function(j){return Zg(h,g,j)}):Mp(h,g,x)}function Mp(h,g,x){g.status="fulfilled",g.value=x,_v(g),h.state=x,g=h.pending,g!==null&&(x=g.next,x===g?h.pending=null:(x=x.next,g.next=x,kv(h,x)))}function Zg(h,g,x){var j=h.pending;if(h.pending=null,j!==null){j=j.next;do g.status="rejected",g.reason=x,_v(g),g=g.next;while(g!==j)}h.action=null}function _v(h){h=h.listeners;for(var g=0;g<h.length;g++)(0,h[g])()}function Av(h,g){return g}function jv(h,g){if(lr){var x=Hr.formState;if(x!==null){e:{var j=Ht;if(lr){if(Fr){t:{for(var T=Fr,L=Lo;T.nodeType!==8;){if(!L){T=null;break t}if(T=Un(T.nextSibling),T===null){T=null;break t}}L=T.data,T=L==="F!"||L==="F"?T:null}if(T){Fr=Un(T.nextSibling),j=T.data==="F!";break e}}kc(j)}j=!1}j&&(g=x[0])}}return x=Vs(),x.memoizedState=x.baseState=g,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Av,lastRenderedState:g},x.queue=j,x=$1.bind(null,Ht,j),j.dispatch=x,j=Ph(!1),L=ib.bind(null,Ht,!1,j.queue),j=Vs(),T={state:g,dispatch:null,action:h,pending:null},j.queue=T,x=Y1.bind(null,Ht,T,L,x),T.dispatch=x,j.memoizedState=h,[g,x,!1]}function Nv(h){var g=Tn();return Sv(g,jr,h)}function Sv(h,g,x){if(g=Jg(h,g,Av)[0],h=Rh(yi)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var j=Xd(g)}catch(re){throw re===Ac?Dh:re}else j=g;g=Tn();var T=g.queue,L=T.dispatch;return x!==g.memoizedState&&(Ht.flags|=2048,Nc(9,Tp(),W1.bind(null,T,x),null)),[j,L,h]}function W1(h,g){h.action=g}function eb(h){var g=Tn(),x=jr;if(x!==null)return Sv(g,x,h);Tn(),g=g.memoizedState,x=Tn();var j=x.queue.dispatch;return x.memoizedState=h,[g,j,!1]}function Nc(h,g,x,j){return h={tag:h,create:x,deps:j,inst:g,next:null},g=Ht.updateQueue,g===null&&(g=$d(),Ht.updateQueue=g),x=g.lastEffect,x===null?g.lastEffect=h.next=h:(j=x.next,x.next=h,h.next=j,g.lastEffect=h),h}function Tp(){return{destroy:void 0,resource:void 0}}function Ip(){return Tn().memoizedState}function Zd(h,g,x,j){var T=Vs();j=j===void 0?null:j,Ht.flags|=h,T.memoizedState=Nc(1|g,Tp(),x,j)}function Bh(h,g,x,j){var T=Tn();j=j===void 0?null:j;var L=T.memoizedState.inst;jr!==null&&j!==null&&Ep(j,jr.memoizedState.deps)?T.memoizedState=Nc(g,L,x,j):(Ht.flags|=h,T.memoizedState=Nc(1|g,L,x,j))}function Rp(h,g){Zd(8390656,8,h,g)}function tb(h,g){Bh(2048,8,h,g)}function rb(h,g){return Bh(4,2,h,g)}function Ev(h,g){return Bh(4,4,h,g)}function Dv(h,g){if(typeof g=="function"){h=h();var x=g(h);return function(){typeof x=="function"?x():g(null)}}if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function Mv(h,g,x){x=x!=null?x.concat([h]):null,Bh(4,4,Dv.bind(null,g,h),x)}function eu(){}function Pp(h,g){var x=Tn();g=g===void 0?null:g;var j=x.memoizedState;return g!==null&&Ep(g,j[1])?j[0]:(x.memoizedState=[h,g],h)}function Tv(h,g){var x=Tn();g=g===void 0?null:g;var j=x.memoizedState;if(g!==null&&Ep(g,j[1]))return j[0];if(j=h(),Vo){Gr(!0);try{h()}finally{Gr(!1)}}return x.memoizedState=[j,g],j}function nb(h,g,x){return x===void 0||(_a&1073741824)!==0?h.memoizedState=g:(h.memoizedState=x,h=s0(),Ht.lanes|=h,us|=h,x)}function sb(h,g,x,j){return Zs(x,g)?x:jc.current!==null?(h=nb(h,x,j),Zs(h,g)||(Qr=!0),h):(_a&42)===0?(Qr=!0,h.memoizedState=x):(h=s0(),Ht.lanes|=h,us|=h,g)}function Iv(h,g,x,j,T){var L=ae.p;ae.p=L!==0&&8>L?L:8;var re=ie.T,ce={};ie.T=ce,ib(h,!1,g,x);try{var ge=T(),Ee=ie.S;if(Ee!==null&&Ee(ce,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ve=gv(ge,j);Lh(h,g,Ve,to(h))}else Lh(h,g,j,to(h))}catch(qe){Lh(h,g,{then:function(){},status:"rejected",reason:qe},to())}finally{ae.p=L,ie.T=re}}function K1(){}function ob(h,g,x,j){if(h.tag!==5)throw Error(i(476));var T=El(h).queue;Iv(h,T,g,le,x===null?K1:function(){return Rv(h),x(j)})}function El(h){var g=h.memoizedState;if(g!==null)return g;g={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:le},next:null};var x={};return g.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:x},next:null},h.memoizedState=g,h=h.alternate,h!==null&&(h.memoizedState=g),g}function Rv(h){var g=El(h).next.queue;Lh(h,g,{},to())}function Op(){return cs(mm)}function Pv(){return Tn().memoizedState}function Ov(){return Tn().memoizedState}function Q1(h){for(var g=h.return;g!==null;){switch(g.tag){case 24:case 3:var x=to();h=bi(x);var j=Ca(g,h,x);j!==null&&(ro(j,g,x),Mh(j,g,x)),g={cache:Vd()},h.payload=g;return}g=g.return}}function J1(h,g,x){var j=to();x={lane:j,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Bp(h)?ab(g,x):(x=gp(h,g,x,j),x!==null&&(ro(x,h,j),lb(x,g,j)))}function $1(h,g,x){var j=to();Lh(h,g,x,j)}function Lh(h,g,x,j){var T={lane:j,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Bp(h))ab(g,T);else{var L=h.alternate;if(h.lanes===0&&(L===null||L.lanes===0)&&(L=g.lastRenderedReducer,L!==null))try{var re=g.lastRenderedState,ce=L(re,x);if(T.hasEagerState=!0,T.eagerState=ce,Zs(ce,re))return Ch(h,g,T,0),Hr===null&&yc(),!1}catch{}finally{}if(x=gp(h,g,T,j),x!==null)return ro(x,h,j),lb(x,g,j),!0}return!1}function ib(h,g,x,j){if(j={lane:2,revertLane:Yb(),action:j,hasEagerState:!1,eagerState:null,next:null},Bp(h)){if(g)throw Error(i(479))}else g=gp(h,x,j,2),g!==null&&ro(g,h,2)}function Bp(h){var g=h.alternate;return h===Ht||g!==null&&g===Ht}function ab(h,g){Yd=Th=!0;var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}function lb(h,g,x){if((x&4194048)!==0){var j=g.lanes;j&=h.pendingLanes,x|=j,g.lanes=x,Rs(h,x)}}var Lp={readContext:cs,use:Ih,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Bv={readContext:cs,use:Ih,useCallback:function(h,g){return Vs().memoizedState=[h,g===void 0?null:g],h},useContext:cs,useEffect:Rp,useImperativeHandle:function(h,g,x){x=x!=null?x.concat([h]):null,Zd(4194308,4,Dv.bind(null,g,h),x)},useLayoutEffect:function(h,g){return Zd(4194308,4,h,g)},useInsertionEffect:function(h,g){Zd(4,2,h,g)},useMemo:function(h,g){var x=Vs();g=g===void 0?null:g;var j=h();if(Vo){Gr(!0);try{h()}finally{Gr(!1)}}return x.memoizedState=[j,g],j},useReducer:function(h,g,x){var j=Vs();if(x!==void 0){var T=x(g);if(Vo){Gr(!0);try{x(g)}finally{Gr(!1)}}}else T=g;return j.memoizedState=j.baseState=T,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:T},j.queue=h,h=h.dispatch=J1.bind(null,Ht,h),[j.memoizedState,h]},useRef:function(h){var g=Vs();return h={current:h},g.memoizedState=h},useState:function(h){h=Ph(h);var g=h.queue,x=$1.bind(null,Ht,g);return g.dispatch=x,[h.memoizedState,x]},useDebugValue:eu,useDeferredValue:function(h,g){var x=Vs();return nb(x,h,g)},useTransition:function(){var h=Ph(!1);return h=Iv.bind(null,Ht,h.queue,!0,!1),Vs().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,g,x){var j=Ht,T=Vs();if(lr){if(x===void 0)throw Error(i(407));x=x()}else{if(x=g(),Hr===null)throw Error(i(349));(Vt&124)!==0||Sl(j,g,x)}T.memoizedState=x;var L={value:x,getSnapshot:g};return T.queue=L,Rp(xi.bind(null,j,L,h),[h]),j.flags|=2048,Nc(9,Tp(),Dr.bind(null,j,L,x,g),null),x},useId:function(){var h=Vs(),g=Hr.identifierPrefix;if(lr){var x=ka,j=mi;x=(j&~(1<<32-ct(j)-1)).toString(32)+x,g=""+g+"R"+x,x=Wd++,0<x&&(g+="H"+x.toString(32)),g+=""}else x=vv++,g=""+g+"r"+x.toString(32)+"";return h.memoizedState=g},useHostTransitionStatus:Op,useFormState:jv,useActionState:jv,useOptimistic:function(h){var g=Vs();g.memoizedState=g.baseState=h;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=x,g=ib.bind(null,Ht,!0,x),x.dispatch=g,[h,g]},useMemoCache:Qg,useCacheRefresh:function(){return Vs().memoizedState=Q1.bind(null,Ht)}},Lv={readContext:cs,use:Ih,useCallback:Pp,useContext:cs,useEffect:tb,useImperativeHandle:Mv,useInsertionEffect:rb,useLayoutEffect:Ev,useMemo:Tv,useReducer:Rh,useRef:Ip,useState:function(){return Rh(yi)},useDebugValue:eu,useDeferredValue:function(h,g){var x=Tn();return sb(x,jr.memoizedState,h,g)},useTransition:function(){var h=Rh(yi)[0],g=Tn().memoizedState;return[typeof h=="boolean"?h:Xd(h),g]},useSyncExternalStore:$g,useId:Pv,useHostTransitionStatus:Op,useFormState:Nv,useActionState:Nv,useOptimistic:function(h,g){var x=Tn();return Oh(x,jr,h,g)},useMemoCache:Qg,useCacheRefresh:Ov},X1={readContext:cs,use:Ih,useCallback:Pp,useContext:cs,useEffect:tb,useImperativeHandle:Mv,useInsertionEffect:rb,useLayoutEffect:Ev,useMemo:Tv,useReducer:Aa,useRef:Ip,useState:function(){return Aa(yi)},useDebugValue:eu,useDeferredValue:function(h,g){var x=Tn();return jr===null?nb(x,h,g):sb(x,jr.memoizedState,h,g)},useTransition:function(){var h=Aa(yi)[0],g=Tn().memoizedState;return[typeof h=="boolean"?h:Xd(h),g]},useSyncExternalStore:$g,useId:Pv,useHostTransitionStatus:Op,useFormState:eb,useActionState:eb,useOptimistic:function(h,g){var x=Tn();return jr!==null?Oh(x,jr,h,g):(x.baseState=h,[h,x.queue.dispatch])},useMemoCache:Qg,useCacheRefresh:Ov},Dl=null,Sc=0;function _s(h){var g=Sc;return Sc+=1,Dl===null&&(Dl=[]),Fg(Dl,h,g)}function tu(h,g){g=g.props.ref,h.ref=g!==void 0?g:null}function Ml(h,g){throw g.$$typeof===C?Error(i(525)):(h=Object.prototype.toString.call(g),Error(i(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h)))}function cb(h){var g=h._init;return g(h._payload)}function zh(h){function g(Ce,we){if(h){var Ne=Ce.deletions;Ne===null?(Ce.deletions=[we],Ce.flags|=16):Ne.push(we)}}function x(Ce,we){if(!h)return null;for(;we!==null;)g(Ce,we),we=we.sibling;return null}function j(Ce){for(var we=new Map;Ce!==null;)Ce.key!==null?we.set(Ce.key,Ce):we.set(Ce.index,Ce),Ce=Ce.sibling;return we}function T(Ce,we){return Ce=wo(Ce,we),Ce.index=0,Ce.sibling=null,Ce}function L(Ce,we,Ne){return Ce.index=Ne,h?(Ne=Ce.alternate,Ne!==null?(Ne=Ne.index,Ne<we?(Ce.flags|=67108866,we):Ne):(Ce.flags|=67108866,we)):(Ce.flags|=1048576,we)}function re(Ce){return h&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ce(Ce,we,Ne,Ue){return we===null||we.tag!==6?(we=yp(Ne,Ce.mode,Ue),we.return=Ce,we):(we=T(we,Ne),we.return=Ce,we)}function ge(Ce,we,Ne,Ue){var ut=Ne.type;return ut===M?Ve(Ce,we,Ne.props.children,Ue,Ne.key):we!==null&&(we.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&cb(ut)===we.type)?(we=T(we,Ne.props),tu(we,Ne),we.return=Ce,we):(we=_h(Ne.type,Ne.key,Ne.props,null,Ce.mode,Ue),tu(we,Ne),we.return=Ce,we)}function Ee(Ce,we,Ne,Ue){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ne.containerInfo||we.stateNode.implementation!==Ne.implementation?(we=Ah(Ne,Ce.mode,Ue),we.return=Ce,we):(we=T(we,Ne.children||[]),we.return=Ce,we)}function Ve(Ce,we,Ne,Ue,ut){return we===null||we.tag!==7?(we=kl(Ne,Ce.mode,Ue,ut),we.return=Ce,we):(we=T(we,Ne),we.return=Ce,we)}function qe(Ce,we,Ne){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=yp(""+we,Ce.mode,Ne),we.return=Ce,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return Ne=_h(we.type,we.key,we.props,null,Ce.mode,Ne),tu(Ne,we),Ne.return=Ce,Ne;case S:return we=Ah(we,Ce.mode,Ne),we.return=Ce,we;case B:var Ue=we._init;return we=Ue(we._payload),qe(Ce,we,Ne)}if(xe(we)||ee(we))return we=kl(we,Ce.mode,Ne,null),we.return=Ce,we;if(typeof we.then=="function")return qe(Ce,_s(we),Ne);if(we.$$typeof===U)return qe(Ce,kp(Ce,we),Ne);Ml(Ce,we)}return null}function De(Ce,we,Ne,Ue){var ut=we!==null?we.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ut!==null?null:ce(Ce,we,""+Ne,Ue);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case _:return Ne.key===ut?ge(Ce,we,Ne,Ue):null;case S:return Ne.key===ut?Ee(Ce,we,Ne,Ue):null;case B:return ut=Ne._init,Ne=ut(Ne._payload),De(Ce,we,Ne,Ue)}if(xe(Ne)||ee(Ne))return ut!==null?null:Ve(Ce,we,Ne,Ue,null);if(typeof Ne.then=="function")return De(Ce,we,_s(Ne),Ue);if(Ne.$$typeof===U)return De(Ce,we,kp(Ce,Ne),Ue);Ml(Ce,Ne)}return null}function Te(Ce,we,Ne,Ue,ut){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ce=Ce.get(Ne)||null,ce(we,Ce,""+Ue,ut);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case _:return Ce=Ce.get(Ue.key===null?Ne:Ue.key)||null,ge(we,Ce,Ue,ut);case S:return Ce=Ce.get(Ue.key===null?Ne:Ue.key)||null,Ee(we,Ce,Ue,ut);case B:var Qt=Ue._init;return Ue=Qt(Ue._payload),Te(Ce,we,Ne,Ue,ut)}if(xe(Ue)||ee(Ue))return Ce=Ce.get(Ne)||null,Ve(we,Ce,Ue,ut,null);if(typeof Ue.then=="function")return Te(Ce,we,Ne,_s(Ue),ut);if(Ue.$$typeof===U)return Te(Ce,we,Ne,kp(we,Ue),ut);Ml(we,Ue)}return null}function _t(Ce,we,Ne,Ue){for(var ut=null,Qt=null,mt=we,ft=we=0,Gn=null;mt!==null&&ft<Ne.length;ft++){mt.index>ft?(Gn=mt,mt=null):Gn=mt.sibling;var mr=De(Ce,mt,Ne[ft],Ue);if(mr===null){mt===null&&(mt=Gn);break}h&&mt&&mr.alternate===null&&g(Ce,mt),we=L(mr,we,ft),Qt===null?ut=mr:Qt.sibling=mr,Qt=mr,mt=Gn}if(ft===Ne.length)return x(Ce,mt),lr&&_l(Ce,ft),ut;if(mt===null){for(;ft<Ne.length;ft++)mt=qe(Ce,Ne[ft],Ue),mt!==null&&(we=L(mt,we,ft),Qt===null?ut=mt:Qt.sibling=mt,Qt=mt);return lr&&_l(Ce,ft),ut}for(mt=j(mt);ft<Ne.length;ft++)Gn=Te(mt,Ce,ft,Ne[ft],Ue),Gn!==null&&(h&&Gn.alternate!==null&&mt.delete(Gn.key===null?ft:Gn.key),we=L(Gn,we,ft),Qt===null?ut=Gn:Qt.sibling=Gn,Qt=Gn);return h&&mt.forEach(function(Ha){return g(Ce,Ha)}),lr&&_l(Ce,ft),ut}function yt(Ce,we,Ne,Ue){if(Ne==null)throw Error(i(151));for(var ut=null,Qt=null,mt=we,ft=we=0,Gn=null,mr=Ne.next();mt!==null&&!mr.done;ft++,mr=Ne.next()){mt.index>ft?(Gn=mt,mt=null):Gn=mt.sibling;var Ha=De(Ce,mt,mr.value,Ue);if(Ha===null){mt===null&&(mt=Gn);break}h&&mt&&Ha.alternate===null&&g(Ce,mt),we=L(Ha,we,ft),Qt===null?ut=Ha:Qt.sibling=Ha,Qt=Ha,mt=Gn}if(mr.done)return x(Ce,mt),lr&&_l(Ce,ft),ut;if(mt===null){for(;!mr.done;ft++,mr=Ne.next())mr=qe(Ce,mr.value,Ue),mr!==null&&(we=L(mr,we,ft),Qt===null?ut=mr:Qt.sibling=mr,Qt=mr);return lr&&_l(Ce,ft),ut}for(mt=j(mt);!mr.done;ft++,mr=Ne.next())mr=Te(mt,Ce,ft,mr.value,Ue),mr!==null&&(h&&mr.alternate!==null&&mt.delete(mr.key===null?ft:mr.key),we=L(mr,we,ft),Qt===null?ut=mr:Qt.sibling=mr,Qt=mr);return h&&mt.forEach(function(q0){return g(Ce,q0)}),lr&&_l(Ce,ft),ut}function Ir(Ce,we,Ne,Ue){if(typeof Ne=="object"&&Ne!==null&&Ne.type===M&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case _:e:{for(var ut=Ne.key;we!==null;){if(we.key===ut){if(ut=Ne.type,ut===M){if(we.tag===7){x(Ce,we.sibling),Ue=T(we,Ne.props.children),Ue.return=Ce,Ce=Ue;break e}}else if(we.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&cb(ut)===we.type){x(Ce,we.sibling),Ue=T(we,Ne.props),tu(Ue,Ne),Ue.return=Ce,Ce=Ue;break e}x(Ce,we);break}else g(Ce,we);we=we.sibling}Ne.type===M?(Ue=kl(Ne.props.children,Ce.mode,Ue,Ne.key),Ue.return=Ce,Ce=Ue):(Ue=_h(Ne.type,Ne.key,Ne.props,null,Ce.mode,Ue),tu(Ue,Ne),Ue.return=Ce,Ce=Ue)}return re(Ce);case S:e:{for(ut=Ne.key;we!==null;){if(we.key===ut)if(we.tag===4&&we.stateNode.containerInfo===Ne.containerInfo&&we.stateNode.implementation===Ne.implementation){x(Ce,we.sibling),Ue=T(we,Ne.children||[]),Ue.return=Ce,Ce=Ue;break e}else{x(Ce,we);break}else g(Ce,we);we=we.sibling}Ue=Ah(Ne,Ce.mode,Ue),Ue.return=Ce,Ce=Ue}return re(Ce);case B:return ut=Ne._init,Ne=ut(Ne._payload),Ir(Ce,we,Ne,Ue)}if(xe(Ne))return _t(Ce,we,Ne,Ue);if(ee(Ne)){if(ut=ee(Ne),typeof ut!="function")throw Error(i(150));return Ne=ut.call(Ne),yt(Ce,we,Ne,Ue)}if(typeof Ne.then=="function")return Ir(Ce,we,_s(Ne),Ue);if(Ne.$$typeof===U)return Ir(Ce,we,kp(Ce,Ne),Ue);Ml(Ce,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,we!==null&&we.tag===6?(x(Ce,we.sibling),Ue=T(we,Ne),Ue.return=Ce,Ce=Ue):(x(Ce,we),Ue=yp(Ne,Ce.mode,Ue),Ue.return=Ce,Ce=Ue),re(Ce)):x(Ce,we)}return function(Ce,we,Ne,Ue){try{Sc=0;var ut=Ir(Ce,we,Ne,Ue);return Dl=null,ut}catch(mt){if(mt===Ac||mt===Dh)throw mt;var Qt=ws(29,mt,null,Ce.mode);return Qt.lanes=Ue,Qt.return=Ce,Qt}finally{}}}var Ec=zh(!0),db=zh(!1),Kn=ue(null),Xe=null;function pt(h){var g=h.alternate;ye(Kr,Kr.current&1),ye(Kn,h),Xe===null&&(g===null||jc.current!==null||g.memoizedState!==null)&&(Xe=h)}function Fh(h){if(h.tag===22){if(ye(Kr,Kr.current),ye(Kn,h),Xe===null){var g=h.alternate;g!==null&&g.memoizedState!==null&&(Xe=h)}}else ds()}function ds(){ye(Kr,Kr.current),ye(Kn,Kn.current)}function vi(h){me(Kn),Xe===h&&(Xe=null),me(Kr)}var Kr=ue(0);function ru(h){for(var g=h;g!==null;){if(g.tag===13){var x=g.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||xn(x)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Vh(h,g,x,j){g=h.memoizedState,x=x(j,g),x=x==null?g:k({},g,x),h.memoizedState=x,h.lanes===0&&(h.updateQueue.baseState=x)}var Dc={enqueueSetState:function(h,g,x){h=h._reactInternals;var j=to(),T=bi(j);T.payload=g,x!=null&&(T.callback=x),g=Ca(h,T,j),g!==null&&(ro(g,h,j),Mh(g,h,j))},enqueueReplaceState:function(h,g,x){h=h._reactInternals;var j=to(),T=bi(j);T.tag=1,T.payload=g,x!=null&&(T.callback=x),g=Ca(h,T,j),g!==null&&(ro(g,h,j),Mh(g,h,j))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var x=to(),j=bi(x);j.tag=2,g!=null&&(j.callback=g),g=Ca(h,j,x),g!==null&&(ro(g,h,x),Mh(g,h,x))}};function Mc(h,g,x,j,T,L,re){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(j,L,re):g.prototype&&g.prototype.isPureReactComponent?!vh(x,j)||!vh(T,L):!0}function ub(h,g,x,j){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(x,j),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(x,j),g.state!==h&&Dc.enqueueReplaceState(g,g.state,null)}function ja(h,g){var x=g;if("ref"in g){x={};for(var j in g)j!=="ref"&&(x[j]=g[j])}if(h=h.defaultProps){x===g&&(x=k({},x));for(var T in h)x[T]===void 0&&(x[T]=h[T])}return x}var Tc=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function Tl(h){Tc(h)}function zv(h){console.error(h)}function zp(h){Tc(h)}function nu(h,g){try{var x=h.onUncaughtError;x(g.value,{componentStack:g.stack})}catch(j){setTimeout(function(){throw j})}}function Fv(h,g,x){try{var j=h.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function su(h,g,x){return x=bi(x),x.tag=3,x.payload={element:null},x.callback=function(){nu(h,g)},x}function Vv(h){return h=bi(h),h.tag=3,h}function Uv(h,g,x,j){var T=x.type.getDerivedStateFromError;if(typeof T=="function"){var L=j.value;h.payload=function(){return T(L)},h.callback=function(){Fv(g,x,j)}}var re=x.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(h.callback=function(){Fv(g,x,j),typeof T!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var ce=j.stack;this.componentDidCatch(j.value,{componentStack:ce!==null?ce:""})})}function hb(h,g,x,j,T){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(g=x.alternate,g!==null&&Fo(g,x,T,!0),x=Kn.current,x!==null){switch(x.tag){case 13:return Xe===null?hu():x.alternate===null&&vt===0&&(vt=3),x.flags&=-257,x.flags|=65536,x.lanes=T,j===Lg?x.flags|=16384:(g=x.updateQueue,g===null?x.updateQueue=new Set([j]):g.add(j),tf(h,j,T)),!1;case 22:return x.flags|=65536,j===Lg?x.flags|=16384:(g=x.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=g):(x=g.retryQueue,x===null?g.retryQueue=new Set([j]):x.add(j)),tf(h,j,T)),!1}throw Error(i(435,x.tag))}return tf(h,j,T),hu(),!1}if(lr)return g=Kn.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=T,j!==Dn&&(h=Error(i(422),{cause:j}),ks(vo(h,x)))):(j!==Dn&&(g=Error(i(423),{cause:j}),ks(vo(g,x))),h=h.current.alternate,h.flags|=65536,T&=-T,h.lanes|=T,j=vo(j,x),T=su(h.stateNode,j,T),jp(h,T),vt!==4&&(vt=2)),!1;var L=Error(i(520),{cause:j});if(L=vo(L,x),lu===null?lu=[L]:lu.push(L),vt!==4&&(vt=2),g===null)return!0;j=vo(j,x),x=g;do{switch(x.tag){case 3:return x.flags|=65536,h=T&-T,x.lanes|=h,h=su(x.stateNode,j,h),jp(x,h),!1;case 1:if(g=x.type,L=x.stateNode,(x.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Ci===null||!Ci.has(L))))return x.flags|=65536,T&=-T,x.lanes|=T,T=Vv(T),Uv(T,h,x,j),jp(x,T),!1}x=x.return}while(x!==null);return!1}var Gv=Error(i(461)),Qr=!1;function Qn(h,g,x,j){g.child=h===null?db(g,null,x,j):Ec(g,h.child,x,j)}function Fp(h,g,x,j,T){x=x.render;var L=g.ref;if("ref"in j){var re={};for(var ce in j)ce!=="ref"&&(re[ce]=j[ce])}else re=j;return at(g),j=Ut(h,g,x,re,L,T),ce=Dp(),h!==null&&!Qr?(Jd(h,g,T),Na(h,g,T)):(lr&&ce&&Mg(g),g.flags|=1,Qn(h,g,j,T),g.child)}function Hv(h,g,x,j,T){if(h===null){var L=x.type;return typeof L=="function"&&!bp(L)&&L.defaultProps===void 0&&x.compare===null?(g.tag=15,g.type=L,mb(h,g,L,j,T)):(h=_h(x.type,null,j,g,g.mode,T),h.ref=g.ref,h.return=g,g.child=h)}if(L=h.child,!xb(h,T)){var re=L.memoizedProps;if(x=x.compare,x=x!==null?x:vh,x(re,j)&&h.ref===g.ref)return Na(h,g,T)}return g.flags|=1,h=wo(L,j),h.ref=g.ref,h.return=g,g.child=h}function mb(h,g,x,j,T){if(h!==null){var L=h.memoizedProps;if(vh(L,j)&&h.ref===g.ref)if(Qr=!1,g.pendingProps=j=L,xb(h,T))(h.flags&131072)!==0&&(Qr=!0);else return g.lanes=h.lanes,Na(h,g,T)}return Gp(h,g,x,j,T)}function Vp(h,g,x){var j=g.pendingProps,T=j.children,L=h!==null?h.memoizedState:null;if(j.mode==="hidden"){if((g.flags&128)!==0){if(j=L!==null?L.baseLanes|x:x,h!==null){for(T=g.child=h.child,L=0;T!==null;)L=L|T.lanes|T.childLanes,T=T.sibling;g.childLanes=L&~j}else g.childLanes=0,g.child=null;return pb(h,g,j,x)}if((x&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},h!==null&&_c(g,L!==null?L.cachePool:null),L!==null?xv(g,L):Hg(),Fh(g);else return g.lanes=g.childLanes=536870912,pb(h,g,L!==null?L.baseLanes|x:x,x)}else L!==null?(_c(g,L.cachePool),xv(g,L),ds(),g.memoizedState=null):(h!==null&&_c(g,null),Hg(),ds());return Qn(h,g,T,x),g.child}function pb(h,g,x,j){var T=Nl();return T=T===null?null:{parent:Mn._currentValue,pool:T},g.memoizedState={baseLanes:x,cachePool:T},h!==null&&_c(g,null),Hg(),Fh(g),h!==null&&Fo(h,g,j,!0),null}function Up(h,g){var x=g.ref;if(x===null)h!==null&&h.ref!==null&&(g.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(i(284));(h===null||h.ref!==x)&&(g.flags|=4194816)}}function Gp(h,g,x,j,T){return at(g),x=Ut(h,g,x,j,void 0,T),j=Dp(),h!==null&&!Qr?(Jd(h,g,T),Na(h,g,T)):(lr&&j&&Mg(g),g.flags|=1,Qn(h,g,x,T),g.child)}function Hp(h,g,x,j,T,L){return at(g),g.updateQueue=null,x=Wg(g,j,x,T),Yg(h),j=Dp(),h!==null&&!Qr?(Jd(h,g,L),Na(h,g,L)):(lr&&j&&Mg(g),g.flags|=1,Qn(h,g,x,L),g.child)}function ou(h,g,x,j,T){if(at(g),g.stateNode===null){var L=zd,re=x.contextType;typeof re=="object"&&re!==null&&(L=cs(re)),L=new x(j,L),g.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Dc,g.stateNode=L,L._reactInternals=g,L=g.stateNode,L.props=j,L.state=g.memoizedState,L.refs={},Ap(g),re=x.contextType,L.context=typeof re=="object"&&re!==null?cs(re):zd,L.state=g.memoizedState,re=x.getDerivedStateFromProps,typeof re=="function"&&(Vh(g,x,re,j),L.state=g.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(re=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),re!==L.state&&Dc.enqueueReplaceState(L,L.state,null),qd(g,j,L,T),Hd(),L.state=g.memoizedState),typeof L.componentDidMount=="function"&&(g.flags|=4194308),j=!0}else if(h===null){L=g.stateNode;var ce=g.memoizedProps,ge=ja(x,ce);L.props=ge;var Ee=L.context,Ve=x.contextType;re=zd,typeof Ve=="object"&&Ve!==null&&(re=cs(Ve));var qe=x.getDerivedStateFromProps;Ve=typeof qe=="function"||typeof L.getSnapshotBeforeUpdate=="function",ce=g.pendingProps!==ce,Ve||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ce||Ee!==re)&&ub(g,L,j,re),hr=!1;var De=g.memoizedState;L.state=De,qd(g,j,L,T),Hd(),Ee=g.memoizedState,ce||De!==Ee||hr?(typeof qe=="function"&&(Vh(g,x,qe,j),Ee=g.memoizedState),(ge=hr||Mc(g,x,ge,j,De,Ee,re))?(Ve||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(g.flags|=4194308)):(typeof L.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=j,g.memoizedState=Ee),L.props=j,L.state=Ee,L.context=re,j=ge):(typeof L.componentDidMount=="function"&&(g.flags|=4194308),j=!1)}else{L=g.stateNode,Ug(h,g),re=g.memoizedProps,Ve=ja(x,re),L.props=Ve,qe=g.pendingProps,De=L.context,Ee=x.contextType,ge=zd,typeof Ee=="object"&&Ee!==null&&(ge=cs(Ee)),ce=x.getDerivedStateFromProps,(Ee=typeof ce=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re!==qe||De!==ge)&&ub(g,L,j,ge),hr=!1,De=g.memoizedState,L.state=De,qd(g,j,L,T),Hd();var Te=g.memoizedState;re!==qe||De!==Te||hr||h!==null&&h.dependencies!==null&&wp(h.dependencies)?(typeof ce=="function"&&(Vh(g,x,ce,j),Te=g.memoizedState),(Ve=hr||Mc(g,x,Ve,j,De,Te,ge)||h!==null&&h.dependencies!==null&&wp(h.dependencies))?(Ee||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(j,Te,ge),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(j,Te,ge)),typeof L.componentDidUpdate=="function"&&(g.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof L.componentDidUpdate!="function"||re===h.memoizedProps&&De===h.memoizedState||(g.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===h.memoizedProps&&De===h.memoizedState||(g.flags|=1024),g.memoizedProps=j,g.memoizedState=Te),L.props=j,L.state=Te,L.context=ge,j=Ve):(typeof L.componentDidUpdate!="function"||re===h.memoizedProps&&De===h.memoizedState||(g.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===h.memoizedProps&&De===h.memoizedState||(g.flags|=1024),j=!1)}return L=j,Up(h,g),j=(g.flags&128)!==0,L||j?(L=g.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:L.render(),g.flags|=1,h!==null&&j?(g.child=Ec(g,h.child,null,T),g.child=Ec(g,null,x,T)):Qn(h,g,x,T),g.memoizedState=L.state,h=g.child):h=Na(h,g,T),h}function fb(h,g,x,j){return Fs(),g.flags|=256,Qn(h,g,x,j),g.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(h){return{baseLanes:h,cachePool:Cp()}}function Wp(h,g,x){return h=h!==null?h.childLanes&~x:0,g&&(h|=js),h}function Go(h,g,x){var j=g.pendingProps,T=!1,L=(g.flags&128)!==0,re;if((re=L)||(re=h!==null&&h.memoizedState===null?!1:(Kr.current&2)!==0),re&&(T=!0,g.flags&=-129),re=(g.flags&32)!==0,g.flags&=-33,h===null){if(lr){if(T?pt(g):ds(),lr){var ce=Fr,ge;if(ge=ce){e:{for(ge=ce,ce=Lo;ge.nodeType!==8;){if(!ce){ce=null;break e}if(ge=Un(ge.nextSibling),ge===null){ce=null;break e}}ce=ge}ce!==null?(g.memoizedState={dehydrated:ce,treeContext:Cl!==null?{id:mi,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},ge=ws(18,null,null,0),ge.stateNode=ce,ge.return=g,g.child=ge,zs=g,Fr=null,ge=!0):ge=!1}ge||kc(g)}if(ce=g.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return xn(ce)?g.lanes=32:g.lanes=536870912,null;vi(g)}return ce=j.children,j=j.fallback,T?(ds(),T=g.mode,ce=As({mode:"hidden",children:ce},T),j=kl(j,T,x,null),ce.return=g,j.return=g,ce.sibling=j,g.child=ce,T=g.child,T.memoizedState=Yp(x),T.childLanes=Wp(h,re,x),g.memoizedState=qp,j):(pt(g),Ic(g,ce))}if(ge=h.memoizedState,ge!==null&&(ce=ge.dehydrated,ce!==null)){if(L)g.flags&256?(pt(g),g.flags&=-257,g=Rc(h,g,x)):g.memoizedState!==null?(ds(),g.child=h.child,g.flags|=128,g=null):(ds(),T=j.fallback,ce=g.mode,j=As({mode:"visible",children:j.children},ce),T=kl(T,ce,x,null),T.flags|=2,j.return=g,T.return=g,j.sibling=T,g.child=j,Ec(g,h.child,null,x),j=g.child,j.memoizedState=Yp(x),j.childLanes=Wp(h,re,x),g.memoizedState=qp,g=T);else if(pt(g),xn(ce)){if(re=ce.nextSibling&&ce.nextSibling.dataset,re)var Ee=re.dgst;re=Ee,j=Error(i(419)),j.stack="",j.digest=re,ks({value:j,source:null,stack:null}),g=Rc(h,g,x)}else if(Qr||Fo(h,g,x,!1),re=(x&h.childLanes)!==0,Qr||re){if(re=Hr,re!==null&&(j=x&-x,j=(j&42)!==0?1:pn(j),j=(j&(re.suspendedLanes|x))!==0?0:j,j!==0&&j!==ge.retryLane))throw ge.retryLane=j,xc(h,j),ro(re,h,j),Gv;ce.data==="$?"||hu(),g=Rc(h,g,x)}else ce.data==="$?"?(g.flags|=192,g.child=h.child,g=null):(h=ge.treeContext,Fr=Un(ce.nextSibling),zs=g,lr=!0,Al=null,Lo=!1,h!==null&&(ko[Co++]=mi,ko[Co++]=ka,ko[Co++]=Cl,mi=h.id,ka=h.overflow,Cl=g),g=Ic(g,j.children),g.flags|=4096);return g}return T?(ds(),T=j.fallback,ce=g.mode,ge=h.child,Ee=ge.sibling,j=wo(ge,{mode:"hidden",children:j.children}),j.subtreeFlags=ge.subtreeFlags&65011712,Ee!==null?T=wo(Ee,T):(T=kl(T,ce,x,null),T.flags|=2),T.return=g,j.return=g,j.sibling=T,g.child=j,j=T,T=g.child,ce=h.child.memoizedState,ce===null?ce=Yp(x):(ge=ce.cachePool,ge!==null?(Ee=Mn._currentValue,ge=ge.parent!==Ee?{parent:Ee,pool:Ee}:ge):ge=Cp(),ce={baseLanes:ce.baseLanes|x,cachePool:ge}),T.memoizedState=ce,T.childLanes=Wp(h,re,x),g.memoizedState=qp,j):(pt(g),x=h.child,h=x.sibling,x=wo(x,{mode:"visible",children:j.children}),x.return=g,x.sibling=null,h!==null&&(re=g.deletions,re===null?(g.deletions=[h],g.flags|=16):re.push(h)),g.child=x,g.memoizedState=null,x)}function Ic(h,g){return g=As({mode:"visible",children:g},h.mode),g.return=h,h.child=g}function As(h,g){return h=ws(22,h,null,g),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function Rc(h,g,x){return Ec(g,h.child,null,x),h=Ic(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function gb(h,g,x){h.lanes|=g;var j=h.alternate;j!==null&&(j.lanes|=g),Ig(h.return,g,x)}function bb(h,g,x,j,T){var L=h.memoizedState;L===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:T}:(L.isBackwards=g,L.rendering=null,L.renderingStartTime=0,L.last=j,L.tail=x,L.tailMode=T)}function yb(h,g,x){var j=g.pendingProps,T=j.revealOrder,L=j.tail;if(Qn(h,g,j.children,x),j=Kr.current,(j&2)!==0)j=j&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&gb(h,x,g);else if(h.tag===19)gb(h,x,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}j&=1}switch(ye(Kr,j),T){case"forwards":for(x=g.child,T=null;x!==null;)h=x.alternate,h!==null&&ru(h)===null&&(T=x),x=x.sibling;x=T,x===null?(T=g.child,g.child=null):(T=x.sibling,x.sibling=null),bb(g,!1,T,x,L);break;case"backwards":for(x=null,T=g.child,g.child=null;T!==null;){if(h=T.alternate,h!==null&&ru(h)===null){g.child=T;break}h=T.sibling,T.sibling=x,x=T,T=h}bb(g,!0,x,null,L);break;case"together":bb(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Na(h,g,x){if(h!==null&&(g.dependencies=h.dependencies),us|=g.lanes,(x&g.childLanes)===0)if(h!==null){if(Fo(h,g,x,!1),(x&g.childLanes)===0)return null}else return null;if(h!==null&&g.child!==h.child)throw Error(i(153));if(g.child!==null){for(h=g.child,x=wo(h,h.pendingProps),g.child=x,x.return=g;h.sibling!==null;)h=h.sibling,x=x.sibling=wo(h,h.pendingProps),x.return=g;x.sibling=null}return g.child}function xb(h,g){return(h.lanes&g)!==0?!0:(h=h.dependencies,!!(h!==null&&wp(h)))}function qv(h,g,x){switch(g.tag){case 3:ze(g,g.stateNode.containerInfo),qi(g,Mn,h.memoizedState.cache),Fs();break;case 27:case 5:Be(g);break;case 4:ze(g,g.stateNode.containerInfo);break;case 10:qi(g,g.type,g.memoizedProps.value);break;case 13:var j=g.memoizedState;if(j!==null)return j.dehydrated!==null?(pt(g),g.flags|=128,null):(x&g.child.childLanes)!==0?Go(h,g,x):(pt(g),h=Na(h,g,x),h!==null?h.sibling:null);pt(g);break;case 19:var T=(h.flags&128)!==0;if(j=(x&g.childLanes)!==0,j||(Fo(h,g,x,!1),j=(x&g.childLanes)!==0),T){if(j)return yb(h,g,x);g.flags|=128}if(T=g.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ye(Kr,Kr.current),j)break;return null;case 22:case 23:return g.lanes=0,Vp(h,g,x);case 24:qi(g,Mn,h.memoizedState.cache)}return Na(h,g,x)}function Yv(h,g,x){if(h!==null)if(h.memoizedProps!==g.pendingProps)Qr=!0;else{if(!xb(h,x)&&(g.flags&128)===0)return Qr=!1,qv(h,g,x);Qr=(h.flags&131072)!==0}else Qr=!1,lr&&(g.flags&1048576)!==0&&mv(g,jh,g.index);switch(g.lanes=0,g.tag){case 16:e:{h=g.pendingProps;var j=g.elementType,T=j._init;if(j=T(j._payload),g.type=j,typeof j=="function")bp(j)?(h=ja(j,h),g.tag=1,g=ou(null,g,j,h,x)):(g.tag=0,g=Gp(null,g,j,h,x));else{if(j!=null){if(T=j.$$typeof,T===q){g.tag=11,g=Fp(null,g,j,h,x);break e}else if(T===Q){g.tag=14,g=Hv(null,g,j,h,x);break e}}throw g=be(j)||j,Error(i(306,g,""))}}return g;case 0:return Gp(h,g,g.type,g.pendingProps,x);case 1:return j=g.type,T=ja(j,g.pendingProps),ou(h,g,j,T,x);case 3:e:{if(ze(g,g.stateNode.containerInfo),h===null)throw Error(i(387));j=g.pendingProps;var L=g.memoizedState;T=L.element,Ug(h,g),qd(g,j,null,x);var re=g.memoizedState;if(j=re.cache,qi(g,Mn,j),j!==L.cache&&vp(g,[Mn],x,!0),Hd(),j=re.element,L.isDehydrated)if(L={element:j,isDehydrated:!1,cache:re.cache},g.updateQueue.baseState=L,g.memoizedState=L,g.flags&256){g=fb(h,g,j,x);break e}else if(j!==T){T=vo(Error(i(424)),g),ks(T),g=fb(h,g,j,x);break e}else{switch(h=g.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Fr=Un(h.firstChild),zs=g,lr=!0,Al=null,Lo=!0,x=db(g,null,j,x),g.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Fs(),j===T){g=Na(h,g,x);break e}Qn(h,g,j,x)}g=g.child}return g;case 26:return Up(h,g),h===null?(x=N0(g.type,null,g.pendingProps,null))?g.memoizedState=x:lr||(x=g.type,h=g.pendingProps,j=om(Ae.current).createElement(x),j[xr]=g,j[vr]=h,ms(j,x,h),Xr(j),g.stateNode=j):g.memoizedState=N0(g.type,h.memoizedProps,g.pendingProps,h.memoizedState),null;case 27:return Be(g),h===null&&lr&&(j=g.stateNode=_0(g.type,g.pendingProps,Ae.current),zs=g,Lo=!0,T=Fr,or(g.type)?(Yo=T,Fr=Un(j.firstChild)):Fr=T),Qn(h,g,g.pendingProps.children,x),Up(h,g),h===null&&(g.flags|=4194304),g.child;case 5:return h===null&&lr&&((T=j=Fr)&&(j=C0(j,g.type,g.pendingProps,Lo),j!==null?(g.stateNode=j,zs=g,Fr=Un(j.firstChild),Lo=!1,T=!0):T=!1),T||kc(g)),Be(g),T=g.type,L=g.pendingProps,re=h!==null?h.memoizedProps:null,j=L.children,cf(T,L)?j=null:re!==null&&cf(T,re)&&(g.flags|=32),g.memoizedState!==null&&(T=Ut(h,g,wv,null,null,x),mm._currentValue=T),Up(h,g),Qn(h,g,j,x),g.child;case 6:return h===null&&lr&&((h=x=Fr)&&(x=yn(x,g.pendingProps,Lo),x!==null?(g.stateNode=x,zs=g,Fr=null,h=!0):h=!1),h||kc(g)),null;case 13:return Go(h,g,x);case 4:return ze(g,g.stateNode.containerInfo),j=g.pendingProps,h===null?g.child=Ec(g,null,j,x):Qn(h,g,j,x),g.child;case 11:return Fp(h,g,g.type,g.pendingProps,x);case 7:return Qn(h,g,g.pendingProps,x),g.child;case 8:return Qn(h,g,g.pendingProps.children,x),g.child;case 12:return Qn(h,g,g.pendingProps.children,x),g.child;case 10:return j=g.pendingProps,qi(g,g.type,j.value),Qn(h,g,j.children,x),g.child;case 9:return T=g.type._context,j=g.pendingProps.children,at(g),T=cs(T),j=j(T),g.flags|=1,Qn(h,g,j,x),g.child;case 14:return Hv(h,g,g.type,g.pendingProps,x);case 15:return mb(h,g,g.type,g.pendingProps,x);case 19:return yb(h,g,x);case 31:return j=g.pendingProps,x=g.mode,j={mode:j.mode,children:j.children},h===null?(x=As(j,x),x.ref=g.ref,g.child=x,x.return=g,g=x):(x=wo(h.child,j),x.ref=g.ref,g.child=x,x.return=g,g=x),g;case 22:return Vp(h,g,x);case 24:return at(g),j=cs(Mn),h===null?(T=Nl(),T===null&&(T=Hr,L=Vd(),T.pooledCache=L,L.refCount++,L!==null&&(T.pooledCacheLanes|=x),T=L),g.memoizedState={parent:j,cache:T},Ap(g),qi(g,Mn,T)):((h.lanes&x)!==0&&(Ug(h,g),qd(g,null,null,x),Hd()),T=h.memoizedState,L=g.memoizedState,T.parent!==j?(T={parent:j,cache:j},g.memoizedState=T,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=T),qi(g,Mn,j)):(j=L.cache,qi(g,Mn,j),j!==T.cache&&vp(g,[Mn],x,!0))),Qn(h,g,g.pendingProps.children,x),g.child;case 29:throw g.pendingProps}throw Error(i(156,g.tag))}function Sa(h){h.flags|=4}function Wv(h,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!sy(g)){if(g=Kn.current,g!==null&&((Vt&4194048)===Vt?Xe!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||g!==Xe))throw Yi=Lg,Bg;h.flags|=8192}}function Uh(h,g){g!==null&&(h.flags|=4),h.flags&16384&&(g=h.tag!==22?Ts():536870912,h.lanes|=g,Oc|=g)}function Gh(h,g){if(!lr)switch(h.tailMode){case"hidden":g=h.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?h.tail=null:x.sibling=null;break;case"collapsed":x=h.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:j.sibling=null}}function Zr(h){var g=h.alternate!==null&&h.alternate.child===h.child,x=0,j=0;if(g)for(var T=h.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags&65011712,j|=T.flags&65011712,T.return=h,T=T.sibling;else for(T=h.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=h,T=T.sibling;return h.subtreeFlags|=j,h.childLanes=x,g}function Z1(h,g,x){var j=g.pendingProps;switch(rr(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(g),null;case 1:return Zr(g),null;case 3:return x=g.stateNode,j=null,h!==null&&(j=h.memoizedState.cache),g.memoizedState.cache!==j&&(g.flags|=2048),fi(Mn),Qe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(h===null||h.child===null)&&(Nh(g)?Sa(g):h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,gn())),Zr(g),null;case 26:return x=g.memoizedState,h===null?(Sa(g),x!==null?(Zr(g),Wv(g,x)):(Zr(g),g.flags&=-16777217)):x?x!==h.memoizedState?(Sa(g),Zr(g),Wv(g,x)):(Zr(g),g.flags&=-16777217):(h.memoizedProps!==j&&Sa(g),Zr(g),g.flags&=-16777217),null;case 27:fe(g),x=Ae.current;var T=g.type;if(h!==null&&g.stateNode!=null)h.memoizedProps!==j&&Sa(g);else{if(!j){if(g.stateNode===null)throw Error(i(166));return Zr(g),null}h=ve.current,Nh(g)?pv(g):(h=_0(T,j,x),g.stateNode=h,Sa(g))}return Zr(g),null;case 5:if(fe(g),x=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==j&&Sa(g);else{if(!j){if(g.stateNode===null)throw Error(i(166));return Zr(g),null}if(h=ve.current,Nh(g))pv(g);else{switch(T=om(Ae.current),h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof j.is=="string"?T.createElement("select",{is:j.is}):T.createElement("select"),j.multiple?h.multiple=!0:j.size&&(h.size=j.size);break;default:h=typeof j.is=="string"?T.createElement(x,{is:j.is}):T.createElement(x)}}h[xr]=g,h[vr]=j;e:for(T=g.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break e;for(;T.sibling===null;){if(T.return===null||T.return===g)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}g.stateNode=h;e:switch(ms(h,x,j),x){case"button":case"input":case"select":case"textarea":h=!!j.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Sa(g)}}return Zr(g),g.flags&=-16777217,null;case 6:if(h&&g.stateNode!=null)h.memoizedProps!==j&&Sa(g);else{if(typeof j!="string"&&g.stateNode===null)throw Error(i(166));if(h=Ae.current,Nh(g)){if(h=g.stateNode,x=g.memoizedProps,j=null,T=zs,T!==null)switch(T.tag){case 27:case 5:j=T.memoizedProps}h[xr]=g,h=!!(h.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||w0(h.nodeValue,x)),h||kc(g)}else h=om(h).createTextNode(j),h[xr]=g,g.stateNode=h}return Zr(g),null;case 13:if(j=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(T=Nh(g),j!==null&&j.dehydrated!==null){if(h===null){if(!T)throw Error(i(318));if(T=g.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[xr]=g}else Fs(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Zr(g),T=!1}else T=gn(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=T),T=!0;if(!T)return g.flags&256?(vi(g),g):(vi(g),null)}if(vi(g),(g.flags&128)!==0)return g.lanes=x,g;if(x=j!==null,h=h!==null&&h.memoizedState!==null,x){j=g.child,T=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(T=j.alternate.memoizedState.cachePool.pool);var L=null;j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(L=j.memoizedState.cachePool.pool),L!==T&&(j.flags|=2048)}return x!==h&&x&&(g.child.flags|=8192),Uh(g,g.updateQueue),Zr(g),null;case 4:return Qe(),h===null&&Qb(g.stateNode.containerInfo),Zr(g),null;case 10:return fi(g.type),Zr(g),null;case 19:if(me(Kr),T=g.memoizedState,T===null)return Zr(g),null;if(j=(g.flags&128)!==0,L=T.rendering,L===null)if(j)Gh(T,!1);else{if(vt!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(L=ru(h),L!==null){for(g.flags|=128,Gh(T,!1),h=L.updateQueue,g.updateQueue=h,Uh(g,h),g.subtreeFlags=0,h=x,x=g.child;x!==null;)wl(x,h),x=x.sibling;return ye(Kr,Kr.current&1|2),g.child}h=h.sibling}T.tail!==null&&lt()>Qh&&(g.flags|=128,j=!0,Gh(T,!1),g.lanes=4194304)}else{if(!j)if(h=ru(L),h!==null){if(g.flags|=128,j=!0,h=h.updateQueue,g.updateQueue=h,Uh(g,h),Gh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!lr)return Zr(g),null}else 2*lt()-T.renderingStartTime>Qh&&x!==536870912&&(g.flags|=128,j=!0,Gh(T,!1),g.lanes=4194304);T.isBackwards?(L.sibling=g.child,g.child=L):(h=T.last,h!==null?h.sibling=L:g.child=L,T.last=L)}return T.tail!==null?(g=T.tail,T.rendering=g,T.tail=g.sibling,T.renderingStartTime=lt(),g.sibling=null,h=Kr.current,ye(Kr,j?h&1|2:h&1),g):(Zr(g),null);case 22:case 23:return vi(g),qg(),j=g.memoizedState!==null,h!==null?h.memoizedState!==null!==j&&(g.flags|=8192):j&&(g.flags|=8192),j?(x&536870912)!==0&&(g.flags&128)===0&&(Zr(g),g.subtreeFlags&6&&(g.flags|=8192)):Zr(g),x=g.updateQueue,x!==null&&Uh(g,x.retryQueue),x=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),j=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(j=g.memoizedState.cachePool.pool),j!==x&&(g.flags|=2048),h!==null&&me(jl),null;case 24:return x=null,h!==null&&(x=h.memoizedState.cache),g.memoizedState.cache!==x&&(g.flags|=2048),fi(Mn),Zr(g),null;case 25:return null;case 30:return null}throw Error(i(156,g.tag))}function Kp(h,g){switch(rr(g),g.tag){case 1:return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return fi(Mn),Qe(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 26:case 27:case 5:return fe(g),null;case 13:if(vi(g),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(i(340));Fs()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return me(Kr),null;case 4:return Qe(),null;case 10:return fi(g.type),null;case 22:case 23:return vi(g),qg(),h!==null&&me(jl),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 24:return fi(Mn),null;case 25:return null;default:return null}}function vb(h,g){switch(rr(g),g.tag){case 3:fi(Mn),Qe();break;case 26:case 27:case 5:fe(g);break;case 4:Qe();break;case 13:vi(g);break;case 19:me(Kr);break;case 10:fi(g.type);break;case 22:case 23:vi(g),qg(),h!==null&&me(jl);break;case 24:fi(Mn)}}function Il(h,g){try{var x=g.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var T=j.next;x=T;do{if((x.tag&h)===h){j=void 0;var L=x.create,re=x.inst;j=L(),re.destroy=j}x=x.next}while(x!==T)}}catch(ce){Pr(g,g.return,ce)}}function Rl(h,g,x){try{var j=g.updateQueue,T=j!==null?j.lastEffect:null;if(T!==null){var L=T.next;j=L;do{if((j.tag&h)===h){var re=j.inst,ce=re.destroy;if(ce!==void 0){re.destroy=void 0,T=g;var ge=x,Ee=ce;try{Ee()}catch(Ve){Pr(T,ge,Ve)}}}j=j.next}while(j!==L)}}catch(Ve){Pr(g,g.return,Ve)}}function wb(h){var g=h.updateQueue;if(g!==null){var x=h.stateNode;try{Np(g,x)}catch(j){Pr(h,h.return,j)}}}function kb(h,g,x){x.props=ja(h.type,h.memoizedProps),x.state=h.memoizedState;try{x.componentWillUnmount()}catch(j){Pr(h,g,j)}}function iu(h,g){try{var x=h.ref;if(x!==null){switch(h.tag){case 26:case 27:case 5:var j=h.stateNode;break;case 30:j=h.stateNode;break;default:j=h.stateNode}typeof x=="function"?h.refCleanup=x(j):x.current=j}}catch(T){Pr(h,g,T)}}function Fn(h,g){var x=h.ref,j=h.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(T){Pr(h,g,T)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(T){Pr(h,g,T)}else x.current=null}function Cb(h){var g=h.type,x=h.memoizedProps,j=h.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(T){Pr(h,h.return,T)}}function Pl(h,g,x){try{var j=h.stateNode;dC(j,h.type,x,g),j[vr]=g}catch(T){Pr(h,h.return,T)}}function Ea(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&or(h.type)||h.tag===4}function _b(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Ea(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&or(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Hh(h,g,x){var j=h.tag;if(j===5||j===6)h=h.stateNode,g?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(h,g):(g=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,g.appendChild(h),x=x._reactRootContainer,x!=null||g.onclick!==null||(g.onclick=nm));else if(j!==4&&(j===27&&or(h.type)&&(x=h.stateNode,g=null),h=h.child,h!==null))for(Hh(h,g,x),h=h.sibling;h!==null;)Hh(h,g,x),h=h.sibling}function Qp(h,g,x){var j=h.tag;if(j===5||j===6)h=h.stateNode,g?x.insertBefore(h,g):x.appendChild(h);else if(j!==4&&(j===27&&or(h.type)&&(x=h.stateNode),h=h.child,h!==null))for(Qp(h,g,x),h=h.sibling;h!==null;)Qp(h,g,x),h=h.sibling}function Kv(h){var g=h.stateNode,x=h.memoizedProps;try{for(var j=h.type,T=g.attributes;T.length;)g.removeAttributeNode(T[0]);ms(g,j,x),g[xr]=h,g[vr]=x}catch(L){Pr(h,h.return,L)}}var Da=!1,bn=!1,Ab=!1,Qv=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function eC(h,g){if(h=h.containerInfo,Xb=za,h=cv(h),Ng(h)){if("selectionStart"in h)var x={start:h.selectionStart,end:h.selectionEnd};else e:{x=(x=h.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var T=j.anchorOffset,L=j.focusNode;j=j.focusOffset;try{x.nodeType,L.nodeType}catch{x=null;break e}var re=0,ce=-1,ge=-1,Ee=0,Ve=0,qe=h,De=null;t:for(;;){for(var Te;qe!==x||T!==0&&qe.nodeType!==3||(ce=re+T),qe!==L||j!==0&&qe.nodeType!==3||(ge=re+j),qe.nodeType===3&&(re+=qe.nodeValue.length),(Te=qe.firstChild)!==null;)De=qe,qe=Te;for(;;){if(qe===h)break t;if(De===x&&++Ee===T&&(ce=re),De===L&&++Ve===j&&(ge=re),(Te=qe.nextSibling)!==null)break;qe=De,De=qe.parentNode}qe=Te}x=ce===-1||ge===-1?null:{start:ce,end:ge}}else x=null}x=x||{start:0,end:0}}else x=null;for(sm={focusedElem:h,selectionRange:x},za=!1,Jn=g;Jn!==null;)if(g=Jn,h=g.child,(g.subtreeFlags&1024)!==0&&h!==null)h.return=g,Jn=h;else for(;Jn!==null;){switch(g=Jn,L=g.alternate,h=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&L!==null){h=void 0,x=g,T=L.memoizedProps,L=L.memoizedState,j=x.stateNode;try{var _t=ja(x.type,T,x.elementType===x.type);h=j.getSnapshotBeforeUpdate(_t,L),j.__reactInternalSnapshotBeforeUpdate=h}catch(yt){Pr(x,x.return,yt)}}break;case 3:if((h&1024)!==0){if(h=g.stateNode.containerInfo,x=h.nodeType,x===9)Ns(h);else if(x===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":Ns(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=g.sibling,h!==null){h.return=g.return,Jn=h;break}Jn=g.return}}function jb(h,g,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:Ta(h,x),j&4&&Il(5,x);break;case 1:if(Ta(h,x),j&4)if(h=x.stateNode,g===null)try{h.componentDidMount()}catch(re){Pr(x,x.return,re)}else{var T=ja(x.type,g.memoizedProps);g=g.memoizedState;try{h.componentDidUpdate(T,g,h.__reactInternalSnapshotBeforeUpdate)}catch(re){Pr(x,x.return,re)}}j&64&&wb(x),j&512&&iu(x,x.return);break;case 3:if(Ta(h,x),j&64&&(h=x.updateQueue,h!==null)){if(g=null,x.child!==null)switch(x.child.tag){case 27:case 5:g=x.child.stateNode;break;case 1:g=x.child.stateNode}try{Np(h,g)}catch(re){Pr(x,x.return,re)}}break;case 27:g===null&&j&4&&Kv(x);case 26:case 5:Ta(h,x),g===null&&j&4&&Cb(x),j&512&&iu(x,x.return);break;case 12:Ta(h,x);break;case 13:Ta(h,x),j&4&&Xv(h,x),j&64&&(h=x.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(x=nC.bind(null,x),oo(h,x))));break;case 22:if(j=x.memoizedState!==null||Da,!j){g=g!==null&&g.memoizedState!==null||bn,T=Da;var L=bn;Da=j,(bn=g)&&!L?Ol(h,x,(x.subtreeFlags&8772)!==0):Ta(h,x),Da=T,bn=L}break;case 30:break;default:Ta(h,x)}}function Jv(h){var g=h.alternate;g!==null&&(h.alternate=null,Jv(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&al(g)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Jr=null,$n=!1;function Ma(h,g,x){for(x=x.child;x!==null;)$v(h,g,x),x=x.sibling}function $v(h,g,x){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Wt,x)}catch{}switch(x.tag){case 26:bn||Fn(x,g),Ma(h,g,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:bn||Fn(x,g);var j=Jr,T=$n;or(x.type)&&(Jr=x.stateNode,$n=!1),Ma(h,g,x),Vc(x.stateNode),Jr=j,$n=T;break;case 5:bn||Fn(x,g);case 6:if(j=Jr,T=$n,Jr=null,Ma(h,g,x),Jr=j,$n=T,Jr!==null)if($n)try{(Jr.nodeType===9?Jr.body:Jr.nodeName==="HTML"?Jr.ownerDocument.body:Jr).removeChild(x.stateNode)}catch(L){Pr(x,g,L)}else try{Jr.removeChild(x.stateNode)}catch(L){Pr(x,g,L)}break;case 18:Jr!==null&&($n?(h=Jr,en(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,x.stateNode),fm(h)):en(Jr,x.stateNode));break;case 4:j=Jr,T=$n,Jr=x.stateNode.containerInfo,$n=!0,Ma(h,g,x),Jr=j,$n=T;break;case 0:case 11:case 14:case 15:bn||Rl(2,x,g),bn||Rl(4,x,g),Ma(h,g,x);break;case 1:bn||(Fn(x,g),j=x.stateNode,typeof j.componentWillUnmount=="function"&&kb(x,g,j)),Ma(h,g,x);break;case 21:Ma(h,g,x);break;case 22:bn=(j=bn)||x.memoizedState!==null,Ma(h,g,x),bn=j;break;default:Ma(h,g,x)}}function Xv(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{fm(h)}catch(x){Pr(g,g.return,x)}}function Jp(h){switch(h.tag){case 13:case 19:var g=h.stateNode;return g===null&&(g=h.stateNode=new Qv),g;case 22:return h=h.stateNode,g=h._retryCache,g===null&&(g=h._retryCache=new Qv),g;default:throw Error(i(435,h.tag))}}function Nb(h,g){var x=Jp(h);g.forEach(function(j){var T=sC.bind(null,h,j);x.has(j)||(x.add(j),j.then(T,T))})}function _o(h,g){var x=g.deletions;if(x!==null)for(var j=0;j<x.length;j++){var T=x[j],L=h,re=g,ce=re;e:for(;ce!==null;){switch(ce.tag){case 27:if(or(ce.type)){Jr=ce.stateNode,$n=!1;break e}break;case 5:Jr=ce.stateNode,$n=!1;break e;case 3:case 4:Jr=ce.stateNode.containerInfo,$n=!0;break e}ce=ce.return}if(Jr===null)throw Error(i(160));$v(L,re,T),Jr=null,$n=!1,L=T.alternate,L!==null&&(L.return=null),T.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)Sb(g,h),g=g.sibling}var wi=null;function Sb(h,g){var x=h.alternate,j=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:_o(g,h),Ao(h),j&4&&(Rl(3,h,h.return),Il(3,h),Rl(5,h,h.return));break;case 1:_o(g,h),Ao(h),j&512&&(bn||x===null||Fn(x,x.return)),j&64&&Da&&(h=h.updateQueue,h!==null&&(j=h.callbacks,j!==null&&(x=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var T=wi;if(_o(g,h),Ao(h),j&512&&(bn||x===null||Fn(x,x.return)),j&4){var L=x!==null?x.memoizedState:null;if(j=h.memoizedState,x===null)if(j===null)if(h.stateNode===null){e:{j=h.type,x=h.memoizedProps,T=T.ownerDocument||T;t:switch(j){case"title":L=T.getElementsByTagName("title")[0],(!L||L[Xs]||L[xr]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=T.createElement(j),T.head.insertBefore(L,T.querySelector("head > title"))),ms(L,j,x),L[xr]=h,Xr(L),j=L;break e;case"link":var re=D0("link","href",T).get(j+(x.href||""));if(re){for(var ce=0;ce<re.length;ce++)if(L=re[ce],L.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&L.getAttribute("rel")===(x.rel==null?null:x.rel)&&L.getAttribute("title")===(x.title==null?null:x.title)&&L.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){re.splice(ce,1);break t}}L=T.createElement(j),ms(L,j,x),T.head.appendChild(L);break;case"meta":if(re=D0("meta","content",T).get(j+(x.content||""))){for(ce=0;ce<re.length;ce++)if(L=re[ce],L.getAttribute("content")===(x.content==null?null:""+x.content)&&L.getAttribute("name")===(x.name==null?null:x.name)&&L.getAttribute("property")===(x.property==null?null:x.property)&&L.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&L.getAttribute("charset")===(x.charSet==null?null:x.charSet)){re.splice(ce,1);break t}}L=T.createElement(j),ms(L,j,x),T.head.appendChild(L);break;default:throw Error(i(468,j))}L[xr]=h,Xr(L),j=L}h.stateNode=j}else M0(T,h.type,h.stateNode);else h.stateNode=ty(T,j,h.memoizedProps);else L!==j?(L===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):L.count--,j===null?M0(T,h.type,h.stateNode):ty(T,j,h.memoizedProps)):j===null&&h.stateNode!==null&&Pl(h,h.memoizedProps,x.memoizedProps)}break;case 27:_o(g,h),Ao(h),j&512&&(bn||x===null||Fn(x,x.return)),x!==null&&j&4&&Pl(h,h.memoizedProps,x.memoizedProps);break;case 5:if(_o(g,h),Ao(h),j&512&&(bn||x===null||Fn(x,x.return)),h.flags&32){T=h.stateNode;try{Ls(T,"")}catch(Te){Pr(h,h.return,Te)}}j&4&&h.stateNode!=null&&(T=h.memoizedProps,Pl(h,T,x!==null?x.memoizedProps:T)),j&1024&&(Ab=!0);break;case 6:if(_o(g,h),Ao(h),j&4){if(h.stateNode===null)throw Error(i(162));j=h.memoizedProps,x=h.stateNode;try{x.nodeValue=j}catch(Te){Pr(h,h.return,Te)}}break;case 3:if(qc=null,T=wi,wi=am(g.containerInfo),_o(g,h),wi=T,Ao(h),j&4&&x!==null&&x.memoizedState.isDehydrated)try{fm(g.containerInfo)}catch(Te){Pr(h,h.return,Te)}Ab&&(Ab=!1,Zv(h));break;case 4:j=wi,wi=am(h.stateNode.containerInfo),_o(g,h),Ao(h),wi=j;break;case 12:_o(g,h),Ao(h);break;case 13:_o(g,h),Ao(h),h.child.flags&8192&&h.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Ie=lt()),j&4&&(j=h.updateQueue,j!==null&&(h.updateQueue=null,Nb(h,j)));break;case 22:T=h.memoizedState!==null;var ge=x!==null&&x.memoizedState!==null,Ee=Da,Ve=bn;if(Da=Ee||T,bn=Ve||ge,_o(g,h),bn=Ve,Da=Ee,Ao(h),j&8192)e:for(g=h.stateNode,g._visibility=T?g._visibility&-2:g._visibility|1,T&&(x===null||ge||Da||bn||Ia(h)),x=null,g=h;;){if(g.tag===5||g.tag===26){if(x===null){ge=x=g;try{if(L=ge.stateNode,T)re=L.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{ce=ge.stateNode;var qe=ge.memoizedProps.style,De=qe!=null&&qe.hasOwnProperty("display")?qe.display:null;ce.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Te){Pr(ge,ge.return,Te)}}}else if(g.tag===6){if(x===null){ge=g;try{ge.stateNode.nodeValue=T?"":ge.memoizedProps}catch(Te){Pr(ge,ge.return,Te)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===h)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break e;for(;g.sibling===null;){if(g.return===null||g.return===h)break e;x===g&&(x=null),g=g.return}x===g&&(x=null),g.sibling.return=g.return,g=g.sibling}j&4&&(j=h.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,Nb(h,x))));break;case 19:_o(g,h),Ao(h),j&4&&(j=h.updateQueue,j!==null&&(h.updateQueue=null,Nb(h,j)));break;case 30:break;case 21:break;default:_o(g,h),Ao(h)}}function Ao(h){var g=h.flags;if(g&2){try{for(var x,j=h.return;j!==null;){if(Ea(j)){x=j;break}j=j.return}if(x==null)throw Error(i(160));switch(x.tag){case 27:var T=x.stateNode,L=_b(h);Qp(h,L,T);break;case 5:var re=x.stateNode;x.flags&32&&(Ls(re,""),x.flags&=-33);var ce=_b(h);Qp(h,ce,re);break;case 3:case 4:var ge=x.stateNode.containerInfo,Ee=_b(h);Hh(h,Ee,ge);break;default:throw Error(i(161))}}catch(Ve){Pr(h,h.return,Ve)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function Zv(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var g=h;Zv(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),h=h.sibling}}function Ta(h,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)jb(h,g.alternate,g),g=g.sibling}function Ia(h){for(h=h.child;h!==null;){var g=h;switch(g.tag){case 0:case 11:case 14:case 15:Rl(4,g,g.return),Ia(g);break;case 1:Fn(g,g.return);var x=g.stateNode;typeof x.componentWillUnmount=="function"&&kb(g,g.return,x),Ia(g);break;case 27:Vc(g.stateNode);case 26:case 5:Fn(g,g.return),Ia(g);break;case 22:g.memoizedState===null&&Ia(g);break;case 30:Ia(g);break;default:Ia(g)}h=h.sibling}}function Ol(h,g,x){for(x=x&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var j=g.alternate,T=h,L=g,re=L.flags;switch(L.tag){case 0:case 11:case 15:Ol(T,L,x),Il(4,L);break;case 1:if(Ol(T,L,x),j=L,T=j.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ee){Pr(j,j.return,Ee)}if(j=L,T=j.updateQueue,T!==null){var ce=j.stateNode;try{var ge=T.shared.hiddenCallbacks;if(ge!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ge.length;T++)yv(ge[T],ce)}catch(Ee){Pr(j,j.return,Ee)}}x&&re&64&&wb(L),iu(L,L.return);break;case 27:Kv(L);case 26:case 5:Ol(T,L,x),x&&j===null&&re&4&&Cb(L),iu(L,L.return);break;case 12:Ol(T,L,x);break;case 13:Ol(T,L,x),x&&re&4&&Xv(T,L);break;case 22:L.memoizedState===null&&Ol(T,L,x),iu(L,L.return);break;case 30:break;default:Ol(T,L,x)}g=g.sibling}}function Eb(h,g){var x=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),h=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(h=g.memoizedState.cachePool.pool),h!==x&&(h!=null&&h.refCount++,x!=null&&Ud(x))}function Db(h,g){h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&Ud(h))}function ki(h,g,x,j){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Mb(h,g,x,j),g=g.sibling}function Mb(h,g,x,j){var T=g.flags;switch(g.tag){case 0:case 11:case 15:ki(h,g,x,j),T&2048&&Il(9,g);break;case 1:ki(h,g,x,j);break;case 3:ki(h,g,x,j),T&2048&&(h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&Ud(h)));break;case 12:if(T&2048){ki(h,g,x,j),h=g.stateNode;try{var L=g.memoizedProps,re=L.id,ce=L.onPostCommit;typeof ce=="function"&&ce(re,g.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(ge){Pr(g,g.return,ge)}}else ki(h,g,x,j);break;case 13:ki(h,g,x,j);break;case 23:break;case 22:L=g.stateNode,re=g.alternate,g.memoizedState!==null?L._visibility&2?ki(h,g,x,j):au(h,g):L._visibility&2?ki(h,g,x,j):(L._visibility|=2,Ra(h,g,x,j,(g.subtreeFlags&10256)!==0)),T&2048&&Eb(re,g);break;case 24:ki(h,g,x,j),T&2048&&Db(g.alternate,g);break;default:ki(h,g,x,j)}}function Ra(h,g,x,j,T){for(T=T&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var L=h,re=g,ce=x,ge=j,Ee=re.flags;switch(re.tag){case 0:case 11:case 15:Ra(L,re,ce,ge,T),Il(8,re);break;case 23:break;case 22:var Ve=re.stateNode;re.memoizedState!==null?Ve._visibility&2?Ra(L,re,ce,ge,T):au(L,re):(Ve._visibility|=2,Ra(L,re,ce,ge,T)),T&&Ee&2048&&Eb(re.alternate,re);break;case 24:Ra(L,re,ce,ge,T),T&&Ee&2048&&Db(re.alternate,re);break;default:Ra(L,re,ce,ge,T)}g=g.sibling}}function au(h,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var x=h,j=g,T=j.flags;switch(j.tag){case 22:au(x,j),T&2048&&Eb(j.alternate,j);break;case 24:au(x,j),T&2048&&Db(j.alternate,j);break;default:au(x,j)}g=g.sibling}}var qh=8192;function Pc(h){if(h.subtreeFlags&qh)for(h=h.child;h!==null;)e0(h),h=h.sibling}function e0(h){switch(h.tag){case 26:Pc(h),h.flags&qh&&h.memoizedState!==null&&T0(wi,h.memoizedState,h.memoizedProps);break;case 5:Pc(h);break;case 3:case 4:var g=wi;wi=am(h.stateNode.containerInfo),Pc(h),wi=g;break;case 22:h.memoizedState===null&&(g=h.alternate,g!==null&&g.memoizedState!==null?(g=qh,qh=16777216,Pc(h),qh=g):Pc(h));break;default:Pc(h)}}function Tb(h){var g=h.alternate;if(g!==null&&(h=g.child,h!==null)){g.child=null;do g=h.sibling,h.sibling=null,h=g;while(h!==null)}}function Yh(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var x=0;x<g.length;x++){var j=g[x];Jn=j,t0(j,h)}Tb(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Wh(h),h=h.sibling}function Wh(h){switch(h.tag){case 0:case 11:case 15:Yh(h),h.flags&2048&&Rl(9,h,h.return);break;case 3:Yh(h);break;case 12:Yh(h);break;case 22:var g=h.stateNode;h.memoizedState!==null&&g._visibility&2&&(h.return===null||h.return.tag!==13)?(g._visibility&=-3,$p(h)):Yh(h);break;default:Yh(h)}}function $p(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var x=0;x<g.length;x++){var j=g[x];Jn=j,t0(j,h)}Tb(h)}for(h=h.child;h!==null;){switch(g=h,g.tag){case 0:case 11:case 15:Rl(8,g,g.return),$p(g);break;case 22:x=g.stateNode,x._visibility&2&&(x._visibility&=-3,$p(g));break;default:$p(g)}h=h.sibling}}function t0(h,g){for(;Jn!==null;){var x=Jn;switch(x.tag){case 0:case 11:case 15:Rl(8,x,g);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Ud(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,Jn=j;else e:for(x=h;Jn!==null;){j=Jn;var T=j.sibling,L=j.return;if(Jv(j),j===x){Jn=null;break e}if(T!==null){T.return=L,Jn=T;break e}Jn=L}}}var r0={getCacheForType:function(h){var g=cs(Mn),x=g.data.get(h);return x===void 0&&(x=h(),g.data.set(h,x)),x}},n0=typeof WeakMap=="function"?WeakMap:Map,Mr=0,Hr=null,Xt=null,Vt=0,Tr=0,In=null,eo=!1,Wi=!1,Nr=!1,Vn=0,vt=0,us=0,jo=0,Je=0,js=0,Oc=0,lu=null,Us=null,Kh=!1,Ie=0,Qh=1/0,Xp=null,Ci=null,hs=0,Bl=null,cu=null,Bc=0,Ib=0,Rb=null,Pb=null,Lc=0,Zp=null;function to(){if((Mr&2)!==0&&Vt!==0)return Vt&-Vt;if(ie.T!==null){var h=Gd;return h!==0?h:Yb()}return yr()}function s0(){js===0&&(js=(Vt&536870912)===0||lr?$s():536870912);var h=Kn.current;return h!==null&&(h.flags|=32),js}function ro(h,g,x){(h===Hr&&(Tr===2||Tr===9)||h.cancelPendingCommit!==null)&&(uu(h,0),Pa(h,Vt,js,!1)),ir(h,x),((Mr&2)===0||h!==Hr)&&(h===Hr&&((Mr&2)===0&&(jo|=x),vt===4&&Pa(h,Vt,js,!1)),qo(h))}function no(h,g,x){if((Mr&6)!==0)throw Error(i(327));var j=!x&&(g&124)===0&&(g&h.expiredLanes)===0||Bt(h,g),T=j?Jh(h,g):No(h,g,!0),L=j;do{if(T===0){Wi&&!j&&Pa(h,g,0,!1);break}else{if(x=h.current.alternate,L&&!tC(x)){T=No(h,g,!1),L=!1;continue}if(T===2){if(L=g,h.errorRecoveryDisabledLanes&L)var re=0;else re=h.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){g=re;e:{var ce=h;T=lu;var ge=ce.current.memoizedState.isDehydrated;if(ge&&(uu(ce,re).flags|=256),re=No(ce,re,!1),re!==2){if(Nr&&!ge){ce.errorRecoveryDisabledLanes|=L,jo|=L,T=4;break e}L=Us,Us=T,L!==null&&(Us===null?Us=L:Us.push.apply(Us,L))}T=re}if(L=!1,T!==2)continue}}if(T===1){uu(h,0),Pa(h,g,0,!0);break}e:{switch(j=h,L=T,L){case 0:case 1:throw Error(i(345));case 4:if((g&4194048)!==g)break;case 6:Pa(j,g,js,!eo);break e;case 2:Us=null;break;case 3:case 5:break;default:throw Error(i(329))}if((g&62914560)===g&&(T=Ie+300-lt(),10<T)){if(Pa(j,g,js,!eo),$t(j,0,!0)!==0)break e;j.timeoutHandle=yu(Ob.bind(null,j,x,Us,Xp,Kh,g,js,jo,Oc,eo,L,2,-0,0),T);break e}Ob(j,x,Us,Xp,Kh,g,js,jo,Oc,eo,L,0,-0,0)}}break}while(!0);qo(h)}function Ob(h,g,x,j,T,L,re,ce,ge,Ee,Ve,qe,De,Te){if(h.timeoutHandle=-1,qe=g.subtreeFlags,(qe&8192||(qe&16785408)===16785408)&&(dm={stylesheets:null,count:0,unsuspend:bC},e0(g),qe=I0(),qe!==null)){h.cancelPendingCommit=qe(zb.bind(null,h,g,L,x,j,T,re,ce,ge,Ve,1,De,Te)),Pa(h,L,re,!Ee);return}zb(h,g,L,x,j,T,re,ce,ge)}function tC(h){for(var g=h;;){var x=g.tag;if((x===0||x===11||x===15)&&g.flags&16384&&(x=g.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var T=x[j],L=T.getSnapshot;T=T.value;try{if(!Zs(L(),T))return!1}catch{return!1}}if(x=g.child,g.subtreeFlags&16384&&x!==null)x.return=g,g=x;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Pa(h,g,x,j){g&=~Je,g&=~jo,h.suspendedLanes|=g,h.pingedLanes&=~g,j&&(h.warmLanes|=g),j=h.expirationTimes;for(var T=g;0<T;){var L=31-ct(T),re=1<<L;j[L]=-1,T&=~re}x!==0&&Wr(h,x,g)}function du(){return(Mr&6)===0?(fu(0),!1):!0}function Bb(){if(Xt!==null){if(Tr===0)var h=Xt.return;else h=Xt,pi=Cs=null,Kg(h),Dl=null,Sc=0,h=Xt;for(;h!==null;)vb(h.alternate,h),h=h.return;Xt=null}}function uu(h,g){var x=h.timeoutHandle;x!==-1&&(h.timeoutHandle=-1,im(x)),x=h.cancelPendingCommit,x!==null&&(h.cancelPendingCommit=null,x()),Bb(),Hr=h,Xt=x=wo(h.current,null),Vt=g,Tr=0,In=null,eo=!1,Wi=Bt(h,g),Nr=!1,Oc=js=Je=jo=us=vt=0,Us=lu=null,Kh=!1,(g&8)!==0&&(g|=g&32);var j=h.entangledLanes;if(j!==0)for(h=h.entanglements,j&=g;0<j;){var T=31-ct(j),L=1<<T;g|=h[T],j&=~L}return Vn=g,yc(),x}function Ho(h,g){Ht=null,ie.H=Lp,g===Ac||g===Dh?(g=Vg(),Tr=3):g===Bg?(g=Vg(),Tr=4):Tr=g===Gv?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,In=g,Xt===null&&(vt=1,nu(h,vo(g,h.current)))}function o0(){var h=ie.H;return ie.H=Lp,h===null?Lp:h}function i0(){var h=ie.A;return ie.A=r0,h}function hu(){vt=4,eo||(Vt&4194048)!==Vt&&Kn.current!==null||(Wi=!0),(us&134217727)===0&&(jo&134217727)===0||Hr===null||Pa(Hr,Vt,js,!1)}function No(h,g,x){var j=Mr;Mr|=2;var T=o0(),L=i0();(Hr!==h||Vt!==g)&&(Xp=null,uu(h,g)),g=!1;var re=vt;e:do try{if(Tr!==0&&Xt!==null){var ce=Xt,ge=In;switch(Tr){case 8:Bb(),re=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(g=!0);var Ee=Tr;if(Tr=0,In=null,zc(h,ce,ge,Ee),x&&Wi){re=0;break e}break;default:Ee=Tr,Tr=0,In=null,zc(h,ce,ge,Ee)}}rC(),re=vt;break}catch(Ve){Ho(h,Ve)}while(!0);return g&&h.shellSuspendCounter++,pi=Cs=null,Mr=j,ie.H=T,ie.A=L,Xt===null&&(Hr=null,Vt=0,yc()),re}function rC(){for(;Xt!==null;)l0(Xt)}function Jh(h,g){var x=Mr;Mr|=2;var j=o0(),T=i0();Hr!==h||Vt!==g?(Xp=null,Qh=lt()+500,uu(h,g)):Wi=Bt(h,g);e:do try{if(Tr!==0&&Xt!==null){g=Xt;var L=In;t:switch(Tr){case 1:Tr=0,In=null,zc(h,g,L,1);break;case 2:case 9:if(zg(L)){Tr=0,In=null,Lb(g);break}g=function(){Tr!==2&&Tr!==9||Hr!==h||(Tr=7),qo(h)},L.then(g,g);break e;case 3:Tr=7;break e;case 4:Tr=5;break e;case 7:zg(L)?(Tr=0,In=null,Lb(g)):(Tr=0,In=null,zc(h,g,L,7));break;case 5:var re=null;switch(Xt.tag){case 26:re=Xt.memoizedState;case 5:case 27:var ce=Xt;if(!re||sy(re)){Tr=0,In=null;var ge=ce.sibling;if(ge!==null)Xt=ge;else{var Ee=ce.return;Ee!==null?(Xt=Ee,$h(Ee)):Xt=null}break t}}Tr=0,In=null,zc(h,g,L,5);break;case 6:Tr=0,In=null,zc(h,g,L,6);break;case 8:Bb(),vt=6;break e;default:throw Error(i(462))}}a0();break}catch(Ve){Ho(h,Ve)}while(!0);return pi=Cs=null,ie.H=j,ie.A=T,Mr=x,Xt!==null?0:(Hr=null,Vt=0,yc(),vt)}function a0(){for(;Xt!==null&&!xt();)l0(Xt)}function l0(h){var g=Yv(h.alternate,h,Vn);h.memoizedProps=h.pendingProps,g===null?$h(h):Xt=g}function Lb(h){var g=h,x=g.alternate;switch(g.tag){case 15:case 0:g=Hp(x,g,g.pendingProps,g.type,void 0,Vt);break;case 11:g=Hp(x,g,g.pendingProps,g.type.render,g.ref,Vt);break;case 5:Kg(g);default:vb(x,g),g=Xt=wl(g,Vn),g=Yv(x,g,Vn)}h.memoizedProps=h.pendingProps,g===null?$h(h):Xt=g}function zc(h,g,x,j){pi=Cs=null,Kg(g),Dl=null,Sc=0;var T=g.return;try{if(hb(h,T,g,x,Vt)){vt=1,nu(h,vo(x,h.current)),Xt=null;return}}catch(L){if(T!==null)throw Xt=T,L;vt=1,nu(h,vo(x,h.current)),Xt=null;return}g.flags&32768?(lr||j===1?h=!0:Wi||(Vt&536870912)!==0?h=!1:(eo=h=!0,(j===2||j===9||j===3||j===6)&&(j=Kn.current,j!==null&&j.tag===13&&(j.flags|=16384))),mu(g,h)):$h(g)}function $h(h){var g=h;do{if((g.flags&32768)!==0){mu(g,eo);return}h=g.return;var x=Z1(g.alternate,g,Vn);if(x!==null){Xt=x;return}if(g=g.sibling,g!==null){Xt=g;return}Xt=g=h}while(g!==null);vt===0&&(vt=5)}function mu(h,g){do{var x=Kp(h.alternate,h);if(x!==null){x.flags&=32767,Xt=x;return}if(x=h.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!g&&(h=h.sibling,h!==null)){Xt=h;return}Xt=h=x}while(h!==null);vt=6,Xt=null}function zb(h,g,x,j,T,L,re,ce,ge){h.cancelPendingCommit=null;do Xh();while(hs!==0);if((Mr&6)!==0)throw Error(i(327));if(g!==null){if(g===h.current)throw Error(i(177));if(L=g.lanes|g.childLanes,L|=Ar,Ln(h,x,L,re,ce,ge),h===Hr&&(Xt=Hr=null,Vt=0),cu=g,Bl=h,Bc=x,Ib=L,Rb=T,Pb=j,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,m0(Yr,function(){return c0(),null})):(h.callbackNode=null,h.callbackPriority=0),j=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||j){j=ie.T,ie.T=null,T=ae.p,ae.p=2,re=Mr,Mr|=4;try{eC(h,g,x)}finally{Mr=re,ae.p=T,ie.T=j}}hs=1,Fb(),ef(),Vb()}}function Fb(){if(hs===1){hs=0;var h=Bl,g=cu,x=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||x){x=ie.T,ie.T=null;var j=ae.p;ae.p=2;var T=Mr;Mr|=4;try{Sb(g,h);var L=sm,re=cv(h.containerInfo),ce=L.focusedElem,ge=L.selectionRange;if(re!==ce&&ce&&ce.ownerDocument&&jg(ce.ownerDocument.documentElement,ce)){if(ge!==null&&Ng(ce)){var Ee=ge.start,Ve=ge.end;if(Ve===void 0&&(Ve=Ee),"selectionStart"in ce)ce.selectionStart=Ee,ce.selectionEnd=Math.min(Ve,ce.value.length);else{var qe=ce.ownerDocument||document,De=qe&&qe.defaultView||window;if(De.getSelection){var Te=De.getSelection(),_t=ce.textContent.length,yt=Math.min(ge.start,_t),Ir=ge.end===void 0?yt:Math.min(ge.end,_t);!Te.extend&&yt>Ir&&(re=Ir,Ir=yt,yt=re);var Ce=lv(ce,yt),we=lv(ce,Ir);if(Ce&&we&&(Te.rangeCount!==1||Te.anchorNode!==Ce.node||Te.anchorOffset!==Ce.offset||Te.focusNode!==we.node||Te.focusOffset!==we.offset)){var Ne=qe.createRange();Ne.setStart(Ce.node,Ce.offset),Te.removeAllRanges(),yt>Ir?(Te.addRange(Ne),Te.extend(we.node,we.offset)):(Ne.setEnd(we.node,we.offset),Te.addRange(Ne))}}}}for(qe=[],Te=ce;Te=Te.parentNode;)Te.nodeType===1&&qe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<qe.length;ce++){var Ue=qe[ce];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}za=!!Xb,sm=Xb=null}finally{Mr=T,ae.p=j,ie.T=x}}h.current=g,hs=2}}function ef(){if(hs===2){hs=0;var h=Bl,g=cu,x=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||x){x=ie.T,ie.T=null;var j=ae.p;ae.p=2;var T=Mr;Mr|=4;try{jb(h,g.alternate,g)}finally{Mr=T,ae.p=j,ie.T=x}}hs=3}}function Vb(){if(hs===4||hs===3){hs=0,_e();var h=Bl,g=cu,x=Bc,j=Pb;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?hs=5:(hs=0,cu=Bl=null,Ub(h,h.pendingLanes));var T=h.pendingLanes;if(T===0&&(Ci=null),jn(x),g=g.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Wt,g,void 0,(g.current.flags&128)===128)}catch{}if(j!==null){g=ie.T,T=ae.p,ae.p=2,ie.T=null;try{for(var L=h.onRecoverableError,re=0;re<j.length;re++){var ce=j[re];L(ce.value,{componentStack:ce.stack})}}finally{ie.T=g,ae.p=T}}(Bc&3)!==0&&Xh(),qo(h),T=h.pendingLanes,(x&4194090)!==0&&(T&42)!==0?h===Zp?Lc++:(Lc=0,Zp=h):Lc=0,fu(0)}}function Ub(h,g){(h.pooledCacheLanes&=g)===0&&(g=h.pooledCache,g!=null&&(h.pooledCache=null,Ud(g)))}function Xh(h){return Fb(),ef(),Vb(),c0()}function c0(){if(hs!==5)return!1;var h=Bl,g=Ib;Ib=0;var x=jn(Bc),j=ie.T,T=ae.p;try{ae.p=32>x?32:x,ie.T=null,x=Rb,Rb=null;var L=Bl,re=Bc;if(hs=0,cu=Bl=null,Bc=0,(Mr&6)!==0)throw Error(i(331));var ce=Mr;if(Mr|=4,Wh(L.current),Mb(L,L.current,re,x),Mr=ce,fu(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Wt,L)}catch{}return!0}finally{ae.p=T,ie.T=j,Ub(h,g)}}function d0(h,g,x){g=vo(x,g),g=su(h.stateNode,g,2),h=Ca(h,g,2),h!==null&&(ir(h,2),qo(h))}function Pr(h,g,x){if(h.tag===3)d0(h,h,x);else for(;g!==null;){if(g.tag===3){d0(g,h,x);break}else if(g.tag===1){var j=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ci===null||!Ci.has(j))){h=vo(x,h),x=Vv(2),j=Ca(g,x,2),j!==null&&(Uv(x,j,g,h),ir(j,2),qo(j));break}}g=g.return}}function tf(h,g,x){var j=h.pingCache;if(j===null){j=h.pingCache=new n0;var T=new Set;j.set(g,T)}else T=j.get(g),T===void 0&&(T=new Set,j.set(g,T));T.has(x)||(Nr=!0,T.add(x),h=u0.bind(null,h,g,x),g.then(h,h))}function u0(h,g,x){var j=h.pingCache;j!==null&&j.delete(g),h.pingedLanes|=h.suspendedLanes&x,h.warmLanes&=~x,Hr===h&&(Vt&x)===x&&(vt===4||vt===3&&(Vt&62914560)===Vt&&300>lt()-Ie?(Mr&2)===0&&uu(h,0):Je|=x,Oc===Vt&&(Oc=0)),qo(h)}function h0(h,g){g===0&&(g=Ts()),h=xc(h,g),h!==null&&(ir(h,g),qo(h))}function nC(h){var g=h.memoizedState,x=0;g!==null&&(x=g.retryLane),h0(h,x)}function sC(h,g){var x=0;switch(h.tag){case 13:var j=h.stateNode,T=h.memoizedState;T!==null&&(x=T.retryLane);break;case 19:j=h.stateNode;break;case 22:j=h.stateNode._retryCache;break;default:throw Error(i(314))}j!==null&&j.delete(g),h0(h,x)}function m0(h,g){return He(h,g)}var rf=null,pu=null,nf=!1,sf=!1,of=!1,Oa=0;function qo(h){h!==pu&&h.next===null&&(pu===null?rf=pu=h:pu=pu.next=h),sf=!0,nf||(nf=!0,g0())}function fu(h,g){if(!of&&sf){of=!0;do for(var x=!1,j=rf;j!==null;){if(h!==0){var T=j.pendingLanes;if(T===0)var L=0;else{var re=j.suspendedLanes,ce=j.pingedLanes;L=(1<<31-ct(42|h)+1)-1,L&=T&~(re&~ce),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(x=!0,qb(j,L))}else L=Vt,L=$t(j,j===Hr?L:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(L&3)===0||Bt(j,L)||(x=!0,qb(j,L));j=j.next}while(x);of=!1}}function p0(){Gb()}function Gb(){sf=nf=!1;var h=0;Oa!==0&&(k0()&&(h=Oa),Oa=0);for(var g=lt(),x=null,j=rf;j!==null;){var T=j.next,L=f0(j,g);L===0?(j.next=null,x===null?rf=T:x.next=T,T===null&&(pu=x)):(x=j,(h!==0||(L&3)!==0)&&(sf=!0)),j=T}fu(h)}function f0(h,g){for(var x=h.suspendedLanes,j=h.pingedLanes,T=h.expirationTimes,L=h.pendingLanes&-62914561;0<L;){var re=31-ct(L),ce=1<<re,ge=T[re];ge===-1?((ce&x)===0||(ce&j)!==0)&&(T[re]=Tt(ce,g)):ge<=g&&(h.expiredLanes|=ce),L&=~ce}if(g=Hr,x=Vt,x=$t(h,h===g?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),j=h.callbackNode,x===0||h===g&&(Tr===2||Tr===9)||h.cancelPendingCommit!==null)return j!==null&&j!==null&&tt(j),h.callbackNode=null,h.callbackPriority=0;if((x&3)===0||Bt(h,x)){if(g=x&-x,g===h.callbackPriority)return g;switch(j!==null&&tt(j),jn(x)){case 2:case 8:x=sn;break;case 32:x=Yr;break;case 268435456:x=_r;break;default:x=Yr}return j=Hb.bind(null,h),x=He(x,j),h.callbackPriority=g,h.callbackNode=x,g}return j!==null&&j!==null&&tt(j),h.callbackPriority=2,h.callbackNode=null,2}function Hb(h,g){if(hs!==0&&hs!==5)return h.callbackNode=null,h.callbackPriority=0,null;var x=h.callbackNode;if(Xh()&&h.callbackNode!==x)return null;var j=Vt;return j=$t(h,h===Hr?j:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),j===0?null:(no(h,j,g),f0(h,lt()),h.callbackNode!=null&&h.callbackNode===x?Hb.bind(null,h):null)}function qb(h,g){if(Xh())return null;no(h,g,!0)}function g0(){fr(function(){(Mr&6)!==0?He(br,p0):Gb()})}function Yb(){return Oa===0&&(Oa=$s()),Oa}function gu(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Ed(""+h)}function Zh(h,g){var x=g.ownerDocument.createElement("input");return x.name=g.name,x.value=g.value,h.id&&x.setAttribute("form",h.id),g.parentNode.insertBefore(x,g),h=new FormData(h),x.parentNode.removeChild(x),h}function oC(h,g,x,j,T){if(g==="submit"&&x&&x.stateNode===T){var L=gu((T[vr]||null).action),re=j.submitter;re&&(g=(g=re[vr]||null)?gu(g.formAction):re.getAttribute("formAction"),g!==null&&(L=g,re=null));var ce=new Vi("action","action",null,j,T);h.push({event:ce,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(Oa!==0){var ge=re?Zh(T,re):new FormData(T);ob(x,{pending:!0,data:ge,method:T.method,action:L},null,ge)}}else typeof L=="function"&&(ce.preventDefault(),ge=re?Zh(T,re):new FormData(T),ob(x,{pending:!0,data:ge,method:T.method,action:L},L,ge))},currentTarget:T}]})}}for(var Wb=0;Wb<It.length;Wb++){var Ba=It[Wb],iC=Ba.toLowerCase(),aC=Ba[0].toUpperCase()+Ba.slice(1);xo(iC,"on"+aC)}xo(uv,"onAnimationEnd"),xo(wa,"onAnimationIteration"),xo(wh,"onAnimationStart"),xo("dblclick","onDoubleClick"),xo("focusin","onFocus"),xo("focusout","onBlur"),xo(hv,"onTransitionRun"),xo(vl,"onTransitionStart"),xo(H1,"onTransitionCancel"),xo(Eg,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(em));function b0(h,g){g=(g&4)!==0;for(var x=0;x<h.length;x++){var j=h[x],T=j.event;j=j.listeners;e:{var L=void 0;if(g)for(var re=j.length-1;0<=re;re--){var ce=j[re],ge=ce.instance,Ee=ce.currentTarget;if(ce=ce.listener,ge!==L&&T.isPropagationStopped())break e;L=ce,T.currentTarget=Ee;try{L(T)}catch(Ve){Tc(Ve)}T.currentTarget=null,L=ge}else for(re=0;re<j.length;re++){if(ce=j[re],ge=ce.instance,Ee=ce.currentTarget,ce=ce.listener,ge!==L&&T.isPropagationStopped())break e;L=ce,T.currentTarget=Ee;try{L(T)}catch(Ve){Tc(Ve)}T.currentTarget=null,L=ge}}}}function Zt(h,g){var x=g[ii];x===void 0&&(x=g[ii]=new Set);var j=h+"__bubble";x.has(j)||(Ll(g,h,2,!1),x.add(j))}function Kb(h,g,x){var j=0;g&&(j|=4),Ll(x,h,j,g)}var af="_reactListening"+Math.random().toString(36).slice(2);function Qb(h){if(!h[af]){h[af]=!0,Cd.forEach(function(x){x!=="selectionchange"&&(lC.has(x)||Kb(x,!1,h),Kb(x,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[af]||(g[af]=!0,Kb("selectionchange",!1,g))}}function Ll(h,g,x,j){switch(z0(g)){case 2:var T=xC;break;case 8:T=Fa;break;default:T=ay}x=T.bind(null,g,x,h),T=void 0,!yo||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(T=!0),j?T!==void 0?h.addEventListener(g,x,{capture:!0,passive:T}):h.addEventListener(g,x,!0):T!==void 0?h.addEventListener(g,x,{passive:T}):h.addEventListener(g,x,!1)}function Jb(h,g,x,j,T){var L=j;if((g&1)===0&&(g&2)===0&&j!==null)e:for(;;){if(j===null)return;var re=j.tag;if(re===3||re===4){var ce=j.stateNode.containerInfo;if(ce===T)break;if(re===4)for(re=j.return;re!==null;){var ge=re.tag;if((ge===3||ge===4)&&re.stateNode.containerInfo===T)return;re=re.return}for(;ce!==null;){if(re=ca(ce),re===null)return;if(ge=re.tag,ge===5||ge===6||ge===26||ge===27){j=L=re;continue e}ce=ce.parentNode}}j=j.return}ap(function(){var Ee=L,Ve=as(x),qe=[];e:{var De=fp.get(h);if(De!==void 0){var Te=Vi,_t=h;switch(h){case"keypress":if(ui(x)===0)break e;case"keydown":case"keyup":Te=fc;break;case"focusin":_t="focus",Te=Td;break;case"focusout":_t="blur",Te=Td;break;case"beforeblur":case"afterblur":Te=Td;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=dp;break;case uv:case wa:case wh:Te=fl;break;case Eg:Te=Pd;break;case"scroll":case"scrollend":Te=ba;break;case"wheel":Te=gc;break;case"copy":case"cut":case"paste":Te=Id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=gh;break;case"toggle":case"beforetoggle":Te=hp}var yt=(g&4)!==0,Ir=!yt&&(h==="scroll"||h==="scrollend"),Ce=yt?De!==null?De+"Capture":null:De;yt=[];for(var we=Ee,Ne;we!==null;){var Ue=we;if(Ne=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Ne===null||Ce===null||(Ue=pa(we,Ce),Ue!=null&&yt.push(tm(we,Ue,Ne))),Ir)break;we=we.return}0<yt.length&&(De=new Te(De,_t,null,x,Ve),qe.push({event:De,listeners:yt}))}}if((g&7)===0){e:{if(De=h==="mouseover"||h==="pointerover",Te=h==="mouseout"||h==="pointerout",De&&x!==li&&(_t=x.relatedTarget||x.fromElement)&&(ca(_t)||_t[an]))break e;if((Te||De)&&(De=Ve.window===Ve?Ve:(De=Ve.ownerDocument)?De.defaultView||De.parentWindow:window,Te?(_t=x.relatedTarget||x.toElement,Te=Ee,_t=_t?ca(_t):null,_t!==null&&(Ir=u(_t),yt=_t.tag,_t!==Ir||yt!==5&&yt!==27&&yt!==6)&&(_t=null)):(Te=null,_t=Ee),Te!==_t)){if(yt=Po,Ue="onMouseLeave",Ce="onMouseEnter",we="mouse",(h==="pointerout"||h==="pointerover")&&(yt=gh,Ue="onPointerLeave",Ce="onPointerEnter",we="pointer"),Ir=Te==null?De:Ri(Te),Ne=_t==null?De:Ri(_t),De=new yt(Ue,we+"leave",Te,x,Ve),De.target=Ir,De.relatedTarget=Ne,Ue=null,ca(Ve)===Ee&&(yt=new yt(Ce,we+"enter",_t,x,Ve),yt.target=Ne,yt.relatedTarget=Ir,Ue=yt),Ir=Ue,Te&&_t)t:{for(yt=Te,Ce=_t,we=0,Ne=yt;Ne;Ne=bu(Ne))we++;for(Ne=0,Ue=Ce;Ue;Ue=bu(Ue))Ne++;for(;0<we-Ne;)yt=bu(yt),we--;for(;0<Ne-we;)Ce=bu(Ce),Ne--;for(;we--;){if(yt===Ce||Ce!==null&&yt===Ce.alternate)break t;yt=bu(yt),Ce=bu(Ce)}yt=null}else yt=null;Te!==null&&y0(qe,De,Te,yt,!1),_t!==null&&Ir!==null&&y0(qe,Ir,_t,yt,!0)}}e:{if(De=Ee?Ri(Ee):window,Te=De.nodeName&&De.nodeName.toLowerCase(),Te==="select"||Te==="input"&&De.type==="file")var ut=ev;else if(zn(De))if(tv)ut=av;else{ut=iv;var Qt=ov}else Te=De.nodeName,!Te||Te.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ee&&ch(Ee.elementType)&&(ut=ev):ut=U1;if(ut&&(ut=ut(h,Ee))){ya(qe,ut,x,Ve);break e}Qt&&Qt(h,De,Ee),h==="focusout"&&Ee&&De.type==="number"&&Ee.memoizedProps.value!=null&&dl(De,"number",De.value)}switch(Qt=Ee?Ri(Ee):window,h){case"focusin":(zn(Qt)||Qt.contentEditable==="true")&&(Bd=Qt,mp=Ee,Ld=null);break;case"focusout":Ld=mp=Bd=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,zr(qe,x,Ve);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":zr(qe,x,Ve)}var mt;if(Bo)e:{switch(h){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else nr?Re(h,x)&&(ft="onCompositionEnd"):h==="keydown"&&x.keyCode===229&&(ft="onCompositionStart");ft&&(Z&&x.locale!=="ko"&&(nr||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&nr&&(mt=hc()):(di=Ve,Ro="value"in di?di.value:di.textContent,nr=!0)),Qt=rm(Ee,ft),0<Qt.length&&(ft=new hh(ft,h,null,x,Ve),qe.push({event:ft,listeners:Qt}),mt?ft.data=mt:(mt=nt(x),mt!==null&&(ft.data=mt)))),(mt=H?En(h,x):sr(h,x))&&(ft=rm(Ee,"onBeforeInput"),0<ft.length&&(Qt=new hh("onBeforeInput","beforeinput",null,x,Ve),qe.push({event:Qt,listeners:ft}),Qt.data=mt)),oC(qe,h,Ee,x,Ve)}b0(qe,g)})}function tm(h,g,x){return{instance:h,listener:g,currentTarget:x}}function rm(h,g){for(var x=g+"Capture",j=[];h!==null;){var T=h,L=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||L===null||(T=pa(h,x),T!=null&&j.unshift(tm(h,T,L)),T=pa(h,g),T!=null&&j.push(tm(h,T,L))),h.tag===3)return j;h=h.return}return[]}function bu(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function y0(h,g,x,j,T){for(var L=g._reactName,re=[];x!==null&&x!==j;){var ce=x,ge=ce.alternate,Ee=ce.stateNode;if(ce=ce.tag,ge!==null&&ge===j)break;ce!==5&&ce!==26&&ce!==27||Ee===null||(ge=Ee,T?(Ee=pa(x,L),Ee!=null&&re.unshift(tm(x,Ee,ge))):T||(Ee=pa(x,L),Ee!=null&&re.push(tm(x,Ee,ge)))),x=x.return}re.length!==0&&h.push({event:g,listeners:re})}var cC=/\r\n?/g,x0=/\u0000|\uFFFD/g;function v0(h){return(typeof h=="string"?h:""+h).replace(cC,`
`).replace(x0,"")}function w0(h,g){return g=v0(g),v0(h)===g}function nm(){}function Or(h,g,x,j,T,L){switch(x){case"children":typeof j=="string"?g==="body"||g==="textarea"&&j===""||Ls(h,j):(typeof j=="number"||typeof j=="bigint")&&g!=="body"&&Ls(h,""+j);break;case"className":Pi(h,"class",j);break;case"tabIndex":Pi(h,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(h,x,j);break;case"style":ha(h,j,L);break;case"data":if(g!=="object"){Pi(h,"data",j);break}case"src":case"href":if(j===""&&(g!=="a"||x!=="href")){h.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){h.removeAttribute(x);break}j=Ed(""+j),h.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){h.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(x==="formAction"?(g!=="input"&&Or(h,g,"name",T.name,T,null),Or(h,g,"formEncType",T.formEncType,T,null),Or(h,g,"formMethod",T.formMethod,T,null),Or(h,g,"formTarget",T.formTarget,T,null)):(Or(h,g,"encType",T.encType,T,null),Or(h,g,"method",T.method,T,null),Or(h,g,"target",T.target,T,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){h.removeAttribute(x);break}j=Ed(""+j),h.setAttribute(x,j);break;case"onClick":j!=null&&(h.onclick=nm);break;case"onScroll":j!=null&&Zt("scroll",h);break;case"onScrollEnd":j!=null&&Zt("scrollend",h);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(i(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(i(60));h.innerHTML=x}}break;case"multiple":h.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":h.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){h.removeAttribute("xlink:href");break}x=Ed(""+j),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?h.setAttribute(x,""+j):h.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?h.setAttribute(x,""):h.removeAttribute(x);break;case"capture":case"download":j===!0?h.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?h.setAttribute(x,j):h.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?h.setAttribute(x,j):h.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?h.removeAttribute(x):h.setAttribute(x,j);break;case"popover":Zt("beforetoggle",h),Zt("toggle",h),ll(h,"popover",j);break;case"xlinkActuate":is(h,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":is(h,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":is(h,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":is(h,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":is(h,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":is(h,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":is(h,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":is(h,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":is(h,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":ll(h,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Sd.get(x)||x,ll(h,x,j))}}function $b(h,g,x,j,T,L){switch(x){case"style":ha(h,j,L);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(i(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(i(60));h.innerHTML=x}}break;case"children":typeof j=="string"?Ls(h,j):(typeof j=="number"||typeof j=="bigint")&&Ls(h,""+j);break;case"onScroll":j!=null&&Zt("scroll",h);break;case"onScrollEnd":j!=null&&Zt("scrollend",h);break;case"onClick":j!=null&&(h.onclick=nm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_d.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(T=x.endsWith("Capture"),g=x.slice(2,T?x.length-7:void 0),L=h[vr]||null,L=L!=null?L[x]:null,typeof L=="function"&&h.removeEventListener(g,L,T),typeof j=="function")){typeof L!="function"&&L!==null&&(x in h?h[x]=null:h.hasAttribute(x)&&h.removeAttribute(x)),h.addEventListener(g,j,T);break e}x in h?h[x]=j:j===!0?h.setAttribute(x,""):ll(h,x,j)}}}function ms(h,g,x){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",h),Zt("load",h);var j=!1,T=!1,L;for(L in x)if(x.hasOwnProperty(L)){var re=x[L];if(re!=null)switch(L){case"src":j=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:Or(h,g,L,re,x,null)}}T&&Or(h,g,"srcSet",x.srcSet,x,null),j&&Or(h,g,"src",x.src,x,null);return;case"input":Zt("invalid",h);var ce=L=re=T=null,ge=null,Ee=null;for(j in x)if(x.hasOwnProperty(j)){var Ve=x[j];if(Ve!=null)switch(j){case"name":T=Ve;break;case"type":re=Ve;break;case"checked":ge=Ve;break;case"defaultChecked":Ee=Ve;break;case"value":L=Ve;break;case"defaultValue":ce=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,g));break;default:Or(h,g,j,Ve,x,null)}}dc(h,L,ce,ge,Ee,re,T,!1),Nd(h);return;case"select":Zt("invalid",h),j=re=L=null;for(T in x)if(x.hasOwnProperty(T)&&(ce=x[T],ce!=null))switch(T){case"value":L=ce;break;case"defaultValue":re=ce;break;case"multiple":j=ce;default:Or(h,g,T,ce,x,null)}g=L,x=re,h.multiple=!!j,g!=null?da(h,!!j,g,!1):x!=null&&da(h,!!j,x,!0);return;case"textarea":Zt("invalid",h),L=T=j=null;for(re in x)if(x.hasOwnProperty(re)&&(ce=x[re],ce!=null))switch(re){case"value":j=ce;break;case"defaultValue":T=ce;break;case"children":L=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(91));break;default:Or(h,g,re,ce,x,null)}Io(h,j,T,L),Nd(h);return;case"option":for(ge in x)if(x.hasOwnProperty(ge)&&(j=x[ge],j!=null))switch(ge){case"selected":h.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Or(h,g,ge,j,x,null)}return;case"dialog":Zt("beforetoggle",h),Zt("toggle",h),Zt("cancel",h),Zt("close",h);break;case"iframe":case"object":Zt("load",h);break;case"video":case"audio":for(j=0;j<em.length;j++)Zt(em[j],h);break;case"image":Zt("error",h),Zt("load",h);break;case"details":Zt("toggle",h);break;case"embed":case"source":case"link":Zt("error",h),Zt("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in x)if(x.hasOwnProperty(Ee)&&(j=x[Ee],j!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:Or(h,g,Ee,j,x,null)}return;default:if(ch(g)){for(Ve in x)x.hasOwnProperty(Ve)&&(j=x[Ve],j!==void 0&&$b(h,g,Ve,j,x,void 0));return}}for(ce in x)x.hasOwnProperty(ce)&&(j=x[ce],j!=null&&Or(h,g,ce,j,x,null))}function dC(h,g,x,j){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,L=null,re=null,ce=null,ge=null,Ee=null,Ve=null;for(Te in x){var qe=x[Te];if(x.hasOwnProperty(Te)&&qe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ge=qe;default:j.hasOwnProperty(Te)||Or(h,g,Te,null,j,qe)}}for(var De in j){var Te=j[De];if(qe=x[De],j.hasOwnProperty(De)&&(Te!=null||qe!=null))switch(De){case"type":L=Te;break;case"name":T=Te;break;case"checked":Ee=Te;break;case"defaultChecked":Ve=Te;break;case"value":re=Te;break;case"defaultValue":ce=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,g));break;default:Te!==qe&&Or(h,g,De,Te,j,qe)}}xs(h,re,ce,ge,Ee,Ve,L,T);return;case"select":Te=re=ce=De=null;for(L in x)if(ge=x[L],x.hasOwnProperty(L)&&ge!=null)switch(L){case"value":break;case"multiple":Te=ge;default:j.hasOwnProperty(L)||Or(h,g,L,null,j,ge)}for(T in j)if(L=j[T],ge=x[T],j.hasOwnProperty(T)&&(L!=null||ge!=null))switch(T){case"value":De=L;break;case"defaultValue":ce=L;break;case"multiple":re=L;default:L!==ge&&Or(h,g,T,L,j,ge)}g=ce,x=re,j=Te,De!=null?da(h,!!x,De,!1):!!j!=!!x&&(g!=null?da(h,!!x,g,!0):da(h,!!x,x?[]:"",!1));return;case"textarea":Te=De=null;for(ce in x)if(T=x[ce],x.hasOwnProperty(ce)&&T!=null&&!j.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Or(h,g,ce,null,j,T)}for(re in j)if(T=j[re],L=x[re],j.hasOwnProperty(re)&&(T!=null||L!=null))switch(re){case"value":De=T;break;case"defaultValue":Te=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==L&&Or(h,g,re,T,j,L)}Rr(h,De,Te);return;case"option":for(var _t in x)if(De=x[_t],x.hasOwnProperty(_t)&&De!=null&&!j.hasOwnProperty(_t))switch(_t){case"selected":h.selected=!1;break;default:Or(h,g,_t,null,j,De)}for(ge in j)if(De=j[ge],Te=x[ge],j.hasOwnProperty(ge)&&De!==Te&&(De!=null||Te!=null))switch(ge){case"selected":h.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Or(h,g,ge,De,j,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in x)De=x[yt],x.hasOwnProperty(yt)&&De!=null&&!j.hasOwnProperty(yt)&&Or(h,g,yt,null,j,De);for(Ee in j)if(De=j[Ee],Te=x[Ee],j.hasOwnProperty(Ee)&&De!==Te&&(De!=null||Te!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,g));break;default:Or(h,g,Ee,De,j,Te)}return;default:if(ch(g)){for(var Ir in x)De=x[Ir],x.hasOwnProperty(Ir)&&De!==void 0&&!j.hasOwnProperty(Ir)&&$b(h,g,Ir,void 0,j,De);for(Ve in j)De=j[Ve],Te=x[Ve],!j.hasOwnProperty(Ve)||De===Te||De===void 0&&Te===void 0||$b(h,g,Ve,De,j,Te);return}}for(var Ce in x)De=x[Ce],x.hasOwnProperty(Ce)&&De!=null&&!j.hasOwnProperty(Ce)&&Or(h,g,Ce,null,j,De);for(qe in j)De=j[qe],Te=x[qe],!j.hasOwnProperty(qe)||De===Te||De==null&&Te==null||Or(h,g,qe,De,j,Te)}var Xb=null,sm=null;function om(h){return h.nodeType===9?h:h.ownerDocument}function so(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lf(h,g){if(h===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&g==="foreignObject"?0:h}function cf(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Fc=null;function k0(){var h=window.event;return h&&h.type==="popstate"?h===Fc?!1:(Fc=h,!0):(Fc=null,!1)}var yu=typeof setTimeout=="function"?setTimeout:void 0,im=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,fr=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(h){return Zb.resolve(null).then(h).catch(Xn)}:yu;function Xn(h){setTimeout(function(){throw h})}function or(h){return h==="head"}function en(h,g){var x=g,j=0,T=0;do{var L=x.nextSibling;if(h.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(0<j&&8>j){x=j;var re=h.ownerDocument;if(x&1&&Vc(re.documentElement),x&2&&Vc(re.body),x&4)for(x=re.head,Vc(x),re=x.firstChild;re;){var ce=re.nextSibling,ge=re.nodeName;re[Xs]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&re.rel.toLowerCase()==="stylesheet"||x.removeChild(re),re=ce}}if(T===0){h.removeChild(L),fm(g);return}T--}else x==="$"||x==="$?"||x==="$!"?T++:j=x.charCodeAt(0)-48;else j=0;x=L}while(x);fm(g)}function Ns(h){var g=h.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var x=g;switch(g=g.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Ns(x),al(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}h.removeChild(x)}}function C0(h,g,x,j){for(;h.nodeType===1;){var T=x;if(h.nodeName.toLowerCase()!==g.toLowerCase()){if(!j&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(j){if(!h[Xs])switch(g){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(L=h.getAttribute("rel"),L==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(L!==T.rel||h.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||h.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||h.getAttribute("title")!==(T.title==null?null:T.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(L=h.getAttribute("src"),(L!==(T.src==null?null:T.src)||h.getAttribute("type")!==(T.type==null?null:T.type)||h.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&L&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(g==="input"&&h.type==="hidden"){var L=T.name==null?null:""+T.name;if(T.type==="hidden"&&h.getAttribute("name")===L)return h}else return h;if(h=Un(h.nextSibling),h===null)break}return null}function yn(h,g,x){if(g==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!x||(h=Un(h.nextSibling),h===null))return null;return h}function xn(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function oo(h,g){var x=h.ownerDocument;if(h.data!=="$?"||x.readyState==="complete")g();else{var j=function(){g(),x.removeEventListener("DOMContentLoaded",j)};x.addEventListener("DOMContentLoaded",j),h._reactRetry=j}}function Un(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return h}var Yo=null;function So(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var x=h.data;if(x==="$"||x==="$!"||x==="$?"){if(g===0)return h;g--}else x==="/$"&&g++}h=h.previousSibling}return null}function _0(h,g,x){switch(g=om(x),h){case"html":if(h=g.documentElement,!h)throw Error(i(452));return h;case"head":if(h=g.head,!h)throw Error(i(453));return h;case"body":if(h=g.body,!h)throw Error(i(454));return h;default:throw Error(i(451))}}function Vc(h){for(var g=h.attributes;g.length;)h.removeAttributeNode(g[0]);al(h)}var Rt=new Map,A0=new Set;function am(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var La=ae.d;ae.d={f:uC,r:j0,D:xu,C:ps,L:hC,m:mC,X:pC,S:vu,M:fC};function uC(){var h=La.f(),g=du();return h||g}function j0(h){var g=Ii(h);g!==null&&g.tag===5&&g.type==="form"?Rv(g):La.r(h)}var Uc=typeof document>"u"?null:document;function ey(h,g,x){var j=Uc;if(j&&typeof g=="string"&&g){var T=Nn(g);T='link[rel="'+h+'"][href="'+T+'"]',typeof x=="string"&&(T+='[crossorigin="'+x+'"]'),A0.has(T)||(A0.add(T),h={rel:h,crossOrigin:x,href:g},j.querySelector(T)===null&&(g=j.createElement("link"),ms(g,"link",h),Xr(g),j.head.appendChild(g)))}}function xu(h){La.D(h),ey("dns-prefetch",h,null)}function ps(h,g){La.C(h,g),ey("preconnect",h,g)}function hC(h,g,x){La.L(h,g,x);var j=Uc;if(j&&h&&g){var T='link[rel="preload"][as="'+Nn(g)+'"]';g==="image"&&x&&x.imageSrcSet?(T+='[imagesrcset="'+Nn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(T+='[imagesizes="'+Nn(x.imageSizes)+'"]')):T+='[href="'+Nn(h)+'"]';var L=T;switch(g){case"style":L=Gc(h);break;case"script":L=Hc(h)}Rt.has(L)||(h=k({rel:"preload",href:g==="image"&&x&&x.imageSrcSet?void 0:h,as:g},x),Rt.set(L,h),j.querySelector(T)!==null||g==="style"&&j.querySelector(lm(L))||g==="script"&&j.querySelector(cm(L))||(g=j.createElement("link"),ms(g,"link",h),Xr(g),j.head.appendChild(g)))}}function mC(h,g){La.m(h,g);var x=Uc;if(x&&h){var j=g&&typeof g.as=="string"?g.as:"script",T='link[rel="modulepreload"][as="'+Nn(j)+'"][href="'+Nn(h)+'"]',L=T;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Hc(h)}if(!Rt.has(L)&&(h=k({rel:"modulepreload",href:h},g),Rt.set(L,h),x.querySelector(T)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(cm(L)))return}j=x.createElement("link"),ms(j,"link",h),Xr(j),x.head.appendChild(j)}}}function vu(h,g,x){La.S(h,g,x);var j=Uc;if(j&&h){var T=fn(j).hoistableStyles,L=Gc(h);g=g||"default";var re=T.get(L);if(!re){var ce={loading:0,preload:null};if(re=j.querySelector(lm(L)))ce.loading=5;else{h=k({rel:"stylesheet",href:h,"data-precedence":g},x),(x=Rt.get(L))&&ry(h,x);var ge=re=j.createElement("link");Xr(ge),ms(ge,"link",h),ge._p=new Promise(function(Ee,Ve){ge.onload=Ee,ge.onerror=Ve}),ge.addEventListener("load",function(){ce.loading|=1}),ge.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,df(re,g,j)}re={type:"stylesheet",instance:re,count:1,state:ce},T.set(L,re)}}}function pC(h,g){La.X(h,g);var x=Uc;if(x&&h){var j=fn(x).hoistableScripts,T=Hc(h),L=j.get(T);L||(L=x.querySelector(cm(T)),L||(h=k({src:h,async:!0},g),(g=Rt.get(T))&&ny(h,g),L=x.createElement("script"),Xr(L),ms(L,"link",h),x.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},j.set(T,L))}}function fC(h,g){La.M(h,g);var x=Uc;if(x&&h){var j=fn(x).hoistableScripts,T=Hc(h),L=j.get(T);L||(L=x.querySelector(cm(T)),L||(h=k({src:h,async:!0,type:"module"},g),(g=Rt.get(T))&&ny(h,g),L=x.createElement("script"),Xr(L),ms(L,"link",h),x.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},j.set(T,L))}}function N0(h,g,x,j){var T=(T=Ae.current)?am(T):null;if(!T)throw Error(i(446));switch(h){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(g=Gc(x.href),x=fn(T).hoistableStyles,j=x.get(g),j||(j={type:"style",instance:null,count:0,state:null},x.set(g,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){h=Gc(x.href);var L=fn(T).hoistableStyles,re=L.get(h);if(re||(T=T.ownerDocument||T,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(h,re),(L=T.querySelector(lm(h)))&&!L._p&&(re.instance=L,re.state.loading=5),Rt.has(h)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Rt.set(h,x),L||E0(T,h,x,re.state))),g&&j===null)throw Error(i(528,""));return re}if(g&&j!==null)throw Error(i(529,""));return null;case"script":return g=x.async,x=x.src,typeof x=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=Hc(x),x=fn(T).hoistableScripts,j=x.get(g),j||(j={type:"script",instance:null,count:0,state:null},x.set(g,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,h))}}function Gc(h){return'href="'+Nn(h)+'"'}function lm(h){return'link[rel="stylesheet"]['+h+"]"}function S0(h){return k({},h,{"data-precedence":h.precedence,precedence:null})}function E0(h,g,x,j){h.querySelector('link[rel="preload"][as="style"]['+g+"]")?j.loading=1:(g=h.createElement("link"),j.preload=g,g.addEventListener("load",function(){return j.loading|=1}),g.addEventListener("error",function(){return j.loading|=2}),ms(g,"link",x),Xr(g),h.head.appendChild(g))}function Hc(h){return'[src="'+Nn(h)+'"]'}function cm(h){return"script[async]"+h}function ty(h,g,x){if(g.count++,g.instance===null)switch(g.type){case"style":var j=h.querySelector('style[data-href~="'+Nn(x.href)+'"]');if(j)return g.instance=j,Xr(j),j;var T=k({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(h.ownerDocument||h).createElement("style"),Xr(j),ms(j,"style",T),df(j,x.precedence,h),g.instance=j;case"stylesheet":T=Gc(x.href);var L=h.querySelector(lm(T));if(L)return g.state.loading|=4,g.instance=L,Xr(L),L;j=S0(x),(T=Rt.get(T))&&ry(j,T),L=(h.ownerDocument||h).createElement("link"),Xr(L);var re=L;return re._p=new Promise(function(ce,ge){re.onload=ce,re.onerror=ge}),ms(L,"link",j),g.state.loading|=4,df(L,x.precedence,h),g.instance=L;case"script":return L=Hc(x.src),(T=h.querySelector(cm(L)))?(g.instance=T,Xr(T),T):(j=x,(T=Rt.get(L))&&(j=k({},x),ny(j,T)),h=h.ownerDocument||h,T=h.createElement("script"),Xr(T),ms(T,"link",j),h.head.appendChild(T),g.instance=T);case"void":return null;default:throw Error(i(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(j=g.instance,g.state.loading|=4,df(j,x.precedence,h));return g.instance}function df(h,g,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=j.length?j[j.length-1]:null,L=T,re=0;re<j.length;re++){var ce=j[re];if(ce.dataset.precedence===g)L=ce;else if(L!==T)break}L?L.parentNode.insertBefore(h,L.nextSibling):(g=x.nodeType===9?x.head:x,g.insertBefore(h,g.firstChild))}function ry(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.title==null&&(h.title=g.title)}function ny(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.integrity==null&&(h.integrity=g.integrity)}var qc=null;function D0(h,g,x){if(qc===null){var j=new Map,T=qc=new Map;T.set(x,j)}else T=qc,j=T.get(x),j||(j=new Map,T.set(x,j));if(j.has(h))return j;for(j.set(h,null),x=x.getElementsByTagName(h),T=0;T<x.length;T++){var L=x[T];if(!(L[Xs]||L[xr]||h==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var re=L.getAttribute(g)||"";re=h+re;var ce=j.get(re);ce?ce.push(L):j.set(re,[L])}}return j}function M0(h,g,x){h=h.ownerDocument||h,h.head.insertBefore(x,g==="title"?h.querySelector("head > title"):null)}function gC(h,g,x){if(x===1||g.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return h=g.disabled,typeof g.precedence=="string"&&h==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function sy(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var dm=null;function bC(){}function T0(h,g,x){if(dm===null)throw Error(i(475));var j=dm;if(g.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var T=Gc(x.href),L=h.querySelector(lm(T));if(L){h=L._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(j.count++,j=um.bind(j),h.then(j,j)),g.state.loading|=4,g.instance=L,Xr(L);return}L=h.ownerDocument||h,x=S0(x),(T=Rt.get(T))&&ry(x,T),L=L.createElement("link"),Xr(L);var re=L;re._p=new Promise(function(ce,ge){re.onload=ce,re.onerror=ge}),ms(L,"link",x),g.instance=L}j.stylesheets===null&&(j.stylesheets=new Map),j.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(j.count++,g=um.bind(j),h.addEventListener("load",g),h.addEventListener("error",g))}}function I0(){if(dm===null)throw Error(i(475));var h=dm;return h.stylesheets&&h.count===0&&oy(h,h.stylesheets),0<h.count?function(g){var x=setTimeout(function(){if(h.stylesheets&&oy(h,h.stylesheets),h.unsuspend){var j=h.unsuspend;h.unsuspend=null,j()}},6e4);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(x)}}:null}function um(){if(this.count--,this.count===0){if(this.stylesheets)oy(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var hm=null;function oy(h,g){h.stylesheets=null,h.unsuspend!==null&&(h.count++,hm=new Map,g.forEach(R0,h),hm=null,um.call(h))}function R0(h,g){if(!(g.state.loading&4)){var x=hm.get(h);if(x)var j=x.get(null);else{x=new Map,hm.set(h,x);for(var T=h.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<T.length;L++){var re=T[L];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(x.set(re.dataset.precedence,re),j=re)}j&&x.set(null,j)}T=g.instance,re=T.getAttribute("data-precedence"),L=x.get(re)||j,L===j&&x.set(null,T),x.set(re,T),this.count++,j=um.bind(this),T.addEventListener("load",j),T.addEventListener("error",j),L?L.parentNode.insertBefore(T,L.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(T,h.firstChild)),g.state.loading|=4}}var mm={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function yC(h,g,x,j,T,L,re,ce){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=j,this.onUncaughtError=T,this.onCaughtError=L,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function P0(h,g,x,j,T,L,re,ce,ge,Ee,Ve,qe){return h=new yC(h,g,x,re,ce,ge,Ee,qe),g=1,L===!0&&(g|=24),L=ws(3,null,null,g),h.current=L,L.stateNode=h,g=Vd(),g.refCount++,h.pooledCache=g,g.refCount++,L.memoizedState={element:j,isDehydrated:x,cache:g},Ap(L),h}function iy(h){return h?(h=zd,h):zd}function O0(h,g,x,j,T,L){T=iy(T),j.context===null?j.context=T:j.pendingContext=T,j=bi(g),j.payload={element:x},L=L===void 0?null:L,L!==null&&(j.callback=L),x=Ca(h,j,g),x!==null&&(ro(x,h,g),Mh(x,h,g))}function B0(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var x=h.retryLane;h.retryLane=x!==0&&x<g?x:g}}function uf(h,g){B0(h,g),(h=h.alternate)&&B0(h,g)}function L0(h){if(h.tag===13){var g=xc(h,67108864);g!==null&&ro(g,h,67108864),uf(h,67108864)}}var za=!0;function xC(h,g,x,j){var T=ie.T;ie.T=null;var L=ae.p;try{ae.p=2,ay(h,g,x,j)}finally{ae.p=L,ie.T=T}}function Fa(h,g,x,j){var T=ie.T;ie.T=null;var L=ae.p;try{ae.p=8,ay(h,g,x,j)}finally{ae.p=L,ie.T=T}}function ay(h,g,x,j){if(za){var T=hf(j);if(T===null)Jb(h,g,j,pm,x),V0(h,j);else if(vC(T,h,g,x,j))j.stopPropagation();else if(V0(h,j),g&4&&-1<F0.indexOf(h)){for(;T!==null;){var L=Ii(T);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var re=Le(L.pendingLanes);if(re!==0){var ce=L;for(ce.pendingLanes|=2,ce.entangledLanes|=2;re;){var ge=1<<31-ct(re);ce.entanglements[1]|=ge,re&=~ge}qo(L),(Mr&6)===0&&(Qh=lt()+500,fu(0))}}break;case 13:ce=xc(L,2),ce!==null&&ro(ce,L,2),du(),uf(L,2)}if(L=hf(j),L===null&&Jb(h,g,j,pm,x),L===T)break;T=L}T!==null&&j.stopPropagation()}else Jb(h,g,j,null,x)}}function hf(h){return h=as(h),Yc(h)}var pm=null;function Yc(h){if(pm=null,h=ca(h),h!==null){var g=u(h);if(g===null)h=null;else{var x=g.tag;if(x===13){if(h=m(g),h!==null)return h;h=null}else if(x===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null)}}return pm=h,null}function z0(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case br:return 2;case sn:return 8;case Yr:case Er:return 32;case _r:return 268435456;default:return 32}default:return 32}}var mf=!1,zl=null,Va=null,Ua=null,Wc=new Map,wu=new Map,Ga=[],F0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V0(h,g){switch(h){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Wc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(g.pointerId)}}function ku(h,g,x,j,T,L){return h===null||h.nativeEvent!==L?(h={blockedOn:g,domEventName:x,eventSystemFlags:j,nativeEvent:L,targetContainers:[T]},g!==null&&(g=Ii(g),g!==null&&L0(g)),h):(h.eventSystemFlags|=j,g=h.targetContainers,T!==null&&g.indexOf(T)===-1&&g.push(T),h)}function vC(h,g,x,j,T){switch(g){case"focusin":return zl=ku(zl,h,g,x,j,T),!0;case"dragenter":return Va=ku(Va,h,g,x,j,T),!0;case"mouseover":return Ua=ku(Ua,h,g,x,j,T),!0;case"pointerover":var L=T.pointerId;return Wc.set(L,ku(Wc.get(L)||null,h,g,x,j,T)),!0;case"gotpointercapture":return L=T.pointerId,wu.set(L,ku(wu.get(L)||null,h,g,x,j,T)),!0}return!1}function U0(h){var g=ca(h.target);if(g!==null){var x=u(g);if(x!==null){if(g=x.tag,g===13){if(g=m(x),g!==null){h.blockedOn=g,oi(h.priority,function(){if(x.tag===13){var j=to();j=pn(j);var T=xc(x,j);T!==null&&ro(T,x,j),uf(x,j)}});return}}else if(g===3&&x.stateNode.current.memoizedState.isDehydrated){h.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}h.blockedOn=null}function pf(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var x=hf(h.nativeEvent);if(x===null){x=h.nativeEvent;var j=new x.constructor(x.type,x);li=j,x.target.dispatchEvent(j),li=null}else return g=Ii(x),g!==null&&L0(g),h.blockedOn=x,!1;g.shift()}return!0}function G0(h,g,x){pf(h)&&x.delete(g)}function wC(){mf=!1,zl!==null&&pf(zl)&&(zl=null),Va!==null&&pf(Va)&&(Va=null),Ua!==null&&pf(Ua)&&(Ua=null),Wc.forEach(G0),wu.forEach(G0)}function ff(h,g){h.blockedOn===g&&(h.blockedOn=null,mf||(mf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wC)))}var gf=null;function bf(h){gf!==h&&(gf=h,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gf===h&&(gf=null);for(var g=0;g<h.length;g+=3){var x=h[g],j=h[g+1],T=h[g+2];if(typeof j!="function"){if(Yc(j||x)===null)continue;break}var L=Ii(x);L!==null&&(h.splice(g,3),g-=3,ob(L,{pending:!0,data:T,method:x.method,action:j},j,T))}}))}function fm(h){function g(ge){return ff(ge,h)}zl!==null&&ff(zl,h),Va!==null&&ff(Va,h),Ua!==null&&ff(Ua,h),Wc.forEach(g),wu.forEach(g);for(var x=0;x<Ga.length;x++){var j=Ga[x];j.blockedOn===h&&(j.blockedOn=null)}for(;0<Ga.length&&(x=Ga[0],x.blockedOn===null);)U0(x),x.blockedOn===null&&Ga.shift();if(x=(h.ownerDocument||h).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var T=x[j],L=x[j+1],re=T[vr]||null;if(typeof L=="function")re||bf(x);else if(re){var ce=null;if(L&&L.hasAttribute("formAction")){if(T=L,re=L[vr]||null)ce=re.formAction;else if(Yc(T)!==null)continue}else ce=re.action;typeof ce=="function"?x[j+1]=ce:(x.splice(j,3),j-=3),bf(x)}}}function gm(h){this._internalRoot=h}Ki.prototype.render=gm.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(i(409));var x=g.current,j=to();O0(x,j,h,g,null,null)},Ki.prototype.unmount=gm.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;O0(h.current,2,null,h,null,null),du(),g[an]=null}};function Ki(h){this._internalRoot=h}Ki.prototype.unstable_scheduleHydration=function(h){if(h){var g=yr();h={blockedOn:null,target:h,priority:g};for(var x=0;x<Ga.length&&g!==0&&g<Ga[x].priority;x++);Ga.splice(x,0,h),x===0&&U0(h)}};var H0=t.version;if(H0!=="19.1.0")throw Error(i(527,H0,"19.1.0"));ae.findDOMNode=function(h){var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(i(188)):(h=Object.keys(h).join(","),Error(i(268,h)));return h=b(g),h=h!==null?v(h):null,h=h===null?null:h.stateNode,h};var kC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Wt=Kc.inject(kC),kt=Kc}catch{}}return my.createRoot=function(h,g){if(!l(h))throw Error(i(299));var x=!1,j="",T=Tl,L=zv,re=zp,ce=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(j=g.identifierPrefix),g.onUncaughtError!==void 0&&(T=g.onUncaughtError),g.onCaughtError!==void 0&&(L=g.onCaughtError),g.onRecoverableError!==void 0&&(re=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ce=g.unstable_transitionCallbacks)),g=P0(h,1,!1,null,null,x,j,T,L,re,ce,null),h[an]=g.current,Qb(h),new gm(g)},my.hydrateRoot=function(h,g,x){if(!l(h))throw Error(i(299));var j=!1,T="",L=Tl,re=zv,ce=zp,ge=null,Ee=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onUncaughtError!==void 0&&(L=x.onUncaughtError),x.onCaughtError!==void 0&&(re=x.onCaughtError),x.onRecoverableError!==void 0&&(ce=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(ge=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ee=x.formState)),g=P0(h,1,!0,g,x??null,j,T,L,re,ce,ge,Ee),g.context=iy(null),x=g.current,j=to(),j=pn(j),T=bi(j),T.callback=null,Ca(x,T,j),x=j,g.current.lanes=x,ir(g,x),qo(g),h[an]=g.current,Qb(h),new Ki(g)},my.version="19.1.0",my}var G5;function mU(){if(G5)return k_.exports;G5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),k_.exports=hU(),k_.exports}var pU=mU();const fU=Yk(pU),gU="modulepreload",bU=function(r){return"/"+r},H5={},j_=function(t,s,i){let l=Promise.resolve();if(s&&s.length>0){let m=function(v){return Promise.all(v.map(k=>Promise.resolve(k).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),b=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=m(s.map(v=>{if(v=bU(v),v in H5)return;H5[v]=!0;const k=v.endsWith(".css"),C=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${C}`))return;const _=document.createElement("link");if(_.rel=k?"stylesheet":gU,k||(_.as="script"),_.crossOrigin="",_.href=v,b&&_.setAttribute("nonce",b),document.head.appendChild(_),k)return new Promise((S,M)=>{_.addEventListener("load",S),_.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(m){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=m,window.dispatchEvent(f),!f.defaultPrevented)throw m}return l.then(m=>{for(const f of m||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var py={},q5;function yU(){if(q5)return py;q5=1,Object.defineProperty(py,"__esModule",{value:!0}),py.parse=m,py.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function m(_,S){const M=new u,R=_.length;if(R<2)return M;const I=(S==null?void 0:S.decode)||k;let z=0;do{const V=_.indexOf("=",z);if(V===-1)break;const U=_.indexOf(";",z),q=U===-1?R:U;if(V>q){z=_.lastIndexOf(";",V-1)+1;continue}const $=f(_,z,V),ne=b(_,V,$),Q=_.slice($,ne);if(M[Q]===void 0){let B=f(_,V+1,q),Y=b(_,q,B);const J=I(_.slice(B,Y));M[Q]=J}z=q+1}while(z<R);return M}function f(_,S,M){do{const R=_.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<M);return M}function b(_,S,M){for(;S>M;){const R=_.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return M}function v(_,S,M){const R=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=R(S);if(!t.test(I))throw new TypeError(`argument val is invalid: ${S}`);let z=_+"="+I;if(!M)return z;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);z+="; Max-Age="+M.maxAge}if(M.domain){if(!s.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);z+="; Domain="+M.domain}if(M.path){if(!i.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);z+="; Path="+M.path}if(M.expires){if(!C(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);z+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(z+="; HttpOnly"),M.secure&&(z+="; Secure"),M.partitioned&&(z+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return z}function k(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function C(_){return l.call(_)==="[object Date]"}return py}yU();var Y5="popstate";function xU(r={}){function t(i,l){let{pathname:u,search:m,hash:f}=i.location;return _2("",{pathname:u,search:m,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){return typeof l=="string"?l:Jy(l)}return wU(t,s,null,r)}function hn(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ra(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vU(){return Math.random().toString(36).substring(2,10)}function W5(r,t){return{usr:r.state,key:r.key,idx:t}}function _2(r,t,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?eg(t):t,state:s,key:t&&t.key||i||vU()}}function Jy({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function eg(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function wU(r,t,s,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,m=l.history,f="POP",b=null,v=k();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function k(){return(m.state||{idx:null}).idx}function C(){f="POP";let I=k(),z=I==null?null:I-v;v=I,b&&b({action:f,location:R.location,delta:z})}function _(I,z){f="PUSH";let V=_2(R.location,I,z);v=k()+1;let U=W5(V,v),q=R.createHref(V);try{m.pushState(U,"",q)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(q)}u&&b&&b({action:f,location:R.location,delta:1})}function S(I,z){f="REPLACE";let V=_2(R.location,I,z);v=k();let U=W5(V,v),q=R.createHref(V);m.replaceState(U,"",q),u&&b&&b({action:f,location:R.location,delta:0})}function M(I){return kU(I)}let R={get action(){return f},get location(){return r(l,m)},listen(I){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(Y5,C),b=I,()=>{l.removeEventListener(Y5,C),b=null}},createHref(I){return t(l,I)},createURL:M,encodeLocation(I){let z=M(I);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:S,go(I){return m.go(I)}};return R}function kU(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),hn(s,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Jy(r);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function h3(r,t,s="/"){return CU(r,t,s,!1)}function CU(r,t,s,i){let l=typeof t=="string"?eg(t):t,u=hd(l.pathname||"/",s);if(u==null)return null;let m=m3(r);_U(m);let f=null;for(let b=0;f==null&&b<m.length;++b){let v=PU(u);f=IU(m[b],v,i)}return f}function m3(r,t=[],s=[],i=""){let l=(u,m,f)=>{let b={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};b.relativePath.startsWith("/")&&(hn(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length));let v=id([i,b.relativePath]),k=s.concat(b);u.children&&u.children.length>0&&(hn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),m3(u.children,t,k,v)),!(u.path==null&&!u.index)&&t.push({path:v,score:MU(v,u.index),routesMeta:k})};return r.forEach((u,m)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,m);else for(let b of p3(u.path))l(u,m,b)}),t}function p3(r){let t=r.split("/");if(t.length===0)return[];let[s,...i]=t,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let m=p3(i.join("/")),f=[];return f.push(...m.map(b=>b===""?u:[u,b].join("/"))),l&&f.push(...m),f.map(b=>r.startsWith("/")&&b===""?"/":b)}function _U(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:TU(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var AU=/^:[\w-]+$/,jU=3,NU=2,SU=1,EU=10,DU=-2,K5=r=>r==="*";function MU(r,t){let s=r.split("/"),i=s.length;return s.some(K5)&&(i+=DU),t&&(i+=NU),s.filter(l=>!K5(l)).reduce((l,u)=>l+(AU.test(u)?jU:u===""?SU:EU),i)}function TU(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function IU(r,t,s=!1){let{routesMeta:i}=r,l={},u="/",m=[];for(let f=0;f<i.length;++f){let b=i[f],v=f===i.length-1,k=u==="/"?t:t.slice(u.length)||"/",C=ok({path:b.relativePath,caseSensitive:b.caseSensitive,end:v},k),_=b.route;if(!C&&v&&s&&!i[i.length-1].route.index&&(C=ok({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},k)),!C)return null;Object.assign(l,C.params),m.push({params:l,pathname:id([u,C.pathname]),pathnameBase:zU(id([u,C.pathnameBase])),route:_}),C.pathnameBase!=="/"&&(u=id([u,C.pathnameBase]))}return m}function ok(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=RU(r.path,r.caseSensitive,r.end),l=t.match(s);if(!l)return null;let u=l[0],m=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((v,{paramName:k,isOptional:C},_)=>{if(k==="*"){let M=f[_]||"";m=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const S=f[_];return C&&!S?v[k]=void 0:v[k]=(S||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:m,pattern:r}}function RU(r,t=!1,s=!0){ra(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,f,b)=>(i.push({paramName:f,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function PU(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ra(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function hd(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}function OU(r,t="/"){let{pathname:s,search:i="",hash:l=""}=typeof r=="string"?eg(r):r;return{pathname:s?s.startsWith("/")?s:BU(s,t):t,search:FU(i),hash:VU(l)}}function BU(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function N_(r,t,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LU(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function UA(r){let t=LU(r);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function GA(r,t,s,i=!1){let l;typeof r=="string"?l=eg(r):(l={...r},hn(!l.pathname||!l.pathname.includes("?"),N_("?","pathname","search",l)),hn(!l.pathname||!l.pathname.includes("#"),N_("#","pathname","hash",l)),hn(!l.search||!l.search.includes("#"),N_("#","search","hash",l)));let u=r===""||l.pathname==="",m=u?"/":l.pathname,f;if(m==null)f=s;else{let C=t.length-1;if(!i&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),C-=1;l.pathname=_.join("/")}f=C>=0?t[C]:"/"}let b=OU(l,f),v=m&&m!=="/"&&m.endsWith("/"),k=(u||m===".")&&s.endsWith("/");return!b.pathname.endsWith("/")&&(v||k)&&(b.pathname+="/"),b}var id=r=>r.join("/").replace(/\/\/+/g,"/"),zU=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FU=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VU=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function UU(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var f3=["POST","PUT","PATCH","DELETE"];new Set(f3);var GU=["GET",...f3];new Set(GU);var tg=O.createContext(null);tg.displayName="DataRouter";var Wk=O.createContext(null);Wk.displayName="DataRouterState";var g3=O.createContext({isTransitioning:!1});g3.displayName="ViewTransition";var HU=O.createContext(new Map);HU.displayName="Fetchers";var qU=O.createContext(null);qU.displayName="Await";var nl=O.createContext(null);nl.displayName="Navigation";var jx=O.createContext(null);jx.displayName="Location";var aa=O.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var HA=O.createContext(null);HA.displayName="RouteError";function YU(r,{relative:t}={}){hn(rg(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=O.useContext(nl),{hash:l,pathname:u,search:m}=Nx(r,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:id([s,u])),i.createHref({pathname:f,search:m,hash:l})}function rg(){return O.useContext(jx)!=null}function To(){return hn(rg(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(jx).location}var b3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y3(r){O.useContext(nl).static||O.useLayoutEffect(r)}function ns(){let{isDataRoute:r}=O.useContext(aa);return r?aG():WU()}function WU(){hn(rg(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(tg),{basename:t,navigator:s}=O.useContext(nl),{matches:i}=O.useContext(aa),{pathname:l}=To(),u=JSON.stringify(UA(i)),m=O.useRef(!1);return y3(()=>{m.current=!0}),O.useCallback((b,v={})=>{if(ra(m.current,b3),!m.current)return;if(typeof b=="number"){s.go(b);return}let k=GA(b,JSON.parse(u),l,v.relative==="path");r==null&&t!=="/"&&(k.pathname=k.pathname==="/"?t:id([t,k.pathname])),(v.replace?s.replace:s.push)(k,v.state,v)},[t,s,u,l,r])}var KU=O.createContext(null);function QU(r){let t=O.useContext(aa).outlet;return t&&O.createElement(KU.Provider,{value:r},t)}function ng(){let{matches:r}=O.useContext(aa),t=r[r.length-1];return t?t.params:{}}function Nx(r,{relative:t}={}){let{matches:s}=O.useContext(aa),{pathname:i}=To(),l=JSON.stringify(UA(s));return O.useMemo(()=>GA(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function JU(r,t){return x3(r,t)}function x3(r,t,s,i){var z;hn(rg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(nl),{matches:u}=O.useContext(aa),m=u[u.length-1],f=m?m.params:{},b=m?m.pathname:"/",v=m?m.pathnameBase:"/",k=m&&m.route;{let V=k&&k.path||"";v3(b,!k||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let C=To(),_;if(t){let V=typeof t=="string"?eg(t):t;hn(v==="/"||((z=V.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),_=V}else _=C;let S=_.pathname||"/",M=S;if(v!=="/"){let V=v.replace(/^\//,"").split("/");M="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=h3(r,{pathname:M});ra(k||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ra(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=tG(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:id([v,l.encodeLocation?l.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:id([v,l.encodeLocation?l.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,s,i);return t&&I?O.createElement(jx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function $U(){let r=iG(),t=UU(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),s?O.createElement("pre",{style:l},s):null,m)}var XU=O.createElement($U,null),ZU=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?O.createElement(aa.Provider,{value:this.props.routeContext},O.createElement(HA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eG({routeContext:r,match:t,children:s}){let i=O.useContext(tg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(aa.Provider,{value:r},s)}function tG(r,t=[],s=null,i=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let l=r,u=s==null?void 0:s.errors;if(u!=null){let b=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);hn(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let m=!1,f=-1;if(s)for(let b=0;b<l.length;b++){let v=l[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=b),v.route.id){let{loaderData:k,errors:C}=s,_=v.route.loader&&!k.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||_){m=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((b,v,k)=>{let C,_=!1,S=null,M=null;s&&(C=u&&v.route.id?u[v.route.id]:void 0,S=v.route.errorElement||XU,m&&(f<0&&k===0?(v3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,M=null):f===k&&(_=!0,M=v.route.hydrateFallbackElement||null)));let R=t.concat(l.slice(0,k+1)),I=()=>{let z;return C?z=S:_?z=M:v.route.Component?z=O.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=b,O.createElement(eG,{match:v,routeContext:{outlet:b,matches:R,isDataRoute:s!=null},children:z})};return s&&(v.route.ErrorBoundary||v.route.errorElement||k===0)?O.createElement(ZU,{location:s.location,revalidation:s.revalidation,component:S,error:C,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}function qA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rG(r){let t=O.useContext(tg);return hn(t,qA(r)),t}function nG(r){let t=O.useContext(Wk);return hn(t,qA(r)),t}function sG(r){let t=O.useContext(aa);return hn(t,qA(r)),t}function YA(r){let t=sG(r),s=t.matches[t.matches.length-1];return hn(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function oG(){return YA("useRouteId")}function iG(){var i;let r=O.useContext(HA),t=nG("useRouteError"),s=YA("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[s]}function aG(){let{router:r}=rG("useNavigate"),t=YA("useNavigate"),s=O.useRef(!1);return y3(()=>{s.current=!0}),O.useCallback(async(l,u={})=>{ra(s.current,b3),s.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var Q5={};function v3(r,t,s){!t&&!Q5[r]&&(Q5[r]=!0,ra(!1,s))}O.memo(lG);function lG({routes:r,future:t,state:s}){return x3(r,void 0,s,t)}function Hs({to:r,replace:t,state:s,relative:i}){hn(rg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=O.useContext(nl);ra(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(aa),{pathname:m}=To(),f=ns(),b=GA(r,UA(u),m,i==="path"),v=JSON.stringify(b);return O.useEffect(()=>{f(JSON.parse(v),{replace:t,state:s,relative:i})},[f,v,i,t,s]),null}function WA(r){return QU(r.context)}function gt(r){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cG({basename:r="/",children:t=null,location:s,navigationType:i="POP",navigator:l,static:u=!1}){hn(!rg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:m,navigator:l,static:u,future:{}}),[m,l,u]);typeof s=="string"&&(s=eg(s));let{pathname:b="/",search:v="",hash:k="",state:C=null,key:_="default"}=s,S=O.useMemo(()=>{let M=hd(b,m);return M==null?null:{location:{pathname:M,search:v,hash:k,state:C,key:_},navigationType:i}},[m,b,v,k,C,_,i]);return ra(S!=null,`<Router basename="${m}"> is not able to match the URL "${b}${v}${k}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(nl.Provider,{value:f},O.createElement(jx.Provider,{children:t,value:S}))}function dG({children:r,location:t}){return JU(A2(r),t)}function A2(r,t=[]){let s=[];return O.Children.forEach(r,(i,l)=>{if(!O.isValidElement(i))return;let u=[...t,l];if(i.type===O.Fragment){s.push.apply(s,A2(i.props.children,u));return}hn(i.type===gt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=A2(i.props.children,u)),s.push(m)}),s}var Ow="get",Bw="application/x-www-form-urlencoded";function Kk(r){return r!=null&&typeof r.tagName=="string"}function uG(r){return Kk(r)&&r.tagName.toLowerCase()==="button"}function hG(r){return Kk(r)&&r.tagName.toLowerCase()==="form"}function mG(r){return Kk(r)&&r.tagName.toLowerCase()==="input"}function pG(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fG(r,t){return r.button===0&&(!t||t==="_self")&&!pG(r)}function j2(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,s)=>{let i=r[s];return t.concat(Array.isArray(i)?i.map(l=>[s,l]):[[s,i]])},[]))}function gG(r,t){let s=j2(r);return t&&t.forEach((i,l)=>{s.has(l)||t.getAll(l).forEach(u=>{s.append(l,u)})}),s}var pw=null;function bG(){if(pw===null)try{new FormData(document.createElement("form"),0),pw=!1}catch{pw=!0}return pw}var yG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function S_(r){return r!=null&&!yG.has(r)?(ra(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bw}"`),null):r}function xG(r,t){let s,i,l,u,m;if(hG(r)){let f=r.getAttribute("action");i=f?hd(f,t):null,s=r.getAttribute("method")||Ow,l=S_(r.getAttribute("enctype"))||Bw,u=new FormData(r)}else if(uG(r)||mG(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=r.getAttribute("formaction")||f.getAttribute("action");if(i=b?hd(b,t):null,s=r.getAttribute("formmethod")||f.getAttribute("method")||Ow,l=S_(r.getAttribute("formenctype"))||S_(f.getAttribute("enctype"))||Bw,u=new FormData(f,r),!bG()){let{name:v,type:k,value:C}=r;if(k==="image"){let _=v?`${v}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else v&&u.append(v,C)}}else{if(Kk(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ow,i=null,l=Bw,m=r}return u&&l==="text/plain"&&(m=u,u=void 0),{action:i,method:s.toLowerCase(),encType:l,formData:u,body:m}}function KA(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function vG(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wG(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kG(r,t,s){let i=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let m=await vG(u,s);return m.links?m.links():[]}return[]}));return jG(i.flat(1).filter(wG).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function J5(r,t,s,i,l,u){let m=(b,v)=>s[v]?b.route.id!==s[v].route.id:!0,f=(b,v)=>{var k;return s[v].pathname!==b.pathname||((k=s[v].route.path)==null?void 0:k.endsWith("*"))&&s[v].params["*"]!==b.params["*"]};return u==="assets"?t.filter((b,v)=>m(b,v)||f(b,v)):u==="data"?t.filter((b,v)=>{var C;let k=i.routes[b.route.id];if(!k||!k.hasLoader)return!1;if(m(b,v)||f(b,v))return!0;if(b.route.shouldRevalidate){let _=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((C=s[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function CG(r,t,{includeHydrateFallback:s}={}){return _G(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function _G(r){return[...new Set(r)]}function AG(r){let t={},s=Object.keys(r).sort();for(let i of s)t[i]=r[i];return t}function jG(r,t){let s=new Set;return new Set(t),r.reduce((i,l)=>{let u=JSON.stringify(AG(l));return s.has(u)||(s.add(u),i.push({key:u,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NG=new Set([100,101,204,205]);function SG(r,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname="_root.data":t&&hd(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function w3(){let r=O.useContext(tg);return KA(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function EG(){let r=O.useContext(Wk);return KA(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var QA=O.createContext(void 0);QA.displayName="FrameworkContext";function k3(){let r=O.useContext(QA);return KA(r,"You must render this element inside a <HydratedRouter> element"),r}function DG(r,t){let s=O.useContext(QA),[i,l]=O.useState(!1),[u,m]=O.useState(!1),{onFocus:f,onBlur:b,onMouseEnter:v,onMouseLeave:k,onTouchStart:C}=t,_=O.useRef(null);O.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let R=z=>{z.forEach(V=>{m(V.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[r]),O.useEffect(()=>{if(i){let R=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{l(!0)},M=()=>{l(!1),m(!1)};return s?r!=="intent"?[u,_,{}]:[u,_,{onFocus:fy(f,S),onBlur:fy(b,M),onMouseEnter:fy(v,S),onMouseLeave:fy(k,M),onTouchStart:fy(C,S)}]:[!1,_,{}]}function fy(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function MG({page:r,...t}){let{router:s}=w3(),i=O.useMemo(()=>h3(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?O.createElement(IG,{page:r,matches:i,...t}):null}function TG(r){let{manifest:t,routeModules:s}=k3(),[i,l]=O.useState([]);return O.useEffect(()=>{let u=!1;return kG(r,t,s).then(m=>{u||l(m)}),()=>{u=!0}},[r,t,s]),i}function IG({page:r,matches:t,...s}){let i=To(),{manifest:l,routeModules:u}=k3(),{basename:m}=w3(),{loaderData:f,matches:b}=EG(),v=O.useMemo(()=>J5(r,t,b,l,i,"data"),[r,t,b,l,i]),k=O.useMemo(()=>J5(r,t,b,l,i,"assets"),[r,t,b,l,i]),C=O.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let M=new Set,R=!1;if(t.forEach(z=>{var U;let V=l.routes[z.route.id];!V||!V.hasLoader||(!v.some(q=>q.route.id===z.route.id)&&z.route.id in f&&((U=u[z.route.id])!=null&&U.shouldRevalidate)||V.hasClientLoader?R=!0:M.add(z.route.id))}),M.size===0)return[];let I=SG(r,m);return R&&M.size>0&&I.searchParams.set("_routes",t.filter(z=>M.has(z.route.id)).map(z=>z.route.id).join(",")),[I.pathname+I.search]},[m,f,i,l,v,t,r,u]),_=O.useMemo(()=>CG(k,l),[k,l]),S=TG(k);return O.createElement(O.Fragment,null,C.map(M=>O.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...s})),_.map(M=>O.createElement("link",{key:M,rel:"modulepreload",href:M,...s})),S.map(({key:M,link:R})=>O.createElement("link",{key:M,...R})))}function RG(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var C3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C3&&(window.__reactRouterVersion="7.6.3")}catch{}function PG({basename:r,children:t,window:s}){let i=O.useRef();i.current==null&&(i.current=xU({window:s,v5Compat:!0}));let l=i.current,[u,m]=O.useState({action:l.action,location:l.location}),f=O.useCallback(b=>{O.startTransition(()=>m(b))},[m]);return O.useLayoutEffect(()=>l.listen(f),[l,f]),O.createElement(cG,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var _3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=O.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:l,reloadDocument:u,replace:m,state:f,target:b,to:v,preventScrollReset:k,viewTransition:C,..._},S){let{basename:M}=O.useContext(nl),R=typeof v=="string"&&_3.test(v),I,z=!1;if(typeof v=="string"&&R&&(I=v,C3))try{let Y=new URL(window.location.href),J=v.startsWith("//")?new URL(Y.protocol+v):new URL(v),W=hd(J.pathname,M);J.origin===Y.origin&&W!=null?v=W+J.search+J.hash:z=!0}catch{ra(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=YU(v,{relative:l}),[U,q,$]=DG(i,_),ne=zG(v,{replace:m,state:f,target:b,preventScrollReset:k,relative:l,viewTransition:C});function Q(Y){t&&t(Y),Y.defaultPrevented||ne(Y)}let B=O.createElement("a",{..._,...$,href:I||V,onClick:z||u?t:Q,ref:RG(S,q),target:b,"data-discover":!R&&s==="render"?"true":void 0});return U&&!R?O.createElement(O.Fragment,null,B,O.createElement(MG,{page:V})):B});rt.displayName="Link";var OG=O.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:l=!1,style:u,to:m,viewTransition:f,children:b,...v},k){let C=Nx(m,{relative:v.relative}),_=To(),S=O.useContext(Wk),{navigator:M,basename:R}=O.useContext(nl),I=S!=null&&qG(C)&&f===!0,z=M.encodeLocation?M.encodeLocation(C).pathname:C.pathname,V=_.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(V=V.toLowerCase(),U=U?U.toLowerCase():null,z=z.toLowerCase()),U&&R&&(U=hd(U,R)||U);const q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let $=V===z||!l&&V.startsWith(z)&&V.charAt(q)==="/",ne=U!=null&&(U===z||!l&&U.startsWith(z)&&U.charAt(z.length)==="/"),Q={isActive:$,isPending:ne,isTransitioning:I},B=$?t:void 0,Y;typeof i=="function"?Y=i(Q):Y=[i,$?"active":null,ne?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let J=typeof u=="function"?u(Q):u;return O.createElement(rt,{...v,"aria-current":B,className:Y,ref:k,style:J,to:m,viewTransition:f},typeof b=="function"?b(Q):b)});OG.displayName="NavLink";var BG=O.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:l,state:u,method:m=Ow,action:f,onSubmit:b,relative:v,preventScrollReset:k,viewTransition:C,..._},S)=>{let M=GG(),R=HG(f,{relative:v}),I=m.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&_3.test(f),V=U=>{if(b&&b(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,$=(q==null?void 0:q.getAttribute("formmethod"))||m;M(q||U.currentTarget,{fetcherKey:t,method:$,navigate:s,replace:l,state:u,relative:v,preventScrollReset:k,viewTransition:C})};return O.createElement("form",{ref:S,method:I,action:R,onSubmit:i?b:V,..._,"data-discover":!z&&r==="render"?"true":void 0})});BG.displayName="Form";function LG(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A3(r){let t=O.useContext(tg);return hn(t,LG(r)),t}function zG(r,{target:t,replace:s,state:i,preventScrollReset:l,relative:u,viewTransition:m}={}){let f=ns(),b=To(),v=Nx(r,{relative:u});return O.useCallback(k=>{if(fG(k,t)){k.preventDefault();let C=s!==void 0?s:Jy(b)===Jy(v);f(r,{replace:C,state:i,preventScrollReset:l,relative:u,viewTransition:m})}},[b,f,v,s,i,t,r,l,u,m])}function FG(r){ra(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(j2(r)),s=O.useRef(!1),i=To(),l=O.useMemo(()=>gG(i.search,s.current?null:t.current),[i.search]),u=ns(),m=O.useCallback((f,b)=>{const v=j2(typeof f=="function"?f(l):f);s.current=!0,u("?"+v,b)},[u,l]);return[l,m]}var VG=0,UG=()=>`__${String(++VG)}__`;function GG(){let{router:r}=A3("useSubmit"),{basename:t}=O.useContext(nl),s=oG();return O.useCallback(async(i,l={})=>{let{action:u,method:m,encType:f,formData:b,body:v}=xG(i,t);if(l.navigate===!1){let k=l.fetcherKey||UG();await r.fetch(k,s,l.action||u,{preventScrollReset:l.preventScrollReset,formData:b,body:v,formMethod:l.method||m,formEncType:l.encType||f,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:b,body:v,formMethod:l.method||m,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,s])}function HG(r,{relative:t}={}){let{basename:s}=O.useContext(nl),i=O.useContext(aa);hn(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Nx(r||".",{relative:t})},m=To();if(r==null){u.search=m.search;let f=new URLSearchParams(u.search),b=f.getAll("index");if(b.some(k=>k==="")){f.delete("index"),b.filter(C=>C).forEach(C=>f.append("index",C));let k=f.toString();u.search=k?`?${k}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:id([s,u.pathname])),Jy(u)}function qG(r,t={}){let s=O.useContext(g3);hn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=A3("useViewTransitionState"),l=Nx(r,{relative:t.relative});if(!s.isTransitioning)return!1;let u=hd(s.currentLocation.pathname,i)||s.currentLocation.pathname,m=hd(s.nextLocation.pathname,i)||s.nextLocation.pathname;return ok(l.pathname,m)!=null||ok(l.pathname,u)!=null}[...NG];var vy=u3();let YG={data:""},WG=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||YG,KG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QG=/\/\*[^]*?\*\/|  +/g,$5=/\n+/g,Du=(r,t)=>{let s="",i="",l="";for(let u in r){let m=r[u];u[0]=="@"?u[1]=="i"?s=u+" "+m+";":i+=u[1]=="f"?Du(m,u):u+"{"+Du(m,u[1]=="k"?"":t)+"}":typeof m=="object"?i+=Du(m,t?t.replace(/([^,])+/g,f=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,f):f?f+" "+b:b)):u):m!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Du.p?Du.p(u,m):u+":"+m+";")}return s+(t&&l?t+"{"+l+"}":l)+i},Zc={},j3=r=>{if(typeof r=="object"){let t="";for(let s in r)t+=s+j3(r[s]);return t}return r},JG=(r,t,s,i,l)=>{let u=j3(r),m=Zc[u]||(Zc[u]=(b=>{let v=0,k=11;for(;v<b.length;)k=101*k+b.charCodeAt(v++)>>>0;return"go"+k})(u));if(!Zc[m]){let b=u!==r?r:(v=>{let k,C,_=[{}];for(;k=KG.exec(v.replace(QG,""));)k[4]?_.shift():k[3]?(C=k[3].replace($5," ").trim(),_.unshift(_[0][C]=_[0][C]||{})):_[0][k[1]]=k[2].replace($5," ").trim();return _[0]})(r);Zc[m]=Du(l?{["@keyframes "+m]:b}:b,s?"":"."+m)}let f=s&&Zc.g?Zc.g:null;return s&&(Zc.g=Zc[m]),((b,v,k,C)=>{C?v.data=v.data.replace(C,b):v.data.indexOf(b)===-1&&(v.data=k?b+v.data:v.data+b)})(Zc[m],t,i,f),m},$G=(r,t,s)=>r.reduce((i,l,u)=>{let m=t[u];if(m&&m.call){let f=m(s),b=f&&f.props&&f.props.className||/^go/.test(f)&&f;m=b?"."+b:f&&typeof f=="object"?f.props?"":Du(f,""):f===!1?"":f}return i+l+(m??"")},"");function Qk(r){let t=this||{},s=r.call?r(t.p):r;return JG(s.unshift?s.raw?$G(s,[].slice.call(arguments,1),t.p):s.reduce((i,l)=>Object.assign(i,l&&l.call?l(t.p):l),{}):s,WG(t.target),t.g,t.o,t.k)}let N3,N2,S2;Qk.bind({g:1});let md=Qk.bind({k:1});function XG(r,t,s,i){Du.p=t,N3=r,N2=s,S2=i}function Xu(r,t){let s=this||{};return function(){let i=arguments;function l(u,m){let f=Object.assign({},u),b=f.className||l.className;s.p=Object.assign({theme:N2&&N2()},f),s.o=/ *go\d+/.test(b),f.className=Qk.apply(s,i)+(b?" "+b:"");let v=r;return r[0]&&(v=f.as||r,delete f.as),S2&&v[0]&&S2(f),N3(v,f)}return l}}var ZG=r=>typeof r=="function",ik=(r,t)=>ZG(r)?r(t):r,eH=(()=>{let r=0;return()=>(++r).toString()})(),S3=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),tH=20,E3=(r,t)=>{switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,tH)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:s}=t;return E3(r,{type:r.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...r,toasts:r.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let l=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},Lw=[],jm={toasts:[],pausedAt:void 0},Km=r=>{jm=E3(jm,r),Lw.forEach(t=>{t(jm)})},rH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nH=(r={})=>{let[t,s]=O.useState(jm),i=O.useRef(jm);O.useEffect(()=>(i.current!==jm&&s(jm),Lw.push(s),()=>{let u=Lw.indexOf(s);u>-1&&Lw.splice(u,1)}),[]);let l=t.toasts.map(u=>{var m,f,b;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((m=r[u.type])==null?void 0:m.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((f=r[u.type])==null?void 0:f.duration)||(r==null?void 0:r.duration)||rH[u.type],style:{...r.style,...(b=r[u.type])==null?void 0:b.style,...u.style}}});return{...t,toasts:l}},sH=(r,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...s,id:(s==null?void 0:s.id)||eH()}),Sx=r=>(t,s)=>{let i=sH(t,r,s);return Km({type:2,toast:i}),i.id},Ot=(r,t)=>Sx("blank")(r,t);Ot.error=Sx("error");Ot.success=Sx("success");Ot.loading=Sx("loading");Ot.custom=Sx("custom");Ot.dismiss=r=>{Km({type:3,toastId:r})};Ot.remove=r=>Km({type:4,toastId:r});Ot.promise=(r,t,s)=>{let i=Ot.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof r=="function"&&(r=r()),r.then(l=>{let u=t.success?ik(t.success,l):void 0;return u?Ot.success(u,{id:i,...s,...s==null?void 0:s.success}):Ot.dismiss(i),l}).catch(l=>{let u=t.error?ik(t.error,l):void 0;u?Ot.error(u,{id:i,...s,...s==null?void 0:s.error}):Ot.dismiss(i)}),r};var oH=(r,t)=>{Km({type:1,toast:{id:r,height:t}})},iH=()=>{Km({type:5,time:Date.now()})},Ty=new Map,aH=1e3,lH=(r,t=aH)=>{if(Ty.has(r))return;let s=setTimeout(()=>{Ty.delete(r),Km({type:4,toastId:r})},t);Ty.set(r,s)},cH=r=>{let{toasts:t,pausedAt:s}=nH(r);O.useEffect(()=>{if(s)return;let u=Date.now(),m=t.map(f=>{if(f.duration===1/0)return;let b=(f.duration||0)+f.pauseDuration-(u-f.createdAt);if(b<0){f.visible&&Ot.dismiss(f.id);return}return setTimeout(()=>Ot.dismiss(f.id),b)});return()=>{m.forEach(f=>f&&clearTimeout(f))}},[t,s]);let i=O.useCallback(()=>{s&&Km({type:6,time:Date.now()})},[s]),l=O.useCallback((u,m)=>{let{reverseOrder:f=!1,gutter:b=8,defaultPosition:v}=m||{},k=t.filter(S=>(S.position||v)===(u.position||v)&&S.height),C=k.findIndex(S=>S.id===u.id),_=k.filter((S,M)=>M<C&&S.visible).length;return k.filter(S=>S.visible).slice(...f?[_+1]:[0,_]).reduce((S,M)=>S+(M.height||0)+b,0)},[t]);return O.useEffect(()=>{t.forEach(u=>{if(u.dismissed)lH(u.id,u.removeDelay);else{let m=Ty.get(u.id);m&&(clearTimeout(m),Ty.delete(u.id))}})},[t]),{toasts:t,handlers:{updateHeight:oH,startPause:iH,endPause:i,calculateOffset:l}}},dH=md`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uH=md`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hH=md`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mH=Xu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pH=md`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fH=Xu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${pH} 1s linear infinite;
`,gH=md`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bH=md`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yH=Xu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xH=Xu("div")`
  position: absolute;
`,vH=Xu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wH=md`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kH=Xu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CH=({toast:r})=>{let{icon:t,type:s,iconTheme:i}=r;return t!==void 0?typeof t=="string"?O.createElement(kH,null,t):t:s==="blank"?null:O.createElement(vH,null,O.createElement(fH,{...i}),s!=="loading"&&O.createElement(xH,null,s==="error"?O.createElement(mH,{...i}):O.createElement(yH,{...i})))},_H=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AH=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,jH="0%{opacity:0;} 100%{opacity:1;}",NH="0%{opacity:1;} 100%{opacity:0;}",SH=Xu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EH=Xu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DH=(r,t)=>{let s=r.includes("top")?1:-1,[i,l]=S3()?[jH,NH]:[_H(s),AH(s)];return{animation:t?`${md(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${md(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},MH=O.memo(({toast:r,position:t,style:s,children:i})=>{let l=r.height?DH(r.position||t||"top-center",r.visible):{opacity:0},u=O.createElement(CH,{toast:r}),m=O.createElement(EH,{...r.ariaProps},ik(r.message,r));return O.createElement(SH,{className:r.className,style:{...l,...s,...r.style}},typeof i=="function"?i({icon:u,message:m}):O.createElement(O.Fragment,null,u,m))});XG(O.createElement);var TH=({id:r,className:t,style:s,onHeightUpdate:i,children:l})=>{let u=O.useCallback(m=>{if(m){let f=()=>{let b=m.getBoundingClientRect().height;i(r,b)};f(),new MutationObserver(f).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[r,i]);return O.createElement("div",{ref:u,className:t,style:s},l)},IH=(r,t)=>{let s=r.includes("top"),i=s?{top:0}:{bottom:0},l=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:S3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...i,...l}},RH=Qk`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fw=16,PH=({reverseOrder:r,position:t="top-center",toastOptions:s,gutter:i,children:l,containerStyle:u,containerClassName:m})=>{let{toasts:f,handlers:b}=cH(s);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fw,left:fw,right:fw,bottom:fw,pointerEvents:"none",...u},className:m,onMouseEnter:b.startPause,onMouseLeave:b.endPause},f.map(v=>{let k=v.position||t,C=b.calculateOffset(v,{reverseOrder:r,gutter:i,defaultPosition:t}),_=IH(k,C);return O.createElement(TH,{id:v.id,key:v.id,onHeightUpdate:b.updateHeight,className:v.visible?RH:"",style:_},v.type==="custom"?ik(v.message,v):l?l(v):O.createElement(MH,{toast:v,position:k}))}))},Se=Ot;const OH=({children:r})=>n.jsx("div",{className:"min-h-screen transition-colors duration-300",children:r}),X5=r=>{let t;const s=new Set,i=(v,k)=>{const C=typeof v=="function"?v(t):v;if(!Object.is(C,t)){const _=t;t=k??(typeof C!="object"||C===null)?C:Object.assign({},t,C),s.forEach(S=>S(t,_))}},l=()=>t,f={setState:i,getState:l,getInitialState:()=>b,subscribe:v=>(s.add(v),()=>s.delete(v))},b=t=r(i,l,f);return f},BH=r=>r?X5(r):X5,LH=r=>r;function zH(r,t=LH){const s=ot.useSyncExternalStore(r.subscribe,()=>t(r.getState()),()=>t(r.getInitialState()));return ot.useDebugValue(s),s}const Z5=r=>{const t=BH(r),s=i=>zH(t,i);return Object.assign(s,t),s},nn=r=>r?Z5(r):Z5,eM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},$y=new Map,gw=r=>{const t=$y.get(r);return t?Object.fromEntries(Object.entries(t.stores).map(([s,i])=>[s,i.getState()])):{}},FH=(r,t,s)=>{if(r===void 0)return{type:"untracked",connection:t.connect(s)};const i=$y.get(s.name);if(i)return{type:"tracked",store:r,...i};const l={connection:t.connect(s),stores:{}};return $y.set(s.name,l),{type:"tracked",store:r,...l}},VH=(r,t)=>{if(t===void 0)return;const s=$y.get(r);s&&(delete s.stores[t],Object.keys(s.stores).length===0&&$y.delete(r))},UH=r=>{var t,s;if(!r)return;const i=r.split(`
`),l=i.findIndex(m=>m.includes("api.setState"));if(l<0)return;const u=((t=i[l+1])==null?void 0:t.trim())||"";return(s=/.+ (.+) .+/.exec(u))==null?void 0:s[1]},GH=(r,t={})=>(s,i,l)=>{const{enabled:u,anonymousActionType:m,store:f,...b}=t;let v;try{v=(u??(eM?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!v)return r(s,i,l);const{connection:k,...C}=FH(f,v,b);let _=!0;l.setState=(R,I,z)=>{const V=s(R,I);if(!_)return V;const U=z===void 0?{type:m||UH(new Error().stack)||"anonymous"}:typeof z=="string"?{type:z}:z;return f===void 0?(k==null||k.send(U,i()),V):(k==null||k.send({...U,type:`${f}/${U.type}`},{...gw(b.name),[f]:l.getState()}),V)},l.devtools={cleanup:()=>{k&&typeof k.unsubscribe=="function"&&k.unsubscribe(),VH(b.name,f)}};const S=(...R)=>{const I=_;_=!1,s(...R),_=I},M=r(l.setState,i,l);if(C.type==="untracked"?k==null||k.init(M):(C.stores[C.store]=l,k==null||k.init(Object.fromEntries(Object.entries(C.stores).map(([R,I])=>[R,R===C.store?M:I.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let R=!1;const I=l.dispatch;l.dispatch=(...z)=>{(eM?"production":void 0)!=="production"&&z[0].type==="__setState"&&!R&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),R=!0),I(...z)}}return k.subscribe(R=>{var I;switch(R.type){case"ACTION":if(typeof R.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return E_(R.payload,z=>{if(z.type==="__setState"){if(f===void 0){S(z.state);return}Object.keys(z.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const V=z.state[f];if(V==null)return;JSON.stringify(l.getState())!==JSON.stringify(V)&&S(V);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(z)});case"DISPATCH":switch(R.payload.type){case"RESET":return S(M),f===void 0?k==null?void 0:k.init(l.getState()):k==null?void 0:k.init(gw(b.name));case"COMMIT":if(f===void 0){k==null||k.init(l.getState());return}return k==null?void 0:k.init(gw(b.name));case"ROLLBACK":return E_(R.state,z=>{if(f===void 0){S(z),k==null||k.init(l.getState());return}S(z[f]),k==null||k.init(gw(b.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return E_(R.state,z=>{if(f===void 0){S(z);return}JSON.stringify(l.getState())!==JSON.stringify(z[f])&&S(z[f])});case"IMPORT_STATE":{const{nextLiftedState:z}=R.payload,V=(I=z.computedStates.slice(-1)[0])==null?void 0:I.state;if(!V)return;S(f===void 0?V:V[f]),k==null||k.send(null,z);return}case"PAUSE_RECORDING":return _=!_}return}}),M},Zu=GH,E_=(r,t)=>{let s;try{s=JSON.parse(r)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}s!==void 0&&t(s)};function HH(r,t){let s;try{s=r()}catch{return}return{getItem:l=>{var u;const m=b=>b===null?null:JSON.parse(b,void 0),f=(u=s.getItem(l))!=null?u:null;return f instanceof Promise?f.then(m):m(f)},setItem:(l,u)=>s.setItem(l,JSON.stringify(u,void 0)),removeItem:l=>s.removeItem(l)}}const E2=r=>t=>{try{const s=r(t);return s instanceof Promise?s:{then(i){return E2(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return E2(i)(s)}}}},qH=(r,t)=>(s,i,l)=>{let u={storage:HH(()=>localStorage),partialize:R=>R,version:0,merge:(R,I)=>({...I,...R}),...t},m=!1;const f=new Set,b=new Set;let v=u.storage;if(!v)return r((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),s(...R)},i,l);const k=()=>{const R=u.partialize({...i()});return v.setItem(u.name,{state:R,version:u.version})},C=l.setState;l.setState=(R,I)=>{C(R,I),k()};const _=r((...R)=>{s(...R),k()},i,l);l.getInitialState=()=>_;let S;const M=()=>{var R,I;if(!v)return;m=!1,f.forEach(V=>{var U;return V((U=i())!=null?U:_)});const z=((I=u.onRehydrateStorage)==null?void 0:I.call(u,(R=i())!=null?R:_))||void 0;return E2(v.getItem.bind(v))(u.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==u.version){if(u.migrate){const U=u.migrate(V.state,V.version);return U instanceof Promise?U.then(q=>[!0,q]):[!0,U]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var U;const[q,$]=V;if(S=u.merge($,(U=i())!=null?U:_),s(S,!0),q)return k()}).then(()=>{z==null||z(S,void 0),S=i(),m=!0,b.forEach(V=>V(S))}).catch(V=>{z==null||z(void 0,V)})};return l.persist={setOptions:R=>{u={...u,...R},R.storage&&(v=R.storage)},clearStorage:()=>{v==null||v.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>M(),hasHydrated:()=>m,onHydrate:R=>(f.add(R),()=>{f.delete(R)}),onFinishHydration:R=>(b.add(R),()=>{b.delete(R)})},u.skipHydration||M(),S||_},JA=qH;function D3(r,t){return function(){return r.apply(t,arguments)}}const{toString:YH}=Object.prototype,{getPrototypeOf:$A}=Object,{iterator:Jk,toStringTag:M3}=Symbol,$k=(r=>t=>{const s=YH.call(t);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),sl=r=>(r=r.toLowerCase(),t=>$k(t)===r),Xk=r=>t=>typeof t===r,{isArray:sg}=Array,Xy=Xk("undefined");function WH(r){return r!==null&&!Xy(r)&&r.constructor!==null&&!Xy(r.constructor)&&ei(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const T3=sl("ArrayBuffer");function KH(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&T3(r.buffer),t}const QH=Xk("string"),ei=Xk("function"),I3=Xk("number"),Zk=r=>r!==null&&typeof r=="object",JH=r=>r===!0||r===!1,zw=r=>{if($k(r)!=="object")return!1;const t=$A(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(M3 in r)&&!(Jk in r)},$H=sl("Date"),XH=sl("File"),ZH=sl("Blob"),eq=sl("FileList"),tq=r=>Zk(r)&&ei(r.pipe),rq=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||ei(r.append)&&((t=$k(r))==="formdata"||t==="object"&&ei(r.toString)&&r.toString()==="[object FormData]"))},nq=sl("URLSearchParams"),[sq,oq,iq,aq]=["ReadableStream","Request","Response","Headers"].map(sl),lq=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ex(r,t,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let i,l;if(typeof r!="object"&&(r=[r]),sg(r))for(i=0,l=r.length;i<l;i++)t.call(null,r[i],i,r);else{const u=s?Object.getOwnPropertyNames(r):Object.keys(r),m=u.length;let f;for(i=0;i<m;i++)f=u[i],t.call(null,r[f],f,r)}}function R3(r,t){t=t.toLowerCase();const s=Object.keys(r);let i=s.length,l;for(;i-- >0;)if(l=s[i],t===l.toLowerCase())return l;return null}const Nm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,P3=r=>!Xy(r)&&r!==Nm;function D2(){const{caseless:r}=P3(this)&&this||{},t={},s=(i,l)=>{const u=r&&R3(t,l)||l;zw(t[u])&&zw(i)?t[u]=D2(t[u],i):zw(i)?t[u]=D2({},i):sg(i)?t[u]=i.slice():t[u]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&Ex(arguments[i],s);return t}const cq=(r,t,s,{allOwnKeys:i}={})=>(Ex(t,(l,u)=>{s&&ei(l)?r[u]=D3(l,s):r[u]=l},{allOwnKeys:i}),r),dq=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),uq=(r,t,s,i)=>{r.prototype=Object.create(t.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),s&&Object.assign(r.prototype,s)},hq=(r,t,s,i)=>{let l,u,m;const f={};if(t=t||{},r==null)return t;do{for(l=Object.getOwnPropertyNames(r),u=l.length;u-- >0;)m=l[u],(!i||i(m,r,t))&&!f[m]&&(t[m]=r[m],f[m]=!0);r=s!==!1&&$A(r)}while(r&&(!s||s(r,t))&&r!==Object.prototype);return t},mq=(r,t,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=t.length;const i=r.indexOf(t,s);return i!==-1&&i===s},pq=r=>{if(!r)return null;if(sg(r))return r;let t=r.length;if(!I3(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=r[t];return s},fq=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&$A(Uint8Array)),gq=(r,t)=>{const i=(r&&r[Jk]).call(r);let l;for(;(l=i.next())&&!l.done;){const u=l.value;t.call(r,u[0],u[1])}},bq=(r,t)=>{let s;const i=[];for(;(s=r.exec(t))!==null;)i.push(s);return i},yq=sl("HTMLFormElement"),xq=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,l){return i.toUpperCase()+l}),tM=(({hasOwnProperty:r})=>(t,s)=>r.call(t,s))(Object.prototype),vq=sl("RegExp"),O3=(r,t)=>{const s=Object.getOwnPropertyDescriptors(r),i={};Ex(s,(l,u)=>{let m;(m=t(l,u,r))!==!1&&(i[u]=m||l)}),Object.defineProperties(r,i)},wq=r=>{O3(r,(t,s)=>{if(ei(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=r[s];if(ei(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},kq=(r,t)=>{const s={},i=l=>{l.forEach(u=>{s[u]=!0})};return sg(r)?i(r):i(String(r).split(t)),s},Cq=()=>{},_q=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function Aq(r){return!!(r&&ei(r.append)&&r[M3]==="FormData"&&r[Jk])}const jq=r=>{const t=new Array(10),s=(i,l)=>{if(Zk(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[l]=i;const u=sg(i)?[]:{};return Ex(i,(m,f)=>{const b=s(m,l+1);!Xy(b)&&(u[f]=b)}),t[l]=void 0,u}}return i};return s(r,0)},Nq=sl("AsyncFunction"),Sq=r=>r&&(Zk(r)||ei(r))&&ei(r.then)&&ei(r.catch),B3=((r,t)=>r?setImmediate:t?((s,i)=>(Nm.addEventListener("message",({source:l,data:u})=>{l===Nm&&u===s&&i.length&&i.shift()()},!1),l=>{i.push(l),Nm.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ei(Nm.postMessage)),Eq=typeof queueMicrotask<"u"?queueMicrotask.bind(Nm):typeof process<"u"&&process.nextTick||B3,Dq=r=>r!=null&&ei(r[Jk]),Pe={isArray:sg,isArrayBuffer:T3,isBuffer:WH,isFormData:rq,isArrayBufferView:KH,isString:QH,isNumber:I3,isBoolean:JH,isObject:Zk,isPlainObject:zw,isReadableStream:sq,isRequest:oq,isResponse:iq,isHeaders:aq,isUndefined:Xy,isDate:$H,isFile:XH,isBlob:ZH,isRegExp:vq,isFunction:ei,isStream:tq,isURLSearchParams:nq,isTypedArray:fq,isFileList:eq,forEach:Ex,merge:D2,extend:cq,trim:lq,stripBOM:dq,inherits:uq,toFlatObject:hq,kindOf:$k,kindOfTest:sl,endsWith:mq,toArray:pq,forEachEntry:gq,matchAll:bq,isHTMLForm:yq,hasOwnProperty:tM,hasOwnProp:tM,reduceDescriptors:O3,freezeMethods:wq,toObjectSet:kq,toCamelCase:xq,noop:Cq,toFiniteNumber:_q,findKey:R3,global:Nm,isContextDefined:P3,isSpecCompliantForm:Aq,toJSONObject:jq,isAsyncFn:Nq,isThenable:Sq,setImmediate:B3,asap:Eq,isIterable:Dq};function Gt(r,t,s,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}Pe.inherits(Gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const L3=Gt.prototype,z3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{z3[r]={value:r}});Object.defineProperties(Gt,z3);Object.defineProperty(L3,"isAxiosError",{value:!0});Gt.from=(r,t,s,i,l,u)=>{const m=Object.create(L3);return Pe.toFlatObject(r,m,function(b){return b!==Error.prototype},f=>f!=="isAxiosError"),Gt.call(m,r.message,t,s,i,l),m.cause=r,m.name=r.name,u&&Object.assign(m,u),m};const Mq=null;function M2(r){return Pe.isPlainObject(r)||Pe.isArray(r)}function F3(r){return Pe.endsWith(r,"[]")?r.slice(0,-2):r}function rM(r,t,s){return r?r.concat(t).map(function(l,u){return l=F3(l),!s&&u?"["+l+"]":l}).join(s?".":""):t}function Tq(r){return Pe.isArray(r)&&!r.some(M2)}const Iq=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function e1(r,t,s){if(!Pe.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,s=Pe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,I){return!Pe.isUndefined(I[R])});const i=s.metaTokens,l=s.visitor||k,u=s.dots,m=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(l))throw new TypeError("visitor must be a function");function v(M){if(M===null)return"";if(Pe.isDate(M))return M.toISOString();if(Pe.isBoolean(M))return M.toString();if(!b&&Pe.isBlob(M))throw new Gt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(M)||Pe.isTypedArray(M)?b&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function k(M,R,I){let z=M;if(M&&!I&&typeof M=="object"){if(Pe.endsWith(R,"{}"))R=i?R:R.slice(0,-2),M=JSON.stringify(M);else if(Pe.isArray(M)&&Tq(M)||(Pe.isFileList(M)||Pe.endsWith(R,"[]"))&&(z=Pe.toArray(M)))return R=F3(R),z.forEach(function(U,q){!(Pe.isUndefined(U)||U===null)&&t.append(m===!0?rM([R],q,u):m===null?R:R+"[]",v(U))}),!1}return M2(M)?!0:(t.append(rM(I,R,u),v(M)),!1)}const C=[],_=Object.assign(Iq,{defaultVisitor:k,convertValue:v,isVisitable:M2});function S(M,R){if(!Pe.isUndefined(M)){if(C.indexOf(M)!==-1)throw Error("Circular reference detected in "+R.join("."));C.push(M),Pe.forEach(M,function(z,V){(!(Pe.isUndefined(z)||z===null)&&l.call(t,z,Pe.isString(V)?V.trim():V,R,_))===!0&&S(z,R?R.concat(V):[V])}),C.pop()}}if(!Pe.isObject(r))throw new TypeError("data must be an object");return S(r),t}function nM(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function XA(r,t){this._pairs=[],r&&e1(r,this,t)}const V3=XA.prototype;V3.append=function(t,s){this._pairs.push([t,s])};V3.toString=function(t){const s=t?function(i){return t.call(this,i,nM)}:nM;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function Rq(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function U3(r,t,s){if(!t)return r;const i=s&&s.encode||Rq;Pe.isFunction(s)&&(s={serialize:s});const l=s&&s.serialize;let u;if(l?u=l(t,s):u=Pe.isURLSearchParams(t)?t.toString():new XA(t,s).toString(i),u){const m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class sM{constructor(){this.handlers=[]}use(t,s,i){return this.handlers.push({fulfilled:t,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(i){i!==null&&t(i)})}}const G3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pq=typeof URLSearchParams<"u"?URLSearchParams:XA,Oq=typeof FormData<"u"?FormData:null,Bq=typeof Blob<"u"?Blob:null,Lq={isBrowser:!0,classes:{URLSearchParams:Pq,FormData:Oq,Blob:Bq},protocols:["http","https","file","blob","url","data"]},ZA=typeof window<"u"&&typeof document<"u",T2=typeof navigator=="object"&&navigator||void 0,zq=ZA&&(!T2||["ReactNative","NativeScript","NS"].indexOf(T2.product)<0),Fq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vq=ZA&&window.location.href||"http://localhost",Uq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZA,hasStandardBrowserEnv:zq,hasStandardBrowserWebWorkerEnv:Fq,navigator:T2,origin:Vq},Symbol.toStringTag,{value:"Module"})),mo={...Uq,...Lq};function Gq(r,t){return e1(r,new mo.classes.URLSearchParams,Object.assign({visitor:function(s,i,l,u){return mo.isNode&&Pe.isBuffer(s)?(this.append(i,s.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function Hq(r){return Pe.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qq(r){const t={},s=Object.keys(r);let i;const l=s.length;let u;for(i=0;i<l;i++)u=s[i],t[u]=r[u];return t}function H3(r){function t(s,i,l,u){let m=s[u++];if(m==="__proto__")return!0;const f=Number.isFinite(+m),b=u>=s.length;return m=!m&&Pe.isArray(l)?l.length:m,b?(Pe.hasOwnProp(l,m)?l[m]=[l[m],i]:l[m]=i,!f):((!l[m]||!Pe.isObject(l[m]))&&(l[m]=[]),t(s,i,l[m],u)&&Pe.isArray(l[m])&&(l[m]=qq(l[m])),!f)}if(Pe.isFormData(r)&&Pe.isFunction(r.entries)){const s={};return Pe.forEachEntry(r,(i,l)=>{t(Hq(i),l,s,0)}),s}return null}function Yq(r,t,s){if(Pe.isString(r))try{return(t||JSON.parse)(r),Pe.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(r)}const Dx={transitional:G3,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const i=s.getContentType()||"",l=i.indexOf("application/json")>-1,u=Pe.isObject(t);if(u&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return l?JSON.stringify(H3(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Gq(t,this.formSerializer).toString();if((f=Pe.isFileList(t))||i.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return e1(f?{"files[]":t}:t,b&&new b,this.formSerializer)}}return u||l?(s.setContentType("application/json",!1),Yq(t)):t}],transformResponse:[function(t){const s=this.transitional||Dx.transitional,i=s&&s.forcedJSONParsing,l=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(i&&!this.responseType||l)){const m=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(f){if(m)throw f.name==="SyntaxError"?Gt.from(f,Gt.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mo.classes.FormData,Blob:mo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],r=>{Dx.headers[r]={}});const Wq=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kq=r=>{const t={};let s,i,l;return r&&r.split(`
`).forEach(function(m){l=m.indexOf(":"),s=m.substring(0,l).trim().toLowerCase(),i=m.substring(l+1).trim(),!(!s||t[s]&&Wq[s])&&(s==="set-cookie"?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t},oM=Symbol("internals");function gy(r){return r&&String(r).trim().toLowerCase()}function Fw(r){return r===!1||r==null?r:Pe.isArray(r)?r.map(Fw):String(r)}function Qq(r){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(r);)t[i[1]]=i[2];return t}const Jq=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function D_(r,t,s,i,l){if(Pe.isFunction(i))return i.call(this,t,s);if(l&&(t=s),!!Pe.isString(t)){if(Pe.isString(i))return t.indexOf(i)!==-1;if(Pe.isRegExp(i))return i.test(t)}}function $q(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,i)=>s.toUpperCase()+i)}function Xq(r,t){const s=Pe.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+s,{value:function(l,u,m){return this[i].call(this,t,l,u,m)},configurable:!0})})}let ti=class{constructor(t){t&&this.set(t)}set(t,s,i){const l=this;function u(f,b,v){const k=gy(b);if(!k)throw new Error("header name must be a non-empty string");const C=Pe.findKey(l,k);(!C||l[C]===void 0||v===!0||v===void 0&&l[C]!==!1)&&(l[C||b]=Fw(f))}const m=(f,b)=>Pe.forEach(f,(v,k)=>u(v,k,b));if(Pe.isPlainObject(t)||t instanceof this.constructor)m(t,s);else if(Pe.isString(t)&&(t=t.trim())&&!Jq(t))m(Kq(t),s);else if(Pe.isObject(t)&&Pe.isIterable(t)){let f={},b,v;for(const k of t){if(!Pe.isArray(k))throw TypeError("Object iterator must return a key-value pair");f[v=k[0]]=(b=f[v])?Pe.isArray(b)?[...b,k[1]]:[b,k[1]]:k[1]}m(f,s)}else t!=null&&u(s,t,i);return this}get(t,s){if(t=gy(t),t){const i=Pe.findKey(this,t);if(i){const l=this[i];if(!s)return l;if(s===!0)return Qq(l);if(Pe.isFunction(s))return s.call(this,l,i);if(Pe.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=gy(t),t){const i=Pe.findKey(this,t);return!!(i&&this[i]!==void 0&&(!s||D_(this,this[i],i,s)))}return!1}delete(t,s){const i=this;let l=!1;function u(m){if(m=gy(m),m){const f=Pe.findKey(i,m);f&&(!s||D_(i,i[f],f,s))&&(delete i[f],l=!0)}}return Pe.isArray(t)?t.forEach(u):u(t),l}clear(t){const s=Object.keys(this);let i=s.length,l=!1;for(;i--;){const u=s[i];(!t||D_(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const s=this,i={};return Pe.forEach(this,(l,u)=>{const m=Pe.findKey(i,u);if(m){s[m]=Fw(l),delete s[u];return}const f=t?$q(u):String(u).trim();f!==u&&delete s[u],s[f]=Fw(l),i[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Pe.forEach(this,(i,l)=>{i!=null&&i!==!1&&(s[l]=t&&Pe.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const i=new this(t);return s.forEach(l=>i.set(l)),i}static accessor(t){const i=(this[oM]=this[oM]={accessors:{}}).accessors,l=this.prototype;function u(m){const f=gy(m);i[f]||(Xq(l,m),i[f]=!0)}return Pe.isArray(t)?t.forEach(u):u(t),this}};ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(ti.prototype,({value:r},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(i){this[s]=i}}});Pe.freezeMethods(ti);function M_(r,t){const s=this||Dx,i=t||s,l=ti.from(i.headers);let u=i.data;return Pe.forEach(r,function(f){u=f.call(s,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function q3(r){return!!(r&&r.__CANCEL__)}function og(r,t,s){Gt.call(this,r??"canceled",Gt.ERR_CANCELED,t,s),this.name="CanceledError"}Pe.inherits(og,Gt,{__CANCEL__:!0});function Y3(r,t,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?r(s):t(new Gt("Request failed with status code "+s.status,[Gt.ERR_BAD_REQUEST,Gt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Zq(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function eY(r,t){r=r||10;const s=new Array(r),i=new Array(r);let l=0,u=0,m;return t=t!==void 0?t:1e3,function(b){const v=Date.now(),k=i[u];m||(m=v),s[l]=b,i[l]=v;let C=u,_=0;for(;C!==l;)_+=s[C++],C=C%r;if(l=(l+1)%r,l===u&&(u=(u+1)%r),v-m<t)return;const S=k&&v-k;return S?Math.round(_*1e3/S):void 0}}function tY(r,t){let s=0,i=1e3/t,l,u;const m=(v,k=Date.now())=>{s=k,l=null,u&&(clearTimeout(u),u=null),r.apply(null,v)};return[(...v)=>{const k=Date.now(),C=k-s;C>=i?m(v,k):(l=v,u||(u=setTimeout(()=>{u=null,m(l)},i-C)))},()=>l&&m(l)]}const ak=(r,t,s=3)=>{let i=0;const l=eY(50,250);return tY(u=>{const m=u.loaded,f=u.lengthComputable?u.total:void 0,b=m-i,v=l(b),k=m<=f;i=m;const C={loaded:m,total:f,progress:f?m/f:void 0,bytes:b,rate:v||void 0,estimated:v&&f&&k?(f-m)/v:void 0,event:u,lengthComputable:f!=null,[t?"download":"upload"]:!0};r(C)},s)},iM=(r,t)=>{const s=r!=null;return[i=>t[0]({lengthComputable:s,total:r,loaded:i}),t[1]]},aM=r=>(...t)=>Pe.asap(()=>r(...t)),rY=mo.hasStandardBrowserEnv?((r,t)=>s=>(s=new URL(s,mo.origin),r.protocol===s.protocol&&r.host===s.host&&(t||r.port===s.port)))(new URL(mo.origin),mo.navigator&&/(msie|trident)/i.test(mo.navigator.userAgent)):()=>!0,nY=mo.hasStandardBrowserEnv?{write(r,t,s,i,l,u){const m=[r+"="+encodeURIComponent(t)];Pe.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),Pe.isString(i)&&m.push("path="+i),Pe.isString(l)&&m.push("domain="+l),u===!0&&m.push("secure"),document.cookie=m.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sY(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function oY(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function W3(r,t,s){let i=!sY(t);return r&&(i||s==!1)?oY(r,t):t}const lM=r=>r instanceof ti?{...r}:r;function zm(r,t){t=t||{};const s={};function i(v,k,C,_){return Pe.isPlainObject(v)&&Pe.isPlainObject(k)?Pe.merge.call({caseless:_},v,k):Pe.isPlainObject(k)?Pe.merge({},k):Pe.isArray(k)?k.slice():k}function l(v,k,C,_){if(Pe.isUndefined(k)){if(!Pe.isUndefined(v))return i(void 0,v,C,_)}else return i(v,k,C,_)}function u(v,k){if(!Pe.isUndefined(k))return i(void 0,k)}function m(v,k){if(Pe.isUndefined(k)){if(!Pe.isUndefined(v))return i(void 0,v)}else return i(void 0,k)}function f(v,k,C){if(C in t)return i(v,k);if(C in r)return i(void 0,v)}const b={url:u,method:u,data:u,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:f,headers:(v,k,C)=>l(lM(v),lM(k),C,!0)};return Pe.forEach(Object.keys(Object.assign({},r,t)),function(k){const C=b[k]||l,_=C(r[k],t[k],k);Pe.isUndefined(_)&&C!==f||(s[k]=_)}),s}const K3=r=>{const t=zm({},r);let{data:s,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:u,headers:m,auth:f}=t;t.headers=m=ti.from(m),t.url=U3(W3(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),f&&m.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let b;if(Pe.isFormData(s)){if(mo.hasStandardBrowserEnv||mo.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((b=m.getContentType())!==!1){const[v,...k]=b?b.split(";").map(C=>C.trim()).filter(Boolean):[];m.setContentType([v||"multipart/form-data",...k].join("; "))}}if(mo.hasStandardBrowserEnv&&(i&&Pe.isFunction(i)&&(i=i(t)),i||i!==!1&&rY(t.url))){const v=l&&u&&nY.read(u);v&&m.set(l,v)}return t},iY=typeof XMLHttpRequest<"u",aY=iY&&function(r){return new Promise(function(s,i){const l=K3(r);let u=l.data;const m=ti.from(l.headers).normalize();let{responseType:f,onUploadProgress:b,onDownloadProgress:v}=l,k,C,_,S,M;function R(){S&&S(),M&&M(),l.cancelToken&&l.cancelToken.unsubscribe(k),l.signal&&l.signal.removeEventListener("abort",k)}let I=new XMLHttpRequest;I.open(l.method.toUpperCase(),l.url,!0),I.timeout=l.timeout;function z(){if(!I)return;const U=ti.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),$={data:!f||f==="text"||f==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:U,config:r,request:I};Y3(function(Q){s(Q),R()},function(Q){i(Q),R()},$),I=null}"onloadend"in I?I.onloadend=z:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(z)},I.onabort=function(){I&&(i(new Gt("Request aborted",Gt.ECONNABORTED,r,I)),I=null)},I.onerror=function(){i(new Gt("Network Error",Gt.ERR_NETWORK,r,I)),I=null},I.ontimeout=function(){let q=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const $=l.transitional||G3;l.timeoutErrorMessage&&(q=l.timeoutErrorMessage),i(new Gt(q,$.clarifyTimeoutError?Gt.ETIMEDOUT:Gt.ECONNABORTED,r,I)),I=null},u===void 0&&m.setContentType(null),"setRequestHeader"in I&&Pe.forEach(m.toJSON(),function(q,$){I.setRequestHeader($,q)}),Pe.isUndefined(l.withCredentials)||(I.withCredentials=!!l.withCredentials),f&&f!=="json"&&(I.responseType=l.responseType),v&&([_,M]=ak(v,!0),I.addEventListener("progress",_)),b&&I.upload&&([C,S]=ak(b),I.upload.addEventListener("progress",C),I.upload.addEventListener("loadend",S)),(l.cancelToken||l.signal)&&(k=U=>{I&&(i(!U||U.type?new og(null,r,I):U),I.abort(),I=null)},l.cancelToken&&l.cancelToken.subscribe(k),l.signal&&(l.signal.aborted?k():l.signal.addEventListener("abort",k)));const V=Zq(l.url);if(V&&mo.protocols.indexOf(V)===-1){i(new Gt("Unsupported protocol "+V+":",Gt.ERR_BAD_REQUEST,r));return}I.send(u||null)})},lY=(r,t)=>{const{length:s}=r=r?r.filter(Boolean):[];if(t||s){let i=new AbortController,l;const u=function(v){if(!l){l=!0,f();const k=v instanceof Error?v:this.reason;i.abort(k instanceof Gt?k:new og(k instanceof Error?k.message:k))}};let m=t&&setTimeout(()=>{m=null,u(new Gt(`timeout ${t} of ms exceeded`,Gt.ETIMEDOUT))},t);const f=()=>{r&&(m&&clearTimeout(m),m=null,r.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),r=null)};r.forEach(v=>v.addEventListener("abort",u));const{signal:b}=i;return b.unsubscribe=()=>Pe.asap(f),b}},cY=function*(r,t){let s=r.byteLength;if(s<t){yield r;return}let i=0,l;for(;i<s;)l=i+t,yield r.slice(i,l),i=l},dY=async function*(r,t){for await(const s of uY(r))yield*cY(s,t)},uY=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)break;yield i}}finally{await t.cancel()}},cM=(r,t,s,i)=>{const l=dY(r,t);let u=0,m,f=b=>{m||(m=!0,i&&i(b))};return new ReadableStream({async pull(b){try{const{done:v,value:k}=await l.next();if(v){f(),b.close();return}let C=k.byteLength;if(s){let _=u+=C;s(_)}b.enqueue(new Uint8Array(k))}catch(v){throw f(v),v}},cancel(b){return f(b),l.return()}},{highWaterMark:2})},t1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Q3=t1&&typeof ReadableStream=="function",hY=t1&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),J3=(r,...t)=>{try{return!!r(...t)}catch{return!1}},mY=Q3&&J3(()=>{let r=!1;const t=new Request(mo.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),dM=64*1024,I2=Q3&&J3(()=>Pe.isReadableStream(new Response("").body)),lk={stream:I2&&(r=>r.body)};t1&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!lk[t]&&(lk[t]=Pe.isFunction(r[t])?s=>s[t]():(s,i)=>{throw new Gt(`Response type '${t}' is not supported`,Gt.ERR_NOT_SUPPORT,i)})})})(new Response);const pY=async r=>{if(r==null)return 0;if(Pe.isBlob(r))return r.size;if(Pe.isSpecCompliantForm(r))return(await new Request(mo.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(r)||Pe.isArrayBuffer(r))return r.byteLength;if(Pe.isURLSearchParams(r)&&(r=r+""),Pe.isString(r))return(await hY(r)).byteLength},fY=async(r,t)=>{const s=Pe.toFiniteNumber(r.getContentLength());return s??pY(t)},gY=t1&&(async r=>{let{url:t,method:s,data:i,signal:l,cancelToken:u,timeout:m,onDownloadProgress:f,onUploadProgress:b,responseType:v,headers:k,withCredentials:C="same-origin",fetchOptions:_}=K3(r);v=v?(v+"").toLowerCase():"text";let S=lY([l,u&&u.toAbortSignal()],m),M;const R=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let I;try{if(b&&mY&&s!=="get"&&s!=="head"&&(I=await fY(k,i))!==0){let $=new Request(t,{method:"POST",body:i,duplex:"half"}),ne;if(Pe.isFormData(i)&&(ne=$.headers.get("content-type"))&&k.setContentType(ne),$.body){const[Q,B]=iM(I,ak(aM(b)));i=cM($.body,dM,Q,B)}}Pe.isString(C)||(C=C?"include":"omit");const z="credentials"in Request.prototype;M=new Request(t,{..._,signal:S,method:s.toUpperCase(),headers:k.normalize().toJSON(),body:i,duplex:"half",credentials:z?C:void 0});let V=await fetch(M,_);const U=I2&&(v==="stream"||v==="response");if(I2&&(f||U&&R)){const $={};["status","statusText","headers"].forEach(Y=>{$[Y]=V[Y]});const ne=Pe.toFiniteNumber(V.headers.get("content-length")),[Q,B]=f&&iM(ne,ak(aM(f),!0))||[];V=new Response(cM(V.body,dM,Q,()=>{B&&B(),R&&R()}),$)}v=v||"text";let q=await lk[Pe.findKey(lk,v)||"text"](V,r);return!U&&R&&R(),await new Promise(($,ne)=>{Y3($,ne,{data:q,headers:ti.from(V.headers),status:V.status,statusText:V.statusText,config:r,request:M})})}catch(z){throw R&&R(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Gt("Network Error",Gt.ERR_NETWORK,r,M),{cause:z.cause||z}):Gt.from(z,z&&z.code,r,M)}}),R2={http:Mq,xhr:aY,fetch:gY};Pe.forEach(R2,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const uM=r=>`- ${r}`,bY=r=>Pe.isFunction(r)||r===null||r===!1,$3={getAdapter:r=>{r=Pe.isArray(r)?r:[r];const{length:t}=r;let s,i;const l={};for(let u=0;u<t;u++){s=r[u];let m;if(i=s,!bY(s)&&(i=R2[(m=String(s)).toLowerCase()],i===void 0))throw new Gt(`Unknown adapter '${m}'`);if(i)break;l[m||"#"+u]=i}if(!i){const u=Object.entries(l).map(([f,b])=>`adapter ${f} `+(b===!1?"is not supported by the environment":"is not available in the build"));let m=t?u.length>1?`since :
`+u.map(uM).join(`
`):" "+uM(u[0]):"as no adapter specified";throw new Gt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return i},adapters:R2};function T_(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new og(null,r)}function hM(r){return T_(r),r.headers=ti.from(r.headers),r.data=M_.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),$3.getAdapter(r.adapter||Dx.adapter)(r).then(function(i){return T_(r),i.data=M_.call(r,r.transformResponse,i),i.headers=ti.from(i.headers),i},function(i){return q3(i)||(T_(r),i&&i.response&&(i.response.data=M_.call(r,r.transformResponse,i.response),i.response.headers=ti.from(i.response.headers))),Promise.reject(i)})}const X3="1.10.0",r1={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{r1[r]=function(i){return typeof i===r||"a"+(t<1?"n ":" ")+r}});const mM={};r1.transitional=function(t,s,i){function l(u,m){return"[Axios v"+X3+"] Transitional option '"+u+"'"+m+(i?". "+i:"")}return(u,m,f)=>{if(t===!1)throw new Gt(l(m," has been removed"+(s?" in "+s:"")),Gt.ERR_DEPRECATED);return s&&!mM[m]&&(mM[m]=!0,console.warn(l(m," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(u,m,f):!0}};r1.spelling=function(t){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function yY(r,t,s){if(typeof r!="object")throw new Gt("options must be an object",Gt.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let l=i.length;for(;l-- >0;){const u=i[l],m=t[u];if(m){const f=r[u],b=f===void 0||m(f,u,r);if(b!==!0)throw new Gt("option "+u+" must be "+b,Gt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Gt("Unknown option "+u,Gt.ERR_BAD_OPTION)}}const Vw={assertOptions:yY,validators:r1},Gl=Vw.validators;let Rm=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sM,response:new sM}}async request(t,s){try{return await this._request(t,s)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=zm(this.defaults,s);const{transitional:i,paramsSerializer:l,headers:u}=s;i!==void 0&&Vw.assertOptions(i,{silentJSONParsing:Gl.transitional(Gl.boolean),forcedJSONParsing:Gl.transitional(Gl.boolean),clarifyTimeoutError:Gl.transitional(Gl.boolean)},!1),l!=null&&(Pe.isFunction(l)?s.paramsSerializer={serialize:l}:Vw.assertOptions(l,{encode:Gl.function,serialize:Gl.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Vw.assertOptions(s,{baseUrl:Gl.spelling("baseURL"),withXsrfToken:Gl.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=u&&Pe.merge(u.common,u[s.method]);u&&Pe.forEach(["delete","get","head","post","put","patch","common"],M=>{delete u[M]}),s.headers=ti.concat(m,u);const f=[];let b=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(b=b&&R.synchronous,f.unshift(R.fulfilled,R.rejected))});const v=[];this.interceptors.response.forEach(function(R){v.push(R.fulfilled,R.rejected)});let k,C=0,_;if(!b){const M=[hM.bind(this),void 0];for(M.unshift.apply(M,f),M.push.apply(M,v),_=M.length,k=Promise.resolve(s);C<_;)k=k.then(M[C++],M[C++]);return k}_=f.length;let S=s;for(C=0;C<_;){const M=f[C++],R=f[C++];try{S=M(S)}catch(I){R.call(this,I);break}}try{k=hM.call(this,S)}catch(M){return Promise.reject(M)}for(C=0,_=v.length;C<_;)k=k.then(v[C++],v[C++]);return k}getUri(t){t=zm(this.defaults,t);const s=W3(t.baseURL,t.url,t.allowAbsoluteUrls);return U3(s,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){Rm.prototype[t]=function(s,i){return this.request(zm(i||{},{method:t,url:s,data:(i||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function s(i){return function(u,m,f){return this.request(zm(f||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:m}))}}Rm.prototype[t]=s(),Rm.prototype[t+"Form"]=s(!0)});let xY=class Z3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(u){s=u});const i=this;this.promise.then(l=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](l);i._listeners=null}),this.promise.then=l=>{let u;const m=new Promise(f=>{i.subscribe(f),u=f}).then(l);return m.cancel=function(){i.unsubscribe(u)},m},t(function(u,m,f){i.reason||(i.reason=new og(u,m,f),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=i=>{t.abort(i)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Z3(function(l){t=l}),cancel:t}}};function vY(r){return function(s){return r.apply(null,s)}}function wY(r){return Pe.isObject(r)&&r.isAxiosError===!0}const P2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(P2).forEach(([r,t])=>{P2[t]=r});function eP(r){const t=new Rm(r),s=D3(Rm.prototype.request,t);return Pe.extend(s,Rm.prototype,t,{allOwnKeys:!0}),Pe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(l){return eP(zm(r,l))},s}const mn=eP(Dx);mn.Axios=Rm;mn.CanceledError=og;mn.CancelToken=xY;mn.isCancel=q3;mn.VERSION=X3;mn.toFormData=e1;mn.AxiosError=Gt;mn.Cancel=mn.CanceledError;mn.all=function(t){return Promise.all(t)};mn.spread=vY;mn.isAxiosError=wY;mn.mergeConfig=zm;mn.AxiosHeaders=ti;mn.formToJSON=r=>H3(Pe.isHTMLForm(r)?new FormData(r):r);mn.getAdapter=$3.getAdapter;mn.HttpStatusCode=P2;mn.default=mn;const{Axios:mue,AxiosError:pue,CanceledError:fue,isCancel:gue,CancelToken:bue,VERSION:yue,all:xue,Cancel:vue,isAxiosError:wue,spread:kue,toFormData:Cue,AxiosHeaders:_ue,HttpStatusCode:Aue,formToJSON:jue,getAdapter:Nue,mergeConfig:Sue}=mn,Sm="http://127.0.0.1:8000/api",Fm="anand_mobiles_token",rd="anand_mobiles_user",Iy="delivery_partner_token",Dt={HOME:"/",LOGIN:"/login",PRODUCTS:"/products",CART:"/cart",ORDERS:"/orders",WISHLIST:"/wishlist",ABOUT:"/about",CONTACT:"/contact",TRACK_ORDER:"/track-order",BULK_ORDER:"/bulk-order",TERMS_CONDITIONS:"/terms-conditions",CANCELLATION_REFUND_POLICY:"/cancellation-refund-policy",PRIVACY_POLICY:"/privacy-policy",SHIPPING_DELIVERY_POLICY:"/shipping-delivery-policy",OUR_STORES:"/our-stores",WARRANTY_POLICY:"/warranty-policy"},Jt=mn.create({baseURL:Sm,headers:{"Content-Type":"application/json"}});Jt.interceptors.request.use(r=>{const t=localStorage.getItem(Fm);return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r));Jt.interceptors.response.use(r=>r,r=>{var t;return((t=r.response)==null?void 0:t.status)===401&&(localStorage.removeItem(Fm),localStorage.removeItem(rd)),Promise.reject(r)});const Ze=mn.create({baseURL:Sm,headers:{"Content-Type":"application/json"}});Ze.interceptors.request.use(r=>{const t=localStorage.getItem("admin_token");return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r));Ze.interceptors.response.use(r=>r,r=>{var t;return((t=r.response)==null?void 0:t.status)===401&&localStorage.removeItem("admin_token"),Promise.reject(r)});const ed=mn.create({baseURL:Sm,headers:{"Content-Type":"application/json"}});ed.interceptors.request.use(r=>{const t=localStorage.getItem(Iy);return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r));ed.interceptors.response.use(r=>r,r=>{var t;return((t=r.response)==null?void 0:t.status)===401&&localStorage.removeItem(Iy),Promise.reject(r)});const tP=nn(Zu((r,t)=>({logo:null,loading:!1,error:null,setLogo:s=>r({logo:s}),setLoading:s=>r({loading:s}),setError:s=>r({error:s}),fetchLogo:async()=>{var i,l;const s=t();if(s.loading||s.logo)return s.logo;r({loading:!0,error:null});try{const u=await Ze.get("/admin/content/logo");if(u.status===200)return r({logo:u.data.logo_url,loading:!1}),u.data.logo_url}catch(u){throw console.error("Error fetching logo:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch logo",loading:!1}),u}},uploadLogo:async s=>{var i,l;r({loading:!0,error:null});try{const u=await Ze.post("/admin/content/logo/upload",s,{headers:{"Content-Type":"multipart/form-data"}});if(u.status===200)return r({logo:u.data.logo_url,loading:!1}),u.data}catch(u){throw console.error("Error uploading logo:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to upload logo",loading:!1}),u}},deleteLogo:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.delete("/admin/content/logo");if(l.status===200)return r({logo:null,loading:!1}),l.data}catch(l){throw console.error("Error deleting logo:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to delete logo",loading:!1}),l}},clearError:()=>r({error:null})}))),ck=({size:r="medium",linkWrapper:t=!0,titleColor:s})=>{const{logo:i,loading:l,fetchLogo:u}=tP(),m=O.useRef(!1);O.useEffect(()=>{!i&&!l&&!m.current&&(m.current=!0,u())},[]);const f={small:"h-8 w-auto",medium:"h-12 w-auto",large:"h-16 w-auto"},b=s||"var(--brand-primary)",v=n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"relative",children:n.jsx("img",{src:i||"/logo.jpg",alt:"Anand Mobiles",className:`${f[r]} rounded-md transition-transform duration-300 hover:scale-105`,style:{borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"}})}),n.jsxs("span",{className:"ml-2.5 text-xl font-bold hidden sm:inline-block transition-colors duration-300",style:{color:b},children:[n.jsx("span",{children:"Anand"})," Mobiles"]})]});return t?n.jsx(rt,{to:"/",className:"flex items-center hover:opacity-90 transition-opacity duration-300","aria-label":"Anand Mobiles Home",children:v}):n.jsx("div",{className:"flex items-center",children:v})},Qm=({children:r,title:t,titleColor:s})=>n.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full opacity-10 transform translate-x-1/3 -translate-y-1/3",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 rounded-full opacity-10 transform -translate-x-1/3 translate-y-1/3",style:{backgroundColor:"var(--brand-secondary)"}}),n.jsxs("div",{className:"max-w-md w-full space-y-7 p-8 rounded-xl animate-fadeIn relative z-10",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-xl)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(ck,{size:"large",titleColor:s}),n.jsx("h2",{className:"mt-6 text-center text-2xl font-bold",style:{color:"var(--text-primary)"},children:t}),n.jsx("div",{className:"h-1.5 w-20 mt-4 rounded-full",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}})]}),n.jsx("div",{className:"mt-8 relative",children:r})]})]});var rP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pM=ot.createContext&&ot.createContext(rP),kY=["attr","size","title"];function CY(r,t){if(r==null)return{};var s=_Y(r,t),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(l=0;l<u.length;l++)i=u[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(s[i]=r[i])}return s}function _Y(r,t){if(r==null)return{};var s={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(t.indexOf(i)>=0)continue;s[i]=r[i]}return s}function dk(){return dk=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},dk.apply(this,arguments)}function fM(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),s.push.apply(s,i)}return s}function uk(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(s),!0).forEach(function(i){AY(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):fM(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}function AY(r,t,s){return t=jY(t),t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function jY(r){var t=NY(r,"string");return typeof t=="symbol"?t:t+""}function NY(r,t){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function nP(r){return r&&r.map((t,s)=>ot.createElement(t.tag,uk({key:s},t.attr),nP(t.child)))}function Oe(r){return t=>ot.createElement(SY,dk({attr:uk({},r.attr)},t),nP(r.child))}function SY(r){var t=s=>{var{attr:i,size:l,title:u}=r,m=CY(r,kY),f=l||s.size||"1em",b;return s.className&&(b=s.className),r.className&&(b=(b?b+" ":"")+r.className),ot.createElement("svg",dk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,i,m,{className:b,style:uk(uk({color:r.color||s.color},s.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&ot.createElement("title",null,u),r.children)};return pM!==void 0?ot.createElement(pM.Consumer,null,s=>t(s)):t(rP)}function EY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(r)}function DY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(r)}function MY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(r)}function TY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(r)}function ej(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(r)}function tj(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(r)}function IY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(r)}function RY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"},child:[]}]})(r)}function PY(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(r)}const qr=({label:r,type:t="text",name:s,value:i,onChange:l,required:u=!1,error:m,placeholder:f,icon:b=null})=>{const v=S=>{const M={color:"var(--text-secondary)"};switch(S){case"email":return n.jsx(MY,{style:M,className:"h-5 w-5"});case"lock":return n.jsx(EY,{style:M,className:"h-5 w-5"});case"user":return n.jsx(PY,{style:M,className:"h-5 w-5"});case"phone":return n.jsx(TY,{style:M,className:"h-5 w-5"});default:return null}},k={borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-primary)",borderColor:m?"var(--error-color)":"var(--border-primary)",transition:"all 0.3s ease-in-out"},C={color:"var(--text-primary)"},_={color:"var(--error-color)"};return n.jsxs("div",{className:"mb-4 group",children:[n.jsxs("label",{htmlFor:s,className:"block text-sm font-medium mb-1.5 transition-colors duration-200",style:C,children:[r," ",u&&n.jsx("span",{style:_,children:"*"})]}),n.jsxs("div",{className:"relative rounded-md",children:[b&&n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-all duration-200",children:typeof b=="string"?v(b):ot.cloneElement(b,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:t,name:s,id:s,value:i,onChange:l,required:u,placeholder:f,className:`block w-full ${b?"pl-10":"px-4"} py-3 border shadow-sm focus:outline-none focus:ring-2 sm:text-sm transition-all duration-300 ${m?"focus:ring-red-500 border-red-300":"focus:ring-opacity-50 focus:border-transparent focus:ring-opacity-50 group-hover:border-opacity-70"}`,style:{...k,boxShadow:m?"0 0 0 1px var(--error-color)":"var(--shadow-small)",...m?{}:{focusBorderColor:"var(--brand-primary)",focusRing:"var(--brand-primary)"}}}),n.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 transform scale-x-0 transition-transform duration-300 ease-out ${m?"bg-red-500":""}`,style:{backgroundColor:m?"var(--error-color)":"var(--brand-primary)",transformOrigin:"left",width:"100%"}})]}),m&&n.jsxs("p",{className:"mt-2 text-sm flex items-center animate-fadeIn",style:_,children:[n.jsx(DY,{className:"h-4 w-4 mr-1.5"}),m]})]})},st=({children:r,type:t="button",onClick:s,disabled:i=!1,className:l="",variant:u="primary",isLoading:m=!1,fullWidth:f=!0,size:b="md",icon:v=null})=>{const k="flex justify-center items-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 ",C={primary:"text-white bg-teal-600 hover:bg-teal-700 focus:ring-teal-500 border-transparent",secondary:"text-teal-700 bg-white hover:bg-gray-50 focus:ring-teal-500 border border-teal-600",outline:"text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 focus:ring-teal-500",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 border-transparent"},_={primary:"text-white hover:shadow-lg focus:ring-offset-1",secondary:"hover:shadow-md focus:ring-offset-1 border",outline:"hover:shadow-md focus:ring-offset-1 border",danger:"text-white hover:shadow-md focus:ring-offset-1"},S={sm:"py-2 px-4 text-xs",md:"py-2.5 px-5 text-sm",lg:"py-3.5 px-7 text-base"},M=f?"w-full":"",R=()=>{switch(u){case"primary":return{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"secondary":return{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",borderColor:"var(--brand-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"outline":return{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"danger":return{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};default:return{}}},I=()=>n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return n.jsxs("button",{type:t,onClick:s,disabled:i||m,className:`${k} ${C[u]} ${_[u]} ${S[b]} ${M} ${l} ${i||m?"opacity-60 cursor-not-allowed":""} transform hover:-translate-y-1 active:translate-y-0 relative overflow-hidden group`,style:R(),children:[n.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:n.jsx("span",{className:"absolute -inset-[100%] bg-white/20 transform rotate-45 transition-all origin-left scale-0 group-hover:scale-100 duration-500 group-active:duration-100"})}),n.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[m&&n.jsx(I,{}),v&&!m&&n.jsx("span",{className:"mr-2 flex items-center justify-center",children:v}),r]})]})},OY=()=>{};var gM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=function(r){const t=[];let s=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[s++]=l:l<2048?(t[s++]=l>>6|192,t[s++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[s++]=l>>18|240,t[s++]=l>>12&63|128,t[s++]=l>>6&63|128,t[s++]=l&63|128):(t[s++]=l>>12|224,t[s++]=l>>6&63|128,t[s++]=l&63|128)}return t},BY=function(r){const t=[];let s=0,i=0;for(;s<r.length;){const l=r[s++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[s++];t[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[s++],m=r[s++],f=r[s++],b=((l&7)<<18|(u&63)<<12|(m&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(b>>10)),t[i++]=String.fromCharCode(56320+(b&1023))}else{const u=r[s++],m=r[s++];t[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|m&63)}}return t.join("")},oP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const u=r[l],m=l+1<r.length,f=m?r[l+1]:0,b=l+2<r.length,v=b?r[l+2]:0,k=u>>2,C=(u&3)<<4|f>>4;let _=(f&15)<<2|v>>6,S=v&63;b||(S=64,m||(_=64)),i.push(s[k],s[C],s[_],s[S])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(sP(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):BY(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const u=s[r.charAt(l++)],f=l<r.length?s[r.charAt(l)]:0;++l;const v=l<r.length?s[r.charAt(l)]:64;++l;const C=l<r.length?s[r.charAt(l)]:64;if(++l,u==null||f==null||v==null||C==null)throw new LY;const _=u<<2|f>>4;if(i.push(_),v!==64){const S=f<<4&240|v>>2;if(i.push(S),C!==64){const M=v<<6&192|C;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zY=function(r){const t=sP(r);return oP.encodeByteArray(t,!0)},hk=function(r){return zY(r).replace(/\./g,"")},iP=function(r){try{return oP.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=()=>FY().__FIREBASE_DEFAULTS__,UY=()=>{if(typeof process>"u"||typeof gM>"u")return;const r=gM.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GY=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&iP(r[1]);return t&&JSON.parse(t)},n1=()=>{try{return OY()||VY()||UY()||GY()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aP=r=>{var t,s;return(s=(t=n1())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[r]},lP=r=>{const t=aP(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),i]:[t.substring(0,s),i]},cP=()=>{var r;return(r=n1())===null||r===void 0?void 0:r.config},dP=r=>{var t;return(t=n1())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,i)=>{s?this.reject(s):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r){return r.endsWith(".cloudworkstations.dev")}async function rj(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hk(JSON.stringify(s)),hk(JSON.stringify(m)),""].join(".")}const Ry={};function qY(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ry))Ry[t]?r.emulator.push(t):r.prod.push(t);return r}function YY(r){let t=document.getElementById(r),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),s=!0),{created:s,element:t}}let bM=!1;function nj(r,t){if(typeof window>"u"||typeof document>"u"||!Jm(window.location.host)||Ry[r]===t||Ry[r]||bM)return;Ry[r]=t;function s(_){return`__firebase__banner__${_}`}const i="__firebase__banner",u=qY().prod.length>0;function m(){const _=document.getElementById(i);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function b(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function v(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{bM=!0,m()},_}function k(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function C(){const _=YY(i),S=s("text"),M=document.getElementById(S)||document.createElement("span"),R=s("learnmore"),I=document.getElementById(R)||document.createElement("a"),z=s("preprendIcon"),V=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;f(U),k(I,R);const q=v();b(V,z),U.append(V,M,I,q),document.body.appendChild(U)}u?(M.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fo())}function KY(){var r;const t=(r=n1())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JY(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $Y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XY(){const r=fo();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZY(){return!KY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eW(){try{return typeof indexedDB=="object"}catch{return!1}}function tW(){return new Promise((r,t)=>{try{let s=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),s||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{s=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="FirebaseError";class oc extends Error{constructor(t,s,i){super(s),this.code=t,this.customData=i,this.name=rW,Object.setPrototypeOf(this,oc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mx.prototype.create)}}class Mx{constructor(t,s,i){this.service=t,this.serviceName=s,this.errors=i}create(t,...s){const i=s[0]||{},l=`${this.service}/${t}`,u=this.errors[t],m=u?nW(u,i):"Error",f=`${this.serviceName}: ${m} (${l}).`;return new oc(l,f,i)}}function nW(r,t){return r.replace(sW,(s,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const sW=/\{\$([^}]+)}/g;function oW(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vm(r,t){if(r===t)return!0;const s=Object.keys(r),i=Object.keys(t);for(const l of s){if(!i.includes(l))return!1;const u=r[l],m=t[l];if(yM(u)&&yM(m)){if(!Vm(u,m))return!1}else if(u!==m)return!1}for(const l of i)if(!s.includes(l))return!1;return!0}function yM(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(r){const t=[];for(const[s,i]of Object.entries(r))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function wy(r){const t={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function ky(r){const t=r.indexOf("?");if(!t)return"";const s=r.indexOf("#",t);return r.substring(t,s>0?s:void 0)}function iW(r,t){const s=new aW(r,t);return s.subscribe.bind(s)}class aW{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,i){let l;if(t===void 0&&s===void 0&&i===void 0)throw new Error("Missing Observer.");lW(t,["next","error","complete"])?l=t:l={next:t,error:s,complete:i},l.next===void 0&&(l.next=I_),l.error===void 0&&(l.error=I_),l.complete===void 0&&(l.complete=I_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lW(r,t){if(typeof r!="object"||r===null)return!1;for(const s of t)if(s in r&&typeof r[s]=="function")return!0;return!1}function I_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(r){return r&&r._delegate?r._delegate:r}class Vu{constructor(t,s,i){this.name=t,this.instanceFactory=s,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const i=new HY;if(this.instancesDeferred.set(s,i),this.isInitialized(s)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:s});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(s=t==null?void 0:t.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uW(t))try{this.getOrInitializeService({instanceIdentifier:_m})}catch{}for(const[s,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(t=_m){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_m){return this.instances.has(t)}getOptions(t=_m){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:s});for(const[u,m]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);i===f&&m.resolve(l)}return l}onInit(t,s){var i;const l=this.normalizeInstanceIdentifier(s),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(l,u);const m=this.instances.get(l);return m&&t(m,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,s){const i=this.onInitCallbacks.get(s);if(i)for(const l of i)try{l(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dW(t),options:s}),this.instances.set(t,i),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=_m){return this.component?this.component.multipleInstances?t:_m:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dW(r){return r===_m?void 0:r}function uW(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new cW(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(dr||(dr={}));const mW={debug:dr.DEBUG,verbose:dr.VERBOSE,info:dr.INFO,warn:dr.WARN,error:dr.ERROR,silent:dr.SILENT},pW=dr.INFO,fW={[dr.DEBUG]:"log",[dr.VERBOSE]:"log",[dr.INFO]:"info",[dr.WARN]:"warn",[dr.ERROR]:"error"},gW=(r,t,...s)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=fW[t];if(l)console[l](`[${i}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sj{constructor(t){this.name=t,this._logLevel=pW,this._logHandler=gW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mW[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dr.DEBUG,...t),this._logHandler(this,dr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dr.VERBOSE,...t),this._logHandler(this,dr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dr.INFO,...t),this._logHandler(this,dr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dr.WARN,...t),this._logHandler(this,dr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dr.ERROR,...t),this._logHandler(this,dr.ERROR,...t)}}const bW=(r,t)=>t.some(s=>r instanceof s);let xM,vM;function yW(){return xM||(xM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xW(){return vM||(vM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hP=new WeakMap,O2=new WeakMap,mP=new WeakMap,R_=new WeakMap,oj=new WeakMap;function vW(r){const t=new Promise((s,i)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",m)},u=()=>{s(Ou(r.result)),l()},m=()=>{i(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",m)});return t.then(s=>{s instanceof IDBCursor&&hP.set(s,r)}).catch(()=>{}),oj.set(t,r),t}function wW(r){if(O2.has(r))return;const t=new Promise((s,i)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",m),r.removeEventListener("abort",m)},u=()=>{s(),l()},m=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",m),r.addEventListener("abort",m)});O2.set(r,t)}let B2={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return O2.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mP.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ou(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kW(r){B2=r(B2)}function CW(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const i=r.call(P_(this),t,...s);return mP.set(i,t.sort?t.sort():[t]),Ou(i)}:xW().includes(r)?function(...t){return r.apply(P_(this),t),Ou(hP.get(this))}:function(...t){return Ou(r.apply(P_(this),t))}}function _W(r){return typeof r=="function"?CW(r):(r instanceof IDBTransaction&&wW(r),bW(r,yW())?new Proxy(r,B2):r)}function Ou(r){if(r instanceof IDBRequest)return vW(r);if(R_.has(r))return R_.get(r);const t=_W(r);return t!==r&&(R_.set(r,t),oj.set(t,r)),t}const P_=r=>oj.get(r);function AW(r,t,{blocked:s,upgrade:i,blocking:l,terminated:u}={}){const m=indexedDB.open(r,t),f=Ou(m);return i&&m.addEventListener("upgradeneeded",b=>{i(Ou(m.result),b.oldVersion,b.newVersion,Ou(m.transaction),b)}),s&&m.addEventListener("blocked",b=>s(b.oldVersion,b.newVersion,b)),f.then(b=>{u&&b.addEventListener("close",()=>u()),l&&b.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const jW=["get","getKey","getAll","getAllKeys","count"],NW=["put","add","delete","clear"],O_=new Map;function wM(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(O_.get(t))return O_.get(t);const s=t.replace(/FromIndex$/,""),i=t!==s,l=NW.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!(l||jW.includes(s)))return;const u=async function(m,...f){const b=this.transaction(m,l?"readwrite":"readonly");let v=b.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[s](...f),l&&b.done]))[0]};return O_.set(t,u),u}kW(r=>({...r,get:(t,s,i)=>wM(t,s)||r.get(t,s,i),has:(t,s)=>!!wM(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(EW(s)){const i=s.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(s=>s).join(" ")}}function EW(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const L2="@firebase/app",kM="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new sj("@firebase/app"),DW="@firebase/app-compat",MW="@firebase/analytics-compat",TW="@firebase/analytics",IW="@firebase/app-check-compat",RW="@firebase/app-check",PW="@firebase/auth",OW="@firebase/auth-compat",BW="@firebase/database",LW="@firebase/data-connect",zW="@firebase/database-compat",FW="@firebase/functions",VW="@firebase/functions-compat",UW="@firebase/installations",GW="@firebase/installations-compat",HW="@firebase/messaging",qW="@firebase/messaging-compat",YW="@firebase/performance",WW="@firebase/performance-compat",KW="@firebase/remote-config",QW="@firebase/remote-config-compat",JW="@firebase/storage",$W="@firebase/storage-compat",XW="@firebase/firestore",ZW="@firebase/ai",eK="@firebase/firestore-compat",tK="firebase",rK="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="[DEFAULT]",nK={[L2]:"fire-core",[DW]:"fire-core-compat",[TW]:"fire-analytics",[MW]:"fire-analytics-compat",[RW]:"fire-app-check",[IW]:"fire-app-check-compat",[PW]:"fire-auth",[OW]:"fire-auth-compat",[BW]:"fire-rtdb",[LW]:"fire-data-connect",[zW]:"fire-rtdb-compat",[FW]:"fire-fn",[VW]:"fire-fn-compat",[UW]:"fire-iid",[GW]:"fire-iid-compat",[HW]:"fire-fcm",[qW]:"fire-fcm-compat",[YW]:"fire-perf",[WW]:"fire-perf-compat",[KW]:"fire-rc",[QW]:"fire-rc-compat",[JW]:"fire-gcs",[$W]:"fire-gcs-compat",[XW]:"fire-fst",[eK]:"fire-fst-compat",[ZW]:"fire-vertex","fire-js":"fire-js",[tK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Map,sK=new Map,F2=new Map;function CM(r,t){try{r.container.addComponent(t)}catch(s){pd.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function Um(r){const t=r.name;if(F2.has(t))return pd.debug(`There were multiple attempts to register component ${t}.`),!1;F2.set(t,r);for(const s of mk.values())CM(s,r);for(const s of sK.values())CM(s,r);return!0}function s1(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function $o(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bu=new Mx("app","Firebase",oK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(t,s,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=rK;function pP(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:z2,automaticDataCollectionEnabled:!0},t),l=i.name;if(typeof l!="string"||!l)throw Bu.create("bad-app-name",{appName:String(l)});if(s||(s=cP()),!s)throw Bu.create("no-options");const u=mk.get(l);if(u){if(Vm(s,u.options)&&Vm(i,u.config))return u;throw Bu.create("duplicate-app",{appName:l})}const m=new hW(l);for(const b of F2.values())m.addComponent(b);const f=new iK(s,i,m);return mk.set(l,f),f}function ij(r=z2){const t=mk.get(r);if(!t&&r===z2&&cP())return pP();if(!t)throw Bu.create("no-app",{appName:r});return t}function Kl(r,t,s){var i;let l=(i=nK[r])!==null&&i!==void 0?i:r;s&&(l+=`-${s}`);const u=l.match(/\s|\//),m=t.match(/\s|\//);if(u||m){const f=[`Unable to register library "${l}" with version "${t}":`];u&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&m&&f.push("and"),m&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pd.warn(f.join(" "));return}Um(new Vu(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK="firebase-heartbeat-database",lK=1,Zy="firebase-heartbeat-store";let B_=null;function fP(){return B_||(B_=AW(aK,lK,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Zy)}catch(s){console.warn(s)}}}}).catch(r=>{throw Bu.create("idb-open",{originalErrorMessage:r.message})})),B_}async function cK(r){try{const s=(await fP()).transaction(Zy),i=await s.objectStore(Zy).get(gP(r));return await s.done,i}catch(t){if(t instanceof oc)pd.warn(t.message);else{const s=Bu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pd.warn(s.message)}}}async function _M(r,t){try{const i=(await fP()).transaction(Zy,"readwrite");await i.objectStore(Zy).put(t,gP(r)),await i.done}catch(s){if(s instanceof oc)pd.warn(s.message);else{const i=Bu.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});pd.warn(i.message)}}}function gP(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=1024,uK=30;class hK{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new pK(s),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,s;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=AM();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(m=>m.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>uK){const m=fK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pd.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=AM(),{heartbeatsToSend:i,unsentEntries:l}=mK(this._heartbeatsCache.heartbeats),u=hk(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=s,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return pd.warn(s),""}}}function AM(){return new Date().toISOString().substring(0,10)}function mK(r,t=dK){const s=[];let i=r.slice();for(const l of r){const u=s.find(m=>m.agent===l.agent);if(u){if(u.dates.push(l.date),jM(s)>t){u.dates.pop();break}}else if(s.push({agent:l.agent,dates:[l.date]}),jM(s)>t){s.pop();break}i=i.slice(1)}return{heartbeatsToSend:s,unsentEntries:i}}class pK{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eW()?tW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await cK(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return _M(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return _M(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function jM(r){return hk(JSON.stringify({version:2,heartbeats:r})).length}function fK(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let i=1;i<r.length;i++)r[i].date<s&&(s=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(r){Um(new Vu("platform-logger",t=>new SW(t),"PRIVATE")),Um(new Vu("heartbeat",t=>new hK(t),"PRIVATE")),Kl(L2,kM,r),Kl(L2,kM,"esm2017"),Kl("fire-js","")}gK("");var bK="firebase",yK="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kl(bK,yK,"app");function aj(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(s[i[l]]=r[i[l]]);return s}function bP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xK=bP,yP=new Mx("auth","Firebase",bP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new sj("@firebase/auth");function vK(r,...t){pk.logLevel<=dr.WARN&&pk.warn(`Auth (${$m}): ${r}`,...t)}function Uw(r,...t){pk.logLevel<=dr.ERROR&&pk.error(`Auth (${$m}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(r,...t){throw cj(r,...t)}function Ja(r,...t){return cj(r,...t)}function lj(r,t,s){const i=Object.assign(Object.assign({},xK()),{[t]:s});return new Mx("auth","Firebase",i).create(t,{appName:r.name})}function ad(r){return lj(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wK(r,t,s){const i=s;if(!(t instanceof i))throw i.name!==t.constructor.name&&na(r,"argument-error"),lj(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cj(r,...t){if(typeof r!="string"){const s=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(s,...i)}return yP.create(r,...t)}function jt(r,t,...s){if(!r)throw cj(t,...s)}function sd(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uw(t),new Error(t)}function fd(r,t){r||sd(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function kK(){return NM()==="http:"||NM()==="https:"}function NM(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kK()||JY()||"connection"in navigator)?navigator.onLine:!0}function _K(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t,s){this.shortDelay=t,this.longDelay=s,fd(s>t,"Short delay should be less than long delay!"),this.isMobile=WY()||$Y()}get(){return CK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(r,t){fd(r.emulator,"Emulator should always be set here");const{url:s}=r.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{static initialize(t,s,i){this.fetchImpl=t,s&&(this.headersImpl=s),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NK=new Ix(3e4,6e4);function eh(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function th(r,t,s,i,l={}){return vP(r,l,async()=>{let u={},m={};i&&(t==="GET"?m=i:u={body:JSON.stringify(i)});const f=Tx(Object.assign({key:r.config.apiKey},m)).slice(1),b=await r._getAdditionalHeaders();b["Content-Type"]="application/json",r.languageCode&&(b["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:b},u);return QY()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Jm(r.emulatorConfig.host)&&(v.credentials="include"),xP.fetch()(await wP(r,r.config.apiHost,s,f),v)})}async function vP(r,t,s){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},AK),t);try{const l=new EK(r),u=await Promise.race([s(),l.promise]);l.clearNetworkTimeout();const m=await u.json();if("needConfirmation"in m)throw bw(r,"account-exists-with-different-credential",m);if(u.ok&&!("errorMessage"in m))return m;{const f=u.ok?m.errorMessage:m.error.message,[b,v]=f.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw bw(r,"credential-already-in-use",m);if(b==="EMAIL_EXISTS")throw bw(r,"email-already-in-use",m);if(b==="USER_DISABLED")throw bw(r,"user-disabled",m);const k=i[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw lj(r,k,v);na(r,k)}}catch(l){if(l instanceof oc)throw l;na(r,"network-request-failed",{message:String(l)})}}async function Rx(r,t,s,i,l={}){const u=await th(r,t,s,i,l);return"mfaPendingCredential"in u&&na(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function wP(r,t,s,i){const l=`${t}${s}?${i}`,u=r,m=u.config.emulator?dj(r.config,l):`${r.config.apiScheme}://${l}`;return jK.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(m).toString():m}function SK(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,i)=>{this.timer=setTimeout(()=>i(Ja(this.auth,"network-request-failed")),NK.get())})}}function bw(r,t,s){const i={appName:r.name};s.email&&(i.email=s.email),s.phoneNumber&&(i.phoneNumber=s.phoneNumber);const l=Ja(r,t,i);return l.customData._tokenResponse=s,l}function SM(r){return r!==void 0&&r.enterprise!==void 0}class DK{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===t)return SK(s.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MK(r,t){return th(r,"GET","/v2/recaptchaConfig",eh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TK(r,t){return th(r,"POST","/v1/accounts:delete",t)}async function fk(r,t){return th(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function IK(r,t=!1){const s=Ms(r),i=await s.getIdToken(t),l=uj(i);jt(l&&l.exp&&l.auth_time&&l.iat,s.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,m=u==null?void 0:u.sign_in_provider;return{claims:l,token:i,authTime:Py(L_(l.auth_time)),issuedAtTime:Py(L_(l.iat)),expirationTime:Py(L_(l.exp)),signInProvider:m||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function L_(r){return Number(r)*1e3}function uj(r){const[t,s,i]=r.split(".");if(t===void 0||s===void 0||i===void 0)return Uw("JWT malformed, contained fewer than 3 sections"),null;try{const l=iP(s);return l?JSON.parse(l):(Uw("Failed to decode base64 JWT payload"),null)}catch(l){return Uw("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function EM(r){const t=uj(r);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(r,t,s=!1){if(s)return t;try{return await t}catch(i){throw i instanceof oc&&RK(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function RK({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Py(this.lastLoginAt),this.creationTime=Py(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(r){var t;const s=r.auth,i=await r.getIdToken(),l=await ex(r,fk(s,{idToken:i}));jt(l==null?void 0:l.users.length,s,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const m=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?kP(u.providerUserInfo):[],f=BK(r.providerData,m),b=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!(f!=null&&f.length),k=b?v:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new U2(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(r,C)}async function OK(r){const t=Ms(r);await gk(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function BK(r,t){return[...r.filter(i=>!t.some(l=>l.providerId===i.providerId)),...t]}function kP(r){return r.map(t=>{var{providerId:s}=t,i=aj(t,["providerId"]);return{providerId:s,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LK(r,t){const s=await vP(r,{},async()=>{const i=Tx({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,m=await wP(r,l,"/v1/token",`key=${u}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:f,body:i};return r.emulatorConfig&&Jm(r.emulatorConfig.host)&&(b.credentials="include"),xP.fetch()(m,b)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function zK(r,t){return th(r,"POST","/v2/accounts:revokeToken",eh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):EM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const s=EM(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:i,refreshToken:l,expiresIn:u}=await LK(t,s);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(t,s,i){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,s){const{refreshToken:i,accessToken:l,expirationTime:u}=s,m=new zf;return i&&(jt(typeof i=="string","internal-error",{appName:t}),m.refreshToken=i),l&&(jt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),u&&(jt(typeof u=="number","internal-error",{appName:t}),m.expirationTime=u),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zf,this.toJSON())}_performRefresh(){return sd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(r,t){jt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ka{constructor(t){var{uid:s,auth:i,stsTokenManager:l}=t,u=aj(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new U2(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const s=await ex(this,this.stsTokenManager.getToken(this.auth,t));return jt(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return IK(this,t)}reload(){return OK(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new Ka(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),s&&await gk(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($o(this.auth.app))return Promise.reject(ad(this.auth));const t=await this.getIdToken();return await ex(this,TK(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var i,l,u,m,f,b,v,k;const C=(i=s.displayName)!==null&&i!==void 0?i:void 0,_=(l=s.email)!==null&&l!==void 0?l:void 0,S=(u=s.phoneNumber)!==null&&u!==void 0?u:void 0,M=(m=s.photoURL)!==null&&m!==void 0?m:void 0,R=(f=s.tenantId)!==null&&f!==void 0?f:void 0,I=(b=s._redirectEventId)!==null&&b!==void 0?b:void 0,z=(v=s.createdAt)!==null&&v!==void 0?v:void 0,V=(k=s.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:U,emailVerified:q,isAnonymous:$,providerData:ne,stsTokenManager:Q}=s;jt(U&&Q,t,"internal-error");const B=zf.fromJSON(this.name,Q);jt(typeof U=="string",t,"internal-error"),ju(C,t.name),ju(_,t.name),jt(typeof q=="boolean",t,"internal-error"),jt(typeof $=="boolean",t,"internal-error"),ju(S,t.name),ju(M,t.name),ju(R,t.name),ju(I,t.name),ju(z,t.name),ju(V,t.name);const Y=new Ka({uid:U,auth:t,email:_,emailVerified:q,displayName:C,isAnonymous:$,photoURL:M,phoneNumber:S,tenantId:R,stsTokenManager:B,createdAt:z,lastLoginAt:V});return ne&&Array.isArray(ne)&&(Y.providerData=ne.map(J=>Object.assign({},J))),I&&(Y._redirectEventId=I),Y}static async _fromIdTokenResponse(t,s,i=!1){const l=new zf;l.updateFromServerResponse(s);const u=new Ka({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:i});return await gk(u),u}static async _fromGetAccountInfoResponse(t,s,i){const l=s.users[0];jt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?kP(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),f=new zf;f.updateFromIdToken(i);const b=new Ka({uid:l.localId,auth:t,stsTokenManager:f,isAnonymous:m}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new U2(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(b,v),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Map;function od(r){fd(r instanceof Function,"Expected a class definition");let t=DM.get(r);return t?(fd(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,DM.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}CP.type="NONE";const MM=CP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r,t,s){return`firebase:${r}:${t}:${s}`}class Ff{constructor(t,s,i){this.persistence=t,this.auth=s,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=Gw(this.userKey,l.apiKey,u),this.fullPersistenceKey=Gw("persistence",l.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await fk(this.auth,{idToken:t}).catch(()=>{});return s?Ka._fromGetAccountInfoResponse(this.auth,s,t):null}return Ka._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,i="authUser"){if(!s.length)return new Ff(od(MM),t,i);const l=(await Promise.all(s.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=l[0]||od(MM);const m=Gw(i,t.config.apiKey,t.name);let f=null;for(const v of s)try{const k=await v._get(m);if(k){let C;if(typeof k=="string"){const _=await fk(t,{idToken:k}).catch(()=>{});if(!_)break;C=await Ka._fromGetAccountInfoResponse(t,_,k)}else C=Ka._fromJSON(t,k);v!==u&&(f=C),u=v;break}}catch{}const b=l.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!b.length?new Ff(u,t,i):(u=b[0],f&&await u._set(m,f.toJSON()),await Promise.all(s.map(async v=>{if(v!==u)try{await v._remove(m)}catch{}})),new Ff(u,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_P(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EP(t))return"Blackberry";if(DP(t))return"Webos";if(AP(t))return"Safari";if((t.includes("chrome/")||jP(t))&&!t.includes("edge/"))return"Chrome";if(SP(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(s);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _P(r=fo()){return/firefox\//i.test(r)}function AP(r=fo()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jP(r=fo()){return/crios\//i.test(r)}function NP(r=fo()){return/iemobile/i.test(r)}function SP(r=fo()){return/android/i.test(r)}function EP(r=fo()){return/blackberry/i.test(r)}function DP(r=fo()){return/webos/i.test(r)}function hj(r=fo()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FK(r=fo()){var t;return hj(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function VK(){return XY()&&document.documentMode===10}function MP(r=fo()){return hj(r)||SP(r)||DP(r)||EP(r)||/windows phone/i.test(r)||NP(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(r,t=[]){let s;switch(r){case"Browser":s=TM(fo());break;case"Worker":s=`${TM(fo())}-${r}`;break;default:s=r}const i=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${$m}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const i=u=>new Promise((m,f)=>{try{const b=t(u);m(b)}catch(b){f(b)}});i.onAbort=s,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const i of this.queue)await i(t),i.onAbort&&s.push(i.onAbort)}catch(i){s.reverse();for(const l of s)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GK(r,t={}){return th(r,"GET","/v2/passwordPolicy",eh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=6;class qK{constructor(t){var s,i,l,u;const m=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=m.minPasswordLength)!==null&&s!==void 0?s:HK,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var s,i,l,u,m,f;const b={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,b),this.validatePasswordCharacterOptions(t,b),b.isValid&&(b.isValid=(s=b.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),b.isValid&&(b.isValid=(i=b.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),b.isValid&&(b.isValid=(l=b.containsLowercaseLetter)!==null&&l!==void 0?l:!0),b.isValid&&(b.isValid=(u=b.containsUppercaseLetter)!==null&&u!==void 0?u:!0),b.isValid&&(b.isValid=(m=b.containsNumericCharacter)!==null&&m!==void 0?m:!0),b.isValid&&(b.isValid=(f=b.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),b}validatePasswordLengthOptions(t,s){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(s.meetsMinPasswordLength=t.length>=i),l&&(s.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let i;for(let l=0;l<t.length;l++)i=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(s,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,s,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(t,s,i,l){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IM(this),this.idTokenSubscription=new IM(this),this.beforeStateQueue=new UK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=od(s)),this._initializationPromise=this.queue(async()=>{var i,l,u;if(!this._deleted&&(this.persistenceManager=await Ff.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await fk(this,{idToken:t}),i=await Ka._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(i)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if($o(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,f=l==null?void 0:l._redirectEventId,b=await this.tryRedirectSignIn(t);(!m||m===f)&&(b!=null&&b.user)&&(l=b.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(m){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await gk(t)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_K()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($o(this.app))return Promise.reject(ad(this));const s=t?Ms(t):null;return s&&jt(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $o(this.app)?Promise.reject(ad(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $o(this.app)?Promise.reject(ad(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(od(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GK(this),s=new qK(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mx("auth","Firebase",t())}onAuthStateChanged(t,s,i){return this.registerStateListener(this.authStateSubscription,t,s,i)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,i){return this.registerStateListener(this.idTokenSubscription,t,s,i)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(i.tenantId=this.tenantId),await zK(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const i=await this.getOrInitRedirectPersistenceManager(s);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&od(t)||this._popupRedirectResolver;jt(s,this,"argument-error"),this.redirectPersistenceManager=await Ff.create(this,[od(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,i;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,i,l){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let m=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(f,this,"internal-error"),f.then(()=>{m||u(this.currentUser)}),typeof s=="function"){const b=t.addObserver(s,i,l);return()=>{m=!0,b()}}else{const b=t.addObserver(s);return()=>{m=!0,b()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(s["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(s["X-Firebase-AppCheck"]=l),s}async _getAppCheckToken(){var t;if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return s!=null&&s.error&&vK(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function rh(r){return Ms(r)}class IM{constructor(t){this.auth=t,this.observer=null,this.addObserver=iW(s=>this.observer=s)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WK(r){o1=r}function IP(r){return o1.loadJS(r)}function KK(){return o1.recaptchaEnterpriseScript}function QK(){return o1.gapiScript}function JK(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class $K{constructor(){this.enterprise=new XK}ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}class XK{ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}const ZK="recaptcha-enterprise",RP="NO_RECAPTCHA";class eQ{constructor(t){this.type=ZK,this.auth=rh(t)}async verify(t="verify",s=!1){async function i(u){if(!s){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(m,f)=>{MK(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new DK(b);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,m(v.siteKey)}}).catch(b=>{f(b)})})}function l(u,m,f){const b=window.grecaptcha;SM(b)?b.enterprise.ready(()=>{b.enterprise.execute(u,{action:t}).then(v=>{m(v)}).catch(()=>{m(RP)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $K().execute("siteKey",{action:"verify"}):new Promise((u,m)=>{i(this.auth).then(f=>{if(!s&&SM(window.grecaptcha))l(f,u,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let b=KK();b.length!==0&&(b+=f),IP(b).then(()=>{l(f,u,m)}).catch(v=>{m(v)})}}).catch(f=>{m(f)})})}}async function RM(r,t,s,i=!1,l=!1){const u=new eQ(r);let m;if(l)m=RP;else try{m=await u.verify(s)}catch{m=await u.verify(s,!0)}const f=Object.assign({},t);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const b=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:v,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const b=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:m}):Object.assign(f,{captchaResponse:m}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function G2(r,t,s,i,l){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await RM(r,t,s,s==="getOobCode");return i(r,m)}else return i(r,t).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await RM(r,t,s,s==="getOobCode");return i(r,f)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(r,t){const s=s1(r,"auth");if(s.isInitialized()){const l=s.getImmediate(),u=s.getOptions();if(Vm(u,t??{}))return l;na(l,"already-initialized")}return s.initialize({options:t})}function rQ(r,t){const s=(t==null?void 0:t.persistence)||[],i=(Array.isArray(s)?s:[s]).map(od);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function nQ(r,t,s){const i=rh(r);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const l=!1,u=PP(t),{host:m,port:f}=sQ(t),b=f===null?"":`:${f}`,v={url:`${u}//${m}${b}/`},k=Object.freeze({host:m,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt(Vm(v,i.config.emulator)&&Vm(k,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=k,i.settings.appVerificationDisabledForTesting=!0,Jm(m)?(rj(`${u}//${m}${b}`),nj("Auth",!0)):oQ()}function PP(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function sQ(r){const t=PP(r),s=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!s)return{host:"",port:null};const i=s[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:PM(i.substr(u.length+1))}}else{const[u,m]=i.split(":");return{host:u,port:PM(m)}}}function PM(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function oQ(){function r(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return sd("not implemented")}_getIdTokenResponse(t){return sd("not implemented")}_linkToIdToken(t,s){return sd("not implemented")}_getReauthenticationResolver(t){return sd("not implemented")}}async function iQ(r,t){return th(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(r,t){return Rx(r,"POST","/v1/accounts:signInWithPassword",eh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lQ(r,t){return Rx(r,"POST","/v1/accounts:signInWithEmailLink",eh(r,t))}async function cQ(r,t){return Rx(r,"POST","/v1/accounts:signInWithEmailLink",eh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends mj{constructor(t,s,i,l=null){super("password",i),this._email=t,this._password=s,this._tenantId=l}static _fromEmailAndPassword(t,s){return new tx(t,s,"password")}static _fromEmailAndCode(t,s,i=null){return new tx(t,s,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G2(t,s,"signInWithPassword",aQ);case"emailLink":return lQ(t,{email:this._email,oobCode:this._password});default:na(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":const i={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G2(t,i,"signUpPassword",iQ);case"emailLink":return cQ(t,{idToken:s,email:this._email,oobCode:this._password});default:na(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(r,t){return Rx(r,"POST","/v1/accounts:signInWithIdp",eh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ="http://localhost";class Gm extends mj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new Gm(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):na("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:l}=s,u=aj(s,["providerId","signInMethod"]);if(!i||!l)return null;const m=new Gm(i,l);return m.idToken=u.idToken||void 0,m.accessToken=u.accessToken||void 0,m.secret=u.secret,m.nonce=u.nonce,m.pendingToken=u.pendingToken||null,m}_getIdTokenResponse(t){const s=this.buildRequest();return Vf(t,s)}_linkToIdToken(t,s){const i=this.buildRequest();return i.idToken=s,Vf(t,i)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Vf(t,s)}buildRequest(){const t={requestUri:dQ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=Tx(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hQ(r){const t=wy(ky(r)).link,s=t?wy(ky(t)).deep_link_id:null,i=wy(ky(r)).deep_link_id;return(i?wy(ky(i)).link:null)||i||s||t||r}class pj{constructor(t){var s,i,l,u,m,f;const b=wy(ky(t)),v=(s=b.apiKey)!==null&&s!==void 0?s:null,k=(i=b.oobCode)!==null&&i!==void 0?i:null,C=uQ((l=b.mode)!==null&&l!==void 0?l:null);jt(v&&k&&C,"argument-error"),this.apiKey=v,this.operation=C,this.code=k,this.continueUrl=(u=b.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(m=b.lang)!==null&&m!==void 0?m:null,this.tenantId=(f=b.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const s=hQ(t);try{return new pj(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.providerId=ig.PROVIDER_ID}static credential(t,s){return tx._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const i=pj.parseLink(s);return jt(i,"argument-error"),tx._fromEmailAndCode(t,i.code,i.tenantId)}}ig.PROVIDER_ID="password";ig.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ig.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends fj{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Px{constructor(){super("facebook.com")}static credential(t){return Gm._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mu.credentialFromTaggedObject(t)}static credentialFromError(t){return Mu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mu.credential(t.oauthAccessToken)}catch{return null}}}Mu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Px{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return Gm._fromParams({providerId:nd.PROVIDER_ID,signInMethod:nd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return nd.credentialFromTaggedObject(t)}static credentialFromError(t){return nd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:i}=t;if(!s&&!i)return null;try{return nd.credential(s,i)}catch{return null}}}nd.GOOGLE_SIGN_IN_METHOD="google.com";nd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Px{constructor(){super("github.com")}static credential(t){return Gm._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tu.credentialFromTaggedObject(t)}static credentialFromError(t){return Tu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tu.credential(t.oauthAccessToken)}catch{return null}}}Tu.GITHUB_SIGN_IN_METHOD="github.com";Tu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Px{constructor(){super("twitter.com")}static credential(t,s){return Gm._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return Iu.credentialFromTaggedObject(t)}static credentialFromError(t){return Iu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:i}=t;if(!s||!i)return null;try{return Iu.credential(s,i)}catch{return null}}}Iu.TWITTER_SIGN_IN_METHOD="twitter.com";Iu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(r,t){return Rx(r,"POST","/v1/accounts:signUp",eh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,i,l=!1){const u=await Ka._fromIdTokenResponse(t,i,l),m=OM(i);return new Hm({user:u,providerId:m,_tokenResponse:i,operationType:s})}static async _forOperation(t,s,i){await t._updateTokensIfNecessary(i,!0);const l=OM(i);return new Hm({user:t,providerId:l,_tokenResponse:i,operationType:s})}}function OM(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk extends oc{constructor(t,s,i,l){var u;super(s.code,s.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,bk.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:s.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,s,i,l){return new bk(t,s,i,l)}}function OP(r,t,s,i){return(t==="reauthenticate"?s._getReauthenticationResolver(r):s._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bk._fromErrorAndOperation(r,u,t,i):u})}async function pQ(r,t,s=!1){const i=await ex(r,t._linkToIdToken(r.auth,await r.getIdToken()),s);return Hm._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fQ(r,t,s=!1){const{auth:i}=r;if($o(i.app))return Promise.reject(ad(i));const l="reauthenticate";try{const u=await ex(r,OP(i,l,t,r),s);jt(u.idToken,i,"internal-error");const m=uj(u.idToken);jt(m,i,"internal-error");const{sub:f}=m;return jt(r.uid===f,i,"user-mismatch"),Hm._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&na(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(r,t,s=!1){if($o(r.app))return Promise.reject(ad(r));const i="signIn",l=await OP(r,i,t),u=await Hm._fromIdTokenResponse(r,i,l);return s||await r._updateCurrentUser(u.user),u}async function gQ(r,t){return BP(rh(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(r){const t=rh(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function BM(r,t,s){if($o(r.app))return Promise.reject(ad(r));const i=rh(r),m=await G2(i,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mQ).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&LP(r),b}),f=await Hm._fromIdTokenResponse(i,"signIn",m);return await i._updateCurrentUser(f.user),f}function bQ(r,t,s){return $o(r.app)?Promise.reject(ad(r)):gQ(Ms(r),ig.credential(t,s)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&LP(r),i})}function yQ(r,t,s,i){return Ms(r).onIdTokenChanged(t,s,i)}function xQ(r,t,s){return Ms(r).beforeAuthStateChanged(t,s)}function vQ(r){return Ms(r).signOut()}const yk="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(yk,"1"),this.storage.removeItem(yk),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=1e3,kQ=10;class FP extends zP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const i=this.storage.getItem(s),l=this.localCache[s];i!==l&&t(s,l,i)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((m,f,b)=>{this.notifyListeners(m,b)});return}const i=t.key;s?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(i);!s&&this.localCache[i]===m||this.notifyListeners(i,m)},u=this.storage.getItem(i);VK()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kQ):l()}notifyListeners(t,s){this.localCache[t]=s;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:i}),!0)})},wQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}FP.type="LOCAL";const CQ=FP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends zP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}VP.type="SESSION";const UP=VP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(l=>l.isListeningto(t));if(s)return s;const i=new i1(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:i,eventType:l,data:u}=s.data,m=this.handlersMap[l];if(!(m!=null&&m.size))return;s.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const f=Array.from(m).map(async v=>v(s.origin,u)),b=await _Q(f);s.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:b})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(r="",t=10){let s="";for(let i=0;i<t;i++)s+=Math.floor(Math.random()*10);return r+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,m;return new Promise((f,b)=>{const v=gj("",20);l.port1.start();const k=setTimeout(()=>{b(new Error("unsupported_event"))},i);m={messageChannel:l,onMessage(C){const _=C;if(_.data.eventId===v)switch(_.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(_.data.response);break;default:clearTimeout(k),clearTimeout(u),b(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:v,data:s},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(){return window}function jQ(r){Ql().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof Ql().WorkerGlobalScope<"u"&&typeof Ql().importScripts=="function"}async function NQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SQ(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function EQ(){return GP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebaseLocalStorageDb",DQ=1,xk="firebaseLocalStorage",qP="fbase_key";class Ox{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function a1(r,t){return r.transaction([xk],t?"readwrite":"readonly").objectStore(xk)}function MQ(){const r=indexedDB.deleteDatabase(HP);return new Ox(r).toPromise()}function H2(){const r=indexedDB.open(HP,DQ);return new Promise((t,s)=>{r.addEventListener("error",()=>{s(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(xk,{keyPath:qP})}catch(l){s(l)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(xk)?t(i):(i.close(),await MQ(),t(await H2()))})})}async function LM(r,t,s){const i=a1(r,!0).put({[qP]:t,value:s});return new Ox(i).toPromise()}async function TQ(r,t){const s=a1(r,!1).get(t),i=await new Ox(s).toPromise();return i===void 0?null:i.value}function zM(r,t){const s=a1(r,!0).delete(t);return new Ox(s).toPromise()}const IQ=800,RQ=3;class YP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H2(),this.db)}async _withRetries(t){let s=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(s++>RQ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=i1._getInstance(EQ()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await NQ(),!this.activeServiceWorker)return;this.sender=new AQ(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((s=i[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await H2();return await LM(t,yk,"1"),await zM(t,yk),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(i=>LM(i,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(i=>TQ(i,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>zM(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=a1(l,!1).getAll();return new Ox(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],i=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),s.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),s.push(l));return s}notifyListeners(t,s){this.localCache[t]=s;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YP.type="LOCAL";const PQ=YP;new Ix(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(r,t){return t?od(t):(jt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj extends mj{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vf(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Vf(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Vf(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function OQ(r){return BP(r.auth,new bj(r),r.bypassAuthState)}function BQ(r){const{auth:t,user:s}=r;return jt(s,t,"internal-error"),fQ(s,new bj(r),r.bypassAuthState)}async function LQ(r){const{auth:t,user:s}=r;return jt(s,t,"internal-error"),pQ(s,new bj(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t,s,i,l,u=!1){this.auth=t,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:i,postBody:l,tenantId:u,error:m,type:f}=t;if(m){this.reject(m);return}const b={auth:this.auth,requestUri:s,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(b))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OQ;case"linkViaPopup":case"linkViaRedirect":return LQ;case"reauthViaPopup":case"reauthViaRedirect":return BQ;default:na(this.auth,"internal-error")}}resolve(t){fd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=new Ix(2e3,1e4);async function FQ(r,t,s){if($o(r.app))return Promise.reject(Ja(r,"operation-not-supported-in-this-environment"));const i=rh(r);wK(r,t,fj);const l=WP(i,s);return new Em(i,"signInViaPopup",t,l).executeNotNull()}class Em extends KP{constructor(t,s,i,l,u){super(t,s,l,u),this.provider=i,this.authWindow=null,this.pollId=null,Em.currentPopupAction&&Em.currentPopupAction.cancel(),Em.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){fd(this.filter.length===1,"Popup operations only handle one event");const t=gj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Em.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,i;if(!((i=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zQ.get())};t()}}Em.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ="pendingRedirect",Hw=new Map;class UQ extends KP{constructor(t,s,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,i),this.eventId=null}async execute(){let t=Hw.get(this.auth._key());if(!t){try{const i=await GQ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(s){t=()=>Promise.reject(s)}Hw.set(this.auth._key(),t)}return this.bypassAuthState||Hw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GQ(r,t){const s=YQ(t),i=qQ(r);if(!await i._isAvailable())return!1;const l=await i._get(s)==="true";return await i._remove(s),l}function HQ(r,t){Hw.set(r._key(),t)}function qQ(r){return od(r._redirectPersistence)}function YQ(r){return Gw(VQ,r.config.apiKey,r.name)}async function WQ(r,t,s=!1){if($o(r.app))return Promise.reject(ad(r));const i=rh(r),l=WP(i,t),m=await new UQ(i,l,s).execute();return m&&!s&&(delete m.user._redirectEventId,await i._persistUserIfCurrent(m.user),await i._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ=10*60*1e3;class QQ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(s=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JQ(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var i;if(t.error&&!QP(t)){const l=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";s.onError(Ja(this.auth,l))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const i=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(FM(t))}saveEventToCache(t){this.cachedEventUids.add(FM(t)),this.lastProcessedEventTime=Date.now()}}function FM(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function QP({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function JQ(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QP(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Q(r,t={}){return th(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZQ=/^https?/;async function eJ(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $Q(r);for(const s of t)try{if(tJ(s))return}catch{}na(r,"unauthorized-domain")}function tJ(r){const t=V2(),{protocol:s,hostname:i}=new URL(t);if(r.startsWith("chrome-extension://")){const m=new URL(r);return m.hostname===""&&i===""?s==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&m.hostname===i}if(!ZQ.test(s))return!1;if(XQ.test(r))return i===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ=new Ix(3e4,6e4);function VM(){const r=Ql().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let s=0;s<r.CP.length;s++)r.CP[s]=null}}function nJ(r){return new Promise((t,s)=>{var i,l,u;function m(){VM(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{VM(),s(Ja(r,"network-request-failed"))},timeout:rJ.get()})}if(!((l=(i=Ql().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((u=Ql().gapi)===null||u===void 0)&&u.load)m();else{const f=JK("iframefcb");return Ql()[f]=()=>{gapi.load?m():s(Ja(r,"network-request-failed"))},IP(`${QK()}?onload=${f}`).catch(b=>s(b))}}).catch(t=>{throw qw=null,t})}let qw=null;function sJ(r){return qw=qw||nJ(r),qw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oJ=new Ix(5e3,15e3),iJ="__/auth/iframe",aJ="emulator/auth/iframe",lJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dJ(r){const t=r.config;jt(t.authDomain,r,"auth-domain-config-required");const s=t.emulator?dj(t,aJ):`https://${r.config.authDomain}/${iJ}`,i={apiKey:t.apiKey,appName:r.name,v:$m},l=cJ.get(r.config.apiHost);l&&(i.eid=l);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${s}?${Tx(i).slice(1)}`}async function uJ(r){const t=await sJ(r),s=Ql().gapi;return jt(s,r,"internal-error"),t.open({where:document.body,url:dJ(r),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lJ,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const m=Ja(r,"network-request-failed"),f=Ql().setTimeout(()=>{u(m)},oJ.get());function b(){Ql().clearTimeout(f),l(i)}i.ping(b).then(b,()=>{u(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mJ=500,pJ=600,fJ="_blank",gJ="http://localhost";class UM{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bJ(r,t,s,i=mJ,l=pJ){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const b=Object.assign(Object.assign({},hJ),{width:i.toString(),height:l.toString(),top:u,left:m}),v=fo().toLowerCase();s&&(f=jP(v)?fJ:s),_P(v)&&(t=t||gJ,b.scrollbars="yes");const k=Object.entries(b).reduce((_,[S,M])=>`${_}${S}=${M},`,"");if(FK(v)&&f!=="_self")return yJ(t||"",f),new UM(null);const C=window.open(t||"",f,k);jt(C,r,"popup-blocked");try{C.focus()}catch{}return new UM(C)}function yJ(r,t){const s=document.createElement("a");s.href=r,s.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ="__/auth/handler",vJ="emulator/auth/handler",wJ=encodeURIComponent("fac");async function GM(r,t,s,i,l,u){jt(r.config.authDomain,r,"auth-domain-config-required"),jt(r.config.apiKey,r,"invalid-api-key");const m={apiKey:r.config.apiKey,appName:r.name,authType:s,redirectUrl:i,v:$m,eventId:l};if(t instanceof fj){t.setDefaultLanguage(r.languageCode),m.providerId=t.providerId||"",oW(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[k,C]of Object.entries({}))m[k]=C}if(t instanceof Px){const k=t.getScopes().filter(C=>C!=="");k.length>0&&(m.scopes=k.join(","))}r.tenantId&&(m.tid=r.tenantId);const f=m;for(const k of Object.keys(f))f[k]===void 0&&delete f[k];const b=await r._getAppCheckToken(),v=b?`#${wJ}=${encodeURIComponent(b)}`:"";return`${kJ(r)}?${Tx(f).slice(1)}${v}`}function kJ({config:r}){return r.emulator?dj(r,vJ):`https://${r.authDomain}/${xJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="webStorageSupport";class CJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UP,this._completeRedirectFn=WQ,this._overrideRedirectResult=HQ}async _openPopup(t,s,i,l){var u;fd((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const m=await GM(t,s,i,V2(),l);return bJ(t,m,gj())}async _openRedirect(t,s,i,l){await this._originValidation(t);const u=await GM(t,s,i,V2(),l);return jQ(u),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:l,promise:u}=this.eventManagers[s];return l?Promise.resolve(l):(fd(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(t);return this.eventManagers[s]={promise:i},i.catch(()=>{delete this.eventManagers[s]}),i}async initAndGetManager(t){const s=await uJ(t),i=new QQ(t);return s.register("authEvent",l=>(jt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=s,i}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(z_,{type:z_},l=>{var u;const m=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[z_];m!==void 0&&s(!!m),na(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=eJ(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return MP()||AP()||hj()}}const _J=CJ;var HM="@firebase/auth",qM="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NJ(r){Um(new Vu("auth",(t,{options:s})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:m,authDomain:f}=i.options;jt(m&&!m.includes(":"),"invalid-api-key",{appName:i.name});const b={apiKey:m,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TP(r)},v=new YK(i,l,u,b);return rQ(v,s),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,i)=>{t.getProvider("auth-internal").initialize()})),Um(new Vu("auth-internal",t=>{const s=rh(t.getProvider("auth").getImmediate());return(i=>new AJ(i))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kl(HM,qM,jJ(r)),Kl(HM,qM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ=5*60,EJ=dP("authIdTokenMaxAge")||SJ;let YM=null;const DJ=r=>async t=>{const s=t&&await t.getIdTokenResult(),i=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(i&&i>EJ)return;const l=s==null?void 0:s.token;YM!==l&&(YM=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function MJ(r=ij()){const t=s1(r,"auth");if(t.isInitialized())return t.getImmediate();const s=tQ(r,{popupRedirectResolver:_J,persistence:[PQ,CQ,UP]}),i=dP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const m=DJ(u.toString());xQ(s,m,()=>m(s.currentUser)),yQ(s,f=>m(f))}}const l=aP("auth");return l&&nQ(s,`http://${l}`),s}function TJ(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}WK({loadJS(r){return new Promise((t,s)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=t,i.onerror=l=>{const u=Ja("internal-error");u.customData=l,s(u)},i.type="text/javascript",i.charset="UTF-8",TJ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NJ("Browser");var WM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lu,JP;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(Q,B){function Y(){}Y.prototype=B.prototype,Q.D=B.prototype,Q.prototype=new Y,Q.prototype.constructor=Q,Q.C=function(J,W,ee){for(var te=Array(arguments.length-2),be=2;be<arguments.length;be++)te[be-2]=arguments[be];return B.prototype[W].apply(J,te)}}function s(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,s),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Q,B,Y){Y||(Y=0);var J=Array(16);if(typeof B=="string")for(var W=0;16>W;++W)J[W]=B.charCodeAt(Y++)|B.charCodeAt(Y++)<<8|B.charCodeAt(Y++)<<16|B.charCodeAt(Y++)<<24;else for(W=0;16>W;++W)J[W]=B[Y++]|B[Y++]<<8|B[Y++]<<16|B[Y++]<<24;B=Q.g[0],Y=Q.g[1],W=Q.g[2];var ee=Q.g[3],te=B+(ee^Y&(W^ee))+J[0]+3614090360&4294967295;B=Y+(te<<7&4294967295|te>>>25),te=ee+(W^B&(Y^W))+J[1]+3905402710&4294967295,ee=B+(te<<12&4294967295|te>>>20),te=W+(Y^ee&(B^Y))+J[2]+606105819&4294967295,W=ee+(te<<17&4294967295|te>>>15),te=Y+(B^W&(ee^B))+J[3]+3250441966&4294967295,Y=W+(te<<22&4294967295|te>>>10),te=B+(ee^Y&(W^ee))+J[4]+4118548399&4294967295,B=Y+(te<<7&4294967295|te>>>25),te=ee+(W^B&(Y^W))+J[5]+1200080426&4294967295,ee=B+(te<<12&4294967295|te>>>20),te=W+(Y^ee&(B^Y))+J[6]+2821735955&4294967295,W=ee+(te<<17&4294967295|te>>>15),te=Y+(B^W&(ee^B))+J[7]+4249261313&4294967295,Y=W+(te<<22&4294967295|te>>>10),te=B+(ee^Y&(W^ee))+J[8]+1770035416&4294967295,B=Y+(te<<7&4294967295|te>>>25),te=ee+(W^B&(Y^W))+J[9]+2336552879&4294967295,ee=B+(te<<12&4294967295|te>>>20),te=W+(Y^ee&(B^Y))+J[10]+4294925233&4294967295,W=ee+(te<<17&4294967295|te>>>15),te=Y+(B^W&(ee^B))+J[11]+2304563134&4294967295,Y=W+(te<<22&4294967295|te>>>10),te=B+(ee^Y&(W^ee))+J[12]+1804603682&4294967295,B=Y+(te<<7&4294967295|te>>>25),te=ee+(W^B&(Y^W))+J[13]+4254626195&4294967295,ee=B+(te<<12&4294967295|te>>>20),te=W+(Y^ee&(B^Y))+J[14]+2792965006&4294967295,W=ee+(te<<17&4294967295|te>>>15),te=Y+(B^W&(ee^B))+J[15]+1236535329&4294967295,Y=W+(te<<22&4294967295|te>>>10),te=B+(W^ee&(Y^W))+J[1]+4129170786&4294967295,B=Y+(te<<5&4294967295|te>>>27),te=ee+(Y^W&(B^Y))+J[6]+3225465664&4294967295,ee=B+(te<<9&4294967295|te>>>23),te=W+(B^Y&(ee^B))+J[11]+643717713&4294967295,W=ee+(te<<14&4294967295|te>>>18),te=Y+(ee^B&(W^ee))+J[0]+3921069994&4294967295,Y=W+(te<<20&4294967295|te>>>12),te=B+(W^ee&(Y^W))+J[5]+3593408605&4294967295,B=Y+(te<<5&4294967295|te>>>27),te=ee+(Y^W&(B^Y))+J[10]+38016083&4294967295,ee=B+(te<<9&4294967295|te>>>23),te=W+(B^Y&(ee^B))+J[15]+3634488961&4294967295,W=ee+(te<<14&4294967295|te>>>18),te=Y+(ee^B&(W^ee))+J[4]+3889429448&4294967295,Y=W+(te<<20&4294967295|te>>>12),te=B+(W^ee&(Y^W))+J[9]+568446438&4294967295,B=Y+(te<<5&4294967295|te>>>27),te=ee+(Y^W&(B^Y))+J[14]+3275163606&4294967295,ee=B+(te<<9&4294967295|te>>>23),te=W+(B^Y&(ee^B))+J[3]+4107603335&4294967295,W=ee+(te<<14&4294967295|te>>>18),te=Y+(ee^B&(W^ee))+J[8]+1163531501&4294967295,Y=W+(te<<20&4294967295|te>>>12),te=B+(W^ee&(Y^W))+J[13]+2850285829&4294967295,B=Y+(te<<5&4294967295|te>>>27),te=ee+(Y^W&(B^Y))+J[2]+4243563512&4294967295,ee=B+(te<<9&4294967295|te>>>23),te=W+(B^Y&(ee^B))+J[7]+1735328473&4294967295,W=ee+(te<<14&4294967295|te>>>18),te=Y+(ee^B&(W^ee))+J[12]+2368359562&4294967295,Y=W+(te<<20&4294967295|te>>>12),te=B+(Y^W^ee)+J[5]+4294588738&4294967295,B=Y+(te<<4&4294967295|te>>>28),te=ee+(B^Y^W)+J[8]+2272392833&4294967295,ee=B+(te<<11&4294967295|te>>>21),te=W+(ee^B^Y)+J[11]+1839030562&4294967295,W=ee+(te<<16&4294967295|te>>>16),te=Y+(W^ee^B)+J[14]+4259657740&4294967295,Y=W+(te<<23&4294967295|te>>>9),te=B+(Y^W^ee)+J[1]+2763975236&4294967295,B=Y+(te<<4&4294967295|te>>>28),te=ee+(B^Y^W)+J[4]+1272893353&4294967295,ee=B+(te<<11&4294967295|te>>>21),te=W+(ee^B^Y)+J[7]+4139469664&4294967295,W=ee+(te<<16&4294967295|te>>>16),te=Y+(W^ee^B)+J[10]+3200236656&4294967295,Y=W+(te<<23&4294967295|te>>>9),te=B+(Y^W^ee)+J[13]+681279174&4294967295,B=Y+(te<<4&4294967295|te>>>28),te=ee+(B^Y^W)+J[0]+3936430074&4294967295,ee=B+(te<<11&4294967295|te>>>21),te=W+(ee^B^Y)+J[3]+3572445317&4294967295,W=ee+(te<<16&4294967295|te>>>16),te=Y+(W^ee^B)+J[6]+76029189&4294967295,Y=W+(te<<23&4294967295|te>>>9),te=B+(Y^W^ee)+J[9]+3654602809&4294967295,B=Y+(te<<4&4294967295|te>>>28),te=ee+(B^Y^W)+J[12]+3873151461&4294967295,ee=B+(te<<11&4294967295|te>>>21),te=W+(ee^B^Y)+J[15]+530742520&4294967295,W=ee+(te<<16&4294967295|te>>>16),te=Y+(W^ee^B)+J[2]+3299628645&4294967295,Y=W+(te<<23&4294967295|te>>>9),te=B+(W^(Y|~ee))+J[0]+4096336452&4294967295,B=Y+(te<<6&4294967295|te>>>26),te=ee+(Y^(B|~W))+J[7]+1126891415&4294967295,ee=B+(te<<10&4294967295|te>>>22),te=W+(B^(ee|~Y))+J[14]+2878612391&4294967295,W=ee+(te<<15&4294967295|te>>>17),te=Y+(ee^(W|~B))+J[5]+4237533241&4294967295,Y=W+(te<<21&4294967295|te>>>11),te=B+(W^(Y|~ee))+J[12]+1700485571&4294967295,B=Y+(te<<6&4294967295|te>>>26),te=ee+(Y^(B|~W))+J[3]+2399980690&4294967295,ee=B+(te<<10&4294967295|te>>>22),te=W+(B^(ee|~Y))+J[10]+4293915773&4294967295,W=ee+(te<<15&4294967295|te>>>17),te=Y+(ee^(W|~B))+J[1]+2240044497&4294967295,Y=W+(te<<21&4294967295|te>>>11),te=B+(W^(Y|~ee))+J[8]+1873313359&4294967295,B=Y+(te<<6&4294967295|te>>>26),te=ee+(Y^(B|~W))+J[15]+4264355552&4294967295,ee=B+(te<<10&4294967295|te>>>22),te=W+(B^(ee|~Y))+J[6]+2734768916&4294967295,W=ee+(te<<15&4294967295|te>>>17),te=Y+(ee^(W|~B))+J[13]+1309151649&4294967295,Y=W+(te<<21&4294967295|te>>>11),te=B+(W^(Y|~ee))+J[4]+4149444226&4294967295,B=Y+(te<<6&4294967295|te>>>26),te=ee+(Y^(B|~W))+J[11]+3174756917&4294967295,ee=B+(te<<10&4294967295|te>>>22),te=W+(B^(ee|~Y))+J[2]+718787259&4294967295,W=ee+(te<<15&4294967295|te>>>17),te=Y+(ee^(W|~B))+J[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+B&4294967295,Q.g[1]=Q.g[1]+(W+(te<<21&4294967295|te>>>11))&4294967295,Q.g[2]=Q.g[2]+W&4294967295,Q.g[3]=Q.g[3]+ee&4294967295}i.prototype.u=function(Q,B){B===void 0&&(B=Q.length);for(var Y=B-this.blockSize,J=this.B,W=this.h,ee=0;ee<B;){if(W==0)for(;ee<=Y;)l(this,Q,ee),ee+=this.blockSize;if(typeof Q=="string"){for(;ee<B;)if(J[W++]=Q.charCodeAt(ee++),W==this.blockSize){l(this,J),W=0;break}}else for(;ee<B;)if(J[W++]=Q[ee++],W==this.blockSize){l(this,J),W=0;break}}this.h=W,this.o+=B},i.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var B=1;B<Q.length-8;++B)Q[B]=0;var Y=8*this.o;for(B=Q.length-8;B<Q.length;++B)Q[B]=Y&255,Y/=256;for(this.u(Q),Q=Array(16),B=Y=0;4>B;++B)for(var J=0;32>J;J+=8)Q[Y++]=this.g[B]>>>J&255;return Q};function u(Q,B){var Y=f;return Object.prototype.hasOwnProperty.call(Y,Q)?Y[Q]:Y[Q]=B(Q)}function m(Q,B){this.h=B;for(var Y=[],J=!0,W=Q.length-1;0<=W;W--){var ee=Q[W]|0;J&&ee==B||(Y[W]=ee,J=!1)}this.g=Y}var f={};function b(Q){return-128<=Q&&128>Q?u(Q,function(B){return new m([B|0],0>B?-1:0)}):new m([Q|0],0>Q?-1:0)}function v(Q){if(isNaN(Q)||!isFinite(Q))return C;if(0>Q)return I(v(-Q));for(var B=[],Y=1,J=0;Q>=Y;J++)B[J]=Q/Y|0,Y*=4294967296;return new m(B,0)}function k(Q,B){if(Q.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(Q.charAt(0)=="-")return I(k(Q.substring(1),B));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var Y=v(Math.pow(B,8)),J=C,W=0;W<Q.length;W+=8){var ee=Math.min(8,Q.length-W),te=parseInt(Q.substring(W,W+ee),B);8>ee?(ee=v(Math.pow(B,ee)),J=J.j(ee).add(v(te))):(J=J.j(Y),J=J.add(v(te)))}return J}var C=b(0),_=b(1),S=b(16777216);r=m.prototype,r.m=function(){if(R(this))return-I(this).m();for(var Q=0,B=1,Y=0;Y<this.g.length;Y++){var J=this.i(Y);Q+=(0<=J?J:4294967296+J)*B,B*=4294967296}return Q},r.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(M(this))return"0";if(R(this))return"-"+I(this).toString(Q);for(var B=v(Math.pow(Q,6)),Y=this,J="";;){var W=q(Y,B).g;Y=z(Y,W.j(B));var ee=((0<Y.g.length?Y.g[0]:Y.h)>>>0).toString(Q);if(Y=W,M(Y))return ee+J;for(;6>ee.length;)ee="0"+ee;J=ee+J}},r.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function M(Q){if(Q.h!=0)return!1;for(var B=0;B<Q.g.length;B++)if(Q.g[B]!=0)return!1;return!0}function R(Q){return Q.h==-1}r.l=function(Q){return Q=z(this,Q),R(Q)?-1:M(Q)?0:1};function I(Q){for(var B=Q.g.length,Y=[],J=0;J<B;J++)Y[J]=~Q.g[J];return new m(Y,~Q.h).add(_)}r.abs=function(){return R(this)?I(this):this},r.add=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0,W=0;W<=B;W++){var ee=J+(this.i(W)&65535)+(Q.i(W)&65535),te=(ee>>>16)+(this.i(W)>>>16)+(Q.i(W)>>>16);J=te>>>16,ee&=65535,te&=65535,Y[W]=te<<16|ee}return new m(Y,Y[Y.length-1]&-2147483648?-1:0)};function z(Q,B){return Q.add(I(B))}r.j=function(Q){if(M(this)||M(Q))return C;if(R(this))return R(Q)?I(this).j(I(Q)):I(I(this).j(Q));if(R(Q))return I(this.j(I(Q)));if(0>this.l(S)&&0>Q.l(S))return v(this.m()*Q.m());for(var B=this.g.length+Q.g.length,Y=[],J=0;J<2*B;J++)Y[J]=0;for(J=0;J<this.g.length;J++)for(var W=0;W<Q.g.length;W++){var ee=this.i(J)>>>16,te=this.i(J)&65535,be=Q.i(W)>>>16,xe=Q.i(W)&65535;Y[2*J+2*W]+=te*xe,V(Y,2*J+2*W),Y[2*J+2*W+1]+=ee*xe,V(Y,2*J+2*W+1),Y[2*J+2*W+1]+=te*be,V(Y,2*J+2*W+1),Y[2*J+2*W+2]+=ee*be,V(Y,2*J+2*W+2)}for(J=0;J<B;J++)Y[J]=Y[2*J+1]<<16|Y[2*J];for(J=B;J<2*B;J++)Y[J]=0;return new m(Y,0)};function V(Q,B){for(;(Q[B]&65535)!=Q[B];)Q[B+1]+=Q[B]>>>16,Q[B]&=65535,B++}function U(Q,B){this.g=Q,this.h=B}function q(Q,B){if(M(B))throw Error("division by zero");if(M(Q))return new U(C,C);if(R(Q))return B=q(I(Q),B),new U(I(B.g),I(B.h));if(R(B))return B=q(Q,I(B)),new U(I(B.g),B.h);if(30<Q.g.length){if(R(Q)||R(B))throw Error("slowDivide_ only works with positive integers.");for(var Y=_,J=B;0>=J.l(Q);)Y=$(Y),J=$(J);var W=ne(Y,1),ee=ne(J,1);for(J=ne(J,2),Y=ne(Y,2);!M(J);){var te=ee.add(J);0>=te.l(Q)&&(W=W.add(Y),ee=te),J=ne(J,1),Y=ne(Y,1)}return B=z(Q,W.j(B)),new U(W,B)}for(W=C;0<=Q.l(B);){for(Y=Math.max(1,Math.floor(Q.m()/B.m())),J=Math.ceil(Math.log(Y)/Math.LN2),J=48>=J?1:Math.pow(2,J-48),ee=v(Y),te=ee.j(B);R(te)||0<te.l(Q);)Y-=J,ee=v(Y),te=ee.j(B);M(ee)&&(ee=_),W=W.add(ee),Q=z(Q,te)}return new U(W,Q)}r.A=function(Q){return q(this,Q).h},r.and=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0;J<B;J++)Y[J]=this.i(J)&Q.i(J);return new m(Y,this.h&Q.h)},r.or=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0;J<B;J++)Y[J]=this.i(J)|Q.i(J);return new m(Y,this.h|Q.h)},r.xor=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0;J<B;J++)Y[J]=this.i(J)^Q.i(J);return new m(Y,this.h^Q.h)};function $(Q){for(var B=Q.g.length+1,Y=[],J=0;J<B;J++)Y[J]=Q.i(J)<<1|Q.i(J-1)>>>31;return new m(Y,Q.h)}function ne(Q,B){var Y=B>>5;B%=32;for(var J=Q.g.length-Y,W=[],ee=0;ee<J;ee++)W[ee]=0<B?Q.i(ee+Y)>>>B|Q.i(ee+Y+1)<<32-B:Q.i(ee+Y);return new m(W,Q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,JP=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=v,m.fromString=k,Lu=m}).apply(typeof WM<"u"?WM:typeof self<"u"?self:typeof window<"u"?window:{});var yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $P,Cy,XP,Yw,q2,ZP,eO,tO;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,H,Z){return E==Array.prototype||E==Object.prototype||(E[H]=Z.value),E};function s(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof yw=="object"&&yw];for(var H=0;H<E.length;++H){var Z=E[H];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var i=s(this);function l(E,H){if(H)e:{var Z=i;E=E.split(".");for(var he=0;he<E.length-1;he++){var je=E[he];if(!(je in Z))break e;Z=Z[je]}E=E[E.length-1],he=Z[E],H=H(he),H!=he&&H!=null&&t(Z,E,{configurable:!0,writable:!0,value:H})}}function u(E,H){E instanceof String&&(E+="");var Z=0,he=!1,je={next:function(){if(!he&&Z<E.length){var Re=Z++;return{value:H(Re,E[Re]),done:!1}}return he=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}l("Array.prototype.values",function(E){return E||function(){return u(this,function(H,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},f=this||self;function b(E){var H=typeof E;return H=H!="object"?H:E?Array.isArray(E)?"array":H:"null",H=="array"||H=="object"&&typeof E.length=="number"}function v(E){var H=typeof E;return H=="object"&&E!=null||H=="function"}function k(E,H,Z){return E.call.apply(E.bind,arguments)}function C(E,H,Z){if(!E)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,he),E.apply(H,je)}}return function(){return E.apply(H,arguments)}}function _(E,H,Z){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:C,_.apply(null,arguments)}function S(E,H){var Z=Array.prototype.slice.call(arguments,1);return function(){var he=Z.slice();return he.push.apply(he,arguments),E.apply(this,he)}}function M(E,H){function Z(){}Z.prototype=H.prototype,E.aa=H.prototype,E.prototype=new Z,E.prototype.constructor=E,E.Qb=function(he,je,Re){for(var nt=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)nt[nr-2]=arguments[nr];return H.prototype[je].apply(he,nt)}}function R(E){const H=E.length;if(0<H){const Z=Array(H);for(let he=0;he<H;he++)Z[he]=E[he];return Z}return[]}function I(E,H){for(let Z=1;Z<arguments.length;Z++){const he=arguments[Z];if(b(he)){const je=E.length||0,Re=he.length||0;E.length=je+Re;for(let nt=0;nt<Re;nt++)E[je+nt]=he[nt]}else E.push(he)}}class z{constructor(H,Z){this.i=H,this.j=Z,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function V(E){return/^[\s\xa0]*$/.test(E)}function U(){var E=f.navigator;return E&&(E=E.userAgent)?E:""}function q(E){return q[" "](E),E}q[" "]=function(){};var $=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ne(E,H,Z){for(const he in E)H.call(Z,E[he],he,E)}function Q(E,H){for(const Z in E)H.call(void 0,E[Z],Z,E)}function B(E){const H={};for(const Z in E)H[Z]=E[Z];return H}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(E,H){let Z,he;for(let je=1;je<arguments.length;je++){he=arguments[je];for(Z in he)E[Z]=he[Z];for(let Re=0;Re<Y.length;Re++)Z=Y[Re],Object.prototype.hasOwnProperty.call(he,Z)&&(E[Z]=he[Z])}}function W(E){var H=1;E=E.split(":");const Z=[];for(;0<H&&E.length;)Z.push(E.shift()),H--;return E.length&&Z.push(E.join(":")),Z}function ee(E){f.setTimeout(()=>{throw E},0)}function te(){var E=oe;let H=null;return E.g&&(H=E.g,E.g=E.g.next,E.g||(E.h=null),H.next=null),H}class be{constructor(){this.h=this.g=null}add(H,Z){const he=xe.get();he.set(H,Z),this.h?this.h.next=he:this.g=he,this.h=he}}var xe=new z(()=>new ie,E=>E.reset());class ie{constructor(){this.next=this.g=this.h=null}set(H,Z){this.h=H,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,oe=new be,G=()=>{const E=f.Promise.resolve(void 0);ae=()=>{E.then(ue)}};var ue=()=>{for(var E;E=te();){try{E.h.call(E.g)}catch(Z){ee(Z)}var H=xe;H.j(E),100>H.h&&(H.h++,E.next=H.g,H.g=E)}le=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(E,H){this.type=E,this.g=this.target=H,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var E=!1,H=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Z=()=>{};f.addEventListener("test",Z,H),f.removeEventListener("test",Z,H)}catch{}return E}();function Me(E,H){if(ye.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Z=this.type=E.type,he=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=H,H=E.relatedTarget){if($){e:{try{q(H.nodeName);var je=!0;break e}catch{}je=!1}je||(H=null)}}else Z=="mouseover"?H=E.fromElement:Z=="mouseout"&&(H=E.toElement);this.relatedTarget=H,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:Ae[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Me.aa.h.call(this)}}M(Me,ye);var Ae={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Qe(E,H,Z,he,je){this.listener=E,this.proxy=null,this.src=H,this.type=Z,this.capture=!!he,this.ha=je,this.key=++ze,this.da=this.fa=!1}function Be(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function fe(E){this.src=E,this.g={},this.h=0}fe.prototype.add=function(E,H,Z,he,je){var Re=E.toString();E=this.g[Re],E||(E=this.g[Re]=[],this.h++);var nt=He(E,H,he,je);return-1<nt?(H=E[nt],Z||(H.fa=!1)):(H=new Qe(H,this.src,Re,!!he,je),H.fa=Z,E.push(H)),H};function et(E,H){var Z=H.type;if(Z in E.g){var he=E.g[Z],je=Array.prototype.indexOf.call(he,H,void 0),Re;(Re=0<=je)&&Array.prototype.splice.call(he,je,1),Re&&(Be(H),E.g[Z].length==0&&(delete E.g[Z],E.h--))}}function He(E,H,Z,he){for(var je=0;je<E.length;++je){var Re=E[je];if(!Re.da&&Re.listener==H&&Re.capture==!!Z&&Re.ha==he)return je}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),xt={};function _e(E,H,Z,he,je){if(Array.isArray(H)){for(var Re=0;Re<H.length;Re++)_e(E,H[Re],Z,he,je);return null}return Z=go(Z),E&&E[Ye]?E.K(H,Z,v(he)?!!he.capture:!1,je):lt(E,H,Z,!1,he,je)}function lt(E,H,Z,he,je,Re){if(!H)throw Error("Invalid event type");var nt=v(je)?!!je.capture:!!je,nr=_r(E);if(nr||(E[tt]=nr=new fe(E)),Z=nr.add(H,Z,he,nt,Re),Z.proxy)return Z;if(he=Mt(),Z.proxy=he,he.src=E,he.listener=Z,E.addEventListener)ve||(je=nt),je===void 0&&(je=!1),E.addEventListener(H.toString(),he,je);else if(E.attachEvent)E.attachEvent(Yr(H.toString()),he);else if(E.addListener&&E.removeListener)E.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function Mt(){function E(Z){return H.call(E.src,E.listener,Z)}const H=Er;return E}function br(E,H,Z,he,je){if(Array.isArray(H))for(var Re=0;Re<H.length;Re++)br(E,H[Re],Z,he,je);else he=v(he)?!!he.capture:!!he,Z=go(Z),E&&E[Ye]?(E=E.i,H=String(H).toString(),H in E.g&&(Re=E.g[H],Z=He(Re,Z,he,je),-1<Z&&(Be(Re[Z]),Array.prototype.splice.call(Re,Z,1),Re.length==0&&(delete E.g[H],E.h--)))):E&&(E=_r(E))&&(H=E.g[H.toString()],E=-1,H&&(E=He(H,Z,he,je)),(Z=-1<E?H[E]:null)&&sn(Z))}function sn(E){if(typeof E!="number"&&E&&!E.da){var H=E.src;if(H&&H[Ye])et(H.i,E);else{var Z=E.type,he=E.proxy;H.removeEventListener?H.removeEventListener(Z,he,E.capture):H.detachEvent?H.detachEvent(Yr(Z),he):H.addListener&&H.removeListener&&H.removeListener(he),(Z=_r(H))?(et(Z,E),Z.h==0&&(Z.src=null,H[tt]=null)):Be(E)}}}function Yr(E){return E in xt?xt[E]:xt[E]="on"+E}function Er(E,H){if(E.da)E=!0;else{H=new Me(H,this);var Z=E.listener,he=E.ha||E.src;E.fa&&sn(E),E=Z.call(he,H)}return E}function _r(E){return E=E[tt],E instanceof fe?E:null}var Js="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(E){return typeof E=="function"?E:(E[Js]||(E[Js]=function(H){return E.handleEvent(H)}),E[Js])}function Wt(){me.call(this),this.i=new fe(this),this.M=this,this.F=null}M(Wt,me),Wt.prototype[Ye]=!0,Wt.prototype.removeEventListener=function(E,H,Z,he){br(this,E,H,Z,he)};function kt(E,H){var Z,he=E.F;if(he)for(Z=[];he;he=he.F)Z.push(he);if(E=E.M,he=H.type||H,typeof H=="string")H=new ye(H,E);else if(H instanceof ye)H.target=H.target||E;else{var je=H;H=new ye(he,E),J(H,je)}if(je=!0,Z)for(var Re=Z.length-1;0<=Re;Re--){var nt=H.g=Z[Re];je=Gr(nt,he,!0,H)&&je}if(nt=H.g=E,je=Gr(nt,he,!0,H)&&je,je=Gr(nt,he,!1,H)&&je,Z)for(Re=0;Re<Z.length;Re++)nt=H.g=Z[Re],je=Gr(nt,he,!1,H)&&je}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var E=this.i,H;for(H in E.g){for(var Z=E.g[H],he=0;he<Z.length;he++)Be(Z[he]);delete E.g[H],E.h--}}this.F=null},Wt.prototype.K=function(E,H,Z,he){return this.i.add(String(E),H,!1,Z,he)},Wt.prototype.L=function(E,H,Z,he){return this.i.add(String(E),H,!0,Z,he)};function Gr(E,H,Z,he){if(H=E.i.g[String(H)],!H)return!0;H=H.concat();for(var je=!0,Re=0;Re<H.length;++Re){var nt=H[Re];if(nt&&!nt.da&&nt.capture==Z){var nr=nt.listener,En=nt.ha||nt.src;nt.fa&&et(E.i,nt),je=nr.call(En,he)!==!1&&je}}return je&&!he.defaultPrevented}function ct(E,H,Z){if(typeof E=="function")Z&&(E=_(E,Z));else if(E&&typeof E.handleEvent=="function")E=_(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:f.setTimeout(E,H||0)}function Pt(E){E.g=ct(()=>{E.g=null,E.i&&(E.i=!1,Pt(E))},E.l);const H=E.h;E.h=null,E.m.apply(null,H)}class Ct extends me{constructor(H,Z){super(),this.m=H,this.l=Z,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(E){me.call(this),this.h=E,this.g={}}M(tr,me);var on=[];function ss(E){ne(E.g,function(H,Z){this.g.hasOwnProperty(Z)&&sn(H)},E),E.g={}}tr.prototype.N=function(){tr.aa.N.call(this),ss(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=f.JSON.stringify,$t=f.JSON.parse,Bt=class{stringify(E){return f.JSON.stringify(E,void 0)}parse(E){return f.JSON.parse(E,void 0)}};function Tt(){}Tt.prototype.h=null;function $s(E){return E.h||(E.h=E.i())}function Ts(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ye.call(this,"d")}M(ir,ye);function Ln(){ye.call(this,"c")}M(Ln,ye);var Wr={},Rs=null;function pn(){return Rs=Rs||new Wt}Wr.La="serverreachability";function jn(E){ye.call(this,Wr.La,E)}M(jn,ye);function yr(E){const H=pn();kt(H,new jn(H))}Wr.STAT_EVENT="statevent";function oi(E,H){ye.call(this,Wr.STAT_EVENT,E),this.stat=H}M(oi,ye);function St(E){const H=pn();kt(H,new oi(H,E))}Wr.Ma="timingevent";function xr(E,H){ye.call(this,Wr.Ma,E),this.size=H}M(xr,ye);function vr(E,H){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){E()},H)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function ii(E,H,Z,he,je,Re){E.info(function(){if(E.g)if(Re)for(var nt="",nr=Re.split("&"),En=0;En<nr.length;En++){var sr=nr[En].split("=");if(1<sr.length){var Wn=sr[0];sr=sr[1];var zn=Wn.split("_");nt=2<=zn.length&&zn[1]=="type"?nt+(Wn+"="+sr+"&"):nt+(Wn+"=redacted&")}}else nt=null;else nt=Re;return"XMLHTTP REQ ("+he+") [attempt "+je+"]: "+H+`
`+Z+`
`+nt})}function la(E,H,Z,he,je,Re,nt){E.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+je+"]: "+H+`
`+Z+`
`+Re+" "+nt})}function os(E,H,Z,he){E.info(function(){return"XMLHTTP TEXT ("+H+"): "+Xs(E,Z)+(he?" "+he:"")})}function Ps(E,H){E.info(function(){return"TIMEOUT: "+H})}an.prototype.info=function(){};function Xs(E,H){if(!E.g)return H;if(!H)return null;try{var Z=JSON.parse(H);if(Z){for(E=0;E<Z.length;E++)if(Array.isArray(Z[E])){var he=Z[E];if(!(2>he.length)){var je=he[1];if(Array.isArray(je)&&!(1>je.length)){var Re=je[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var nt=1;nt<je.length;nt++)je[nt]=""}}}}return Le(Z)}catch{return H}}var al={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Ri(){}M(Ri,Tt),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Ii=new Ri;function fn(E,H,Z,he){this.j=E,this.i=H,this.l=Z,this.R=he||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var Cd={},_d={};function ai(E,H,Z){E.L=1,E.v=Io(xs(H)),E.m=Z,E.P=!0,Os(E,null)}function Os(E,H){E.F=Date.now(),lc(E),E.A=xs(E.v);var Z=E.A,he=E.R;Array.isArray(he)||(he=[String(he)]),Dd(Z.i,"t",he),E.C=0,Z=E.j.J,E.h=new Xr,E.g=Pd(E.j,Z?H:null,!E.m),0<E.O&&(E.M=new Ct(_(E.Y,E,E.g),E.O)),H=E.U,Z=E.g,he=E.ca;var je="readystatechange";Array.isArray(je)||(je&&(on[0]=je.toString()),je=on);for(var Re=0;Re<je.length;Re++){var nt=_e(Z,je[Re],he||H.handleEvent,!1,H.h||H);if(!nt)break;H.g[nt.key]=nt}H=E.H?B(E.H):{},E.m?(E.u||(E.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,H)):(E.u="GET",E.g.ea(E.A,E.u,null,H)),yr(),ii(E.i,E.u,E.A,E.l,E.R,E.m)}fn.prototype.ca=function(E){E=E.target;const H=this.M;H&&Po(E)==3?H.j():this.Y(E)},fn.prototype.Y=function(E){try{if(E==this.g)e:{const zn=Po(this.g);var H=this.g.Ba();const ya=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||Md(this.g)))){this.J||zn!=4||H==7||(H==8||0>=ya?yr(3):yr(2)),ll(this);var Z=this.g.Z();this.X=Z;t:if(sp(this)){var he=Md(this.g);E="";var je=he.length,Re=Po(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Pi(this);var nt="";break t}this.h.i=new f.TextDecoder}for(H=0;H<je;H++)this.h.h=!0,E+=this.h.i.decode(he[H],{stream:!(Re&&H==je-1)});he.length=0,this.h.g+=E,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=Z==200,la(this.i,this.u,this.A,this.l,this.R,zn,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var nr,En=this.g;if((nr=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(nr)){var sr=nr;break t}}sr=null}if(Z=sr)os(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cc(this,Z);else{this.o=!1,this.s=3,St(12),is(this),Pi(this);break e}}if(this.P){Z=!0;let ls;for(;!this.J&&this.C<nt.length;)if(ls=op(this,nt),ls==_d){zn==4&&(this.s=4,St(14),Z=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(ls==Cd){this.s=4,St(15),os(this.i,this.l,nt,"[Invalid Chunk]"),Z=!1;break}else os(this.i,this.l,ls,null),cc(this,ls);if(sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||nt.length!=0||this.h.h||(this.s=1,St(16),Z=!1),this.o=this.o&&Z,!Z)os(this.i,this.l,nt,"[Invalid Chunked Response]"),is(this),Pi(this);else if(0<nt.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),gl(Wn),Wn.M=!0,St(11))}}else os(this.i,this.l,nt,null),cc(this,nt);zn==4&&is(this),this.o&&!this.J&&(zn==4?fh(this.j,this):(this.o=!1,lc(this)))}else Cg(this.g),Z==400&&0<nt.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),is(this),Pi(this)}}}catch{}finally{}};function sp(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function op(E,H){var Z=E.C,he=H.indexOf(`
`,Z);return he==-1?_d:(Z=Number(H.substring(Z,he)),isNaN(Z)?Cd:(he+=1,he+Z>H.length?_d:(H=H.slice(he,he+Z),E.C=he+Z,H)))}fn.prototype.cancel=function(){this.J=!0,is(this)};function lc(E){E.S=Date.now()+E.I,ip(E,E.I)}function ip(E,H){if(E.B!=null)throw Error("WatchDog timer not null");E.B=vr(_(E.ba,E),H)}function ll(E){E.B&&(f.clearTimeout(E.B),E.B=null)}fn.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(Ps(this.i,this.A),this.L!=2&&(yr(),St(17)),is(this),this.s=2,Pi(this)):ip(this,this.S-E)};function Pi(E){E.j.G==0||E.J||fh(E.j,E)}function is(E){ll(E);var H=E.M;H&&typeof H.ma=="function"&&H.ma(),E.M=null,ss(E.U),E.g&&(H=E.g,E.g=null,H.abort(),H.ma())}function cc(E,H){try{var Z=E.j;if(Z.G!=0&&(Z.g==E||ah(Z.h,E))){if(!E.K&&ah(Z.h,E)&&Z.G==3){try{var he=Z.Da.g.parse(H)}catch{he=null}if(Array.isArray(he)&&he.length==3){var je=he;if(je[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<E.F)fc(Z),fl(Z);else break e;Rd(Z),St(18)}}else Z.za=je[1],0<Z.za-Z.T&&37500>je[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=vr(_(Z.Za,Z),6e3));if(1>=Ad(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Gi(Z,11)}else if((E.K||Z.g==E)&&fc(Z),!V(H))for(je=Z.Da.g.parse(H),H=0;H<je.length;H++){let sr=je[H];if(Z.T=sr[0],sr=sr[1],Z.G==2)if(sr[0]=="c"){Z.K=sr[1],Z.ia=sr[2];const Wn=sr[3];Wn!=null&&(Z.la=Wn,Z.j.info("VER="+Z.la));const zn=sr[4];zn!=null&&(Z.Aa=zn,Z.j.info("SVER="+Z.Aa));const ya=sr[5];ya!=null&&typeof ya=="number"&&0<ya&&(he=1.5*ya,Z.L=he,Z.j.info("backChannelRequestTimeoutMs_="+he)),he=Z;const ls=E.g;if(ls){const Hi=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var Re=he.h;Re.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(jd(Re,Re.h),Re.h=null))}if(he.D){const hi=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;hi&&(he.ya=hi,Rr(he.I,he.D,hi))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-E.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),he=Z;var nt=E;if(he.qa=bh(he,he.J?he.ia:null,he.W),nt.K){Bs(he.h,nt);var nr=nt,En=he.L;En&&(nr.I=En),nr.B&&(ll(nr),lc(nr)),he.g=nt}else mh(he);0<Z.i.length&&Id(Z)}else sr[0]!="stop"&&sr[0]!="close"||Gi(Z,7);else Z.G==3&&(sr[0]=="stop"||sr[0]=="close"?sr[0]=="stop"?Gi(Z,7):pl(Z):sr[0]!="noop"&&Z.l&&Z.l.ta(sr),Z.v=0)}}yr(4)}catch{}}var Oi=class{constructor(E,H){this.g=E,this.map=H}};function bo(E){this.l=E||10,f.PerformanceNavigationTiming?(E=f.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bi(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ad(E){return E.h?1:E.g?E.g.size:0}function ah(E,H){return E.h?E.h==H:E.g?E.g.has(H):!1}function jd(E,H){E.g?E.g.add(H):E.h=H}function Bs(E,H){E.h&&E.h==H?E.h=null:E.g&&E.g.has(H)&&E.g.delete(H)}bo.prototype.cancel=function(){if(this.i=lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function lh(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let H=E.i;for(const Z of E.g.values())H=H.concat(Z.D);return H}return R(E.i)}function wg(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(b(E)){for(var H=[],Z=E.length,he=0;he<Z;he++)H.push(E[he]);return H}H=[],Z=0;for(he in E)H[Z++]=E[he];return H}function Nd(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(b(E)||typeof E=="string"){var H=[];E=E.length;for(var Z=0;Z<E;Z++)H.push(Z);return H}H=[],Z=0;for(const he in E)H[Z++]=he;return H}}}function Li(E,H){if(E.forEach&&typeof E.forEach=="function")E.forEach(H,void 0);else if(b(E)||typeof E=="string")Array.prototype.forEach.call(E,H,void 0);else for(var Z=Nd(E),he=wg(E),je=he.length,Re=0;Re<je;Re++)H.call(void 0,he[Re],Z&&Z[Re],E)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kg(E,H){if(E){E=E.split("&");for(var Z=0;Z<E.length;Z++){var he=E[Z].indexOf("="),je=null;if(0<=he){var Re=E[Z].substring(0,he);je=E[Z].substring(he+1)}else Re=E[Z];H(Re,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Nn(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Nn){this.h=E.h,dc(this,E.j),this.o=E.o,this.g=E.g,dl(this,E.s),this.l=E.l;var H=E.i,Z=new li;Z.i=H.i,H.g&&(Z.g=new Map(H.g),Z.h=H.h),da(this,Z),this.m=E.m}else E&&(H=String(E).match(cl))?(this.h=!1,dc(this,H[1]||"",!0),this.o=Ls(H[2]||""),this.g=Ls(H[3]||"",!0),dl(this,H[4]),this.l=Ls(H[5]||"",!0),da(this,H[6]||"",!0),this.m=Ls(H[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Nn.prototype.toString=function(){var E=[],H=this.j;H&&E.push(uc(H,ha,!0),":");var Z=this.g;return(Z||H=="file")&&(E.push("//"),(H=this.o)&&E.push(uc(H,ha,!0),"@"),E.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&E.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&E.push("/"),E.push(uc(Z,Z.charAt(0)=="/"?Sd:ch,!0))),(Z=this.i.toString())&&E.push("?",Z),(Z=this.m)&&E.push("#",uc(Z,Ed)),E.join("")};function xs(E){return new Nn(E)}function dc(E,H,Z){E.j=Z?Ls(H,!0):H,E.j&&(E.j=E.j.replace(/:$/,""))}function dl(E,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);E.s=H}else E.s=null}function da(E,H,Z){H instanceof li?(E.i=H,ap(E.i,E.h)):(Z||(H=uc(H,dh)),E.i=new li(H,E.h))}function Rr(E,H,Z){E.i.set(H,Z)}function Io(E){return Rr(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ls(E,H){return E?H?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function uc(E,H,Z){return typeof E=="string"?(E=encodeURI(E).replace(H,ua),Z&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ua(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var ha=/[#\/\?@]/g,ch=/[#\?:]/g,Sd=/[#\?]/g,dh=/[#\?@]/g,Ed=/#/g;function li(E,H){this.h=this.g=null,this.i=E||null,this.j=!!H}function as(E){E.g||(E.g=new Map,E.h=0,E.i&&kg(E.i,function(H,Z){E.add(decodeURIComponent(H.replace(/\+/g," ")),Z)}))}r=li.prototype,r.add=function(E,H){as(this),this.i=null,E=Fi(this,E);var Z=this.g.get(E);return Z||this.g.set(E,Z=[]),Z.push(H),this.h+=1,this};function ma(E,H){as(E),H=Fi(E,H),E.g.has(H)&&(E.i=null,E.h-=E.g.get(H).length,E.g.delete(H))}function zi(E,H){return as(E),H=Fi(E,H),E.g.has(H)}r.forEach=function(E,H){as(this),this.g.forEach(function(Z,he){Z.forEach(function(je){E.call(H,je,he,this)},this)},this)},r.na=function(){as(this);const E=Array.from(this.g.values()),H=Array.from(this.g.keys()),Z=[];for(let he=0;he<H.length;he++){const je=E[he];for(let Re=0;Re<je.length;Re++)Z.push(H[he])}return Z},r.V=function(E){as(this);let H=[];if(typeof E=="string")zi(this,E)&&(H=H.concat(this.g.get(Fi(this,E))));else{E=Array.from(this.g.values());for(let Z=0;Z<E.length;Z++)H=H.concat(E[Z])}return H},r.set=function(E,H){return as(this),this.i=null,E=Fi(this,E),zi(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[H]),this.h+=1,this},r.get=function(E,H){return E?(E=this.V(E),0<E.length?String(E[0]):H):H};function Dd(E,H,Z){ma(E,H),0<Z.length&&(E.i=null,E.g.set(Fi(E,H),R(Z)),E.h+=Z.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],H=Array.from(this.g.keys());for(var Z=0;Z<H.length;Z++){var he=H[Z];const Re=encodeURIComponent(String(he)),nt=this.V(he);for(he=0;he<nt.length;he++){var je=Re;nt[he]!==""&&(je+="="+encodeURIComponent(String(nt[he]))),E.push(je)}}return this.i=E.join("&")};function Fi(E,H){return H=String(H),E.j&&(H=H.toLowerCase()),H}function ap(E,H){H&&!E.j&&(as(E),E.i=null,E.g.forEach(function(Z,he){var je=he.toLowerCase();he!=je&&(ma(this,he),Dd(this,je,Z))},E)),E.j=H}function pa(E,H){const Z=new an;if(f.Image){const he=new Image;he.onload=S(yo,Z,"TestLoadImage: loaded",!0,H,he),he.onerror=S(yo,Z,"TestLoadImage: error",!1,H,he),he.onabort=S(yo,Z,"TestLoadImage: abort",!1,H,he),he.ontimeout=S(yo,Z,"TestLoadImage: timeout",!1,H,he),f.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=E}else H(!1)}function ci(E,H){const Z=new an,he=new AbortController,je=setTimeout(()=>{he.abort(),yo(Z,"TestPingServer: timeout",!1,H)},1e4);fetch(E,{signal:he.signal}).then(Re=>{clearTimeout(je),Re.ok?yo(Z,"TestPingServer: ok",!0,H):yo(Z,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(je),yo(Z,"TestPingServer: error",!1,H)})}function yo(E,H,Z,he,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),he(Z)}catch{}}function ul(){this.g=new Bt}function di(E,H,Z){const he=Z||"";try{Li(E,function(je,Re){let nt=je;v(je)&&(nt=Le(je)),H.push(he+Re+"="+encodeURIComponent(nt))})}catch(je){throw H.push(he+"type="+encodeURIComponent("_badmap")),je}}function Ro(E){this.l=E.Ub||null,this.j=E.eb||!1}M(Ro,Tt),Ro.prototype.g=function(){return new fa(this.l,this.j)},Ro.prototype.i=function(E){return function(){return E}}({});function fa(E,H){Wt.call(this),this.D=E,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(fa,Wt),r=fa.prototype,r.open=function(E,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=H,this.readyState=1,ar(this)},r.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(H.body=E),(this.D||f).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},r.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}r.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var H=E.value?E.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!E.done}))&&(this.response=this.responseText+=H)}E.done?ui(this):ar(this),this.readyState==3&&hc(this)}},r.Ra=function(E){this.g&&(this.response=this.responseText=E,ui(this))},r.Qa=function(E){this.g&&(this.response=E,ui(this))},r.ga=function(){this.g&&ui(this)};function ui(E){E.readyState=4,E.l=null,E.j=null,E.v=null,ar(E)}r.setRequestHeader=function(E,H){this.u.append(E,H)},r.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],H=this.h.entries();for(var Z=H.next();!Z.done;)Z=Z.value,E.push(Z[0]+": "+Z[1]),Z=H.next();return E.join(`\r
`)};function ar(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function uh(E){let H="";return ne(E,function(Z,he){H+=he,H+=":",H+=Z,H+=`\r
`}),H}function Sn(E,H,Z){e:{for(he in Z){var he=!1;break e}he=!0}he||(Z=uh(Z),typeof E=="string"?Z!=null&&encodeURIComponent(String(Z)):Rr(E,H,Z))}function wr(E){Wt.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(wr,Wt);var Vi=/^https?$/i,ga=["POST","PUT"];r=wr.prototype,r.Ha=function(E){this.J=E},r.ea=function(E,H,Z,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);H=H?H.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?$s(this.o):$s(Ii),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(H,String(E),!0),this.B=!1}catch(Re){ba(this,Re);return}if(E=Z||"",Z=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var je in he)Z.set(je,he[je]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const Re of he.keys())Z.set(Re,he.get(Re));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(Z.keys()).find(Re=>Re.toLowerCase()=="content-type"),je=f.FormData&&E instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ga,H,void 0))||he||je||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,nt]of Z)this.g.setRequestHeader(Re,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ml(this),this.u=!0,this.g.send(E),this.u=!1}catch(Re){ba(this,Re)}};function ba(E,H){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=H,E.m=5,mc(E),Ui(E)}function mc(E){E.A||(E.A=!0,kt(E,"complete"),kt(E,"error"))}r.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,kt(this,"complete"),kt(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),wr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},r.bb=function(){hl(this)};function hl(E){if(E.h&&typeof m<"u"&&(!E.v[1]||Po(E)!=4||E.Z()!=2)){if(E.u&&Po(E)==4)ct(E.Ea,0,E);else if(kt(E,"readystatechange"),Po(E)==4){E.h=!1;try{const nt=E.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var Z;if(!(Z=H)){var he;if(he=nt===0){var je=String(E.D).match(cl)[1]||null;!je&&f.self&&f.self.location&&(je=f.self.location.protocol.slice(0,-1)),he=!Vi.test(je?je.toLowerCase():"")}Z=he}if(Z)kt(E,"complete"),kt(E,"success");else{E.m=6;try{var Re=2<Po(E)?E.g.statusText:""}catch{Re=""}E.l=Re+" ["+E.Z()+"]",mc(E)}}finally{Ui(E)}}}}function Ui(E,H){if(E.g){ml(E);const Z=E.g,he=E.v[0]?()=>{}:null;E.g=null,E.v=null,H||kt(E,"ready");try{Z.onreadystatechange=he}catch{}}}function ml(E){E.I&&(f.clearTimeout(E.I),E.I=null)}r.isActive=function(){return!!this.g};function Po(E){return E.g?E.g.readyState:0}r.Z=function(){try{return 2<Po(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(E){if(this.g){var H=this.g.responseText;return E&&H.indexOf(E)==0&&(H=H.substring(E.length)),$t(H)}};function Md(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Cg(E){const H={};E=(E.g&&2<=Po(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<E.length;he++){if(V(E[he]))continue;var Z=W(E[he]);const je=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const Re=H[je]||[];H[je]=Re,Re.push(Z)}Q(H,function(he){return he.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pc(E,H,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[E]||H}function Td(E){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pc("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pc("baseRetryDelayMs",5e3,E),this.cb=pc("retryDelaySeedMs",1e4,E),this.Wa=pc("forwardChannelMaxRetries",2,E),this.wa=pc("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(E&&E.concurrentRequestLimit),this.Da=new ul,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Td.prototype,r.la=8,r.G=1,r.connect=function(E,H,Z,he){St(0),this.W=E,this.H=H||{},Z&&he!==void 0&&(this.H.OSID=Z,this.H.OAID=he),this.F=this.X,this.I=bh(this,null,this.W),Id(this)};function pl(E){if(lp(E),E.G==3){var H=E.U++,Z=xs(E.I);if(Rr(Z,"SID",E.K),Rr(Z,"RID",H),Rr(Z,"TYPE","terminate"),Oo(E,Z),H=new fn(E,E.j,H),H.L=2,H.v=Io(xs(Z)),Z=!1,f.navigator&&f.navigator.sendBeacon)try{Z=f.navigator.sendBeacon(H.v.toString(),"")}catch{}!Z&&f.Image&&(new Image().src=H.v,Z=!0),Z||(H.g=Pd(H.j,null),H.g.ea(H.v)),H.F=Date.now(),lc(H)}dp(E)}function fl(E){E.g&&(gl(E),E.g.cancel(),E.g=null)}function lp(E){fl(E),E.u&&(f.clearTimeout(E.u),E.u=null),fc(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&f.clearTimeout(E.s),E.s=null)}function Id(E){if(!Bi(E.h)&&!E.s){E.s=!0;var H=E.Ga;ae||G(),le||(ae(),le=!0),oe.add(H,E),E.B=0}}function _g(E,H){return Ad(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=H.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=vr(_(E.Ga,E,H),gh(E,E.B)),E.B++,!0)}r.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const je=new fn(this,this.j,E);let Re=this.o;if(this.S&&(Re?(Re=B(Re),J(Re,this.S)):Re=this.S),this.m!==null||this.O||(je.H=Re,Re=null),this.P)e:{for(var H=0,Z=0;Z<this.i.length;Z++){t:{var he=this.i[Z];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(H+=he,4096<H){H=Z;break e}if(H===4096||Z===this.i.length-1){H=Z+1;break e}}H=1e3}else H=1e3;H=cp(this,je,H),Z=xs(this.I),Rr(Z,"RID",E),Rr(Z,"CVER",22),this.D&&Rr(Z,"X-HTTP-Session-Id",this.D),Oo(this,Z),Re&&(this.O?H="headers="+encodeURIComponent(String(uh(Re)))+"&"+H:this.m&&Sn(Z,this.m,Re)),jd(this.h,je),this.Ua&&Rr(Z,"TYPE","init"),this.P?(Rr(Z,"$req",H),Rr(Z,"SID","null"),je.T=!0,ai(je,Z,null)):ai(je,Z,H),this.G=2}}else this.G==3&&(E?hh(this,E):this.i.length==0||Bi(this.h)||hh(this))};function hh(E,H){var Z;H?Z=H.l:Z=E.U++;const he=xs(E.I);Rr(he,"SID",E.K),Rr(he,"RID",Z),Rr(he,"AID",E.T),Oo(E,he),E.m&&E.o&&Sn(he,E.m,E.o),Z=new fn(E,E.j,Z,E.B+1),E.m===null&&(Z.H=E.o),H&&(E.i=H.D.concat(E.i)),H=cp(E,Z,1e3),Z.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),jd(E.h,Z),ai(Z,he,H)}function Oo(E,H){E.H&&ne(E.H,function(Z,he){Rr(H,he,Z)}),E.l&&Li({},function(Z,he){Rr(H,he,Z)})}function cp(E,H,Z){Z=Math.min(E.i.length,Z);var he=E.l?_(E.l.Na,E.l,E):null;e:{var je=E.i;let Re=-1;for(;;){const nt=["count="+Z];Re==-1?0<Z?(Re=je[0].g,nt.push("ofs="+Re)):Re=0:nt.push("ofs="+Re);let nr=!0;for(let En=0;En<Z;En++){let sr=je[En].g;const Wn=je[En].map;if(sr-=Re,0>sr)Re=Math.max(0,je[En].g-100),nr=!1;else try{di(Wn,nt,"req"+sr+"_")}catch{he&&he(Wn)}}if(nr){he=nt.join("&");break e}}}return E=E.i.splice(0,Z),H.D=E,he}function mh(E){if(!E.g&&!E.u){E.Y=1;var H=E.Fa;ae||G(),le||(ae(),le=!0),oe.add(H,E),E.v=0}}function Rd(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=vr(_(E.Fa,E),gh(E,E.v)),E.v++,!0)}r.Fa=function(){if(this.u=null,ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=vr(_(this.ab,this),E)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),fl(this),ph(this))};function gl(E){E.A!=null&&(f.clearTimeout(E.A),E.A=null)}function ph(E){E.g=new fn(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var H=xs(E.qa);Rr(H,"RID","rpc"),Rr(H,"SID",E.K),Rr(H,"AID",E.T),Rr(H,"CI",E.F?"0":"1"),!E.F&&E.ja&&Rr(H,"TO",E.ja),Rr(H,"TYPE","xmlhttp"),Oo(E,H),E.m&&E.o&&Sn(H,E.m,E.o),E.L&&(E.g.I=E.L);var Z=E.g;E=E.ia,Z.L=1,Z.v=Io(xs(H)),Z.m=null,Z.P=!0,Os(Z,E)}r.Za=function(){this.C!=null&&(this.C=null,fl(this),Rd(this),St(19))};function fc(E){E.C!=null&&(f.clearTimeout(E.C),E.C=null)}function fh(E,H){var Z=null;if(E.g==H){fc(E),gl(E),E.g=null;var he=2}else if(ah(E.h,H))Z=H.D,Bs(E.h,H),he=1;else return;if(E.G!=0){if(H.o)if(he==1){Z=H.m?H.m.length:0,H=Date.now()-H.F;var je=E.B;he=pn(),kt(he,new xr(he,Z)),Id(E)}else mh(E);else if(je=H.s,je==3||je==0&&0<H.X||!(he==1&&_g(E,H)||he==2&&Rd(E)))switch(Z&&0<Z.length&&(H=E.h,H.i=H.i.concat(Z)),je){case 1:Gi(E,5);break;case 4:Gi(E,10);break;case 3:Gi(E,6);break;default:Gi(E,2)}}}function gh(E,H){let Z=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Z*=2),Z*H}function Gi(E,H){if(E.j.info("Error code "+H),H==2){var Z=_(E.fb,E),he=E.Xa;const je=!he;he=new Nn(he||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||dc(he,"https"),Io(he),je?pa(he.toString(),Z):ci(he.toString(),Z)}else St(2);E.G=0,E.l&&E.l.sa(H),dp(E),lp(E)}r.fb=function(E){E?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function dp(E){if(E.G=0,E.ka=[],E.l){const H=lh(E.h);(H.length!=0||E.i.length!=0)&&(I(E.ka,H),I(E.ka,E.i),E.h.i.length=0,R(E.i),E.i.length=0),E.l.ra()}}function bh(E,H,Z){var he=Z instanceof Nn?xs(Z):new Nn(Z);if(he.g!="")H&&(he.g=H+"."+he.g),dl(he,he.s);else{var je=f.location;he=je.protocol,H=H?H+"."+je.hostname:je.hostname,je=+je.port;var Re=new Nn(null);he&&dc(Re,he),H&&(Re.g=H),je&&dl(Re,je),Z&&(Re.l=Z),he=Re}return Z=E.D,H=E.ya,Z&&H&&Rr(he,Z,H),Rr(he,"VER",E.la),Oo(E,he),he}function Pd(E,H,Z){if(H&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=E.Ca&&!E.pa?new wr(new Ro({eb:Z})):new wr(E.pa),H.Ha(E.J),H}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function up(){}r=up.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function gc(){}gc.prototype.g=function(E,H){return new vs(E,H)};function vs(E,H){Wt.call(this),this.g=new Td(H),this.l=E,this.h=H&&H.messageUrlParams||null,E=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(E?E["X-WebChannel-Content-Type"]=H.messageContentType:E={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(E?E["X-WebChannel-Client-Profile"]=H.va:E={"X-WebChannel-Client-Profile":H.va}),this.g.S=E,(E=H&&H.Sb)&&!V(E)&&(this.g.m=E),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!V(H)&&(this.g.D=H,E=this.h,E!==null&&H in E&&(E=this.h,H in E&&delete E[H])),this.j=new Bo(this)}M(vs,Wt),vs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vs.prototype.close=function(){pl(this.g)},vs.prototype.o=function(E){var H=this.g;if(typeof E=="string"){var Z={};Z.__data__=E,E=Z}else this.u&&(Z={},Z.__data__=Le(E),E=Z);H.i.push(new Oi(H.Ya++,E)),H.G==3&&Id(H)},vs.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,vs.aa.N.call(this)};function hp(E){ir.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var H=E.__sm__;if(H){e:{for(const Z in H){E=Z;break e}E=void 0}(this.i=E)&&(E=this.i,H=H!==null&&E in H?H[E]:void 0),this.data=H}else this.data=E}M(hp,ir);function yh(){Ln.call(this),this.status=1}M(yh,Ln);function Bo(E){this.g=E}M(Bo,up),Bo.prototype.ua=function(){kt(this.g,"a")},Bo.prototype.ta=function(E){kt(this.g,new hp(E))},Bo.prototype.sa=function(E){kt(this.g,new yh)},Bo.prototype.ra=function(){kt(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,vs.prototype.send=vs.prototype.o,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,tO=function(){return new gc},eO=function(){return pn()},ZP=Wr,q2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},al.NO_ERROR=0,al.TIMEOUT=8,al.HTTP_ERROR=6,Yw=al,ca.COMPLETE="complete",XP=ca,Ts.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Cy=Ts,wr.prototype.listenOnce=wr.prototype.L,wr.prototype.getLastError=wr.prototype.Ka,wr.prototype.getLastErrorCode=wr.prototype.Ba,wr.prototype.getStatus=wr.prototype.Z,wr.prototype.getResponseJson=wr.prototype.Oa,wr.prototype.getResponseText=wr.prototype.oa,wr.prototype.send=wr.prototype.ea,wr.prototype.setWithCredentials=wr.prototype.Ha,$P=wr}).apply(typeof yw<"u"?yw:typeof self<"u"?self:typeof window<"u"?window:{});const KM="@firebase/firestore",QM="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}uo.UNAUTHENTICATED=new uo(null),uo.GOOGLE_CREDENTIALS=new uo("google-credentials-uid"),uo.FIRST_PARTY=new uo("first-party-uid"),uo.MOCK_USER=new uo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new sj("@firebase/firestore");function Df(){return qm.logLevel}function dt(r,...t){if(qm.logLevel<=dr.DEBUG){const s=t.map(yj);qm.debug(`Firestore (${ag}): ${r}`,...s)}}function gd(r,...t){if(qm.logLevel<=dr.ERROR){const s=t.map(yj);qm.error(`Firestore (${ag}): ${r}`,...s)}}function qf(r,...t){if(qm.logLevel<=dr.WARN){const s=t.map(yj);qm.warn(`Firestore (${ag}): ${r}`,...s)}}function yj(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,rO(r,i,s)}function rO(r,t,s){let i=`FIRESTORE (${ag}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(s!==void 0)try{i+=" CONTEXT: "+JSON.stringify(s)}catch{i+=" CONTEXT: "+s}throw gd(i),new Error(i)}function Br(r,t,s,i){let l="Unexpected state";typeof s=="string"?l=s:i=s,r||rO(t,l,i)}function Ft(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends oc{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(uo.UNAUTHENTICATED))}shutdown(){}}class RJ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class PJ{constructor(t){this.t=t,this.currentUser=uo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){Br(this.o===void 0,42304);let i=this.i;const l=b=>this.i!==i?(i=this.i,s(b)):Promise.resolve();let u=new ld;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ld,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const b=u;t.enqueueRetryable(async()=>{await b.promise,await l(this.currentUser)})},f=b=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(b=>f(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?f(b):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ld)}},0),m()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Br(typeof i.accessToken=="string",31837,{l:i}),new nO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Br(t===null||typeof t=="string",2055,{h:t}),new uo(t)}}class OJ{constructor(t,s,i){this.P=t,this.T=s,this.I=i,this.type="FirstParty",this.user=uo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BJ{constructor(t,s,i){this.P=t,this.T=s,this.I=i}getToken(){return Promise.resolve(new OJ(this.P,this.T,this.I))}start(t,s){t.enqueueRetryable(()=>s(uo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LJ{constructor(t,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$o(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,s){Br(this.o===void 0,3512);const i=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>i(u))};const l=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JM(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(Br(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new JM(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let i=0;i<r;i++)s[i]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=zJ(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<s&&(i+=t.charAt(l[u]%62))}return i}}function er(r,t){return r<t?-1:r>t?1:0}function Y2(r,t){let s=0;for(;s<r.length&&s<t.length;){const i=r.codePointAt(s),l=t.codePointAt(s);if(i!==l){if(i<128&&l<128)return er(i,l);{const u=sO(),m=FJ(u.encode($M(r,s)),u.encode($M(t,s)));return m!==0?m:er(i,l)}}s+=i>65535?2:1}return er(r.length,t.length)}function $M(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function FJ(r,t){for(let s=0;s<r.length&&s<t.length;++s)if(r[s]!==t[s])return er(r[s],t[s]);return er(r.length,t.length)}function Yf(r,t,s){return r.length===t.length&&r.every((i,l)=>s(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=-62135596800,ZM=1e6;class bs{static now(){return bs.fromMillis(Date.now())}static fromDate(t){return bs.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),i=Math.floor((t-1e3*s)*ZM);return new bs(s,i)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new ht(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ht(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<XM)throw new ht(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZM}_compareTo(t){return this.seconds===t.seconds?er(this.nanoseconds,t.nanoseconds):er(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-XM;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new bs(0,0))}static max(){return new Lt(new bs(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__name__";class Yl{constructor(t,s,i){s===void 0?s=0:s>t.length&&Nt(637,{offset:s,range:t.length}),i===void 0?i=t.length-s:i>t.length-s&&Nt(1746,{length:i,range:t.length-s}),this.segments=t,this.offset=s,this.len=i}get length(){return this.len}isEqual(t){return Yl.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Yl?t.forEach(i=>{s.push(i)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,i=this.limit();s<i;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const i=Math.min(t.length,s.length);for(let l=0;l<i;l++){const u=Yl.compareSegments(t.get(l),s.get(l));if(u!==0)return u}return er(t.length,s.length)}static compareSegments(t,s){const i=Yl.isNumericId(t),l=Yl.isNumericId(s);return i&&!l?-1:!i&&l?1:i&&l?Yl.extractNumericId(t).compare(Yl.extractNumericId(s)):Y2(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lu.fromString(t.substring(4,t.length-2))}}class tn extends Yl{construct(t,s,i){return new tn(t,s,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(We.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);s.push(...i.split("/").filter(l=>l.length>0))}return new tn(s)}static emptyPath(){return new tn([])}}const VJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ws extends Yl{construct(t,s,i){return new Ws(t,s,i)}static isValidIdentifier(t){return VJ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ws.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eT}static keyField(){return new Ws([eT])}static fromServerFormat(t){const s=[];let i="",l=0;const u=()=>{if(i.length===0)throw new ht(We.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(i),i=""};let m=!1;for(;l<t.length;){const f=t[l];if(f==="\\"){if(l+1===t.length)throw new ht(We.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[l+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new ht(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=b,l+=2}else f==="`"?(m=!m,l++):f!=="."||m?(i+=f,l++):(u(),l++)}if(u(),m)throw new ht(We.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ws(s)}static emptyPath(){return new Ws([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(tn.fromString(t))}static fromName(t){return new bt(tn.fromString(t).popFirst(5))}static empty(){return new bt(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&tn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return tn.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new tn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=-1;function UJ(r,t){const s=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=Lt.fromTimestamp(i===1e9?new bs(s+1,0):new bs(s,i));return new Uu(l,bt.empty(),t)}function GJ(r){return new Uu(r.readTime,r.key,rx)}class Uu{constructor(t,s,i){this.readTime=t,this.documentKey=s,this.largestBatchId=i}static min(){return new Uu(Lt.min(),bt.empty(),rx)}static max(){return new Uu(Lt.max(),bt.empty(),rx)}}function HJ(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=bt.comparator(r.documentKey,t.documentKey),s!==0?s:er(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(r){if(r.code!==We.FAILED_PRECONDITION||r.message!==qJ)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new Ke((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(s,u).next(i,l)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof Ke?s:Ke.resolve(s)}catch(s){return Ke.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):Ke.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):Ke.reject(s)}static resolve(t){return new Ke((s,i)=>{s(t)})}static reject(t){return new Ke((s,i)=>{i(t)})}static waitFor(t){return new Ke((s,i)=>{let l=0,u=0,m=!1;t.forEach(f=>{++l,f.next(()=>{++u,m&&u===l&&s()},b=>i(b))}),m=!0,u===l&&s()})}static or(t){let s=Ke.resolve(!1);for(const i of t)s=s.next(l=>l?Ke.resolve(l):i());return s}static forEach(t,s){const i=[];return t.forEach((l,u)=>{i.push(s.call(this,l,u))}),this.waitFor(i)}static mapArray(t,s){return new Ke((i,l)=>{const u=t.length,m=new Array(u);let f=0;for(let b=0;b<u;b++){const v=b;s(t[v]).next(k=>{m[v]=k,++f,f===u&&i(m)},k=>l(k))}})}static doWhile(t,s){return new Ke((i,l)=>{const u=()=>{t()===!0?s().next(()=>{u()},l):i()};u()})}}function WJ(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function cg(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>s.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}l1.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=-1;function c1(r){return r==null}function vk(r){return r===0&&1/r==-1/0}function KJ(r){return typeof r=="number"&&Number.isInteger(r)&&!vk(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="";function QJ(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=tT(t)),t=JJ(r.get(s),t);return tT(t)}function JJ(r,t){let s=t;const i=r.length;for(let l=0;l<i;l++){const u=r.charAt(l);switch(u){case"\0":s+="";break;case iO:s+="";break;default:s+=u}}return s}function tT(r){return r+iO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function nh(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function aO(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,s){this.comparator=t,this.root=s||Ys.EMPTY}insert(t,s){return new An(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(t){return new An(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}indexOf(t){let s=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return s+i.left.size;l<0?i=i.left:(s+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,i)=>(t(s,i),!1))}toString(){const t=[];return this.inorderTraversal((s,i)=>(t.push(`${s}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xw(this.root,t,this.comparator,!1)}getReverseIterator(){return new xw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xw(this.root,t,this.comparator,!0)}}class xw{constructor(t,s,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=s?i(t.key,s):1,s&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ys{constructor(t,s,i,l,u){this.key=t,this.value=s,this.color=i??Ys.RED,this.left=l??Ys.EMPTY,this.right=u??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,i,l,u){return new Ys(t??this.key,s??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,i){let l=this;const u=i(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,s,i),null):u===0?l.copy(null,s,null,null,null):l.copy(null,null,null,null,l.right.insert(t,s,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let i,l=this;if(s(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,s),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),s(t,l.key)===0){if(l.right.isEmpty())return Ys.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,s))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1;Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,s,i,l,u){return this}insert(t,s,i){return new Ys(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.comparator=t,this.data=new An(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,i)=>(t(s),!1))}forEachInRange(t,s){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;s(l.key)}}forEachWhile(t,s){let i;for(i=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(t){return new nT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(i=>{s=s.add(i)}),s}isEqual(t){if(!(t instanceof ys)||this.size!==t.size)return!1;const s=this.data.getIterator(),i=t.data.getIterator();for(;s.hasNext();){const l=s.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new ys(this.comparator);return s.data=t,s}}class nT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.fields=t,t.sort(Ws.comparator)}static empty(){return new Si([])}unionWith(t){let s=new ys(Ws.comparator);for(const i of this.fields)s=s.add(i);for(const i of t)s=s.add(i);return new Si(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Yf(this.fields,t.fields,(s,i)=>s.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.binaryString=t}static fromBase64String(t){const s=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lO("Invalid base64 string: "+u):u}}(t);return new Qs(s)}static fromUint8Array(t){const s=function(l){let u="";for(let m=0;m<l.length;++m)u+=String.fromCharCode(l[m]);return u}(t);return new Qs(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const i=new Uint8Array(s.length);for(let l=0;l<s.length;l++)i[l]=s.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return er(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qs.EMPTY_BYTE_STRING=new Qs("");const $J=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(r){if(Br(!!r,39018),typeof r=="string"){let t=0;const s=$J.exec(r);if(Br(!!s,46558,{timestamp:r}),s[1]){let l=s[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qn(r.seconds),nanos:qn(r.nanos)}}function qn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hu(r){return typeof r=="string"?Qs.fromBase64String(r):Qs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="server_timestamp",dO="__type__",uO="__previous_value__",hO="__local_write_time__";function vj(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[dO])===null||s===void 0?void 0:s.stringValue)===cO}function d1(r){const t=r.mapValue.fields[uO];return vj(t)?d1(t):t}function nx(r){const t=Gu(r.mapValue.fields[hO].timestampValue);return new bs(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(t,s,i,l,u,m,f,b,v,k){this.databaseId=t,this.appId=s,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=f,this.longPollingOptions=b,this.useFetchStreams=v,this.isUsingEmulator=k}}const wk="(default)";class sx{constructor(t,s){this.projectId=t,this.database=s||wk}static empty(){return new sx("","")}get isDefaultDatabase(){return this.database===wk}isEqual(t){return t instanceof sx&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="__type__",ZJ="__max__",vw={mapValue:{}},pO="__vector__",kk="value";function qu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vj(r)?4:t$(r)?9007199254740991:e$(r)?10:11:Nt(28295,{value:r})}function tc(r,t){if(r===t)return!0;const s=qu(r);if(s!==qu(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return nx(r).isEqual(nx(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const m=Gu(l.timestampValue),f=Gu(u.timestampValue);return m.seconds===f.seconds&&m.nanos===f.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return Hu(l.bytesValue).isEqual(Hu(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return qn(l.geoPointValue.latitude)===qn(u.geoPointValue.latitude)&&qn(l.geoPointValue.longitude)===qn(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return qn(l.integerValue)===qn(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const m=qn(l.doubleValue),f=qn(u.doubleValue);return m===f?vk(m)===vk(f):isNaN(m)&&isNaN(f)}return!1}(r,t);case 9:return Yf(r.arrayValue.values||[],t.arrayValue.values||[],tc);case 10:case 11:return function(l,u){const m=l.mapValue.fields||{},f=u.mapValue.fields||{};if(rT(m)!==rT(f))return!1;for(const b in m)if(m.hasOwnProperty(b)&&(f[b]===void 0||!tc(m[b],f[b])))return!1;return!0}(r,t);default:return Nt(52216,{left:r})}}function ox(r,t){return(r.values||[]).find(s=>tc(s,t))!==void 0}function Wf(r,t){if(r===t)return 0;const s=qu(r),i=qu(t);if(s!==i)return er(s,i);switch(s){case 0:case 9007199254740991:return 0;case 1:return er(r.booleanValue,t.booleanValue);case 2:return function(u,m){const f=qn(u.integerValue||u.doubleValue),b=qn(m.integerValue||m.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,t);case 3:return sT(r.timestampValue,t.timestampValue);case 4:return sT(nx(r),nx(t));case 5:return Y2(r.stringValue,t.stringValue);case 6:return function(u,m){const f=Hu(u),b=Hu(m);return f.compareTo(b)}(r.bytesValue,t.bytesValue);case 7:return function(u,m){const f=u.split("/"),b=m.split("/");for(let v=0;v<f.length&&v<b.length;v++){const k=er(f[v],b[v]);if(k!==0)return k}return er(f.length,b.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,m){const f=er(qn(u.latitude),qn(m.latitude));return f!==0?f:er(qn(u.longitude),qn(m.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return oT(r.arrayValue,t.arrayValue);case 10:return function(u,m){var f,b,v,k;const C=u.fields||{},_=m.fields||{},S=(f=C[kk])===null||f===void 0?void 0:f.arrayValue,M=(b=_[kk])===null||b===void 0?void 0:b.arrayValue,R=er(((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0,((k=M==null?void 0:M.values)===null||k===void 0?void 0:k.length)||0);return R!==0?R:oT(S,M)}(r.mapValue,t.mapValue);case 11:return function(u,m){if(u===vw.mapValue&&m===vw.mapValue)return 0;if(u===vw.mapValue)return 1;if(m===vw.mapValue)return-1;const f=u.fields||{},b=Object.keys(f),v=m.fields||{},k=Object.keys(v);b.sort(),k.sort();for(let C=0;C<b.length&&C<k.length;++C){const _=Y2(b[C],k[C]);if(_!==0)return _;const S=Wf(f[b[C]],v[k[C]]);if(S!==0)return S}return er(b.length,k.length)}(r.mapValue,t.mapValue);default:throw Nt(23264,{Pe:s})}}function sT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return er(r,t);const s=Gu(r),i=Gu(t),l=er(s.seconds,i.seconds);return l!==0?l:er(s.nanos,i.nanos)}function oT(r,t){const s=r.values||[],i=t.values||[];for(let l=0;l<s.length&&l<i.length;++l){const u=Wf(s[l],i[l]);if(u)return u}return er(s.length,i.length)}function Kf(r){return W2(r)}function W2(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const i=Gu(s);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(s){return Hu(s).toBase64()}(r.bytesValue):"referenceValue"in r?function(s){return bt.fromName(s).toString()}(r.referenceValue):"geoPointValue"in r?function(s){return`geo(${s.latitude},${s.longitude})`}(r.geoPointValue):"arrayValue"in r?function(s){let i="[",l=!0;for(const u of s.values||[])l?l=!1:i+=",",i+=W2(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(s){const i=Object.keys(s.fields||{}).sort();let l="{",u=!0;for(const m of i)u?u=!1:l+=",",l+=`${m}:${W2(s.fields[m])}`;return l+"}"}(r.mapValue):Nt(61005,{value:r})}function Ww(r){switch(qu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=d1(r);return t?16+Ww(t):16;case 5:return 2*r.stringValue.length;case 6:return Hu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+Ww(u),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return nh(i.fields,(u,m)=>{l+=u.length+Ww(m)}),l}(r.mapValue);default:throw Nt(13486,{value:r})}}function iT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function K2(r){return!!r&&"integerValue"in r}function wj(r){return!!r&&"arrayValue"in r}function aT(r){return!!r&&"nullValue"in r}function lT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kw(r){return!!r&&"mapValue"in r}function e$(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[mO])===null||s===void 0?void 0:s.stringValue)===pO}function Oy(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return nh(r.mapValue.fields,(s,i)=>t.mapValue.fields[s]=Oy(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=Oy(r.arrayValue.values[s]);return t}return Object.assign({},r)}function t$(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.value=t}static empty(){return new Xo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let i=0;i<t.length-1;++i)if(s=(s.mapValue.fields||{})[t.get(i)],!Kw(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oy(s)}setAll(t){let s=Ws.emptyPath(),i={},l=[];t.forEach((m,f)=>{if(!s.isImmediateParentOf(f)){const b=this.getFieldsMap(s);this.applyChanges(b,i,l),i={},l=[],s=f.popLast()}m?i[f.lastSegment()]=Oy(m):l.push(f.lastSegment())});const u=this.getFieldsMap(s);this.applyChanges(u,i,l)}delete(t){const s=this.field(t.popLast());Kw(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return tc(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=s.mapValue.fields[t.get(i)];Kw(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},s.mapValue.fields[t.get(i)]=l),s=l}return s.mapValue.fields}applyChanges(t,s,i){nh(s,(l,u)=>t[l]=u);for(const l of i)delete t[l]}clone(){return new Xo(Oy(this.value))}}function fO(r){const t=[];return nh(r.fields,(s,i)=>{const l=new Ws([s]);if(Kw(i)){const u=fO(i.mapValue).fields;if(u.length===0)t.push(l);else for(const m of u)t.push(l.child(m))}else t.push(l)}),new Si(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,s,i,l,u,m,f){this.key=t,this.documentType=s,this.version=i,this.readTime=l,this.createTime=u,this.data=m,this.documentState=f}static newInvalidDocument(t){return new ho(t,0,Lt.min(),Lt.min(),Lt.min(),Xo.empty(),0)}static newFoundDocument(t,s,i,l){return new ho(t,1,s,Lt.min(),i,l,0)}static newNoDocument(t,s){return new ho(t,2,s,Lt.min(),Lt.min(),Xo.empty(),0)}static newUnknownDocument(t,s){return new ho(t,3,s,Lt.min(),Lt.min(),Xo.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ho&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ho(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,s){this.position=t,this.inclusive=s}}function cT(r,t,s){let i=0;for(let l=0;l<r.position.length;l++){const u=t[l],m=r.position[l];if(u.field.isKeyField()?i=bt.comparator(bt.fromName(m.referenceValue),s.key):i=Wf(m,s.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function dT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!tc(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t,s="asc"){this.field=t,this.dir=s}}function r$(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{}class rs extends gO{constructor(t,s,i){super(),this.field=t,this.op=s,this.value=i}static create(t,s,i){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,i):new s$(t,s,i):s==="array-contains"?new a$(t,i):s==="in"?new l$(t,i):s==="not-in"?new c$(t,i):s==="array-contains-any"?new d$(t,i):new rs(t,s,i)}static createKeyFieldInFilter(t,s,i){return s==="in"?new o$(t,i):new i$(t,i)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Wf(s,this.value)):s!==null&&qu(this.value)===qu(s)&&this.matchesComparison(Wf(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xa extends gO{constructor(t,s){super(),this.filters=t,this.op=s,this.Te=null}static create(t,s){return new Xa(t,s)}matches(t){return bO(this)?this.filters.find(s=>!s.matches(t))===void 0:this.filters.find(s=>s.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bO(r){return r.op==="and"}function yO(r){return n$(r)&&bO(r)}function n$(r){for(const t of r.filters)if(t instanceof Xa)return!1;return!0}function Q2(r){if(r instanceof rs)return r.field.canonicalString()+r.op.toString()+Kf(r.value);if(yO(r))return r.filters.map(t=>Q2(t)).join(",");{const t=r.filters.map(s=>Q2(s)).join(",");return`${r.op}(${t})`}}function xO(r,t){return r instanceof rs?function(i,l){return l instanceof rs&&i.op===l.op&&i.field.isEqual(l.field)&&tc(i.value,l.value)}(r,t):r instanceof Xa?function(i,l){return l instanceof Xa&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,m,f)=>u&&xO(m,l.filters[f]),!0):!1}(r,t):void Nt(19439)}function vO(r){return r instanceof rs?function(s){return`${s.field.canonicalString()} ${s.op} ${Kf(s.value)}`}(r):r instanceof Xa?function(s){return s.op.toString()+" {"+s.getFilters().map(vO).join(" ,")+"}"}(r):"Filter"}class s$ extends rs{constructor(t,s,i){super(t,s,i),this.key=bt.fromName(i.referenceValue)}matches(t){const s=bt.comparator(t.key,this.key);return this.matchesComparison(s)}}class o$ extends rs{constructor(t,s){super(t,"in",s),this.keys=wO("in",s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class i$ extends rs{constructor(t,s){super(t,"not-in",s),this.keys=wO("not-in",s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function wO(r,t){var s;return(((s=t.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(i=>bt.fromName(i.referenceValue))}class a$ extends rs{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return wj(s)&&ox(s.arrayValue,this.value)}}class l$ extends rs{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&ox(this.value.arrayValue,s)}}class c$ extends rs{constructor(t,s){super(t,"not-in",s)}matches(t){if(ox(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&s.nullValue===void 0&&!ox(this.value.arrayValue,s)}}class d$ extends rs{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!wj(s)||!s.arrayValue.values)&&s.arrayValue.values.some(i=>ox(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(t,s=null,i=[],l=[],u=null,m=null,f=null){this.path=t,this.collectionGroup=s,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=m,this.endAt=f,this.Ie=null}}function uT(r,t=null,s=[],i=[],l=null,u=null,m=null){return new u$(r,t,s,i,l,u,m)}function kj(r){const t=Ft(r);if(t.Ie===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(i=>Q2(i)).join(","),s+="|ob:",s+=t.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),c1(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>Kf(i)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>Kf(i)).join(",")),t.Ie=s}return t.Ie}function Cj(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!r$(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!xO(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!dT(r.startAt,t.startAt)&&dT(r.endAt,t.endAt)}function J2(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,s=null,i=[],l=[],u=null,m="F",f=null,b=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=m,this.startAt=f,this.endAt=b,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function h$(r,t,s,i,l,u,m,f){return new Bx(r,t,s,i,l,u,m,f)}function _j(r){return new Bx(r)}function hT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kO(r){return r.collectionGroup!==null}function By(r){const t=Ft(r);if(t.Ee===null){t.Ee=[];const s=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),s.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let f=new ys(Ws.comparator);return m.filters.forEach(b=>{b.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(t).forEach(u=>{s.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new _k(u,i))}),s.has(Ws.keyField().canonicalString())||t.Ee.push(new _k(Ws.keyField(),i))}return t.Ee}function Jl(r){const t=Ft(r);return t.de||(t.de=m$(t,By(r))),t.de}function m$(r,t){if(r.limitType==="F")return uT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new _k(l.field,u)});const s=r.endAt?new Ck(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Ck(r.startAt.position,r.startAt.inclusive):null;return uT(r.path,r.collectionGroup,t,r.filters,r.limit,s,i)}}function $2(r,t){const s=r.filters.concat([t]);return new Bx(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function Ak(r,t,s){return new Bx(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function u1(r,t){return Cj(Jl(r),Jl(t))&&r.limitType===t.limitType}function CO(r){return`${kj(Jl(r))}|lt:${r.limitType}`}function Mf(r){return`Query(target=${function(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map(l=>vO(l)).join(", ")}]`),c1(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map(l=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(l)).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map(l=>Kf(l)).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map(l=>Kf(l)).join(",")),`Target(${i})`}(Jl(r))}; limitType=${r.limitType})`}function h1(r,t){return t.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):bt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,t)&&function(i,l){for(const u of By(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(m,f,b){const v=cT(m,f,b);return m.inclusive?v<=0:v<0}(i.startAt,By(i),l)||i.endAt&&!function(m,f,b){const v=cT(m,f,b);return m.inclusive?v>=0:v>0}(i.endAt,By(i),l))}(r,t)}function p$(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _O(r){return(t,s)=>{let i=!1;for(const l of By(r)){const u=f$(l,t,s);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function f$(r,t,s){const i=r.field.isKeyField()?bt.comparator(t.key,s.key):function(u,m,f){const b=m.data.field(u),v=f.data.field(u);return b!==null&&v!==null?Wf(b,v):Nt(42886)}(r.field,t,s);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Nt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,s){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,s]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,s]);l.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[s]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nh(this.inner,(s,i)=>{for(const[l,u]of i)t(l,u)})}isEmpty(){return aO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=new An(bt.comparator);function bd(){return g$}const AO=new An(bt.comparator);function _y(...r){let t=AO;for(const s of r)t=t.insert(s.key,s);return t}function jO(r){let t=AO;return r.forEach((s,i)=>t=t.insert(s,i.overlayedDocument)),t}function Dm(){return Ly()}function NO(){return Ly()}function Ly(){return new Xm(r=>r.toString(),(r,t)=>r.isEqual(t))}const b$=new An(bt.comparator),y$=new ys(bt.comparator);function ur(...r){let t=y$;for(const s of r)t=t.add(s);return t}const x$=new ys(er);function v$(){return x$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vk(t)?"-0":t}}function SO(r){return{integerValue:""+r}}function w$(r,t){return KJ(t)?SO(t):Aj(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this._=void 0}}function k$(r,t,s){return r instanceof jk?function(l,u){const m={fields:{[dO]:{stringValue:cO},[hO]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&vj(u)&&(u=d1(u)),u&&(m.fields[uO]=u),{mapValue:m}}(s,t):r instanceof ix?DO(r,t):r instanceof ax?MO(r,t):function(l,u){const m=EO(l,u),f=mT(m)+mT(l.Re);return K2(m)&&K2(l.Re)?SO(f):Aj(l.serializer,f)}(r,t)}function C$(r,t,s){return r instanceof ix?DO(r,t):r instanceof ax?MO(r,t):s}function EO(r,t){return r instanceof Nk?function(i){return K2(i)||function(u){return!!u&&"doubleValue"in u}(i)}(t)?t:{integerValue:0}:null}class jk extends m1{}class ix extends m1{constructor(t){super(),this.elements=t}}function DO(r,t){const s=TO(t);for(const i of r.elements)s.some(l=>tc(l,i))||s.push(i);return{arrayValue:{values:s}}}class ax extends m1{constructor(t){super(),this.elements=t}}function MO(r,t){let s=TO(t);for(const i of r.elements)s=s.filter(l=>!tc(l,i));return{arrayValue:{values:s}}}class Nk extends m1{constructor(t,s){super(),this.serializer=t,this.Re=s}}function mT(r){return qn(r.integerValue||r.doubleValue)}function TO(r){return wj(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _$(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof ix&&l instanceof ix||i instanceof ax&&l instanceof ax?Yf(i.elements,l.elements,tc):i instanceof Nk&&l instanceof Nk?tc(i.Re,l.Re):i instanceof jk&&l instanceof jk}(r.transform,t.transform)}class A${constructor(t,s){this.version=t,this.transformResults=s}}class ea{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new ea}static exists(t){return new ea(void 0,t)}static updateTime(t){return new ea(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qw(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class p1{}function IO(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jj(r.key,ea.none()):new Lx(r.key,r.data,ea.none());{const s=r.data,i=Xo.empty();let l=new ys(Ws.comparator);for(let u of t.fields)if(!l.has(u)){let m=s.field(u);m===null&&u.length>1&&(u=u.popLast(),m=s.field(u)),m===null?i.delete(u):i.set(u,m),l=l.add(u)}return new sh(r.key,i,new Si(l.toArray()),ea.none())}}function j$(r,t,s){r instanceof Lx?function(l,u,m){const f=l.value.clone(),b=fT(l.fieldTransforms,u,m.transformResults);f.setAll(b),u.convertToFoundDocument(m.version,f).setHasCommittedMutations()}(r,t,s):r instanceof sh?function(l,u,m){if(!Qw(l.precondition,u))return void u.convertToUnknownDocument(m.version);const f=fT(l.fieldTransforms,u,m.transformResults),b=u.data;b.setAll(RO(l)),b.setAll(f),u.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(r,t,s):function(l,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,s)}function zy(r,t,s,i){return r instanceof Lx?function(u,m,f,b){if(!Qw(u.precondition,m))return f;const v=u.value.clone(),k=gT(u.fieldTransforms,b,m);return v.setAll(k),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),null}(r,t,s,i):r instanceof sh?function(u,m,f,b){if(!Qw(u.precondition,m))return f;const v=gT(u.fieldTransforms,b,m),k=m.data;return k.setAll(RO(u)),k.setAll(v),m.convertToFoundDocument(m.version,k).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(r,t,s,i):function(u,m,f){return Qw(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):f}(r,t,s)}function N$(r,t){let s=null;for(const i of r.fieldTransforms){const l=t.data.field(i.field),u=EO(i.transform,l||null);u!=null&&(s===null&&(s=Xo.empty()),s.set(i.field,u))}return s||null}function pT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Yf(i,l,(u,m)=>_$(u,m))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Lx extends p1{constructor(t,s,i,l=[]){super(),this.key=t,this.value=s,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class sh extends p1{constructor(t,s,i,l,u=[]){super(),this.key=t,this.data=s,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function RO(r){const t=new Map;return r.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const i=r.data.field(s);t.set(s,i)}}),t}function fT(r,t,s){const i=new Map;Br(r.length===s.length,32656,{Ve:s.length,me:r.length});for(let l=0;l<s.length;l++){const u=r[l],m=u.transform,f=t.data.field(u.field);i.set(u.field,C$(m,f,s[l]))}return i}function gT(r,t,s){const i=new Map;for(const l of r){const u=l.transform,m=s.data.field(l.field);i.set(l.field,k$(u,m,t))}return i}class jj extends p1{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S$ extends p1{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(t,s,i,l){this.batchId=t,this.localWriteTime=s,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,s){const i=s.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&j$(u,t,i[l])}}applyToLocalView(t,s){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(s=zy(i,t,s,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(s=zy(i,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const i=NO();return this.mutations.forEach(l=>{const u=t.get(l.key),m=u.overlayedDocument;let f=this.applyToLocalView(m,u.mutatedFields);f=s.has(l.key)?null:f;const b=IO(m,f);b!==null&&i.set(l.key,b),m.isValidDocument()||m.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),ur())}isEqual(t){return this.batchId===t.batchId&&Yf(this.mutations,t.mutations,(s,i)=>pT(s,i))&&Yf(this.baseMutations,t.baseMutations,(s,i)=>pT(s,i))}}class Nj{constructor(t,s,i,l){this.batch=t,this.commitVersion=s,this.mutationResults=i,this.docVersions=l}static from(t,s,i){Br(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let l=function(){return b$}();const u=t.mutations;for(let m=0;m<u.length;m++)l=l.insert(u[m].key,i[m].version);return new Nj(t,s,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es,gr;function T$(r){switch(r){case We.OK:return Nt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Nt(15467,{code:r})}}function PO(r){if(r===void 0)return gd("GRPC error has no .code"),We.UNKNOWN;switch(r){case es.OK:return We.OK;case es.CANCELLED:return We.CANCELLED;case es.UNKNOWN:return We.UNKNOWN;case es.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case es.INTERNAL:return We.INTERNAL;case es.UNAVAILABLE:return We.UNAVAILABLE;case es.UNAUTHENTICATED:return We.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case es.NOT_FOUND:return We.NOT_FOUND;case es.ALREADY_EXISTS:return We.ALREADY_EXISTS;case es.PERMISSION_DENIED:return We.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case es.ABORTED:return We.ABORTED;case es.OUT_OF_RANGE:return We.OUT_OF_RANGE;case es.UNIMPLEMENTED:return We.UNIMPLEMENTED;case es.DATA_LOSS:return We.DATA_LOSS;default:return Nt(39323,{code:r})}}(gr=es||(es={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new Lu([4294967295,4294967295],0);function bT(r){const t=sO().encode(r),s=new JP;return s.update(t),new Uint8Array(s.digest())}function yT(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Lu([s,i],0),new Lu([l,u],0)]}class Sj{constructor(t,s,i){if(this.bitmap=t,this.padding=s,this.hashCount=i,s<0||s>=8)throw new Ay(`Invalid padding: ${s}`);if(i<0)throw new Ay(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ay(`Invalid hash count: ${i}`);if(t.length===0&&s!==0)throw new Ay(`Invalid padding when bitmap length is 0: ${s}`);this.pe=8*t.length-s,this.ye=Lu.fromNumber(this.pe)}we(t,s,i){let l=t.add(s.multiply(Lu.fromNumber(i)));return l.compare(I$)===1&&(l=new Lu([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const s=bT(t),[i,l]=yT(s);for(let u=0;u<this.hashCount;u++){const m=this.we(i,l,u);if(!this.be(m))return!1}return!0}static create(t,s,i){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),m=new Sj(u,l,s);return i.forEach(f=>m.insert(f)),m}insert(t){if(this.pe===0)return;const s=bT(t),[i,l]=yT(s);for(let u=0;u<this.hashCount;u++){const m=this.we(i,l,u);this.Se(m)}}Se(t){const s=Math.floor(t/8),i=t%8;this.bitmap[s]|=1<<i}}class Ay extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,s,i,l,u){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,s,i){const l=new Map;return l.set(t,zx.createSynthesizedTargetChangeForCurrentChange(t,s,i)),new f1(Lt.min(),l,new An(er),bd(),ur())}}class zx{constructor(t,s,i,l,u){this.resumeToken=t,this.current=s,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,s,i){return new zx(i,s,ur(),ur(),ur())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,s,i,l){this.De=t,this.removedTargetIds=s,this.key=i,this.ve=l}}class OO{constructor(t,s){this.targetId=t,this.Ce=s}}class BO{constructor(t,s,i=Qs.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=s,this.resumeToken=i,this.cause=l}}class xT{constructor(){this.Fe=0,this.Me=vT(),this.xe=Qs.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ur(),s=ur(),i=ur();return this.Me.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:s=s.add(l);break;case 1:i=i.add(l);break;default:Nt(38017,{changeType:u})}}),new zx(this.xe,this.Oe,t,s,i)}Qe(){this.Ne=!1,this.Me=vT()}$e(t,s){this.Ne=!0,this.Me=this.Me.insert(t,s)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Br(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class R${constructor(t){this.ze=t,this.je=new Map,this.He=bd(),this.Je=ww(),this.Ye=ww(),this.Ze=new An(er)}Xe(t){for(const s of t.De)t.ve&&t.ve.isFoundDocument()?this.et(s,t.ve):this.tt(s,t.key,t.ve);for(const s of t.removedTargetIds)this.tt(s,t.key,t.ve)}nt(t){this.forEachTarget(t,s=>{const i=this.rt(s);switch(t.state){case 0:this.it(s)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(s);break;case 3:this.it(s)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(s)&&(this.st(s),i.ke(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.je.forEach((i,l)=>{this.it(l)&&s(l)})}ot(t){const s=t.targetId,i=t.Ce.count,l=this._t(s);if(l){const u=l.target;if(J2(u))if(i===0){const m=new bt(u.path);this.tt(s,m,ho.newNoDocument(m,Lt.min()))}else Br(i===1,20013,{expectedCount:i});else{const m=this.ut(s);if(m!==i){const f=this.ct(t),b=f?this.lt(f,t,m):1;if(b!==0){this.st(s);const v=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,v)}}}}}ct(t){const s=t.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=s;let m,f;try{m=Hu(i).toUint8Array()}catch(b){if(b instanceof lO)return qf("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{f=new Sj(m,l,u)}catch(b){return qf(b instanceof Ay?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return f.pe===0?null:f}lt(t,s,i){return s.Ce.count===i-this.Tt(t,s.targetId)?0:2}Tt(t,s){const i=this.ze.getRemoteKeysForTarget(s);let l=0;return i.forEach(u=>{const m=this.ze.Pt(),f=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.mightContain(f)||(this.tt(s,u,null),l++)}),l}It(t){const s=new Map;this.je.forEach((u,m)=>{const f=this._t(m);if(f){if(u.current&&J2(f.target)){const b=new bt(f.target.path);this.Et(b).has(m)||this.dt(m,b)||this.tt(m,b,ho.newNoDocument(b,t))}u.Le&&(s.set(m,u.qe()),u.Qe())}});let i=ur();this.Ye.forEach((u,m)=>{let f=!0;m.forEachWhile(b=>{const v=this._t(b);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(u))}),this.He.forEach((u,m)=>m.setReadTime(t));const l=new f1(t,s,this.Ze,this.He,i);return this.He=bd(),this.Je=ww(),this.Ye=ww(),this.Ze=new An(er),l}et(t,s){if(!this.it(t))return;const i=this.dt(t,s.key)?2:0;this.rt(t).$e(s.key,i),this.He=this.He.insert(s.key,s),this.Je=this.Je.insert(s.key,this.Et(s.key).add(t)),this.Ye=this.Ye.insert(s.key,this.At(s.key).add(t))}tt(t,s,i){if(!this.it(t))return;const l=this.rt(t);this.dt(t,s)?l.$e(s,1):l.Ue(s),this.Ye=this.Ye.insert(s,this.At(s).delete(t)),this.Ye=this.Ye.insert(s,this.At(s).add(t)),i&&(this.He=this.He.insert(s,i))}removeTarget(t){this.je.delete(t)}ut(t){const s=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let s=this.je.get(t);return s||(s=new xT,this.je.set(t,s)),s}At(t){let s=this.Ye.get(t);return s||(s=new ys(er),this.Ye=this.Ye.insert(t,s)),s}Et(t){let s=this.Je.get(t);return s||(s=new ys(er),this.Je=this.Je.insert(t,s)),s}it(t){const s=this._t(t)!==null;return s||dt("WatchChangeAggregator","Detected inactive target",t),s}_t(t){const s=this.je.get(t);return s&&s.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new xT),this.ze.getRemoteKeysForTarget(t).forEach(s=>{this.tt(t,s,null)})}dt(t,s){return this.ze.getRemoteKeysForTarget(t).has(s)}}function ww(){return new An(bt.comparator)}function vT(){return new An(bt.comparator)}const P$={asc:"ASCENDING",desc:"DESCENDING"},O$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B$={and:"AND",or:"OR"};class L${constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function X2(r,t){return r.useProto3Json||c1(t)?t:{value:t}}function Sk(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LO(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function z$(r,t){return Sk(r,t.toTimestamp())}function $l(r){return Br(!!r,49232),Lt.fromTimestamp(function(s){const i=Gu(s);return new bs(i.seconds,i.nanos)}(r))}function Ej(r,t){return Z2(r,t).canonicalString()}function Z2(r,t){const s=function(l){return new tn(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?s:s.child(t)}function zO(r){const t=tn.fromString(r);return Br(HO(t),10190,{key:t.toString()}),t}function eA(r,t){return Ej(r.databaseId,t.path)}function F_(r,t){const s=zO(t);if(s.get(1)!==r.databaseId.projectId)throw new ht(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new ht(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new bt(VO(s))}function FO(r,t){return Ej(r.databaseId,t)}function F$(r){const t=zO(r);return t.length===4?tn.emptyPath():VO(t)}function tA(r){return new tn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VO(r){return Br(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wT(r,t,s){return{name:eA(r,t),fields:s.value.mapValue.fields}}function V$(r,t){let s;if("targetChange"in t){t.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Nt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(v,k){return v.useProto3Json?(Br(k===void 0||typeof k=="string",58123),Qs.fromBase64String(k||"")):(Br(k===void 0||k instanceof Buffer||k instanceof Uint8Array,16193),Qs.fromUint8Array(k||new Uint8Array))}(r,t.targetChange.resumeToken),m=t.targetChange.cause,f=m&&function(v){const k=v.code===void 0?We.UNKNOWN:PO(v.code);return new ht(k,v.message||"")}(m);s=new BO(i,l,u,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=F_(r,i.document.name),u=$l(i.document.updateTime),m=i.document.createTime?$l(i.document.createTime):Lt.min(),f=new Xo({mapValue:{fields:i.document.fields}}),b=ho.newFoundDocument(l,u,m,f),v=i.targetIds||[],k=i.removedTargetIds||[];s=new Jw(v,k,b.key,b)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=F_(r,i.document),u=i.readTime?$l(i.readTime):Lt.min(),m=ho.newNoDocument(l,u),f=i.removedTargetIds||[];s=new Jw([],f,m.key,m)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=F_(r,i.document),u=i.removedTargetIds||[];s=new Jw([],u,l,null)}else{if(!("filter"in t))return Nt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,m=new M$(l,u),f=i.targetId;s=new OO(f,m)}}return s}function U$(r,t){let s;if(t instanceof Lx)s={update:wT(r,t.key,t.value)};else if(t instanceof jj)s={delete:eA(r,t.key)};else if(t instanceof sh)s={update:wT(r,t.key,t.data),updateMask:$$(t.fieldMask)};else{if(!(t instanceof S$))return Nt(16599,{ft:t.type});s={verify:eA(r,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(i=>function(u,m){const f=m.transform;if(f instanceof jk)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ix)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ax)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Nk)return{fieldPath:m.field.canonicalString(),increment:f.Re};throw Nt(20930,{transform:m.transform})}(0,i))),t.precondition.isNone||(s.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:z$(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt(27497)}(r,t.precondition)),s}function G$(r,t){return r&&r.length>0?(Br(t!==void 0,14353),r.map(s=>function(l,u){let m=l.updateTime?$l(l.updateTime):$l(u);return m.isEqual(Lt.min())&&(m=$l(u)),new A$(m,l.transformResults||[])}(s,t))):[]}function H$(r,t){return{documents:[FO(r,t.path)]}}function q$(r,t){const s={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),s.structuredQuery.from=[{collectionId:i.lastSegment()}]),s.parent=FO(r,l);const u=function(v){if(v.length!==0)return GO(Xa.create(v,"and"))}(t.filters);u&&(s.structuredQuery.where=u);const m=function(v){if(v.length!==0)return v.map(k=>function(_){return{field:Tf(_.field),direction:K$(_.dir)}}(k))}(t.orderBy);m&&(s.structuredQuery.orderBy=m);const f=X2(r,t.limit);return f!==null&&(s.structuredQuery.limit=f),t.startAt&&(s.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(s.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:s,parent:l}}function Y$(r){let t=F$(r.parent);const s=r.structuredQuery,i=s.from?s.from.length:0;let l=null;if(i>0){Br(i===1,65062);const k=s.from[0];k.allDescendants?l=k.collectionId:t=t.child(k.collectionId)}let u=[];s.where&&(u=function(C){const _=UO(C);return _ instanceof Xa&&yO(_)?_.getFilters():[_]}(s.where));let m=[];s.orderBy&&(m=function(C){return C.map(_=>function(M){return new _k(If(M.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(s.orderBy));let f=null;s.limit&&(f=function(C){let _;return _=typeof C=="object"?C.value:C,c1(_)?null:_}(s.limit));let b=null;s.startAt&&(b=function(C){const _=!!C.before,S=C.values||[];return new Ck(S,_)}(s.startAt));let v=null;return s.endAt&&(v=function(C){const _=!C.before,S=C.values||[];return new Ck(S,_)}(s.endAt)),h$(t,l,m,u,f,"F",b,v)}function W$(r,t){const s=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:l})}}(t.purpose);return s==null?null:{"goog-listen-tags":s}}function UO(r){return r.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const i=If(s.unaryFilter.field);return rs.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=If(s.unaryFilter.field);return rs.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=If(s.unaryFilter.field);return rs.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=If(s.unaryFilter.field);return rs.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(r):r.fieldFilter!==void 0?function(s){return rs.create(If(s.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(s){return Xa.create(s.compositeFilter.filters.map(i=>UO(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(s.compositeFilter.op))}(r):Nt(30097,{filter:r})}function K$(r){return P$[r]}function Q$(r){return O$[r]}function J$(r){return B$[r]}function Tf(r){return{fieldPath:r.canonicalString()}}function If(r){return Ws.fromServerFormat(r.fieldPath)}function GO(r){return r instanceof rs?function(s){if(s.op==="=="){if(lT(s.value))return{unaryFilter:{field:Tf(s.field),op:"IS_NAN"}};if(aT(s.value))return{unaryFilter:{field:Tf(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(lT(s.value))return{unaryFilter:{field:Tf(s.field),op:"IS_NOT_NAN"}};if(aT(s.value))return{unaryFilter:{field:Tf(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tf(s.field),op:Q$(s.op),value:s.value}}}(r):r instanceof Xa?function(s){const i=s.getFilters().map(l=>GO(l));return i.length===1?i[0]:{compositeFilter:{op:J$(s.op),filters:i}}}(r):Nt(54877,{filter:r})}function $$(r){const t=[];return r.fields.forEach(s=>t.push(s.canonicalString())),{fieldPaths:t}}function HO(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,s,i,l,u=Lt.min(),m=Lt.min(),f=Qs.EMPTY_BYTE_STRING,b=null){this.target=t,this.targetId=s,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=f,this.expectedCount=b}withSequenceNumber(t){return new Pu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(t){this.wt=t}}function Z$(r){const t=Y$({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ak(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this.Cn=new tX}addToCollectionParentIndex(t,s){return this.Cn.add(s),Ke.resolve()}getCollectionParents(t,s){return Ke.resolve(this.Cn.getEntries(s))}addFieldIndex(t,s){return Ke.resolve()}deleteFieldIndex(t,s){return Ke.resolve()}deleteAllFieldIndexes(t){return Ke.resolve()}createTargetIndexes(t,s){return Ke.resolve()}getDocumentsMatchingTarget(t,s){return Ke.resolve(null)}getIndexType(t,s){return Ke.resolve(0)}getFieldIndexes(t,s){return Ke.resolve([])}getNextCollectionGroupToUpdate(t){return Ke.resolve(null)}getMinOffset(t,s){return Ke.resolve(Uu.min())}getMinOffsetFromCollectionGroup(t,s){return Ke.resolve(Uu.min())}updateCollectionGroup(t,s,i){return Ke.resolve()}updateIndexEntries(t,s){return Ke.resolve()}}class tX{constructor(){this.index={}}add(t){const s=t.lastSegment(),i=t.popLast(),l=this.index[s]||new ys(tn.comparator),u=!l.has(i);return this.index[s]=l.add(i),u}has(t){const s=t.lastSegment(),i=t.popLast(),l=this.index[s];return l&&l.has(i)}getEntries(t){return(this.index[t]||new ys(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qO=41943040;class Qo{static withCacheSize(t){return new Qo(t,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(qO,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Qf(0)}static lr(){return new Qf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="LruGarbageCollector",rX=1048576;function _T([r,t],[s,i]){const l=er(r,s);return l===0?er(t,i):l}class nX{constructor(t){this.Er=t,this.buffer=new ys(_T),this.dr=0}Ar(){return++this.dr}Rr(t){const s=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(s);else{const i=this.buffer.last();_T(s,i)<0&&(this.buffer=this.buffer.delete(i).add(s))}}get maxValue(){return this.buffer.last()[0]}}class sX{constructor(t,s,i){this.garbageCollector=t,this.asyncQueue=s,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt(CT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){cg(s)?dt(CT,"Ignoring IndexedDB error during garbage collection: ",s):await lg(s)}await this.mr(3e5)})}}class oX{constructor(t,s){this.gr=t,this.params=s}calculateTargetCount(t,s){return this.gr.pr(t).next(i=>Math.floor(s/100*i))}nthSequenceNumber(t,s){if(s===0)return Ke.resolve(l1.le);const i=new nX(s);return this.gr.forEachTarget(t,l=>i.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>i.Rr(l))).next(()=>i.maxValue)}removeTargets(t,s,i){return this.gr.removeTargets(t,s,i)}removeOrphanedDocuments(t,s){return this.gr.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(kT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kT):this.wr(t,s))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,s){let i,l,u,m,f,b,v;const k=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(i=C,f=Date.now(),this.removeTargets(t,i,s))).next(C=>(u=C,b=Date.now(),this.removeOrphanedDocuments(t,i))).next(C=>(v=Date.now(),Df()<=dr.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-k}ms
	Determined least recently used ${l} in `+(f-m)+`ms
	Removed ${u} targets in `+(b-f)+`ms
	Removed ${C} documents in `+(v-b)+`ms
Total Duration: ${v-k}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:C})))}}function iX(r,t){return new oX(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(){this.changes=new Xm(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,ho.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const i=this.changes.get(s);return i!==void 0?Ke.resolve(i):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(t,s,i,l){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,s){let i=null;return this.documentOverlayCache.getOverlay(t,s).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,s))).next(l=>(i!==null&&zy(i.mutation,l,Si.empty(),bs.now()),l))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(i=>this.getLocalViewOfDocuments(t,i,ur()).next(()=>i))}getLocalViewOfDocuments(t,s,i=ur()){const l=Dm();return this.populateOverlays(t,l,s).next(()=>this.computeViews(t,s,l,i).next(u=>{let m=_y();return u.forEach((f,b)=>{m=m.insert(f,b.overlayedDocument)}),m}))}getOverlayedDocuments(t,s){const i=Dm();return this.populateOverlays(t,i,s).next(()=>this.computeViews(t,s,i,ur()))}populateOverlays(t,s,i){const l=[];return i.forEach(u=>{s.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((m,f)=>{s.set(m,f)})})}computeViews(t,s,i,l){let u=bd();const m=Ly(),f=function(){return Ly()}();return s.forEach((b,v)=>{const k=i.get(v.key);l.has(v.key)&&(k===void 0||k.mutation instanceof sh)?u=u.insert(v.key,v):k!==void 0?(m.set(v.key,k.mutation.getFieldMask()),zy(k.mutation,v,k.mutation.getFieldMask(),bs.now())):m.set(v.key,Si.empty())}),this.recalculateAndSaveOverlays(t,u).next(b=>(b.forEach((v,k)=>m.set(v,k)),s.forEach((v,k)=>{var C;return f.set(v,new lX(k,(C=m.get(v))!==null&&C!==void 0?C:null))}),f))}recalculateAndSaveOverlays(t,s){const i=Ly();let l=new An((m,f)=>m-f),u=ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(m=>{for(const f of m)f.keys().forEach(b=>{const v=s.get(b);if(v===null)return;let k=i.get(b)||Si.empty();k=f.applyToLocalView(v,k),i.set(b,k);const C=(l.get(f.batchId)||ur()).add(b);l=l.insert(f.batchId,C)})}).next(()=>{const m=[],f=l.getReverseIterator();for(;f.hasNext();){const b=f.getNext(),v=b.key,k=b.value,C=NO();k.forEach(_=>{if(!u.has(_)){const S=IO(s.get(_),i.get(_));S!==null&&C.set(_,S),u=u.add(_)}}),m.push(this.documentOverlayCache.saveOverlays(t,v,C))}return Ke.waitFor(m)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,s,i,l){return function(m){return bt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):kO(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,i,l):this.getDocumentsMatchingCollectionQuery(t,s,i,l)}getNextDocuments(t,s,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,i,l).next(u=>{const m=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,i.largestBatchId,l-u.size):Ke.resolve(Dm());let f=rx,b=u;return m.next(v=>Ke.forEach(v,(k,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),u.get(k)?Ke.resolve():this.remoteDocumentCache.getEntry(t,k).next(_=>{b=b.insert(k,_)}))).next(()=>this.populateOverlays(t,v,u)).next(()=>this.computeViews(t,b,v,ur())).next(k=>({batchId:f,changes:jO(k)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new bt(s)).next(i=>{let l=_y();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,s,i,l){const u=s.collectionGroup;let m=_y();return this.indexManager.getCollectionParents(t,u).next(f=>Ke.forEach(f,b=>{const v=function(C,_){return new Bx(_,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(s,b.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,i,l).next(k=>{k.forEach((C,_)=>{m=m.insert(C,_)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,s,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,i.largestBatchId).next(m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,i,u,l))).next(m=>{u.forEach((b,v)=>{const k=v.getKey();m.get(k)===null&&(m=m.insert(k,ho.newInvalidDocument(k)))});let f=_y();return m.forEach((b,v)=>{const k=u.get(b);k!==void 0&&zy(k.mutation,v,Si.empty(),bs.now()),h1(s,v)&&(f=f.insert(b,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,s){return Ke.resolve(this.kr.get(s))}saveBundleMetadata(t,s){return this.kr.set(s.id,function(l){return{id:l.id,version:l.version,createTime:$l(l.createTime)}}(s)),Ke.resolve()}getNamedQuery(t,s){return Ke.resolve(this.qr.get(s))}saveNamedQuery(t,s){return this.qr.set(s.name,function(l){return{name:l.name,query:Z$(l.bundledQuery),readTime:$l(l.readTime)}}(s)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(){this.overlays=new An(bt.comparator),this.Qr=new Map}getOverlay(t,s){return Ke.resolve(this.overlays.get(s))}getOverlays(t,s){const i=Dm();return Ke.forEach(s,l=>this.getOverlay(t,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(t,s,i){return i.forEach((l,u)=>{this.St(t,s,u)}),Ke.resolve()}removeOverlaysForBatchId(t,s,i){const l=this.Qr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(i)),Ke.resolve()}getOverlaysForCollection(t,s,i){const l=Dm(),u=s.length+1,m=new bt(s.child("")),f=this.overlays.getIteratorFrom(m);for(;f.hasNext();){const b=f.getNext().value,v=b.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===u&&b.largestBatchId>i&&l.set(b.getKey(),b)}return Ke.resolve(l)}getOverlaysForCollectionGroup(t,s,i,l){let u=new An((v,k)=>v-k);const m=this.overlays.getIterator();for(;m.hasNext();){const v=m.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>i){let k=u.get(v.largestBatchId);k===null&&(k=Dm(),u=u.insert(v.largestBatchId,k)),k.set(v.getKey(),v)}}const f=Dm(),b=u.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((v,k)=>f.set(v,k)),!(f.size()>=l)););return Ke.resolve(f)}St(t,s,i){const l=this.overlays.get(i.key);if(l!==null){const m=this.Qr.get(l.largestBatchId).delete(i.key);this.Qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new D$(s,i));let u=this.Qr.get(s);u===void 0&&(u=ur(),this.Qr.set(s,u)),this.Qr.set(s,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(){this.sessionToken=Qs.EMPTY_BYTE_STRING}getSessionToken(t){return Ke.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.$r=new ys(Ss.Ur),this.Kr=new ys(Ss.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,s){const i=new Ss(t,s);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,s){t.forEach(i=>this.addReference(i,s))}removeReference(t,s){this.zr(new Ss(t,s))}jr(t,s){t.forEach(i=>this.removeReference(i,s))}Hr(t){const s=new bt(new tn([])),i=new Ss(s,t),l=new Ss(s,t+1),u=[];return this.Kr.forEachInRange([i,l],m=>{this.zr(m),u.push(m.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const s=new bt(new tn([])),i=new Ss(s,t),l=new Ss(s,t+1);let u=ur();return this.Kr.forEachInRange([i,l],m=>{u=u.add(m.key)}),u}containsKey(t){const s=new Ss(t,0),i=this.$r.firstAfterOrEqual(s);return i!==null&&t.isEqual(i.key)}}class Ss{constructor(t,s){this.key=t,this.Zr=s}static Ur(t,s){return bt.comparator(t.key,s.key)||er(t.Zr,s.Zr)}static Wr(t,s){return er(t.Zr,s.Zr)||bt.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.nr=1,this.Xr=new ys(Ss.Ur)}checkEmpty(t){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,i,l){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new E$(u,s,i,l);this.mutationQueue.push(m);for(const f of l)this.Xr=this.Xr.add(new Ss(f.key,u)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return Ke.resolve(m)}lookupMutationBatch(t,s){return Ke.resolve(this.ei(s))}getNextMutationBatchAfterBatchId(t,s){const i=s+1,l=this.ti(i),u=l<0?0:l;return Ke.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?xj:this.nr-1)}getAllMutationBatches(t){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const i=new Ss(s,0),l=new Ss(s,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([i,l],m=>{const f=this.ei(m.Zr);u.push(f)}),Ke.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,s){let i=new ys(er);return s.forEach(l=>{const u=new Ss(l,0),m=new Ss(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,m],f=>{i=i.add(f.Zr)})}),Ke.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,s){const i=s.path,l=i.length+1;let u=i;bt.isDocumentKey(u)||(u=u.child(""));const m=new Ss(new bt(u),0);let f=new ys(er);return this.Xr.forEachWhile(b=>{const v=b.key.path;return!!i.isPrefixOf(v)&&(v.length===l&&(f=f.add(b.Zr)),!0)},m),Ke.resolve(this.ni(f))}ni(t){const s=[];return t.forEach(i=>{const l=this.ei(i);l!==null&&s.push(l)}),s}removeMutationBatch(t,s){Br(this.ri(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Ke.forEach(s.mutations,l=>{const u=new Ss(l.key,s.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,s){const i=new Ss(s,0),l=this.Xr.firstAfterOrEqual(i);return Ke.resolve(s.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ke.resolve()}ri(t,s){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const s=this.ti(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(t){this.ii=t,this.docs=function(){return new An(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const i=s.key,l=this.docs.get(i),u=l?l.size:0,m=this.ii(s);return this.docs=this.docs.insert(i,{document:s.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const i=this.docs.get(s);return Ke.resolve(i?i.document.mutableCopy():ho.newInvalidDocument(s))}getEntries(t,s){let i=bd();return s.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():ho.newInvalidDocument(l))}),Ke.resolve(i)}getDocumentsMatchingQuery(t,s,i,l){let u=bd();const m=s.path,f=new bt(m.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(f);for(;b.hasNext();){const{key:v,value:{document:k}}=b.getNext();if(!m.isPrefixOf(v.path))break;v.path.length>m.length+1||HJ(GJ(k),i)<=0||(l.has(k.key)||h1(s,k))&&(u=u.insert(k.key,k.mutableCopy()))}return Ke.resolve(u)}getAllFromCollectionGroup(t,s,i,l){Nt(9500)}si(t,s){return Ke.forEach(this.docs,i=>s(i))}newChangeBuffer(t){return new fX(this)}getSize(t){return Ke.resolve(this.size)}}class fX extends aX{constructor(t){super(),this.Br=t}applyChanges(t){const s=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?s.push(this.Br.addEntry(t,l)):this.Br.removeEntry(i)}),Ke.waitFor(s)}getFromCache(t,s){return this.Br.getEntry(t,s)}getAllFromCache(t,s){return this.Br.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(t){this.persistence=t,this.oi=new Xm(s=>kj(s),Cj),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this._i=0,this.ai=new Dj,this.targetCount=0,this.ui=Qf.cr()}forEachTarget(t,s){return this.oi.forEach((i,l)=>s(l)),Ke.resolve()}getLastRemoteSnapshotVersion(t){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ke.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(t,s,i){return i&&(this.lastRemoteSnapshotVersion=i),s>this._i&&(this._i=s),Ke.resolve()}Tr(t){this.oi.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.ui=new Qf(s),this.highestTargetId=s),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,s){return this.Tr(s),this.targetCount+=1,Ke.resolve()}updateTargetData(t,s){return this.Tr(s),Ke.resolve()}removeTargetData(t,s){return this.oi.delete(s.target),this.ai.Hr(s.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(t,s,i){let l=0;const u=[];return this.oi.forEach((m,f)=>{f.sequenceNumber<=s&&i.get(f.targetId)===null&&(this.oi.delete(m),u.push(this.removeMatchingKeysForTargetId(t,f.targetId)),l++)}),Ke.waitFor(u).next(()=>l)}getTargetCount(t){return Ke.resolve(this.targetCount)}getTargetData(t,s){const i=this.oi.get(s)||null;return Ke.resolve(i)}addMatchingKeys(t,s,i){return this.ai.Gr(s,i),Ke.resolve()}removeMatchingKeys(t,s,i){this.ai.jr(s,i);const l=this.persistence.referenceDelegate,u=[];return l&&s.forEach(m=>{u.push(l.markPotentiallyOrphaned(t,m))}),Ke.waitFor(u)}removeMatchingKeysForTargetId(t,s){return this.ai.Hr(s),Ke.resolve()}getMatchingKeysForTargetId(t,s){const i=this.ai.Yr(s);return Ke.resolve(i)}containsKey(t,s){return Ke.resolve(this.ai.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,s){this.ci={},this.overlays={},this.li=new l1(0),this.hi=!1,this.hi=!0,this.Pi=new hX,this.referenceDelegate=t(this),this.Ti=new gX(this),this.indexManager=new eX,this.remoteDocumentCache=function(l){return new pX(l)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new X$(s),this.Ei=new dX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new uX,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let i=this.ci[t.toKey()];return i||(i=new mX(s,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,s,i){dt("MemoryPersistence","Starting transaction:",t);const l=new bX(this.li.next());return this.referenceDelegate.di(),i(l).next(u=>this.referenceDelegate.Ai(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ri(t,s){return Ke.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,s)))}}class bX extends YJ{constructor(t){super(),this.currentSequenceNumber=t}}class Mj{constructor(t){this.persistence=t,this.Vi=new Dj,this.mi=null}static fi(t){return new Mj(t)}get gi(){if(this.mi)return this.mi;throw Nt(60996)}addReference(t,s,i){return this.Vi.addReference(i,s),this.gi.delete(i.toString()),Ke.resolve()}removeReference(t,s,i){return this.Vi.removeReference(i,s),this.gi.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(t,s){return this.gi.add(s.toString()),Ke.resolve()}removeTarget(t,s){this.Vi.Hr(s.targetId).forEach(l=>this.gi.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,s.targetId).next(l=>{l.forEach(u=>this.gi.add(u.toString()))}).next(()=>i.removeTargetData(t,s))}di(){this.mi=new Set}Ai(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.gi,i=>{const l=bt.fromPath(i);return this.pi(t,l).next(u=>{u||s.removeEntry(l,Lt.min())})}).next(()=>(this.mi=null,s.apply(t)))}updateLimboDocument(t,s){return this.pi(t,s).next(i=>{i?this.gi.delete(s.toString()):this.gi.add(s.toString())})}Ii(t){return 0}pi(t,s){return Ke.or([()=>Ke.resolve(this.Vi.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Ri(t,s)])}}class Ek{constructor(t,s){this.persistence=t,this.yi=new Xm(i=>QJ(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=iX(this,s)}static fi(t,s){return new Ek(t,s)}di(){}Ai(t){return Ke.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}pr(t){const s=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>s.next(l=>i+l))}br(t){let s=0;return this.yr(t,i=>{s++}).next(()=>s)}yr(t,s){return Ke.forEach(this.yi,(i,l)=>this.Dr(t,i,l).next(u=>u?Ke.resolve():s(l)))}removeTargets(t,s,i){return this.persistence.getTargetCache().removeTargets(t,s,i)}removeOrphanedDocuments(t,s){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.si(t,m=>this.Dr(t,m,s).next(f=>{f||(i++,u.removeEntry(m,Lt.min()))})).next(()=>u.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,s){return this.yi.set(s,t.currentSequenceNumber),Ke.resolve()}removeTarget(t,s){const i=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,s,i){return this.yi.set(i,t.currentSequenceNumber),Ke.resolve()}removeReference(t,s,i){return this.yi.set(i,t.currentSequenceNumber),Ke.resolve()}updateLimboDocument(t,s){return this.yi.set(s,t.currentSequenceNumber),Ke.resolve()}Ii(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=Ww(t.data.value)),s}Dr(t,s,i){return Ke.or([()=>this.persistence.Ri(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const l=this.yi.get(s);return Ke.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(t,s,i,l){this.targetId=t,this.fromCache=s,this.ds=i,this.As=l}static Rs(t,s){let i=ur(),l=ur();for(const u of s.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Tj(t,s.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ZY()?8:WJ(fo())>0?6:4}()}initialize(t,s){this.ys=t,this.indexManager=s,this.Vs=!0}getDocumentsMatchingQuery(t,s,i,l){const u={result:null};return this.ws(t,s).next(m=>{u.result=m}).next(()=>{if(!u.result)return this.bs(t,s,l,i).next(m=>{u.result=m})}).next(()=>{if(u.result)return;const m=new yX;return this.Ss(t,s,m).next(f=>{if(u.result=f,this.fs)return this.Ds(t,s,m,f.size)})}).next(()=>u.result)}Ds(t,s,i,l){return i.documentReadCount<this.gs?(Df()<=dr.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Mf(s),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ke.resolve()):(Df()<=dr.DEBUG&&dt("QueryEngine","Query:",Mf(s),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ps*l?(Df()<=dr.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Mf(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jl(s))):Ke.resolve())}ws(t,s){if(hT(s))return Ke.resolve(null);let i=Jl(s);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(s.limit!==null&&l===1&&(s=Ak(s,null,"F"),i=Jl(s)),this.indexManager.getDocumentsMatchingTarget(t,i).next(u=>{const m=ur(...u);return this.ys.getDocuments(t,m).next(f=>this.indexManager.getMinOffset(t,i).next(b=>{const v=this.vs(s,f);return this.Cs(s,v,m,b.readTime)?this.ws(t,Ak(s,null,"F")):this.Fs(t,v,s,b)}))})))}bs(t,s,i,l){return hT(s)||l.isEqual(Lt.min())?Ke.resolve(null):this.ys.getDocuments(t,i).next(u=>{const m=this.vs(s,u);return this.Cs(s,m,i,l)?Ke.resolve(null):(Df()<=dr.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Mf(s)),this.Fs(t,m,s,UJ(l,rx)).next(f=>f))})}vs(t,s){let i=new ys(_O(t));return s.forEach((l,u)=>{h1(t,u)&&(i=i.add(u))}),i}Cs(t,s,i,l){if(t.limit===null)return!1;if(i.size!==s.size)return!0;const u=t.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,s,i){return Df()<=dr.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Mf(s)),this.ys.getDocumentsMatchingQuery(t,s,Uu.min(),i)}Fs(t,s,i,l){return this.ys.getDocumentsMatchingQuery(t,i,l).next(u=>(s.forEach(m=>{u=u.insert(m.key,m)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="LocalStore",vX=3e8;class wX{constructor(t,s,i,l){this.persistence=t,this.Ms=s,this.serializer=l,this.xs=new An(er),this.Os=new Xm(u=>kj(u),Cj),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cX(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.xs))}}function kX(r,t,s,i){return new wX(r,t,s,i)}async function WO(r,t){const s=Ft(r);return await s.persistence.runTransaction("Handle user change","readonly",i=>{let l;return s.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,s.Ls(t),s.mutationQueue.getAllMutationBatches(i))).next(u=>{const m=[],f=[];let b=ur();for(const v of l){m.push(v.batchId);for(const k of v.mutations)b=b.add(k.key)}for(const v of u){f.push(v.batchId);for(const k of v.mutations)b=b.add(k.key)}return s.localDocuments.getDocuments(i,b).next(v=>({ks:v,removedBatchIds:m,addedBatchIds:f}))})})}function CX(r,t){const s=Ft(r);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),u=s.Bs.newChangeBuffer({trackRemovals:!0});return function(f,b,v,k){const C=v.batch,_=C.keys();let S=Ke.resolve();return _.forEach(M=>{S=S.next(()=>k.getEntry(b,M)).next(R=>{const I=v.docVersions.get(M);Br(I!==null,48541),R.version.compareTo(I)<0&&(C.applyToRemoteDocument(R,v),R.isValidDocument()&&(R.setReadTime(v.commitVersion),k.addEntry(R)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(b,C))}(s,i,t,u).next(()=>u.apply(i)).next(()=>s.mutationQueue.performConsistencyCheck(i)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let b=ur();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(b=b.add(f.batch.mutations[v].key));return b}(t))).next(()=>s.localDocuments.getDocuments(i,l))})}function KO(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.Ti.getLastRemoteSnapshotVersion(s))}function _X(r,t){const s=Ft(r),i=t.snapshotVersion;let l=s.xs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=s.Bs.newChangeBuffer({trackRemovals:!0});l=s.xs;const f=[];t.targetChanges.forEach((k,C)=>{const _=l.get(C);if(!_)return;f.push(s.Ti.removeMatchingKeys(u,k.removedDocuments,C).next(()=>s.Ti.addMatchingKeys(u,k.addedDocuments,C)));let S=_.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(C)!==null?S=S.withResumeToken(Qs.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):k.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(k.resumeToken,i)),l=l.insert(C,S),function(R,I,z){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=vX?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(_,S,k)&&f.push(s.Ti.updateTargetData(u,S))});let b=bd(),v=ur();if(t.documentUpdates.forEach(k=>{t.resolvedLimboDocuments.has(k)&&f.push(s.persistence.referenceDelegate.updateLimboDocument(u,k))}),f.push(AX(u,m,t.documentUpdates).next(k=>{b=k.qs,v=k.Qs})),!i.isEqual(Lt.min())){const k=s.Ti.getLastRemoteSnapshotVersion(u).next(C=>s.Ti.setTargetsMetadata(u,u.currentSequenceNumber,i));f.push(k)}return Ke.waitFor(f).next(()=>m.apply(u)).next(()=>s.localDocuments.getLocalViewOfDocuments(u,b,v)).next(()=>b)}).then(u=>(s.xs=l,u))}function AX(r,t,s){let i=ur(),l=ur();return s.forEach(u=>i=i.add(u)),t.getEntries(r,i).next(u=>{let m=bd();return s.forEach((f,b)=>{const v=u.get(f);b.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(f)),b.isNoDocument()&&b.version.isEqual(Lt.min())?(t.removeEntry(f,b.readTime),m=m.insert(f,b)):!v.isValidDocument()||b.version.compareTo(v.version)>0||b.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(b),m=m.insert(f,b)):dt(Ij,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",b.version)}),{qs:m,Qs:l}})}function jX(r,t){const s=Ft(r);return s.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=xj),s.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function NX(r,t){const s=Ft(r);return s.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return s.Ti.getTargetData(i,t).next(u=>u?(l=u,Ke.resolve(l)):s.Ti.allocateTargetId(i).next(m=>(l=new Pu(t,m,"TargetPurposeListen",i.currentSequenceNumber),s.Ti.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=s.xs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(s.xs=s.xs.insert(i.targetId,i),s.Os.set(t,i.targetId)),i})}async function rA(r,t,s){const i=Ft(r),l=i.xs.get(t),u=s?"readwrite":"readwrite-primary";try{s||await i.persistence.runTransaction("Release target",u,m=>i.persistence.referenceDelegate.removeTarget(m,l))}catch(m){if(!cg(m))throw m;dt(Ij,`Failed to update sequence numbers for target ${t}: ${m}`)}i.xs=i.xs.remove(t),i.Os.delete(l.target)}function AT(r,t,s){const i=Ft(r);let l=Lt.min(),u=ur();return i.persistence.runTransaction("Execute query","readwrite",m=>function(b,v,k){const C=Ft(b),_=C.Os.get(k);return _!==void 0?Ke.resolve(C.xs.get(_)):C.Ti.getTargetData(v,k)}(i,m,Jl(t)).next(f=>{if(f)return l=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(m,f.targetId).next(b=>{u=b})}).next(()=>i.Ms.getDocumentsMatchingQuery(m,t,s?l:Lt.min(),s?u:ur())).next(f=>(SX(i,p$(t),f),{documents:f,$s:u})))}function SX(r,t,s){let i=r.Ns.get(t)||Lt.min();s.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Ns.set(t,i)}class jT{constructor(){this.activeTargetIds=v$()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EX{constructor(){this.xo=new jT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,i){}addLocalQueryTarget(t,s=!0){return s&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,s,i){this.Oo[t]=s}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jT,Promise.resolve()}handleUserChange(t,s,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="ConnectivityMonitor";class ST{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(NT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(NT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kw=null;function nA(){return kw===null?kw=function(){return 268435456+Math.round(2147483648*Math.random())}():kw++,"0x"+kw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="RestConnection",MX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TX{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=s+"://"+t.host,this.Wo=`projects/${i}/databases/${l}`,this.Go=this.databaseId.database===wk?`project_id=${i}`:`project_id=${i}&database_id=${l}`}zo(t,s,i,l,u){const m=nA(),f=this.jo(t,s.toUriEncodedString());dt(V_,`Sending RPC '${t}' ${m}:`,f,i);const b={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(b,l,u);const{host:v}=new URL(f),k=Jm(v);return this.Jo(t,f,b,i,k).then(C=>(dt(V_,`Received RPC '${t}' ${m}: `,C),C),C=>{throw qf(V_,`RPC '${t}' ${m} failed with error: `,C,"url: ",f,"request:",i),C})}Yo(t,s,i,l,u,m){return this.zo(t,s,i,l,u)}Ho(t,s,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ag}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,u)=>t[u]=l),i&&i.headers.forEach((l,u)=>t[u]=l)}jo(t,s){const i=MX[t];return`${this.Ko}/v1/${s}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="WebChannelConnection";class RX extends TX{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,s,i,l,u){const m=nA();return new Promise((f,b)=>{const v=new $P;v.setWithCredentials(!0),v.listenOnce(XP.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Yw.NO_ERROR:const C=v.getResponseJson();dt(lo,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(C)),f(C);break;case Yw.TIMEOUT:dt(lo,`RPC '${t}' ${m} timed out`),b(new ht(We.DEADLINE_EXCEEDED,"Request time out"));break;case Yw.HTTP_ERROR:const _=v.getStatus();if(dt(lo,`RPC '${t}' ${m} failed with status:`,_,"response text:",v.getResponseText()),_>0){let S=v.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S==null?void 0:S.error;if(M&&M.status&&M.message){const R=function(z){const V=z.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(V)>=0?V:We.UNKNOWN}(M.status);b(new ht(R,M.message))}else b(new ht(We.UNKNOWN,"Server responded with status "+v.getStatus()))}else b(new ht(We.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{h_:t,streamId:m,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{dt(lo,`RPC '${t}' ${m} completed.`)}});const k=JSON.stringify(l);dt(lo,`RPC '${t}' ${m} sending request:`,l),v.send(s,"POST",k,i,15)})}I_(t,s,i){const l=nA(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=tO(),f=eO(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Ho(b.initMessageHeaders,s,i),b.encodeInitMessageHeaders=!0;const k=u.join("");dt(lo,`Creating RPC '${t}' stream ${l}: ${k}`,b);const C=m.createWebChannel(k,b);this.E_(C);let _=!1,S=!1;const M=new IX({Zo:I=>{S?dt(lo,`Not sending because RPC '${t}' stream ${l} is closed:`,I):(_||(dt(lo,`Opening RPC '${t}' stream ${l} transport.`),C.open(),_=!0),dt(lo,`RPC '${t}' stream ${l} sending:`,I),C.send(I))},Xo:()=>C.close()}),R=(I,z,V)=>{I.listen(z,U=>{try{V(U)}catch(q){setTimeout(()=>{throw q},0)}})};return R(C,Cy.EventType.OPEN,()=>{S||(dt(lo,`RPC '${t}' stream ${l} transport opened.`),M.__())}),R(C,Cy.EventType.CLOSE,()=>{S||(S=!0,dt(lo,`RPC '${t}' stream ${l} transport closed`),M.u_(),this.d_(C))}),R(C,Cy.EventType.ERROR,I=>{S||(S=!0,qf(lo,`RPC '${t}' stream ${l} transport errored. Name:`,I.name,"Message:",I.message),M.u_(new ht(We.UNAVAILABLE,"The operation could not be completed")))}),R(C,Cy.EventType.MESSAGE,I=>{var z;if(!S){const V=I.data[0];Br(!!V,16349);const U=V,q=(U==null?void 0:U.error)||((z=U[0])===null||z===void 0?void 0:z.error);if(q){dt(lo,`RPC '${t}' stream ${l} received error:`,q);const $=q.status;let ne=function(Y){const J=es[Y];if(J!==void 0)return PO(J)}($),Q=q.message;ne===void 0&&(ne=We.INTERNAL,Q="Unknown error status: "+$+" with message "+q.message),S=!0,M.u_(new ht(ne,Q)),C.close()}else dt(lo,`RPC '${t}' stream ${l} received:`,V),M.c_(V)}}),R(f,ZP.STAT_EVENT,I=>{I.stat===q2.PROXY?dt(lo,`RPC '${t}' stream ${l} detected buffering proxy`):I.stat===q2.NOPROXY&&dt(lo,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(s=>s===t)}}function U_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){return new L$(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,s,i=1e3,l=1.5,u=6e4){this.xi=t,this.timerId=s,this.A_=i,this.R_=l,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const s=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),l=Math.max(0,s-i);l>0&&dt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${s} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class JO{constructor(t,s,i,l,u,m,f,b){this.xi=t,this.S_=i,this.D_=l,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=f,this.listener=b,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new QO(t,s)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,s){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():s&&s.code===We.RESOURCE_EXHAUSTED?(gd(s.toString()),gd("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):s&&s.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(s)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),s=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.v_===s&&this.z_(i,l)},i=>{t(()=>{const l=new ht(We.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(l)})})}z_(t,s){const i=this.G_(this.v_);this.stream=this.H_(t,s),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{i(()=>this.j_(l))}),this.stream.onMessage(l=>{i(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return dt(ET,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return s=>{this.xi.enqueueAndForget(()=>this.v_===t?s():(dt(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PX extends JO{constructor(t,s,i,l,u,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,i,l,m),this.serializer=u}H_(t,s){return this.connection.I_("Listen",t,s)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const s=V$(this.serializer,t),i=function(u){if(!("targetChange"in u))return Lt.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Lt.min():m.readTime?$l(m.readTime):Lt.min()}(t);return this.listener.Y_(s,i)}Z_(t){const s={};s.database=tA(this.serializer),s.addTarget=function(u,m){let f;const b=m.target;if(f=J2(b)?{documents:H$(u,b)}:{query:q$(u,b).gt},f.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){f.resumeToken=LO(u,m.resumeToken);const v=X2(u,m.expectedCount);v!==null&&(f.expectedCount=v)}else if(m.snapshotVersion.compareTo(Lt.min())>0){f.readTime=Sk(u,m.snapshotVersion.toTimestamp());const v=X2(u,m.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,t);const i=W$(this.serializer,t);i&&(s.labels=i),this.Q_(s)}X_(t){const s={};s.database=tA(this.serializer),s.removeTarget=t,this.Q_(s)}}class OX extends JO{constructor(t,s,i,l,u,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,i,l,m),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,s){return this.connection.I_("Write",t,s)}J_(t){return Br(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Br(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Br(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const s=G$(t.writeResults,t.commitTime),i=$l(t.commitTime);return this.listener.ra(i,s)}ia(){const t={};t.database=tA(this.serializer),this.Q_(t)}ta(t){const s={streamToken:this.lastStreamToken,writes:t.map(i=>U$(this.serializer,i))};this.Q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{}class LX extends BX{constructor(t,s,i,l){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=i,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ht(We.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,s,i,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.zo(t,Z2(s,i),l,u,m)).catch(u=>{throw u.name==="FirebaseError"?(u.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(We.UNKNOWN,u.toString())})}Yo(t,s,i,l,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,f])=>this.connection.Yo(t,Z2(s,i),l,m,f,u)).catch(m=>{throw m.name==="FirebaseError"?(m.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ht(We.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zX{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(gd(s),this.ua=!1):dt("OnlineStateTracker",s)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RemoteStore";class FX{constructor(t,s,i,l,u){this.localStore=t,this.datastore=s,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(m=>{i.enqueueAndForget(async()=>{Zm(this)&&(dt(Ym,"Restarting streams for network reachability change."),await async function(b){const v=Ft(b);v.da.add(4),await Fx(v),v.Va.set("Unknown"),v.da.delete(4),await b1(v)}(this))})}),this.Va=new zX(i,l)}}async function b1(r){if(Zm(r))for(const t of r.Aa)await t(!0)}async function Fx(r){for(const t of r.Aa)await t(!1)}function $O(r,t){const s=Ft(r);s.Ea.has(t.targetId)||(s.Ea.set(t.targetId,t),Bj(s)?Oj(s):dg(s).N_()&&Pj(s,t))}function Rj(r,t){const s=Ft(r),i=dg(s);s.Ea.delete(t),i.N_()&&XO(s,t),s.Ea.size===0&&(i.N_()?i.k_():Zm(s)&&s.Va.set("Unknown"))}function Pj(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}dg(r).Z_(t)}function XO(r,t){r.ma.Ke(t),dg(r).X_(t)}function Oj(r){r.ma=new R$({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),dg(r).start(),r.Va.ca()}function Bj(r){return Zm(r)&&!dg(r).O_()&&r.Ea.size>0}function Zm(r){return Ft(r).da.size===0}function ZO(r){r.ma=void 0}async function VX(r){r.Va.set("Online")}async function UX(r){r.Ea.forEach((t,s)=>{Pj(r,t)})}async function GX(r,t){ZO(r),Bj(r)?(r.Va.Pa(t),Oj(r)):r.Va.set("Unknown")}async function HX(r,t,s){if(r.Va.set("Online"),t instanceof BO&&t.state===2&&t.cause)try{await async function(l,u){const m=u.cause;for(const f of u.targetIds)l.Ea.has(f)&&(await l.remoteSyncer.rejectListen(f,m),l.Ea.delete(f),l.ma.removeTarget(f))}(r,t)}catch(i){dt(Ym,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Dk(r,i)}else if(t instanceof Jw?r.ma.Xe(t):t instanceof OO?r.ma.ot(t):r.ma.nt(t),!s.isEqual(Lt.min()))try{const i=await KO(r.localStore);s.compareTo(i)>=0&&await function(u,m){const f=u.ma.It(m);return f.targetChanges.forEach((b,v)=>{if(b.resumeToken.approximateByteSize()>0){const k=u.Ea.get(v);k&&u.Ea.set(v,k.withResumeToken(b.resumeToken,m))}}),f.targetMismatches.forEach((b,v)=>{const k=u.Ea.get(b);if(!k)return;u.Ea.set(b,k.withResumeToken(Qs.EMPTY_BYTE_STRING,k.snapshotVersion)),XO(u,b);const C=new Pu(k.target,b,v,k.sequenceNumber);Pj(u,C)}),u.remoteSyncer.applyRemoteEvent(f)}(r,s)}catch(i){dt(Ym,"Failed to raise snapshot:",i),await Dk(r,i)}}async function Dk(r,t,s){if(!cg(t))throw t;r.da.add(1),await Fx(r),r.Va.set("Offline"),s||(s=()=>KO(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{dt(Ym,"Retrying IndexedDB access"),await s(),r.da.delete(1),await b1(r)})}function e9(r,t){return t().catch(s=>Dk(r,s,t))}async function y1(r){const t=Ft(r),s=Yu(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:xj;for(;qX(t);)try{const l=await jX(t.localStore,i);if(l===null){t.Ia.length===0&&s.k_();break}i=l.batchId,YX(t,l)}catch(l){await Dk(t,l)}t9(t)&&r9(t)}function qX(r){return Zm(r)&&r.Ia.length<10}function YX(r,t){r.Ia.push(t);const s=Yu(r);s.N_()&&s.ea&&s.ta(t.mutations)}function t9(r){return Zm(r)&&!Yu(r).O_()&&r.Ia.length>0}function r9(r){Yu(r).start()}async function WX(r){Yu(r).ia()}async function KX(r){const t=Yu(r);for(const s of r.Ia)t.ta(s.mutations)}async function QX(r,t,s){const i=r.Ia.shift(),l=Nj.from(i,t,s);await e9(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await y1(r)}async function JX(r,t){t&&Yu(r).ea&&await async function(i,l){if(function(m){return T$(m)&&m!==We.ABORTED}(l.code)){const u=i.Ia.shift();Yu(i).L_(),await e9(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await y1(i)}}(r,t),t9(r)&&r9(r)}async function DT(r,t){const s=Ft(r);s.asyncQueue.verifyOperationInProgress(),dt(Ym,"RemoteStore received new credentials");const i=Zm(s);s.da.add(3),await Fx(s),i&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.da.delete(3),await b1(s)}async function $X(r,t){const s=Ft(r);t?(s.da.delete(2),await b1(s)):t||(s.da.add(2),await Fx(s),s.Va.set("Unknown"))}function dg(r){return r.fa||(r.fa=function(s,i,l){const u=Ft(s);return u.oa(),new PX(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{e_:VX.bind(null,r),n_:UX.bind(null,r),i_:GX.bind(null,r),Y_:HX.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Bj(r)?Oj(r):r.Va.set("Unknown")):(await r.fa.stop(),ZO(r))})),r.fa}function Yu(r){return r.ga||(r.ga=function(s,i,l){const u=Ft(s);return u.oa(),new OX(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:WX.bind(null,r),i_:JX.bind(null,r),na:KX.bind(null,r),ra:QX.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await y1(r)):(await r.ga.stop(),r.Ia.length>0&&(dt(Ym,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(t,s,i,l,u){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new ld,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,s,i,l,u){const m=Date.now()+i,f=new Lj(t,s,m,l,u);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(We.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zj(r,t){if(gd("AsyncQueue",`${t}: ${r}`),cg(r))return new ht(We.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{static emptySet(t){return new Uf(t.comparator)}constructor(t){this.comparator=t?(s,i)=>t(s,i)||bt.comparator(s.key,i.key):(s,i)=>bt.comparator(s.key,i.key),this.keyedMap=_y(),this.sortedSet=new An(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,i)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Uf)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;s.hasNext();){const l=s.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const i=new Uf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=s,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.pa=new An(bt.comparator)}track(t){const s=t.doc.key,i=this.pa.get(s);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(s,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(s,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(s,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(s,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(s):t.type===1&&i.type===2?this.pa=this.pa.insert(s,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(s,{type:2,doc:t.doc}):Nt(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(s,t)}wa(){const t=[];return this.pa.inorderTraversal((s,i)=>{t.push(i)}),t}}class Jf{constructor(t,s,i,l,u,m,f,b,v){this.query=t,this.docs=s,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=f,this.excludesMetadataChanges=b,this.hasCachedResults=v}static fromInitialDocuments(t,s,i,l,u){const m=[];return s.forEach(f=>{m.push({type:0,doc:f})}),new Jf(t,s,Uf.emptySet(s),m,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&u1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,i=t.docChanges;if(s.length!==i.length)return!1;for(let l=0;l<s.length;l++)if(s[l].type!==i[l].type||!s[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class ZX{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,i){const l=Ft(s),u=l.queries;l.queries=TT(),u.forEach((m,f)=>{for(const b of f.Sa)b.onError(i)})})(this,new ht(We.ABORTED,"Firestore shutting down"))}}function TT(){return new Xm(r=>CO(r),u1)}async function n9(r,t){const s=Ft(r);let i=3;const l=t.query;let u=s.queries.get(l);u?!u.Da()&&t.va()&&(i=2):(u=new XX,i=t.va()?0:1);try{switch(i){case 0:u.ba=await s.onListen(l,!0);break;case 1:u.ba=await s.onListen(l,!1);break;case 2:await s.onFirstRemoteStoreListen(l)}}catch(m){const f=zj(m,`Initialization of query '${Mf(t.query)}' failed`);return void t.onError(f)}s.queries.set(l,u),u.Sa.push(t),t.Fa(s.onlineState),u.ba&&t.Ma(u.ba)&&Fj(s)}async function s9(r,t){const s=Ft(r),i=t.query;let l=3;const u=s.queries.get(i);if(u){const m=u.Sa.indexOf(t);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?l=t.va()?0:1:!u.Da()&&t.va()&&(l=2))}switch(l){case 0:return s.queries.delete(i),s.onUnlisten(i,!0);case 1:return s.queries.delete(i),s.onUnlisten(i,!1);case 2:return s.onLastRemoteStoreUnlisten(i);default:return}}function eZ(r,t){const s=Ft(r);let i=!1;for(const l of t){const u=l.query,m=s.queries.get(u);if(m){for(const f of m.Sa)f.Ma(l)&&(i=!0);m.ba=l}}i&&Fj(s)}function tZ(r,t,s){const i=Ft(r),l=i.queries.get(t);if(l)for(const u of l.Sa)u.onError(s);i.queries.delete(t)}function Fj(r){r.Ca.forEach(t=>{t.next()})}var sA,IT;(IT=sA||(sA={})).xa="default",IT.Cache="cache";class o9{constructor(t,s,i){this.query=t,this.Oa=s,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new Jf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Na?this.La(t)&&(this.Oa.next(t),s=!0):this.ka(t,this.onlineState)&&(this.qa(t),s=!0),this.Ba=t,s}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let s=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),s=!0),s}ka(t,s){if(!t.fromCache||!this.va())return!0;const i=s!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}La(t){if(t.docChanges.length>0)return!0;const s=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}qa(t){t=Jf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==sA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t){this.key=t}}class a9{constructor(t){this.key=t}}class rZ{constructor(t,s){this.query=t,this.Ha=s,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ur(),this.mutatedKeys=ur(),this.Za=_O(t),this.Xa=new Uf(this.Za)}get eu(){return this.Ha}tu(t,s){const i=s?s.nu:new MT,l=s?s.Xa:this.Xa;let u=s?s.mutatedKeys:this.mutatedKeys,m=l,f=!1;const b=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((k,C)=>{const _=l.get(k),S=h1(this.query,C)?C:null,M=!!_&&this.mutatedKeys.has(_.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;_&&S?_.data.isEqual(S.data)?M!==R&&(i.track({type:3,doc:S}),I=!0):this.ru(_,S)||(i.track({type:2,doc:S}),I=!0,(b&&this.Za(S,b)>0||v&&this.Za(S,v)<0)&&(f=!0)):!_&&S?(i.track({type:0,doc:S}),I=!0):_&&!S&&(i.track({type:1,doc:_}),I=!0,(b||v)&&(f=!0)),I&&(S?(m=m.add(S),u=R?u.add(k):u.delete(k)):(m=m.delete(k),u=u.delete(k)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const k=this.query.limitType==="F"?m.last():m.first();m=m.delete(k.key),u=u.delete(k.key),i.track({type:1,doc:k})}return{Xa:m,nu:i,Cs:f,mutatedKeys:u}}ru(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,i,l){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const m=t.nu.wa();m.sort((k,C)=>function(S,M){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:I})}};return R(S)-R(M)}(k.type,C.type)||this.Za(k.doc,C.doc)),this.iu(i),l=l!=null&&l;const f=s&&!l?this.su():[],b=this.Ya.size===0&&this.current&&!l?1:0,v=b!==this.Ja;return this.Ja=b,m.length!==0||v?{snapshot:new Jf(this.query,t.Xa,u,m,t.mutatedKeys,b===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new MT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(s=>this.Ha=this.Ha.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.Ha=this.Ha.delete(s)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ur(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const s=[];return t.forEach(i=>{this.Ya.has(i)||s.push(new a9(i))}),this.Ya.forEach(i=>{t.has(i)||s.push(new i9(i))}),s}au(t){this.Ha=t.$s,this.Ya=ur();const s=this.tu(t.documents);return this.applyChanges(s,!0)}uu(){return Jf.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Vj="SyncEngine";class nZ{constructor(t,s,i){this.query=t,this.targetId=s,this.view=i}}class sZ{constructor(t){this.key=t,this.cu=!1}}class oZ{constructor(t,s,i,l,u,m){this.localStore=t,this.remoteStore=s,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new Xm(f=>CO(f),u1),this.Pu=new Map,this.Tu=new Set,this.Iu=new An(bt.comparator),this.Eu=new Map,this.du=new Dj,this.Au={},this.Ru=new Map,this.Vu=Qf.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function iZ(r,t,s=!0){const i=m9(r);let l;const u=i.hu.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.uu()):l=await l9(i,t,s,!0),l}async function aZ(r,t){const s=m9(r);await l9(s,t,!0,!1)}async function l9(r,t,s,i){const l=await NX(r.localStore,Jl(t)),u=l.targetId,m=r.sharedClientState.addLocalQueryTarget(u,s);let f;return i&&(f=await lZ(r,t,u,m==="current",l.resumeToken)),r.isPrimaryClient&&s&&$O(r.remoteStore,l),f}async function lZ(r,t,s,i,l){r.fu=(C,_,S)=>async function(R,I,z,V){let U=I.view.tu(z);U.Cs&&(U=await AT(R.localStore,I.query,!1).then(({documents:Q})=>I.view.tu(Q,U)));const q=V&&V.targetChanges.get(I.targetId),$=V&&V.targetMismatches.get(I.targetId)!=null,ne=I.view.applyChanges(U,R.isPrimaryClient,q,$);return PT(R,I.targetId,ne.ou),ne.snapshot}(r,C,_,S);const u=await AT(r.localStore,t,!0),m=new rZ(t,u.$s),f=m.tu(u.documents),b=zx.createSynthesizedTargetChangeForCurrentChange(s,i&&r.onlineState!=="Offline",l),v=m.applyChanges(f,r.isPrimaryClient,b);PT(r,s,v.ou);const k=new nZ(t,s,m);return r.hu.set(t,k),r.Pu.has(s)?r.Pu.get(s).push(t):r.Pu.set(s,[t]),v.snapshot}async function cZ(r,t,s){const i=Ft(r),l=i.hu.get(t),u=i.Pu.get(l.targetId);if(u.length>1)return i.Pu.set(l.targetId,u.filter(m=>!u1(m,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await rA(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),s&&Rj(i.remoteStore,l.targetId),oA(i,l.targetId)}).catch(lg)):(oA(i,l.targetId),await rA(i.localStore,l.targetId,!0))}async function dZ(r,t){const s=Ft(r),i=s.hu.get(t),l=s.Pu.get(i.targetId);s.isPrimaryClient&&l.length===1&&(s.sharedClientState.removeLocalQueryTarget(i.targetId),Rj(s.remoteStore,i.targetId))}async function uZ(r,t,s){const i=yZ(r);try{const l=await function(m,f){const b=Ft(m),v=bs.now(),k=f.reduce((S,M)=>S.add(M.key),ur());let C,_;return b.persistence.runTransaction("Locally write mutations","readwrite",S=>{let M=bd(),R=ur();return b.Bs.getEntries(S,k).next(I=>{M=I,M.forEach((z,V)=>{V.isValidDocument()||(R=R.add(z))})}).next(()=>b.localDocuments.getOverlayedDocuments(S,M)).next(I=>{C=I;const z=[];for(const V of f){const U=N$(V,C.get(V.key).overlayedDocument);U!=null&&z.push(new sh(V.key,U,fO(U.value.mapValue),ea.exists(!0)))}return b.mutationQueue.addMutationBatch(S,v,z,f)}).next(I=>{_=I;const z=I.applyToLocalDocumentSet(C,R);return b.documentOverlayCache.saveOverlays(S,I.batchId,z)})}).then(()=>({batchId:_.batchId,changes:jO(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(m,f,b){let v=m.Au[m.currentUser.toKey()];v||(v=new An(er)),v=v.insert(f,b),m.Au[m.currentUser.toKey()]=v}(i,l.batchId,s),await Vx(i,l.changes),await y1(i.remoteStore)}catch(l){const u=zj(l,"Failed to persist write");s.reject(u)}}async function c9(r,t){const s=Ft(r);try{const i=await _X(s.localStore,t);t.targetChanges.forEach((l,u)=>{const m=s.Eu.get(u);m&&(Br(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.cu=!0:l.modifiedDocuments.size>0?Br(m.cu,14607):l.removedDocuments.size>0&&(Br(m.cu,42227),m.cu=!1))}),await Vx(s,i,t)}catch(i){await lg(i)}}function RT(r,t,s){const i=Ft(r);if(i.isPrimaryClient&&s===0||!i.isPrimaryClient&&s===1){const l=[];i.hu.forEach((u,m)=>{const f=m.view.Fa(t);f.snapshot&&l.push(f.snapshot)}),function(m,f){const b=Ft(m);b.onlineState=f;let v=!1;b.queries.forEach((k,C)=>{for(const _ of C.Sa)_.Fa(f)&&(v=!0)}),v&&Fj(b)}(i.eventManager,t),l.length&&i.lu.Y_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function hZ(r,t,s){const i=Ft(r);i.sharedClientState.updateQueryState(t,"rejected",s);const l=i.Eu.get(t),u=l&&l.key;if(u){let m=new An(bt.comparator);m=m.insert(u,ho.newNoDocument(u,Lt.min()));const f=ur().add(u),b=new f1(Lt.min(),new Map,new An(er),m,f);await c9(i,b),i.Iu=i.Iu.remove(u),i.Eu.delete(t),Uj(i)}else await rA(i.localStore,t,!1).then(()=>oA(i,t,s)).catch(lg)}async function mZ(r,t){const s=Ft(r),i=t.batch.batchId;try{const l=await CX(s.localStore,t);u9(s,i,null),d9(s,i),s.sharedClientState.updateMutationState(i,"acknowledged"),await Vx(s,l)}catch(l){await lg(l)}}async function pZ(r,t,s){const i=Ft(r);try{const l=await function(m,f){const b=Ft(m);return b.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let k;return b.mutationQueue.lookupMutationBatch(v,f).next(C=>(Br(C!==null,37113),k=C.keys(),b.mutationQueue.removeMutationBatch(v,C))).next(()=>b.mutationQueue.performConsistencyCheck(v)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(v,k,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,k)).next(()=>b.localDocuments.getDocuments(v,k))})}(i.localStore,t);u9(i,t,s),d9(i,t),i.sharedClientState.updateMutationState(t,"rejected",s),await Vx(i,l)}catch(l){await lg(l)}}function d9(r,t){(r.Ru.get(t)||[]).forEach(s=>{s.resolve()}),r.Ru.delete(t)}function u9(r,t,s){const i=Ft(r);let l=i.Au[i.currentUser.toKey()];if(l){const u=l.get(t);u&&(s?u.reject(s):u.resolve(),l=l.remove(t)),i.Au[i.currentUser.toKey()]=l}}function oA(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.Pu.get(t))r.hu.delete(i),s&&r.lu.gu(i,s);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(i=>{r.du.containsKey(i)||h9(r,i)})}function h9(r,t){r.Tu.delete(t.path.canonicalString());const s=r.Iu.get(t);s!==null&&(Rj(r.remoteStore,s),r.Iu=r.Iu.remove(t),r.Eu.delete(s),Uj(r))}function PT(r,t,s){for(const i of s)i instanceof i9?(r.du.addReference(i.key,t),fZ(r,i)):i instanceof a9?(dt(Vj,"Document no longer in limbo: "+i.key),r.du.removeReference(i.key,t),r.du.containsKey(i.key)||h9(r,i.key)):Nt(19791,{pu:i})}function fZ(r,t){const s=t.key,i=s.path.canonicalString();r.Iu.get(s)||r.Tu.has(i)||(dt(Vj,"New document in limbo: "+s),r.Tu.add(i),Uj(r))}function Uj(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const s=new bt(tn.fromString(t)),i=r.Vu.next();r.Eu.set(i,new sZ(s)),r.Iu=r.Iu.insert(s,i),$O(r.remoteStore,new Pu(Jl(_j(s.path)),i,"TargetPurposeLimboResolution",l1.le))}}async function Vx(r,t,s){const i=Ft(r),l=[],u=[],m=[];i.hu.isEmpty()||(i.hu.forEach((f,b)=>{m.push(i.fu(b,t,s).then(v=>{var k;if((v||s)&&i.isPrimaryClient){const C=v?!v.fromCache:(k=s==null?void 0:s.targetChanges.get(b.targetId))===null||k===void 0?void 0:k.current;i.sharedClientState.updateQueryState(b.targetId,C?"current":"not-current")}if(v){l.push(v);const C=Tj.Rs(b.targetId,v);u.push(C)}}))}),await Promise.all(m),i.lu.Y_(l),await async function(b,v){const k=Ft(b);try{await k.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Ke.forEach(v,_=>Ke.forEach(_.ds,S=>k.persistence.referenceDelegate.addReference(C,_.targetId,S)).next(()=>Ke.forEach(_.As,S=>k.persistence.referenceDelegate.removeReference(C,_.targetId,S)))))}catch(C){if(!cg(C))throw C;dt(Ij,"Failed to update sequence numbers: "+C)}for(const C of v){const _=C.targetId;if(!C.fromCache){const S=k.xs.get(_),M=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(M);k.xs=k.xs.insert(_,R)}}}(i.localStore,u))}async function gZ(r,t){const s=Ft(r);if(!s.currentUser.isEqual(t)){dt(Vj,"User change. New user:",t.toKey());const i=await WO(s.localStore,t);s.currentUser=t,function(u,m){u.Ru.forEach(f=>{f.forEach(b=>{b.reject(new ht(We.CANCELLED,m))})}),u.Ru.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Vx(s,i.ks)}}function bZ(r,t){const s=Ft(r),i=s.Eu.get(t);if(i&&i.cu)return ur().add(i.key);{let l=ur();const u=s.Pu.get(t);if(!u)return l;for(const m of u){const f=s.hu.get(m);l=l.unionWith(f.view.eu)}return l}}function m9(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=c9.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bZ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hZ.bind(null,t),t.lu.Y_=eZ.bind(null,t.eventManager),t.lu.gu=tZ.bind(null,t.eventManager),t}function yZ(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mZ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pZ.bind(null,t),t}class Mk{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=g1(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,s){return null}Cu(t,s){return null}Du(t){return kX(this.persistence,new xX,t.initialUser,this.serializer)}Su(t){return new YO(Mj.fi,this.serializer)}bu(t){return new EX}async terminate(){var t,s;(t=this.gcScheduler)===null||t===void 0||t.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mk.provider={build:()=>new Mk};class xZ extends Mk{constructor(t){super(),this.cacheSizeBytes=t}vu(t,s){Br(this.persistence.referenceDelegate instanceof Ek,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sX(i,t.asyncQueue,s)}Su(t){const s=this.cacheSizeBytes!==void 0?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new YO(i=>Ek.fi(i,s),this.serializer)}}class iA{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gZ.bind(null,this.syncEngine),await $X(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZX}()}createDatastore(t){const s=g1(t.databaseInfo.databaseId),i=function(u){return new RX(u)}(t.databaseInfo);return function(u,m,f,b){return new LX(u,m,f,b)}(t.authCredentials,t.appCheckCredentials,i,s)}createRemoteStore(t){return function(i,l,u,m,f){return new FX(i,l,u,m,f)}(this.localStore,this.datastore,t.asyncQueue,s=>RT(this.syncEngine,s,0),function(){return ST.C()?new ST:new DX}())}createSyncEngine(t,s){return function(l,u,m,f,b,v,k){const C=new oZ(l,u,m,f,b,v);return k&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await async function(l){const u=Ft(l);dt(Ym,"RemoteStore shutting down."),u.da.add(5),await Fx(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}iA.provider={build:()=>new iA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):gd("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,s){setTimeout(()=>{this.muted||t(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="FirestoreClient";class vZ{constructor(t,s,i,l,u){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=i,this.databaseInfo=l,this.user=uo.UNAUTHENTICATED,this.clientId=oO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async m=>{dt(Wu,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(i,m=>(dt(Wu,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ld;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const i=zj(s,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function G_(r,t){r.asyncQueue.verifyOperationInProgress(),dt(Wu,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let i=s.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await WO(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function OT(r,t){r.asyncQueue.verifyOperationInProgress();const s=await wZ(r);dt(Wu,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener(i=>DT(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>DT(t.remoteStore,l)),r._onlineComponents=t}async function wZ(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(Wu,"Using user provided OfflineComponentProvider");try{await G_(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!function(l){return l.name==="FirebaseError"?l.code===We.FAILED_PRECONDITION||l.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s))throw s;qf("Error using user provided cache. Falling back to memory cache: "+s),await G_(r,new Mk)}}else dt(Wu,"Using default OfflineComponentProvider"),await G_(r,new xZ(void 0));return r._offlineComponents}async function f9(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(Wu,"Using user provided OnlineComponentProvider"),await OT(r,r._uninitializedComponentsProvider._online)):(dt(Wu,"Using default OnlineComponentProvider"),await OT(r,new iA))),r._onlineComponents}function kZ(r){return f9(r).then(t=>t.syncEngine)}async function g9(r){const t=await f9(r),s=t.eventManager;return s.onListen=iZ.bind(null,t.syncEngine),s.onUnlisten=cZ.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=aZ.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=dZ.bind(null,t.syncEngine),s}function CZ(r,t,s={}){const i=new ld;return r.asyncQueue.enqueueAndForget(async()=>function(u,m,f,b,v){const k=new p9({next:_=>{k.xu(),m.enqueueAndForget(()=>s9(u,C));const S=_.docs.has(f);!S&&_.fromCache?v.reject(new ht(We.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&b&&b.source==="server"?v.reject(new ht(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:_=>v.reject(_)}),C=new o9(_j(f.path),k,{includeMetadataChanges:!0,Qa:!0});return n9(u,C)}(await g9(r),r.asyncQueue,t,s,i)),i.promise}function _Z(r,t,s={}){const i=new ld;return r.asyncQueue.enqueueAndForget(async()=>function(u,m,f,b,v){const k=new p9({next:_=>{k.xu(),m.enqueueAndForget(()=>s9(u,C)),_.fromCache&&b.source==="server"?v.reject(new ht(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:_=>v.reject(_)}),C=new o9(f,k,{includeMetadataChanges:!0,Qa:!0});return n9(u,C)}(await g9(r),r.asyncQueue,t,s,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(r,t,s){if(!s)throw new ht(We.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function AZ(r,t,s,i){if(t===!0&&i===!0)throw new ht(We.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function LT(r){if(!bt.isDocumentKey(r))throw new ht(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zT(r){if(bt.isDocumentKey(r))throw new ht(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function x1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Nt(12329,{type:typeof r})}function Za(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=x1(r);throw new ht(We.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}function jZ(r,t){if(t<=0)throw new ht(We.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="firestore.googleapis.com",FT=!0;class VT{constructor(t){var s,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x9,this.ssl=FT}else this.host=t.host,this.ssl=(s=t.ssl)!==null&&s!==void 0?s:FT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rX)throw new ht(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AZ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b9((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(We.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(We.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(We.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class v1{constructor(t,s,i,l){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IJ;switch(i.type){case"firstParty":return new BJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const i=BT.get(s);i&&(dt("ComponentProvider","Removing Datastore"),BT.delete(s),i.terminate())}(this),Promise.resolve()}}function NZ(r,t,s,i={}){var l;r=Za(r,v1);const u=Jm(t),m=r._getSettings(),f=Object.assign(Object.assign({},m),{emulatorOptions:r._getEmulatorOptions()}),b=`${t}:${s}`;u&&(rj(`https://${b}`),nj("Firestore",!0)),m.host!==x9&&m.host!==b&&qf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},m),{host:b,ssl:u,emulatorOptions:i});if(!Vm(v,f)&&(r._setSettings(v),i.mockUserToken)){let k,C;if(typeof i.mockUserToken=="string")k=i.mockUserToken,C=uo.MOCK_USER;else{k=uP(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ht(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new uo(_)}r._authCredentials=new RJ(new nO(k,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,s,i){this.converter=s,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ep(this.firestore,t,this._query)}}class Do{constructor(t,s,i){this.converter=s,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Do(this.firestore,t,this._key)}}class zu extends ep{constructor(t,s,i){super(t,s,_j(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Do(this.firestore,null,new bt(t))}withConverter(t){return new zu(this.firestore,t,this._path)}}function aA(r,t,...s){if(r=Ms(r),y9("collection","path",t),r instanceof v1){const i=tn.fromString(t,...s);return zT(i),new zu(r,null,i)}{if(!(r instanceof Do||r instanceof zu))throw new ht(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(tn.fromString(t,...s));return zT(i),new zu(r.firestore,null,i)}}function Gf(r,t,...s){if(r=Ms(r),arguments.length===1&&(t=oO.newId()),y9("doc","path",t),r instanceof v1){const i=tn.fromString(t,...s);return LT(i),new Do(r,null,new bt(i))}{if(!(r instanceof Do||r instanceof zu))throw new ht(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(tn.fromString(t,...s));return LT(i),new Do(r.firestore,r instanceof zu?r.converter:null,new bt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="AsyncQueue";class GT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new QO(this,"async_queue_retry"),this.rc=()=>{const i=U_();i&&dt(UT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const s=U_();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const s=U_();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const s=new ld;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!cg(t))throw t;dt(UT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const s=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,gd("INTERNAL UNHANDLED ERROR: ",HT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=s,s}enqueueAfterDelay(t,s,i){this.oc(),this.nc.indexOf(t)>-1&&(s=0);const l=Lj.createAndSchedule(this,t,s,i,u=>this.uc(u));return this.Zu.push(l),l}oc(){this.Xu&&Nt(47125,{cc:HT(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const s of this.Zu)if(s.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((s,i)=>s.targetTimeMs-i.targetTimeMs);for(const s of this.Zu)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const s=this.Zu.indexOf(t);this.Zu.splice(s,1)}}function HT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class tp extends v1{constructor(t,s,i,l){super(t,s,i,l),this.type="firestore",this._queue=new GT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new GT(t),this._firestoreClient=void 0,await t}}}function SZ(r,t){const s=typeof r=="object"?r:ij(),i=typeof r=="string"?r:wk,l=s1(s,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=lP("firestore");u&&NZ(l,...u)}return l}function Gj(r){if(r._terminated)throw new ht(We.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EZ(r),r._firestoreClient}function EZ(r){var t,s,i;const l=r._freezeSettings(),u=function(f,b,v,k){return new XJ(f,b,v,k.host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,b9(k.experimentalLongPollingOptions),k.useFetchStreams,k.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((s=l.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new vZ(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const b=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(b),_online:b}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $f(Qs.fromBase64String(t))}catch(s){throw new ht(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new $f(Qs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new ht(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ws(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new ht(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new ht(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return er(this._lat,t._lat)||er(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(t){this._values=(t||[]).map(s=>s)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=/^__.*__$/;class MZ{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return this.fieldMask!==null?new sh(t,this.data,this.fieldMask,s,this.fieldTransforms):new Lx(t,this.data,s,this.fieldTransforms)}}class v9{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return new sh(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function w9(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ic:r})}}class Wj{constructor(t,s,i,l,u,m){this.settings=t,this.databaseId=s,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Wj(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var s;const i=(s=this.path)===null||s===void 0?void 0:s.child(t),l=this.dc({path:i,Rc:!1});return l.Vc(t),l}mc(t){var s;const i=(s=this.path)===null||s===void 0?void 0:s.child(t),l=this.dc({path:i,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Tk(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(s=>t.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>t.isPrefixOf(s.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(w9(this.Ic)&&DZ.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class TZ{constructor(t,s,i){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=i||g1(t)}bc(t,s,i,l=!1){return new Wj({Ic:t,methodName:s,wc:i,path:Ws.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k1(r){const t=r._freezeSettings(),s=g1(r._databaseId);return new TZ(r._databaseId,!!t.ignoreUndefinedProperties,s)}function k9(r,t,s,i,l,u={}){const m=r.bc(u.merge||u.mergeFields?2:0,t,s,l);Kj("Data must be an object, but it was:",m,i);const f=C9(i,m);let b,v;if(u.merge)b=new Si(m.fieldMask),v=m.fieldTransforms;else if(u.mergeFields){const k=[];for(const C of u.mergeFields){const _=lA(t,C,s);if(!m.contains(_))throw new ht(We.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);A9(k,_)||k.push(_)}b=new Si(k),v=m.fieldTransforms.filter(C=>b.covers(C.field))}else b=null,v=m.fieldTransforms;return new MZ(new Xo(f),b,v)}class C1 extends Hj{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof C1}}function IZ(r,t,s,i){const l=r.bc(1,t,s);Kj("Data must be an object, but it was:",l,i);const u=[],m=Xo.empty();nh(i,(b,v)=>{const k=Qj(t,b,s);v=Ms(v);const C=l.mc(k);if(v instanceof C1)u.push(k);else{const _=Ux(v,C);_!=null&&(u.push(k),m.set(k,_))}});const f=new Si(u);return new v9(m,f,l.fieldTransforms)}function RZ(r,t,s,i,l,u){const m=r.bc(1,t,s),f=[lA(t,i,s)],b=[l];if(u.length%2!=0)throw new ht(We.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)f.push(lA(t,u[_])),b.push(u[_+1]);const v=[],k=Xo.empty();for(let _=f.length-1;_>=0;--_)if(!A9(v,f[_])){const S=f[_];let M=b[_];M=Ms(M);const R=m.mc(S);if(M instanceof C1)v.push(S);else{const I=Ux(M,R);I!=null&&(v.push(S),k.set(S,I))}}const C=new Si(v);return new v9(k,C,m.fieldTransforms)}function PZ(r,t,s,i=!1){return Ux(s,r.bc(i?4:3,t))}function Ux(r,t){if(_9(r=Ms(r)))return Kj("Unsupported field value:",t,r),C9(r,t);if(r instanceof Hj)return function(i,l){if(!w9(l.Ic))throw l.gc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,l){const u=[];let m=0;for(const f of i){let b=Ux(f,l.fc(m));b==null&&(b={nullValue:"NULL_VALUE"}),u.push(b),m++}return{arrayValue:{values:u}}}(r,t)}return function(i,l){if((i=Ms(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w$(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=bs.fromDate(i);return{timestampValue:Sk(l.serializer,u)}}if(i instanceof bs){const u=new bs(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sk(l.serializer,u)}}if(i instanceof qj)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $f)return{bytesValue:LO(l.serializer,i._byteString)};if(i instanceof Do){const u=l.databaseId,m=i.firestore._databaseId;if(!m.isEqual(u))throw l.gc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ej(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Yj)return function(m,f){return{mapValue:{fields:{[mO]:{stringValue:pO},[kk]:{arrayValue:{values:m.toArray().map(v=>{if(typeof v!="number")throw f.gc("VectorValues must only contain numeric values.");return Aj(f.serializer,v)})}}}}}}(i,l);throw l.gc(`Unsupported field value: ${x1(i)}`)}(r,t)}function C9(r,t){const s={};return aO(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nh(r,(i,l)=>{const u=Ux(l,t.Ac(i));u!=null&&(s[i]=u)}),{mapValue:{fields:s}}}function _9(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bs||r instanceof qj||r instanceof $f||r instanceof Do||r instanceof Hj||r instanceof Yj)}function Kj(r,t,s){if(!_9(s)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(s)){const i=x1(s);throw i==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+i)}}function lA(r,t,s){if((t=Ms(t))instanceof w1)return t._internalPath;if(typeof t=="string")return Qj(r,t);throw Tk("Field path arguments must be of type string or ",r,!1,void 0,s)}const OZ=new RegExp("[~\\*/\\[\\]]");function Qj(r,t,s){if(t.search(OZ)>=0)throw Tk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new w1(...t.split("."))._internalPath}catch{throw Tk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function Tk(r,t,s,i,l){const u=i&&!i.isEmpty(),m=l!==void 0;let f=`Function ${t}() called with invalid data`;s&&(f+=" (via `toFirestore()`)"),f+=". ";let b="";return(u||m)&&(b+=" (found",u&&(b+=` in field ${i}`),m&&(b+=` in document ${l}`),b+=")"),new ht(We.INVALID_ARGUMENT,f+r+b)}function A9(r,t){return r.some(s=>s.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(t,s,i,l,u){this._firestore=t,this._userDataWriter=s,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Do(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(Jj("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class BZ extends j9{data(){return super.data()}}function Jj(r,t){return typeof t=="string"?Qj(r,t):t instanceof w1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $j{}class N9 extends $j{}function H_(r,t,...s){let i=[];t instanceof $j&&i.push(t),i=i.concat(s),function(u){const m=u.filter(b=>b instanceof Xj).length,f=u.filter(b=>b instanceof _1).length;if(m>1||m>0&&f>0)throw new ht(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class _1 extends N9{constructor(t,s,i){super(),this._field=t,this._op=s,this._value=i,this.type="where"}static _create(t,s,i){return new _1(t,s,i)}_apply(t){const s=this._parse(t);return S9(t._query,s),new ep(t.firestore,t.converter,$2(t._query,s))}_parse(t){const s=k1(t.firestore);return function(u,m,f,b,v,k,C){let _;if(v.isKeyField()){if(k==="array-contains"||k==="array-contains-any")throw new ht(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if(k==="in"||k==="not-in"){WT(C,k);const M=[];for(const R of C)M.push(YT(b,u,R));_={arrayValue:{values:M}}}else _=YT(b,u,C)}else k!=="in"&&k!=="not-in"&&k!=="array-contains-any"||WT(C,k),_=PZ(f,m,C,k==="in"||k==="not-in");return rs.create(v,k,_)}(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}function qT(r,t,s){const i=t,l=Jj("where",r);return _1._create(l,i,s)}class Xj extends $j{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new Xj(t,s)}_parse(t){const s=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return s.length===1?s[0]:Xa.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:(function(l,u){let m=l;const f=u.getFlattenedFilters();for(const b of f)S9(m,b),m=$2(m,b)}(t._query,s),new ep(t.firestore,t.converter,$2(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zj extends N9{constructor(t,s,i){super(),this.type=t,this._limit=s,this._limitType=i}static _create(t,s,i){return new Zj(t,s,i)}_apply(t){return new ep(t.firestore,t.converter,Ak(t._query,this._limit,this._limitType))}}function zZ(r){return jZ("limit",r),Zj._create("limit",r,"F")}function YT(r,t,s){if(typeof(s=Ms(s))=="string"){if(s==="")throw new ht(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kO(t)&&s.indexOf("/")!==-1)throw new ht(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const i=t.path.child(tn.fromString(s));if(!bt.isDocumentKey(i))throw new ht(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return iT(r,new bt(i))}if(s instanceof Do)return iT(r,s._key);throw new ht(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x1(s)}.`)}function WT(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function S9(r,t){const s=function(l,u){for(const m of l)for(const f of m.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(s!==null)throw s===t.op?new ht(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}class FZ{convertValue(t,s="none"){switch(qu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Hu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const i={};return nh(t,(l,u)=>{i[l]=this.convertValue(u,s)}),i}convertVectorValue(t){var s,i,l;const u=(l=(i=(s=t.fields)===null||s===void 0?void 0:s[kk].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(m=>qn(m.doubleValue));return new Yj(u)}convertGeoPoint(t){return new qj(qn(t.latitude),qn(t.longitude))}convertArray(t,s){return(t.values||[]).map(i=>this.convertValue(i,s))}convertServerTimestamp(t,s){switch(s){case"previous":const i=d1(t);return i==null?null:this.convertValue(i,s);case"estimate":return this.convertTimestamp(nx(t));default:return null}}convertTimestamp(t){const s=Gu(t);return new bs(s.seconds,s.nanos)}convertDocumentKey(t,s){const i=tn.fromString(t);Br(HO(i),9688,{name:t});const l=new sx(i.get(1),i.get(3)),u=new bt(i.popFirst(5));return l.isEqual(s)||gd(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(r,t,s){let i;return i=r?r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class D9 extends j9{constructor(t,s,i,l,u,m){super(t,s,i,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new $w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const i=this._document.data.field(Jj("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,s.serverTimestamps)}}}class $w extends D9{data(t={}){return super.data(t)}}class VZ{constructor(t,s,i,l){this._firestore=t,this._userDataWriter=s,this._snapshot=l,this.metadata=new jy(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach(i=>{t.call(s,new $w(this._firestore,this._userDataWriter,i.key,i,new jy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ht(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(f=>{const b=new $w(l._firestore,l._userDataWriter,f.doc.key,f.doc,new jy(l._snapshot.mutatedKeys.has(f.doc.key),l._snapshot.fromCache),l.query.converter);return f.doc,{type:"added",doc:b,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const b=new $w(l._firestore,l._userDataWriter,f.doc.key,f.doc,new jy(l._snapshot.mutatedKeys.has(f.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,k=-1;return f.type!==0&&(v=m.indexOf(f.doc.key),m=m.delete(f.doc.key)),f.type!==1&&(m=m.add(f.doc),k=m.indexOf(f.doc.key)),{type:UZ(f.type),doc:b,oldIndex:v,newIndex:k}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function UZ(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(r){r=Za(r,Do);const t=Za(r.firestore,tp);return CZ(Gj(t),r._key).then(s=>WZ(t,r,s))}class M9 extends FZ{constructor(t){super(),this.firestore=t}convertBytes(t){return new $f(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new Do(this.firestore,null,s)}}function T9(r){r=Za(r,ep);const t=Za(r.firestore,tp),s=Gj(t),i=new M9(t);return LZ(r._query),_Z(s,r._query).then(l=>new VZ(t,i,r,l))}function KT(r,t,s){r=Za(r,Do);const i=Za(r.firestore,tp),l=E9(r.converter,t);return A1(i,[k9(k1(i),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,ea.none())])}function HZ(r,t,s,...i){r=Za(r,Do);const l=Za(r.firestore,tp),u=k1(l);let m;return m=typeof(t=Ms(t))=="string"||t instanceof w1?RZ(u,"updateDoc",r._key,t,s,i):IZ(u,"updateDoc",r._key,t),A1(l,[m.toMutation(r._key,ea.exists(!0))])}function qZ(r){return A1(Za(r.firestore,tp),[new jj(r._key,ea.none())])}function YZ(r,t){const s=Za(r.firestore,tp),i=Gf(r),l=E9(r.converter,t);return A1(s,[k9(k1(r.firestore),"addDoc",i._key,l,r.converter!==null,{}).toMutation(i._key,ea.exists(!1))]).then(()=>i)}function A1(r,t){return function(i,l){const u=new ld;return i.asyncQueue.enqueueAndForget(async()=>uZ(await kZ(i),l,u)),u.promise}(Gj(r),t)}function WZ(r,t,s){const i=s.docs.get(t._key),l=new M9(r);return new D9(r,l,t._key,i,new jy(s.hasPendingWrites,s.fromCache),t.converter)}(function(t,s=!0){(function(l){ag=l})($m),Um(new Vu("firestore",(i,{instanceIdentifier:l,options:u})=>{const m=i.getProvider("app").getImmediate(),f=new tp(new PJ(i.getProvider("auth-internal")),new LJ(m,i.getProvider("app-check-internal")),function(v,k){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ht(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sx(v.options.projectId,k)}(m,l),m);return u=Object.assign({useFetchStreams:s},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Kl(KM,QM,t),Kl(KM,QM,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="firebasestorage.googleapis.com",KZ="storageBucket",QZ=2*60*1e3,JZ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends oc{constructor(t,s,i=0){super(q_(t),`Firebase Storage: ${s} (${q_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ic.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return q_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rc;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rc||(rc={}));function q_(r){return"storage/"+r}function $Z(){const r="An unknown error occurred, please check the error payload for server response.";return new ic(rc.UNKNOWN,r)}function XZ(){return new ic(rc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZZ(){return new ic(rc.CANCELED,"User canceled the upload/download.")}function eee(r){return new ic(rc.INVALID_URL,"Invalid URL '"+r+"'.")}function tee(r){return new ic(rc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function QT(r){return new ic(rc.INVALID_ARGUMENT,r)}function R9(){return new ic(rc.APP_DELETED,"The Firebase app was deleted.")}function ree(r){return new ic(rc.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let i;try{i=Qa.makeFromUrl(t,s)}catch{return new Qa(t,"")}if(i.path==="")return i;throw tee(t)}static makeFromUrl(t,s){let i=null;const l="([A-Za-z0-9.\\-_]+)";function u(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const m="(/(.*))?$",f=new RegExp("^gs://"+l+m,"i"),b={bucket:1,path:3};function v(q){q.path_=decodeURIComponent(q.path)}const k="v[A-Za-z0-9_]+",C=s.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${C}/${k}/b/${l}/o${_}`,"i"),M={bucket:1,path:3},R=s===I9?"(?:storage.googleapis.com|storage.cloud.google.com)":s,I="([^?#]*)",z=new RegExp(`^https?://${R}/${l}/${I}`,"i"),U=[{regex:f,indices:b,postModify:u},{regex:S,indices:M,postModify:v},{regex:z,indices:{bucket:1,path:2},postModify:v}];for(let q=0;q<U.length;q++){const $=U[q],ne=$.regex.exec(t);if(ne){const Q=ne[$.indices.bucket];let B=ne[$.indices.path];B||(B=""),i=new Qa(Q,B),$.postModify(i);break}}if(i==null)throw eee(t);return i}}class nee{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(r,t,s){let i=1,l=null,u=null,m=!1,f=0;function b(){return f===2}let v=!1;function k(...I){v||(v=!0,t.apply(null,I))}function C(I){l=setTimeout(()=>{l=null,r(S,b())},I)}function _(){u&&clearTimeout(u)}function S(I,...z){if(v){_();return}if(I){_(),k.call(null,I,...z);return}if(b()||m){_(),k.call(null,I,...z);return}i<64&&(i*=2);let U;f===1?(f=2,U=0):U=(i+Math.random())*1e3,C(U)}let M=!1;function R(I){M||(M=!0,_(),!v&&(l!==null?(I||(f=2),clearTimeout(l),C(0)):I||(f=1)))}return C(0),u=setTimeout(()=>{m=!0,R(!0)},s),R}function oee(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(r){return r!==void 0}function JT(r,t,s,i){if(i<t)throw QT(`Invalid value for '${r}'. Expected ${t} or greater.`);if(i>s)throw QT(`Invalid value for '${r}'. Expected ${s} or less.`)}function aee(r){const t=encodeURIComponent;let s="?";for(const i in r)if(r.hasOwnProperty(i)){const l=t(i)+"="+t(r[i]);s=s+l+"&"}return s=s.slice(0,-1),s}var Ik;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ik||(Ik={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(r,t){const s=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return s||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(t,s,i,l,u,m,f,b,v,k,C,_=!0,S=!1){this.url_=t,this.method_=s,this.headers_=i,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=m,this.callback_=f,this.errorCallback_=b,this.timeout_=v,this.progressCallback_=k,this.connectionFactory_=C,this.retry=_,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,R)=>{this.resolve_=M,this.reject_=R,this.start_()})}start_(){const t=(i,l)=>{if(l){i(!1,new Cw(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const m=f=>{const b=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(b,v)};this.progressCallback_!==null&&u.addUploadProgressListener(m),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(m),this.pendingConnection_=null;const f=u.getErrorCode()===Ik.NO_ERROR,b=u.getStatus();if(!f||lee(b,this.additionalRetryCodes_)&&this.retry){const k=u.getErrorCode()===Ik.ABORT;i(!1,new Cw(!1,null,k));return}const v=this.successCodes_.indexOf(b)!==-1;i(!0,new Cw(v,u))})},s=(i,l)=>{const u=this.resolve_,m=this.reject_,f=l.connection;if(l.wasSuccessCode)try{const b=this.callback_(f,f.getResponse());iee(b)?u(b):u()}catch(b){m(b)}else if(f!==null){const b=$Z();b.serverResponse=f.getErrorText(),this.errorCallback_?m(this.errorCallback_(f,b)):m(b)}else if(l.canceled){const b=this.appDelete_?R9():ZZ();m(b)}else{const b=XZ();m(b)}};this.canceled_?s(!1,new Cw(!1,null,!0)):this.backoffId_=see(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&oee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cw{constructor(t,s,i){this.wasSuccessCode=t,this.connection=s,this.canceled=!!i}}function dee(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function uee(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hee(r,t){t&&(r["X-Firebase-GMPID"]=t)}function mee(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function pee(r,t,s,i,l,u,m=!0,f=!1){const b=aee(r.urlParams),v=r.url+b,k=Object.assign({},r.headers);return hee(k,t),dee(k,s),uee(k,u),mee(k,i),new cee(v,r.method,k,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,m,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function gee(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,s){this._service=t,s instanceof Qa?this._location=s:this._location=Qa.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new Rk(t,s)}get root(){const t=new Qa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gee(this._location.path)}get storage(){return this._service}get parent(){const t=fee(this._location.path);if(t===null)return null;const s=new Qa(this._location.bucket,t);return new Rk(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw ree(t)}}function $T(r,t){const s=t==null?void 0:t[KZ];return s==null?null:Qa.makeFromBucketSpec(s,r)}function bee(r,t,s,i={}){r.host=`${t}:${s}`;const l=Jm(t);l&&(rj(`https://${r.host}/b`),nj("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:u}=i;u&&(r._overrideAuthToken=typeof u=="string"?u:uP(u,r.app.options.projectId))}class yee{constructor(t,s,i,l,u,m=!1){this.app=t,this._authProvider=s,this._appCheckProvider=i,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=m,this._bucket=null,this._host=I9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QZ,this._maxUploadRetryTime=JZ,this._requests=new Set,l!=null?this._bucket=Qa.makeFromBucketSpec(l,this._host):this._bucket=$T(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qa.makeFromBucketSpec(this._url,t):this._bucket=$T(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){JT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){JT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rk(this,t)}_makeRequest(t,s,i,l,u=!0){if(this._deleted)return new nee(R9());{const m=pee(t,this._appId,i,l,s,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,s){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,i,l).getPromise()}}const XT="@firebase/storage",ZT="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="storage";function xee(r=ij(),t){r=Ms(r);const i=s1(r,P9).getImmediate({identifier:t}),l=lP("storage");return l&&vee(i,...l),i}function vee(r,t,s,i={}){bee(r,t,s,i)}function wee(r,{instanceIdentifier:t}){const s=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new yee(s,i,l,t,$m)}function kee(){Um(new Vu(P9,wee,"PUBLIC").setMultipleInstances(!0)),Kl(XT,ZT,""),Kl(XT,ZT,"esm2017")}kee();const Cee={apiKey:"AIzaSyDsPZsRwk4uFh7r-IN8NCzAca_mxPe67OE",authDomain:"anandmobiles-daa8b.firebaseapp.com",projectId:"anandmobiles-daa8b",storageBucket:"anandmobiles-daa8b.firebasestorage.app",messagingSenderId:"403268549781",appId:"1:403268549781:web:4aa820dddb7db1fa076f9c",measurementId:"G-PQSMJKJFFS"},eN=pP(Cee),Ny=MJ(eN),_ee=new nd,Ru=SZ(eN);xee(eN);const O9=r=>{try{const t=localStorage.getItem(r);return t?JSON.parse(t):null}catch(t){return console.error(`Error parsing stored data for key ${r}:`,t),null}},Sy=(r,t)=>{try{return localStorage.setItem(r,JSON.stringify(t)),!0}catch(s){return console.error(`Error storing data for key ${r}:`,s),!1}},Y_=(r,t)=>{try{return r&&localStorage.setItem(Fm,r),t&&Sy(rd,t),!0}catch(s){return console.error("Error persisting auth data:",s),!1}},W_=()=>{try{localStorage.removeItem(Fm),localStorage.removeItem(rd)}catch(r){console.error("Error clearing auth data:",r)}},Aee=()=>{const r=localStorage.getItem(Fm),t=O9(rd);return{user:t,isAuthenticated:!!(r&&t),isLoading:!1,error:null}},Sr=nn(r=>({...Aee(),login:async t=>{var s,i,l,u;try{r({isLoading:!0,error:null});const f=(await Jt.post("/users/login",{email:t.email,password:t.password})).data,b={uid:f.user_id,email:f.email,first_name:f.first_name,last_name:f.last_name,phone:f.phone_number||f.phone||""};return Y_(f.token,b),r({user:b,isAuthenticated:!0,isLoading:!1}),f}catch(m){throw r({error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Login failed. Please check your credentials.",isLoading:!1}),m}},signup:async t=>{var s,i,l,u;try{if(r({isLoading:!0,error:null}),t.idToken){const C=(await Jt.post("/users/signup",{idToken:t.idToken})).data,_={uid:C.user_id,email:C.email,first_name:C.first_name,last_name:C.last_name,phone:C.phone_number||""};return Y_(C.token,_),r({user:_,isAuthenticated:!0,isLoading:!1}),C}const m={email:t.email,password:t.password,first_name:t.firstName||t.first_name||"",last_name:t.lastName||t.last_name||"",phone_number:t.phone||t.phone_number||""};t.metadata&&(m.metadata=t.metadata);const b=(await Jt.post("/users/signup",m)).data,v={uid:b.user_id,email:b.email,first_name:b.first_name,last_name:b.last_name,phone:b.phone_number||m.phone_number||""};return Y_(b.token,v),r({user:v,isAuthenticated:!0,isLoading:!1}),b}catch(m){throw r({error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Signup failed. Please try again.",isLoading:!1}),m}},googleSignup:async()=>{var t,s,i,l;try{r({isLoading:!0,error:null});const f=await(await FQ(Ny,_ee)).user.getIdToken();return await Sr.getState().signup({idToken:f})}catch(u){throw r({error:((s=(t=u.response)==null?void 0:t.data)==null?void 0:s.detail)||((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Google signup failed. Please try again.",isLoading:!1}),u}},logout:()=>{W_(),r({user:null,isAuthenticated:!1,error:null,isLoading:!1})},checkAuthStatus:async()=>{try{if(r({isLoading:!0}),localStorage.getItem(Fm))try{let s=O9(rd);if(!s){const i=await Jt.get("/users/profile/");s={uid:i.data.user_id||i.data.uid,email:i.data.email,first_name:i.data.first_name,last_name:i.data.last_name,phone:i.data.phone_number||i.data.phone||""},Sy(rd,s)}return r({user:s,isAuthenticated:!0,isLoading:!1}),s}catch(s){return W_(),r({user:null,isAuthenticated:!1,isLoading:!1,error:s.message||"Session expired"}),null}else return r({user:null,isAuthenticated:!1,isLoading:!1}),null}catch(t){return W_(),r({user:null,isAuthenticated:!1,isLoading:!1,error:t.message||"Session expired"}),null}},updateUserProfile:t=>{const s=Sr.getState().user;if(!s)return;const i={...s,...t};Sy(rd,i),r({user:i})},fetchUserProfile:async()=>{var t,s;try{r({isLoading:!0,error:null});const l=(await Jt.get("/users/profile/")).data,u={uid:l.user_id||l.uid,email:l.email,first_name:l.first_name,last_name:l.last_name,phone:l.phone_number||l.phone||"",auth_provider:l.auth_provider};return Sy(rd,u),r({user:u,isLoading:!1}),u}catch(i){throw r({error:((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch profile",isLoading:!1}),i}},updateUserProfileAPI:async t=>{var s,i,l,u;try{r({isLoading:!0,error:null});const m=await Jt.post("/users/profile/update/",t),f=m.data.user,b={uid:f.user_id||((s=Sr.getState().user)==null?void 0:s.uid),email:f.email,first_name:f.first_name,last_name:f.last_name,phone:f.phone_number||f.phone||"",auth_provider:(i=Sr.getState().user)==null?void 0:i.auth_provider};return Sy(rd,b),r({user:b,isLoading:!1}),{success:!0,message:m.data.message,user:b}}catch(m){throw r({error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update profile",isLoading:!1}),m}},getToken:()=>{try{return localStorage.getItem(Fm)}catch(t){return console.error("Error getting token:",t),null}},clearError:()=>r({error:null})}));function lx(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(r)}function el(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(r)}function Pm(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function j1(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(r)}function cd(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function B9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(r)}function N1(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(r)}function jee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(r)}function Fu(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(r)}function L9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function Ku(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(r)}function ri(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function tN(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(r)}function Yn(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function Bn(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function _i(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function sa(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(r)}function wn(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function Hl(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(r)}function rn(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function Nee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(r)}function oa(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function eI(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6.13 1L6 16a2 2 0 0 0 2 2h15"},child:[]},{tag:"path",attr:{d:"M1 6.13L16 6a2 2 0 0 1 2 2v15"},child:[]}]})(r)}function Om(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function Ei(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function rp(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function cx(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(r)}function dx(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(r)}function See(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function Ti(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function Eee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(r)}function Dee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"},child:[]}]})(r)}function z9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function wd(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(r)}function rN(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(r)}function F9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(r)}function Fy(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function ug(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function nN(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function V9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(r)}function Qu(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function Mee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(r)}function Tee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(r)}function Iee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(r)}function Ree(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(r)}function Di(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(r)}function dd(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function U9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function nc(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function Cn(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function K_(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(r)}function Pee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function Oee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function G9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Bee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(r)}function Lee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(r)}function H9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(r)}function Xw(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"},child:[]},{tag:"polyline",attr:{points:"9 5 12 2 15 5"},child:[]},{tag:"polyline",attr:{points:"15 19 12 22 9 19"},child:[]},{tag:"polyline",attr:{points:"19 9 22 12 19 15"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"},child:[]}]})(r)}function zee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(r)}function wt(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(r)}function Fee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(r)}function ia(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(r)}function q9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(r)}function Zw(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(r)}function dn(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Mo(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function Vee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(r)}function Wm(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function Mi(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function Y9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(r)}function W9(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function Uee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(r)}function Pk(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function tl(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(r)}function np(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(r)}function Gee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(r)}function $r(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(r)}function tI(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(r)}function Hee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(r)}function qee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(r)}function Ai(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(r)}function ji(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(r)}function un(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function Yee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(r)}function Gx(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(r)}function Lr(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(r)}function Wee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(r)}function Ok(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(r)}function ux(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(r)}function rI(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(r)}function S1(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(r)}function Ds(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function yd(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function Hx(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(r)}function Yt(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function Kee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(r)}function Qee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(r)}function Jee(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(r)}function K9(r){return Oe({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}const $ee=()=>{const r=ns(),{signup:t,googleSignup:s,error:i,clearError:l,isLoading:u}=Sr(),[m,f]=O.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[b,v]=O.useState({}),[k,C]=O.useState({}),_=V=>{const{name:U,value:q}=V.target;f($=>({...$,[U]:q})),b[U]&&v($=>({...$,[U]:""})),i&&l()},S=()=>{const V={};return m.firstName.trim()||(V.firstName="First name is required"),m.lastName.trim()||(V.lastName="Last name is required"),m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required",m.password?m.password.length<6&&(V.password="Password must be at least 6 characters long"):V.password="Password is required",m.password!==m.confirmPassword&&(V.confirmPassword="Passwords do not match"),m.phone.trim()?/^\d{10}$/.test(m.phone)||(V.phone="Invalid phone number"):V.phone="Phone number is required",v(V),Object.keys(V).length===0},M=O.useCallback(()=>{const V={};k.firstName&&!m.firstName.trim()&&(V.firstName="First name is required"),k.lastName&&!m.lastName.trim()&&(V.lastName="Last name is required"),k.email&&(m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required"),k.password&&(m.password?m.password.length<6&&(V.password="Password must be at least 6 characters long"):V.password="Password is required"),k.confirmPassword&&m.password!==m.confirmPassword&&(V.confirmPassword="Passwords do not match"),k.phone&&(m.phone.trim()?/^\d{10}$/.test(m.phone)||(V.phone="Invalid phone number"):V.phone="Phone number is required"),v(V)},[m,k]);O.useEffect(()=>{M()},[m,k,M]);const R=V=>{const{name:U}=V.target;C(q=>({...q,[U]:!0}))},I=async V=>{if(V.preventDefault(),!!S())try{const U={email:m.email,password:m.password,first_name:m.firstName,last_name:m.lastName,phone_number:m.phone},q=await t(U);console.log("Signup successful:",q),r("/")}catch(U){console.error("Signup error:",U)}},z=async()=>{try{const V=await s();console.log("Google signup successful:",V),r("/")}catch(V){console.error("Google signup error:",V)}};return n.jsxs(Qm,{title:"Join Anand Mobiles",titleColor:"var(--brand-primary)",children:[n.jsx("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Create an account to enjoy a personalized shopping experience"}),n.jsxs("form",{className:"mt-7 space-y-5",onSubmit:I,children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mr-12 -mt-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 -ml-12 -mb-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-secondary)"}}),n.jsxs("div",{className:"space-y-4 relative z-10",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(qr,{label:"First Name",name:"firstName",value:m.firstName,onChange:_,onBlur:R,required:!0,error:b.firstName,placeholder:"John",icon:n.jsx(Ds,{})}),n.jsx(qr,{label:"Last Name",name:"lastName",value:m.lastName,onChange:_,onBlur:R,required:!0,error:b.lastName,placeholder:"Doe",icon:n.jsx(Ds,{})})]}),n.jsx(qr,{label:"Email Address",type:"email",name:"email",value:m.email,onChange:_,onBlur:R,required:!0,error:b.email,placeholder:"you@example.com",icon:n.jsx(nc,{})}),n.jsx(qr,{label:"Phone Number",type:"tel",name:"phone",value:m.phone,onChange:_,onBlur:R,required:!0,error:b.phone,placeholder:"1234567890",icon:n.jsx(ia,{})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(qr,{label:"Password",type:"password",name:"password",value:m.password,onChange:_,onBlur:R,required:!0,error:b.password,placeholder:"",icon:n.jsx(dd,{})}),n.jsx(qr,{label:"Confirm Password",type:"password",name:"confirmPassword",value:m.confirmPassword,onChange:_,onBlur:R,required:!0,error:b.confirmPassword,placeholder:"",icon:n.jsx(dd,{})})]})]}),i&&n.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)",borderRadius:"var(--rounded-md)"},children:[n.jsx(el,{className:"h-5 w-5 mr-2"}),i]}),n.jsx("div",{className:"pt-2 mt-2",children:n.jsx(st,{type:"submit",isLoading:u,variant:"primary",size:"lg",fullWidth:!0,children:u?"Creating account...":"Create account"})}),n.jsxs("div",{className:"relative my-5",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:"or continue with"})})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{type:"button",onClick:z,className:"flex items-center justify-center py-3 px-6 border rounded-md hover:shadow-md transition-all duration-300",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx(K9,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})}),n.jsxs("div",{className:"text-sm text-center mt-6",style:{color:"var(--text-secondary)"},children:["Already have an account?",n.jsx(rt,{to:"/login",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Sign in"})]}),n.jsxs("div",{className:"text-xs text-center mt-4",style:{color:"var(--text-secondary)"},children:["By creating an account, you agree to our",n.jsx("br",{}),n.jsx(rt,{to:"/terms",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Terms of Service"}),"&",n.jsx(rt,{to:"/privacy",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Privacy Policy"})]})]})]})},Xee=()=>{const r=ns(),{login:t,googleSignup:s,error:i,clearError:l,isLoading:u}=Sr(),[m,f]=O.useState({email:"",password:""}),[b,v]=O.useState({}),[k,C]=O.useState({email:!1,password:!1}),_=O.useCallback(()=>{const V={};k.email&&(m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required"),k.password&&!m.password&&(V.password="Password is required"),v(V)},[m.email,m.password,k]);O.useEffect(()=>{_()},[m,k,_]);const S=V=>{const{name:U,value:q}=V.target;f($=>({...$,[U]:q})),b[U]&&v($=>({...$,[U]:""})),i&&l()},M=V=>{const{name:U}=V.target;C(q=>({...q,[U]:!0}))},R=()=>{const V={};return m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required",m.password||(V.password="Password is required"),v(V),Object.keys(V).length===0},I=async V=>{if(V.preventDefault(),!!R())try{const U=await t({email:m.email,password:m.password});console.log("Login successful:",U),r("/")}catch(U){console.error("Login error:",U)}},z=async()=>{try{const V=await s();console.log("Google login successful:",V),r("/")}catch(V){console.error("Google login error:",V)}};return n.jsxs(Qm,{title:"Welcome back",titleColor:"var(--brand-primary)",children:[n.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Sign in to access your account, track orders, and explore our latest products"}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"bg-white rounded-lg p-6",style:{boxShadow:"var(--shadow-small)",borderRadius:"var(--rounded-lg)"},children:n.jsxs("form",{className:"space-y-6",onSubmit:I,children:[n.jsxs("div",{className:"space-y-5",children:[n.jsx(qr,{label:"Email Address",type:"email",name:"email",value:m.email,onChange:S,onBlur:M,required:!0,error:b.email,placeholder:"you@example.com",icon:n.jsx(nc,{})}),n.jsx(qr,{label:"Password",type:"password",name:"password",value:m.password,onChange:S,onBlur:M,required:!0,error:b.password,placeholder:"",icon:n.jsx(dd,{})})]}),i&&n.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:[n.jsx(el,{className:"h-5 w-5 mr-2"}),i]}),n.jsx("div",{className:"pt-2",children:n.jsx(st,{type:"submit",isLoading:u,variant:"primary",size:"lg",fullWidth:!0,children:u?"Signing in...":"Sign in"})})]})}),n.jsxs("div",{className:"relative my-8",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white rounded",style:{color:"var(--text-secondary)"},children:"or continue with"})})]}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("button",{type:"button",onClick:z,className:"flex justify-center items-center py-3 px-6 border rounded-md shadow-sm text-sm font-medium transition-colors duration-200",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx(K9,{className:"h-5 w-5 mr-2"}),"Google"]})}),n.jsxs("div",{className:"text-sm text-center mt-8 pb-4",children:["Don't have an account ? ",n.jsx("br",{}),n.jsx(rt,{to:"/signup",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Create an account"})]})]})]})},sN=O.createContext({});function oN(r){const t=O.useRef(null);return t.current===null&&(t.current=r()),t.current}const iN=typeof window<"u",Q9=iN?O.useLayoutEffect:O.useEffect,E1=O.createContext(null);function aN(r,t){r.indexOf(t)===-1&&r.push(t)}function lN(r,t){const s=r.indexOf(t);s>-1&&r.splice(s,1)}const xd=(r,t,s)=>s>t?t:s<r?r:s;let cN=()=>{};const vd={},J9=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function $9(r){return typeof r=="object"&&r!==null}const X9=r=>/^0[^.\s]+$/u.test(r);function dN(r){let t;return()=>(t===void 0&&(t=r()),t)}const ta=r=>r,Zee=(r,t)=>s=>t(r(s)),qx=(...r)=>r.reduce(Zee),hx=(r,t,s)=>{const i=t-r;return i===0?1:(s-r)/i};class uN{constructor(){this.subscriptions=[]}add(t){return aN(this.subscriptions,t),()=>lN(this.subscriptions,t)}notify(t,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,i);else for(let u=0;u<l;u++){const m=this.subscriptions[u];m&&m(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xl=r=>r*1e3,Zl=r=>r/1e3;function Z9(r,t){return t?r*(1e3/t):0}const eB=(r,t,s)=>(((1-3*s+3*t)*r+(3*s-6*t))*r+3*t)*r,ete=1e-7,tte=12;function rte(r,t,s,i,l){let u,m,f=0;do m=t+(s-t)/2,u=eB(m,i,l)-r,u>0?s=m:t=m;while(Math.abs(u)>ete&&++f<tte);return m}function Yx(r,t,s,i){if(r===t&&s===i)return ta;const l=u=>rte(u,0,1,r,s);return u=>u===0||u===1?u:eB(l(u),t,i)}const tB=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,rB=r=>t=>1-r(1-t),nB=Yx(.33,1.53,.69,.99),hN=rB(nB),sB=tB(hN),oB=r=>(r*=2)<1?.5*hN(r):.5*(2-Math.pow(2,-10*(r-1))),mN=r=>1-Math.sin(Math.acos(r)),iB=rB(mN),aB=tB(mN),nte=Yx(.42,0,1,1),ste=Yx(0,0,.58,1),lB=Yx(.42,0,.58,1),ote=r=>Array.isArray(r)&&typeof r[0]!="number",cB=r=>Array.isArray(r)&&typeof r[0]=="number",ite={linear:ta,easeIn:nte,easeInOut:lB,easeOut:ste,circIn:mN,circInOut:aB,circOut:iB,backIn:hN,backInOut:sB,backOut:nB,anticipate:oB},ate=r=>typeof r=="string",nI=r=>{if(cB(r)){cN(r.length===4);const[t,s,i,l]=r;return Yx(t,s,i,l)}else if(ate(r))return ite[r];return r},_w=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sI={value:null};function lte(r,t){let s=new Set,i=new Set,l=!1,u=!1;const m=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},b=0;function v(C){m.has(C)&&(k.schedule(C),r()),b++,C(f)}const k={schedule:(C,_=!1,S=!1)=>{const R=S&&l?s:i;return _&&m.add(C),R.has(C)||R.add(C),C},cancel:C=>{i.delete(C),m.delete(C)},process:C=>{if(f=C,l){u=!0;return}l=!0,[s,i]=[i,s],s.forEach(v),t&&sI.value&&sI.value.frameloop[t].push(b),b=0,s.clear(),l=!1,u&&(u=!1,k.process(C))}};return k}const cte=40;function dB(r,t){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,m=_w.reduce((U,q)=>(U[q]=lte(u,t?q:void 0),U),{}),{setup:f,read:b,resolveKeyframes:v,preUpdate:k,update:C,preRender:_,render:S,postRender:M}=m,R=()=>{const U=vd.useManualTiming?l.timestamp:performance.now();s=!1,vd.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(U-l.timestamp,cte),1)),l.timestamp=U,l.isProcessing=!0,f.process(l),b.process(l),v.process(l),k.process(l),C.process(l),_.process(l),S.process(l),M.process(l),l.isProcessing=!1,s&&t&&(i=!1,r(R))},I=()=>{s=!0,i=!0,l.isProcessing||r(R)};return{schedule:_w.reduce((U,q)=>{const $=m[q];return U[q]=(ne,Q=!1,B=!1)=>(s||I(),$.schedule(ne,Q,B)),U},{}),cancel:U=>{for(let q=0;q<_w.length;q++)m[_w[q]].cancel(U)},state:l,steps:m}}const{schedule:_n,cancel:Ju,state:qs,steps:Q_}=dB(typeof requestAnimationFrame<"u"?requestAnimationFrame:ta,!0);let ek;function dte(){ek=void 0}const Zo={now:()=>(ek===void 0&&Zo.set(qs.isProcessing||vd.useManualTiming?qs.timestamp:performance.now()),ek),set:r=>{ek=r,queueMicrotask(dte)}},uB=r=>t=>typeof t=="string"&&t.startsWith(r),pN=uB("--"),ute=uB("var(--"),fN=r=>ute(r)?hte.test(r.split("/*")[0].trim()):!1,hte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hg={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},mx={...hg,transform:r=>xd(0,1,r)},Aw={...hg,default:1},Vy=r=>Math.round(r*1e5)/1e5,gN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mte(r){return r==null}const pte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bN=(r,t)=>s=>!!(typeof s=="string"&&pte.test(s)&&s.startsWith(r)||t&&!mte(s)&&Object.prototype.hasOwnProperty.call(s,t)),hB=(r,t,s)=>i=>{if(typeof i!="string")return i;const[l,u,m,f]=i.match(gN);return{[r]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(m),alpha:f!==void 0?parseFloat(f):1}},fte=r=>xd(0,255,r),J_={...hg,transform:r=>Math.round(fte(r))},Mm={test:bN("rgb","red"),parse:hB("red","green","blue"),transform:({red:r,green:t,blue:s,alpha:i=1})=>"rgba("+J_.transform(r)+", "+J_.transform(t)+", "+J_.transform(s)+", "+Vy(mx.transform(i))+")"};function gte(r){let t="",s="",i="",l="";return r.length>5?(t=r.substring(1,3),s=r.substring(3,5),i=r.substring(5,7),l=r.substring(7,9)):(t=r.substring(1,2),s=r.substring(2,3),i=r.substring(3,4),l=r.substring(4,5),t+=t,s+=s,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const cA={test:bN("#"),parse:gte,transform:Mm.transform},Wx=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),Su=Wx("deg"),ec=Wx("%"),Et=Wx("px"),bte=Wx("vh"),yte=Wx("vw"),oI={...ec,parse:r=>ec.parse(r)/100,transform:r=>ec.transform(r*100)},Rf={test:bN("hsl","hue"),parse:hB("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(r)+", "+ec.transform(Vy(t))+", "+ec.transform(Vy(s))+", "+Vy(mx.transform(i))+")"},ts={test:r=>Mm.test(r)||cA.test(r)||Rf.test(r),parse:r=>Mm.test(r)?Mm.parse(r):Rf.test(r)?Rf.parse(r):cA.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Mm.transform(r):Rf.transform(r),getAnimatableNone:r=>{const t=ts.parse(r);return t.alpha=0,ts.transform(t)}},xte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vte(r){var t,s;return isNaN(r)&&typeof r=="string"&&(((t=r.match(gN))==null?void 0:t.length)||0)+(((s=r.match(xte))==null?void 0:s.length)||0)>0}const mB="number",pB="color",wte="var",kte="var(",iI="${}",Cte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function px(r){const t=r.toString(),s=[],i={color:[],number:[],var:[]},l=[];let u=0;const f=t.replace(Cte,b=>(ts.test(b)?(i.color.push(u),l.push(pB),s.push(ts.parse(b))):b.startsWith(kte)?(i.var.push(u),l.push(wte),s.push(b)):(i.number.push(u),l.push(mB),s.push(parseFloat(b))),++u,iI)).split(iI);return{values:s,split:f,indexes:i,types:l}}function fB(r){return px(r).values}function gB(r){const{split:t,types:s}=px(r),i=t.length;return l=>{let u="";for(let m=0;m<i;m++)if(u+=t[m],l[m]!==void 0){const f=s[m];f===mB?u+=Vy(l[m]):f===pB?u+=ts.transform(l[m]):u+=l[m]}return u}}const _te=r=>typeof r=="number"?0:ts.test(r)?ts.getAnimatableNone(r):r;function Ate(r){const t=fB(r);return gB(r)(t.map(_te))}const $u={test:vte,parse:fB,createTransformer:gB,getAnimatableNone:Ate};function $_(r,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(t-r)*6*s:s<1/2?t:s<2/3?r+(t-r)*(2/3-s)*6:r}function jte({hue:r,saturation:t,lightness:s,alpha:i}){r/=360,t/=100,s/=100;let l=0,u=0,m=0;if(!t)l=u=m=s;else{const f=s<.5?s*(1+t):s+t-s*t,b=2*s-f;l=$_(b,f,r+1/3),u=$_(b,f,r),m=$_(b,f,r-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(m*255),alpha:i}}function Bk(r,t){return s=>s>0?t:r}const kn=(r,t,s)=>r+(t-r)*s,X_=(r,t,s)=>{const i=r*r,l=s*(t*t-i)+i;return l<0?0:Math.sqrt(l)},Nte=[cA,Mm,Rf],Ste=r=>Nte.find(t=>t.test(r));function aI(r){const t=Ste(r);if(!t)return!1;let s=t.parse(r);return t===Rf&&(s=jte(s)),s}const lI=(r,t)=>{const s=aI(r),i=aI(t);if(!s||!i)return Bk(r,t);const l={...s};return u=>(l.red=X_(s.red,i.red,u),l.green=X_(s.green,i.green,u),l.blue=X_(s.blue,i.blue,u),l.alpha=kn(s.alpha,i.alpha,u),Mm.transform(l))},dA=new Set(["none","hidden"]);function Ete(r,t){return dA.has(r)?s=>s<=0?r:t:s=>s>=1?t:r}function Dte(r,t){return s=>kn(r,t,s)}function yN(r){return typeof r=="number"?Dte:typeof r=="string"?fN(r)?Bk:ts.test(r)?lI:Ite:Array.isArray(r)?bB:typeof r=="object"?ts.test(r)?lI:Mte:Bk}function bB(r,t){const s=[...r],i=s.length,l=r.map((u,m)=>yN(u)(u,t[m]));return u=>{for(let m=0;m<i;m++)s[m]=l[m](u);return s}}function Mte(r,t){const s={...r,...t},i={};for(const l in s)r[l]!==void 0&&t[l]!==void 0&&(i[l]=yN(r[l])(r[l],t[l]));return l=>{for(const u in i)s[u]=i[u](l);return s}}function Tte(r,t){const s=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],m=r.indexes[u][i[u]],f=r.values[m]??0;s[l]=f,i[u]++}return s}const Ite=(r,t)=>{const s=$u.createTransformer(t),i=px(r),l=px(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?dA.has(r)&&!l.values.length||dA.has(t)&&!i.values.length?Ete(r,t):qx(bB(Tte(i,l),l.values),s):Bk(r,t)};function yB(r,t,s){return typeof r=="number"&&typeof t=="number"&&typeof s=="number"?kn(r,t,s):yN(r)(r,t)}const Rte=r=>{const t=({timestamp:s})=>r(s);return{start:(s=!0)=>_n.update(t,s),stop:()=>Ju(t),now:()=>qs.isProcessing?qs.timestamp:Zo.now()}},xB=(r,t,s=10)=>{let i="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)i+=Math.round(r(u/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Lk=2e4;function xN(r){let t=0;const s=50;let i=r.next(t);for(;!i.done&&t<Lk;)t+=s,i=r.next(t);return t>=Lk?1/0:t}function Pte(r,t=100,s){const i=s({...r,keyframes:[0,t]}),l=Math.min(xN(i),Lk);return{type:"keyframes",ease:u=>i.next(l*u).value/t,duration:Zl(l)}}const Ote=5;function vB(r,t,s){const i=Math.max(t-Ote,0);return Z9(s-r(i),t-i)}const Pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Z_=.001;function Bte({duration:r=Pn.duration,bounce:t=Pn.bounce,velocity:s=Pn.velocity,mass:i=Pn.mass}){let l,u,m=1-t;m=xd(Pn.minDamping,Pn.maxDamping,m),r=xd(Pn.minDuration,Pn.maxDuration,Zl(r)),m<1?(l=v=>{const k=v*m,C=k*r,_=k-s,S=uA(v,m),M=Math.exp(-C);return Z_-_/S*M},u=v=>{const C=v*m*r,_=C*s+s,S=Math.pow(m,2)*Math.pow(v,2)*r,M=Math.exp(-C),R=uA(Math.pow(v,2),m);return(-l(v)+Z_>0?-1:1)*((_-S)*M)/R}):(l=v=>{const k=Math.exp(-v*r),C=(v-s)*r+1;return-Z_+k*C},u=v=>{const k=Math.exp(-v*r),C=(s-v)*(r*r);return k*C});const f=5/r,b=zte(l,u,f);if(r=Xl(r),isNaN(b))return{stiffness:Pn.stiffness,damping:Pn.damping,duration:r};{const v=Math.pow(b,2)*i;return{stiffness:v,damping:m*2*Math.sqrt(i*v),duration:r}}}const Lte=12;function zte(r,t,s){let i=s;for(let l=1;l<Lte;l++)i=i-r(i)/t(i);return i}function uA(r,t){return r*Math.sqrt(1-t*t)}const Fte=["duration","bounce"],Vte=["stiffness","damping","mass"];function cI(r,t){return t.some(s=>r[s]!==void 0)}function Ute(r){let t={velocity:Pn.velocity,stiffness:Pn.stiffness,damping:Pn.damping,mass:Pn.mass,isResolvedFromDuration:!1,...r};if(!cI(r,Vte)&&cI(r,Fte))if(r.visualDuration){const s=r.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,u=2*xd(.05,1,1-(r.bounce||0))*Math.sqrt(l);t={...t,mass:Pn.mass,stiffness:l,damping:u}}else{const s=Bte(r);t={...t,...s,mass:Pn.mass},t.isResolvedFromDuration=!0}return t}function zk(r=Pn.visualDuration,t=Pn.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:i,restDelta:l}=s;const u=s.keyframes[0],m=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:b,damping:v,mass:k,duration:C,velocity:_,isResolvedFromDuration:S}=Ute({...s,velocity:-Zl(s.velocity||0)}),M=_||0,R=v/(2*Math.sqrt(b*k)),I=m-u,z=Zl(Math.sqrt(b/k)),V=Math.abs(I)<5;i||(i=V?Pn.restSpeed.granular:Pn.restSpeed.default),l||(l=V?Pn.restDelta.granular:Pn.restDelta.default);let U;if(R<1){const $=uA(z,R);U=ne=>{const Q=Math.exp(-R*z*ne);return m-Q*((M+R*z*I)/$*Math.sin($*ne)+I*Math.cos($*ne))}}else if(R===1)U=$=>m-Math.exp(-z*$)*(I+(M+z*I)*$);else{const $=z*Math.sqrt(R*R-1);U=ne=>{const Q=Math.exp(-R*z*ne),B=Math.min($*ne,300);return m-Q*((M+R*z*I)*Math.sinh(B)+$*I*Math.cosh(B))/$}}const q={calculatedDuration:S&&C||null,next:$=>{const ne=U($);if(S)f.done=$>=C;else{let Q=$===0?M:0;R<1&&(Q=$===0?Xl(M):vB(U,$,ne));const B=Math.abs(Q)<=i,Y=Math.abs(m-ne)<=l;f.done=B&&Y}return f.value=f.done?m:ne,f},toString:()=>{const $=Math.min(xN(q),Lk),ne=xB(Q=>q.next($*Q).value,$,30);return $+"ms "+ne},toTransition:()=>{}};return q}zk.applyToOptions=r=>{const t=Pte(r,100,zk);return r.ease=t.ease,r.duration=Xl(t.duration),r.type="keyframes",r};function hA({keyframes:r,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:m,min:f,max:b,restDelta:v=.5,restSpeed:k}){const C=r[0],_={done:!1,value:C},S=B=>f!==void 0&&B<f||b!==void 0&&B>b,M=B=>f===void 0?b:b===void 0||Math.abs(f-B)<Math.abs(b-B)?f:b;let R=s*t;const I=C+R,z=m===void 0?I:m(I);z!==I&&(R=z-C);const V=B=>-R*Math.exp(-B/i),U=B=>z+V(B),q=B=>{const Y=V(B),J=U(B);_.done=Math.abs(Y)<=v,_.value=_.done?z:J};let $,ne;const Q=B=>{S(_.value)&&($=B,ne=zk({keyframes:[_.value,M(_.value)],velocity:vB(U,B,_.value),damping:l,stiffness:u,restDelta:v,restSpeed:k}))};return Q(0),{calculatedDuration:null,next:B=>{let Y=!1;return!ne&&$===void 0&&(Y=!0,q(B),Q(B)),$!==void 0&&B>=$?ne.next(B-$):(!Y&&q(B),_)}}}function Gte(r,t,s){const i=[],l=s||vd.mix||yB,u=r.length-1;for(let m=0;m<u;m++){let f=l(r[m],r[m+1]);if(t){const b=Array.isArray(t)?t[m]||ta:t;f=qx(b,f)}i.push(f)}return i}function Hte(r,t,{clamp:s=!0,ease:i,mixer:l}={}){const u=r.length;if(cN(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const m=r[0]===r[1];r[0]>r[u-1]&&(r=[...r].reverse(),t=[...t].reverse());const f=Gte(t,i,l),b=f.length,v=k=>{if(m&&k<r[0])return t[0];let C=0;if(b>1)for(;C<r.length-2&&!(k<r[C+1]);C++);const _=hx(r[C],r[C+1],k);return f[C](_)};return s?k=>v(xd(r[0],r[u-1],k)):v}function qte(r,t){const s=r[r.length-1];for(let i=1;i<=t;i++){const l=hx(0,t,i);r.push(kn(s,1,l))}}function Yte(r){const t=[0];return qte(t,r.length-1),t}function Wte(r,t){return r.map(s=>s*t)}function Kte(r,t){return r.map(()=>t||lB).splice(0,r.length-1)}function Uy({duration:r=300,keyframes:t,times:s,ease:i="easeInOut"}){const l=ote(i)?i.map(nI):nI(i),u={done:!1,value:t[0]},m=Wte(s&&s.length===t.length?s:Yte(t),r),f=Hte(m,t,{ease:Array.isArray(l)?l:Kte(t,l)});return{calculatedDuration:r,next:b=>(u.value=f(b),u.done=b>=r,u)}}const Qte=r=>r!==null;function vN(r,{repeat:t,repeatType:s="loop"},i,l=1){const u=r.filter(Qte),f=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!f||i===void 0?u[f]:i}const Jte={decay:hA,inertia:hA,tween:Uy,keyframes:Uy,spring:zk};function wB(r){typeof r.type=="string"&&(r.type=Jte[r.type])}class wN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const $te=r=>r/100;class kN extends wN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,l;const{motionValue:s}=this.options;s&&s.updatedAt!==Zo.now()&&this.tick(Zo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(i=this.options).onStop)==null||l.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wB(t);const{type:s=Uy,repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:m=0}=t;let{keyframes:f}=t;const b=s||Uy;b!==Uy&&typeof f[0]!="number"&&(this.mixKeyframes=qx($te,yB(f[0],f[1])),f=[0,100]);const v=b({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=b({...t,keyframes:[...f].reverse(),velocity:-m})),v.calculatedDuration===null&&(v.calculatedDuration=xN(v));const{calculatedDuration:k}=v;this.calculatedDuration=k,this.resolvedDuration=k+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=v}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:l,mixKeyframes:u,mirroredGenerator:m,resolvedDuration:f,calculatedDuration:b}=this;if(this.startTime===null)return i.next(0);const{delay:v=0,keyframes:k,repeat:C,repeatType:_,repeatDelay:S,type:M,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const z=this.currentTime-v*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?z<0:z>l;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let U=this.currentTime,q=i;if(C){const B=Math.min(this.currentTime,l)/f;let Y=Math.floor(B),J=B%1;!J&&B>=1&&(J=1),J===1&&Y--,Y=Math.min(Y,C+1),!!(Y%2)&&(_==="reverse"?(J=1-J,S&&(J-=S/f)):_==="mirror"&&(q=m)),U=xd(0,1,J)*f}const $=V?{done:!1,value:k[0]}:q.next(U);u&&($.value=u($.value));let{done:ne}=$;!V&&b!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return Q&&M!==hA&&($.value=vN(k,this.options,I,this.speed)),R&&R($.value),Q&&this.finish(),$}then(t,s){return this.finished.then(t,s)}get duration(){return Zl(this.calculatedDuration)}get time(){return Zl(this.currentTime)}set time(t){var s;t=Xl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zo.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Zl(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:t=Rte,startTime:s}=this.options;this.driver||(this.driver=t(m=>this.tick(m))),(u=(l=this.options).onPlay)==null||u.call(l);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Xte(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const Tm=r=>r*180/Math.PI,mA=r=>{const t=Tm(Math.atan2(r[1],r[0]));return pA(t)},Zte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:mA,rotateZ:mA,skewX:r=>Tm(Math.atan(r[1])),skewY:r=>Tm(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},pA=r=>(r=r%360,r<0&&(r+=360),r),dI=mA,uI=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),hI=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),ere={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uI,scaleY:hI,scale:r=>(uI(r)+hI(r))/2,rotateX:r=>pA(Tm(Math.atan2(r[6],r[5]))),rotateY:r=>pA(Tm(Math.atan2(-r[2],r[0]))),rotateZ:dI,rotate:dI,skewX:r=>Tm(Math.atan(r[4])),skewY:r=>Tm(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function fA(r){return r.includes("scale")?1:0}function gA(r,t){if(!r||r==="none")return fA(t);const s=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=ere,l=s;else{const f=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Zte,l=f}if(!l)return fA(t);const u=i[t],m=l[1].split(",").map(rre);return typeof u=="function"?u(m):m[u]}const tre=(r,t)=>{const{transform:s="none"}=getComputedStyle(r);return gA(s,t)};function rre(r){return parseFloat(r.trim())}const mg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pg=new Set(mg),mI=r=>r===hg||r===Et,nre=new Set(["x","y","z"]),sre=mg.filter(r=>!nre.has(r));function ore(r){const t=[];return sre.forEach(s=>{const i=r.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const Bm={width:({x:r},{paddingLeft:t="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),height:({y:r},{paddingTop:t="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>gA(t,"x"),y:(r,{transform:t})=>gA(t,"y")};Bm.translateX=Bm.x;Bm.translateY=Bm.y;const Lm=new Set;let bA=!1,yA=!1,xA=!1;function kB(){if(yA){const r=Array.from(Lm).filter(i=>i.needsMeasurement),t=new Set(r.map(i=>i.element)),s=new Map;t.forEach(i=>{const l=ore(i);l.length&&(s.set(i,l),i.render())}),r.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([u,m])=>{var f;(f=i.getValue(u))==null||f.set(m)})}),r.forEach(i=>i.measureEndState()),r.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yA=!1,bA=!1,Lm.forEach(r=>r.complete(xA)),Lm.clear()}function CB(){Lm.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(yA=!0)})}function ire(){xA=!0,CB(),kB(),xA=!1}class CN{constructor(t,s,i,l,u,m=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=l,this.element=u,this.isAsync=m}scheduleResolve(){this.state="scheduled",this.isAsync?(Lm.add(this),bA||(bA=!0,_n.read(CB),_n.resolveKeyframes(kB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:l}=this;if(t[0]===null){const u=l==null?void 0:l.get(),m=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&s){const f=i.readValue(s,m);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=m),l&&u===void 0&&l.set(t[0])}Xte(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Lm.delete(this)}cancel(){this.state==="scheduled"&&(Lm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const are=r=>r.startsWith("--");function lre(r,t,s){are(t)?r.style.setProperty(t,s):r.style[t]=s}const cre=dN(()=>window.ScrollTimeline!==void 0),dre={};function ure(r,t){const s=dN(r);return()=>dre[t]??s()}const _B=ure(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ey=([r,t,s,i])=>`cubic-bezier(${r}, ${t}, ${s}, ${i})`,pI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ey([0,.65,.55,1]),circOut:Ey([.55,0,1,.45]),backIn:Ey([.31,.01,.66,-.59]),backOut:Ey([.33,1.53,.69,.99])};function AB(r,t){if(r)return typeof r=="function"?_B()?xB(r,t):"ease-out":cB(r)?Ey(r):Array.isArray(r)?r.map(s=>AB(s,t)||pI.easeOut):pI[r]}function hre(r,t,s,{delay:i=0,duration:l=300,repeat:u=0,repeatType:m="loop",ease:f="easeOut",times:b}={},v=void 0){const k={[t]:s};b&&(k.offset=b);const C=AB(f,l);Array.isArray(C)&&(k.easing=C);const _={delay:i,duration:l,easing:Array.isArray(C)?"linear":C,fill:"both",iterations:u+1,direction:m==="reverse"?"alternate":"normal"};return v&&(_.pseudoElement=v),r.animate(k,_)}function jB(r){return typeof r=="function"&&"applyToOptions"in r}function mre({type:r,...t}){return jB(r)&&_B()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class pre extends wN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:i,keyframes:l,pseudoElement:u,allowFlatten:m=!1,finalKeyframe:f,onComplete:b}=t;this.isPseudoElement=!!u,this.allowFlatten=m,this.options=t,cN(typeof t.type!="string");const v=mre(t);this.animation=hre(s,i,l,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const k=vN(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(k):lre(s,i,k),this.animation.cancel()}b==null||b(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,i;const t=((i=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:i.call(s).duration)||0;return Zl(Number(t))}get time(){return Zl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Xl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&cre()?(this.animation.timeline=t,ta):s(this)}}const NB={anticipate:oB,backInOut:sB,circInOut:aB};function fre(r){return r in NB}function gre(r){typeof r.ease=="string"&&fre(r.ease)&&(r.ease=NB[r.ease])}const fI=10;class bre extends pre{constructor(t){gre(t),wB(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:l,element:u,...m}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new kN({...m,autoplay:!1}),b=Xl(this.finishedTime??this.time);s.setWithVelocity(f.sample(b-fI).value,f.sample(b).value,fI),f.stop()}}const gI=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&($u.test(r)||r==="0")&&!r.startsWith("url("));function yre(r){const t=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==t)return!0}function xre(r,t,s,i){const l=r[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=r[r.length-1],m=gI(l,t),f=gI(u,t);return!m||!f?!1:yre(r)||(s==="spring"||jB(s))&&i}function _N(r){return $9(r)&&"offsetHeight"in r}const vre=new Set(["opacity","clipPath","filter","transform"]),wre=dN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kre(r){var v;const{motionValue:t,name:s,repeatDelay:i,repeatType:l,damping:u,type:m}=r;if(!_N((v=t==null?void 0:t.owner)==null?void 0:v.current))return!1;const{onUpdate:f,transformTemplate:b}=t.owner.getProps();return wre()&&s&&vre.has(s)&&(s!=="transform"||!b)&&!f&&!i&&l!=="mirror"&&u!==0&&m!=="inertia"}const Cre=40;class _re extends wN{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:m="loop",keyframes:f,name:b,motionValue:v,element:k,...C}){var M;super(),this.stop=()=>{var R,I;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Zo.now();const _={autoplay:t,delay:s,type:i,repeat:l,repeatDelay:u,repeatType:m,name:b,motionValue:v,element:k,...C},S=(k==null?void 0:k.KeyframeResolver)||CN;this.keyframeResolver=new S(f,(R,I,z)=>this.onKeyframesResolved(R,I,_,!z),b,v,k),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(t,s,i,l){this.keyframeResolver=void 0;const{name:u,type:m,velocity:f,delay:b,isHandoff:v,onUpdate:k}=i;this.resolvedAt=Zo.now(),xre(t,u,m,f)||((vd.instantAnimations||!b)&&(k==null||k(vN(t,i,s))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const _={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Cre?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},S=!v&&kre(_)?new bre({..._,element:_.motionValue.owner.current}):new kN(_);S.finished.then(()=>this.notifyFinished()).catch(ta),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),ire()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Are=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jre(r){const t=Are.exec(r);if(!t)return[,];const[,s,i,l]=t;return[`--${s??i}`,l]}function SB(r,t,s=1){const[i,l]=jre(r);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const m=u.trim();return J9(m)?parseFloat(m):m}return fN(l)?SB(l,t,s+1):l}function AN(r,t){return(r==null?void 0:r[t])??(r==null?void 0:r.default)??r}const EB=new Set(["width","height","top","left","right","bottom",...mg]),Nre={test:r=>r==="auto",parse:r=>r},DB=r=>t=>t.test(r),MB=[hg,Et,ec,Su,yte,bte,Nre],bI=r=>MB.find(DB(r));function Sre(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||X9(r):!0}const Ere=new Set(["brightness","contrast","saturate","opacity"]);function Dre(r){const[t,s]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[i]=s.match(gN)||[];if(!i)return r;const l=s.replace(i,"");let u=Ere.has(t)?1:0;return i!==s&&(u*=100),t+"("+u+l+")"}const Mre=/\b([a-z-]*)\(.*?\)/gu,vA={...$u,getAnimatableNone:r=>{const t=r.match(Mre);return t?t.map(Dre).join(" "):r}},yI={...hg,transform:Math.round},Tre={rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scale:Aw,scaleX:Aw,scaleY:Aw,scaleZ:Aw,skew:Su,skewX:Su,skewY:Su,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:mx,originX:oI,originY:oI,originZ:Et},jN={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...Tre,zIndex:yI,fillOpacity:mx,strokeOpacity:mx,numOctaves:yI},Ire={...jN,color:ts,backgroundColor:ts,outlineColor:ts,fill:ts,stroke:ts,borderColor:ts,borderTopColor:ts,borderRightColor:ts,borderBottomColor:ts,borderLeftColor:ts,filter:vA,WebkitFilter:vA},TB=r=>Ire[r];function IB(r,t){let s=TB(r);return s!==vA&&(s=$u),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Rre=new Set(["auto","none","0"]);function Pre(r,t,s){let i=0,l;for(;i<r.length&&!l;){const u=r[i];typeof u=="string"&&!Rre.has(u)&&px(u).values.length&&(l=r[i]),i++}if(l&&s)for(const u of t)r[u]=IB(s,l)}class Ore extends CN{constructor(t,s,i,l,u){super(t,s,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let b=0;b<t.length;b++){let v=t[b];if(typeof v=="string"&&(v=v.trim(),fN(v))){const k=SB(v,s.current);k!==void 0&&(t[b]=k),b===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!EB.has(i)||t.length!==2)return;const[l,u]=t,m=bI(l),f=bI(u);if(m!==f)if(mI(m)&&mI(f))for(let b=0;b<t.length;b++){const v=t[b];typeof v=="string"&&(t[b]=parseFloat(v))}else Bm[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let l=0;l<t.length;l++)(t[l]===null||Sre(t[l]))&&i.push(l);i.length&&Pre(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bm[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var f;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=i.length-1,m=i[u];i[u]=Bm[s](t.measureViewportBox(),window.getComputedStyle(t.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([b,v])=>{t.getValue(b).set(v)}),this.resolveNoneKeyframes()}}function Bre(r,t,s){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let i=document;const l=(s==null?void 0:s[r])??i.querySelectorAll(r);return l?Array.from(l):[]}return Array.from(r)}const RB=(r,t)=>t&&typeof r=="number"?t.transform(r):r,xI=30,Lre=r=>!isNaN(parseFloat(r));class zre{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{var m,f;const u=Zo.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((m=this.events.change)==null||m.notify(this.current),this.dependents))for(const b of this.dependents)b.dirty();l&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Zo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Lre(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new uN);const i=this.events[t].add(s);return t==="change"?()=>{i(),_n.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xI)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,xI);return Z9(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xf(r,t){return new zre(r,t)}const{schedule:NN}=dB(queueMicrotask,!1),Wa={x:!1,y:!1};function PB(){return Wa.x||Wa.y}function Fre(r){return r==="x"||r==="y"?Wa[r]?null:(Wa[r]=!0,()=>{Wa[r]=!1}):Wa.x||Wa.y?null:(Wa.x=Wa.y=!0,()=>{Wa.x=Wa.y=!1})}function OB(r,t){const s=Bre(r),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[s,l,()=>i.abort()]}function vI(r){return!(r.pointerType==="touch"||PB())}function Vre(r,t,s={}){const[i,l,u]=OB(r,s),m=f=>{if(!vI(f))return;const{target:b}=f,v=t(b,f);if(typeof v!="function"||!b)return;const k=C=>{vI(C)&&(v(C),b.removeEventListener("pointerleave",k))};b.addEventListener("pointerleave",k,l)};return i.forEach(f=>{f.addEventListener("pointerenter",m,l)}),u}const BB=(r,t)=>t?r===t?!0:BB(r,t.parentElement):!1,SN=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,Ure=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gre(r){return Ure.has(r.tagName)||r.tabIndex!==-1}const tk=new WeakSet;function wI(r){return t=>{t.key==="Enter"&&r(t)}}function e2(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Hre=(r,t)=>{const s=r.currentTarget;if(!s)return;const i=wI(()=>{if(tk.has(s))return;e2(s,"down");const l=wI(()=>{e2(s,"up")}),u=()=>e2(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function kI(r){return SN(r)&&!PB()}function qre(r,t,s={}){const[i,l,u]=OB(r,s),m=f=>{const b=f.currentTarget;if(!kI(f))return;tk.add(b);const v=t(b,f),k=(S,M)=>{window.removeEventListener("pointerup",C),window.removeEventListener("pointercancel",_),tk.has(b)&&tk.delete(b),kI(S)&&typeof v=="function"&&v(S,{success:M})},C=S=>{k(S,b===window||b===document||s.useGlobalTarget||BB(b,S.target))},_=S=>{k(S,!1)};window.addEventListener("pointerup",C,l),window.addEventListener("pointercancel",_,l)};return i.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",m,l),_N(f)&&(f.addEventListener("focus",v=>Hre(v,l)),!Gre(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function LB(r){return $9(r)&&"ownerSVGElement"in r}function Yre(r){return LB(r)&&r.tagName==="svg"}const po=r=>!!(r&&r.getVelocity),Wre=[...MB,ts,$u],Kre=r=>Wre.find(DB(r)),EN=O.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Qre extends O.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=s.offsetParent,l=_N(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jre({children:r,isPresent:t,anchorX:s}){const i=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=O.useContext(EN);return O.useInsertionEffect(()=>{const{width:f,height:b,top:v,left:k,right:C}=u.current;if(t||!l.current||!f||!b)return;const _=s==="left"?`left: ${k}`:`right: ${C}`;l.current.dataset.motionPopId=i;const S=document.createElement("style");return m&&(S.nonce=m),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${b}px !important;
            ${_}px !important;
            top: ${v}px !important;
          }
        `),()=>{document.head.contains(S)&&document.head.removeChild(S)}},[t]),n.jsx(Qre,{isPresent:t,childRef:l,sizeRef:u,children:O.cloneElement(r,{ref:l})})}const $re=({children:r,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:m,anchorX:f})=>{const b=oN(Xre),v=O.useId();let k=!0,C=O.useMemo(()=>(k=!1,{id:v,initial:t,isPresent:s,custom:l,onExitComplete:_=>{b.set(_,!0);for(const S of b.values())if(!S)return;i&&i()},register:_=>(b.set(_,!1),()=>b.delete(_))}),[s,b,i]);return u&&k&&(C={...C}),O.useMemo(()=>{b.forEach((_,S)=>b.set(S,!1))},[s]),O.useEffect(()=>{!s&&!b.size&&i&&i()},[s]),m==="popLayout"&&(r=n.jsx(Jre,{isPresent:s,anchorX:f,children:r})),n.jsx(E1.Provider,{value:C,children:r})};function Xre(){return new Map}function zB(r=!0){const t=O.useContext(E1);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=t,u=O.useId();O.useEffect(()=>{if(r)return l(u)},[r]);const m=O.useCallback(()=>r&&i&&i(u),[u,i,r]);return!s&&i?[!1,m]:[!0]}const jw=r=>r.key||"";function CI(r){const t=[];return O.Children.forEach(r,s=>{O.isValidElement(s)&&t.push(s)}),t}const DN=({children:r,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:m=!1,anchorX:f="left"})=>{const[b,v]=zB(m),k=O.useMemo(()=>CI(r),[r]),C=m&&!b?[]:k.map(jw),_=O.useRef(!0),S=O.useRef(k),M=oN(()=>new Map),[R,I]=O.useState(k),[z,V]=O.useState(k);Q9(()=>{_.current=!1,S.current=k;for(let $=0;$<z.length;$++){const ne=jw(z[$]);C.includes(ne)?M.delete(ne):M.get(ne)!==!0&&M.set(ne,!1)}},[z,C.length,C.join("-")]);const U=[];if(k!==R){let $=[...k];for(let ne=0;ne<z.length;ne++){const Q=z[ne],B=jw(Q);C.includes(B)||($.splice(ne,0,Q),U.push(Q))}return u==="wait"&&U.length&&($=U),V(CI($)),I(k),null}const{forceRender:q}=O.useContext(sN);return n.jsx(n.Fragment,{children:z.map($=>{const ne=jw($),Q=m&&!b?!1:k===z||C.includes(ne),B=()=>{if(M.has(ne))M.set(ne,!0);else return;let Y=!0;M.forEach(J=>{J||(Y=!1)}),Y&&(q==null||q(),V(S.current),m&&(v==null||v()),i&&i())};return n.jsx($re,{isPresent:Q,initial:!_.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,onExitComplete:Q?void 0:B,anchorX:f,children:$},ne)})})},FB=O.createContext({strict:!1}),_I={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zf={};for(const r in _I)Zf[r]={isEnabled:t=>_I[r].some(s=>!!t[s])};function Zre(r){for(const t in r)Zf[t]={...Zf[t],...r[t]}}const ene=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fk(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||ene.has(r)}let VB=r=>!Fk(r);function tne(r){typeof r=="function"&&(VB=t=>t.startsWith("on")?!Fk(t):r(t))}try{tne(require("@emotion/is-prop-valid").default)}catch{}function rne(r,t,s){const i={};for(const l in r)l==="values"&&typeof r.values=="object"||(VB(l)||s===!0&&Fk(l)||!t&&!Fk(l)||r.draggable&&l.startsWith("onDrag"))&&(i[l]=r[l]);return i}function nne(r){if(typeof Proxy>"u")return r;const t=new Map,s=(...i)=>r(...i);return new Proxy(s,{get:(i,l)=>l==="create"?r:(t.has(l)||t.set(l,r(l)),t.get(l))})}const D1=O.createContext({});function M1(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function fx(r){return typeof r=="string"||Array.isArray(r)}const MN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TN=["initial",...MN];function T1(r){return M1(r.animate)||TN.some(t=>fx(r[t]))}function UB(r){return!!(T1(r)||r.variants)}function sne(r,t){if(T1(r)){const{initial:s,animate:i}=r;return{initial:s===!1||fx(s)?s:void 0,animate:fx(i)?i:void 0}}return r.inherit!==!1?t:{}}function one(r){const{initial:t,animate:s}=sne(r,O.useContext(D1));return O.useMemo(()=>({initial:t,animate:s}),[AI(t),AI(s)])}function AI(r){return Array.isArray(r)?r.join(" "):r}const ine=Symbol.for("motionComponentSymbol");function Pf(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function ane(r,t,s){return O.useCallback(i=>{i&&r.onMount&&r.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):Pf(s)&&(s.current=i))},[t])}const IN=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lne="framerAppearId",GB="data-"+IN(lne),HB=O.createContext({});function cne(r,t,s,i,l){var R,I;const{visualElement:u}=O.useContext(D1),m=O.useContext(FB),f=O.useContext(E1),b=O.useContext(EN).reducedMotion,v=O.useRef(null);i=i||m.renderer,!v.current&&i&&(v.current=i(r,{visualState:t,parent:u,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:b}));const k=v.current,C=O.useContext(HB);k&&!k.projection&&l&&(k.type==="html"||k.type==="svg")&&dne(v.current,s,l,C);const _=O.useRef(!1);O.useInsertionEffect(()=>{k&&_.current&&k.update(s,f)});const S=s[GB],M=O.useRef(!!S&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,S))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,S)));return Q9(()=>{k&&(_.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),NN.render(k.render),M.current&&k.animationState&&k.animationState.animateChanges())}),O.useEffect(()=>{k&&(!M.current&&k.animationState&&k.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,S)}),M.current=!1))}),k}function dne(r,t,s,i){const{layoutId:l,layout:u,drag:m,dragConstraints:f,layoutScroll:b,layoutRoot:v,layoutCrossfade:k}=t;r.projection=new s(r.latestValues,t["data-framer-portal-id"]?void 0:qB(r.parent)),r.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!m||f&&Pf(f),visualElement:r,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:k,layoutScroll:b,layoutRoot:v})}function qB(r){if(r)return r.options.allowProjection!==!1?r.projection:qB(r.parent)}function une({preloadedFeatures:r,createVisualElement:t,useRender:s,useVisualState:i,Component:l}){r&&Zre(r);function u(f,b){let v;const k={...O.useContext(EN),...f,layoutId:hne(f)},{isStatic:C}=k,_=one(f),S=i(f,C);if(!C&&iN){mne();const M=pne(k);v=M.MeasureLayout,_.visualElement=cne(l,S,k,t,M.ProjectionNode)}return n.jsxs(D1.Provider,{value:_,children:[v&&_.visualElement?n.jsx(v,{visualElement:_.visualElement,...k}):null,s(l,f,ane(S,_.visualElement,b),S,C,_.visualElement)]})}u.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const m=O.forwardRef(u);return m[ine]=l,m}function hne({layoutId:r}){const t=O.useContext(sN).id;return t&&r!==void 0?t+"-"+r:r}function mne(r,t){O.useContext(FB).strict}function pne(r){const{drag:t,layout:s}=Zf;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(r)||s!=null&&s.isEnabled(r)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const gx={};function fne(r){for(const t in r)gx[t]=r[t],pN(t)&&(gx[t].isCSSVariable=!0)}function YB(r,{layout:t,layoutId:s}){return pg.has(r)||r.startsWith("origin")||(t||s!==void 0)&&(!!gx[r]||r==="opacity")}const gne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bne=mg.length;function yne(r,t,s){let i="",l=!0;for(let u=0;u<bne;u++){const m=mg[u],f=r[m];if(f===void 0)continue;let b=!0;if(typeof f=="number"?b=f===(m.startsWith("scale")?1:0):b=parseFloat(f)===0,!b||s){const v=RB(f,jN[m]);if(!b){l=!1;const k=gne[m]||m;i+=`${k}(${v}) `}s&&(t[m]=v)}}return i=i.trim(),s?i=s(t,l?"":i):l&&(i="none"),i}function RN(r,t,s){const{style:i,vars:l,transformOrigin:u}=r;let m=!1,f=!1;for(const b in t){const v=t[b];if(pg.has(b)){m=!0;continue}else if(pN(b)){l[b]=v;continue}else{const k=RB(v,jN[b]);b.startsWith("origin")?(f=!0,u[b]=k):i[b]=k}}if(t.transform||(m||s?i.transform=yne(t,r.transform,s):i.transform&&(i.transform="none")),f){const{originX:b="50%",originY:v="50%",originZ:k=0}=u;i.transformOrigin=`${b} ${v} ${k}`}}const PN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WB(r,t,s){for(const i in t)!po(t[i])&&!YB(i,s)&&(r[i]=t[i])}function xne({transformTemplate:r},t){return O.useMemo(()=>{const s=PN();return RN(s,t,r),Object.assign({},s.vars,s.style)},[t])}function vne(r,t){const s=r.style||{},i={};return WB(i,s,r),Object.assign(i,xne(r,t)),i}function wne(r,t){const s={},i=vne(r,t);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=i,s}const kne={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cne={offset:"strokeDashoffset",array:"strokeDasharray"};function _ne(r,t,s=1,i=0,l=!0){r.pathLength=1;const u=l?kne:Cne;r[u.offset]=Et.transform(-i);const m=Et.transform(t),f=Et.transform(s);r[u.array]=`${m} ${f}`}function KB(r,{attrX:t,attrY:s,attrScale:i,pathLength:l,pathSpacing:u=1,pathOffset:m=0,...f},b,v,k){if(RN(r,f,v),b){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:C,style:_}=r;C.transform&&(_.transform=C.transform,delete C.transform),(_.transform||C.transformOrigin)&&(_.transformOrigin=C.transformOrigin??"50% 50%",delete C.transformOrigin),_.transform&&(_.transformBox=(k==null?void 0:k.transformBox)??"fill-box",delete C.transformBox),t!==void 0&&(C.x=t),s!==void 0&&(C.y=s),i!==void 0&&(C.scale=i),l!==void 0&&_ne(C,l,u,m,!1)}const QB=()=>({...PN(),attrs:{}}),JB=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Ane(r,t,s,i){const l=O.useMemo(()=>{const u=QB();return KB(u,t,JB(i),r.transformTemplate,r.style),{...u.attrs,style:{...u.style}}},[t]);if(r.style){const u={};WB(u,r.style,r),l.style={...u,...l.style}}return l}const jne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ON(r){return typeof r!="string"||r.includes("-")?!1:!!(jne.indexOf(r)>-1||/[A-Z]/u.test(r))}function Nne(r=!1){return(s,i,l,{latestValues:u},m)=>{const b=(ON(s)?Ane:wne)(i,u,m,s),v=rne(i,typeof s=="string",r),k=s!==O.Fragment?{...v,...b,ref:l}:{},{children:C}=i,_=O.useMemo(()=>po(C)?C.get():C,[C]);return O.createElement(s,{...k,children:_})}}function jI(r){const t=[{},{}];return r==null||r.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function BN(r,t,s,i){if(typeof t=="function"){const[l,u]=jI(i);t=t(s!==void 0?s:r.custom,l,u)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[l,u]=jI(i);t=t(s!==void 0?s:r.custom,l,u)}return t}function rk(r){return po(r)?r.get():r}function Sne({scrapeMotionValuesFromProps:r,createRenderState:t},s,i,l){return{latestValues:Ene(s,i,l,r),renderState:t()}}const $B=r=>(t,s)=>{const i=O.useContext(D1),l=O.useContext(E1),u=()=>Sne(r,t,i,l);return s?u():oN(u)};function Ene(r,t,s,i){const l={},u=i(r,{});for(const _ in u)l[_]=rk(u[_]);let{initial:m,animate:f}=r;const b=T1(r),v=UB(r);t&&v&&!b&&r.inherit!==!1&&(m===void 0&&(m=t.initial),f===void 0&&(f=t.animate));let k=s?s.initial===!1:!1;k=k||m===!1;const C=k?f:m;if(C&&typeof C!="boolean"&&!M1(C)){const _=Array.isArray(C)?C:[C];for(let S=0;S<_.length;S++){const M=BN(r,_[S]);if(M){const{transitionEnd:R,transition:I,...z}=M;for(const V in z){let U=z[V];if(Array.isArray(U)){const q=k?U.length-1:0;U=U[q]}U!==null&&(l[V]=U)}for(const V in R)l[V]=R[V]}}}return l}function LN(r,t,s){var u;const{style:i}=r,l={};for(const m in i)(po(i[m])||t.style&&po(t.style[m])||YB(m,r)||((u=s==null?void 0:s.getValue(m))==null?void 0:u.liveStyle)!==void 0)&&(l[m]=i[m]);return l}const Dne={useVisualState:$B({scrapeMotionValuesFromProps:LN,createRenderState:PN})};function XB(r,t,s){const i=LN(r,t,s);for(const l in r)if(po(r[l])||po(t[l])){const u=mg.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=r[l]}return i}const Mne={useVisualState:$B({scrapeMotionValuesFromProps:XB,createRenderState:QB})};function Tne(r,t){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const m={...ON(i)?Mne:Dne,preloadedFeatures:r,useRender:Nne(l),createVisualElement:t,Component:i};return une(m)}}function bx(r,t,s){const i=r.getProps();return BN(i,t,s!==void 0?s:i.custom,r)}const wA=r=>Array.isArray(r);function Ine(r,t,s){r.hasValue(t)?r.getValue(t).set(s):r.addValue(t,Xf(s))}function Rne(r){return wA(r)?r[r.length-1]||0:r}function Pne(r,t){const s=bx(r,t);let{transitionEnd:i={},transition:l={},...u}=s||{};u={...u,...i};for(const m in u){const f=Rne(u[m]);Ine(r,m,f)}}function One(r){return!!(po(r)&&r.add)}function kA(r,t){const s=r.getValue("willChange");if(One(s))return s.add(t);if(!s&&vd.WillChange){const i=new vd.WillChange("auto");r.addValue("willChange",i),i.add(t)}}function ZB(r){return r.props[GB]}const Bne=r=>r!==null;function Lne(r,{repeat:t,repeatType:s="loop"},i){const l=r.filter(Bne),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const zne={type:"spring",stiffness:500,damping:25,restSpeed:10},Fne=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Vne={type:"keyframes",duration:.8},Une={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gne=(r,{keyframes:t})=>t.length>2?Vne:pg.has(r)?r.startsWith("scale")?Fne(t[1]):zne:Une;function Hne({when:r,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:m,repeatDelay:f,from:b,elapsed:v,...k}){return!!Object.keys(k).length}const zN=(r,t,s,i={},l,u)=>m=>{const f=AN(i,r)||{},b=f.delay||i.delay||0;let{elapsed:v=0}=i;v=v-Xl(b);const k={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-v,onUpdate:_=>{t.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{m(),f.onComplete&&f.onComplete()},name:r,motionValue:t,element:u?void 0:l};Hne(f)||Object.assign(k,Gne(r,k)),k.duration&&(k.duration=Xl(k.duration)),k.repeatDelay&&(k.repeatDelay=Xl(k.repeatDelay)),k.from!==void 0&&(k.keyframes[0]=k.from);let C=!1;if((k.type===!1||k.duration===0&&!k.repeatDelay)&&(k.duration=0,k.delay===0&&(C=!0)),(vd.instantAnimations||vd.skipAnimations)&&(C=!0,k.duration=0,k.delay=0),k.allowFlatten=!f.type&&!f.ease,C&&!u&&t.get()!==void 0){const _=Lne(k.keyframes,f);if(_!==void 0){_n.update(()=>{k.onUpdate(_),k.onComplete()});return}}return f.isSync?new kN(k):new _re(k)};function qne({protectedKeys:r,needsAnimating:t},s){const i=r.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function e6(r,t,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:u=r.getDefaultTransition(),transitionEnd:m,...f}=t;i&&(u=i);const b=[],v=l&&r.animationState&&r.animationState.getState()[l];for(const k in f){const C=r.getValue(k,r.latestValues[k]??null),_=f[k];if(_===void 0||v&&qne(v,k))continue;const S={delay:s,...AN(u||{},k)},M=C.get();if(M!==void 0&&!C.isAnimating&&!Array.isArray(_)&&_===M&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const z=ZB(r);if(z){const V=window.MotionHandoffAnimation(z,k,_n);V!==null&&(S.startTime=V,R=!0)}}kA(r,k),C.start(zN(k,C,_,r.shouldReduceMotion&&EB.has(k)?{type:!1}:S,r,R));const I=C.animation;I&&b.push(I)}return m&&Promise.all(b).then(()=>{_n.update(()=>{m&&Pne(r,m)})}),b}function CA(r,t,s={}){var b;const i=bx(r,t,s.type==="exit"?(b=r.presenceContext)==null?void 0:b.custom:void 0);let{transition:l=r.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const u=i?()=>Promise.all(e6(r,i,s)):()=>Promise.resolve(),m=r.variantChildren&&r.variantChildren.size?(v=0)=>{const{delayChildren:k=0,staggerChildren:C,staggerDirection:_}=l;return Yne(r,t,k+v,C,_,s)}:()=>Promise.resolve(),{when:f}=l;if(f){const[v,k]=f==="beforeChildren"?[u,m]:[m,u];return v().then(()=>k())}else return Promise.all([u(),m(s.delay)])}function Yne(r,t,s=0,i=0,l=1,u){const m=[],f=(r.variantChildren.size-1)*i,b=l===1?(v=0)=>v*i:(v=0)=>f-v*i;return Array.from(r.variantChildren).sort(Wne).forEach((v,k)=>{v.notify("AnimationStart",t),m.push(CA(v,t,{...u,delay:s+b(k)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(m)}function Wne(r,t){return r.sortNodePosition(t)}function Kne(r,t,s={}){r.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(u=>CA(r,u,s));i=Promise.all(l)}else if(typeof t=="string")i=CA(r,t,s);else{const l=typeof t=="function"?bx(r,t,s.custom):t;i=Promise.all(e6(r,l,s))}return i.then(()=>{r.notify("AnimationComplete",t)})}function t6(r,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==r.length)return!1;for(let i=0;i<s;i++)if(t[i]!==r[i])return!1;return!0}const Qne=TN.length;function r6(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?r6(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const t={};for(let s=0;s<Qne;s++){const i=TN[s],l=r.props[i];(fx(l)||l===!1)&&(t[i]=l)}return t}const Jne=[...MN].reverse(),$ne=MN.length;function Xne(r){return t=>Promise.all(t.map(({animation:s,options:i})=>Kne(r,s,i)))}function Zne(r){let t=Xne(r),s=NI(),i=!0;const l=b=>(v,k)=>{var _;const C=bx(r,k,b==="exit"?(_=r.presenceContext)==null?void 0:_.custom:void 0);if(C){const{transition:S,transitionEnd:M,...R}=C;v={...v,...R,...M}}return v};function u(b){t=b(r)}function m(b){const{props:v}=r,k=r6(r.parent)||{},C=[],_=new Set;let S={},M=1/0;for(let I=0;I<$ne;I++){const z=Jne[I],V=s[z],U=v[z]!==void 0?v[z]:k[z],q=fx(U),$=z===b?V.isActive:null;$===!1&&(M=I);let ne=U===k[z]&&U!==v[z]&&q;if(ne&&i&&r.manuallyAnimateOnMount&&(ne=!1),V.protectedKeys={...S},!V.isActive&&$===null||!U&&!V.prevProp||M1(U)||typeof U=="boolean")continue;const Q=ese(V.prevProp,U);let B=Q||z===b&&V.isActive&&!ne&&q||I>M&&q,Y=!1;const J=Array.isArray(U)?U:[U];let W=J.reduce(l(z),{});$===!1&&(W={});const{prevResolvedValues:ee={}}=V,te={...ee,...W},be=ae=>{B=!0,_.has(ae)&&(Y=!0,_.delete(ae)),V.needsAnimating[ae]=!0;const le=r.getValue(ae);le&&(le.liveStyle=!1)};for(const ae in te){const le=W[ae],oe=ee[ae];if(S.hasOwnProperty(ae))continue;let G=!1;wA(le)&&wA(oe)?G=!t6(le,oe):G=le!==oe,G?le!=null?be(ae):_.add(ae):le!==void 0&&_.has(ae)?be(ae):V.protectedKeys[ae]=!0}V.prevProp=U,V.prevResolvedValues=W,V.isActive&&(S={...S,...W}),i&&r.blockInitialAnimation&&(B=!1),B&&(!(ne&&Q)||Y)&&C.push(...J.map(ae=>({animation:ae,options:{type:z}})))}if(_.size){const I={};if(typeof v.initial!="boolean"){const z=bx(r,Array.isArray(v.initial)?v.initial[0]:v.initial);z&&z.transition&&(I.transition=z.transition)}_.forEach(z=>{const V=r.getBaseTarget(z),U=r.getValue(z);U&&(U.liveStyle=!0),I[z]=V??null}),C.push({animation:I})}let R=!!C.length;return i&&(v.initial===!1||v.initial===v.animate)&&!r.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(C):Promise.resolve()}function f(b,v){var C;if(s[b].isActive===v)return Promise.resolve();(C=r.variantChildren)==null||C.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(b,v)}),s[b].isActive=v;const k=m(b);for(const _ in s)s[_].protectedKeys={};return k}return{animateChanges:m,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=NI(),i=!0}}}function ese(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!t6(t,r):!1}function Cm(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NI(){return{animate:Cm(!0),whileInView:Cm(),whileHover:Cm(),whileTap:Cm(),whileDrag:Cm(),whileFocus:Cm(),exit:Cm()}}class oh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tse extends oh{constructor(t){super(t),t.animationState||(t.animationState=Zne(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();M1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let rse=0;class nse extends oh{constructor(){super(...arguments),this.id=rse++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const sse={animation:{Feature:tse},exit:{Feature:nse}};function yx(r,t,s,i={passive:!0}){return r.addEventListener(t,s,i),()=>r.removeEventListener(t,s)}function Kx(r){return{point:{x:r.pageX,y:r.pageY}}}const ose=r=>t=>SN(t)&&r(t,Kx(t));function Gy(r,t,s,i){return yx(r,t,ose(s),i)}function n6({top:r,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:r,max:i}}}function ise({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function ase(r,t){if(!t)return r;const s=t({x:r.left,y:r.top}),i=t({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}const s6=1e-4,lse=1-s6,cse=1+s6,o6=.01,dse=0-o6,use=0+o6;function Eo(r){return r.max-r.min}function hse(r,t,s){return Math.abs(r-t)<=s}function SI(r,t,s,i=.5){r.origin=i,r.originPoint=kn(t.min,t.max,r.origin),r.scale=Eo(s)/Eo(t),r.translate=kn(s.min,s.max,r.origin)-r.originPoint,(r.scale>=lse&&r.scale<=cse||isNaN(r.scale))&&(r.scale=1),(r.translate>=dse&&r.translate<=use||isNaN(r.translate))&&(r.translate=0)}function Hy(r,t,s,i){SI(r.x,t.x,s.x,i?i.originX:void 0),SI(r.y,t.y,s.y,i?i.originY:void 0)}function EI(r,t,s){r.min=s.min+t.min,r.max=r.min+Eo(t)}function mse(r,t,s){EI(r.x,t.x,s.x),EI(r.y,t.y,s.y)}function DI(r,t,s){r.min=t.min-s.min,r.max=r.min+Eo(t)}function qy(r,t,s){DI(r.x,t.x,s.x),DI(r.y,t.y,s.y)}const MI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Of=()=>({x:MI(),y:MI()}),TI=()=>({min:0,max:0}),Hn=()=>({x:TI(),y:TI()});function Xi(r){return[r("x"),r("y")]}function t2(r){return r===void 0||r===1}function _A({scale:r,scaleX:t,scaleY:s}){return!t2(r)||!t2(t)||!t2(s)}function Am(r){return _A(r)||i6(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function i6(r){return II(r.x)||II(r.y)}function II(r){return r&&r!=="0%"}function Vk(r,t,s){const i=r-s,l=t*i;return s+l}function RI(r,t,s,i,l){return l!==void 0&&(r=Vk(r,l,i)),Vk(r,s,i)+t}function AA(r,t=0,s=1,i,l){r.min=RI(r.min,t,s,i,l),r.max=RI(r.max,t,s,i,l)}function a6(r,{x:t,y:s}){AA(r.x,t.translate,t.scale,t.originPoint),AA(r.y,s.translate,s.scale,s.originPoint)}const PI=.999999999999,OI=1.0000000000001;function pse(r,t,s,i=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,m;for(let f=0;f<l;f++){u=s[f],m=u.projectionDelta;const{visualElement:b}=u.options;b&&b.props.style&&b.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lf(r,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),m&&(t.x*=m.x.scale,t.y*=m.y.scale,a6(r,m)),i&&Am(u.latestValues)&&Lf(r,u.latestValues))}t.x<OI&&t.x>PI&&(t.x=1),t.y<OI&&t.y>PI&&(t.y=1)}function Bf(r,t){r.min=r.min+t,r.max=r.max+t}function BI(r,t,s,i,l=.5){const u=kn(r.min,r.max,l);AA(r,t,s,u,i)}function Lf(r,t){BI(r.x,t.x,t.scaleX,t.scale,t.originX),BI(r.y,t.y,t.scaleY,t.scale,t.originY)}function l6(r,t){return n6(ase(r.getBoundingClientRect(),t))}function fse(r,t,s){const i=l6(r,s),{scroll:l}=t;return l&&(Bf(i.x,l.offset.x),Bf(i.y,l.offset.y)),i}const c6=({current:r})=>r?r.ownerDocument.defaultView:null,LI=(r,t)=>Math.abs(r-t);function gse(r,t){const s=LI(r.x,t.x),i=LI(r.y,t.y);return Math.sqrt(s**2+i**2)}class d6{constructor(t,s,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=n2(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=gse(C.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:M}=C,{timestamp:R}=qs;this.history.push({...M,timestamp:R});const{onStart:I,onMove:z}=this.handlers;_||(I&&I(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,C)},this.handlePointerMove=(C,_)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=r2(_,this.transformPagePoint),_n.update(this.updatePoint,!0)},this.handlePointerUp=(C,_)=>{this.end();const{onEnd:S,onSessionEnd:M,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=n2(C.type==="pointercancel"?this.lastMoveEventInfo:r2(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(C,I),M&&M(C,I)},!SN(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=i,this.contextWindow=l||window;const m=Kx(t),f=r2(m,this.transformPagePoint),{point:b}=f,{timestamp:v}=qs;this.history=[{...b,timestamp:v}];const{onSessionStart:k}=s;k&&k(t,n2(f,this.history)),this.removeListeners=qx(Gy(this.contextWindow,"pointermove",this.handlePointerMove),Gy(this.contextWindow,"pointerup",this.handlePointerUp),Gy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ju(this.updatePoint)}}function r2(r,t){return t?{point:t(r.point)}:r}function zI(r,t){return{x:r.x-t.x,y:r.y-t.y}}function n2({point:r},t){return{point:r,delta:zI(r,u6(t)),offset:zI(r,bse(t)),velocity:yse(t,.1)}}function bse(r){return r[0]}function u6(r){return r[r.length-1]}function yse(r,t){if(r.length<2)return{x:0,y:0};let s=r.length-1,i=null;const l=u6(r);for(;s>=0&&(i=r[s],!(l.timestamp-i.timestamp>Xl(t)));)s--;if(!i)return{x:0,y:0};const u=Zl(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const m={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}function xse(r,{min:t,max:s},i){return t!==void 0&&r<t?r=i?kn(t,r,i.min):Math.max(r,t):s!==void 0&&r>s&&(r=i?kn(s,r,i.max):Math.min(r,s)),r}function FI(r,t,s){return{min:t!==void 0?r.min+t:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function vse(r,{top:t,left:s,bottom:i,right:l}){return{x:FI(r.x,s,l),y:FI(r.y,t,i)}}function VI(r,t){let s=t.min-r.min,i=t.max-r.max;return t.max-t.min<r.max-r.min&&([s,i]=[i,s]),{min:s,max:i}}function wse(r,t){return{x:VI(r.x,t.x),y:VI(r.y,t.y)}}function kse(r,t){let s=.5;const i=Eo(r),l=Eo(t);return l>i?s=hx(t.min,t.max-i,r.min):i>l&&(s=hx(r.min,r.max-l,t.min)),xd(0,1,s)}function Cse(r,t){const s={};return t.min!==void 0&&(s.min=t.min-r.min),t.max!==void 0&&(s.max=t.max-r.min),s}const jA=.35;function _se(r=jA){return r===!1?r=0:r===!0&&(r=jA),{x:UI(r,"left","right"),y:UI(r,"top","bottom")}}function UI(r,t,s){return{min:GI(r,t),max:GI(r,s)}}function GI(r,t){return typeof r=="number"?r:r[t]||0}const Ase=new WeakMap;class jse{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=k=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Kx(k).point)},u=(k,C)=>{const{drag:_,dragPropagation:S,onDragStart:M}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Fre(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xi(I=>{let z=this.getAxisMotionValue(I).get()||0;if(ec.test(z)){const{projection:V}=this.visualElement;if(V&&V.layout){const U=V.layout.layoutBox[I];U&&(z=Eo(U)*(parseFloat(z)/100))}}this.originPoint[I]=z}),M&&_n.postRender(()=>M(k,C)),kA(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},m=(k,C)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:M,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=C;if(S&&this.currentDirection===null){this.currentDirection=Nse(I),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",C.point,I),this.updateAxis("y",C.point,I),this.visualElement.render(),R&&R(k,C)},f=(k,C)=>this.stop(k,C),b=()=>Xi(k=>{var C;return this.getAnimationState(k)==="paused"&&((C=this.getAxisMotionValue(k).animation)==null?void 0:C.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new d6(t,{onSessionStart:l,onStart:u,onMove:m,onSessionEnd:f,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,contextWindow:c6(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&_n.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:l}=this.getProps();if(!i||!Nw(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let m=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(m=xse(m,this.constraints[t],this.elastic[t])),u.set(m)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;t&&Pf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=vse(i.layoutBox,t):this.constraints=!1,this.elastic=_se(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xi(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=Cse(i.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Pf(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=fse(i,l.root,this.visualElement.getTransformPagePoint());let m=wse(l.layout.layoutBox,u);if(s){const f=s(ise(m));this.hasMutatedConstraints=!!f,f&&(m=n6(f))}return m}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:m,onDragTransitionEnd:f}=this.getProps(),b=this.constraints||{},v=Xi(k=>{if(!Nw(k,s,this.currentDirection))return;let C=b&&b[k]||{};m&&(C={min:0,max:0});const _=l?200:1e6,S=l?40:1e7,M={type:"inertia",velocity:i?t[k]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...C};return this.startAxisValueAnimation(k,M)});return Promise.all(v).then(f)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return kA(this.visualElement,t),i.start(zN(t,i,0,s,this.visualElement,!1))}stopAnimation(){Xi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xi(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Xi(s=>{const{drag:i}=this.getProps();if(!Nw(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:m,max:f}=l.layout.layoutBox[s];u.set(t[s]-kn(m,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Pf(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Xi(m=>{const f=this.getAxisMotionValue(m);if(f&&this.constraints!==!1){const b=f.get();l[m]=kse({min:b,max:b},this.constraints[m])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Xi(m=>{if(!Nw(m,t,null))return;const f=this.getAxisMotionValue(m),{min:b,max:v}=this.constraints[m];f.set(kn(b,v,l[m]))})}addListeners(){if(!this.visualElement.current)return;Ase.set(this.visualElement,this);const t=this.visualElement.current,s=Gy(t,"pointerdown",b=>{const{drag:v,dragListener:k=!0}=this.getProps();v&&k&&this.start(b)}),i=()=>{const{dragConstraints:b}=this.getProps();Pf(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),_n.read(i);const m=yx(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",({delta:b,hasLayoutChanged:v})=>{this.isDragging&&v&&(Xi(k=>{const C=this.getAxisMotionValue(k);C&&(this.originPoint[k]+=b[k].translate,C.set(C.get()+b[k].translate))}),this.visualElement.render())});return()=>{m(),s(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:m=jA,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:m,dragMomentum:f}}}function Nw(r,t,s){return(t===!0||t===r)&&(s===null||s===r)}function Nse(r,t=10){let s=null;return Math.abs(r.y)>t?s="y":Math.abs(r.x)>t&&(s="x"),s}class Sse extends oh{constructor(t){super(t),this.removeGroupControls=ta,this.removeListeners=ta,this.controls=new jse(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ta}unmount(){this.removeGroupControls(),this.removeListeners()}}const HI=r=>(t,s)=>{r&&_n.postRender(()=>r(t,s))};class Ese extends oh{constructor(){super(...arguments),this.removePointerDownListener=ta}onPointerDown(t){this.session=new d6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:HI(t),onStart:HI(s),onMove:i,onEnd:(u,m)=>{delete this.session,l&&_n.postRender(()=>l(u,m))}}}mount(){this.removePointerDownListener=Gy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qI(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const by={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(Et.test(r))r=parseFloat(r);else return r;const s=qI(r,t.target.x),i=qI(r,t.target.y);return`${s}% ${i}%`}},Dse={correct:(r,{treeScale:t,projectionDelta:s})=>{const i=r,l=$u.parse(r);if(l.length>5)return i;const u=$u.createTransformer(r),m=typeof l[0]!="number"?1:0,f=s.x.scale*t.x,b=s.y.scale*t.y;l[0+m]/=f,l[1+m]/=b;const v=kn(f,b,.5);return typeof l[2+m]=="number"&&(l[2+m]/=v),typeof l[3+m]=="number"&&(l[3+m]/=v),u(l)}};class Mse extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=t;fne(Tse),u&&(s.group&&s.group.add(u),i&&i.register&&l&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),nk.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:l,isPresent:u}=this.props,{projection:m}=i;return m&&(m.isPresent=u,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?m.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?m.promote():m.relegate()||_n.postRender(()=>{const f=m.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),NN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function h6(r){const[t,s]=zB(),i=O.useContext(sN);return n.jsx(Mse,{...r,layoutGroup:i,switchLayoutGroup:O.useContext(HB),isPresent:t,safeToRemove:s})}const Tse={borderRadius:{...by,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:by,borderTopRightRadius:by,borderBottomLeftRadius:by,borderBottomRightRadius:by,boxShadow:Dse};function Ise(r,t,s){const i=po(r)?r:Xf(r);return i.start(zN("",i,t,s)),i.animation}const Rse=(r,t)=>r.depth-t.depth;class Pse{constructor(){this.children=[],this.isDirty=!1}add(t){aN(this.children,t),this.isDirty=!0}remove(t){lN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rse),this.isDirty=!1,this.children.forEach(t)}}function Ose(r,t){const s=Zo.now(),i=({timestamp:l})=>{const u=l-s;u>=t&&(Ju(i),r(u-t))};return _n.setup(i,!0),()=>Ju(i)}const m6=["TopLeft","TopRight","BottomLeft","BottomRight"],Bse=m6.length,YI=r=>typeof r=="string"?parseFloat(r):r,WI=r=>typeof r=="number"||Et.test(r);function Lse(r,t,s,i,l,u){l?(r.opacity=kn(0,s.opacity??1,zse(i)),r.opacityExit=kn(t.opacity??1,0,Fse(i))):u&&(r.opacity=kn(t.opacity??1,s.opacity??1,i));for(let m=0;m<Bse;m++){const f=`border${m6[m]}Radius`;let b=KI(t,f),v=KI(s,f);if(b===void 0&&v===void 0)continue;b||(b=0),v||(v=0),b===0||v===0||WI(b)===WI(v)?(r[f]=Math.max(kn(YI(b),YI(v),i),0),(ec.test(v)||ec.test(b))&&(r[f]+="%")):r[f]=v}(t.rotate||s.rotate)&&(r.rotate=kn(t.rotate||0,s.rotate||0,i))}function KI(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const zse=p6(0,.5,iB),Fse=p6(.5,.95,ta);function p6(r,t,s){return i=>i<r?0:i>t?1:s(hx(r,t,i))}function QI(r,t){r.min=t.min,r.max=t.max}function $i(r,t){QI(r.x,t.x),QI(r.y,t.y)}function JI(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function $I(r,t,s,i,l){return r-=t,r=Vk(r,1/s,i),l!==void 0&&(r=Vk(r,1/l,i)),r}function Vse(r,t=0,s=1,i=.5,l,u=r,m=r){if(ec.test(t)&&(t=parseFloat(t),t=kn(m.min,m.max,t/100)-m.min),typeof t!="number")return;let f=kn(u.min,u.max,i);r===u&&(f-=t),r.min=$I(r.min,t,s,f,l),r.max=$I(r.max,t,s,f,l)}function XI(r,t,[s,i,l],u,m){Vse(r,t[s],t[i],t[l],t.scale,u,m)}const Use=["x","scaleX","originX"],Gse=["y","scaleY","originY"];function ZI(r,t,s,i){XI(r.x,t,Use,s?s.x:void 0,i?i.x:void 0),XI(r.y,t,Gse,s?s.y:void 0,i?i.y:void 0)}function eR(r){return r.translate===0&&r.scale===1}function f6(r){return eR(r.x)&&eR(r.y)}function tR(r,t){return r.min===t.min&&r.max===t.max}function Hse(r,t){return tR(r.x,t.x)&&tR(r.y,t.y)}function rR(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function g6(r,t){return rR(r.x,t.x)&&rR(r.y,t.y)}function nR(r){return Eo(r.x)/Eo(r.y)}function sR(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class qse{constructor(){this.members=[]}add(t){aN(this.members,t),t.scheduleRender()}remove(t){if(lN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yse(r,t,s){let i="";const l=r.x.translate/t.x,u=r.y.translate/t.y,m=(s==null?void 0:s.z)||0;if((l||u||m)&&(i=`translate3d(${l}px, ${u}px, ${m}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:v,rotate:k,rotateX:C,rotateY:_,skewX:S,skewY:M}=s;v&&(i=`perspective(${v}px) ${i}`),k&&(i+=`rotate(${k}deg) `),C&&(i+=`rotateX(${C}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),M&&(i+=`skewY(${M}deg) `)}const f=r.x.scale*t.x,b=r.y.scale*t.y;return(f!==1||b!==1)&&(i+=`scale(${f}, ${b})`),i||"none"}const s2=["","X","Y","Z"],Wse={visibility:"hidden"},Kse=1e3;let Qse=0;function o2(r,t,s,i){const{latestValues:l}=t;l[r]&&(s[r]=l[r],t.setStaticValue(r,0),i&&(i[r]=0))}function b6(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const s=ZB(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",_n,!(l||u))}const{parent:i}=r;i&&!i.hasCheckedOptimisedAppear&&b6(i)}function y6({attachResizeListener:r,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(m={},f=t==null?void 0:t()){this.id=Qse++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xse),this.nodes.forEach(roe),this.nodes.forEach(noe),this.nodes.forEach(Zse)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pse)}addEventListener(m,f){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new uN),this.eventHandlers.get(m).add(f)}notifyListeners(m,...f){const b=this.eventHandlers.get(m);b&&b.notify(...f)}hasListeners(m){return this.eventHandlers.has(m)}mount(m){if(this.instance)return;this.isSVG=LB(m)&&!Yre(m),this.instance=m;const{layoutId:f,layout:b,visualElement:v}=this.options;if(v&&!v.current&&v.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(b||f)&&(this.isLayoutDirty=!0),r){let k;const C=()=>this.root.updateBlockedByResize=!1;r(m,()=>{this.root.updateBlockedByResize=!0,k&&k(),k=Ose(C,250),nk.hasAnimatedSinceResize&&(nk.hasAnimatedSinceResize=!1,this.nodes.forEach(aR))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||b)&&this.addEventListener("didUpdate",({delta:k,hasLayoutChanged:C,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||v.getDefaultTransition()||loe,{onLayoutAnimationStart:R,onLayoutAnimationComplete:I}=v.getProps(),z=!this.targetLayout||!g6(this.targetLayout,S),V=!C&&_;if(this.options.layoutRoot||this.resumeFrom||V||C&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...AN(M,"layout"),onPlay:R,onComplete:I};(v.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(k,V)}else C||aR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ju(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(soe),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let k=0;k<this.path.length;k++){const C=this.path[k];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:f,layout:b}=this.options;if(f===void 0&&!b)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iR);return}this.isUpdating||this.nodes.forEach(iR),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(toe),this.nodes.forEach(Jse),this.nodes.forEach($se),this.clearAllSnapshots();const f=Zo.now();qs.delta=xd(0,1e3/60,f-qs.timestamp),qs.timestamp=f,qs.isProcessing=!0,Q_.update.process(qs),Q_.preRender.process(qs),Q_.render.process(qs),qs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eoe),this.sharedNodes.forEach(ooe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Eo(this.snapshot.measuredBox.x)&&!Eo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(f=!1),f&&this.instance){const b=i(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:b,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!l)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!f6(this.projectionDelta),b=this.getTransformTemplate(),v=b?b(this.latestValues,""):void 0,k=v!==this.prevTransformTemplateValue;m&&this.instance&&(f||Am(this.latestValues)||k)&&(l(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const f=this.measurePageBox();let b=this.removeElementScroll(f);return m&&(b=this.removeTransform(b)),coe(b),{animationId:this.root.animationId,measuredBox:f,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var v;const{visualElement:m}=this.options;if(!m)return Hn();const f=m.measureViewportBox();if(!(((v=this.scroll)==null?void 0:v.wasRoot)||this.path.some(doe))){const{scroll:k}=this.root;k&&(Bf(f.x,k.offset.x),Bf(f.y,k.offset.y))}return f}removeElementScroll(m){var b;const f=Hn();if($i(f,m),(b=this.scroll)!=null&&b.wasRoot)return f;for(let v=0;v<this.path.length;v++){const k=this.path[v],{scroll:C,options:_}=k;k!==this.root&&C&&_.layoutScroll&&(C.wasRoot&&$i(f,m),Bf(f.x,C.offset.x),Bf(f.y,C.offset.y))}return f}applyTransform(m,f=!1){const b=Hn();$i(b,m);for(let v=0;v<this.path.length;v++){const k=this.path[v];!f&&k.options.layoutScroll&&k.scroll&&k!==k.root&&Lf(b,{x:-k.scroll.offset.x,y:-k.scroll.offset.y}),Am(k.latestValues)&&Lf(b,k.latestValues)}return Am(this.latestValues)&&Lf(b,this.latestValues),b}removeTransform(m){const f=Hn();$i(f,m);for(let b=0;b<this.path.length;b++){const v=this.path[b];if(!v.instance||!Am(v.latestValues))continue;_A(v.latestValues)&&v.updateSnapshot();const k=Hn(),C=v.measurePageBox();$i(k,C),ZI(f,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,k)}return Am(this.latestValues)&&ZI(f,this.latestValues),f}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){var _;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==f;if(!(m||b&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:k,layoutId:C}=this.options;if(!(!this.layout||!(k||C))){if(this.resolvedRelativeTargetAt=qs.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),qy(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),a6(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),qy(this.relativeTargetOrigin,this.target,S.target),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_A(this.parent.latestValues)||i6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const m=this.getLead(),f=!!this.resumingFrom||this!==m;let b=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(b=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===qs.timestamp&&(b=!1),b)return;const{layout:v,layoutId:k}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||k))return;$i(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,_=this.treeScale.y;pse(this.layoutCorrected,this.treeScale,this.path,f),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Hn());const{target:S}=m;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JI(this.prevProjectionDelta.x,this.projectionDelta.x),JI(this.prevProjectionDelta.y,this.projectionDelta.y)),Hy(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==C||this.treeScale.y!==_||!sR(this.projectionDelta.x,this.prevProjectionDelta.x)||!sR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),m){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Of(),this.projectionDelta=Of(),this.projectionDeltaWithTransform=Of()}setAnimationOrigin(m,f=!1){const b=this.snapshot,v=b?b.latestValues:{},k={...this.latestValues},C=Of();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=Hn(),S=b?b.source:void 0,M=this.layout?this.layout.source:void 0,R=S!==M,I=this.getStack(),z=!I||I.members.length<=1,V=!!(R&&!z&&this.options.crossfade===!0&&!this.path.some(aoe));this.animationProgress=0;let U;this.mixTargetDelta=q=>{const $=q/1e3;lR(C.x,m.x,$),lR(C.y,m.y,$),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qy(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ioe(this.relativeTarget,this.relativeTargetOrigin,_,$),U&&Hse(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Hn()),$i(U,this.relativeTarget)),R&&(this.animationValues=k,Lse(k,v,this.latestValues,$,V,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){var f,b,v;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(v=(b=this.resumingFrom)==null?void 0:b.currentAnimation)==null||v.stop(),this.pendingAnimation&&(Ju(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_n.update(()=>{nk.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xf(0)),this.currentAnimation=Ise(this.motionValue,[0,1e3],{...m,velocity:0,isSync:!0,onUpdate:k=>{this.mixTargetDelta(k),m.onUpdate&&m.onUpdate(k)},onStop:()=>{},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kse),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:f,target:b,layout:v,latestValues:k}=m;if(!(!f||!b||!v)){if(this!==m&&this.layout&&v&&x6(this.options.animationType,this.layout.layoutBox,v.layoutBox)){b=this.target||Hn();const C=Eo(this.layout.layoutBox.x);b.x.min=m.target.x.min,b.x.max=b.x.min+C;const _=Eo(this.layout.layoutBox.y);b.y.min=m.target.y.min,b.y.max=b.y.min+_}$i(f,b),Lf(f,k),Hy(this.projectionDeltaWithTransform,this.layoutCorrected,f,k)}}registerSharedNode(m,f){this.sharedNodes.has(m)||this.sharedNodes.set(m,new qse),this.sharedNodes.get(m).add(f);const v=f.options.initialPromotionConfig;f.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(f):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){var f;const{layoutId:m}=this.options;return m?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:m}=this.options;return m?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:f,preserveFollowOpacity:b}={}){const v=this.getStack();v&&v.promote(this,b),m&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let f=!1;const{latestValues:b}=m;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(f=!0),!f)return;const v={};b.z&&o2("z",m,v,this.animationValues);for(let k=0;k<s2.length;k++)o2(`rotate${s2[k]}`,m,v,this.animationValues),o2(`skew${s2[k]}`,m,v,this.animationValues);m.render();for(const k in v)m.setStaticValue(k,v[k]),this.animationValues&&(this.animationValues[k]=v[k]);m.scheduleRender()}getProjectionStyles(m){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Wse;const f={visibility:""},b=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=rk(m==null?void 0:m.pointerEvents)||"",f.transform=b?b(this.latestValues,""):"none",f;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=rk(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Am(this.latestValues)&&(S.transform=b?b({},""):"none",this.hasProjected=!1),S}const k=v.animationValues||v.latestValues;this.applyTransformsToTarget(),f.transform=Yse(this.projectionDeltaWithTransform,this.treeScale,k),b&&(f.transform=b(k,f.transform));const{x:C,y:_}=this.projectionDelta;f.transformOrigin=`${C.origin*100}% ${_.origin*100}% 0`,v.animationValues?f.opacity=v===this?k.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:k.opacityExit:f.opacity=v===this?k.opacity!==void 0?k.opacity:"":k.opacityExit!==void 0?k.opacityExit:0;for(const S in gx){if(k[S]===void 0)continue;const{correct:M,applyTo:R,isCSSVariable:I}=gx[S],z=f.transform==="none"?k[S]:M(k[S],v);if(R){const V=R.length;for(let U=0;U<V;U++)f[R[U]]=z}else I?this.options.visualElement.renderState.vars[S]=z:f[S]=z}return this.options.layoutId&&(f.pointerEvents=v===this?rk(m==null?void 0:m.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>{var f;return(f=m.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(oR),this.root.sharedNodes.clear()}}}function Jse(r){r.updateLayout()}function $se(r){var s;const t=((s=r.resumeFrom)==null?void 0:s.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=r.layout,{animationType:u}=r.options,m=t.source!==r.layout.source;u==="size"?Xi(C=>{const _=m?t.measuredBox[C]:t.layoutBox[C],S=Eo(_);_.min=i[C].min,_.max=_.min+S}):x6(u,t.layoutBox,i)&&Xi(C=>{const _=m?t.measuredBox[C]:t.layoutBox[C],S=Eo(i[C]);_.max=_.min+S,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[C].max=r.relativeTarget[C].min+S)});const f=Of();Hy(f,i,t.layoutBox);const b=Of();m?Hy(b,r.applyTransform(l,!0),t.measuredBox):Hy(b,i,t.layoutBox);const v=!f6(f);let k=!1;if(!r.resumeFrom){const C=r.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:_,layout:S}=C;if(_&&S){const M=Hn();qy(M,t.layoutBox,_.layoutBox);const R=Hn();qy(R,i,S.layoutBox),g6(M,R)||(k=!0),C.options.layoutRoot&&(r.relativeTarget=R,r.relativeTargetOrigin=M,r.relativeParent=C)}}}r.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:b,layoutDelta:f,hasLayoutChanged:v,hasRelativeLayoutChanged:k})}else if(r.isLead()){const{onExitComplete:i}=r.options;i&&i()}r.options.transition=void 0}function Xse(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Zse(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function eoe(r){r.clearSnapshot()}function oR(r){r.clearMeasurements()}function iR(r){r.isLayoutDirty=!1}function toe(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function aR(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function roe(r){r.resolveTargetDelta()}function noe(r){r.calcProjection()}function soe(r){r.resetSkewAndRotation()}function ooe(r){r.removeLeadSnapshot()}function lR(r,t,s){r.translate=kn(t.translate,0,s),r.scale=kn(t.scale,1,s),r.origin=t.origin,r.originPoint=t.originPoint}function cR(r,t,s,i){r.min=kn(t.min,s.min,i),r.max=kn(t.max,s.max,i)}function ioe(r,t,s,i){cR(r.x,t.x,s.x,i),cR(r.y,t.y,s.y,i)}function aoe(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const loe={duration:.45,ease:[.4,0,.1,1]},dR=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),uR=dR("applewebkit/")&&!dR("chrome/")?Math.round:ta;function hR(r){r.min=uR(r.min),r.max=uR(r.max)}function coe(r){hR(r.x),hR(r.y)}function x6(r,t,s){return r==="position"||r==="preserve-aspect"&&!hse(nR(t),nR(s),.2)}function doe(r){var t;return r!==r.root&&((t=r.scroll)==null?void 0:t.wasRoot)}const uoe=y6({attachResizeListener:(r,t)=>yx(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),i2={current:void 0},v6=y6({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!i2.current){const r=new uoe({});r.mount(window),r.setOptions({layoutScroll:!0}),i2.current=r}return i2.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),hoe={pan:{Feature:Ese},drag:{Feature:Sse,ProjectionNode:v6,MeasureLayout:h6}};function mR(r,t,s){const{props:i}=r;r.animationState&&i.whileHover&&r.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=i[l];u&&_n.postRender(()=>u(t,Kx(t)))}class moe extends oh{mount(){const{current:t}=this.node;t&&(this.unmount=Vre(t,(s,i)=>(mR(this.node,i,"Start"),l=>mR(this.node,l,"End"))))}unmount(){}}class poe extends oh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qx(yx(this.node.current,"focus",()=>this.onFocus()),yx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pR(r,t,s){const{props:i}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&i.whileTap&&r.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=i[l];u&&_n.postRender(()=>u(t,Kx(t)))}class foe extends oh{mount(){const{current:t}=this.node;t&&(this.unmount=qre(t,(s,i)=>(pR(this.node,i,"Start"),(l,{success:u})=>pR(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NA=new WeakMap,a2=new WeakMap,goe=r=>{const t=NA.get(r.target);t&&t(r)},boe=r=>{r.forEach(goe)};function yoe({root:r,...t}){const s=r||document;a2.has(s)||a2.set(s,{});const i=a2.get(s),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(boe,{root:r,...t})),i[l]}function xoe(r,t,s){const i=yoe(t);return NA.set(r,s),i.observe(r),()=>{NA.delete(r),i.unobserve(r)}}const voe={some:0,all:1};class woe extends oh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:u}=t,m={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:voe[l]},f=b=>{const{isIntersecting:v}=b;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:k,onViewportLeave:C}=this.node.getProps(),_=v?k:C;_&&_(b)};return xoe(this.node.current,m,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(koe(t,s))&&this.startObserver()}unmount(){}}function koe({viewport:r={}},{viewport:t={}}={}){return s=>r[s]!==t[s]}const Coe={inView:{Feature:woe},tap:{Feature:foe},focus:{Feature:poe},hover:{Feature:moe}},_oe={layout:{ProjectionNode:v6,MeasureLayout:h6}},SA={current:null},w6={current:!1};function Aoe(){if(w6.current=!0,!!iN)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>SA.current=r.matches;r.addListener(t),t()}else SA.current=!1}const joe=new WeakMap;function Noe(r,t,s){for(const i in t){const l=t[i],u=s[i];if(po(l))r.addValue(i,l);else if(po(u))r.addValue(i,Xf(l,{owner:r}));else if(u!==l)if(r.hasValue(i)){const m=r.getValue(i);m.liveStyle===!0?m.jump(l):m.hasAnimated||m.set(l)}else{const m=r.getStaticValue(i);r.addValue(i,Xf(m!==void 0?m:l,{owner:r}))}}for(const i in s)t[i]===void 0&&r.removeValue(i);return t}const fR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Soe{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:m},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=CN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Zo.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,_n.render(this.render,!1,!0))};const{latestValues:b,renderState:v}=m;this.latestValues=b,this.baseTarget={...b},this.initialValues=s.initial?{...b}:{},this.renderState=v,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=T1(s),this.isVariantNode=UB(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:k,...C}=this.scrapeMotionValuesFromProps(s,{},this);for(const _ in C){const S=C[_];b[_]!==void 0&&po(S)&&S.set(b[_],!1)}}mount(t){this.current=t,joe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),w6.current||Aoe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:SA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ju(this.notifyUpdate),Ju(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=pg.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&_n.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=s.on("renderRequest",this.scheduleRender);let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u(),m&&m(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zf){const s=Zf[t];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<fR.length;i++){const l=fR[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,m=t[u];m&&(this.propEventSubscriptions[l]=this.on(l,m))}this.prevMotionValues=Noe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Xf(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(J9(i)||X9(i))?i=parseFloat(i):!Kre(i)&&$u.test(s)&&(i=IB(t,s)),this.setBaseTarget(t,po(i)?i.get():i)),po(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var u;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const m=BN(this.props,s,(u=this.presenceContext)==null?void 0:u.custom);m&&(i=m[t])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!po(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new uN),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class k6 extends Soe{constructor(){super(...arguments),this.KeyframeResolver=Ore}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;po(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function C6(r,{style:t,vars:s},i,l){Object.assign(r.style,t,l&&l.getProjectionStyles(i));for(const u in s)r.style.setProperty(u,s[u])}function Eoe(r){return window.getComputedStyle(r)}class Doe extends k6{constructor(){super(...arguments),this.type="html",this.renderInstance=C6}readValueFromInstance(t,s){var i;if(pg.has(s))return(i=this.projection)!=null&&i.isProjecting?fA(s):tre(t,s);{const l=Eoe(t),u=(pN(s)?l.getPropertyValue(s):l[s])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:s}){return l6(t,s)}build(t,s,i){RN(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return LN(t,s,i)}}const _6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Moe(r,t,s,i){C6(r,t,void 0,i);for(const l in t.attrs)r.setAttribute(_6.has(l)?l:IN(l),t.attrs[l])}class Toe extends k6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(pg.has(s)){const i=TB(s);return i&&i.default||0}return s=_6.has(s)?s:IN(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return XB(t,s,i)}build(t,s,i){KB(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,l){Moe(t,s,i,l)}mount(t){this.isSVGTag=JB(t.tagName),super.mount(t)}}const Ioe=(r,t)=>ON(r)?new Toe(t):new Doe(t,{allowProjection:r!==O.Fragment}),Roe=Tne({...sse,...Coe,...hoe,..._oe},Ioe),On=nne(Roe),Qx=nn(Zu((r,t)=>({banners:[],loading:!1,error:null,setBanners:s=>r({banners:s}),setLoading:s=>r({loading:s}),setError:s=>r({error:s}),fetchBanners:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.get("/admin/banners/");if(l.status===200)return r({banners:l.data.banners||[],loading:!1}),l.data.banners}catch(l){throw console.error("Error fetching banners:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch banners",loading:!1}),l}},fetchPublicBanners:async()=>{var i,l;const s=t();if(s.loading||s.banners.length>0)return s.banners;r({loading:!0,error:null});try{const u=await Ze.get("/admin/banners/public/");if(u.status===200)return r({banners:u.data.banners||[],loading:!1}),u.data.banners}catch(u){throw console.error("Error fetching public banners:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch public banners",loading:!1}),u}},addBanner:async s=>{var i,l;r({loading:!0,error:null});try{const u=await Ze.post("/admin/banners/add/",s,{headers:{"Content-Type":"multipart/form-data"}});if(u.status===201)return await t().fetchBanners(),r({loading:!1}),u.data}catch(u){throw console.error("Error adding banner:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add banner",loading:!1}),u}},editBanner:async(s,i)=>{var l,u;r({loading:!0,error:null});try{const m=i instanceof FormData;let f={};m&&(f={"Content-Type":"multipart/form-data"});const b=await Ze.patch(`/admin/banners/edit/${s}/`,i,{headers:f});if(b.status===200)return await t().fetchBanners(),r({loading:!1}),b.data}catch(m){throw console.error("Error editing banner:",m),r({error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to edit banner",loading:!1}),m}},deleteBanner:async s=>{var i,l;r({loading:!0,error:null});try{const u=await Ze.delete(`/admin/banners/delete/${s}/`);if(u.status===200){const{banners:m}=t(),f=m.filter(b=>b.id!==s);return r({banners:f,loading:!1}),u.data}}catch(u){throw console.error("Error deleting banner:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete banner",loading:!1}),u}},toggleBannerActive:async s=>{var i,l;r({loading:!0,error:null});try{const u=await Ze.patch(`/admin/banners/toggle/${s}/`);if(u.status===200){const{banners:m}=t(),f=m.map(b=>b.id===s?{...b,active:u.data.active}:b);return r({banners:f,loading:!1}),u.data}}catch(u){throw console.error("Error toggling banner:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle banner",loading:!1}),u}},getBannersByPosition:s=>{const{banners:i}=t();return i.filter(l=>l.position===s&&l.active)},getHeroBanners:()=>{const{banners:s}=t();return s.filter(i=>i.position==="hero"&&i.active).sort((i,l)=>new Date(i.created_at)-new Date(l.created_at))},getCarouselBanners:()=>{const{banners:s}=t();return s.filter(l=>["home-middle","home-bottom","carousel"].includes(l.position)&&l.active).sort((l,u)=>new Date(l.created_at)-new Date(u.created_at))},getDropdownBanners:s=>{const{banners:i}=t();return i.filter(l=>l.position==="dropdown"&&l.active&&l.category===s).sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)).slice(0,2)},clearError:()=>r({error:null})}))),Poe=[{id:1,image:"/mobile1.png",backgroundColor:"#f8fafc"},{id:2,image:"/laptops.png",backgroundColor:"#f1f5f9"},{id:3,image:"/tv1.png",backgroundColor:"#e2e8f0"},{id:4,image:"/tablets1.png",backgroundColor:"#f1f5f9"},{id:5,image:"/accessories.png",backgroundColor:"#f8fafc"}],gR=()=>{const{getCarouselBanners:r}=Qx(),[t,s]=O.useState(0),[[i,l],u]=O.useState([0,0]),m=r(),f=m.length>0?m:Poe;O.useEffect(()=>{const _=setTimeout(()=>{const S=(t+1)%f.length;u([S,1]),s(S)},5e3);return()=>clearTimeout(_)},[t,f.length]);const b=()=>{const _=(t-1+f.length)%f.length;u([_,-1]),s(_)},v=()=>{const _=(t+1)%f.length;u([_,1]),s(_)},k={enter:_=>({x:_>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:_=>({x:_<0?1e3:-1e3,opacity:0})},C={duration:.6,ease:"easeInOut"};return n.jsxs("div",{className:"relative overflow-hidden w-full",style:{boxShadow:"var(--shadow-large)",height:"500px"},children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 h-1.5 bg-white bg-opacity-20",children:n.jsx("div",{className:"h-full",style:{width:`${(t+1)/f.length*100}%`,backgroundColor:"var(--brand-primary)",transition:"width 5s linear"}})}),n.jsx("div",{className:"relative w-full h-full overflow-hidden",children:n.jsx(DN,{initial:!1,custom:l,children:n.jsxs(On.div,{custom:l,variants:k,initial:"enter",animate:"center",exit:"exit",transition:C,className:"absolute inset-0 w-full",children:[n.jsx(On.img,{src:f[t].image,alt:f[t].title||"Banner",className:"w-full h-full object-cover",style:{backgroundColor:f[t].backgroundColor||"#f1f5f9"},initial:{scale:.95},animate:{scale:1},transition:{duration:.5},loading:"eager"}),n.jsx(On.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20",animate:{rotate:[45,55,45],opacity:[.2,.25,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),n.jsx(On.div,{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})})]},i)})}),n.jsx(On.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Previous slide",children:n.jsx(sa,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),n.jsx(On.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Next slide",children:n.jsx(wn,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),n.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:f.map((_,S)=>n.jsx(On.button,{onClick:()=>{const M=S>t?1:-1;u([S,M]),s(S)},className:`h-2.5 rounded-full ${S===t?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${S+1}`},S))})]})};function Ooe(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(r)}function Boe(r){return Oe({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V20H17V4H7ZM6 2H18C18.5523 2 19 2.44772 19 3V21C19 21.5523 18.5523 22 18 22H6C5.44772 22 5 21.5523 5 21V3C5 2.44772 5.44772 2 6 2ZM12 17C12.5523 17 13 17.4477 13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17Z"},child:[]}]})(r)}function Loe(r){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 12v-1.707c0-4.442-3.479-8.161-7.755-8.29-2.204-.051-4.251.736-5.816 2.256A7.933 7.933 0 0 0 4 10v2c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h2V10a5.95 5.95 0 0 1 1.821-4.306 5.977 5.977 0 0 1 4.363-1.691C15.392 4.099 18 6.921 18 10.293V20h2c1.103 0 2-.897 2-2v-4c0-1.103-.897-2-2-2z"},child:[]},{tag:"path",attr:{d:"M7 12h2v8H7zm8 0h2v8h-2z"},child:[]}]})(r)}function zoe(r){return Oe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"},child:[]}]})(r)}const A6=nn(r=>({categories:{list:[],loading:!1,error:null},fetchCategories:async()=>{var t,s;r(i=>({categories:{...i.categories,loading:!0,error:null}}));try{const l=(await Ze.get("/admin/categories/")).data.categories;return r({categories:{list:l,loading:!1,error:null}}),{success:!0,categories:l}}catch(i){const l=((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch categories";return r(u=>({categories:{...u.categories,loading:!1,error:l}})),{success:!1,error:l}}},addCategory:async t=>{var s,i;r(l=>({categories:{...l.categories,loading:!0,error:null}}));try{const l={...t,order:t.order||0},u=await Ze.post("/admin/categories/add/",l);if(u.data.category)return r(m=>({categories:{...m.categories,list:[...m.categories.list,u.data.category],loading:!1,error:null}})),{success:!0,message:u.data.message||"Category added successfully",category:u.data.category}}catch(l){const u=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to add category";return r(m=>({categories:{...m.categories,loading:!1,error:u}})),{success:!1,error:u}}},editCategory:async(t,s)=>{var i,l;r(u=>({categories:{...u.categories,loading:!0,error:null}}));try{const u={...s,order:s.order!==void 0?s.order:0},m=await Ze.put(`/admin/categories/edit/${t}/`,u);if(m.data.category)return r(f=>({categories:{...f.categories,list:f.categories.list.map(b=>b.id===t?m.data.category:b),loading:!1,error:null}})),{success:!0,message:m.data.message||"Category updated successfully",category:m.data.category}}catch(u){const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update category";return r(f=>({categories:{...f.categories,loading:!1,error:m}})),{success:!1,error:m}}},uploadCategoryImage:async t=>{var s,i;try{const l=new FormData;l.append("image",t);const u=await Ze.post("/admin/categories/upload-image/",l,{headers:{"Content-Type":"multipart/form-data"}});return u.data.success?{success:!0,imageUrl:u.data.image_url,message:u.data.message||"Image uploaded successfully"}:{success:!1,message:u.data.error||"Failed to upload image"}}catch(l){return{success:!1,message:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||l.message||"Failed to upload image"}}}})),Foe={scrollbarWidth:"none",msOverflowStyle:"none"},bR=()=>{const{categories:r,fetchCategories:t}=A6(),[s,i]=O.useState([]),l=O.useRef();O.useEffect(()=>{t()},[]),O.useEffect(()=>{if(r&&r.length>0){const b=[...r].sort((v,k)=>(v.order||0)-(k.order||0));i(b)}else if(r.list&&r.list.length>0){const b=[...r.list].sort((v,k)=>(v.order||0)-(k.order||0));i(b)}},[r.list,r]);const u={Smartphones:n.jsx(Boe,{className:"w-full h-full"}),Laptops:n.jsx(IY,{className:"w-full h-full"}),Tablets:n.jsx(RY,{className:"w-full h-full"}),"Mobile Accessories":n.jsx(wt,{className:"w-full h-full"}),"Laptop Accessories":n.jsx(zoe,{className:"w-full h-full"}),"Audio Devices":n.jsx(Loe,{className:"w-full h-full"})},m=b=>{b.preventDefault(),l.current&&l.current.scrollBy({left:-300,behavior:"smooth"})},f=b=>{b.preventDefault(),l.current&&l.current.scrollBy({left:300,behavior:"smooth"})};return n.jsx("div",{className:"py-6",children:n.jsxs("div",{className:"relative px-2",onKeyDown:b=>{b.key==="ArrowLeft"&&m(b),b.key==="ArrowRight"&&f(b)},children:[n.jsx("button",{onClick:m,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(-5px)",cursor:"pointer"},"aria-label":"Scroll left",type:"button",children:n.jsx(ej,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),n.jsx("button",{onClick:f,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(5px)",cursor:"pointer"},"aria-label":"Scroll right",type:"button",children:n.jsx(tj,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),n.jsx("div",{ref:l,className:"overflow-x-auto relative z-10 scrollbar-hide",style:Foe,tabIndex:"0",children:n.jsxs("div",{className:"flex gap-6 py-4 px-8",children:[r.loading&&n.jsx("div",{className:"flex justify-center w-full py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}),r.error&&n.jsxs("div",{className:"flex justify-center w-full py-8 text-red-500",children:["Error loading categories: ",r.error]}),s.map(b=>n.jsxs(rt,{to:`${b.redirect_url}`,className:"flex-shrink-0 flex flex-col items-center transition-transform duration-300 hover:-translate-y-2 group",style:{width:"300px"},children:[n.jsx("div",{className:"flex items-center justify-center mb-6 relative overflow-hidden transition-all duration-500 hover:shadow-2xl bg-white rounded-3xl border group-hover:border-orange-300 group-hover:bg-gradient-to-br group-hover:from-orange-50 group-hover:to-red-50 group-hover:scale-105",style:{width:"160px",height:"160px",padding:"16px",border:"3px solid var(--border-primary)",boxShadow:"0 8px 25px rgba(0,0,0,0.12), 0 4px 10px rgba(0,0,0,0.08)",background:"linear-gradient(135deg, #ffffff 0%, #fafafa 100%)"},children:b.image_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-full object-contain transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3",style:{maxWidth:"100%",maxHeight:"100%",backgroundColor:"transparent",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.1))"},onError:v=>{v.target.onerror=null,v.target.style.display="none",v.target.nextSibling&&(v.target.nextSibling.style.display="flex")}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-100/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-3xl"})]}):n.jsx("div",{className:"w-full h-full flex items-center justify-center transition-all duration-500 group-hover:scale-110 group-hover:rotate-3",style:{color:"var(--brand-primary)",background:"linear-gradient(135deg, var(--brand-primary) 0%, #ff8a65 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:u[b.name]||n.jsx(Ooe,{className:"w-16 h-16",style:{color:"var(--brand-primary)"}})})}),n.jsx("h3",{className:"text-center transition-all duration-500 group-hover:text-orange-600 group-hover:scale-105 px-3 py-2 rounded-xl font-bold bg-gradient-to-r from-white to-gray-50 group-hover:from-orange-50 group-hover:to-red-50 shadow-sm group-hover:shadow-md",style:{color:"var(--text-primary)",lineHeight:"1.4",fontSize:"15px",fontWeight:"700",letterSpacing:"0.3px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:b.name})]},b.id))]})})]})})};function Voe(r){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(r)}function Uoe(r){return Oe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(r)}function l2(r){return Oe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(r)}function yR(r){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function xR(r){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(r)}function vR(r){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(r)}function Dy(r){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function wR(r){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function c2(r){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(r)}function Goe(r){return Oe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(r)}function Hoe(r){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function kR(r){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(r)}function yy(r){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function CR(r){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function qoe(r){return Oe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(r)}function Sw(r){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function j6(r){return Oe({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(r)}function EA(r){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function Ew(r){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function Yoe(r){return Oe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(r)}function DA(r){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(r)}const kd=nn(JA((r,t)=>({items:[],itemCount:0,totalAmount:0,isLoading:!1,error:null,fetchCart:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),Sr.getState().isAuthenticated){const m=(await Jt.get("/users/cart/")).data.cart.map(f=>({id:f.product_id,item_id:f.item_id,name:f.name,price:f.price,image:f.image_url,quantity:f.quantity,stock:f.stock||10,category:f.category||"Product",added_at:f.added_at,variant_id:f.variant_id,variant:f.variant}));return r({items:m,isLoading:!1}),xy(),m}else return xy(),r({isLoading:!1}),t().items}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch cart"}),t().items}},addItem:async(s,i=1)=>{var l,u;try{r({isLoading:!0,error:null}),Sr.getState().isAuthenticated&&await Jt.post(`/users/cart/add/${s.id}/`,{quantity:i,variant_id:s.variant_id||null});const{items:f}=t(),b=s.variant_id?`${s.id}_${s.variant_id}`:s.id,v=f.find(k=>(k.variant_id?`${k.id}_${k.variant_id}`:k.id)===b);return r(v?{items:f.map(k=>(k.variant_id?`${k.id}_${k.variant_id}`:k.id)===b?{...k,quantity:k.quantity+i}:k),isLoading:!1}:{items:[...f,{...s,quantity:i}],isLoading:!1}),xy(),Se.success("Item added to cart"),!0}catch(m){return r({isLoading:!1,error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to add item to cart"}),!1}},removeItem:async s=>{var i,l;try{r({isLoading:!0,error:null});const u=Sr.getState().isAuthenticated;if(u){const b=await Jt.delete(`/users/cart/remove/${s}/`);b.data.message&&Se.success(b.data.message)}const{items:m}=t(),f=m.find(b=>b.item_id===s);return r({items:m.filter(b=>b.item_id!==s),isLoading:!1}),xy(),!u&&f&&Se.success(`${f.name} removed from cart`),!0}catch(u){const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to remove item from cart";return r({isLoading:!1,error:m}),Se.error(m),!1}},updateQuantity:async(s,i)=>{var l,u;try{r({isLoading:!0,error:null});const m=Sr.getState().isAuthenticated;if(i<=0)return t().removeItem(s);if(m){const{items:b}=t(),v=b.find(k=>k.item_id===s);v&&(await Jt.delete(`/users/cart/remove/${s}/`),await Jt.post(`/users/cart/add/${v.id}/`,{quantity:i,variant_id:v.variant_id||null}))}const{items:f}=t();return r({items:f.map(b=>b.item_id===s?{...b,quantity:i}:b),isLoading:!1}),xy(),!0}catch(m){return r({isLoading:!1,error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update item quantity"}),!1}},clearCart:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),Sr.getState().isAuthenticated){const{items:u}=t(),m=u.map(f=>Jt.delete(`/users/cart/remove/${f.item_id}/`));await Promise.all(m)}return r({items:[],itemCount:0,totalAmount:0,isLoading:!1}),!0}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to clear cart"}),!1}},updateTotals:()=>{const{items:s}=t(),i=s.reduce((u,m)=>u+m.quantity,0),l=s.reduce((u,m)=>u+m.price*m.quantity,0);r({itemCount:i,totalAmount:l})},clearError:()=>r({error:null})}),{name:"cart-storage"})),xy=()=>{kd.getState().updateTotals()},I1=nn(JA((r,t)=>({items:[],isLoading:!1,error:null,fetchWishlist:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),Sr.getState().isAuthenticated){const m=(await Jt.get("/users/wishlist/")).data.wishlist.map(f=>({id:f.product_id,item_id:f.item_id,name:f.name,price:f.price,image:f.image_url,stock:f.stock||1,category:f.category||"Product",added_at:f.added_at,variant_id:f.variant_id,variant:f.variant}));return r({items:m,isLoading:!1}),m}else return r({isLoading:!1}),t().items}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch wishlist"}),t().items}},addItem:async s=>{var i,l;try{r({isLoading:!0,error:null});const u=Sr.getState().isAuthenticated,{items:m}=t();return m.find(b=>b.id===s.id)?(r({isLoading:!1}),!0):(u&&await Jt.post(`/users/wishlist/add/${s.id}/`,{variant_id:s.variant_id||null}),r({items:[...m,s],isLoading:!1}),Se.success("Item added to wishlist"),!0)}catch(u){return r({isLoading:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add item to wishlist"}),!1}},removeItem:async s=>{var i,l;try{r({isLoading:!0,error:null});const u=Sr.getState().isAuthenticated;if(u){const b=await Jt.delete(`/users/wishlist/remove/${s}/`);b.data.message&&Se.success(b.data.message)}const{items:m}=t(),f=m.find(b=>b.item_id===s);return r({items:m.filter(b=>b.item_id!==s),isLoading:!1}),!u&&f&&Se.success(`${f.name} removed from wishlist`),!0}catch(u){const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to remove item from wishlist";return r({isLoading:!1,error:m}),Se.error(m),!1}},isInWishlist:s=>{const{items:i}=t();return i.some(l=>l.id===s)},clearWishlist:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),Sr.getState().isAuthenticated){const{items:u}=t(),m=u.map(f=>Jt.delete(`/users/wishlist/remove/${f.item_id}/`));await Promise.all(m)}return r({items:[],isLoading:!1}),!0}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to clear wishlist"}),!1}},clearError:()=>r({error:null})}),{name:"wishlist-storage"})),fg=({product:r})=>{var S;const{addItem:t}=kd(),{addItem:s,isInWishlist:i,removeItem:l,items:u}=I1(),m=i(r.id),f=(S=r.valid_options)==null?void 0:S[0],b=(f==null?void 0:f.discounted_price)||(f==null?void 0:f.price)||r.discount_price||r.discountPrice||r.discounted_price||r.sale_price||r.price||0,v=(f==null?void 0:f.price)||r.price||r.original_price||0,k=()=>{var I;const M=((I=r.valid_options)==null?void 0:I[0])||null,R={...r,price:b,variant_id:(M==null?void 0:M.id)||null,variant:M?{id:M.id,color:M.colors,storage:M.storage,ram:M.ram,price:M.discounted_price||M.price}:null};t(R,1),Ot.success(`${r.name} added to cart!`)},C=()=>{var M;if(m){const R=u.find(I=>I.id===r.id);R&&(l(R.item_id),Ot.success(`${r.name} removed from wishlist!`))}else{const R=((M=r.valid_options)==null?void 0:M[0])||null,I={...r,price:b,variant_id:(R==null?void 0:R.id)||null,variant:R?{id:R.id,color:R.colors,storage:R.storage,ram:R.ram,price:R.discounted_price||R.price}:null};s(I),Ot.success(`${r.name} added to wishlist!`)}},_=M=>{const R=[],I=Math.floor(M),z=M%1!==0;for(let V=0;V<5;V++)V<I?R.push(n.jsx(EA,{className:"text-yellow-400"},V)):V===I&&z?R.push(n.jsx(j6,{className:"text-yellow-400"},V)):R.push(n.jsx(DA,{className:"text-yellow-400"},V));return R};return n.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs(rt,{to:`/products/${r.id}`,className:"block relative group",children:[n.jsx("div",{className:"bg-white p-4 flex items-center justify-center h-56",children:n.jsx("img",{src:r.image,alt:r.name,className:"max-h-48 w-auto object-contain transform transition-transform duration-300 group-hover:scale-110"})}),b<v&&n.jsxs("span",{className:"absolute top-3 left-3 text-xs font-medium px-2.5 py-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:[Math.round((v-b)/v*100),"% OFF"]})]}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1 pr-3",children:[n.jsxs("p",{className:"text-xs mb-1.5",style:{color:"var(--text-secondary)"},children:[r.brand,"  ",r.category]}),n.jsx("h3",{className:"font-medium mb-1.5 line-clamp-2 min-h-[2.5rem]",style:{color:"var(--text-primary)"},children:n.jsx(rt,{to:`/products/${r.id}`,children:r.name})}),n.jsxs("div",{className:"flex items-center mb-2.5",children:[n.jsx("div",{className:"flex items-center",children:_(r.rating)}),n.jsx("span",{className:"text-xs ml-1.5",style:{color:"var(--text-secondary)"},children:r.rating})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("p",{className:"font-bold text-lg",style:{color:"var(--text-accent)"},children:["",b.toLocaleString()]}),b<v&&n.jsxs("p",{className:"text-sm line-through ml-2",style:{color:"var(--text-secondary)"},children:["",v.toLocaleString()]})]})]}),n.jsx("button",{onClick:C,className:"flex items-center justify-center h-8 w-8 rounded-full transition-colors",style:{backgroundColor:m?"var(--brand-primary)":"var(--bg-accent-light)",color:m?"white":"var(--brand-primary)"},children:n.jsx(ug,{className:`text-lg ${m?"fill-current":""}`})})]}),n.jsx("div",{className:"mt-3",children:n.jsx(st,{onClick:k,fullWidth:!0,className:"flex items-center justify-center",icon:n.jsx(np,{className:"mr-1.5"}),children:"Add to Cart"})})]})]})},_R=({products:r})=>{const t=(r||[]).map(s=>({...s,id:s.id||s._id,name:s.name||`${s.brand} ${s.model||""}`.trim(),image:s.images&&s.images.length>0?s.images[0]:s.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:s.discount_price||s.offer_price||s.price,price:s.price,discount:s.discount||(s.price&&s.discount_price?`${Math.round((s.price-(s.discount_price||s.offer_price))/s.price*100)}%`:null),rating:s.rating||4,reviews:s.reviews||s.reviews_count||0,brand:s.brand||"Unknown",category:s.category||"General",stock:s.stock||0}));return n.jsx("div",{className:"featured-products",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(s=>n.jsx(fg,{product:s},s.id))}),t.length===0&&n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{style:{color:"var(--text-secondary)"},children:"No featured products available at the moment."})})]})})},Woe=[{image:"/mobile1.png",title:"Latest Smartphones",subtitle:"Discover the newest technology at unbeatable prices",tag:"New Arrivals",cta:"Shop Phones",backgroundColor:"#f8fafc"},{image:"/laptops.png",title:"Premium Laptops",subtitle:"Powerful devices for work and play",tag:"Best Sellers",cta:"Shop Laptops",backgroundColor:"#f1f5f9"},{image:"/tv1.png",title:"Smart TVs",subtitle:"Immersive entertainment for your home",tag:"Featured",cta:"Shop TVs",backgroundColor:"#e2e8f0"}],AR=()=>{const{getHeroBanners:r}=Qx(),t=ns(),[s,i]=O.useState(0),[[l,u],m]=O.useState([0,0]),f=r();console.log("Hero Banners:",f);const b=f.length>0?f:Woe;O.useEffect(()=>{if(b.length===0)return;const M=setTimeout(()=>{const R=(s+1)%b.length;m([R,1]),i(R)},5e3);return()=>clearTimeout(M)},[s,b.length]);const v=()=>{const M=(s-1+b.length)%b.length;m([M,-1]),i(M)},k=()=>{const M=(s+1)%b.length;m([M,1]),i(M)},C=M=>{M&&t(`/category/${M}`)},_={enter:M=>({x:M>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:M=>({x:M<0?1e3:-1e3,opacity:0})},S={duration:.6,ease:"easeInOut"};return n.jsx("section",{className:"relative overflow-hidden",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl transform hover:scale-[1.01] transition-all duration-700 ease-in-out animate-fadeIn",style:{boxShadow:"var(--shadow-large), 0 15px 30px -10px rgba(245, 158, 11, 0.2)",height:"clamp(250px, 40vh, 500px)",width:"100%",maxHeight:"500px",minHeight:"250px"},children:[n.jsx(DN,{initial:!1,custom:u,children:n.jsxs(On.div,{custom:u,variants:_,initial:"enter",animate:"center",exit:"exit",transition:S,className:"absolute inset-0",children:[n.jsx("img",{src:b[s].image,alt:b[s].title,className:"w-full h-full object-cover object-center",style:{backgroundColor:b[s].backgroundColor,objectFit:"cover",objectPosition:"center center"},loading:"eager"}),n.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-4 sm:px-6 md:px-8 lg:px-14",children:n.jsxs("div",{className:"max-w-lg lg:max-w-xl relative",children:[b[s].tag&&n.jsx(On.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"inline-block px-5 py-2 mb-5 rounded-full text-sm font-medium shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.5)"},children:b[s].tag}),n.jsx(On.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 sm:mb-4 leading-tight drop-shadow-lg",style:{color:"var(--text-on-brand)",textShadow:"0 2px 10px rgba(0,0,0,0.4)",letterSpacing:"-0.02em"},children:b[s].title}),b[s].subtitle&&n.jsx(On.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl mb-4 sm:mb-6 md:mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:b[s].subtitle}),b[s].description&&n.jsx(On.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-sm sm:text-base mb-4 sm:mb-6 md:mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:b[s].description}),n.jsx(On.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4",children:n.jsxs(On.button,{onClick:()=>C(b[s].link),className:"group relative overflow-hidden px-6 py-3 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-105 hover:shadow-2xl",style:{backgroundColor:"var(--brand-primary)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.5)"},whileHover:{y:-4},whileTap:{scale:.95},children:[n.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[b[s].cta||"Shop Now",n.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),n.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-30 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})})]})})]},l)}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:n.jsx(On.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:v,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-r-lg ml-2","aria-label":"Previous slide",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:n.jsx(On.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:k,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-l-lg mr-2","aria-label":"Next slide",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),n.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:b.map((M,R)=>n.jsx(On.button,{onClick:()=>{const I=R>s?1:-1;m([R,I]),i(R)},className:`h-2.5 rounded-full ${R===s?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${R+1}`},R))}),n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20 animate-pulse",style:{animationDuration:"5s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),n.jsx("div",{className:"absolute top-1/2 right-1/3 w-40 h-40 opacity-15 rotate-12 animate-pulse",style:{animationDuration:"8s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-secondary) 0%, transparent 70%)",filter:"blur(30px)"}})}),n.jsx("div",{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10 animate-pulse",style:{animationDuration:"12s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})}),n.jsx("div",{className:"absolute bottom-0 left-1/4 w-20 h-20 opacity-10 rotate-90 animate-pulse",style:{animationDuration:"10s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(15px)"}})})]})})})},jR=({products:r,title:t="Best Selling Smartphones",description:s="Discover our top-selling devices"})=>{const i=O.useRef(),l=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},u=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:300,behavior:"smooth"})},m=[{id:1,name:"Apple iPhone 15 Pro Max",image:"/mobile1.png",discountPrice:134999,price:159999,discount:"16%",rating:4.8,reviews:1234,brand:"Apple",category:"Smartphones"},{id:2,name:"Samsung Galaxy S24 Ultra",image:"/mobile1.png",discountPrice:124999,price:139999,discount:"11%",rating:4.7,reviews:892,brand:"Samsung",category:"Smartphones"},{id:3,name:"Google Pixel 8 Pro",image:"/mobile1.png",discountPrice:84999,price:99999,discount:"15%",rating:4.6,reviews:567,brand:"Google",category:"Smartphones"},{id:4,name:"OnePlus 12",image:"/mobile1.png",discountPrice:64999,price:69999,discount:"7%",rating:4.5,reviews:423,brand:"OnePlus",category:"Smartphones"},{id:5,name:"Xiaomi 14 Ultra",image:"/mobile1.png",discountPrice:89999,price:99999,discount:"10%",rating:4.4,reviews:345,brand:"Xiaomi",category:"Smartphones"},{id:6,name:"Nothing Phone (2a)",image:"/mobile1.png",discountPrice:23999,price:25999,discount:"8%",rating:4.3,reviews:289,brand:"Nothing",category:"Smartphones"}],f=r&&r.length>0?r:m;return n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:t}),n.jsx("div",{className:"h-1 w-24 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:s})]}),n.jsx(rt,{to:"/products/smartphones",className:"text-lg font-semibold hover:underline transition-all duration-300",style:{color:"var(--brand-primary)"},children:"View All "})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(-20px)"},"aria-label":"Scroll left",type:"button",children:n.jsx(ej,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(20px)"},"aria-label":"Scroll right",type:"button",children:n.jsx(tj,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("div",{ref:i,className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.jsx("div",{className:"flex gap-6 py-4 px-4",children:f.map((b,v)=>n.jsx("div",{className:"flex-shrink-0",style:{width:"280px"},children:n.jsx(fg,{product:b})},b.id||v))})})]})]})})},NR=({products:r,title:t="New Releases",description:s="Latest products just arrived"})=>{const i=O.useRef(),l=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},u=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:300,behavior:"smooth"})},m=[{id:1,name:"Samsung Galaxy Z Flip6",image:"/mobile1.png",discountPrice:112999,price:119999,discount:"6%",rating:4.9,reviews:156,brand:"Samsung",category:"Smartphones",isNew:!0},{id:2,name:"iPhone 16 Pro",image:"/mobile1.png",discountPrice:119900,price:119900,discount:null,rating:5,reviews:89,brand:"Apple",category:"Smartphones",isNew:!0},{id:3,name:"Pixel 9 Pro XL",image:"/mobile1.png",discountPrice:124999,price:129999,discount:"4%",rating:4.8,reviews:67,brand:"Google",category:"Smartphones",isNew:!0},{id:4,name:"OnePlus 13",image:"/mobile1.png",discountPrice:69999,price:74999,discount:"7%",rating:4.7,reviews:234,brand:"OnePlus",category:"Smartphones",isNew:!0},{id:5,name:"Xiaomi 15 Pro",image:"/mobile1.png",discountPrice:79999,price:84999,discount:"6%",rating:4.6,reviews:123,brand:"Xiaomi",category:"Smartphones",isNew:!0},{id:6,name:"Vivo X200 Pro",image:"/mobile1.png",discountPrice:84999,price:89999,discount:"6%",rating:4.5,reviews:98,brand:"Vivo",category:"Smartphones",isNew:!0}],f=r&&r.length>0?r:m;return n.jsx("section",{className:"py-12",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:t}),n.jsx("div",{className:"h-1 w-24 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:s})]}),n.jsx(rt,{to:"/products",className:"text-lg font-semibold hover:underline transition-all duration-300",style:{color:"var(--brand-primary)"},children:"View All "})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(-20px)"},"aria-label":"Scroll left",type:"button",children:n.jsx(ej,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(20px)"},"aria-label":"Scroll right",type:"button",children:n.jsx(tj,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("div",{ref:i,className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.jsx("div",{className:"flex gap-6 py-4 px-4",children:f.map((b,v)=>n.jsx("div",{className:"flex-shrink-0",style:{width:"280px"},children:n.jsx(fg,{product:b})},b.id||v))})})]})]})})},SR=()=>{const r=[{id:1,title:"Wireless Charging",subtitle:"Fast & Efficient",image:"/accessories.png",link:"/products/accessories?category=wireless-charging",bgColor:"from-blue-400 to-blue-600",textColor:"text-white"},{id:2,title:"Smart Watches",subtitle:"Health & Fitness",image:"/accessories.png",link:"/products/smartwatches",bgColor:"from-purple-400 to-purple-600",textColor:"text-white"},{id:3,title:"Headphones",subtitle:"Premium Audio",image:"/accessories.png",link:"/products/headphones",bgColor:"from-green-400 to-green-600",textColor:"text-white"},{id:4,title:"Keyboards",subtitle:"Gaming & Work",image:"/accessories.png",link:"/products/keyboards",bgColor:"from-red-400 to-red-600",textColor:"text-white"},{id:5,title:"Gaming Mouse",subtitle:"Precision Control",image:"/accessories.png",link:"/products/gaming-mouse",bgColor:"from-indigo-400 to-indigo-600",textColor:"text-white"}],t=[{id:"wired",title:"Wired",subtitle:"Reliable Connection",bgColor:"bg-blue-100",textColor:"text-blue-800",link:"/products/wired-accessories"},{id:"wireless",title:"Wireless",subtitle:"Freedom to Move",bgColor:"bg-pink-100",textColor:"text-pink-800",link:"/products/wireless-accessories"},{id:"true-wireless",title:"True Wireless",subtitle:"Ultimate Freedom",bgColor:"bg-yellow-100",textColor:"text-yellow-800",link:"/products/true-wireless"}],s={title:"The Edge of Innovation,",subtitle:"In Your Hands...",bgColor:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white",link:"/products/latest-tech"},i={title:"Apple Accessories",subtitle:"Premium Quality",bgColor:"bg-gradient-to-r from-gray-100 to-gray-200",textColor:"text-gray-800",link:"/products/apple-accessories"};return n.jsx("section",{className:"py-12",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Browse by Category"}),n.jsx("div",{className:"h-1 w-32 rounded-full",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:r.map(l=>n.jsxs(rt,{to:l.link,className:`bg-gradient-to-br ${l.bgColor} rounded-xl p-6 text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1`,children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-white/40 rounded"})}),n.jsx("h3",{className:`font-bold text-lg mb-1 ${l.textColor}`,children:l.title}),n.jsx("p",{className:`text-sm opacity-90 ${l.textColor}`,children:l.subtitle})]},l.id))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:t.map(l=>n.jsxs(rt,{to:l.link,className:`${l.bgColor} rounded-xl p-8 text-center hover:shadow-md transition-all duration-300`,children:[n.jsx("h3",{className:`font-bold text-xl mb-2 ${l.textColor}`,children:l.title}),n.jsx("p",{className:`${l.textColor} opacity-80`,children:l.subtitle})]},l.id))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs(rt,{to:s.link,className:`${s.bgColor} rounded-xl p-8 text-center hover:shadow-lg transition-all duration-300`,children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mr-4",children:n.jsx("div",{className:"w-10 h-10 bg-white/40 rounded"})}),n.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-white/40 rounded"})})]}),n.jsx("h3",{className:`font-bold text-2xl mb-2 ${s.textColor}`,children:s.title}),n.jsx("p",{className:`text-lg ${s.textColor} opacity-90`,children:s.subtitle})]}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"w-32 h-32 bg-white/60 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-20 h-20 bg-white/80 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"})})})})]}),n.jsxs(rt,{to:i.link,className:`${i.bgColor} rounded-xl p-8 text-center hover:shadow-md transition-all duration-300 block`,children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg mr-4"}),n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"})]}),n.jsx("h3",{className:`font-bold text-2xl mb-2 ${i.textColor}`,children:i.title}),n.jsx("p",{className:`${i.textColor} opacity-80`,children:i.subtitle})]})]})})},ql=mn.create({baseURL:"http://127.0.0.1:8000/api/admin",headers:{"Content-Type":"application/json"}});ql.interceptors.request.use(r=>{const t=localStorage.getItem("adminToken");return t&&(r.headers.Authorization=`Bearer ${t}`),r});const Koe=nn(Zu((r,t)=>({brands:[],loading:!1,error:null,selectedBrand:null,brandSections:[],getMockBrands:()=>[{brand_id:"mock-apple",name:"Apple",slug:"apple",description:"Premium smartphones, tablets, and accessories",logo_url:"/brands/apple-logo.png",website_url:"https://www.apple.com",featured:!0,active:!0,display_order:1,product_count:25,meta_data:{color:"#000000",category:"Premium"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-samsung",name:"Samsung",slug:"samsung",description:"Innovative Android devices and accessories",logo_url:"/brands/samsung-logo.png",website_url:"https://www.samsung.com",featured:!0,active:!0,display_order:2,product_count:32,meta_data:{color:"#1f2937",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-oneplus",name:"OnePlus",slug:"oneplus",description:"Fast and smooth Android smartphones",logo_url:"/brands/oneplus-logo.png",website_url:"https://www.oneplus.com",featured:!0,active:!0,display_order:3,product_count:18,meta_data:{color:"#dc2626",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-xiaomi",name:"Xiaomi",slug:"xiaomi",description:"Value-for-money smartphones and accessories",logo_url:"/brands/xiaomi-logo.png",website_url:"https://www.mi.com",featured:!0,active:!0,display_order:4,product_count:28,meta_data:{color:"#f59e0b",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-realme",name:"Realme",slug:"realme",description:"Youth-focused smartphones with latest features",logo_url:"/brands/realme-logo.png",website_url:"https://www.realme.com",featured:!0,active:!0,display_order:5,product_count:22,meta_data:{color:"#eab308",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-oppo",name:"Oppo",slug:"oppo",description:"Camera-focused smartphones and accessories",logo_url:"/brands/oppo-logo.png",website_url:"https://www.oppo.com",featured:!1,active:!0,display_order:6,product_count:15,meta_data:{color:"#22c55e",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-vivo",name:"Vivo",slug:"vivo",description:"Selfie-focused smartphones with style",logo_url:"/brands/vivo-logo.png",website_url:"https://www.vivo.com",featured:!1,active:!0,display_order:7,product_count:19,meta_data:{color:"#3b82f6",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{brand_id:"mock-google",name:"Google",slug:"google",description:"Pure Android experience with Pixel devices",logo_url:"/brands/google-logo.png",website_url:"https://store.google.com",featured:!1,active:!0,display_order:8,product_count:8,meta_data:{color:"#6366f1",category:"Android"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],fetchBrands:async(s=!1,i=!1)=>{var l;r({loading:!0,error:null});try{const u=new URLSearchParams;s&&u.append("active_only","true"),i&&u.append("featured_only","true");const m=await ql.get(`/brands/?${u.toString()}`);if(console.log("Brands response:",m.data),m.status===200)return r({brands:m.data.brands,loading:!1,error:null}),m.data.brands}catch(u){console.error("Error fetching brands:",u),console.error("Error response:",(l=u.response)==null?void 0:l.data),console.log("API failed, using mock data as fallback");const m=t().getMockBrands();return r({brands:m,loading:!1,error:"API unavailable - using mock data"}),Se.error("Using offline data - API connection failed"),m}},addBrand:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ql.post("/brands/add/",s);if(u.status===201){const m=u.data.brand;return r(f=>({brands:[...f.brands,m],loading:!1,error:null})),Se.success("Brand created successfully"),m}}catch(u){console.error("Error creating brand:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to create brand";throw r({loading:!1,error:m}),Se.error(m),u}},editBrand:async(s,i)=>{var l,u;r({loading:!0,error:null});try{const m=await ql.put(`/brands/edit/${s}/`,i);if(m.status===200){const f=m.data.brand;return r(b=>({brands:b.brands.map(v=>v.brand_id===s?f:v),loading:!1,error:null})),Se.success("Brand updated successfully"),f}}catch(m){console.error("Error updating brand:",m);const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update brand";throw r({loading:!1,error:f}),Se.error(f),m}},deleteBrand:async s=>{var i,l;r({loading:!0,error:null});try{if((await ql.delete(`/brands/delete/${s}/`)).status===200)return r(m=>({brands:m.brands.filter(f=>f.brand_id!==s),loading:!1,error:null})),Se.success("Brand deleted successfully"),!0}catch(u){console.error("Error deleting brand:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete brand";throw r({loading:!1,error:m}),Se.error(m),u}},toggleBrandFeatured:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ql.post(`/brands/toggle-featured/${s}/`);if(u.status===200){const m=u.data.brand;return r(f=>({brands:f.brands.map(b=>b.brand_id===s?m:b),loading:!1,error:null})),Se.success(`Brand ${u.data.featured?"featured":"unfeatured"} successfully`),m}}catch(u){console.error("Error toggling brand featured:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle featured status";throw r({loading:!1,error:m}),Se.error(m),u}},toggleBrandActive:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ql.post(`/brands/toggle-active/${s}/`);if(u.status===200){const m=u.data.brand;return r(f=>({brands:f.brands.map(b=>b.brand_id===s?m:b),loading:!1,error:null})),Se.success(`Brand ${u.data.active?"activated":"deactivated"} successfully`),m}}catch(u){console.error("Error toggling brand active:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle active status";throw r({loading:!1,error:m}),Se.error(m),u}},reorderBrands:async s=>{var i,l;r({loading:!0,error:null});try{if((await ql.post("/brands/reorder/",{brand_orders:s})).status===200){const{brands:m}=t(),f=m.map(b=>{const v=s.find(k=>k.brand_id===b.brand_id);return v?{...b,display_order:v.display_order}:b}).sort((b,v)=>b.display_order-v.display_order);return r({brands:f,loading:!1,error:null}),Se.success("Brands reordered successfully"),!0}}catch(u){console.error("Error reordering brands:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to reorder brands";throw r({loading:!1,error:m}),Se.error(m),u}finally{r({loading:!1})}},searchBrands:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ql.get(`/brands/search/?q=${encodeURIComponent(s)}`);if(u.status===200)return r({brands:u.data.brands,loading:!1,error:null}),u.data.brands}catch(u){console.error("Error searching brands:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to search brands";throw r({loading:!1,error:m}),Se.error(m),u}},initializeDefaultBrands:async()=>{var s,i;r({loading:!0,error:null});try{const l=await ql.post("/brands/initialize-defaults/");if(l.status===201)return r({brands:l.data.brands,loading:!1,error:null}),Se.success(`${l.data.created_count} default brands created successfully`),l.data.brands;if(l.status===200)return Se.info("Default brands already exist"),t().brands}catch(l){console.error("Error initializing default brands:",l);const u=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to initialize default brands";throw r({loading:!1,error:u}),Se.error(u),l}},setSelectedBrand:s=>{r({selectedBrand:s})},clearError:()=>{r({error:null})},getSortedBrands:()=>{const{brands:s}=t();return[...s].sort((i,l)=>i.display_order-l.display_order)},getFeaturedBrands:()=>{const{brands:s}=t();return s.filter(i=>i.featured&&i.active)},getActiveBrands:()=>{const{brands:s}=t();return s.filter(i=>i.active)},updateBrandOrderLocally:(s,i)=>{const{brands:l}=t(),u=l.map(m=>m.brand_id===s?{...m,display_order:i}:m);r({brands:u})},getBrandStats:()=>{const{brands:s}=t();return{total:s.length,active:s.filter(i=>i.active).length,featured:s.filter(i=>i.featured).length,totalProducts:s.reduce((i,l)=>i+(l.product_count||0),0)}}}),{name:"brands-store"})),Qoe=()=>{const[r,t]=O.useState(0),[s,i]=O.useState(6),{brands:l,loading:u,fetchBrands:m}=Koe();O.useEffect(()=>{m()},[m]);const f=ot.useMemo(()=>{const C=l.filter(M=>M.is_active!==!1),_=C.filter(M=>M.is_featured),S=C.filter(M=>!M.is_featured);return[..._,...S]},[l]);O.useEffect(()=>{const C=()=>{window.innerWidth>=1024?i(6):window.innerWidth>=768?i(4):i(2)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const b=Math.max(0,f.length-s),v=()=>{t(C=>Math.min(C+1,b))},k=()=>{t(C=>Math.max(C-1,0))};return u?n.jsx("section",{className:"py-16",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading brands..."})]})})}):f.length===0?null:n.jsx("section",{className:"py-16",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Shop by Brand"}),n.jsx("div",{className:"h-1 w-32 mx-auto rounded-full mb-4",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg max-w-2xl mx-auto",style:{color:"var(--text-secondary)"},children:"Discover premium smartphones from the world's leading brands"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${r*(100/s)}%)`,width:`${l.length/s*100}%`},children:l.map(C=>n.jsx("div",{className:"px-3",style:{width:`${100/l.length}%`},children:n.jsx(rt,{to:C.link,className:"block group",children:n.jsxs("div",{className:"rounded-xl p-8 text-center transition-all duration-300 hover:shadow-lg hover:-translate-y-1 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full overflow-hidden border-2 border-gray-200 flex items-center justify-center bg-white",children:[n.jsx("img",{src:C.logo_url||C.logo,alt:C.name,className:"w-16 h-16 object-contain group-hover:scale-110 transition-transform duration-300",onError:_=>{_.target.style.display="none",_.target.nextSibling.style.display="flex"}}),n.jsx("div",{className:"w-16 h-16 hidden items-center justify-center text-sm font-bold",style:{color:"var(--brand-primary)"},children:C.name.charAt(0)})]}),n.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-blue-600 transition-colors",style:{color:"var(--text-primary)"},children:C.name}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:C.description}),n.jsxs("div",{className:"flex items-center justify-center text-xs",children:[n.jsxs("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:[C.product_count||C.productCount||0," Products"]}),(C.is_featured||C.featured)&&n.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:"Featured"})]})]})})},C.id))})}),l.length>s&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:k,disabled:r===0,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full border-2 flex items-center justify-center transition-all duration-300 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--brand-primary)"},children:n.jsx(sa,{size:20})}),n.jsx("button",{onClick:v,disabled:r>=b,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full border-2 flex items-center justify-center transition-all duration-300 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--brand-primary)"},children:n.jsx(wn,{size:20})})]})]}),l.length>s&&n.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:b+1},(C,_)=>n.jsx("button",{onClick:()=>t(_),className:`w-3 h-3 rounded-full transition-all duration-300 ${r===_?"scale-125":"hover:scale-110"}`,style:{backgroundColor:r===_?"var(--brand-primary)":"var(--border-primary)"}},_))}),n.jsx("div",{className:"text-center mt-8",children:n.jsx(rt,{to:"/brands",className:"inline-flex items-center px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"View All Brands"})})]})})},ER={markReviewHelpful:async(r,t)=>{var s,i,l,u,m,f,b;try{return{success:!0,data:(await Jt.post(`/products/${r}/reviews/${t}/helpful/`)).data}}catch(v){let k="Failed to mark review as helpful";return((s=v.response)==null?void 0:s.status)===401?k="Please log in to mark reviews as helpful":((i=v.response)==null?void 0:i.status)===404?k="Review not found":((l=v.response)==null?void 0:l.status)===409?k="You have already marked this review as helpful":(m=(u=v.response)==null?void 0:u.data)!=null&&m.error?k=v.response.data.error:(b=(f=v.response)==null?void 0:f.data)!=null&&b.message&&(k=v.response.data.message),{success:!1,error:k}}},reportReview:async(r,t)=>{var s,i,l,u,m,f,b;try{const v=await Jt.post(`/products/${r}/reviews/${t}/report/`);return{success:!0,data:v.data,message:v.data.message||"Review reported successfully"}}catch(v){let k="Failed to report review";return((s=v.response)==null?void 0:s.status)===401?k="Please log in to report reviews":((i=v.response)==null?void 0:i.status)===404?k="Review not found":((l=v.response)==null?void 0:l.status)===409?k="You have already reported this review":(m=(u=v.response)==null?void 0:u.data)!=null&&m.error?k=v.response.data.error:(b=(f=v.response)==null?void 0:f.data)!=null&&b.message&&(k=v.response.data.message),{success:!1,error:k}}}},ol=nn((r,t)=>({products:[],categories:[],brands:[],featuredProducts:[],currentProduct:null,loading:!1,error:null,reviewLoading:!1,reviewError:null,fetchProducts:async()=>{const s=t();if(s.loading||s.products.length>0)return s.products;r({loading:!0});try{const i=await Jt.get(`${Sm}/products/products/`),l=Array.from(new Set(i.data.products.map(f=>f.category))),u=Array.from(new Set(i.data.products.map(f=>f.brand))),m=i.data.products.filter(f=>f.featured===!0||f.rating>=4.5).sort((f,b)=>f.featured&&!b.featured?-1:!f.featured&&b.featured?1:(b.rating||0)-(f.rating||0)).slice(0,8);r({products:i.data.products,categories:l,brands:u,featuredProducts:m,loading:!1})}catch(i){console.error("Error fetching products:",i),r({error:"Failed to fetch products. Please try again later.",loading:!1})}},fetchCategories:async()=>{r({loading:!0});try{const s=await Jt.get(`${Sm}/products/categories`);r({categories:s.data.categories,loading:!1})}catch(s){r({error:s.message,loading:!1})}},getProduct:s=>{const{products:i}=t();return i.find(l=>l.id===parseInt(s,10))},fetchProduct:async s=>{r({loading:!0,error:null});try{const i=await Jt.get(`${Sm}/products/products/${s}/`);return r({currentProduct:i.data.product,loading:!1}),i.data.product}catch(i){return console.error("Error fetching product:",i),r({error:"Failed to fetch product. Please try again later.",loading:!1}),null}},clearCurrentProduct:()=>{r({currentProduct:null})},getProductsByCategory:s=>{const{products:i}=t();return i.filter(l=>l.category.toLowerCase()===s.toLowerCase())},getProductsByBrand:s=>{const{products:i}=t();return i.filter(l=>l.brand.toLowerCase()===s.toLowerCase())},searchProducts:s=>{const{products:i}=t();if(!s||s.trim()==="")return[];const l=s.toLowerCase().trim(),u=l.split(/\s+/);return i.map(f=>{var v,k,C;let b=0;return f.name.toLowerCase().includes(l)&&(b+=100),u.forEach(_=>{f.name.toLowerCase().includes(_)&&(b+=50)}),(v=f.brand)!=null&&v.toLowerCase().includes(l)&&(b+=40),(k=f.category)!=null&&k.toLowerCase().includes(l)&&(b+=30),(C=f.description)!=null&&C.toLowerCase().includes(l)&&(b+=20),u.forEach(_=>{var S;(S=f.description)!=null&&S.toLowerCase().includes(_)&&(b+=10)}),{product:f,score:b}}).filter(f=>f.score>0).sort((f,b)=>b.score-f.score).map(f=>f.product)},addReview:async(s,i)=>{var l,u,m,f,b;r({reviewLoading:!0,reviewError:null});try{const v=await Jt.post(`/users/add-review/${s}/`,i,{headers:{"Content-Type":"application/json"}}),k=t();return k.currentProduct&&k.currentProduct.id===Number(s)&&await k.fetchProduct(s),r({reviewLoading:!1}),{success:!0,data:v.data,message:v.data.message||"Review added successfully"}}catch(v){console.error("Error adding review:",v);let k="Failed to add review. Please try again later.";return(u=(l=v.response)==null?void 0:l.data)!=null&&u.error?k=v.response.data.error:((m=v.response)==null?void 0:m.status)===400?k="Invalid review data. Please check your input.":((f=v.response)==null?void 0:f.status)===404?k="Product not found.":((b=v.response)==null?void 0:b.status)===401&&(k="Please log in to add a review."),r({reviewError:k,reviewLoading:!1}),{success:!1,error:k}}},clearReviewError:()=>{r({reviewError:null})},checkExistingReview:async s=>{var i,l;try{return{success:!0,has_reviewed:(await Jt.get(`/users/product/${s}/check_review/`)).data.has_reviewed||!1}}catch(u){return console.error("Error checking existing review:",u),{success:!1,has_reviewed:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to check existing review"}}},markReviewHelpful:async(s,i)=>{try{const l=await ER.markReviewHelpful(s,i);if(l.success){const{currentProduct:u}=t();if(u&&u.id===s){const m=u.reviewsData.map(f=>f.id===i?{...f,helpful_count:l.data.helpful_count,is_marked_helpful:l.data.is_marked_helpful}:f);r({currentProduct:{...u,reviewsData:m}})}return l}return l}catch(l){return console.error("Error marking review as helpful:",l),{success:!1,error:"Failed to mark review as helpful"}}},reportReview:async(s,i)=>{try{return await ER.reportReview(s,i)}catch(l){return console.error("Error reporting review:",l),{success:!1,error:"Failed to report review"}}},fetchFeaturedProducts:async()=>{r({loading:!0});try{const i=(await Jt.get(`${Sm}/products/products/`)).data.products.filter(l=>l.featured===!0||l.rating>=4.5).sort((l,u)=>l.featured&&!u.featured?-1:!l.featured&&u.featured?1:(u.rating||0)-(l.rating||0)).slice(0,8);r({featuredProducts:i,loading:!1})}catch(s){console.error("Error fetching featured products:",s),r({error:"Failed to fetch featured products. Please try again later.",loading:!1})}}})),Joe=Object.freeze(Object.defineProperty({__proto__:null,useProductStore:ol},Symbol.toStringTag,{value:"Module"})),N6=nn(Zu((r,t)=>({sections:[],loading:!1,error:null,selectedSection:null,sectionTypes:["hero_banner","category_list","featured_products","banner_carousel","best_selling","new_releases","static_promo_banners","newsletter","testimonials"],designTemplates:{category_list:["grid","carousel","list","cards"],featured_products:["grid","carousel","list"],banner_carousel:["auto","manual","fade","slide"],hero_banner:["single","slideshow","video"],best_selling:["grid","carousel","compact"],new_releases:["grid","carousel","featured"],static_promo_banners:["horizontal","vertical","mixed"],newsletter:["minimal","detailed","popup"],testimonials:["carousel","grid","masonry"]},getMockSections:()=>[{section_id:"mock-hero",section_type:"hero_banner",title:"Hero Banner",enabled:!0,display_order:1,design_template:"slideshow",config:{}},{section_id:"mock-categories",section_type:"category_list",title:"Shop by Category",enabled:!0,display_order:2,design_template:"grid",config:{}},{section_id:"mock-featured",section_type:"featured_products",title:"Featured Products",enabled:!0,display_order:3,design_template:"grid",config:{}},{section_id:"mock-best-selling",section_type:"best_selling",title:"Best Selling Products",enabled:!0,display_order:4,design_template:"grid",config:{description:"Discover our most popular products loved by customers"}},{section_id:"mock-new-releases",section_type:"new_releases",title:"New Releases",enabled:!0,display_order:5,design_template:"grid",config:{description:"Check out the latest additions to our product lineup"}}],fetchSections:async(s=!1,i=!1)=>{var l;r({loading:!0,error:null});try{let u;if(i?(console.log("Fetching homepage sections from public endpoint..."),u=await Jt.get("/admin/homepage/sections/public/")):(console.log("Fetching homepage sections from admin endpoint..."),u=await Ze.get(`/admin/homepage/sections/?enabled_only=${s}`)),console.log("Homepage sections response:",u.data),u.status===200){const m=u.data.sections||[];return console.log(`Successfully loaded ${m.length} homepage sections`),r({sections:m,loading:!1}),m}}catch(u){console.error("Error fetching homepage sections:",u),console.error("Error response:",(l=u.response)==null?void 0:l.data),console.log("API failed, using mock data as fallback");const m=t().getMockSections();return r({sections:m,loading:!1,error:i?null:"API unavailable - using mock data"}),i||Se.error("Could not connect to server - using demo data"),m}},addSection:async s=>{r({loading:!0,error:null});try{const i=await Ze.post("/admin/homepage/sections/add/",s);if(i.status===201){const l=i.data.section,{sections:u}=t();return r({sections:[...u,l],loading:!1}),Se.success("Homepage section created successfully"),l}}catch(i){console.error("Error creating homepage section:",i);const{sections:l}=t(),u={section_id:`mock-${Date.now()}`,...s,display_order:l.length+1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r({sections:[...l,u],loading:!1,error:"Created locally - changes not saved to server"}),Se.success("Section created locally (demo mode)"),u}},editSection:async(s,i)=>{r({loading:!0,error:null});try{const l=await Ze.put(`/admin/homepage/sections/${s}/edit/`,i);if(l.status===200){const u=l.data.section,{sections:m}=t(),f=m.map(b=>b.section_id===s?u:b);return r({sections:f,loading:!1}),Se.success("Homepage section updated successfully"),u}}catch(l){console.error("Error updating homepage section:",l);const{sections:u}=t(),m=u.map(f=>f.section_id===s?{...f,...i,updated_at:new Date().toISOString()}:f);return r({sections:m,loading:!1,error:"Updated locally - changes not saved to server"}),Se.success("Section updated locally (demo mode)"),m.find(f=>f.section_id===s)}},deleteSection:async s=>{r({loading:!0,error:null});try{if((await Ze.delete(`/admin/homepage/sections/${s}/delete/`)).status===200){const{sections:l}=t(),u=l.filter(m=>m.section_id!==s);return r({sections:u,loading:!1}),Se.success("Homepage section deleted successfully"),!0}}catch(i){console.error("Error deleting homepage section:",i);const{sections:l}=t(),u=l.filter(m=>m.section_id!==s);return r({sections:u,loading:!1,error:"Deleted locally - changes not saved to server"}),Se.success("Section deleted locally (demo mode)"),!0}},toggleSection:async s=>{r({loading:!0,error:null});try{const i=await Ze.post(`/admin/homepage/sections/${s}/toggle/`);if(i.status===200){const l=i.data.section,{sections:u}=t(),m=u.map(f=>f.section_id===s?l:f);return r({sections:m,loading:!1}),Se.success(`Section ${l.enabled?"enabled":"disabled"} successfully`),l}}catch(i){console.error("Error toggling homepage section:",i);const{sections:l}=t(),u=l.map(f=>f.section_id===s?{...f,enabled:!f.enabled,updated_at:new Date().toISOString()}:f);r({sections:u,loading:!1,error:"Toggled locally - changes not saved to server"});const m=u.find(f=>f.section_id===s);return Se.success(`Section ${m.enabled?"enabled":"disabled"} locally (demo mode)`),m}},reorderSections:async s=>{var i,l;r({loading:!0,error:null});try{if((await Ze.post("/admin/homepage/sections/reorder/",{section_orders:s})).status===200)return await t().fetchSections(),Se.success("Sections reordered successfully"),!0}catch(u){console.error("Error reordering homepage sections:",u);const m=((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to reorder homepage sections";throw r({error:m}),Se.error(m),u}finally{r({loading:!1})}},getSectionTemplates:async s=>{try{const i=await Ze.get(`/admin/homepage/templates/${s}/`);if(i.status===200)return i.data.templates}catch(i){console.error("Error fetching section templates:",i);const l=t().designTemplates[s]||["default"];return console.log(`Using fallback templates for ${s}:`,l),l}},initializeDefaultSections:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.post("/admin/homepage/initialize/");if(l.status===201)return r({sections:l.data.sections||[],loading:!1}),Se.success("Default homepage sections initialized successfully"),l.data.sections;if(l.status===200)return Se.info("Homepage sections already exist"),await t().fetchSections(),l.data.sections}catch(l){console.error("Error initializing default sections:",l);const u=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to initialize default sections";throw r({error:u,loading:!1}),Se.error(u),l}},getSectionTypeDisplayName:s=>({hero_banner:"Hero Banner",category_list:"Category List",featured_products:"Featured Products",banner_carousel:"Banner Carousel",best_selling:"Best Selling",new_releases:"New Releases",static_promo_banners:"Promotional Banners",newsletter:"Newsletter",testimonials:"Testimonials"})[s]||s,setSelectedSection:s=>{r({selectedSection:s})},clearError:()=>{r({error:null})},getSortedSections:()=>{const{sections:s}=t();return[...s].sort((i,l)=>(i.order||0)-(l.order||0))},getEnabledSections:()=>{const{sections:s}=t();return s.filter(i=>i.enabled)},getSectionsByType:s=>{const{sections:i}=t();return i.filter(l=>l.section_type===s)},updateSectionOrderLocally:(s,i)=>{const{sections:l}=t(),u=l.map(m=>m.section_id===s?{...m,order:i}:m);r({sections:u})}}),{name:"homepage-section-store"})),$a=({currentPage:r,totalPages:t,onPageChange:s,totalItems:i,itemsPerPage:l=10,showItemCount:u=!0})=>{if(t<=1)return null;const f=(()=>{const C=[],_=[];for(let S=Math.max(2,r-2);S<=Math.min(t-1,r+2);S++)C.push(S);return r-2>2?_.push(1,"..."):_.push(1),_.push(...C),r+2<t-1?_.push("...",t):_.push(t),_})(),b=(r-1)*l+1,v=Math.min(r*l,i);return n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8",children:[u&&n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",b," to ",v," of ",i," products"]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>s(r-1),disabled:r===1,className:"flex items-center justify-center w-10 h-10 rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},"aria-label":"Previous page",children:n.jsx(sa,{size:18})}),f.map((k,C)=>n.jsx(ot.Fragment,{children:k==="..."?n.jsx("span",{className:"flex items-center justify-center w-10 h-10",style:{color:"var(--text-secondary)"},children:"..."}):n.jsx("button",{onClick:()=>s(k),className:`flex items-center justify-center w-10 h-10 rounded-md border transition-colors ${r===k?"font-semibold":"hover:bg-opacity-50"}`,style:{backgroundColor:r===k?"var(--brand-primary)":"var(--bg-primary)",borderColor:r===k?"var(--brand-primary)":"var(--border-primary)",color:r===k?"var(--text-on-brand)":"var(--text-primary)"},children:k})},C)),n.jsx("button",{onClick:()=>s(r+1),disabled:r===t,className:"flex items-center justify-center w-10 h-10 rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},"aria-label":"Next page",children:n.jsx(wn,{size:18})})]})]})},$oe=()=>{const{products:r,featuredProducts:t,fetchProducts:s}=ol(),{fetchPublicBanners:i}=Qx(),{sections:l,fetchSections:u,loading:m}=N6(),[f,b]=O.useState(1),[v,k]=O.useState(!0),C=10;O.useEffect(()=>{(async()=>{try{console.log("Initializing homepage..."),k(!0),r.length===0&&(console.log("Fetching products..."),await s()),console.log("Fetching public banners..."),await i(),console.log("Fetching homepage sections...");try{await u(!0,!0)}catch(ne){console.log("Homepage sections fetch failed, will use fallback rendering:",ne.message)}console.log("Homepage initialization completed")}catch(ne){console.error("Homepage initialization error:",ne)}finally{k(!1)}})()},[]);const _=(r==null?void 0:r.length)||0,S=Math.ceil(_/C),M=(f-1)*C,R=M+C,I=(r==null?void 0:r.slice(M,R))||[],z=$=>{b($)},V=$=>{if(!$.enabled)return null;const ne={backgroundColor:"var(--bg-primary)",...$.background_color&&{backgroundColor:$.background_color}};switch($.section_type){case"hero_banner":return n.jsx("div",{style:ne,children:n.jsx(AR,{})},$.section_id);case"category_list":return n.jsx("section",{style:ne,className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-left",style:{color:"var(--text-primary)"},children:$.title||"Shop by Category"}),n.jsx("div",{className:"h-1 w-32 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg text-left",style:{color:"var(--text-secondary)"},children:$.description||"Discover our wide range of products across different categories"})]}),n.jsx(bR,{categories:q})]})},$.section_id);case"featured_products":return n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:$.title||"Featured Products"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:$.description||"Discover our best-selling items handpicked for you"})]}),n.jsx(_R,{products:t})]})},$.section_id);case"best_selling":return n.jsx(jR,{products:r.filter(Q=>{var B;return(B=Q.category)==null?void 0:B.toLowerCase().includes("smartphone")}).slice(0,8),title:$.title,description:$.description},$.section_id);case"new_releases":return n.jsx(NR,{products:r.filter(Q=>Q.isNew||Q.featured).slice(0,8),title:$.title,description:$.description},$.section_id);case"banner_carousel":return n.jsx("section",{style:ne,className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-3xl font-bold mb-3 text-left",children:$.title||"Special Offers"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:$.description||"Don't miss out on these amazing deals"})]}),n.jsx(gR,{})]})},$.section_id);case"static_promo_banners":return n.jsx(SR,{},$.section_id);case"newsletter":return n.jsx("section",{style:ne,className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--text-primary)"},children:$.title||"Stay Updated"}),n.jsx("p",{className:"text-lg mb-6",style:{color:"var(--text-secondary)"},children:$.description||"Subscribe to our newsletter for the latest updates and exclusive offers"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{className:"px-6 py-2 text-white rounded-md font-medium transition-colors",style:{backgroundColor:"var(--brand-primary)"},children:"Subscribe"})]})]})})},$.section_id);case"testimonials":return n.jsx("section",{style:ne,className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--text-primary)"},children:$.title||"What Our Customers Say"}),n.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:$.description||"Real reviews from satisfied customers"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{name:"John Doe",rating:5,review:"Excellent service and quality products. Highly recommended!",avatar:"https://via.placeholder.com/64x64"},{name:"Jane Smith",rating:5,review:"Fast delivery and great customer support. Will shop again!",avatar:"https://via.placeholder.com/64x64"},{name:"Mike Johnson",rating:5,review:"Best prices in the market with genuine products.",avatar:"https://via.placeholder.com/64x64"}].map((Q,B)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:Q.avatar,alt:Q.name,className:"w-12 h-12 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:Q.name}),n.jsx("div",{className:"flex text-yellow-400",children:[...Array(Q.rating)].map((Y,J)=>n.jsx("span",{children:""},J))})]})]}),n.jsxs("p",{style:{color:"var(--text-secondary)"},children:['"',Q.review,'"']})]},B))})]})},$.section_id);default:return null}},U=l.filter($=>$.enabled).sort(($,ne)=>($.display_order||$.order||0)-(ne.display_order||ne.order||0));console.log("Homepage sections to render:",U);const q=[];return n.jsx("div",{style:{backgroundColor:"var(--bg-secondary)"},className:"min-h-screen",children:m||v?n.jsxs("div",{className:"flex justify-center items-center py-20",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Loading homepage..."}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Please wait while we load the content"})]})]}):U.length>0?U.map($=>V($)):n.jsxs(n.Fragment,{children:[n.jsx(AR,{}),n.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-left",style:{color:"var(--text-primary)"},children:"Shop by Category"}),n.jsx("div",{className:"h-1 w-32 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg text-left",style:{color:"var(--text-secondary)"},children:"Discover our wide range of products across different categories"})]}),n.jsx(bR,{categories:q})]})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:"Featured Products"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Discover our best-selling items handpicked for you"})]}),n.jsx(_R,{products:t})]})}),n.jsx(jR,{products:r.filter($=>{var ne;return(ne=$.category)==null?void 0:ne.toLowerCase().includes("smartphone")}).slice(0,8)}),n.jsx(NR,{products:r.filter($=>$.isNew||$.featured).slice(0,8)}),n.jsx(SR,{}),n.jsx(Qoe,{}),n.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-3xl font-bold mb-3 text-left",children:"Special Offers"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Don't miss out on these amazing deals"})]}),n.jsx(gR,{})]})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:"Our Products"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Explore our complete collection"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:I.map($=>n.jsx(fg,{product:{...$,id:$.id||$._id,name:$.name||`${$.brand} ${$.model||""}`.trim(),image:$.images&&$.images.length>0?$.images[0]:$.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:$.discount_price||$.offer_price||$.price,price:$.price,discount:$.discount||($.price&&$.discount_price?`${Math.round(($.price-($.discount_price||$.offer_price))/$.price*100)}%`:null),rating:$.rating||4,reviews:$.reviews||$.reviews_count||0,brand:$.brand||"Unknown",category:$.category||"General",stock:$.stock||0}},$.id))}),_>0&&n.jsx($a,{currentPage:f,totalPages:S,onPageChange:z,totalItems:_,itemsPerPage:C})]})})]})})},Im=(r,t="info")=>{const s=document.createElement("div");s.className=`toast toast-${t}`,s.textContent=r,document.body.appendChild(s),setTimeout(()=>{s.classList.add("toast-show")},100),setTimeout(()=>{s.classList.add("toast-hide"),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},300)},3e3)},$e={success:r=>Im(r,"success"),error:r=>Im(r,"error"),warning:r=>Im(r,"warning"),info:r=>Im(r,"info")},MA=r=>{Im(`${r} added to your cart!`,"success")},Dw=r=>{Im(r||"Error updating cart","error")},Xoe=()=>{Im("Item removed from your wishlist","info")},R1=({items:r})=>n.jsx("nav",{className:"flex items-center text-sm mb-6 font-medium py-2 px-3 rounded-lg overflow-x-auto no-scrollbar",style:{backgroundColor:"var(--bg-accent-light)",boxShadow:"var(--shadow-small)"},children:r.map((t,s)=>n.jsxs(ot.Fragment,{children:[s===0&&n.jsx(nN,{className:"mr-1.5",size:14,style:{color:"var(--brand-primary)"}}),s>0&&n.jsx(wn,{className:"mx-2",size:14,style:{color:"var(--text-secondary)"}}),t.link?n.jsx(rt,{to:t.link,className:"transition-colors duration-200 hover:underline flex items-center",style:{color:"var(--text-secondary)"},children:t.label}):n.jsx("span",{className:"font-semibold flex items-center truncate max-w-[200px]",style:{color:"var(--brand-primary)"},children:t.label})]},s))}),Zoe=({isOpen:r,onClose:t,media:s,currentIndex:i,setCurrentIndex:l})=>{O.useEffect(()=>{const C=_=>{_.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",C),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",C),document.body.style.overflow="unset"}},[r,t]);const u=C=>{C.target===C.currentTarget&&t()},m=()=>{l(C=>C===s.length-1?0:C+1)},f=()=>{l(C=>C===0?s.length-1:C-1)},b=C=>C.includes("youtube.com")||C.includes("youtu.be")||C.includes("vimeo.com"),v=C=>{let _="";return C.includes("youtube.com/watch?v=")?_=C.split("v=")[1].split("&")[0]:C.includes("youtu.be/")&&(_=C.split("youtu.be/")[1].split("?")[0]),`https://www.youtube.com/embed/${_}?autoplay=1&rel=0`};if(!r||!s||s.length===0)return null;const k=s[i];return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-90 backdrop-blur-sm",onClick:u,children:n.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors p-2 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:n.jsx(Yt,{size:24})}),s.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:n.jsx(sa,{size:24})}),n.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:n.jsx(wn,{size:24})})]}),n.jsx("div",{className:"max-w-6xl max-h-full w-full h-full flex items-center justify-center",children:b(k)?n.jsx("div",{className:"w-full h-full max-w-4xl max-h-[80vh] aspect-video",children:n.jsx("iframe",{src:v(k),className:"w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):n.jsx("img",{src:k,alt:`Media ${i+1}`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:C=>C.stopPropagation()})}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full",children:[i+1," / ",s.length]}),s.length>1&&n.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 flex space-x-2 max-w-sm overflow-x-auto px-4 py-2 bg-black bg-opacity-50 rounded-lg",children:s.map((C,_)=>n.jsx("button",{onClick:()=>l(_),className:`flex-shrink-0 w-12 h-12 rounded-md overflow-hidden border-2 transition-all ${_===i?"border-orange-500 opacity-100":"border-transparent opacity-60 hover:opacity-80"}`,children:b(C)?n.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:n.jsx(Zw,{className:"text-white",size:16})}):n.jsx("img",{src:C,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]})})},eie=({images:r=[],videos:t=[],activeImage:s=0,setActiveImage:i})=>{const[l,u]=O.useState(!1),m=[...r,...t],f=_=>_.includes("youtube.com")||_.includes("youtu.be")||_.includes("vimeo.com"),b=_=>{let S="";return _.includes("youtube.com/watch?v=")?S=_.split("v=")[1].split("&")[0]:_.includes("youtu.be/")&&(S=_.split("youtu.be/")[1].split("?")[0]),`https://img.youtube.com/vi/${S}/maxresdefault.jpg`},v=()=>{i(_=>_===m.length-1?0:_+1)},k=()=>{i(_=>_===0?m.length-1:_-1)},C=()=>{u(!0)};return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 rounded-lg overflow-hidden relative group cursor-pointer",style:{boxShadow:"var(--shadow-medium)"},onClick:C,children:[n.jsx("div",{className:"relative overflow-hidden",children:f(m[s])?n.jsxs("div",{className:"relative w-full aspect-square bg-gray-100 flex items-center justify-center",children:[n.jsx("img",{src:b(m[s]),alt:`Video thumbnail ${s+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:n.jsx("div",{className:"bg-red-600 text-white p-4 rounded-full hover:bg-red-700 transition-colors",children:n.jsx(Zw,{size:24})})})]}):n.jsx("img",{src:m[s],alt:`Product view ${s+1}`,className:"w-full h-auto object-contain aspect-square"})}),n.jsx("button",{className:"absolute bottom-3 right-3 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:_=>{_.stopPropagation(),C()},style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:f(m[s])?n.jsx(Zw,{}):n.jsx(Jee,{})}),m.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:_=>{_.stopPropagation(),k()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:n.jsx(sa,{size:20})}),n.jsx("button",{onClick:_=>{_.stopPropagation(),v()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:n.jsx(wn,{size:20})})]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:m.map((_,S)=>n.jsx("button",{onClick:()=>i(S),className:`rounded-md overflow-hidden transition-all duration-300 relative ${s===S?"ring-2 ring-offset-1 transform scale-105":"opacity-80 hover:opacity-100"}`,style:{ringColor:"var(--brand-primary)",transform:s===S?"scale(1.05)":"scale(1)"},children:f(_)?n.jsxs("div",{className:"relative w-full aspect-square bg-gray-100",children:[n.jsx("img",{src:b(_),alt:`Video thumbnail ${S+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40",children:n.jsx(Zw,{className:"text-white",size:16})})]}):n.jsx("img",{src:_,alt:`Product thumbnail ${S+1}`,className:"w-full h-auto object-cover aspect-square"})},S))}),n.jsx(Zoe,{isOpen:l,onClose:()=>u(!1),media:m,currentIndex:s,setCurrentIndex:i})]})},tie=({product:r,selectedVariant:t})=>{var b,v,k,C,_,S;const s=r.reviews||0,i=(t==null?void 0:t.discounted_price)||(t==null?void 0:t.price)||r.discountPrice||r.price||0,l=(t==null?void 0:t.price)||r.price||0,u=(t==null?void 0:t.stock)||r.stock||0,m=i&&l&&i<l,f=m?Math.round((l-i)/l*100):0;return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.brand}),n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:r.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[...Array(5)].map((M,R)=>n.jsx($r,{className:`${R<Math.floor(r.rating)?"fill-current":""} ${R===Math.floor(r.rating)&&r.rating%1>0?"fill-current opacity-50":""}`,size:18},R))}),n.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[r.rating," (",s," ratings)"]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-baseline flex-wrap gap-2",children:[n.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:["",i.toLocaleString()]}),m&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg line-through",style:{color:"var(--text-secondary)"},children:["",l.toLocaleString()]}),n.jsxs("span",{className:"px-2 py-1 text-xs font-bold rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:[f,"% off"]})]})]}),n.jsxs("div",{className:"flex items-center mt-3",children:[n.jsxs("div",{className:`flex items-center ${u>0?"text-green-600":"text-red-600"}`,children:[n.jsx(Bn,{className:"mr-1"}),n.jsx("span",{className:"font-medium",children:u>0?`In Stock (${u} available)`:"Out of Stock"})]}),n.jsxs("span",{className:"text-sm ml-2",style:{color:"var(--text-secondary)"},children:["(",u," available)"]})]}),t&&n.jsx("div",{className:"mt-3 p-2 rounded-md",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["Selected: ",t.colors]})})]}),(((b=r.colors)==null?void 0:b.length)>0||((v=r.ramOptions)==null?void 0:v.length)>0||((k=r.storageOptions)==null?void 0:k.length)>0)&&n.jsxs("div",{className:"space-y-4",children:[((C=r.colors)==null?void 0:C.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Colors:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.colors.map((M,R)=>n.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:M},R))})]}),((_=r.ramOptions)==null?void 0:_.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"RAM Options:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.ramOptions.map((M,R)=>n.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:M},R))})]}),((S=r.storageOptions)==null?void 0:S.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Storage Options:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.storageOptions.map((M,R)=>n.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:M},R))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(jee,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",children:"Authentic Product"})]}),n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Lr,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",children:"Fast Delivery"})]}),n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Pk,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",children:"Secure Payment"})]})]})]})},rie=({quantity:r,stock:t,handleQuantityChange:s,incrementQuantity:i,decrementQuantity:l})=>n.jsxs("div",{className:"flex flex-wrap items-center mb-6",children:[n.jsx("span",{className:"font-medium mr-4 text-sm",style:{color:"var(--text-primary)"},children:"Quantity:"}),n.jsxs("div",{className:"flex items-center rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsx("button",{onClick:l,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:r<=1,style:{backgroundColor:r<=1?"#f5f5f5":"var(--bg-accent-light)",color:r<=1?"var(--text-secondary)":"var(--brand-primary)",opacity:r<=1?.7:1},"aria-label":"Decrease quantity",children:n.jsx(G9,{size:16})}),n.jsx("input",{type:"number",min:"1",max:t,value:r,onChange:s,className:"w-14 text-center py-2 focus:outline-none font-medium text-sm",style:{borderLeft:"1px solid var(--border-primary)",borderRight:"1px solid var(--border-primary)",color:"var(--text-primary)"}}),n.jsx("button",{onClick:i,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:r>=t,style:{backgroundColor:r>=t?"#f5f5f5":"var(--bg-accent-light)",color:r>=t?"var(--text-secondary)":"var(--brand-primary)",opacity:r>=t?.7:1},"aria-label":"Increase quantity",children:n.jsx(dn,{size:16})})]}),t&&n.jsxs("span",{className:"text-xs ml-4 mt-1 md:mt-0",style:{color:"var(--text-secondary)"},children:[t," items available"]})]}),nie=({addToCart:r,addToWishlist:t,price:s})=>{const i=s>5e4?0:99,l=s+i;return n.jsxs("div",{className:"rounded-lg p-4 space-y-6",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"p-4 rounded-lg mb-2",style:{backgroundColor:"var(--bg-accent-light)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Price:"}),n.jsxs("span",{style:{color:"var(--text-primary)"},children:["",s.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Delivery:"}),n.jsx("span",{style:i===0?{color:"var(--success-color)"}:{color:"var(--text-primary)"},children:i>0?`${i.toLocaleString()}`:"Free"})]}),n.jsx("hr",{style:{borderColor:"var(--border-primary)",margin:"8px 0"}}),n.jsxs("div",{className:"flex justify-between items-center font-bold",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Total:"}),n.jsxs("span",{style:{color:"var(--brand-primary)"},children:["",l.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs(st,{onClick:r,className:"transition-transform hover:scale-105 duration-300",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(np,{className:"mr-2"}),"Add to Cart"]}),n.jsxs(st,{onClick:t,variant:"outline",className:"transition-transform hover:scale-105 duration-300",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:[n.jsx(ug,{className:"mr-2"}),"Add to Wishlist"]})]}),n.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Delivery & Payment Options"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[n.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Lr,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Free & Fast Delivery"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Orders ship within 24 hours"})]})]}),n.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[n.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(oa,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Easy EMI Options"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"3, 6, 9 & 12 months available"})]})]}),n.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[n.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Pk,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Warranty Protection"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"All products come with warranty"})]})]})]})]})]})},d2=({rating:r=0,readOnly:t=!1,onRatingChange:s=()=>{},reviewText:i="",onReviewTextChange:l=()=>{},onSubmit:u=()=>{},isVerifiedPurchase:m=!1})=>{const[f,b]=O.useState(0),v=(C,_=!1)=>{const S=[],M=Math.floor(C),R=C%1!==0;for(let I=0;I<5;I++)_?S.push(n.jsx("span",{className:"cursor-pointer text-xl",onClick:()=>!t&&s(I+1),onMouseEnter:()=>!t&&b(I+1),onMouseLeave:()=>!t&&b(0),children:(f||C)>I?n.jsx(EA,{className:"text-yellow-400"}):n.jsx(DA,{className:"text-yellow-400"})},I)):I<M?S.push(n.jsx(EA,{className:"text-yellow-400"},I)):I===M&&R?S.push(n.jsx(j6,{className:"text-yellow-400"},I)):S.push(n.jsx(DA,{className:"text-yellow-400"},I));return S},k=C=>{if(C.preventDefault(),r===0){$e.warning("Please select a rating");return}u({rating:r,reviewText:i})};return n.jsx("div",{className:"w-full animate-fadeIn",children:t?n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex mr-2",children:v(r)}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:r.toFixed(1)}),m&&n.jsxs("div",{className:"ml-3 flex items-center text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--success-color)",color:"white"},children:[n.jsx(Hoe,{className:"mr-1",size:10}),n.jsx("span",{children:"Verified Purchase"})]})]})}):n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Rating"}),n.jsx("div",{className:"flex gap-1",children:v(r,!0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:i,onChange:C=>l(C.target.value),className:"w-full px-4 py-2 rounded-lg min-h-[120px]",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},placeholder:"Share your experience with this product..."})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Submit Review"})})]})})},FN=({isOpen:r,onClose:t,title:s,children:i,size:l="md",showCloseButton:u=!0,closeOnBackdropClick:m=!0,className:f=""})=>{if(O.useEffect(()=>{const k=C=>{C.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",k),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",k),document.body.style.overflow="unset"}},[r,t]),!r)return null;const b={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},v=k=>{m&&k.target===k.currentTarget&&t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:v,children:n.jsxs("div",{className:`w-full ${b[l]} max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all ${f}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:k=>k.stopPropagation(),children:[(s||u)&&n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[s&&n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s}),u&&n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-md",style:{color:"var(--text-secondary)"},"aria-label":"Close modal",children:n.jsx(Yt,{size:24})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:i})]})})},ih=({isOpen:r,onClose:t,onConfirm:s,title:i="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:u="Confirm",cancelText:m="Cancel",type:f="warning",isLoading:b=!1})=>{const v=()=>{s()},k=()=>{switch(f){case"danger":return n.jsx(Yt,{className:"text-red-500",size:24});case"info":return n.jsx(Qu,{className:"text-blue-500",size:24});case"success":return n.jsx(Yn,{className:"text-green-500",size:24});case"warning":default:return n.jsx(Pm,{className:"text-yellow-500",size:24})}},C=()=>{switch(f){case"danger":return"danger";case"success":return"primary";case"info":return"primary";case"warning":default:return"primary"}};return n.jsx(FN,{isOpen:r,onClose:t,size:"sm",closeOnBackdropClick:!b,children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start mb-4",children:[n.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:k()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i}),n.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:l})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(st,{variant:"outline",onClick:t,disabled:b,fullWidth:!1,size:"sm",children:m}),n.jsx(st,{variant:C(),onClick:v,isLoading:b,fullWidth:!1,size:"sm",children:u})]})]})})},gg=()=>{const[r,t]=O.useState(!1),[s,i]=O.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",type:"warning",onConfirm:()=>{}}),[l,u]=O.useState(!1),m=O.useCallback(v=>{i({title:v.title||"Confirm Action",message:v.message||"Are you sure you want to proceed?",confirmText:v.confirmText||"Confirm",cancelText:v.cancelText||"Cancel",type:v.type||"warning",onConfirm:v.onConfirm||(()=>{})}),t(!0),u(!1)},[]),f=O.useCallback(()=>{t(!1),u(!1)},[]),b=O.useCallback(async()=>{u(!0);try{await s.onConfirm(),f()}catch(v){console.error("Error in confirm action:",v),u(!1)}},[s,f]);return{isOpen:r,modalConfig:s,isLoading:l,showConfirm:m,hideConfirm:f,handleConfirm:b}},sie=({productId:r,reviews:t=[],onAddReview:s=()=>{},canAddReview:i=!1,showFilters:l=!0,onMarkHelpful:u=null,onReportReview:m=null,currentUser:f=null})=>{const[b,v]=O.useState(t),[k,C]=O.useState(0),[_,S]=O.useState(!1),[M,R]=O.useState({rating:0,reviewText:""}),[I,z]=O.useState("newest"),[V,U]=O.useState({}),{isOpen:q,modalConfig:$,isLoading:ne,showConfirm:Q,hideConfirm:B,handleConfirm:Y}=gg(),J=t.length>0?(t.reduce((ae,le)=>ae+le.rating,0)/t.length).toFixed(1):"0.0",W=ae=>{C(ae),v(ae===0?t:t.filter(le=>le.rating===ae))},ee=ae=>{z(ae);let le=[...b];switch(ae){case"newest":le.sort((oe,G)=>new Date(G.date||G.created_at)-new Date(oe.date||oe.created_at));break;case"highest":le.sort((oe,G)=>G.rating-oe.rating);break;case"lowest":le.sort((oe,G)=>oe.rating-G.rating);break;case"helpful":le.sort((oe,G)=>(G.helpful||0)-(oe.helpful||0));break}v(le)},te=ae=>{s({...ae,productId:r,date:new Date().toISOString(),verified:!0,helpful:0}),S(!1),R({rating:0,reviewText:""})},be=async ae=>{if(!f){$e.warning("Please log in to mark reviews as helpful");return}if(u){U(le=>({...le,[ae]:"helpful"}));try{const le=await u(r,ae);le.success?v(oe=>oe.map(G=>G.id===ae?{...G,helpful:le.data.helpful_count,userMarkedHelpful:le.data.is_marked_helpful}:G)):$e.error(le.error||"Failed to mark review as helpful")}catch(le){console.error("Error marking review as helpful:",le),$e.error("Failed to mark review as helpful. Please try again.")}finally{U(le=>{const oe={...le};return delete oe[ae],oe})}}else v(b.map(le=>le.id===ae?{...le,helpful:(le.helpful||0)+1}:le)),$e.success("Review marked as helpful!")},xe=async ae=>{if(!f){$e.warning("Please log in to report reviews");return}Q({title:"Report Review",message:"Are you sure you want to report this review? This action will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{if(m){U(le=>({...le,[ae]:"report"}));try{const le=await m(r,ae);le.success?$e.success(le.message||"Review reported successfully"):$e.error(le.error||"Failed to report review")}catch(le){console.error("Error reporting review:",le),$e.error("Failed to report review. Please try again.")}finally{U(le=>{const oe={...le};return delete oe[ae],oe})}}else $e.success("Review reported successfully")}})},ie=[5,4,3,2,1].map(ae=>{const le=t.filter(G=>G.rating===ae).length,oe=t.length>0?le/t.length*100:0;return{rating:ae,count:le,percentage:oe}});return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 p-5 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[n.jsx("div",{className:"text-center md:text-left",children:n.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[n.jsx("span",{className:"text-4xl font-bold mr-2",style:{color:"var(--text-primary)"},children:J}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"flex",children:n.jsx(d2,{rating:parseFloat(J),readOnly:!0})}),n.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Based on ",t.length,t.length===1?"review":"reviews"]})]})]})}),n.jsx("div",{className:"w-full max-w-xs",children:ie.map(ae=>n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("div",{className:"flex items-center w-16",children:n.jsxs("span",{className:"text-xs font-medium mr-2",style:{color:"var(--text-secondary)"},children:[ae.rating,n.jsx($r,{className:"inline-block ml-1",size:12})]})}),n.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full",style:{width:`${ae.percentage}%`,backgroundColor:"var(--brand-primary)"}})}),n.jsx("span",{className:"text-xs ml-2 w-8",style:{color:"var(--text-secondary)"},children:ae.count})]},ae.rating))})]}),i&&n.jsx("div",{className:"flex justify-center md:justify-end",children:n.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-3 rounded-lg font-medium flex items-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx($r,{className:"mr-2"}),"Write a Review"]})})]}),_&&n.jsxs("div",{className:"p-5 rounded-lg animate-fadeIn",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Write Your Review"}),n.jsx(d2,{rating:M.rating,readOnly:!1,reviewText:M.reviewText,onRatingChange:ae=>R({...M,rating:ae}),onReviewTextChange:ae=>R({...M,reviewText:ae}),onSubmit:te}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 mr-2 rounded-lg font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Cancel"})})]}),l&&t.length>0&&n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pb-4 border-b",style:{borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(wd,{className:"mr-2",style:{color:"var(--text-secondary)"}}),n.jsx("span",{className:"mr-3 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Filter:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,5,4,3,2,1].map(ae=>n.jsx("button",{onClick:()=>W(ae),className:`px-3 py-1 text-xs rounded-full transition-colors ${k===ae?"font-semibold":""}`,style:{backgroundColor:k===ae?"var(--brand-primary)":"var(--bg-secondary)",color:k===ae?"var(--text-on-brand)":"var(--text-secondary)"},children:ae===0?"All Ratings":`${ae} Stars`},ae))})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:I,onChange:ae=>ee(ae.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-secondary)"},children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"highest",children:"Highest Rated"}),n.jsx("option",{value:"lowest",children:"Lowest Rated"}),n.jsx("option",{value:"helpful",children:"Most Helpful"})]}),n.jsx(_i,{className:"absolute right-2 top-1/2 transform -translate-y-1/2",style:{color:"var(--text-secondary)"}})]})]}),n.jsx("div",{className:"space-y-6",children:b.length>0?b.map(ae=>n.jsxs("div",{className:"p-5 rounded-lg transition-shadow hover:shadow-md",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",style:{color:"var(--text-primary)"},children:ae.title||"Review"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(d2,{rating:ae.rating,readOnly:!0}),n.jsx("span",{className:"ml-2 text-xs",style:{color:"var(--text-secondary)"},children:(()=>{const le=ae.date||ae.created_at;return typeof le=="string"?new Date(le).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):le})()})]})]}),ae.is_verified&&n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--success-color)"},children:"Verified Purchase"})})]}),n.jsx("p",{className:"my-3 text-sm",style:{color:"var(--text-secondary)"},children:ae.comment||ae.reviewText}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsx("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:ae.user||"Anonymous"})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>be(ae.id),disabled:V[ae.id]==="helpful"||ae.userMarkedHelpful||ae.is_marked_helpful||f&&ae.userEmail===f.email,className:`flex items-center text-xs transition-colors disabled:opacity-50 ${ae.userMarkedHelpful||ae.is_marked_helpful?"text-blue-600":"hover:text-blue-600"}`,style:{color:ae.userMarkedHelpful||ae.is_marked_helpful?"#2563eb":"var(--text-secondary)"},title:f&&ae.userEmail===f.email?"You cannot mark your own review as helpful":ae.userMarkedHelpful||ae.is_marked_helpful?"You marked this review as helpful":"Mark this review as helpful",children:[n.jsx(qee,{className:"mr-1"}),V[ae.id]==="helpful"?"Loading...":`Helpful (${ae.helpful_count||ae.helpful||0})`]}),n.jsxs("button",{onClick:()=>xe(ae.id),disabled:V[ae.id]==="report"||f&&ae.userEmail===f.email,className:"flex items-center text-xs transition-colors hover:text-red-600 disabled:opacity-50",style:{color:"var(--text-secondary)"},title:f&&ae.userEmail===f.email?"You cannot report your own review":"Report review",children:[n.jsx(rN,{className:"mr-1"}),V[ae.id]==="report"?"Reporting...":"Report"]})]})]})]},ae.id)):n.jsxs("div",{className:"p-8 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx("div",{className:"text-lg font-medium mb-2",children:"No reviews yet"}),n.jsx("p",{children:"Be the first to share your experience with this product"})]})}),n.jsx(ih,{isOpen:q,onClose:B,onConfirm:Y,title:$.title,message:$.message,confirmText:$.confirmText,cancelText:$.cancelText,type:$.type,isLoading:ne})]})},S6=nn(r=>({reviews:[],productReviews:{},pendingReviews:[],flaggedReviews:[],addReview:t=>r(s=>{const i=[...s.reviews,{...t,status:"pending"}];let l={...s.productReviews};return l[t.productId]||(l[t.productId]=[]),l[t.productId]=[...l[t.productId],{...t,status:"pending"}],{reviews:i,productReviews:l,pendingReviews:[...s.pendingReviews,{...t,status:"pending"}]}}),updateReviewStatus:(t,s)=>r(i=>{const l=i.reviews.map(b=>b.id===t?{...b,status:s}:b);let u={...i.productReviews};Object.keys(u).forEach(b=>{u[b]=u[b].map(v=>v.id===t?{...v,status:s}:v)});const m=s==="pending"?i.pendingReviews:i.pendingReviews.filter(b=>b.id!==t),f=s==="flagged"?[...i.flaggedReviews,l.find(b=>b.id===t)]:i.flaggedReviews.filter(b=>b.id!==t);return{reviews:l,productReviews:u,pendingReviews:m,flaggedReviews:f}}),deleteReview:t=>r(s=>{const i=s.reviews.filter(f=>f.id!==t);let l={...s.productReviews};Object.keys(l).forEach(f=>{l[f]=l[f].filter(b=>b.id!==t)});const u=s.pendingReviews.filter(f=>f.id!==t),m=s.flaggedReviews.filter(f=>f.id!==t);return{reviews:i,productReviews:l,pendingReviews:u,flaggedReviews:m}}),toggleFlaggedStatus:t=>r(s=>{const i=s.reviews.find(b=>b.id===t);if(!i)return s;const l=s.flaggedReviews.some(b=>b.id===t),u=s.reviews.map(b=>b.id===t?{...b,flagged:!l}:b);let m={...s.productReviews};Object.keys(m).forEach(b=>{m[b]=m[b].map(v=>v.id===t?{...v,flagged:!l}:v)});const f=l?s.flaggedReviews.filter(b=>b.id!==t):[...s.flaggedReviews,{...i,flagged:!0}];return{reviews:u,productReviews:m,flaggedReviews:f}}),markReviewAsHelpful:t=>r(s=>{const i=s.reviews.map(u=>u.id===t?{...u,helpful:(u.helpful||0)+1}:u);let l={...s.productReviews};return Object.keys(l).forEach(u=>{l[u]=l[u].map(m=>m.id===t?{...m,helpful:(m.helpful||0)+1}:m)}),{reviews:i,productReviews:l}}),getProductReviews:t=>S6.getState().productReviews[t]||[],fetchReviews:()=>{const t=[{id:1,productId:1,productName:"iPhone 13 Pro Max",user:"Sanjay Mehta",userEmail:"sanjay@example.com",rating:4,title:"Great phone but battery could be better",comment:"I've been using this phone for 2 months now and it's really good. Camera is excellent and performance is smooth. Battery life could be a bit better though.",date:"2023-11-15T10:30:00",helpful:12,verified:!0,status:"approved",flagged:!1},{id:2,productId:1,user:"Priya Sharma",userEmail:"priya.s@example.com",rating:5,title:"Best phone I've ever owned!",comment:"This phone exceeded all my expectations. The display is beautiful and the camera is outstanding. Very happy with my purchase.",date:"2023-11-10T14:22:00",helpful:8,verified:!0,status:"approved",flagged:!1},{id:3,productId:2,productName:"Samsung Galaxy S22 Ultra",user:"Rahul Gupta",userEmail:"rahul.g@example.com",rating:2,title:"Disappointing Experience",comment:"The phone heats up frequently and the battery drains too fast. Not what I expected from a premium phone.",date:"2023-11-12T09:15:00",helpful:4,verified:!0,status:"approved",flagged:!0},{id:4,productId:3,productName:"Apple MacBook Pro M1",user:"Vikram Singh",userEmail:"vikram@example.com",rating:5,title:"Best laptop I've ever owned",comment:"This is an amazing laptop. The M1 chip is incredibly fast and the battery life is phenomenal. I can work all day without needing to charge.",date:"2023-11-08T16:45:00",helpful:15,verified:!0,status:"approved",flagged:!1},{id:5,productId:6,productName:"Apple AirPods Pro",user:"Sneha Patel",userEmail:"sneha.p@example.com",rating:4,title:"Great sound quality",comment:"The noise cancellation is excellent and they fit comfortably. The only downside is the battery life could be better.",date:"2023-11-05T11:30:00",helpful:9,verified:!1,status:"pending",flagged:!1}],s={};t.forEach(u=>{s[u.productId]||(s[u.productId]=[]),s[u.productId].push(u)});const i=t.filter(u=>u.status==="pending"),l=t.filter(u=>u.flagged);r({reviews:t,productReviews:s,pendingReviews:i,flaggedReviews:l})}})),oie=({productId:r,product:t})=>{const{reviews:s,productReviews:i,addReview:l,fetchReviews:u}=S6(),{user:m}=Sr(),{markReviewHelpful:f,reportReview:b}=ol(),{isOpen:v,modalConfig:k,isLoading:C,showConfirm:_,hideConfirm:S,handleConfirm:M}=gg();O.useEffect(()=>{s.length===0&&u()},[]);const R=q=>{l({productId:r,productName:t.name,user:(m==null?void 0:m.name)||"Anonymous User",userEmail:(m==null?void 0:m.email)||"anonymous@example.com",...q})},I=!1,z=t.reviewsData&&t.reviewsData.length>0?t.reviewsData:i[r]||[],V=async q=>{if(!m){$e.warning("Please log in to mark reviews as helpful");return}const $=z.find(ne=>ne.id===q);if($&&$.userEmail===m.email){$e.warning("You cannot mark your own review as helpful");return}if($&&($.userMarkedHelpful||$.is_marked_helpful)){$e.info("You have already marked this review as helpful");return}try{const ne=await f(r,q);ne.success?($e.success("Review marked as helpful!"),console.log("Review marked as helpful successfully")):$e.error(ne.error||"Failed to mark review as helpful")}catch(ne){console.error("Error marking review as helpful:",ne),$e.error("Failed to mark review as helpful")}},U=async q=>{if(!m){$e.warning("Please log in to report reviews");return}const $=z.find(ne=>ne.id===q);if($&&$.userEmail===m.email){$e.warning("You cannot report your own review");return}_({title:"Report Review",message:"Are you sure you want to report this review? This will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const ne=await b(r,q);ne.success?$e.success("Review reported successfully. Thank you for helping us maintain quality."):$e.error(ne.error||"Failed to report review")}catch(ne){console.error("Error reporting review:",ne),$e.error("Failed to report review")}}})};return n.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Customer Reviews"}),n.jsx(sie,{productId:r,reviews:z,onAddReview:R,canAddReview:I,showFilters:!0,onMarkHelpful:V,onReportReview:U,currentUser:m,isAuthenticated:!!m}),n.jsx(ih,{isOpen:v,onClose:S,onConfirm:M,title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,type:k.type,isLoading:C})]})},iie=({product:r,activeTab:t,setActiveTab:s})=>{const i=r.reviews||0,l=Object.keys(r.attributes||{});return n.jsxs("div",{className:"mt-10 rounded-lg overflow-hidden",style:{boxShadow:"var(--shadow-medium)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-nowrap overflow-x-auto",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(Mw,{id:"description",activeTab:t,setActiveTab:s,icon:n.jsx(Qu,{}),label:"Description"}),n.jsx(Mw,{id:"specifications",activeTab:t,setActiveTab:s,label:"Specifications"}),l.map(u=>n.jsx(Mw,{id:`attribute-${u}`,activeTab:t,setActiveTab:s,label:u.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())},u)),n.jsx(Mw,{id:"reviews",activeTab:t,setActiveTab:s,icon:n.jsx(Oee,{}),label:`Reviews (${i})`})]}),n.jsxs("div",{className:"p-6 bg-white min-h-[400px] max-h-[600px] overflow-y-auto custom-scrollbar",children:[t==="description"&&n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("p",{className:"mb-6 leading-relaxed text-base",style:{color:"var(--text-secondary)"},children:r.description}),n.jsx("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:"Key Features:"}),n.jsxs("ul",{className:"space-y-3",children:[(r.features||[]).map((u,m)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-3 mt-0.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:m+1}),n.jsx("span",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:u})]},m)),(!r.features||r.features.length===0)&&n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-3 mt-0.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"1"}),n.jsx("span",{className:"text-base",style:{color:"var(--text-secondary)"},children:"High-quality materials and construction"})]})]})]}),t==="specifications"&&n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h3",{className:"font-semibold text-xl mb-6",style:{color:"var(--text-primary)"},children:"Technical Specifications"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.entries(r.specifications||{}).map(([u,m])=>n.jsx("div",{className:"group",children:n.jsxs("div",{className:"flex flex-col p-4 rounded-lg border-2 transition-all duration-300 group-hover:border-orange-500 group-hover:shadow-md",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[n.jsx("span",{className:"text-sm font-medium mb-2 uppercase tracking-wide",style:{color:"var(--brand-primary)"},children:u.replace(/([A-Z])/g," $1").replace(/^./,f=>f.toUpperCase())}),n.jsx("span",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:m})]})},u)),(!r.specifications||Object.keys(r.specifications).length===0)&&n.jsxs("div",{className:"col-span-full p-6 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Qu,{className:"mx-auto mb-2 text-2xl"}),n.jsx("p",{children:"Product specifications not available"})]})]})]}),l.map(u=>t===`attribute-${u}`&&n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h3",{className:"font-semibold text-xl mb-6",style:{color:"var(--text-primary)"},children:u.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),n.jsx("div",{className:"p-6 rounded-lg border-2",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-accent-light)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-sm font-medium uppercase tracking-wide block mb-3",style:{color:"var(--brand-primary)"},children:u}),n.jsx("span",{className:"text-2xl font-bold break-words",style:{color:"var(--text-primary)"},children:r.attributes[u]})]})})]},u)),t==="reviews"&&n.jsx("div",{className:"animate-fadeIn",children:n.jsx(oie,{productId:r.id,product:r})})]})]})},Mw=({id:r,activeTab:t,setActiveTab:s,icon:i,label:l})=>{const u=t===r;return n.jsxs("button",{onClick:()=>s(r),className:`px-6 py-4 text-sm font-medium flex items-center transition-all duration-300 whitespace-nowrap ${u?"border-b-2":"hover:bg-white/50"}`,style:{borderColor:u?"var(--brand-primary)":"transparent",color:u?"var(--brand-primary)":"var(--text-secondary)",backgroundColor:u?"white":"transparent"},children:[i&&n.jsx("span",{className:"mr-2",children:i}),l]})},aie=({validOptions:r=[],selectedVariant:t,onVariantChange:s})=>{const[i,l]=O.useState({}),[u,m]=O.useState({}),[f,b]=O.useState(null);O.useEffect(()=>{if(r.length===0)return;const M={},R=new Set;if(r.forEach(I=>{Object.keys(I).forEach(z=>{!["price","discounted_price","stock","id","product_id"].includes(z)&&I[z]!==void 0&&I[z]!==null&&I[z]!==""&&typeof I[z]=="string"&&I[z].trim()!==""&&R.add(z)})}),R.forEach(I=>{const z=[...new Set(r.map(V=>V[I]).filter(V=>V!=null&&V!==""&&typeof V=="string"&&V.trim()!==""&&V.length<100))];z.length>0&&(M[I]=z)}),m(M),console.log("Available options:",M),!t&&r.length>0){const I=r[0];console.log("Initializing with first option:",I);const z={};Object.keys(M).forEach(V=>{I[V]!==void 0&&(z[V]=I[V])}),console.log("Initial selections:",z),l(z),s(I)}},[r,t,s]),O.useEffect(()=>{if(console.log("Selected variant changed:",t),console.log("Available options:",u),t){const M={};Object.keys(u).forEach(R=>{t[R]!==void 0&&(M[R]=t[R])}),console.log("Updating variant selections to:",M),l(M)}},[t,u]);const v=O.useCallback((M,R)=>{console.log("Selection change:",M,R);const I={...i,[M]:R};console.log("New selections:",I),l(I);let z=r.find(V=>Object.keys(I).every(U=>V[U]===I[U]));if(z||(console.log("No exact match found, looking for option with selected value..."),z=r.find(V=>V[M]===R)),!z&&r.length>0&&(console.log("Using first available option as fallback"),z=r[0]),console.log("Selected option:",z),z){console.log("Calling onVariantChange with:",z),s(z);const V={};Object.keys(u).forEach(U=>{z[U]!==void 0&&z[U]!==null&&z[U]!==""&&(V[U]=z[U])}),l(V)}},[i,r,u,s]),k=M=>M.charAt(0).toUpperCase()+M.slice(1).replace(/([A-Z])/g," $1").trim(),C=(M,R)=>M==="storage"?R.toString().toUpperCase():M==="ram"?R.toString().includes("GB")?R:`${R}GB`:M==="size"?R.toString().includes("p")?R:`${R}`:M==="colors"?R.charAt(0).toUpperCase()+R.slice(1):R.toString(),S=t?{price:t.price||0,discountedPrice:t.discounted_price||t.price||0,stock:t.stock||0,savings:t.price&&t.discounted_price&&t.price>t.discounted_price?t.price-t.discounted_price:0}:null;return console.log("ProductVariantSelector rendered with:",{validOptions:r,selectedVariant:t,variantSelections:i,availableOptions:u}),!r.length||!Object.keys(u).length?(console.log("No valid options or available options, returning null"),null):n.jsxs("div",{className:"space-y-6",children:[Object.entries(u).map(([M,R])=>n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[k(M),":",i[M]&&n.jsx("span",{className:"ml-2 font-normal",style:{color:"var(--brand-primary)"},children:C(M,i[M])}),S&&M==="storage"&&n.jsx("div",{className:"ml-auto flex items-center text-xs",children:n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Stock: ",S.stock," units"]})})]}),n.jsx("div",{className:"flex flex-wrap gap-3",children:R.map(I=>{var $,ne;const z=i[M]===I,V=r.find(Q=>Q[M]===I),U=(V==null?void 0:V.stock)>0,q=(V==null?void 0:V.stock)||0;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>v(M,I),onMouseEnter:()=>b(`${M}-${I}`),onMouseLeave:()=>b(null),disabled:!U,className:`px-4 py-2 text-sm font-medium rounded-lg border-2 transition-all duration-200 relative hover:shadow-md ${z?"border-blue-500 bg-blue-50 text-blue-700 shadow-md":U?"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,style:{...z&&{borderColor:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},...U&&!z&&{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}},children:[C(M,I),z&&n.jsx(Bn,{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full p-1",style:{backgroundColor:"var(--brand-primary)"}}),!U&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-1 rounded",children:"Out of Stock"})})]}),f===`${M}-${I}`&&V&&n.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50",children:n.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qu,{className:"w-3 h-3"}),n.jsxs("span",{children:["",(($=V.discounted_price)==null?void 0:$.toLocaleString())||((ne=V.price)==null?void 0:ne.toLocaleString()),V.price&&V.discounted_price&&V.price>V.discounted_price&&n.jsxs("span",{className:"ml-1 line-through text-gray-400",children:["",V.price.toLocaleString()]})]})]}),n.jsxs("div",{className:"text-center mt-1",children:["Stock: ",q," units"]}),n.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})})]},I)})})]},M)),S&&n.jsx("div",{className:"mt-4 p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Selected variant price:"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["",S.discountedPrice.toLocaleString()]}),S.savings>0&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-sm line-through",style:{color:"var(--text-secondary)"},children:["",S.price.toLocaleString()]}),n.jsxs("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded",children:["Save ",S.savings.toLocaleString()]})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:`text-sm font-medium ${S.stock>0?"text-green-600":"text-red-600"}`,children:S.stock>0?`${S.stock} in stock`:"Out of stock"})})]})})]})},lie=({products:r,currentProductId:t,currentCategory:s})=>{const i=r.filter(l=>l.id!==t).slice(0,8);return i.length===0?null:n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Related Products"}),n.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"You might also like these products"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(l=>n.jsx(fg,{product:{...l,id:l.id||l._id,name:l.name||`${l.brand} ${l.model||""}`.trim(),image:l.images&&l.images.length>0?l.images[0]:l.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:l.discount_price||l.offer_price||l.price,price:l.price,discount:l.discount||(l.price&&l.discount_price?`${Math.round((l.price-(l.discount_price||l.offer_price))/l.price*100)}%`:null),rating:l.rating||4,reviews:l.reviews||l.reviews_count||0,brand:l.brand||"Unknown",category:l.category||"General",stock:l.stock||0}},l.id))}),n.jsx("div",{className:"text-center mt-8",children:n.jsxs(rt,{to:`/products/${s==null?void 0:s.toLowerCase().replace(/\s+/g,"-")}`,className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors duration-300 hover:shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",border:"2px solid var(--brand-primary)",textDecoration:"none"},onMouseEnter:l=>{l.target.style.backgroundColor="transparent",l.target.style.color="var(--brand-primary)"},onMouseLeave:l=>{l.target.style.backgroundColor="var(--brand-primary)",l.target.style.color="var(--text-on-brand)"},children:["View All ",s," Products"]})})]})})},cie=({currentProduct:r})=>{var _;const[t,s]=O.useState([]),[i,l]=O.useState([]),[u,m]=O.useState(0),{addItem:f}=kd(),{products:b}=ol();O.useEffect(()=>{if(r&&b.length>0){const S=b.filter(R=>R.id!==r.id&&R.category===r.category).sort(()=>.5-Math.random()).slice(0,3);l(S);const M=[r];S.length>0&&M.push(S[0]),s(M)}},[r,b]),O.useEffect(()=>{const S=t.reduce((M,R)=>{const I=R.discountPrice||R.discount_price||R.price||0;return M+I},0);m(S)},[t]);const v=S=>{S.id!==r.id&&s(M=>M.some(I=>I.id===S.id)?M.filter(I=>I.id!==S.id):[...M,S])},k=()=>{try{t.forEach(S=>{var M;f({id:S.id,name:S.name,price:S.discountPrice||S.discount_price||S.price||0,image:((M=S.images)==null?void 0:M[0])||S.image||"",quantity:1})}),Se.success(`Added ${t.length} items to cart!`)}catch(S){Se.error("Failed to add items to cart"),console.error("Error adding to cart:",S)}},C=S=>S.discountPrice||S.discount_price||S.price||0;return!r||i.length===0?null:n.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[n.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Frequently Bought Together"}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 border-2 border-blue-500 rounded-lg overflow-hidden bg-blue-50",children:n.jsx("img",{src:((_=r.images)==null?void 0:_[0])||r.image||"/placeholder.jpg",alt:r.name,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs",children:""})]}),n.jsx("p",{className:"text-xs text-center mt-2 max-w-20 truncate",children:r.name}),n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["",C(r).toLocaleString()]})]}),n.jsx(dn,{className:"text-gray-400 text-xl"}),i.map((S,M)=>{var I;const R=t.some(z=>z.id===S.id);return n.jsxs(ot.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative cursor-pointer",onClick:()=>v(S),children:[n.jsx("div",{className:`w-24 h-24 border-2 rounded-lg overflow-hidden transition-all ${R?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:n.jsx("img",{src:((I=S.images)==null?void 0:I[0])||S.image||"/placeholder.jpg",alt:S.name,className:"w-full h-full object-cover"})}),R&&n.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs",children:""})]}),n.jsx("p",{className:"text-xs text-center mt-2 max-w-20 truncate",children:S.name}),n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["",C(S).toLocaleString()]})]}),M<i.length-1&&n.jsx(dn,{className:"text-gray-400 text-xl"})]},S.id)})]})}),n.jsxs("div",{className:"lg:w-80 bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium mb-4",style:{color:"var(--text-primary)"},children:"Bundle Summary"}),n.jsx("div",{className:"space-y-2 mb-4",children:t.map(S=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"truncate mr-2",children:S.name}),n.jsxs("span",{className:"font-medium",children:["",C(S).toLocaleString()]})]},S.id))}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Total:"}),n.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["",u.toLocaleString()]})]}),n.jsxs("button",{onClick:k,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors",disabled:t.length===0,children:[n.jsx(np,{}),"Add ",t.length," Items to Cart"]})]})]})]})]})},die=()=>{var W,ee,te,be;const{id:r}=ng(),[t,s]=O.useState(0),[i,l]=O.useState(1),[u,m]=O.useState("description"),[f,b]=O.useState(null),{currentProduct:v,loading:k,error:C,fetchProduct:_,clearCurrentProduct:S,getProductsByCategory:M}=ol(),{addItem:R}=kd(),{addItem:I}=I1(),{user:z}=Sr(),V=O.useCallback(xe=>{console.log("Variant changed to:",xe),b(xe),l(1)},[]);if(O.useEffect(()=>{window.scrollTo(0,0)},[]),O.useEffect(()=>(r&&(console.log("Fetching product with ID:",r),_(r)),()=>{S()}),[r]),O.useEffect(()=>{var xe;((xe=v==null?void 0:v.valid_options)==null?void 0:xe.length)>0&&b(v.valid_options[0])},[v]),O.useEffect(()=>{v&&console.log("Raw product data from API:",v)},[v]),k)return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})})})});if(C)return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:C}),n.jsx("button",{onClick:()=>_(r),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Retry"})]})})})});if(!v)return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Product not found"}),n.jsx(rt,{to:Dt.PRODUCTS,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Back to Products"})]})})})});const U=v,q={...U,name:U.name||U.title||U.product_name||"Unknown Product",price:(f==null?void 0:f.price)||U.price||U.original_price||0,discountPrice:(f==null?void 0:f.discounted_price)||U.discount_price||U.discountPrice||U.discounted_price||U.sale_price||(f==null?void 0:f.price)||U.price||0,discount:U.discount||(f!=null&&f.price&&(f!=null&&f.discounted_price)&&f.discounted_price<f.price?Math.round((f.price-f.discounted_price)/f.price*100)+"%":U.price&&U.discount_price&&U.discount_price<U.price?Math.round((U.price-U.discount_price)/U.price*100)+"%":null),rating:U.rating||U.average_rating||0,reviews:U.total_reviews||(Array.isArray(U.reviews)?U.reviews.length:U.reviews||U.review_count||0),reviewsData:Array.isArray(U.reviews)?U.reviews.map(xe=>({id:xe.id,rating:xe.rating,comment:xe.comment,user:xe.email?xe.email.split("@")[0]:"Anonymous",userEmail:xe.email,date:xe.created_at,verified:!0,helpful:xe.helpful_count||0,helpful_count:xe.helpful_count||0,is_marked_helpful:xe.is_marked_helpful||!1,title:`${xe.title}`,reported_count:xe.reported_count||0,helpful_users:xe.helpful_users||[]})):[],stock:(f==null?void 0:f.stock)||U.stock||U.quantity||U.inventory||1,images:U.images||U.image_urls||U.photos||["https://via.placeholder.com/600x600?text=No+Image"],videos:U.videos||[],features:U.features||U.key_features||[],specifications:U.specifications||U.specs||{},attributes:U.attributes||{},description:U.description||U.product_description||"No description available",category:U.category||U.product_category||"General",brand:U.brand||U.manufacturer||"Unknown Brand",variant:U.variant||{},colors:((W=U.variant)==null?void 0:W.colors)||[],ramOptions:((ee=U.variant)==null?void 0:ee.ram)||[],storageOptions:((te=U.variant)==null?void 0:te.storage)||[],validOptions:U.valid_options||[],selectedColor:(f==null?void 0:f.colors)||null,currentPrice:(f==null?void 0:f.discounted_price)||(f==null?void 0:f.price)||U.discount_price||U.discountPrice||U.discounted_price||U.sale_price||U.price||0,originalPrice:(f==null?void 0:f.price)||U.price||U.original_price||0,currentStock:(f==null?void 0:f.stock)||U.stock||U.quantity||U.inventory||0};console.log("Normalized product data:",q),console.log("Selected variant:",f);const $=xe=>{const ie=parseInt(xe.target.value),ae=q.currentStock;ie>0&&ie<=ae&&l(ie)},ne=()=>{const xe=q.currentStock;i<xe&&l(i+1)},Q=()=>{i>1&&l(i-1)},B=async()=>{var xe;if(!z){Dw("Please log in to add items to cart");return}try{const ie={id:q.id,name:q.name,price:q.currentPrice,image:((xe=q.images)==null?void 0:xe[0])||q.image,variant_id:(f==null?void 0:f.id)||null,variant:f?{id:f.id,color:f.colors,storage:f.storage,ram:f.ram,price:f.discounted_price||f.price}:null};await R(ie,i),MA(q.name,i)}catch(ie){console.error("Error adding to cart:",ie),Dw("Failed to add item to cart")}},Y=async()=>{var xe;if(!z){Dw("Please log in to add items to wishlist");return}try{const ie={id:q.id,name:q.name,price:q.currentPrice,image:((xe=q.images)==null?void 0:xe[0])||q.image,variant_id:(f==null?void 0:f.id)||null,variant:f?{id:f.id,color:f.colors,storage:f.storage,ram:f.ram,price:f.discounted_price||f.price}:null};await I(ie),MA(`${q.name} added to wishlist!`)}catch(ie){console.error("Error adding to wishlist:",ie),Dw("Failed to add item to wishlist")}},J=[{label:"Home",link:Dt.HOME},{label:q.category,link:Dt.PRODUCTS},{label:q.brand,link:`/brand/${q.brand}`},{label:q.name}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(R1,{items:J}),n.jsxs(rt,{to:Dt.PRODUCTS,className:"inline-flex items-center text-orange-500 mb-6",children:[n.jsx(cd,{className:"mr-2"})," Back to Products"]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 p-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(eie,{images:q.images,videos:q.videos,activeImage:t,setActiveImage:s})}),n.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[n.jsx(tie,{product:q,selectedVariant:f}),((be=q.validOptions)==null?void 0:be.length)>0&&n.jsx("div",{className:"border-t border-gray-200 py-4",children:n.jsx(aie,{validOptions:q.validOptions,selectedVariant:f,onVariantChange:V})}),n.jsxs("div",{className:"border-t border-gray-200 py-4",children:[n.jsx(rie,{quantity:i,setQuantity:l,stock:q.currentStock,handleQuantityChange:$,incrementQuantity:ne,decrementQuantity:Q}),n.jsx(nie,{price:q.currentPrice,addToCart:B,addToWishlist:Y})]})]})]}),n.jsx(iie,{product:q,activeTab:u,setActiveTab:m}),n.jsx(cie,{mainProduct:q,category:q.category}),q.category&&n.jsx(lie,{products:M(q.category),currentProductId:q.id,currentCategory:q.category})]})]})})},E6=({showFilters:r,setShowFilters:t,brands:s,products:i=[],currentCategory:l,selectedBrands:u,toggleBrandFilter:m,priceRange:f,setPriceRange:b,setSelectedBrands:v,stockFilters:k,setStockFilters:C,selectedRating:_,setSelectedRating:S,selectedStorage:M,setSelectedStorage:R,selectedRAM:I,setSelectedRAM:z,selectedColors:V,setSelectedColors:U,selectedCategories:q,setSelectedCategories:$,selectedDiscount:ne,setSelectedDiscount:Q,selectedAttributes:B,setSelectedAttributes:Y})=>{const[J,W]=O.useState({price:!0,stock:!1,rating:!1,discount:!1,brands:!1,storage:!1,ram:!1,colors:!1,category:!1}),ee=O.useMemo(()=>{if(!i||i.length===0)return{storageOptions:[],ramOptions:[],colorOptions:[],categoryOptions:[],attributeOptions:{},validOptionKeys:[]};let _e=i;if(l){const ct=l.replace("-"," ");_e=i.filter(Pt=>Pt.category.toLowerCase()===ct.toLowerCase())}const lt=new Set,Mt=new Set,br=new Set,sn=new Set,Yr={},Er=new Set;_e.forEach(ct=>{ct.variant&&(ct.variant.storage&&ct.variant.storage.forEach(Pt=>{Pt&&Pt.trim()&&lt.add(Pt.trim())}),ct.variant.colors&&ct.variant.colors.forEach(Pt=>{Pt&&Pt.trim()&&br.add(Pt.trim())})),ct.valid_options&&Array.isArray(ct.valid_options)&&ct.valid_options.forEach(Pt=>{Object.keys(Pt).forEach(Ct=>{if(!["id","stock","price","discounted_price","product_id"].includes(Ct)){Er.add(Ct);const tr=Pt[Ct];tr&&typeof tr=="string"&&tr.trim()&&(Ct==="storage"?lt.add(tr.trim()):Ct==="ram"?Mt.add(tr.trim()):Ct==="colors"?br.add(tr.trim()):(Yr[Ct]||(Yr[Ct]=new Set),Yr[Ct].add(tr.trim())))}})}),ct.attributes&&typeof ct.attributes=="object"&&Object.keys(ct.attributes).forEach(Pt=>{const Ct=ct.attributes[Pt];Ct&&typeof Ct=="string"&&Ct.trim()&&(Er.add(Pt),Yr[Pt]||(Yr[Pt]=new Set),Yr[Pt].add(Ct.trim()))}),ct.category&&ct.category.trim()&&sn.add(ct.category.trim())});const _r=(ct,Pt,Ct)=>Array.from(ct).map(tr=>({label:tr,count:Pt.filter(Ct(tr)).length})).sort((tr,on)=>on.count-tr.count),Js=_r(lt,_e,ct=>Pt=>{var Ct,tr,on;return((tr=(Ct=Pt.variant)==null?void 0:Ct.storage)==null?void 0:tr.includes(ct))||((on=Pt.valid_options)==null?void 0:on.some(ss=>ss.storage===ct))}),go=_r(Mt,_e,ct=>Pt=>{var Ct;return(Ct=Pt.valid_options)==null?void 0:Ct.some(tr=>tr.ram===ct)}),Wt=_r(br,_e,ct=>Pt=>{var Ct,tr,on;return((tr=(Ct=Pt.variant)==null?void 0:Ct.colors)==null?void 0:tr.includes(ct))||((on=Pt.valid_options)==null?void 0:on.some(ss=>ss.colors===ct))}),kt=_r(sn,_e,ct=>Pt=>Pt.category===ct),Gr={};return Object.keys(Yr).forEach(ct=>{Gr[ct]=_r(Yr[ct],_e,Pt=>Ct=>{var tr,on;return((tr=Ct.attributes)==null?void 0:tr[ct])===Pt||((on=Ct.valid_options)==null?void 0:on.some(ss=>ss[ct]===Pt))})}),{storageOptions:Js,ramOptions:go,colorOptions:Wt,categoryOptions:kt,attributeOptions:Gr,validOptionKeys:Array.from(Er).filter(ct=>!["storage","ram","colors","product_id","custom_keys","custom_values"].includes(ct))}},[i,l]),{storageOptions:te,ramOptions:be,colorOptions:xe,categoryOptions:ie,attributeOptions:ae,validOptionKeys:le}=ee,oe=O.useMemo(()=>{if(!l||!i||i.length===0)return s;const _e=l.replace("-"," "),lt=i.filter(br=>br.category.toLowerCase()===_e.toLowerCase()),Mt=new Set;return lt.forEach(br=>{br.brand&&br.brand.trim()&&Mt.add(br.brand.trim())}),s.filter(br=>Mt.has(br))},[s,i,l]),G=_e=>{W(lt=>({...lt,[_e]:!lt[_e]}))},ue=(_e,lt)=>{const Mt=(B==null?void 0:B[_e])||[],br=Mt.includes(lt)?Mt.filter(sn=>sn!==lt):[...Mt,lt];Y({...B,[_e]:br})};O.useEffect(()=>{le.length>0&&W(_e=>{const lt={..._e};return le.forEach(Mt=>{Mt in lt||(lt[Mt]=!1)}),lt})},[le]);const[me,ye]=O.useState(f.min||0),[ve,Me]=O.useState(f.max||15e4),Ae=(_e,lt)=>{const Mt=parseInt(_e.target.value)||0;lt==="min"?ye(Mt):Me(Mt)},Ye=()=>{b({min:me,max:ve})},ze=_e=>{C({...k,[_e]:!k[_e]})},Qe=_e=>{M.includes(_e)?R(M.filter(lt=>lt!==_e)):R([...M,_e])},Be=_e=>{I.includes(_e)?z(I.filter(lt=>lt!==_e)):z([...I,_e])},fe=_e=>{V.includes(_e)?U(V.filter(lt=>lt!==_e)):U([...V,_e])},et=_e=>{q.includes(_e)?$(q.filter(lt=>lt!==_e)):$([...q,_e])},He=_e=>{Q(ne===_e?null:_e)},tt=()=>{v([]),b({min:0,max:15e4}),ye(0),Me(15e4),S(0),C({inStock:!1,outOfStock:!1}),R([]),z([]),U([]),$([]),Q(null),Y&&Y({})};O.useEffect(()=>{ye(f.min),Me(f.max)},[f]);const xt=[{label:"50% or more",value:50},{label:"40% or more",value:40},{label:"30% or more",value:30},{label:"20% or more",value:20},{label:"10% or more",value:10}];return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full md:hidden mb-4",children:n.jsx(st,{onClick:()=>t(!r),className:"flex items-center justify-center gap-2 py-2.5",variant:"outline",icon:n.jsx(wd,{size:18}),children:r?"Hide Filters":"Show Filters"})}),n.jsxs("div",{className:`
          ${r?"block":"hidden md:block"}
          w-full md:w-1/4 rounded-lg overflow-hidden transition-all duration-300
        `,style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-base font-bold",style:{color:"var(--text-primary)"},children:"Filters"}),n.jsx("button",{onClick:tt,className:"text-sm font-medium hover:underline transition-all duration-200",style:{color:"var(--brand-primary)"},children:"Clear"})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("price"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"PRICE"}),J.price?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.price&&n.jsxs("div",{className:"px-4 pb-4",children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[" ",me.toLocaleString()]}),n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[" ",ve.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[n.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:""}),n.jsx("input",{type:"number",value:me,onChange:_e=>Ae(_e,"min"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:"-"}),n.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[n.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:""}),n.jsx("input",{type:"number",value:ve,onChange:_e=>Ae(_e,"max"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),n.jsx("button",{onClick:Ye,className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Go"})]})]})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("stock"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"STOCK STATUS"}),J.stock?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.stock&&n.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"in-stock",checked:k.inStock,onChange:()=>ze("inStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:"in-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"In Stock"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"out-of-stock",checked:k.outOfStock,onChange:()=>ze("outOfStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:"out-of-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"Out Of Stock"})]})]})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("rating"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RATING"}),J.rating?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.rating&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:[5,4,3,2,1].map(_e=>n.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>S(_===_e?0:_e),children:n.jsx("div",{className:"flex items-center",children:Array.from({length:5},(lt,Mt)=>n.jsx("span",{className:"text-lg",children:Mt<_e?n.jsx("span",{style:{color:"#FF9017"},children:""}):n.jsx("span",{style:{color:"#E4E5E8"},children:""})},Mt))})},_e))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("discount"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"DISCOUNT"}),J.discount?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.discount&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:xt.map(_e=>n.jsxs("div",{className:"flex items-center",onClick:()=>He(_e.value),children:[n.jsx("input",{type:"radio",id:`discount-${_e.value}`,checked:ne===_e.value,onChange:()=>{},className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:`discount-${_e.value}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:_e.label})]},_e.value))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("brands"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"BRANDS"}),J.brands?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.brands&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:oe.map(_e=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`brand-${_e}`,checked:u.includes(_e),onChange:()=>m(_e),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:`brand-${_e}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:_e})]},_e))})]}),!l&&n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("category"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"CATEGORY"}),J.category?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.category&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:ie.map(_e=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`category-${_e.label}`,checked:q.includes(_e.label),onChange:()=>et(_e.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`category-${_e.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[_e.label," (",_e.count,")"]})]},_e.label))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("storage"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"INTERNAL STORAGE"}),J.storage?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.storage&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:te.map(_e=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`storage-${_e.label}`,checked:M.includes(_e.label),onChange:()=>Qe(_e.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`storage-${_e.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[_e.label," (",_e.count,")"]})]},_e.label))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("ram"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RAM"}),J.ram?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.ram&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:be.map(_e=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`ram-${_e.label}`,checked:I.includes(_e.label),onChange:()=>Be(_e.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`ram-${_e.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[_e.label," (",_e.count,")"]})]},_e.label))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("colors"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"COLOR"}),J.colors?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J.colors&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:xe.map(_e=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`color-${_e.label}`,checked:V.includes(_e.label),onChange:()=>fe(_e.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`color-${_e.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[_e.label," (",_e.count,")"]})]},_e.label))})]}),le.map(_e=>{var lt;return ae[_e]&&ae[_e].length>0&&n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G(_e),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:_e.toUpperCase().replace(/_/g," ")}),J[_e]?n.jsx(Hl,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(_i,{size:18,style:{color:"var(--text-secondary)"}})]}),J[_e]&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:(lt=ae[_e])==null?void 0:lt.map(Mt=>{var br;return n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`${_e}-${Mt.label}`,checked:((br=B==null?void 0:B[_e])==null?void 0:br.includes(Mt.label))||!1,onChange:()=>ue(_e,Mt.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`${_e}-${Mt.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Mt.label," (",Mt.count,")"]})]},Mt.label)})})]},_e)}),n.jsx("div",{className:"md:hidden p-4",children:n.jsx(st,{onClick:()=>t(!1),fullWidth:!0,variant:"primary",className:"py-2.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Apply Filters"})})]})]})},D6=({sortBy:r,setSortBy:t})=>n.jsx("div",{className:"rounded-xl p-6 mb-6 backdrop-blur-sm",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderBottom:"2px solid var(--brand-primary)"},children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"mb-4 md:mb-0 flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsx(Fy,{size:16,style:{color:"var(--brand-primary)"}})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Products Found"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Showing all available products"})]})]}),n.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-1 border transition-all duration-200 hover:border-gray-300",style:{borderColor:"var(--border-primary)"},children:[n.jsx("label",{htmlFor:"sort-by",className:"text-sm mx-3 font-medium whitespace-nowrap",style:{color:"var(--text-secondary)"},children:"Sort by:"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:"sort-by",value:r,onChange:s=>t(s.target.value),className:"appearance-none border-0 bg-transparent rounded px-4 py-2 pr-8 text-sm font-medium focus:outline-none focus:ring-0",style:{color:"var(--text-primary)"},children:[n.jsx("option",{value:"popularity",children:"Popularity"}),n.jsx("option",{value:"rating",children:"Rating"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2",children:r==="price-low"?n.jsx(N1,{size:14,style:{color:"var(--brand-primary)"}}):r==="price-high"?n.jsx(j1,{size:14,style:{color:"var(--brand-primary)"}}):n.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.slice(0,3).toUpperCase()})})]})]})]})}),M6=({products:r,loading:t})=>t?n.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading products..."})]}):r.length===0?null:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8",children:r.map(s=>n.jsx("div",{className:"opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.5s forwards",animationFillMode:"forwards"},children:n.jsx(fg,{product:s})},s.id))}),T6=({resetFilters:r})=>n.jsx("div",{className:"rounded-xl p-10 text-center transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-6 rounded-full",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsx(Mi,{size:32,style:{color:"var(--brand-primary)"}})}),n.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"No products found"}),n.jsx("p",{className:"text-base mb-6 max-w-md mx-auto",style:{color:"var(--text-secondary)"},children:"We couldn't find any products matching your current filters. Try adjusting your filters or search criteria."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx(st,{onClick:r,variant:"primary",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},icon:n.jsx(Mo,{size:16}),children:"Reset Filters"}),n.jsx(st,{onClick:r,variant:"outline",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",icon:n.jsx(wd,{size:16}),children:"Modify Filters"})]})]})}),DR=()=>{let{category:r}=ng();r=r?r.charAt(0).toUpperCase()+r.slice(1).replace(/s$/,""):null;const[t,s]=O.useState(!1),[i,l]=O.useState([]),[u,m]=O.useState({min:0,max:15e4}),[f,b]=O.useState("popularity"),[v,k]=O.useState(0),[C,_]=O.useState({inStock:!1,outOfStock:!1}),[S,M]=O.useState([]),[R,I]=O.useState([]),[z,V]=O.useState([]),[U,q]=O.useState([]),[$,ne]=O.useState(null),[Q,B]=O.useState({}),[Y,J]=O.useState(1),W=10,{products:ee,brands:te,loading:be,fetchProducts:xe}=ol();O.useEffect(()=>{xe()},[]);const ie=(ee||[]).map(ze=>({...ze,discountPrice:ze.discount_price||ze.price,image:ze.images&&ze.images.length>0?ze.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),ae=ze=>{i.includes(ze)?l(i.filter(Qe=>Qe!==ze)):l([...i,ze])},oe=(()=>{let ze=[...ie];if(i.length>0&&(ze=ze.filter(Qe=>i.includes(Qe.brand))),r){const Qe=r.replace("-"," ");ze=ze.filter(Be=>Be.category.toLowerCase()===Qe.toLowerCase())}return U.length>0&&(ze=ze.filter(Qe=>U.includes(Qe.category))),ze=ze.filter(Qe=>Qe.discountPrice>=u.min&&Qe.discountPrice<=u.max),v>0&&(ze=ze.filter(Qe=>Math.round(Qe.rating||0)>=v)),C.inStock&&!C.outOfStock?ze=ze.filter(Qe=>Qe.stock>0):!C.inStock&&C.outOfStock&&(ze=ze.filter(Qe=>Qe.stock<=0)),S.length>0&&(ze=ze.filter(Qe=>Qe.variant&&Array.isArray(Qe.variant.storage)?Qe.variant.storage.some(Be=>S.includes(Be)):Qe.valid_options&&Array.isArray(Qe.valid_options)?Qe.valid_options.some(Be=>Be.storage&&S.includes(Be.storage)):!1)),R.length>0&&(ze=ze.filter(Qe=>Qe.valid_options&&Array.isArray(Qe.valid_options)?Qe.valid_options.some(Be=>Be.ram&&R.includes(Be.ram)):!1)),z.length>0&&(ze=ze.filter(Qe=>Qe.variant&&Array.isArray(Qe.variant.colors)?Qe.variant.colors.some(Be=>z.includes(Be)):Qe.valid_options&&Array.isArray(Qe.valid_options)?Qe.valid_options.some(Be=>Be.colors&&z.includes(Be.colors)):!1)),Q&&Object.keys(Q).length>0&&(ze=ze.filter(Qe=>Object.entries(Q).every(([Be,fe])=>!fe||fe.length===0?!0:Qe.attributes&&Qe.attributes[Be]?fe.includes(Qe.attributes[Be]):Qe.valid_options&&Array.isArray(Qe.valid_options)?Qe.valid_options.some(et=>et[Be]&&fe.includes(et[Be])):!1))),$!==null&&(ze=ze.filter(Qe=>(Qe.price&&Qe.discountPrice?Math.round((Qe.price-Qe.discountPrice)/Qe.price*100):0)>=$)),f==="price-low"?ze.sort((Qe,Be)=>Qe.discountPrice-Be.discountPrice):f==="price-high"?ze.sort((Qe,Be)=>Be.discountPrice-Qe.discountPrice):f==="rating"&&ze.sort((Qe,Be)=>{const fe=Qe.rating!==void 0&&Qe.rating!==null?Qe.rating:0;return(Be.rating!==void 0&&Be.rating!==null?Be.rating:0)-fe}),ze})(),G=oe.length,ue=Math.ceil(G/W),me=(Y-1)*W,ye=me+W,ve=oe.slice(me,ye),Me=ze=>{J(ze),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{J(1)},[i,u,f,v,C,S,R,z,U,$,Q,r]);const Ae=()=>{l([]),m({min:0,max:15e4}),b("popularity"),k(0),_({inStock:!1,outOfStock:!1}),M([]),I([]),V([]),q([]),ne(null),B({})},Ye=[{label:"Home",link:Dt.HOME},{label:r?r.charAt(0).toUpperCase()+r.slice(1).replace("-"," "):"Products"}];return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:r?r.charAt(0).toUpperCase()+r.slice(1).replace("-"," "):"All Products"}),n.jsx(R1,{items:Ye})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[n.jsx(E6,{showFilters:t,setShowFilters:s,brands:te,products:ie,currentCategory:r,selectedBrands:i,toggleBrandFilter:ae,priceRange:u,setPriceRange:m,setSelectedBrands:l,stockFilters:C,setStockFilters:_,selectedRating:v,setSelectedRating:k,selectedStorage:S,setSelectedStorage:M,selectedRAM:R,setSelectedRAM:I,selectedColors:z,setSelectedColors:V,selectedCategories:U,setSelectedCategories:q,selectedDiscount:$,setSelectedDiscount:ne,selectedAttributes:Q,setSelectedAttributes:B}),n.jsxs("div",{className:"w-full md:w-3/4",children:[n.jsx(D6,{sortBy:f,setSortBy:b}),n.jsx(M6,{products:ve,loading:be}),!be&&G>0&&n.jsx($a,{currentPage:Y,totalPages:ue,onPageChange:Me,totalItems:G,itemsPerPage:W}),!be&&oe.length===0&&n.jsx(T6,{resetFilters:Ae})]})]})]})})},uie=()=>{const[r]=FG(),t=r.get("query")||"",[s,i]=O.useState(!1),[l,u]=O.useState([]),[m,f]=O.useState({min:0,max:15e4}),[b,v]=O.useState("popularity"),[k,C]=O.useState(0),[_,S]=O.useState({inStock:!1,outOfStock:!1}),[M,R]=O.useState([]),[I,z]=O.useState([]),[V,U]=O.useState([]),[q,$]=O.useState([]),[ne,Q]=O.useState(null),[B,Y]=O.useState({}),{brands:J,loading:W,searchProducts:ee}=ol(),te=ee(t).map(oe=>({...oe,discountPrice:oe.discount_price||oe.price,image:oe.images&&oe.images.length>0?oe.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),be=oe=>{l.includes(oe)?u(l.filter(G=>G!==oe)):u([...l,oe])},xe=()=>{u([]),f({min:0,max:15e4}),v("popularity"),C(0),S({inStock:!1,outOfStock:!1}),R([]),z([]),U([]),$([]),Q(null),Y({})},ae=(()=>{let oe=[...te];return l.length>0&&(oe=oe.filter(G=>l.includes(G.brand))),oe=oe.filter(G=>G.discountPrice>=m.min&&G.discountPrice<=m.max),b==="price-low"?oe.sort((G,ue)=>G.discountPrice-ue.discountPrice):b==="price-high"?oe.sort((G,ue)=>ue.discountPrice-G.discountPrice):b==="rating"&&oe.sort((G,ue)=>{const me=G.rating!==void 0&&G.rating!==null?G.rating:0;return(ue.rating!==void 0&&ue.rating!==null?ue.rating:0)-me}),oe})(),le=[{label:"Home",link:Dt.HOME},{label:`Search Results: "${t}"`}];return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:['Search Results for "',t,'"']}),n.jsx(R1,{items:le}),n.jsxs("p",{className:"text-gray-600 mt-2",children:[ae.length," results found"]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[n.jsx(E6,{showFilters:s,setShowFilters:i,brands:J,products:te,selectedBrands:l,toggleBrandFilter:be,priceRange:m,setPriceRange:f,setSelectedBrands:u,stockFilters:_,setStockFilters:S,selectedRating:k,setSelectedRating:C,selectedStorage:M,setSelectedStorage:R,selectedRAM:I,setSelectedRAM:z,selectedColors:V,setSelectedColors:U,selectedCategories:q,setSelectedCategories:$,selectedDiscount:ne,setSelectedDiscount:Q,selectedAttributes:B,setSelectedAttributes:Y}),n.jsxs("div",{className:"w-full md:w-3/4",children:[n.jsx(D6,{sortBy:b,setSortBy:v}),W?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"spinner"})}):ae.length>0?n.jsx(M6,{products:ae}):n.jsx(T6,{searchQuery:t,resetFilters:xe})]})]})]})})},hie=()=>n.jsxs("div",{className:"bg-white rounded-xl p-10 text-center transition-all duration-300 hover:shadow-lg",style:{boxShadow:"var(--shadow-medium)",background:"linear-gradient(to bottom, var(--bg-primary), var(--bg-secondary))"},children:[n.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-7 animate-pulse",style:{background:"var(--bg-accent-light)",boxShadow:"var(--shadow-medium)"},children:n.jsx(tl,{className:"h-12 w-12",style:{color:"var(--brand-primary)"}})}),n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Your cart is empty"}),n.jsx("p",{className:"mb-8 max-w-md mx-auto text-base",style:{color:"var(--text-secondary)"},children:"Looks like you haven't added any products to your cart yet. Start shopping to fill it with amazing products!"}),n.jsx(rt,{to:Dt.PRODUCTS,className:"inline-block",children:n.jsxs(st,{variant:"primary",fullWidth:!1,className:"px-8 py-3.5 text-base group flex items-center transition-all duration-300 transform hover:translate-y-[-3px]",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)",borderRadius:"1rem"},children:["Browse Products",n.jsx(B9,{className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]}),mie=({item:r,updateQuantity:t,removeItem:s})=>n.jsxs("tr",{className:"group transition-all duration-200 hover:bg-opacity-50",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("td",{className:"py-6 px-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-20 w-20 rounded-lg flex items-center justify-center overflow-hidden transition-transform duration-200 group-hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:n.jsx("img",{src:r.image,alt:r.name,className:"h-16 w-16 object-contain"})}),n.jsxs("div",{className:"ml-5 flex-1",children:[n.jsx(rt,{to:`/products/${r.id}`,className:"font-medium hover:underline transition-all duration-200 block mb-1 text-base",style:{color:"var(--text-primary)"},children:r.name}),n.jsxs("span",{className:"text-sm block mt-1",style:{color:"var(--text-secondary)"},children:["",(r.price||0).toLocaleString()," each"]})]})]})}),n.jsx("td",{className:"py-6 px-4",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("button",{onClick:()=>t(r.item_id,-1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Decrease quantity",children:n.jsx(G9,{size:16})}),n.jsx("span",{className:"mx-4 w-8 text-center font-medium text-base",style:{color:"var(--text-primary)"},children:r.quantity}),n.jsx("button",{onClick:()=>t(r.item_id,1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Increase quantity",children:n.jsx(dn,{size:16})})]})}),n.jsxs("td",{className:"py-6 px-4 text-right text-lg font-semibold",style:{color:"var(--brand-primary)"},children:["",((r.price||0)*r.quantity).toLocaleString()]}),n.jsx("td",{className:"py-6 px-4 text-center",children:n.jsx("button",{onClick:()=>s(r.item_id),className:"p-2.5 rounded-full hover:bg-red-50 transition-all duration-200 focus:outline-none",style:{color:"var(--error-color)",backgroundColor:"var(--bg-secondary)"},"aria-label":"Remove item",children:n.jsx(un,{size:18})})})]}),pie=({cartItems:r,updateQuantity:t,removeItem:s})=>n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"bg-white rounded-xl overflow-hidden mb-7",style:{boxShadow:"var(--shadow-medium)",borderLeft:"4px solid var(--brand-primary)"},children:[n.jsx("div",{className:"px-6 py-5 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:n.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:["Cart Items",n.jsx("span",{className:"ml-2 px-2.5 py-1 text-sm rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.length})]})}),n.jsx("div",{className:"overflow-x-auto p-2",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"py-4 px-5 text-left text-xs font-semibold uppercase tracking-wider rounded-tl-lg",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Quantity"}),n.jsx("th",{className:"py-4 px-5 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),n.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider rounded-tr-lg",style:{color:"var(--text-secondary)"},children:"Action"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:r.map(i=>n.jsx(mie,{item:i,updateQuantity:t,removeItem:s},i.id))})]})})]}),n.jsx("div",{className:"flex justify-between mt-6",children:n.jsxs(rt,{to:Dt.PRODUCTS,className:"inline-flex items-center px-5 py-3 rounded-lg transition-all duration-300 font-medium text-sm hover:translate-x-[-5px]",style:{color:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)"},children:[n.jsx(cd,{className:"mr-2"}),"Continue Shopping"]})})]}),fie=({subtotal:r,total:t,onCheckout:s})=>n.jsx("div",{className:"lg:col-span-1 sticky top-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 overflow-hidden",style:{boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[n.jsxs("h2",{className:"text-xl font-bold mb-6 pb-4 border-b flex items-center",style:{color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx(tl,{className:"mr-2",style:{color:"var(--brand-primary)"}}),"Order Summary"]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"flex justify-between items-center py-1",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Subtotal"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",r.toLocaleString()]})]}),n.jsx("div",{className:"h-px my-3",style:{background:"var(--border-primary)"}}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Total"}),n.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["",t.toLocaleString()]})]})]}),n.jsx("div",{className:"mt-8",children:n.jsxs(st,{onClick:s,className:"text-base py-3.5 transition-all duration-300 transform hover:translate-y-[-2px] rounded-lg font-medium",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)"},children:[n.jsx(oa,{className:"mr-2"})," Proceed to Checkout"]})})]})}),I6=nn((r,t)=>({addresses:[],isLoading:!1,error:null,fetchAddresses:async()=>{var i,l;const{isAuthenticated:s}=Sr.getState();if(!s)return r({addresses:[],error:"User not authenticated"}),[];try{r({isLoading:!0,error:null});const f=((await Jt.get("/users/addresses/")).data.addresses||[]).map(b=>({id:b.id,name:b.type,address:b.street_address,city:b.city,state:b.state,pincode:b.postal_code,phone:b.phone_number,isDefault:b.is_default,type:b.type,street_address:b.street_address,postal_code:b.postal_code,phone_number:b.phone_number,is_default:b.is_default,created_at:b.created_at,updated_at:b.updated_at}));return r({addresses:f,isLoading:!1}),f}catch(u){return console.error("Error fetching addresses:",u),r({isLoading:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch addresses"}),[]}},addAddress:async s=>{var l,u,m,f;const{isAuthenticated:i}=Sr.getState();if(!i)return Se.error("Please login to add an address"),null;try{r({isLoading:!0,error:null});const b={type:s.type||s.name,street_address:s.street_address||s.address,city:s.city,state:s.state,postal_code:s.postal_code||s.pincode,phone_number:s.phone_number||s.phone,is_default:s.is_default||s.isDefault||!1},v=await Jt.post("/users/addresses/add/",b),k=v.data.address,C={id:v.data.address_id,name:k.type,address:k.street_address,city:k.city,state:k.state,pincode:k.postal_code,phone:k.phone_number,isDefault:k.is_default,...k};return r(_=>({addresses:[..._.addresses,C],isLoading:!1})),Se.success("Address added successfully"),C}catch(b){return console.error("Error adding address:",b),r({isLoading:!1,error:((u=(l=b.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to add address"}),Se.error(((f=(m=b.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to add address"),null}},updateAddress:async(s,i)=>{var u,m,f,b;const{isAuthenticated:l}=Sr.getState();if(!l)return Se.error("Please login to update an address"),!1;try{r({isLoading:!0,error:null});const v={type:i.type||i.name,street_address:i.street_address||i.address,city:i.city,state:i.state,postal_code:i.postal_code||i.pincode,phone_number:i.phone_number||i.phone,is_default:i.is_default||i.isDefault||!1},C=(await Jt.put(`/users/addresses/update/${s}/`,v)).data.address,_={id:C.id||s,name:C.type,address:C.street_address,city:C.city,state:C.state,pincode:C.postal_code,phone:C.phone_number,isDefault:C.is_default,type:C.type,street_address:C.street_address,postal_code:C.postal_code,phone_number:C.phone_number,is_default:C.is_default,created_at:C.created_at,updated_at:C.updated_at};return r(S=>({addresses:S.addresses.map(M=>M.id===s?_:M),isLoading:!1})),Se.success("Address updated successfully"),!0}catch(v){return console.error("Error updating address:",v),r({isLoading:!1,error:((m=(u=v.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to update address"}),Se.error(((b=(f=v.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to update address"),!1}},deleteAddress:async s=>{var l,u,m,f;const{isAuthenticated:i}=Sr.getState();if(!i)return Se.error("Please login to delete an address"),!1;try{return r({isLoading:!0,error:null}),await Jt.delete(`/users/addresses/delete/${s}/`),r(b=>({addresses:b.addresses.filter(v=>v.id!==s),isLoading:!1})),Se.success("Address deleted successfully"),!0}catch(b){return console.error("Error deleting address:",b),r({isLoading:!1,error:((u=(l=b.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to delete address"}),Se.error(((f=(m=b.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to delete address"),!1}},setDefaultAddress:async s=>{var l,u,m,f;const{isAuthenticated:i}=Sr.getState();if(!i)return Se.error("Please login to set default address"),!1;try{return r({isLoading:!0,error:null}),await Jt.post(`/users/addresses/set-default/${s}/`),r(b=>({addresses:b.addresses.map(v=>({...v,isDefault:v.id===s,is_default:v.id===s})),isLoading:!1})),Se.success("Default address updated"),!0}catch(b){return console.error("Error setting default address:",b),r({isLoading:!1,error:((u=(l=b.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to set default address"}),Se.error(((f=(m=b.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to set default address"),!1}},getAddressById:s=>t().addresses.find(i=>i.id===s)||null,getDefaultAddress:()=>t().addresses.find(s=>s.isDefault)||(t().addresses.length>0?t().addresses[0]:null),clearError:()=>r({error:null})})),u2=(r,t,s)=>(console.log("Initiating Razorpay payment with data:",r),window.Razorpay?!r.key_id||!r.amount||!r.razorpay_order_id?(console.error("Missing required Razorpay data:",r),Se.error("Invalid payment configuration. Please try again."),Promise.reject("Invalid razorpay data")):new Promise((i,l)=>{const u={key:r.key_id,amount:r.amount,currency:r.currency||"INR",order_id:r.razorpay_order_id,name:"Anand Mobiles",description:"Purchase of products",image:"/logo.jpg",handler:function(m){console.log("Payment successful, response:",m);const f={razorpay_payment_id:m.razorpay_payment_id,razorpay_order_id:m.razorpay_order_id,razorpay_signature:m.razorpay_signature,order_id:r.app_order_id};Jt.post("/users/order/razorpay/verify/",f).then(b=>{console.log("Payment verified successfully:",b.data),t&&t(b.data),i(b.data)}).catch(b=>{console.error("Payment verification failed:",b),s&&s(b),l(b)})},prefill:{},notes:{order_id:r.app_order_id},theme:{color:"#3399cc"},modal:{ondismiss:function(){console.log("Payment modal dismissed by user"),s&&s({message:"Payment cancelled by user"}),l({message:"Payment cancelled by user"})}}};console.log("Opening Razorpay modal with options:",u);try{const m=new window.Razorpay(u);m.on("payment.failed",function(f){console.error("Payment failed:",f.error),s&&s(f.error),l(f.error)}),m.open(),console.log("Razorpay modal opened successfully")}catch(m){console.error("Error initiating Razorpay:",m),Se.error("Failed to open payment gateway. Please try again."),s&&s(m),l(m)}}):(console.error("Razorpay SDK is not loaded"),Se.error("Payment gateway not available. Please try again later."),Promise.reject("Razorpay SDK not loaded"))),bg=nn(r=>({orders:[],currentOrder:null,isLoading:!1,isProcessingPayment:!1,paymentSuccessful:!1,error:null,initiatePayment:t=>u2(t,s=>{r(i=>({orders:i.orders.map(l=>l.id===t.app_order_id?{...l,status:"paid",payment_details:s}:l),paymentSuccessful:!0})),Se.success("Payment successful!"),setTimeout(()=>{r({paymentSuccessful:!1})},1e3)},s=>{Se.error("Payment failed. Please try again."),console.error("Payment error:",s)}),fetchOrders:async()=>{var t,s,i,l;try{r({isLoading:!0,error:null});const m=(await Jt.get("/users/orders/")).data.orders||[];return r({orders:m,isLoading:!1}),m}catch(u){return console.error("Error fetching orders:",u),r({isLoading:!1,error:((s=(t=u.response)==null?void 0:t.data)==null?void 0:s.detail)||((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch orders"}),[]}},placeOrderFromCart:async t=>{var s,i,l,u;try{r({isProcessingPayment:!0,error:null}),console.log("Starting placeOrderFromCart with addressId:",t);const m=kd.getState().items;if(console.log("Cart items:",m),!m||m.length===0)return Se.error("Your cart is empty"),r({isProcessingPayment:!1}),null;const f=Math.round(m.reduce((_,S)=>_+S.price*S.quantity,0)*100),b={address_id:t,amount:f,currency:"INR",product_ids:m.map(_=>_.item_id)};console.log("Order data being sent:",b);const v=await Jt.post("/users/order/razorpay/create/",b);console.log("API response:",v.data);const k=v.data;if(!k.key_id||!k.razorpay_order_id||!k.amount)return console.error("Invalid razorpay data received:",k),Se.error("Invalid payment configuration received from server"),r({isProcessingPayment:!1}),null;const C={id:k.app_order_id,razorpay_order_id:k.razorpay_order_id,status:"pending_payment"};return r(_=>({orders:[C,..._.orders],currentOrder:C})),console.log("Initiating Razorpay payment..."),await u2(k,async _=>{console.log("Payment successful:",_),r(S=>({orders:S.orders.map(M=>M.id===k.app_order_id?{...M,status:"paid",payment_details:_}:M),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{r({paymentSuccessful:!1})},1e3),Se.success("Payment successful! Order placed successfully.")},_=>{console.error("Payment error:",_),r({isProcessingPayment:!1}),_.message==="Payment cancelled by user"?Se.error("Payment was cancelled"):Se.error("Payment failed. Please try again.")}),C}catch(m){return console.error("Error placing order:",m),r({isProcessingPayment:!1,error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to place order"}),Se.error("Failed to place order. Please try again."),null}},placeSingleProductOrder:async(t,s,i)=>{var l,u,m,f;try{if(r({isProcessingPayment:!0,error:null}),console.log("Starting placeSingleProductOrder with:",{product:t,quantity:s,addressId:i}),!t)return Se.error("Product information is missing"),r({isProcessingPayment:!1}),null;const b=Math.round(t.price*s*100),v={address_id:i,amount:b,currency:"INR",product_ids:[t.id],single_product_order:!0,product_details:{product_id:t.id,quantity:s,variant_id:t.variant_id||null}};console.log("Single product order data being sent:",v);const k=await Jt.post("/users/order/razorpay/create/",v);console.log("Single product API response:",k.data);const C=k.data;if(!C.key_id||!C.razorpay_order_id||!C.amount)return console.error("Invalid razorpay data received for single product:",C),Se.error("Invalid payment configuration received from server"),r({isProcessingPayment:!1}),null;const _={id:C.app_order_id,razorpay_order_id:C.razorpay_order_id,status:"pending_payment"};return r(S=>({orders:[_,...S.orders],currentOrder:_})),console.log("Initiating Razorpay payment for single product..."),await u2(C,async S=>{console.log("Single product payment successful:",S),r(M=>({orders:M.orders.map(R=>R.id===C.app_order_id?{...R,status:"paid",payment_details:S}:R),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{r({paymentSuccessful:!1})},1e3),Se.success("Payment successful! Order placed successfully.")},S=>{console.error("Single product payment error:",S),r({isProcessingPayment:!1}),S.message==="Payment cancelled by user"?Se.error("Payment was cancelled"):Se.error("Payment failed. Please try again.")}),_}catch(b){return console.error("Error placing single product order:",b),r({isProcessingPayment:!1,error:((u=(l=b.response)==null?void 0:l.data)==null?void 0:u.detail)||((f=(m=b.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to place order"}),Se.error("Failed to place order. Please try again."),null}},getOrderById:async t=>{var s,i,l,u;try{r({isLoading:!0,error:null});const f=(await Jt.get(`/users/orders/${t}/`)).data.order_details;return console.log("Fetched order:",f),r({currentOrder:f,isLoading:!1}),f}catch(m){return console.error("Error fetching order:",m),r({isLoading:!1,error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch order"}),null}},cancelOrder:async t=>{var s,i,l,u;try{return r({isLoading:!0,error:null}),await Jt.post(`/users/orders/${t}/cancel/`),r(m=>({orders:m.orders.map(f=>f.id===t?{...f,status:"cancelled"}:f),isLoading:!1})),Se.success("Order cancelled successfully"),!0}catch(m){return console.error("Error cancelling order:",m),r({isLoading:!1,error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to cancel order"}),Se.error("Failed to cancel order"),!1}},clearError:()=>r({error:null})})),gie=({isOpen:r,onClose:t,product:s=null,quantity:i=1})=>{const l=ns(),{isAuthenticated:u}=Sr(),{items:m,totalAmount:f}=kd(),{placeOrderFromCart:b,placeSingleProductOrder:v,isProcessingPayment:k,paymentSuccessful:C}=bg(),{addresses:_,fetchAddresses:S,isLoading:M}=I6(),[R,I]=O.useState(null),z=!s,V=z?m:[{...s,quantity:i}],U=z?f:(s==null?void 0:s.price)*i,ne=U+0+0;O.useEffect(()=>{if(r&&u){if(!window.Razorpay){console.error("Razorpay SDK not loaded when checkout opened"),Se.error("Payment gateway not available. Please refresh and try again.");return}console.log("Razorpay SDK is available:",!!window.Razorpay),S()}},[r,u]),O.useEffect(()=>{var Y;if(_.length>0&&!R){const J=_.find(W=>W.isDefault);I((J==null?void 0:J.id)||((Y=_[0])==null?void 0:Y.id))}},[_,R]),O.useEffect(()=>{C&&r&&(console.log("Payment successful, closing checkout modal"),setTimeout(()=>{t()},1e3))},[C,r,t]);const Q=async()=>{if(console.log("handlePlaceOrder called",{isAuthenticated:u,selectedAddressId:R}),!u){Se.error("Please login to place order"),l("/login");return}if(!R){Se.error("Please select a delivery address");return}try{console.log("Attempting to place order...",{isCartOrder:z,product:s,quantity:i,selectedAddressId:R});let Y;z?(console.log("Placing cart order..."),Y=await b(R)):(console.log("Placing single product order..."),Y=await v(s,i,R)),console.log("Order placement result:",Y),console.log(Y?"Order placed successfully, waiting for payment completion...":"Order placement failed - no result returned")}catch(Y){console.error("Order placement failed:",Y),Se.error("Failed to place order. Please try again.")}},B=Y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Y);return r?n.jsx(FN,{isOpen:r,onClose:t,size:"2xl",closeOnBackdropClick:!k,className:"animate-fadeIn w-11/12 max-w-5xl",children:n.jsxs("div",{className:"relative w-full",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[n.jsxs("div",{className:"relative px-8 py-8 text-center overflow-hidden",style:{background:"linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-hover) 100%)",color:"var(--text-on-brand)"},children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-10 transform translate-x-8 -translate-y-8",children:n.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full opacity-10 transform -translate-x-4 translate-y-4",children:n.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"p-4 rounded-full transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:n.jsx(tl,{className:"text-3xl"})})}),n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Complete Your Order"}),n.jsx("p",{className:"text-lg opacity-90",children:"Review your order details and complete the secure checkout"}),n.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-100"}),n.jsx("div",{className:"w-8 h-1 bg-white opacity-60 rounded-full"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-60"}),n.jsx("div",{className:"w-8 h-1 bg-white opacity-30 rounded-full"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-30"})]})]})]}),n.jsx("div",{className:"p-6 md:p-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",style:{animation:"slideInLeft 0.6s ease-out"},children:[n.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-8",children:[n.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:n.jsx(tl,{className:"text-xl"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Order Summary"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[V.length," item",V.length>1?"s":"","in your order"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[V.map((Y,J)=>n.jsxs("div",{className:`group/item flex items-center justify-between p-6 rounded-xl transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] ${J<V.length-1?"border-b-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden mr-6 group-hover/item:shadow-lg transition-shadow duration-300",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",border:"2px solid var(--border-primary)"},children:[n.jsx("img",{src:Y.image,alt:Y.name,className:"w-full h-full object-cover group-hover/item:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold mb-2 text-lg group-hover:item:text-opacity-80 transition-all duration-300",style:{color:"var(--text-primary)"},children:Y.name}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"text-sm px-4 py-2 rounded-full font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:["Qty: ",Y.quantity]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"text-yellow-400 mr-1",size:14}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"4.5"})]})]})]})]}),n.jsxs("div",{className:"text-right ml-4",children:[n.jsx("p",{className:"font-bold text-xl mb-1 group-hover:item:scale-105 transition-transform duration-300",style:{color:"var(--brand-primary)"},children:B(Y.price*Y.quantity)}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[B(Y.price)," each"]})]})]},Y.id)),n.jsx("div",{className:"p-6 rounded-xl border-2",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)",background:"linear-gradient(145deg, var(--bg-accent-light) 0%, rgba(255, 255, 255, 0.8) 100%)"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(F9,{className:"mr-3 text-2xl",style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Total Amount"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Including all taxes"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--brand-primary)"},children:B(ne)}),n.jsxs("div",{className:"flex items-center justify-end mt-1",children:[n.jsx(Lr,{className:"mr-1 text-green-500",size:14}),n.jsx("span",{className:"text-sm font-medium text-green-500",children:"FREE Delivery"})]})]})]})})]})]}),n.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:n.jsx(Cn,{className:"text-xl"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Delivery Address"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose where you want your order delivered"})]})]})}),M?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("div",{className:"p-4 rounded-full mb-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Di,{className:"animate-spin",size:32})}),n.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Loading addresses..."}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Please wait while we fetch your saved addresses"})]}):_.length>0?n.jsx("div",{className:"space-y-4",children:_.map(Y=>n.jsx("div",{className:`group/addr p-6 rounded-xl cursor-pointer transition-all duration-300 border-2 transform ${R===Y.id?"shadow-lg scale-[1.02] border-2":"hover:shadow-md hover:scale-[1.01]"}`,style:{backgroundColor:R===Y.id?"var(--bg-accent-light)":"var(--bg-primary)",borderColor:R===Y.id?"var(--brand-primary)":"var(--border-primary)",boxShadow:R===Y.id?"0 10px 25px -5px rgba(245, 158, 11, 0.25)":"0 4px 15px rgba(0, 0, 0, 0.05)"},onClick:()=>I(Y.id),children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center mr-6 mt-1",children:n.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${R===Y.id?"border-2 scale-110":"group-hover/addr:scale-105"}`,style:{borderColor:R===Y.id?"var(--brand-primary)":"var(--border-secondary)",backgroundColor:R===Y.id?"var(--brand-primary)":"transparent"},children:R===Y.id&&n.jsx(Bn,{className:"text-sm animate-fadeIn",style:{color:"var(--text-on-brand)"}})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("div",{className:"flex items-center mr-4",children:[n.jsx(Ds,{className:"mr-2 text-lg",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:Y.name})]}),Y.isDefault&&n.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full transform group-hover/addr:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--success-color)",color:"white"},children:" Default"})]}),n.jsxs("div",{className:"flex items-start mb-3",children:[n.jsx(Cn,{className:"mr-3 mt-1 text-lg flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[Y.address,", ",Y.city,",",Y.state," - ",Y.pincode]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"mr-3 text-lg",style:{color:"var(--brand-primary)"}}),n.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-secondary)"},children:Y.phone})]})]}),R===Y.id&&n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"p-2 rounded-full animate-fadeIn",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:n.jsx(Bn,{className:"text-lg"})})})]})},Y.id))}):n.jsxs("div",{className:"text-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:n.jsx(Cn,{size:40,style:{color:"var(--text-secondary)"}})}),n.jsx("p",{className:"mb-4 text-xl font-bold",style:{color:"var(--text-primary)"},children:"No addresses found"}),n.jsx("p",{className:"mb-8 text-base",style:{color:"var(--text-secondary)"},children:"Add a delivery address from profile section to continue with your order"})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"rounded-xl p-6 border sticky top-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(oa,{className:"text-lg"})}),n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Payment"})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--brand-primary)"},children:n.jsx(Bn,{className:"text-xs",style:{color:"var(--text-on-brand)"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Razorpay"}),n.jsx(Pk,{className:"ml-2 text-sm",style:{color:"var(--success-color)"}})]}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secure payment with UPI, Cards, Net Banking"})]})]})})}),n.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Subtotal:"}),n.jsx("span",{style:{color:"var(--text-primary)"},children:B(U)})]}),n.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Total:"}),n.jsx("span",{className:"font-bold text-xl",style:{color:"var(--brand-primary)"},children:B(ne)})]})]})}),n.jsx(st,{onClick:Q,disabled:!R||k,className:"w-full transition-transform hover:scale-105 duration-300 mb-2",size:"lg",style:{backgroundColor:!R||k?"var(--text-secondary)":"var(--brand-primary)",color:"var(--text-on-brand)"},icon:k?n.jsx(Di,{className:"animate-spin"}):n.jsx(Qee,{}),children:k?"Processing Payment...":"Place Order"}),n.jsx("button",{onClick:t,className:"w-full py-2 mt-2 text-center font-medium transition-all duration-300 rounded-lg hover:bg-opacity-10",style:{color:"var(--brand-primary)",backgroundColor:"transparent",border:"1px solid var(--brand-primary)"},disabled:k,children:"Continue Shopping"}),n.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",border:"1px solid var(--border-primary)"},children:[n.jsx(Pk,{className:"mr-2 flex-shrink-0",style:{color:"var(--success-color)"}}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Your payment information is secure and encrypted"})]})]})})]})})]})}):null},bie=()=>{const{items:r,totalAmount:t,fetchCart:s,updateQuantity:i,removeItem:l}=kd(),{isAuthenticated:u}=Sr(),{paymentSuccessful:m}=bg(),[f,b]=O.useState(!1);O.useEffect(()=>{u&&s()},[u]),O.useEffect(()=>{m&&(console.log("Payment successful, refetching cart data"),setTimeout(()=>{s(),console.log("Cart data refetched after successful payment")},500))},[m]);const v=t,k=0,C=0,_=v+k+C,S=()=>{b(!0)},M=()=>{b(!1),s()},R=[{label:"Home",link:Dt.HOME},{label:"Shopping Cart"}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(R1,{items:R}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Shopping Cart"}),r.length===0?n.jsx(hie,{}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(pie,{cartItems:r,updateQuantity:i,removeItem:l}),n.jsx(fie,{subtotal:v,tax:k,shipping:C,total:_,onCheckout:S})]}),n.jsx(gie,{isOpen:f,onClose:M})]})})},yie=()=>{const{items:r,fetchWishlist:t,removeItem:s}=I1(),{addItem:i}=kd(),{isAuthenticated:l}=Sr();O.useEffect(()=>{l&&t()},[l]);const u=async f=>{await s(f)&&Xoe()},m=async f=>{await i(f,1)&&MA(f.name)};return n.jsx("div",{className:"min-h-screen py-8",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("nav",{className:"flex items-center text-sm mb-6",children:[n.jsx(rt,{to:Dt.HOME,className:"hover:underline transition-colors duration-200",style:{color:"var(--text-secondary)"},children:"Home"}),n.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"/"}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"My Wishlist"})]}),n.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"My Wishlist"}),r.length===0?n.jsxs("div",{className:"rounded-lg p-8 text-center transition-shadow duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-6",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsx(ug,{className:"h-10 w-10",style:{color:"var(--brand-primary)"}})}),n.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Your wishlist is empty"}),n.jsx("p",{className:"mb-8",style:{color:"var(--text-secondary)"},children:"Save items you like to your wishlist and they'll appear here"}),n.jsx(rt,{to:Dt.PRODUCTS,children:n.jsx(st,{variant:"primary",fullWidth:!1,className:"px-6",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)","&:hover":{backgroundColor:"var(--brand-primary-hover)"}},children:"Continue Shopping"})})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>n.jsx("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-white p-2 rounded-md flex items-center justify-center",style:{boxShadow:"var(--shadow-small)"},children:n.jsx("img",{src:f.image,alt:f.name,className:"h-24 w-24 object-contain"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:f.category}),n.jsx(rt,{to:`/products/${f.id}`,className:"font-medium hover:underline line-clamp-2",style:{color:"var(--text-primary)"},children:f.name}),n.jsxs("p",{className:"font-bold mt-1 text-lg",style:{color:"var(--brand-primary)"},children:["",f.price?f.price.toLocaleString():"N/A"]})]}),n.jsx("button",{onClick:()=>u(f.item_id),className:"p-2 rounded-full transition-colors hover:bg-gray-100",style:{color:"var(--text-secondary)"},"aria-label":"Remove from wishlist",children:n.jsx(un,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"mt-4",children:[f.stock!==0?n.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--success-color)"},children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--success-color)"}}),"In Stock"]}):n.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--error-color)"},children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--error-color)"}}),"Out of Stock"]}),n.jsx(st,{fullWidth:!0,onClick:()=>m(f),disabled:f.stock===0,icon:n.jsx(np,{}),style:{backgroundColor:f.stock!==0?"var(--brand-primary)":"var(--bg-secondary)",color:f.stock!==0?"var(--text-on-brand)":"var(--text-secondary)",cursor:f.stock!==0?"pointer":"not-allowed"},children:"Add to Cart"})]})]})]})})},f.id))})]})})},xie=({isOpen:r,onClose:t,orderId:s})=>{const{getOrderById:i,isLoading:l}=bg(),[u,m]=O.useState(null);if(O.useEffect(()=>{const C=_=>{_.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",C),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",C),document.body.style.overflow="unset"}},[r,t]),O.useEffect(()=>{r&&s&&(console.log("Modal opened for order:",s),(async()=>{try{const _=await i(s);console.log("Fetched order details:",_),m(_)}catch(_){console.error("Error fetching order details:",_)}})())},[r,s]),console.log("Modal render - isOpen:",r,"orderId:",s),!r)return null;const f=(C,_="INR")=>_==="INR"?`${C==null?void 0:C.toLocaleString()}`:`${C} ${_}`,b=C=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[C]||C,v=C=>({pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)"})[C]||"var(--brand-primary)",k=C=>{C.target===C.currentTarget&&t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:k,children:n.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:C=>C.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(wt,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",s]})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:l?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]}):u?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(rn,{className:"mr-2",style:{color:v(u.status)}}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Status:"})]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:`${v(u.status)}20`,color:v(u.status)},children:b(u.status)})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Order Summary"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Order Date"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Amount"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:f(u.total_amount,u.currency)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Payment Method"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(oa,{className:"mr-1"}),n.jsx("span",{style:{color:"var(--text-primary)"},children:u.payment_method||"Online Payment"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Items Count"}),n.jsxs("p",{style:{color:"var(--text-primary)"},children:[u.item_count," item(s)"]})]})]})]}),u.invoice&&u.invoice.invoice_pdf_url&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Invoice"}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ei,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",u.invoice.invoice_id]}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Download your order invoice"})]})]}),n.jsxs("a",{href:u.invoice.invoice_pdf_url,download:`Invoice_${u.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-md text-white font-medium transition-colors duration-200 hover:opacity-90 flex items-center",style:{backgroundColor:"var(--brand-primary)"},onClick:()=>{setTimeout(()=>{console.log("Invoice download initiated")},100)},children:[n.jsx(Ei,{className:"mr-2",size:16}),"Download Invoice"]})]})})]}),u.items&&u.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Ordered Items"}),n.jsx("div",{className:"space-y-3",children:u.items.map((C,_)=>n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[C.image&&n.jsx("img",{src:C.image,alt:C.name,className:"w-16 h-16 object-cover rounded-md mr-3",onError:S=>{S.target.style.display="none"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Quantity: ",C.quantity]}),n.jsx("p",{className:"text-sm font-medium text-green-600",children:f(C.price)})]})]},_))})]}),u.shipping_address&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Delivery Address"}),n.jsxs("div",{className:"p-3 rounded-lg flex items-start",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(Cn,{className:"mr-2 mt-1",style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-primary)"},children:u.shipping_address.street_address}),n.jsxs("p",{style:{color:"var(--text-secondary)"},children:[u.shipping_address.city,",",u.shipping_address.state,u.shipping_address.postal_code]})]})]})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Unable to load order details. Please try again."})})})]})})},vie=({isOpen:r,onClose:t,product:s})=>{const[i,l]=O.useState(0),[u,m]=O.useState(""),[f,b]=O.useState(0),{addReview:v,reviewLoading:k,reviewError:C,clearReviewError:_}=ol(),{isAuthenticated:S,user:M}=Sr();O.useEffect(()=>{const z=V=>{V.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",z),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",z),document.body.style.overflow="unset"}},[r,t]),O.useEffect(()=>{r&&(l(0),m(""),b(0),_())},[r,_]);const R=async z=>{if(z.preventDefault(),!S){Se.error("Please log in to write a review");return}if(!s){Se.error("Product information not available");return}if(i===0){Se.error("Please select a rating");return}_();const V={rating:i,comment:u.trim(),verified_purchase:!0,order_id:s.orderId,purchase_date:s.orderDate,user_id:M==null?void 0:M.id,purchase_verification:{order_status:s.orderStatus||"delivered",delivery_date:s.deliveryDate,payment_status:s.paymentStatus||"completed"}},U=s.productId||s.id,q=await v(U,V);q.success?(l(0),m(""),b(0),Se.success("Review submitted successfully!"),t()):Se.error(q.error||"Failed to submit review. Please try again.")},I=z=>{z.target===z.currentTarget&&t()};return!r||!s?null:n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)"},onClick:I,children:n.jsxs("div",{className:"relative max-w-lg w-full max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl animate-slideIn",style:{backgroundColor:"var(--bg-primary)"},onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx($r,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"p-4 border-b",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[s.image&&n.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-lg mr-3",onError:z=>{z.target.style.display="none"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:s.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",s.orderId]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(wt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),n.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"}),s.orderDate&&n.jsx("span",{className:"text-xs mx-2",style:{color:"var(--text-muted)"},children:""}),s.orderDate&&n.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Purchased on ",new Date(s.orderDate).toLocaleDateString()]})]}),s.orderStatus&&n.jsx("div",{className:"mt-2",children:n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${s.orderStatus==="delivered"?"bg-green-100 text-green-700":s.orderStatus==="shipped"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:["Order ",s.orderStatus]})})]})]})}),n.jsxs("form",{onSubmit:R,className:"p-6",children:[C&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:C}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(z=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>b(z),onMouseLeave:()=>b(0),onClick:()=>l(z),children:n.jsx($r,{className:`w-8 h-8 transition-colors duration-200 ${z<=(f||i)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},z))}),i>0&&n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[i," out of 5 stars"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:u,onChange:z=>m(z.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"},maxLength:1e3}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[u.length,"/1000 characters"]}),M&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",M.name||M.email]})]}),n.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:n.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[n.jsx(wt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:k||i===0,className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:k?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})},wie=r=>{if(!r)return null;try{const t=new Date(r);if(!isNaN(t.getTime()))return t;const s=/^(\d{2})\/(\d{2})\/(\d{4}) at (\d{1,2}):(\d{2}) (AM|PM)$/;let i=r.match(s);if(i){const[,m,f,b,v,k,C]=i;let _=parseInt(v);return C==="PM"&&_!==12?_+=12:C==="AM"&&_===12&&(_=0),new Date(b,m-1,f,_,k)}const l=/^(\d{1,2})\/(\d{1,2})\/(\d{4}) at (\d{1,2}):(\d{2}) (AM|PM)$/;if(i=r.match(l),i){const[,m,f,b,v,k,C]=i;let _=parseInt(v);return C==="PM"&&_!==12?_+=12:C==="AM"&&_===12&&(_=0),new Date(b,m-1,f,_,k)}const u=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.(\d{3})Z$/;return i=r.match(u),i?new Date(r):new Date(r)}catch(t){return console.error("Error parsing date:",r,t),null}},kie=r=>{if(!r)return"";const t=typeof r=="string"?wie(r):r;return!t||isNaN(t.getTime())?"Invalid Date":{date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},Cie={pending_payment:n.jsx(rn,{}),payment_successful:n.jsx(Yn,{}),order_confirmed:n.jsx(wt,{}),processing:n.jsx(wt,{}),packed:n.jsx(Ku,{}),shipped:n.jsx(Lr,{}),out_for_delivery:n.jsx(Cn,{}),delivered:n.jsx(Yn,{}),cancelled:n.jsx(Hx,{}),Ordered:n.jsx(Ku,{}),Packed:n.jsx(wt,{}),Shipped:n.jsx(Lr,{}),"Out for Delivery":n.jsx(Cn,{}),Delivered:n.jsx(Yn,{})},h2={pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",packed:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},_ie=r=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[r]||r,m2=r=>r.tracking_info&&r.tracking_info.status_history&&r.tracking_info.status_history.length>0?[...r.tracking_info.status_history].sort((s,i)=>new Date(i.timestamp)-new Date(s.timestamp))[0].status:r.status,Aie=(r,t="INR")=>t==="INR"?`${r==null?void 0:r.toLocaleString()}`:`${r} ${t}`,jie=({orders:r})=>{const[t,s]=O.useState(null),[i,l]=O.useState(null),[u,m]=O.useState(!1),{initiatePayment:f,isProcessingPayment:b}=bg(),v=(M,R)=>{M.preventDefault(),M.stopPropagation(),console.log("Opening modal for order:",R),Se.info(`Opening modal for order: ${R}`),s(R)},k=()=>{s(null)},C=(M,R,I)=>{if(M.preventDefault(),M.stopPropagation(),m2(I)!=="delivered"){Se.error("You can only review products from delivered orders");return}console.log("Opening review modal for product:",R),l({...R,orderId:I.order_id,orderDate:I.created_at}),m(!0)},_=()=>{m(!1),l(null)},S=async(M,R)=>{if(M.preventDefault(),M.stopPropagation(),m2(R)!=="pending_payment"){Se.error("Payment can only be retried for pending payment orders");return}try{R.payment_data?await f(R.payment_data):Se.error("Payment information not available. Please contact support.")}catch(z){console.error("Error retrying payment:",z),Se.error("Failed to retry payment. Please try again.")}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:r.map(M=>{const R=m2(M);return n.jsx("div",{className:"group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:n.jsxs(rt,{to:`/order-tracking/${M.order_id}`,className:"flex items-center justify-between p-4",style:{textDecoration:"none"},children:[n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx("div",{className:"h-12 w-12 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:h2[R]||"var(--brand-primary)",color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:Cie[R]||n.jsx(Ku,{})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",M.order_id]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsxs("div",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"mr-1",children:"Status:"}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${h2[R]||"var(--brand-primary)"}20`,color:h2[R]||"var(--brand-primary)",fontWeight:600},children:_ie(R)})]}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"hidden sm:inline mx-2",children:""}),"Placed:",(()=>{const I=kie(M.created_at);return`${I.date} at ${I.time}`})()]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm",children:[n.jsxs("div",{style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium",children:"Amount:"}),n.jsx("span",{className:"text-green-600 font-semibold",children:Aie(M.total_amount,M.currency)})]}),n.jsxs("div",{style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium",children:"Items:"}),M.item_count]})]}),M.items&&M.items.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[M.items.slice(0,2).map((I,z)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50",children:[n.jsxs("div",{className:"flex items-center",children:[I.image&&n.jsx("img",{src:I.image,alt:I.name,className:"w-8 h-8 object-cover rounded mr-2",onError:V=>{V.target.style.display="none"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium truncate max-w-40",style:{color:"var(--text-primary)"},children:I.name}),n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Qty: ",I.quantity]})]})]}),R==="delivered"&&n.jsxs("button",{onClick:V=>C(V,I,M),className:"flex items-center px-2 py-1 rounded text-xs font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[n.jsx($r,{size:12,className:"mr-1"}),"Review"]})]},z)),M.items.length>2&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["+",M.items.length-2," more items..."]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[R==="pending_payment"&&n.jsxs("button",{onClick:I=>S(I,M),disabled:b,className:"flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 hover:bg-orange-50 disabled:opacity-50",style:{color:"var(--warning-color)",border:"1px solid var(--warning-color)"},title:"Retry Payment",children:[n.jsx(oa,{size:12,className:"mr-1"}),b?"Processing...":"Retry Payment"]}),n.jsx("button",{onClick:I=>v(I,M.order_id),className:"p-2 rounded-full hover:bg-blue-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Details",children:n.jsx(Ti,{size:16})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2 text-sm font-medium hidden md:block",style:{color:"var(--brand-primary)"},children:"Track Order"}),n.jsx("div",{className:"bg-gray-100 p-2 rounded-full group-hover:bg-orange-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},children:n.jsx(wn,{className:"text-lg"})})]})]})]})},M.order_id)})}),n.jsx(xie,{isOpen:!!t,onClose:k,orderId:t}),n.jsx(vie,{isOpen:u,onClose:_,product:i}),t&&n.jsxs("div",{style:{display:"none"},children:["Selected Order ID: ",t]})]})},Nie=()=>{const{fetchOrders:r,orders:t,isLoading:s,error:i}=bg();return O.useEffect(()=>{r()},[]),console.log("OrderStatusPage rendered",t),n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(rt,{to:"/",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(cd,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Home"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(wt,{size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"My Orders"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Track your recent orders and see their status in real-time."})]})]}),n.jsxs("button",{onClick:()=>r(),disabled:s,className:"flex items-center px-4 py-2 rounded-lg transition-all duration-200 hover:bg-gray-100 disabled:opacity-50",style:{color:"var(--brand-primary)",border:"1px solid var(--border-primary)"},title:"Refresh orders",children:[n.jsx(Mo,{className:`mr-2 ${s?"animate-spin":""}`,size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Tip:"})," Click on any order to view detailed tracking information."]})})]}),n.jsx("div",{className:"p-6",children:s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading your orders..."})]}):i?n.jsxs("div",{className:"text-center py-12",style:{color:"var(--error-color)"},children:[n.jsx(Ku,{className:"mx-auto mb-4",size:40}),n.jsx("p",{className:"font-medium",children:"Error loading orders"}),n.jsx("p",{className:"text-sm",children:i}),n.jsx("button",{onClick:()=>r(),className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]}):t.length>0?n.jsx(jie,{orders:t}):n.jsxs("div",{className:"text-center py-12",style:{color:"var(--text-secondary)"},children:[n.jsx(Ku,{className:"mx-auto mb-4",size:40}),n.jsx("p",{className:"font-medium",children:"You don't have any orders yet"}),n.jsx(rt,{to:"/products",className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Start Shopping"})]})})]})]})})})},Sie={"Pending Payment":n.jsx(rn,{size:18}),"Payment Successful":n.jsx(oa,{size:18}),Assigned:n.jsx(Ds,{size:18}),Processing:n.jsx(lx,{size:18}),Ordered:n.jsx(Ku,{size:18}),Packed:n.jsx(wt,{size:18}),Shipped:n.jsx(Lr,{size:18}),"Out for Delivery":n.jsx(Cn,{size:18}),Delivered:n.jsx(Yn,{size:18})},Tw={"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},R6=({timeline:r,currentStatus:t})=>{const s=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];return n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5",style:{background:"var(--border-primary)"}}),n.jsx("div",{className:"absolute left-5 top-5 w-0.5 transition-all duration-1000 ease-out",style:{background:"linear-gradient(to bottom, var(--success-color), var(--brand-primary))",height:`${Math.min(r.filter((i,l)=>{const u=s.indexOf(r[l].status),m=s.indexOf(t);return u<m||r[l].date}).length/r.length*100,100)}%`}}),n.jsx("div",{className:"space-y-8",children:r.map((i,l)=>{const u=i.status===t,m=s.indexOf(t),f=s.indexOf(i.status),b=i.date||f<m&&m!==-1,v=!b&&!u;return n.jsxs("div",{className:"flex items-start relative animate-fadeIn",style:{animationDelay:`${l*100}ms`,animationFillMode:"both"},children:[n.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full z-10 transition-all duration-300",style:{backgroundColor:b||u?Tw[i.status]||"var(--success-color)":"var(--bg-primary)",color:b||u?"var(--text-on-brand)":"var(--text-secondary)",border:v?"2px solid var(--border-primary)":"none",boxShadow:u?"0 0 0 4px rgba(99, 102, 241, 0.1), var(--shadow-medium)":b?"0 0 0 2px rgba(34, 197, 94, 0.1), var(--shadow-small)":"var(--shadow-small)",transform:u?"scale(1.1)":"scale(1)"},children:b&&!u?n.jsx(Yn,{size:18}):Sie[i.status]||n.jsx(wt,{size:18})}),n.jsxs("div",{className:"ml-6 pb-2",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[n.jsx("div",{className:"font-semibold text-base",style:{color:u?Tw[i.status]:b?"var(--text-primary)":"var(--text-secondary)"},children:i.status}),i.date?n.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:n.jsxs("span",{style:{color:"var(--text-secondary)"},children:[new Date(i.date).toLocaleDateString()," at",new Date(i.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}):b?n.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Completed"})}):null]}),u&&n.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${Tw[i.status]}20`,color:Tw[i.status]},children:"Current Status"}),v&&n.jsx("div",{className:"mt-1 text-xs font-medium italic",style:{color:"var(--text-secondary)"},children:"Pending"}),n.jsx("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:i.description?i.description:n.jsxs(n.Fragment,{children:[i.status==="Pending Payment"&&b&&"Payment confirmation is being processed.",i.status==="Payment Successful"&&b&&"Payment has been received and confirmed.",i.status==="Assigned"&&b&&"Order has been assigned to a delivery partner.",i.status==="Processing"&&b&&"Your order is being prepared for shipping.",i.status==="Ordered"&&b&&"Your order has been received and is being processed.",i.status==="Packed"&&b&&"Your items have been carefully packed and are ready for shipping.",i.status==="Shipped"&&b&&"Your package is on its way to you.",i.status==="Out for Delivery"&&b&&"Your package will be delivered today.",i.status==="Delivered"&&b&&"Your package has been delivered. Enjoy!"]})})]})]},i.status)})})]})},Eie=()=>{const[r,t]=O.useState(!1),[s,i]=O.useState(null),[l,u]=O.useState(0),[m,f]=O.useState(""),[b,v]=O.useState(0),[k,C]=O.useState(new Set),{addReview:_,reviewLoading:S,reviewError:M,clearReviewError:R}=ol(),{isAuthenticated:I,user:z}=Sr(),V={id:"ORD123456",status:"Delivered",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:"2025-05-14T14:30:00Z"}],estimatedDelivery:"2025-05-14",orderItems:[{id:1,productId:1,name:"iPhone 15 Pro",brand:"Apple",model:"A3101",image:"/mobile1.png",price:99999,quantity:1,orderId:"ORD123456",orderDate:"2025-05-10T10:00:00Z",hasReviewed:!1},{id:2,productId:2,name:"AirPods Pro",brand:"Apple",model:"A2931",image:"/accessories.png",price:24999,quantity:1,orderId:"ORD123456",orderDate:"2025-05-10T10:00:00Z",hasReviewed:!1}]},U=ne=>{const Q=ne.productId||ne.id;if(k.has(Q)||ne.hasReviewed){Se.info("You have already reviewed this product");return}i(ne),t(!0),u(0),f(""),v(0),R()},q=()=>{t(!1),i(null),u(0),f(""),v(0)},$=async ne=>{if(ne.preventDefault(),!I){Se.error("Please log in to write a review");return}if(!s){Se.error("Product information not available");return}if(l===0){Se.error("Please select a rating");return}const Q=s.productId||s.id;if(k.has(Q)||s.hasReviewed){Se.error("You have already reviewed this product"),q();return}R();const B={rating:l,comment:m.trim(),verified_purchase:!0,order_id:s.orderId,purchase_date:s.orderDate},Y=await _(Q,B);Y.success?(Se.success("Review submitted successfully!"),C(J=>new Set([...J,Q])),q()):Se.error(Y.error||"Failed to submit review. Please try again.")};return n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(rt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(cd,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(wt,{size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Track Your Order"}),n.jsxs("p",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium mr-1",children:"Order ID:"}),n.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",style:{color:"var(--text-primary)"},children:V.id})]})]})]}),n.jsxs("div",{className:"hidden md:block text-right",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"text-xs",children:"Current Status"}),n.jsx("div",{className:"font-semibold mt-1 px-3 py-1 rounded-full text-sm inline-block",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:V.status})]})]}),n.jsxs("div",{className:"mt-6 p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--text-primary)"},children:[n.jsx(ri,{className:"mr-3",size:20,style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Estimated Delivery"}),n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:new Date(V.estimatedDelivery).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-3 border-l-4 rounded-r-lg flex items-center",style:{borderColor:"var(--info-color)",backgroundColor:"var(--info-color)10"},children:[n.jsx(Qu,{className:"mr-2",style:{color:"var(--info-color)"}}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"We'll update this page as your order progresses."})]}),n.jsx(R6,{timeline:V.timeline,currentStatus:V.status}),V.orderItems&&V.orderItems.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(wt,{className:"mr-2",size:20}),"Order Items (",V.orderItems.length,")"]}),n.jsx("div",{className:"space-y-4",children:V.orderItems.map((ne,Q)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[ne.image?n.jsx("img",{src:ne.image,alt:ne.name,className:"w-16 h-16 object-cover rounded-lg"}):n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(wt,{size:24})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-base",style:{color:"var(--text-primary)"},children:ne.name}),ne.brand&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Brand: ",ne.brand]}),ne.model&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Model: ",ne.model]}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Qty: ",ne.quantity]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",ne.price.toLocaleString()]})}),ne.hasReviewed||k.has(ne.productId||ne.id)?n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-50 border border-green-200",children:[n.jsx($r,{size:16,className:"mr-2 text-green-600"}),n.jsx("span",{className:"text-green-700",children:"Reviewed"})]}):n.jsxs("button",{onClick:()=>U(ne),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[n.jsx($r,{size:16,className:"mr-2"}),"Write Review"]})]})]},Q))})]}),r&&s&&n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"p-6 rounded-xl border-2 border-dashed animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx($r,{size:20})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),n.jsx("button",{onClick:q,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"p-4 mb-6 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[s.image&&n.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-lg mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:s.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",s.orderId]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(wt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),n.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),n.jsxs("form",{onSubmit:$,children:[M&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:M}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(ne=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>v(ne),onMouseLeave:()=>v(0),onClick:()=>u(ne),children:n.jsx($r,{className:`w-8 h-8 transition-colors duration-200 ${ne<=(b||l)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},ne))}),l>0&&n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[l," out of 5 stars"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:m,onChange:ne=>f(ne.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"},maxLength:1e3}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[m.length,"/1000 characters"]}),z&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",z.name||z.email]})]}),n.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:n.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[n.jsx(wt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:S||l===0,className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:S?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})]})]})]})})})},Die=()=>{const{id:r}=ng();console.log("OrderTrackingDetail rendered with orderId:",r);const{getOrderById:t,currentOrder:s,isLoading:i,error:l}=bg(),[u,m]=O.useState(!1),[f,b]=O.useState(null),[v,k]=O.useState(0),[C,_]=O.useState(""),[S,M]=O.useState(""),[R,I]=O.useState(0),[z,V]=O.useState(new Set),{addReview:U,reviewLoading:q,reviewError:$,clearReviewError:ne,checkExistingReview:Q}=ol(),{isAuthenticated:B,user:Y}=Sr();O.useEffect(()=>{(async()=>{if(r){console.log("Fetching order details for:",r);try{await t(r)}catch(G){console.error("Error fetching order details:",G)}}})()},[r]),console.log("Order fetched successfully:",s);const J=oe=>{const G=oe.product_id||oe.id;if(z.has(G)){Se.info("You have already reviewed this product");return}b(oe),m(!0),k(0),_(""),M(""),I(0),ne()},W=()=>{m(!1),b(null),k(0),_(""),M(""),I(0)},ee=async oe=>{if(oe.preventDefault(),!B){Se.error("Please log in to write a review");return}if(!f){Se.error("Product information not available");return}if(v===0){Se.error("Please select a rating");return}if(!C.trim()){Se.error("Please enter a review title");return}const G=f.product_id||f.id;if(z.has(G)){Se.error("You have already reviewed this product"),W();return}ne();const ue={rating:v,title:C.trim(),comment:S.trim(),verified_purchase:!0,order_id:(s==null?void 0:s.invoice_id)||(s==null?void 0:s.razorpay_order_id)||r,purchase_date:s==null?void 0:s.created_at},me=await U(G,ue);me.success?(Se.success("Review submitted successfully!"),V(ye=>new Set([...ye,G])),W()):Se.error(me.error||"Failed to submit review. Please try again.")};O.useEffect(()=>{s&&(async()=>{const G=(s==null?void 0:s.order_items)||(s==null?void 0:s.orderItems);if(console.log("Loading review statuses for items:",G),G&&G.length>0&&B&&Y){const ue=new Set;for(const me of G){const ye=me.product_id||me.id;if(console.log("Checking review for product:",ye,"Item data:",me),ye)try{const ve=await Q(ye);console.log(`Review check result for ${ye}:`,ve),ve.success&&ve.has_reviewed&&(ue.add(ye),console.log(`Product ${ye} has been reviewed`))}catch(ve){console.error(`Error checking review for product ${ye}:`,ve)}}console.log("Final reviewed products set:",Array.from(ue)),V(ue)}else console.log("Review status loading skipped:",{orderItems:!!G,orderItemsLength:G==null?void 0:G.length,isAuthenticated:B,user:!!Y})})()},[s,B,Y,Q]);const be=s?(oe=>{var Qe,Be,fe,et,He,tt,xt;if(!oe)return null;const G=(_e,lt)=>({"Pending Payment":lt?"Awaiting payment confirmation":"Payment will be processed","Payment Successful":lt?"Payment received successfully":"Payment confirmation pending",Assigned:lt?"Order assigned to delivery partner":"Order will be assigned to partner",Processing:lt?"Order is being processed":"Order processing will begin",Packed:lt?"Items packed and ready for dispatch":"Items will be packed soon",Shipped:lt?"Order dispatched from warehouse":"Order will be shipped soon","Out for Delivery":lt?"Package is out for delivery":"Package will be out for delivery",Delivered:lt?"Order successfully delivered":"Order will be delivered soon","Failed Delivery Attempt":lt?"Delivery attempt was unsuccessful":"Delivery will be retried","Returning to Warehouse":lt?"Package is being returned to warehouse":"Package may need to be returned",Cancelled:lt?"Order has been cancelled":"Order cancellation pending"})[_e]||`${_e} - ${lt?"completed":"pending"}`,ue=_e=>(console.log("Mapping status:",_e),{pending_payment:"Pending Payment",payment_successful:"Payment Successful",assigned:"Assigned",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled",failed_attempt:"Failed Delivery Attempt",returning_to_warehouse:"Returning to Warehouse",other:"Other Status"}[_e]||_e),me=((Be=(Qe=oe.tracking_info)==null?void 0:Qe.status_history)==null?void 0:Be.map(_e=>({status:ue(_e.status),date:_e.timestamp,description:_e.description||`Status updated to ${ue(_e.status)}`})))||[],ye=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"],ve=me.map(_e=>_e.status),Me=ye.indexOf(ue(oe.delivery_status||oe.status));ye.forEach((_e,lt)=>{ve.includes(_e)||(lt<=Me?me.push({status:_e,date:null,description:G(_e,!0)}):me.push({status:_e,date:null,description:G(_e,!1)}))});const Ae=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];me.sort((_e,lt)=>Ae.indexOf(_e.status)-Ae.indexOf(lt.status));const Ye=_e=>_e?`${_e.street_address}, ${_e.city}, ${_e.state} - ${_e.postal_code}`:null,ze=_e=>_e?_e.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):null;return{id:oe.invoice_id||oe.razorpay_order_id||r,order_id:oe.invoice_id||oe.razorpay_order_id||r,status:ue(oe.delivery_status||oe.status),delivery_status:ue(oe.delivery_status),overall_status:ue(oe.status),timeline:me,estimatedDelivery:oe.estimated_delivery,estimatedDeliveryFormatted:oe.estimated_delivery?new Date(oe.estimated_delivery).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):null,shippingAddress:Ye(oe.address),phoneNumber:ze((fe=oe.address)==null?void 0:fe.phone_number),addressType:(et=oe.address)==null?void 0:et.type,carrier:((He=oe.tracking_info)==null?void 0:He.carrier)||"Pending",trackingNumber:(tt=oe.tracking_info)==null?void 0:tt.tracking_number,trackingUrl:(xt=oe.tracking_info)==null?void 0:xt.tracking_url,orderItems:oe.orderItems||oe.order_items||[],totalAmount:oe.total_amount||oe.total_amount_calculated,currency:oe.currency||"INR",paymentDetails:oe.payment_details,createdAt:oe.created_at,createdAtFormatted:oe.created_at_formatted,invoice:oe.invoice,assigned_partner_name:oe.assigned_partner_name,assigned_at:oe.assigned_at,last_updated_by_admin_at:oe.last_updated_by_admin_at,last_updated_by_partner_at:oe.last_updated_by_partner_at}})(s):{id:r,order_id:r,status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14",shippingAddress:"123 Main St, Anytown, State 12345",carrier:"FastShip Express",trackingNumber:"FS78291782X"};console.log("Order data being used:",be),console.log("Order status:",be.status,"Delivery status:",be.delivery_status),console.log("Order items:",be.orderItems);const xe=!s,ie=()=>{var ue,me;const oe=((ue=be.timeline)==null?void 0:ue.length)||5,G=((me=be.timeline)==null?void 0:me.findIndex(ye=>ye.status===be.status))||0;return Math.min((G+1)/oe*100,100)},ae=oe=>({"Pending Payment":n.jsx(rn,{}),"Payment Successful":n.jsx(Yn,{}),Assigned:n.jsx(Ds,{}),Processing:n.jsx(lx,{}),Packed:n.jsx(Ku,{}),Shipped:n.jsx(Lr,{}),"Out for Delivery":n.jsx(Hee,{}),Delivered:n.jsx(Yn,{}),Cancelled:n.jsx(Yt,{}),"Failed Delivery Attempt":n.jsx(Mo,{}),"Returning to Warehouse":n.jsx(cd,{}),"Other Status":n.jsx(Qu,{})})[oe]||n.jsx(wt,{}),le=oe=>({"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Packed:"var(--brand-secondary)",Shipped:"var(--info-color)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)",Cancelled:"var(--error-color)","Failed Delivery Attempt":"var(--error-color)","Returning to Warehouse":"var(--warning-color)","Other Status":"var(--text-secondary)"})[oe]||"var(--brand-primary)";return i?n.jsx("div",{className:"min-h-screen py-10 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Di,{className:"animate-spin h-8 w-8 mx-auto mb-4",style:{color:"var(--brand-primary)"}}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]})}):l?n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsxs(rt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(cd,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx(wt,{className:"h-16 w-16 mx-auto mb-4",style:{color:"var(--error-color)"}}),n.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Order Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:l}),n.jsx(rt,{to:"/orders",className:"inline-block px-6 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"View All Orders"})]})]})})}):n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(rt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(cd,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(99, 102, 241, 0.02) 100%)"},children:[n.jsxs("div",{className:"relative h-3 w-full bg-gradient-to-r from-gray-200 to-gray-100 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600",style:{width:`${ie()}%`}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),n.jsx("div",{className:"p-8 border-b bg-gradient-to-r from-transparent to-blue-50/30",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[n.jsxs("div",{className:"flex items-start space-x-5",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center shrink-0 shadow-lg",style:{background:"linear-gradient(135deg, var(--brand-primary), var(--brand-secondary))",color:"white"},children:n.jsx(tl,{size:28})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",style:{color:"var(--text-primary)"},children:["Order #",be.id||be.order_id]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm",style:{backgroundColor:`${le(be.status)}15`,color:le(be.status),border:`1px solid ${le(be.status)}30`},children:[ae(be.status),n.jsx("span",{className:"ml-2",children:be.status})]}),be.delivery_status&&be.delivery_status!==be.overall_status&&n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:`${le(be.delivery_status)}10`,color:le(be.delivery_status),border:`1px solid ${le(be.delivery_status)}20`},children:[n.jsx(Lr,{className:"mr-1",size:12}),"Delivery: ",be.delivery_status]}),be.totalAmount&&n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(oa,{className:"mr-1",size:14}),"",be.totalAmount]})]})]}),be.createdAtFormatted&&n.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:[n.jsx(rn,{className:"mr-2",size:14}),"Ordered on ",be.createdAtFormatted]})]})]}),n.jsxs("div",{className:"flex items-center p-4 rounded-xl shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(ri,{size:20})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium uppercase tracking-wide mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),n.jsx("div",{className:"font-bold text-lg",style:{color:"var(--brand-primary)"},children:be.estimatedDeliveryFormatted||(be.estimatedDelivery?new Date(be.estimatedDelivery).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"}):"Pending")})]})]})]})}),n.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(34, 197, 94, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:n.jsx(Cn,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Address"})]}),n.jsxs("div",{className:"ml-13 space-y-2",children:[n.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:be.shippingAddress||"Address not available"}),be.phoneNumber&&n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(ia,{className:"mr-2",size:14}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:be.phoneNumber})]}),be.addressType&&n.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:[n.jsx(zee,{className:"mr-1",size:10}),be.addressType]})]})]}),n.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(Lr,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Partner"})]}),n.jsxs("div",{className:"ml-13 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Partner:"}),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:be.assigned_partner_name||"Not Assigned"})]}),be.trackingNumber&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Tracking:"}),n.jsx("span",{className:"text-sm font-mono",style:{color:"var(--brand-primary)"},children:be.trackingNumber})]})]}),be.assigned_at&&n.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[n.jsx(rn,{className:"mr-1",size:12}),n.jsxs("span",{children:["Assigned on",new Date(be.assigned_at).toLocaleDateString("en-IN")]})]})]}),be.paymentDetails&&n.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:n.jsx(oa,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Payment Details"})]}),n.jsxs("div",{className:"ml-13 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Method:"}),n.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:"var(--text-primary)"},children:be.paymentDetails.method||"N/A"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Status:"}),n.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:be.paymentDetails.status==="captured"?"var(--success-color)":"var(--warning-color)"},children:be.paymentDetails.status||"N/A"})]}),be.paymentDetails.captured_at_formatted&&n.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[n.jsx(Yn,{className:"mr-1",size:12}),n.jsxs("span",{children:["Paid on",be.paymentDetails.captured_at_formatted]})]})]})]})]}),be.orderItems&&be.orderItems.length>0&&n.jsx("div",{className:"px-8 pb-6",children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(168, 85, 247, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-secondary)15",color:"var(--brand-secondary)"},children:n.jsx(wt,{size:18})}),n.jsxs("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:["Order Items (",be.orderItems.length,")"]}),n.jsxs("div",{className:"ml-auto text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",be.totalAmount]})]}),n.jsx("div",{className:"ml-13 space-y-4",children:be.orderItems.map((oe,G)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[oe.image_url?n.jsx("img",{src:oe.image_url,alt:oe.name,className:"w-12 h-12 object-cover rounded-lg"}):n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(wt,{size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:oe.name||`Item ${G+1}`}),oe.brand&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Brand: ",oe.brand]}),oe.model&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",oe.model]}),oe.color&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Color: ",oe.color]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Qty: ",oe.quantity||1]}),n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",oe.price_at_purchase||oe.total_item_price]})]})]},G))})]})})]}),be.invoice&&be.invoice.invoice_pdf_url&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"100ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:n.jsx(Ei,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Invoice Available"})]}),n.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",be.invoice.invoice_id]}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Download your order invoice for records"})]}),n.jsxs("a",{href:be.invoice.invoice_pdf_url,download:`Invoice_${be.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--success-color)",color:"white",textDecoration:"none"},onClick:()=>{console.log("Invoice download initiated")},children:[n.jsx(Ei,{className:"mr-2",size:16}),"Download PDF"]})]})]})}),(be.status==="Delivered"||be.delivery_status==="Delivered")&&be.orderItems&&be.orderItems.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"120ms"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(wt,{className:"mr-2",size:20}),"Order Items (",be.orderItems.length,")"]}),n.jsx("div",{className:"space-y-4",children:be.orderItems.map((oe,G)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[oe.image||oe.image_url?n.jsx("img",{src:oe.image||oe.image_url,alt:oe.name,className:"w-16 h-16 object-cover rounded-lg"}):n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(wt,{size:24})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-base",style:{color:"var(--text-primary)"},children:oe.name||oe.product_name}),oe.brand&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Brand: ",oe.brand]}),oe.model&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Model: ",oe.model]}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Qty: ",oe.quantity]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",(oe.price||oe.price_at_purchase||oe.total_amount||oe.total_item_price||0).toLocaleString()]})}),(()=>{const ue=oe.product_id||oe.id,me=z.has(ue);return console.log("Review check for item:",{productId:ue,hasReviewed:me,reviewedProducts:Array.from(z),reviewedProductsSize:z.size,item:oe}),console.log(`Direct check: reviewedProducts.has("${ue}") =`,z.has(ue)),me})()?n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-50 border border-green-200",children:[n.jsx(Yn,{size:16,className:"mr-2 text-green-600"}),n.jsx("span",{className:"text-green-700",children:"Reviewed"})]}):n.jsxs("button",{onClick:()=>J({...oe,productId:oe.product_id||oe.id,orderId:be.id,orderDate:be.createdAt}),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[n.jsx($r,{size:16,className:"mr-2"}),"Write Review"]})]})]},G))})]}),u&&f&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"140ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border-2 border-dashed",style:{borderColor:"var(--brand-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx($r,{size:20})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),n.jsx("button",{onClick:W,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"p-4 mb-6 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[f.image&&n.jsx("img",{src:f.image,alt:f.name||f.product_name,className:"w-16 h-16 object-cover rounded-lg mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:f.name||f.product_name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",f.orderId]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(wt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),n.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),n.jsxs("form",{onSubmit:ee,children:[$&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:$}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(oe=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>I(oe),onMouseLeave:()=>I(0),onClick:()=>k(oe),children:n.jsx($r,{className:`w-8 h-8 transition-colors duration-200 ${oe<=(R||v)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},oe))}),v>0&&n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[v," out of 5 stars"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Review Title *"}),n.jsx("input",{type:"text",value:C,onChange:oe=>_(oe.target.value),placeholder:"Write a brief title for your review",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},maxLength:100}),n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[C.length,"/100 characters"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:S,onChange:oe=>M(oe.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},maxLength:1e3}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[S.length,"/1000 characters"]}),Y&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",Y.name||Y.email]})]}),n.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:n.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[n.jsx(wt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:q||v===0||!C.trim(),className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:q?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})}),be.trackingUrl&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"150ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(dx,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"External Tracking"})]}),n.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Track with carrier"}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Get real-time updates from delivery partner"})]}),n.jsxs("a",{href:be.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--brand-primary)",color:"white",textDecoration:"none"},children:[n.jsx(dx,{className:"mr-2",size:16}),"Track Now"]})]})]})}),be.last_updated_by_partner_at||be.last_updated_by_admin_at?n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"180ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(245, 158, 11, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:n.jsx(lx,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Recent Updates"})]}),n.jsxs("div",{className:"ml-13 space-y-3",children:[be.last_updated_by_partner_at&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last partner update:"}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(be.last_updated_by_partner_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),be.last_updated_by_admin_at&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last admin update:"}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(be.last_updated_by_admin_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})}):null,n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"200ms"},children:[n.jsxs("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:["Delivery Progress",xe&&n.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Using Mock Data"})]}),n.jsx(R6,{timeline:be.timeline,currentStatus:be.status})]})]})})})},Mie=()=>{const r=To(),t=ns(),{logout:s}=Sr(),i=[{id:"profile",name:"Profile Information",path:"/profile",icon:n.jsx(Ds,{className:"w-5 h-5"})},{id:"orders",name:"My Orders",path:"/orders",icon:n.jsx(tl,{className:"w-5 h-5"})},{id:"wishlist",name:"My Wishlist",path:"/wishlist",icon:n.jsx(ug,{className:"w-5 h-5"})},{id:"addresses",name:"My Addresses",path:"/profile/addresses",icon:n.jsx(Cn,{className:"w-5 h-5"})}],l=u=>{u.preventDefault(),s(),t("/login")};return n.jsxs("div",{className:"rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("div",{className:"p-4",style:{backgroundColor:"var(--brand-primary)"},children:n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-on-brand)"},children:"My Account"})}),n.jsx("div",{className:"p-2",children:n.jsxs("ul",{children:[i.map(u=>n.jsx("li",{children:n.jsxs(rt,{to:u.path,className:`flex items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 ${r.pathname===u.path?"bg-opacity-10 font-medium":"hover:bg-opacity-5"}`,style:{backgroundColor:r.pathname===u.path?"var(--bg-accent-light)":"transparent",color:r.pathname===u.path?"var(--brand-primary)":"var(--text-primary)"},children:[u.icon,n.jsx("span",{children:u.name})]})},u.id)),n.jsx("li",{children:n.jsxs("button",{onClick:l,className:"flex w-full items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 text-left hover:bg-opacity-5",style:{color:"var(--error-color)"},children:[n.jsx(U9,{className:"w-5 h-5"}),n.jsx("span",{children:"Logout"})]})})]})})]})},Tie=()=>{const{user:r,isLoading:t,error:s,fetchUserProfile:i,updateUserProfileAPI:l,clearError:u}=Sr(),{isOpen:m,modalConfig:f,isLoading:b,showConfirm:v,hideConfirm:k,handleConfirm:C}=gg(),[_,S]=ot.useState(!1),[M,R]=ot.useState({firstName:(r==null?void 0:r.first_name)||"",lastName:(r==null?void 0:r.last_name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[I,z]=ot.useState({});ot.useEffect(()=>{r!=null&&r.uid&&i().catch(()=>{})},[]),ot.useEffect(()=>{r&&R(Q=>({...Q,firstName:r.first_name||"",lastName:r.last_name||"",email:r.email||"",phone:r.phone||""}))},[r]),ot.useEffect(()=>()=>u(),[u]);const V=Q=>{const{name:B,value:Y}=Q.target;R(J=>({...J,[B]:Y})),I[B]&&z(J=>({...J,[B]:""}))},U=()=>{const Q={};return M.firstName.trim()||(Q.firstName="First name is required"),M.lastName.trim()||(Q.lastName="Last name is required"),M.email.trim()?/\S+@\S+\.\S+/.test(M.email)||(Q.email="Please enter a valid email address"):Q.email="Email is required",(M.currentPassword||M.newPassword||M.confirmPassword)&&(M.currentPassword||(Q.currentPassword="Current password is required to change password"),M.newPassword?M.newPassword.length<6&&(Q.newPassword="New password must be at least 6 characters long"):Q.newPassword="New password is required",M.confirmPassword?M.newPassword!==M.confirmPassword&&(Q.confirmPassword="New passwords do not match"):Q.confirmPassword="Please confirm your new password"),z(Q),Object.keys(Q).length===0},q=async Q=>{if(Q.preventDefault(),!U()){Se.error("Please fix the errors in the form");return}M.currentPassword&&M.newPassword&&M.confirmPassword?v({title:"Confirm Password Change",message:"Are you sure you want to change your password? You will need to use the new password for future logins.",confirmText:"Change Password",cancelText:"Cancel",type:"warning",onConfirm:async()=>{await $(!0)}}):await $(!1)},$=async(Q=!1)=>{var B,Y;try{const J={first_name:M.firstName,last_name:M.lastName,phone_number:M.phone};Q&&(J.current_password=M.currentPassword,J.new_password=M.newPassword,J.confirm_new_password=M.confirmPassword);const W=await l(J);W.success&&(Se.success(W.message||"Profile updated successfully"),S(!1),R(ee=>({...ee,currentPassword:"",newPassword:"",confirmPassword:""})),z({}))}catch(J){Se.error(((Y=(B=J.response)==null?void 0:B.data)==null?void 0:Y.error)||"Failed to update profile")}},ne=()=>{S(!_),z({}),R(_?Q=>({...Q,currentPassword:"",newPassword:"",confirmPassword:""}):{firstName:(r==null?void 0:r.first_name)||"",lastName:(r==null?void 0:r.last_name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""})};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Profile Information"}),n.jsx("button",{onClick:ne,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:_?"var(--bg-secondary)":"var(--brand-primary)",color:_?"var(--text-primary)":"var(--text-on-brand)"},children:_?"Cancel":"Edit Profile"})]}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:s}),n.jsxs("form",{onSubmit:q,children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"First Name"}),_?n.jsxs("div",{children:[n.jsx("input",{type:"text",id:"firstName",name:"firstName",value:M.firstName,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:I.firstName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),I.firstName&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:I.firstName})]}):n.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(r==null?void 0:r.first_name)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Last Name"}),_?n.jsxs("div",{children:[n.jsx("input",{type:"text",id:"lastName",name:"lastName",value:M.lastName,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:I.lastName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),I.lastName&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:I.lastName})]}):n.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(r==null?void 0:r.last_name)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email Address"}),n.jsxs("div",{children:[n.jsx("input",{type:"email",id:"email",name:"email",value:M.email,onChange:V,disabled:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 disabled:opacity-60 disabled:cursor-not-allowed",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),_?n.jsx("input",{type:"tel",id:"phone",name:"phone",value:M.phone,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}):n.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(r==null?void 0:r.phone)||"Not provided"})]})]}),_&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium mb-3",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Current Password"}),n.jsxs("div",{children:[n.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:M.currentPassword,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:I.currentPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter current password"}),I.currentPassword&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:I.currentPassword})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"New Password"}),n.jsxs("div",{children:[n.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:M.newPassword,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:I.newPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter new password (min 6 characters)"}),I.newPassword&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:I.newPassword})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Confirm New Password"}),n.jsxs("div",{children:[n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:M.confirmPassword,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:I.confirmPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Confirm new password"}),I.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:I.confirmPassword})]})]})]})]}),_&&n.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:ne,disabled:t,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t&&n.jsx(Di,{className:"w-4 h-4 animate-spin"}),"Save Changes"]})]})]}),n.jsx(ih,{isOpen:m,onClose:k,onConfirm:C,title:f.title,message:f.message,confirmText:f.confirmText,cancelText:f.cancelText,type:f.type,isLoading:b})]})},Iie=()=>{const{addresses:r,isLoading:t,error:s,fetchAddresses:i,addAddress:l,updateAddress:u,deleteAddress:m,setDefaultAddress:f,clearError:b}=I6(),{isOpen:v,modalConfig:k,isLoading:C,showConfirm:_,hideConfirm:S,handleConfirm:M}=gg(),[R,I]=ot.useState(!1),[z,V]=ot.useState(null),[U,q]=ot.useState({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1});ot.useEffect(()=>{i()},[]),ot.useEffect(()=>()=>b(),[b]);const $=J=>{const{name:W,value:ee,type:te,checked:be}=J.target;q(xe=>({...xe,[W]:te==="checkbox"?be:ee}))},ne=J=>{q({name:J.name||J.type,address:J.address||J.street_address,city:J.city,state:J.state,pincode:J.pincode||J.postal_code,phone:J.phone||J.phone_number,isDefault:J.isDefault||J.is_default}),V(J.id),I(!0)},Q=async J=>{_({title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{await m(J)}})},B=async J=>{await f(J)},Y=async J=>{J.preventDefault();try{const W={type:U.name,street_address:U.address,city:U.city,state:U.state,postal_code:U.pincode,phone_number:U.phone,is_default:U.isDefault};z?await u(z,W):await l(W),q({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),I(!1),V(null)}catch(W){console.error("Error saving address:",W)}};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"My Addresses"}),!R&&n.jsxs("button",{onClick:()=>I(!0),disabled:t,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t?n.jsx(Di,{className:"w-4 h-4 animate-spin"}):n.jsx(dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add New Address"})]})]}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:s}),t&&!R&&n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(Di,{className:"w-6 h-6 animate-spin",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"ml-2",style:{color:"var(--text-secondary)"},children:"Loading addresses..."})]}),R?n.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:z?"Edit Address":"Add New Address"}),n.jsxs("form",{onSubmit:Y,children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Address Name"}),n.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Home, Office, etc.",value:U.name,onChange:$,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"Contact number for delivery",value:U.phone,onChange:$,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Street Address"}),n.jsx("textarea",{id:"address",name:"address",placeholder:"Flat, House no., Building, Company, Apartment",value:U.address,onChange:$,rows:2,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",value:U.city,onChange:$,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"State"}),n.jsx("input",{type:"text",id:"state",name:"state",value:U.state,onChange:$,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"PIN Code"}),n.jsx("input",{type:"text",id:"pincode",name:"pincode",value:U.pincode,onChange:$,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"isDefault",checked:U.isDefault,onChange:$,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default address"})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{I(!1),V(null),q({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1})},disabled:t,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:t,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t&&n.jsx(Di,{className:"w-4 h-4 animate-spin"}),z?"Update Address":"Save Address"]})]})]})]}):n.jsx("div",{children:r.length===0&&!t?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Cn,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"No addresses found"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Add your first address to get started with deliveries"}),n.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Address"})]}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(J=>n.jsxs("div",{className:`border rounded-lg p-4 relative ${J.isDefault||J.is_default?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:J.isDefault||J.is_default?"var(--brand-primary)":void 0},children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:J.name||J.type}),(J.isDefault||J.is_default)&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),n.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[n.jsx(Cn,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{style:{color:"var(--text-primary)"},children:[n.jsx("p",{children:J.address||J.street_address}),n.jsxs("p",{children:[J.city,", ",J.state," -",J.pincode||J.postal_code]}),n.jsxs("p",{className:"mt-1",children:["Phone: ",J.phone||J.phone_number]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[!(J.isDefault||J.is_default)&&n.jsx("button",{onClick:()=>B(J.id),disabled:t,className:"text-xs px-2 py-1 rounded border transition-colors disabled:opacity-50",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:"Set as Default"}),n.jsxs("div",{className:`flex gap-2 ${J.isDefault||J.is_default?"":"ml-auto"}`,children:[n.jsx("button",{onClick:()=>ne(J),disabled:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--text-secondary)"},children:n.jsx(rp,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Q(J.id),disabled:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--error-color)"},children:n.jsx(un,{className:"w-4 h-4"})})]})]})]},J.id))})}),n.jsx(ih,{isOpen:v,onClose:S,onConfirm:M,title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,type:k.type,isLoading:C})]})},Rie=()=>{const[r,t]=ot.useState([{id:1,type:"Credit Card",name:"John Doe",cardNumber:"   1234",expiry:"12/25",isDefault:!0},{id:2,type:"Debit Card",name:"John Doe",cardNumber:"   5678",expiry:"08/26",isDefault:!1}]),[s,i]=ot.useState(!1),[l,u]=ot.useState(null),[m,f]=ot.useState({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),b=_=>{const{name:S,value:M,type:R,checked:I}=_.target;f(z=>({...z,[S]:R==="checkbox"?I:M}))},v=_=>{f({..._,cardNumber:"",cvv:""}),u(_.id),i(!0)},k=_=>{t(r.filter(S=>S.id!==_))},C=_=>{_.preventDefault();const S=`   ${m.cardNumber.slice(-4)}`;if(l)t(r.map(M=>M.id===l?{...m,id:l,cardNumber:S}:M));else{const M={...m,id:Date.now(),cardNumber:S};t([...r,M])}f({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),i(!1),u(null)};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Payment Methods"}),!s&&n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add New Card"})]})]}),s?n.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:l?"Update Card":"Add New Card"}),n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Type"}),n.jsxs("select",{id:"type",name:"type",value:m.type,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},children:[n.jsx("option",{value:"Credit Card",children:"Credit Card"}),n.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cardholder Name"}),n.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name on card",value:m.name,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Number"}),n.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",value:m.cardNumber,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Expiry Date"}),n.jsx("input",{type:"text",id:"expiry",name:"expiry",placeholder:"MM/YY",value:m.expiry,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"CVV"}),n.jsx("input",{type:"text",id:"cvv",name:"cvv",placeholder:"XXX",value:m.cvv,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"isDefault",checked:m.isDefault,onChange:b,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default payment method"})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),u(null)},className:"px-4 py-2 rounded-md text-sm font-medium",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:l?"Update Card":"Add Card"})]})]})]}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(_=>n.jsxs("div",{className:`border rounded-lg p-4 relative ${_.isDefault?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:_.isDefault?"var(--brand-primary)":void 0},children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:_.type}),_.isDefault&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),n.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[n.jsx(oa,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{style:{color:"var(--text-primary)"},children:[n.jsx("p",{className:"text-lg font-mono",children:_.cardNumber}),n.jsx("p",{children:_.name}),n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Expires: ",_.expiry]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx("button",{onClick:()=>v(_),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(rp,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>k(_.id),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--error-color)"},children:n.jsx(un,{className:"w-4 h-4"})})]})]},_.id))})]})},xx=nn((r,t)=>({theme:"light",isDarkMode:!1,setTheme:s=>{if(r({theme:s}),s==="system"){const i=window.matchMedia("(prefers-color-scheme: dark)").matches;r({isDarkMode:i}),MR(i)}else{const i=s==="dark";r({isDarkMode:i}),MR(i)}localStorage.setItem("anand-mobiles-theme",s)},toggleTheme:()=>{const i=t().theme==="light"?"dark":"light";t().setTheme(i)},initializeTheme:()=>{document.documentElement.classList.add("no-transitions");const s=localStorage.getItem("anand-mobiles-theme")||"light";t().setTheme(s),setTimeout(()=>{document.documentElement.classList.remove("no-transitions")},100)}})),MR=r=>{const t=document.documentElement;r?(t.classList.add("dark"),document.body.classList.add("dark")):(t.classList.remove("dark"),document.body.classList.remove("dark"))};typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const{theme:s,setTheme:i}=xx.getState();s==="system"&&xx.getState().setTheme("system")});const Pie=()=>{const{theme:r,setTheme:t}=xx(),[s,i]=ot.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,promotions:!1,newArrivals:!0,priceDrops:!0,twoFactorAuth:!1}),l=u=>{i(m=>({...m,[u]:!m[u]}))};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Account Settings"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Manage your notification preferences and account security"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(L9,{}),n.jsx("span",{children:"Notification Preferences"})]})}),n.jsxs("div",{className:"space-y-4 pl-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Email Notifications"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via email"})]}),n.jsx("button",{onClick:()=>l("emailNotifications"),className:"text-2xl","aria-label":s.emailNotifications?"Disable email notifications":"Enable email notifications",children:s.emailNotifications?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"SMS Notifications"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via text message"})]}),n.jsx("button",{onClick:()=>l("smsNotifications"),className:"text-2xl","aria-label":s.smsNotifications?"Disable SMS notifications":"Enable SMS notifications",children:s.smsNotifications?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Push Notifications"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive notifications on mobile app"})]}),n.jsx("button",{onClick:()=>l("pushNotifications"),className:"text-2xl","aria-label":s.pushNotifications?"Disable push notifications":"Enable push notifications",children:s.pushNotifications?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Notification Types"}),n.jsxs("div",{className:"space-y-4 pl-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Order Updates"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates about your orders"})]}),n.jsx("button",{onClick:()=>l("orderUpdates"),className:"text-2xl","aria-label":s.orderUpdates?"Disable order updates":"Enable order updates",children:s.orderUpdates?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Promotions & Deals"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive special offers and promotions"})]}),n.jsx("button",{onClick:()=>l("promotions"),className:"text-2xl","aria-label":s.promotions?"Disable promotions":"Enable promotions",children:s.promotions?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"New Arrivals"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about new products"})]}),n.jsx("button",{onClick:()=>l("newArrivals"),className:"text-2xl","aria-label":s.newArrivals?"Disable new arrivals notifications":"Enable new arrivals notifications",children:s.newArrivals?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Price Drops"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about price drops on your wishlist"})]}),n.jsx("button",{onClick:()=>l("priceDrops"),className:"text-2xl","aria-label":s.priceDrops?"Disable price drop notifications":"Enable price drop notifications",children:s.priceDrops?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Appearance"}),n.jsx("div",{className:"space-y-4 pl-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Theme Mode"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose between light, dark, or system theme"}),n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Current: ",r==="system"?"Auto (System)":r.charAt(0).toUpperCase()+r.slice(1)]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>t("light"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${r==="light"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:r==="light"?"var(--brand-primary)":"transparent",color:r==="light"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${r==="light"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Light"}),n.jsx("button",{onClick:()=>t("dark"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${r==="dark"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:r==="dark"?"var(--brand-primary)":"transparent",color:r==="dark"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${r==="dark"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Dark"}),n.jsx("button",{onClick:()=>t("system"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${r==="system"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:r==="system"?"var(--brand-primary)":"transparent",color:r==="system"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${r==="system"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Auto"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Security"}),n.jsx("div",{className:"space-y-4 pl-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Add an extra layer of security to your account"})]}),n.jsx("button",{onClick:()=>l("twoFactorAuth"),className:"text-2xl","aria-label":s.twoFactorAuth?"Disable two-factor authentication":"Enable two-factor authentication",children:s.twoFactorAuth?n.jsx(ji,{style:{color:"var(--brand-primary)"}}):n.jsx(Ai,{style:{color:"var(--text-secondary)"}})})]})})]}),n.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Settings"})})]})]})},TR=()=>{const{section:r="profile"}=ng(),[t,s]=ot.useState(r);ot.useEffect(()=>{s(r)},[r]);const i=()=>{switch(t){case"addresses":return n.jsx(Iie,{});case"payment":return n.jsx(Rie,{});case"settings":return n.jsx(Pie,{});case"profile":default:return n.jsx(Tie,{})}};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 md:mb-8",style:{color:"var(--text-primary)"},children:"My Account"}),n.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx(Mie,{})}),n.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:i()})]})]})},il=nn((r,t)=>({content:null,loading:!1,error:null,pages:[],fetchAvailablePages:async()=>{const s=t();if(s.pages.length>0)return s.pages;try{const i=await Ze.get("/admin/content/pages/");if(i.status===200)return r({pages:i.data.pages||[]}),i.data.pages}catch(i){return console.error("Error fetching available pages:",i),[]}},fetchPageContent:async s=>{var i,l;r({loading:!0,error:null,content:null});try{const u=await Ze.get(`/admin/content/pages/${s.replace(/^\//,"")}/`);if(u.status===200)return r({content:u.data.content,loading:!1}),u.data.content}catch(u){console.error("Error fetching page content:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch page content",loading:!1})}},checkPageExists:async s=>{try{return(await Ze.head(`/admin/content/pages/${s.replace(/^\//,"")}/`)).status===200}catch{return!1}},clearContent:()=>{r({content:null,loading:!1,error:null})}})),Oie=Object.freeze(Object.defineProperty({__proto__:null,usePageContentStore:il},Symbol.toStringTag,{value:"Module"})),Bie=()=>{const r=[{label:"Home",link:Dt.HOME},{label:"About",link:Dt.ABOUT}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=il();return O.useEffect(()=>(i("about"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((u,m)=>n.jsxs(ot.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:u.label}):n.jsx(rt,{to:u.link,className:"text-gray-500 hover:text-primary",children:u.label})]},m))})})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--brand-primary)"},children:"About Us"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"We are a premier electronics retailer specializing in the latest mobile phones, laptops, tablets, and accessories. Our mission is to provide high-quality products with exceptional customer service."})]})})})," ",n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[n.jsx("div",{children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Story"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Founded in 2010, we began as a small mobile phone shop with a vision to make technology accessible to everyone. Over the years, we've grown to become one of the most trusted electronics retailers in the region."}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Our journey has been defined by a commitment to quality, innovation, and customer satisfaction. We carefully select each product in our inventory to ensure it meets our high standards of performance and reliability."}),n.jsx("p",{className:"text-gray-700",children:"Today, we continue to expand our offerings while maintaining the personalized service that has been the cornerstone of our success."})]})}),n.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1556742031-c6961e8560b0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Our store",className:"w-full h-auto"})})]})})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl font-bold mb-12 text-center",children:"Why Choose Us"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:n.jsx(Goe,{className:"text-4xl text-indigo-500 mb-4"}),title:"Quality Assurance",description:"All our products are genuine and come with official warranties."},{icon:n.jsx(Yoe,{className:"text-4xl text-indigo-500 mb-4"}),title:"Expert Support",description:"Our knowledgeable team is always ready to help you make the right choice."},{icon:n.jsx(qoe,{className:"text-4xl text-indigo-500 mb-4"}),title:"Wide Selection",description:"From budget-friendly to premium, we have options for every need and preference."}].map((u,m)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[u.icon,n.jsx("h3",{className:"text-xl font-semibold mb-2",children:u.title}),n.jsx("p",{className:"text-gray-600",children:u.description})]},m))})]})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"bg-indigo-50 p-8 rounded-lg",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Our Vision"}),n.jsx("p",{className:"text-gray-700",children:"To be the leading electronics retailer known for exceptional customer experience, innovative product offerings, and making technology accessible to all segments of society."})]}),n.jsxs("div",{className:"bg-blue-50 p-8 rounded-lg",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Our Mission"}),n.jsx("p",{className:"text-gray-700",children:"To provide our customers with high-quality electronics products at competitive prices, exceptional customer service, and an enjoyable shopping experience both online and in-store."})]})]})})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-indigo-500 to-blue-600 text-white",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Experience the Difference?"}),n.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Visit our store today or browse our online collection to find the perfect device for your needs."}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx(rt,{to:Dt.PRODUCTS,className:"bg-white text-indigo-600 px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition duration-300",children:"Shop Now"}),n.jsx(rt,{to:Dt.CONTACT,className:"bg-transparent border-2 border-white px-6 py-3 rounded-md font-medium hover:bg-white hover:text-indigo-600 transition duration-300",children:"Contact Us"})]})]})})]})},Lie=()=>{const[r,t]=O.useState({name:"",email:"",phone:"",subject:"",message:""}),[s,i]=O.useState(!1),{content:l,loading:u,fetchPageContent:m,clearContent:f}=il();O.useEffect(()=>(m("contact"),()=>{f()}),[]);const b=[{label:"Home",link:Dt.HOME},{label:"Contact",link:Dt.CONTACT}],v=_=>{const{name:S,value:M}=_.target;t(R=>({...R,[S]:M}))},k=_=>{_.preventDefault(),i(!0),setTimeout(()=>{i(!1),Ot.success("Thank you for your message! We'll get back to you soon."),t({name:"",email:"",phone:"",subject:"",message:""})},1e3)},C=[{icon:n.jsx(ia,{className:"text-lg"}),title:"Phone Number",details:["+91 98765 43210","+91 12345 67890"]},{icon:n.jsx(nc,{className:"text-lg"}),title:"Email Address",details:["support@yourdomain.com","info@yourdomain.com"]},{icon:n.jsx(Cn,{className:"text-lg"}),title:"Office Address",details:["123 Main Street","New Delhi, India 110001"]},{icon:n.jsx(rn,{className:"text-lg"}),title:"Working Hours",details:["Mon - Sat: 10:00 AM - 8:00 PM","Sunday: Closed"]}];return n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:b.map((_,S)=>n.jsxs(ot.Fragment,{children:[S>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),S===b.length-1?n.jsx("span",{className:"font-medium",children:_.label}):n.jsx(rt,{to:_.link,className:"text-gray-500 hover:text-primary",children:_.label})]},S))})})})," ",n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-3xl mx-auto text-center",children:u?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):l?n.jsx("div",{className:"prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:l}}):n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--brand-primary)"},children:"Contact Us"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Have questions or need assistance? We're here to help! Our team is ready to provide you with the support you need."})]})})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map((_,S)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-300",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:_.icon}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:_.title}),_.details.map((M,R)=>n.jsx("p",{className:"text-gray-600",children:M},R))]},S))})})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),n.jsxs("form",{onSubmit:k,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Message"}),n.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:v,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsx("button",{type:"submit",className:"flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:s,children:s?"Sending...":n.jsxs(n.Fragment,{children:["Send Message ",n.jsx(Y9,{className:"ml-2"})]})})]})]}),n.jsx("div",{className:"h-full min-h-[400px]",children:n.jsx("div",{className:"relative h-full w-full rounded-lg overflow-hidden shadow-md",children:n.jsx("iframe",{title:"Location Map",className:"absolute top-0 left-0 w-full h-full border-0",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3501.4784043211377!2d77.22117627415673!3d28.63483068241763!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd3724ed1d4b%3A0xff78448cc3bba8e2!2sConnaught%20Place%2C%20New%20Delhi%2C%20Delhi%20110001!5e0!3m2!1sen!2sin!4v1693231423844!5m2!1sen!2sin",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})]})})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-6",children:[{question:"What are your store hours?",answer:"Our stores are open Monday through Saturday from 10:00 AM to 8:00 PM. We are closed on Sundays and major holidays."},{question:"Do you offer product repairs?",answer:"Yes, we offer repair services for most of the products we sell. Please bring your device to the nearest store or contact our customer service team for more information."},{question:"How can I track my order?",answer:"You can track your order by visiting the Track Order page on our website and entering your order number and email address."},{question:"What is your return policy?",answer:"We offer a 7-day return policy for most products. Items must be returned in their original packaging with all accessories. Please check our Returns & Refunds page for more details."}].map((_,S)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:_.question}),n.jsx("p",{className:"text-gray-600",children:_.answer})]},S))})]})})})]})},zie=()=>{const[r,t]=O.useState(""),[s,i]=O.useState(""),[l,u]=O.useState(!1),[m,f]=O.useState(null),b=[{label:"Home",link:Dt.HOME},{label:"Track Order",link:Dt.TRACK_ORDER}],v=async C=>{C.preventDefault(),u(!0);try{const _=await fetch("undefined/api/orders/track/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:r,email:s})});if(_.ok){const S=await _.json();f(S)}else{const S=await _.json();Ot.error(S.error||"Order not found. Please check your order ID and email address."),f(null)}}catch(_){console.error("Error tracking order:",_),Ot.error("Unable to track order. Please try again later."),f(null)}finally{u(!1)}},k=()=>{t(""),i(""),f(null)};return n.jsxs("div",{className:"bg-white min-h-screen",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:b.map((C,_)=>n.jsxs(ot.Fragment,{children:[_>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),_===b.length-1?n.jsx("span",{className:"font-medium",children:C.label}):n.jsx(rt,{to:C.link,className:"text-gray-500 hover:text-primary",children:C.label})]},_))})})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:n.jsx(wt,{className:"text-2xl"})})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Track Your Order"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Enter your order ID and email address to track your order's current status and delivery progress."})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Order Tracking"}),n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"orderId",className:"block mb-2 text-sm font-medium text-gray-700",children:"Order ID"}),n.jsx("input",{type:"text",id:"orderId",value:r,onChange:C=>t(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Enter your order ID",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",value:s,onChange:C=>i(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Enter your email address",required:!0})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{type:"submit",className:"flex-1 flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:l,children:l?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Tracking..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Mi,{className:"mr-2"})," Track Order"]})}),m&&n.jsx("button",{type:"button",onClick:k,className:"flex-1 flex items-center justify-center px-6 py-3 rounded-md border border-gray-300 bg-white text-gray-700 font-medium hover:bg-gray-50 transition duration-300",children:"Clear"})]})]})]}),m&&n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["Order #",m.orderId]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:m.status==="Delivered"?"rgba(16, 185, 129, 0.1)":"rgba(59, 130, 246, 0.1)",color:m.status==="Delivered"?"#10B981":"#3B82F6"},children:m.status})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Order Date"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ri,{className:"mr-2 text-gray-500"}),n.jsx("span",{className:"font-medium",children:m.date})]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Tracking Number"}),n.jsx("span",{className:"font-medium",children:m.trackingNumber})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Estimated Delivery"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(rn,{className:"mr-2 text-gray-500"}),n.jsx("span",{className:"font-medium",children:m.estimatedDelivery})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.items.map(C=>n.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200 last:border-0",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:C.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",C.quantity]})]}),n.jsx("div",{children:n.jsxs("span",{className:"font-medium",children:["",C.price.toLocaleString()]})})]},C.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tracking History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute top-0 left-6 w-0.5 h-full bg-gray-200"}),m.trackingHistory.map((C,_)=>n.jsxs("div",{className:"relative flex items-start mb-6 last:mb-0",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${_===0||_===m.trackingHistory.length-1&&C.status==="Delivered"?"bg-green-500":"bg-blue-500"}`,children:_===0?n.jsx(Bn,{className:"text-white text-lg"}):_===m.trackingHistory.length-1?C.status==="Delivered"?n.jsx(Bn,{className:"text-white text-lg"}):n.jsx(Lr,{className:"text-white text-lg"}):n.jsx(Lr,{className:"text-white text-lg"})}),n.jsxs("div",{className:"ml-6",children:[n.jsx("h4",{className:"font-medium",children:C.status}),n.jsx("p",{className:"text-sm text-gray-500",children:C.location}),n.jsxs("p",{className:"text-xs text-gray-500",children:[C.date," at ",C.time]})]})]},_))]})]})]})})]})})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Need Help with Your Order?"}),n.jsx("p",{className:"text-gray-700 mb-8",children:"If you're having trouble finding your order or have any other questions, please don't hesitate to contact our customer service team."}),n.jsx(rt,{to:Dt.CONTACT,className:"inline-flex items-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},children:"Contact Support"})]})})})]})},Fie=()=>{const[r,t]=O.useState({name:"",company:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",gstin:"",additionalInfo:""}),[s,i]=O.useState([{id:1,name:"",model:"",quantity:"",remarks:""}]),[l,u]=O.useState(!1),{content:m,loading:f,fetchPageContent:b,clearContent:v}=il();O.useEffect(()=>(b("bulk-order"),()=>{v()}),[]);const k=[{label:"Home",link:Dt.HOME},{label:"Bulk Order",link:Dt.BULK_ORDER}],C=I=>{const{name:z,value:V}=I.target;t({...r,[z]:V})},_=(I,z,V)=>{const U=[...s];U[I][z]=V,i(U)},S=()=>{i([...s,{id:s.length+1,name:"",model:"",quantity:"",remarks:""}])},M=I=>{if(s.length>1){const z=[...s];z.splice(I,1),i(z)}else Ot.error("At least one product is required")},R=I=>{if(I.preventDefault(),u(!0),!(r.name&&r.email&&r.phone&&s.every(V=>V.name&&V.quantity))){Ot.error("Please fill in all required fields"),u(!1);return}setTimeout(()=>{Ot.success("Your bulk order inquiry has been submitted. We'll contact you shortly!"),t({name:"",company:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",gstin:"",additionalInfo:""}),i([{id:1,name:"",model:"",quantity:"",remarks:""}]),u(!1)},1500)};return n.jsxs("div",{className:"bg-white min-h-screen",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:k.map((I,z)=>n.jsxs(ot.Fragment,{children:[z>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),z===k.length-1?n.jsx("span",{className:"font-medium",children:I.label}):n.jsx(rt,{to:I.link,className:"text-gray-500 hover:text-primary",children:I.label})]},z))})})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[" ",f?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):m?n.jsx("div",{className:"prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:m}}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:n.jsx(yd,{className:"text-2xl"})})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Bulk Orders"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Get special pricing and dedicated support for your business or large quantity orders. Fill out the form below and our team will get in touch with you."})]})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-8 text-center",children:"Benefits of Bulk Ordering"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Special Pricing",description:"Get competitive discounts on bulk purchases across all our product categories."},{title:"Dedicated Support",description:"Enjoy personalized assistance from our business team throughout the ordering process."},{title:"Customized Solutions",description:"Get solutions tailored to your business needs with flexible delivery options."}].map((I,z)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:I.title}),n.jsx("p",{className:"text-gray-600",children:I.description})]},z))})]})})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Bulk Order Inquiry Form"}),n.jsxs("form",{onSubmit:R,children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-medium mb-4 pb-2 border-b border-gray-200",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:["Contact Person Name",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"company",className:"block mb-2 text-sm font-medium text-gray-700",children:"Company/Organization"}),n.jsx("input",{type:"text",id:"company",name:"company",value:r.company,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-700",children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-medium mb-4 pb-2 border-b border-gray-200",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address",className:"block mb-2 text-sm font-medium text-gray-700",children:"Address"}),n.jsx("textarea",{id:"address",name:"address",value:r.address,onChange:C,rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",value:r.city,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),n.jsx("input",{type:"text",id:"state",name:"state",value:r.state,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pincode",className:"block mb-2 text-sm font-medium text-gray-700",children:"PIN Code"}),n.jsx("input",{type:"text",id:"pincode",name:"pincode",value:r.pincode,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"gstin",className:"block mb-2 text-sm font-medium text-gray-700",children:"GSTIN (for business customers)"}),n.jsx("input",{type:"text",id:"gstin",name:"gstin",value:r.gstin,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Product Information"}),n.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center px-3 py-1 text-sm bg-green-50 text-green-700 rounded-md hover:bg-green-100",children:[n.jsx(Dee,{className:"mr-1"})," Add Product"]})]}),n.jsx("div",{className:"space-y-6",children:s.map((I,z)=>n.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"font-medium",children:["Product #",z+1]}),s.length>1&&n.jsxs("button",{type:"button",onClick:()=>M(z),className:"inline-flex items-center text-sm text-red-600 hover:text-red-800",children:[n.jsx(un,{className:"mr-1"})," Remove"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Product Name",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:I.name,onChange:V=>_(z,"name",V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Model/Variant"}),n.jsx("input",{type:"text",value:I.model,onChange:V=>_(z,"model",V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:I.quantity,onChange:V=>_(z,"quantity",V.target.value),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Special Requirements"}),n.jsx("input",{type:"text",value:I.remarks,onChange:V=>_(z,"remarks",V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]})]},I.id))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{htmlFor:"additionalInfo",className:"block mb-2 text-sm font-medium text-gray-700",children:"Additional Information or Requirements"}),n.jsx("textarea",{id:"additionalInfo",name:"additionalInfo",value:r.additionalInfo,onChange:C,rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Please provide any other details that might help us understand your requirements better."})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",className:"flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:l,children:l?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Y9,{className:"mr-2"})," Submit Inquiry"]})})})]})]})})})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-8 text-center",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-6",children:[{question:"What is the minimum quantity for bulk orders?",answer:"We typically consider orders of 10+ units as bulk orders, but this can vary based on the product category and specific items."},{question:"How long does it take to process bulk orders?",answer:"Processing time depends on the quantity and product availability. Our team will provide you with an estimated timeline after reviewing your inquiry."},{question:"Do you provide installation services for bulk orders?",answer:"Yes, we offer installation and setup services for most products when ordered in bulk. Additional charges may apply based on the scope of work."},{question:"Can I get customized products for my business?",answer:"In some cases, we can arrange for customization like company branding or pre-loaded software. Please mention your specific requirements in the inquiry form."}].map((I,z)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:I.question}),n.jsx("p",{className:"text-gray-600",children:I.answer})]},z))})]})})})]})},Vie=()=>{const[r,t]=O.useState("all"),[s,i]=O.useState([]),[l,u]=O.useState(["all"]),[m,f]=O.useState(!0),b=[{label:"Home",link:Dt.HOME},{label:"Our Stores",link:Dt.OUR_STORES}];O.useEffect(()=>{(async()=>{var C;try{const _=await fetch("undefined/api/stores/");if(_.ok){const S=await _.json();i(S.stores||[]);const M=["all",...new Set(((C=S.stores)==null?void 0:C.map(R=>R.city.toLowerCase()))||[])];u(M)}else console.error("Failed to fetch stores"),Ot.error("Failed to load store information")}catch(_){console.error("Error fetching stores:",_),Ot.error("Unable to load stores. Please try again later.")}finally{f(!1)}})()},[]);const v=r==="all"?s:s.filter(k=>k.city.toLowerCase()===r);return n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:b.map((k,C)=>n.jsxs(ot.Fragment,{children:[C>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),C===b.length-1?n.jsx("span",{className:"font-medium",children:k.label}):n.jsx(rt,{to:k.link,className:"text-gray-500 hover:text-primary",children:k.label})]},C))})})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Visit Our Stores"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Find the nearest store location and experience our products in person. Our expert staff are ready to assist you with all your technology needs."})]})})}),n.jsx("section",{className:"py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:l.map((k,C)=>n.jsx("button",{onClick:()=>t(k),className:`px-4 py-2 rounded-md transition-all ${r===k?"text-white font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:r===k?"var(--brand-primary)":void 0},children:k==="all"?"All Locations":k.charAt(0).toUpperCase()+k.slice(1)},C))})})}),n.jsx("section",{className:"py-8",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(k=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"h-48 relative overflow-hidden",children:[n.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),n.jsx("div",{className:"absolute top-0 right-0 bg-white px-3 py-1 m-3 rounded-full text-sm font-medium capitalize",children:k.city})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:k.name}),n.jsxs("div",{className:"space-y-3 mb-5",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Cn,{className:"text-gray-500 mt-1 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.address})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"text-gray-500 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.contact})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(nc,{className:"text-gray-500 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.email})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(rn,{className:"text-gray-500 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.hours})]})]}),n.jsxs("a",{href:k.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm font-medium transition-colors duration-300",style:{color:"var(--brand-primary)"},children:["View on Google Maps ",n.jsx(B9,{className:"ml-1"})]})]})]},k.id))}),v.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h3",{className:"text-xl font-medium mb-2",children:"No stores found in this location"}),n.jsx("p",{className:"text-gray-600",children:"Please select another location or view all stores."}),n.jsx("button",{onClick:()=>t("all"),className:"mt-4 px-4 py-2 rounded-md text-white transition-all",style:{backgroundColor:"var(--brand-primary)"},children:"View All Stores"})]})]})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Why Visit Our Stores?"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Expert Consultation",description:"Our trained staff can help you choose the perfect device based on your needs and budget."},{title:"Hands-on Experience",description:"Try before you buy! Get hands-on experience with our wide range of products."},{title:"Immediate Support",description:"Get immediate technical support and service for your existing devices."}].map((k,C)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:k.title}),n.jsx("p",{className:"text-gray-600",children:k.description})]},C))})]})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Services Available at Our Stores"}),n.jsx("p",{className:"text-gray-700",children:"Visit any of our stores to access these premium services and get the most out of your devices."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["Product Demonstrations","Technical Support","Device Setup & Configuration","Screen Protector Installation","Software Updates","Device Diagnostics","Warranty Services","Trade-in Programs"].map((k,C)=>n.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 text-center hover:shadow-md transition-shadow",children:n.jsx("p",{className:"font-medium",children:k})},C))})]})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Can't Find a Store Near You?"}),n.jsx("p",{className:"text-lg mb-6",children:"Contact us to learn about our upcoming store locations or shop online with free delivery!"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.jsx(rt,{to:Dt.CONTACT,className:"px-6 py-3 bg-white text-blue-600 font-medium rounded-md hover:bg-gray-100 transition-colors",children:"Contact Us"}),n.jsx(rt,{to:Dt.PRODUCTS,className:"px-6 py-3 bg-transparent border-2 border-white font-medium rounded-md hover:bg-white hover:text-blue-600 transition-colors",children:"Shop Online"})]})]})})]})},IR=()=>{const{pagePath:r}=ng(),t=ns(),[s,i]=O.useState(!0),{content:l,loading:u,error:m,fetchPageContent:f,clearContent:b,checkPageExists:v}=il(),k=[{label:"Home",link:Dt.HOME},{label:r?r.replace(/-/g," "):"",link:`/${r}`}];O.useEffect(()=>((async()=>{if(r)try{if(!await v(r)){i(!1);return}f(r)}catch(M){console.error("Error loading page:",M),i(!1)}})(),()=>{b()}),[r]),O.useEffect(()=>{(m||!s)&&t(Dt.HOME)},[m,s,t]);const _=(S=>S?S.split("-").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" "):"")(r);return n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:k.map((S,M)=>n.jsxs(ot.Fragment,{children:[M>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),M===k.length-1?n.jsx("span",{className:"font-medium",children:S.label}):n.jsx(rt,{to:S.link,className:"text-gray-500 hover:text-primary",children:S.label})]},M))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto text-center",children:n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:_})})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:u?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):l?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:l}}):n.jsx("div",{className:"text-center py-16",children:n.jsx("p",{className:"text-gray-500",children:"Content not available"})})})})})})]})},Uie=()=>{const r=[{label:"Home",link:Dt.HOME},{label:"Terms & Conditions",link:Dt.TERMS_CONDITIONS}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=il();return O.useEffect(()=>(i("terms-conditions"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((u,m)=>n.jsxs(ot.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:u.label}):n.jsx(rt,{to:u.link,className:"text-gray-500 hover:text-primary",children:u.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Terms & Conditions"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{className:"mb-6",children:'These Terms & Conditions ("Terms") govern your use of our website and services. By accessing our website or purchasing products from us, you agree to be bound by these Terms. Please read them carefully.'}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"1. Use of the Website"}),n.jsx("p",{className:"mb-4",children:"1.1 You may use our website for lawful purposes only and in accordance with these Terms."})]})})})})})]})},Gie=()=>{const r=[{label:"Home",link:Dt.HOME},{label:"Cancellation & Refund Policy",link:Dt.CANCELLATION_REFUND_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=il();return O.useEffect(()=>(i("cancellation-refund-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((u,m)=>n.jsxs(ot.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:u.label}):n.jsx(rt,{to:u.link,className:"text-gray-500 hover:text-primary",children:u.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Cancellation & Refund Policy"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{className:"mb-6",children:"This Cancellation & Refund Policy outlines our procedures for order cancellations, returns, and refunds. Please review this policy carefully before making a purchase."})})})})})})]})},Hie=()=>{const r=[{label:"Home",link:Dt.HOME},{label:"Privacy Policy",link:Dt.PRIVACY_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=il();return O.useEffect(()=>(i("privacy-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((u,m)=>n.jsxs(ot.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:u.label}):n.jsx(rt,{to:u.link,className:"text-gray-500 hover:text-primary",children:u.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Privacy Policy"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{className:"mb-6",children:"This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from our website."})})})})})})]})},qie=()=>{const r=[{label:"Home",link:Dt.HOME},{label:"Shipping & Delivery Policy",link:Dt.SHIPPING_DELIVERY_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=il();return O.useEffect(()=>(i("shipping-delivery-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[" "," ",n.jsxs("div",{className:"bg-gray-100 py-4",children:[" ",n.jsxs("div",{className:"container mx-auto px-4",children:[" ",n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[" ",r.map((u,m)=>n.jsxs(ot.Fragment,{children:[" ",m>0&&n.jsx("span",{className:"text-gray-500",children:"/"})," ",m===r.length-1?n.jsx("span",{className:"font-medium",children:u.label}):n.jsxs(rt,{to:u.link,className:"text-gray-500 hover:text-primary",children:[" ",u.label," "]})," "]},m))," "]})," "]})," "]})," "," ",n.jsxs("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:[" ",n.jsxs("div",{className:"container mx-auto px-4",children:[" ",n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[" ",n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:[" ","Shipping & Delivery Policy"," "]})," ",n.jsxs("p",{className:"text-lg text-gray-700",children:[" ","Last Updated: January 1, 2023"," "]})," "]})," "]})," "]})," "," ",n.jsxs("section",{className:"py-12",children:[" ",n.jsxs("div",{className:"container mx-auto px-4",children:[" ",n.jsxs("div",{className:"max-w-4xl mx-auto",children:[" ",n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:[" ",s?n.jsxs("div",{className:"flex justify-center items-center py-16",children:[" ",n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})," "]}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs("div",{className:"prose max-w-none",children:[" ",n.jsxs("p",{className:"mb-6",children:[" ","This Shipping & Delivery Policy outlines the terms and conditions for the delivery of products purchased from our website or physical stores. By placing an order with us, you agree to the terms of this policy."," "]})," ",n.jsxs("h2",{className:"text-xl font-bold mt-8 mb-4",children:[" ","1. Shipping Methods and Timeframes"," "]})," ",n.jsxs("h3",{className:"text-lg font-medium mt-6 mb-3",children:[" ","1.1 Standard Shipping"," "]})," ",n.jsxs("p",{className:"mb-4",children:[" ","Standard shipping typically takes 3-5 business days for delivery after your order has been processed and shipped. Processing time is usually 1-2 business days from the time your order is placed."," "]})," "," "]})," "]})," "]})," "]})," "]})," "]})},Yie=()=>{const r=[{label:"Home",link:Dt.HOME},{label:"Warranty Policy",link:Dt.WARRANTY_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=il();return O.useEffect(()=>(i("warranty-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((u,m)=>n.jsxs(ot.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:u.label}):n.jsx(rt,{to:u.link,className:"text-gray-500 hover:text-primary",children:u.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Warranty Policy"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{className:"mb-6",children:"This Warranty Policy outlines the terms and conditions of the warranty coverage for products purchased from our stores or website. By purchasing a product from us, you agree to the terms of this policy."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"1. Standard Manufacturer's Warranty"}),n.jsx("p",{className:"mb-4",children:"All products sold come with the standard manufacturer's warranty. The warranty period varies by product and manufacturer and is specified on the product page."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"2. Extended Warranty Options"}),n.jsx("p",{className:"mb-4",children:"We offer extended warranty options on select products for an additional fee. These extended warranties provide coverage beyond the standard manufacturer's warranty period and may offer additional benefits."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"3. Warranty Coverage"}),n.jsx("p",{className:"mb-4",children:"Our warranty covers defects in materials and workmanship under normal use during the warranty period. This warranty does not cover damage caused by accidents, misuse, abuse, neglect, improper installation, unauthorized modifications, or natural disasters."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"4. Warranty Claims Process"}),n.jsx("p",{className:"mb-4",children:"To make a warranty claim, customers must present the original invoice or receipt as proof of purchase. All warranty claims will be processed according to the manufacturer's warranty policies."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"5. Repair, Replacement, or Refund"}),n.jsx("p",{className:"mb-4",children:"For valid warranty claims, we will repair or replace defective products at our discretion. If a product cannot be repaired or replaced, we will provide a refund or store credit for the purchase price."}),n.jsxs("p",{className:"mt-8 text-sm italic",children:[n.jsx("strong",{children:"Note:"})," This warranty policy is in addition to, and does not affect, your statutory rights as a consumer under the Consumer Protection Act, 2019, and other applicable laws in India."]})]})})})})})]})},P1="admin_token",O1="admin_user",P6=r=>{try{const t=localStorage.getItem(r);return t?JSON.parse(t):null}catch(t){return console.error(`Error parsing stored admin data for key ${r}:`,t),null}},Wie=(r,t)=>{try{return localStorage.setItem(r,JSON.stringify(t)),!0}catch(s){return console.error(`Error storing admin data for key ${r}:`,s),!1}},Kie=(r,t)=>{try{return r&&localStorage.setItem(P1,r),t&&Wie(O1,t),!0}catch(s){return console.error("Error persisting admin auth data:",s),!1}},RR=()=>{try{localStorage.removeItem(P1),localStorage.removeItem(O1)}catch(r){console.error("Error clearing admin auth data:",r)}},Qie=()=>{const r=localStorage.getItem(P1),t=P6(O1);return{admin:t,isAuthenticated:!!(r&&t),isLoading:!1,error:null}},VN=nn(r=>({...Qie(),formData:{username:"",password:"",secretKey:""},formErrors:{username:null,password:null,secretKey:null},setFormData:s=>r(i=>({formData:{...i.formData,...s}})),setFormErrors:s=>r(()=>({formErrors:s})),setIsAuthenticated:s=>r(()=>({isAuthenticated:s})),setIsLoading:s=>r(()=>({isLoading:s})),setError:s=>r(()=>({error:s})),adminLogin:async s=>{var i,l,u,m,f,b;try{r({isLoading:!0,error:null});const k=(await Ze.post("/admin/login",{username:s.username,password:s.password})).data,C={id:k.admin_id,username:s.username};return Kie(k.token,C),r({admin:C,isAuthenticated:!0,isLoading:!1}),k}catch(v){console.error("Admin login error:",v);let k="Login failed. Please check your credentials.";throw v.code==="NETWORK_ERROR"||v.message==="Network Error"?k="Network error: Unable to connect to the server. Please check your internet connection and try again.":((i=v.response)==null?void 0:i.status)===502?k="Server error (502): The admin server is currently unavailable. Please contact your system administrator.":((l=v.response)==null?void 0:l.status)===500?k="Internal server error: Please try again later or contact support.":((u=v.response)==null?void 0:u.status)===404?k="Admin endpoint not found: The admin service may not be configured properly.":((m=v.response)==null?void 0:m.status)===401?k="Invalid credentials: Please check your username and password.":(b=(f=v.response)==null?void 0:f.data)!=null&&b.error&&(k=v.response.data.error),r({error:k,isLoading:!1}),v}},adminRegister:async s=>{var i,l,u,m,f,b,v;try{r({isLoading:!0,error:null});const k=await Ze.post("/admin/signup",{username:s.username,password:s.password,secret:s.secretKey});return r({isLoading:!1}),k.data}catch(k){console.error("Admin registration error:",k);let C="Registration failed. Please try again.";throw k.code==="NETWORK_ERROR"||k.message==="Network Error"?C="Network error: Unable to connect to the server. Please check your internet connection and try again.":((i=k.response)==null?void 0:i.status)===502?C="Server error (502): The admin server is currently unavailable. Please contact your system administrator.":((l=k.response)==null?void 0:l.status)===500?C="Internal server error: Please try again later or contact support.":((u=k.response)==null?void 0:u.status)===404?C="Admin endpoint not found: The admin service may not be configured properly.":((m=k.response)==null?void 0:m.status)===401?C="Invalid secret key: Please check your secret key and try again.":((f=k.response)==null?void 0:f.status)===409?C="Admin already exists: An admin with this username already exists.":(v=(b=k.response)==null?void 0:b.data)!=null&&v.error&&(C=k.response.data.error),r({error:C,isLoading:!1}),k}},adminLogout:()=>{RR(),r({admin:null,isAuthenticated:!1,error:null})},checkAdminAuthStatus:()=>{try{if(localStorage.getItem(P1)){const i=P6(O1);if(i)return r({admin:i,isAuthenticated:!0}),!0}return r({admin:null,isAuthenticated:!1}),!1}catch(s){return console.error("Admin auth check error:",s),RR(),r({admin:null,isAuthenticated:!1,error:"Authentication error"}),!1}},clearError:()=>r({error:null}),devModeLogin:s=>(s.username==="admin"&&s.password,!1),testServerConnection:async()=>{var s,i,l,u,m;try{r({isLoading:!0,error:null});const f=await Ze.get("/admin/health");return r({isLoading:!1,error:null}),{success:!0,message:" Production server is accessible and working",status:f.status,troubleshooting:[" Backend server is online"," You can use production login if you have credentials"," Development mode is still available as backup"]}}catch(f){console.error("Server connectivity test failed:",f);let b="",v=[];return f.message==="Network Error"&&((i=(s=f.config)==null?void 0:s.url)!=null&&i.includes("69.62.72.199"))?(b=" BACKEND TEST RESULT: Server has CORS/connectivity issues",v=[" THE TEST IS WORKING CORRECTLY!"," This confirms the backend server blocks localhost requests"," CORS Error: Production server needs proper CORS headers"," 502 Error: Backend service may be down/misconfigured",""," SOLUTION: Use Development Mode instead:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 Full admin access without backend dependency"]):((l=f.response)==null?void 0:l.status)===502?(b=" BACKEND TEST RESULT: 502 Bad Gateway detected",v=[" THE TEST IS WORKING CORRECTLY!"," Successfully detected backend server is down"," 502 Error means the backend service is unavailable",""," SOLUTION: Use Development Mode instead:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 All admin features work without backend"]):((u=f.response)==null?void 0:u.status)===404?(b=" BACKEND TEST RESULT: Health endpoint not found",v=[" Health endpoint (/admin/health) not implemented"," This doesn't mean the login won't work"," You can try production login if you have credentials"," Or use Development Mode for guaranteed access"]):(b=" BACKEND TEST RESULT: Connection issues detected",v=[" THE TEST IS WORKING - it found backend problems"," This confirms the production server has issues",""," RECOMMENDED SOLUTION:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 Full admin functionality available"]),r({error:b,isLoading:!1}),{success:!1,message:b,status:((m=f.response)==null?void 0:m.status)||0,troubleshooting:v}}}})),O6=()=>{try{const r=localStorage.getItem("customColors");if(r){const t=JSON.parse(r);return td(t),t}}catch(r){console.error("Error loading custom colors:",r)}return null},td=r=>{try{const t=document.documentElement;r.primary&&t.style.setProperty("--brand-primary",r.primary),r.secondary&&t.style.setProperty("--brand-secondary",r.secondary),r.success&&t.style.setProperty("--success-color",r.success),r.error&&t.style.setProperty("--error-color",r.error),r.warning&&t.style.setProperty("--warning-color",r.warning),r.info&&t.style.setProperty("--accent-color",r.info),console.log("Colors applied to document:",r)}catch(t){console.error("Error applying colors to document:",t)}},p2=()=>({primary:"#3b82f6",secondary:"#10b981",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#f59e0b"}),Jie=r=>{try{return localStorage.setItem("customColors",JSON.stringify(r)),td(r),!0}catch(t){return console.error("Error saving custom colors:",t),!1}},$ie=()=>{const{theme:r,setTheme:t,isDarkMode:s}=xx(),[i,l]=O.useState(!1),u=O.useRef(null),m=[{value:"light",icon:tI,label:"Light"},{value:"dark",icon:Lee,label:"Dark"},{value:"system",icon:Bee,label:"System"}],f=()=>{const k=m.find(C=>C.value===r);return k?k.icon:tI};O.useEffect(()=>{const k=C=>{u.current&&!u.current.contains(C.target)&&l(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const b=k=>{t(k),l(!1)},v=f();return n.jsxs("div",{className:"relative",ref:u,children:[n.jsxs(On.button,{onClick:()=>l(!i),className:"flex items-center justify-center gap-1 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20",style:{color:"var(--text-on-brand)",backgroundColor:i?"rgba(255, 255, 255, 0.1)":"transparent"},whileHover:{scale:1.02},whileTap:{scale:.98},title:"Change theme",children:[n.jsx(On.div,{initial:{scale:.8,opacity:0,rotate:r==="light"?180:0},animate:{scale:1,opacity:1,rotate:0},transition:{duration:.3,ease:"easeOut"},children:n.jsx(v,{className:"w-5 h-5"})},r),n.jsx(_i,{className:`w-3 h-3 transition-transform duration-200 ${i?"rotate-180":""}`})]}),n.jsx(DN,{children:i&&n.jsx(On.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute top-full right-0 mt-2 py-2 rounded-lg shadow-lg border min-w-[120px] z-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-large)"},children:m.map(({value:k,icon:C,label:_})=>n.jsxs(On.button,{onClick:()=>b(k),className:`w-full flex items-center gap-3 px-4 py-2 text-left transition-all duration-150 hover:bg-gray-50 dark:hover:bg-gray-700 ${r===k?"font-medium":""}`,style:{color:r===k?"var(--brand-primary)":"var(--text-primary)",backgroundColor:r===k?"var(--bg-secondary)":"transparent"},whileHover:{x:2},children:[n.jsx(C,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:_}),r===k&&n.jsx(On.div,{layoutId:"selected-indicator",className:"w-2 h-2 rounded-full ml-auto",style:{backgroundColor:"var(--brand-primary)"}})]},k))})})]})},Xie=()=>{const r=ns(),[t,s]=O.useState(""),[i,l]=O.useState([]),[u,m]=O.useState(!1),f=O.useRef(null),b=O.useRef(null),v=O.useRef(!1),{isAuthenticated:k}=Sr(),{itemCount:C,totalAmount:_,fetchCart:S}=kd(),{items:M,fetchWishlist:R}=I1(),I=O.useRef(!1),{searchProducts:z,fetchProducts:V}=ol(),{getDropdownBanners:U}=Qx(),[q,$]=O.useState({city:"Bhopal",loading:!1,error:null}),[ne,Q]=O.useState(!1),[B,Y]=O.useState(!1),[J,W]=O.useState(null),ee=[{id:1,name:"Mobiles & Accessories",path:"/products/smartphones",banners:[{image:"/mobile1.png",title:"Latest iPhones",subtitle:"Up to 25% OFF",buttonText:"Shop Now",link:"/products/smartphones?brand=Apple"},{image:"/accessories.png",title:"Mobile Accessories",subtitle:"Starting 99",buttonText:"Explore",link:"/products/accessories"}],subcategories:[{title:"Smartphones",items:[{name:"Apple iPhone",path:"/products/smartphones?brand=Apple",hot:!0},{name:"Samsung Galaxy",path:"/products/smartphones?brand=Samsung",popular:!0},{name:"Xiaomi Redmi",path:"/products/smartphones?brand=MI"},{name:"OnePlus",path:"/products/smartphones?brand=Oneplus"},{name:"Oppo",path:"/products/smartphones?brand=Oppo"},{name:"Vivo",path:"/products/smartphones?brand=Vivo"},{name:"Nothing Phone",path:"/products/smartphones?brand=Nothing",new:!0},{name:"Motorola",path:"/products/smartphones?brand=Motorola"}]},{title:"Mobile Accessories",items:[{name:"Cases & Covers",path:"/products/accessories?type=cases",popular:!0},{name:"Screen Protectors",path:"/products/accessories?type=screen-guards"},{name:"Chargers & Cables",path:"/products/accessories?type=chargers"},{name:"Power Banks",path:"/products/accessories?type=powerbanks"},{name:"Mobile Holders",path:"/products/accessories?type=holders"},{name:"Headphones",path:"/products/accessories?type=headphones"},{name:"Memory Cards",path:"/products/accessories?type=memory"},{name:"Bluetooth Speakers",path:"/products/accessories?type=speakers"}]},{title:"By Price Range",items:[{name:"Under 15,000",path:"/products/smartphones?price_max=15000"},{name:"15,000 - 25,000",path:"/products/smartphones?price_min=15000&price_max=25000"},{name:"25,000 - 50,000",path:"/products/smartphones?price_min=25000&price_max=50000"},{name:"Above 50,000",path:"/products/smartphones?price_min=50000",premium:!0}]},{title:"Popular Brands",items:[{name:"Apple Store",path:"/products/smartphones?brand=Apple",premium:!0},{name:"Samsung",path:"/products/smartphones?brand=Samsung"},{name:"Xiaomi",path:"/products/smartphones?brand=MI"},{name:"OnePlus",path:"/products/smartphones?brand=Oneplus"},{name:"Realme",path:"/products/smartphones?brand=Realme"},{name:"iQOO",path:"/products/smartphones?brand=iQOO",hot:!0}]}]},{id:2,name:"Computers & Tablets",path:"/products/laptops",banners:[{image:"/laptops.png",title:"Gaming Laptops",subtitle:"Up to 30% OFF",buttonText:"Shop Now",link:"/products/laptops?type=gaming"},{image:"/tablets1.png",title:"Premium Tablets",subtitle:"Starting 15,999",buttonText:"Explore",link:"/products/tablets"}],subcategories:[{title:"Laptops",items:[{name:"MacBooks",path:"/products/laptops?brand=Apple",premium:!0},{name:"Gaming Laptops",path:"/products/laptops?type=gaming",hot:!0},{name:"Business Laptops",path:"/products/laptops?type=business"},{name:"Student Laptops",path:"/products/laptops?type=student"},{name:"2-in-1 Laptops",path:"/products/laptops?type=convertible"},{name:"Ultrabooks",path:"/products/laptops?type=ultrabook"},{name:"Workstations",path:"/products/laptops?type=workstation"}]},{title:"Tablets & iPads",items:[{name:"Apple iPad",path:"/products/tablets?brand=Apple",premium:!0},{name:"Samsung Galaxy Tab",path:"/products/tablets?brand=Samsung",popular:!0},{name:"Xiaomi Pad",path:"/products/tablets?brand=MI"},{name:"OnePlus Pad",path:"/products/tablets?brand=Oneplus",new:!0},{name:"Realme Pad",path:"/products/tablets?brand=Realme"},{name:"Lenovo Tab",path:"/products/tablets?brand=Lenovo"}]},{title:"Computer Accessories",items:[{name:"Wireless Mouse",path:"/products/accessories?type=mouse"},{name:"Mechanical Keyboards",path:"/products/accessories?type=keyboards",popular:!0},{name:"Laptop Bags",path:"/products/accessories?type=bags"},{name:"Laptop Stands",path:"/products/accessories?type=stands"},{name:"Webcams",path:"/products/accessories?type=webcams"},{name:"USB Hubs",path:"/products/accessories?type=hubs"}]},{title:"By Brand",items:[{name:"Apple",path:"/products/laptops?brand=Apple",premium:!0},{name:"HP",path:"/products/laptops?brand=HP"},{name:"Dell",path:"/products/laptops?brand=Dell"},{name:"Lenovo",path:"/products/laptops?brand=Lenovo"},{name:"Asus",path:"/products/laptops?brand=Asus"},{name:"Acer",path:"/products/laptops?brand=Acer"}]}]},{id:3,name:"TV & Audio",path:"/products/televisions",banners:[{image:"/tv1.png",title:"Smart TVs",subtitle:"Up to 40% OFF",link:"/products/televisions"},{image:"/accessories.png",title:"Audio Devices",subtitle:"Premium Sound",link:"/products/audio"}],subcategories:[{title:"Smart TVs",items:[{name:"Xiaomi Smart TV",path:"/products/televisions?brand=Xiaomi",brands:["Xiaomi"]},{name:"Mi TV",path:"/products/televisions?brand=Mi",brands:["Mi"]},{name:"Cellecor TV",path:"/products/televisions?brand=Cellecor",brands:["Cellecor"]},{name:"4K TVs",path:"/products/televisions?resolution=4K"},{name:"Full HD TVs",path:"/products/televisions?resolution=Full HD"},{name:"Android TVs",path:"/products/televisions?os=Android"}]},{title:"Audio Devices",items:[{name:"Bluetooth Speakers",path:"/products/speakers?type=bluetooth"},{name:"Wireless Speakers",path:"/products/speakers?type=wireless"},{name:"Portable Speakers",path:"/products/speakers?type=portable"},{name:"Home Audio",path:"/products/speakers?type=home-audio"}]},{title:"Audio Brands",items:[{name:"JBL",path:"/products/speakers?brand=JBL",brands:["JBL"]},{name:"boAt",path:"/products/speakers?brand=Boat",brands:["Boat"]},{name:"Zebronics",path:"/products/speakers?brand=Zebronics",brands:["Zebronics"]},{name:"Digitek",path:"/products/speakers?brand=Digiteck",brands:["Digiteck"]},{name:"Edifier",path:"/products/speakers?brand=Edifier",brands:["Edifier"]},{name:"Ultra Prolink",path:"/products/speakers?brand=Ultra Prolink",brands:["Ultra Prolink"]}]}]},{id:4,name:"Smart Technology",path:"/products/smartwatches",banners:[{image:"/accessories.png",title:"Smart Watches",subtitle:"Latest Collection",link:"/products/smartwatches"},{image:"/mobile1.png",title:"Wireless Earbuds",subtitle:"Premium Audio",link:"/products/earbuds"}],subcategories:[{title:"Wearables",items:[{name:"Smartwatches",path:"/products/smartwatches"},{name:"Fitness Bands",path:"/products/fitness-bands"},{name:"Wireless Earbuds",path:"/products/earbuds"},{name:"Smart Rings",path:"/products/smart-rings"}]},{title:"Smart Home",items:[{name:"Smart Speakers",path:"/products/smart-speakers"},{name:"Smart Lights",path:"/products/smart-lights"},{name:"Smart Plugs",path:"/products/smart-plugs"},{name:"Security Cameras",path:"/products/security-cameras"}]}]}],te=G=>{W(J===G?null:G)},be=(G,ue)=>{G.key==="Enter"||G.key===" "?(G.preventDefault(),te(ue)):G.key==="Escape"&&W(null)},xe=G=>{},ie=()=>{};O.useEffect(()=>{I.current||(I.current=!0,V())},[]),O.useEffect(()=>{const G=me=>{const ye=f.current&&!f.current.contains(me.target),ve=b.current&&!b.current.contains(me.target);ye&&ve&&m(!1),!me.target.closest(".dropdown-container")&&!me.target.closest('[aria-haspopup="true"]')&&W(null)},ue=me=>{me.key==="Escape"&&(W(null),m(!1))};return document.addEventListener("mousedown",G),document.addEventListener("keydown",ue),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("keydown",ue)}},[]),O.useEffect(()=>{if(t.trim()===""){l([]),m(!1);return}const G=z(t);l(G.slice(0,5)),m(!0)},[t]),O.useEffect(()=>{k&&!v.current?(v.current=!0,S(),R()):k||(v.current=!1)},[k]),O.useEffect(()=>{(()=>{navigator.geolocation?($(ue=>({...ue,loading:!0})),navigator.geolocation.getCurrentPosition(async ue=>{try{const{latitude:me,longitude:ye}=ue.coords,Me=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${me}&lon=${ye}&format=json`)).json(),Ae=Me.address.city||Me.address.town||Me.address.village||Me.address.county||"Unknown";$({city:Ae,loading:!1,error:null})}catch(me){$({city:"Bhopal",loading:!1,error:me||"Failed to fetch location"})}},ue=>{$({city:"Jabalpur",loading:!1,error:ue||"Location access denied"})})):$({city:"Jabalpur",loading:!1,error:"Geolocation not supported"})})()},[]);const ae=G=>{if(G.preventDefault(),t.trim()){const ue=z(t);console.log("Search results:",ue),r(`/search?query=${encodeURIComponent(t.trim())}`),m(!1)}},le=G=>{if(G.key==="Enter"&&t.trim()){const ue=z(t);console.log("Mobile search results:",ue),r(`/search?query=${encodeURIComponent(t.trim())}`),m(!1)}},oe=G=>{r(`/products/${G}`),m(!1),s("")};return n.jsxs("header",{className:"sticky top-0 z-50",children:[n.jsx("div",{className:"shadow-xl relative",style:{backgroundColor:"var(--brand-primary)",backgroundImage:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"},children:n.jsx("div",{className:"container mx-auto px-2 sm:px-3",children:n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>Q(!ne),"aria-label":ne?"Close menu":"Open menu",children:ne?n.jsx(Yt,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}}):n.jsx(Pee,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}})}),n.jsx(rt,{to:Dt.HOME,className:"flex items-center transform hover:scale-105 transition duration-300 ease-in-out",children:n.jsx(ck,{linkWrapper:!1,titleColor:"white"})}),n.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-6",children:n.jsxs("div",{className:`relative group ${B?"ring-4 ring-white/20 rounded-full":""}`,children:[n.jsxs("form",{onSubmit:ae,className:"w-full",children:[n.jsx("input",{type:"text",placeholder:"Search for Products, Brands, Offers",className:"w-full py-3 px-5 pr-12 rounded-full focus:outline-none transition-all duration-300",style:{backgroundColor:B?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:B?"0 0 20px rgba(255, 255, 255, 0.3)":"var(--shadow-small)",caretColor:"#333"},value:t,onChange:G=>{s(G.target.value),G.target.value.trim()===""&&m(!1)},onFocus:()=>{t.trim()!==""&&i.length>0&&m(!0)},onBlur:()=>Y(!1)}),n.jsx("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center transition-transform duration-300 hover:scale-110 active:scale-95",style:{color:"#333"},"aria-label":"Search",children:n.jsx(Mi,{className:"text-xl filter drop-shadow-lg"})})]}),u&&i.length>0&&n.jsx("div",{ref:f,className:"absolute left-0 right-0 z-10 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:n.jsxs("ul",{className:"py-1",children:[i.map(G=>n.jsx("li",{children:n.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>oe(G.id),children:[n.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3 bg-gray-200 rounded overflow-hidden",children:n.jsx("img",{src:G.images&&G.images.length>0?G.images[0]:"https://via.placeholder.com/40",alt:G.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[G.brand,"  ",G.category]})]}),n.jsxs("div",{className:"ml-3 text-sm font-medium text-gray-900",children:["",G.discount_price||G.price]})]})},G.id)),n.jsx("li",{children:n.jsx("div",{className:"px-4 py-2 text-center text-sm text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{ae({preventDefault:()=>{}}),m(!1)},children:"View all results"})})]})})]})}),n.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[n.jsxs("div",{className:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:translate-y-[-2px] relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(Cn,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),n.jsxs("div",{className:"text-xs mt-1",children:[n.jsx("p",{className:"text-white/80 text-center",style:{color:"var(--text-on-brand-muted)"},children:"Delivery to"}),n.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:q.loading?n.jsx("span",{className:"inline-block w-16 h-3 bg-white/20 rounded-full animate-pulse"}):q.error?"Error fetching location":q.city})]})]}),n.jsxs(rt,{to:Dt.WISHLIST,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(ug,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),n.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:M.length})]}),n.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Wishlist"})]}),n.jsxs(rt,{to:Dt.ORDERS,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(ri,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),n.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Orders"})]}),n.jsxs(rt,{to:Dt.CART,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(np,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),n.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:C})]}),n.jsxs("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:[" ",_.toFixed(2)]})]}),n.jsxs(rt,{to:k?"/profile":Dt.LOGIN,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(Ds,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),n.jsx("div",{className:"text-xs mt-1",children:n.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:k?"My Account":"Sign In"})})]}),n.jsx("div",{className:"flex flex-col items-center justify-center",children:n.jsx($ie,{})})]})]})})}),n.jsx("div",{className:"md:hidden px-2 py-3",style:{backgroundColor:"var(--brand-primary-hover)"},children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full py-2 px-4 pr-10 rounded-full text-sm focus:outline-none",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:"var(--shadow-small)"},value:t,onChange:G=>s(G.target.value),onKeyDown:le,onFocus:()=>{t.trim()!==""&&i.length>0&&m(!0)}}),n.jsx("button",{onClick:()=>{if(t.trim()){const G=z(t);console.log("Mobile search results:",G),r(`/search?query=${encodeURIComponent(t.trim())}`)}},className:"absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center",style:{color:"#333"},children:n.jsx(Mi,{className:"text-lg"})}),u&&i.length>0&&n.jsx("div",{ref:b,className:"absolute left-0 right-0 z-50 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"300px",overflowY:"auto"},children:n.jsxs("ul",{className:"py-1",children:[i.map(G=>n.jsx("li",{children:n.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>oe(G.id),children:[n.jsx("div",{className:"w-8 h-8 flex-shrink-0 mr-2 bg-gray-200 rounded overflow-hidden",children:n.jsx("img",{src:G.images&&G.images.length>0?G.images[0]:"https://via.placeholder.com/32",alt:G.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:G.name}),n.jsx("p",{className:"text-xs text-gray-500",children:G.brand})]}),n.jsxs("div",{className:"ml-2 text-xs font-medium text-gray-900",children:["",G.discount_price||G.price]})]})},G.id)),n.jsx("li",{children:n.jsx("div",{className:"px-3 py-2 text-center text-xs text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{t.trim()&&(r(`/search?query=${encodeURIComponent(t.trim())}`),m(!1))},children:"View all results"})})]})})]})}),n.jsx("nav",{className:"bg-white shadow-md relative",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",zIndex:40},children:n.jsxs("div",{className:"container mx-auto px-2 sm:px-3 relative",children:[n.jsxs("ul",{className:"hidden lg:flex items-center justify-between py-3.5",style:{overflow:"visible"},children:[ee==null?void 0:ee.map(G=>n.jsx("li",{className:"whitespace-nowrap px-3 relative dropdown-container",style:{position:"relative"},children:n.jsxs("button",{onClick:()=>te(G.id),onKeyDown:ue=>be(ue,G.id),className:"text-sm font-semibold transition-all duration-300 relative group py-2 px-3 hover:text-orange-600 flex items-center rounded-lg hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50",style:{color:"var(--text-primary)"},"aria-expanded":J===G.id,"aria-haspopup":"true","aria-label":`${G.name} menu`,children:[n.jsx("span",{className:"relative z-10",children:G.name}),n.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-300 ${J===G.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})}),n.jsx("span",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-1 bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-300 group-hover:w-3/4 rounded-full shadow-lg",style:{backgroundColor:"var(--brand-primary)"}})]})},G.id)),n.jsx("li",{className:"whitespace-nowrap px-3",children:n.jsxs(rt,{to:"/products",className:"text-sm font-semibold transition-all duration-300 relative group py-2 px-3 hover:text-orange-600 rounded-lg hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 transform hover:scale-105",style:{color:"var(--text-primary)"},children:[n.jsx("span",{className:"relative z-10",children:"Browse All"}),n.jsx("span",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-1 bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-300 group-hover:w-3/4 rounded-full shadow-lg",style:{backgroundColor:"var(--brand-primary)"}})]})})]}),J&&n.jsx("div",{className:"absolute bg-white shadow-lg border-t-2",style:{backgroundColor:"#ffffff",borderTopColor:"var(--brand-primary)",borderTopWidth:"2px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:9999,top:"100%",left:"50%",transform:"translateX(-50%)",width:"90vw",maxWidth:"1200px",marginTop:"-1px",borderRadius:"0 0 8px 8px",border:"1px solid #e5e7eb"},onMouseEnter:()=>xe(),onMouseLeave:ie,children:n.jsx("div",{className:"px-8 py-6",children:(()=>{const G=ee.find(ue=>ue.id===J);return G?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6 pb-4",style:{borderBottom:"1px solid var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:G.name}),n.jsx(rt,{to:G.path,className:"hover:opacity-80 text-sm font-medium transition-opacity",style:{color:"var(--brand-primary)"},onClick:()=>W(null),children:"View All "})]})}),n.jsxs("div",{className:"grid grid-cols-12 gap-6 h-full min-h-[340px]",children:[n.jsx("div",{className:"col-span-8 grid grid-cols-3 gap-6",children:G.subcategories.map((ue,me)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-3 pb-2",style:{color:"var(--text-primary)",borderBottom:"1px solid var(--border-primary)"},children:ue.title}),n.jsx("ul",{className:"space-y-1",children:ue.items.map((ye,ve)=>n.jsx("li",{children:n.jsx(rt,{to:ye.path,className:"text-sm transition-colors block py-1 rounded px-2",style:{color:"var(--text-secondary)"},onMouseEnter:Me=>{Me.target.style.color="var(--brand-primary)",Me.target.style.backgroundColor="var(--bg-secondary)"},onMouseLeave:Me=>{Me.target.style.color="var(--text-secondary)",Me.target.style.backgroundColor=""},onClick:()=>W(null),children:ye.name})},ve))})]},me))}),n.jsx("div",{className:"col-span-4 pl-6",style:{borderLeft:"1px solid var(--border-primary)"},children:(()=>{const ue=U(G.name),me=ue.length>0?ue:G.banners;return!me||me.length===0?n.jsx("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:n.jsx("p",{className:"text-sm",children:"No promotions available"})}):n.jsx("div",{className:"space-y-3",children:me.slice(0,2).map((ye,ve)=>n.jsxs(rt,{to:ye.link||ye.buttonLink||G.path,className:"block relative rounded-lg overflow-hidden hover:shadow-lg transition-shadow",onClick:()=>W(null),children:[n.jsxs("div",{className:"aspect-[16/9] w-full bg-gradient-to-br from-orange-500 to-red-500 relative",children:[n.jsx("img",{src:ye.image||ye.imageUrl,alt:ye.title,className:"w-full h-full object-cover",onError:Me=>{Me.target.style.display="none"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white",children:n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-lg font-bold mb-2",children:ye.title||"Smart TVs"}),n.jsx("div",{className:"text-sm opacity-90 mb-3",children:ye.subtitle||"Up to 40% OFF"}),n.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-medium",children:ye.buttonText||"Shop Now"})]})})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex items-end",children:n.jsxs("div",{className:"p-4 text-white w-full",children:[n.jsx("h4",{className:"font-bold text-base mb-1",children:ye.title||"Smart TVs"}),n.jsx("p",{className:"text-sm opacity-90 mb-2",children:ye.subtitle||"Up to 40% OFF"}),(ye.buttonText||ye.cta)&&n.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-medium",children:ye.buttonText||ye.cta||"Shop Now"})]})})]},ve))})})()})]})]}):null})()})})]})}),n.jsx("div",{className:`lg:hidden fixed inset-0 z-50 transition-all duration-300 ${ne?"opacity-100 visible":"opacity-0 invisible"}`,style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:`absolute top-0 left-0 h-full w-3/4 max-w-xs bg-white shadow-2xl transition-transform duration-300 transform ${ne?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx(ck,{size:"small",linkWrapper:!1,titleColor:"var(--text-primary)"}),n.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100",onClick:()=>Q(!1),"aria-label":"Close menu",children:n.jsx(Yt,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]}),n.jsxs("div",{className:"py-4",children:[k&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"My Account"}),n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx(rt,{to:"/profile",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"Profile"})}),n.jsx("li",{children:n.jsx(rt,{to:"/profile/addresses",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"My Addresses"})}),n.jsx("li",{children:n.jsx(rt,{to:"/orders",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"Orders"})}),n.jsx("li",{children:n.jsx(rt,{to:"/wishlist",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"Wishlist"})})]})]}),n.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"Categories"}),n.jsxs("ul",{children:[ee==null?void 0:ee.map(G=>n.jsx("li",{children:n.jsx(rt,{to:G.path,className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:G.name})},G.id)),n.jsx("li",{children:n.jsx(rt,{to:"/products",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors font-medium",style:{color:"var(--brand-primary)"},onClick:()=>Q(!1),children:"Browse All Products"})})]})]})]})})]})},Zie=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(!0),[l,u]=O.useState(null),[m,f]=O.useState([]),{pages:b,fetchAvailablePages:v}=il(),k=async()=>{try{i(!0);const C=await Ze.get("/admin/footer/");if(C.status===200&&t(C.data.footer_config),b&&b.length>0)f(b);else try{if(await v(),!b||b.length===0){const _=await Ze.get("/admin/content/pages/");_.status===200&&f(_.data.pages||[])}}catch(_){console.error("Error fetching custom pages:",_)}i(!1)}catch(C){console.error("Error fetching footer data:",C),u("Failed to load footer data"),i(!1)}};return O.useEffect(()=>{k();const C=setInterval(()=>{v()},3e5);return()=>clearInterval(C)},[]),O.useEffect(()=>{b&&b.length>0&&f(b)},[b]),{footerData:r,loading:s,error:l,refetch:k,customPages:m}},eae=()=>{var C,_,S,M,R,I,z,V,U,q,$,ne,Q,B,Y,J;const{footerData:r,loading:t,customPages:s}=Zie();if(t)return n.jsx("footer",{className:"bg-gray-900 text-white py-10",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"animate-pulse flex flex-col items-center justify-center",children:[n.jsx("div",{className:"h-8 w-40 bg-gray-700 rounded mb-6"}),n.jsx("div",{className:"h-4 w-3/4 md:w-1/2 bg-gray-700 rounded mb-4"}),n.jsx("div",{className:"h-4 w-2/3 md:w-1/3 bg-gray-700 rounded"})]})})});const i={FaFacebookF:n.jsx(l2,{}),FaTwitter:n.jsx(vR,{}),FaInstagram:n.jsx(yR,{}),FaYoutube:n.jsx(wR,{}),FaLinkedinIn:n.jsx(xR,{}),FaWhatsapp:n.jsx(Dy,{})},l=Array.isArray(s)&&s.length>0?s.map(W=>({name:W.title,path:`/${W.path}`,isCustom:!0})):[],u=r&&Array.isArray(r.quick_links)?r.quick_links.filter(W=>W&&W.enabled):[{name:"Home",path:Dt.HOME},{name:"About",path:Dt.ABOUT},{name:"Contact",path:Dt.CONTACT}],m=r&&Array.isArray(r.customer_service_links)?r.customer_service_links.filter(W=>W&&W.enabled):[{name:"Track Your Order",path:Dt.TRACK_ORDER},{name:"Bulk Orders",path:Dt.BULK_ORDER}],f=[...r&&Array.isArray(r.policy_links)?r.policy_links.filter(W=>W&&W.enabled):[{name:"Terms & Conditions",path:"/terms-conditions"},{name:"Cancellation & Refund Policy",path:"/cancellation-refund-policy"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Shipping & Delivery Policy",path:"/shipping-delivery-policy"}],...l.filter(W=>W&&W.name&&(W.name.toLowerCase().includes("policy")||W.name.toLowerCase().includes("terms")))],b=[...r&&Array.isArray(r.know_more_links)?r.know_more_links.filter(W=>W&&W.enabled):[{name:"Our Stores",path:"/our-stores"},{name:"Service Center",url:"https://www.poorvika.com/service-center"}],...l.filter(W=>W&&W.name&&!W.name.toLowerCase().includes("policy")&&!W.name.toLowerCase().includes("terms"))],v=r&&Array.isArray(r.social_links)?r.social_links.filter(W=>W&&W.enabled).map(W=>({icon:i[W.icon]||n.jsx(l2,{}),url:W.url,label:W.name})):[{icon:n.jsx(l2,{}),url:"https://facebook.com",label:"Facebook"},{icon:n.jsx(vR,{}),url:"https://twitter.com",label:"Twitter"},{icon:n.jsx(yR,{}),url:"https://instagram.com",label:"Instagram"},{icon:n.jsx(wR,{}),url:"https://youtube.com",label:"YouTube"},{icon:n.jsx(xR,{}),url:"https://linkedin.com",label:"LinkedIn"}],k=[...r&&Array.isArray(r.footer_policy_links)?r.footer_policy_links.filter(W=>W&&W.enabled):[{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms of Use",path:"/terms-conditions"},{name:"Warranty Policy",path:"/warranty-policy"}],...l.filter(W=>W&&W.name&&(W.name.toLowerCase().includes("policy")||W.name.toLowerCase().includes("terms")||W.name.toLowerCase().includes("privacy")||W.name.toLowerCase().includes("legal"))).slice(0,3)];return n.jsxs("footer",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(-50%, -50%)"}}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(30%, 30%)"}}),n.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{className:"text-center md:text-left",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Stay Updated with Latest Offers!"}),n.jsx("p",{className:"text-orange-100",children:"Get exclusive deals and new product updates delivered to your inbox"})]}),n.jsxs("div",{className:"flex w-full md:w-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 md:w-80 px-4 py-3 rounded-l-lg border-0 focus:outline-none focus:ring-2 focus:ring-white"}),n.jsx("button",{className:"px-6 py-3 bg-white text-orange-500 font-semibold rounded-r-lg hover:bg-gray-100 transition-colors",children:"Subscribe"})]})]})})}),n.jsx("div",{className:"pt-16 pb-1",style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-12",children:[((C=r==null?void 0:r.company_info)==null?void 0:C.enabled)!==!1&&n.jsxs("div",{className:"space-y-5 lg:col-span-2",children:[n.jsx(ck,{linkWrapper:!1}),n.jsx("p",{className:"text-sm max-w-xs",style:{color:"var(--text-on-dark-bg)",lineHeight:"1.6"},children:((_=r==null?void 0:r.company_info)==null?void 0:_.description)||"Your trusted electronics partner offering the latest mobiles, laptops, and accessories at competitive prices with excellent customer service."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-semibold text-white",children:"Download Our App"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("a",{href:"https://play.google.com/store",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:[n.jsx(Voe,{className:"text-green-400"}),n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{children:"Get it on"}),n.jsx("div",{className:"font-semibold",children:"Google Play"})]})]}),n.jsxs("a",{href:"https://apps.apple.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:[n.jsx(Uoe,{className:"text-white"}),n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{children:"Download on the"}),n.jsx("div",{className:"font-semibold",children:"App Store"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Store"}),n.jsxs("ul",{className:"space-y-2",children:[u.map((W,ee)=>n.jsx("li",{children:n.jsx(rt,{to:W.path,className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:te=>{te.target.style.color="var(--brand-primary)"},onMouseLeave:te=>{te.target.style.color="var(--text-on-dark-bg)"},children:W.name})},ee)),n.jsx("li",{children:n.jsx("a",{href:"/our-stores",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:W=>{W.target.style.color="var(--brand-primary)"},onMouseLeave:W=>{W.target.style.color="var(--text-on-dark-bg)"},children:"Our Stores"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Help"}),n.jsxs("ul",{className:"space-y-2",children:[m.map((W,ee)=>n.jsx("li",{children:n.jsx(rt,{to:W.path,className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:te=>{te.target.style.color="var(--brand-primary)"},onMouseLeave:te=>{te.target.style.color="var(--text-on-dark-bg)"},children:W.name})},ee)),n.jsx("li",{children:n.jsx("a",{href:"/bulk-orders",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:W=>{W.target.style.color="var(--brand-primary)"},onMouseLeave:W=>{W.target.style.color="var(--text-on-dark-bg)"},children:"Bulk Orders"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Policies"}),n.jsx("ul",{className:"space-y-2",children:f.map((W,ee)=>n.jsx("li",{children:n.jsx(rt,{to:W.path||W.url||"#",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:te=>{te.target.style.color="var(--brand-primary)"},onMouseLeave:te=>{te.target.style.color="var(--text-on-dark-bg)"},children:W.name})},ee))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Know More"}),n.jsxs("ul",{className:"space-y-2",children:[b.map((W,ee)=>n.jsx("li",{children:n.jsx("a",{href:W.url||W.path||"#",target:W.url?"_blank":"_self",rel:W.url?"noopener noreferrer":"",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:te=>{te.target.style.color="var(--brand-primary)"},onMouseLeave:te=>{te.target.style.color="var(--text-on-dark-bg)"},children:W.name})},ee)),n.jsx("li",{children:n.jsx("a",{href:"https://www.poorvika.com/service-center",target:"_blank",rel:"noopener noreferrer",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:W=>{W.target.style.color="var(--brand-primary)"},onMouseLeave:W=>{W.target.style.color="var(--text-on-dark-bg)"},children:"Service Center"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Contact Us"}),n.jsxs("div",{className:"space-y-3",children:[((S=r==null?void 0:r.contact_info)==null?void 0:S.phone)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ia,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsx("a",{href:`tel:${r.contact_info.phone}`,className:"text-sm transition-colors",style:{color:"var(--text-on-dark-bg)"},onMouseEnter:W=>{W.target.style.color="var(--brand-primary)"},onMouseLeave:W=>{W.target.style.color="var(--text-on-dark-bg)"},children:r.contact_info.phone})]}),((M=r==null?void 0:r.contact_info)==null?void 0:M.email)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(nc,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsx("a",{href:`mailto:${r.contact_info.email}`,className:"text-sm transition-colors",style:{color:"var(--text-on-dark-bg)"},onMouseEnter:W=>{W.target.style.color="var(--brand-primary)"},onMouseLeave:W=>{W.target.style.color="var(--text-on-dark-bg)"},children:r.contact_info.email})]}),((R=r==null?void 0:r.contact_info)==null?void 0:R.address)&&n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Cn,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.address})]}),((I=r==null?void 0:r.contact_info)==null?void 0:I.hours)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rn,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.hours})]}),n.jsxs("div",{className:"pt-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3 text-white",children:"Follow Us"}),n.jsx("div",{className:"flex space-x-3",children:v.map((W,ee)=>n.jsx("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 flex items-center justify-center rounded-full transition-all duration-300 hover:scale-110",style:{backgroundColor:"var(--brand-primary)",color:"white"},title:W.label,children:W.icon},ee))}),n.jsx("div",{className:"mt-4",children:n.jsxs("a",{href:"https://wa.me/919876543210",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[n.jsx(Dy,{}),n.jsx("span",{className:"text-sm",children:"WhatsApp Business"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("button",{className:"inline-flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(kR,{}),n.jsx("span",{className:"text-sm",children:"Live Chat"})]})})]})]})]})]})})}),n.jsx("div",{className:"py-12",style:{backgroundColor:"var(--footer-bg)",color:"var(--text-on-dark-bg)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[((z=r==null?void 0:r.whatsapp)==null?void 0:z.enabled)!==!1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Connect With Us",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("div",{className:"mt-4 pt-3",children:n.jsxs("a",{href:((V=r==null?void 0:r.whatsapp)==null?void 0:V.channel_url)||"https://whatsapp.com/channel/YOUR_CHANNEL_ID_HERE",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-300",children:[n.jsx(Dy,{className:"text-lg"}),n.jsx("span",{className:"text-sm font-medium",children:"Join WhatsApp channel for offers & updates"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Store",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("ul",{className:"space-y-3",children:u.map(W=>n.jsx("li",{children:n.jsx(rt,{to:W.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:W.name})},W.name))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Help",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("ul",{className:"space-y-3",children:m.map(W=>n.jsx("li",{children:n.jsx(rt,{to:W.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:W.name})},W.name))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Policies",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]})," ",n.jsx("ul",{className:"space-y-3",children:f.map(W=>n.jsx("li",{children:n.jsx(rt,{to:W.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:W.name})},W.name||W.path))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Know More",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("ul",{className:"space-y-3",children:b.map(W=>n.jsx("li",{children:W.path?n.jsx(rt,{to:W.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:W.name}):n.jsx("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:W.name})},W.name||W.path))})]}),((U=r==null?void 0:r.contact_info)==null?void 0:U.enabled)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Contact Us",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsxs("ul",{className:"space-y-3",children:[r.contact_info.phone&&n.jsx("li",{children:n.jsxs("a",{href:`tel:${r.contact_info.phone}`,className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[n.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(ia,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{children:r.contact_info.phone})]})}),r.contact_info.email&&n.jsx("li",{children:n.jsxs("a",{href:`mailto:${r.contact_info.email}`,className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[n.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(nc,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{children:r.contact_info.email})]})}),r.contact_info.address&&n.jsx("li",{children:n.jsxs("div",{className:"text-sm flex transition-colors duration-300",children:[n.jsx("div",{className:"p-2 mr-3 rounded-full flex-shrink-0 self-start mt-1",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(Cn,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.address})]})}),r.contact_info.hours&&n.jsx("li",{children:n.jsxs("div",{className:"text-sm flex items-center transition-colors duration-300",children:[n.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(rn,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.hours})]})})]})]})]})})}),n.jsxs("div",{className:"py-6 bg-blue-50 text-gray-700 w-full relative",children:[((q=r==null?void 0:r.whatsapp)==null?void 0:q.enabled)!==!1&&n.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col gap-2",children:[n.jsx("a",{href:`https://wa.me/${(($=r==null?void 0:r.whatsapp)==null?void 0:$.number)||"1234567890"}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Contact us on WhatsApp",children:n.jsx(Dy,{size:20})}),n.jsx("a",{href:"#chat",className:"w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Open chat",children:n.jsx(kR,{size:18})})]}),n.jsx("div",{className:"container mx-auto",children:n.jsxs("div",{className:"flex flex-col items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("h4",{className:"text-sm font-medium",children:"Let's get social"}),n.jsx("div",{className:"flex items-center gap-6",children:v.map((W,ee)=>n.jsx("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"text-xl hover:text-blue-600 transition-colors duration-300","aria-label":W.label,children:W.icon},ee))})]})," ",n.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:k.map((W,ee)=>n.jsxs(ot.Fragment,{children:[n.jsx(rt,{to:W.path,className:"text-xs hover:underline",children:W.name}),ee<k.length-1&&n.jsx("span",{className:"text-xs",children:""})]},W.name||W.path))}),((ne=r==null?void 0:r.copyright)==null?void 0:ne.enabled)!==!1&&n.jsx("div",{className:"text-center pt-4 border-t border-gray-300",children:n.jsxs("p",{className:"text-xs text-gray-600",children:[((Q=r==null?void 0:r.copyright)==null?void 0:Q.text)||"Copyright  Anand mobiles | All Rights Reserved",((B=r==null?void 0:r.copyright)==null?void 0:B.developer_name)&&n.jsxs(n.Fragment,{children:[" | Developed By :",n.jsx(rt,{to:((Y=r==null?void 0:r.copyright)==null?void 0:Y.developer_url)||"#",children:(J=r==null?void 0:r.copyright)==null?void 0:J.developer_name})]})]})})]})})]})]})},tae=nn((r,t)=>({notifications:{orders:[],stock:[],reviews:[]},loading:!1,error:null,lastUpdated:null,isOrdersDropdownOpen:!1,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1,toggleOrdersDropdown:()=>r(s=>({isOrdersDropdownOpen:!s.isOrdersDropdownOpen,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1})),toggleStockDropdown:()=>r(s=>({isStockDropdownOpen:!s.isStockDropdownOpen,isOrdersDropdownOpen:!1,isReviewsDropdownOpen:!1})),toggleReviewsDropdown:()=>r(s=>({isReviewsDropdownOpen:!s.isReviewsDropdownOpen,isOrdersDropdownOpen:!1,isStockDropdownOpen:!1})),closeAllDropdowns:()=>r({isOrdersDropdownOpen:!1,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1}),fetchNotifications:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.get("/admin/notifications/");l.status===200&&r({notifications:l.data.notifications,loading:!1,error:null,lastUpdated:new Date})}catch(l){console.error("Error fetching notifications:",l),r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch notifications"})}},markAsRead:async(s,i)=>{try{await Ze.post("/admin/notifications/mark-read/",{notification_id:i,category:s}),r(l=>({notifications:{...l.notifications,[s]:l.notifications[s].map(u=>u.id===i?{...u,read:!0}:u)}}))}catch(l){console.error("Error marking notification as read:",l)}},markAllAsRead:async s=>{try{await Ze.post("/admin/notifications/mark-all-read/",{category:s}),r(i=>({notifications:{...i.notifications,[s]:i.notifications[s].map(l=>({...l,read:!0}))}}))}catch(i){console.error("Error marking all notifications as read:",i)}},getUnreadCount:s=>{const{notifications:i}=t();return i[s].filter(l=>!l.read).length},getTotalUnreadCount:()=>{const{notifications:s}=t();return Object.values(s).flat().filter(i=>!i.read).length},refreshNotifications:async()=>{const{fetchNotifications:s}=t();await s()},addNotification:(s,i)=>r(l=>({notifications:{...l.notifications,[s]:[i,...l.notifications[s]]}}))})),rae=()=>{const r=ns(),{notifications:t,loading:s,error:i,lastUpdated:l,isOrdersDropdownOpen:u,isStockDropdownOpen:m,isReviewsDropdownOpen:f,toggleOrdersDropdown:b,toggleStockDropdown:v,toggleReviewsDropdown:k,closeAllDropdowns:C,markAsRead:_,markAllAsRead:S,getUnreadCount:M,fetchNotifications:R,refreshNotifications:I}=tae(),z=O.useRef(null);O.useEffect(()=>{R();const J=setInterval(()=>{I()},3e4);return()=>clearInterval(J)},[R,I]),O.useEffect(()=>{const J=W=>{z.current&&!z.current.contains(W.target)&&C()};return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[C]);const V=J=>{const ee=new Date-J,te=Math.floor(ee/(1e3*60)),be=Math.floor(ee/(1e3*60*60));return te<60?`${te}m ago`:be<24?`${be}h ago`:`${Math.floor(be/24)}d ago`},U=J=>{switch(J){case"critical":return"#dc2626";case"high":return"#ea580c";case"medium":return"#ca8a04";case"low":return"#16a34a";default:return"#6b7280"}},q=()=>{C(),r("/admin/orders")},$=()=>{C(),r("/admin/inventory")},ne=()=>{C(),r("/admin/reviews")},Q=(J,W)=>{switch(C(),_(W,J.id),W){case"orders":r(`/admin/orders?search=${J.order_id||""}`);break;case"stock":r(`/admin/inventory?search=${J.product||""}`);break;case"reviews":r(`/admin/reviews?search=${J.product||""}`);break}},B=({icon:J,count:W,isOpen:ee,onClick:te,label:be})=>n.jsxs("button",{onClick:te,className:`notification-button relative flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 hover:bg-opacity-10 ${ee?"active":""}`,style:{backgroundColor:ee?"var(--brand-primary)":"transparent",color:ee?"white":"var(--text-primary)",borderRadius:"var(--rounded-lg)"},title:be,children:[n.jsx("span",{className:"flex items-center justify-center",children:J}),n.jsx("span",{className:"text-sm font-medium hidden sm:block",children:be}),W>0&&n.jsx("span",{className:"notification-badge",children:W>99?"99+":W})]}),Y=({notifications:J,category:W,isOpen:ee,onMarkAsRead:te,onMarkAllAsRead:be,onViewAll:xe})=>ee?n.jsxs("div",{className:"notification-dropdown absolute top-full left-0 right-0 mt-2 bg-white border rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-light)"},children:[n.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[W.charAt(0).toUpperCase()+W.slice(1)," Notifications"]}),J.some(ie=>!ie.read)&&n.jsx("button",{onClick:()=>be(W),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Mark all as read"})]}),n.jsx("div",{className:"notification-dropdown-content max-h-80 overflow-y-auto",children:J.length===0?n.jsxs("div",{className:"p-6 text-center",style:{color:"var(--text-secondary)"},children:[n.jsx(L9,{className:"mx-auto mb-2",size:24}),n.jsx("p",{children:"No notifications"})]}):J.map(ie=>n.jsx("div",{className:`notification-item p-4 border-b hover:bg-opacity-5 cursor-pointer transition-colors ${ie.read?"":"unread bg-blue-50"}`,style:{borderColor:"var(--border-light)",backgroundColor:ie.read?"transparent":"rgba(59, 130, 246, 0.05)"},onClick:()=>Q(ie,W),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("div",{className:"notification-priority-dot",style:{backgroundColor:U(ie.priority)}}),n.jsx("span",{className:`text-sm font-medium ${ie.read?"":"font-semibold"}`,style:{color:"var(--text-primary)"},children:ie.message})]}),W==="orders"&&n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Ds,{size:12}),n.jsx("span",{children:ie.customer})]}),n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Om,{size:12}),n.jsx("span",{children:ie.amount})]})]}),n.jsxs("span",{className:"text-xs font-mono",children:["#",ie.id]})]}),W==="stock"&&n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"font-medium",children:ie.product}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[n.jsxs("span",{children:["Stock: ",ie.currentStock]}),n.jsxs("span",{children:["Min: ",ie.minThreshold]}),n.jsx("span",{className:"font-mono",children:ie.sku})]})]}),W==="reviews"&&n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:ie.product}),n.jsx("div",{className:"flex items-center",children:[...Array(5)].map((ae,le)=>n.jsx($r,{size:12,className:le<ie.rating?"text-yellow-400":"text-gray-300",fill:le<ie.rating?"currentColor":"none"},le))})]}),n.jsxs("div",{className:"text-xs",children:[n.jsxs("span",{className:"font-medium",children:[ie.customer,":"]}),n.jsx("span",{className:"ml-1",children:ie.comment})]})]})]}),n.jsxs("div",{className:"flex flex-col items-end space-y-1 ml-4",children:[n.jsxs("span",{className:"text-xs flex items-center space-x-1",style:{color:"var(--text-secondary)"},children:[n.jsx(rn,{size:10}),n.jsx("span",{children:V(ie.timestamp)})]}),n.jsx(dx,{size:12,style:{color:"var(--text-secondary)"}})]})]})},ie.id))}),J.length>0&&n.jsx("div",{className:"p-3 border-t bg-gray-50",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:n.jsxs("button",{onClick:xe,className:"w-full text-sm text-center py-1 rounded transition-colors hover:underline",style:{color:"var(--brand-primary)"},children:["View all ",W]})})]}):null;return n.jsxs("div",{ref:z,className:"relative sticky top-0 z-40 border-b",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(B,{icon:n.jsx(np,{size:18}),count:M("orders"),isOpen:u,onClick:b,label:"Orders"}),n.jsx(B,{icon:n.jsx(wt,{size:18}),count:M("stock"),isOpen:m,onClick:v,label:"Stock"}),n.jsx(B,{icon:n.jsx($r,{size:18}),count:M("reviews"),isOpen:f,onClick:k,label:"Reviews"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated: ",new Date().toLocaleTimeString()]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"live-indicator w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Live"})]})]})]}),n.jsx(Y,{notifications:t.orders,category:"orders",isOpen:u,onMarkAsRead:_,onMarkAllAsRead:S,onViewAll:q}),n.jsx(Y,{notifications:t.stock,category:"stock",isOpen:m,onMarkAsRead:_,onMarkAllAsRead:S,onViewAll:$}),n.jsx(Y,{notifications:t.reviews,category:"reviews",isOpen:f,onMarkAsRead:_,onMarkAllAsRead:S,onViewAll:ne})]})},nae=()=>{const r=To(),[t,s]=O.useState(!1),i=[{name:"Dashboard",path:"/admin/dashboard",icon:n.jsx(nN,{size:20})},{name:"Products",path:"/admin/products",icon:n.jsx(Ku,{size:20})},{name:"Inventory",path:"/admin/inventory",icon:n.jsx(Tee,{size:20})},{name:"Orders",path:"/admin/orders",icon:n.jsx(np,{size:20})},{name:"Users",path:"/admin/users",icon:n.jsx(yd,{size:20})},{name:"Content",path:"/admin/content",icon:n.jsx(z9,{size:20})},{name:"Sell Phones",path:"/admin/sell-phones",icon:n.jsx(Gee,{size:20})},{name:"Reviews",path:"/admin/reviews",icon:n.jsx($r,{size:20})},{name:"Delivery Partners",path:"/admin/delivery-partners",icon:n.jsx(Lr,{size:20})}];return n.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[n.jsxs("aside",{className:`${t?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[n.jsxs("div",{className:`flex items-center ${t?"justify-center w-full":""}`,children:[!t&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Admin Panel"}),t&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"AP"})]}),n.jsx("button",{onClick:()=>s(!t),className:`p-1 rounded-md hover:bg-gray-700 transition-colors duration-150 ${t?"mx-auto mt-2":""}`,children:t?n.jsx(wn,{size:24}):n.jsx(sa,{size:24})})]}),n.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:n.jsx("ul",{className:"px-2 space-y-1",children:i.map(l=>{const u=r.pathname===l.path;return n.jsx("li",{children:n.jsxs(rt,{to:l.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${u?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:u?"var(--brand-primary)":"transparent",color:u?"var(--text-on-brand)":"var(--text-on-dark-bg)",boxShadow:u?"var(--shadow-small)":"none",borderRadius:"var(--rounded-md)"},children:[n.jsx("span",{className:"flex items-center justify-center",children:l.icon}),!t&&n.jsx("span",{className:"ml-3",children:l.name})]})},l.name)})})}),n.jsx("div",{className:"p-4 border-t border-opacity-20",style:{borderColor:"var(--border-dark)"},children:n.jsxs(rt,{to:"/",className:"flex items-center px-4 py-2 rounded-md hover:bg-gray-700 hover:bg-opacity-30 transition-all duration-150 text-sm",style:{borderRadius:"var(--rounded-md)"},children:[n.jsx(cd,{size:20}),!t&&n.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]}),n.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(rae,{}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsx(WA,{})," "]})})]})]})},f2={pending:"var(--warning-color)",out_for_delivery:"var(--brand-secondary)",delivered:"var(--success-color)",failed:"var(--error-color)",payment_successful:"var(--brand-primary)"},sae={pending:n.jsx(wt,{}),out_for_delivery:n.jsx(Lr,{}),delivered:n.jsx(wt,{}),failed:n.jsx(wt,{}),payment_successful:n.jsx(wt,{})},oae=({delivery:r,onAccept:t})=>n.jsxs("div",{className:"flex flex-col md:flex-row justify-between p-4 group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100 mb-4",style:{textDecoration:"none",backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-start flex-grow",children:[n.jsx("div",{className:"h-12 w-12 flex-shrink-0 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:f2[r.status],color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:sae[r.status]}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",r.orderId,n.jsx("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:r.total_amount?`${r.currency} ${r.total_amount.toFixed(2)}`:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 mt-3",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Cn,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.address||"Address not available"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(ia,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Contact"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.customerPhone||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(ri,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected Delivery"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.expectedDelivery?new Date(r.expectedDelivery).toLocaleDateString():"Not specified"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(rn,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Assigned On"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.assignedDate?`${new Date(r.assignedDate).toLocaleDateString()} ${new Date(r.assignedDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Not assigned yet"})]})]})]})]})]}),n.jsxs("div",{className:"flex md:flex-col justify-between items-end mt-4 md:mt-0 md:ml-4",children:[n.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${f2[r.status]||"var(--warning-color)"}20`,color:f2[r.status]||"var(--warning-color)"},children:r.status==="payment_successful"?"Payment Successful":r.status==="pending"?"Pending":r.status==="out_for_delivery"?"Out for Delivery":r.status==="delivered"?"Delivered":r.status==="failed"?"Failed":r.status||"Pending"}),n.jsxs("button",{onClick:()=>t(r.id),className:"flex items-center mt-4 font-medium text-sm hover:underline transition-colors",style:{color:"var(--brand-primary)"},children:["Update Status",n.jsx(wn,{className:"ml-1"})]})]})]}),iae={Pending:"var(--warning-color)","Out for Delivery":"var(--brand-secondary)",Delivered:"var(--success-color)",Failed:"var(--error-color)"},aae={Pending:n.jsx(wt,{size:16}),"Out for Delivery":n.jsx(Lr,{size:16}),Delivered:n.jsx(Yn,{size:16}),Failed:n.jsx(Yt,{size:16})},lae=({delivery:r,onViewDetails:t})=>{var b,v,k,C,_;const s=S=>{if(!S)return"N/A";try{return new Date(S).toLocaleDateString()}catch(M){return console.error("Invalid date format:",S,M),"N/A"}},i=S=>{if(!S)return"";try{return new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(M){return console.error("Invalid date format:",S,M),""}},l=S=>{if(!S)return"No address provided";if(typeof S=="string")return S;if(typeof S=="object"){const{street_address:M,city:R,state:I,postal_code:z}=S,V=[M,R,I,z].filter(Boolean).filter(U=>typeof U=="string"&&U.trim()!=="");return V.length>0?V.join(", "):"No address provided"}return"No address provided"},u=iae[r.status]||"var(--warning-color)",m=aae[r.status]||n.jsx(wt,{size:16}),f=typeof r.amount=="number"?r.amount.toFixed(2):parseFloat(r.amount||0).toFixed(2);return n.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"p-4 flex justify-between items-center border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("span",{className:"font-semibold mr-3",style:{color:"var(--text-primary)"},children:["Order #",r.orderId]}),n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${u}20`,color:u},children:[m,n.jsx("span",{className:"ml-1",children:r.status})]})]}),n.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:r.completedDate?`Completed on ${s(r.completedDate)} at ${i(r.completedDate)}`:"In progress"}),(((b=r.order_items)==null?void 0:b.length)>0||((v=r.items)==null?void 0:v.length)>0)&&n.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[((k=r.order_items)==null?void 0:k.length)||((C=r.items)==null?void 0:C.length)," items"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Amount"}),n.jsxs("div",{className:"text-lg font-bold",style:{color:r.paymentMethod==="COD"?"var(--success-color)":"var(--text-primary)"},children:["",f]}),n.jsx("div",{className:"text-xs",style:{color:"var(--brand-primary)"},children:((_=r.payment_details)==null?void 0:_.method)||r.paymentMethod||"Online"}),n.jsx("button",{onClick:t,className:"flex items-center justify-end text-xs font-medium mt-2",style:{color:"var(--brand-primary)"},children:"View Details"})]})]}),n.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex",children:[n.jsx(Cn,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:l(r.address)})]})]}),n.jsxs("div",{className:"flex",children:[n.jsx(ri,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected vs Actual Delivery"}),n.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:["Expected: ",s(r.expectedDelivery),n.jsx("br",{}),r.status==="Delivered"?n.jsxs("span",{style:{color:new Date(r.completedDate)<=new Date(r.expectedDelivery)?"var(--success-color)":"var(--warning-color)"},children:["Actual: ",s(r.completedDate)]}):n.jsx("span",{style:{color:"var(--error-color)"},children:r.status})]})]})]})]}),r.notes&&n.jsxs("div",{className:"px-4 py-3 mt-1 border-t",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[n.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Notes"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.notes})]})]})},cae=({collapsed:r})=>{const t=To(),s=[{name:"Dashboard",path:"/delivery/dashboard",icon:n.jsx(nN,{className:"h-5 w-5"})},{name:"Assignments",path:"/delivery/assignments",icon:n.jsx(wt,{className:"h-5 w-5"})},{name:"Status Updates",path:"/delivery/status-update",icon:n.jsx(Ree,{className:"h-5 w-5"})},{name:"Delivery History",path:"/delivery/history",icon:n.jsx(rn,{className:"h-5 w-5"})},{name:"Settings",path:"/delivery/settings",icon:n.jsx(W9,{className:"h-5 w-5"})}];return n.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:n.jsx("ul",{className:"px-2 space-y-1",children:s.map(i=>{const l=t.pathname===i.path;return n.jsx("li",{children:n.jsxs(rt,{to:i.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${l?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:l?"var(--brand-primary)":"transparent",color:l?"var(--text-on-brand)":"var(--text-on-dark-bg)"},children:[n.jsx("span",{className:"flex-shrink-0",children:i.icon}),!r&&n.jsx("span",{className:"ml-3",children:i.name}),!r&&l&&n.jsx("span",{className:"ml-auto",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 animate-pulse",style:{color:"var(--text-on-brand)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},i.name)})})})},ac=nn(Zu((r,t)=>({isAuthenticated:!!localStorage.getItem(Iy),partner:JSON.parse(localStorage.getItem("delivery_partner")||"null"),loading:!1,error:null,assignedDeliveries:[],deliveryHistory:[],partnerProfile:null,registerPartner:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ed.post("/partners/register/",s);return r({loading:!1,error:null}),u.data}catch(u){throw r({loading:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Registration failed"}),u}},loginPartner:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ed.post("/partners/login/",s),{token:m,partner_id:f}=u.data;localStorage.setItem(Iy,m);const b={id:f,email:s.email};return localStorage.setItem("delivery_partner",JSON.stringify(b)),r({isAuthenticated:!0,partner:b,loading:!1,error:null}),u.data}catch(u){throw r({loading:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Login failed"}),u}},fetchPartnerProfile:async()=>{var s,i;r({loading:!0,error:null});try{const u=(await ed.get("/partners/profile/")).data.partner;return r({partnerProfile:u,loading:!1,error:null}),u}catch(l){throw r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch profile"}),l}},updatePartnerProfile:async s=>{var i,l;r({loading:!0,error:null});try{const u=await ed.patch("/partners/profile/update/",s);return await t().fetchPartnerProfile(),r({loading:!1,error:null}),u.data}catch(u){throw r({loading:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update profile"}),u}},logoutPartner:()=>{localStorage.removeItem(Iy),localStorage.removeItem("delivery_partner"),r({isAuthenticated:!1,partner:null,partnerProfile:null,assignedDeliveries:[],deliveryHistory:[]})},fetchAssignedDeliveries:async()=>{var s,i;r({loading:!0,error:null});try{const u=(await ed.get("/partners/deliveries/assigned/")).data.assigned_orders||[];return r({assignedDeliveries:u,loading:!1,error:null}),u}catch(l){throw r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch assigned deliveries"}),l}},fetchDeliveryHistory:async()=>{var s,i;r({loading:!0,error:null});try{const l=await ed.get("/partners/deliveries/history/");return r({deliveryHistory:l.data.delivery_history,loading:!1,error:null}),l.data.delivery_history}catch(l){throw r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch delivery history"}),l}},updateDeliveryStatus:async(s,i,l={})=>{var u,m;r({loading:!0,error:null});try{const f={status:i,...l},b=await ed.patch(`/partners/deliveries/update_status/${s}/`,f);return await ac.getState().fetchAssignedDeliveries(),r({loading:!1,error:null}),b.data}catch(f){throw r({loading:!1,error:((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to update delivery status"}),f}}}))),ud=({children:r,hideMenu:t})=>{const[s,i]=ot.useState(!1),{logoutPartner:l}=ac(),u=async()=>{await l(),console.log("User logged out")};return n.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[!t&&n.jsxs("aside",{className:`${s?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[n.jsxs("div",{className:`flex items-center ${s?"justify-center w-full":""}`,children:[!s&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Delivery Partner"}),s&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"DP"})]}),n.jsx("button",{onClick:()=>i(!s),className:"p-1 rounded-full hover:bg-gray-700 hover:bg-opacity-30 focus:outline-none",children:s?n.jsx(wn,{className:"h-5 w-5"}):n.jsx(sa,{className:"h-5 w-5"})})]}),n.jsx(cae,{collapsed:s}),n.jsx("div",{className:"mt-auto p-4",children:n.jsxs("button",{onClick:u,className:"flex items-center w-full py-3 px-4 rounded-md transition-all duration-200 hover:bg-gray-700 hover:bg-opacity-30 text-left",style:{color:"var(--text-on-dark-bg)"},children:[n.jsx(U9,{className:"h-5 w-5 mr-3"}),!s&&n.jsx("span",{className:"ml-3",children:"Logout"})]})})]}),n.jsx("main",{className:`flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn ${t?"flex justify-center items-center":""}`,style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6 w-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:r||n.jsx(WA,{})})})]})},Ef=({children:r})=>{const{isAuthenticated:t,partner:s}=ac(),i=To();return!t||!s?n.jsx(Hs,{to:"/delivery/login",state:{from:i},replace:!0}):r},vx=({isOpen:r,onClose:t,delivery:s,onStatusUpdate:i,isSubmitting:l=!1})=>{var ee,te,be,xe;const[u,m]=O.useState(null);console.log("de",s);const[f,b]=O.useState((s==null?void 0:s.status)||"processing"),[v,k]=O.useState(""),[C,_]=O.useState(""),[S,M]=O.useState(""),[R,I]=O.useState(""),[z,V]=O.useState(""),[U,q]=O.useState(""),[$,ne]=O.useState("");if(O.useEffect(()=>{s&&(b(s.status||"processing"),M(s.expectedDelivery?new Date(s.expectedDelivery).toISOString().slice(0,16):""),V(s.carrier||""),q(s.tracking_number||""),k(""),_(""),I(""),m(null),ne(""))},[s]),!r||!s)return null;const Q=[{value:"processing",label:"Processing",icon:n.jsx(wt,{}),color:"var(--info-color)",description:"Order is being processed"},{value:"packed",label:"Packed",icon:n.jsx(wt,{}),color:"var(--info-color)",description:"Package is packed and ready for shipping"},{value:"shipped",label:"Shipped",icon:n.jsx(Lr,{}),color:"var(--info-color)",description:"Package has been shipped",requiresTrackingInfo:!0},{value:"out_for_delivery",label:"Out for Delivery",icon:n.jsx(Lr,{}),color:"var(--brand-primary)",description:"Package is out for delivery",requiresTrackingInfo:!0},{value:"delivered",label:"Delivered",icon:n.jsx(Yn,{}),color:"var(--success-color)",requiresOtp:!1,description:"Package successfully delivered"},{value:"failed_attempt",label:"Failed Delivery",icon:n.jsx(Yt,{}),color:"var(--error-color)",requiresNotes:!0,description:"Delivery attempt failed"},{value:"returning_to_warehouse",label:"Returning to Warehouse",icon:n.jsx(el,{}),color:"var(--warning-color)",requiresNotes:!0,description:"Package being returned to warehouse"},{value:"other",label:"Other Status",icon:n.jsx(cx,{}),color:"var(--info-color)",requiresNotes:!0,description:"Specify a custom status for this delivery",isCustom:!0}],B=Q.find(ie=>ie.value===f),Y=ie=>{const ae=ie.target.files[0];if(ae){const le=new FileReader;le.onload=oe=>m(oe.target.result),le.readAsDataURL(ae)}},J=()=>{m(null)},W=async ie=>{if(ie.preventDefault(),I(""),B!=null&&B.requiresOtp&&!v){I("OTP is required for delivered status");return}if(B!=null&&B.requiresNotes&&!C){I("Please provide a reason for delivery failure");return}try{const ae=f==="other"?"other":f;if(f==="other"&&!$){I("Please specify a custom status");return}if(B!=null&&B.requiresTrackingInfo){if(!z){I("Please provide a carrier name for shipped packages");return}if(!U){I("Please provide a tracking number for shipped packages");return}}const le={photo:u,otp:v,notes:C,estimated_delivery:S?new Date(S).toISOString():null,updatedAt:new Date().toISOString(),carrier:z,tracking_number:U};f==="other"&&(le.notes=`Custom status: ${$}${C?` - ${C}`:""}`),await i(s.id,ae,le),m(null),k(""),_(""),M(""),V(""),q(""),ne(""),I("")}catch(ae){console.error("Error updating status:",ae),I("Failed to update status. Please try again.")}};return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("div",{className:"fixed inset-0 bg-black/40 transition-opacity",onClick:t}),n.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:n.jsxs("div",{className:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(wt,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order ID: ",s.orderId,"  Customer:",(ee=s.customer)==null?void 0:ee.name]})]})]}),n.jsx("button",{onClick:t,className:"rounded-md p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:W,children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"rounded-lg p-4 mb-4",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h4",{className:"text-md font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(wt,{className:"mr-2"})," Update Status"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Q.map(ie=>n.jsxs("button",{type:"button",className:`p-3 rounded-lg flex items-center border transition-all duration-200 ${f===ie.value?"border-2":"hover:border-gray-300"}`,style:{backgroundColor:f===ie.value?`${ie.color}10`:"var(--bg-primary)",borderColor:f===ie.value?ie.color:"var(--border-primary)"},onClick:()=>{b(ie.value)},children:[n.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:f===ie.value?`${ie.color}20`:"var(--bg-secondary)",color:ie.color},children:ie.icon}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:ie.label})]},ie.value))})]}),f==="other"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"customStatus",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specify Custom Status"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:n.jsx(cx,{size:16})}),n.jsx("input",{type:"text",id:"customStatus",value:$,onChange:ie=>ne(ie.target.value),placeholder:"Enter custom delivery status",className:"w-full pl-10 p-3 rounded-md text-sm border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",color:"var(--text-primary)"}})]}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please specify a descriptive status for this delivery"})]}),(B==null?void 0:B.requiresOtp)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Delivery OTP"}),n.jsx("input",{type:"text",id:"otp",value:v,onChange:ie=>k(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter OTP provided by the customer"}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please collect the OTP from the customer upon delivery"})]}),(f==="shipped"||f==="out_for_delivery")&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"carrier",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Shipping Carrier"}),n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),n.jsx("input",{type:"text",id:"carrier",value:z,onChange:ie=>V(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter shipping carrier name (e.g., FedEx, UPS)"}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"The carrier responsible for delivering this package"})]}),(f==="shipped"||f==="out_for_delivery")&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"trackingNumber",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Tracking Number"}),n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),n.jsx("input",{type:"text",id:"trackingNumber",value:U,onChange:ie=>q(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter tracking number"}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Tracking number provided by the shipping carrier"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"estimatedDelivery",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Estimated Delivery Date & Time"}),f==="out_for_delivery"&&n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:"Recommended"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:n.jsx(ri,{size:16})}),n.jsx("input",{type:"datetime-local",id:"estimatedDelivery",value:S,onChange:ie=>M(ie.target.value),className:`w-full pl-10 p-3 border rounded-md text-sm ${f==="out_for_delivery"?"border-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:f==="out_for_delivery"?"var(--brand-primary)":"var(--border-primary)",color:"var(--text-primary)"}})]}),S&&n.jsxs("div",{className:"mt-2 py-2 px-3 rounded-md",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[n.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Current Estimate:"}),n.jsx("span",{className:"ml-2 text-sm font-semibold",style:{color:"var(--brand-primary)"},children:new Date(S).toLocaleDateString()+" at "+new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:f==="out_for_delivery"?"Please provide an estimated delivery time when going out for delivery":"Update the estimated delivery date and time for this order"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["Notes ",(B==null?void 0:B.requiresNotes)&&"(Required)"]}),n.jsx("textarea",{id:"notes",value:C,onChange:ie=>_(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:B!=null&&B.requiresNotes?"Please provide a reason for delivery failure":"Add any relevant notes (optional)",rows:3})]}),R&&n.jsxs("div",{className:"p-3 rounded-md flex items-start mb-4",style:{backgroundColor:"var(--error-color)10",color:"var(--error-color)"},children:[n.jsx(el,{className:"mr-2 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:R})]})]}),(s.status==="out_for_delivery"||s.status==="assigned")&&n.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h4",{className:"text-md font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(tN,{className:"mr-2"})," Delivery Photo (Optional)"]}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:"Take a photo as proof of delivery"}),u?n.jsx("div",{className:"mb-3",children:n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:u,alt:"Delivery proof",className:"rounded-md max-h-40 max-w-full"}),n.jsx("button",{onClick:J,className:"absolute top-2 right-2 rounded-full p-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx(Yt,{size:14,style:{color:"white"}})})]})}):n.jsx("div",{className:"mb-3",children:n.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 rounded-md cursor-pointer border-2 border-dashed",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(V9,{size:24,style:{color:"var(--text-secondary)"},className:"mb-2"}),n.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-primary)"},children:n.jsx("span",{className:"font-semibold",children:"Click to capture"})})]}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:Y})]})})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Current Status"}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:s.status==="delivered"?"var(--success-color)20":s.status==="failed_attempt"||s.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:s.status==="delivered"?"var(--success-color)":s.status==="failed_attempt"||s.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:s.status==="assigned"||s.status==="shipped"||s.status==="payment_successful"?"Assigned":s.status==="out_for_delivery"?"Out For Delivery":s.status==="delivered"?"Delivered":s.status==="failed_attempt"?"Failed Attempt":s.status==="failed_final"?"Failed":s.status==="returning_to_warehouse"?"Returning":s.status})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Information"}),n.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:((te=s.customer)==null?void 0:te.name)||"Customer"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:((be=s.customer)==null?void 0:be.phone)||s.customer_phone||"N/A"}),n.jsx("h5",{className:"text-xs font-medium mb-1 mt-2",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),s.delivery_address?n.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:[s.delivery_address.street_address,n.jsx("br",{}),s.delivery_address.city,",",s.delivery_address.state,s.delivery_address.postal_code]}):(xe=s.customer)!=null&&xe.address?n.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:s.customer.address}):n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Address not available"})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:["Items (",s.item_count||s.order_items&&s.order_items.length||s.items&&s.items.length||"Unknown",")"]}),n.jsx("div",{className:"max-h-32 overflow-y-auto",children:s.order_items&&s.order_items.length>0?n.jsx("ul",{className:"space-y-2",children:s.order_items.map((ie,ae)=>{var le,oe,G,ue;return n.jsxs("li",{className:"flex justify-between text-xs border-b pb-1 last:border-b-0",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:ie.name||ie.brand+" "+(((le=ie.variant_details)==null?void 0:le.storage)||"")||"Product"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Qty: ",ie.quantity]}),ie.variant_details&&n.jsx("span",{className:"text-xs mt-0.5",style:{color:"var(--text-secondary)"},children:[ie.variant_details.ram,ie.variant_details.storage,ie.variant_details.colors].filter(Boolean).join(", ")})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",ie.price_at_purchase||((oe=ie.variant_details)==null?void 0:oe.discounted_price)||ie.price||"N/A"]}),((G=ie.variant_details)==null?void 0:G.price)&&((ue=ie.variant_details)==null?void 0:ue.discounted_price)&&ie.variant_details.price>ie.variant_details.discounted_price&&n.jsxs("span",{className:"line-through text-xs",style:{color:"var(--text-secondary)"},children:["",ie.variant_details.price]})]})]},ae)})}):s.items&&s.items.length>0?n.jsx("ul",{className:"space-y-1",children:s.items.map((ie,ae)=>n.jsxs("li",{className:"flex justify-between text-xs",children:[n.jsxs("span",{style:{color:"var(--text-primary)"},children:[ie.name," x",ie.quantity]}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["",ie.price]})]},ae))}):n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Item details not available"})})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery?new Date(s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery).toLocaleDateString():"Not specified"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery?new Date(s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Payment Information"}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),n.jsx("span",{className:"font-medium",style:{color:s.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:s.payment_method||s.paymentType||"Online Payment"})]}),n.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:s.paymentAmount||`${s.total_amount||0}`})]})]})]})]})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[n.jsx(st,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancel"}),n.jsx(st,{type:"submit",variant:"primary",disabled:l,className:"transition-transform hover:scale-105",children:l?"Updating...":"Update Status"})]})]})})]})})]})},dae=()=>{const r=ns(),t=To(),{loginPartner:s,isAuthenticated:i,partner:l,loading:u,error:m}=ac(),[f,b]=O.useState({email:"",password:""}),[v,k]=O.useState({}),[C,_]=O.useState("");O.useEffect(()=>{var I;(I=t.state)!=null&&I.message&&_(t.state.message)},[t.state]),O.useEffect(()=>{i&&l&&r("/delivery/dashboard")},[i,l,r]);const S=I=>{const{name:z,value:V}=I.target;b(U=>({...U,[z]:V})),v[z]&&k(U=>({...U,[z]:""}))},M=()=>{let I=!0;const z={};return f.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(z.email="Please enter a valid email address",I=!1):(z.email="Email is required",I=!1),f.password||(z.password="Password is required",I=!1),k(z),I},R=async I=>{var z,V,U;if(I.preventDefault(),!!M())try{await s(f)&&r("/delivery/dashboard")}catch(q){Se.error(((V=(z=q.response)==null?void 0:z.data)==null?void 0:V.error)||"Failed to login. Please try again."),((U=q.response)==null?void 0:U.status)===403&&r("/delivery/admin-verify")}};return n.jsxs(Qm,{title:"Delivery Partner Login",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Lr,{size:36})})}),n.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Sign in to your delivery partner account to manage deliveries"}),n.jsxs("form",{onSubmit:R,className:"space-y-5",children:[C&&n.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),C]}),m&&n.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[n.jsx(el,{className:"h-5 w-5 mr-2"}),m]}),n.jsx(qr,{label:"Email",type:"email",name:"email",icon:n.jsx(nc,{}),value:f.email,onChange:S,required:!0,placeholder:"your@email.com",error:v.email}),n.jsx(qr,{label:"Password",type:"password",name:"password",icon:n.jsx(dd,{}),value:f.password,onChange:S,required:!0,placeholder:"Enter your password",error:v.password}),n.jsx(st,{type:"submit",variant:"primary",fullWidth:!0,isLoading:u,children:u?"Signing In...":"Sign In"}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Don't have a partner account?",n.jsx(rt,{to:"/delivery/register",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Register here"})]})})]})]})},uae=()=>{const r=ns(),{registerPartner:t,loading:s,error:i}=ac(),[l,u]=O.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[m,f]=O.useState({}),b=C=>{const{name:_,value:S}=C.target;u(M=>({...M,[_]:S})),m[_]&&f(M=>({...M,[_]:""}))},v=()=>{const C={};return l.name.trim()||(C.name="Full name is required"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(C.email="Email is invalid"):C.email="Email is required",l.password?l.password.length<6&&(C.password="Password must be at least 6 characters"):C.password="Password is required",l.password!==l.confirmPassword&&(C.confirmPassword="Passwords don't match"),l.phone.trim()?/^\d{10}$/.test(l.phone.replace(/\D/g,""))||(C.phone="Phone number must be 10 digits"):C.phone="Phone number is required",f(C),Object.keys(C).length===0},k=async C=>{if(C.preventDefault(),!v())return;const _={name:l.name,email:l.email,password:l.password,phone:l.phone};try{await t(_),r("/delivery/login",{state:{message:"Registration successful! Please wait for admin verification."}})}catch(S){console.error("Registration error:",S)}};return n.jsxs(Qm,{title:"Become a Delivery Partner",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Lr,{size:36})})}),n.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Register as a delivery partner and start earning with flexible hours"}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i&&n.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[n.jsx(el,{className:"h-5 w-5 mr-2"}),i]}),n.jsx(qr,{label:"Full Name",type:"text",name:"name",icon:n.jsx(Ds,{}),value:l.name,onChange:b,required:!0,placeholder:"Enter your full name",error:m.name}),n.jsx(qr,{label:"Email",type:"email",name:"email",icon:n.jsx(nc,{}),value:l.email,onChange:b,required:!0,placeholder:"your@email.com",error:m.email}),n.jsx(qr,{label:"Phone Number",type:"tel",name:"phone",icon:n.jsx(ia,{}),value:l.phone,onChange:b,required:!0,placeholder:"Your phone number",error:m.phone}),n.jsx(qr,{label:"Password",type:"password",name:"password",icon:n.jsx(dd,{}),value:l.password,onChange:b,required:!0,placeholder:"Create a strong password",error:m.password}),n.jsx(qr,{label:"Confirm Password",type:"password",name:"confirmPassword",icon:n.jsx(dd,{}),value:l.confirmPassword,onChange:b,required:!0,placeholder:"Confirm your password",error:m.confirmPassword}),n.jsx("div",{className:"mt-6",children:n.jsx(st,{type:"submit",variant:"primary",fullWidth:!0,isLoading:s,children:s?"Creating Account...":"Register as Partner"})}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Already have an account?",n.jsx(rt,{to:"/delivery/login",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Log in here"})]})}),n.jsx("div",{className:"text-xs text-center mt-4 px-4",style:{color:"var(--text-secondary)"},children:"By registering, you agree to our Terms of Service and acknowledge that your account requires admin verification before you can start accepting deliveries."})]})]})},PR=()=>{const r=ns(),[t,s]=O.useState(!0),[i,l]=O.useState("pending");O.useEffect(()=>{(async()=>{s(!0);try{await new Promise(_=>setTimeout(_,1500));const k=["pending","approved","rejected"],C=k[Math.floor(Math.random()*k.length)];l(C)}catch(k){console.error("Error fetching verification status:",k)}finally{s(!1)}})()},[]);const u=()=>{r("/delivery/login")},m=()=>{r("/delivery/register")},f=()=>{window.open("mailto:support@example.com","_blank")},b=()=>t?n.jsxs("div",{className:"flex flex-col items-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-4",style:{borderColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-center text-sm mt-4",style:{color:"var(--text-secondary)"},children:"Checking your verification status..."})]}):i==="approved"?n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:n.jsx(Yn,{size:64})})}),n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Approved!"}),n.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account has been verified by our admin team. You can now log in to access your delivery dashboard."}),n.jsx(st,{variant:"primary",icon:n.jsx(ux,{className:"mr-2"}),onClick:u,fullWidth:!0,children:"Log In to Your Account"})]}):i==="rejected"?n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:n.jsx(Pm,{size:64})})}),n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Rejected"}),n.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Unfortunately, your account verification was not approved. This could be due to incomplete or incorrect information provided during registration."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(st,{variant:"primary",icon:n.jsx(ux,{className:"mr-2"}),onClick:m,fullWidth:!0,children:"Reapply with Correct Information"}),n.jsx(st,{variant:"secondary",onClick:f,fullWidth:!0,children:"Contact Support"})]})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:n.jsx(S1,{size:64})})}),n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Pending"}),n.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account is currently under review by our admin team. This process usually takes 1-2 business days. We'll notify you by email once your account is verified."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(st,{variant:"secondary",onClick:u,fullWidth:!0,children:"Back to Login"}),n.jsx(st,{variant:"outline",onClick:f,fullWidth:!0,children:"Contact Support"})]}),n.jsxs("div",{className:"text-xs mt-6 p-4 rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Note:"})," You will receive an email notification when your account is verified. If you don't see the email, please check your spam folder."]})]});return n.jsxs(Qm,{title:"Account Verification Status",children:[n.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Delivery partner account verification"}),b()]})},hae=()=>{const[r,t]=O.useState(!0),[s,i]=O.useState([]),[l,u]=O.useState([]),[m,f]=O.useState(""),[b,v]=O.useState("all"),[k,C]=O.useState(!1),[_,S]=O.useState(null),[M,R]=O.useState(!1),[I,z]=O.useState(1),[V]=O.useState(10),{fetchAssignedDeliveries:U,updateDeliveryStatus:q,assignedDeliveries:$}=ac(),ne=O.useCallback(xe=>{if(!xe)return"N/A";const{street_address:ie,city:ae,state:le,postal_code:oe}=xe;return[ie,ae,le,oe].filter(Boolean).join(", ")},[]);O.useEffect(()=>{(async()=>{t(!0);try{await U()}catch(ie){console.error("Error fetching assigned deliveries:",ie),$e.error("Failed to load delivery assignments")}finally{t(!1)}})()},[]),O.useEffect(()=>{const xe=$==null?void 0:$.map(ie=>{var ae,le,oe;return{id:ie.order_id,orderId:ie.order_id,customer:{name:ie.customer_name||"Customer",phone:ie.customer_phone||"N/A",address:ne(ie.delivery_address)},address:ne(ie.delivery_address),customerPhone:ie.customer_phone||"N/A",order_items:((ae=ie.order_items)==null?void 0:ae.map(G=>{var ue;return{...G,name:G.name||(G.brand&&((ue=G.variant_details)!=null&&ue.storage)?`${G.brand} ${G.variant_details.storage}`:G.brand||"Product")}}))||[],item_count:ie.item_count||((le=ie.order_items)==null?void 0:le.length)||0,status:ie.delivery_status||"pending",priority:Q(ie),distance:"N/A",expectedDelivery:ie.estimated_delivery,estimated_delivery:ie.estimated_delivery,estimatedDelivery:ie.estimated_delivery,assignedDate:ie.assigned_at,assigned_at:ie.assigned_at,paymentType:ie.payment_method||"Online Payment",payment_method:ie.payment_method||"Online Payment",paymentStatus:ie.status||"payment_successful",paymentAmount:`${((oe=ie.total_amount)==null?void 0:oe.toLocaleString())||0}`,createdAt:ie.created_at,created_at:ie.created_at,total_amount:ie.total_amount,currency:ie.currency||"INR",delivery_address:ie.delivery_address,...ie}});i(xe),u(xe),console.log("DeliveryAssignmentList rendered",s,l)},[$,ne]);const Q=xe=>{if(!xe)return"normal";const ie=xe.estimated_delivery?new Date(xe.estimated_delivery):null;return ie&&ie-new Date<24*60*60*1e3?"high":"normal"};O.useEffect(()=>{const xe=s==null?void 0:s.filter(ie=>{const ae=ie.orderId.toLowerCase().includes(m.toLowerCase())||ie.customer.name.toLowerCase().includes(m.toLowerCase())||ie.customer.address.toLowerCase().includes(m.toLowerCase());return b==="all"?ae:b==="high-priority"?ae&&ie.priority==="high":b==="normal-priority"?ae&&ie.priority==="normal":ae});u(xe)},[m,b,s]);const B=async xe=>{var ie,ae,le;try{const oe=s.find(G=>G.id===xe);if(oe){const G={...oe,id:oe.id||oe.order_id,orderId:oe.orderId||oe.order_id,customer:{name:((ie=oe.customer)==null?void 0:ie.name)||oe.customer_name||"Customer",phone:((ae=oe.customer)==null?void 0:ae.phone)||oe.customer_phone||oe.customerPhone||"N/A",address:((le=oe.customer)==null?void 0:le.address)||ne(oe.delivery_address)},status:oe.status||oe.delivery_status||"assigned",order_items:oe.order_items||[],item_count:oe.item_count||oe.itemCount||oe.order_items&&oe.order_items.length||0};S(G),C(!0)}}catch(oe){console.error("Error processing delivery details:",oe),$e.error("Could not load delivery details")}},Y=async(xe,ie,ae)=>{R(!0);try{await q(xe,ie,ae),i(le=>le.map(oe=>oe.id===xe?{...oe,status:ie}:oe)),u(le=>le.map(oe=>oe.id===xe?{...oe,status:ie}:oe)),$e.success("Delivery status updated successfully"),C(!1),S(null)}catch(le){console.error("Error updating delivery status:",le),$e.error("Failed to update delivery status")}finally{R(!1)}},J=()=>{C(!1),S(null)},W=I*V,ee=W-V,te=l.slice(ee,W),be=xe=>z(xe);return n.jsxs(ud,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Available Delivery Assignments"}),n.jsxs("div",{className:"flex flex-col md:flex-row w-full md:w-auto gap-3",children:[n.jsxs("div",{className:"relative flex-grow md:w-64",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(Mi,{size:18})}),n.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:m,onChange:xe=>f(xe.target.value)})]}),n.jsxs("div",{className:"relative md:w-48",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(wd,{size:18})}),n.jsxs("select",{value:b,onChange:xe=>v(xe.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[n.jsx("option",{value:"all",children:"All Assignments"}),n.jsx("option",{value:"high-priority",children:"High Priority"}),n.jsx("option",{value:"normal-priority",children:"Normal Priority"})]})]})]})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(l==null?void 0:l.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:te.map(xe=>n.jsx(oae,{delivery:xe,onAccept:()=>B(xe.id)},xe.id))}),l.length>V&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>be(I-1),disabled:I===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:I===1?"var(--bg-disabled)":"var(--bg-secondary)",color:I===1?"var(--text-disabled)":"var(--text-primary)",cursor:I===1?"not-allowed":"pointer"},children:n.jsx(sa,{})}),Array.from({length:Math.ceil(l.length/V)}).map((xe,ie)=>n.jsx("button",{onClick:()=>be(ie+1),className:"px-4 py-2",style:{backgroundColor:I===ie+1?"var(--brand-primary)":"var(--bg-secondary)",color:I===ie+1?"white":"var(--text-primary)"},children:ie+1},ie)),n.jsx("button",{onClick:()=>be(I+1),disabled:I===Math.ceil(l.length/V),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:I===Math.ceil(l.length/V)?"var(--bg-disabled)":"var(--bg-secondary)",color:I===Math.ceil(l.length/V)?"var(--text-disabled)":"var(--text-primary)",cursor:I===Math.ceil(l.length/V)?"not-allowed":"pointer"},children:n.jsx(wn,{})})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(el,{size:48,style:{color:"var(--text-secondary)"},className:"mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No assignments found"}),n.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:m||b!=="all"?"Try changing your search terms or filters":"There are currently no delivery assignments available. Check back later!"})]})]}),n.jsx(vx,{isOpen:k,onClose:J,delivery:_,onStatusUpdate:Y,isSubmitting:M})]})},OR=()=>{const{id:r}=ng(),t=ns(),[s,i]=O.useState(!!r),[l,u]=O.useState(null),[m,f]=O.useState(null),[b,v]=O.useState(""),[k,C]=O.useState([]),[_,S]=O.useState(!1),[M,R]=O.useState(null),[I,z]=O.useState(!1),[V,U]=O.useState(1),[q]=O.useState(10),{fetchAssignedDeliveries:$,updateDeliveryStatus:ne,assignedDeliveries:Q}=ac(),B=O.useCallback(G=>{if(!G)return"N/A";const{street_address:ue,city:me,state:ye,postal_code:ve}=G;return[ue,me,ye,ve].filter(Boolean).join(", ")},[]);console.log("assigned",Q);const Y=O.useCallback(async()=>{i(!0);try{await $()}catch(G){console.error("Error fetching assigned deliveries:",G),$e.error("Failed to load deliveries")}finally{i(!1)}},[]);O.useEffect(()=>{const G=Q==null?void 0:Q.map(ue=>{var me,ye,ve,Me;return{id:ue.order_id,orderId:ue.order_id,customerName:ue.customer_name||"Customer",customerAddress:B(ue.delivery_address),customerPhone:ue.customer_phone||"N/A",status:ue.delivery_status||ue.status||"assigned",order_items:((me=ue.order_items)==null?void 0:me.map(Ae=>{var Ye;return{...Ae,name:Ae.name||(Ae.brand&&((Ye=Ae.variant_details)!=null&&Ye.storage)?`${Ae.brand} ${Ae.variant_details.storage}`:Ae.brand||"Product")}}))||[],items:ue.order_items||[],item_count:ue.item_count||((ye=ue.order_items)==null?void 0:ye.length)||0,itemCount:ue.item_count||((ve=ue.order_items)==null?void 0:ve.length)||0,expectedDelivery:ue.estimated_delivery,assignedOn:ue.assigned_at,paymentType:ue.payment_method||"Online Payment",paymentAmount:`${((Me=ue.total_amount)==null?void 0:Me.toLocaleString())||0}`,customer:{name:ue.customer_name||"Customer",phone:ue.customer_phone||"N/A",address:B(ue.delivery_address)},...ue}});C(G)},[Q,B]);const J=O.useCallback(async G=>{var ue,me,ye,ve;i(!0),f(null);try{const Ae=(await $()).find(Ye=>Ye.order_id===G);if(Ae)u({id:Ae.order_id,orderId:Ae.order_id,status:Ae.delivery_status||Ae.status||"assigned",customer:{name:Ae.customer_name||"Customer",phone:Ae.customer_phone||"N/A",address:B(Ae.delivery_address)},order_items:((ue=Ae.order_items)==null?void 0:ue.map(Ye=>{var ze;return{...Ye,name:Ye.name||(Ye.brand&&((ze=Ye.variant_details)!=null&&ze.storage)?`${Ye.brand} ${Ye.variant_details.storage}`:Ye.brand||"Product")}}))||[],items:Ae.order_items||[],item_count:Ae.item_count||((me=Ae.order_items)==null?void 0:me.length)||0,itemCount:Ae.item_count||((ye=Ae.order_items)==null?void 0:ye.length)||0,paymentType:Ae.payment_method||"Online Payment",payment_method:Ae.payment_method||"Online Payment",paymentStatus:Ae.status||"payment_successful",paymentAmount:`${((ve=Ae.total_amount)==null?void 0:ve.toLocaleString())||0}`,total_amount:Ae.total_amount,currency:Ae.currency||"INR",deliveryInstructions:Ae.delivery_instructions||"",expectedDelivery:Ae.estimated_delivery,estimatedDelivery:Ae.estimated_delivery,estimated_delivery:Ae.estimated_delivery,assignedOn:Ae.assigned_at,assigned_at:Ae.assigned_at,assignedPartnerName:Ae.assigned_partner_name,delivery_address:Ae.delivery_address,...Ae});else throw new Error("Delivery not found")}catch(Me){f("Failed to load delivery information. Please try again."),console.error("Error fetching delivery:",Me)}finally{i(!1)}},[$,B]);O.useEffect(()=>{r?J(r):Y()},[r,J,Y]);const W=G=>{const ue=G.target.value.toLowerCase();if(v(ue),!ue.trim()){Y();return}const me=k.filter(ye=>ye.id.toLowerCase().includes(ue)||ye.orderId.toLowerCase().includes(ue)||ye.customerName.toLowerCase().includes(ue)||ye.customerAddress.toLowerCase().includes(ue));C(me)},ee=G=>{var ue,me,ye,ve,Me;try{const Ae=k.find(Ye=>Ye.id===G);if(Ae){const Ye={...Ae,customer:{name:((ue=Ae.customer)==null?void 0:ue.name)||Ae.customerName||"Customer",phone:((me=Ae.customer)==null?void 0:me.phone)||Ae.customerPhone||"N/A",address:((ye=Ae.customer)==null?void 0:ye.address)||Ae.customerAddress},order_items:Ae.order_items||Ae.items||[],item_count:Ae.item_count||Ae.itemCount||((ve=Ae.order_items)==null?void 0:ve.length)||0||((Me=Ae.items)==null?void 0:Me.length)||0};R(Ye),S(!0)}}catch(Ae){console.error("Error processing delivery details:",Ae),$e.error("Could not load delivery details")}},te=async(G,ue,me)=>{z(!0);try{await ne(G,ue,me),l&&l.id===G&&u(ye=>({...ye,status:ue})),C(ye=>ye.map(ve=>ve.id===G?{...ve,status:ue}:ve)),$e.success("Delivery status updated successfully"),S(!1),R(null)}catch(ye){console.error("Error updating status:",ye),$e.error("Failed to update delivery status")}finally{z(!1)}},be=()=>{var ue,me,ye,ve,Me,Ae,Ye;const G={...l,order_items:((ue=l.order_items)==null?void 0:ue.map(ze=>{var Qe;return{...ze,name:ze.name||(ze.brand&&((Qe=ze.variant_details)!=null&&Qe.storage)?`${ze.brand} ${ze.variant_details.storage}`:ze.brand||"Product")}}))||l.items||[],customer:{name:((me=l.customer)==null?void 0:me.name)||l.customerName||"Customer",phone:((ye=l.customer)==null?void 0:ye.phone)||l.customerPhone||"N/A",address:((ve=l.customer)==null?void 0:ve.address)||B(l.delivery_address)||l.customerAddress},item_count:l.item_count||l.itemCount||((Me=l.order_items)==null?void 0:Me.length)||0||((Ae=l.items)==null?void 0:Ae.length)||0,paymentType:l.paymentType||l.payment_method||"Online Payment",paymentAmount:l.paymentAmount||`${((Ye=l.total_amount)==null?void 0:Ye.toLocaleString())||0}`};R(G),S(!0)},xe=()=>{S(!1),R(null)},ie=V*q,ae=ie-q,le=k.slice(ae,ie),oe=G=>U(G);return r?s||!l?n.jsx(ud,{children:n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})})}):n.jsx(ud,{children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:()=>t("/delivery/assignments"),className:"flex items-center text-sm font-medium mb-4",style:{color:"var(--brand-primary)"},children:[n.jsx(cd,{className:"mr-2"})," Back to Assignments"]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Delivery ID:"}),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.id}),n.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:""}),n.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Order:"}),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.orderId})]})]}),n.jsxs("div",{className:"mt-4 md:mt-0 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:l.status==="delivered"?"var(--success-color)20":l.status==="failed_attempt"||l.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:l.status==="delivered"?"var(--success-color)":l.status==="failed_attempt"||l.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:[(l.status==="assigned"||l.status==="shipped"||l.status==="payment_successful")&&"Assigned",l.status==="out_for_delivery"&&"Out For Delivery",l.status==="delivered"&&"Delivered",l.status==="failed_attempt"&&"Failed Attempt",l.status==="failed_final"&&"Failed",l.status==="returning_to_warehouse"&&"Returning"]})]})]}),m&&n.jsx("div",{className:"p-4 mb-6 rounded-lg",style:{backgroundColor:"var(--error-color)10",borderLeft:"4px solid var(--error-color)"},children:n.jsx("p",{style:{color:"var(--error-color)"},children:m})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"rounded-lg p-6 mb-6",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(wt,{className:"mr-2"})," Update Status"]}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Click the button below to update the delivery status for this order."}),n.jsx(st,{variant:"primary",onClick:be,className:"transition-transform hover:scale-105",children:"Update Delivery Status"})]})}),n.jsx("div",{children:n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h2",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Customer Information"}),n.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.customer.name}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:l.customer.phone}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:l.customer.address})]}),l.estimatedDelivery&&n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:[new Date(l.estimatedDelivery).toLocaleDateString(),"at",new Date(l.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:["Items (",l.item_count||l.order_items&&l.order_items.length||l.items&&l.items.length||"Unknown",")"]}),l.order_items&&l.order_items.length>0?n.jsx("ul",{className:"space-y-2",children:l.order_items.map((G,ue)=>{var me,ye,ve,Me;return n.jsxs("li",{className:"flex justify-between text-sm border-b pb-1 last:border-b-0",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:G.name||G.brand+" "+(((me=G.variant_details)==null?void 0:me.storage)||"")||"Product"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Qty: ",G.quantity]}),G.variant_details&&n.jsx("span",{className:"text-xs mt-0.5",style:{color:"var(--text-secondary)"},children:[G.variant_details.ram,G.variant_details.storage,G.variant_details.colors].filter(Boolean).join(", ")})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",G.price_at_purchase||((ye=G.variant_details)==null?void 0:ye.discounted_price)||G.price||"N/A"]}),((ve=G.variant_details)==null?void 0:ve.price)&&((Me=G.variant_details)==null?void 0:Me.discounted_price)&&G.variant_details.price>G.variant_details.discounted_price&&n.jsxs("span",{className:"line-through text-xs",style:{color:"var(--text-secondary)"},children:["",G.variant_details.price]})]})]},ue)})}):l.items&&l.items.length>0?n.jsx("ul",{className:"space-y-2",children:l.items.map((G,ue)=>n.jsxs("li",{className:"flex justify-between text-sm",children:[n.jsxs("span",{style:{color:"var(--text-primary)"},children:[G.name," x",G.quantity]}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["",G.price]})]},ue))}):n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Item details not available. Contact support for order details."})]}),n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Payment Information"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),n.jsx("span",{className:"font-medium",style:{color:l.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:l.paymentType})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),n.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:l.paymentAmount})]})]}),l.deliveryInstructions&&n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:l.deliveryInstructions})]})]})]})})]}),n.jsx(vx,{isOpen:_,onClose:xe,delivery:M,onStatusUpdate:te,isSubmitting:I})]})}):n.jsxs(ud,{children:[n.jsxs("div",{className:"w-full",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),n.jsx("div",{className:"mb-6",children:n.jsx(qr,{type:"text",placeholder:"Search by Order ID, Customer Name, or Address...",value:b,onChange:W,icon:n.jsx(Mi,{})})}),s?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(k==null?void 0:k.length)===0?n.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(wt,{className:"h-12 w-12 mx-auto mb-3"}),n.jsx("h3",{className:"text-lg font-medium",children:"No deliveries found"}),n.jsx("p",{className:"mt-2",children:"Try a different search term or check back later."})]}):n.jsxs("div",{className:"space-y-4",children:[le.map(G=>n.jsx("div",{className:"p-4 rounded-lg cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"4px solid var(--brand-primary)"},onClick:()=>ee(G.id),children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:G.customerName}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:G.customerAddress}),n.jsx("div",{className:"mt-2 flex items-center",children:n.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:G.status==="delivered"?"var(--success-color)20":G.status==="failed_attempt"||G.status==="failed_final"?"var(--error-color)20":G.status==="shipped"||G.status==="payment_successful"||G.status==="assigned"?"var(--brand-primary)20":"var(--warning-color)20",color:G.status==="delivered"?"var(--success-color)":G.status==="failed_attempt"||G.status==="failed_final"?"var(--error-color)":G.status==="shipped"||G.status==="payment_successful"||G.status==="assigned"?"var(--brand-primary)":"var(--warning-color)"},children:G.status==="assigned"||G.status==="shipped"||G.status==="payment_successful"?"Assigned":G.status==="out_for_delivery"?"Out For Delivery":G.status==="delivered"?"Delivered":G.status==="failed_attempt"?"Failed Attempt":G.status==="failed_final"?"Failed":G.status==="returning_to_warehouse"?"Returning":G.status})})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:G.id}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order: ",G.orderId]})]})]})},G.id)),k.length>q&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>oe(V-1),disabled:V===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:V===1?"var(--bg-disabled)":"var(--bg-secondary)",color:V===1?"var(--text-disabled)":"var(--text-primary)",cursor:V===1?"not-allowed":"pointer"},children:n.jsx(sa,{})}),Array.from({length:Math.ceil(k.length/q)}).map((G,ue)=>n.jsx("button",{onClick:()=>oe(ue+1),className:"px-4 py-2",style:{backgroundColor:V===ue+1?"var(--brand-primary)":"var(--bg-secondary)",color:V===ue+1?"white":"var(--text-primary)"},children:ue+1},ue)),n.jsx("button",{onClick:()=>oe(V+1),disabled:V===Math.ceil(k.length/q),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:V===Math.ceil(k.length/q)?"var(--bg-disabled)":"var(--bg-secondary)",color:V===Math.ceil(k.length/q)?"var(--text-disabled)":"var(--text-primary)",cursor:V===Math.ceil(k.length/q)?"not-allowed":"pointer"},children:n.jsx(wn,{})})]})})]})]}),n.jsx(vx,{isOpen:_,onClose:xe,delivery:M,onStatusUpdate:te,isSubmitting:I})]})},mae=()=>{var ie;const r=To(),[t,s]=O.useState(!0),[i,l]=O.useState([]),[u,m]=O.useState([]),[f,b]=O.useState(""),[v,k]=O.useState("all"),[C,_]=O.useState("all"),[S,M]=O.useState(""),[R,I]=O.useState(1),[z]=O.useState(10),[V,U]=O.useState(!1),[q,$]=O.useState(null),{fetchDeliveryHistory:ne}=ac(),Q=O.useCallback(ae=>{if(!ae)return"N/A";if(typeof ae=="string")return ae;if(typeof ae=="object"){const{street_address:le,city:oe,state:G,postal_code:ue}=ae,me=[le,oe,G,ue].filter(Boolean).filter(ye=>typeof ye=="string"&&ye.trim()!=="");return me.length>0?me.join(", "):"N/A"}return"N/A"},[]);O.useEffect(()=>{var ae;if((ae=r.state)!=null&&ae.successMessage){M(r.state.successMessage);const le=setTimeout(()=>{M("")},5e3);return()=>clearTimeout(le)}},[(ie=r.state)==null?void 0:ie.successMessage]),O.useEffect(()=>{(async()=>{s(!0);try{const oe=(await ne()).map(G=>{var me,ye;const ue=Q(G.address||G.delivery_address);return{id:G.order_id,orderId:G.order_id,customer:G.customer_name||"Customer",customer_phone:G.customer_phone,address:ue,delivery_address:G.address||G.delivery_address,status:B(G.delivery_status||""),delivery_status:G.delivery_status,completedDate:G.delivered_at||G.updated_at||G.created_at,expectedDelivery:G.estimated_delivery||new Date().toISOString(),estimated_delivery:G.estimated_delivery,amount:parseFloat(G.total_amount||"0"),total_amount:G.total_amount,paymentMethod:((me=G.payment_details)==null?void 0:me.method)||G.payment_method||"Online",payment_method:((ye=G.payment_details)==null?void 0:ye.method)||G.payment_method,notes:G.notes||"",order_items:G.order_items||[],tracking_info:G.tracking_info||{},payment_details:G.payment_details||{method:G.payment_method||"Online",status:G.status||"payment_successful"},currency:G.currency||"INR",created_at:G.created_at,updated_at:G.updated_at,assigned_at:G.assigned_at,delivered_at:G.delivered_at,...G}});l(oe),m(oe)}catch(le){console.error("Error fetching delivery history:",le),$e.error("Failed to load delivery history")}finally{s(!1)}})()},[]);const B=ae=>({delivered:"Delivered",out_for_delivery:"Out for Delivery",failed_final:"Failed",failed_attempt:"Failed",pending:"Pending",assigned:"Pending",cancelled:"Failed"})[ae.toLowerCase()]||"Pending";O.useEffect(()=>{const ae=i.filter(le=>{const oe=(le.orderId||"").toLowerCase().includes(f.toLowerCase())||(le.customer||"").toLowerCase().includes(f.toLowerCase())||(le.address||"").toLowerCase().includes(f.toLowerCase());let G=!0;const ue=new Date,me=le.completedDate?new Date(le.completedDate):null;if(v==="today")G=me&&me.getDate()===ue.getDate()&&me.getMonth()===ue.getMonth()&&me.getFullYear()===ue.getFullYear();else if(v==="week"){const ve=new Date;ve.setDate(ve.getDate()-7),G=me&&me>=ve}else if(v==="month"){const ve=new Date;ve.setMonth(ve.getMonth()-1),G=me&&me>=ve}const ye=C==="all"||(le.status||"").toLowerCase()===C.toLowerCase();return oe&&G&&ye});m(ae)},[f,v,C,i]);const Y=ae=>{var oe,G,ue;const le=typeof ae.address=="string"?ae.address:Q(ae.delivery_address);$({...ae,customer:{name:ae.customer||"Customer",phone:ae.customer_phone||"N/A",address:le},paymentType:((oe=ae.payment_details)==null?void 0:oe.method)||ae.payment_method||"Online",paymentStatus:((G=ae.payment_details)==null?void 0:G.status)||ae.status||"payment_successful",paymentAmount:`${((ue=ae.total_amount)==null?void 0:ue.toLocaleString())||0}`}),U(!0)},J=()=>{U(!1),$(null)},W=R*z,ee=W-z,te=u.slice(ee,W),be=ae=>I(ae),xe=()=>{if(u.length===0){$e.error("No data to export");return}const oe="data:text/csv;charset=utf-8,"+[["Order ID","Customer","Address","Status","Completed Date","Expected Delivery","Amount","Payment Method","Notes"].join(","),...u.map(me=>[`"${me.orderId}"`,`"${me.customer}"`,`"${me.address}"`,`"${me.status}"`,`"${new Date(me.completedDate).toLocaleDateString()}"`,`"${new Date(me.expectedDelivery).toLocaleDateString()}"`,me.amount,`"${me.paymentMethod}"`,`"${me.notes}"`].join(","))].join(`
`),G=encodeURI(oe),ue=document.createElement("a");ue.setAttribute("href",G),ue.setAttribute("download",`delivery_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),$e.success("Delivery history exported successfully")};return n.jsxs(ud,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[S&&n.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--success-color)10",borderLeft:"4px solid var(--success-color)"},children:n.jsx("p",{style:{color:"var(--success-color)"},children:S})}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Delivery History"}),n.jsxs("button",{onClick:xe,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:[n.jsx(Ei,{className:"mr-2"}),"Export History"]})]}),n.jsx("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-3",children:[n.jsxs("div",{className:"relative flex-grow md:w-64",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(Mi,{size:18})}),n.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:f,onChange:ae=>b(ae.target.value)})]}),n.jsxs("div",{className:"relative md:w-48",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(ri,{size:18})}),n.jsxs("select",{value:v,onChange:ae=>k(ae.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]}),n.jsxs("div",{className:"relative md:w-48",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(wd,{size:18})}),n.jsxs("select",{value:C,onChange:ae=>_(ae.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"failed_final",children:"Failed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),t?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):u.length>0?n.jsxs("div",{className:"space-y-4",children:[te.map(ae=>n.jsx(lae,{delivery:ae,onViewDetails:()=>Y(ae)},ae.order_id||ae.id)),u.length>z&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>be(R-1),disabled:R===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:R===1?"var(--bg-disabled)":"var(--bg-secondary)",color:R===1?"var(--text-disabled)":"var(--text-primary)",cursor:R===1?"not-allowed":"pointer"},children:n.jsx(sa,{})}),Array.from({length:Math.ceil(u.length/z)}).map((ae,le)=>n.jsx("button",{onClick:()=>be(le+1),className:"px-4 py-2",style:{backgroundColor:R===le+1?"var(--brand-primary)":"var(--bg-secondary)",color:R===le+1?"white":"var(--text-primary)"},children:le+1},le)),n.jsx("button",{onClick:()=>be(R+1),disabled:R===Math.ceil(u.length/z),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:R===Math.ceil(u.length/z)?"var(--bg-disabled)":"var(--bg-secondary)",color:R===Math.ceil(u.length/z)?"var(--text-disabled)":"var(--text-primary)",cursor:R===Math.ceil(u.length/z)?"not-allowed":"pointer"},children:n.jsx(wn,{})})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,style:{color:"var(--text-secondary)"},children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No delivery history found"}),n.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:f||v!=="all"||C!=="all"?"Try changing your search terms or filters":"Your completed deliveries will appear here once you've made some deliveries."})]})]}),n.jsx(vx,{isOpen:V,onClose:J,delivery:q||{},isReadOnly:!0})]})},pae=()=>{const[r,t]=O.useState(!0),[s,i]=O.useState({todayDeliveries:0,pendingDeliveries:0,completedDeliveries:0,rating:4.8}),[l,u]=O.useState([]),[m,f]=O.useState([]),[b,v]=O.useState(!1),[k,C]=O.useState(null),[_,S]=O.useState(!1),[M,R]=O.useState(1),[I]=O.useState(10),{fetchAssignedDeliveries:z,fetchDeliveryHistory:V,updateDeliveryStatus:U}=ac(),q=O.useCallback(ve=>{if(!ve)return"N/A";const{street_address:Me,city:Ae,state:Ye,postal_code:ze}=ve;return[Me,Ae,Ye,ze].filter(Boolean).join(", ")},[]),$=O.useCallback(ve=>{if(!ve)return"N/A";const Me=new Date(ve),Ae=new Date,Ye=new Date(Ae);return Ye.setDate(Ye.getDate()-1),Me.setHours(0,0,0,0)===Ae.setHours(0,0,0,0)?`Today, ${Me.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:Me.setHours(0,0,0,0)===Ye.setHours(0,0,0,0)?`Yesterday, ${Me.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:`${Me.toLocaleDateString()}, ${Me.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},[]),ne=O.useCallback(ve=>!ve||!ve.estimated_delivery?"normal":new Date(ve.estimated_delivery)-new Date<24*60*60*1e3?"high":"normal",[]),Q=O.useCallback(ve=>ve?ve.charAt(0).toUpperCase()+ve.slice(1):"",[]),B=O.useCallback((ve=[],Me=[])=>{const Ae=ve.slice(0,3).map(Be=>({id:Be.order_id,orderId:Be.order_id,customer:Be.customer_name||"Customer",address:q(Be.delivery_address),scheduledTime:$(Be.estimated_delivery),priority:ne(Be)}));f(Ae);const Ye=Me.slice(0,3).map(Be=>({id:Be.order_id,orderId:Be.order_id,customer:Be.customer_name||"Customer",address:q(Be.delivery_address),status:Q(Be.delivery_status||""),time:$(Be.delivered_at||Be.updated_at||Be.created_at),reason:Be.notes||null}));u(Ye);const ze=new Date;ze.setHours(0,0,0,0);const Qe=Me.filter(Be=>new Date(Be.delivered_at||Be.updated_at)>=ze).length;i({todayDeliveries:Qe,pendingDeliveries:ve.length,completedDeliveries:Me.length,rating:4.8})},[q,$,ne,Q]);O.useEffect(()=>{(async()=>{t(!0);try{const Me=await z(),Ae=await V();B(Me,Ae)}catch(Me){console.error("Error fetching dashboard data:",Me),$e.error("Failed to load dashboard data")}finally{t(!1)}})()},[]);const Y=O.useCallback(ve=>{switch(ve){case"Delivered":return"var(--success-color)";case"Failed_attempt":case"Failed_final":case"Failed":return"var(--error-color)";case"Assigned":case"Out_for_delivery":case"Pending":return"var(--warning-color)";default:return"var(--brand-primary)"}},[]),J=O.useCallback(ve=>{switch(ve){case"high":return{color:"var(--error-color)",label:"High Priority"};case"normal":return{color:"var(--brand-primary)",label:"Normal"};case"low":return{color:"var(--text-secondary)",label:"Low Priority"};default:return{color:"var(--brand-primary)",label:"Normal"}}},[]),W=({icon:ve,value:Me,label:Ae,color:Ye,bgColor:ze})=>n.jsx("div",{className:"rounded-lg p-6 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:Me}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:Ae})]}),n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:ze,color:Ye},children:ve})]})}),ee=({delivery:ve})=>n.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${Y(ve.status)}20`,color:Y(ve.status)},children:ve.status==="Delivered"?n.jsx(Yn,{size:20}):n.jsx(el,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",ve.orderId]}),n.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${Y(ve.status)}20`,color:Y(ve.status)},children:ve.status})]}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:ve.customer}),n.jsxs("div",{className:"flex items-start mt-1",children:[n.jsx(Cn,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ve.address})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-right",style:{color:"var(--text-secondary)"},children:ve.time}),ve.reason&&n.jsx("p",{className:"text-xs mt-1 text-right",style:{color:"var(--error-color)"},children:ve.reason}),n.jsxs("button",{onClick:Me=>{Me.stopPropagation(),be(ve)},className:"flex items-center justify-end text-xs font-medium mt-2",style:{color:"var(--brand-primary)"},children:["View Details",n.jsx(wn,{size:14,className:"ml-0.5"})]})]})]})}),te=({delivery:ve})=>{const Me=J(ve.priority);return n.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(wt,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",ve.orderId]}),n.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${Me.color}20`,color:Me.color},children:Me.label})]}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:ve.customer}),n.jsxs("div",{className:"flex items-start mt-1",children:[n.jsx(Cn,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ve.address})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-xs mb-2",style:{color:"var(--brand-primary)"},children:[n.jsx(rn,{size:12,className:"mr-1"}),ve.scheduledTime]}),n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),be(ve)},className:"flex items-center justify-end text-xs font-medium",style:{color:"var(--brand-primary)"},children:["View Details",n.jsx(wn,{size:14,className:"ml-0.5"})]})]})]})})},be=ve=>{(async()=>{var Ae,Ye,ze;try{const Be=(await z()).find(fe=>fe.order_id===ve.id);if(Be){const fe={id:Be.order_id,orderId:Be.order_id,customer:{name:Be.customer_name||"Customer",phone:Be.customer_phone||"N/A",address:q(Be.delivery_address)},status:Be.delivery_status||Be.status||"assigned",order_items:((Ae=Be.order_items)==null?void 0:Ae.map(et=>{var He;return{...et,name:et.name||(et.brand&&((He=et.variant_details)!=null&&He.storage)?`${et.brand} ${et.variant_details.storage}`:et.brand||"Product")}}))||[],item_count:Be.item_count||((Ye=Be.order_items)==null?void 0:Ye.length)||0,expectedDelivery:Be.estimated_delivery,delivery_address:Be.delivery_address,paymentType:Be.payment_method||"Online Payment",paymentStatus:Be.status||"payment_successful",paymentAmount:`${((ze=Be.total_amount)==null?void 0:ze.toLocaleString())||0}`,currency:Be.currency||"INR",total_amount:Be.total_amount,assignedOn:Be.assigned_at,created_at:Be.created_at,estimatedDelivery:Be.estimated_delivery,...Be};C(fe),v(!0)}else C(ve),v(!0),console.warn("Could not find full delivery details",ve.id)}catch(Qe){console.error("Error fetching delivery details:",Qe),C(ve),v(!0),$e.error("Could not fetch complete delivery details")}})()},xe=()=>{v(!1),C(null)},ie=M*I,ae=ie-I,le=l.slice(ae,ie),oe=M*I,G=oe-I,ue=m.slice(G,oe),me=ve=>R(ve),ye=async(ve,Me,Ae)=>{S(!0);try{await U(ve,Me,Ae),u(Ye=>Ye.map(ze=>ze.id===ve?{...ze,status:Me}:ze)),f(Ye=>Ye.map(ze=>ze.id===ve?{...ze,status:Me}:ze)),$e.success("Delivery status updated successfully"),v(!1),C(null)}catch(Ye){console.error("Error updating delivery status:",Ye),$e.error("Failed to update delivery status")}finally{S(!1)}};return n.jsxs(ud,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Delivery Dashboard"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Welcome back! Here's an overview of your delivery activities."})]}),n.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:n.jsxs("div",{className:"mr-2 px-4 py-2 rounded-md text-sm flex items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(ri,{size:16,className:"mr-2",style:{color:"var(--text-secondary)"}}),n.jsx("span",{style:{color:"var(--text-primary)"},children:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsx(W,{icon:n.jsx(Lr,{size:24}),value:s.todayDeliveries,label:"Today's Deliveries",color:"var(--brand-primary)",bgColor:"var(--bg-accent-light)"}),n.jsx(W,{icon:n.jsx(wt,{size:24}),value:s.pendingDeliveries,label:"Pending Deliveries",color:"var(--warning-color)",bgColor:"var(--warning-color)20"}),n.jsx(W,{icon:n.jsx(Yn,{size:24}),value:s.completedDeliveries,label:"Completed Deliveries",color:"var(--success-color)",bgColor:"var(--success-color)20"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Upcoming Deliveries"}),n.jsxs(rt,{to:"/delivery/assignments",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View All",n.jsx(wn,{size:14,className:"ml-0.5"})]})]}),n.jsx("div",{className:"space-y-3",children:m.length>0?n.jsxs(n.Fragment,{children:[ue.map(ve=>n.jsx(te,{delivery:ve},ve.id)),m.length>I&&n.jsx("div",{className:"flex justify-center mt-4",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>me(M-1),disabled:M===1,className:"px-2 py-1 rounded-l-md",style:{backgroundColor:M===1?"var(--bg-disabled)":"var(--bg-secondary)",color:M===1?"var(--text-disabled)":"var(--text-primary)",cursor:M===1?"not-allowed":"pointer"},children:n.jsx(sa,{size:16})}),Array.from({length:Math.ceil(m.length/I)}).map((ve,Me)=>n.jsx("button",{onClick:()=>me(Me+1),className:"px-2 py-1",style:{backgroundColor:M===Me+1?"var(--brand-primary)":"var(--bg-secondary)",color:M===Me+1?"white":"var(--text-primary)"},children:Me+1},Me)),n.jsx("button",{onClick:()=>me(M+1),disabled:M===Math.ceil(m.length/I),className:"px-2 py-1 rounded-r-md",style:{backgroundColor:M===Math.ceil(m.length/I)?"var(--bg-disabled)":"var(--bg-secondary)",color:M===Math.ceil(m.length/I)?"var(--text-disabled)":"var(--text-primary)",cursor:M===Math.ceil(m.length/I)?"not-allowed":"pointer"},children:n.jsx(wn,{size:16})})]})})]}):n.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No upcoming deliveries at this time."})})]}),n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Recent Deliveries"}),n.jsxs(rt,{to:"/delivery/history",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View History",n.jsx(wn,{size:14,className:"ml-0.5"})]})]}),n.jsx("div",{className:"space-y-3",children:l.length>0?n.jsxs(n.Fragment,{children:[le.map(ve=>n.jsx(ee,{delivery:ve},ve.id)),l.length>I&&n.jsx("div",{className:"flex justify-center mt-4",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>me(M-1),disabled:M===1,className:"px-2 py-1 rounded-l-md",style:{backgroundColor:M===1?"var(--bg-disabled)":"var(--bg-secondary)",color:M===1?"var(--text-disabled)":"var(--text-primary)",cursor:M===1?"not-allowed":"pointer"},children:n.jsx(sa,{size:16})}),Array.from({length:Math.ceil(l.length/I)}).map((ve,Me)=>n.jsx("button",{onClick:()=>me(Me+1),className:"px-2 py-1",style:{backgroundColor:M===Me+1?"var(--brand-primary)":"var(--bg-secondary)",color:M===Me+1?"white":"var(--text-primary)"},children:Me+1},Me)),n.jsx("button",{onClick:()=>me(M+1),disabled:M===Math.ceil(l.length/I),className:"px-2 py-1 rounded-r-md",style:{backgroundColor:M===Math.ceil(l.length/I)?"var(--bg-disabled)":"var(--bg-secondary)",color:M===Math.ceil(l.length/I)?"var(--text-disabled)":"var(--text-primary)",cursor:M===Math.ceil(l.length/I)?"not-allowed":"pointer"},children:n.jsx(wn,{size:16})})]})})]}):n.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No recent deliveries."})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[n.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(rt,{to:"/delivery/assignments",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)20",color:"var(--brand-primary)"},children:n.jsx(wt,{size:16})}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"View Assignments"})]}),n.jsx(wn,{})]}),n.jsxs(rt,{to:"/delivery/history",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:n.jsx(rn,{size:16})}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"View Delivery History"})]}),n.jsx(wn,{})]}),n.jsxs(rt,{to:"/delivery/status-update",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:n.jsx(Fu,{size:16})}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"Update Delivery Status"})]}),n.jsx(wn,{})]})]})]})})]})]})]}),n.jsx(vx,{isOpen:b,onClose:xe,delivery:k,onStatusUpdate:ye,isSubmitting:_})]})},fae=()=>{const{partnerProfile:r,loading:t,error:s,fetchPartnerProfile:i,updatePartnerProfile:l}=ac(),[u,m]=O.useState(!1),[f,b]=O.useState({name:"",email:"",phone:"",address:"",vehicleType:"bike",vehicleNumber:"",currentPassword:"",newPassword:"",confirmPassword:""}),[v,k]=O.useState({});O.useEffect(()=>{i().catch(()=>{})},[]),O.useEffect(()=>{r&&b(R=>({...R,name:r.name||"",email:r.email||"",phone:r.phone||"",address:r.address||"",vehicleType:r.vehicle_type||"bike",vehicleNumber:r.vehicle_number||""}))},[r]),O.useEffect(()=>{s&&Se.error(s)},[s]);const C=R=>{const{name:I,value:z}=R.target;b({...f,[I]:z}),v[I]&&k({...v,[I]:""})},_=R=>{const I={};return R==="profile"&&(f.name.trim()||(I.name="Full name is required"),f.phone.trim()||(I.phone="Phone number is required"),f.address.trim()||(I.address="Address is required"),f.vehicleNumber.trim()||(I.vehicleNumber="Vehicle number is required")),R==="password"&&(f.currentPassword||f.newPassword||f.confirmPassword)&&(f.currentPassword||(I.currentPassword="Current password is required"),f.newPassword?f.newPassword.length<6&&(I.newPassword="Password must be at least 6 characters"):I.newPassword="New password is required",f.confirmPassword?f.newPassword!==f.confirmPassword&&(I.confirmPassword="Passwords don't match"):I.confirmPassword="Please confirm your new password"),k(I),Object.keys(I).length===0},S=async(R,I)=>{if(R.preventDefault(),!_(I)){Se.error("Please fix the errors in the form");return}try{const z={};I==="profile"&&(z.name=f.name,z.phone=f.phone,z.address=f.address,z.vehicle_type=f.vehicleType,z.vehicle_number=f.vehicleNumber),I==="password"&&f.currentPassword&&f.newPassword&&(z.current_password=f.currentPassword,z.new_password=f.newPassword);const V=await l(z);Se.success(V.message||"Profile updated successfully"),I==="password"&&b(U=>({...U,currentPassword:"",newPassword:"",confirmPassword:""})),m(!1),k({})}catch{}},M=()=>{m(!u),k({}),b(!u&&r?R=>({...R,name:r.name||"",phone:r.phone||"",address:r.address||"",vehicleType:r.vehicle_type||"bike",vehicleNumber:r.vehicle_number||"",currentPassword:"",newPassword:"",confirmPassword:""}):R=>({...R,currentPassword:"",newPassword:"",confirmPassword:""}))};return!r&&t?n.jsx(ud,{children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Di,{className:"w-8 h-8 animate-spin",style:{color:"var(--brand-primary)"}})})}):!r&&!t?n.jsx(ud,{children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Failed to load profile data"}),n.jsx("button",{onClick:()=>i(),className:"mt-2 px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]})})}):n.jsx(ud,{children:n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Profile Settings"}),n.jsx("button",{onClick:M,disabled:t,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:u?"var(--bg-secondary)":"var(--brand-primary)",color:u?"var(--text-primary)":"var(--text-on-brand)"},children:u?"Cancel":"Edit Profile"})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Profile Information"}),n.jsxs("form",{onSubmit:R=>S(R,"profile"),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Full Name"}),u?n.jsx(qr,{type:"text",name:"name",value:f.name,onChange:C,placeholder:"Enter your full name",icon:n.jsx(Ds,{}),error:v.name}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.name||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Email Address"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.email}),u&&n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Phone Number"}),u?n.jsx(qr,{type:"tel",name:"phone",value:f.phone,onChange:C,placeholder:"Enter your phone number",icon:n.jsx(ia,{}),error:v.phone}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.phone||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Address"}),u?n.jsx(qr,{type:"text",name:"address",value:f.address,onChange:C,placeholder:"Enter your address",icon:n.jsx(Cn,{}),error:v.address}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.address||"Not provided"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Vehicle Type"}),u?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(Lr,{})}),n.jsxs("select",{name:"vehicleType",value:f.vehicleType,onChange:C,className:"w-full pl-10 pr-3 py-2 rounded-md text-sm border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"bike",children:"Bike/Scooter"}),n.jsx("option",{value:"car",children:"Car"}),n.jsx("option",{value:"van",children:"Van/Mini Truck"})]})]}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.vehicle_type==="bike"?"Bike/Scooter":r.vehicle_type==="car"?"Car":r.vehicle_type==="van"?"Van/Mini Truck":r.vehicle_type||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Vehicle Number"}),u?n.jsx(qr,{type:"text",name:"vehicleNumber",value:f.vehicleNumber,onChange:C,placeholder:"Enter vehicle registration number",icon:n.jsx(Lr,{}),error:v.vehicleNumber}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.vehicle_number||"Not provided"})]})]}),u&&n.jsx("div",{className:"mt-4",children:n.jsx(st,{type:"submit",variant:"primary",isLoading:t,icon:n.jsx(Wm,{}),children:"Save Changes"})})]})]}),u&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"}),n.jsxs("form",{onSubmit:R=>S(R,"password"),className:"space-y-4",children:[n.jsx(qr,{label:"Current Password",type:"password",name:"currentPassword",value:f.currentPassword,onChange:C,placeholder:"Enter your current password",icon:n.jsx(dd,{}),error:v.currentPassword}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(qr,{label:"New Password",type:"password",name:"newPassword",value:f.newPassword,onChange:C,placeholder:"Enter new password (min 6 characters)",icon:n.jsx(dd,{}),error:v.newPassword}),n.jsx(qr,{label:"Confirm New Password",type:"password",name:"confirmPassword",value:f.confirmPassword,onChange:C,placeholder:"Confirm new password",icon:n.jsx(dd,{}),error:v.confirmPassword})]}),n.jsx("div",{className:"mt-4",children:n.jsx(st,{type:"submit",variant:"primary",isLoading:t,icon:n.jsx(Wm,{}),children:"Update Password"})})]})]})]})]})})},gae=({isOpen:r,onClose:t,stat:s})=>{if(!r||!s)return null;const i=m=>{m.target===m.currentTarget&&t()},u=(m=>{switch(m.toLowerCase()){case"total sales":return{description:"Total revenue generated from all completed orders",details:["Includes all successful transactions","Excludes cancelled and pending orders","Updated in real-time"]};case"new orders":return{description:"Number of new orders received in the last 24 hours",details:["Includes all order statuses","Refreshed every hour","Peak hours typically 10am-8pm"]};case"new customers":return{description:"Number of new customer registrations in the last 24 hours",details:["Counts verified accounts only","Includes both email and social logins","Conversion rate tracking available"]};case"low stock items":return{description:"Products with stock levels below 10 units",details:["Requires immediate attention","Includes all product variants","Auto-reorder recommendations available"]};default:return{description:"Statistical information about your business performance",details:["Data updated regularly","Historical trends available"]}}})(s.title);return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:i,children:n.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:m=>m.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${s.color}15`,color:s.color},children:s.icon}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:s.title}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Detailed Information"})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:s.color},children:s.value}),n.jsxs("div",{className:`inline-flex items-center text-sm font-medium px-3 py-1 rounded-full ${s.isPositive?"bg-green-100":"bg-red-100"}`,style:{color:s.isPositive?"var(--success-color)":"var(--error-color)"},children:[s.isPositive?n.jsx(N1,{className:"mr-1",size:14}):n.jsx(j1,{className:"mr-1",size:14}),s.change," from last period"]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Qu,{className:"mr-2"}),"About This Metric"]}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:u.description}),n.jsx("ul",{className:"text-sm space-y-1",children:u.details.map((m,f)=>n.jsxs("li",{className:"flex items-start",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"mr-2",children:""}),m]},f))})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},bae=({title:r,value:t,icon:s,change:i,isPositive:l,color:u})=>{const m=ns(),[f,b]=O.useState(!1),v=()=>{b(!0)},k=_=>{switch(_.toLowerCase()){case"new orders":return"/admin/orders";case"new customers":return"/admin/users";case"low stock items":return"/admin/inventory";default:return"/admin/dashboard"}},C=()=>{const _=k(r);_!=="/admin/dashboard"&&m(_)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg transition-all duration-300 hover:shadow-lg relative overflow-hidden cursor-pointer hover:scale-105 transform",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},onClick:v,onDoubleClick:C,title:`Click for details, double-click to navigate to ${k(r).split("/").pop()}`,children:[n.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 rounded-full opacity-10",style:{backgroundColor:u}}),n.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[n.jsx("div",{className:"p-3 rounded-full transition-transform duration-200 hover:scale-110",style:{backgroundColor:`${u}15`,color:u},children:s}),n.jsxs("div",{className:`flex items-center text-sm font-medium px-2.5 py-1 rounded-full ${l?"bg-green-100":"bg-red-100"}`,style:{color:l?"var(--success-color)":"var(--error-color)"},children:[l?n.jsx(N1,{className:"mr-1",size:14}):n.jsx(j1,{className:"mr-1",size:14}),i]})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:r}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:t})]}),n.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(Qu,{size:16})})]}),n.jsx(gae,{isOpen:f,onClose:()=>b(!1),stat:{title:r,value:t,icon:s,change:i,isPositive:l,color:u}})]})},yae=({analytics:r})=>{const t=[{title:"Total Revenue",value:`$${r.totalRevenue.toLocaleString()}`,change:r.totalRevenueChange,icon:n.jsx(Om,{size:24}),color:"#f59e0b"},{title:"Net Revenue",value:`$${r.netRevenue.toLocaleString()}`,change:r.netRevenueChange,icon:n.jsx(Fu,{size:24}),color:"#10b981"},{title:"Gross Profit",value:`$${r.grossProfit.toLocaleString()}`,change:r.grossProfitChange,icon:n.jsx(Gx,{size:24}),color:"#3b82f6"},{title:"Operating Costs",value:`$${r.operatingCosts.toLocaleString()}`,change:r.operatingCostsChange,icon:n.jsx(q9,{size:24}),color:"#ef4444"},{title:"Conversion Rate",value:`${r.conversionRate}%`,change:r.conversionRateChange,icon:n.jsx(Fee,{size:24}),color:"#8b5cf6"},{title:"Avg Order Value",value:`$${r.averageOrderValue}`,change:r.averageOrderValueChange,icon:n.jsx(Om,{size:24}),color:"#f59e0b"},{title:"Return Rate",value:`${r.returnRate}%`,change:r.returnRateChange,icon:n.jsx(Yee,{size:24}),color:"#ef4444"},{title:"Customer Acq. Cost",value:`$${r.customerAcquisitionCost}`,change:r.customerAcquisitionCostChange,icon:n.jsx(Om,{size:24}),color:"#06b6d4"}],s=({title:i,value:l,change:u,icon:m,color:f})=>{const b=u.startsWith("+"),v=u.startsWith("-"),k=i.includes("Cost")||i.includes("Return")?v:b;return n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${f}15`,color:f},children:m}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${k?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:i}),n.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:l})]})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Business Analytics"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Last 30 days"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((i,l)=>n.jsx(s,{...i},l))})]})},BR=({statistics:r})=>{const t=[{title:"Total Orders",value:r.totalOrders.toLocaleString(),change:r.totalOrdersChange,icon:n.jsx(tl,{size:20}),color:"#f59e0b",description:"All orders placed"},{title:"Pending",value:r.pendingOrders.toString(),change:r.pendingOrdersChange,icon:n.jsx(rn,{size:20}),color:"#f59e0b",description:"Awaiting processing"},{title:"Processing",value:r.processingOrders.toString(),change:r.processingOrdersChange,icon:n.jsx(Mo,{size:20}),color:"#3b82f6",description:"Being prepared"},{title:"Shipped",value:r.shippedOrders.toString(),change:r.shippedOrdersChange,icon:n.jsx(Lr,{size:20}),color:"#8b5cf6",description:"On the way"},{title:"Delivered",value:r.deliveredOrders.toString(),change:r.deliveredOrdersChange,icon:n.jsx(Yn,{size:20}),color:"#10b981",description:"Successfully delivered"},{title:"Cancelled",value:r.cancelledOrders.toString(),change:r.cancelledOrdersChange,icon:n.jsx(Hx,{size:20}),color:"#ef4444",description:"Cancelled by customer"},{title:"Returned",value:r.returnedOrders.toString(),change:r.returnedOrdersChange,icon:n.jsx(Vee,{size:20}),color:"#f59e0b",description:"Returned items"},{title:"Refunded",value:r.refundedOrders.toString(),change:r.refundedOrdersChange,icon:n.jsx(wt,{size:20}),color:"#6b7280",description:"Refund processed"}],s=({title:u,value:m,change:f,icon:b,color:v,description:k})=>{const C=f.startsWith("+"),_=f.startsWith("-"),S=u==="Cancelled"||u==="Returned"||u==="Refunded"?_:C;return n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${v}15`,color:v},children:b}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${S?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:u}),n.jsx("p",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:m}),n.jsx("p",{className:"text-xs opacity-75",style:{color:"var(--text-secondary)"},children:k})]})]})},i=r.totalOrders,l=u=>(u/i*100).toFixed(1);return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Order Statistics"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Overview of all order statuses and trends"})]}),n.jsxs("div",{className:"text-right",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"text-xs",children:"Success Rate"}),n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--success-color)"},children:[l(r.deliveredOrders),"%"]})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:t.map((u,m)=>n.jsx(s,{...u},m))}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Completed: ",l(r.deliveredOrders),"%"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["In Progress: ",l(r.processingOrders+r.shippedOrders),"%"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Issues: ",l(r.cancelledOrders+r.returnedOrders),"%"]})]})]}),n.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Last 30 days"})]})})]})},LR=({overview:r})=>{const t=[{title:"Total Customers",value:r.totalCustomers.toLocaleString(),change:r.totalCustomersChange,icon:n.jsx(yd,{size:24}),color:"#3b82f6",subtitle:"Registered users"},{title:"Active Customers",value:r.activeCustomers.toLocaleString(),change:r.activeCustomersChange,icon:n.jsx(lx,{size:24}),color:"#10b981",subtitle:"Active this month"},{title:"Total Delivery Men",value:r.totalDeliveryMen.toString(),change:r.totalDeliveryMenChange,icon:n.jsx(Lr,{size:24}),color:"#f59e0b",subtitle:"In our network"},{title:"Active Delivery Men",value:r.activeDeliveryMen.toString(),change:r.activeDeliveryMenChange,icon:n.jsx(lx,{size:24}),color:"#8b5cf6",subtitle:"Currently active"}],s=[{label:"New Today",value:r.newCustomersToday,icon:n.jsx(rI,{size:16}),color:"#10b981"},{label:"This Week",value:r.newCustomersThisWeek,icon:n.jsx(ri,{size:16}),color:"#3b82f6"},{label:"This Month",value:r.newCustomersThisMonth,icon:n.jsx(Gx,{size:16}),color:"#f59e0b"}],i=({title:u,value:m,change:f,icon:b,color:v,subtitle:k})=>{const C=f.startsWith("+");return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${v}15`,color:v},children:b}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${C?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:u}),n.jsx("p",{className:"text-3xl font-bold mb-1",style:{color:"var(--text-primary)"},children:m}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:k})]})]})},l=({label:u,value:m,icon:f,color:b})=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{style:{color:b},children:f}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:u})]}),n.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:m})]});return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"User Overview"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Customer and delivery personnel statistics"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:t.map((u,m)=>n.jsx(i,{...u},m))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(rI,{className:"mr-2",size:16}),"New Customer Growth"]}),n.jsx("div",{className:"space-y-2",children:s.map((u,m)=>n.jsx(l,{...u},m))})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx($r,{className:"mr-2",size:16}),"Key Metrics"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Customer Lifetime Value"}),n.jsxs("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:["$",r.averageCustomerLifetimeValue]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Retention Rate"}),n.jsxs("span",{className:"font-bold text-green-600",children:[r.customerRetentionRate,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Delivery Coverage"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(r.activeDeliveryMen/r.totalDeliveryMen*100),"%"]})]})]})]})]})]})},xae=({products:r})=>{const[t,s]=O.useState(!1),i=t?r:r.slice(0,5),l=({product:u,index:m})=>n.jsxs("div",{className:"flex items-center p-4 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold mr-4",style:{backgroundColor:m<3?"var(--brand-primary)":"var(--bg-secondary)",color:m<3?"white":"var(--text-secondary)"},children:m+1}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center overflow-hidden",children:u.image?n.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",style:{color:"var(--text-secondary)"},children:"IMG"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h4",{className:"font-medium text-sm truncate pr-2",style:{color:"var(--text-primary)"},children:u.name}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:u.category})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ti,{size:12}),n.jsx("span",{children:u.views.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ug,{size:12}),n.jsx("span",{children:u.wishlistCount})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Uee,{size:12}),n.jsx("span",{children:u.shareCount})]})]}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${u.viewsChange.startsWith("+")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.viewsChange})]})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-lg ml-2",style:{color:"var(--text-secondary)"},children:n.jsx(dx,{size:14})})]});return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Most Popular Products"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Based on views, engagement, and interactions"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("div",{className:"text-xs px-3 py-1 rounded-full bg-blue-100 text-blue-800",children:"Trending"})})]}),n.jsx("div",{className:"space-y-3",children:i.map((u,m)=>n.jsx(l,{product:u,index:m},u.id))}),r.length>5&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Products`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((u,m)=>u+m.views,0).toLocaleString()}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Views"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((u,m)=>u+m.wishlistCount,0).toLocaleString()}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Wishlisted"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((u,m)=>u+m.shareCount,0)}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Shared"})]})]})})]})},vae=({products:r})=>{const[t,s]=O.useState(!1),[i,l]=O.useState("revenue"),u=[{value:"revenue",label:"Revenue"},{value:"unitsSold",label:"Units Sold"},{value:"profit",label:"Profit"},{value:"profitMargin",label:"Profit Margin"}],m=[...r].sort((C,_)=>i==="revenue"||i==="profit"?_[i]-C[i]:i==="unitsSold"?_.unitsSold-C.unitsSold:i==="profitMargin"?_.profitMargin-C.profitMargin:0),f=t?m:m.slice(0,5),b=C=>`$${C.toLocaleString()}`,v=C=>C.toLocaleString(),k=({product:C,index:_})=>{const S=M=>M===0?"#FFD700":M===1?"#C0C0C0":M===2?"#CD7F32":"var(--bg-secondary)";return n.jsxs("div",{className:"flex items-center p-4 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold mr-4",style:{backgroundColor:S(_),color:_<3?"white":"var(--text-secondary)"},children:_+1}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center overflow-hidden",children:C.image?n.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",style:{color:"var(--text-secondary)"},children:"IMG"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-sm truncate pr-2",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((M,R)=>n.jsx($r,{size:12,className:R<Math.floor(C.rating)?"text-yellow-400":"text-gray-300",fill:R<Math.floor(C.rating)?"currentColor":"none"},R)),n.jsx("span",{className:"text-xs ml-1",style:{color:"var(--text-secondary)"},children:C.rating})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:v(C.unitsSold)}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Units"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:b(C.revenue)}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Revenue"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:b(C.profit)}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Profit"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-green-600",children:[C.profitMargin,"%"]}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Margin"})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:C.category}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${C.stock>50?"bg-green-100 text-green-800":C.stock>20?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Stock: ",C.stock]})})]})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-lg ml-2",style:{color:"var(--text-secondary)"},children:n.jsx(dx,{size:14})})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Selling Products"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Best performing products by sales metrics"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:u.map(C=>n.jsxs("option",{value:C.value,children:["Sort by ",C.label]},C.value))})})]}),n.jsx("div",{className:"space-y-3",children:f.map((C,_)=>n.jsx(k,{product:C,index:_},C.id))}),r.length>5&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Products`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:v(r.reduce((C,_)=>C+_.unitsSold,0))}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Units Sold"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:b(r.reduce((C,_)=>C+_.revenue,0))}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Revenue"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:b(r.reduce((C,_)=>C+_.profit,0))}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Profit"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(r.reduce((C,_)=>C+_.profit,0)/r.reduce((C,_)=>C+_.revenue,0)*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Profit Margin"})]})]})})]})},wae=({deliveryMen:r})=>{const[t,s]=O.useState(!1),[i,l]=O.useState("totalDeliveries"),u=[{value:"totalDeliveries",label:"Total Deliveries"},{value:"successRate",label:"Success Rate"},{value:"averageRating",label:"Customer Rating"},{value:"totalEarnings",label:"Total Earnings"},{value:"onTimeDeliveryRate",label:"On-Time Rate"}],m=[...r].sort((C,_)=>i==="totalEarnings"?_.totalEarnings-C.totalEarnings:_[i]-C[i]),f=t?m:m.slice(0,5),b=C=>C===0?{bg:"#FFD700",text:"#B8860B",label:""}:C===1?{bg:"#C0C0C0",text:"#708090",label:""}:C===2?{bg:"#CD7F32",text:"#8B4513",label:""}:{bg:"var(--bg-secondary)",text:"var(--text-secondary)",label:C+1},v=C=>C>=95?"#10b981":C>=90?"#f59e0b":"#ef4444",k=({deliveryMan:C,index:_})=>{const S=b(_);return n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full font-bold text-sm",style:{backgroundColor:S.bg,color:S.text},children:S.label}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:C.avatar?n.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}):n.jsx(Lr,{size:20,style:{color:"var(--text-secondary)"}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx($r,{size:12,className:"text-yellow-400",fill:"currentColor"}),n.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)"},children:C.averageRating}),n.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["(",C.totalDeliveries,")"]})]})]})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:n.jsx(H9,{size:16})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:C.thisMonthDeliveries}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"This Month"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-bold",style:{color:v(C.successRate)},children:[C.successRate,"%"]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Success Rate"})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"On-Time Delivery"}),n.jsxs("span",{className:"font-medium",style:{color:v(C.onTimeDeliveryRate)},children:[C.onTimeDeliveryRate,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Customer Feedback"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx($r,{size:10,className:"text-yellow-400",fill:"currentColor"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:C.customerFeedback})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Total Earnings"}),n.jsxs("span",{className:"font-medium text-green-600",children:["$",C.totalEarnings.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Active Hours/Day"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:[C.activeHours,"h"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-600",children:"Active"})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx(rn,{size:10}),n.jsx("span",{children:"Online"})]})]})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Delivery Personnel"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Best performing delivery team members"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:u.map(C=>n.jsxs("option",{value:C.value,children:["Sort by ",C.label]},C.value))})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((C,_)=>n.jsx(k,{deliveryMan:C,index:_},C.id))}),r.length>5&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Delivery Personnel`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((C,_)=>C+_.totalDeliveries,0).toLocaleString()}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Deliveries"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(r.reduce((C,_)=>C+_.successRate,0)/r.length).toFixed(1),"%"]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Success Rate"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:(r.reduce((C,_)=>C+_.averageRating,0)/r.length).toFixed(1)}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Rating"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",r.reduce((C,_)=>C+_.totalEarnings,0).toLocaleString()]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Earnings"})]})]})})]})},kae=({customers:r})=>{const[t,s]=O.useState(!1),[i,l]=O.useState("totalSpent"),u=[{value:"totalSpent",label:"Total Spent"},{value:"totalOrders",label:"Total Orders"},{value:"averageOrderValue",label:"Avg Order Value"},{value:"lastOrderDate",label:"Recent Activity"}],m=[...r].sort((C,_)=>i==="lastOrderDate"?new Date(_.lastOrderDate)-new Date(C.lastOrderDate):_[i]-C[i]),f=t?m:m.slice(0,5),b=C=>{switch(C.toLowerCase()){case"platinum":return{bg:"#E5E7EB",text:"#374151",icon:"",color:"#6B7280"};case"gold":return{bg:"#FEF3C7",text:"#92400E",icon:"",color:"#D97706"};case"silver":return{bg:"#F3F4F6",text:"#4B5563",icon:"",color:"#6B7280"};default:return{bg:"#DBEAFE",text:"#1E40AF",icon:"",color:"#3B82F6"}}},v=C=>{const S=Math.abs(new Date-new Date(C)),M=Math.floor(S/(1e3*60*60*24));return M===0?"Today":M===1?"Yesterday":M<7?`${M} days ago`:M<30?`${Math.floor(M/7)} weeks ago`:M<365?`${Math.floor(M/30)} months ago`:`${Math.floor(M/365)} years ago`},k=({customer:C,index:_})=>{const S=b(C.loyaltyLevel),M=C.totalSpent>5e3;return n.jsxs("div",{className:`bg-white p-6 rounded-lg border hover:shadow-md transition-all duration-200 group ${M?"border-yellow-200 bg-gradient-to-br from-yellow-50 to-white":"border-gray-100"}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold",style:{backgroundColor:_<3?"var(--brand-primary)":"var(--bg-secondary)",color:_<3?"white":"var(--text-secondary)"},children:_+1}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:C.avatar?n.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}):n.jsx(yd,{size:20,style:{color:"var(--text-secondary)"}})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:C.name}),M&&n.jsx($r,{className:"text-yellow-500",size:14})]}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:C.email})]})]}),n.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",style:{backgroundColor:S.bg,color:S.text},children:[n.jsx("span",{children:S.icon}),n.jsx("span",{children:C.loyaltyLevel})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",C.totalSpent.toLocaleString()]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Spent"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:C.totalOrders}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Orders"})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Order Value"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["$",C.averageOrderValue.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Last Order"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:v(C.lastOrderDate)})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Customer Since"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:v(C.signupDate)})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Favorite Category"}),n.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:C.favoriteCategory})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"var(--text-secondary)"},title:"Send Email",children:n.jsx(nc,{size:14})}),n.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"var(--text-secondary)"},title:"View Profile",children:n.jsx(yd,{size:14})})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:n.jsx(H9,{size:14})})]})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Customers"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Most valuable customers by spending and engagement"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:u.map(C=>n.jsxs("option",{value:C.value,children:["Sort by ",C.label]},C.value))})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((C,_)=>n.jsx(k,{customer:C,index:_},C.id))}),r.length>5&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Customers`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",r.reduce((C,_)=>C+_.totalSpent,0).toLocaleString()]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Combined Spending"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((C,_)=>C+_.totalOrders,0)}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Orders"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["$",(r.reduce((C,_)=>C+_.averageOrderValue,0)/r.length).toFixed(2)]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Order Value"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-purple-600",children:r.filter(C=>C.loyaltyLevel==="Platinum").length}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"VIP Customers"})]})]})})]})},Cae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState("last30days"),[l,u]=O.useState(!1),m=[{title:"Financial Reports",reports:[{id:"revenue",title:"Revenue Report",description:"Provides a broad overview of the financial status of a store.",details:"Reports gross revenue, refunds, the value of coupons used, taxes collected, shipping costs, and net revenue for a selected date range",icon:n.jsx(Om,{size:20}),color:"#10b981",estimatedTime:"2-3 minutes"},{id:"tax",title:"Tax Report",description:"Compares tax report data by different tax codes",details:"Compares multiple tax codes, and displays data on how much tax was collected for orders and shipping",icon:n.jsx(z9,{size:20}),color:"#6b7280",estimatedTime:"1-2 minutes"}]},{title:"Sales & Orders",reports:[{id:"orders",title:"Orders Report",description:"Reports the total number of orders, net revenue, the average order value.",details:"Reports the total number of orders, net revenue, the average order value, and the average number of items per order for a selected date range",icon:n.jsx(tl,{size:20}),color:"#3b82f6",estimatedTime:"2-3 minutes"},{id:"order-detailed",title:"Detailed Order Report",description:"Filters order data for a given time period by order status.",details:"Filters order data for a given time period by order status (i.e., pending and complete), product (orders with or without certain products), coupon codes (coupon codes were/were not used on orders), and new and returning customers.",icon:n.jsx(Fu,{size:20}),color:"#8b5cf6",estimatedTime:"3-4 minutes"}]},{title:"Product Analytics",reports:[{id:"product",title:"Product Report",description:"Displays and compares sales information for a given time period by product",details:"Comprehensive product performance analysis including sales, revenue, and trends",icon:n.jsx(wt,{size:20}),color:"#f59e0b",estimatedTime:"3-5 minutes"},{id:"stock",title:"Stock Report",description:"Displays the store's entire product catalog by stock status.",details:"Displays the store's entire product catalog by products that are in stock, low stock, and out of stock.",icon:n.jsx(Fu,{size:20}),color:"#ef4444",estimatedTime:"2-3 minutes"},{id:"product-comparison",title:"Product Comparison Report",description:"Performs highly customized analysis of sales data.",details:"Performs highly customized analysis of sales data by comparing the performance of different product/s and variation/s over a specified date range.",icon:n.jsx(Gx,{size:20}),color:"#06b6d4",estimatedTime:"4-6 minutes"},{id:"category",title:"Category Report",description:"Filters by all categories, single category, category comparison.",details:"Filters by all categories, a single category, category comparison, viewing top categories by items sold, and top categories by net revenue.",icon:n.jsx(q9,{size:20}),color:"#8b5cf6",estimatedTime:"3-4 minutes"}]},{title:"Customer Analytics",reports:[{id:"customers",title:"Customers Report",description:"Displays Customer Data: Name, Sign Up date, Email, number of Orders.",details:"Displays Customer Data: Name, Sign Up date, Email, number of Orders, Lifetime Spend, Average Order Value, Last Purchase Date, and Country. Provides a look into all customer data for a store, listing all registered and unregistered customers along with pertinent data about each customer such as email address, number of orders, lifetime spend, and average order value.",icon:n.jsx(yd,{size:20}),color:"#10b981",estimatedTime:"3-5 minutes"}]},{title:"Marketing & Promotions",reports:[{id:"coupons",title:"Coupons Report",description:"Compares multiple coupon codes to display usage and discounts.",details:"Compares multiple coupon codes to display how many orders used coupons and the total amount discounted. Uses advanced filters to compare coupons, and a few preset filters to displays Top Coupons by Discounted Orders or Amount Discounted using preset filters",icon:n.jsx(F9,{size:20}),color:"#f59e0b",estimatedTime:"2-3 minutes"}]},{title:"System Reports",reports:[{id:"downloads",title:"Downloads Report",description:"Allows filtering of Downloads by product, username, order number.",details:"Allows filtering of Downloads by product, username, order number, and IP address",icon:n.jsx(Ei,{size:20}),color:"#6b7280",estimatedTime:"1-2 minutes"}]}],f=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last90days",label:"Last 90 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisYear",label:"This Year"},{value:"custom",label:"Custom Range"}],b=async k=>{var C;u(!0),t(k),await new Promise(_=>setTimeout(_,2e3)),u(!1),alert(`${(C=m.flatMap(_=>_.reports).find(_=>_.id===k))==null?void 0:C.title} has been generated and is ready for download!`)},v=({report:k})=>n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},onClick:()=>b(k.id),children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${k.color}15`,color:k.color},children:k.icon}),n.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:k.estimatedTime})]}),n.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-blue-600 transition-colors",style:{color:"var(--text-primary)"},children:k.title}),n.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:"var(--text-secondary)"},children:k.description}),n.jsx("p",{className:"text-xs mb-4 line-clamp-3",style:{color:"var(--text-secondary)"},children:k.details}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx(Ti,{size:12}),n.jsx("span",{children:"View Details"})]}),n.jsx("button",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${l&&r===k.id?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,disabled:l&&r===k.id,children:l&&r===k.id?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-gray-600"}),n.jsx("span",{children:"Generating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ei,{size:14}),n.jsx("span",{children:"Generate"})]})})]})]});return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Reports Dashboard"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Generate comprehensive business reports and analytics"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ri,{size:16,style:{color:"var(--text-secondary)"}}),n.jsx("select",{value:s,onChange:k=>i(k.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:f.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))})]})})]}),n.jsx("div",{className:"space-y-8",children:m.map((k,C)=>n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx("div",{className:"w-1 h-6 rounded-full mr-3",style:{backgroundColor:"var(--brand-primary)"}}),k.title]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.reports.map(_=>n.jsx(v,{report:_},_.id))})]},C))}),n.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Quick Actions"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(Fu,{size:14}),n.jsx("span",{children:"Schedule Reports"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm",children:[n.jsx(Ei,{size:14}),n.jsx("span",{children:"Export All Data"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:[n.jsx(wd,{size:14}),n.jsx("span",{children:"Custom Report Builder"})]})]})]})]})},Nu=(r,t="status")=>r.reduce((s,i)=>{const l=i[t];return s[l]=(s[l]||0)+1,s},{}),ni=nn(Zu((r,t)=>({dashboard:{stats:[],salesData:[],topProducts:[],recentOrders:[],loading:!1},orders:{list:[],loading:!1,statusCounts:{},error:null},users:{list:[],loading:!1,statusCounts:{},error:null},products:{list:[],loading:!1,error:null},returns:{list:[],loading:!1,statusCounts:{}},deliveryPartners:{list:[],loading:!1,error:null},getUserById:async s=>{try{return(await Ze.get(`/admin/users/${s}/`)).data.user}catch(i){return console.error(`Failed to fetch user ${s}:`,i),null}},getProductById:async s=>{try{return(await Ze.get(`/admin/products/${s}/`)).data.product}catch(i){return console.error(`Failed to fetch product ${s}:`,i),null}},userCache:new Map,productCache:new Map,getCachedUser:async s=>{const i=t().userCache.get(s);if(i)return i;const l=await t().getUserById(s);return l&&r(u=>{const m=new Map(u.userCache);return m.set(s,l),{userCache:m}}),l},getCachedProduct:async s=>{const i=t().productCache.get(s);if(i)return i;const l=await t().getProductById(s);return l&&r(u=>{const m=new Map(u.productCache);return m.set(s,l),{productCache:m}}),l},footer:{config:null,loading:!1,error:null},fetchFooterConfig:async()=>{r(s=>({footer:{...s.footer,loading:!0,error:null}}));try{const s=await fetch("/api/admin/footer/"),i=await s.json();return s.ok?(r(l=>({footer:{...l.footer,config:i.footer_config,loading:!1}})),{success:!0,data:i.footer_config}):(r(l=>({footer:{...l.footer,error:i.error||"Failed to fetch footer configuration",loading:!1}})),{success:!1,error:i.error})}catch{const i="Network error occurred";return r(l=>({footer:{...l.footer,error:i,loading:!1}})),{success:!1,error:i}}},updateFooterConfig:async s=>{r(i=>({footer:{...i.footer,loading:!0,error:null}}));try{const i=localStorage.getItem("adminToken"),l=await fetch("/api/admin/footer/update/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({footer_config:s})}),u=await l.json();return l.ok?(r(m=>({footer:{...m.footer,config:s,loading:!1}})),{success:!0}):(r(m=>({footer:{...m.footer,error:u.error||"Failed to update footer configuration",loading:!1}})),{success:!1,error:u.error})}catch{const l="Network error occurred";return r(u=>({footer:{...u.footer,error:l,loading:!1}})),{success:!1,error:l}}},addFooterLink:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),u=await fetch("/api/admin/footer/links/add/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({section:s,...i})}),m=await u.json();return u.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:m.error||"Failed to add link"}}catch{return{success:!1,error:"Network error occurred"}}},deleteFooterLink:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),u=await fetch(`/api/admin/footer/links/${s}/${i}/delete/`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}});return u.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:(await u.json()).error||"Failed to delete link"}}catch{return{success:!1,error:"Network error occurred"}}},updateSocialLink:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),u=await fetch(`/api/admin/footer/social-links/${s}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(i)}),m=await u.json();return u.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:m.error||"Failed to update social link"}}catch{return{success:!1,error:"Network error occurred"}}},toggleFooterSection:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),u=await fetch(`/api/admin/footer/sections/${s}/toggle/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({enabled:i})}),m=await u.json();return u.ok?(r(f=>({footer:{...f.footer,config:{...f.footer.config,[s]:{...f.footer.config[s],enabled:i}}}})),{success:!0}):{success:!1,error:m.error||"Failed to toggle section"}}catch{return{success:!1,error:"Network error occurred"}}},fetchDashboardData:async()=>{r(s=>({dashboard:{...s.dashboard,loading:!0}}));try{const[s,i,l]=await Promise.all([Ze.get("/admin/get_all_orders"),Ze.get("/admin/get_all_users"),Ze.get("/admin/get_all_products")]),u=s.data.orders||[],m=i.data.users||[],f=l.data.products||[],b=new Date,v=new Date(b.getTime()-24*60*60*1e3),k=new Date(b.getFullYear(),b.getMonth()-1,b.getDate()),C=u.filter(J=>J.status!=="cancelled"&&J.status!=="pending_payment"),_=C.reduce((J,W)=>J+(W.total_amount||0),0),M=C.filter(J=>{const W=new Date(J.created_at);return W>=k&&W<new Date(b.getFullYear(),b.getMonth(),1)}).reduce((J,W)=>J+(W.total_amount||0),0),R=M>0?((_-M)/M*100).toFixed(1):0,I=u.filter(J=>new Date(J.created_at)>=v).length,z=m.filter(J=>new Date(J.created_at)>=v).length,V=f.filter(J=>(J.stock||0)<10).length,U=[{title:"Total Sales",value:`${_.toLocaleString()}`,change:`${R>=0?"+":""}${R}%`,isPositive:R>=0},{title:"New Orders",value:I.toString(),change:"+8.2%",isPositive:!0},{title:"New Customers",value:z.toString(),change:"+5.7%",isPositive:!0},{title:"Low Stock Items",value:V.toString(),change:V>0?"-2.3%":"0%",isPositive:V===0}],q={};C.forEach(J=>{var W;(W=J.order_items)==null||W.forEach(ee=>{q[ee.product_id]||(q[ee.product_id]={id:ee.product_id,name:ee.name||"Unknown Product",sales:0,revenue:0}),q[ee.product_id].sales+=ee.quantity||1,q[ee.product_id].revenue+=ee.total_item_price||0})});const $=Object.values(q).sort((J,W)=>W.revenue-J.revenue).slice(0,5),ne={},Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let J=0;J<12;J++){const W=Q[J];ne[W]=0}C.forEach(J=>{const W=new Date(J.created_at),ee=Q[W.getMonth()];ne[ee]+=J.total_amount||0});const B=Object.entries(ne).map(([J,W])=>({month:J,sales:Math.round(W)})),Y=u.sort((J,W)=>new Date(W.created_at)-new Date(J.created_at)).slice(0,5);r({dashboard:{stats:U,salesData:B,topProducts:$,recentOrders:Y,loading:!1}})}catch(s){console.error("Dashboard data fetch error:",s),r(i=>{var l,u;return{dashboard:{...i.dashboard,loading:!1,error:((u=(l=s.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch dashboard data"}}})}},fetchOrders:async()=>{r(s=>({orders:{...s.orders,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_orders")).data.orders,l=Nu(i);r({orders:{list:i,statusCounts:l,loading:!1,error:null}})}catch(s){r(i=>{var l,u;return{orders:{...i.orders,loading:!1,error:((u=(l=s.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch orders"}}})}},updateOrderStatus:async(s,i)=>{r(l=>({orders:{...l.orders,loading:!0,error:null}}));try{const l=await Ze.put(`/admin/order/edit/${s}/`,{status:i});(l.data.message||l.status===200)&&r(u=>{const m=u.orders.list.map(b=>b.order_id===s?{...b,status:i}:b),f=Nu(m);return{orders:{list:m,statusCounts:f,loading:!1,error:null}}})}catch(l){r(u=>{var m,f;return{orders:{...u.orders,loading:!1,error:((f=(m=l.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to update order status"}}})}},editOrder:async(s,i,l)=>{r(u=>({orders:{...u.orders,loading:!0,error:null}}));try{const u=await Ze.put(`/admin/users/${s}/orders/${i}/edit/`,l);if(u.data.message||u.status===200)return r(m=>{const f=m.orders.list.map(b=>b.order_id===i?{...b,...l}:b);return{orders:{list:f,statusCounts:Nu(f),loading:!1,error:null}}}),u.data}catch(u){throw r(m=>{var f,b;return{orders:{...m.orders,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to edit order"}}}),u}},assignOrderToDeliveryPartner:async(s,i,l)=>{var u,m;if(!l){const f="Partner ID is required. Please select a delivery partner.";throw r(b=>({orders:{...b.orders,loading:!1,error:f}})),console.error(f),new Error(f)}r(f=>({orders:{...f.orders,loading:!0,error:null}}));try{const f=await Ze.post(`/admin/users/${s}/orders/${i}/assign-partner/`,{partner_id:l});if(f.data.message||f.status===200)return r(b=>{const v=b.orders.list.map(C=>C.order_id===i?{...C,assigned_partner_id:l,delivery_status:"assigned",status:"assigned"}:C),k=Nu(v);return{orders:{list:v,statusCounts:k,loading:!1,error:null}}}),f.data}catch(f){const b=((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to assign delivery partner";throw r(v=>({orders:{...v.orders,loading:!1,error:b}})),console.error("Error in assignOrderToDeliveryPartner:",f),f}},fetchProducts:async()=>{r(s=>({products:{...s.products,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_products")).data.products;r({products:{list:i,loading:!1,error:null}})}catch(s){r(i=>{var l,u;return{products:{...i.products,loading:!1,error:((u=(l=s.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch products"}}})}},updateProduct:async(s,i)=>{r(l=>({products:{...l.products,loading:!0,error:null}}));try{(await Ze.put(`/admin/products/edit/${s}/`,i)).data.success&&r(u=>({products:{list:u.products.list.map(f=>f.id===s?{...f,...i}:f),loading:!1,error:null}}))}catch(l){r(u=>{var m,f;return{products:{...u.products,loading:!1,error:((f=(m=l.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to update product"}}})}},addProduct:async s=>{r(i=>({products:{...i.products,loading:!0,error:null}}));try{const i=await Ze.post("/admin/products/add/",s);i.data.success&&r(l=>({products:{list:[...l.products.list,i.data.product],loading:!1,error:null}}))}catch(i){r(l=>{var u,m;return{products:{...l.products,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to add product"}}})}},deleteProduct:async s=>{r(i=>({products:{...i.products,loading:!0,error:null}}));try{(await Ze.delete(`/admin/delete-product/${s}/`)).data.success&&r(l=>({products:{list:l.products.list.filter(u=>u.id!==s),loading:!1,error:null}}))}catch(i){r(l=>{var u,m;return{products:{...l.products,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to delete product"}}})}},fetchUsers:async()=>{r(s=>({users:{...s.users,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_users")).data.users,l=Nu(i,"status");r({users:{list:i,statusCounts:l,loading:!1,error:null}})}catch(s){r(i=>{var l,u;return{users:{...i.users,loading:!1,error:((u=(l=s.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch users"}}})}},updateUserStatus:async s=>{r(i=>({users:{...i.users,loading:!0,error:null}}));try{const i=await Ze.patch(`/admin/users/ban/${s}/`);i.data.message&&r(l=>{const u=l.users.list.map(f=>f.id===s?{...f,is_banned:i.data.is_banned,status:i.data.is_banned?"banned":"active"}:f),m=Nu(u,"status");return{users:{list:u,statusCounts:m,loading:!1,error:null}}})}catch(i){r(l=>{var u,m;return{users:{...l.users,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to update user status"}}})}},banUser:async s=>{r(i=>({users:{...i.users,loading:!0,error:null}}));try{(await Ze.post(`/admin/users/ban/${s}/`)).data.success&&r(l=>{const u=l.users.list.map(m=>m.id===s?{...m,is_banned:!0}:m);return{users:{...l.users,list:u,loading:!1,error:null}}})}catch(i){r(l=>{var u,m;return{users:{...l.users,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to ban user"}}})}},fetchReturns:async()=>{r(u=>({returns:{...u.returns,loading:!0}}));const i=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",requestDate:"2023-05-10",status:"pending",refundAmount:49.99},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",requestDate:"2023-05-12",status:"approved",refundAmount:89.99},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",requestDate:"2023-05-15",status:"rejected",refundAmount:159.97}],l=Nu(i);r({returns:{list:i,statusCounts:l,loading:!1}})},updateReturnStatus:async(s,i)=>{r(l=>({returns:{...l.returns,loading:!0}})),r(l=>{const u=l.returns.list.map(f=>f.id===s?{...f,status:i}:f),m=Nu(u);return{returns:{list:u,statusCounts:m,loading:!1}}})},fetchDeliveryPartners:async()=>{r(s=>({deliveryPartners:{...s.deliveryPartners,loading:!0,error:null}}));try{const s=await Ze.get("/partners/all/");return r({deliveryPartners:{list:s.data.partners,loading:!1,error:null}}),s.data.partners}catch(s){throw r(i=>{var l,u;return{deliveryPartners:{...i.deliveryPartners,loading:!1,error:((u=(l=s.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch delivery partners"}}}),s}},verifyDeliveryPartner:async s=>{r(i=>({deliveryPartners:{...i.deliveryPartners,loading:!0,error:null}}));try{const i=await Ze.patch(`/partners/verify/${s}/`,{});return r(l=>({deliveryPartners:{list:l.deliveryPartners.list.map(m=>m.partner_id===s?{...m,is_verified:!0}:m),loading:!1,error:null}})),i.data}catch(i){throw r(l=>{var u,m;return{deliveryPartners:{...l.deliveryPartners,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to verify delivery partner"}}}),i}},assignDeliveryPartner:async(s,i,l)=>{r(u=>({deliveryPartners:{...u.deliveryPartners,loading:!0,error:null}}));try{const u=await Ze.post(`/admin/users/${s}/orders/${i}/assign-partner/`,{partner_id:l});return await ni.getState().fetchOrders(),r(m=>({deliveryPartners:{...m.deliveryPartners,loading:!1}})),u.data}catch(u){throw r(m=>{var f,b;return{deliveryPartners:{...m.deliveryPartners,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to assign delivery partner"}}}),u}}}))),_ae=({isOpen:r,onClose:t,order:s})=>{var S,M,R,I,z,V;const{getCachedUser:i}=ni(),[l,u]=O.useState(null),[m,f]=O.useState(!1);if(ot.useEffect(()=>{s!=null&&s.user_id&&r&&(f(!0),i(s.user_id).then(U=>{u(U)}).catch(U=>{console.error("Failed to fetch customer data:",U)}).finally(()=>{f(!1)}))},[s==null?void 0:s.user_id,r,i]),!r||!s)return null;const b=U=>{U.target===U.currentTarget&&t()},v=U=>{if(!U)return"N/A";try{return new Date(U).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},C=(U=>{switch(U){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:n.jsx(Yn,{size:16})};case"processing":case"payment_successful":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:n.jsx(rn,{size:16})};case"shipped":case"assigned":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:n.jsx(Lr,{size:16})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:n.jsx(Hx,{size:16})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:n.jsx(rn,{size:16})}}})(s.status),_=((S=s.order_items)==null?void 0:S.reduce((U,q)=>U+(q.quantity||1),0))||0;return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:b,children:n.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:U=>U.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(wt,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["#",((M=s.order_id)==null?void 0:M.slice(-8))||"N/A"]})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)] p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Order Status"}),n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:C.bgColor,color:C.textColor},children:[n.jsx("span",{className:"mr-2",children:C.icon}),((I=(R=s.status)==null?void 0:R.replace("_"," "))==null?void 0:I.charAt(0).toUpperCase())+((V=(z=s.status)==null?void 0:z.replace("_"," "))==null?void 0:V.slice(1))||"Unknown"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Order Date"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:v(s.created_at)})]}),n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Total Amount"}),n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",(s.total_amount||0).toLocaleString()]})]})]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2"}),"Customer Information"]}),m?n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):l?n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Name"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:l.name||l.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Email"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:l.email||"N/A"})]}),l.phone&&n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Phone"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:l.phone})]})]}):n.jsxs("p",{style:{color:"var(--text-secondary)"},children:["Customer ID: ",s.user_id]})]}),s.order_items&&s.order_items.length>0&&n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:["Order Items (",_," items)"]}),n.jsxs("div",{className:"space-y-3",children:[s.order_items.slice(0,3).map((U,q)=>n.jsxs("div",{className:"flex items-center p-3 rounded-md",style:{backgroundColor:"var(--bg-primary)"},children:[U.image_url&&n.jsx("img",{src:U.image_url,alt:U.name||"Product",className:"w-12 h-12 object-cover rounded-md mr-3",onError:$=>{$.target.style.display="none"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:U.name||"Unknown Product"}),n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Quantity: ",U.quantity||1,"  ",(U.price||0).toLocaleString()]})]}),n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((U.price||0)*(U.quantity||1)).toLocaleString()]})]},q)),s.order_items.length>3&&n.jsxs("p",{className:"text-sm text-center py-2",style:{color:"var(--text-secondary)"},children:["+",s.order_items.length-3," more items"]})]})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},Aae=()=>{const r=ns(),[t,s]=O.useState("all"),[i,l]=O.useState(null),[u,m]=O.useState(!1),{dashboard:f}=ni(),{recentOrders:b}=f,v=R=>{if(!R)return"N/A";try{return new Date(R).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},k=R=>R?`Customer ${R.slice(-4)}`:"Unknown Customer",C=R=>{switch(R){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:n.jsx(Yn,{size:14})};case"processing":case"payment_successful":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:n.jsx(rn,{size:14})};case"shipped":case"assigned":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:n.jsx(Lr,{size:14})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:n.jsx(Hx,{size:14})};case"pending_payment":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:n.jsx(oa,{size:14})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:n.jsx(rn,{size:14})}}},_=t==="all"?b||[]:(b||[]).filter(R=>R.status===t),S=R=>{l(R),m(!0)},M=()=>{r("/admin/orders")};return!b||b.length===0?n.jsx("div",{className:"p-6 rounded-lg h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(rn,{size:32,className:"mx-auto mb-3",style:{color:"var(--text-secondary)"}}),n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No Recent Orders"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Recent orders will appear here once customers start placing orders."})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Recent Orders"}),n.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2 sm:mt-0",children:[n.jsxs("div",{className:"relative rounded-md",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Mi,{className:"h-4 w-4",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search orders...",className:"py-1.5 pl-9 pr-4 block w-full text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"}})]}),n.jsxs("select",{value:t,onChange:R=>s(R.target.value),className:"py-1.5 px-3 text-sm border rounded-md appearance-none bg-white",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:_.map(R=>{var z,V,U,q,$;const I=C(R.status);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["#",((z=R.order_id)==null?void 0:z.slice(-8))||"N/A"]}),n.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-primary)"},children:k(R.user_id)}),n.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-secondary)"},children:v(R.created_at)}),n.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["",(R.total_amount||0).toLocaleString()]}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:I.bgColor,color:I.textColor},children:[n.jsx("span",{className:"mr-1.5",children:I.icon}),((U=(V=R.status)==null?void 0:V.replace("_"," "))==null?void 0:U.charAt(0).toUpperCase())+(($=(q=R.status)==null?void 0:q.replace("_"," "))==null?void 0:$.slice(1))||"Unknown"]})}),n.jsx("td",{className:"py-4 text-right",children:n.jsxs("button",{onClick:()=>S(R),className:"flex items-center text-xs hover:underline",style:{color:"var(--brand-primary)"},children:[n.jsx(Ti,{size:14,className:"mr-1"}),"Details"]})})]},R.order_id)})})]})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("button",{onClick:M,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:["View All Orders",n.jsx(wn,{size:16,className:"ml-1"})]})})]}),n.jsx(_ae,{isOpen:u,onClose:()=>m(!1),order:i})]})},zR=()=>{const[r,t]=O.useState("yearly"),{dashboard:s}=ni(),{salesData:i}=s,l=(i==null?void 0:i.reduce((u,m)=>u+(m.sales||0),0))||0;return n.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Sales Overview"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total sales and revenue"})]}),n.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[n.jsxs("div",{className:"border rounded-md flex items-center px-3 py-1.5",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[n.jsx(ri,{size:14,className:"mr-2"}),n.jsxs("select",{value:r,onChange:u=>t(u.target.value),className:"text-sm bg-transparent border-none outline-none appearance-none pr-6",style:{color:"var(--text-primary)"},children:[n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]}),n.jsx(_i,{size:14,className:"ml-1"})]}),n.jsxs("button",{className:"border rounded-md px-3 py-1.5 flex items-center text-sm",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[n.jsx(Ei,{size:14,className:"mr-2"}),"Export"]})]})]}),n.jsx("div",{className:"h-64 flex items-center justify-center mb-4",children:n.jsxs("div",{className:"text-center w-full",children:[i&&i.length>0?n.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden relative flex items-end justify-between p-4",style:{backgroundColor:"var(--bg-secondary)"},children:i.map((u,m)=>{var v;const f=Math.max(...i.map(k=>k.sales||0)),b=f>0?Math.max(u.sales/f*120,20):20;return n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 rounded-t-lg transition-all duration-300 hover:opacity-80",style:{height:`${b}px`,backgroundColor:"var(--brand-primary)",opacity:.9},title:`${u.month}: ${((v=u.sales)==null?void 0:v.toLocaleString())||0}`}),n.jsx("span",{className:"text-xs mt-2 font-medium",style:{color:"var(--text-secondary)"},children:u.month})]},m)})}):n.jsx("div",{className:"w-full h-48 rounded-lg mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Gx,{size:32,className:"mx-auto mb-2",style:{color:"var(--text-secondary)"}}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"No sales data available"})]})}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Monthly sales overview (",(i==null?void 0:i.length)||0," months)"]})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Sales"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["",l.toLocaleString()]}),n.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Current year total"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Peak Month"}),n.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:i&&i.length>0?i.reduce((u,m)=>m.sales>u.sales?m:u,i[0]).month:"N/A"}),n.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Highest sales month"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Average Monthly"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["",i&&i.length>0?Math.round(l/i.length).toLocaleString():"0"]}),n.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Monthly average"})]})]})]})},jae=({isOpen:r,onClose:t,product:s})=>{var l;if(!r||!s)return null;const i=u=>{u.target===u.currentTarget&&t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:i,children:n.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:u=>u.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(wt,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Product Details"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Information"})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:20})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:s.name}),n.jsx("div",{className:"space-y-2 text-sm",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Product ID"}),n.jsxs("span",{style:{color:"var(--text-primary)"},children:["#",((l=s.id)==null?void 0:l.slice(-8))||"N/A"]})]})})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Gx,{className:"mr-2"}),"Sales Performance"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--brand-primary)"},children:s.sales||0}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Units Sold"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--success-color)"},children:["",(s.revenue||0).toLocaleString()]}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Total Revenue"})]})]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Om,{className:"mr-2"}),"Metrics"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Order Value"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",s.sales>0?Math.round((s.revenue||0)/s.sales).toLocaleString():"0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Performance Rank"}),n.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:"Top Seller"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Sales Trend"}),n.jsx("span",{className:"font-medium",style:{color:"var(--success-color)"},children:"Trending Up"})]})]})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},FR=()=>{const r=ns(),[t,s]=O.useState("monthly"),[i,l]=O.useState(null),[u,m]=O.useState(!1),{dashboard:f}=ni(),{topProducts:b}=f,v=C=>{l(C),m(!0)},k=()=>{r("/admin/products")};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Top Products"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${t==="weekly"?"font-medium":""}`,style:{backgroundColor:t==="weekly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:t==="weekly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>s("weekly"),children:"Weekly"}),n.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${t==="monthly"?"font-medium":""}`,style:{backgroundColor:t==="monthly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:t==="monthly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>s("monthly"),children:"Monthly"})]})]}),n.jsx("div",{className:"space-y-4",children:b&&b.length>0?b.map((C,_)=>{var S;return n.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",style:{borderRadius:"var(--rounded-md)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white flex-shrink-0 flex items-center justify-center shadow-sm",style:{borderRadius:"var(--rounded-md)"},children:n.jsx(wt,{size:24,style:{color:"var(--brand-primary)"}})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("h3",{className:"font-medium text-sm line-clamp-1",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsxs("div",{className:"flex items-center text-xs mr-4",style:{color:"var(--text-secondary)"},children:[n.jsx(wt,{size:12,className:"mr-1"}),n.jsxs("span",{children:[C.sales," sold"]})]}),n.jsxs("div",{className:"text-xs font-medium",style:{color:"var(--success-color)"},children:["",(S=C.revenue)==null?void 0:S.toLocaleString()]})]})]}),n.jsx("button",{onClick:()=>v(C),className:"ml-2 p-2 rounded-full hover:bg-gray-100 transition-all duration-200",style:{color:"var(--brand-primary)"},children:n.jsx(Ti,{size:18})})]},C.id||_)}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(wt,{size:32,className:"mx-auto mb-2",style:{color:"var(--text-secondary)"}}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"No product data available"})]})}),n.jsx("button",{onClick:k,className:"w-full mt-4 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center justify-center hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:"View All Products"})]}),n.jsx(jae,{isOpen:u,onClose:()=>m(!1),product:i})]})},VR=()=>({businessAnalytics:{totalRevenue:125430,totalRevenueChange:"+12.5%",netRevenue:98750.2,netRevenueChange:"+8.3%",grossProfit:45230.5,grossProfitChange:"+15.2%",operatingCosts:32140.8,operatingCostsChange:"-2.1%",conversionRate:3.2,conversionRateChange:"+0.4%",averageOrderValue:89.5,averageOrderValueChange:"+7.2%",returnRate:2.8,returnRateChange:"-0.5%",customerAcquisitionCost:23.4,customerAcquisitionCostChange:"-12.3%"},orderStatistics:{totalOrders:1456,totalOrdersChange:"+18.2%",pendingOrders:34,pendingOrdersChange:"+12.0%",processingOrders:67,processingOrdersChange:"+8.5%",shippedOrders:892,shippedOrdersChange:"+22.1%",deliveredOrders:1278,deliveredOrdersChange:"+16.8%",cancelledOrders:87,cancelledOrdersChange:"-5.2%",returnedOrders:45,returnedOrdersChange:"-8.1%",refundedOrders:23,refundedOrdersChange:"-15.6%"},userOverview:{totalCustomers:8945,totalCustomersChange:"+23.4%",newCustomersToday:12,newCustomersThisWeek:89,newCustomersThisMonth:342,activeCustomers:3456,activeCustomersChange:"+12.8%",totalDeliveryMen:45,totalDeliveryMenChange:"+15.0%",activeDeliveryMen:38,activeDeliveryMenChange:"+8.9%",averageCustomerLifetimeValue:234.56,customerRetentionRate:67.8},mostPopularProducts:[{id:1,name:"iPhone 15 Pro Max",image:"/products/iphone15.jpg",views:2456,viewsChange:"+12.3%",wishlistCount:567,shareCount:89,category:"Smartphones",price:1199.99},{id:2,name:'MacBook Pro 16"',image:"/products/macbook.jpg",views:1889,viewsChange:"+8.7%",wishlistCount:234,shareCount:45,category:"Laptops",price:2499.99},{id:3,name:"Samsung Galaxy S24 Ultra",image:"/products/samsung.jpg",views:1456,viewsChange:"+15.2%",wishlistCount:345,shareCount:67,category:"Smartphones",price:1299.99},{id:4,name:"AirPods Pro 2",image:"/products/airpods.jpg",views:1234,viewsChange:"+22.1%",wishlistCount:456,shareCount:78,category:"Audio",price:249.99},{id:5,name:'iPad Pro 12.9"',image:"/products/ipad.jpg",views:1098,viewsChange:"+6.4%",wishlistCount:189,shareCount:34,category:"Tablets",price:1099.99}],topSellingProducts:[{id:1,name:"iPhone 15 Pro Max",image:"/products/iphone15.jpg",unitsSold:234,revenue:280566,profit:45678.9,profitMargin:16.3,category:"Smartphones",stock:45,rating:4.8},{id:2,name:"AirPods Pro 2",image:"/products/airpods.jpg",unitsSold:456,revenue:113994.44,profit:34567.89,profitMargin:30.3,category:"Audio",stock:123,rating:4.7},{id:3,name:'MacBook Pro 16"',image:"/products/macbook.jpg",unitsSold:89,revenue:222499.11,profit:56789.12,profitMargin:25.5,category:"Laptops",stock:23,rating:4.9},{id:4,name:"Samsung Galaxy S24",image:"/products/samsung.jpg",unitsSold:178,revenue:159958.22,profit:23456.78,profitMargin:14.7,category:"Smartphones",stock:67,rating:4.6},{id:5,name:"Gaming Headset Pro",image:"/products/headset.jpg",unitsSold:345,revenue:51750,profit:18567.34,profitMargin:35.9,category:"Gaming",stock:89,rating:4.5}],topDeliveryMen:[{id:1,name:"John Smith",avatar:"/avatars/john.jpg",totalDeliveries:234,successRate:98.5,averageRating:4.8,totalEarnings:3456.78,thisMonthDeliveries:67,onTimeDeliveryRate:95.2,customerFeedback:4.7,activeHours:8.5},{id:2,name:"Mike Johnson",avatar:"/avatars/mike.jpg",totalDeliveries:189,successRate:97.2,averageRating:4.6,totalEarnings:2789.45,thisMonthDeliveries:54,onTimeDeliveryRate:92.8,customerFeedback:4.5,activeHours:7.8},{id:3,name:"David Wilson",avatar:"/avatars/david.jpg",totalDeliveries:167,successRate:96.8,averageRating:4.7,totalEarnings:2456.89,thisMonthDeliveries:48,onTimeDeliveryRate:94.1,customerFeedback:4.6,activeHours:8.2},{id:4,name:"Alex Brown",avatar:"/avatars/alex.jpg",totalDeliveries:145,successRate:95.5,averageRating:4.4,totalEarnings:2134.56,thisMonthDeliveries:41,onTimeDeliveryRate:91.7,customerFeedback:4.3,activeHours:7.5},{id:5,name:"Chris Davis",avatar:"/avatars/chris.jpg",totalDeliveries:123,successRate:94.8,averageRating:4.5,totalEarnings:1876.34,thisMonthDeliveries:35,onTimeDeliveryRate:90.3,customerFeedback:4.4,activeHours:6.8}],topCustomers:[{id:1,name:"Sarah Wilson",email:"sarah.wilson@email.com",avatar:"/avatars/sarah.jpg",totalOrders:45,totalSpent:8976.54,averageOrderValue:199.48,lastOrderDate:new Date(Date.now()-1e3*60*60*24*2),loyaltyLevel:"Platinum",signupDate:new Date(Date.now()-1e3*60*60*24*365),favoriteCategory:"Electronics"},{id:2,name:"Robert Chen",email:"robert.chen@email.com",avatar:"/avatars/robert.jpg",totalOrders:38,totalSpent:7234.89,averageOrderValue:190.39,lastOrderDate:new Date(Date.now()-1e3*60*60*24*1),loyaltyLevel:"Gold",signupDate:new Date(Date.now()-1e3*60*60*24*298),favoriteCategory:"Smartphones"},{id:3,name:"Emma Davis",email:"emma.davis@email.com",avatar:"/avatars/emma.jpg",totalOrders:42,totalSpent:6789.23,averageOrderValue:161.65,lastOrderDate:new Date(Date.now()-1e3*60*60*24*3),loyaltyLevel:"Gold",signupDate:new Date(Date.now()-1e3*60*60*24*234),favoriteCategory:"Fashion"},{id:4,name:"Michael Park",email:"michael.park@email.com",avatar:"/avatars/michael.jpg",totalOrders:29,totalSpent:5432.17,averageOrderValue:187.32,lastOrderDate:new Date(Date.now()-1e3*60*60*24*5),loyaltyLevel:"Silver",signupDate:new Date(Date.now()-1e3*60*60*24*156),favoriteCategory:"Gaming"},{id:5,name:"Lisa Anderson",email:"lisa.anderson@email.com",avatar:"/avatars/lisa.jpg",totalOrders:33,totalSpent:4876.45,averageOrderValue:147.77,lastOrderDate:new Date(Date.now()-1e3*60*60*24*4),loyaltyLevel:"Silver",signupDate:new Date(Date.now()-1e3*60*60*24*189),favoriteCategory:"Home & Garden"}],revenueChartData:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Revenue",data:[12e3,19e3,15e3,25e3,22e3,3e4,28e3,35e3,32e3,4e4,38e3,45e3],borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4},{label:"Profit",data:[8e3,12e3,9e3,16e3,14e3,19e3,18e3,22e3,2e4,25e3,24e3,28e3],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4}]},dateRange:{start:new Date(Date.now()-1e3*60*60*24*30),end:new Date,preset:"last30days"}}),Nae=nn((r,t)=>({analytics:VR(),loading:!1,error:null,selectedDateRange:"last30days",fetchAnalytics:async()=>{r({loading:!0,error:null});try{await new Promise(s=>setTimeout(s,1e3)),r({analytics:VR(),loading:!1})}catch(s){r({error:s.message,loading:!1})}},updateDateRange:s=>{r({selectedDateRange:s}),t().fetchAnalytics()},refreshData:()=>{t().fetchAnalytics()},getTopPerformers:(s,i=5)=>{const{analytics:l}=t();switch(s){case"products":return l.topSellingProducts.slice(0,i);case"delivery":return l.topDeliveryMen.slice(0,i);case"customers":return l.topCustomers.slice(0,i);default:return[]}},getTotalRevenue:()=>{const{analytics:s}=t();return s.businessAnalytics.totalRevenue},getConversionMetrics:()=>{const{analytics:s}=t();return{conversionRate:s.businessAnalytics.conversionRate,averageOrderValue:s.businessAnalytics.averageOrderValue,customerAcquisitionCost:s.businessAnalytics.customerAcquisitionCost}}})),Sae=()=>{const{dashboard:r,fetchDashboardData:t}=ni(),{analytics:s,loading:i,fetchAnalytics:l,selectedDateRange:u,updateDateRange:m}=Nae(),{stats:f,loading:b}=r,[v,k]=O.useState("overview"),C=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last90days",label:"Last 90 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisYear",label:"This Year"}],_=[{value:"overview",label:"Overview",icon:n.jsx(Fy,{size:16})},{value:"products",label:"Products",icon:n.jsx(wt,{size:16})},{value:"customers",label:"Customers",icon:n.jsx(yd,{size:16})},{value:"delivery",label:"Delivery",icon:n.jsx(tl,{size:16})},{value:"reports",label:"Reports",icon:n.jsx(Fu,{size:16})}],S=f.map((V,U)=>{const q=[n.jsx(Om,{size:24}),n.jsx(tl,{size:24}),n.jsx(yd,{size:24}),n.jsx(wt,{size:24})],$=["var(--brand-primary)","var(--brand-secondary)","var(--success-color)","var(--error-color)"];return{...V,icon:q[U],color:$[U]}});O.useEffect(()=>{t(),l()},[]);const M=()=>{t(),l()},R=b||i,I=()=>{var V,U,q;try{const $=["Metric","Value","Change","Period"],ne=[["Total Revenue",`${((V=f.totalRevenue)==null?void 0:V.toLocaleString())||0}`,f.revenueChange||"N/A",u],["Total Orders",f.totalOrders||0,f.ordersChange||"N/A",u],["New Customers",f.newCustomers||0,f.customersChange||"N/A",u],["Pending Orders",f.pendingOrders||0,"N/A",u],["Low Stock Items",f.lowStockItems||0,"N/A",u]];s!=null&&s.businessMetrics&&(ne.push(["","","",""]),ne.push(["Business Analytics","","",""]),ne.push(["Total Revenue (Analytics)",`${((U=s.businessMetrics.totalRevenue)==null?void 0:U.toLocaleString())||0}`,s.businessMetrics.totalRevenueChange||"N/A",u]),ne.push(["Average Order Value",`${((q=s.businessMetrics.averageOrderValue)==null?void 0:q.toLocaleString())||0}`,s.businessMetrics.averageOrderValueChange||"N/A",u]));const Q=[$.join(","),...ne.map(W=>W.map(ee=>typeof ee=="string"&&(ee.includes(",")||ee.includes('"'))?`"${ee.replace(/"/g,'""')}"`:ee).join(","))].join(`
`),B=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),J=`dashboard-report-${u}-${new Date().toISOString().split("T")[0]}.csv`;if(Y.download!==void 0){const W=URL.createObjectURL(B);Y.setAttribute("href",W),Y.setAttribute("download",J),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}}catch($){console.error("Error exporting dashboard data:",$),alert("Failed to export dashboard data. Please try again.")}},z=()=>{switch(v){case"products":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[n.jsx(xae,{products:s.mostPopularProducts}),n.jsx(vae,{products:s.topSellingProducts})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(zR,{})}),n.jsx("div",{children:n.jsx(FR,{})})]})]});case"customers":return n.jsxs("div",{className:"space-y-6",children:[n.jsx(kae,{customers:s.topCustomers}),n.jsx(LR,{overview:s.userOverview})]});case"delivery":return n.jsxs("div",{className:"space-y-6",children:[n.jsx(wae,{deliveryMen:s.topDeliveryMen}),n.jsx(BR,{statistics:s.orderStatistics})]});case"reports":return n.jsx(Cae,{});default:return n.jsxs("div",{className:"space-y-6",children:[R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-64",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((V,U)=>n.jsx("div",{className:"h-20 bg-gray-200 rounded"},U))})]}):n.jsx(yae,{analytics:s.businessAnalytics}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:R?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-80",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(8)].map((V,U)=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},U))})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-80",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(4)].map((V,U)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded"},U))})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(BR,{statistics:s.orderStatistics}),n.jsx(LR,{overview:s.userOverview})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"h-56 bg-gray-200 rounded w-full"})]}):n.jsx(zR,{})}),n.jsx("div",{children:R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((V,U)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},U))})]}):n.jsx(FR,{})})]}),n.jsx("div",{children:R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((V,U)=>n.jsx("div",{className:"h-12 bg-gray-200 rounded w-full"},U))})]}):n.jsx(Aae,{})})]})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:"Analytics Dashboard"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Comprehensive business insights and performance metrics"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ri,{size:16,style:{color:"var(--text-secondary)"}}),n.jsx("select",{value:u,onChange:V=>m(V.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:C.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))})]}),n.jsx(st,{variant:"secondary",size:"sm",fullWidth:!1,icon:n.jsx(Ei,{size:16}),onClick:I,children:"Export"}),n.jsx(st,{variant:"secondary",size:"sm",fullWidth:!1,onClick:M,isLoading:R,icon:n.jsx(Mo,{size:16}),children:R?"Refreshing...":"Refresh"})]})]}),n.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:n.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:_.map(V=>n.jsxs("button",{onClick:()=>k(V.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${v===V.value?"text-white shadow-sm":"hover:bg-gray-100"}`,style:{backgroundColor:v===V.value?"var(--brand-primary)":"transparent",color:v===V.value?"white":"var(--text-primary)"},children:[V.icon,n.jsx("span",{className:"hidden sm:block",children:V.label})]},V.value))})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:R?[...Array(4)].map((V,U)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},U)):S.map((V,U)=>n.jsx(bae,{...V},U))}),z()]})},Ni=nn((r,t)=>({products:{list:[],filteredList:null,loading:!1,error:null},fetchProducts:async()=>{r(s=>({products:{...s.products,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_products")).data.products;r({products:{list:i,filteredList:null,loading:!1,error:null}})}catch(s){r(i=>{var l,u;return{products:{...i.products,loading:!1,error:((u=(l=s.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch products"}}})}},deleteProduct:async s=>{var i,l;r(u=>({products:{...u.products,loading:!0,error:null}}));try{const u=await Ze.delete(`/admin/delete-product/${s}/`);if(u.status===200)return r(m=>({products:{...m.products,list:m.products.list.filter(f=>f.id!==s),filteredList:m.products.filteredList?m.products.filteredList.filter(f=>f.id!==s):null,loading:!1,error:null}})),{success:!0,message:u.data.message}}catch(u){return r(m=>{var f,b;return{products:{...m.products,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to delete product"}}}),{success:!1,message:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete product"}}},toggleProductFeatured:async s=>{var i,l;r(u=>({products:{...u.products,loading:!0,error:null}}));try{const u=await Ze.patch(`/admin/toggle-featured/${s}/`);if(u.status===200){const m=f=>f.map(b=>b.id===s?{...b,featured:u.data.featured}:b);return r(f=>({products:{...f.products,list:m(f.products.list),filteredList:f.products.filteredList?m(f.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:u.data.message,featured:u.data.featured}}}catch(u){return r(m=>{var f,b;return{products:{...m.products,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to update featured status"}}}),{success:!1,message:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update featured status"}}},updateProduct:async(s,i)=>{var l,u,m;r(f=>({products:{...f.products,loading:!0,error:null}}));try{const f=await Ze.patch(`/admin/products/edit/${s}/`,i);if(f.status===200){const b=v=>v.map(k=>k.id===s?{...k,...i}:k);return r(v=>({products:{...v.products,list:b(v.products.list),filteredList:v.products.filteredList?b(v.products.filteredList):null,loading:!1,error:null}})),r(v=>({products:{...v.products,list:b(v.products.list),filteredList:v.products.filteredList?b(v.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:f.data.message||"Product updated successfully",product_id:f.data.product_id||s}}}catch(f){const b=((u=(l=f.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update product";return r(v=>({products:{...v.products,loading:!1,error:b}})),{success:!1,message:b,status:(m=f.response)==null?void 0:m.status}}},addProduct:async s=>{var i,l,u;r(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await Ze.post("admin/products/add/",s);if(m.status===201){const f={...s,id:m.data.product_id};return r(b=>({products:{...b.products,list:[...b.products.list,f],filteredList:b.products.filteredList?[...b.products.filteredList,f]:null,loading:!1,error:null}})),{success:!0,message:m.data.message||"Product added successfully",product_id:m.data.product_id}}}catch(m){const f=((l=(i=m.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add product";return r(b=>({products:{...b.products,loading:!1,error:f}})),{success:!1,message:f,status:(u=m.response)==null?void 0:u.status}}},filterAndSortProducts:(s,i,l)=>{const{list:u}=t().products;if(!(s&&s!=="all"||i&&i.trim())&&l==="newest"){r(b=>({products:{...b.products,filteredList:null}}));return}let f=[...u];if(s&&s!=="all"&&(f=f.filter(b=>b.category.toLowerCase()===s.toLowerCase())),i&&i.trim()){const b=i.toLowerCase().trim();f=f.filter(v=>v.name.toLowerCase().includes(b)||v.brand.toLowerCase().includes(b)||v.description.toLowerCase().includes(b))}switch(l){case"newest":f.sort((b,v)=>new Date(v.createdAt||v.created_at||0)-new Date(b.createdAt||b.created_at||0));break;case"price-asc":f.sort((b,v)=>parseFloat(b.price)-parseFloat(v.price));break;case"price-desc":f.sort((b,v)=>parseFloat(v.price)-parseFloat(b.price));break;case"name-asc":f.sort((b,v)=>b.name.localeCompare(v.name));break;case"stock-asc":f.sort((b,v)=>parseInt(b.stock)-parseInt(v.stock));break}r(b=>({products:{...b.products,filteredList:f}}))},resetFilters:()=>{r(s=>({products:{...s.products,filteredList:null}}))},uploadProductImage:async s=>{var i,l;try{const u=new FormData;u.append("image",s);const m=await Ze.post("/admin/products/upload-image/",u,{headers:{"Content-Type":"multipart/form-data"}});return m.data.success?{success:!0,imageUrl:m.data.image_url,message:m.data.message||"Image uploaded successfully"}:{success:!1,message:m.data.error||"Failed to upload image"}}catch(u){return{success:!1,message:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||u.message||"Failed to upload image"}}},updateVariantStock:async(s,i)=>{var l,u;r(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await Ze.patch(`/admin/products/${s}/update-variant-stock/`,{variant_updates:i});if(m.status===200)return await t().fetchProducts(),{success:!0,message:m.data.message||"Variant stock updated successfully",updatedVariants:m.data.updated_variants}}catch(m){return r(f=>{var b,v;return{products:{...f.products,loading:!1,error:((v=(b=m.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to update variant stock"}}}),{success:!1,message:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update variant stock"}}}})),Eae=({onViewProduct:r,onEditProduct:t})=>{const{products:s,fetchProducts:i,deleteProduct:l,toggleProductFeatured:u}=Ni(),{list:m,filteredList:f,loading:b}=s,v=f!==null?f:m,k=ne=>{if(!ne)return 0;if(ne.valid_options&&ne.valid_options.length>0){const B=ne.valid_options[0],Y=B.discounted_price||B.price;return typeof Y=="number"?Y:0}const Q=ne.discount_price||ne.price;return typeof Q=="number"?Q:0},C=ne=>{if(!ne)return 0;if(ne.valid_options&&ne.valid_options.length>0)return ne.valid_options.reduce((B,Y)=>{const J=typeof Y.stock=="number"?Y.stock:0;return B+J},0);const Q=ne.stock;return typeof Q=="number"?Q:0},[_,S]=O.useState(!1),[M,R]=O.useState(!1),[I,z]=O.useState(null);O.useEffect(()=>{i()},[]);const V=ne=>{z(ne),S(!0)},U=async()=>{I&&(await l(I.id),S(!1))},q=ne=>{z(ne),R(!0)},$=async()=>{I&&(await u(I.id),R(!1))};return n.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Featured"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:b?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"Loading products..."})}):v.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No products found matching your filters."})}):v.filter(ne=>ne&&ne.id).map(ne=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:ne.images&&ne.images.length>0?ne.images[0]:"https://via.placeholder.com/50",alt:ne.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:ne.name}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["ID: ",ne.id]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:ne.category})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",k(ne).toLocaleString()]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm",style:{color:C(ne)===0?"var(--error-color)":C(ne)<10?"var(--warning-color)":"var(--text-primary)"},children:[C(ne),C(ne)===1?"unit":"units"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("button",{onClick:()=>q(ne),className:"w-5 h-5 rounded-full flex items-center justify-center transition-colors duration-200",style:{backgroundColor:ne.featured?"var(--brand-primary)":"var(--bg-secondary)",border:"1px solid",borderColor:ne.featured?"var(--brand-primary)":"var(--border-secondary)",color:ne.featured?"var(--text-on-brand)":"var(--text-secondary)"},children:ne.featured?n.jsx(Bn,{size:12}):null})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:C(ne)>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:C(ne)>0?"var(--success-color)":"var(--error-color)"},children:C(ne)>0?"Active":"Out of Stock"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>r(ne),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Product",children:n.jsx(Ti,{size:16})}),n.jsx("button",{onClick:()=>t(ne),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Product",children:n.jsx(rp,{size:16})}),n.jsx("button",{onClick:()=>V(ne),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Product",children:n.jsx(un,{size:16})})]})})]},ne.id))})]}),n.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",v.length," of ",m.length," products"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]}),_&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"mb-4 flex items-center",children:[n.jsx(el,{className:"mr-3",size:24,style:{color:"var(--error-color)"}}),n.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Deletion"})]}),n.jsxs("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:['Are you sure you want to delete "',I==null?void 0:I.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsx("button",{onClick:U,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--error-color)",color:"white",borderRadius:"var(--rounded-md)"},children:"Delete"})]})]})}),M&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"mb-4 flex items-center",children:[n.jsx(el,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),n.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Featured Status Change"})]}),n.jsx("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:I!=null&&I.featured?`Are you sure you want to remove "${I==null?void 0:I.name}" from featured products?`:`Are you sure you want to add "${I==null?void 0:I.name}" to featured products?`}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsx("button",{onClick:$,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:I!=null&&I.featured?"Remove Featured":"Make Featured"})]})]})})]})},Dae=({onClose:r,onSave:t})=>{const[s,i]=O.useState(1),[l,u]=O.useState(!1),{uploadProductImage:m}=Ni(),[f,b]=O.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],videos:[],specifications:{},attributes:{},features:[],valid_options:[],featured:!1,rating:0,reviews:0}),v=async ie=>{const ae=ie.target.files[0];if(ae){u(!0);try{const le=await m(ae);le.success?(b(oe=>({...oe,images:[...oe.images,le.imageUrl].slice(0,5)})),$e.info("Image uploaded successfully.")):$e.error("Failed to upload image: "+le.message)}catch(le){console.error("Error uploading image:",le),$e.error("Failed to upload image: "+le.message)}finally{u(!1)}}},k=ie=>{const{name:ae,value:le,type:oe,checked:G}=ie.target;b({...f,[ae]:oe==="checkbox"?G:le})},C=(ie,ae)=>{b({...f,specifications:{...f.specifications,[ie]:ae}})},_=()=>{b({...f,specifications:{...f.specifications,"":""}})},S=ie=>{const ae={...f.specifications};delete ae[ie],b({...f,specifications:ae})},M=(ie,ae)=>{b({...f,attributes:{...f.attributes,[ie]:ae}})},R=(ie,ae,le)=>{b(oe=>{if(ie===ae)return oe;const G={...oe.attributes};return Object.prototype.hasOwnProperty.call(G,ae)?($e.error(`Attribute key "${ae}" already exists. Please use a unique key.`),oe):(delete G[ie],G[ae]=le,{...oe,attributes:G})})},I=()=>{b(ie=>{const ae=ie.attributes;let le="",oe=le,G=0;for(;Object.prototype.hasOwnProperty.call(ae,oe);)G++,oe=`${le}${G}`;return{...ie,attributes:{...ae,[oe]:""}}})},z=ie=>{const ae={...f.attributes};delete ae[ie],b({...f,attributes:ae})},V=(ie,ae)=>{const le=[...f.features];le[ie]=ae,b({...f,features:le})},U=()=>{b({...f,features:[...f.features,""]})},q=ie=>{const ae=f.features.filter((le,oe)=>oe!==ie);b({...f,features:ae})},$=()=>{const ie={colors:"",storage:"",ram:"",size:"",price:0,discounted_price:0,stock:0,custom_keys:[],custom_values:[]};b({...f,valid_options:[...f.valid_options,ie]})},ne=ie=>{const ae=f.valid_options.filter((le,oe)=>oe!==ie);b({...f,valid_options:ae})},Q=(ie,ae,le)=>{const oe=[...f.valid_options];oe[ie]={...oe[ie],[ae]:ae==="price"||ae==="discounted_price"||ae==="stock"?parseFloat(le)||0:le},b({...f,valid_options:oe})},B=ie=>{const ae=[...f.valid_options],le=ae[ie];le.custom_keys||(le.custom_keys=[]),le.custom_values||(le.custom_values=[]),le.custom_keys.push(""),le.custom_values.push(""),b({...f,valid_options:ae})},Y=(ie,ae,le)=>{const oe=[...f.valid_options],G=oe[ie];G.custom_keys[ae]=le,b({...f,valid_options:oe})},J=(ie,ae,le)=>{const oe=[...f.valid_options],G=oe[ie];G.custom_values[ae]=le,b({...f,valid_options:oe})},W=(ie,ae)=>{const le=[...f.valid_options],oe=le[ie];oe.custom_keys.splice(ae,1),oe.custom_values.splice(ae,1),b({...f,valid_options:le})},ee=()=>{b({...f,videos:[...f.videos,""]})},te=(ie,ae)=>{const le=[...f.videos];le[ie]=ae,b({...f,videos:le})},be=ie=>{b({...f,videos:f.videos.filter((ae,le)=>le!==ie)})},xe=ie=>{ie.preventDefault();const ae={...f,price:parseFloat(f.price)||0,discount_price:parseFloat(f.discount_price)||0,stock:parseInt(f.stock,10)||0,rating:parseFloat(f.rating)||0,reviews:parseInt(f.reviews,10)||0};t&&t(ae),r()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s===1?"Add New Product - Basic Information":"Add New Product - Details & Media"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(Yt,{size:24})})]}),n.jsx("form",{onSubmit:xe,children:s===1?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),n.jsx("input",{type:"text",id:"brand",name:"brand",value:f.brand,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),n.jsxs("select",{id:"category",name:"category",value:f.category,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"",children:"Select a category"}),n.jsx("option",{value:"Smartphone",children:"Smartphone"}),n.jsx("option",{value:"Laptop",children:"Laptop"}),n.jsx("option",{value:"Tablet",children:"Tablet"}),n.jsx("option",{value:"TV",children:"TV"}),n.jsx("option",{value:"Accessories",children:"Accessories"}),n.jsx("option",{value:"Audio",children:"Audio"}),n.jsx("option",{value:"Wearables",children:"Wearables"}),n.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP () *"}),n.jsx("input",{type:"number",id:"price",name:"price",value:f.price,onChange:k,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price () *"}),n.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:f.discount_price,onChange:k,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),n.jsx("input",{type:"text",id:"discount",name:"discount",value:f.discount,onChange:k,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),n.jsx("input",{type:"number",id:"stock",name:"stock",value:f.stock,onChange:k,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:f.description,onChange:k,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>i(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),n.jsxs("button",{type:"button",onClick:U,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Feature"]})]}),f.features.map((ie,ae)=>n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("input",{type:"text",value:ie,onChange:le=>V(ae,le.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),n.jsx("button",{type:"button",onClick:()=>q(ae),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(un,{size:16})})]},ae))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),n.jsxs("button",{type:"button",onClick:_,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(f.specifications).map(([ie,ae],le)=>n.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[n.jsx("input",{type:"text",value:ie,onChange:oe=>{const G={...f.specifications},ue=G[ie];delete G[ie],b({...f,specifications:{...G,[oe.target.value]:ue}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),n.jsx("input",{type:"text",value:ae,onChange:oe=>C(ie,oe.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),n.jsx("button",{type:"button",onClick:()=>S(ie),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(un,{size:16})})]},le))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),n.jsxs("button",{type:"button",onClick:I,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Attribute"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(f.attributes).map(([ie,ae])=>n.jsx(Mae,{initialKey:ie,initialValue:ae,onKeyCommit:R,onValueChange:M,onDelete:z,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},ie)),n.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[n.jsx(dn,{})," Add Attribute"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),n.jsxs("button",{type:"button",onClick:$,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Option"]})]}),f.valid_options.map((ie,ae)=>n.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{type:"text",value:ie.colors||"",onChange:le=>Q(ae,"colors",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),n.jsx("input",{type:"text",value:ie.storage||"",onChange:le=>Q(ae,"storage",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),n.jsx("input",{type:"text",value:ie.ram||"",onChange:le=>Q(ae,"ram",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),n.jsx("input",{type:"text",value:ie.size||"",onChange:le=>Q(ae,"size",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx("input",{type:"number",value:ie.price||"",onChange:le=>Q(ae,"price",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:ie.discounted_price||"",onChange:le=>Q(ae,"discounted_price",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:ie.stock||"",onChange:le=>Q(ae,"stock",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),n.jsx("button",{type:"button",onClick:()=>ne(ae),className:"p-1.5 rounded-md mt-2",style:{color:"var(--error-color)"},children:n.jsx(un,{size:16})}),n.jsx("div",{className:"mt-2",children:ie.custom_keys&&ie.custom_keys.map((le,oe)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:le,onChange:G=>Y(ae,oe,G.target.value),placeholder:"Custom Key",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("input",{type:"text",value:ie.custom_values[oe],onChange:G=>J(ae,oe,G.target.value),placeholder:"Custom Value",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsxs("button",{type:"button",onClick:()=>W(ae,oe),className:"p-2 text-red-500 hover:text-red-700",children:[n.jsx("span",{className:"text-sm",children:"Remove Valid Option"}),n.jsx(un,{})]})]},oe))}),n.jsxs("button",{type:"button",onClick:()=>B(ae),className:"mt-2 p-1.5 rounded-md flex justify-between items-center",style:{color:"var(--brand-primary)"},children:[n.jsx("span",{className:"text-sm",children:"Add Custom"}),n.jsx(dn,{size:16})]})]},ae))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),n.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[f.images.map((ie,ae)=>n.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[n.jsx("img",{src:ie,alt:`Product ${ae+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>{const le=[...f.images];le.splice(ae,1),b({...f,images:le})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:n.jsx(Yt,{size:12})})]},ae)),f.images.length<5&&n.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload").click(),children:[n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:v,className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center",children:[l?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):n.jsx(tN,{size:20,style:{color:"var(--text-secondary)"}}),n.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:l?"Uploading...":"Add Image"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:f.featured,onChange:k,className:"mr-2"}),n.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Videos"}),n.jsxs("div",{className:"space-y-2 mb-3",children:[f.videos.map((ie,ae)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"url",value:ie,onChange:le=>te(ae,le.target.value),placeholder:"Enter video URL",className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("button",{type:"button",onClick:()=>be(ae),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(un,{})})]},ae)),n.jsxs("button",{type:"button",onClick:ee,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(dn,{size:16}),n.jsx("span",{children:"Add Video URL"})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:()=>i(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Product"})]})]})]})})]})})},Mae=({initialKey:r,initialValue:t,onKeyCommit:s,onValueChange:i,onDelete:l,styleProps:u})=>{const[m,f]=O.useState(r),[b,v]=O.useState(t);O.useEffect(()=>{f(r)},[r]),O.useEffect(()=>{v(t)},[t]);const k=M=>{f(M.target.value)},C=()=>{m!==r&&s(r,m,b)},_=M=>{v(M.target.value)},S=()=>{b!==t&&i(r,b)};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:m,onChange:k,onBlur:C,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:u}),n.jsx("input",{type:"text",value:b,onChange:_,onBlur:S,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:u}),n.jsx("button",{type:"button",onClick:()=>l(r),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(un,{})})]})},Tae=({onClose:r})=>{const{isOpen:t,modalConfig:s,isLoading:i,showConfirm:l,hideConfirm:u,handleConfirm:m}=gg(),[f,b]=O.useState([{id:1,name:"Smartphones",slug:"smartphones",description:"Mobile phones and smartphones",productCount:28},{id:2,name:"Laptops",slug:"laptops",description:"Laptops and notebooks",productCount:15},{id:3,name:"Tablets",slug:"tablets",description:"Tablets and iPads",productCount:9},{id:4,name:"Accessories",slug:"accessories",description:"Mobile and laptop accessories",productCount:42},{id:5,name:"Audio",slug:"audio",description:"Headphones, earbuds, and speakers",productCount:23}]),[v,k]=O.useState(!1),[C,_]=O.useState({id:null,name:"",slug:"",description:""}),S=q=>q.toLowerCase().replace(/\s+/g,"-"),M=q=>{const $=q.target.value;_({...C,name:$,slug:S($)})},R=q=>{_({...C,description:q.target.value})},I=()=>{if(C.name.trim()){if(v)b(f.map(q=>q.id===C.id?{...C,productCount:q.productCount}:q));else{const q=Math.max(...f.map($=>$.id))+1;b([...f,{...C,id:q,productCount:0}])}_({id:null,name:"",slug:"",description:""}),k(!1)}},z=q=>{_(q),k(!0)},V=()=>{_({id:null,name:"",slug:"",description:""}),k(!1)},U=q=>{const $=f.find(ne=>ne.id===q);l({title:"Delete Category",message:`Are you sure you want to delete "${$==null?void 0:$.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{b(f.filter(ne=>ne.id!==q)),$e.success("Category deleted successfully")}catch(ne){console.error("Error deleting category:",ne),$e.error("Failed to delete category")}}})};return n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{backdropFilter:"blur(4px)"},children:[n.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Category Management"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(Yt,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-lg)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:v?"Edit Category":"Add New Category"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category-name",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Category Name"}),n.jsx("input",{type:"text",id:"category-name",value:C.name,onChange:M,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"e.g. Smartphones"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category-slug",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Slug (Auto-generated)"}),n.jsx("input",{type:"text",id:"category-slug",value:C.slug,readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-secondary)"},placeholder:"e.g. smartphones"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"category-description",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),n.jsx("textarea",{id:"category-description",value:C.description,onChange:R,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Brief description of the category",rows:"2"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[v&&n.jsx("button",{type:"button",onClick:V,className:"px-3 py-1.5 border rounded-md text-xs font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"button",onClick:I,className:"px-4 py-1.5 rounded-md flex items-center text-xs font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(dn,{size:14,className:"mr-1"}),v?"Update Category":"Add Category"]})]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Products"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:f.map(q=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.name}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:q.description})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:[q.productCount," products"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>z(q),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Category",children:n.jsx(rp,{size:16})}),n.jsx("button",{onClick:()=>U(q.id),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Category",disabled:q.productCount>0,children:n.jsx(un,{size:16})})]})})]},q.id))})]})})]}),n.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Close"})})]}),n.jsx(ih,{isOpen:t,onClose:u,onConfirm:m,title:s.title,message:s.message,confirmText:s.confirmText,cancelText:s.cancelText,type:s.type,isLoading:i})]})},Iae=({product:r,onClose:t,onEdit:s})=>{var i,l,u,m;return r?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Details"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>s(r),className:"flex items-center px-3 py-1.5 rounded-md text-sm",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(cx,{size:16,className:"mr-1"}),"Edit"]}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(Yt,{size:24})})]})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"mb-3 aspect-square rounded-lg overflow-hidden",children:n.jsx("img",{src:((i=r.images)==null?void 0:i[0])||"https://via.placeholder.com/400",alt:r.name,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:(l=r.images)==null?void 0:l.slice(1).map((f,b)=>n.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:n.jsx("img",{src:f||"https://via.placeholder.com/80",alt:`${r.name} - ${b+2}`,className:"w-full h-full object-cover"})},b))})]}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold mb-1",style:{color:"var(--text-primary)"},children:r.name}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Brand: ",n.jsx("span",{className:"font-medium",children:r.brand})]}),n.jsx("span",{className:"mx-2",style:{color:"var(--border-primary)"},children:"|"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Category:",n.jsx("span",{className:"font-medium",children:r.category})]})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx($r,{className:"fill-current"}),n.jsx("span",{className:"ml-1",children:r.rating})]}),n.jsxs("span",{className:"mx-2 text-sm",style:{color:"var(--text-secondary)"},children:[r.reviews," reviews"]})]}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsxs("span",{className:"text-2xl font-bold mr-3",style:{color:"var(--text-primary)"},children:["",(u=r.discount_price)==null?void 0:u.toLocaleString()]}),r.discount&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg line-through mr-2",style:{color:"var(--text-secondary)"},children:["",(m=r.price)==null?void 0:m.toLocaleString()]}),n.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[r.discount," OFF"]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("span",{className:"text-sm font-medium mb-1 block",style:{color:"var(--text-secondary)"},children:"Stock:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"px-2 py-1 rounded text-sm font-medium",style:{backgroundColor:r.stock>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:r.stock>0?"var(--success-color)":"var(--error-color)"},children:r.stock>0?`${r.stock} in stock`:"Out of stock"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Description"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:r.description})]}),r.features&&r.features.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key Features"}),n.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1",style:{color:"var(--text-secondary)"},children:r.features.map((f,b)=>n.jsx("li",{children:f},b))})]}),r.specifications&&Object.keys(r.specifications).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specifications"}),n.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(r.specifications).map(([f,b])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[f.replace(/([A-Z])/g," $1").trim(),":"]}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:b})]},f))})]}),r.attributes&&Object.keys(r.attributes).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Attributes"}),n.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(r.attributes).map(([f,b])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[f.replace(/([A-Z])/g," $1").trim(),":"]}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:b})]},f))})]}),r.valid_options&&r.valid_options.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",style:{color:"var(--text-primary)"},children:"Available Options"}),n.jsx("div",{className:"space-y-3",children:r.valid_options.map((f,b)=>{var v,k;return n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[f.colors&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:f.colors})]}),f.storage&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:f.storage})]}),f.ram&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:f.ram})]}),f.size&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:f.size})]}),f.resolution&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:f.resolution})]})]}),f.custom_keys&&f.custom_values&&f.custom_keys.length>0&&n.jsx("div",{className:"grid grid-cols-2 gap-4 mb-3 mt-3 border-t pt-3",children:f.custom_keys.map((C,_)=>C&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[C,":"]}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:f.custom_values[_]})]},_))}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Price:"}),n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",(v=f.price)==null?void 0:v.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["",(k=f.discounted_price)==null?void 0:k.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock:"}),n.jsxs("p",{className:"text-sm font-medium",style:{color:f.stock>0?"var(--success-color)":"var(--error-color)"},children:[f.stock," units"]})]})]})]},b)})})]})]})]})})]})}):null},Rae=({product:r,onClose:t,onSave:s})=>{const[i,l]=O.useState(1),[u,m]=O.useState(!1),{uploadProductImage:f}=Ni(),[b,v]=O.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],videos:[],specifications:{},attributes:{},features:[],valid_options:[],featured:!1}),k=({initialKey:le,initialValue:oe,onKeyCommit:G,onValueChange:ue,onDelete:me,styleProps:ye})=>{const[ve,Me]=O.useState(le),[Ae,Ye]=O.useState(oe);O.useEffect(()=>{Me(le)},[le]),O.useEffect(()=>{Ye(oe)},[oe]);const ze=et=>{Me(et.target.value)},Qe=()=>{ve!==le&&G(le,ve,Ae)},Be=et=>{Ye(et.target.value)},fe=()=>{Ae!==oe&&ue(le,Ae)};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:ve,onChange:ze,onBlur:Qe,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:ye}),n.jsx("input",{type:"text",value:Ae,onChange:Be,onBlur:fe,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:ye}),n.jsx("button",{type:"button",onClick:()=>me(le),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(un,{})})]})};O.useEffect(()=>{if(r){const le=r.specifications||{},oe=Array.isArray(r.features)?r.features:[],G=typeof r.price=="number"?r.price:parseFloat(r.price||0),ue=typeof r.discount_price=="number"?r.discount_price:parseFloat(r.discount_price||0),me=typeof r.stock=="number"?r.stock:parseInt(r.stock||0,10);v({name:r.name||"",description:r.description||"",brand:r.brand||"",category:r.category||"",price:G,discount_price:ue,discount:r.discount||"",stock:me,images:r.images||[],videos:r.videos||[],specifications:le,attributes:r.attributes||{},features:oe,valid_options:r.valid_options||[],featured:r.featured||!1})}},[r]);const C=le=>{const{name:oe,value:G,type:ue,checked:me}=le.target;v({...b,[oe]:ue==="checkbox"?me:G})},_=(le,oe)=>{v({...b,specifications:{...b.specifications,[le]:oe}})},S=()=>{v({...b,specifications:{...b.specifications,"":""}})},M=le=>{const oe={...b.specifications};delete oe[le],v({...b,specifications:oe})},R=(le,oe)=>{v({...b,attributes:{...b.attributes,[le]:oe}})},I=(le,oe,G)=>{v(ue=>{if(le===oe)return ue;const me={...ue.attributes};return Object.prototype.hasOwnProperty.call(me,oe)?($e.error(`Attribute key "${oe}" already exists. Please use a unique key.`),ue):(delete me[le],me[oe]=G,{...ue,attributes:me})})},z=()=>{v(le=>{const oe=le.attributes;let G="",ue=G,me=0;for(;Object.prototype.hasOwnProperty.call(oe,ue);)me++,ue=`${G}${me}`;return{...le,attributes:{...oe,[ue]:""}}})},V=le=>{const oe={...b.attributes};delete oe[le],v({...b,attributes:oe})},U=(le,oe)=>{const G=[...b.features];G[le]=oe,v({...b,features:G})},q=()=>{v({...b,features:[...b.features,""]})},$=le=>{const oe=b.features.filter((G,ue)=>ue!==le);v({...b,features:oe})},ne=()=>{const le={colors:"",storage:"",ram:"",size:"",resolution:"",price:0,discounted_price:0,stock:0,custom_keys:[],custom_values:[]};v({...b,valid_options:[...b.valid_options,le]})},Q=le=>{const oe=b.valid_options.filter((G,ue)=>ue!==le);v({...b,valid_options:oe})},B=(le,oe,G)=>{const ue=[...b.valid_options];ue[le]={...ue[le],[oe]:oe==="price"||oe==="discounted_price"||oe==="stock"?parseFloat(G)||0:G},v({...b,valid_options:ue})},Y=le=>{const oe=[...b.valid_options],G=oe[le];G.custom_keys||(G.custom_keys=[]),G.custom_values||(G.custom_values=[]),G.custom_keys.push(""),G.custom_values.push(""),v({...b,valid_options:oe})},J=(le,oe,G)=>{const ue=[...b.valid_options],me=ue[le];me.custom_keys[oe]=G,v({...b,valid_options:ue})},W=(le,oe,G)=>{const ue=[...b.valid_options],me=ue[le];me.custom_values[oe]=G,v({...b,valid_options:ue})},ee=(le,oe)=>{const G=[...b.valid_options],ue=G[le];ue.custom_keys.splice(oe,1),ue.custom_values.splice(oe,1),v({...b,valid_options:G})},te=async le=>{const oe=le.target.files[0];if(oe){m(!0);try{const G=await f(oe);G.success?(v(ue=>({...ue,images:[...ue.images,G.imageUrl].slice(0,5)})),$e.info("Image uploaded successfully.")):$e.error("Failed to upload image: "+G.message)}catch(G){console.error("Error uploading image:",G),$e.error("Failed to upload image: "+G.message)}finally{m(!1)}}},be=()=>{v({...b,videos:[...b.videos,""]})},xe=(le,oe)=>{const G=[...b.videos];G[le]=oe,v({...b,videos:G})},ie=le=>{v({...b,videos:b.videos.filter((oe,G)=>G!==le)})},ae=le=>{le.preventDefault(),s(b)};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:i===1?"Edit Product - Basic Information":"Edit Product - Details & Media"}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(Yt,{size:24})})]}),n.jsx("form",{onSubmit:ae,children:i===1?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:b.name,onChange:C,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),n.jsx("input",{type:"text",id:"brand",name:"brand",value:b.brand,onChange:C,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),n.jsxs("select",{id:"category",name:"category",value:b.category,onChange:C,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"",children:"Select a category"}),n.jsx("option",{value:"Smartphone",children:"Smartphone"}),n.jsx("option",{value:"Laptop",children:"Laptop"}),n.jsx("option",{value:"Tablet",children:"Tablet"}),n.jsx("option",{value:"TV",children:"TV"}),n.jsx("option",{value:"Accessories",children:"Accessories"}),n.jsx("option",{value:"Audio",children:"Audio"}),n.jsx("option",{value:"Wearables",children:"Wearables"}),n.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP () *"}),n.jsx("input",{type:"number",id:"price",name:"price",value:b.price,onChange:C,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price () *"}),n.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:b.discount_price,onChange:C,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),n.jsx("input",{type:"text",id:"discount",name:"discount",value:b.discount,onChange:C,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),n.jsx("input",{type:"number",id:"stock",name:"stock",value:b.stock,onChange:C,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:b.description,onChange:C,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>l(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),n.jsxs("button",{type:"button",onClick:q,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Feature"]})]}),b.features.map((le,oe)=>n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("input",{type:"text",value:le,onChange:G=>U(oe,G.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),n.jsx("button",{type:"button",onClick:()=>$(oe),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(un,{size:16})})]},oe))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),n.jsxs("button",{type:"button",onClick:S,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(b.specifications).map(([le,oe],G)=>n.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[n.jsx("input",{type:"text",value:le,onChange:ue=>{const me={...b.specifications},ye=me[le];delete me[le],v({...b,specifications:{...me,[ue.target.value]:ye}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),n.jsx("input",{type:"text",value:oe,onChange:ue=>_(le,ue.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),n.jsx("button",{type:"button",onClick:()=>M(le),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(un,{size:16})})]},G))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),n.jsxs("button",{type:"button",onClick:z,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Attribute"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(b.attributes).map(([le,oe])=>n.jsx(k,{initialKey:le,initialValue:oe,onKeyCommit:I,onValueChange:R,onDelete:V,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},le)),n.jsxs("button",{type:"button",onClick:z,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[n.jsx(dn,{})," Add Attribute"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),n.jsxs("button",{type:"button",onClick:ne,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Option"]})]}),b.valid_options.map((le,oe)=>n.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{type:"text",value:le.colors||"",onChange:G=>B(oe,"colors",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),n.jsx("input",{type:"text",value:le.storage||"",onChange:G=>B(oe,"storage",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),n.jsx("input",{type:"text",value:le.ram||"",onChange:G=>B(oe,"ram",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),n.jsx("input",{type:"text",value:le.size||"",onChange:G=>B(oe,"size",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx("input",{type:"number",value:le.price||"",onChange:G=>B(oe,"price",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:le.discounted_price||"",onChange:G=>B(oe,"discounted_price",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:le.stock||"",onChange:G=>B(oe,"stock",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),n.jsx("div",{className:"mt-2",children:le.custom_keys&&le.custom_keys.map((G,ue)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:G,onChange:me=>J(oe,ue,me.target.value),placeholder:"Custom Key",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("input",{type:"text",value:le.custom_values[ue],onChange:me=>W(oe,ue,me.target.value),placeholder:"Custom Value",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("button",{type:"button",onClick:()=>ee(oe,ue),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(un,{})})]},ue))}),n.jsx("div",{className:"flex justify-between mt-2",children:n.jsxs("button",{type:"button",onClick:()=>Y(oe),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(dn,{size:14,className:"mr-1"})," Add Custom Field"]})}),n.jsxs("button",{type:"button",onClick:()=>Q(oe),className:"p-1.5 rounded-md flex justify-between items-center",style:{color:"var(--error-color)"},children:[n.jsx("span",{className:"text-sm",children:"Delete Valid Option"}),n.jsx(un,{size:16})]})]},oe))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),n.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[b.images.map((le,oe)=>n.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[n.jsx("img",{src:le,alt:`Product ${oe+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>{const G=[...b.images];G.splice(oe,1),v({...b,images:G})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:n.jsx(Yt,{size:12})})]},oe)),b.images.length<5&&n.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors relative",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload-edit").click(),children:[n.jsx("input",{type:"file",id:"image-upload-edit",accept:"image/*",onChange:te,className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center",children:[u?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):n.jsx(tN,{size:20,style:{color:"var(--text-secondary)"}}),n.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:u?"Uploading...":"Add Image"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:b.featured,onChange:C,className:"mr-2"}),n.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Videos"}),n.jsxs("div",{className:"space-y-2 mb-3",children:[b.videos.map((le,oe)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"url",value:le,onChange:G=>xe(oe,G.target.value),placeholder:"Enter video URL",className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("button",{type:"button",onClick:()=>ie(oe),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(un,{})})]},oe)),n.jsxs("button",{type:"button",onClick:be,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(dn,{size:16}),n.jsx("span",{children:"Add Video URL"})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:()=>l(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Changes"})]})]})]})})]})})},Pae=()=>{const[r,t]=O.useState(!1),[s,i]=O.useState(!1),[l,u]=O.useState("all"),[m,f]=O.useState(""),[b,v]=O.useState("newest"),[k,C]=O.useState(null),[_,S]=O.useState(!1),[M,R]=O.useState(!1),[I,z]=O.useState(1),V=10,{updateProduct:U,addProduct:q,filterAndSortProducts:$,fetchProducts:ne,filteredProducts:Q}=Ni();O.useEffect(()=>{ne()},[]),O.useEffect(()=>{$(l,m,b)},[l,m,b,$]);const B=G=>{v(G.target.value)},Y=()=>{u("all"),f(""),v("newest"),z(1)},J=(Q==null?void 0:Q.length)||0,W=Math.ceil(J/V),ee=(I-1)*V,te=ee+V,be=(Q==null?void 0:Q.slice(ee,te))||[],xe=G=>{z(G),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{z(1)},[l,m,b]);const ie=G=>{C(G),S(!0)},ae=G=>{S(!1),C(G),R(!0)},le=async G=>{try{const ue=k.id,ye=["name","brand","category","description"].filter(Me=>!G[Me]);if(ye.length>0){console.error(`Missing required fields: ${ye.join(", ")}`);return}const ve=await U(ue,G);ve.success?(R(!1),console.log(`Product updated successfully: ${ue}`)):console.error(`Failed to update product: ${ve.message}`)}catch(ue){console.error("Error in update product handler:",ue)}},oe=async G=>{try{const me=["name","brand","category","price","stock","description","images"].filter(ve=>!G[ve]);if(me.length>0){console.error(`Missing required fields: ${me.join(", ")}`);return}const ye=await q(G);ye.success?(t(!1),console.log(`Product added successfully with ID: ${ye.product_id}`)):console.error(`Failed to add product: ${ye.message}`)}catch(ue){console.error("Error in add product handler:",ue)}};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Management"}),n.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:n.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(dn,{className:"mr-2",size:16}),"Add New Product"]})})]}),n.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[240px]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:G=>f(G.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"}})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("select",{value:l,onChange:G=>u(G.target.value),className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"Smartphone",children:"Smartphones"}),n.jsx("option",{value:"Laptop",children:"Laptops"}),n.jsx("option",{value:"Tablet",children:"Tablets"}),n.jsx("option",{value:"Accessory",children:"Accessories"})]}),n.jsxs("select",{value:b,onChange:B,className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"newest",children:"Sort: Newest"}),n.jsx("option",{value:"price-asc",children:"Sort: Price (Low to High)"}),n.jsx("option",{value:"price-desc",children:"Sort: Price (High to Low)"}),n.jsx("option",{value:"name-asc",children:"Sort: Name (A-Z)"}),n.jsx("option",{value:"stock-asc",children:"Sort: Stock (Low to High)"})]}),n.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-secondary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"Clear Filters"})]})]}),n.jsx(Eae,{products:be,onViewProduct:ie,onEditProduct:ae}),J>0&&n.jsx($a,{currentPage:I,totalPages:W,onPageChange:xe,totalItems:J,itemsPerPage:V}),r&&n.jsx(Dae,{onClose:()=>t(!1),onSave:oe}),s&&n.jsx(Tae,{onClose:()=>i(!1)}),_&&k&&n.jsx(Iae,{product:k,onClose:()=>S(!1),onEdit:ae}),M&&k&&n.jsx(Rae,{product:k,onClose:()=>R(!1),onSave:le})]})},Wl=nn(()=>({getProductTotalStock:r=>{if(!r)return 0;if(r.valid_options&&r.valid_options.length>0)return r.valid_options.reduce((s,i)=>{const l=typeof i.stock=="number"?i.stock:0;return s+l},0);const t=r.stock;return typeof t=="number"?t:0},getLowStockVariants:r=>!r||!r.valid_options?[]:r.valid_options.filter(t=>{const s=typeof t.stock=="number"?t.stock:0;return s<=5&&s>0}),getOutOfStockVariants:r=>!r||!r.valid_options?[]:r.valid_options.filter(t=>(typeof t.stock=="number"?t.stock:0)===0),getProductStockStatus:r=>{if(!r)return{status:"unknown",details:[]};const t=Wl.getState().getProductTotalStock(r),s=Wl.getState().getLowStockVariants(r),i=Wl.getState().getOutOfStockVariants(r);let l="in-stock";const u=[];return t===0?(l="out-of-stock",u.push("All variants out of stock")):i.length>0&&(l="partial-out-of-stock",u.push(`${i.length} variant(s) out of stock`)),t<=5&&t>0?(l=l==="in-stock"?"low-stock":l,u.push(`Total stock low (${t} units)`)):s.length>0&&(l=l==="in-stock"?"low-stock":l,u.push(`${s.length} variant(s) low on stock`)),{status:l,details:u,totalStock:t,lowStockVariants:s,outOfStockVariants:i}},getFilteredInventory:(r,t,s)=>{const l=Ni.getState().products.list,u=Wl.getState();let m=[...l];if(r&&r!=="all"&&(m=m.filter(f=>f.category.toLowerCase()===r.toLowerCase())),t&&t!=="all")switch(t){case"in-stock":m=m.filter(f=>{const b=u.getProductStockStatus(f);return b.status==="in-stock"&&b.totalStock>5});break;case"low-stock":m=m.filter(f=>{const b=u.getProductStockStatus(f);return["low-stock","partial-out-of-stock"].includes(b.status)&&b.totalStock>0});break;case"out-of-stock":m=m.filter(f=>u.getProductStockStatus(f).status==="out-of-stock");break}if(s&&s.trim()){const f=s.toLowerCase().trim();m=m.filter(b=>b.name.toLowerCase().includes(f)||b.brand.toLowerCase().includes(f)||b.category.toLowerCase().includes(f))}return m},getLowStockProducts:()=>{const t=Ni.getState().products.list,s=Wl.getState();return t.filter(i=>{const l=s.getProductTotalStock(i);return l<=5&&l>0?!0:i.valid_options&&i.valid_options.length>0?i.valid_options.some(u=>{const m=typeof u.stock=="number"?u.stock:0;return m<=5&&m>0}):!1})},getOutOfStockProducts:()=>{const t=Ni.getState().products.list,s=Wl.getState();return t.filter(i=>s.getProductTotalStock(i)===0?!0:i.valid_options&&i.valid_options.length>0?i.valid_options.some(u=>(typeof u.stock=="number"?u.stock:0)===0):!1)},updateProductStock:async(r,t)=>{const s=Ni.getState();try{return await s.updateProduct(r,{stock:t})}catch(i){return console.error("Error updating product stock:",i),{success:!1,message:"Failed to update stock"}}},bulkUpdateStock:async r=>{const t=Ni.getState(),s=[];for(const i of r)try{const l=await t.updateProduct(i.productId,{stock:i.newStock});s.push({...i,success:l.success,message:l.message})}catch{s.push({...i,success:!1,message:"Failed to update stock"})}return s},getInventoryStats:()=>{const t=Ni.getState().products.list,s=Wl.getState(),i=t.length,l=t.filter(b=>{const v=s.getProductStockStatus(b);return v.status==="in-stock"&&v.totalStock>5}).length,u=t.filter(b=>{const v=s.getProductStockStatus(b);return["low-stock","partial-out-of-stock"].includes(v.status)&&v.totalStock>0}).length,m=t.filter(b=>s.getProductStockStatus(b).status==="out-of-stock").length,f=t.reduce((b,v)=>{const k=s.getProductTotalStock(v),C=v.price||0;return b+k*parseFloat(C)},0);return{totalProducts:i,inStock:l,lowStock:u,outOfStock:m,totalStockValue:f}},generateSKU:r=>{if(r.sku)return r.sku;const t=r.brand.substring(0,3).toUpperCase(),s=r.name.substring(0,3).toUpperCase(),i=r.category.substring(0,2).toUpperCase();return`${t}-${s}-${i}-${r.id}`}})),Oae=({isOpen:r,onClose:t,product:s})=>{const[i,l]=O.useState([]),[u,m]=O.useState(null),[f,b]=O.useState(""),[v,k]=O.useState(!1),[C,_]=O.useState(!1),{updateVariantStock:S}=Ni();O.useEffect(()=>{s&&s.valid_options&&(l([...s.valid_options]),_(!1))},[s]);const M=(q,$)=>{const ne=i.map(Q=>Q.id===q?{...Q,stock:parseInt($,10)||0}:Q);l(ne),_(!0)},R=(q,$)=>{m(q),b($.toString())},I=q=>{const $=parseInt(f,10);if(isNaN($)||$<0){Ot.error("Please enter a valid stock value (0 or greater)");return}M(q,$),m(null),b("")},z=()=>{m(null),b("")},V=async()=>{if(C){k(!0);try{const q=i.map(ne=>({variant_id:ne.id,new_stock:ne.stock||0})),$=await S(s.id,q);$.success?(_(!1),Ot.success(`Variant stock updated successfully! ${$.updatedVariants||q.length} variants updated.`),t()):(console.error("Failed to update variant stocks:",$.message),Ot.error($.message||"Failed to update variant stock"))}catch(q){console.error("Error updating variant stocks:",q),Ot.error("Error updating variant stocks. Please try again.")}finally{k(!1)}}},U=()=>i.reduce((q,$)=>q+($.stock||0),0);return!r||!s?null:n.jsx("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-90vh overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",maxHeight:"90vh"},children:[n.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Manage Variant Stock"}),n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[s.name," - Total Stock: ",U()]})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md",style:{borderRadius:"var(--rounded-md)"},children:n.jsx(Yt,{size:20,style:{color:"var(--text-secondary)"}})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:i.length===0?n.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:[n.jsx("p",{children:"This product has no variants configured."}),n.jsxs("p",{className:"text-sm mt-2",children:["Current stock: ",s.stock||0]})]}):n.jsx("div",{className:"space-y-4",children:i.map((q,$)=>{var ne,Q,B;return n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium mb-1",style:{color:"var(--text-primary)"},children:["Variant #",$+1]}),n.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:["ID: ",q.id]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock Level:"}),u===q.id?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"number",min:"0",value:f,onChange:Y=>b(Y.target.value),className:"w-20 text-center p-2 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},autoFocus:!0,onKeyPress:Y=>{Y.key==="Enter"?I(q.id):Y.key==="Escape"&&z()}}),n.jsx("button",{onClick:()=>I(q.id),className:"p-2 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:n.jsx(Bn,{size:16})}),n.jsx("button",{onClick:z,className:"p-2 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:n.jsx(Yt,{size:16})})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-lg font-bold px-3 py-1 rounded",style:{color:q.stock===0?"var(--error-color)":q.stock<=5?"var(--warning-color)":"var(--success-color)",backgroundColor:q.stock===0?"rgba(239, 68, 68, 0.1)":q.stock<=5?"rgba(245, 158, 11, 0.1)":"rgba(16, 185, 129, 0.1)"},children:[q.stock||0," units"]}),n.jsx("button",{onClick:()=>R(q.id,q.stock||0),className:"p-2 rounded-md hover:bg-gray-100",title:"Edit stock level",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:n.jsx(rp,{size:16})})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 mb-4",children:[q.colors&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.colors})]}),q.storage&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.storage})]}),q.ram&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.ram})]}),q.size&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.size})]}),q.resolution&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.resolution})]}),q.capacity&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Capacity:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.capacity})]})]}),q.custom_keys&&q.custom_values&&q.custom_keys.length>0&&n.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 mb-4 pt-3 border-t",style:{borderColor:"var(--border-primary)"},children:q.custom_keys.map((Y,J)=>Y&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[Y,":"]}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.custom_values[J]})]},J))}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Original Price:"}),n.jsxs("p",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["",((ne=q.price)==null?void 0:ne.toLocaleString())||0]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",((Q=q.discounted_price)==null?void 0:Q.toLocaleString())||((B=q.price)==null?void 0:B.toLocaleString())||0]}),q.discounted_price&&q.discounted_price!==q.price&&n.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium mt-1 inline-block",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[Math.round((q.price-q.discounted_price)/q.price*100),"% OFF"]})]})]})]},q.id)})})}),i.length>0&&n.jsxs("div",{className:"px-6 py-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsx("button",{onClick:V,disabled:!C||v,className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:C?"var(--brand-primary)":"var(--bg-secondary)",color:C?"var(--text-on-brand)":"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:v?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),n.jsx("span",{children:"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Wm,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})})},Bae=({categoryFilter:r,stockFilter:t,searchQuery:s})=>{const[i,l]=O.useState(null),[u,m]=O.useState(""),[f,b]=O.useState(null),[v,k]=O.useState(!1),{products:C,fetchProducts:_}=Ni(),{getFilteredInventory:S,updateProductStock:M,generateSKU:R,getProductStockStatus:I}=Wl(),z=ee=>{if(!ee)return 0;if(ee.valid_options&&ee.valid_options.length>0){const be=ee.valid_options[0],xe=be.discounted_price||be.price;return typeof xe=="number"?xe:0}const te=ee.discount_price||ee.price;return typeof te=="number"?te:0},V=ee=>{if(!ee)return 0;if(ee.valid_options&&ee.valid_options.length>0){const xe=ee.valid_options[0].price;return typeof xe=="number"?xe:0}const te=ee.price;return typeof te=="number"?te:0},U=ee=>{if(!ee)return 0;if(ee.valid_options&&ee.valid_options.length>0)return ee.valid_options.reduce((be,xe)=>{const ie=typeof xe.stock=="number"?xe.stock:0;return be+ie},0);const te=ee.stock;return typeof te=="number"?te:0};O.useEffect(()=>{C.list.length===0&&_()},[]);const q=S(r,t,s),$=(ee,te)=>{l(ee),m(te.toString())},ne=async ee=>{const te=parseInt(u,10);if(!isNaN(te)&&te>=0){const be=await M(ee,te);be.success?(l(null),m(""),_()):console.error("Failed to update stock:",be.message)}},Q=()=>{l(null),m("")},B=ee=>{b(ee),k(!0)},Y=()=>{b(null),k(!1)},J=ee=>ee.valid_options&&ee.valid_options.length>0,W=ee=>{const te=I(ee);return te.status==="out-of-stock"?{text:"Out of Stock",bgColor:"#FEF2F2",textColor:"#DC2626",icon:n.jsx(Pm,{size:14})}:te.status==="partial-out-of-stock"?{text:"Variants Out",bgColor:"#FEF2F2",textColor:"#DC2626",icon:n.jsx(Pm,{size:14})}:te.status==="low-stock"?{text:te.lowStockVariants.length>0?"Variants Low":"Low Stock",bgColor:"#FFFBEB",textColor:"#D97706",icon:n.jsx(Pm,{size:14})}:{text:"In Stock",bgColor:"#F0FDF4",textColor:"#16A34A",icon:n.jsx(Yn,{size:14})}};return C.loading?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsx("div",{className:"text-lg",children:"Loading inventory data..."})}):C.error?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsxs("div",{className:"text-red-600",children:["Error: ",C.error]})}):n.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:q.filter(ee=>ee&&ee.id).map(ee=>{const te=W(ee),be=R(ee),xe=ee.images&&ee.images.length>0?ee.images[0]:"https://via.placeholder.com/50";return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:xe,alt:ee.name,className:"w-full h-full object-cover",onError:ie=>{ie.target.src="https://via.placeholder.com/50"}})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:ee.name}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ee.brand})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:be})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i===ee.id?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("input",{type:"number",min:"0",value:u,onChange:ie=>m(ie.target.value),className:"w-16 text-center p-1 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-sm)"},autoFocus:!0,onKeyPress:ie=>{ie.key==="Enter"?ne(ee.id):ie.key==="Escape"&&Q()}}),n.jsx("button",{onClick:()=>ne(ee.id),className:"ml-2 p-1 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:n.jsx(Wm,{size:16})}),n.jsx("button",{onClick:Q,className:"ml-1 p-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:n.jsx(Yt,{size:16})})]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"text-sm font-medium mr-2",style:{color:U(ee)===0?"var(--error-color)":U(ee)<=5?"var(--warning-color)":"var(--text-primary)"},children:U(ee)}),n.jsxs("div",{className:"flex space-x-1",children:[J(ee)&&n.jsx("button",{onClick:()=>B(ee),className:"p-1 rounded-md hover:bg-gray-100",title:"View variant stocks",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:n.jsx(Ti,{size:14})}),n.jsx("button",{onClick:()=>$(ee.id,U(ee)),className:"p-1 rounded-md hover:bg-gray-100",title:"Edit total stock level",children:n.jsx(rp,{size:14,style:{color:"var(--brand-primary)"}})})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:te.bgColor,color:te.textColor},children:[n.jsx("span",{className:"mr-1",children:te.icon}),te.text]})})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",z(ee).toLocaleString()]}),V(ee)!==z(ee)&&n.jsxs("div",{className:"text-xs line-through",style:{color:"var(--text-secondary)"},children:["",V(ee).toLocaleString()]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:ee.category})})]},ee.id)})})]}),q.length===0&&n.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"No products matching your filters"}),n.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",q.length," products"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]}),n.jsx(Oae,{isOpen:v,onClose:Y,product:f})]})},Lae=({products:r})=>{const{getProductTotalStock:t,getProductStockStatus:s}=Wl();return!r||r.length===0?n.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full",style:{backgroundColor:"#F0FDF4"},children:n.jsx(Mo,{size:16,style:{color:"#16A34A"}})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"All Good!"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No products are currently low on stock."})]})]})}):n.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FFFBEB",borderColor:"#FDE68A"},children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Pm,{size:20,style:{color:"#D97706"}})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"#92400E"},children:"Low Stock Alert"}),n.jsxs("div",{className:"mt-2 text-sm",style:{color:"#B45309"},children:[n.jsxs("p",{children:[r.length," product",r.length>1?"s":""," running low on stock:"]}),n.jsxs("ul",{className:"mt-2 space-y-1",children:[r.slice(0,3).map(i=>{const l=s(i),u=t(i);return n.jsxs("li",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:i.name}),n.jsxs("span",{className:"font-medium",children:[u," total"]})]}),l.details.length>0&&n.jsxs("div",{className:"text-xs ml-2",style:{color:"#92400E"},children:[" ",l.details.join(", ")]}),(l.lowStockVariants.length>0||l.outOfStockVariants.length>0)&&n.jsxs("div",{className:"text-xs ml-2 space-y-0.5",children:[l.outOfStockVariants.map((m,f)=>n.jsxs("div",{style:{color:"#DC2626"},children:["",m.colors||m.storage||m.ram||`Variant ${m.id}`,": Out of stock"]},`out-${f}`)),l.lowStockVariants.map((m,f)=>n.jsxs("div",{style:{color:"#D97706"},children:["",m.colors||m.storage||m.ram||`Variant ${m.id}`,": ",m.stock," left"]},`low-${f}`))]})]},i.id)}),r.length>3&&n.jsxs("li",{className:"font-medium",children:["...and ",r.length-3," more"]})]})]})]})]})})},zae=()=>{const[r,t]=O.useState("all"),[s,i]=O.useState("all"),[l,u]=O.useState(""),[m,f]=O.useState(1),b=10,{products:v,fetchProducts:k}=Ni(),{getLowStockProducts:C,getInventoryStats:_,getProductStockStatus:S}=Wl();O.useEffect(()=>{v.list.length===0&&k()},[]);const M=C(),R=_(),I=v.list.filter(B=>{const Y=B.name.toLowerCase().includes(l.toLowerCase())||B.brand.toLowerCase().includes(l.toLowerCase()),J=r==="all"||B.category===r;let W=!0;if(s==="in-stock"){const ee=S(B);W=ee.status==="in-stock"&&ee.totalStock>10}else if(s==="low-stock"){const ee=S(B);W=["low-stock","partial-out-of-stock"].includes(ee.status)&&ee.totalStock>0}else s==="out-of-stock"&&(W=S(B).status==="out-of-stock");return Y&&J&&W}),z=I.length,V=Math.ceil(z/b),U=(m-1)*b,q=U+b,$=I.slice(U,q),ne=B=>{f(B),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{f(1)},[r,s,l]);const Q=()=>{const B=["Product Name","Brand","Category","Stock","Price","SKU"],Y=v.list.map(be=>[be.name,be.brand,be.category,be.stock,be.price,`${be.brand.substring(0,3).toUpperCase()}-${be.name.substring(0,3).toUpperCase()}-${be.category.substring(0,2).toUpperCase()}-${be.id}`]),J=[B,...Y].map(be=>be.map(xe=>`"${xe}"`).join(",")).join(`
`),W=new Blob([J],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),te=URL.createObjectURL(W);ee.setAttribute("href",te),ee.setAttribute("download",`inventory_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Inventory Management"}),n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Track, update and manage product stock levels"})]}),n.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:n.jsxs("button",{onClick:Q,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx(Ei,{className:"mr-2",size:16}),"Export CSV"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:R.totalProducts})]})})}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"In Stock"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#16A34A"},children:R.inStock})]})})}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#D97706"},children:R.lowStock})]})})}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#DC2626"},children:R.outOfStock})]})})})]}),M.length>0&&n.jsx("div",{className:"mb-6",children:n.jsx(Lae,{products:M})}),n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:l,onChange:B=>u(B.target.value)})]})}),n.jsx("div",{children:n.jsxs("div",{className:"flex items-center h-full",children:[n.jsx(wd,{className:"mr-2",style:{color:"var(--text-secondary)"}}),n.jsxs("select",{value:r,onChange:B=>t(B.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"Smartphone",children:"Smartphones"}),n.jsx("option",{value:"Laptop",children:"Laptops"}),n.jsx("option",{value:"Tablet",children:"Tablets"}),n.jsx("option",{value:"Accessory",children:"Accessories"})]})]})}),n.jsx("div",{children:n.jsx("div",{className:"flex items-center h-full",children:n.jsxs("select",{value:s,onChange:B=>i(B.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Stock Levels"}),n.jsx("option",{value:"in-stock",children:"In Stock"}),n.jsx("option",{value:"low-stock",children:"Low Stock"}),n.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})})})]}),n.jsx(Bae,{products:$,categoryFilter:r,stockFilter:s,searchQuery:l}),z>0&&n.jsx($a,{currentPage:m,totalPages:V,onPageChange:ne,totalItems:z,itemsPerPage:b})]})},Fae=({status:r})=>{const t={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:n.jsx(oa,{size:12,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(Bn,{size:12,className:"mr-1"})},processing:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:n.jsx(wt,{size:12,className:"mr-1"})},assigned:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:n.jsx(Ds,{size:12,className:"mr-1"})},shipped:{bg:"var(--brand-primary-light)",color:"var(--brand-primary)",icon:n.jsx(Lr,{size:12,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(Bn,{size:12,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:n.jsx(Yt,{size:12,className:"mr-1"})}},s=t[r]||t.pending_payment;return n.jsxs("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:[s.icon,r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1)]})},Vae=({userId:r})=>{const{getCachedUser:t}=ni(),[s,i]=O.useState(null),[l,u]=O.useState(!0);if(O.useEffect(()=>{(async()=>{try{const b=await t(r);i(b)}catch(b){console.error("Error fetching user:",b),i(null)}finally{u(!1)}})()},[r,t]),l)return n.jsx(Di,{className:"animate-spin",size:14});const m=s?`${s.first_name||""} ${s.last_name||""}`.trim()||s.email||s.username:`User-${r.substring(0,8)}`;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:m}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[r.substring(0,12),"..."]})]})},Uae=r=>`User-${r.substring(0,8)}`,Gae=r=>{try{return new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},Hae=({onSelectOrder:r,statusFilter:t,searchQuery:s})=>{const{orders:i}=ni(),{list:l,loading:u}=i,m=O.useMemo(()=>l.filter(f=>{const b=t==="all"||f.status===t,v=Uae(f.user_id),k=!s||f.order_id.toLowerCase().includes(s.toLowerCase())||v.toLowerCase().includes(s.toLowerCase())||f.user_id.toLowerCase().includes(s.toLowerCase());return b&&k}),[l,t,s]);return n.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:u?n.jsxs("div",{className:"p-8 text-center animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Items"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:m.length>0?m.map(f=>{var b,v,k,C,_,S;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>r(f),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[f.order_id.substring(0,8),"..."]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:Gae(f.created_at)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Vae,{userId:f.user_id})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[((b=f.order_items)==null?void 0:b.reduce((M,R)=>M+(R.quantity||0),0))||0,"items"]}),((v=f.order_items)==null?void 0:v.length)>0&&n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[f.order_items[0].name,f.order_items.length>1&&` +${f.order_items.length-1} more`]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((k=f.total_amount)==null?void 0:k.toLocaleString())||0]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:f.currency||"INR"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Fae,{status:f.status})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:((C=f.payment_details)==null?void 0:C.method)||"N/A"}),n.jsx("div",{className:"text-xs",style:{color:((_=f.payment_details)==null?void 0:_.status)==="captured"?"var(--success-color)":"var(--text-secondary)"},children:((S=f.payment_details)==null?void 0:S.status)||"Pending"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("div",{className:"flex justify-end space-x-2",children:n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Order Details",onClick:M=>{M.stopPropagation(),r(f)},children:n.jsx(Ti,{size:18})})})})]},f.order_id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:n.jsx("div",{style:{color:"var(--text-secondary)"},children:s||t!=="all"?"No orders match your filter criteria":"No orders found"})})})})]}),n.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",m.length," of ",l.length," orders"]})})]})})},qae=({order:r})=>{var J,W,ee,te,be,xe,ie,ae,le,oe,G,ue;const[t,s]=O.useState(!1),[i,l]=O.useState({}),[u,m]=O.useState(!1),[f,b]=O.useState(""),[v,k]=O.useState(null),[C,_]=O.useState(!1),{editOrder:S,assignOrderToDeliveryPartner:M,deliveryPartners:R,fetchDeliveryPartners:I,getCachedUser:z}=ni();O.useEffect(()=>{r&&l({status:r.status||"",estimated_delivery:r.estimated_delivery||""})},[r]),O.useEffect(()=>{r!=null&&r.user_id&&(_(!0),z(r.user_id).then(me=>{k(me)}).catch(me=>{console.error("Failed to fetch customer data:",me)}).finally(()=>{_(!1)}))},[r==null?void 0:r.user_id]),O.useEffect(()=>{u&&R.list.length===0&&I()},[u]);const V=async()=>{try{if(!r||!r.user_id||!r.order_id){Ot.error("Order details are incomplete.");return}await S(r.user_id,r.order_id,i),s(!1),Ot.success("Order updated successfully!")}catch(me){Ot.error(me.message||"Failed to update order")}},U=async()=>{if(!f){Ot.error("Please select a delivery partner");return}if(!r||!r.user_id||!r.order_id){Ot.error("Order details are incomplete for assignment.");return}try{await M(r.user_id,r.order_id,f),m(!1),b(""),Ot.success("Delivery partner assigned successfully!")}catch(me){Ot.error(me.message||"Failed to assign delivery partner")}};if(!r)return null;const q={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:n.jsx(rn,{size:14,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(Bn,{size:14,className:"mr-1"})},assigned:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:n.jsx(Ds,{size:14,className:"mr-1"})},shipped:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:n.jsx(Lr,{size:14,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(Bn,{size:14,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:n.jsx(Yt,{size:14,className:"mr-1"})}},$=()=>{if(C)return"Loading...";if(!v)return`User ID: ${r.user_id.substring(0,8)}...`;const{first_name:me="",last_name:ye="",email:ve=""}=v;return me||ye?`${me} ${ye}`.trim():ve.split("@")[0]},ne=me=>me?new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set",Q=()=>{if(!r.address)return"No address provided";const{street_address:me,city:ye,state:ve,postal_code:Me}=r.address;return`${me}, ${ye}, ${ve} ${Me}`},B=()=>{if(!r.payment_details)return"No payment info";const{method:me,card_last4:ye,card_network:ve}=r.payment_details;return me==="upi"?"UPI Payment":me==="card"&&ye?`${ve||"Card"} ending in ${ye}`:(me==null?void 0:me.toUpperCase())||"Unknown"},Y=me=>{const ye=()=>{const Ae=["pending_payment","payment_successful","assigned","shipped","delivered"],Ye=Ae.indexOf(r.status),ze=Ae.indexOf(me);return r.status==="cancelled"?{iconClass:me==="pending_payment"?"completed":"cancelled",textClass:me==="pending_payment"?"completed":"cancelled"}:ze<=Ye?{iconClass:"completed",textClass:"completed"}:{iconClass:"pending",textClass:"pending"}},{iconClass:ve,textClass:Me}=ye();return{icon:ve==="completed"?n.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--success-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--success-color-light)"}}):ve==="cancelled"?n.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--error-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--error-color-light)"}}):n.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"var(--border-secondary)"}}),textStyle:{color:Me==="completed"?"var(--text-primary)":Me==="cancelled"?"var(--error-color)":"var(--text-secondary)",fontWeight:Me==="pending"?"normal":"medium"}}};return n.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",r.order_id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"px-3 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:((J=q[r.status])==null?void 0:J.bg)||q.pending_payment.bg,color:((W=q[r.status])==null?void 0:W.color)||q.pending_payment.color},children:[((ee=q[r.status])==null?void 0:ee.icon)||q.pending_payment.icon,r.status.replace("_"," ").split(" ").map(me=>me.charAt(0).toUpperCase()+me.slice(1)).join(" ")]}),n.jsx(st,{variant:"secondary",size:"sm",icon:n.jsx(cx,{size:14}),onClick:()=>s(!t),children:t?"Cancel":"Edit"})]})]})}),n.jsxs("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2",size:16}),"Customer Information"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Name:"})," ",$()]}),(v==null?void 0:v.email)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Email:"})," ",v.email]}),((te=r.address)==null?void 0:te.phone_number)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Phone:"})," ",r.address.phone_number]})]})]}),t&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Order Status"}),n.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:n.jsxs("select",{value:i.status,onChange:me=>l(ye=>({...ye,status:me.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"pending_payment",children:"Pending Payment"}),n.jsx("option",{value:"payment_successful",children:"Payment Successful"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Delivery Partner"}),!r.assigned_partner_id&&n.jsx(st,{variant:"secondary",size:"sm",icon:n.jsx(Ds,{size:14}),onClick:()=>m(!0),children:"Assign"})]}),n.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.assigned_partner_id?`Partner ID: ${r.assigned_partner_id}`:"Not assigned"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Cn,{className:"mr-2",size:16}),"Shipping Address"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:Q()}),((be=r.address)==null?void 0:be.type)&&n.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded",style:{backgroundColor:"var(--info-color-light)",color:"var(--info-color)"},children:r.address.type})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(oa,{className:"mr-2",size:16}),"Payment Information"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Method:"})," ",B()]}),((xe=r.payment_details)==null?void 0:xe.status)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Status:"}),r.payment_details.status.charAt(0).toUpperCase()+r.payment_details.status.slice(1)]}),((ie=r.payment_details)==null?void 0:ie.captured_at)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Captured:"}),ne(r.payment_details.captured_at)]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(tl,{className:"mr-2",size:16}),"Order Items"]}),n.jsxs("div",{className:"rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:(ae=r.order_items)==null?void 0:ae.map((me,ye)=>{var ve,Me;return n.jsx("div",{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:me.name||"Product Name"}),me.brand&&n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Brand: ",me.brand]}),me.model&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",me.model]}),n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Qty: ",me.quantity||1,"  ",(ve=me.price_at_purchase)==null?void 0:ve.toLocaleString()]})]}),n.jsxs("p",{className:"text-sm font-medium ml-4",style:{color:"var(--text-primary)"},children:["",(Me=me.total_item_price)==null?void 0:Me.toLocaleString()]})]})},`${me.product_id}-${ye}`)})}),n.jsxs("div",{className:"p-3 flex justify-between font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.03)",color:"var(--text-primary)"},children:[n.jsx("p",{children:"Total Amount"}),n.jsxs("p",{children:["",(le=r.total_amount)==null?void 0:le.toLocaleString()]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Order Timeline"}),n.jsx("div",{className:"space-y-4",children:((G=(oe=r.tracking_info)==null?void 0:oe.status_history)==null?void 0:G.length)>0?r.tracking_info.status_history.map((me,ye,ve)=>{const{icon:Me,textStyle:Ae}=Y(me.status);return n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"mr-3 relative",children:[Me,ye<ve.length-1&&n.jsx("div",{className:"h-full w-0.5 absolute top-3 left-1.5",style:{backgroundColor:"var(--border-secondary)"}})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",style:Ae,children:me.description||me.status.replace("_"," ").split(" ").map(Ye=>Ye.charAt(0).toUpperCase()+Ye.slice(1)).join(" ")}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ne(me.timestamp)})]})]},`${me.status}-${ye}`)}):n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"mr-3",children:Y("pending_payment").icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",style:Y("pending_payment").textStyle,children:"Order Created"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ne(r.created_at)})]})]})})]}),((ue=r.tracking_info)==null?void 0:ue.tracking_number)&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(wt,{className:"mr-2",size:16}),"Tracking Information"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Tracking Number:"}),r.tracking_info.tracking_number]}),r.tracking_info.carrier&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Carrier:"})," ",r.tracking_info.carrier]})]})]}),r.estimated_delivery&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Lr,{className:"mr-2",size:16}),"Estimated Delivery"]}),n.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t?n.jsx("input",{type:"datetime-local",value:i.estimated_delivery?new Date(i.estimated_delivery).toISOString().slice(0,16):"",onChange:me=>l(ye=>({...ye,estimated_delivery:me.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}):n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:ne(r.estimated_delivery)})})]})]}),n.jsx("div",{className:"p-4 border-t flex justify-between space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:t&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(st,{variant:"secondary",size:"sm",icon:n.jsx(Hx,{size:16}),onClick:()=>s(!1),children:"Cancel"}),n.jsx(st,{variant:"primary",size:"sm",icon:n.jsx(Wm,{size:16}),onClick:V,children:"Save Changes"})]})}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Assign Delivery Partner"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Delivery Partner"}),n.jsxs("select",{value:f,onChange:me=>b(me.target.value),className:"w-full p-2 border rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"",children:"Select a partner..."}),R.list.filter(me=>me.is_verified).map(me=>n.jsxs("option",{value:me.partner_id,children:[me.name," - ",me.email]},me.partner_id))]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(st,{variant:"secondary",size:"sm",onClick:()=>{m(!1),b("")},children:"Cancel"}),n.jsx(st,{variant:"primary",size:"sm",onClick:U,disabled:!f,children:"Assign Partner"})]})]})})]})},Yae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(""),[l,u]=O.useState("all"),[m,f]=O.useState(!1),[b,v]=O.useState(1),k=10,{orders:C,fetchOrders:_}=ni(),{loading:S,statusCounts:M}=C;O.useEffect(()=>{_()},[]);const R=C.list.filter(Y=>{var ee,te,be;const J=((ee=Y.order_id)==null?void 0:ee.toString().includes(s))||((te=Y.user_id)==null?void 0:te.toLowerCase().includes(s.toLowerCase()))||((be=Y.invoice_id)==null?void 0:be.toLowerCase().includes(s.toLowerCase())),W=l==="all"||Y.status===l;return J&&W}),I=R.length,z=Math.ceil(I/k),V=(b-1)*k,U=V+k,q=R.slice(V,U),$=Y=>{v(Y),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{v(1)},[l,s]);const ne=()=>{try{const Y=["Order ID","Customer Name","Email","Phone","Total Amount","Status","Order Date","Payment Method","Items Count"],J=C.list.map(xe=>{var ie;return[xe.order_id||"",xe.customer_name||xe.user_name||"",xe.customer_email||xe.user_email||"",xe.customer_phone||xe.phone||"",`${xe.total_amount||0}`,xe.status||"",xe.created_at?new Date(xe.created_at).toLocaleDateString():"",xe.payment_method||"N/A",xe.item_count||((ie=xe.order_items)==null?void 0:ie.length)||0]}),W=[Y.join(","),...J.map(xe=>xe.map(ie=>typeof ie=="string"&&(ie.includes(",")||ie.includes('"'))?`"${ie.replace(/"/g,'""')}"`:ie).join(","))].join(`
`),ee=new Blob([W],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),be=`orders-export-${new Date().toISOString().split("T")[0]}.csv`;if(te.download!==void 0){const xe=URL.createObjectURL(ee);te.setAttribute("href",xe),te.setAttribute("download",be),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te)}}catch(Y){console.error("Error exporting orders:",Y),alert("Failed to export orders. Please try again.")}},Q=Y=>{t(Y),f(!0)},B=()=>{f(!1)};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Management"}),n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"View and manage customer orders"})]}),n.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[n.jsx(st,{variant:"secondary",size:"sm",fullWidth:!1,onClick:_,isLoading:S,icon:n.jsx(Mo,{size:16}),children:S?"Refreshing...":"Refresh"}),n.jsxs("button",{onClick:ne,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border hover:bg-gray-50 transition-colors",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx(Ei,{className:"mr-2",size:16}),"Export Orders"]})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:Object.entries({all:{label:"All Orders",color:"var(--brand-primary)"},pending_payment:{label:"Pending Payment",color:"var(--warning-color)"},payment_successful:{label:"Payment Success",color:"var(--success-color)"},processing:{label:"Processing",color:"var(--info-color)"},assigned:{label:"Assigned",color:"var(--brand-secondary)"},shipped:{label:"Shipped",color:"var(--brand-primary)"},delivered:{label:"Delivered",color:"var(--success-color)"},cancelled:{label:"Cancelled",color:"var(--error-color)"}}).map(([Y,{label:J,color:W}])=>n.jsxs("button",{className:`p-4 rounded-lg shadow-sm border transition-all ${l===Y?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:W},onClick:()=>u(Y),children:[n.jsx("div",{className:"text-sm font-medium",style:{color:W},children:J}),n.jsx("div",{className:"text-2xl font-bold mt-2",style:{color:"var(--text-primary)"},children:Y==="all"?C.list.length:M[Y]||0})]},Y))}),n.jsx("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:n.jsx("div",{className:"flex-1 min-w-[240px]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search orders by ID or customer...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:s,onChange:Y=>i(Y.target.value)})]})})}),n.jsxs("div",{className:"w-full",children:[n.jsx(Hae,{onSelectOrder:Q,statusFilter:l,searchQuery:s,orders:q}),I>0&&n.jsx($a,{currentPage:b,totalPages:z,onPageChange:$,totalItems:I,itemsPerPage:k,showItemCount:!0})]}),m&&r&&n.jsx("div",{className:"fixed inset-0 bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-lg shadow-2xl max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsx("div",{className:"sticky top-0 z-10",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsx("button",{onClick:B,className:"text-gray-500 hover:text-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{size:24})})]})}),n.jsx(qae,{order:r})]})})]})},Wae=({role:r})=>{const t={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"},moderator:{bg:"var(--success-color-light)",color:"var(--success-color)"}},s=t[r]||t.customer;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:r.charAt(0).toUpperCase()+r.slice(1)})},Kae=({status:r})=>{const t={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},s=t[r]||t.active;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:r.charAt(0).toUpperCase()+r.slice(1)})},Qae=({onSelectUser:r,filterView:t,searchQuery:s})=>{const{users:i,updateUserStatus:l}=ni(),{list:u,loading:m}=i,f=O.useMemo(()=>u.filter(b=>{const v=t==="all"||t==="customers"&&((b==null?void 0:b.role)==="customer"||!(b!=null&&b.role))||t==="banned"&&((b==null?void 0:b.is_banned)||(b==null?void 0:b.status)==="banned"),k=`${(b==null?void 0:b.first_name)||""} ${(b==null?void 0:b.last_name)||""}`.trim(),C=!s||k.toLowerCase().includes(s.toLowerCase())||(b==null?void 0:b.email.toLowerCase().includes(s.toLowerCase()));return v&&C}),[u,t,s]);return n.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:m?n.jsxs("div",{className:"p-8 text-center animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Orders"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:f.length>0?f.map(b=>{var v,k;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>r(b),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 border flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:b!=null&&b.avatar?n.jsx("img",{src:b==null?void 0:b.avatar,alt:`${b==null?void 0:b.first_name} ${b==null?void 0:b.last_name}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center text-lg font-semibold",style:{color:"var(--text-primary)"},children:((v=b==null?void 0:b.first_name)==null?void 0:v.charAt(0).toUpperCase())||((k=b==null?void 0:b.email)==null?void 0:k.charAt(0).toUpperCase())})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:`${(b==null?void 0:b.first_name)||""} ${(b==null?void 0:b.last_name)||""}`.trim()||(b==null?void 0:b.email)}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Joined",new Date(b==null?void 0:b.created_at).toLocaleDateString()||"N/A"]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:b==null?void 0:b.email})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Wae,{role:(b==null?void 0:b.role)||"customer"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Kae,{status:b!=null&&b.is_banned?"banned":(b==null?void 0:b.status)||"active"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[(b==null?void 0:b.orders)||0," orders"]}),n.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["",((b==null?void 0:b.totalSpent)||0).toLocaleString()," total"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex justify-end space-x-2",onClick:C=>C.stopPropagation(),children:[n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View User Details",onClick:()=>r(b),children:n.jsx(Ti,{size:18})}),n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:b!=null&&b.is_banned?"var(--success-color)":"var(--error-color)"},title:b!=null&&b.is_banned?"Unban User":"Ban User",onClick:()=>l(b==null?void 0:b.id),children:b!=null&&b.is_banned?n.jsx(ux,{size:18}):n.jsx(S1,{size:18})})]})})]},b==null?void 0:b.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:n.jsx("div",{style:{color:"var(--text-secondary)"},children:s||t!=="all"?"No users match your filter criteria":"No users found"})})})})]}),n.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",f.length," of ",u.length," users"]})})]})})},Jae=({user:r})=>{var m,f;const{updateUserStatus:t,users:s}=ni();if(!r)return null;const i=s.list.find(b=>b.id===r.id)||r,l=b=>{const v={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"}},k=v[b]||v.customer;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:k.bg,color:k.color},children:b.charAt(0).toUpperCase()+b.slice(1)})},u=b=>{const v={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},k=v[b]||v.active;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:k.bg,color:k.color},children:b.charAt(0).toUpperCase()+b.slice(1)})};return n.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 border-2 flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:i!=null&&i.avatar?n.jsx("img",{src:i==null?void 0:i.avatar,alt:`${i==null?void 0:i.first_name} ${i==null?void 0:i.last_name}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center text-2xl font-semibold",style:{color:"var(--text-primary)"},children:((m=i==null?void 0:i.first_name)==null?void 0:m.charAt(0).toUpperCase())||((f=i==null?void 0:i.email)==null?void 0:f.charAt(0).toUpperCase())})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:`${(i==null?void 0:i.first_name)||""} ${(i==null?void 0:i.last_name)||""}`.trim()||(i==null?void 0:i.email)}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i==null?void 0:i.email}),n.jsxs("div",{className:"mt-2 flex space-x-2",children:[l((i==null?void 0:i.role)||"customer"),u(i!=null&&i.is_banned?"banned":(i==null?void 0:i.status)||"active")]})]})]})}),n.jsx("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Account Information"}),n.jsxs("div",{className:"rounded divide-y",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Registered"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Phone Number"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.phone_number)||"Not provided"})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Auth Provider"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.auth_provider)||"Email"})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.orders)||0})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Spent"}),n.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((i==null?void 0:i.totalSpent)||0).toLocaleString()]})]})]})]})}),n.jsx("div",{className:"p-4 border-t flex justify-end space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:i!=null&&i.is_banned?n.jsx(st,{variant:"primary",size:"sm",icon:n.jsx(ux,{size:16}),onClick:()=>t(i==null?void 0:i.id),children:"Unban User"}):n.jsx(st,{variant:"danger",size:"sm",icon:n.jsx(S1,{size:16}),onClick:()=>t(i==null?void 0:i.id),children:"Ban User"})})]})},$ae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState("all"),[l,u]=O.useState(""),[m,f]=O.useState(1),b=10,{users:v,fetchUsers:k}=ni(),{list:C,loading:_}=v;O.useEffect(()=>{k()},[]);const S=C.filter(ne=>{var Y,J;const Q=((Y=ne.name)==null?void 0:Y.toLowerCase().includes(l.toLowerCase()))||((J=ne.email)==null?void 0:J.toLowerCase().includes(l.toLowerCase()));let B=!0;return s==="customers"?B=ne.role==="customer"||!ne.role:s==="banned"&&(B=ne.status==="banned"),Q&&B}),M=S.length,R=Math.ceil(M/b),I=(m-1)*b,z=I+b,V=S.slice(I,z),U=ne=>{f(ne),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{f(1)},[s,l]);const q=[{name:"All Users",value:C.length||0,icon:n.jsx(yd,{size:20}),color:"var(--brand-primary)",view:"all"},{name:"Customers",value:C.filter(ne=>ne.role==="customer"||!ne.role).length||0,icon:n.jsx(ux,{size:20}),color:"var(--success-color)",view:"customers"},{name:"Banned Users",value:C.filter(ne=>ne.status==="banned").length||0,icon:n.jsx(S1,{size:20}),color:"var(--error-color)",view:"banned"}],$=()=>{try{const ne=["User ID","Full Name","Email","Phone","Join Date","Status","Total Orders","Total Spent"],Q=v.list.map(ee=>[ee.id||"",ee.name||`${ee.first_name||""} ${ee.last_name||""}`.trim(),ee.email||"",ee.phone||"",ee.date_joined?new Date(ee.date_joined).toLocaleDateString():"",ee.is_active?"Active":"Inactive",ee.total_orders||0,`${ee.total_spent||0}`]),B=[ne.join(","),...Q.map(ee=>ee.map(te=>typeof te=="string"&&(te.includes(",")||te.includes('"'))?`"${te.replace(/"/g,'""')}"`:te).join(","))].join(`
`),Y=new Blob([B],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a"),W=`users-export-${new Date().toISOString().split("T")[0]}.csv`;if(J.download!==void 0){const ee=URL.createObjectURL(Y);J.setAttribute("href",ee),J.setAttribute("download",W),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)}}catch(ne){console.error("Error exporting users:",ne),alert("Failed to export users. Please try again.")}};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"User Management"}),n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Manage customer and admin accounts"})]}),n.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[n.jsx(st,{variant:"secondary",size:"sm",fullWidth:!1,onClick:k,isLoading:_,icon:n.jsx(Mo,{size:16}),children:_?"Refreshing...":"Refresh"}),n.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},onClick:$,children:[n.jsx(Ei,{className:"mr-2",size:16}),"Export Users"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:q.map((ne,Q)=>n.jsxs("button",{onClick:()=>i(ne.view),className:`p-4 rounded-lg shadow-sm border transition-all ${s===ne.view?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:ne.color,cursor:"pointer"},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:`${ne.color}20`,color:ne.color},children:ne.icon}),n.jsx("div",{className:"text-2xl font-bold",style:{color:s===ne.view?ne.color:"var(--text-primary)"},children:ne.value})]}),n.jsx("div",{className:"text-sm font-medium mt-2",style:{color:"var(--text-secondary)"},children:ne.name})]},Q))}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative w-full md:w-80",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:l,onChange:ne=>u(ne.target.value)})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx(Qae,{users:V,onSelectUser:t,filterView:s,searchQuery:l}),M>0&&n.jsx("div",{className:"mt-6",children:n.jsx($a,{currentPage:m,totalPages:R,onPageChange:U,totalItems:M,itemsPerPage:b})})]}),n.jsx("div",{className:"lg:col-span-1",children:r?n.jsx(Jae,{user:r}):n.jsx("div",{className:"rounded-lg shadow-md h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:n.jsx("p",{children:"Select a user to view details"})})})]})]})},Xae=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",items:[{id:1,name:"Product 1",price:49.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-10",status:"pending",refundAmount:49.99,details:{reason:"Defective item",description:"The product arrived damaged with scratches on the surface.",images:["https://via.placeholder.com/150?text=Damage+Photo"],customerAddress:"123 Main St, New York, NY 10001"},timeline:[{date:"2023-05-10",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",items:[{id:3,name:"Product 3",price:89.99,quantity:1,reason:"Wrong item"}],requestDate:"2023-05-12",status:"approved",refundAmount:89.99,details:{reason:"Wrong item",description:"I ordered the blue version but received the red one.",images:["https://via.placeholder.com/150?text=Wrong+Item"],customerAddress:"456 Broadway, New York, NY 10002"},timeline:[{date:"2023-05-12",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-13",status:"Approved",comment:"Return request approved, shipping label sent"}]},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",items:[{id:4,name:"Product 4",price:99.99,quantity:1,reason:"Changed mind"},{id:5,name:"Product 5",price:29.99,quantity:2,reason:"Changed mind"}],requestDate:"2023-05-15",status:"rejected",refundAmount:159.97,details:{reason:"Changed mind",description:"I found a better deal elsewhere.",images:[],customerAddress:"789 Park Ave, New York, NY 10003"},timeline:[{date:"2023-05-15",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-16",status:"Rejected",comment:"Return period exceeded (31 days since delivery)"}]},{id:"RET-004",orderId:"ORD-12348",customer:"Sarah Williams",items:[{id:6,name:"Product 6",price:149.95,quantity:1,reason:"Not as described"}],requestDate:"2023-05-17",status:"pending",refundAmount:149.95,details:{reason:"Not as described",description:"Item does not match the specifications listed on website.",images:["https://via.placeholder.com/150?text=Item+Photo"],customerAddress:"101 Lexington Ave, New York, NY 10004"},timeline:[{date:"2023-05-17",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-005",orderId:"ORD-12349",customer:"Robert Brown",items:[{id:7,name:"Product 7",price:299.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-18",status:"approved",refundAmount:299.99,details:{reason:"Defective item",description:"The product is not working properly.",images:["https://via.placeholder.com/150?text=Defective+Item"],customerAddress:"202 5th Ave, New York, NY 10005"},timeline:[{date:"2023-05-18",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-19",status:"Approved",comment:"Return request approved, shipping label sent"}]}],Zae=({status:r})=>{const t={pending:{bg:"bg-yellow-100",text:"text-yellow-800"},approved:{bg:"bg-green-100",text:"text-green-800"},rejected:{bg:"bg-red-100",text:"text-red-800"},completed:{bg:"bg-blue-100",text:"text-blue-800"}},{bg:s,text:i}=t[r]||t.pending;return n.jsx("span",{className:`px-3 py-1 uppercase text-xs font-bold rounded-full ${s} ${i}`,children:r})},ele=({onSelectReturn:r,filterStatus:t})=>{const[s,i]=O.useState(Xae),l=(m,f)=>{i(s.map(b=>b.id===m?{...b,status:f,timeline:[...b.timeline,{date:new Date().toISOString().split("T")[0],status:f.charAt(0).toUpperCase()+f.slice(1),comment:`Return request ${f}`}]}:b))},u=s.filter(m=>t==="all"?!0:m.status===t);return n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full whitespace-nowrap",children:[n.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left",children:"Return ID"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Order ID"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Customer"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>r(m),children:[n.jsx("td",{className:"py-3 px-4 text-sm",children:m.id}),n.jsx("td",{className:"py-3 px-4 text-sm",children:m.orderId}),n.jsx("td",{className:"py-3 px-4 text-sm",children:m.customer}),n.jsx("td",{className:"py-3 px-4 text-sm",children:m.requestDate}),n.jsxs("td",{className:"py-3 px-4 text-sm",children:["$",m.refundAmount.toFixed(2)]}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(Zae,{status:m.status})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(st,{variant:"secondary",size:"sm",onClick:f=>{f.stopPropagation(),r(m)},children:"View"}),m.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(st,{variant:"primary",size:"sm",onClick:f=>{f.stopPropagation(),l(m.id,"approved")},children:"Approve"}),n.jsx(st,{variant:"danger",size:"sm",onClick:f=>{f.stopPropagation(),l(m.id,"rejected")},children:"Reject"})]}),m.status==="approved"&&n.jsx(st,{variant:"primary",size:"sm",onClick:f=>{f.stopPropagation(),l(m.id,"completed")},children:"Mark Complete"})]})})]},m.id))})]})}),n.jsxs("div",{className:"py-3 px-4 bg-gray-50 text-gray-600 text-sm",children:["Showing ",u.length," returns"]})]})},tle=({return:r})=>{if(!r)return null;const t=s=>{const i={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"};return i[s]||i.pending};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md h-full",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Return Request"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Return #",r.id]})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${t(r.status)}`,children:r.status})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Request Information"}),n.jsxs("div",{className:"bg-gray-50 rounded divide-y divide-gray-200",children:[n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Order ID"}),n.jsx("span",{className:"text-sm font-medium",children:r.orderId})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Customer"}),n.jsx("span",{className:"text-sm font-medium",children:r.customer})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Request Date"}),n.jsx("span",{className:"text-sm font-medium",children:r.requestDate})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Refund Amount"}),n.jsxs("span",{className:"text-sm font-medium",children:["$",r.refundAmount.toFixed(2)]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Reason"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-medium",children:r.details.reason}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.details.description})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Items to Return"}),n.jsx("div",{className:"bg-gray-50 rounded overflow-hidden divide-y divide-gray-200",children:r.items.map(s=>n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:s.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",s.quantity," | Reason: ",s.reason]})]}),n.jsxs("p",{className:"text-sm font-medium",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))})]}),r.details.images&&r.details.images.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Images"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.details.images.map((s,i)=>n.jsx("div",{className:"rounded overflow-hidden border border-gray-200",children:n.jsx("img",{src:s,alt:`Return image ${i+1}`,className:"w-full h-auto"})},i))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Timeline"}),n.jsx("div",{className:"space-y-3",children:r.timeline.map((s,i)=>n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"mr-3 relative",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),i<r.timeline.length-1&&n.jsx("div",{className:"h-full w-0.5 bg-gray-200 absolute top-3 left-1.5"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:s.status}),n.jsx("p",{className:"text-xs text-gray-500",children:s.comment}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.date})]})]},i))})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[r.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(st,{variant:"danger",children:"Reject Return"}),n.jsx(st,{variant:"primary",children:"Approve Return"})]}),r.status==="approved"&&n.jsx(st,{variant:"primary",children:"Mark as Completed"}),n.jsx(st,{variant:"secondary",children:"Print Details"})]})]})},rle=()=>{const[r,t]=O.useState(null),[s,i]=O.useState("all");return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Return & Refund Requests"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:l=>i(l.target.value),children:[n.jsx("option",{value:"all",children:"All Requests"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(ele,{onSelectReturn:t,filterStatus:s})}),n.jsx("div",{className:"lg:col-span-1",children:r?n.jsx(tle,{return:r}):n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md h-full flex items-center justify-center text-gray-500",children:n.jsx("p",{children:"Select a return request to view details"})})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Return Policy"}),n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{children:"Current return policy allows customers to return items within 30 days of delivery for a full refund. Items must be unused and in original packaging."}),n.jsx("h3",{className:"text-md font-semibold mt-4",children:"Return Process:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Customer submits a return request with reason"}),n.jsx("li",{children:"Admin reviews request and approves/rejects"}),n.jsx("li",{children:"If approved, customer receives return shipping label"}),n.jsx("li",{children:"Once item is received and inspected, refund is processed"}),n.jsx("li",{children:"Customer receives notification when refund is complete"})]})]})]})]})},UN=nn(r=>({reviews:{list:[],loading:!1,error:null},reportedReviews:{list:[],loading:!1,error:null},selectedReview:null,pendingReviews:[],flaggedReviews:[],fetchReviews:async()=>{var t,s;r(i=>({reviews:{...i.reviews,loading:!0,error:null}}));try{const l=(await Ze.get("/admin/reviews/")).data.reviews.map(f=>({...f,status:f.status||"approved"})),u=l.filter(f=>f.status==="pending"),m=l.filter(f=>f.reported_count>0);return r({reviews:{list:l,loading:!1,error:null},pendingReviews:u,flaggedReviews:m}),{success:!0,data:l}}catch(i){return r(l=>{var u,m;return{reviews:{...l.reviews,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to fetch reviews"}}}),{success:!1,error:((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch reviews"}}},fetchReportedReviews:async()=>{var t,s;r(i=>({reportedReviews:{...i.reportedReviews,loading:!0,error:null}}));try{const l=(await Ze.get("/admin/reviews/reported/")).data.reported_reviews;return r({reportedReviews:{list:l,loading:!1,error:null},flaggedReviews:l}),{success:!0,data:l}}catch(i){return r(l=>{var u,m;return{reportedReviews:{...l.reportedReviews,loading:!1,error:((m=(u=i.response)==null?void 0:u.data)==null?void 0:m.error)||"Failed to fetch reported reviews"}}}),{success:!1,error:((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch reported reviews"}}},deleteReview:async(t,s)=>{var i,l;r(u=>({reviews:{...u.reviews,loading:!0,error:null}}));try{const u=await Ze.delete(`/admin/reviews/${t}/${s}/delete/`);if(u.status===200)return r(m=>{const f=m.reviews.list.filter(k=>!(k.id===s&&k.product_id===t)),b=f.filter(k=>k.status==="pending"),v=f.filter(k=>k.reported_count>0);return{reviews:{...m.reviews,list:f,loading:!1,error:null},reportedReviews:{...m.reportedReviews,list:m.reportedReviews.list.filter(k=>!(k.id===s&&k.product_id===t))},pendingReviews:b,flaggedReviews:v}}),{success:!0,message:u.data.message,updated_rating:u.data.updated_rating,total_reviews:u.data.total_reviews}}catch(u){return r(m=>{var f,b;return{reviews:{...m.reviews,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to delete review"}}}),{success:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete review"}}},updateReviewStatus:async(t,s,i)=>{var l,u;r(m=>({reviews:{...m.reviews,loading:!0,error:null}}));try{const m=await Ze.patch(`/admin/reviews/${t}/${s}/status/`,{status:i});if(m.status===200)return r(f=>{const b=f.reviews.list.map(C=>C.id===s&&C.product_id===t?{...C,status:i}:C),v=b.filter(C=>C.status==="pending"),k=b.filter(C=>C.reported_count>0);return{reviews:{...f.reviews,list:b,loading:!1,error:null},pendingReviews:v,flaggedReviews:k}}),{success:!0,message:m.data.message||`Review ${i} successfully`}}catch(m){return r(f=>{var b,v;return{reviews:{...f.reviews,loading:!1,error:((v=(b=m.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to update review status"}}}),{success:!1,error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update review status"}}},setSelectedReview:t=>{r({selectedReview:t})},clearSelectedReview:()=>{r({selectedReview:null})},toggleFlaggedStatus:async(t,s)=>{var i,l;r(u=>({reviews:{...u.reviews,loading:!0,error:null}}));try{const u=await Ze.patch(`/admin/reviews/${t}/${s}/flag/`,{toggle:!0});if(u.status===200){const m=u.data.is_flagged;return r(f=>{const b=f.reviews.list.map(k=>k.id===s&&k.product_id===t?{...k,flagged:m,reported_count:m?k.reported_count||1:0}:k),v=b.filter(k=>k.reported_count>0||k.flagged);return{reviews:{...f.reviews,list:b,loading:!1,error:null},flaggedReviews:v,reportedReviews:{...f.reportedReviews,list:m?[...f.reportedReviews.list,b.find(k=>k.id===s&&k.product_id===t)]:f.reportedReviews.list.filter(k=>!(k.id===s&&k.product_id===t))}}}),{success:!0,message:m?"Review flagged successfully":"Review unflagged successfully",is_flagged:m}}}catch(u){return r(m=>{var f,b;return{reviews:{...m.reviews,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to toggle flag status"}}}),{success:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle flag status"}}}})),nle=({isOpen:r,onClose:t,review:s})=>{var C,_,S,M,R;const{updateReviewStatus:i,deleteReview:l,toggleFlaggedStatus:u}=UN();if(!s)return null;const m=new Date(s.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),f=async()=>{if(window.confirm("Are you sure you want to delete this review?"))try{const I=await l(s.product_id,s.id);I.success?($e.success(I.message||"Review deleted successfully"),t()):$e.error(I.error||"Failed to delete review")}catch(I){console.error("Error deleting review:",I),$e.error("Failed to delete review")}},b=async I=>{try{const z=await i(s.product_id,s.id,I);z.success?$e.success(z.message||`Review ${I} successfully`):$e.error(z.error||"Failed to update status")}catch(z){console.error("Error updating status:",z),$e.error("Failed to update status")}},v=async()=>{try{const I=await u(s.product_id,s.id);I.success?$e.success(I.message):$e.error(I.error||"Failed to update flag status")}catch(I){console.error("Error updating flag status:",I),$e.error("Failed to update flag status")}},k=I=>{const z=[];for(let V=0;V<5;V++)z.push(n.jsx($r,{size:16,className:V<I?"fill-current":"",style:{color:"var(--brand-primary)"}},V));return n.jsx("div",{className:"flex items-center",children:z})};return n.jsx(FN,{isOpen:r,onClose:t,title:"Review Details",size:"lg",actions:n.jsxs("div",{className:"flex space-x-2",children:[s.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>b("approved"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--success-color)"},children:[n.jsx(Bn,{className:"inline-block mr-1"})," Approve"]}),n.jsxs("button",{onClick:()=>b("rejected"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--error-color)"},children:[n.jsx(Yt,{className:"inline-block mr-1"})," Reject"]})]}),n.jsxs("button",{onClick:v,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:s.reported_count>0?"var(--error-color)":"transparent",color:s.reported_count>0?"white":"var(--error-color)",border:s.reported_count>0?"none":"1px solid var(--error-color)"},children:[n.jsx(rN,{className:"inline-block mr-1"}),s.reported_count>0?"Remove Flag":"Flag Review"]}),n.jsxs("button",{onClick:f,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--error-color)",border:"1px solid var(--error-color)"},children:[n.jsx(un,{className:"inline-block mr-1"})," Delete"]})]}),children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start mb-6",children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:s.productImage||"/public/logo.jpg",alt:s.product_name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-4 flex-grow",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:s.product_name}),n.jsxs("div",{className:"flex items-center mt-1",children:[k(s.rating),n.jsxs("span",{className:"ml-2 text-sm",style:{color:"var(--text-secondary)"},children:[s.rating,"/5"]})]}),n.jsxs("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:["Product ID: ",s.product_id]})]})]}),n.jsxs("div",{className:"p-4 mb-6 rounded",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"3px solid var(--brand-primary)"},children:[n.jsx("h4",{className:"text-md font-semibold mb-2",style:{color:"var(--text-primary)"},children:s.title||"Review"}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-primary)"},children:s.comment}),n.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:"var(--text-secondary)"},children:[n.jsxs("span",{children:[m,s.edited&&n.jsx("span",{className:"ml-2 italic",children:"(edited)"})]}),n.jsxs("span",{children:[((C=s.helpful_users)==null?void 0:C.length)||0," people found this helpful"]})]})]}),n.jsxs("div",{className:"border-t pt-4 mb-4",style:{borderColor:"var(--border-secondary)"},children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Reviewer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Username"}),n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((_=s.email)==null?void 0:_.split("@")[0])||"Unknown User",s.is_verified&&n.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[n.jsx(Bn,{size:10,className:"mr-1"}),"Verified"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Email"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:s.email})]})]})]}),n.jsxs("div",{className:"border-t pt-4",style:{borderColor:"var(--border-secondary)"},children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Review Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("div",{children:n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:s.status==="approved"?"rgba(16, 185, 129, 0.1)":s.status==="pending"?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.1)",color:s.status==="approved"?"var(--success-color)":s.status==="pending"?"var(--warning-color)":"var(--error-color)"},children:((M=(S=s==null?void 0:s.status)==null?void 0:S.charAt(0))==null?void 0:M.toUpperCase())+((R=s==null?void 0:s.status)==null?void 0:R.slice(1))})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Flagged"}),n.jsx("div",{children:s.reported_count>0?n.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:["Yes (",s.reported_count,s.reported_count===1?"report":"reports",")"]}):n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:"No"})})]})]})]})]})})},sle=({activeTab:r="all"})=>{const{reviews:t,updateReviewStatus:s,deleteReview:i,fetchReviews:l}=UN(),{isOpen:u,modalConfig:m,isLoading:f,showConfirm:b,hideConfirm:v,handleConfirm:k}=gg(),[C,_]=O.useState(null),[S,M]=O.useState(!1),R=te=>{_(te),M(!0)},I=()=>{M(!1),_(null)};O.useEffect(()=>{t.list.length===0&&l(),r==="pending"?V("pending"):r==="flagged"?(q(!0),V("all")):(q(!1),V("all"))},[r]);const[z,V]=O.useState("all"),[U,q]=O.useState(!1),[$,ne]=O.useState(!1),[Q,B]=O.useState(0),Y=(te,be)=>{b({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{const xe=await i(te,be);xe.success?$e.success(xe.message||"Review deleted successfully"):$e.error(xe.error||"Failed to delete review")}catch(xe){console.error("Error deleting review:",xe),$e.error("Failed to delete review")}}})},J=t.list.filter(te=>!(z!=="all"&&te.status!==z||U&&te.reported_count<=0||$&&!te.is_verified||Q!==0&&te.rating!==Q)),W=te=>{let be={},xe="";switch(te){case"approved":be={backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},xe="Approved";break;case"pending":be={backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},xe="Pending";break;case"rejected":be={backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},xe="Rejected";break;default:be={backgroundColor:"rgba(107, 114, 128, 0.1)",color:"var(--text-secondary)"},xe="Unknown"}return n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:be,children:xe})},ee=te=>{const be=[];for(let xe=0;xe<5;xe++)be.push(n.jsx($r,{size:12,className:xe<te?"fill-current":"",style:{color:"var(--brand-primary)"}},xe));return n.jsx("div",{className:"flex items-center",children:be})};return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"status-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsxs("select",{id:"status-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:z,onChange:te=>V(te.target.value),children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"rating-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Rating"}),n.jsxs("select",{id:"rating-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:Q,onChange:te=>B(parseInt(te.target.value)),children:[n.jsx("option",{value:"0",children:"All Ratings"}),n.jsx("option",{value:"5",children:"5 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"1",children:"1 Star"})]})]}),n.jsxs("div",{className:"flex items-end space-x-4",children:[n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:U,onChange:()=>q(!U)}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Flagged Reviews"})]}),n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:$,onChange:()=>ne(!$)}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Verified Purchases"})]})]})]}),n.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Review"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:[J.map(te=>{var be,xe;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",style:{backgroundColor:te.reported_count>0?"rgba(239, 68, 68, 0.05)":"transparent"},children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:te.productImage||"/public/logo.jpg",alt:te.product_name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:te.product_name}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Product ID: ",te.product_id]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((be=te.email)==null?void 0:be.split("@")[0])||"Unknown User",te.is_verified&&n.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[n.jsx(Bn,{size:10,className:"mr-1"}),"Verified"]})]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:te.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(te.rating)}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:te.title||"No Title"}),n.jsx("div",{className:"text-xs line-clamp-2",style:{color:"var(--text-secondary)"},children:te.comment}),n.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:((xe=te.helpful_users)==null?void 0:xe.length)||0}),"found helpful"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(te.status)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(te.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(te.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Review",onClick:()=>R(te),children:n.jsx(Ti,{size:16})}),te.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{b({title:"Approve Review",message:"Are you sure you want to approve this review?",confirmText:"Approve",cancelText:"Cancel",type:"success",onConfirm:async()=>{try{const ie=await s(te.product_id,te.id,"approved");ie.success?$e.success(ie.message||"Review approved successfully"):$e.error(ie.error||"Failed to approve review")}catch(ie){console.error("Error approving review:",ie),$e.error("Failed to approve review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--success-color)"},title:"Approve Review",children:n.jsx(Bn,{size:16})}),n.jsx("button",{onClick:()=>{b({title:"Reject Review",message:"Are you sure you want to reject this review?",confirmText:"Reject",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const ie=await s(te.product_id,te.id,"rejected");ie.success?$e.success(ie.message||"Review rejected successfully"):$e.error(ie.error||"Failed to reject review")}catch(ie){console.error("Error rejecting review:",ie),$e.error("Failed to reject review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Reject Review",children:n.jsx(Yt,{size:16})})]}),n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Review",onClick:()=>Y(te.product_id,te.id),children:n.jsx(un,{size:16})})]})})]},te.id)}),J.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"px-6 py-10 text-center text-sm",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"font-medium mb-1",children:"No reviews found"}),n.jsx("div",{className:"text-xs",children:"Try adjusting your filters"})]})})]})]}),n.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",J.length," of ",t.list.length," reviews"]}),n.jsx("div",{className:"flex space-x-1",children:[1,2,3].map(te=>n.jsx("button",{className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:te===1?"var(--brand-primary)":"var(--bg-secondary)",color:te===1?"var(--text-on-brand)":"var(--text-secondary)"},children:te},te))})]})]}),n.jsx(ih,{isOpen:u,onClose:v,onConfirm:k,title:m.title,message:m.message,confirmText:m.confirmText,cancelText:m.cancelText,type:m.type,isLoading:f}),n.jsx(nle,{isOpen:S,onClose:I,review:C})]})},ole=()=>{const[r,t]=O.useState("all"),[s,i]=O.useState(1),l=10,{reviews:u,pendingReviews:m,flaggedReviews:f,fetchReviews:b}=UN();O.useEffect(()=>{u.list.length===0&&b()},[]);const v=u.list.filter(B=>B.status==="approved"),k=u.list.filter(B=>B.status==="rejected"),C=u.list.filter(B=>B.is_verified===!0),_=u.list.reduce((B,Y)=>B+Y.rating,0),S=u.list.length>0?(_/u.list.length).toFixed(1):0,M={total:u.list.length,pending:m.length,approved:v.length,rejected:k.length,flagged:f.length,averageRating:parseFloat(S),verifiedPurchases:C.length},I=(()=>{switch(r){case"pending":return m;case"flagged":return f;default:return u.list}})(),z=I.length,V=Math.ceil(z/l),U=(s-1)*l,q=U+l,$=I.slice(U,q),ne=B=>{i(B),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{i(1)},[r]);const Q=[{title:"Total Reviews",value:M.total,icon:n.jsx(Fu,{size:20}),color:"var(--brand-primary)"},{title:"Pending Reviews",value:M.pending,icon:n.jsx(wd,{size:20}),color:"var(--warning-color)"},{title:"Flagged Reviews",value:M.flagged,icon:n.jsx(rN,{size:20}),color:"var(--error-color)"},{title:"Avg. Rating",value:M.averageRating.toFixed(1),icon:n.jsx($r,{size:20}),color:"var(--success-color)"}];return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto animate-fadeIn",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Review Management"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Manage customer reviews, approve pending reviews, and address flagged content"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:Q.map((B,Y)=>n.jsxs("div",{className:"p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--border-primary)"},children:[n.jsx("div",{className:"rounded-full p-3 mr-4",style:{backgroundColor:`${B.color}15`,color:B.color},children:B.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:B.title}),n.jsx("div",{className:"text-xl font-bold mt-1",style:{color:"var(--text-primary)"},children:B.value})]})]},Y))}),n.jsxs("div",{className:"mb-8 p-5 rounded-lg flex flex-wrap gap-6 justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:n.jsx(Yn,{size:18})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Approved Reviews"}),n.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[M.approved,n.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(M.approved/M.total*100),"%)"]})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:n.jsx(Yn,{size:18})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Verified Purchase Reviews"}),n.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[M.verifiedPurchases,n.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(M.verifiedPurchases/M.total*100),"%)"]})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},children:n.jsx(Fu,{size:18})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Rating Distribution"}),n.jsx("div",{className:"flex items-center mt-1",children:[5,4,3,2,1].map(B=>n.jsxs("div",{className:"flex flex-col items-center mx-1",children:[n.jsx("div",{className:"h-10 w-4 rounded-t-sm",style:{backgroundColor:B>3?"var(--success-color)":B>1?"var(--warning-color)":"var(--error-color)",opacity:.7,height:`${25+B*8}px`}}),n.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[B,""]})]},B))})]})]})]}),n.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-secondary)"},children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsx("button",{onClick:()=>t("all"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${r==="all"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--brand-primary)",color:r==="all"?"var(--brand-primary)":"var(--text-secondary)"},children:"All Reviews"}),n.jsxs("button",{onClick:()=>t("pending"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${r==="pending"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--warning-color)",color:r==="pending"?"var(--warning-color)":"var(--text-secondary)"},children:["Pending Reviews",n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:r==="pending"?"var(--warning-color)":"rgba(245, 158, 11, 0.1)",color:r==="pending"?"white":"var(--warning-color)"},children:M.pending})]}),n.jsxs("button",{onClick:()=>t("flagged"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${r==="flagged"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--error-color)",color:r==="flagged"?"var(--error-color)":"var(--text-secondary)"},children:["Flagged Reviews",n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:r==="flagged"?"var(--error-color)":"rgba(239, 68, 68, 0.1)",color:r==="flagged"?"white":"var(--error-color)"},children:M.flagged})]})]})}),n.jsx(sle,{activeTab:r,reviews:$}),z>0&&n.jsx($a,{currentPage:s,totalPages:V,onPageChange:ne,totalItems:z,itemsPerPage:l,showItemCount:!0})]})},ile=({onImageSelect:r,onCancel:t,targetDimensions:s={width:1200,height:400},cropPresets:i=[],showDimensionGuide:l=!0})=>{const[u,m]=O.useState(null),[f,b]=O.useState(null),[v,k]=O.useState({x:0,y:0,width:50,height:50}),[C,_]=O.useState(""),S=O.useRef(null),M=O.useRef(null),R=O.useRef(null),I=[{name:"Hero Banner",width:1200,height:400,ratio:3},{name:"Dropdown Banner",width:300,height:200,ratio:1.5},{name:"Sidebar Banner",width:300,height:600,ratio:.5},{name:"Square Banner",width:400,height:400,ratio:1},{name:"Mobile Banner",width:800,height:300,ratio:2.67}],z=i.length>0?i:I,V=O.useCallback(W=>{const ee=W.target.files[0];if(ee&&ee.type.startsWith("image/")){b(ee);const te=new FileReader;te.onload=be=>{m(be.target.result),k({x:25,y:25,width:50,height:50})},te.readAsDataURL(ee)}},[]),U=O.useCallback(W=>{const ee=s.width/s.height,te=W.width/W.height;if(Math.abs(ee-te)<.1)k({x:0,y:0,width:100,height:100});else{const be=W.ratio||te;be>1?k({x:10,y:25,width:80,height:80/be}):k({x:25,y:10,width:80*be,height:80})}},[s]),q=O.useCallback(()=>{if(!u||!M.current||!R.current)return;const W=M.current,ee=W.getContext("2d"),te=R.current;if(te.naturalWidth===0||te.naturalHeight===0)return;W.width=s.width,W.height=s.height;const be=te.naturalWidth/100,xe=te.naturalHeight/100,ie={x:Math.max(0,Math.min(v.x,100-v.width)),y:Math.max(0,Math.min(v.y,100-v.height)),width:Math.max(1,Math.min(v.width,100-v.x)),height:Math.max(1,Math.min(v.height,100-v.y))},ae=ie.x*be,le=ie.y*xe,oe=ie.width*be,G=ie.height*xe;ee.clearRect(0,0,W.width,W.height);try{ee.drawImage(te,ae,le,oe,G,0,0,W.width,W.height),_(W.toDataURL("image/jpeg",.9))}catch(ue){console.error("Error updating preview:",ue),_("")}},[u,v,s]);O.useEffect(()=>{q()},[q]);const $=O.useCallback(()=>{if(!u||!M.current||!R.current)return console.error("Missing required elements for cropping"),null;const W=M.current,ee=R.current;return ee.naturalWidth===0||ee.naturalHeight===0?(console.error("Image not loaded properly"),null):new Promise((te,be)=>{try{const xe=W.getContext("2d");W.width=s.width,W.height=s.height;const ie=ee.naturalWidth/100,ae=ee.naturalHeight/100,le={x:Math.max(0,Math.min(v.x,100-v.width)),y:Math.max(0,Math.min(v.y,100-v.height)),width:Math.max(1,Math.min(v.width,100-v.x)),height:Math.max(1,Math.min(v.height,100-v.y))},oe=le.x*ie,G=le.y*ae,ue=le.width*ie,me=le.height*ae;xe.clearRect(0,0,W.width,W.height),xe.drawImage(ee,oe,G,ue,me,0,0,W.width,W.height),W.toBlob(ye=>{if(!ye){be(new Error("Failed to create image blob"));return}const ve=(f==null?void 0:f.name)||"cropped-image.jpg",Me=(f==null?void 0:f.type)||"image/jpeg";te({file:new File([ye],ve,{type:Me}),dataUrl:W.toDataURL("image/jpeg",.9)})},"image/jpeg",.9)}catch(xe){be(xe)}})},[u,f,v,s]),ne=async()=>{try{const W=await $();W&&r?(r(W),Q()):(console.error("Failed to crop image or no callback provided"),alert("Failed to crop image. Please try again."))}catch(W){console.error("Error cropping image:",W),alert("Error cropping image. Please try again.")}},Q=O.useCallback(()=>{m(null),b(null),_(""),k({x:25,y:25,width:50,height:50}),S.current&&(S.current.value=""),t&&t()},[t]),B=()=>{k({x:0,y:0,width:100,height:100})},Y=()=>{k({x:25,y:25,width:50,height:50})},J=W=>{const ee=(W.size/1048576).toFixed(2),te=W.size>5*1024*1024;return{sizeInMB:ee,isLarge:te}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-y-auto",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Upload and Crop Banner Image"}),n.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Close",children:n.jsx(Yt,{size:20,style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"p-6",children:[l&&n.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--bg-accent-light)",borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"font-medium mb-2",style:{color:"var(--brand-primary)"},children:" Recommended Dimensions"}),n.jsxs("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:["Target size: ",s.width,"  ",s.height," pixels"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:z.map((W,ee)=>n.jsxs("button",{onClick:()=>U(W),className:"text-xs p-2 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-secondary)",color:"var(--text-primary)"},children:[n.jsx("div",{className:"font-medium",children:W.name}),n.jsxs("div",{className:"text-gray-500",children:[W.width,"",W.height]})]},ee))})]}),u?n.jsxs("div",{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:"Original Image - Adjust Crop Area"}),n.jsxs("div",{className:"relative border rounded-lg overflow-hidden bg-gray-100",children:[n.jsx("img",{ref:R,src:u,alt:"Original",className:"w-full h-64 object-contain",onLoad:q}),n.jsxs("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 pointer-events-none",style:{left:`${Math.max(0,Math.min(v.x,100-v.width))}%`,top:`${Math.max(0,Math.min(v.y,100-v.height))}%`,width:`${Math.max(1,Math.min(v.width,100-v.x))}%`,height:`${Math.max(1,Math.min(v.height,100-v.y))}%`},children:[n.jsx("div",{className:"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-1 rounded whitespace-nowrap",children:"Crop Area"}),n.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-blue-500 rounded-full -translate-x-1 -translate-y-1"}),n.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-blue-500 rounded-full translate-x-1 -translate-y-1"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-blue-500 rounded-full -translate-x-1 translate-y-1"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-blue-500 rounded-full translate-x-1 translate-y-1"})]}),f&&n.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[J(f).sizeInMB," MB",J(f).isLarge&&n.jsx("span",{className:"text-yellow-400 ml-1",children:""})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:["Live Preview (",s.width,"",s.height,")"]}),n.jsx("div",{className:"border rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden",style:{aspectRatio:`${s.width}/${s.height}`,minHeight:"200px"},children:C?n.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}):n.jsxs("div",{className:"text-center",style:{color:"var(--text-secondary)"},children:[n.jsx(eI,{size:24,className:"mx-auto mb-2"}),n.jsx("p",{className:"text-sm",children:"Preview loading..."})]})})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Crop Controls"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:Y,className:"px-3 py-1 text-xs border rounded hover:bg-gray-50 transition-colors flex items-center gap-1",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},title:"Center crop area",children:[n.jsx(Xw,{size:12}),"Center"]}),n.jsxs("button",{onClick:B,className:"px-3 py-1 text-xs border rounded hover:bg-gray-50 transition-colors flex items-center gap-1",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},title:"Reset to full image",children:[n.jsx(K_,{size:12}),"Full"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(Xw,{size:14}),"X Position (",Math.round(Math.max(0,Math.min(v.x,100-v.width))),"%)"]}),n.jsx("input",{type:"range",min:"0",max:Math.max(0,100-v.width),value:Math.min(v.x,100-v.width),onChange:W=>{const ee=parseInt(W.target.value);k(te=>({...te,x:Math.max(0,Math.min(ee,100-te.width))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Left to right position"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(Xw,{size:14}),"Y Position (",Math.round(Math.max(0,Math.min(v.y,100-v.height))),"%)"]}),n.jsx("input",{type:"range",min:"0",max:Math.max(0,100-v.height),value:Math.min(v.y,100-v.height),onChange:W=>{const ee=parseInt(W.target.value);k(te=>({...te,y:Math.max(0,Math.min(ee,100-te.height))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Top to bottom position"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(K_,{size:14}),"Width (",Math.round(Math.max(10,Math.min(v.width,100-v.x))),"%)"]}),n.jsx("input",{type:"range",min:"10",max:100-v.x,value:Math.min(v.width,100-v.x),onChange:W=>{const ee=parseInt(W.target.value);k(te=>({...te,width:Math.max(10,Math.min(ee,100-te.x))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Horizontal crop size"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(K_,{size:14}),"Height (",Math.round(Math.max(10,Math.min(v.height,100-v.y))),"%)"]}),n.jsx("input",{type:"range",min:"10",max:100-v.y,value:Math.min(v.height,100-v.y),onChange:W=>{const ee=parseInt(W.target.value);k(te=>({...te,height:Math.max(10,Math.min(ee,100-te.y))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vertical crop size"})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("button",{onClick:()=>{m(null),b(null),_(""),k({x:25,y:25,width:50,height:50}),S.current&&(S.current.value="")},className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Mo,{size:16}),"Choose Different Image"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},children:"Cancel"}),n.jsxs("button",{onClick:ne,className:"px-6 py-2 text-sm font-medium text-white rounded-lg hover:opacity-90 transition-opacity flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)"},disabled:!u||!R.current,children:[n.jsx(eI,{size:16}),"Crop & Save Banner"]})]})]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:V,className:"hidden"}),n.jsxs("div",{onClick:()=>{var W;return(W=S.current)==null?void 0:W.click()},className:"border-2 border-dashed rounded-lg p-12 cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-secondary)",backgroundColor:"var(--bg-secondary)"},children:[n.jsx(Ok,{size:48,className:"mx-auto mb-4",style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Choose an Image"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Select a high-quality image. Supported formats: JPG, PNG, WebP"}),n.jsx("p",{className:"text-xs mt-2",style:{color:"var(--text-secondary)"},children:"Maximum file size: 5MB"})]})]})]}),n.jsx("canvas",{ref:M,style:{display:"none"}})]})})},ale=[{value:"hero",label:"Hero Banner (Top)"},{value:"carousel",label:"Banner Carousel"},{value:"home-middle",label:"Home Middle Section"},{value:"home-bottom",label:"Home Bottom Section"},{value:"category-top",label:"Category Page Top"},{value:"sidebar",label:"Sidebar"},{value:"dropdown",label:"Navigation Dropdown"}],UR=[{value:"Mobiles & Accessories",label:"Mobiles & Accessories"},{value:"Laptops & Computers",label:"Laptops & Computers"},{value:"TVs & Entertainment",label:"TVs & Entertainment"},{value:"Tablets & E-readers",label:"Tablets & E-readers"},{value:"Smart Watches",label:"Smart Watches"}],lle=({positionOptions:r})=>{const{banners:t,loading:s,error:i,fetchBanners:l,addBanner:u,editBanner:m,deleteBanner:f,toggleBannerActive:b}=Qx(),[v,k]=O.useState(null),[C,_]=O.useState(null),[S,M]=O.useState(!1),[R,I]=O.useState(!1),[z,V]=O.useState({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",category:"",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),[U,q]=O.useState(null),[$,ne]=O.useState(null),[Q,B]=O.useState(null),[Y,J]=O.useState(null),[W,ee]=O.useState(!1),[te,be]=O.useState(!1),[xe,ie]=O.useState("new");O.useEffect(()=>{l()},[]);const ae=fe=>{const et=fe.target.files[0];if(et){B(et);const He=new FileReader;He.onload=tt=>J(tt.target.result),He.readAsDataURL(et)}},le=()=>{V({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",category:"",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),q(null),ne(null)},oe=()=>{k(null),B(null),J(null)},G=async fe=>{await b(fe)},ue=fe=>{k(fe),J(fe.image),ee(!1)},me=async()=>{const fe=new FormData;Object.keys(v).forEach(et=>{et!=="id"&&v[et]!==null&&v[et]!==void 0&&fe.append(et,v[et])}),Q&&fe.append("image_file",Q),await m(v.id,fe),oe()},ye=async()=>{if(!U){Se.info("Please select an image file");return}const fe=new FormData;Object.keys(z).forEach(et=>{et!=="image"&&z[et]!==null&&z[et]!==void 0&&fe.append(et,z[et])}),fe.append("image_file",U),await u(fe),le(),ee(!1)},ve=fe=>{_(fe),M(!0)},Me=async()=>{try{I(!0),await f(C.id),M(!1)}catch(fe){console.error("Error deleting banner:",fe)}finally{I(!1)}},Ae=fe=>{ie(fe),be(!0)},Ye=fe=>{xe==="new"?(q(fe.file),ne(fe.dataUrl)):(B(fe.file),J(fe.dataUrl)),be(!1)},ze=fe=>{switch(fe){case"hero":return{width:1200,height:400,description:"Hero banners (wide format)"};case"dropdown":return{width:300,height:200,description:"Navigation dropdown banners (vertical format)"};case"sidebar":return{width:350,height:500,description:"Sidebar promotional banners"};case"footer":return{width:600,height:200,description:"Footer promotional banners"};default:return{width:800,height:400,description:"General promotional banners"}}},Qe=fe=>{const et=ze(fe);return{aspectRatio:et.width/et.height,recommendedSize:`${et.width}x${et.height}px`,description:et.description}},Be=fe=>{switch(fe){case"hero":return 3;case"dropdown":return 1.5;case"sidebar":return .7;case"footer":return 3;default:return 2}};return n.jsxs("div",{className:"space-y-6",children:[s&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2",children:"Loading banners..."})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Banners"}),n.jsx(st,{variant:"primary",onClick:()=>{W?(le(),ee(!1)):(ee(!0),oe())},children:W?"Cancel":"Add New Banner"})]}),W&&n.jsxs("div",{className:"p-4 rounded-lg border space-y-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"font-medium",children:"Add New Banner"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:z.title,onChange:fe=>V({...z,title:fe.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:z.subtitle,onChange:fe=>V({...z,subtitle:fe.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image"}),n.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"font-medium text-blue-700",children:["Recommended dimensions: ",Qe(z.position).recommendedSize]})]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[Qe(z.position).description,"  Aspect ratio: ",Qe(z.position).aspectRatio.toFixed(2),":1"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{type:"button",onClick:()=>Ae("new"),className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-md hover:border-gray-400 transition-colors text-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{className:"text-sm text-gray-600",children:$?"Change Image (with cropping)":"Upload & Crop Image"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Click to upload and automatically crop to ",Qe(z.position).recommendedSize]})]})}),$&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:$,alt:"Banner Preview",className:`w-full object-cover rounded border ${z.position==="dropdown"?"h-32":"h-24"}`,style:{aspectRatio:Be(z.position)}}),n.jsx("button",{type:"button",onClick:()=>{q(null),ne(null)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:z.link,onChange:fe=>V({...z,link:fe.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:z.position,onChange:fe=>V({...z,position:fe.target.value}),children:r.map(fe=>n.jsx("option",{value:fe.value,children:fe.label},fe.value))})]}),z.position==="dropdown"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:z.category,onChange:fe=>V({...z,category:fe.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select a category"}),UR.map(fe=>n.jsx("option",{value:fe.value,children:fe.label},fe.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:z.tag,onChange:fe=>V({...z,tag:fe.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:z.cta,onChange:fe=>V({...z,cta:fe.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),n.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:z.backgroundColor,onChange:fe=>V({...z,backgroundColor:fe.target.value})})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:z.description,onChange:fe=>V({...z,description:fe.target.value}),rows:3})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:z.active,onChange:fe=>V({...z,active:fe.target.checked}),className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(st,{variant:"primary",onClick:ye,children:"Add Banner"})})]}),v&&n.jsxs("div",{className:"p-4 rounded-lg border space-y-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"font-medium",children:"Edit Banner"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.title||"",onChange:fe=>k({...v,title:fe.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.subtitle||"",onChange:fe=>k({...v,subtitle:fe.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),n.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:ae}),Y&&n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:Y,alt:"Current/Preview",className:"h-24 w-48 object-cover rounded border"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Q?"New image preview":"Current image"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.link||"",onChange:fe=>k({...v,link:fe.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:v.position||"hero",onChange:fe=>k({...v,position:fe.target.value}),children:r.map(fe=>n.jsx("option",{value:fe.value,children:fe.label},fe.value))})]}),v.position==="dropdown"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:v.category||"",onChange:fe=>k({...v,category:fe.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select a category"}),UR.map(fe=>n.jsx("option",{value:fe.value,children:fe.label},fe.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.tag||"",onChange:fe=>k({...v,tag:fe.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.cta||"",onChange:fe=>k({...v,cta:fe.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),n.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:v.backgroundColor||"#ffffff",onChange:fe=>k({...v,backgroundColor:fe.target.value})})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:v.description||"",onChange:fe=>k({...v,description:fe.target.value}),rows:3})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:v.active,onChange:fe=>k({...v,active:fe.target.checked}),className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(st,{variant:"secondary",onClick:oe,children:"Cancel"}),n.jsx(st,{variant:"primary",onClick:me,children:"Save Changes"})]})]}),n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:n.jsxs("table",{className:"w-full min-w-full",children:[n.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left w-24",children:"Banner"}),n.jsx("th",{className:"py-3 px-4 text-left min-w-0 w-2/5",children:"Details"}),n.jsx("th",{className:"py-3 px-4 text-left w-24",children:"Position"}),n.jsx("th",{className:"py-3 px-4 text-left w-20",children:"Category"}),n.jsx("th",{className:"py-3 px-4 text-center w-20",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-right w-32",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(fe=>{var et;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 w-24",children:n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:fe.image,alt:fe.title,className:"h-16 w-20 object-cover rounded border",onError:He=>{He.target.src="/public/logo.jpg",He.target.alt="Image not found"}})})}),n.jsx("td",{className:"py-3 px-4 min-w-0 max-w-0 w-2/5",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-medium text-sm truncate",title:fe.title,children:fe.title}),fe.subtitle&&n.jsx("p",{className:"text-xs text-gray-600 truncate",title:fe.subtitle,children:fe.subtitle}),fe.description&&n.jsx("p",{className:"text-xs text-gray-500 truncate",title:fe.description,children:fe.description}),fe.link&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Link:"}),n.jsx("a",{href:fe.link,className:"text-xs text-blue-500 hover:underline truncate max-w-32",target:"_blank",rel:"noopener noreferrer",title:fe.link,children:fe.link.length>25?`${fe.link.substring(0,25)}...`:fe.link})]}),fe.tag&&n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded truncate max-w-24",children:fe.tag.length>12?`${fe.tag.substring(0,12)}...`:fe.tag})]})}),n.jsx("td",{className:"py-3 px-4 w-24",children:n.jsx("span",{className:"text-sm whitespace-nowrap",children:((et=r.find(He=>He.value===fe.position))==null?void 0:et.label)||fe.position})}),n.jsx("td",{className:"py-3 px-4 w-20",children:fe.position==="dropdown"?n.jsx("span",{className:"text-xs text-gray-600 truncate",title:fe.category,children:fe.category||"No category"}):n.jsx("span",{className:"text-xs text-gray-400",children:"N/A"})}),n.jsx("td",{className:"py-3 px-4 text-center w-20",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded whitespace-nowrap ${fe.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:fe.active?"Active":"Inactive"})}),n.jsx("td",{className:"py-3 px-4 text-right w-32",children:n.jsxs("div",{className:"flex justify-end space-x-1",children:[n.jsx(st,{variant:"secondary",size:"sm",onClick:()=>ue(fe),title:"Edit banner",className:"text-xs px-2 py-1",children:"Edit"}),n.jsx(st,{variant:fe.active?"danger":"primary",size:"sm",onClick:()=>G(fe.id),title:fe.active?"Deactivate banner":"Activate banner",className:"text-xs px-2 py-1",children:fe.active?"Off":"On"}),n.jsx(st,{variant:"danger",size:"sm",onClick:()=>ve(fe),title:"Delete banner",className:"text-xs px-2 py-1",children:"Del"})]})})]},fe.id)})})]})}),t.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:"No banners found. Add your first banner!"})}),n.jsx(ih,{isOpen:S,onClose:()=>M(!1),onConfirm:Me,title:"Delete Banner",message:C?`Are you sure you want to delete the banner "${C.title}"? This action cannot be undone.`:"Are you sure you want to delete this banner?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:R}),te&&n.jsx(ile,{onImageSelect:Ye,onCancel:()=>be(!1),targetDimensions:ze(xe==="new"?z.position:v.position),cropPresets:Qe(xe==="new"?z.position:v.position),showDimensionGuide:!0})]})},cle=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(null),{logo:l,loading:u,error:m,fetchLogo:f,uploadLogo:b,clearError:v}=tP();O.useEffect(()=>{f().catch(()=>{Se.error("Failed to fetch current logo")})},[]),O.useEffect(()=>{m&&(Se.error(m),v())},[m,v]);const k=_=>{const S=_.target.files[0];if(S){t(S);const M=new FileReader;M.onloadend=()=>{i(M.result)},M.readAsDataURL(S)}},C=async()=>{if(!r){Se.error("Please select a logo file");return}const _=new FormData;_.append("logo",r);try{await b(_),Se.success("Logo updated successfully"),t(null),i(null)}catch{}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shop Logo"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your shop's logo. This will be displayed in the header and other places."})]}),l&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),n.jsx("div",{className:"w-32 h-32 rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("img",{src:l,alt:"Current logo",className:"w-full h-full object-contain"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Upload New Logo"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo File"}),n.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"w-full p-2 border border-gray-300 rounded-md text-sm"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: PNG or JPEG, max 2MB"})]}),s&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Preview"}),n.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("img",{src:s,alt:"New logo preview",className:"w-full h-full object-contain"})})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx(st,{variant:"primary",onClick:C,isLoading:u,disabled:!r||u,children:u?"Uploading...":"Upload New Logo"})})]})]})},dle=()=>{const{categories:r,fetchCategories:t,addCategory:s,editCategory:i,uploadCategoryImage:l}=A6(),[u,m]=O.useState(null),[f,b]=O.useState(!1),[v,k]=O.useState({name:"",image_url:"",redirect_url:"",order:0}),[C,_]=O.useState(!1),S=O.useRef(null);O.useEffect(()=>{t()},[]);const M=async q=>{const $=q.target.files[0];if($){b(!0);try{const ne=await l($);ne.success?(u?m({...u,image_url:ne.imageUrl}):k({...v,image_url:ne.imageUrl}),$e.success("Image uploaded successfully")):$e.error("Failed to upload image: "+ne.message)}catch(ne){console.error("Error uploading image:",ne),$e.error("Failed to upload image: "+ne.message)}finally{b(!1)}}},R=q=>{m({...q}),_(!1)},I=async()=>{if(!u.name){$e.error("Category name is required");return}const q=await i(u.id,{name:u.name,image_url:u.image_url,redirect_url:u.redirect_url||"",order:u.order||0});q.success?($e.success(q.message||"Category updated successfully"),m(null)):$e.error(q.error||"Failed to update category")},z=async()=>{if(!v.name){$e.error("Category name is required");return}const q=await s({name:v.name,image_url:v.image_url||"",redirect_url:v.redirect_url||"",order:v.order||0});q.success?($e.success(q.message||"Category added successfully"),k({name:"",image_url:"",redirect_url:"",order:0}),_(!1)):$e.error(q.error||"Failed to add category")},V=async(q,$)=>{const ne=[...r.list].sort((B,Y)=>B.order-Y.order),Q=ne.findIndex(B=>B.id===q.id);if($==="up"&&Q>0){const B=ne[Q-1],Y=B.order;await i(q.id,{...q,order:Y}),await i(B.id,{...B,order:q.order}),t()}else if($==="down"&&Q<ne.length-1){const B=ne[Q+1],Y=B.order;await i(q.id,{...q,order:Y}),await i(B.id,{...B,order:q.order}),t()}},U=[...r.list||[]].sort((q,$)=>(q.order||0)-($.order||0));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Categories"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(st,{variant:"outline",onClick:()=>t(),className:"flex items-center gap-1",children:[n.jsx(Mo,{size:16})," Refresh"]}),n.jsx(st,{variant:"primary",onClick:()=>{_(!C),m(null)},children:C?"Cancel":"Add New Category"})]})]}),C&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Add New Category"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.name,onChange:q=>k({...v,name:q.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex",children:[n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:v.image_url||"",onChange:q=>k({...v,image_url:q.target.value}),disabled:f}),n.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:M,disabled:f}),n.jsx("button",{type:"button",onClick:()=>S.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:f,children:f?n.jsx("span",{className:"flex items-center",children:n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):n.jsx(Ok,{})})]}),f&&n.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),v.image_url&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:v.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.redirect_url||"",onChange:q=>k({...v,redirect_url:q.target.value}),placeholder:"/products/category-name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:v.order||0,onChange:q=>k({...v,order:parseInt(q.target.value)||0}),min:"0",step:"1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(st,{variant:"primary",onClick:z,disabled:!v.name,children:"Add Category"})})]}),u&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Edit Category"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:u.name,onChange:q=>m({...u,name:q.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex",children:[n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:u.image_url||"",onChange:q=>m({...u,image_url:q.target.value}),disabled:f}),n.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:M,disabled:f}),n.jsx("button",{type:"button",onClick:()=>S.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:f,children:f?n.jsx("span",{className:"flex items-center",children:n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):n.jsx(Ok,{})})]}),f&&n.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),u.image_url&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:u.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:u.redirect_url||"",onChange:q=>m({...u,redirect_url:q.target.value}),placeholder:"/products/category-name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:u.order||0,onChange:q=>m({...u,order:parseInt(q.target.value)||0}),min:"0",step:"1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(st,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),n.jsx(st,{variant:"primary",onClick:I,disabled:!u.name,children:"Save Changes"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Redirect URL"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map((q,$)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm text-gray-900 mr-3",children:q.order||0}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("button",{onClick:()=>V(q,"up"),disabled:$===0,className:`text-gray-500 hover:text-gray-700 ${$===0?"opacity-30":""}`,title:"Move up",children:n.jsx(N1,{size:14})}),n.jsx("button",{onClick:()=>V(q,"down"),disabled:$===U.length-1,className:`text-gray-500 hover:text-gray-700 ${$===U.length-1?"opacity-30":""}`,title:"Move down",children:n.jsx(j1,{size:14})})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.image_url?n.jsx("img",{src:q.image_url,alt:q.name,className:"h-10 w-10 object-cover rounded-md"}):n.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-md flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-gray-500",children:"No image"})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.redirect_url||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:n.jsx("button",{onClick:()=>R(q),className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},q.id))})]})}),r.loading&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading categories..."})}),!r.loading&&r.list.length===0&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No categories found"})}),r.error&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:r.error})})]})},ule=nn(Zu((r,t)=>({footerConfig:null,loading:!1,error:null,pageContentLoading:!1,setFooterConfig:s=>r({footerConfig:s}),setLoading:s=>r({loading:s}),setError:s=>r({error:s}),clearError:()=>r({error:null}),fetchFooterConfig:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.get("/admin/footer/");if(l.status===200)return r({footerConfig:l.data.footer_config,loading:!1}),l.data.footer_config}catch(l){throw console.error("Error fetching footer config:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch footer configuration",loading:!1}),l}},updateFooterConfig:async s=>{var i,l;r({loading:!0,error:null});try{if((await Ze.put("/admin/footer/update/",{footer_config:s})).status===200)return r({footerConfig:s,loading:!1}),!0}catch(u){throw console.error("Error updating footer config:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update footer configuration",loading:!1}),u}},addFooterLink:async(s,i)=>{var l,u;r({loading:!0,error:null});try{const f={...t().footerConfig};if(Array.isArray(f[s])||(f[s]=[]),f[s].push(i),(await Ze.put("/admin/footer/update/",{footer_config:f})).status===200)return r({footerConfig:f,loading:!1}),!0}catch(m){throw console.error("Error adding footer link:",m),r({error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to add footer link",loading:!1}),m}},deleteFooterLink:async(s,i)=>{var l,u;r({loading:!0,error:null});try{const f={...t().footerConfig};if(Array.isArray(f[s])&&f[s].splice(i,1),(await Ze.put("/admin/footer/update/",{footer_config:f})).status===200)return r({footerConfig:f,loading:!1}),!0}catch(m){throw console.error("Error deleting footer link:",m),r({error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to delete footer link",loading:!1}),m}},toggleFooterSection:async(s,i)=>{var l,u;r({loading:!0,error:null});try{const f={...t().footerConfig};if(f[s]?typeof f[s]=="object"&&!Array.isArray(f[s])?f[s]={...f[s],enabled:i}:f[s]={enabled:i,...f[s]}:f[s]={enabled:i},(await Ze.put("/admin/footer/update/",{footer_config:f})).status===200)return r({footerConfig:f,loading:!1}),!0}catch(m){throw console.error("Error toggling footer section:",m),r({error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to toggle footer section",loading:!1}),m}},fetchPageContent:async s=>{var i,l;r({pageContentLoading:!0,error:null});try{const u=await Ze.get(`/admin/page-content/${s.replace(/^\//,"")}/`);return r({pageContentLoading:!1}),u.data.content}catch(u){throw console.error("Error fetching page content:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch page content",pageContentLoading:!1}),u}},updatePageContent:async(s,i)=>{var l,u;r({pageContentLoading:!0,error:null});try{const m=await Ze.put(`/admin/page-content/update/${s.replace(/^\//,"")}/`,{content:i});return r({pageContentLoading:!1}),m.data}catch(m){throw console.error("Error updating page content:",m),r({error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update page content",pageContentLoading:!1}),m}}}))),hle=()=>{var le,oe,G,ue,me,ye,ve,Me,Ae,Ye,ze,Qe,Be,fe,et;const[r,t]=O.useState({}),[s,i]=O.useState({section:"",name:"",path:"",url:"",enabled:!0}),[l,u]=O.useState(!1),[m,f]=O.useState({}),{footerConfig:b,loading:v,error:k,fetchFooterConfig:C,updateFooterConfig:_,addFooterLink:S,deleteFooterLink:M,toggleFooterSection:R,clearError:I}=ule(),z={FaFacebookF:n.jsx(Eee,{}),FaTwitter:n.jsx(Wee,{}),FaInstagram:n.jsx(Mee,{}),FaYoutube:n.jsx(Kee,{}),FaLinkedinIn:n.jsx(Iee,{}),FaWhatsapp:n.jsx(Dy,{})},V={quick_links:"Quick Links",customer_service_links:"Customer Service",policy_links:"Policies",know_more_links:"Know More",footer_policy_links:"Footer Policies",social_links:"Social Media"};O.useEffect(()=>{C().then(He=>{He&&f(He)}).catch(()=>{Se.error("Failed to fetch footer configuration")})},[]),O.useEffect(()=>{b&&f(b)},[b]),O.useEffect(()=>{k&&(Se.error(k),I())},[k,I]);const U=async He=>{var xt;const tt=((xt=b==null?void 0:b[He])==null?void 0:xt.enabled)||!1;try{await R(He,!tt),Se.success("Section updated successfully")}catch{Se.error("Failed to update section")}},q=async(He,tt)=>{const xt={...b};xt[He][tt].enabled=!xt[He][tt].enabled;try{await _(xt),Se.success("Link updated successfully")}catch{Se.error("Failed to update link")}},$=(He,tt)=>{t({section:He,linkIndex:tt})},ne=async(He,tt,xt)=>{const _e={...b};_e[He][tt]=xt;try{await _(_e),t({}),Se.success("Link updated successfully")}catch{Se.error("Failed to update link")}},Q=async(He,tt)=>{if(window.confirm("Are you sure you want to delete this link?"))try{await M(He,tt),Se.success("Link deleted successfully")}catch{Se.error("Failed to delete link")}},B=async()=>{if(!s.section||!s.name){Se.error("Section and name are required");return}try{await S(s.section,{name:s.name,path:s.path,url:s.url,enabled:s.enabled}),i({section:"",name:"",path:"",url:"",enabled:!0}),u(!1),Se.success("Link added successfully")}catch{Se.error("Failed to add link")}},Y=(He,tt)=>{f({...m,company_info:{...m.company_info,[He]:tt}})},J=async()=>{try{const He={...b,company_info:m.company_info};await _(He),Se.success("Company information updated successfully")}catch{Se.error("Failed to update company info")}},W=(He,tt)=>{f({...m,contact_info:{...m.contact_info,[He]:tt}})},ee=async()=>{try{const He={...b,contact_info:m.contact_info};await _(He),Se.success("Contact information updated successfully")}catch{Se.error("Failed to update contact info")}},te=(He,tt)=>{f({...m,whatsapp:{...m.whatsapp,[He]:tt}})},be=async()=>{try{const He={...b,whatsapp:m.whatsapp};await _(He),Se.success("WhatsApp settings updated successfully")}catch{Se.error("Failed to update WhatsApp settings")}},xe=(He,tt)=>{f({...m,copyright:{...m.copyright,[He]:tt}})},ie=async()=>{try{const He={...b,copyright:m.copyright};await _(He),Se.success("Copyright settings updated successfully")}catch{Se.error("Failed to update copyright settings")}},ae=(He,tt,xt)=>r.section===He&&r.linkIndex===tt?n.jsx(mle,{link:xt,section:He,linkIndex:tt,onSave:ne,onCancel:()=>t({})}):n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[He==="social_links"&&z[xt.icon]&&n.jsx("span",{className:"text-lg",children:z[xt.icon]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:xt.name}),n.jsx("p",{className:"text-xs text-gray-500",children:xt.path||xt.url||"No URL"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>q(He,tt),className:"p-1 rounded-full hover:bg-gray-100",children:xt.enabled?n.jsx(ji,{className:"text-green-500",size:20}):n.jsx(Ai,{className:"text-gray-400",size:20})}),n.jsx("button",{onClick:()=>$(He,tt),className:"p-1 rounded-full hover:bg-gray-100 text-blue-600",children:n.jsx(rp,{size:16})}),n.jsx("button",{onClick:()=>Q(He,tt),className:"p-1 rounded-full hover:bg-gray-100 text-red-600",children:n.jsx(un,{size:16})})]})]});return v?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):k?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[n.jsx("p",{className:"text-red-800",children:k}),n.jsx("button",{onClick:()=>{I(),C()},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Try again"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[" ",n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Footer Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(st,{variant:"outline",onClick:()=>C(),className:"flex items-center gap-1",children:[n.jsx(Mo,{size:16})," Refresh"]}),n.jsx(st,{variant:"primary",onClick:()=>u(!0),children:"Add Link"})]})]})," ",n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Company Information"}),n.jsx("button",{onClick:()=>U("company_info"),className:"flex items-center space-x-2",children:(le=b==null?void 0:b.company_info)!=null&&le.enabled?n.jsx(ji,{className:"text-green-500",size:24}):n.jsx(Ai,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"})," ",n.jsx("textarea",{value:((oe=m==null?void 0:m.company_info)==null?void 0:oe.description)||"",onChange:He=>Y("description",He.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Company description..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"})," ",n.jsx("input",{type:"url",value:((G=m==null?void 0:m.company_info)==null?void 0:G.logo_url)||"",onChange:He=>Y("logo_url",He.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://example.com/logo.png"})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(st,{variant:"primary",onClick:J,children:"Save Changes"})})]})]})," ",n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Contact Information"}),n.jsx("button",{onClick:()=>U("contact_info"),className:"flex items-center space-x-2",children:(ue=b==null?void 0:b.contact_info)!=null&&ue.enabled?n.jsx(ji,{className:"text-green-500",size:24}):n.jsx(Ai,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"})," ",n.jsx("input",{type:"tel",value:((me=m==null?void 0:m.contact_info)==null?void 0:me.phone)||"",onChange:He=>W("phone",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"1800-123-4567"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"})," ",n.jsx("input",{type:"email",value:((ye=m==null?void 0:m.contact_info)==null?void 0:ye.email)||"",onChange:He=>W("email",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"info@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"})," ",n.jsx("textarea",{value:((ve=m==null?void 0:m.contact_info)==null?void 0:ve.address)||"",onChange:He=>W("address",He.target.value),className:"w-full p-3 border rounded-md",rows:"2",placeholder:"Business address..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Hours"})," ",n.jsx("input",{type:"text",value:((Me=m==null?void 0:m.contact_info)==null?void 0:Me.hours)||"",onChange:He=>W("hours",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"Mon-Sat: 10:00 AM - 8:00 PM"})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(st,{variant:"primary",onClick:ee,children:"Save Changes"})})]})]})," ",n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"WhatsApp Settings"}),n.jsx("button",{onClick:()=>U("whatsapp"),className:"flex items-center space-x-2",children:(Ae=b==null?void 0:b.whatsapp)!=null&&Ae.enabled?n.jsx(ji,{className:"text-green-500",size:24}):n.jsx(Ai,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"})," ",n.jsx("input",{type:"tel",value:((Ye=m==null?void 0:m.whatsapp)==null?void 0:Ye.number)||"",onChange:He=>te("number",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"1234567890"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Channel URL"})," ",n.jsx("input",{type:"url",value:((ze=m==null?void 0:m.whatsapp)==null?void 0:ze.channel_url)||"",onChange:He=>te("channel_url",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"https://whatsapp.com/channel/..."})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(st,{variant:"primary",onClick:be,children:"Save Changes"})})]})]})," ",n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Copyright Settings"}),n.jsx("button",{onClick:()=>U("copyright"),className:"flex items-center space-x-2",children:(Qe=b==null?void 0:b.copyright)!=null&&Qe.enabled?n.jsx(ji,{className:"text-green-500",size:24}):n.jsx(Ai,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Copyright Text"})," ",n.jsx("input",{type:"text",value:((Be=m==null?void 0:m.copyright)==null?void 0:Be.text)||"",onChange:He=>xe("text",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"Copyright  Company Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer Name"})," ",n.jsx("input",{type:"text",value:((fe=m==null?void 0:m.copyright)==null?void 0:fe.developer_name)||"",onChange:He=>xe("developer_name",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"Developer Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer URL"})," ",n.jsx("input",{type:"url",value:((et=m==null?void 0:m.copyright)==null?void 0:et.developer_url)||"",onChange:He=>xe("developer_url",He.target.value),className:"w-full p-3 border rounded-md",placeholder:"https://developer-website.com"})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(st,{variant:"primary",onClick:ie,children:"Save Changes"})})]})]}),Object.entries(V).map(([He,tt])=>{const xt=b==null?void 0:b[He];let _e=[];return Array.isArray(xt)?_e=xt:xt&&typeof xt=="object"&&(_e=Array.isArray(xt.links)?xt.links:[]),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:tt}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[_e.length," links"]})})]}),n.jsxs("div",{className:"space-y-3",children:[_e.map((lt,Mt)=>ae(He,Mt,lt)),_e.length===0&&n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No links in this section. Add some links to get started."})]})]},He)}),l&&n.jsx(ple,{newLinkForm:s,setNewLinkForm:i,onSubmit:B,onClose:()=>u(!1),sectionTitles:V})]})},mle=({link:r,section:t,linkIndex:s,onSave:i,onCancel:l})=>{const[u,m]=O.useState({name:r.name||"",path:r.path||"",url:r.url||"",icon:r.icon||"",enabled:r.enabled!==void 0?r.enabled:!0}),f=async b=>{b.preventDefault();try{await i(t,s,u)}catch(v){console.error("Error saving link:",v),Se.error("Failed to save link")}};return n.jsxs("form",{onSubmit:f,className:"p-4 border rounded-md bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:u.name,onChange:b=>m({...u,name:b.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),t==="social_links"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),n.jsxs("select",{value:u.icon,onChange:b=>m({...u,icon:b.target.value}),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:"",children:"Select Icon"}),n.jsx("option",{value:"FaFacebookF",children:"Facebook"}),n.jsx("option",{value:"FaTwitter",children:"Twitter"}),n.jsx("option",{value:"FaInstagram",children:"Instagram"}),n.jsx("option",{value:"FaYoutube",children:"YouTube"}),n.jsx("option",{value:"FaLinkedinIn",children:"LinkedIn"}),n.jsx("option",{value:"FaWhatsapp",children:"WhatsApp"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Path"}),n.jsx("input",{type:"text",value:u.path,onChange:b=>m({...u,path:b.target.value}),className:"w-full p-2 border rounded-md",placeholder:"/page-path"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"External URL"}),n.jsx("input",{type:"url",value:u.url,onChange:b=>m({...u,url:b.target.value}),className:"w-full p-2 border rounded-md",placeholder:"https://example.com"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:u.enabled,onChange:b=>m({...u,enabled:b.target.checked})}),n.jsx("span",{className:"text-sm",children:"Enabled"})]})," ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(st,{type:"button",variant:"outline",onClick:l,children:n.jsx(Yt,{size:16})}),n.jsx(st,{type:"submit",variant:"primary",children:n.jsx(Wm,{size:16})})]})]})]})},ple=({newLinkForm:r,setNewLinkForm:t,onSubmit:s,onClose:i,sectionTitles:l})=>{const u=m=>{m.preventDefault(),s()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Add New Link"}),n.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-gray-100",children:n.jsx(Yt,{size:20})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),n.jsxs("select",{value:r.section,onChange:m=>t({...r,section:m.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),Object.entries(l).map(([m,f])=>n.jsx("option",{value:m,children:f},m))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:r.name,onChange:m=>t({...r,name:m.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Path"}),n.jsx("input",{type:"text",value:r.path,onChange:m=>t({...r,path:m.target.value}),className:"w-full p-2 border rounded-md",placeholder:"/page-path"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"External URL"}),n.jsx("input",{type:"url",value:r.url,onChange:m=>t({...r,url:m.target.value}),className:"w-full p-2 border rounded-md",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:r.enabled,onChange:m=>t({...r,enabled:m.target.checked})}),n.jsx("label",{className:"text-sm",children:"Enabled"})]})," ",n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(st,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),n.jsx(st,{type:"submit",variant:"primary",children:"Add Link"})]})]})]})})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fle(){const r={resolve:null,promise:null};return r.promise=new Promise(t=>{r.resolve=t}),r}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gle(r){let t=null;return(...s)=>(t||(t={current:r(...s)}),t.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const co=new Array(256).fill("").map((r,t)=>("0"+t.toString(16)).slice(-2));function ble(){const[r,t,s,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+co[r>>0&255]+co[r>>8&255]+co[r>>16&255]+co[r>>24&255]+co[t>>0&255]+co[t>>8&255]+co[t>>16&255]+co[t>>24&255]+co[s>>0&255]+co[s>>8&255]+co[s>>16&255]+co[s>>24&255]+co[i>>0&255]+co[i>>8&255]+co[i>>16&255]+co[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yle(r,t){const s=r.extraPlugins||[];return{...r,extraPlugins:[...s,...t.filter(i=>!s.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B6(r){return!!r&&/^\d+\.\d+\.\d+/.test(r)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function L6(r){return r?["nightly","alpha","internal","nightly-","staging"].some(t=>r.includes(t)):!1}function xle(r){return B6(r)||L6(r)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vle(r){if(!B6(r))throw new Error(`Invalid semantic version: ${r||"<blank>"}.`);const[t,s,i]=r.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(s,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wle(r){if(L6(r))return 3;const{major:t}=vle(r);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kle(){const{CKEDITOR_VERSION:r,CKEDITOR:t}=window;return xle(r)?{source:t?"cdn":"npm",version:r}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Cle(){const r=kle();return r?wle(r.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function z6(r,t){switch(t||(t=Cle()||void 0),t){case 1:case 2:return r===void 0;case 3:return r==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _le(r,t){return function(i){z6(i.config.get("licenseKey"))||i.on("collectUsageData",(l,{setUsageData:u})=>{u(`integration.${r}`,t)})}}var Ale=Object.defineProperty,jle=(r,t,s)=>t in r?Ale(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,Jo=(r,t,s)=>jle(r,typeof t!="symbol"?t+"":t,s);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const F6=class V6{constructor(t,s){Jo(this,"_lifecycle"),Jo(this,"_element"),Jo(this,"_releaseLock",null),Jo(this,"_value",null),Jo(this,"_afterMountCallbacks",[]),Jo(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Jo(this,"release",gle(()=>{const{_releaseLock:i,_state:l,_element:u,_lifecycle:m}=this;l.mountingInProgress?l.mountingInProgress.then(()=>m.unmount({element:u,mountResult:this.value})).catch(f=>{console.error("Semaphore unmounting error:",f)}).then(i.resolve).then(()=>{this._value=null}):(l.destroyedBeforeInitialization=!0,i.resolve())})),this._element=t,this._lifecycle=s,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(s=>s(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:s,_afterMountCallbacks:i}=this;s?t(s):i.push(t)}_lock(){const{_semaphores:t}=V6,{_state:s,_element:i,_lifecycle:l}=this,u=t.get(i)||Promise.resolve(null),m=fle();this._releaseLock=m;const f=u.then(()=>s.destroyedBeforeInitialization?Promise.resolve(void 0):(s.mountingInProgress=l.mount().then(b=>(b&&this.unsafeSetValue(b),b)),s.mountingInProgress)).then(async b=>{b&&l.afterMount&&await l.afterMount({element:i,mountResult:b})}).then(()=>m.promise).catch(b=>{console.error("Semaphore mounting error:",b)}).then(()=>{t.get(i)===f&&t.delete(i)});t.set(i,f)}};Jo(F6,"_semaphores",new Map);let Nle=F6;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Sle="$__CKEditorReactContextMetadata";function Ele(r,t){return{...t,[Sle]:r}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Dle=ot.createContext(null),Mle=r=>!!r&&typeof r=="object"&&"status"in r&&["initializing","initialized","error"].includes(r.status),U6=r=>t=>Mle(t)&&t.status===r,GR=U6("initializing"),Tle=r=>U6("initialized")(r)&&r.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Ile=_le("react",{version:"9.5.0",frameworkVersion:ot.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Rle(r){return z6(r.licenseKey)?r:yle(r,[Ile])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const g2="Lock from React integration (@ckeditor/ckeditor5-react)";class G6 extends ot.Component{constructor(t){super(t),Jo(this,"domContainer",ot.createRef()),Jo(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[s]=t.split(".").map(Number);s>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:s,editorSemaphore:i}=this;return t.id!==s.id||t.disableWatchdog!==s.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:l})=>{this._shouldUpdateEditorData(s,t,l)&&l.data.set(t.data)}),"disabled"in t&&i.runAfterMount(({instance:l})=>{t.disabled?l.enableReadOnlyMode(g2):l.disableReadOnlyMode(g2)})),!1)}componentDidMount(){GR(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){GR(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Nle(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:s}=this.props;s&&this.domContainer.current!==null&&s(t.instance)},unmount:async({element:t,mountResult:s})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(s),t.innerHTML=""}finally{i&&i(s.instance)}}})}render(){return ot.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=Tle(this.context)?new Ple(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),s={current:0};return t.setCreator(async(i,l)=>{var u;const{editorSemaphore:m}=this,{onAfterDestroy:f}=this.props;s.current>0&&f&&((u=m==null?void 0:m.value)!=null&&u.instance)&&f(m.value.instance);const b=await this._createEditor(i,l);return m&&s.current>0&&(m.unsafeSetValue({instance:b,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),s.current++,b}),t.on("error",(i,{error:l,causesRestart:u})=>{(this.props.onError||console.error)(l,{phase:"runtime",willEditorRestart:u})}),await t.create(this.domContainer.current,this._getConfig()).catch(i=>{(this.props.onError||console.error)(i,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,s){const{contextItemMetadata:i}=this.props;return i&&(s=Ele(i,s)),this.props.editor.create(t,Rle(s)).then(l=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&l.enableReadOnlyMode(g2)}const u=l.model.document,m=l.editing.view.document;return u.on("change:data",f=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(f,l)}),m.on("focus",f=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(f,l)}),m.on("blur",f=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(f,l)}),l})}async _destroyEditor(t){const{watchdog:s,instance:i}=t;return new Promise((l,u)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(s)return await s.destroy(),l();if(i)return await i.destroy(),l();l()}catch(m){console.error(m),u(m)}})})}_shouldUpdateEditorData(t,s,i){return!(t.data===s.data||i.data.get()===s.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}Jo(G6,"contextType",Dle);class Ple{constructor(t){Jo(this,"_contextWatchdog"),Jo(this,"_id"),Jo(this,"_creator"),this._contextWatchdog=t,this._id=ble()}setCreator(t){this._creator=t}create(t,s){return this._contextWatchdog.add({sourceElementOrData:t,config:s,creator:this._creator,id:this._id,type:"editor"})}on(t,s){this._contextWatchdog.on("itemError",(i,{itemId:l,error:u})=>{l===this._id&&s(null,{error:u,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function H6(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}const Ole=O.memo(O.forwardRef(({id:r,semaphore:t,rootName:s},i)=>{const l=O.useRef(null);return O.useEffect(()=>{let u,m;return t.runAfterMount(({instance:f})=>{if(!l.current)return;m=f;const{ui:b,model:v}=m,k=v.document.getRoot(s);k&&m.ui.getEditableElement(s)&&m.detachEditable(k),u=b.view.createEditable(s,l.current),b.addEditable(u),f.editing.view.forceRender()}),()=>{if(m&&m.state!=="destroyed"&&l.current){const f=m.model.document.getRoot(s);/* istanbul ignore else -- @preserve */f&&m.detachEditable(f)}}},[t.revision]),ot.createElement("div",{key:t.revision,id:r,ref:H6(i,l)})}));Ole.displayName="EditorEditable";const Ble=O.forwardRef(({editor:r},t)=>{const s=O.useRef(null);return O.useEffect(()=>{const i=s.current;if(!r||!i)return;const l=r.ui.view.toolbar.element;return i.appendChild(l),()=>{i.contains(l)&&i.removeChild(l)}},[r&&r.id]),ot.createElement("div",{ref:H6(s,t)})});Ble.displayName="EditorToolbarWrapper";var My={exports:{}};My.exports;var HR;function Lle(){return HR||(HR=1,function(r,t){(function(s){const i=s.en=s.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(s,i){r.exports=i()}(self,()=>(()=>{var s={4959:(m,f,b)=>{const v=b(1103),k={};for(const _ of Object.keys(v))k[v[_]]=_;const C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};m.exports=C;for(const _ of Object.keys(C)){if(!("channels"in C[_]))throw new Error("missing channels property: "+_);if(!("labels"in C[_]))throw new Error("missing channel labels property: "+_);if(C[_].labels.length!==C[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:S,labels:M}=C[_];delete C[_].channels,delete C[_].labels,Object.defineProperty(C[_],"channels",{value:S}),Object.defineProperty(C[_],"labels",{value:M})}C.rgb.hsl=function(_){const S=_[0]/255,M=_[1]/255,R=_[2]/255,I=Math.min(S,M,R),z=Math.max(S,M,R),V=z-I;let U,q;z===I?U=0:S===z?U=(M-R)/V:M===z?U=2+(R-S)/V:R===z&&(U=4+(S-M)/V),U=Math.min(60*U,360),U<0&&(U+=360);const $=(I+z)/2;return q=z===I?0:$<=.5?V/(z+I):V/(2-z-I),[U,100*q,100*$]},C.rgb.hsv=function(_){let S,M,R,I,z;const V=_[0]/255,U=_[1]/255,q=_[2]/255,$=Math.max(V,U,q),ne=$-Math.min(V,U,q),Q=function(B){return($-B)/6/ne+.5};return ne===0?(I=0,z=0):(z=ne/$,S=Q(V),M=Q(U),R=Q(q),V===$?I=R-M:U===$?I=.3333333333333333+S-R:q===$&&(I=.6666666666666666+M-S),I<0?I+=1:I>1&&(I-=1)),[360*I,100*z,100*$]},C.rgb.hwb=function(_){const S=_[0],M=_[1];let R=_[2];const I=C.rgb.hsl(_)[0],z=1/255*Math.min(S,Math.min(M,R));return R=1-.00392156862745098*Math.max(S,Math.max(M,R)),[I,100*z,100*R]},C.rgb.cmyk=function(_){const S=_[0]/255,M=_[1]/255,R=_[2]/255,I=Math.min(1-S,1-M,1-R);return[100*((1-S-I)/(1-I)||0),100*((1-M-I)/(1-I)||0),100*((1-R-I)/(1-I)||0),100*I]},C.rgb.keyword=function(_){const S=k[_];if(S)return S;let M,R=1/0;for(const V of Object.keys(v)){const U=v[V],q=(z=U,((I=_)[0]-z[0])**2+(I[1]-z[1])**2+(I[2]-z[2])**2);q<R&&(R=q,M=V)}var I,z;return M},C.keyword.rgb=function(_){return v[_]},C.rgb.xyz=function(_){let S=_[0]/255,M=_[1]/255,R=_[2]/255;return S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,M=M>.04045?((M+.055)/1.055)**2.4:M/12.92,R=R>.04045?((R+.055)/1.055)**2.4:R/12.92,[100*(.4124*S+.3576*M+.1805*R),100*(.2126*S+.7152*M+.0722*R),100*(.0193*S+.1192*M+.9505*R)]},C.rgb.lab=function(_){const S=C.rgb.xyz(_);let M=S[0],R=S[1],I=S[2];return M/=95.047,R/=100,I/=108.883,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,[116*R-16,500*(M-R),200*(R-I)]},C.hsl.rgb=function(_){const S=_[0]/360,M=_[1]/100,R=_[2]/100;let I,z,V;if(M===0)return V=255*R,[V,V,V];I=R<.5?R*(1+M):R+M-R*M;const U=2*R-I,q=[0,0,0];for(let $=0;$<3;$++)z=S+.3333333333333333*-($-1),z<0&&z++,z>1&&z--,V=6*z<1?U+6*(I-U)*z:2*z<1?I:3*z<2?U+(I-U)*(.6666666666666666-z)*6:U,q[$]=255*V;return q},C.hsl.hsv=function(_){const S=_[0];let M=_[1]/100,R=_[2]/100,I=M;const z=Math.max(R,.01);return R*=2,M*=R<=1?R:2-R,I*=z<=1?z:2-z,[S,100*(R===0?2*I/(z+I):2*M/(R+M)),100*((R+M)/2)]},C.hsv.rgb=function(_){const S=_[0]/60,M=_[1]/100;let R=_[2]/100;const I=Math.floor(S)%6,z=S-Math.floor(S),V=255*R*(1-M),U=255*R*(1-M*z),q=255*R*(1-M*(1-z));switch(R*=255,I){case 0:return[R,q,V];case 1:return[U,R,V];case 2:return[V,R,q];case 3:return[V,U,R];case 4:return[q,V,R];case 5:return[R,V,U]}},C.hsv.hsl=function(_){const S=_[0],M=_[1]/100,R=_[2]/100,I=Math.max(R,.01);let z,V;V=(2-M)*R;const U=(2-M)*I;return z=M*I,z/=U<=1?U:2-U,z=z||0,V/=2,[S,100*z,100*V]},C.hwb.rgb=function(_){const S=_[0]/360;let M=_[1]/100,R=_[2]/100;const I=M+R;let z;I>1&&(M/=I,R/=I);const V=Math.floor(6*S),U=1-R;z=6*S-V,(1&V)!=0&&(z=1-z);const q=M+z*(U-M);let $,ne,Q;switch(V){default:case 6:case 0:$=U,ne=q,Q=M;break;case 1:$=q,ne=U,Q=M;break;case 2:$=M,ne=U,Q=q;break;case 3:$=M,ne=q,Q=U;break;case 4:$=q,ne=M,Q=U;break;case 5:$=U,ne=M,Q=q}return[255*$,255*ne,255*Q]},C.cmyk.rgb=function(_){const S=_[0]/100,M=_[1]/100,R=_[2]/100,I=_[3]/100;return[255*(1-Math.min(1,S*(1-I)+I)),255*(1-Math.min(1,M*(1-I)+I)),255*(1-Math.min(1,R*(1-I)+I))]},C.xyz.rgb=function(_){const S=_[0]/100,M=_[1]/100,R=_[2]/100;let I,z,V;return I=3.2406*S+-1.5372*M+-.4986*R,z=-.9689*S+1.8758*M+.0415*R,V=.0557*S+-.204*M+1.057*R,I=I>.0031308?1.055*I**.4166666666666667-.055:12.92*I,z=z>.0031308?1.055*z**.4166666666666667-.055:12.92*z,V=V>.0031308?1.055*V**.4166666666666667-.055:12.92*V,I=Math.min(Math.max(0,I),1),z=Math.min(Math.max(0,z),1),V=Math.min(Math.max(0,V),1),[255*I,255*z,255*V]},C.xyz.lab=function(_){let S=_[0],M=_[1],R=_[2];return S/=95.047,M/=100,R/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,[116*M-16,500*(S-M),200*(M-R)]},C.lab.xyz=function(_){let S,M,R;M=(_[0]+16)/116,S=_[1]/500+M,R=M-_[2]/200;const I=M**3,z=S**3,V=R**3;return M=I>.008856?I:(M-.13793103448275862)/7.787,S=z>.008856?z:(S-.13793103448275862)/7.787,R=V>.008856?V:(R-.13793103448275862)/7.787,S*=95.047,M*=100,R*=108.883,[S,M,R]},C.lab.lch=function(_){const S=_[0],M=_[1],R=_[2];let I;return I=360*Math.atan2(R,M)/2/Math.PI,I<0&&(I+=360),[S,Math.sqrt(M*M+R*R),I]},C.lch.lab=function(_){const S=_[0],M=_[1],R=_[2]/360*2*Math.PI;return[S,M*Math.cos(R),M*Math.sin(R)]},C.rgb.ansi16=function(_,S=null){const[M,R,I]=_;let z=S===null?C.rgb.hsv(_)[2]:S;if(z=Math.round(z/50),z===0)return 30;let V=30+(Math.round(I/255)<<2|Math.round(R/255)<<1|Math.round(M/255));return z===2&&(V+=60),V},C.hsv.ansi16=function(_){return C.rgb.ansi16(C.hsv.rgb(_),_[2])},C.rgb.ansi256=function(_){const S=_[0],M=_[1],R=_[2];return S===M&&M===R?S<8?16:S>248?231:Math.round((S-8)/247*24)+232:16+36*Math.round(S/255*5)+6*Math.round(M/255*5)+Math.round(R/255*5)},C.ansi16.rgb=function(_){let S=_%10;if(S===0||S===7)return _>50&&(S+=3.5),S=S/10.5*255,[S,S,S];const M=.5*(1+~~(_>50));return[(1&S)*M*255,(S>>1&1)*M*255,(S>>2&1)*M*255]},C.ansi256.rgb=function(_){if(_>=232){const M=10*(_-232)+8;return[M,M,M]}let S;return _-=16,[Math.floor(_/36)/5*255,Math.floor((S=_%36)/6)/5*255,S%6/5*255]},C.rgb.hex=function(_){const S=(((255&Math.round(_[0]))<<16)+((255&Math.round(_[1]))<<8)+(255&Math.round(_[2]))).toString(16).toUpperCase();return"000000".substring(S.length)+S},C.hex.rgb=function(_){const S=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!S)return[0,0,0];let M=S[0];S[0].length===3&&(M=M.split("").map(I=>I+I).join(""));const R=parseInt(M,16);return[R>>16&255,R>>8&255,255&R]},C.rgb.hcg=function(_){const S=_[0]/255,M=_[1]/255,R=_[2]/255,I=Math.max(Math.max(S,M),R),z=Math.min(Math.min(S,M),R),V=I-z;let U,q;return U=V<1?z/(1-V):0,q=V<=0?0:I===S?(M-R)/V%6:I===M?2+(R-S)/V:4+(S-M)/V,q/=6,q%=1,[360*q,100*V,100*U]},C.hsl.hcg=function(_){const S=_[1]/100,M=_[2]/100,R=M<.5?2*S*M:2*S*(1-M);let I=0;return R<1&&(I=(M-.5*R)/(1-R)),[_[0],100*R,100*I]},C.hsv.hcg=function(_){const S=_[1]/100,M=_[2]/100,R=S*M;let I=0;return R<1&&(I=(M-R)/(1-R)),[_[0],100*R,100*I]},C.hcg.rgb=function(_){const S=_[0]/360,M=_[1]/100,R=_[2]/100;if(M===0)return[255*R,255*R,255*R];const I=[0,0,0],z=S%1*6,V=z%1,U=1-V;let q=0;switch(Math.floor(z)){case 0:I[0]=1,I[1]=V,I[2]=0;break;case 1:I[0]=U,I[1]=1,I[2]=0;break;case 2:I[0]=0,I[1]=1,I[2]=V;break;case 3:I[0]=0,I[1]=U,I[2]=1;break;case 4:I[0]=V,I[1]=0,I[2]=1;break;default:I[0]=1,I[1]=0,I[2]=U}return q=(1-M)*R,[255*(M*I[0]+q),255*(M*I[1]+q),255*(M*I[2]+q)]},C.hcg.hsv=function(_){const S=_[1]/100,M=S+_[2]/100*(1-S);let R=0;return M>0&&(R=S/M),[_[0],100*R,100*M]},C.hcg.hsl=function(_){const S=_[1]/100,M=_[2]/100*(1-S)+.5*S;let R=0;return M>0&&M<.5?R=S/(2*M):M>=.5&&M<1&&(R=S/(2*(1-M))),[_[0],100*R,100*M]},C.hcg.hwb=function(_){const S=_[1]/100,M=S+_[2]/100*(1-S);return[_[0],100*(M-S),100*(1-M)]},C.hwb.hcg=function(_){const S=_[1]/100,M=1-_[2]/100,R=M-S;let I=0;return R<1&&(I=(M-R)/(1-R)),[_[0],100*R,100*I]},C.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},C.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},C.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},C.gray.hsl=function(_){return[0,0,_[0]]},C.gray.hsv=C.gray.hsl,C.gray.hwb=function(_){return[0,100,_[0]]},C.gray.cmyk=function(_){return[0,0,0,_[0]]},C.gray.lab=function(_){return[_[0],0,0]},C.gray.hex=function(_){const S=255&Math.round(_[0]/100*255),M=((S<<16)+(S<<8)+S).toString(16).toUpperCase();return"000000".substring(M.length)+M},C.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},841:(m,f,b)=>{const v=b(4959),k=b(9325),C={};Object.keys(v).forEach(_=>{C[_]={},Object.defineProperty(C[_],"channels",{value:v[_].channels}),Object.defineProperty(C[_],"labels",{value:v[_].labels});const S=k(_);Object.keys(S).forEach(M=>{const R=S[M];C[_][M]=function(I){const z=function(...V){const U=V[0];if(U==null)return U;U.length>1&&(V=U);const q=I(V);if(typeof q=="object")for(let $=q.length,ne=0;ne<$;ne++)q[ne]=Math.round(q[ne]);return q};return"conversion"in I&&(z.conversion=I.conversion),z}(R),C[_][M].raw=function(I){const z=function(...V){const U=V[0];return U==null?U:(U.length>1&&(V=U),I(V))};return"conversion"in I&&(z.conversion=I.conversion),z}(R)})}),m.exports=C},9325:(m,f,b)=>{const v=b(4959);function k(S){const M=function(){const I={},z=Object.keys(v);for(let V=z.length,U=0;U<V;U++)I[z[U]]={distance:-1,parent:null};return I}(),R=[S];for(M[S].distance=0;R.length;){const I=R.pop(),z=Object.keys(v[I]);for(let V=z.length,U=0;U<V;U++){const q=z[U],$=M[q];$.distance===-1&&($.distance=M[I].distance+1,$.parent=I,R.unshift(q))}}return M}function C(S,M){return function(R){return M(S(R))}}function _(S,M){const R=[M[S].parent,S];let I=v[M[S].parent][S],z=M[S].parent;for(;M[z].parent;)R.unshift(M[z].parent),I=C(v[M[z].parent][z],I),z=M[z].parent;return I.conversion=R,I}m.exports=function(S){const M=k(S),R={},I=Object.keys(M);for(let z=I.length,V=0;V<z;V++){const U=I[V];M[U].parent!==null&&(R[U]=_(U,M))}return R}},1103:m=>{m.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const S=_},3062:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const S=_},903:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const S=_},3143:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},4717:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const S=_},9315:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const S=_},8733:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const S=_},3508:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const S=_},2640:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const S=_},3535:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const S=_},1568:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const S=_},6270:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const S=_},5083:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4036:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const S=_},3773:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const S=_},3689:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const S=_},1905:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},9773:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const S=_},2347:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},7754:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},111:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const S=_},4721:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const S=_},5730:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const S=_},4564:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},6082:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const S=_},2417:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const S=_},1199:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const S=_},4652:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const S=_},7442:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},9292:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7368:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},4070:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},9247:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const S=_},1613:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const S=_},6306:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const S=_},2128:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const S=_},5087:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4101:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const S=_},3881:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const S=_},6237:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7341:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},6945:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4906:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=_},5332:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=_},6781:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const S=_},3398:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const S=_},4157:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const S=_},5485:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},3949:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7686:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7339:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const S=_},9688:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},8847:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const S=_},6574:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4879:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},3662:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const S=_},2577:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},1046:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},8793:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},4650:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const S=_},7676:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},5868:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},6764:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},9695:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const S=_},5542:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},3332:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const S=_},4793:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const S=_},3488:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},8506:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const S=_},4921:(m,f,b)=>{b.d(f,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const S=_},2609:m=>{m.exports=function(f){var b=[];return b.toString=function(){return this.map(function(v){var k=f(v);return v[2]?"@media ".concat(v[2]," {").concat(k,"}"):k}).join("")},b.i=function(v,k,C){typeof v=="string"&&(v=[[null,v,""]]);var _={};if(C)for(var S=0;S<this.length;S++){var M=this[S][0];M!=null&&(_[M]=!0)}for(var R=0;R<v.length;R++){var I=[].concat(v[R]);C&&_[I[0]]||(k&&(I[2]?I[2]="".concat(k," and ").concat(I[2]):I[2]=k),b.push(I))}},b}},1799:m=>{function f(v,k){return function(C){if(Array.isArray(C))return C}(v)||function(C,_){var S=C&&(typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"]);if(S!=null){var M,R,I=[],z=!0,V=!1;try{for(S=S.call(C);!(z=(M=S.next()).done)&&(I.push(M.value),!_||I.length!==_);z=!0);}catch(U){V=!0,R=U}finally{try{z||S.return==null||S.return()}finally{if(V)throw R}}return I}}(v,k)||function(C,_){if(C){if(typeof C=="string")return b(C,_);var S=Object.prototype.toString.call(C).slice(8,-1);if(S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set")return Array.from(C);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return b(C,_)}}(v,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(v,k){(k==null||k>v.length)&&(k=v.length);for(var C=0,_=new Array(k);C<k;C++)_[C]=v[C];return _}m.exports=function(v){var k=f(v,4),C=k[1],_=k[3];if(!_)return C;if(typeof btoa=="function"){var S=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),M="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),R="/*# ".concat(M," */"),I=_.sources.map(function(z){return"/*# sourceURL=".concat(_.sourceRoot||"").concat(z," */")});return[C].concat(I).concat([R]).join(`
`)}return[C].join(`
`)}},6062:(m,f,b)=>{var v,k=function(){return v===void 0&&(v=!!(window&&document&&document.all&&!window.atob)),v},C=function(){var Q={};return function(B){if(Q[B]===void 0){var Y=document.querySelector(B);if(window.HTMLIFrameElement&&Y instanceof window.HTMLIFrameElement)try{Y=Y.contentDocument.head}catch{Y=null}Q[B]=Y}return Q[B]}}(),_=[];function S(Q){for(var B=-1,Y=0;Y<_.length;Y++)if(_[Y].identifier===Q){B=Y;break}return B}function M(Q,B){for(var Y={},J=[],W=0;W<Q.length;W++){var ee=Q[W],te=B.base?ee[0]+B.base:ee[0],be=Y[te]||0,xe="".concat(te," ").concat(be);Y[te]=be+1;var ie=S(xe),ae={css:ee[1],media:ee[2],sourceMap:ee[3]};ie!==-1?(_[ie].references++,_[ie].updater(ae)):_.push({identifier:xe,updater:ne(ae,B),references:1}),J.push(xe)}return J}function R(Q){var B=document.createElement("style"),Y=Q.attributes||{};if(Y.nonce===void 0){var J=b.nc;J&&(Y.nonce=J)}if(Object.keys(Y).forEach(function(ee){B.setAttribute(ee,Y[ee])}),typeof Q.insert=="function")Q.insert(B);else{var W=C(Q.insert||"head");if(!W)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");W.appendChild(B)}return B}var I,z=(I=[],function(Q,B){return I[Q]=B,I.filter(Boolean).join(`
`)});function V(Q,B,Y,J){var W=Y?"":J.media?"@media ".concat(J.media," {").concat(J.css,"}"):J.css;if(Q.styleSheet)Q.styleSheet.cssText=z(B,W);else{var ee=document.createTextNode(W),te=Q.childNodes;te[B]&&Q.removeChild(te[B]),te.length?Q.insertBefore(ee,te[B]):Q.appendChild(ee)}}function U(Q,B,Y){var J=Y.css,W=Y.media,ee=Y.sourceMap;if(W?Q.setAttribute("media",W):Q.removeAttribute("media"),ee&&typeof btoa<"u"&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ee))))," */")),Q.styleSheet)Q.styleSheet.cssText=J;else{for(;Q.firstChild;)Q.removeChild(Q.firstChild);Q.appendChild(document.createTextNode(J))}}var q=null,$=0;function ne(Q,B){var Y,J,W;if(B.singleton){var ee=$++;Y=q||(q=R(B)),J=V.bind(null,Y,ee,!1),W=V.bind(null,Y,ee,!0)}else Y=R(B),J=U.bind(null,Y,B),W=function(){(function(te){if(te.parentNode===null)return!1;te.parentNode.removeChild(te)})(Y)};return J(Q),function(te){if(te){if(te.css===Q.css&&te.media===Q.media&&te.sourceMap===Q.sourceMap)return;J(Q=te)}else W()}}m.exports=function(Q,B){(B=B||{}).singleton||typeof B.singleton=="boolean"||(B.singleton=k());var Y=M(Q=Q||[],B);return function(J){if(J=J||[],Object.prototype.toString.call(J)==="[object Array]"){for(var W=0;W<Y.length;W++){var ee=S(Y[W]);_[ee].references--}for(var te=M(J,B),be=0;be<Y.length;be++){var xe=S(Y[be]);_[xe].references===0&&(_[xe].updater(),_.splice(xe,1))}Y=te}}}}},i={};function l(m){var f=i[m];if(f!==void 0)return f.exports;var b=i[m]={id:m,exports:{}};return s[m](b,b.exports,l),b.exports}l.n=m=>{var f=m&&m.__esModule?()=>m.default:()=>m;return l.d(f,{a:f}),f},l.d=(m,f)=>{for(var b in f)l.o(f,b)&&!l.o(m,b)&&Object.defineProperty(m,b,{enumerable:!0,get:f[b]})},l.o=(m,f)=>Object.prototype.hasOwnProperty.call(m,f),l.nc=void 0;var u={};return(()=>{function m({emitter:c,activator:e,callback:o,contextElements:a}){c.listenTo(document,"mousedown",(d,p)=>{if(!e())return;const y=typeof p.composedPath=="function"?p.composedPath():[],w=typeof a=="function"?a():a;for(const A of w)if(A.contains(p.target)||y.includes(A))return;o()})}function f(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function b({view:c}){c.listenTo(c.element,"submit",(e,o)=>{o.preventDefault(),c.fire("submit")},{useCapture:!0})}l.d(u,{default:()=>x_});const v=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var k;const C={isMac:_(v),isWindows:(k=v,k.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(v),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(v),isiOS:function(c){return!!c.match(/iphone|ipad/i)||_(c)&&navigator.maxTouchPoints>0}(v),isAndroid:function(c){return c.indexOf("android")>-1}(v),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(v),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function _(c){return c.indexOf("macintosh")>-1}function S(c,e,o,a){o=o||function(A,N){return A===N};const d=Array.isArray(c)?c:Array.prototype.slice.call(c),p=Array.isArray(e)?e:Array.prototype.slice.call(e),y=function(A,N,D){const P=M(A,N,D);if(P===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const F=R(A,P),K=R(N,P),X=M(F,K,D),se=A.length-X,de=N.length-X;return{firstIndex:P,lastIndexOld:se,lastIndexNew:de}}(d,p,o);return a?function(A,N){const{firstIndex:D,lastIndexOld:P,lastIndexNew:F}=A;if(D===-1)return Array(N).fill("equal");let K=[];return D>0&&(K=K.concat(Array(D).fill("equal"))),F-D>0&&(K=K.concat(Array(F-D).fill("insert"))),P-D>0&&(K=K.concat(Array(P-D).fill("delete"))),F<N&&(K=K.concat(Array(N-F).fill("equal"))),K}(y,p.length):function(A,N){const D=[],{firstIndex:P,lastIndexOld:F,lastIndexNew:K}=N;return K-P>0&&D.push({index:P,type:"insert",values:A.slice(P,K)}),F-P>0&&D.push({index:P+(K-P),type:"delete",howMany:F-P}),D}(p,y)}function M(c,e,o){for(let a=0;a<Math.max(c.length,e.length);a++)if(c[a]===void 0||e[a]===void 0||!o(c[a],e[a]))return a;return-1}function R(c,e){return c.slice(e).reverse()}function I(c,e,o){o=o||function(se,de){return se===de};const a=c.length,d=e.length;if(a>200||d>200||a+d>300)return I.fastDiff(c,e,o,!0);let p,y;if(d<a){const se=c;c=e,e=se,p="delete",y="insert"}else p="insert",y="delete";const w=c.length,A=e.length,N=A-w,D={},P={};function F(se){const de=(P[se-1]!==void 0?P[se-1]:-1)+1,pe=P[se+1]!==void 0?P[se+1]:-1,ke=de>pe?-1:1;D[se+ke]&&(D[se]=D[se+ke].slice(0)),D[se]||(D[se]=[]),D[se].push(de>pe?p:y);let Fe=Math.max(de,pe),it=Fe-se;for(;it<w&&Fe<A&&o(c[it],e[Fe]);)it++,Fe++,D[se].push("equal");return Fe}let K,X=0;do{for(K=-X;K<N;K++)P[K]=F(K);for(K=N+X;K>N;K--)P[K]=F(K);P[N]=F(N),X++}while(P[N]!==A);return D[N].slice(1)}I.fastDiff=S;const z=function(){return function c(){c.called=!0}};class V{constructor(e,o){this.source=e,this.name=o,this.path=[],this.stop=z(),this.off=z()}}const U=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function q(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+U[c>>0&255]+U[c>>8&255]+U[c>>16&255]+U[c>>24&255]+U[e>>0&255]+U[e>>8&255]+U[e>>16&255]+U[e>>24&255]+U[o>>0&255]+U[o>>8&255]+U[o>>16&255]+U[o>>24&255]+U[a>>0&255]+U[a>>8&255]+U[a>>16&255]+U[a>>24&255]}const $={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ne(c,e){const o=$.get(e.priority);for(let a=0;a<c.length;a++)if($.get(c[a].priority)<o)return void c.splice(a,0,e);c.push(e)}const Q="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(e,o,a){super(function(d,p){const y=new WeakSet,w=(D,P)=>{if(typeof P=="object"&&P!==null){if(y.has(P))return`[object ${P.constructor.name}]`;y.add(P)}return P},A=p?` ${JSON.stringify(p,w)}`:"",N=W(d);return d+A+N}(e,a)),this.name="CKEditorError",this.context=o,this.data=a}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,o){if(e.is&&e.is("CKEditorError"))throw e;const a=new B(e.message,o);throw a.stack=e.stack,a}}function Y(c,e){console.warn(...ee(c,e))}function J(c,e){console.error(...ee(c,e))}function W(c){return`
Read more: ${Q}#error-${c}`}function ee(c,e){const o=W(c);return e?[c,e,o]:[c,o]}const te="39.0.2",be=new Date(2023,8,6);if(globalThis.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=te;const xe=Symbol("listeningTo"),ie=Symbol("emitterId"),ae=Symbol("delegations"),le=oe(Object);function oe(c){return c?class extends c{on(e,o,a){this.listenTo(this,e,o,a)}once(e,o,a){let d=!1;this.listenTo(this,e,(p,...y)=>{d||(d=!0,p.off(),o.call(this,p,...y))},a)}off(e,o){this.stopListening(this,e,o)}listenTo(e,o,a,d={}){let p,y;this[xe]||(this[xe]={});const w=this[xe];ue(e)||G(e);const A=ue(e);(p=w[A])||(p=w[A]={emitter:e,callbacks:{}}),(y=p.callbacks[o])||(y=p.callbacks[o]=[]),y.push(a),function(N,D,P,F,K){D._addEventListener?D._addEventListener(P,F,K):N._addEventListener.call(D,P,F,K)}(this,e,o,a,d)}stopListening(e,o,a){const d=this[xe];let p=e&&ue(e);const y=d&&p?d[p]:void 0,w=y&&o?y.callbacks[o]:void 0;if(!(!d||e&&!y||o&&!w))if(a)Ae(this,e,o,a),w.indexOf(a)!==-1&&(w.length===1?delete y.callbacks[o]:Ae(this,e,o,a));else if(w){for(;a=w.pop();)Ae(this,e,o,a);delete y.callbacks[o]}else if(y){for(o in y.callbacks)this.stopListening(e,o);delete d[p]}else{for(p in d)this.stopListening(d[p].emitter);delete this[xe]}}fire(e,...o){try{const a=e instanceof V?e:new V(this,e),d=a.name;let p=ve(this,d);if(a.path.push(this),p){const w=[a,...o];p=Array.from(p);for(let A=0;A<p.length&&(p[A].callback.apply(this,w),a.off.called&&(delete a.off.called,this._removeEventListener(d,p[A].callback)),!a.stop.called);A++);}const y=this[ae];if(y){const w=y.get(d),A=y.get("*");w&&Me(w,a,o),A&&Me(A,a,o)}return a.return}catch(a){B.rethrowUnexpectedError(a,this)}}delegate(...e){return{to:(o,a)=>{this[ae]||(this[ae]=new Map),e.forEach(d=>{const p=this[ae].get(d);p?p.set(o,a):this[ae].set(d,new Map([[o,a]]))})}}}stopDelegating(e,o){if(this[ae])if(e)if(o){const a=this[ae].get(e);a&&a.delete(o)}else this[ae].delete(e);else this[ae].clear()}_addEventListener(e,o,a){(function(y,w){const A=me(y);if(A[w])return;let N=w,D=null;const P=[];for(;N!==""&&!A[N];)A[N]={callbacks:[],childEvents:[]},P.push(A[N]),D&&A[N].childEvents.push(D),D=N,N=N.substr(0,N.lastIndexOf(":"));if(N!==""){for(const F of P)F.callbacks=A[N].callbacks.slice();A[N].childEvents.push(D)}})(this,e);const d=ye(this,e),p={callback:o,priority:$.get(a.priority)};for(const y of d)ne(y,p)}_removeEventListener(e,o){const a=ye(this,e);for(const d of a)for(let p=0;p<d.length;p++)d[p].callback==o&&(d.splice(p,1),p--)}}:le}function G(c,e){c[ie]||(c[ie]=e||q())}function ue(c){return c[ie]}function me(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function ye(c,e){const o=me(c)[e];if(!o)return[];let a=[o.callbacks];for(let d=0;d<o.childEvents.length;d++){const p=ye(c,o.childEvents[d]);a=a.concat(p)}return a}function ve(c,e){let o;return c._events&&(o=c._events[e])&&o.callbacks.length?o.callbacks:e.indexOf(":")>-1?ve(c,e.substr(0,e.lastIndexOf(":"))):null}function Me(c,e,o){for(let[a,d]of c){d?typeof d=="function"&&(d=d(e.name)):d=e.name;const p=new V(e.source,d);p.path=[...e.path],a.fire(p,...o)}}function Ae(c,e,o,a){e._removeEventListener?e._removeEventListener(o,a):c._removeEventListener.call(e,o,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{oe[c]=le.prototype[c]});const Ye=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},ze=Symbol("observableProperties"),Qe=Symbol("boundObservables"),Be=Symbol("boundProperties"),fe=Symbol("decoratedMethods"),et=Symbol("decoratedOriginal"),He=tt(oe());function tt(c){return c?class extends c{set(e,o){if(Ye(e))return void Object.keys(e).forEach(d=>{this.set(d,e[d])},this);xt(this);const a=this[ze];if(e in this&&!a.has(e))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>a.get(e),set(d){const p=a.get(e);let y=this.fire(`set:${e}`,e,d,p);y===void 0&&(y=d),p===y&&a.has(e)||(a.set(e,y),this.fire(`change:${e}`,e,y,p))}}),this[e]=o}bind(...e){if(!e.length||!Mt(e))throw new B("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new B("observable-bind-duplicate-properties",this);xt(this);const o=this[Be];e.forEach(d=>{if(o.has(d))throw new B("observable-bind-rebind",this)});const a=new Map;return e.forEach(d=>{const p={property:d,to:[]};o.set(d,p),a.set(d,p)}),{to:_e,toMany:lt,_observable:this,_bindProperties:e,_to:[],_bindings:a}}unbind(...e){if(!this[ze])return;const o=this[Be],a=this[Qe];if(e.length){if(!Mt(e))throw new B("observable-unbind-wrong-properties",this);e.forEach(d=>{const p=o.get(d);p&&(p.to.forEach(([y,w])=>{const A=a.get(y),N=A[w];N.delete(p),N.size||delete A[w],Object.keys(A).length||(a.delete(y),this.stopListening(y,"change"))}),o.delete(d))})}else a.forEach((d,p)=>{this.stopListening(p,"change")}),a.clear(),o.clear()}decorate(e){xt(this);const o=this[e];if(!o)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(a,d)=>{a.return=o.apply(this,d)}),this[e]=function(...a){return this.fire(e,a)},this[e][et]=o,this[fe]||(this[fe]=[]),this[fe].push(e)}stopListening(e,o,a){if(!e&&this[fe]){for(const d of this[fe])this[d]=this[d][et];delete this[fe]}super.stopListening(e,o,a)}}:He}function xt(c){c[ze]||(Object.defineProperty(c,ze,{value:new Map}),Object.defineProperty(c,Qe,{value:new Map}),Object.defineProperty(c,Be,{value:new Map}))}function _e(...c){const e=function(...p){if(!p.length)throw new B("observable-bind-to-parse-error",null);const y={to:[]};let w;return typeof p[p.length-1]=="function"&&(y.callback=p.pop()),p.forEach(A=>{if(typeof A=="string")w.properties.push(A);else{if(typeof A!="object")throw new B("observable-bind-to-parse-error",null);w={observable:A,properties:[]},y.to.push(w)}}),y}(...c),o=Array.from(this._bindings.keys()),a=o.length;if(!e.callback&&e.to.length>1)throw new B("observable-bind-to-no-callback",this);if(a>1&&e.callback)throw new B("observable-bind-to-extra-callback",this);var d;e.to.forEach(p=>{if(p.properties.length&&p.properties.length!==a)throw new B("observable-bind-to-properties-length",this);p.properties.length||(p.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(o[0]).callback=e.callback),d=this._observable,this._to.forEach(p=>{const y=d[Qe];let w;y.get(p.observable)||d.listenTo(p.observable,"change",(A,N)=>{w=y.get(p.observable)[N],w&&w.forEach(D=>{br(d,D.property)})})}),function(p){let y;p._bindings.forEach((w,A)=>{p._to.forEach(N=>{y=N.properties[w.callback?0:p._bindProperties.indexOf(A)],w.to.push([N.observable,y]),function(D,P,F,K){const X=D[Qe],se=X.get(F),de=se||{};de[K]||(de[K]=new Set),de[K].add(P),se||X.set(F,de)}(p._observable,w,N.observable,y)})})}(this),this._bindProperties.forEach(p=>{br(this._observable,p)})}function lt(c,e,o){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const p=a.map(y=>[y,d]);return Array.prototype.concat.apply([],p)}(c,e),o)}function Mt(c){return c.every(e=>typeof e=="string")}function br(c,e){const o=c[Be].get(e);let a;o.callback?a=o.callback.apply(c,o.to.map(d=>d[0][d[1]])):(a=o.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=a:c.set(e,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{tt[c]=He.prototype[c]});class sn{constructor(){this._replacedElements=[]}replace(e,o){this._replacedElements.push({element:e,newElement:o}),e.style.display="none",o&&e.parentNode.insertBefore(o,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:o})=>{e.style.display="",o&&o.remove()}),this._replacedElements=[]}}function Yr(c){let e=0;for(const o of c)e++;return e}function Er(c,e){const o=Math.min(c.length,e.length);for(let a=0;a<o;a++)if(c[a]!=e[a])return a;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function _r(c){return!(!c||!c[Symbol.iterator])}const Js=typeof mw=="object"&&mw&&mw.Object===Object&&mw;var go=typeof self=="object"&&self&&self.Object===Object&&self;const Wt=Js||go||Function("return this")(),kt=Wt.Symbol;var Gr=Object.prototype,ct=Gr.hasOwnProperty,Pt=Gr.toString,Ct=kt?kt.toStringTag:void 0;const tr=function(c){var e=ct.call(c,Ct),o=c[Ct];try{c[Ct]=void 0;var a=!0}catch{}var d=Pt.call(c);return a&&(e?c[Ct]=o:delete c[Ct]),d};var on=Object.prototype.toString;const ss=function(c){return on.call(c)};var Le=kt?kt.toStringTag:void 0;const $t=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Le&&Le in Object(c)?tr(c):ss(c)},Bt=Array.isArray,Tt=function(c){return c!=null&&typeof c=="object"},$s=function(c){return typeof c=="string"||!Bt(c)&&Tt(c)&&$t(c)=="[object String]"};function Ts(c,e,o={},a=[]){const d=o&&o.xmlns,p=d?c.createElementNS(d,e):c.createElement(e);for(const y in o)p.setAttribute(y,o[y]);!$s(a)&&_r(a)||(a=[a]);for(let y of a)$s(y)&&(y=c.createTextNode(y)),p.appendChild(y);return p}const Is=function(c,e){return function(o){return c(e(o))}},ir=Is(Object.getPrototypeOf,Object);var Ln=Function.prototype,Wr=Object.prototype,Rs=Ln.toString,pn=Wr.hasOwnProperty,jn=Rs.call(Object);const yr=function(c){if(!Tt(c)||$t(c)!="[object Object]")return!1;var e=ir(c);if(e===null)return!0;var o=pn.call(e,"constructor")&&e.constructor;return typeof o=="function"&&o instanceof o&&Rs.call(o)==jn},oi=function(){this.__data__=[],this.size=0},St=function(c,e){return c===e||c!=c&&e!=e},xr=function(c,e){for(var o=c.length;o--;)if(St(c[o][0],e))return o;return-1};var vr=Array.prototype.splice;const an=function(c){var e=this.__data__,o=xr(e,c);return!(o<0)&&(o==e.length-1?e.pop():vr.call(e,o,1),--this.size,!0)},ii=function(c){var e=this.__data__,o=xr(e,c);return o<0?void 0:e[o][1]},la=function(c){return xr(this.__data__,c)>-1},os=function(c,e){var o=this.__data__,a=xr(o,c);return a<0?(++this.size,o.push([c,e])):o[a][1]=e,this};function Ps(c){var e=-1,o=c==null?0:c.length;for(this.clear();++e<o;){var a=c[e];this.set(a[0],a[1])}}Ps.prototype.clear=oi,Ps.prototype.delete=an,Ps.prototype.get=ii,Ps.prototype.has=la,Ps.prototype.set=os;const Xs=Ps,al=function(){this.__data__=new Xs,this.size=0},ca=function(c){var e=this.__data__,o=e.delete(c);return this.size=e.size,o},Ii=function(c){return this.__data__.get(c)},Ri=function(c){return this.__data__.has(c)},fn=function(c){if(!Ye(c))return!1;var e=$t(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Xr=Wt["__core-js_shared__"];var Cd=function(){var c=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const _d=function(c){return!!Cd&&Cd in c};var ai=Function.prototype.toString;const Os=function(c){if(c!=null){try{return ai.call(c)}catch{}try{return c+""}catch{}}return""};var sp=/^\[object .+?Constructor\]$/,op=Function.prototype,lc=Object.prototype,ip=op.toString,ll=lc.hasOwnProperty,Pi=RegExp("^"+ip.call(ll).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const is=function(c){return!(!Ye(c)||_d(c))&&(fn(c)?Pi:sp).test(Os(c))},cc=function(c,e){return c==null?void 0:c[e]},Oi=function(c,e){var o=cc(c,e);return is(o)?o:void 0},bo=Oi(Wt,"Map"),Bi=Oi(Object,"create"),Ad=function(){this.__data__=Bi?Bi(null):{},this.size=0},ah=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var jd=Object.prototype.hasOwnProperty;const Bs=function(c){var e=this.__data__;if(Bi){var o=e[c];return o==="__lodash_hash_undefined__"?void 0:o}return jd.call(e,c)?e[c]:void 0};var lh=Object.prototype.hasOwnProperty;const wg=function(c){var e=this.__data__;return Bi?e[c]!==void 0:lh.call(e,c)},Nd=function(c,e){var o=this.__data__;return this.size+=this.has(c)?0:1,o[c]=Bi&&e===void 0?"__lodash_hash_undefined__":e,this};function Li(c){var e=-1,o=c==null?0:c.length;for(this.clear();++e<o;){var a=c[e];this.set(a[0],a[1])}}Li.prototype.clear=Ad,Li.prototype.delete=ah,Li.prototype.get=Bs,Li.prototype.has=wg,Li.prototype.set=Nd;const cl=Li,kg=function(){this.size=0,this.__data__={hash:new cl,map:new(bo||Xs),string:new cl}},Nn=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},xs=function(c,e){var o=c.__data__;return Nn(e)?o[typeof e=="string"?"string":"hash"]:o.map},dc=function(c){var e=xs(this,c).delete(c);return this.size-=e?1:0,e},dl=function(c){return xs(this,c).get(c)},da=function(c){return xs(this,c).has(c)},Rr=function(c,e){var o=xs(this,c),a=o.size;return o.set(c,e),this.size+=o.size==a?0:1,this};function Io(c){var e=-1,o=c==null?0:c.length;for(this.clear();++e<o;){var a=c[e];this.set(a[0],a[1])}}Io.prototype.clear=kg,Io.prototype.delete=dc,Io.prototype.get=dl,Io.prototype.has=da,Io.prototype.set=Rr;const Ls=Io,uc=function(c,e){var o=this.__data__;if(o instanceof Xs){var a=o.__data__;if(!bo||a.length<199)return a.push([c,e]),this.size=++o.size,this;o=this.__data__=new Ls(a)}return o.set(c,e),this.size=o.size,this};function ua(c){var e=this.__data__=new Xs(c);this.size=e.size}ua.prototype.clear=al,ua.prototype.delete=ca,ua.prototype.get=Ii,ua.prototype.has=Ri,ua.prototype.set=uc;const ha=ua,ch=function(c,e){for(var o=-1,a=c==null?0:c.length;++o<a&&e(c[o],o,c)!==!1;);return c},Sd=function(){try{var c=Oi(Object,"defineProperty");return c({},"",{}),c}catch{}}(),dh=function(c,e,o){e=="__proto__"&&Sd?Sd(c,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):c[e]=o};var Ed=Object.prototype.hasOwnProperty;const li=function(c,e,o){var a=c[e];Ed.call(c,e)&&St(a,o)&&(o!==void 0||e in c)||dh(c,e,o)},as=function(c,e,o,a){var d=!o;o||(o={});for(var p=-1,y=e.length;++p<y;){var w=e[p],A=void 0;A===void 0&&(A=c[w]),d?dh(o,w,A):li(o,w,A)}return o},ma=function(c,e){for(var o=-1,a=Array(c);++o<c;)a[o]=e(o);return a},zi=function(c){return Tt(c)&&$t(c)=="[object Arguments]"};var Dd=Object.prototype,Fi=Dd.hasOwnProperty,ap=Dd.propertyIsEnumerable;const pa=zi(function(){return arguments}())?zi:function(c){return Tt(c)&&Fi.call(c,"callee")&&!ap.call(c,"callee")},ci=function(){return!1};var yo=t&&!t.nodeType&&t,ul=yo&&!0&&r&&!r.nodeType&&r,di=ul&&ul.exports===yo?Wt.Buffer:void 0;const Ro=(di?di.isBuffer:void 0)||ci;var fa=/^(?:0|[1-9]\d*)$/;const hc=function(c,e){var o=typeof c;return!!(e=e??9007199254740991)&&(o=="number"||o!="symbol"&&fa.test(c))&&c>-1&&c%1==0&&c<e},ui=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var ar={};ar["[object Float32Array]"]=ar["[object Float64Array]"]=ar["[object Int8Array]"]=ar["[object Int16Array]"]=ar["[object Int32Array]"]=ar["[object Uint8Array]"]=ar["[object Uint8ClampedArray]"]=ar["[object Uint16Array]"]=ar["[object Uint32Array]"]=!0,ar["[object Arguments]"]=ar["[object Array]"]=ar["[object ArrayBuffer]"]=ar["[object Boolean]"]=ar["[object DataView]"]=ar["[object Date]"]=ar["[object Error]"]=ar["[object Function]"]=ar["[object Map]"]=ar["[object Number]"]=ar["[object Object]"]=ar["[object RegExp]"]=ar["[object Set]"]=ar["[object String]"]=ar["[object WeakMap]"]=!1;const uh=function(c){return Tt(c)&&ui(c.length)&&!!ar[$t(c)]},Sn=function(c){return function(e){return c(e)}};var wr=t&&!t.nodeType&&t,Vi=wr&&!0&&r&&!r.nodeType&&r,ga=Vi&&Vi.exports===wr&&Js.process;const ba=function(){try{var c=Vi&&Vi.require&&Vi.require("util").types;return c||ga&&ga.binding&&ga.binding("util")}catch{}}();var mc=ba&&ba.isTypedArray;const hl=mc?Sn(mc):uh;var Ui=Object.prototype.hasOwnProperty;const ml=function(c,e){var o=Bt(c),a=!o&&pa(c),d=!o&&!a&&Ro(c),p=!o&&!a&&!d&&hl(c),y=o||a||d||p,w=y?ma(c.length,String):[],A=w.length;for(var N in c)!e&&!Ui.call(c,N)||y&&(N=="length"||d&&(N=="offset"||N=="parent")||p&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||hc(N,A))||w.push(N);return w};var Po=Object.prototype;const Md=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||Po)},Cg=Is(Object.keys,Object);var pc=Object.prototype.hasOwnProperty;const Td=function(c){if(!Md(c))return Cg(c);var e=[];for(var o in Object(c))pc.call(c,o)&&o!="constructor"&&e.push(o);return e},pl=function(c){return c!=null&&ui(c.length)&&!fn(c)},fl=function(c){return pl(c)?ml(c):Td(c)},lp=function(c,e){return c&&as(e,fl(e),c)},Id=function(c){var e=[];if(c!=null)for(var o in Object(c))e.push(o);return e};var _g=Object.prototype.hasOwnProperty;const hh=function(c){if(!Ye(c))return Id(c);var e=Md(c),o=[];for(var a in c)(a!="constructor"||!e&&_g.call(c,a))&&o.push(a);return o},Oo=function(c){return pl(c)?ml(c,!0):hh(c)},cp=function(c,e){return c&&as(e,Oo(e),c)};var mh=t&&!t.nodeType&&t,Rd=mh&&!0&&r&&!r.nodeType&&r,gl=Rd&&Rd.exports===mh?Wt.Buffer:void 0,ph=gl?gl.allocUnsafe:void 0;const fc=function(c,e){if(e)return c.slice();var o=c.length,a=ph?ph(o):new c.constructor(o);return c.copy(a),a},fh=function(c,e){var o=-1,a=c.length;for(e||(e=Array(a));++o<a;)e[o]=c[o];return e},gh=function(c,e){for(var o=-1,a=c==null?0:c.length,d=0,p=[];++o<a;){var y=c[o];e(y,o,c)&&(p[d++]=y)}return p},Gi=function(){return[]};var dp=Object.prototype.propertyIsEnumerable,bh=Object.getOwnPropertySymbols;const Pd=bh?function(c){return c==null?[]:(c=Object(c),gh(bh(c),function(e){return dp.call(c,e)}))}:Gi,up=function(c,e){return as(c,Pd(c),e)},gc=function(c,e){for(var o=-1,a=e.length,d=c.length;++o<a;)c[d+o]=e[o];return c},vs=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)gc(e,Pd(c)),c=ir(c);return e}:Gi,hp=function(c,e){return as(c,vs(c),e)},yh=function(c,e,o){var a=e(c);return Bt(c)?a:gc(a,o(c))},Bo=function(c){return yh(c,fl,Pd)},E=function(c){return yh(c,Oo,vs)},H=Oi(Wt,"DataView"),Z=Oi(Wt,"Promise"),he=Oi(Wt,"Set"),je=Oi(Wt,"WeakMap");var Re="[object Map]",nt="[object Promise]",nr="[object Set]",En="[object WeakMap]",sr="[object DataView]",Wn=Os(H),zn=Os(bo),ya=Os(Z),ls=Os(he),Hi=Os(je),hi=$t;(H&&hi(new H(new ArrayBuffer(1)))!=sr||bo&&hi(new bo)!=Re||Z&&hi(Z.resolve())!=nt||he&&hi(new he)!=nr||je&&hi(new je)!=En)&&(hi=function(c){var e=$t(c),o=e=="[object Object]"?c.constructor:void 0,a=o?Os(o):"";if(a)switch(a){case Wn:return sr;case zn:return Re;case ya:return nt;case ls:return nr;case Hi:return En}return e});const bl=hi;var ev=Object.prototype.hasOwnProperty;const tv=function(c){var e=c.length,o=new c.constructor(e);return e&&typeof c[0]=="string"&&ev.call(c,"index")&&(o.index=c.index,o.input=c.input),o},Od=Wt.Uint8Array,xh=function(c){var e=new c.constructor(c.byteLength);return new Od(e).set(new Od(c)),e},rv=function(c,e){var o=e?xh(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.byteLength)};var nv=/\w*$/;const sv=function(c){var e=new c.constructor(c.source,nv.exec(c));return e.lastIndex=c.lastIndex,e};var ov=kt?kt.prototype:void 0,iv=ov?ov.valueOf:void 0;const U1=function(c){return iv?Object(iv.call(c)):{}},av=function(c,e){var o=e?xh(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.length)},G1=function(c,e,o){var a=c.constructor;switch(e){case"[object ArrayBuffer]":return xh(c);case"[object Boolean]":case"[object Date]":return new a(+c);case"[object DataView]":return rv(c,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return av(c,o);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(c);case"[object RegExp]":return sv(c);case"[object Symbol]":return U1(c)}};var Zs=Object.create;const vh=function(){function c(){}return function(e){if(!Ye(e))return{};if(Zs)return Zs(e);c.prototype=e;var o=new c;return c.prototype=void 0,o}}(),Ag=function(c){return typeof c.constructor!="function"||Md(c)?{}:vh(ir(c))},lv=function(c){return Tt(c)&&bl(c)=="[object Map]"};var jg=ba&&ba.isMap;const cv=jg?Sn(jg):lv,Ng=function(c){return Tt(c)&&bl(c)=="[object Set]"};var dv=ba&&ba.isSet;const Bd=dv?Sn(dv):Ng;var mp="[object Arguments]",Ld="[object Function]",pp="[object Object]",zr={};zr[mp]=zr["[object Array]"]=zr["[object ArrayBuffer]"]=zr["[object DataView]"]=zr["[object Boolean]"]=zr["[object Date]"]=zr["[object Float32Array]"]=zr["[object Float64Array]"]=zr["[object Int8Array]"]=zr["[object Int16Array]"]=zr["[object Int32Array]"]=zr["[object Map]"]=zr["[object Number]"]=zr[pp]=zr["[object RegExp]"]=zr["[object Set]"]=zr["[object String]"]=zr["[object Symbol]"]=zr["[object Uint8Array]"]=zr["[object Uint8ClampedArray]"]=zr["[object Uint16Array]"]=zr["[object Uint32Array]"]=!0,zr["[object Error]"]=zr[Ld]=zr["[object WeakMap]"]=!1;const xa=function c(e,o,a,d,p,y){var w,A=1&o,N=2&o,D=4&o;if(a&&(w=p?a(e,d,p,y):a(e)),w!==void 0)return w;if(!Ye(e))return e;var P=Bt(e);if(P){if(w=tv(e),!A)return fh(e,w)}else{var F=bl(e),K=F==Ld||F=="[object GeneratorFunction]";if(Ro(e))return fc(e,A);if(F==pp||F==mp||K&&!p){if(w=N||K?{}:Ag(e),!A)return N?hp(e,cp(w,e)):up(e,lp(w,e))}else{if(!zr[F])return p?e:{};w=G1(e,F,A)}}y||(y=new ha);var X=y.get(e);if(X)return X;y.set(e,w),Bd(e)?e.forEach(function(de){w.add(c(de,o,a,de,e,y))}):cv(e)&&e.forEach(function(de,pe){w.set(pe,c(de,o,a,pe,e,y))});var se=P?void 0:(D?N?E:Bo:N?Oo:fl)(e);return ch(se||e,function(de,pe){se&&(de=e[pe=de]),li(w,pe,c(de,o,a,pe,e,y))}),w},yl=function(c,e){return xa(c,5,e=typeof e=="function"?e:void 0)},va=function(c){return Tt(c)&&c.nodeType===1&&!yr(c)};class Sg{constructor(e,o){this._config={},o&&this.define(xl(o)),e&&this._setObjectToTarget(this._config,e)}set(e,o){this._setToTarget(this._config,e,o)}define(e,o){this._setToTarget(this._config,e,o,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,o,a,d=!1){if(yr(o))return void this._setObjectToTarget(e,o,d);const p=o.split(".");o=p.pop();for(const y of p)yr(e[y])||(e[y]={}),e=e[y];if(yr(a))return yr(e[o])||(e[o]={}),e=e[o],void this._setObjectToTarget(e,a,d);d&&e[o]!==void 0||(e[o]=a)}_getFromSource(e,o){const a=o.split(".");o=a.pop();for(const d of a){if(!yr(e[d])){e=null;break}e=e[d]}return e?xl(e[o]):void 0}_setObjectToTarget(e,o,a){Object.keys(o).forEach(d=>{this._setToTarget(e,d,o[d],a)})}}function xl(c){return yl(c,uv)}function uv(c){return va(c)?c:void 0}function wa(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function wh(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object global]"}const hv=vl(oe());function vl(c){return c?class extends c{listenTo(e,o,a,d={}){if(wa(e)||wh(e)){const p={capture:!!d.useCapture,passive:!!d.usePassive},y=this._getProxyEmitter(e,p)||new H1(e,p);this.listenTo(y,o,a,d)}else super.listenTo(e,o,a,d)}stopListening(e,o,a){if(wa(e)||wh(e)){const d=this._getAllProxyEmitters(e);for(const p of d)this.stopListening(p,o,a)}else super.stopListening(e,o,a)}_getProxyEmitter(e,o){return function(a,d){const p=a[xe];return p&&p[d]?p[d].emitter:null}(this,Eg(e,o))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(e,o)).filter(o=>!!o)}}:hv}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{vl[c]=hv.prototype[c]});class H1 extends oe(){constructor(e,o){super(),G(this,Eg(e,o)),this._domNode=e,this._options=o}attach(e){if(this._domListeners&&this._domListeners[e])return;const o=this._createDomListener(e);this._domNode.addEventListener(e,o,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=o}detach(e){let o;!this._domListeners[e]||(o=this._events[e])&&o.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,o,a){this.attach(e),oe().prototype._addEventListener.call(this,e,o,a)}_removeEventListener(e,o){oe().prototype._removeEventListener.call(this,e,o),this.detach(e)}_createDomListener(e){const o=a=>{this.fire(e,a)};return o.removeListener=()=>{this._domNode.removeEventListener(e,o,this._options),delete this._domListeners[e]},o}}function Eg(c,e){let o=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=q())}(c);for(const a of Object.keys(e).sort())e[a]&&(o+="-"+a);return o}let fp;try{fp={window,document}}catch{fp={window:{},document:{}}}const It=fp;function xo(c){let e=c.parentElement;if(!e)return null;for(;e.tagName!="BODY";){const o=e.style.overflowY||It.window.getComputedStyle(e).overflowY;if(o==="auto"||o==="scroll")break;if(e=e.parentElement,!e)return null}return e}function kh(c){return Object.prototype.toString.apply(c)=="[object Range]"}function vo(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function kr(c){return Object.prototype.toString.call(c)=="[object Text]"}const bc=["top","right","bottom","left","width","height"];class Ar{constructor(e){const o=kh(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),gp(e)||o)if(o){const a=Ar.getDomRangeRects(e);yc(this,Ar.getBoundingRect(a))}else yc(this,e.getBoundingClientRect());else if(wh(e)){const{innerWidth:a,innerHeight:d}=e;yc(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else yc(this,e)}clone(){return new Ar(this)}moveTo(e,o){return this.top=o,this.right=e+this.width,this.bottom=o+this.height,this.left=e,this}moveBy(e,o){return this.top+=o,this.right+=e,this.left+=e,this.bottom+=o,this}getIntersection(e){const o={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0?null:new Ar(o)}getIntersectionArea(e){const o=this.getIntersection(e);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let o=this.clone();if(Ch(e))return o;let a,d=e,p=e.parentNode||e.commonAncestorContainer;for(;p&&!Ch(p);){if(d instanceof HTMLElement&&xc(d)==="absolute"&&(a=d),a&&(xc(p)!=="relative"||(y=p).ownerDocument.defaultView.getComputedStyle(y).overflow==="visible")){d=p,p=p.parentNode;continue}const w=new Ar(p),A=o.getIntersection(w);if(!A)return null;A.getArea()<o.getArea()&&(o=A),d=p,p=p.parentNode}var y;return o}isEqual(e){for(const o of bc)if(this[o]!==e[o])return!1;return!0}contains(e){const o=this.getIntersection(e);return!(!o||!o.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let o,a,d;if(wh(e))o=e.innerWidth-e.document.documentElement.clientWidth,a=e.innerHeight-e.document.documentElement.clientHeight,d=e.getComputedStyle(e.document.documentElement).direction;else{const p=vo(e);o=e.offsetWidth-e.clientWidth-p.left-p.right,a=e.offsetHeight-e.clientHeight-p.top-p.bottom,d=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=p.left,this.top+=p.top,this.right-=p.right,this.bottom-=p.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,d==="ltr"?this.right-=o:this.left+=o,this.height-=a,this.bottom-=a,this}static getDomRangeRects(e){const o=[],a=Array.from(e.getClientRects());if(a.length)for(const d of a)o.push(new Ar(d));else{let d=e.startContainer;kr(d)&&(d=d.parentNode);const p=new Ar(d.getBoundingClientRect());p.right=p.left,p.width=0,o.push(p)}return o}static getBoundingRect(e){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const d of e)a++,o.left=Math.min(o.left,d.left),o.top=Math.min(o.top,d.top),o.right=Math.max(o.right,d.right),o.bottom=Math.max(o.bottom,d.bottom);return a==0?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new Ar(o))}}function yc(c,e){for(const o of bc)c[o]=e[o]}function Ch(c){return!!gp(c)&&c===c.ownerDocument.body}function gp(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function xc(c){return c.ownerDocument.defaultView.getComputedStyle(c).position}const ln=class{constructor(c,e){ln._observerInstance||ln._createObserver(),this._element=c,this._callback=e,ln._addElementCallback(c,e),ln._observerInstance.observe(c)}get element(){return this._element}destroy(){ln._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){ln._elementCallbacks||(ln._elementCallbacks=new Map);let o=ln._elementCallbacks.get(c);o||(o=new Set,ln._elementCallbacks.set(c,o)),o.add(e)}static _deleteElementCallback(c,e){const o=ln._getElementCallbacks(c);o&&(o.delete(e),o.size||(ln._elementCallbacks.delete(c),ln._observerInstance.unobserve(c))),ln._elementCallbacks&&!ln._elementCallbacks.size&&(ln._observerInstance=null,ln._elementCallbacks=null)}static _getElementCallbacks(c){return ln._elementCallbacks?ln._elementCallbacks.get(c):null}static _createObserver(){ln._observerInstance=new It.window.ResizeObserver(c=>{for(const e of c){const o=ln._getElementCallbacks(e.target);if(o)for(const a of o)a(e)}})}};let vc=ln;function zd(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function Dg(c){return e=>e+c}function ws(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function bp(c,e,o){c.insertBefore(o,c.childNodes[e]||null)}function wo(c){return c&&c.nodeType===Node.COMMENT_NODE}function wl(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}vc._observerInstance=null,vc._elementCallbacks=null;var _h=Math.pow;function kl({element:c,target:e,positions:o,limiter:a,fitInViewport:d,viewportOffsetConfig:p}){fn(e)&&(e=e()),fn(a)&&(a=a());const y=function(F){return F&&F.parentNode?F.offsetParent===It.document.body?null:F.offsetParent:null}(c),w=new Ar(c),A=new Ar(e);let N;const D=d&&function(F){F=Object.assign({top:0,bottom:0,left:0,right:0},F);const K=new Ar(It.window);return K.top+=F.top,K.height-=F.top,K.bottom-=F.bottom,K.height-=F.bottom,K}(p)||null,P={targetRect:A,elementRect:w,positionedElementAncestor:y,viewportRect:D};if(a||d){const F=a&&new Ar(a).getVisible();Object.assign(P,{limiterRect:F,viewportRect:D}),N=function(K,X){const{elementRect:se}=X,de=se.getArea(),pe=K.map(it=>new Ah(it,X)).filter(it=>!!it.name);let ke=0,Fe=null;for(const it of pe){const{limiterIntersectionArea:At,viewportIntersectionArea:Ur}=it;if(At===de)return it;const cr=_h(Ur,2)+_h(At,2);cr>ke&&(ke=cr,Fe=it)}return Fe}(o,P)||new Ah(o[0],P)}else N=new Ah(o[0],P);return N}function yp(c){const{scrollX:e,scrollY:o}=It.window;return c.clone().moveBy(e,o)}class Ah{constructor(e,o){const a=e(o.targetRect,o.elementRect,o.viewportRect);if(!a)return;const{left:d,top:p,name:y,config:w}=a;this.name=y,this.config=w,this._positioningFunctionCorrdinates={left:d,top:p},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const o=this._options.viewportRect;if(!o)return e.getIntersectionArea(this._rect);{const a=e.getIntersection(o);if(a)return a.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=yp(this._rect),this._options.positionedElementAncestor&&function(e,o){const a=yp(new Ar(o)),d=vo(o);let p=0,y=0;p-=a.left,y-=a.top,p+=o.scrollLeft,y+=o.scrollTop,p-=d.left,y-=d.top,e.moveBy(p,y)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function wc(c){const e=c.parentNode;e&&e.removeChild(c)}function Fd({window:c,rect:e,alignToTop:o,forceScroll:a,viewportOffset:d}){const p=e.clone().moveBy(0,d.bottom),y=e.clone().moveBy(0,-d.top),w=new Ar(c).excludeScrollbarsAndBorders(),A=o&&a,N=[y,p].every(X=>w.contains(X));let{scrollX:D,scrollY:P}=c;const F=D,K=P;A?P-=w.top-e.top+d.top:N||(ko(y,w)?P-=w.top-e.top+d.top:jh(p,w)&&(P+=o?e.top-w.top-d.top:e.bottom-w.bottom+d.bottom)),N||(Co(e,w)?D-=w.left-e.left+d.left:Cl(e,w)&&(D+=e.right-w.right+d.right)),D==F&&P===K||c.scrollTo(D,P)}function xp({parent:c,getRect:e,alignToTop:o,forceScroll:a,ancestorOffset:d=0,limiterElement:p}){const y=mi(c),w=o&&a;let A,N,D;const P=p||y.document.body;for(;c!=P;)N=e(),A=new Ar(c).excludeScrollbarsAndBorders(),D=A.contains(N),w?c.scrollTop-=A.top-N.top+d:D||(ko(N,A)?c.scrollTop-=A.top-N.top+d:jh(N,A)&&(c.scrollTop+=o?N.top-A.top-d:N.bottom-A.bottom+d)),D||(Co(N,A)?c.scrollLeft-=A.left-N.left+d:Cl(N,A)&&(c.scrollLeft+=N.right-A.right+d)),c=c.parentNode}function jh(c,e){return c.bottom>e.bottom}function ko(c,e){return c.top<e.top}function Co(c,e){return c.left<e.left}function Cl(c,e){return c.right>e.right}function mi(c){return kh(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function ka(c){if(kh(c)){let e=c.commonAncestorContainer;return kr(e)&&(e=e.parentNode),e}return c.parentNode}function _l(c,e){const o=mi(c),a=new Ar(c);if(o===e)return a;{let d=o;for(;d!=e;){const p=d.frameElement,y=new Ar(p).excludeScrollbarsAndBorders();a.moveBy(y.left,y.top),d=d.parent}}return a}const mv={ctrl:"",cmd:"",alt:"",shift:""},Mg={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},rr=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;for(const e of"`-=[];',./\\")c[e]=e.charCodeAt(0);return c}(),zs=Object.fromEntries(Object.entries(rr).map(([c,e])=>[e,c.charAt(0).toUpperCase()+c.slice(1)]));function Fr(c){let e;if(typeof c=="string"){if(e=rr[c.toLowerCase()],!e)throw new B("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?rr.alt:0)+(c.ctrlKey?rr.ctrl:0)+(c.shiftKey?rr.shift:0)+(c.metaKey?rr.cmd:0);return e}function lr(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(o=>o.trim())}(c)),c.map(e=>typeof e=="string"?function(o){if(o.endsWith("!"))return Fr(o.slice(0,-1));const a=Fr(o);return C.isMac&&a==rr.ctrl?rr.cmd:a}(e):e).reduce((e,o)=>o+e,0)}function Al(c){let e=lr(c);return Object.entries(C.isMac?mv:Mg).reduce((o,[a,d])=>((e&rr[a])!=0&&(e&=~rr[a],o+=d),o),"")+(e?zs[e]:"")}function Lo(c,e){const o=e==="ltr";switch(c){case rr.arrowleft:return o?"left":"right";case rr.arrowright:return o?"right":"left";case rr.arrowup:return"up";case rr.arrowdown:return"down"}}function Dn(c){return Array.isArray(c)?c:[c]}function kc(c,e,o=1){if(typeof o!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:o});const a=Object.keys(It.window.CKEDITOR_TRANSLATIONS).length;a===1&&(c=Object.keys(It.window.CKEDITOR_TRANSLATIONS)[0]);const d=e.id||e.string;if(a===0||!function(A,N){return!!It.window.CKEDITOR_TRANSLATIONS[A]&&!!It.window.CKEDITOR_TRANSLATIONS[A].dictionary[N]}(c,d))return o!==1?e.plural:e.string;const p=It.window.CKEDITOR_TRANSLATIONS[c].dictionary,y=It.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(A=>A===1?0:1),w=p[d];return typeof w=="string"?w:w[Number(y(o))]}It.window.CKEDITOR_TRANSLATIONS||(It.window.CKEDITOR_TRANSLATIONS={});const pv=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Tg(c){return pv.includes(c)?"rtl":"ltr"}class Nh{constructor({uiLanguage:e="en",contentLanguage:o}={}){this.uiLanguage=e,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=Tg(this.uiLanguage),this.contentLanguageDirection=Tg(this.contentLanguage),this.t=(a,d)=>this._t(a,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,o=[]){o=Dn(o),typeof e=="string"&&(e={string:e});const a=e.plural?o[0]:1;return function(d,p){return d.replace(/%(\d+)/g,(y,w)=>w<p.length?p[w]:y)}(kc(this.uiLanguage,e,a),o)}}class Fs extends oe(){constructor(e={},o={}){super();const a=_r(e);if(a||(o=e),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of e)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,o){return this.addMany([e],o)}addMany(e,o){if(o===void 0)o=this._items.length;else if(o>this._items.length||o<0)throw new B("collection-add-item-invalid-index",this);let a=0;for(const d of e){const p=this._getItemIdBeforeAdding(d),y=o+a;this._items.splice(y,0,d),this._itemMap.set(p,d),this.fire("add",d,y),a++}return this.fire("change",{added:e,removed:[],index:o}),this}get(e){let o;if(typeof e=="string")o=this._itemMap.get(e);else{if(typeof e!="number")throw new B("collection-get-invalid-arg",this);o=this._items[e]}return o||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const o=e[this._idProperty];return o&&this._itemMap.has(o)}}getIndex(e){let o;return o=typeof e=="string"?this._itemMap.get(e):e,o?this._items.indexOf(o):-1}remove(e){const[o,a]=this._remove(e);return this.fire("change",{added:[],removed:[o],index:a}),o}map(e,o){return this._items.map(e,o)}find(e,o){return this._items.find(e,o)}filter(e,o){return this._items.filter(e,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:o=>{this._setUpBindToBinding(a=>new o(a))},using:o=>{typeof o=="function"?this._setUpBindToBinding(o):this._setUpBindToBinding(a=>a[o])}}}_setUpBindToBinding(e){const o=this._bindToCollection,a=(d,p,y)=>{const w=o._bindToCollection==this,A=o._bindToInternalToExternalMap.get(p);if(w&&A)this._bindToExternalToInternalMap.set(p,A),this._bindToInternalToExternalMap.set(A,p);else{const N=e(p);if(!N)return void this._skippedIndexesFromExternal.push(y);let D=y;for(const P of this._skippedIndexesFromExternal)y>P&&D--;for(const P of o._skippedIndexesFromExternal)D>=P&&D++;this._bindToExternalToInternalMap.set(p,N),this._bindToInternalToExternalMap.set(N,p),this.add(N,D);for(let P=0;P<o._skippedIndexesFromExternal.length;P++)D<=o._skippedIndexesFromExternal[P]&&o._skippedIndexesFromExternal[P]++}};for(const d of o)a(0,d,o.getIndex(d));this.listenTo(o,"add",a),this.listenTo(o,"remove",(d,p,y)=>{const w=this._bindToExternalToInternalMap.get(p);w&&this.remove(w),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((A,N)=>(y<N&&A.push(N-1),y>N&&A.push(N),A),[])})}_getItemIdBeforeAdding(e){const o=this._idProperty;let a;if(o in e){if(a=e[o],typeof a!="string")throw new B("collection-add-invalid-id",this);if(this.get(a))throw new B("collection-add-item-already-exists",this)}else e[o]=a=q();return a}_remove(e){let o,a,d,p=!1;const y=this._idProperty;if(typeof e=="string"?(a=e,d=this._itemMap.get(a),p=!d,d&&(o=this._items.indexOf(d))):typeof e=="number"?(o=e,d=this._items[o],p=!d,d&&(a=d[y])):(d=e,a=d[y],o=this._items.indexOf(d),p=o==-1||!this._itemMap.get(a)),p)throw new B("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(a);const w=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(w),this.fire("remove",d,o),[d,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function gn(c){const e=c.next();return e.done?null:e.value}class ks extends vl(tt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new B("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class zo{constructor(){this._listener=new(vl())}listenTo(e){this._listener.listenTo(e,"keydown",(o,a)=>{this._listener.fire("_keydown:"+Fr(a),a)})}set(e,o,a={}){const d=lr(e),p=a.priority;this._listener.listenTo(this._listener,"_keydown:"+d,(y,w)=>{o(w,()=>{w.preventDefault(),w.stopPropagation(),y.stop()}),y.return=!0},{priority:p})}press(e){return!!this._listener.fire("_keydown:"+Fr(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Cs(c){return _r(c)?new Map(c):function(e){const o=new Map;for(const a in e)o.set(a,e[a]);return o}(c)}function pi(c,e){let o;function a(...d){a.cancel(),o=setTimeout(()=>c(...d),e)}return a.cancel=()=>{clearTimeout(o)},a}function qi(c,e){return!!(o=c.charAt(e-1))&&o.length==1&&/[\ud800-\udbff]/.test(o)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(c.charAt(e));var o}function fi(c,e){return!!(o=c.charAt(e))&&o.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const Ig=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,o="(?:"+c.map(a=>a.source).join("|")+")";return new RegExp(`${e}|${o}(?:${o})*`,"ug")}();function vp(c,e){const o=String(c).matchAll(Ig);return Array.from(o).some(a=>a.index<e&&e<a.index+a[0].length)}class Fo extends Fs{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(o,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(o,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...e){if(!e.length||!e.every(o=>typeof o=="string"))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const a of this)for(const d of e)a.delegate(d).to(o);this.on("add",(a,d)=>{for(const p of e)d.delegate(p).to(o)}),this.on("remove",(a,d)=>{for(const p of e)d.stopDelegating(p,o)})}}}_renderViewIntoCollectionParent(e,o){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[o])}remove(e){return super.remove(e)}}var wp=l(6062),at=l.n(wp),cs=l(4793),kp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(cs.Z,kp),cs.Z.locals;class Kt extends vl(tt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Fs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,a)=>{a.locale=e,a.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=gi.bind(this,this)}createCollection(e){const o=new Fo(e);return this._viewCollections.add(o),o}registerChild(e){_r(e)||(e=[e]);for(const o of e)this._unboundChildren.add(o)}deregisterChild(e){_r(e)||(e=[e]);for(const o of e)this._unboundChildren.remove(o)}setTemplate(e){this.template=new gi(e)}extendTemplate(e){gi.extend(this.template,e)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class gi extends oe(){constructor(e){super(),Object.assign(this,fv(Cc(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(o){if(o.children)for(const a of o.children)_c(a)?yield a:Cp(a)&&(yield*e(a))}(this)}static bind(e,o){return{to:(a,d)=>new q1({eventNameOrFunction:a,attribute:a,observable:e,emitter:o,callback:d}),if:(a,d,p)=>new Mn({observable:e,emitter:o,attribute:a,valueIfTrue:d,callback:p})}}static extend(e,o){if(e._isRendered)throw new B("template-extend-render",[this,e]);jl(e,fv(Cc(o)))}_renderNode(e){let o;if(o=e.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let o=e.node;return o||(o=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),o}_renderText(e){let o=e.node;return o?e.revertData.text=o.textContent:o=e.node=document.createTextNode(""),Vd(this.text)?this._bindToObservable({schema:this.text,updater:Eh(o),data:e}):o.textContent=this.text.join(""),o}_renderAttributes(e){if(!this.attributes)return;const o=e.node,a=e.revertData;for(const d in this.attributes){const p=o.getAttribute(d),y=this.attributes[d];a&&(a.attributes[d]=p);const w=Bg(y)?y[0].ns:null;if(Vd(y)){const A=Bg(y)?y[0].value:y;a&&Dh(d)&&A.unshift(p),this._bindToObservable({schema:A,updater:Rg(o,d,w),data:e})}else if(d=="style"&&typeof y[0]!="string")this._renderStyleAttribute(y[0],e);else{a&&p&&Dh(d)&&y.unshift(p);const A=y.map(N=>N&&N.value||N).reduce((N,D)=>N.concat(D),[]).reduce(gv,"");Nl(A)||o.setAttributeNS(w,d,A)}}}_renderStyleAttribute(e,o){const a=o.node;for(const d in e){const p=e[d];Vd(p)?this._bindToObservable({schema:[p],updater:Gd(a,d),data:o}):a.style[d]=p}}_renderElementChildren(e){const o=e.node,a=e.intoFragment?document.createDocumentFragment():o,d=e.isApplying;let p=0;for(const y of this.children)if(Ac(y)){if(!d){y.setParent(o);for(const w of y)a.appendChild(w.element)}}else if(_c(y))d||(y.isRendered||y.render(),a.appendChild(y.element));else if(wa(y))a.appendChild(y);else if(d){const w={children:[],bindings:[],attributes:{}};e.revertData.children.push(w),y._renderNode({intoFragment:!1,node:a.childNodes[p++],isApplying:!0,revertData:w})}else a.appendChild(y.render());e.intoFragment&&o.appendChild(a)}_setUpListeners(e){if(this.eventListeners)for(const o in this.eventListeners){const a=this.eventListeners[o].map(d=>{const[p,y]=o.split("@");return d.activateDomEventListener(p,y,e)});e.revertData&&e.revertData.bindings.push(a)}}_bindToObservable({schema:e,updater:o,data:a}){const d=a.revertData;Ud(e,o,a);const p=e.filter(y=>!Nl(y)).filter(y=>y.observable).map(y=>y.activateAttributeListener(e,o,a));d&&d.bindings.push(p)}_revertTemplateFromNode(e,o){for(const d of o.bindings)for(const p of d)p();if(o.text)return void(e.textContent=o.text);const a=e;for(const d in o.attributes){const p=o.attributes[d];p===null?a.removeAttribute(d):a.setAttribute(d,p)}for(let d=0;d<o.children.length;++d)this._revertTemplateFromNode(a.childNodes[d],o.children[d])}}class Sh{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const o=this.observable[this.attribute];return this.callback?this.callback(o,e):o}activateAttributeListener(e,o,a){const d=()=>Ud(e,o,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,d),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,d)}}}class q1 extends Sh{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,o,a){const d=(p,y)=>{o&&!y.target.matches(o)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(y):this.observable.fire(this.eventNameOrFunction,y))};return this.emitter.listenTo(a.node,e,d),()=>{this.emitter.stopListening(a.node,e,d)}}}class Mn extends Sh{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Nl(super.getValue(e))&&(this.valueIfTrue||!0)}}function Vd(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(Vd):c instanceof Sh)}function Ud(c,e,{node:o}){const a=function(p,y){return p.map(w=>w instanceof Sh?w.getValue(y):w)}(c,o);let d;d=c.length==1&&c[0]instanceof Mn?a[0]:a.reduce(gv,""),Nl(d)?e.remove():e.set(d)}function Eh(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function Rg(c,e,o){return{set(a){c.setAttributeNS(o,e,a)},remove(){c.removeAttributeNS(o,e)}}}function Gd(c,e){return{set(o){c.style[e]=o},remove(){c.style[e]=null}}}function Cc(c){return yl(c,e=>{if(e&&(e instanceof Sh||Cp(e)||_c(e)||Ac(e)))return e})}function fv(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=Dn(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const o in e)Pg(e,o);return e}(c.on),delete c.on),!c.text){c.attributes&&function(o){for(const a in o)o[a].value&&(o[a].value=Dn(o[a].value)),Pg(o,a)}(c.attributes);const e=[];if(c.children)if(Ac(c.children))e.push(c.children);else for(const o of c.children)Cp(o)||_c(o)||wa(o)?e.push(o):e.push(new gi(o));c.children=e}return c}function Pg(c,e){c[e]=Dn(c[e])}function gv(c,e){return Nl(e)?c:Nl(c)?e:`${c} ${e}`}function Og(c,e){for(const o in e)c[o]?c[o].push(...e[o]):c[o]=e[o]}function jl(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),Og(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),Og(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new B("ui-template-extend-children-mismatch",c);let o=0;for(const a of e.children)jl(c.children[o++],a)}}function Nl(c){return!c&&c!==0}function _c(c){return c instanceof Kt}function Cp(c){return c instanceof gi}function Ac(c){return c instanceof Fo}function Bg(c){return Ye(c[0])&&c[0].ns}function Dh(c){return c=="class"||c=="style"}class Lg extends Fo{constructor(e,o=[]){super(o),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new gi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Ts(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var zg=l(6574),_p={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(zg.Z,_p),zg.Z.locals;const Fg=class extends Kt{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:o,value:a}of Array.from(c.attributes))Fg.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let Yi=Fg;Yi.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var Vg=l(4906),bv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Vg.Z,bv),Vg.Z.locals;class hr extends Kt{constructor(e){super(e),this._focusDelayed=null;const o=this.bindTemplate,a=q();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new Yi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",p=>!p),o.if("isVisible","ck-hidden",p=>!p),o.to("isOn",p=>p?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],role:o.to("role"),type:o.to("type",p=>p||"button"),tabindex:o.to("tabindex"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy"),"aria-disabled":o.if("isEnabled",!0,p=>!p),"aria-checked":o.to("isOn"),"aria-pressed":o.to("isOn",p=>!!this.isToggleable&&String(!!p)),"data-cke-tooltip-text":o.to("_tooltipString"),"data-cke-tooltip-position":o.to("tooltipPosition")},children:this.children,on:{click:o.to(p=>{this.isEnabled?this.fire("execute"):p.preventDefault()})}};C.isSafari&&(this._focusDelayed||(this._focusDelayed=pi(()=>this.focus(),0)),d.on.mousedown=o.to(()=>{this._focusDelayed()}),d.on.mouseup=o.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const e=new Kt,o=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:o.to("label")}]}),e}_createKeystrokeView(){const e=new Kt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>Al(o))}]}),e}_getTooltipString(e,o,a){return e?typeof e=="string"?e:(a&&(a=Al(a)),e instanceof Function?e(o,a):`${o}${a?` (${a})`:""}`):""}}var Ap=l(5332),Ug={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Ap.Z,Ug),Ap.Z.locals;class bi extends hr{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Kt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var Ca=l(6781),Mh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Ca.Z,Mh),Ca.Z.locals,l(1103),l(841);var jp=l(3662),Gg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(jp.Z,Gg),jp.Z.locals;class Hd extends Kt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${q()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}var qd=l(2577),yv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(qd.Z,yv),qd.Z.locals;class Np extends Kt{constructor(e,o){super(e);const a=`ck-labeled-field-view-${q()}`,d=`ck-labeled-field-view-status-${q()}`;this.fieldView=o(this,a,d),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(y,w)=>y||w);const p=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",p.to("class"),p.if("isEnabled","ck-disabled",y=>!y),p.if("isEmpty","ck-labeled-field-view_empty"),p.if("isFocused","ck-labeled-field-view_focused"),p.if("placeholder","ck-labeled-field-view_placeholder"),p.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const o=new Hd(this.locale);return o.for=e,o.bind("text").to(this,"label"),o}_createStatusView(e){const o=new Kt(this.locale),a=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:e,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),o}focus(){this.fieldView.focus()}}var jc=l(4879),Sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(jc.Z,Sp),jc.Z.locals;class xv extends Kt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ks,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),inputmode:o.to("inputMode"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,o,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class Hg extends xv{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class qg extends Kt{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",a=>`ck-dropdown__panel_${a}`),o.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:o.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Y("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var _a=l(5485),Ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(_a.Z,Ht),_a.Z.locals;const jr=class extends Kt{constructor(c,e,o){super(c);const a=this.bindTemplate;this.buttonView=e,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new zo,this.focusTracker=new ks,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",d=>!d)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[e,o]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,o,a)=>{a&&(this.panelPosition==="auto"?this.panelView.position=jr._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const c=(e,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(e,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(e,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:o,southWest:a,northEast:d,northWest:p,southMiddleEast:y,southMiddleWest:w,northMiddleEast:A,northMiddleWest:N}=jr.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[o,a,y,w,c,d,p,A,N,e]:[a,o,w,y,c,p,d,N,A,e]}};let cn=jr;cn.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},cn._getOptimalPosition=kl;const Th='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Yd extends hr{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",o=>String(o))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Yi;return e.content=Th,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Vo{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const o in e.actions){let a=e.actions[o];typeof a=="string"&&(a=[a]);for(const d of a)e.keystrokeHandler.set(d,(p,y)=>{this[o](),y()})}}get first(){return this.focusables.find(Wd)||null}get last(){return this.focusables.filter(Wd).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((o,a)=>{const d=o.element===this.focusTracker.focusedElement;return d&&(e=a),d}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const o=this.current,a=this.focusables.length;if(!a)return null;if(o===null)return this[e===1?"first":"last"];let d=(o+a+e)%a;do{const p=this.focusables.get(d);if(Wd(p))return p;d=(d+a+e)%a}while(d!==o);return null}}function Wd(c){return!(!c.focus||!wl(c.element))}class Kd extends Kt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Qd extends Kt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function vv(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class Ge extends tt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Ep,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Ep),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ep(c){c.return=!1,c.stop()}class Ut extends tt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",o=>{if(!this.affectsData)return;const a=e.model.document.selection,d=a.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(a);(e.isReadOnly||this._isEnabledBasedOnSelection&&!d)&&(o.return=!1,o.stop())},{priority:"highest"}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Yg,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Yg),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Yg(c){c.return=!1,c.stop()}class Wg extends Ut{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const o=this._getFirstEnabledCommand();return!!o&&o.execute(e)}registerChildCommand(e,o={}){ne(this._childCommandsDefinitions,{command:e,priority:o.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:o})=>o.isEnabled);return e&&e.command}}class wv extends oe(){constructor(e,o=[],a=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const d of o)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,p]of a)this._contextPlugins.set(d,p),this._contextPlugins.set(p,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const o=this._plugins.get(e);if(!o){let a=e;throw typeof e=="function"&&(a=e.pluginName||e.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return o}has(e){return this._plugins.has(e)}init(e,o=[],a=[]){const d=this,p=this._context;(function X(se,de=new Set){se.forEach(pe=>{A(pe)&&(de.has(pe)||(de.add(pe),pe.pluginName&&!d._availablePlugins.has(pe.pluginName)&&d._availablePlugins.set(pe.pluginName,pe),pe.requires&&X(pe.requires,de)))})})(e),F(e);const y=[...function X(se,de=new Set){return se.map(pe=>A(pe)?pe:d._availablePlugins.get(pe)).reduce((pe,ke)=>de.has(ke)?pe:(de.add(ke),ke.requires&&(F(ke.requires,ke),X(ke.requires,de).forEach(Fe=>pe.add(Fe))),pe.add(ke)),new Set)}(e.filter(X=>!D(X,o)))];(function(X,se){for(const de of se){if(typeof de!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:de});const pe=de.pluginName;if(!pe)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:de});if(de.requires&&de.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:pe});const ke=d._availablePlugins.get(pe);if(!ke)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:pe});const Fe=X.indexOf(ke);if(Fe===-1){if(d._contextPlugins.has(ke))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:pe})}if(ke.requires&&ke.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:pe});X.splice(Fe,1,de),d._availablePlugins.set(pe,de)}})(y,a);const w=y.map(X=>{let se=d._contextPlugins.get(X);return se=se||new X(p),d._add(X,se),se});return K(w,"init").then(()=>K(w,"afterInit")).then(()=>w);function A(X){return typeof X=="function"}function N(X){return A(X)&&!!X.isContextPlugin}function D(X,se){return se.some(de=>de===X||P(X)===de||P(de)===X)}function P(X){return A(X)?X.pluginName||X.name:X}function F(X,se=null){X.map(de=>A(de)?de:d._availablePlugins.get(de)||de).forEach(de=>{(function(pe,ke){if(!A(pe))throw ke?new B("plugincollection-soft-required",p,{missingPlugin:pe,requiredBy:P(ke)}):new B("plugincollection-plugin-not-found",p,{plugin:pe})})(de,se),function(pe,ke){if(N(ke)&&!N(pe))throw new B("plugincollection-context-required",p,{plugin:P(pe),requiredBy:P(ke)})}(de,se),function(pe,ke){if(ke&&D(pe,o))throw new B("plugincollection-required",p,{plugin:P(pe),requiredBy:P(ke)})}(de,se)})}function K(X,se){return X.reduce((de,pe)=>pe[se]?d._contextPlugins.has(pe)?de:de.then(pe[se].bind(pe)):de,Promise.resolve())}}destroy(){const e=[];for(const[,o]of this)typeof o.destroy!="function"||this._contextPlugins.has(o)||e.push(o.destroy());return Promise.all(e)}_add(e,o){this._plugins.set(e,o);const a=e.pluginName;if(a){if(this._plugins.has(a))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:e});this._plugins.set(a,o)}}}class Dp{constructor(e){this._contextOwner=null,this.config=new Sg(e,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new wv(this,o);const a=this.config.get("language")||{};this.locale=new Nh({uiLanguage:typeof a=="string"?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fs}initPlugins(){const e=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const a of e.concat(o)){if(typeof a!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(e,[],o)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,o){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(e),o&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(e[o]=this.config.get(o));return e}static create(e){return new Promise(o=>{const a=new this(e);o(a.initPlugins().then(()=>a))})}}class Jd extends tt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Kg extends zo{constructor(e){super(),this.editor=e}set(e,o,a={}){if(typeof o=="string"){const d=o;o=(p,y)=>{this.editor.execute(d),y()}}super.set(e,o,a)}}var Vs=l(4717),Tn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Vs.Z,Tn),Vs.Z.locals;const $d=new WeakMap;let Xd=!1;function Ih({view:c,element:e,text:o,isDirectHost:a=!0,keepOnFocus:d=!1}){const p=c.document;function y(w){$d.get(p).set(e,{text:w,isDirectHost:a,keepOnFocus:d,hostElement:a?e:null}),c.change(A=>yi(p,A))}$d.has(p)||($d.set(p,new Map),p.registerPostFixer(w=>yi(p,w)),p.on("change:isComposing",()=>{c.change(w=>yi(p,w))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(w,A,N)=>{y(N)}),e.placeholder?y(e.placeholder):o&&y(o),o&&function(){Xd||Y("enableplaceholder-deprecated-text-option"),Xd=!0}()}function Qg(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function yi(c,e){const o=$d.get(c),a=[];let d=!1;for(const[p,y]of o)y.isDirectHost&&(a.push(p),Rh(e,p,y)&&(d=!0));for(const[p,y]of o){if(y.isDirectHost)continue;const w=Jg(p);w&&(a.includes(w)||(y.hostElement=w,Rh(e,p,y)&&(d=!0)))}return d}function Rh(c,e,o){const{text:a,isDirectHost:d,hostElement:p}=o;let y=!1;return p.getAttribute("data-placeholder")!==a&&(c.setAttribute("data-placeholder",a,p),y=!0),(d||e.childCount==1)&&function(w,A){if(!w.isAttached()||Array.from(w.getChildren()).some(P=>!P.is("uiElement")))return!1;const N=w.document,D=N.selection.anchor;return!(N.isComposing&&D&&D.parent===w||!A&&N.isFocused&&(!D||D.parent===w))}(p,o.keepOnFocus)?function(w,A){return!A.hasClass("ck-placeholder")&&(w.addClass("ck-placeholder",A),!0)}(c,p)&&(y=!0):Qg(c,p)&&(y=!0),y}function Jg(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Aa{is(){throw new Error("is() method is abstract")}}const $g=function(c){return xa(c,4)};class Sl extends oe(Aa){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let o=this;for(;o.parent;)e.unshift(o.index),o=o.parent;return e}getAncestors(e={}){const o=[];let a=e.includeSelf?this:this.parent;for(;a;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(e,o={}){const a=this.getAncestors(o),d=e.getAncestors(o);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const o=this.getPath(),a=e.getPath(),d=Er(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,o){this.fire(`change:${e}`,o),this.parent&&this.parent._fireChange(e,o)}toJSON(){const e=$g(this);return delete e.parent,e}}Sl.prototype.is=function(c){return c==="node"||c==="view:node"};class Dr extends Sl{constructor(e,o){super(e),this._textData=o}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Dr&&(this===e||this.data===e.data)}_clone(){return new Dr(this.document,this.data)}}Dr.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class xi extends Aa{constructor(e,o,a){if(super(),this.textNode=e,o<0||o>e.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(a<0||o+a>e.data.length)throw new B("view-textproxy-wrong-length",this);this.data=e.data.substring(o,o+a),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const o=[];let a=e.includeSelf?this.textNode:this.parent;for(;a!==null;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}}xi.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class Uo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let o of e)(typeof o=="string"||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...e){for(const o of e)for(const a of this._patterns){const d=Xg(o,a);if(d)return{element:o,pattern:a,match:d}}return null}matchAll(...e){const o=[];for(const a of e)for(const d of this._patterns){const p=Xg(a,d);p&&o.push({element:a,pattern:d,match:p})}return o.length>0?o:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],o=e.name;return typeof e=="function"||!o||o instanceof RegExp?null:o}}function Xg(c,e){if(typeof e=="function")return e(c);const o={};return e.name&&(o.name=function(a,d){return a instanceof RegExp?!!d.match(a):a===d}(e.name,c.name),!o.name)||e.attributes&&(o.attributes=function(a,d){const p=new Set(d.getAttributeKeys());return yr(a)?(a.style!==void 0&&Y("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&Y("matcher-pattern-deprecated-attributes-class-key",a)):(p.delete("style"),p.delete("class")),Ph(a,p,y=>d.getAttribute(y))}(e.attributes,c),!o.attributes)||e.classes&&(o.classes=function(a,d){return Ph(a,d.getClassNames(),()=>{})}(e.classes,c),!o.classes)||e.styles&&(o.styles=function(a,d){return Ph(a,d.getStyleNames(!0),p=>d.getStyle(p))}(e.styles,c),!o.styles)?null:o}function Ph(c,e,o){const a=function(y){return Array.isArray(y)?y.map(w=>yr(w)?(w.key!==void 0&&w.value!==void 0||Y("matcher-pattern-missing-key-or-value",w),[w.key,w.value]):[w,!0]):yr(y)?Object.entries(y):[[y,!0]]}(c),d=Array.from(e),p=[];if(a.forEach(([y,w])=>{d.forEach(A=>{(function(N,D){return N===!0||N===D||N instanceof RegExp&&D.match(N)})(y,A)&&function(N,D,P){if(N===!0)return!0;const F=P(D);return N===F||N instanceof RegExp&&!!String(F).match(N)}(w,A,o)&&p.push(A)})}),a.length&&!(p.length<a.length))return p}const Oh=function(c){return typeof c=="symbol"||Tt(c)&&$t(c)=="[object Symbol]"};var Y1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kv=/^\w*$/;const Cv=function(c,e){if(Bt(c))return!1;var o=typeof c;return!(o!="number"&&o!="symbol"&&o!="boolean"&&c!=null&&!Oh(c))||kv.test(c)||!Y1.test(c)||e!=null&&c in Object(e)};function Mp(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var o=function(){var a=arguments,d=e?e.apply(this,a):a[0],p=o.cache;if(p.has(d))return p.get(d);var y=c.apply(this,a);return o.cache=p.set(d,y)||p,y};return o.cache=new(Mp.Cache||Ls),o}Mp.Cache=Ls;const Zg=Mp,_v=function(c){var e=Zg(c,function(a){return o.size===500&&o.clear(),a}),o=e.cache;return e};var Av=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jv=/\\(\\)?/g,Nv=_v(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(Av,function(o,a,d,p){e.push(d?p.replace(jv,"$1"):a||o)}),e});const Sv=Nv,W1=function(c,e){for(var o=-1,a=c==null?0:c.length,d=Array(a);++o<a;)d[o]=e(c[o],o,c);return d};var eb=kt?kt.prototype:void 0,Nc=eb?eb.toString:void 0;const Tp=function c(e){if(typeof e=="string")return e;if(Bt(e))return W1(e,c)+"";if(Oh(e))return Nc?Nc.call(e):"";var o=e+"";return o=="0"&&1/e==-1/0?"-0":o},Ip=function(c){return c==null?"":Tp(c)},Zd=function(c,e){return Bt(c)?c:Cv(c,e)?[c]:Sv(Ip(c))},Bh=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},Rp=function(c){if(typeof c=="string"||Oh(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},tb=function(c,e){for(var o=0,a=(e=Zd(e,c)).length;c!=null&&o<a;)c=c[Rp(e[o++])];return o&&o==a?c:void 0},rb=function(c,e,o){var a=-1,d=c.length;e<0&&(e=-e>d?0:d+e),(o=o>d?d:o)<0&&(o+=d),d=e>o?0:o-e>>>0,e>>>=0;for(var p=Array(d);++a<d;)p[a]=c[a+e];return p},Ev=function(c,e){return e.length<2?c:tb(c,rb(e,0,-1))},Dv=function(c,e){return e=Zd(e,c),(c=Ev(c,e))==null||delete c[Rp(Bh(e))]},Mv=function(c,e){return c==null||Dv(c,e)},eu=function(c,e,o){var a=c==null?void 0:tb(c,e);return a===void 0?o:a},Pp=function(c,e,o){(o!==void 0&&!St(c[e],o)||o===void 0&&!(e in c))&&dh(c,e,o)},Tv=function(c){return function(e,o,a){for(var d=-1,p=Object(e),y=a(e),w=y.length;w--;){var A=y[++d];if(o(p[A],A,p)===!1)break}return e}}(),nb=function(c){return Tt(c)&&pl(c)},sb=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},Iv=function(c){return as(c,Oo(c))},K1=function(c,e,o,a,d,p,y){var w=sb(c,o),A=sb(e,o),N=y.get(A);if(N)Pp(c,o,N);else{var D=void 0,P=D===void 0;if(P){var F=Bt(A),K=!F&&Ro(A),X=!F&&!K&&hl(A);D=A,F||K||X?Bt(w)?D=w:nb(w)?D=fh(w):K?(P=!1,D=fc(A,!0)):X?(P=!1,D=av(A,!0)):D=[]:yr(A)||pa(A)?(D=w,pa(w)?D=Iv(w):Ye(w)&&!fn(w)||(D=Ag(A))):P=!1}P&&(y.set(A,D),d(D,A,a,p,y),y.delete(A)),Pp(c,o,D)}},ob=function c(e,o,a,d,p){e!==o&&Tv(o,function(y,w){if(p||(p=new ha),Ye(y))K1(e,o,w,a,c,d,p);else{var A=void 0;A===void 0&&(A=y),Pp(e,w,A)}},Oo)},El=function(c){return c},Rv=function(c,e,o){switch(o.length){case 0:return c.call(e);case 1:return c.call(e,o[0]);case 2:return c.call(e,o[0],o[1]);case 3:return c.call(e,o[0],o[1],o[2])}return c.apply(e,o)};var Op=Math.max;const Pv=function(c,e,o){return e=Op(e===void 0?c.length-1:e,0),function(){for(var a=arguments,d=-1,p=Op(a.length-e,0),y=Array(p);++d<p;)y[d]=a[e+d];d=-1;for(var w=Array(e+1);++d<e;)w[d]=a[d];return w[e]=o(y),Rv(c,this,w)}},Ov=function(c){return function(){return c}},Q1=Sd?function(c,e){return Sd(c,"toString",{configurable:!0,enumerable:!1,value:Ov(e),writable:!0})}:El;var J1=Date.now;const Lh=function(c){var e=0,o=0;return function(){var a=J1(),d=16-(a-o);if(o=a,d>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(Q1),ib=function(c,e){return Lh(Pv(c,e,El),c+"")},Bp=function(c,e,o){if(!Ye(o))return!1;var a=typeof e;return!!(a=="number"?pl(o)&&hc(e,o.length):a=="string"&&e in o)&&St(o[e],c)},ab=function(c){return ib(function(e,o){var a=-1,d=o.length,p=d>1?o[d-1]:void 0,y=d>2?o[2]:void 0;for(p=c.length>3&&typeof p=="function"?(d--,p):void 0,y&&Bp(o[0],o[1],y)&&(p=d<3?void 0:p,d=1),e=Object(e);++a<d;){var w=o[a];w&&c(e,w,a,p)}return e})},lb=ab(function(c,e,o){ob(c,e,o)}),Lp=function(c,e,o,a){if(!Ye(c))return c;for(var d=-1,p=(e=Zd(e,c)).length,y=p-1,w=c;w!=null&&++d<p;){var A=Rp(e[d]),N=o;if(A==="__proto__"||A==="constructor"||A==="prototype")return c;if(d!=y){var D=w[A];(N=void 0)==void 0&&(N=Ye(D)?D:hc(e[d+1])?[]:{})}li(w,A,N),w=w[A]}return c},Bv=function(c,e,o){return c==null?c:Lp(c,e,o)};class Lv{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const o=Array.from(function(a){let d=null,p=0,y=0,w=null;const A=new Map;if(a==="")return A;a.charAt(a.length-1)!=";"&&(a+=";");for(let N=0;N<a.length;N++){const D=a.charAt(N);if(d===null)switch(D){case":":w||(w=a.substr(p,N-p),y=N+1);break;case'"':case"'":d=D;break;case";":{const P=a.substr(y,N-y);w&&A.set(w.trim(),P.trim()),w=null,p=N+1;break}}else D===d&&(d=null)}return A}(e).entries());for(const[a,d]of o)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(e){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(o)}set(e,o){if(Ye(e))for(const[a,d]of Object.entries(e))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(e,o,this._styles)}remove(e){const o=Dl(e);Mv(this._styles,o),delete this._styles[e],this._cleanEmptyObjectsOnPath(o)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ye(this._styles[e]))return this._styles[e];const o=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(o)?o[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([o])=>o)}clear(){this._styles={}}_getStylesEntries(){const e=[],o=Object.keys(this._styles);for(const a of o)e.push(...this._styleProcessor.getReducedForm(a,this._styles));return e}_cleanEmptyObjectsOnPath(e){const o=e.split(".");if(!(o.length>1))return;const a=o.splice(0,o.length-1).join("."),d=eu(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}}class X1{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,o,a){if(Ye(o))Sc(a,Dl(e),o);else if(this._normalizers.has(e)){const d=this._normalizers.get(e),{path:p,value:y}=d(o);Sc(a,p,y)}else Sc(a,e,o)}getNormalized(e,o){if(!e)return lb({},o);if(o[e]!==void 0)return o[e];if(this._extractors.has(e)){const a=this._extractors.get(e);if(typeof a=="string")return eu(o,a);const d=a(e,o);if(d)return d}return eu(o,Dl(e))}getReducedForm(e,o){const a=this.getNormalized(e,o);return a===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(a):[[e,a]]}getStyleNames(e){const o=Array.from(this._consumables.keys()).filter(d=>{const p=this.getNormalized(d,e);return p&&typeof p=="object"?Object.keys(p).length:p}),a=new Set([...o,...Object.keys(e)]);return Array.from(a.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,o){this._normalizers.set(e,o)}setExtractor(e,o){this._extractors.set(e,o)}setReducer(e,o){this._reducers.set(e,o)}setStyleRelation(e,o){this._mapStyleNames(e,o);for(const a of o)this._mapStyleNames(a,[e])}_mapStyleNames(e,o){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...o)}}function Dl(c){return c.replace("-",".")}function Sc(c,e,o){let a=o;Ye(o)&&(a=lb({},eu(c,e),o)),Bv(c,e,a)}class _s extends Sl{constructor(e,o,a,d){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=o,this._attrs=function(p){const y=Cs(p);for(const[w,A]of y)A===null?y.delete(w):typeof A!="string"&&y.set(w,String(A));return y}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const p=this._attrs.get("class");tu(this._classes,p),this._attrs.delete("class")}this._styles=new Lv(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const o=this._styles.toString();return o==""?void 0:o}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof _s))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[o,a]of this._attrs)if(!e._attrs.has(o)||e._attrs.get(o)!==a)return!1;for(const o of this._classes)if(!e._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!e._styles.has(o)||e._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...e){for(const o of e)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const o of e)if(!this._styles.has(o))return!1;return!0}findAncestor(...e){const o=new Uo(...e);let a=this.parent;for(;a&&!a.is("documentFragment");){if(o.match(a))return a;a=a.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),o=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(o?` style="${o}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const o=[];if(e)for(const d of this.getChildren())o.push(d._clone(e));const a=new this.constructor(this.document,this.name,this._attrs,o);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,o){this._fireChange("children",this);let a=0;const d=function(p,y){return typeof y=="string"?[new Dr(p,y)]:(_r(y)||(y=[y]),Array.from(y).map(w=>typeof w=="string"?new Dr(p,w):w instanceof xi?new Dr(p,w.data):w))}(this.document,o);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,p.document=this.document,this._children.splice(e,0,p),e++,a++;return a}_removeChildren(e,o=1){this._fireChange("children",this);for(let a=e;a<e+o;a++)this._children[a].parent=null;return this._children.splice(e,o)}_setAttribute(e,o){const a=String(o);this._fireChange("attributes",this),e=="class"?tu(this._classes,a):e=="style"?this._styles.setTo(a):this._attrs.set(e,a)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const o of Dn(e))this._classes.add(o)}_removeClass(e){this._fireChange("attributes",this);for(const o of Dn(e))this._classes.delete(o)}_setStyle(e,o){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,o)}_removeStyle(e){this._fireChange("attributes",this);for(const o of Dn(e))this._styles.remove(o)}_setCustomProperty(e,o){this._customProperties.set(e,o)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function tu(c,e){const o=e.split(/\s+/);c.clear(),o.forEach(a=>c.add(a))}_s.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Ml extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=cb}}function cb(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const o of c)if(!o.is("uiElement"))return null;return this.childCount}Ml.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class zh extends tt(Ml){constructor(e,o,a,d){super(e,o,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",p=>p&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}zh.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const Ec=Symbol("rootName");class db extends zh{constructor(e,o){super(e,o),this.rootName="main"}get rootName(){return this.getCustomProperty(Ec)}set rootName(e){this._setCustomProperty(Ec,e)}set _name(e){this.name=e}}db.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Kn{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new B("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new B("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Xe._createAt(e.startPosition):this._position=Xe._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let o,a;do a=this.position,o=this.next();while(!o.done&&e(o.value));o.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const o=this.position,a=e.parent;if(a.parent===null&&e.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let d;if(a instanceof Dr){if(e.isAtEnd)return this._position=Xe._createAfter(a),this._next();d=a.data[e.offset]}else d=a.getChild(e.offset);if(d instanceof _s){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Xe(d,0);return this._position=e,this._formatReturnValue("elementStart",d,o,e,1)}if(d instanceof Dr){if(this.singleCharacters)return e=new Xe(d,0),this._position=e,this._next();let p,y=d.data.length;return d==this._boundaryEndParent?(y=this.boundaries.end.offset,p=new xi(d,0,y),e=Xe._createAfter(p)):(p=new xi(d,0,d.data.length),e.offset++),this._position=e,this._formatReturnValue("text",p,o,e,y)}if(typeof d=="string"){let p;this.singleCharacters?p=1:p=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-e.offset;const y=new xi(a,e.offset,p);return e.offset+=p,this._position=e,this._formatReturnValue("text",y,o,e,p)}return e=Xe._createAfter(a),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,o,e)}_previous(){let e=this.position.clone();const o=this.position,a=e.parent;if(a.parent===null&&e.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let d;if(a instanceof Dr){if(e.isAtStart)return this._position=Xe._createBefore(a),this._previous();d=a.data[e.offset-1]}else d=a.getChild(e.offset-1);if(d instanceof _s)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",d,o,e,1)):(e=new Xe(d,d.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,o,e));if(d instanceof Dr){if(this.singleCharacters)return e=new Xe(d,d.data.length),this._position=e,this._previous();let p,y=d.data.length;if(d==this._boundaryStartParent){const w=this.boundaries.start.offset;p=new xi(d,w,d.data.length-w),y=p.data.length,e=Xe._createBefore(p)}else p=new xi(d,0,d.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",p,o,e,y)}if(typeof d=="string"){let p;if(this.singleCharacters)p=1;else{const w=a===this._boundaryStartParent?this.boundaries.start.offset:0;p=e.offset-w}e.offset-=p;const y=new xi(a,e.offset,p);return this._position=e,this._formatReturnValue("text",y,o,e,p)}return e=Xe._createBefore(a),this._position=e,this._formatReturnValue("elementStart",a,o,e,1)}_formatReturnValue(e,o,a,d,p){return o instanceof xi&&(o.offsetInText+o.data.length==o.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=Xe._createAfter(o.textNode):(d=Xe._createAfter(o.textNode),this._position=d)),o.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=Xe._createBefore(o.textNode):(d=Xe._createBefore(o.textNode),this._position=d))),{done:!1,value:{type:e,item:o,previousPosition:a,nextPosition:d,length:p}}}}class Xe extends Aa{constructor(e,o){super(),this.parent=e,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof zh);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const o=Xe._createAt(this),a=o.offset+e;return o.offset=a<0?0:a,o}getLastMatchingPosition(e,o={}){o.startPosition=this;const a=new Kn(o);return a.skip(e),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const o=this.getAncestors(),a=e.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return d===0?null:o[d-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const o=this.parent.is("node")?this.parent.getPath():[],a=e.parent.is("node")?e.parent.getPath():[];o.push(this.offset),a.push(e.offset);const d=Er(o,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return o[d]<a[d]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Kn(e)}clone(){return new Xe(this.parent,this.offset)}static _createAt(e,o){if(e instanceof Xe)return new this(e.parent,e.offset);{const a=e;if(o=="end")o=a.is("$text")?a.data.length:a.childCount;else{if(o=="before")return this._createBefore(a);if(o=="after")return this._createAfter(a);if(o!==0&&!o)throw new B("view-createpositionat-offset-required",a)}return new Xe(a,o)}}static _createAfter(e){if(e.is("$textProxy"))return new Xe(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new B("view-position-after-root",e,{root:e});return new Xe(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Xe(e.textNode,e.offsetInText);if(!e.parent)throw new B("view-position-before-root",e,{root:e});return new Xe(e.parent,e.index)}}Xe.prototype.is=function(c){return c==="position"||c==="view:position"};class pt extends Aa{constructor(e,o=null){super(),this.start=e.clone(),this.end=o?o.clone():e.clone()}*[Symbol.iterator](){yield*new Kn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Fh,{direction:"backward"}),o=this.end.getLastMatchingPosition(Fh);return e.parent.is("$text")&&e.isAtStart&&(e=Xe._createBefore(e.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=Xe._createAfter(o.parent)),new pt(e,o)}getTrimmed(){let e=this.start.getLastMatchingPosition(Fh);if(e.isAfter(this.end)||e.isEqual(this.end))return new pt(e,e);let o=this.end.getLastMatchingPosition(Fh,{direction:"backward"});const a=e.nodeAfter,d=o.nodeBefore;return a&&a.is("$text")&&(e=new Xe(a,0)),d&&d.is("$text")&&(o=new Xe(d,d.data.length)),new pt(e,o)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,o=!1){e.isCollapsed&&(o=!1);const a=this.containsPosition(e.start)||o&&this.start.isEqual(e.start),d=this.containsPosition(e.end)||o&&this.end.isEqual(e.end);return a&&d}getDifference(e){const o=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&o.push(new pt(this.start,e.start)),this.containsPosition(e.end)&&o.push(new pt(e.end,this.end))):o.push(this.clone()),o}getIntersection(e){if(this.isIntersecting(e)){let o=this.start,a=this.end;return this.containsPosition(e.start)&&(o=e.start),this.containsPosition(e.end)&&(a=e.end),new pt(o,a)}return null}getWalker(e={}){return e.boundaries=this,new Kn(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),e&&e.is("element")&&e===o?e:null}clone(){return new pt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const o=new Kn(e);for(const a of o)yield a.item}*getPositions(e={}){e.boundaries=this;const o=new Kn(e);yield o.position;for(const a of o)yield a.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,o,a,d){return new this(new Xe(e,o),new Xe(a,d))}static _createFromPositionAndShift(e,o){const a=e,d=e.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const o=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Xe._createBefore(e),o)}}function Fh(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}pt.prototype.is=function(c){return c==="range"||c==="view:range"};class ds extends oe(Aa){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const o of this._ranges)e&&!o.start.isBefore(e.start)||(e=o);return e?e.clone():null}getLastRange(){let e=null;for(const o of this._ranges)e&&!o.end.isAfter(e.end)||(e=o);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of e._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const o=Yr(this.getRanges());if(o!=Yr(e.getRanges()))return!1;if(o==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let p of e.getRanges())if(p=p.getTrimmed(),a.start.isEqual(p.start)&&a.end.isEqual(p.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[o,a,d]=e;if(typeof a=="object"&&(d=a,a=void 0),o===null)this._setRanges([]),this._setFakeOptions(d);else if(o instanceof ds||o instanceof vi)this._setRanges(o.getRanges(),o.isBackward),this._setFakeOptions({fake:o.isFake,label:o.fakeSelectionLabel});else if(o instanceof pt)this._setRanges([o],d&&d.backward),this._setFakeOptions(d);else if(o instanceof Xe)this._setRanges([new pt(o)]),this._setFakeOptions(d);else if(o instanceof Sl){const p=!!d&&!!d.backward;let y;if(a===void 0)throw new B("view-selection-setto-required-second-parameter",this);y=a=="in"?pt._createIn(o):a=="on"?pt._createOn(o):new pt(Xe._createAt(o,a)),this._setRanges([y],p),this._setFakeOptions(d)}else{if(!_r(o))throw new B("view-selection-setto-not-selectable",this);this._setRanges(o,d&&d.backward),this._setFakeOptions(d)}this.fire("change")}setFocus(e,o){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const a=Xe._createAt(e,o);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.pop(),a.compareWith(d)=="before"?this._addRange(new pt(a,d),!0):this._addRange(new pt(d,a)),this.fire("change")}_setRanges(e,o=!1){e=Array.from(e),this._ranges=[];for(const a of e)this._addRange(a);this._lastRangeBackward=!!o}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,o=!1){if(!(e instanceof pt))throw new B("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!o}_pushRange(e){for(const o of this._ranges)if(e.isIntersecting(o))throw new B("view-selection-range-intersects",this,{addedRange:e,intersectingRange:o});this._ranges.push(new pt(e.start,e.end))}}ds.prototype.is=function(c){return c==="selection"||c==="view:selection"};class vi extends oe(Aa){constructor(...e){super(),this._selection=new ds,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,o){this._selection.setFocus(e,o)}}vi.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Kr extends V{constructor(e,o,a){super(e,o),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ru=Symbol("bubbling contexts");function Vh(c){return class extends c{fire(e,...o){try{const a=e instanceof V?e:new V(this,e),d=ja(this);if(!d.size)return;if(Dc(a,"capturing",this),Mc(d,"$capture",a,...o))return a.return;const p=a.startRange||this.selection.getFirstRange(),y=p?p.getContainedElement():null,w=!!y&&!!ub(d,y);let A=y||function(N){if(!N)return null;const D=N.start.parent,P=N.end.parent,F=D.getPath(),K=P.getPath();return F.length>K.length?D:P}(p);if(Dc(a,"atTarget",A),!w){if(Mc(d,"$text",a,...o))return a.return;Dc(a,"bubbling",A)}for(;A;){if(A.is("rootElement")){if(Mc(d,"$root",a,...o))return a.return}else if(A.is("element")&&Mc(d,A.name,a,...o))return a.return;if(Mc(d,A,a,...o))return a.return;A=A.parent,Dc(a,"bubbling",A)}return Dc(a,"bubbling",this),Mc(d,"$document",a,...o),a.return}catch(a){B.rethrowUnexpectedError(a,this)}}_addEventListener(e,o,a){const d=Dn(a.context||"$document"),p=ja(this);for(const y of d){let w=p.get(y);w||(w=new(oe()),p.set(y,w)),this.listenTo(w,e,o,a)}}_removeEventListener(e,o){const a=ja(this);for(const d of a.values())this.stopListening(d,e,o)}}}{const c=Vh(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Vh[e]=c.prototype[e]})}function Dc(c,e,o){c instanceof Kr&&(c._eventPhase=e,c._currentTarget=o)}function Mc(c,e,o,...a){const d=typeof e=="string"?c.get(e):ub(c,e);return!!d&&(d.fire(o,...a),o.stop.called)}function ub(c,e){for(const[o,a]of c)if(typeof o=="function"&&o(e))return a;return null}function ja(c){return c[ru]||(c[ru]=new Map),c[ru]}class Tc extends Vh(tt()){constructor(e){super(),this._postFixers=new Set,this.selection=new vi,this.roots=new Fs({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let o=!1;do for(const a of this._postFixers)if(o=a(e),o)break;while(o)}}class Tl extends _s{constructor(e,o,a,d){super(e,o,a,d),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=zv}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const o=super._clone(e);return o._priority=this._priority,o._id=this._id,o}}function zv(){if(zp(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(zp(c)>1)return null;c=c.parent}return!c||zp(c)>1?null:this.childCount}function zp(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}Tl.DEFAULT_PRIORITY=10,Tl.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class nu extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=Fv}_insertChild(e,o){if(o&&(o instanceof Sl||Array.from(o).length>0))throw new B("view-emptyelement-cannot-add",[this,o]);return 0}}function Fv(){return null}nu.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class su extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=Uv}_insertChild(e,o){if(o&&(o instanceof Sl||Array.from(o).length>0))throw new B("view-uielement-cannot-add",[this,o]);return 0}render(e,o){return this.toDomElement(e)}toDomElement(e){const o=e.createElement(this.name);for(const a of this.getAttributeKeys())o.setAttribute(a,this.getAttribute(a));return o}}function Vv(c){c.document.on("arrowKey",(e,o)=>function(a,d,p){if(d.keyCode==rr.arrowright){const y=d.domTarget.ownerDocument.defaultView.getSelection(),w=y.rangeCount==1&&y.getRangeAt(0).collapsed;if(w||d.shiftKey){const A=y.focusNode,N=y.focusOffset,D=p.domPositionToView(A,N);if(D===null)return;let P=!1;const F=D.getLastMatchingPosition(K=>(K.item.is("uiElement")&&(P=!0),!(!K.item.is("uiElement")&&!K.item.is("attributeElement"))));if(P){const K=p.viewPositionToDom(F);w?y.collapse(K.parent,K.offset):y.extend(K.parent,K.offset)}}}}(0,o,c.domConverter),{priority:"low"})}function Uv(){return null}su.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class hb extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=Gv}_insertChild(e,o){if(o&&(o instanceof Sl||Array.from(o).length>0))throw new B("view-rawelement-cannot-add",[this,o]);return 0}render(e,o){}}function Gv(){return null}hb.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Qr extends oe(Aa){constructor(e,o){super(),this._children=[],this._customProperties=new Map,this.document=e,o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,o){this._fireChange("children",this);let a=0;const d=function(p,y){return typeof y=="string"?[new Dr(p,y)]:(_r(y)||(y=[y]),Array.from(y).map(w=>typeof w=="string"?new Dr(p,w):w instanceof xi?new Dr(p,w.data):w))}(this.document,o);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,this._children.splice(e,0,p),e++,a++;return a}_removeChildren(e,o=1){this._fireChange("children",this);for(let a=e;a<e+o;a++)this._children[a].parent=null;return this._children.splice(e,o)}_fireChange(e,o){this.fire("change:"+e,o)}_setCustomProperty(e,o){this._customProperties.set(e,o)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Qr.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class Qn{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,o){this.document.selection._setFocus(e,o)}createDocumentFragment(e){return new Qr(this.document,e)}createText(e){return new Dr(this.document,e)}createAttributeElement(e,o,a={}){const d=new Tl(this.document,e,o);return typeof a.priority=="number"&&(d._priority=a.priority),a.id&&(d._id=a.id),a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createContainerElement(e,o,a={},d={}){let p=null;yr(a)?d=a:p=a;const y=new Ml(this.document,e,o,p);return d.renderUnsafeAttributes&&y._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),y}createEditableElement(e,o,a={}){const d=new zh(this.document,e,o);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createEmptyElement(e,o,a={}){const d=new nu(this.document,e,o);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createUIElement(e,o,a){const d=new su(this.document,e,o);return a&&(d.render=a),d}createRawElement(e,o,a,d={}){const p=new hb(this.document,e,o);return a&&(p.render=a),d.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),p}setAttribute(e,o,a){a._setAttribute(e,o)}removeAttribute(e,o){o._removeAttribute(e)}addClass(e,o){o._addClass(e)}removeClass(e,o){o._removeClass(e)}setStyle(e,o,a){yr(e)&&a===void 0?o._setStyle(e):a._setStyle(e,o)}removeStyle(e,o){o._removeStyle(e)}setCustomProperty(e,o,a){a._setCustomProperty(e,o)}removeCustomProperty(e,o){return o._removeCustomProperty(e)}breakAttributes(e){return e instanceof Xe?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const o=e.parent;if(!o.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!o.parent)throw new B("view-writer-break-root",this.document);if(e.isAtStart)return Xe._createBefore(o);if(!e.isAtEnd){const a=o._clone(!1);this.insert(Xe._createAfter(o),a);const d=new pt(e,Xe._createAt(o,"end")),p=new Xe(a,0);this.move(d,p)}return Xe._createAfter(o)}mergeAttributes(e){const o=e.offset,a=e.parent;if(a.is("$text"))return e;if(a.is("attributeElement")&&a.childCount===0){const y=a.parent,w=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Xe(y,w))}const d=a.getChild(o-1),p=a.getChild(o);if(!d||!p)return e;if(d.is("$text")&&p.is("$text"))return pb(d,p);if(d.is("attributeElement")&&p.is("attributeElement")&&d.isSimilar(p)){const y=d.childCount;return d._appendChild(p.getChildren()),p._remove(),this._removeFromClonedElementsGroup(p),this.mergeAttributes(new Xe(d,y))}return e}mergeContainers(e){const o=e.nodeBefore,a=e.nodeAfter;if(!(o&&a&&o.is("containerElement")&&a.is("containerElement")))throw new B("view-writer-merge-containers-invalid-position",this.document);const d=o.getChild(o.childCount-1),p=d instanceof Dr?Xe._createAt(d,"end"):Xe._createAt(o,"end");return this.move(pt._createIn(a),Xe._createAt(o,"end")),this.remove(pt._createOn(a)),p}insert(e,o){Gp(o=_r(o)?[...o]:[o],this.document);const a=o.reduce((y,w)=>{const A=y[y.length-1],N=!w.is("uiElement");return A&&A.breakAttributes==N?A.nodes.push(w):y.push({breakAttributes:N,nodes:[w]}),y},[]);let d=null,p=e;for(const{nodes:y,breakAttributes:w}of a){const A=this._insertNodes(p,y,w);d||(d=A.start),p=A.end}return d?new pt(d,p):new pt(e)}remove(e){const o=e instanceof pt?e:pt._createOn(e);if(ou(o,this.document),o.isCollapsed)return new Qr(this.document);const{start:a,end:d}=this._breakAttributesRange(o,!0),p=a.parent,y=d.offset-a.offset,w=p._removeChildren(a.offset,y);for(const N of w)this._removeFromClonedElementsGroup(N);const A=this.mergeAttributes(a);return o.start=A,o.end=A.clone(),new Qr(this.document,w)}clear(e,o){ou(e,this.document);const a=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const p=d.item;let y;if(p.is("element")&&o.isSimilar(p))y=pt._createOn(p);else if(!d.nextPosition.isAfter(e.start)&&p.is("$textProxy")){const w=p.getAncestors().find(A=>A.is("element")&&o.isSimilar(A));w&&(y=pt._createIn(w))}y&&(y.end.isAfter(e.end)&&(y.end=e.end),y.start.isBefore(e.start)&&(y.start=e.start),this.remove(y))}}move(e,o){let a;if(o.isAfter(e.end)){const d=(o=this._breakAttributes(o,!0)).parent,p=d.childCount;e=this._breakAttributesRange(e,!0),a=this.remove(e),o.offset+=d.childCount-p}else a=this.remove(e);return this.insert(o,a)}wrap(e,o){if(!(o instanceof Tl))throw new B("view-writer-wrap-invalid-attribute",this.document);if(ou(e,this.document),e.isCollapsed){let d=e.start;d.parent.is("element")&&(a=d.parent,!Array.from(a.getChildren()).some(y=>!y.is("uiElement")))&&(d=d.getLastMatchingPosition(y=>y.item.is("uiElement"))),d=this._wrapPosition(d,o);const p=this.document.selection;return p.isCollapsed&&p.getFirstPosition().isEqual(e.start)&&this.setSelection(d),new pt(d)}return this._wrapRange(e,o);var a}unwrap(e,o){if(!(o instanceof Tl))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(ou(e,this.document),e.isCollapsed)return e;const{start:a,end:d}=this._breakAttributesRange(e,!0),p=a.parent,y=this._unwrapChildren(p,a.offset,d.offset,o),w=this.mergeAttributes(y.start);w.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new pt(w,A)}rename(e,o){const a=new Ml(this.document,e,o.getAttributes());return this.insert(Xe._createAfter(o),a),this.move(pt._createIn(o),Xe._createAt(a,0)),this.remove(pt._createOn(o)),a}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,o){return Xe._createAt(e,o)}createPositionAfter(e){return Xe._createAfter(e)}createPositionBefore(e){return Xe._createBefore(e)}createRange(e,o){return new pt(e,o)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ds(...e)}createSlot(e="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,o,a){let d,p;if(d=a?Fp(e):e.parent.is("$text")?e.parent.parent:e.parent,!d)throw new B("view-writer-invalid-position-container",this.document);p=a?this._breakAttributes(e,!0):e.parent.is("$text")?Vp(e):e;const y=d._insertChild(p.offset,o);for(const D of o)this._addToClonedElementsGroup(D);const w=p.getShiftedBy(y),A=this.mergeAttributes(p);A.isEqual(p)||w.offset--;const N=this.mergeAttributes(w);return new pt(A,N)}_wrapChildren(e,o,a,d){let p=o;const y=[];for(;p<a;){const A=e.getChild(p),N=A.is("$text"),D=A.is("attributeElement");if(D&&this._wrapAttributeElement(d,A))y.push(new Xe(e,p));else if(N||!D||Hv(d,A)){const P=d._clone();A._remove(),P._appendChild(A),e._insertChild(p,P),this._addToClonedElementsGroup(P),y.push(new Xe(e,p))}else this._wrapChildren(A,0,A.childCount,d);p++}let w=0;for(const A of y)A.offset-=w,A.offset!=o&&(this.mergeAttributes(A).isEqual(A)||(w++,a--));return pt._createFromParentsAndOffsets(e,o,e,a)}_unwrapChildren(e,o,a,d){let p=o;const y=[];for(;p<a;){const A=e.getChild(p);if(A.is("attributeElement"))if(A.isSimilar(d)){const N=A.getChildren(),D=A.childCount;A._remove(),e._insertChild(p,N),this._removeFromClonedElementsGroup(A),y.push(new Xe(e,p),new Xe(e,p+D)),p+=D,a+=D-1}else this._unwrapAttributeElement(d,A)?(y.push(new Xe(e,p),new Xe(e,p+1)),p++):(this._unwrapChildren(A,0,A.childCount,d),p++);else p++}let w=0;for(const A of y)A.offset-=w,!(A.offset==o||A.offset==a)&&(this.mergeAttributes(A).isEqual(A)||(w++,a--));return pt._createFromParentsAndOffsets(e,o,e,a)}_wrapRange(e,o){const{start:a,end:d}=this._breakAttributesRange(e,!0),p=a.parent,y=this._wrapChildren(p,a.offset,d.offset,o),w=this.mergeAttributes(y.start);w.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new pt(w,A)}_wrapPosition(e,o){if(o.isSimilar(e.parent))return mb(e.clone());e.parent.is("$text")&&(e=Vp(e));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,e.parent._insertChild(e.offset,a);const d=new pt(e,e.getShiftedBy(1));this.wrap(d,o);const p=new Xe(a.parent,a.index);a._remove();const y=p.nodeBefore,w=p.nodeAfter;return y instanceof Dr&&w instanceof Dr?pb(y,w):mb(p)}_wrapAttributeElement(e,o){if(!fb(e,o)||e.name!==o.name||e.priority!==o.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&o.hasAttribute(a)&&o.getAttribute(a)!==e.getAttribute(a))return!1;for(const a of e.getStyleNames())if(o.hasStyle(a)&&o.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&(o.hasAttribute(a)||this.setAttribute(a,e.getAttribute(a),o));for(const a of e.getStyleNames())o.hasStyle(a)||this.setStyle(a,e.getStyle(a),o);for(const a of e.getClassNames())o.hasClass(a)||this.addClass(a,o);return!0}_unwrapAttributeElement(e,o){if(!fb(e,o)||e.name!==o.name||e.priority!==o.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!o.hasAttribute(a)||o.getAttribute(a)!==e.getAttribute(a)))return!1;if(!o.hasClass(...e.getClassNames()))return!1;for(const a of e.getStyleNames())if(!o.hasStyle(a)||o.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,o);return this.removeClass(Array.from(e.getClassNames()),o),this.removeStyle(Array.from(e.getStyleNames()),o),!0}_breakAttributesRange(e,o=!1){const a=e.start,d=e.end;if(ou(e,this.document),e.isCollapsed){const A=this._breakAttributes(e.start,o);return new pt(A,A)}const p=this._breakAttributes(d,o),y=p.parent.childCount,w=this._breakAttributes(a,o);return p.offset+=p.parent.childCount-y,new pt(w,p)}_breakAttributes(e,o=!1){const a=e.offset,d=e.parent;if(e.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!o&&d.is("$text")&&Hp(d.parent)||Hp(d))return e.clone();if(d.is("$text"))return this._breakAttributes(Vp(e),o);if(a==d.childCount){const p=new Xe(d.parent,d.index+1);return this._breakAttributes(p,o)}if(a===0){const p=new Xe(d.parent,d.index);return this._breakAttributes(p,o)}{const p=d.index+1,y=d._clone();d.parent._insertChild(p,y),this._addToClonedElementsGroup(y);const w=d.childCount-a,A=d._removeChildren(a,w);y._appendChild(A);const N=new Xe(d.parent,p);return this._breakAttributes(N,o)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const d of e.getChildren())this._addToClonedElementsGroup(d);const o=e.id;if(!o)return;let a=this._cloneGroups.get(o);a||(a=new Set,this._cloneGroups.set(o,a)),a.add(e),e._clonesGroup=a}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const d of e.getChildren())this._removeFromClonedElementsGroup(d);const o=e.id;if(!o)return;const a=this._cloneGroups.get(o);a&&a.delete(e)}}function Fp(c){let e=c.parent;for(;!Hp(e);){if(!e)return;e=e.parent}return e}function Hv(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function mb(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new Xe(e,e.data.length);const o=c.nodeAfter;return o&&o.is("$text")?new Xe(o,0):c}function Vp(c){if(c.offset==c.parent.data.length)return new Xe(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Xe(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new Dr(c.root.document,e)),new Xe(c.parent.parent,c.parent.index+1)}function pb(c,e){const o=c.data.length;return c._data+=e.data,e._remove(),new Xe(c,o)}const Up=[Dr,Tl,Ml,nu,hb,su];function Gp(c,e){for(const o of c){if(!Up.some(a=>o instanceof a))throw new B("view-writer-insert-invalid-node-type",e);o.is("$text")||Gp(o.getChildren(),e)}}function Hp(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function ou(c,e){const o=Fp(c.start),a=Fp(c.end);if(!o||!a||o!==a)throw new B("view-writer-invalid-range-container",e)}function fb(c,e){return c.id===null&&e.id===null}const qp=c=>c.createTextNode(""),Yp=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Wp=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},Go=7,Ic="".repeat(Go);function As(c){return typeof c=="string"?c.substr(0,Go)===Ic:kr(c)&&c.data.substr(0,Go)===Ic}function Rc(c){return c.data.length==Go&&As(c)}function gb(c){const e=typeof c=="string"?c:c.data;return As(c)?e.slice(Go):e}function bb(c,e){if(e.keyCode==rr.arrowleft){const o=e.domTarget.ownerDocument.defaultView.getSelection();if(o.rangeCount==1&&o.getRangeAt(0).collapsed){const a=o.getRangeAt(0).startContainer,d=o.getRangeAt(0).startOffset;As(a)&&d<=Go&&o.collapse(a,0)}}}var yb=l(9315),Na={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(yb.Z,Na),yb.Z.locals;class xb extends tt(){constructor(e,o){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),C.isBlink&&!C.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,o){if(e==="text")this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if(e==="attributes")this.markedAttributes.add(o);else{if(e!=="children")throw new B("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){if(this.isComposing&&!C.isAndroid)return;let e=null;const o=!(C.isBlink&&!C.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Xe._createBefore(e.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:e});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:e});if(o)if(e){const a=this.domConverter.viewPositionToDom(e),d=a.parent.ownerDocument;As(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=qv(d,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const o=Array.from(this.domConverter.mapViewToDom(e).childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),d=this._diffNodeLists(o,a),p=this._findUpdateActions(d,o,a,Yv);if(p.indexOf("update")!==-1){const y={equal:0,insert:0,delete:0};for(const w of p)if(w==="update"){const A=y.equal+y.insert,N=y.equal+y.delete,D=e.getChild(A);!D||D.is("uiElement")||D.is("rawElement")||this._updateElementMappings(D,o[N]),wc(a[A]),y.equal++}else y[w]++}}_updateElementMappings(e,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Xe._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(e);return!!(o&&kr(o.parent)&&As(o.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!As(e))throw new B("view-renderer-filler-was-lost",this);Rc(e)?e.remove():e.data=e.data.substr(Go),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),o=e.parent,a=e.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!function(y){if(y.getAttribute("contenteditable")=="false")return!1;const w=y.findAncestor(A=>A.hasAttribute("contenteditable"));return!w||w.getAttribute("contenteditable")=="true"}(o)||a===o.getFillerOffset())return!1;const d=e.nodeBefore,p=e.nodeAfter;return!(d instanceof Dr||p instanceof Dr)&&(!C.isAndroid||!d&&!p)}_updateText(e,o){const a=this.domConverter.findCorrespondingDomText(e);let d=this.domConverter.viewToDom(e).data;const p=o.inlineFillerPosition;p&&p.parent==e.parent&&p.offset==e.index&&(d=Ic+d),Uh(a,d)}_updateAttrs(e){const o=this.domConverter.mapViewToDom(e);if(!o)return;const a=Array.from(o.attributes).map(p=>p.name),d=e.getAttributeKeys();for(const p of d)this.domConverter.setDomElementAttribute(o,p,e.getAttribute(p),e);for(const p of a)e.hasAttribute(p)||this.domConverter.removeDomElementAttribute(o,p)}_updateChildren(e,o){const a=this.domConverter.mapViewToDom(e);if(!a)return;if(C.isAndroid){let P=null;for(const F of Array.from(a.childNodes)){if(P&&kr(P)&&kr(F)){a.normalize();break}P=F}}const d=o.inlineFillerPosition,p=a.childNodes,y=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));d&&d.parent===e&&qv(a.ownerDocument,y,d.offset);const w=this._diffNodeLists(p,y),A=this._findUpdateActions(w,p,y,Sa);let N=0;const D=new Set;for(const P of A)P==="delete"?(D.add(p[N]),wc(p[N])):P!=="equal"&&P!=="update"||N++;N=0;for(const P of A)P==="insert"?(bp(a,N,y[N]),N++):P==="update"?(Uh(p[N],y[N].data),N++):P==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(y[N])),N++);for(const P of D)P.parentNode||this.domConverter.unbindDomElement(P)}_diffNodeLists(e,o){return e=function(a,d){const p=Array.from(a);return p.length==0||!d||p[p.length-1]==d&&p.pop(),p}(e,this._fakeSelectionContainer),I(e,o,Wv.bind(null,this.domConverter))}_findUpdateActions(e,o,a,d){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let p=[],y=[],w=[];const A={equal:0,insert:0,delete:0};for(const N of e)N==="insert"?w.push(a[A.equal+A.insert]):N==="delete"?y.push(o[A.equal+A.delete]):(p=p.concat(I(y,w,d).map(D=>D==="equal"?"update":D)),p.push("equal"),y=[],w=[]),A[N]++;return p.concat(I(y,w,d).map(N=>N==="equal"?"update":N))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const o of e.getChildren())this._markDescendantTextToSync(o)}}_updateSelection(){if(C.isBlink&&!C.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&C.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const o=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(y){const w=y.createElement("div");return w.className="ck-fake-selection-container",Object.assign(w.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),w.textContent="",w}(o));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(e))return;a.parentElement&&a.parentElement==e||e.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"";const d=o.getSelection(),p=o.createRange();d.removeAllRanges(),p.selectNodeContents(a),d.addRange(p)}_updateDomSelection(e){const o=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);o.setBaseAndExtent(a.parent,a.offset,d.parent,d.offset),C.isGecko&&function(p,y){const w=p.parent;if(w.nodeType!=Node.ELEMENT_NODE||p.offset!=w.childNodes.length-1)return;const A=w.childNodes[p.offset];A&&A.tagName=="BR"&&y.addRange(y.getRangeAt(0))}(d,o)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const o=e&&this.domConverter.domSelectionToView(e);return(!o||!this.selection.isEqual(o))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(e){const o=this._fakeSelectionContainer,a=e.ownerDocument.getSelection();return!o||o.parentElement!==e||a.anchorNode!==o&&!o.contains(a.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const o=e.getSelection();if(o.rangeCount){const a=e.activeElement,d=this.domConverter.mapDomToView(a);a&&d&&o.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function qv(c,e,o){const a=e instanceof Array?e:e.childNodes,d=a[o];if(kr(d))return d.data=Ic+d.data,d;{const p=c.createTextNode(Ic);return Array.isArray(e)?a.splice(o,0,p):bp(e,o,p),p}}function Yv(c,e){return wa(c)&&wa(e)&&!kr(c)&&!kr(e)&&!wo(c)&&!wo(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function Sa(c,e){return wa(c)&&wa(e)&&kr(c)&&kr(e)}function Wv(c,e,o){return e===o||(kr(e)&&kr(o)?e.data===o.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(o)))}function Uh(c,e){const o=c.data;if(o==e)return;const a=S(o,e);for(const d of a)d.type==="insert"?c.insertData(d.index,d.values.join("")):c.deleteData(d.index,d.howMany)}const Gh=Wp(It.document),Zr=qp(It.document),Z1=Yp(It.document),Kp="data-ck-unsafe-attribute-",vb="data-ck-unsafe-element";class Il{constructor(e,{blockFillerMode:o,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Uo,this._inlineObjectElementMatcher=new Uo,this.document=e,this.renderingMode=a,this.blockFillerMode=o||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?It.document:It.document.implementation.createHTMLDocument("")}bindFakeSelection(e,o){this._fakeSelectionMapping.set(e,new ds(o))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,o){this._domToViewMapping.set(e,o),this._viewToDomMapping.set(o,e)}unbindDomElement(e){const o=this._domToViewMapping.get(e);if(o){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(o);for(const a of Array.from(e.children))this.unbindDomElement(a)}}bindDocumentFragments(e,o){this._domToViewMapping.set(e,o),this._viewToDomMapping.set(o,e)}shouldRenderAttribute(e,o,a){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!o.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(e==="src"||e==="srcset")||a==="source"&&e==="srcset"||!o.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,o){if(this.renderingMode==="data")return void(e.innerHTML=o);const a=new DOMParser().parseFromString(o,"text/html"),d=a.createDocumentFragment(),p=a.body.childNodes;for(;p.length>0;)d.appendChild(p[0]);const y=a.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),w=[];let A;for(;A=y.nextNode();)w.push(A);for(const N of w){for(const P of N.getAttributeNames())this.setDomElementAttribute(N,P,N.getAttribute(P));const D=N.tagName.toLowerCase();this._shouldRenameElement(D)&&(iu(D),N.replaceWith(this._createReplacementDomElement(D,N)))}for(;e.firstChild;)e.firstChild.remove();e.append(d)}viewToDom(e,o={}){if(e.is("$text")){const a=this._processDataFromViewText(e);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let a;if(e.is("documentFragment"))a=this._domDocument.createDocumentFragment(),o.bind&&this.bindDocumentFragments(a,e);else{if(e.is("uiElement"))return a=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),o.bind&&this.bindElements(a,e),a;this._shouldRenameElement(e.name)?(iu(e.name),a=this._createReplacementDomElement(e.name)):a=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(a,this),o.bind&&this.bindElements(a,e);for(const d of e.getAttributeKeys())this.setDomElementAttribute(a,d,e.getAttribute(d),e)}if(o.withChildren!==!1)for(const d of this.viewChildrenToDom(e,o))a.appendChild(d);return a}}setDomElementAttribute(e,o,a,d){const p=this.shouldRenderAttribute(o,a,e.tagName.toLowerCase())||d&&d.shouldRenderUnsafeAttribute(o);p||Y("domconverter-unsafe-attribute-detected",{domElement:e,key:o,value:a}),function(y){try{It.document.createAttribute(y)}catch{return!1}return!0}(o)?(e.hasAttribute(o)&&!p?e.removeAttribute(o):e.hasAttribute(Kp+o)&&p&&e.removeAttribute(Kp+o),e.setAttribute(p?o:Kp+o,a)):Y("domconverter-invalid-attribute-detected",{domElement:e,key:o,value:a})}removeDomElementAttribute(e,o){o!=vb&&(e.removeAttribute(o),e.removeAttribute(Kp+o))}*viewChildrenToDom(e,o={}){const a=e.getFillerOffset&&e.getFillerOffset();let d=0;for(const p of e.getChildren()){a===d&&(yield this._getBlockFiller());const y=p.is("element")&&!!p.getCustomProperty("dataPipeline:transparentRendering")&&!gn(p.getAttributes());y&&this.renderingMode=="data"?yield*this.viewChildrenToDom(p,o):(y&&Y("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,o)),d++}a===d&&(yield this._getBlockFiller())}viewRangeToDom(e){const o=this.viewPositionToDom(e.start),a=this.viewPositionToDom(e.end),d=this._domDocument.createRange();return d.setStart(o.parent,o.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(e){const o=e.parent;if(o.is("$text")){const a=this.findCorrespondingDomText(o);if(!a)return null;let d=e.offset;return As(a)&&(d+=Go),{parent:a,offset:d}}{let a,d,p;if(e.offset===0){if(a=this.mapViewToDom(o),!a)return null;p=a.childNodes[0]}else{const y=e.nodeBefore;if(d=y.is("$text")?this.findCorrespondingDomText(y):this.mapViewToDom(y),!d)return null;a=d.parentNode,p=d.nextSibling}return kr(p)&&As(p)?{parent:p,offset:Go}:{parent:a,offset:d?ws(d)+1:0}}}domToView(e,o={}){const a=[],d=this._domToView(e,o,a),p=d.next().value;return p?(d.next(),this._processDomInlineNodes(null,a,o),p.is("$text")&&p.data.length==0?null:p):null}*domChildrenToView(e,o={},a=[]){for(let d=0;d<e.childNodes.length;d++){const p=e.childNodes[d],y=this._domToView(p,o,a),w=y.next().value;w!==null&&(this._isBlockViewElement(w)&&this._processDomInlineNodes(e,a,o),yield w,y.next())}this._processDomInlineNodes(e,a,o)}domSelectionToView(e){if(e.rangeCount===1){let d=e.getRangeAt(0).startContainer;kr(d)&&(d=d.parentNode);const p=this.fakeSelectionToView(d);if(p)return p}const o=this.isDomSelectionBackward(e),a=[];for(let d=0;d<e.rangeCount;d++){const p=e.getRangeAt(d),y=this.domRangeToView(p);y&&a.push(y)}return new ds(a,{backward:o})}domRangeToView(e){const o=this.domPositionToView(e.startContainer,e.startOffset),a=this.domPositionToView(e.endContainer,e.endOffset);return o&&a?new pt(o,a):null}domPositionToView(e,o=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,ws(e));const a=this.mapDomToView(e);if(a&&(a.is("uiElement")||a.is("rawElement")))return Xe._createBefore(a);if(kr(e)){if(Rc(e))return this.domPositionToView(e.parentNode,ws(e));const d=this.findCorrespondingViewText(e);let p=o;return d?(As(e)&&(p-=Go,p=p<0?0:p),new Xe(d,p)):null}if(o===0){const d=this.mapDomToView(e);if(d)return new Xe(d,0)}else{const d=e.childNodes[o-1];if(kr(d)&&Rc(d)||d&&this.isBlockFiller(d))return this.domPositionToView(d.parentNode,ws(d));const p=kr(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(p&&p.parent)return new Xe(p.parent,p.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Rc(e))return null;const o=this.getHostViewElement(e);if(o)return o;const a=e.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d){const p=d.nextSibling;return p instanceof Dr?p:null}}else{const d=this.mapDomToView(e.parentNode);if(d){const p=d.getChild(0);return p instanceof Dr?p:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const o=e.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const o=this.mapViewToDom(e);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:a,scrollY:d}=It.window,p=[];wb(o,y=>{const{scrollLeft:w,scrollTop:A}=y;p.push([w,A])}),o.focus(),wb(o,y=>{const[w,A]=p.shift();y.scrollLeft=w,y.scrollTop=A}),It.window.scrollTo(a,d)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const o=e.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(o);a&&a.rangeCount>0&&o.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Gh):!(e.tagName!=="BR"||!kb(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Z1)||function(o,a){return o.isEqualNode(Zr)&&kb(o,a)&&o.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const o=this._domDocument.createRange();try{o.setStart(e.anchorNode,e.anchorOffset),o.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const a=o.collapsed;return o.detach(),a}getHostViewElement(e){const o=function(a){const d=[];let p=a;for(;p&&p.nodeType!=Node.DOCUMENT_NODE;)d.unshift(p),p=p.parentNode;return d}(e);for(o.pop();o.length;){const a=o.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return qp(this._domDocument);case"markedNbsp":return Yp(this._domDocument);case"br":return Wp(this._domDocument)}}_isDomSelectionPositionCorrect(e,o){if(kr(e)&&As(e)&&o<Go||this.isElement(e)&&As(e.childNodes[o]))return!1;const a=this.mapDomToView(e);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(e,o,a){if(this.isBlockFiller(e))return null;const d=this.getHostViewElement(e);if(d)return d;if(wo(e)&&o.skipComments)return null;if(kr(e)){if(Rc(e))return null;{const p=e.data;if(p==="")return null;const y=new Dr(this.document,p);return a.push(y),y}}{let p=this.mapDomToView(e);if(p)return this._isInlineObjectElement(p)&&a.push(p),p;if(this.isDocumentFragment(e))p=new Qr(this.document),o.bind&&this.bindDocumentFragments(e,p);else{p=this._createViewElement(e,o),o.bind&&this.bindElements(e,p);const w=e.attributes;if(w)for(let A=w.length,N=0;N<A;N++)p._setAttribute(w[N].name,w[N].value);if(this._isViewElementWithRawContent(p,o))return p._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(p)||a.push(p),p;if(wo(e))return p._setCustomProperty("$rawContent",e.data),p}yield p;const y=[];if(o.withChildren!==!1)for(const w of this.domChildrenToView(e,o,y))p._appendChild(w);if(this._isInlineObjectElement(p))a.push(p);else for(const w of y)a.push(w)}}_processDomInlineNodes(e,o,a){if(!o.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let d=!1;for(let p=0;p<o.length;p++){const y=o[p];if(!y.is("$text")){d=!1;continue}let w,A=!1;if(Rl(y,this.preElements))w=gb(y.data);else{w=y.data.replace(/[ \n\t\r]{1,}/g," "),A=/[^\S\u00A0]/.test(w.charAt(w.length-1));const N=p>0?o[p-1]:null,D=p+1<o.length?o[p+1]:null,P=!N||N.is("element")&&N.name=="br"||d,F=!D&&!As(y.data);a.withChildren!==!1&&(P&&(w=w.replace(/^ /,"")),F&&(w=w.replace(/ $/,""))),w=gb(w),w=w.replace(/ \u00A0/g,"  ");const K=D&&D.is("element")&&D.name!="br",X=D&&D.is("$text")&&D.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(w)||!D||K||X)&&(w=w.replace(/\u00A0$/," ")),(P||N&&N.is("element")&&N.name!="br")&&(w=w.replace(/^\u00A0/," "))}w.length==0&&y.parent?(y._remove(),o.splice(p,1),p--):(y._data=w,d=A)}o.length=0}_processDataFromViewText(e){let o=e.data;if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return o;if(o.charAt(0)==" "){const a=this._getTouchingInlineViewNode(e,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(o=""+o.substr(1))}if(o.charAt(o.length-1)==" "){const a=this._getTouchingInlineViewNode(e,!0),d=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";o.charAt(o.length-2)!=" "&&a&&!d||(o=o.substr(0,o.length-1)+"")}return o.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const o=this._processDataFromViewText(e);return o.charAt(o.length-1)==" "}_getTouchingInlineViewNode(e,o){const a=new Kn({startPosition:o?Xe._createAfter(e):Xe._createBefore(e),direction:o?"forward":"backward"});for(const d of a){if(d.item.is("element","br"))return null;if(this._isInlineObjectElement(d.item))return d.item;if(d.item.is("containerElement"))return null;if(d.item.is("$textProxy"))return d.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,o){if(wo(e))return new su(this.document,"$comment");const a=o.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new _s(this.document,a)}_isViewElementWithRawContent(e,o){return o.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const o=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(o)}_createReplacementDomElement(e,o){const a=this._domDocument.createElement("span");if(a.setAttribute(vb,e),o){for(;o.firstChild;)a.appendChild(o.firstChild);for(const d of o.getAttributeNames())a.setAttribute(d,o.getAttribute(d))}return a}}function Rl(c,e){return c.getAncestors().some(o=>o.is("element")&&e.includes(o.name))}function wb(c,e){let o=c;for(;o;)e(o),o=o.parentElement}function kb(c,e){const o=c.parentNode;return!!o&&!!o.tagName&&e.includes(o.tagName.toLowerCase())}function iu(c){c==="script"&&Y("domconverter-unsafe-script-element-detected"),c==="style"&&Y("domconverter-unsafe-style-element-detected")}class Fn extends vl(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Cb=ab(function(c,e){as(e,Oo(e),c)});class Pl{constructor(e,o,a){this.view=e,this.document=e.document,this.domEvent=o,this.domTarget=o.target,Cb(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ea extends Fn{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(e,o,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,o,a){this.isEnabled&&this.document.fire(e,new Pl(this.view,o,a))}}class _b extends Ea{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const o={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Fr(this)}};this.fire(e.type,e,o)}}const Hh=function(){return Wt.Date.now()};var Qp=/\s/;const Kv=function(c){for(var e=c.length;e--&&Qp.test(c.charAt(e)););return e};var Da=/^\s+/;const bn=function(c){return c&&c.slice(0,Kv(c)+1).replace(Da,"")};var Ab=/^[-+]0x[0-9a-f]+$/i,Qv=/^0b[01]+$/i,Jn=/^0o[0-7]+$/i,eC=parseInt;const jb=function(c){if(typeof c=="number")return c;if(Oh(c))return NaN;if(Ye(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=Ye(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=bn(c);var o=Qv.test(c);return o||Jn.test(c)?eC(c.slice(2),o?2:8):Ab.test(c)?NaN:+c};var Jv=Math.max,Jr=Math.min;const $n=function(c,e,o){var a,d,p,y,w,A,N=0,D=!1,P=!1,F=!0;if(typeof c!="function")throw new TypeError("Expected a function");function K(ke){var Fe=a,it=d;return a=d=void 0,N=ke,y=c.apply(it,Fe)}function X(ke){var Fe=ke-A;return A===void 0||Fe>=e||Fe<0||P&&ke-N>=p}function se(){var ke=Hh();if(X(ke))return de(ke);w=setTimeout(se,function(Fe){var it=e-(Fe-A);return P?Jr(it,p-(Fe-N)):it}(ke))}function de(ke){return w=void 0,F&&a?K(ke):(a=d=void 0,y)}function pe(){var ke=Hh(),Fe=X(ke);if(a=arguments,d=this,A=ke,Fe){if(w===void 0)return function(it){return N=it,w=setTimeout(se,e),D?K(it):y}(A);if(P)return clearTimeout(w),w=setTimeout(se,e),K(A)}return w===void 0&&(w=setTimeout(se,e)),y}return e=jb(e)||0,Ye(o)&&(D=!!o.leading,p=(P="maxWait"in o)?Jv(jb(o.maxWait)||0,e):p,F="trailing"in o?!!o.trailing:F),pe.cancel=function(){w!==void 0&&clearTimeout(w),N=0,a=A=d=w=void 0},pe.flush=function(){return w===void 0?y:de(Hh())},pe};class Ma extends Fn{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=$n(o=>{this.document.fire("selectionChangeDone",o)},200)}observe(){const e=this.document;e.on("arrowKey",(o,a)=>{e.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),e.on("arrowKey",(o,a)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const o=this.document.selection,a=new ds(o.getRanges(),{backward:o.isBackward,fake:!1});e!=rr.arrowleft&&e!=rr.arrowup||a.setTo(a.getFirstPosition()),e!=rr.arrowright&&e!=rr.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:o,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}const $v=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},Xv=function(c){return this.__data__.has(c)};function Jp(c){var e=-1,o=c==null?0:c.length;for(this.__data__=new Ls;++e<o;)this.add(c[e])}Jp.prototype.add=Jp.prototype.push=$v,Jp.prototype.has=Xv;const Nb=Jp,_o=function(c,e){for(var o=-1,a=c==null?0:c.length;++o<a;)if(e(c[o],o,c))return!0;return!1},wi=function(c,e){return c.has(e)},Sb=function(c,e,o,a,d,p){var y=1&o,w=c.length,A=e.length;if(w!=A&&!(y&&A>w))return!1;var N=p.get(c),D=p.get(e);if(N&&D)return N==e&&D==c;var P=-1,F=!0,K=2&o?new Nb:void 0;for(p.set(c,e),p.set(e,c);++P<w;){var X=c[P],se=e[P];if(a)var de=y?a(se,X,P,e,c,p):a(X,se,P,c,e,p);if(de!==void 0){if(de)continue;F=!1;break}if(K){if(!_o(e,function(pe,ke){if(!wi(K,ke)&&(X===pe||d(X,pe,o,a,p)))return K.push(ke)})){F=!1;break}}else if(X!==se&&!d(X,se,o,a,p)){F=!1;break}}return p.delete(c),p.delete(e),F},Ao=function(c){var e=-1,o=Array(c.size);return c.forEach(function(a,d){o[++e]=[d,a]}),o},Zv=function(c){var e=-1,o=Array(c.size);return c.forEach(function(a){o[++e]=a}),o};var Ta=kt?kt.prototype:void 0,Ia=Ta?Ta.valueOf:void 0;const Ol=function(c,e,o,a,d,p,y){switch(o){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!p(new Od(c),new Od(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return St(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var w=Ao;case"[object Set]":var A=1&a;if(w||(w=Zv),c.size!=e.size&&!A)return!1;var N=y.get(c);if(N)return N==e;a|=2,y.set(c,e);var D=Sb(w(c),w(e),a,d,p,y);return y.delete(c),D;case"[object Symbol]":if(Ia)return Ia.call(c)==Ia.call(e)}return!1};var Eb=Object.prototype.hasOwnProperty;const Db=function(c,e,o,a,d,p){var y=1&o,w=Bo(c),A=w.length;if(A!=Bo(e).length&&!y)return!1;for(var N=A;N--;){var D=w[N];if(!(y?D in e:Eb.call(e,D)))return!1}var P=p.get(c),F=p.get(e);if(P&&F)return P==e&&F==c;var K=!0;p.set(c,e),p.set(e,c);for(var X=y;++N<A;){var se=c[D=w[N]],de=e[D];if(a)var pe=y?a(de,se,D,e,c,p):a(se,de,D,c,e,p);if(!(pe===void 0?se===de||d(se,de,o,a,p):pe)){K=!1;break}X||(X=D=="constructor")}if(K&&!X){var ke=c.constructor,Fe=e.constructor;ke==Fe||!("constructor"in c)||!("constructor"in e)||typeof ke=="function"&&ke instanceof ke&&typeof Fe=="function"&&Fe instanceof Fe||(K=!1)}return p.delete(c),p.delete(e),K};var ki="[object Arguments]",Mb="[object Array]",Ra="[object Object]",au=Object.prototype.hasOwnProperty;const qh=function(c,e,o,a,d,p){var y=Bt(c),w=Bt(e),A=y?Mb:bl(c),N=w?Mb:bl(e),D=(A=A==ki?Ra:A)==Ra,P=(N=N==ki?Ra:N)==Ra,F=A==N;if(F&&Ro(c)){if(!Ro(e))return!1;y=!0,D=!1}if(F&&!D)return p||(p=new ha),y||hl(c)?Sb(c,e,o,a,d,p):Ol(c,e,A,o,a,d,p);if(!(1&o)){var K=D&&au.call(c,"__wrapped__"),X=P&&au.call(e,"__wrapped__");if(K||X){var se=K?c.value():c,de=X?e.value():e;return p||(p=new ha),d(se,de,o,a,p)}}return!!F&&(p||(p=new ha),Db(c,e,o,a,d,p))},Pc=function c(e,o,a,d,p){return e===o||(e==null||o==null||!Tt(e)&&!Tt(o)?e!=e&&o!=o:qh(e,o,a,d,c,p))},e0=function(c,e,o){var a=(o=typeof o=="function"?o:void 0)?o(c,e):void 0;return a===void 0?Pc(c,e,void 0,o):!!a};class Tb extends Fn{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const o of this._domElements)this._mutationObserver.observe(o,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const o=this.domConverter,a=new Set,d=new Set;for(const y of e){const w=o.mapDomToView(y.target);w&&(w.is("uiElement")||w.is("rawElement")||y.type!=="childList"||this._isBogusBrMutation(y)||d.add(w))}for(const y of e){const w=o.mapDomToView(y.target);if((!w||!w.is("uiElement")&&!w.is("rawElement"))&&y.type==="characterData"){const A=o.findCorrespondingViewText(y.target);A&&!d.has(A.parent)?a.add(A):!A&&As(y.target)&&d.add(o.mapDomToView(y.target.parentNode))}}let p=!1;for(const y of a)p=!0,this.renderer.markToSync("text",y);for(const y of d){const w=o.mapViewToDom(y),A=Array.from(y.getChildren()),N=Array.from(o.domChildrenToView(w,{withChildren:!1}));e0(A,N,Yh)||(p=!0,this.renderer.markToSync("children",y))}p&&this.view.forceRender()}_isBogusBrMutation(e){let o=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(o=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}function Yh(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class Wh extends Ea{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),o.on("blur",(a,d)=>{const p=o.selection.editableElement;p!==null&&p!==d.target||(o.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class $p extends Fn{constructor(e){super(e),this.mutationObserver=e.getObserver(Tb),this.focusObserver=e.getObserver(Wh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=$n(o=>{this.document.fire("selectionChangeDone",o)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=$n(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const o=e.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,o),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(o)||(this.listenTo(o,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(o,"selectionchange",(d,p)=>{this.document.isComposing&&!C.isAndroid||(this._handleSelectionChange(p,o),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(o))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,o){if(!this.isEnabled)return;const a=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const p={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",p),this._fireSelectionChangeDoneDebounced(p)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class t0 extends Ea{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0},{priority:"low"}),o.on("compositionend",()=>{o.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class r0{constructor(e,o={}){this._files=o.cacheFiles?n0(e):null,this._native=e}get files(){return this._files||(this._files=n0(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,o){this._native.setData(e,o)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,o,a){this._native.setDragImage(e,o,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function n0(c){const e=Array.from(c.files||[]),o=Array.from(c.items||[]);return e.length?e:o.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class Mr extends Ea{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const o=e.getTargetRanges(),a=this.view,d=a.document;let p=null,y=null,w=[];if(e.dataTransfer&&(p=new r0(e.dataTransfer)),e.data!==null?y=e.data:p&&(y=p.getData("text/plain")),d.selection.isFake)w=Array.from(d.selection.getRanges());else if(o.length)w=o.map(A=>{const N=a.domConverter.domPositionToView(A.startContainer,A.startOffset),D=a.domConverter.domPositionToView(A.endContainer,A.endOffset);return N?a.createRange(N,D):D?a.createRange(D):void 0}).filter(A=>!!A);else if(C.isAndroid){const A=e.target.ownerDocument.defaultView.getSelection();w=Array.from(a.domConverter.domSelectionToView(A).getRanges())}if(C.isAndroid&&e.inputType=="insertCompositionText"&&y&&y.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[a.createRange(w[0].end)]});else if(e.inputType=="insertText"&&y&&y.includes(`
`)){const A=y.split(/\n{1,2}/g);let N=w;for(let D=0;D<A.length;D++){const P=A[D];P!=""&&(this.fire(e.type,e,{data:P,dataTransfer:p,targetRanges:N,inputType:e.inputType,isComposing:e.isComposing}),N=[d.selection.getFirstRange()]),D+1<A.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:N}),N=[d.selection.getFirstRange()])}}else this.fire(e.type,e,{data:y,dataTransfer:p,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing})}}class Hr extends Fn{constructor(e){super(e),this.document.on("keydown",(o,a)=>{if(this.isEnabled&&((d=a.keyCode)==rr.arrowright||d==rr.arrowleft||d==rr.arrowup||d==rr.arrowdown)){const p=new Kr(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(p,a),p.stop.called&&o.stop()}var d})}observe(){}stopObserving(){}}class Xt extends Fn{constructor(e){super(e);const o=this.document;o.on("keydown",(a,d)=>{if(!this.isEnabled||d.keyCode!=rr.tab||d.ctrlKey)return;const p=new Kr(o,"tab",o.selection.getFirstRange());o.fire(p,d),p.stop.called&&a.stop()})}observe(){}stopObserving(){}}const Vt=function(c){return xa(c,5)};class Tr extends tt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Tc(e),this.domConverter=new Il(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new xb(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Qn(this.document),this.addObserver(Tb),this.addObserver(Wh),this.addObserver($p),this.addObserver(_b),this.addObserver(Ma),this.addObserver(t0),this.addObserver(Hr),this.addObserver(Mr),this.addObserver(Xt),this.document.on("arrowKey",bb,{priority:"low"}),Vv(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),C.isiOS&&this.listenTo(this.document,"blur",(o,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,o="main"){const a=this.document.getRoot(o);a._name=e.tagName.toLowerCase();const d={};for(const{name:y,value:w}of Array.from(e.attributes))d[y]=w,y==="class"?this._writer.addClass(w.split(" "),a):this._writer.setAttribute(y,w,a);this._initialDomRootAttributes.set(e,d);const p=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};p(),this.domRoots.set(o,e),this.domConverter.bindElements(e,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(e.ownerDocument),a.on("change:children",(y,w)=>this._renderer.markToSync("children",w)),a.on("change:attributes",(y,w)=>this._renderer.markToSync("attributes",w)),a.on("change:text",(y,w)=>this._renderer.markToSync("text",w)),a.on("change:isReadOnly",()=>this.change(p)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const y of this._observers.values())y.observe(e,o)}detachDomRoot(e){const o=this.domRoots.get(e);Array.from(o.attributes).forEach(({name:d})=>o.removeAttribute(d));const a=this._initialDomRootAttributes.get(o);for(const d in a)o.setAttribute(d,a[d]);this.domRoots.delete(e),this.domConverter.unbindDomElement(o);for(const d of this._observers.values())d.stopObserving(o)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let o=this._observers.get(e);if(o)return o;o=new e(this),this._observers.set(e,o);for(const[a,d]of this.domRoots)o.observe(d,a);return o.enable(),o}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:o,viewportOffset:a=20,ancestorOffset:d=20}={}){const p=this.document.selection.getFirstRange();if(!p)return;const y=Vt({alignToTop:e,forceScroll:o,viewportOffset:a,ancestorOffset:d});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const w={target:this.domConverter.viewRangeToDom(p),viewportOffset:a,ancestorOffset:d,alignToTop:e,forceScroll:o};this.fire("scrollToTheSelection",w,y),function({target:A,viewportOffset:N=0,ancestorOffset:D=0,alignToTop:P,forceScroll:F}){const K=mi(A);let X=K,se=null;for(N=function(de){return typeof de=="number"?{top:de,bottom:de,left:de,right:de}:de}(N);X;){let de;de=ka(X==K?A:se),xp({parent:de,getRect:()=>_l(A,X),alignToTop:P,ancestorOffset:D,forceScroll:F});const pe=_l(A,X);if(Fd({window:X,rect:pe,viewportOffset:N,alignToTop:P,forceScroll:F}),X.parent!=X){if(se=X.frameElement,X=X.parent,!se)return}else X=null}}(w)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const o=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){B.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Wh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,o){return Xe._createAt(e,o)}createPositionAfter(e){return Xe._createAfter(e)}createPositionBefore(e){return Xe._createBefore(e)}createRange(e,o){return new pt(e,o)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ds(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class In{is(){throw new Error("is() method is abstract")}}class eo extends In{constructor(e){super(),this.parent=null,this._attrs=Cs(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let o=this;for(;o.parent;)e.unshift(o.startOffset),o=o.parent;return e}getAncestors(e={}){const o=[];let a=e.includeSelf?this:this.parent;for(;a;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(e,o={}){const a=this.getAncestors(o),d=e.getAncestors(o);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const o=this.getPath(),a=e.getPath(),d=Er(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((o,a)=>(o[a[0]]=a[1],o),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,o){this._attrs.set(e,o)}_setAttributesTo(e){this._attrs=Cs(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}eo.prototype.is=function(c){return c==="node"||c==="model:node"};class Wi{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,o)=>e+o.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const o=this._nodes.indexOf(e);return o==-1?null:o}getNodeStartOffset(e){const o=this.getNodeIndex(e);return o===null?null:this._nodes.slice(0,o).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const o=this._nodes[e];if(!o)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(e){let o=0;for(const a of this._nodes){if(e>=o&&e<o+a.offsetSize)return this.getNodeIndex(a);o+=a.offsetSize}if(o!=e)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,o){for(const a of o)if(!(a instanceof eo))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,d,p,y){if(Math.max(d.length,a.length)>1e4)return a.slice(0,p).concat(d).concat(a.slice(p+y,a.length));{const w=Array.from(a);return w.splice(p,y,...d),w}}(this._nodes,Array.from(o),e,0)}_removeNodes(e,o=1){return this._nodes.splice(e,o)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Nr extends eo{constructor(e,o){super(o),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Nr(this.data,this.getAttributes())}static fromJSON(e){return new Nr(e.data,e.attributes)}}Nr.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class Vn extends In{constructor(e,o,a){if(super(),this.textNode=e,o<0||o>e.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(a<0||o+a>e.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=e.data.substring(o,o+a),this.offsetInText=o}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const o=[];let a=e.includeSelf?this:this.parent;for(;a;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Vn.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class vt extends eo{constructor(e,o,a){super(o),this._children=new Wi,this.name=e,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let o=this;for(const a of e)o=o.getChild(o.offsetToIndex(a));return o}findAncestor(e,o={}){let a=o.includeSelf?this:this.parent;for(;a;){if(a.name===e)return a;a=a.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const o of this._children)e.children.push(o.toJSON())}return e}_clone(e=!1){const o=e?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new vt(this.name,this.getAttributes(),o)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,o){const a=function(d){return typeof d=="string"?[new Nr(d)]:(_r(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Nr(p):p instanceof Vn?new Nr(p.data,p.getAttributes()):p))}(o);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,o=1){const a=this._children._removeNodes(e,o);for(const d of a)d.parent=null;return a}static fromJSON(e){let o;if(e.children){o=[];for(const a of e.children)a.name?o.push(vt.fromJSON(a)):o.push(Nr.fromJSON(a))}return new vt(e.name,e.attributes,o)}}vt.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class us{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new B("model-tree-walker-no-start-position",null);const o=e.direction||"forward";if(o!="forward"&&o!="backward")throw new B("model-tree-walker-unknown-direction",e,{direction:o});this.direction=o,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Je._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let o,a,d,p;do d=this.position,p=this._visitedParent,{done:o,value:a}=this.next();while(!o&&e(a));o||(this._position=d,this._visitedParent=p)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,o=this.position.clone(),a=this._visitedParent;if(a.parent===null&&o.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const d=js(o,a),p=d||Oc(o,a,d);if(p instanceof vt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(o))return{done:!0,value:void 0};o.offset++}else o.path.push(0),this._visitedParent=p;return this._position=o,jo("elementStart",p,e,o,1)}if(p instanceof Nr){let y;if(this.singleCharacters)y=1;else{let N=p.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<N&&(N=this.boundaries.end.offset),y=N-o.offset}const w=o.offset-p.startOffset,A=new Vn(p,w,y);return o.offset+=y,this._position=o,jo("text",A,e,o,y)}return o.path.pop(),o.offset++,this._position=o,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():jo("elementEnd",a,e,o)}_previous(){const e=this.position,o=this.position.clone(),a=this._visitedParent;if(a.parent===null&&o.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const d=o.parent,p=js(o,d),y=p||lu(o,d,p);if(y instanceof vt)return o.offset--,this.shallow?(this._position=o,jo("elementStart",y,e,o,1)):(o.path.push(y.maxOffset),this._position=o,this._visitedParent=y,this.ignoreElementEnd?this._previous():jo("elementEnd",y,e,o));if(y instanceof Nr){let w;if(this.singleCharacters)w=1;else{let D=y.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),w=o.offset-D}const A=o.offset-y.startOffset,N=new Vn(y,A-w,w);return o.offset-=w,this._position=o,jo("text",N,e,o,w)}return o.path.pop(),this._position=o,this._visitedParent=a.parent,jo("elementStart",a,e,o,1)}}function jo(c,e,o,a,d){return{done:!1,value:{type:c,item:e,previousPosition:o,nextPosition:a,length:d}}}class Je extends In{constructor(e,o,a="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new B("model-position-root-invalid",e);if(!(o instanceof Array)||o.length===0)throw new B("model-position-path-incorrect-format",e,{path:o});e.is("rootElement")?o=o.slice():(o=[...e.getPath(),...o],e=e.root),this.root=e,this.path=o,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let o=0;o<this.path.length-1;o++)if(e=e.getChild(e.offsetToIndex(this.path[o])),!e)throw new B("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return js(this,this.parent)}get nodeAfter(){const e=this.parent;return Oc(this,e,js(this,e))}get nodeBefore(){const e=this.parent;return lu(this,e,js(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const o=Er(this.path,e.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<e.path[o]?"before":"after"}}getLastMatchingPosition(e,o={}){o.startPosition=this;const a=new us(o);return a.skip(e),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const o=this.parent;return o.is("element")?o.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const o=Er(this.path,e.path),a=typeof o=="string"?Math.min(this.path.length,e.path.length):o;return this.path.slice(0,a)}getCommonAncestor(e){const o=this.getAncestors(),a=e.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return d===0?null:o[d-1]}getShiftedBy(e){const o=this.clone(),a=o.offset+e;return o.offset=a<0?0:a,o}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const o=Math.min(this.path.length,e.path.length);for(let a=0;a<o;a++){const d=this.path[a]-e.path[a];if(d<-1||d>1)return!1;if(d===1)return Us(e,this,a);if(d===-1)return Us(this,e,a)}return this.path.length===e.path.length||(this.path.length>e.path.length?Kh(this.path,o):Kh(e.path,o))}hasSameParentAs(e){return this.root!==e.root?!1:Er(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let o;switch(e.type){case"insert":o=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(e);break;case"split":o=this._getTransformedBySplitOperation(e);break;case"merge":o=this._getTransformedByMergeOperation(e);break;default:o=Je._createAt(this)}return o}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const o=e.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const o=e.movedRange;let a;return o.containsPosition(this)||o.start.isEqual(this)?(a=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(a=a._getTransformedByDeletion(e.deletionPosition,1))):a=this.isEqual(e.deletionPosition)?Je._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),a}_getTransformedByDeletion(e,o){const a=Je._createAt(this);if(this.root!=e.root)return a;if(Er(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+o>this.offset)return null;a.offset-=o}}else if(Er(e.getParentPath(),this.getParentPath())=="prefix"){const d=e.path.length-1;if(e.offset<=this.path[d]){if(e.offset+o>this.path[d])return null;a.path[d]-=o}}return a}_getTransformedByInsertion(e,o){const a=Je._createAt(this);if(this.root!=e.root)return a;if(Er(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=o);else if(Er(e.getParentPath(),this.getParentPath())=="prefix"){const d=e.path.length-1;e.offset<=this.path[d]&&(a.path[d]+=o)}return a}_getTransformedByMove(e,o,a){if(o=o._getTransformedByDeletion(e,a),e.isEqual(o))return Je._createAt(this);const d=this._getTransformedByDeletion(e,a);return d===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,o):d._getTransformedByInsertion(o,a)}_getCombined(e,o){const a=e.path.length-1,d=Je._createAt(o);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-e.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,o,a="toNone"){if(e instanceof Je)return new Je(e.root,e.path,e.stickiness);{const d=e;if(o=="end")o=d.maxOffset;else{if(o=="before")return this._createBefore(d,a);if(o=="after")return this._createAfter(d,a);if(o!==0&&!o)throw new B("model-createpositionat-offset-required",[this,e])}if(!d.is("element")&&!d.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,e]);const p=d.getPath();return p.push(o),new this(d.root,p,a)}}static _createAfter(e,o){if(!e.parent)throw new B("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,o)}static _createBefore(e,o){if(!e.parent)throw new B("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,o)}static fromJSON(e,o){if(e.root==="$graveyard"){const a=new Je(o.graveyard,e.path);return a.stickiness=e.stickiness,a}if(!o.getRoot(e.root))throw new B("model-position-fromjson-no-root",o,{rootName:e.root});return new Je(o.getRoot(e.root),e.path,e.stickiness)}}function js(c,e){const o=e.getChild(e.offsetToIndex(c.offset));return o&&o.is("$text")&&o.startOffset<c.offset?o:null}function Oc(c,e,o){return o!==null?null:e.getChild(e.offsetToIndex(c.offset))}function lu(c,e,o){return o!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function Us(c,e,o){return o+1!==c.path.length&&!!Kh(e.path,o+1)&&!!function(a,d){let p=a.parent,y=a.path.length-1,w=0;for(;y>=d;){if(a.path[y]+w!==p.maxOffset)return!1;w=1,y--,p=p.parent}return!0}(c,o+1)}function Kh(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}Je.prototype.is=function(c){return c==="position"||c==="model:position"};class Ie extends In{constructor(e,o){super(),this.start=Je._createAt(e),this.end=o?Je._createAt(o):Je._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new us({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Er(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,o=!1){e.isCollapsed&&(o=!1);const a=this.containsPosition(e.start)||o&&this.start.isEqual(e.start),d=this.containsPosition(e.end)||o&&this.end.isEqual(e.end);return a&&d}containsItem(e){const o=Je._createBefore(e);return this.containsPosition(o)||this.start.isEqual(o)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const o=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&o.push(new Ie(this.start,e.start)),this.containsPosition(e.end)&&o.push(new Ie(e.end,this.end))):o.push(new Ie(this.start,this.end)),o}getIntersection(e){if(this.isIntersecting(e)){let o=this.start,a=this.end;return this.containsPosition(e.start)&&(o=e.start),this.containsPosition(e.end)&&(a=e.end),new Ie(o,a)}return null}getJoined(e,o=!1){let a=this.isIntersecting(e);if(a||(a=this.start.isBefore(e.start)?o?this.end.isTouching(e.start):this.end.isEqual(e.start):o?e.end.isTouching(this.start):e.end.isEqual(this.start)),!a)return null;let d=this.start,p=this.end;return e.start.isBefore(d)&&(d=e.start),e.end.isAfter(p)&&(p=e.end),new Ie(d,p)}getMinimalFlatRanges(){const e=[],o=this.start.getCommonPath(this.end).length,a=Je._createAt(this.start);let d=a.parent;for(;a.path.length>o+1;){const p=d.maxOffset-a.offset;p!==0&&e.push(new Ie(a,a.getShiftedBy(p))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const p=this.end.path[a.path.length-1],y=p-a.offset;y!==0&&e.push(new Ie(a,a.getShiftedBy(y))),a.offset=p,a.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new us(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const o=new us(e);for(const a of o)yield a.item}*getPositions(e={}){e.boundaries=this;const o=new us(e);yield o.position;for(const a of o)yield a.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Ie(this.start,this.end)]}getTransformedByOperations(e){const o=[new Ie(this.start,this.end)];for(const a of e)for(let d=0;d<o.length;d++){const p=o[d].getTransformedByOperation(a);o.splice(d,1,...p),d+=p.length-1}for(let a=0;a<o.length;a++){const d=o[a];for(let p=a+1;p<o.length;p++){const y=o[p];(d.containsRange(y)||y.containsRange(d)||d.isEqual(y))&&o.splice(p,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,o=this.end.nodeBefore;return e&&e.is("element")&&e===o?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,o=!1){return this._getTransformedByInsertion(e.position,e.howMany,o)}_getTransformedByMoveOperation(e,o=!1){const a=e.sourcePosition,d=e.howMany,p=e.targetPosition;return this._getTransformedByMove(a,p,d,o)}_getTransformedBySplitOperation(e){const o=this.start._getTransformedBySplitOperation(e);let a=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(a=this.end.getShiftedBy(1)),o.root!=a.root&&(a=this.end.getShiftedBy(-1)),new Ie(o,a)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Ie(this.start);let o=this.start._getTransformedByMergeOperation(e),a=this.end._getTransformedByMergeOperation(e);return o.root!=a.root&&(a=this.end.getShiftedBy(-1)),o.isAfter(a)?(e.sourcePosition.isBefore(e.targetPosition)?(o=Je._createAt(a),o.offset=0):(e.deletionPosition.isEqual(o)||(a=e.deletionPosition),o=e.targetPosition),new Ie(o,a)):new Ie(o,a)}_getTransformedByInsertion(e,o,a=!1){if(a&&this.containsPosition(e))return[new Ie(this.start,e),new Ie(e.getShiftedBy(o),this.end._getTransformedByInsertion(e,o))];{const d=new Ie(this.start,this.end);return d.start=d.start._getTransformedByInsertion(e,o),d.end=d.end._getTransformedByInsertion(e,o),[d]}}_getTransformedByMove(e,o,a,d=!1){if(this.isCollapsed){const P=this.start._getTransformedByMove(e,o,a);return[new Ie(P)]}const p=Ie._createFromPositionAndShift(e,a),y=o._getTransformedByDeletion(e,a);if(this.containsPosition(o)&&!d&&(p.containsPosition(this.start)||p.containsPosition(this.end))){const P=this.start._getTransformedByMove(e,o,a),F=this.end._getTransformedByMove(e,o,a);return[new Ie(P,F)]}let w;const A=this.getDifference(p);let N=null;const D=this.getIntersection(p);if(A.length==1?N=new Ie(A[0].start._getTransformedByDeletion(e,a),A[0].end._getTransformedByDeletion(e,a)):A.length==2&&(N=new Ie(this.start,this.end._getTransformedByDeletion(e,a))),w=N?N._getTransformedByInsertion(y,a,D!==null||d):[],D){const P=new Ie(D.start._getCombined(p.start,y),D.end._getCombined(p.start,y));w.length==2?w.splice(1,0,P):w.push(P)}return w}_getTransformedByDeletion(e,o){let a=this.start._getTransformedByDeletion(e,o),d=this.end._getTransformedByDeletion(e,o);return a==null&&d==null?null:(a==null&&(a=e),d==null&&(d=e),new Ie(a,d))}static _createFromPositionAndShift(e,o){const a=e,d=e.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(e){return new this(Je._createAt(e,0),Je._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Je._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new B("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const o=e[0];e.sort((p,y)=>p.start.isAfter(y.start)?1:-1);const a=e.indexOf(o),d=new this(o.start,o.end);if(a>0)for(let p=a-1;e[p].end.isEqual(d.start);p++)d.start=Je._createAt(e[p].start);for(let p=a+1;p<e.length&&e[p].start.isEqual(d.end);p++)d.end=Je._createAt(e[p].end);return d}static fromJSON(e,o){return new this(Je.fromJSON(e.start,o),Je.fromJSON(e.end,o))}}Ie.prototype.is=function(c){return c==="range"||c==="model:range"};class Qh extends oe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,o)=>{if(o.viewPosition)return;const a=this._modelToViewMapping.get(o.modelPosition.parent);if(!a)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:o.modelPosition});o.viewPosition=this.findPositionIn(a,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,o)=>{if(o.modelPosition)return;const a=this.findMappedViewAncestor(o.viewPosition),d=this._viewToModelMapping.get(a),p=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,a);o.modelPosition=Je._createAt(d,p)},{priority:"low"})}bindElements(e,o){this._modelToViewMapping.set(e,o),this._viewToModelMapping.set(o,e)}unbindViewElement(e,o={}){const a=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const d of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(d);o.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(a)==e&&this._modelToViewMapping.delete(a))}unbindModelElement(e){const o=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(o)==e&&this._viewToModelMapping.delete(o)}bindElementToMarker(e,o){const a=this._markerNameToElements.get(o)||new Set;a.add(e);const d=this._elementToMarkerNames.get(e)||new Set;d.add(o),this._markerNameToElements.set(o,a),this._elementToMarkerNames.set(e,d)}unbindElementFromMarkerName(e,o){const a=this._markerNameToElements.get(o);a&&(a.delete(e),a.size==0&&this._markerNameToElements.delete(o));const d=this._elementToMarkerNames.get(e);d&&(d.delete(o),d.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,o]of this._deferredBindingRemovals)e.root==o&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Ie(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new pt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const o={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(e,o={}){const a={modelPosition:e,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(e){const o=this._markerNameToElements.get(e);if(!o)return null;const a=new Set;for(const d of o)if(d.is("attributeElement"))for(const p of d.getElementsWithSameId())a.add(p);else a.add(d);return a}registerViewToModelLength(e,o){this._viewToModelLengthCallbacks.set(e,o)}findMappedViewAncestor(e){let o=e.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(e,o,a){if(a!=e)return this._toModelOffset(e.parent,e.index,a)+this._toModelOffset(e,o,e);if(e.is("$text"))return o;let d=0;for(let p=0;p<o;p++)d+=this.getModelLength(e.getChild(p));return d}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let o=0;for(const a of e.getChildren())o+=this.getModelLength(a);return o}}findPositionIn(e,o){let a,d=0,p=0,y=0;if(e.is("$text"))return new Xe(e,o);for(;p<o;)a=e.getChild(y),d=this.getModelLength(a),p+=d,y++;return p==o?this._moveViewPositionToTextNode(new Xe(e,y)):this.findPositionIn(a,o-(p-d))}_moveViewPositionToTextNode(e){const o=e.nodeBefore,a=e.nodeAfter;return o instanceof Dr?new Xe(o,o.data.length):a instanceof Dr?new Xe(a,0):e}}class Xp{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,o){o=Ci(o),e instanceof Vn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(o,!0)}consume(e,o){return o=Ci(o),e instanceof Vn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,o)&&(this._consumable.get(e).set(o,!1),!0)}test(e,o){o=Ci(o),e instanceof Vn&&(e=this._getSymbolForTextProxy(e));const a=this._consumable.get(e);if(a===void 0)return null;const d=a.get(o);return d===void 0?null:d}revert(e,o){o=Ci(o),e instanceof Vn&&(e=this._getSymbolForTextProxy(e));const a=this.test(e,o);return a===!1?(this._consumable.get(e).set(o,!0),!0):a!==!0&&null}verifyAllConsumed(e){const o=[];for(const[a,d]of this._consumable)for(const[p,y]of d){const w=p.split(":")[0];y&&e==w&&o.push({event:p,item:a.name||a.description})}if(o.length)throw new B("conversion-model-consumable-not-consumed",null,{items:o})}_getSymbolForTextProxy(e){let o=null;const a=this._textProxyRegistry.get(e.startOffset);if(a){const d=a.get(e.endOffset);d&&(o=d.get(e.parent))}return o||(o=this._addSymbolForTextProxy(e)),o}_addSymbolForTextProxy(e){const o=e.startOffset,a=e.endOffset,d=e.parent,p=Symbol("$textProxy:"+e.data);let y,w;return y=this._textProxyRegistry.get(o),y||(y=new Map,this._textProxyRegistry.set(o,y)),w=y.get(a),w||(w=new Map,y.set(a,w)),w.set(d,p),p}}function Ci(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var hs=Object.defineProperty,Bl=Object.defineProperties,cu=Object.getOwnPropertyDescriptors,Bc=Object.getOwnPropertySymbols,Ib=Object.prototype.hasOwnProperty,Rb=Object.prototype.propertyIsEnumerable,Pb=(c,e,o)=>e in c?hs(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,Lc=(c,e)=>{for(var o in e||(e={}))Ib.call(e,o)&&Pb(c,o,e[o]);if(Bc)for(var o of Bc(e))Rb.call(e,o)&&Pb(c,o,e[o]);return c},Zp=(c,e)=>Bl(c,cu(e));class to extends oe(){constructor(e){super(),this._conversionApi=Lc({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,o,a){const d=this._createConversionApi(a,e.getRefreshedItems());for(const y of e.getMarkersToRemove())this._convertMarkerRemove(y.name,y.range,d);const p=this._reduceChanges(e.getChanges());for(const y of p)y.type==="insert"?this._convertInsert(Ie._createFromPositionAndShift(y.position,y.length),d):y.type==="reinsert"?this._convertReinsert(Ie._createFromPositionAndShift(y.position,y.length),d):y.type==="remove"?this._convertRemove(y.position,y.length,y.name,d):this._convertAttribute(y.range,y.attributeKey,y.attributeOldValue,y.attributeNewValue,d);for(const y of d.mapper.flushUnboundMarkerNames()){const w=o.get(y).getRange();this._convertMarkerRemove(y,w,d),this._convertMarkerAdd(y,w,d)}for(const y of e.getMarkersToAdd())this._convertMarkerAdd(y.name,y.range,d);d.mapper.flushDeferredBindings(),d.consumable.verifyAllConsumed("insert")}convert(e,o,a,d={}){const p=this._createConversionApi(a,void 0,d);this._convertInsert(e,p);for(const[y,w]of o)this._convertMarkerAdd(y,w,p);p.consumable.verifyAllConsumed("insert")}convertSelection(e,o,a){const d=this._createConversionApi(a);this.fire("cleanSelection",{selection:e},d);const p=e.getFirstPosition().root;if(!d.mapper.toViewElement(p))return;const y=Array.from(o.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(d.consumable,e,y),this.fire("selection",{selection:e},d),e.isCollapsed){for(const w of y)if(d.consumable.test(e,"addMarker:"+w.name)){const A=w.getRange();if(!s0(e.getFirstPosition(),w,d.mapper))continue;const N={item:e,markerName:w.name,markerRange:A};this.fire(`addMarker:${w.name}`,N,d)}for(const w of e.getAttributeKeys())if(d.consumable.test(e,"attribute:"+w)){const A={item:e,range:e.getFirstRange(),attributeKey:w,attributeOldValue:null,attributeNewValue:e.getAttribute(w)};this.fire(`attribute:${w}:$text`,A,d)}}}_convertInsert(e,o,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(o.consumable,Array.from(e));for(const d of Array.from(e.getWalker({shallow:!0})).map(ro))this._testAndFire("insert",d,o)}_convertRemove(e,o,a,d){this.fire(`remove:${a}`,{position:e,length:o},d)}_convertAttribute(e,o,a,d,p){this._addConsumablesForRange(p.consumable,e,`attribute:${o}`);for(const y of e){const w={item:y.item,range:Ie._createFromPositionAndShift(y.previousPosition,y.length),attributeKey:o,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${o}`,w,p)}}_convertReinsert(e,o){const a=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,a);for(const d of a.map(ro))this._testAndFire("insert",Zp(Lc({},d),{reconversion:!0}),o)}_convertMarkerAdd(e,o,a){if(o.root.rootName=="$graveyard")return;const d=`addMarker:${e}`;if(a.consumable.add(o,d),this.fire(d,{markerName:e,markerRange:o},a),a.consumable.consume(o,d)){this._addConsumablesForRange(a.consumable,o,d);for(const p of o.getItems()){if(!a.consumable.test(p,d))continue;const y={item:p,range:Ie._createOn(p),markerName:e,markerRange:o};this.fire(d,y,a)}}}_convertMarkerRemove(e,o,a){o.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:o},a)}_reduceChanges(e){const o={changes:e};return this.fire("reduceChanges",o),o.changes}_addConsumablesForInsert(e,o){for(const a of o){const d=a.item;if(e.test(d,"insert")===null){e.add(d,"insert");for(const p of d.getAttributeKeys())e.add(d,"attribute:"+p)}}return e}_addConsumablesForRange(e,o,a){for(const d of o.getItems())e.add(d,a);return e}_addConsumablesForSelection(e,o,a){e.add(o,"selection");for(const d of a)e.add(o,"addMarker:"+d.name);for(const d of o.getAttributeKeys())e.add(o,"attribute:"+d);return e}_testAndFire(e,o,a){const d=function(A,N){const D=N.item.is("element")?N.item.name:"$text";return`${A}:${D}`}(e,o),p=o.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(o.item):o.item,y=this._firedEventsMap.get(a),w=y.get(p);if(w){if(w.has(d))return;w.add(d)}else y.set(p,new Set([d]));this.fire(d,o,a)}_testAndFireAddAttributes(e,o){const a={item:e,range:Ie._createOn(e)};for(const d of a.item.getAttributeKeys())a.attributeKey=d,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(d),this._testAndFire(`attribute:${d}`,a,o)}_createConversionApi(e,o=new Set,a={}){const d=Zp(Lc({},this._conversionApi),{consumable:new Xp,writer:e,options:a,convertItem:p=>this._convertInsert(Ie._createOn(p),d),convertChildren:p=>this._convertInsert(Ie._createIn(p),d,{doNotAddConsumables:!0}),convertAttributes:p=>this._testAndFireAddAttributes(p,d),canReuseView:p=>!o.has(d.mapper.toModelElement(p))});return this._firedEventsMap.set(d,new Map),d}}function s0(c,e,o){const a=e.getRange(),d=Array.from(c.getAncestors());return d.shift(),d.reverse(),!d.some(p=>{if(a.containsItem(p))return!!o.toViewElement(p).getCustomProperty("addHighlight")})}function ro(c){return{item:c.item,range:Ie._createFromPositionAndShift(c.previousPosition,c.length)}}class no extends oe(In){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of e._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Ie(e.start,e.end)}getFirstRange(){let e=null;for(const o of this._ranges)e&&!o.start.isBefore(e.start)||(e=o);return e?new Ie(e.start,e.end):null}getLastRange(){let e=null;for(const o of this._ranges)e&&!o.end.isAfter(e.end)||(e=o);return e?new Ie(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[o,a,d]=e;if(typeof a=="object"&&(d=a,a=void 0),o===null)this._setRanges([]);else if(o instanceof no)this._setRanges(o.getRanges(),o.isBackward);else if(o&&typeof o.getRanges=="function")this._setRanges(o.getRanges(),o.isBackward);else if(o instanceof Ie)this._setRanges([o],!!d&&!!d.backward);else if(o instanceof Je)this._setRanges([new Ie(o)]);else if(o instanceof eo){const p=!!d&&!!d.backward;let y;if(a=="in")y=Ie._createIn(o);else if(a=="on")y=Ie._createOn(o);else{if(a===void 0)throw new B("model-selection-setto-required-second-parameter",[this,o]);y=new Ie(Je._createAt(o,a))}this._setRanges([y],p)}else{if(!_r(o))throw new B("model-selection-setto-not-selectable",[this,o]);this._setRanges(o,d&&!!d.backward)}}_setRanges(e,o=!1){const a=Array.from(e),d=a.some(p=>{if(!(p instanceof Ie))throw new B("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(y=>!y.isEqual(p))});(a.length!==this._ranges.length||d)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0}))}setFocus(e,o){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,e]);const a=Je._createAt(e,o);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(d)=="before"?(this._pushRange(new Ie(a,d)),this._lastRangeBackward=!0):(this._pushRange(new Ie(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,o){this.getAttribute(e)!==o&&(this._attrs.set(e,o),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const o of this.getRanges()){const a=Pa(o.start,e);Bb(a,o)&&(yield a);for(const p of o.getWalker()){const y=p.item;p.type=="elementEnd"&&tC(y,e,o)&&(yield y)}const d=Pa(o.end,e);uu(d,o)&&(yield d)}}containsEntireContent(e=this.anchor.root){const o=Je._createAt(e,0),a=Je._createAt(e,"end");return o.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Ie(e.start,e.end))}_checkRange(e){for(let o=0;o<this._ranges.length;o++)if(e.isIntersecting(this._ranges[o]))throw new B("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[o]})}_replaceAllRanges(e){this._removeAllRanges();for(const o of e)this._pushRange(o)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ob(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function tC(c,e,o){return Ob(c,e)&&du(c,o)}function Pa(c,e){const o=c.parent.root.document.model.schema,a=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const p=a.find(y=>!d&&(d=o.isLimit(y),!d&&Ob(y,e)));return a.forEach(y=>e.add(y)),p}function du(c,e){const o=function(a){const d=a.root.document.model.schema;let p=a.parent;for(;p;){if(d.isBlock(p))return p;p=p.parent}}(c);return o?!e.containsRange(Ie._createOn(o),!0):!0}function Bb(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(Je._createAt(c,c.maxOffset))&&du(c,e))}function uu(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(Je._createAt(c,0))&&du(c,e))}no.prototype.is=function(c){return c==="selection"||c==="model:selection"};class Ho extends oe(Ie){constructor(e,o){super(e,o),o0.call(this)}detach(){this.stopListening()}toRange(){return new Ie(this.start,this.end)}static fromRange(e){return new Ho(e.start,e.end)}}function o0(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const o=e[0];o.isDocumentOperation&&i0.call(this,o)},{priority:"low"})}function i0(c){const e=this.getTransformedByOperation(c),o=Ie._createFromRanges(e),a=!o.isEqual(this),d=function(y,w){switch(w.type){case"insert":return y.containsPosition(w.position);case"move":case"remove":case"reinsert":case"merge":return y.containsPosition(w.sourcePosition)||y.start.isEqual(w.sourcePosition)||y.containsPosition(w.targetPosition);case"split":return y.containsPosition(w.splitPosition)||y.containsPosition(w.insertionPosition)}return!1}(this,c);let p=null;if(a){o.root.rootName=="$graveyard"&&(p=c.type=="remove"?c.sourcePosition:c.deletionPosition);const y=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",y,{deletionPosition:p})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:p})}Ho.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const hu="selection:";class No extends oe(In){constructor(e){super(),this._selection=new rC(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,o){this._selection.setFocus(e,o)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,o){this._selection.setAttribute(e,o)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return hu+e}static _isStoreAttributeKey(e){return e.startsWith(hu)}}No.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class rC extends no{constructor(e){super(),this.markers=new Fs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&d.type!="marker"&&d.type!="rename"&&d.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(o,a,d,p)=>{this._updateMarker(a,p)}),this.listenTo(this._document,"change",(o,a)=>{(function(d,p){const y=d.document.differ;for(const w of y.getChanges()){if(w.type!="insert")continue;const A=w.position.parent;w.length===A.maxOffset&&d.enqueueChange(p,N=>{const D=Array.from(A.getAttributeKeys()).filter(P=>P.startsWith(hu));for(const P of D)N.removeAttribute(P,A)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,o){super.setFocus(e,o),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,o){if(this._setAttribute(e,o)){const a=[e];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}overrideGravity(){const e=q();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new B("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const o=this._prepareRange(e);o&&this._ranges.push(o)}_validateSelectionRanges(e){for(const o of e)if(!this._document._validateSelectionRange(o))throw new B("document-selection-wrong-position",this,{range:o})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const o=Ho.fromRange(e);return o.on("change:range",(a,d,p)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=p.deletionPosition;const y=this._ranges.indexOf(o);this._ranges.splice(y,1),o.detach()}}),o}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let o=!1;for(const d of this._model.markers){const p=d.name.split(":",1)[0];if(!this._observedMarkers.has(p))continue;const y=d.getRange();for(const w of this.getRanges())y.containsRange(w,!w.isCollapsed)&&e.push(d)}const a=Array.from(this.markers);for(const d of e)this.markers.has(d)||(this.markers.add(d),o=!0);for(const d of Array.from(this.markers))e.includes(d)||(this.markers.remove(d),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(e,o){const a=e.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const p=Array.from(this.markers),y=this.markers.has(e);if(o){let w=!1;for(const A of this.getRanges())if(o.containsRange(A,!A.isCollapsed)){w=!0;break}w&&!y?(this.markers.add(e),d=!0):!w&&y&&(this.markers.remove(e),d=!0)}else y&&(this.markers.remove(e),d=!0);d&&this.fire("change:marker",{oldMarkers:p,directChange:!1})}_updateAttributes(e){const o=Cs(this._getSurroundingAttributes()),a=Cs(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[p,y]of this._attributePriority)y=="low"&&(this._attrs.delete(p),this._attributePriority.delete(p));this._setAttributesTo(o);const d=[];for(const[p,y]of this.getAttributes())a.has(p)&&a.get(p)===y||d.push(p);for(const[p]of a)this.hasAttribute(p)||d.push(p);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(e,o,a=!0){const d=a?"normal":"low";return d=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==o&&(this._attrs.set(e,o),this._attributePriority.set(e,d),!0)}_removeAttribute(e,o=!0){const a=o?"normal":"low";return(a!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,a),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const o=new Set;for(const[a,d]of this.getAttributes())e.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of e)this._setAttribute(a,d,!1)&&o.add(a);return o}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const o of e.getAttributeKeys())o.startsWith(hu)&&(yield[o.substr(10),e.getAttribute(o)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),o=this._model.schema;if(e.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const d=e.textNode?e.textNode:e.nodeBefore,p=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(a=Jh(d,o)),a||(a=Jh(p,o)),!this.isGravityOverridden&&!a){let y=d;for(;y&&!a;)y=y.previousSibling,a=Jh(y,o)}if(!a){let y=p;for(;y&&!a;)y=y.nextSibling,a=Jh(y,o)}a||(a=this.getStoredAttributes())}else{const d=this.getFirstRange();for(const p of d){if(p.item.is("element")&&o.isObject(p.item)){a=Jh(p.item,o);break}if(p.type=="text"){a=p.item.getAttributes();break}}}return a}_fixGraveyardSelection(e){const o=this._model.schema.getNearestSelectionRange(e);o&&this._pushRange(o)}}function Jh(c,e){if(!c)return null;if(c instanceof Vn||c instanceof Nr)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const o=[];for(const[a,d]of c.getAttributes())e.checkAttribute("$text",a)&&e.getAttributeProperties(a).copyFromObject!==!1&&o.push([a,d]);return o}class a0{constructor(e){this._dispatchers=e}add(e){for(const o of this._dispatchers)e(o);return this}}class l0 extends a0{elementToElement(e){return this.add(function(o){const a=$h(o.model),d=mu(o.view,"container");return a.attributes.length&&(a.children=!0),p=>{p.on(`insert:${a.name}`,function(y,w=d0){return(A,N,D)=>{if(!w(N.item,D.consumable,{preflight:!0}))return;const P=y(N.item,D,N);if(!P)return;w(N.item,D.consumable);const F=D.mapper.toViewPosition(N.range.start);D.mapper.bindElements(N.item,P),D.writer.insert(F,P),D.convertAttributes(N.item),Xh(P,N.item.getChildren(),D,{reconversion:N.reconversion})}}(d,Ub(a)),{priority:o.converterPriority||"normal"}),(a.children||a.attributes.length)&&p.on("reduceChanges",Vb(a),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(o){const a=$h(o.model),d=mu(o.view,"container");return a.children=!0,p=>{if(p._conversionApi.schema.checkChild(a.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",p,{elementName:a.name});var y,w;p.on(`insert:${a.name}`,(y=d,w=Ub(a),(A,N,D)=>{if(!w(N.item,D.consumable,{preflight:!0}))return;const P=new Map;D.writer._registerSlotFactory(function(X,se,de){return(pe,ke)=>{const Fe=pe.createContainerElement("$slot");let it=null;if(ke==="children")it=Array.from(X.getChildren());else{if(typeof ke!="function")throw new B("conversion-slot-mode-unknown",de.dispatcher,{modeOrFilter:ke});it=Array.from(X.getChildren()).filter(At=>ke(At))}return se.set(Fe,it),Fe}}(N.item,P,D));const F=y(N.item,D,N);if(D.writer._clearSlotFactory(),!F)return;(function(X,se,de){const pe=Array.from(se.values()).flat(),ke=new Set(pe);if(ke.size!=pe.length)throw new B("conversion-slot-filter-overlap",de.dispatcher,{element:X});if(ke.size!=X.childCount)throw new B("conversion-slot-filter-incomplete",de.dispatcher,{element:X})})(N.item,P,D),w(N.item,D.consumable);const K=D.mapper.toViewPosition(N.range.start);D.mapper.bindElements(N.item,F),D.writer.insert(K,F),D.convertAttributes(N.item),function(X,se,de,pe){de.mapper.on("modelToViewPosition",it,{priority:"highest"});let ke=null,Fe=null;for([ke,Fe]of se)Xh(X,Fe,de,pe),de.writer.move(de.writer.createRangeIn(ke),de.writer.createPositionBefore(ke)),de.writer.remove(ke);function it(At,Ur){const cr=Ur.modelPosition.nodeAfter,fs=Fe.indexOf(cr);fs<0||(Ur.viewPosition=Ur.mapper.findPositionIn(ke,fs))}de.mapper.off("modelToViewPosition",it)}(F,P,D,{reconversion:N.reconversion})}),{priority:o.converterPriority||"normal"}),p.on("reduceChanges",Vb(a),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(o){o=Vt(o);let a=o.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const y of a.values)o.view[y]=mu(o.view[y],"attribute");else o.view=mu(o.view,"attribute");const p=zb(o);return y=>{y.on(d,function(w){return(A,N,D)=>{if(!D.consumable.test(N.item,A.name))return;const P=w(N.attributeOldValue,D,N),F=w(N.attributeNewValue,D,N);if(!P&&!F)return;D.consumable.consume(N.item,A.name);const K=D.writer,X=K.document.selection;if(N.item instanceof no||N.item instanceof No)K.wrap(X.getFirstRange(),F);else{let se=D.mapper.toViewRange(N.range);N.attributeOldValue!==null&&P&&(se=K.unwrap(se,P)),N.attributeNewValue!==null&&F&&K.wrap(se,F)}}}(p),{priority:o.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(o){o=Vt(o);let a=o.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const y of a.values)o.view[y]=Fb(o.view[y]);else o.view=Fb(o.view);const p=zb(o);return y=>{var w;y.on(d,(w=p,(A,N,D)=>{if(!D.consumable.test(N.item,A.name))return;const P=w(N.attributeOldValue,D,N),F=w(N.attributeNewValue,D,N);if(!P&&!F)return;D.consumable.consume(N.item,A.name);const K=D.mapper.toViewElement(N.item),X=D.writer;if(!K)throw new B("conversion-attribute-to-attribute-on-text",D.dispatcher,N);if(N.attributeOldValue!==null&&P)if(P.key=="class"){const se=Dn(P.value);for(const de of se)X.removeClass(de,K)}else if(P.key=="style"){const se=Object.keys(P.value);for(const de of se)X.removeStyle(de,K)}else X.removeAttribute(P.key,K);if(N.attributeNewValue!==null&&F)if(F.key=="class"){const se=Dn(F.value);for(const de of se)X.addClass(de,K)}else if(F.key=="style"){const se=Object.keys(F.value);for(const de of se)X.setStyle(de,F.value[de],K)}else X.setAttribute(F.key,F.value,K)}),{priority:o.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(o){const a=mu(o.view,"ui");return d=>{var p;d.on(`addMarker:${o.model}`,(p=a,(y,w,A)=>{w.isOpening=!0;const N=p(w,A);w.isOpening=!1;const D=p(w,A);if(!N||!D)return;const P=w.markerRange;if(P.isCollapsed&&!A.consumable.consume(P,y.name))return;for(const X of P)if(!A.consumable.consume(X.item,y.name))return;const F=A.mapper,K=A.writer;K.insert(F.toViewPosition(P.start),N),A.mapper.bindElementToMarker(N,w.markerName),P.isCollapsed||(K.insert(F.toViewPosition(P.end),D),A.mapper.bindElementToMarker(D,w.markerName)),y.stop()}),{priority:o.converterPriority||"normal"}),d.on(`removeMarker:${o.model}`,(y,w,A)=>{const N=A.mapper.markerNameToElements(w.markerName);if(N){for(const D of N)A.mapper.unbindElementFromMarkerName(D,w.markerName),A.writer.clear(A.writer.createRangeOn(D),D);A.writer.clearClonedElementsGroup(w.markerName),y.stop()}},{priority:o.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(o){return a=>{var d;a.on(`addMarker:${o.model}`,(d=o.view,(p,y,w)=>{if(!y.item||!(y.item instanceof no||y.item instanceof No||y.item.is("$textProxy")))return;const A=ef(d,y,w);if(!A||!w.consumable.consume(y.item,p.name))return;const N=w.writer,D=Lb(N,A),P=N.document.selection;if(y.item instanceof no||y.item instanceof No)N.wrap(P.getFirstRange(),D);else{const F=w.mapper.toViewRange(y.range),K=N.wrap(F,D);for(const X of K.getItems())if(X.is("attributeElement")&&X.isSimilar(D)){w.mapper.bindElementToMarker(X,y.markerName);break}}}),{priority:o.converterPriority||"normal"}),a.on(`addMarker:${o.model}`,function(p){return(y,w,A)=>{if(!w.item||!(w.item instanceof vt))return;const N=ef(p,w,A);if(!N||!A.consumable.test(w.item,y.name))return;const D=A.mapper.toViewElement(w.item);if(D&&D.getCustomProperty("addHighlight")){A.consumable.consume(w.item,y.name);for(const P of Ie._createIn(w.item))A.consumable.consume(P.item,y.name);D.getCustomProperty("addHighlight")(D,N,A.writer),A.mapper.bindElementToMarker(D,w.markerName)}}}(o.view),{priority:o.converterPriority||"normal"}),a.on(`removeMarker:${o.model}`,function(p){return(y,w,A)=>{if(w.markerRange.isCollapsed)return;const N=ef(p,w,A);if(!N)return;const D=Lb(A.writer,N),P=A.mapper.markerNameToElements(w.markerName);if(P){for(const F of P)A.mapper.unbindElementFromMarkerName(F,w.markerName),F.is("attributeElement")?A.writer.unwrap(A.writer.createRangeOn(F),D):F.getCustomProperty("removeHighlight")(F,N.id,A.writer);A.writer.clearClonedElementsGroup(w.markerName),y.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(o){o=Vt(o);const a=o.model;let d=o.view;return d||(d=p=>({group:a,name:p.substr(o.model.length+1)})),p=>{var y;p.on(`addMarker:${a}`,(y=d,(w,A,N)=>{const D=y(A.markerName,N);if(!D)return;const P=A.markerRange;N.consumable.consume(P,w.name)&&(zc(P,!1,N,A,D),zc(P,!0,N,A,D),w.stop())}),{priority:o.converterPriority||"normal"}),p.on(`removeMarker:${a}`,function(w){return(A,N,D)=>{const P=w(N.markerName,D);if(!P)return;const F=D.mapper.markerNameToElements(N.markerName);if(F){for(const X of F)D.mapper.unbindElementFromMarkerName(X,N.markerName),X.is("containerElement")?(K(`data-${P.group}-start-before`,X),K(`data-${P.group}-start-after`,X),K(`data-${P.group}-end-before`,X),K(`data-${P.group}-end-after`,X)):D.writer.clear(D.writer.createRangeOn(X),X);D.writer.clearClonedElementsGroup(N.markerName),A.stop()}function K(X,se){if(se.hasAttribute(X)){const de=new Set(se.getAttribute(X).split(","));de.delete(P.name),de.size==0?D.writer.removeAttribute(X,se):D.writer.setAttribute(X,Array.from(de).join(","),se)}}}}(d),{priority:o.converterPriority||"normal"})}}(e))}}function Lb(c,e){const o=c.createAttributeElement("span",e.attributes);return e.classes&&o._addClass(e.classes),typeof e.priority=="number"&&(o._priority=e.priority),o._id=e.id,o}function zc(c,e,o,a,d){const p=e?c.start:c.end,y=p.nodeAfter&&p.nodeAfter.is("element")?p.nodeAfter:null,w=p.nodeBefore&&p.nodeBefore.is("element")?p.nodeBefore:null;if(y||w){let A,N;e&&y||!e&&!w?(A=y,N=!0):(A=w,N=!1);const D=o.mapper.toViewElement(A);if(D)return void function(P,F,K,X,se,de){const pe=`data-${de.group}-${F?"start":"end"}-${K?"before":"after"}`,ke=P.hasAttribute(pe)?P.getAttribute(pe).split(","):[];ke.unshift(de.name),X.writer.setAttribute(pe,ke.join(","),P),X.mapper.bindElementToMarker(P,se.markerName)}(D,e,N,o,a,d)}(function(A,N,D,P,F){const K=`${F.group}-${N?"start":"end"}`,X=F.name?{name:F.name}:null,se=D.writer.createUIElement(K,X);D.writer.insert(A,se),D.mapper.bindElementToMarker(se,P.markerName)})(o.mapper.toViewPosition(p),e,o,a,d)}function $h(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function mu(c,e){return typeof c=="function"?c:(o,a)=>function(d,p,y){typeof d=="string"&&(d={name:d});let w;const A=p.writer,N=Object.assign({},d.attributes);if(y=="container")w=A.createContainerElement(d.name,N);else if(y=="attribute"){const D={priority:d.priority||Tl.DEFAULT_PRIORITY};w=A.createAttributeElement(d.name,N,D)}else w=A.createUIElement(d.name,N);if(d.styles){const D=Object.keys(d.styles);for(const P of D)A.setStyle(P,d.styles[P],w)}if(d.classes){const D=d.classes;if(typeof D=="string")A.addClass(D,w);else for(const P of D)A.addClass(P,w)}return w}(c,a,e)}function zb(c){return c.model.values?(e,o,a)=>{const d=c.view[e];return d?d(e,o,a):null}:c.view}function Fb(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function ef(c,e,o){const a=typeof c=="function"?c(e,o):c;return a?(a.priority||(a.priority=10),a.id||(a.id=e.markerName),a):null}function Vb(c){const e=function(o){return(a,d)=>{if(!a.is("element",o.name))return!1;if(d.type=="attribute"){if(o.attributes.includes(d.attributeKey))return!0}else if(o.children)return!0;return!1}}(c);return(o,a)=>{const d=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const p of a.changes){const y=p.type=="attribute"?p.range.start.nodeAfter:p.position.parent;if(y&&e(y,p)){if(!a.reconvertedElements.has(y)){a.reconvertedElements.add(y);const w=Je._createBefore(y);let A=d.length;for(let N=d.length-1;N>=0;N--){const D=d[N],P=(D.type=="attribute"?D.range.start:D.position).compareWith(w);if(P=="before"||D.type=="remove"&&P=="same")break;A=N}d.splice(A,0,{type:"remove",name:y.name,position:w,length:1},{type:"reinsert",name:y.name,position:w,length:1})}}else d.push(p)}a.changes=d}}function Ub(c){return(e,o,a={})=>{const d=["insert"];for(const p of c.attributes)e.hasAttribute(p)&&d.push(`attribute:${p}`);return!!d.every(p=>o.test(e,p))&&(a.preflight||d.forEach(p=>o.consume(e,p)),!0)}}function Xh(c,e,o,a){for(const d of e)c0(c.root,d,o,a)||o.convertItem(d)}function c0(c,e,o,a){const{writer:d,mapper:p}=o;if(!a.reconversion)return!1;const y=p.toViewElement(e);return!(!y||y.root==c)&&!!o.canReuseView(y)&&(d.move(d.createRangeOn(y),p.toViewPosition(Je._createBefore(e))),!0)}function d0(c,e,{preflight:o}={}){return o?e.test(c,"insert"):e.consume(c,"insert")}function Pr(c){const{schema:e,document:o}=c.model;for(const a of o.getRoots())if(a.isEmpty&&!e.checkChild(a,"$text")&&e.checkChild(a,"paragraph"))return c.insertElement("paragraph",a),!0;return!1}function tf(c,e,o){const a=o.createContext(c);return!!o.checkChild(a,"paragraph")&&!!o.checkChild(a.push("paragraph"),e)}function u0(c,e){const o=e.createElement("paragraph");return e.insert(o,c),e.createPositionAt(o,0)}var h0=Object.defineProperty,nC=Object.defineProperties,sC=Object.getOwnPropertyDescriptors,m0=Object.getOwnPropertySymbols,rf=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable,nf=(c,e,o)=>e in c?h0(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class sf extends a0{elementToElement(e){return this.add(of(e))}elementToAttribute(e){return this.add(function(o){o=Vt(o),fu(o);const a=p0(o,!1),d=Oa(o.view),p=d?`element:${d}`:"element";return y=>{y.on(p,a,{priority:o.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(o){o=Vt(o);let a=null;(typeof o.view=="string"||o.view.key)&&(a=function(p){typeof p.view=="string"&&(p.view={key:p.view});const y=p.view.key;let w;return y=="class"||y=="style"?w={[y=="class"?"classes":"styles"]:p.view.value}:w={attributes:{[y]:p.view.value===void 0?/[\s\S]*/:p.view.value}},p.view.name&&(w.name=p.view.name),p.view=w,y}(o)),fu(o,a);const d=p0(o,!0);return p=>{p.on("element",d,{priority:o.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(o){const a=function(y){return(w,A)=>{const N=typeof y=="string"?y:y(w,A);return A.writer.createElement("$marker",{"data-name":N})}}(o.model);return of((d=((y,w)=>{for(var A in w||(w={}))rf.call(w,A)&&nf(y,A,w[A]);if(m0)for(var A of m0(w))pu.call(w,A)&&nf(y,A,w[A]);return y})({},o),p={model:a},nC(d,sC(p))));var d,p}(e))}dataToMarker(e){return this.add(function(o){o=Vt(o),o.model||(o.model=y=>y?o.view+":"+y:o.view);const a={view:o.view,model:o.model},d=qo(Gb(a,"start")),p=qo(Gb(a,"end"));return y=>{y.on(`element:${o.view}-start`,d,{priority:o.converterPriority||"normal"}),y.on(`element:${o.view}-end`,p,{priority:o.converterPriority||"normal"});const w=$.low,A=$.highest,N=$.get(o.converterPriority)/A;y.on("element",function(D){return(P,F,K)=>{const X=`data-${D.view}`;function se(de,pe){for(const ke of pe){const Fe=D.model(ke,K),it=K.writer.createElement("$marker",{"data-name":Fe});K.writer.insert(it,de),F.modelCursor.isEqual(de)?F.modelCursor=F.modelCursor.getShiftedBy(1):F.modelCursor=F.modelCursor._getTransformedByInsertion(de,1),F.modelRange=F.modelRange._getTransformedByInsertion(de,1)[0]}}(K.consumable.test(F.viewItem,{attributes:X+"-end-after"})||K.consumable.test(F.viewItem,{attributes:X+"-start-after"})||K.consumable.test(F.viewItem,{attributes:X+"-end-before"})||K.consumable.test(F.viewItem,{attributes:X+"-start-before"}))&&(F.modelRange||Object.assign(F,K.convertChildren(F.viewItem,F.modelCursor)),K.consumable.consume(F.viewItem,{attributes:X+"-end-after"})&&se(F.modelRange.end,F.viewItem.getAttribute(X+"-end-after").split(",")),K.consumable.consume(F.viewItem,{attributes:X+"-start-after"})&&se(F.modelRange.end,F.viewItem.getAttribute(X+"-start-after").split(",")),K.consumable.consume(F.viewItem,{attributes:X+"-end-before"})&&se(F.modelRange.start,F.viewItem.getAttribute(X+"-end-before").split(",")),K.consumable.consume(F.viewItem,{attributes:X+"-start-before"})&&se(F.modelRange.start,F.viewItem.getAttribute(X+"-start-before").split(",")))}}(a),{priority:w+N})}}(e))}}function of(c){const e=qo(c=Vt(c)),o=Oa(c.view),a=o?`element:${o}`:"element";return d=>{d.on(a,e,{priority:c.converterPriority||"normal"})}}function Oa(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function qo(c){const e=new Uo(c.view);return(o,a,d)=>{const p=e.match(a.viewItem);if(!p)return;const y=p.match;if(y.name=!0,!d.consumable.test(a.viewItem,y))return;const w=function(A,N,D){return A instanceof Function?A(N,D):D.writer.createElement(A)}(c.model,a.viewItem,d);w&&d.safeInsert(w,a.modelCursor)&&(d.consumable.consume(a.viewItem,y),d.convertChildren(a.viewItem,w),d.updateConversionResult(w,a))}}function fu(c,e=null){const o=e===null||(p=>p.getAttribute(e)),a=typeof c.model!="object"?c.model:c.model.key,d=typeof c.model!="object"||c.model.value===void 0?o:c.model.value;c.model={key:a,value:d}}function p0(c,e){const o=new Uo(c.view);return(a,d,p)=>{if(!d.modelRange&&e)return;const y=o.match(d.viewItem);if(!y||(function(D,P){const F=typeof D=="function"?D(P):D;return typeof F=="object"&&!Oa(F)?!1:!F.classes&&!F.attributes&&!F.styles}(c.view,d.viewItem)?y.match.name=!0:delete y.match.name,!p.consumable.test(d.viewItem,y.match)))return;const w=c.model.key,A=typeof c.model.value=="function"?c.model.value(d.viewItem,p):c.model.value;if(A===null)return;d.modelRange||Object.assign(d,p.convertChildren(d.viewItem,d.modelCursor)),function(D,P,F,K){let X=!1;for(const se of Array.from(D.getItems({shallow:F})))K.schema.checkAttribute(se,P.key)&&(X=!0,se.hasAttribute(P.key)||K.writer.setAttribute(P.key,P.value,se));return X}(d.modelRange,{key:w,value:A},e,p)&&(p.consumable.test(d.viewItem,{name:!0})&&(y.match.name=!0),p.consumable.consume(d.viewItem,y.match))}}function Gb(c,e){return{view:`${c.view}-${e}`,model:(o,a)=>{const d=o.getAttribute("name"),p=c.model(d,a);return a.writer.createElement("$marker",{"data-name":p})}}}function f0(c){c.document.registerPostFixer(e=>function(o,a){const d=a.document.selection,p=a.schema,y=[];let w=!1;for(const A of d.getRanges()){const N=Hb(A,p);N&&!N.isEqual(A)?(y.push(N),w=!0):y.push(A)}return w&&o.setSelection(function(A){const N=[...A],D=new Set;let P=1;for(;P<N.length;){const F=N[P],K=N.slice(0,P);for(const[X,se]of K.entries())if(!D.has(X)){if(F.isEqual(se))D.add(X);else if(F.isIntersecting(se)){D.add(X),D.add(P);const de=F.getJoined(se);N.push(de)}}P++}return N.filter((F,K)=>!D.has(K))}(y),{backward:d.isBackward}),!1}(e,c))}function Hb(c,e){return c.isCollapsed?function(o,a){const d=o.start,p=a.getNearestSelectionRange(d);if(!p){const w=d.getAncestors().reverse().find(A=>a.isObject(A));return w?Ie._createOn(w):null}if(!p.isCollapsed)return p;const y=p.start;return d.isEqual(y)?null:new Ie(y)}(c,e):function(o,a){const{start:d,end:p}=o,y=a.checkChild(d,"$text"),w=a.checkChild(p,"$text"),A=a.getLimitElement(d),N=a.getLimitElement(p);if(A===N){if(y&&w)return null;if(function(F,K,X){const se=F.nodeAfter&&!X.isLimit(F.nodeAfter)||X.checkChild(F,"$text"),de=K.nodeBefore&&!X.isLimit(K.nodeBefore)||X.checkChild(K,"$text");return se||de}(d,p,a)){const F=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),K=p.nodeBefore&&a.isSelectable(p.nodeBefore)?null:a.getNearestSelectionRange(p,"backward"),X=F?F.start:d,se=K?K.end:p;return new Ie(X,se)}}const D=A&&!A.is("rootElement"),P=N&&!N.is("rootElement");if(D||P){const F=d.nodeAfter&&p.nodeBefore&&d.nodeAfter.parent===p.nodeBefore.parent,K=D&&(!F||!g0(d.nodeAfter,a)),X=P&&(!F||!g0(p.nodeBefore,a));let se=d,de=p;return K&&(se=Je._createBefore(qb(A,a))),X&&(de=Je._createAfter(qb(N,a))),new Ie(se,de)}return null}(c,e)}function qb(c,e){let o=c,a=o;for(;e.isLimit(a)&&a.parent;)o=a,a=a.parent;return o}function g0(c,e){return c&&e.isSelectable(c)}class Yb extends tt(){constructor(e,o){super(),this.model=e,this.view=new Tr(o),this.mapper=new Qh,this.downcastDispatcher=new to({mapper:this.mapper,schema:e.schema});const a=this.model.document,d=a.selection,p=this.model.markers;var y,w,A;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(N=>{this.downcastDispatcher.convertChanges(a.differ,p,N),this.downcastDispatcher.convertSelection(d,p,N)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(N,D){return(P,F)=>{const K=F.newSelection,X=[];for(const de of K.getRanges())X.push(D.toModelRange(de));const se=N.createSelection(X,{backward:K.isBackward});se.isEqual(N.document.selection)||N.change(de=>{de.setSelection(se)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(y=this.mapper,w=this.model.schema,A=this.view,(N,D)=>{if(!A.document.isComposing||C.isAndroid)for(let P=0;P<D.targetRanges.length;P++){const F=D.targetRanges[P],K=y.toModelRange(F),X=Hb(K,w);X&&!X.isEqual(K)&&(D.targetRanges[P]=y.toViewRange(X))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(N,D,P)=>{if(!P.consumable.consume(D.item,N.name))return;const F=P.writer,K=P.mapper.toViewPosition(D.range.start),X=F.createText(D.item.data);F.insert(K,X)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(N,D,P)=>{P.convertAttributes(D.item),D.reconversion||!D.item.is("element")||D.item.isEmpty||P.convertChildren(D.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(N,D,P)=>{const F=P.mapper.toViewPosition(D.position),K=D.position.getShiftedBy(D.length),X=P.mapper.toViewPosition(K,{isPhantom:!0}),se=P.writer.createRange(F,X),de=P.writer.remove(se.getTrimmed());for(const pe of P.writer.createRangeIn(de).getItems())P.mapper.unbindViewElement(pe,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(N,D,P)=>{const F=P.writer,K=F.document.selection;for(const X of K.getRanges())X.isCollapsed&&X.end.parent.isAttached()&&P.writer.mergeAttributes(X.start);F.setSelection(null)}),this.downcastDispatcher.on("selection",(N,D,P)=>{const F=D.selection;if(F.isCollapsed||!P.consumable.consume(F,"selection"))return;const K=[];for(const X of F.getRanges())K.push(P.mapper.toViewRange(X));P.writer.setSelection(K,{backward:F.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(N,D,P)=>{const F=D.selection;if(!F.isCollapsed||!P.consumable.consume(F,"selection"))return;const K=P.writer,X=F.getFirstPosition(),se=P.mapper.toViewPosition(X),de=K.breakAttributes(se);K.setSelection(de)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(N=>{if(N.rootName=="$graveyard")return null;const D=new db(this.view.document,N.name);return D.rootName=N.rootName,this.mapper.bindElements(N,D),D})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const o=typeof e=="string"?e:e.name,a=this.model.markers.get(o);if(!a)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:o});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class gu{constructor(){this._consumables=new Map}add(e,o){let a;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?a=this._consumables.get(e):(a=new oC(e),this._consumables.set(e,a)),a.add(o))}test(e,o){const a=this._consumables.get(e);return a===void 0?null:e.is("$text")||e.is("documentFragment")?a:a.test(o)}consume(e,o){return!!this.test(e,o)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(o),!0)}revert(e,o){const a=this._consumables.get(e);a!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):a.revert(o))}static consumablesFromElement(e){const o={element:e,name:!0,attributes:[],classes:[],styles:[]},a=e.getAttributeKeys();for(const y of a)y!="style"&&y!="class"&&o.attributes.push(y);const d=e.getClassNames();for(const y of d)o.classes.push(y);const p=e.getStyleNames();for(const y of p)o.styles.push(y);return o}static createFrom(e,o){if(o||(o=new gu),e.is("$text"))return o.add(e),o;e.is("element")&&o.add(e,gu.consumablesFromElement(e)),e.is("documentFragment")&&o.add(e);for(const a of e.getChildren())o=gu.createFrom(a,o);return o}}const Zh=["attributes","classes","styles"];class oC{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const o of Zh)o in e&&this._add(o,e[o])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const o of Zh)if(o in e){const a=this._test(o,e[o]);if(a!==!0)return a}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const o of Zh)o in e&&this._consume(o,e[o])}revert(e){e.name&&(this._canConsumeName=!0);for(const o of Zh)o in e&&this._revert(o,e[o])}_add(e,o){const a=Bt(o)?o:[o],d=this._consumables[e];for(const p of a){if(e==="attributes"&&(p==="class"||p==="style"))throw new B("viewconsumable-invalid-attribute",this);if(d.set(p,!0),e==="styles")for(const y of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(y,!0)}}_test(e,o){const a=Bt(o)?o:[o],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style"){const y=d.get(p);if(y===void 0)return null;if(!y)return!1}else{const y=p=="class"?"classes":"styles",w=this._test(y,[...this._consumables[y].keys()]);if(w!==!0)return w}return!0}_consume(e,o){const a=Bt(o)?o:[o],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style"){if(d.set(p,!1),e=="styles")for(const y of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(y,!1)}else{const y=p=="class"?"classes":"styles";this._consume(y,[...this._consumables[y].keys()])}}_revert(e,o){const a=Bt(o)?o:[o],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style")d.get(p)===!1&&d.set(p,!0);else{const y=p=="class"?"classes":"styles";this._revert(y,[...this._consumables[y].keys()])}}}class Wb extends tt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,o)=>{o[0]=new Ba(o[0])},{priority:"highest"}),this.on("checkChild",(e,o)=>{o[0]=new Ba(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(e,o){if(this._sourceDefinitions[e])throw new B("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},o)],this._clearCache()}extend(e,o){if(!this._sourceDefinitions[e])throw new B("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let o;return o=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[o]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const o=this.getDefinition(e);return!(!o||!o.isBlock)}isLimit(e){const o=this.getDefinition(e);return!!o&&!(!o.isLimit&&!o.isObject)}isObject(e){const o=this.getDefinition(e);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(e){const o=this.getDefinition(e);return!(!o||!o.isInline)}isSelectable(e){const o=this.getDefinition(e);return!!o&&!(!o.isSelectable&&!o.isObject)}isContent(e){const o=this.getDefinition(e);return!!o&&!(!o.isContent&&!o.isObject)}checkChild(e,o){return!!o&&this._checkContextMatch(o,e)}checkAttribute(e,o){const a=this.getDefinition(e.last);return!!a&&a.allowAttributes.includes(o)}checkMerge(e,o){if(e instanceof Je){const a=e.nodeBefore,d=e.nodeAfter;if(!(a instanceof vt))throw new B("schema-check-merge-no-element-before",this);if(!(d instanceof vt))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of o.getChildren())if(!this.checkChild(e,a))return!1;return!0}addChildCheck(e){this.on("checkChild",(o,[a,d])=>{if(!d)return;const p=e(a,d);typeof p=="boolean"&&(o.stop(),o.return=p)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(o,[a,d])=>{const p=e(a,d);typeof p=="boolean"&&(o.stop(),o.return=p)},{priority:"high"})}setAttributeProperties(e,o){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),o)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let o;for(e instanceof Je?o=e.parent:o=(e instanceof Ie?[e]:Array.from(e.getRanges())).reduce((a,d)=>{const p=d.getCommonAncestor();return a?a.getCommonAncestor(p,{includeSelf:!0}):p},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(e,o){if(e.isCollapsed){const a=[...e.getFirstPosition().getAncestors(),new Nr("",e.getAttributes())];return this.checkAttribute(a,o)}{const a=e.getRanges();for(const d of a)for(const p of d)if(this.checkAttribute(p.item,o))return!0}return!1}*getValidRanges(e,o){e=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(e);for(const a of e)yield*this._getValidRangesForRange(a,o)}getNearestSelectionRange(e,o="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Ie(e);let a,d;const p=e.getAncestors().reverse().find(y=>this.isLimit(y))||e.root;o!="both"&&o!="backward"||(a=new us({boundaries:Ie._createIn(p),startPosition:e,direction:"backward"})),o!="both"&&o!="forward"||(d=new us({boundaries:Ie._createIn(p),startPosition:e}));for(const y of function*(w,A){let N=!1;for(;!N;){if(N=!0,w){const D=w.next();D.done||(N=!1,yield{walker:w,value:D.value})}if(A){const D=A.next();D.done||(N=!1,yield{walker:A,value:D.value})}}}(a,d)){const w=y.walker==a?"elementEnd":"elementStart",A=y.value;if(A.type==w&&this.isObject(A.item))return Ie._createOn(A.item);if(this.checkChild(A.nextPosition,"$text"))return new Ie(A.nextPosition)}return null}findAllowedParent(e,o){let a=e.parent;for(;a;){if(this.checkChild(a,o))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(e,o,a){const d=a.model;for(const[p,y]of Object.entries(o))d.schema.checkAttribute(e,p)&&a.setAttribute(p,y,e)}removeDisallowedAttributes(e,o){for(const a of e)if(a.is("$text"))rm(this,a,o);else{const d=Ie._createIn(a).getPositions();for(const p of d)rm(this,p.nodeBefore||p.parent,o)}}getAttributesWithProperty(e,o,a){const d={};for(const[p,y]of e.getAttributes()){const w=this.getAttributeProperties(p);w[o]!==void 0&&(a!==void 0&&a!==w[o]||(d[p]=y))}return d}createContext(e){return new Ba(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},o=this._sourceDefinitions,a=Object.keys(o);for(const d of a)e[d]=iC(o[d],d);for(const d of a)aC(e,d);for(const d of a)em(e,d);for(const d of a)lC(e,d);for(const d of a)b0(e,d),Zt(e,d);for(const d of a)Kb(e,d),af(e,d),Qb(e,d);this._compiledDefinitions=e}_checkContextMatch(e,o,a=o.length-1){const d=o.getItem(a);if(e.allowIn.includes(d.name)){if(a==0)return!0;{const p=this.getDefinition(d);return this._checkContextMatch(p,o,a-1)}}return!1}*_getValidRangesForRange(e,o){let a=e.start,d=e.start;for(const p of e.getItems({shallow:!0}))p.is("element")&&(yield*this._getValidRangesForRange(Ie._createIn(p),o)),this.checkAttribute(p,o)||(a.isEqual(d)||(yield new Ie(a,d)),a=Je._createAfter(p)),d=Je._createAfter(p);a.isEqual(d)||(yield new Ie(a,d))}}class Ba{constructor(e){if(e instanceof Ba)return e;let o;o=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=o.map(tm)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const o=new Ba([e]);return o._items=[...this._items,...o._items],o}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function iC(c,e){const o={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,d){for(const p of a){const y=Object.keys(p).filter(w=>w.startsWith("is"));for(const w of y)d[w]=!!p[w]}}(c,o),Ll(c,o,"allowIn"),Ll(c,o,"allowContentOf"),Ll(c,o,"allowWhere"),Ll(c,o,"allowAttributes"),Ll(c,o,"allowAttributesOf"),Ll(c,o,"allowChildren"),Ll(c,o,"inheritTypesFrom"),function(a,d){for(const p of a){const y=p.inheritAllFrom;y&&(d.allowContentOf.push(y),d.allowWhere.push(y),d.allowAttributesOf.push(y),d.inheritTypesFrom.push(y))}}(c,o),o}function aC(c,e){const o=c[e];for(const a of o.allowChildren){const d=c[a];d&&d.allowIn.push(e)}o.allowChildren.length=0}function em(c,e){for(const o of c[e].allowContentOf)c[o]&&Jb(c,o).forEach(a=>{a.allowIn.push(e)});delete c[e].allowContentOf}function lC(c,e){for(const o of c[e].allowWhere){const a=c[o];if(a){const d=a.allowIn;c[e].allowIn.push(...d)}}delete c[e].allowWhere}function b0(c,e){for(const o of c[e].allowAttributesOf){const a=c[o];if(a){const d=a.allowAttributes;c[e].allowAttributes.push(...d)}}delete c[e].allowAttributesOf}function Zt(c,e){const o=c[e];for(const a of o.inheritTypesFrom){const d=c[a];if(d){const p=Object.keys(d).filter(y=>y.startsWith("is"));for(const y of p)y in o||(o[y]=d[y])}}delete o.inheritTypesFrom}function Kb(c,e){const o=c[e],a=o.allowIn.filter(d=>c[d]);o.allowIn=Array.from(new Set(a))}function af(c,e){const o=c[e];for(const a of o.allowIn)c[a].allowChildren.push(e)}function Qb(c,e){const o=c[e];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function Ll(c,e,o){for(const a of c){const d=a[o];typeof d=="string"?e[o].push(d):Array.isArray(d)&&e[o].push(...d)}}function Jb(c,e){const o=c[e];return(a=c,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(o.name));var a}function tm(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function rm(c,e,o){for(const a of e.getAttributeKeys())c.checkAttribute(e,a)||o.removeAttribute(a,e)}var bu=Object.defineProperty,y0=Object.defineProperties,cC=Object.getOwnPropertyDescriptors,x0=Object.getOwnPropertySymbols,v0=Object.prototype.hasOwnProperty,w0=Object.prototype.propertyIsEnumerable,nm=(c,e,o)=>e in c?bu(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class Or extends oe(){constructor(e){var o;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(o=((a,d)=>{for(var p in d||(d={}))v0.call(d,p)&&nm(a,p,d[p]);if(x0)for(var p of x0(d))w0.call(d,p)&&nm(a,p,d[p]);return a})({},e),y0(o,cC({consumable:null,writer:null,store:null,convertItem:(a,d)=>this._convertItem(a,d),convertChildren:(a,d)=>this._convertChildren(a,d),safeInsert:(a,d)=>this._safeInsert(a,d),updateConversionResult:(a,d)=>this._updateConversionResult(a,d),splitToAllowedParent:(a,d)=>this._splitToAllowedParent(a,d),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(e,o,a=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(y,w){let A;for(const N of new Ba(y)){const D={};for(const F of N.getAttributeKeys())D[F]=N.getAttribute(F);const P=w.createElement(N.name,D);A&&w.insert(P,A),A=Je._createAt(P,0)}return A}(a,o),this.conversionApi.writer=o,this.conversionApi.consumable=gu.createFrom(e),this.conversionApi.store={};const{modelRange:d}=this._convertItem(e,this._modelCursor),p=o.createDocumentFragment();if(d){this._removeEmptyElements();for(const y of Array.from(this._modelCursor.parent.getChildren()))o.append(y,p);p.markers=function(y,w){const A=new Set,N=new Map,D=Ie._createIn(y).getItems();for(const P of D)P.is("element","$marker")&&A.add(P);for(const P of A){const F=P.getAttribute("data-name"),K=w.createPositionBefore(P);N.has(F)?N.get(F).end=K.clone():N.set(F,new Ie(K.clone())),w.remove(P)}return N}(p,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,p}_convertItem(e,o){const a={viewItem:e,modelCursor:o,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,a,this.conversionApi):e.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof Ie))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(e,o){let a=o.is("position")?o:Je._createAt(o,0);const d=new Ie(a);for(const p of Array.from(e.getChildren())){const y=this._convertItem(p,a);y.modelRange instanceof Ie&&(d.end=y.modelRange.end,a=y.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(e,o){const a=this._splitToAllowedParent(e,o);return!!a&&(this.conversionApi.writer.insert(e,a.position),!0)}_updateConversionResult(e,o){const a=this._getSplitParts(e),d=this.conversionApi.writer;o.modelRange||(o.modelRange=d.createRange(d.createPositionBefore(e),d.createPositionAfter(a[a.length-1])));const p=this._cursorParents.get(e);o.modelCursor=p?d.createPositionAt(p,0):o.modelRange.end}_splitToAllowedParent(e,o){const{schema:a,writer:d}=this.conversionApi;let p=a.findAllowedParent(o,e);if(p){if(p===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(p)&&(p=null)}if(!p)return tf(o,e,a)?{position:u0(o,d)}:null;const y=this.conversionApi.writer.split(o,p),w=[];for(const N of y.range.getWalker())if(N.type=="elementEnd")w.push(N.item);else{const D=w.pop(),P=N.item;this._registerSplitPair(D,P)}const A=y.range.end.parent;return this._cursorParents.set(e,A),{position:y.position,cursorParent:A}}_registerSplitPair(e,o){this._splitParts.has(e)||this._splitParts.set(e,[e]);const a=this._splitParts.get(e);this._splitParts.set(o,a),a.push(o)}_getSplitParts(e){let o;return o=this._splitParts.has(e)?this._splitParts.get(e):[e],o}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const o of this._splitParts.keys())o.isEmpty&&!this._emptyElementsToKeep.has(o)&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),e=!0);e&&this._removeEmptyElements()}}class $b{getHtml(e){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(e),o.innerHTML}}class ms{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Il(e,{renderingMode:"data"}),this.htmlWriter=new $b}toData(e){const o=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(o)}toView(e){const o=this._toDom(e);return this.domConverter.domToView(o,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const o=this.domParser.parseFromString(e,"text/html"),a=o.createDocumentFragment(),d=o.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class dC extends oe(){constructor(e,o){super(),this.model=e,this.mapper=new Qh,this.downcastDispatcher=new to({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const y=p.writer,w=p.mapper.toViewPosition(d.range.start),A=y.createText(d.item.data);y.insert(w,A)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,d,p)=>{p.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||p.convertChildren(d.item)},{priority:"lowest"}),this.upcastDispatcher=new Or({schema:e.schema}),this.viewDocument=new Tc(o),this.stylesProcessor=o,this.htmlProcessor=new ms(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Qn(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:p,consumable:y,writer:w})=>{let A=d.modelCursor;if(!y.test(d.viewItem))return;if(!p.checkChild(A,"$text")){if(!tf(A,"$text",p)||d.viewItem.data.trim().length==0)return;const D=A.nodeBefore;A=u0(A,w),D&&D.is("element","$marker")&&(w.move(w.createRangeOn(D),A),A=w.createPositionAfter(D))}y.consume(d.viewItem);const N=w.createText(d.viewItem.data);w.insert(N,A),d.modelRange=w.createRange(A,A.getShiftedBy(N.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:y,modelCursor:w}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=y,d.modelCursor=w}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:y,modelCursor:w}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=y,d.modelCursor=w}},{priority:"lowest"}),tt().prototype.decorate.call(this,"init"),tt().prototype.decorate.call(this,"set"),tt().prototype.decorate.call(this,"get"),tt().prototype.decorate.call(this,"toView"),tt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Pr)},{priority:"lowest"})}get(e={}){const{rootName:o="main",trim:a="empty"}=e;if(!this._checkIfRootsExists([o]))throw new B("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(o);return d.isAttached()||Y("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,e):""}stringify(e,o={}){const a=this.toView(e,o);return this.processor.toData(a)}toView(e,o={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const p=Ie._createIn(e),y=new Qr(a);this.mapper.bindElements(e,y);const w=e.is("documentFragment")?e.markers:function(A){const N=[],D=A.root.document;if(!D)return new Map;const P=Ie._createIn(A);for(const F of D.model.markers){const K=F.getRange(),X=K.isCollapsed,se=K.start.isEqual(P.start)||K.end.isEqual(P.end);if(X&&se)N.push([F.name,K]);else{const de=P.getIntersection(K);de&&N.push([F.name,de])}}return N.sort(([F,K],[X,se])=>{if(K.end.compareWith(se.start)!=="after")return 1;if(K.start.compareWith(se.end)!=="before")return-1;switch(K.start.compareWith(se.start)){case"before":return 1;case"after":return-1;default:switch(K.end.compareWith(se.end)){case"before":return 1;case"after":return-1;default:return X.localeCompare(F)}}}),new Map(N)}(e);return this.downcastDispatcher.convert(p,w,d,o),y}init(e){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const d of Object.keys(o)){const p=this.model.document.getRoot(d);a.insert(this.parse(o[d],p),p,0)}}),Promise.resolve()}set(e,o={}){let a={};if(typeof e=="string"?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||{},d=>{d.setSelection(null),d.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const p of Object.keys(a)){const y=this.model.document.getRoot(p);d.remove(d.createRangeIn(y)),d.insert(this.parse(a[p],y),y,0)}})}parse(e,o="$root"){const a=this.processor.toView(e);return this.toModel(a,o)}toModel(e,o="$root"){return this.model.change(a=>this.upcastDispatcher.convert(e,a,o))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const o of e)if(!this.model.document.getRoot(o))return!1;return!0}}class Xb{constructor(e,o){this._helpers=new Map,this._downcast=Dn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Dn(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,o){const a=this._downcast.includes(o);if(!this._upcast.includes(o)&&!a)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[o],isDowncast:a})}for(e){if(!this._helpers.has(e))throw new B("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:o,view:a}of sm(e))this.for("upcast").elementToElement({model:o,view:a,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:o,view:a}of sm(e))this.for("upcast").elementToAttribute({view:a,model:o,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:o,view:a}of sm(e))this.for("upcast").attributeToAttribute({view:a,model:o})}_createConversionHelpers({name:e,dispatchers:o,isDowncast:a}){if(this._helpers.has(e))throw new B("conversion-group-exists",this);const d=a?new l0(o):new sf(o);this._helpers.set(e,d)}}function*sm(c){if(c.model.values)for(const e of c.model.values){const o={key:c.model.key,value:e},a=c.view[e],d=c.upcastAlso?c.upcastAlso[e]:void 0;yield*om(o,a,d)}else yield*om(c.model,c.view,c.upcastAlso)}function*om(c,e,o){if(yield{model:c,view:e},o)for(const a of Dn(o))yield{model:c,view:a}}class so{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,o){return new this(e.baseVersion)}}function lf(c,e){const o=k0(e),a=o.reduce((y,w)=>y+w.offsetSize,0),d=c.parent;im(c);const p=c.index;return d._insertChild(p,o),yu(d,p+o.length),yu(d,p),new Ie(c,c.getShiftedBy(a))}function cf(c){if(!c.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const e=c.start.parent;im(c.start),im(c.end);const o=e._removeChildren(c.start.index,c.end.index-c.start.index);return yu(e,c.start.index),o}function Fc(c,e){if(!c.isFlat)throw new B("operation-utils-move-range-not-flat",this);const o=cf(c);return lf(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),o)}function k0(c){const e=[];(function o(a){if(typeof a=="string")e.push(new Nr(a));else if(a instanceof Vn)e.push(new Nr(a.data,a.getAttributes()));else if(a instanceof eo)e.push(a);else if(_r(a))for(const d of a)o(d)})(c);for(let o=1;o<e.length;o++){const a=e[o],d=e[o-1];a instanceof Nr&&d instanceof Nr&&Zb(a,d)&&(e.splice(o-1,2,new Nr(d.data+a.data,d.getAttributes())),o--)}return e}function yu(c,e){const o=c.getChild(e-1),a=c.getChild(e);if(o&&a&&o.is("$text")&&a.is("$text")&&Zb(o,a)){const d=new Nr(o.data+a.data,o.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,d)}}function im(c){const e=c.textNode,o=c.parent;if(e){const a=c.offset-e.startOffset,d=e.index;o._removeChildren(d,1);const p=new Nr(e.data.substr(0,a),e.getAttributes()),y=new Nr(e.data.substr(a),e.getAttributes());o._insertChild(d,[p,y])}}function Zb(c,e){const o=c.getAttributes(),a=e.getAttributes();for(const d of o){if(d[1]!==e.getAttribute(d[0]))return!1;a.next()}return a.next().done}class fr extends so{constructor(e,o,a,d){super(d),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Ie._createFromPositionAndShift(this.sourcePosition,this.howMany),Ie._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new fr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new fr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,o=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>e.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(e===o&&a<d&&d<a+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Er(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const p=this.sourcePosition.path.length-1;if(this.targetPosition.path[p]>=a&&this.targetPosition.path[p]<a+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){Fc(Ie._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,o){const a=Je.fromJSON(e.sourcePosition,o),d=Je.fromJSON(e.targetPosition,o);return new this(a,e.howMany,d,e.baseVersion)}}class Xn extends so{constructor(e,o,a){super(a),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Wi(k0(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Wi([...this.nodes].map(a=>a._clone(!0))),o=new Xn(this.position,e,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const e=this.position.root.document.graveyard,o=new Je(e,[0]);return new fr(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Wi([...e].map(o=>o._clone(!0))),lf(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,o){const a=[];for(const p of e.nodes)p.name?a.push(vt.fromJSON(p)):a.push(Nr.fromJSON(p));const d=new Xn(Je.fromJSON(e.position,o),a,e.baseVersion);return d.shouldReceiveAttributes=e.shouldReceiveAttributes,d}}class or extends so{constructor(e,o,a,d,p){super(p),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Je(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ie(this.splitPosition,e)}get affectedSelectable(){const e=[Ie._createFromPositionAndShift(this.splitPosition,0),Ie._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Ie._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new or(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,o=new Je(e,[0]);return new en(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,o=this.splitPosition.offset;if(!e||e.maxOffset<o)throw new B("split-operation-position-invalid",this);if(!e.parent)throw new B("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Fc(Ie._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=e._clone();lf(this.insertionPosition,o)}Fc(new Ie(Je._createAt(e,this.splitPosition.offset),Je._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const o=e.path.slice(0,-1);return o[o.length-1]++,new Je(e.root,o,"toPrevious")}static fromJSON(e,o){const a=Je.fromJSON(e.splitPosition,o),d=Je.fromJSON(e.insertionPosition,o),p=e.graveyardPosition?Je.fromJSON(e.graveyardPosition,o):null;return new this(a,e.howMany,d,p,e.baseVersion)}}class en extends so{constructor(e,o,a,d,p){super(p),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new Je(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ie(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Ie._createOn(e),Ie._createFromPositionAndShift(this.targetPosition,0),Ie._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new en(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),a=new Je(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new or(e,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,o=this.targetPosition.parent;if(!e.parent)throw new B("merge-operation-source-position-invalid",this);if(!o.parent)throw new B("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new B("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Fc(Ie._createIn(e),this.targetPosition),Fc(Ie._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,o){const a=Je.fromJSON(e.sourcePosition,o),d=Je.fromJSON(e.targetPosition,o),p=Je.fromJSON(e.graveyardPosition,o);return new this(a,e.howMany,d,p,e.baseVersion)}}class Ns extends so{constructor(e,o,a,d,p,y){super(y),this.name=e,this.oldRange=o?o.clone():null,this.newRange=a?a.clone():null,this.affectsData=p,this._markers=d}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Ns(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ns(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,o){return new Ns(e.name,e.oldRange?Ie.fromJSON(e.oldRange,o):null,e.newRange?Ie.fromJSON(e.newRange,o):null,o.model.markers,e.affectsData,e.baseVersion)}}const C0=function(c,e){return Pc(c,e)};class yn extends so{constructor(e,o,a,d,p){super(p),this.range=e.clone(),this.key=o,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!C0(e.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){C0(this.oldValue,this.newValue)||function(e,o,a){im(e.start),im(e.end);for(const d of e.getItems({shallow:!0})){const p=d.is("$textProxy")?d.textNode:d;a!==null?p._setAttribute(o,a):p._removeAttribute(o),yu(p.parent,p.index)}yu(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,o){return new yn(Ie.fromJSON(e.range,o),e.key,e.oldValue,e.newValue,e.baseVersion)}}class xn extends so{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new xn(this.baseVersion)}getReversed(){return new xn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class oo extends so{constructor(e,o,a,d){super(d),this.position=e,this.position.stickiness="toNext",this.oldName=o,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new oo(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new oo(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof vt))throw new B("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,o){return new oo(Je.fromJSON(e.position,o),e.oldName,e.newName,e.baseVersion)}}class Un extends so{constructor(e,o,a,d,p){super(p),this.root=e,this.key=o,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Un(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Un(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,o){if(!o.getRoot(e.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Un(o.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Yo extends so{constructor(e,o,a,d,p){super(p),this.rootName=e,this.elementName=o,this.isAdd=a,this._document=d,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Yo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Yo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,o){return new Yo(e.rootName,e.elementName,e.isAdd,o,e.baseVersion)}}const So={};So[yn.className]=yn,So[Xn.className]=Xn,So[Ns.className]=Ns,So[fr.className]=fr,So[xn.className]=xn,So[so.className]=so,So[oo.className]=oo,So[Un.className]=Un,So[Yo.className]=Yo,So[or.className]=or,So[en.className]=en;class _0{static fromJSON(e,o){return So[e.__className].fromJSON(e,o)}}const Vc=new Map;function Rt(c,e,o){let a=Vc.get(c);a||(a=new Map,Vc.set(c,a)),a.set(e,o)}function A0(c){return[c]}function am(c,e,o={}){const a=function(d,p){const y=Vc.get(d);return y&&y.has(p)?y.get(p):A0}(c.constructor,e.constructor);try{return a(c=c.clone(),e,o)}catch(d){throw d}}function La(c,e,o){c=c.slice(),e=e.slice();const a=new uC(o.document,o.useRelations,o.forceWeakRemove);a.setOriginalOperations(c),a.setOriginalOperations(e);const d=a.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:d};const p=new WeakMap;for(const A of c)p.set(A,0);const y={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let w=0;for(;w<c.length;){const A=c[w],N=p.get(A);if(N==e.length){w++;continue}const D=e[N],P=am(A,D,a.getContext(A,D,!0)),F=am(D,A,a.getContext(D,A,!1));a.updateRelation(A,D),a.setOriginalOperations(P,A),a.setOriginalOperations(F,D);for(const K of P)p.set(K,N+F.length);c.splice(w,1,...P),e.splice(N,1,...F)}return j0(c,y.nextBaseVersionB),j0(e,y.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:d}}class uC{constructor(e,o,a=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=o,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(e,o=null){const a=o?this.originalOperations.get(o):null;for(const d of e)this.originalOperations.set(d,a||d)}updateRelation(e,o){if(e instanceof fr)o instanceof en?e.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,o,"insertAtSource"):e.targetPosition.isEqual(o.deletionPosition)?this._setRelation(e,o,"insertBetween"):e.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(e,o,"moveTargetAfter"):o instanceof fr&&(e.targetPosition.isEqual(o.sourcePosition)||e.targetPosition.isBefore(o.sourcePosition)?this._setRelation(e,o,"insertBefore"):this._setRelation(e,o,"insertAfter"));else if(e instanceof or){if(o instanceof en)e.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(e,o,"splitBefore");else if(o instanceof fr)if(e.splitPosition.isEqual(o.sourcePosition)||e.splitPosition.isBefore(o.sourcePosition))this._setRelation(e,o,"splitBefore");else{const a=Ie._createFromPositionAndShift(o.sourcePosition,o.howMany);if(e.splitPosition.hasSameParentAs(o.sourcePosition)&&a.containsPosition(e.splitPosition)){const d=a.end.offset-e.splitPosition.offset,p=e.splitPosition.offset-a.start.offset;this._setRelation(e,o,{howMany:d,offset:p})}}}else if(e instanceof en)o instanceof en?(e.targetPosition.isEqual(o.sourcePosition)||this._setRelation(e,o,"mergeTargetNotMoved"),e.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(e,o,"mergeSourceNotMoved"),e.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(e,o,"mergeSameElement")):o instanceof or&&e.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(e,o,"splitAtSource");else if(e instanceof Ns){const a=e.newRange;if(!a)return;if(o instanceof fr){const d=Ie._createFromPositionAndShift(o.sourcePosition,o.howMany),p=d.containsPosition(a.start)||d.start.isEqual(a.start),y=d.containsPosition(a.end)||d.end.isEqual(a.end);!p&&!y||d.containsRange(a)||this._setRelation(e,o,{side:p?"left":"right",path:p?a.start.path.slice():a.end.path.slice()})}else if(o instanceof en){const d=a.start.isEqual(o.targetPosition),p=a.start.isEqual(o.deletionPosition),y=a.end.isEqual(o.deletionPosition),w=a.end.isEqual(o.sourcePosition);(d||p||y||w)&&this._setRelation(e,o,{wasInLeftElement:d,wasStartBeforeMergedElement:p,wasEndBeforeMergedElement:y,wasInRightElement:w})}}}getContext(e,o,a){return{aIsStrong:a,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(e,o):null,baRelation:this._useRelations?this._getRelation(o,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const o=this.originalOperations.get(e);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(e,o){const a=this.originalOperations.get(o),d=this._history.getUndoneOperation(a);if(!d)return null;const p=this.originalOperations.get(e),y=this._relations.get(p);return y&&y.get(d)||null}_setRelation(e,o,a){const d=this.originalOperations.get(e),p=this.originalOperations.get(o);let y=this._relations.get(d);y||(y=new Map,this._relations.set(d,y)),y.set(p,a)}}function j0(c,e){for(const o of c)o.baseVersion=e++}function Uc(c,e,o){const a=c.nodes.getNode(0).getAttribute(e);if(a==o)return null;const d=new Ie(c.position,c.position.getShiftedBy(c.howMany));return new yn(d,e,a,o,0)}function ey(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function xu(c,e){const o=[];for(let a=0;a<c.length;a++){const d=c[a],p=new fr(d.start,d.end.offset-d.start.offset,e,0);o.push(p);for(let y=a+1;y<c.length;y++)c[y]=c[y]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)[0];e=e._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)}return o}Rt(yn,yn,(c,e,o)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const a=c.range.getDifference(e.range).map(p=>new yn(p,c.key,c.oldValue,c.newValue,0)),d=c.range.getIntersection(e.range);return d&&o.aIsStrong&&a.push(new yn(d,e.key,e.newValue,c.newValue,0)),a.length==0?[new xn(0)]:a}return[c]}),Rt(yn,Xn,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const o=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(a=>new yn(a,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const a=Uc(e,c.key,c.oldValue);a&&o.unshift(a)}return o}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),Rt(yn,en,(c,e)=>{const o=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&o.push(Ie._createFromPositionAndShift(e.graveyardPosition,1));const a=c.range._getTransformedByMergeOperation(e);return a.isCollapsed||o.push(a),o.map(d=>new yn(d,c.key,c.oldValue,c.newValue,c.baseVersion))}),Rt(yn,fr,(c,e)=>function(a,d){const p=Ie._createFromPositionAndShift(d.sourcePosition,d.howMany);let y=null,w=[];p.containsRange(a,!0)?y=a:a.start.hasSameParentAs(p.start)?(w=a.getDifference(p),y=a.getIntersection(p)):w=[a];const A=[];for(let N of w){N=N._getTransformedByDeletion(d.sourcePosition,d.howMany);const D=d.getMovedRangeStart(),P=N.start.hasSameParentAs(D),F=N._getTransformedByInsertion(D,d.howMany,P);A.push(...F)}return y&&A.push(y._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany,!1)[0]),A}(c.range,e).map(a=>new yn(a,c.key,c.oldValue,c.newValue,c.baseVersion))),Rt(yn,or,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const o=c.clone();return o.range=new Ie(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,o]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),Rt(Xn,yn,(c,e)=>{const o=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const a=Uc(c,e.key,e.newValue);a&&o.push(a)}return o}),Rt(Xn,Xn,(c,e,o)=>(c.position.isEqual(e.position)&&o.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),Rt(Xn,fr,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Rt(Xn,or,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),Rt(Xn,en,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),Rt(Ns,Xn,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),Rt(Ns,Ns,(c,e,o)=>{if(c.name==e.name){if(!o.aIsStrong)return[new xn(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),Rt(Ns,en,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),Rt(Ns,fr,(c,e,o)=>{if(c.oldRange&&(c.oldRange=Ie._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(o.abRelation){const a=Ie._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(o.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=a.end,c.newRange.start.path=o.abRelation.path,[c];if(o.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=a.start,c.newRange.end.path=o.abRelation.path,[c]}c.newRange=Ie._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),Rt(Ns,or,(c,e,o)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(o.abRelation){const a=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?c.newRange.start=Je._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!o.abRelation.wasInLeftElement&&(c.newRange.start=Je._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasInRightElement?c.newRange.end=Je._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?c.newRange.end=Je._createAt(e.insertionPosition):c.newRange.end=a.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),Rt(en,Xn,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),Rt(en,en,(c,e,o)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(o.bWasUndone){const a=e.graveyardPosition.path.slice();return a.push(0),c.sourcePosition=new Je(e.graveyardPosition.root,a),c.howMany=0,[c]}return[new xn(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!o.bWasUndone&&o.abRelation!="splitAtSource"){const a=c.targetPosition.root.rootName=="$graveyard",d=e.targetPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&o.aIsStrong){const p=e.targetPosition._getTransformedByMergeOperation(e),y=c.targetPosition._getTransformedByMergeOperation(e);return[new fr(p,c.howMany,y,0)]}return[new xn(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&o.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Rt(en,fr,(c,e,o)=>{const a=Ie._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!o.bWasUndone&&!o.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.sourcePosition)?[new xn(0)]:(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),Rt(en,or,(c,e,o)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const a=e.howMany!=0,d=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(a||d||o.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(o.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(o.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),Rt(fr,Xn,(c,e)=>{const o=Ie._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=o.start,c.howMany=o.end.offset-o.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),Rt(fr,fr,(c,e,o)=>{const a=Ie._createFromPositionAndShift(c.sourcePosition,c.howMany),d=Ie._createFromPositionAndShift(e.sourcePosition,e.howMany);let p,y=o.aIsStrong,w=!o.aIsStrong;if(o.abRelation=="insertBefore"||o.baRelation=="insertAfter"?w=!0:o.abRelation!="insertAfter"&&o.baRelation!="insertBefore"||(w=!1),p=c.targetPosition.isEqual(e.targetPosition)&&w?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ey(c,e)&&ey(e,c))return[e.getReversed()];if(a.containsPosition(e.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xu([a],p);if(d.containsPosition(c.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),a.end=a.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),xu([a],p);const A=Er(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(A=="prefix"||A=="extension")return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xu([a],p);c.type!="remove"||e.type=="remove"||o.aWasUndone||o.forceWeakRemove?c.type=="remove"||e.type!="remove"||o.bWasUndone||o.forceWeakRemove||(y=!1):y=!0;const N=[],D=a.getDifference(d);for(const F of D){F.start=F.start._getTransformedByDeletion(e.sourcePosition,e.howMany),F.end=F.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const K=Er(F.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",X=F._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,K);N.push(...X)}const P=a.getIntersection(d);return P!==null&&y&&(P.start=P.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),P.end=P.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),N.length===0?N.push(P):N.length==1?d.start.isBefore(a.start)||d.start.isEqual(a.start)?N.unshift(P):N.push(P):N.splice(1,0,P)),N.length===0?[new xn(c.baseVersion)]:xu(N,p)}),Rt(fr,or,(c,e,o)=>{let a=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&o.abRelation!="moveTargetAfter"||(a=c.targetPosition._getTransformedBySplitOperation(e));const d=Ie._createFromPositionAndShift(c.sourcePosition,c.howMany);if(d.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=a,[c];if(d.start.hasSameParentAs(e.splitPosition)&&d.containsPosition(e.splitPosition)){let y=new Ie(e.splitPosition,d.end);return y=y._getTransformedBySplitOperation(e),xu([new Ie(d.start,e.splitPosition),y],a)}c.targetPosition.isEqual(e.splitPosition)&&o.abRelation=="insertAtSource"&&(a=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&o.abRelation=="insertBetween"&&(a=c.targetPosition);const p=[d._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const y=d.start.isEqual(e.graveyardPosition)||d.containsPosition(e.graveyardPosition);c.howMany>1&&y&&!o.aWasUndone&&p.push(Ie._createFromPositionAndShift(e.insertionPosition,1))}return xu(p,a)}),Rt(fr,en,(c,e,o)=>{const a=Ie._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&a.containsPosition(e.sourcePosition)){if(c.type!="remove"||o.forceWeakRemove){if(c.howMany==1)return o.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new xn(0)]}else if(!o.aWasUndone){const p=[];let y=e.graveyardPosition.clone(),w=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(p.push(new fr(c.sourcePosition,c.howMany-1,c.targetPosition,0)),y=y._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const A=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),N=new fr(y,1,A,0),D=N.getMovedRangeStart().path.slice();D.push(0);const P=new Je(N.targetPosition.root,D);w=w._getTransformedByMove(y,A,1);const F=new fr(w,e.howMany,P,0);return p.push(N),p.push(F),p}}const d=Ie._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=d.start,c.howMany=d.end.offset-d.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),Rt(oo,Xn,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),Rt(oo,en,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),Rt(oo,fr,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Rt(oo,oo,(c,e,o)=>{if(c.position.isEqual(e.position)){if(!o.aIsStrong)return[new xn(0)];c.oldName=e.newName}return[c]}),Rt(oo,or,(c,e)=>{if(Er(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const o=new oo(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,o]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),Rt(Un,Un,(c,e,o)=>{if(c.root===e.root&&c.key===e.key){if(!o.aIsStrong||c.newValue===e.newValue)return[new xn(0)];c.oldValue=e.newValue}return[c]}),Rt(Yo,Yo,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new xn(0)]:[c]),Rt(or,Xn,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),Rt(or,en,(c,e,o)=>{if(!c.graveyardPosition&&!o.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const a=e.graveyardPosition.path.slice();a.push(0);const d=new Je(e.graveyardPosition.root,a),p=or.getInsertionPosition(new Je(e.graveyardPosition.root,a)),y=new or(d,0,p,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=or.getInsertionPosition(c.splitPosition),c.graveyardPosition=y.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[y,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=or.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Rt(or,fr,(c,e,o)=>{const a=Ie._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const p=a.start.isEqual(c.graveyardPosition)||a.containsPosition(c.graveyardPosition);if(!o.bWasUndone&&p){const y=c.splitPosition._getTransformedByMoveOperation(e),w=c.graveyardPosition._getTransformedByMoveOperation(e),A=w.path.slice();A.push(0);const N=new Je(w.root,A);return[new fr(y,c.howMany,N,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const d=c.splitPosition.isEqual(e.targetPosition);if(d&&(o.baRelation=="insertAtSource"||o.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=or.getInsertionPosition(c.splitPosition),[c];if(d&&o.abRelation&&o.abRelation.howMany){const{howMany:p,offset:y}=o.abRelation;return c.howMany+=p,c.splitPosition=c.splitPosition.getShiftedBy(y),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.splitPosition)){const p=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=p,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=or.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=or.getInsertionPosition(c.splitPosition),[c]}),Rt(or,or,(c,e,o)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new xn(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new xn(0)];if(o.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const a=c.splitPosition.root.rootName=="$graveyard",d=e.splitPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&o.aIsStrong){const p=[];return e.howMany&&p.push(new fr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&p.push(new fr(c.splitPosition,c.howMany,c.moveTargetPosition,0)),p}return[new xn(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&o.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&o.baRelation=="splitBefore"){const a=e.insertionPosition.path.slice();a.push(0);const d=new Je(e.insertionPosition.root,a);return[c,new fr(c.insertionPosition,1,d,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=or.getInsertionPosition(c.splitPosition),[c]});class ps extends oe(Je){constructor(e,o,a="toNone"){if(super(e,o,a),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",e);hC.call(this)}detach(){this.stopListening()}toPosition(){return new Je(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,o){return new this(e.root,e.path.slice(),o||e.stickiness)}}function hC(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const o=e[0];o.isDocumentOperation&&mC.call(this,o)},{priority:"low"})}function mC(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const o=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",o)}}ps.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class vu{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Y("batch-constructor-deprecated-string-type"));const{isUndoable:o=!0,isLocal:a=!0,isUndo:d=!1,isTyping:p=!1}=e;this.operations=[],this.isUndoable=o,this.isLocal=a,this.isUndo=d,this.isTyping=p}get type(){return Y("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var pC=Object.defineProperty,fC=Object.defineProperties,N0=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,lm=Object.prototype.hasOwnProperty,S0=Object.prototype.propertyIsEnumerable,E0=(c,e,o)=>e in c?pC(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,Hc=(c,e)=>{for(var o in e||(e={}))lm.call(e,o)&&E0(c,o,e[o]);if(Gc)for(var o of Gc(e))S0.call(e,o)&&E0(c,o,e[o]);return c};class cm{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const o=e;switch(o.type){case"insert":if(this._isInInsertedElement(o.position.parent))return;this._markInsert(o.position.parent,o.position.offset,o.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of o.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(o.sourcePosition.isEqual(o.targetPosition)||o.sourcePosition.getShiftedBy(o.howMany).isEqual(o.targetPosition))return;const a=this._isInInsertedElement(o.sourcePosition.parent),d=this._isInInsertedElement(o.targetPosition.parent);a||this._markRemove(o.sourcePosition.parent,o.sourcePosition.offset,o.howMany),d||this._markInsert(o.targetPosition.parent,o.getMovedRangeStart().offset,o.howMany);break}case"rename":{if(this._isInInsertedElement(o.position.parent))return;this._markRemove(o.position.parent,o.position.offset,1),this._markInsert(o.position.parent,o.position.offset,1);const a=Ie._createFromPositionAndShift(o.position,1);for(const d of this._markerCollection.getMarkersIntersectingRange(a)){const p=d.getData();this.bufferMarkerChange(d.name,p,p)}break}case"split":{const a=o.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,o.splitPosition.offset,o.howMany),this._isInInsertedElement(o.insertionPosition.parent)||this._markInsert(o.insertionPosition.parent,o.insertionPosition.offset,1),o.graveyardPosition&&this._markRemove(o.graveyardPosition.parent,o.graveyardPosition.offset,1);break}case"merge":{const a=o.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const d=o.graveyardPosition.parent;this._markInsert(d,o.graveyardPosition.offset,1);const p=o.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,o.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=o.affectedSelectable;if(!a._isLoaded||a.isAttached()==o.isAdd)return;this._bufferRootStateChange(o.rootName,o.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!o.root._isLoaded)return;const a=o.root.rootName;this._bufferRootAttributeChange(a,o.key,o.oldValue,o.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,o,a){o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let d=this._changedMarkers.get(e);d?d.newMarkerData=a:(d={newMarkerData:a,oldMarkerData:o},this._changedMarkers.set(e,d)),d.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[o,a]of this._changedMarkers)a.oldMarkerData.range!=null&&e.push({name:o,range:a.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[o,a]of this._changedMarkers)a.newMarkerData.range!=null&&e.push({name:o,range:a.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,o])=>({name:e,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:o}of this._changedMarkers.values()){if(e.affectsData!==o.affectsData)return!0;if(e.affectsData){const a=e.range&&!o.range,d=!e.range&&o.range,p=e.range&&o.range&&!e.range.isEqual(o.range);if(a||d||p)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((D,P)=>D.offset===P.offset?D.type!=P.type?D.type=="remove"?-1:1:0:D.offset<P.offset?-1:1),p=this._elementSnapshots.get(a),y=ty(a.getChildren()),w=df(p.length,d);let A=0,N=0;for(const D of w)if(D==="i")o.push(this._getInsertDiff(a,A,y[A])),A++;else if(D==="r")o.push(this._getRemoveDiff(a,A,p[N])),N++;else if(D==="a"){const P=y[A].attributes,F=p[N].attributes;let K;if(y[A].name=="$text")K=new Ie(Je._createAt(a,A),Je._createAt(a,A+1));else{const X=a.offsetToIndex(A);K=new Ie(Je._createAt(a,A),Je._createAt(a.getChild(X),0))}o.push(...this._getAttributesDiff(K,F,P)),A++,N++}else A++,N++}o.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<o.length;a++){const p=o[d],y=o[a],w=p.type=="remove"&&y.type=="remove"&&p.name=="$text"&&y.name=="$text"&&p.position.isEqual(y.position),A=p.type=="insert"&&y.type=="insert"&&p.name=="$text"&&y.name=="$text"&&p.position.parent==y.position.parent&&p.position.offset+p.length==y.position.offset,N=p.type=="attribute"&&y.type=="attribute"&&p.position.parent==y.position.parent&&p.range.isFlat&&y.range.isFlat&&p.position.offset+p.length==y.position.offset&&p.attributeKey==y.attributeKey&&p.attributeOldValue==y.attributeOldValue&&p.attributeNewValue==y.attributeNewValue;w||A||N?(p.length++,N&&(p.range.end=p.range.end.getShiftedBy(1)),o[a]=null):d=a}o=o.filter(a=>a);for(const a of o)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o,this._cachedChanges=o.filter(ry),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const o=Hc({},e);return o.state!==void 0&&delete o.attributes,o})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,o){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:o?"attached":"detached"});const a=this._changedRoots.get(e);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(e)):a.state=o?"attached":"detached"}_bufferRootAttributeChange(e,o,a,d){const p=this._changedRoots.get(e)||{name:e},y=p.attributes||{};if(y[o]){const w=y[o];d===w.oldValue?delete y[o]:w.newValue=d}else y[o]={oldValue:a,newValue:d};Object.entries(y).length===0?(delete p.attributes,p.state===void 0&&this._changedRoots.delete(e)):(p.attributes=y,this._changedRoots.set(e,p))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const o=Ie._createOn(e);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const d=a.getData();this.bufferMarkerChange(a.name,d,d)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const a of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,a,null,e.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==e){const d=a.getData();this.bufferMarkerChange(a.name,(o=Hc({},d),fC(o,N0({range:null}))),d)}var o}}_markInsert(e,o,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const d={type:"insert",offset:o,howMany:a,count:this._changeCount++};this._markChange(e,d)}_markRemove(e,o,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const d={type:"remove",offset:o,howMany:a,count:this._changeCount++};this._markChange(e,d),this._removeAllNestedChanges(e,o,a)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,o)}_markChange(e,o){this._makeSnapshot(e);const a=this._getChangesForElement(e);this._handleChange(o,a),a.push(o);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(e){let o;return this._changesInElement.has(e)?o=this._changesInElement.get(e):(o=[],this._changesInElement.set(e,o)),o}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,ty(e.getChildren()))}_handleChange(e,o){e.nodesToHandle=e.howMany;for(const a of o){const d=e.offset+e.howMany,p=a.offset+a.howMany;if(e.type=="insert"&&(a.type=="insert"&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<p&&(a.howMany+=e.nodesToHandle,e.nodesToHandle=0)),a.type=="remove"&&e.offset<a.offset&&(a.offset+=e.howMany),a.type=="attribute")){if(e.offset<=a.offset)a.offset+=e.howMany;else if(e.offset<p){const y=a.howMany;a.howMany=e.offset-a.offset,o.unshift({type:"attribute",offset:d,howMany:y-a.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(a.type=="insert"){if(d<=a.offset)a.offset-=e.howMany;else if(d<=p)if(e.offset<a.offset){const y=d-a.offset;a.offset=e.offset,a.howMany-=y,e.nodesToHandle-=y}else a.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=a.offset)e.nodesToHandle-=a.howMany,a.howMany=0;else if(e.offset<p){const y=p-e.offset;a.howMany-=y,e.nodesToHandle-=y}}if(a.type=="remove"&&(d<=a.offset?a.offset-=e.howMany:e.offset<a.offset&&(e.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(d<=a.offset)a.offset-=e.howMany;else if(e.offset<a.offset){const y=d-a.offset;a.offset=e.offset,a.howMany-=y}else if(e.offset<p)if(d<=p){const y=a.howMany;a.howMany=e.offset-a.offset;const w=y-a.howMany-e.nodesToHandle;o.unshift({type:"attribute",offset:e.offset,howMany:w,count:this._changeCount++})}else a.howMany-=p-e.offset}}if(e.type=="attribute"){if(a.type=="insert")if(e.offset<a.offset&&d>a.offset){if(d>p){const y={type:"attribute",offset:p,howMany:d-p,count:this._changeCount++};this._handleChange(y,o),o.push(y)}e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=a.offset&&e.offset<p&&(d>p?(e.nodesToHandle=d-p,e.offset=p):e.nodesToHandle=0);if(a.type=="remove"&&e.offset<a.offset&&d>a.offset){const y={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(y,o),o.push(y),e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}a.type=="attribute"&&(e.offset>=a.offset&&d<=p?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=a.offset&&d>=p&&(a.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,o,a){return{type:"insert",position:Je._createAt(e,o),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,o,a){return{type:"remove",position:Je._createAt(e,o),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,o,a){const d=[];a=new Map(a);for(const[p,y]of o){const w=a.has(p)?a.get(p):null;w!==y&&d.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:y,attributeNewValue:w,changeCount:this._changeCount++}),a.delete(p)}for(const[p,y]of a)d.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:y,changeCount:this._changeCount++});return d}_isInInsertedElement(e){const o=e.parent;if(!o)return!1;const a=this._changesInElement.get(o),d=e.startOffset;if(a){for(const p of a)if(p.type=="insert"&&d>=p.offset&&d<p.offset+p.howMany)return!0}return this._isInInsertedElement(o)}_removeAllNestedChanges(e,o,a){const d=new Ie(Je._createAt(e,o),Je._createAt(e,o+a));for(const p of d.getItems({shallow:!0}))p.is("element")&&(this._elementSnapshots.delete(p),this._changesInElement.delete(p),this._removeAllNestedChanges(p,0,p.maxOffset))}}function ty(c){const e=[];for(const o of c)if(o.is("$text"))for(let a=0;a<o.data.length;a++)e.push({name:"$text",attributes:new Map(o.getAttributes())});else e.push({name:o.name,attributes:new Map(o.getAttributes())});return e}function df(c,e){const o=[];let a=0,d=0;for(const p of e){if(p.offset>a){for(let y=0;y<p.offset-a;y++)o.push("e");d+=p.offset-a}if(p.type=="insert"){for(let y=0;y<p.howMany;y++)o.push("i");a=p.offset+p.howMany}else if(p.type=="remove"){for(let y=0;y<p.howMany;y++)o.push("r");a=p.offset,d+=p.howMany}else o.push(..."a".repeat(p.howMany).split("")),a=p.offset+p.howMany,d+=p.howMany}if(d<c)for(let p=0;p<c-d-a;p++)o.push("e");return o}function ry(c){const e="position"in c&&c.position.root.rootName=="$graveyard",o="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!o}class ny{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,o=this.version){if(!this._operations.length)return[];const a=this._operations[0];e===void 0&&(e=a.baseVersion);let d=o-1;for(const[w,A]of this._gaps)e>w&&e<A&&(e=A),d>w&&d<A&&(d=w-1);if(d<a.baseVersion||e>this.lastOperation.baseVersion)return[];let p=this._baseVersionToOperationIndex.get(e);p===void 0&&(p=0);let y=this._baseVersionToOperationIndex.get(d);return y===void 0&&(y=this._operations.length-1),this._operations.slice(p,y+1)}getOperation(e){const o=this._baseVersionToOperationIndex.get(e);if(o!==void 0)return this._operations[o]}setOperationAsUndone(e,o){this._undoPairs.set(o,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class qc extends vt{constructor(e,o,a="main"){super(o),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}qc.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var D0=Object.defineProperty,M0=Object.defineProperties,gC=Object.getOwnPropertyDescriptors,sy=Object.getOwnPropertySymbols,dm=Object.prototype.hasOwnProperty,bC=Object.prototype.propertyIsEnumerable,T0=(c,e,o)=>e in c?D0(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,I0=(c,e)=>{for(var o in e||(e={}))dm.call(e,o)&&T0(c,o,e[o]);if(sy)for(var o of sy(e))bC.call(e,o)&&T0(c,o,e[o]);return c},um=(c,e)=>M0(c,gC(e));const hm="$graveyard";class oy extends oe(){constructor(e){super(),this.model=e,this.history=new ny,this.selection=new No(this),this.roots=new Fs({idProperty:"rootName"}),this.differ=new cm(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",hm),this.listenTo(e,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(e,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&this.history.addOperation(d)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(o,a,d,p,y)=>{const w=um(I0({},a.getData()),{range:p});this.differ.bufferMarkerChange(a.name,y,w),d===null&&a.on("change",(A,N)=>{const D=a.getData();this.differ.bufferMarkerChange(a.name,um(I0({},D),{range:N}),D)})}),this.registerPostFixer(o=>{let a=!1;for(const d of this.roots)d.isAttached()||d.isEmpty||(o.remove(o.createRangeIn(d)),a=!0);for(const d of this.model.markers)d.getRange().root.isAttached()||(o.removeMarker(d),a=!0);return a})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(hm)}createRoot(e="$root",o="main"){if(this.roots.get(o))throw new B("model-document-createroot-name-exists",this,{name:o});const a=new qc(this,e,o);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(o=>o.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(o=>o!=this.graveyard&&(e||o.isAttached())&&o._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=$g(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),o=this.model,a=o.schema,d=o.createPositionFromPath(e,[0]);return a.getNearestSelectionRange(d)||o.createRange(d)}_validateSelectionRange(e){return R0(e.start)&&R0(e.end)}_callPostFixers(e){let o=!1;do for(const a of this._postFixers)if(this.selection.refresh(),o=a(e),o)break;while(o)}}function R0(c){const e=c.textNode;if(e){const o=e.data,a=c.offset-e.startOffset;return!qi(o,a)&&!fi(o,a)}return!0}var mm=Object.defineProperty,yC=Object.defineProperties,P0=Object.getOwnPropertyDescriptors,iy=Object.getOwnPropertySymbols,O0=Object.prototype.hasOwnProperty,B0=Object.prototype.propertyIsEnumerable,uf=(c,e,o)=>e in c?mm(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class L0 extends oe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const o=e instanceof za?e.name:e;return this._markers.has(o)}get(e){return this._markers.get(e)||null}_set(e,o,a=!1,d=!1){const p=e instanceof za?e.name:e;if(p.includes(","))throw new B("markercollection-incorrect-marker-name",this);const y=this._markers.get(p);if(y){const D=y.getData(),P=y.getRange();let F=!1;return P.isEqual(o)||(y._attachLiveRange(Ho.fromRange(o)),F=!0),a!=y.managedUsingOperations&&(y._managedUsingOperations=a,F=!0),typeof d=="boolean"&&d!=y.affectsData&&(y._affectsData=d,F=!0),F&&this.fire(`update:${p}`,y,P,o,D),y}const w=Ho.fromRange(o),A=new za(p,w,a,d);var N;return this._markers.set(p,A),this.fire(`update:${p}`,A,null,o,(N=((D,P)=>{for(var F in P||(P={}))O0.call(P,F)&&uf(D,F,P[F]);if(iy)for(var F of iy(P))B0.call(P,F)&&uf(D,F,P[F]);return D})({},A.getData()),yC(N,P0({range:null})))),A}_remove(e){const o=e instanceof za?e.name:e,a=this._markers.get(o);return!!a&&(this._markers.delete(o),this.fire(`update:${o}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(e){const o=e instanceof za?e.name:e,a=this._markers.get(o);if(!a)throw new B("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire(`update:${o}`,a,d,d,a.getData())}*getMarkersAtPosition(e){for(const o of this)o.getRange().containsPosition(e)&&(yield o)}*getMarkersIntersectingRange(e){for(const o of this)o.getRange().getIntersection(e)!==null&&(yield o)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const o of this._markers.values())o.name.startsWith(e+":")&&(yield o)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class za extends oe(In){constructor(e,o,a,d){super(),this.name=e,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}za.prototype.is=function(c){return c==="marker"||c==="model:marker"};class xC extends so{constructor(e,o){super(null),this.sourcePosition=e.clone(),this.howMany=o}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){cf(Ie._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Fa extends In{constructor(e){super(),this.markers=new Map,this._children=new Wi,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let o=this;for(const a of e)o=o.getChild(o.offsetToIndex(a));return o}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const o of this._children)e.push(o.toJSON());return e}static fromJSON(e){const o=[];for(const a of e)a.name?o.push(vt.fromJSON(a)):o.push(Nr.fromJSON(a));return new Fa(o)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,o){const a=function(d){return typeof d=="string"?[new Nr(d)]:(_r(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Nr(p):p instanceof Vn?new Nr(p.data,p.getAttributes()):p))}(o);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,o=1){const a=this._children._removeNodes(e,o);for(const d of a)d.parent=null;return a}}Fa.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class ay{constructor(e,o){this.model=e,this.batch=o}createText(e,o){return new Nr(e,o)}createElement(e,o){return new vt(e,o)}createDocumentFragment(){return new Fa}cloneElement(e,o=!0){return e._clone(o)}insert(e,o,a=0){if(this._assertWriterUsedCorrectly(),e instanceof Nr&&e.data=="")return;const d=Je._createAt(o,a);if(e.parent){if(mf(e.root,d.root))return void this.move(Ie._createOn(e),d);if(e.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(e)}const p=d.root.document?d.root.document.version:null,y=new Xn(d,e,p);if(e instanceof Nr&&(y.shouldReceiveAttributes=!0),this.batch.addOperation(y),this.model.applyOperation(y),e instanceof Fa)for(const[w,A]of e.markers){const N=Je._createAt(A.root,0),D={range:new Ie(A.start._getCombined(N,d),A.end._getCombined(N,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(w)?this.updateMarker(w,D):this.addMarker(w,D)}}insertText(e,o,a,d){o instanceof Fa||o instanceof vt||o instanceof Je?this.insert(this.createText(e),o,a):this.insert(this.createText(e,o),a,d)}insertElement(e,o,a,d){o instanceof Fa||o instanceof vt||o instanceof Je?this.insert(this.createElement(e),o,a):this.insert(this.createElement(e,o),a,d)}append(e,o){this.insert(e,o,"end")}appendText(e,o,a){o instanceof Fa||o instanceof vt?this.insert(this.createText(e),o,"end"):this.insert(this.createText(e,o),a,"end")}appendElement(e,o,a){o instanceof Fa||o instanceof vt?this.insert(this.createElement(e),o,"end"):this.insert(this.createElement(e,o),a,"end")}setAttribute(e,o,a){if(this._assertWriterUsedCorrectly(),a instanceof Ie){const d=a.getMinimalFlatRanges();for(const p of d)hf(this,e,o,p)}else pm(this,e,o,a)}setAttributes(e,o){for(const[a,d]of Cs(e))this.setAttribute(a,d,o)}removeAttribute(e,o){if(this._assertWriterUsedCorrectly(),o instanceof Ie){const a=o.getMinimalFlatRanges();for(const d of a)hf(this,e,null,d)}else pm(this,e,null,o)}clearAttributes(e){this._assertWriterUsedCorrectly();const o=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(e instanceof Ie)for(const a of e.getItems())o(a);else o(e)}move(e,o,a){if(this._assertWriterUsedCorrectly(),!(e instanceof Ie))throw new B("writer-move-invalid-range",this);if(!e.isFlat)throw new B("writer-move-range-not-flat",this);const d=Je._createAt(o,a);if(d.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!mf(e.root,d.root))throw new B("writer-move-different-document",this);const p=e.root.document?e.root.document.version:null,y=new fr(e.start,e.end.offset-e.start.offset,d,p);this.batch.addOperation(y),this.model.applyOperation(y)}remove(e){this._assertWriterUsedCorrectly();const o=(e instanceof Ie?e:Ie._createOn(e)).getMinimalFlatRanges().reverse();for(const a of o)this._addOperationForAffectedMarkers("move",a),z0(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const o=e.nodeBefore,a=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(o instanceof vt))throw new B("writer-merge-no-element-before",this);if(!(a instanceof vt))throw new B("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,o,a){return this.model.createPositionFromPath(e,o,a)}createPositionAt(e,o){return this.model.createPositionAt(e,o)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,o){return this.model.createRange(e,o)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const o=e.nodeBefore,a=e.nodeAfter;this.move(Ie._createIn(a),Je._createAt(o,"end")),this.remove(a)}_merge(e){const o=Je._createAt(e.nodeBefore,"end"),a=Je._createAt(e.nodeAfter,0),d=e.root.document.graveyard,p=new Je(d,[0]),y=e.root.document.version,w=new en(a,e.nodeAfter.maxOffset,o,p,y);this.batch.addOperation(w),this.model.applyOperation(w)}rename(e,o){if(this._assertWriterUsedCorrectly(),!(e instanceof vt))throw new B("writer-rename-not-element-instance",this);const a=e.root.document?e.root.document.version:null,d=new oo(Je._createBefore(e),e.name,o,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(e,o){this._assertWriterUsedCorrectly();let a,d,p=e.parent;if(!p.parent)throw new B("writer-split-element-no-parent",this);if(o||(o=p.parent),!e.parent.getAncestors({includeSelf:!0}).includes(o))throw new B("writer-split-invalid-limit-element",this);do{const y=p.root.document?p.root.document.version:null,w=p.maxOffset-e.offset,A=or.getInsertionPosition(e),N=new or(e,w,A,null,y);this.batch.addOperation(N),this.model.applyOperation(N),a||d||(a=p,d=e.parent.nextSibling),p=(e=this.createPositionAfter(e.parent)).parent}while(p!==o);return{position:e,range:new Ie(Je._createAt(a,"end"),Je._createAt(d,0))}}wrap(e,o){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new B("writer-wrap-range-not-flat",this);const a=o instanceof vt?o:new vt(o);if(a.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(a,e.start);const d=new Ie(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(d,Je._createAt(a,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(Ie._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,o){if(this._assertWriterUsedCorrectly(),!o||typeof o.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const a=o.usingOperation,d=o.range,p=o.affectsData!==void 0&&o.affectsData;if(this.model.markers.has(e))throw new B("writer-addmarker-marker-exists",this);if(!d)throw new B("writer-addmarker-no-range",this);return a?(Yc(this,e,null,d,p),this.model.markers.get(e)):this.model.markers._set(e,d,a,p)}updateMarker(e,o){this._assertWriterUsedCorrectly();const a=typeof e=="string"?e:e.name,d=this.model.markers.get(a);if(!d)throw new B("writer-updatemarker-marker-not-exists",this);if(!o)return Y("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(d);const p=typeof o.usingOperation=="boolean",y=typeof o.affectsData=="boolean",w=y?o.affectsData:d.affectsData;if(!p&&!o.range&&!y)throw new B("writer-updatemarker-wrong-options",this);const A=d.getRange(),N=o.range?o.range:A;p&&o.usingOperation!==d.managedUsingOperations?o.usingOperation?Yc(this,a,null,N,w):(Yc(this,a,A,null,w),this.model.markers._set(a,N,void 0,w)):d.managedUsingOperations?Yc(this,a,A,N,w):this.model.markers._set(a,N,void 0,w)}removeMarker(e){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name;if(!this.model.markers.has(o))throw new B("writer-removemarker-no-marker",this);const a=this.model.markers.get(o);if(!a.managedUsingOperations)return void this.model.markers._remove(o);Yc(this,o,a.getRange(),null,a.affectsData)}addRoot(e,o="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(e);if(a&&a.isAttached())throw new B("writer-addroot-root-exists",this);const d=this.model.document,p=new Yo(e,o,!0,d,d.version);return this.batch.addOperation(p),this.model.applyOperation(p),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const o=typeof e=="string"?this.model.document.getRoot(e):e;if(!o||!o.isAttached())throw new B("writer-detachroot-no-root",this);for(const p of this.model.markers)p.getRange().root===o&&this.removeMarker(p);for(const p of o.getAttributeKeys())this.removeAttribute(p,o);this.remove(this.createRangeIn(o));const a=this.model.document,d=new Yo(o.rootName,o.name,!1,a,a.version);this.batch.addOperation(d),this.model.applyOperation(d)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,o)}setSelectionAttribute(e,o){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,o);else for(const[a,d]of Cs(e))this._setSelectionAttribute(a,d)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const o of e)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,o){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=No._getStoreAttributeKey(e);this.setAttribute(d,o,a.anchor.parent)}a._setAttribute(e,o)}_removeSelectionAttribute(e){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=No._getStoreAttributeKey(e);this.removeAttribute(a,o.anchor.parent)}o._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,o){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let p=!1;if(e==="move"){const y=o;p=y.containsPosition(d.start)||y.start.isEqual(d.start)||y.containsPosition(d.end)||y.end.isEqual(d.end)}else{const y=o,w=y.nodeBefore,A=y.nodeAfter,N=d.start.parent==w&&d.start.isAtEnd,D=d.end.parent==A&&d.end.offset==0,P=d.end.nodeAfter==A,F=d.start.nodeAfter==A;p=N||D||P||F}p&&this.updateMarker(a.name,{range:d})}}}function hf(c,e,o,a){const d=c.model,p=d.document;let y,w,A,N=a.start;for(const P of a.getWalker({shallow:!0}))A=P.item.getAttribute(e),y&&w!=A&&(w!=o&&D(),N=y),y=P.nextPosition,w=A;function D(){const P=new Ie(N,y),F=P.root.document?p.version:null,K=new yn(P,e,w,o,F);c.batch.addOperation(K),d.applyOperation(K)}y instanceof Je&&y!=N&&w!=o&&D()}function pm(c,e,o,a){const d=c.model,p=d.document,y=a.getAttribute(e);let w,A;if(y!=o){if(a.root===a){const N=a.document?p.version:null;A=new Un(a,e,y,o,N)}else{w=new Ie(Je._createBefore(a),c.createPositionAfter(a));const N=w.root.document?p.version:null;A=new yn(w,e,y,o,N)}c.batch.addOperation(A),d.applyOperation(A)}}function Yc(c,e,o,a,d){const p=c.model,y=p.document,w=new Ns(e,o,a,p.markers,!!d,y.version);c.batch.addOperation(w),p.applyOperation(w)}function z0(c,e,o,a){let d;if(c.root.document){const p=a.document,y=new Je(p.graveyard,[0]);d=new fr(c,e,y,p.version)}else d=new xC(c,e);o.addOperation(d),a.applyOperation(d)}function mf(c,e){return c===e||c instanceof qc&&e instanceof qc}function zl(c,e,o={}){if(e.isCollapsed)return;const a=e.getFirstRange();if(a.root.rootName=="$graveyard")return;const d=c.schema;c.change(p=>{if(!o.doNotResetEntireContent&&function(N,D){const P=N.getLimitElement(D);if(!D.containsEntireContent(P))return!1;const F=D.getFirstRange();return F.start.parent==F.end.parent?!1:N.checkChild(P,"paragraph")}(d,e))return void function(N,D){const P=N.model.schema.getLimitElement(D);N.remove(N.createRangeIn(P)),wu(N,N.createPositionAt(P,0),D)}(p,e);const y={};if(!o.doNotAutoparagraph){const N=e.getSelectedElement();N&&Object.assign(y,d.getAttributesWithProperty(N,"copyOnReplace",!0))}const[w,A]=function(N){const D=N.root.document.model,P=N.start;let F=N.end;if(D.hasContent(N,{ignoreMarkers:!0})){const K=function(X){const se=X.parent,de=se.root.document.model.schema,pe=se.getAncestors({parentFirst:!0,includeSelf:!0});for(const ke of pe){if(de.isLimit(ke))return null;if(de.isBlock(ke))return ke}}(F);if(K&&F.isTouching(D.createPositionAt(K,0))){const X=D.createSelection(N);D.modifySelection(X,{direction:"backward"});const se=X.getLastPosition(),de=D.createRange(se,F);D.hasContent(de,{ignoreMarkers:!0})||(F=se)}}return[ps.fromPosition(P,"toPrevious"),ps.fromPosition(F,"toNext")]}(a);w.isTouching(A)||p.remove(p.createRange(w,A)),o.leaveUnmerged||(function(N,D,P){const F=N.model;if(!Wc(N.model.schema,D,P))return;const[K,X]=function(se,de){const pe=se.getAncestors(),ke=de.getAncestors();let Fe=0;for(;pe[Fe]&&pe[Fe]==ke[Fe];)Fe++;return[pe[Fe],ke[Fe]]}(D,P);!K||!X||(!F.hasContent(K,{ignoreMarkers:!0})&&F.hasContent(X,{ignoreMarkers:!0})?Ua(N,D,P,K.parent):Va(N,D,P,K.parent))}(p,w,A),d.removeDisallowedAttributes(w.parent.getChildren(),p)),Ga(p,e,w),!o.doNotAutoparagraph&&function(N,D){const P=N.checkChild(D,"$text"),F=N.checkChild(D,"paragraph");return!P&&F}(d,w)&&wu(p,w,e,y),w.detach(),A.detach()})}function Va(c,e,o,a){const d=e.parent,p=o.parent;if(d!=a&&p!=a){for(e=c.createPositionAfter(d),(o=c.createPositionBefore(p)).isEqual(e)||c.insert(p,e),c.merge(e);o.parent.isEmpty;){const y=o.parent;o=c.createPositionBefore(y),c.remove(y)}Wc(c.model.schema,e,o)&&Va(c,e,o,a)}}function Ua(c,e,o,a){const d=e.parent,p=o.parent;if(d!=a&&p!=a){for(e=c.createPositionAfter(d),(o=c.createPositionBefore(p)).isEqual(e)||c.insert(d,o);e.parent.isEmpty;){const y=e.parent;e=c.createPositionBefore(y),c.remove(y)}o=c.createPositionBefore(p),function(y,w){const A=w.nodeBefore,N=w.nodeAfter;A.name!=N.name&&y.rename(A,N.name),y.clearAttributes(A),y.setAttributes(Object.fromEntries(N.getAttributes()),A),y.merge(w)}(c,o),Wc(c.model.schema,e,o)&&Ua(c,e,o,a)}}function Wc(c,e,o){const a=e.parent,d=o.parent;return a!=d&&!c.isLimit(a)&&!c.isLimit(d)&&function(p,y,w){const A=new Ie(p,y);for(const N of A.getWalker())if(w.isLimit(N.item))return!1;return!0}(e,o,c)}function wu(c,e,o,a={}){const d=c.createElement("paragraph");c.model.schema.setAllowedAttributes(d,a,c),c.insert(d,e),Ga(c,o,c.createPositionAt(d,0))}function Ga(c,e,o){e instanceof No?c.setSelection(o):e.setTo(o)}function F0(c,e){const o=[];Array.from(c.getItems({direction:"backward"})).map(a=>e.createRangeOn(a)).filter(a=>(a.start.isAfter(c.start)||a.start.isEqual(c.start))&&(a.end.isBefore(c.end)||a.end.isEqual(c.end))).forEach(a=>{o.push(a.start.parent),e.remove(a)}),o.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const p=e.createRangeOn(d);d=d.parent,e.remove(p)}})}class V0{constructor(e,o,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=o,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const o of Array.from(e))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const o=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(e);if(a.isAfter(o)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Ie._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Ie(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let o=this._checkAndAutoParagraphToAllowedPosition(e);o||(o=this._checkAndSplitToAllowedPosition(e),o)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ps.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new B("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ps.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ps.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof vt)||!this._canMergeLeft(e))return;const o=ps._createBefore(e);o.stickiness="toNext";const a=ps.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=ps._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ps._createAt(o.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof vt)||!this._canMergeRight(e))return;const o=ps._createAfter(e);if(o.stickiness="toNext",!this.position.isEqual(o))throw new B("insertcontent-invalid-insertion-position",this);this.position=Je._createAt(o.nodeBefore,"end");const a=ps.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=ps._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ps._createAt(o.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(e){const o=e.previousSibling;return o instanceof vt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,e)}_canMergeRight(e){const o=e.nextSibling;return o instanceof vt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(e,o)}_tryAutoparagraphing(e){const o=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,o)&&this.schema.checkChild(o,e)&&(o._appendChild(e),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(e){const o=this._getAllowedIn(this.position.parent,e);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===o&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,o){return this.schema.checkChild(e,o)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,o)}}function ku(c,e,o="auto"){const a=c.getSelectedElement();if(a&&e.schema.isObject(a)&&!e.schema.isInline(a))return o=="before"||o=="after"?e.createRange(e.createPositionAt(a,o)):e.createRangeOn(a);const d=gn(c.getSelectedBlocks());if(!d)return e.createRange(c.focus);if(d.isEmpty)return e.createRange(e.createPositionAt(d,0));const p=e.createPositionAfter(d);return c.focus.isTouching(p)?e.createRange(p):e.createRange(e.createPositionBefore(d))}function vC(c,e,o,a={}){if(!c.schema.isObject(e))throw new B("insertobject-element-not-an-object",c,{object:e});const d=o||c.document.selection;let p=d;a.findOptimalPosition&&c.schema.isBlock(e)&&(p=c.createSelection(ku(d,c,a.findOptimalPosition)));const y=gn(d.getSelectedBlocks()),w={};return y&&Object.assign(w,c.schema.getAttributesWithProperty(y,"copyOnReplace",!0)),c.change(A=>{p.isCollapsed||c.deleteContent(p,{doNotAutoparagraph:!0});let N=e;const D=p.anchor.parent;!c.schema.checkChild(D,e)&&c.schema.checkChild(D,"paragraph")&&c.schema.checkChild("paragraph",e)&&(N=A.createElement("paragraph"),A.insert(e,N)),c.schema.setAllowedAttributes(N,w,A);const P=c.insertContent(N,p);return P.isCollapsed||a.setSelection&&function(F,K,X,se){const de=F.model;if(X=="on")return void F.setSelection(K,"on");if(X!="after")throw new B("insertobject-invalid-place-parameter-value",de);let pe=K.nextSibling;if(de.schema.isInline(K))return void F.setSelection(K,"after");!(pe&&de.schema.checkChild(pe,"$text"))&&de.schema.checkChild(K.parent,"paragraph")&&(pe=F.createElement("paragraph"),de.schema.setAllowedAttributes(pe,se,F),de.insertContent(pe,F.createPositionAfter(K))),pe&&F.setSelection(pe,0)}(A,e,a.setSelection,w),P})}const U0=' ,.?!:;"-()';function pf(c,e){const{isForward:o,walker:a,unit:d,schema:p,treatEmojiAsSingleUnit:y}=c,{type:w,item:A,nextPosition:N}=e;if(w=="text")return c.unit==="word"?function(D,P){let F=D.position.textNode;for(F||(F=P?D.position.nodeAfter:D.position.nodeBefore);F&&F.is("$text");){const K=D.position.offset-F.startOffset;if(ff(F,K,P))F=P?D.position.nodeAfter:D.position.nodeBefore;else{if(wC(F.data,K,P))break;D.next()}}return D.position}(a,o):function(D,P,F){const K=D.position.textNode;if(K){const X=K.data;let se=D.position.offset-K.startOffset;for(;qi(X,se)||P=="character"&&fi(X,se)||F&&vp(X,se);)D.next(),se=D.position.offset-K.startOffset}return D.position}(a,d,y);if(w==(o?"elementStart":"elementEnd")){if(p.isSelectable(A))return Je._createAt(A,o?"after":"before");if(p.checkChild(N,"$text"))return N}else{if(p.isLimit(A))return void a.skip(()=>!0);if(p.checkChild(N,"$text"))return N}}function G0(c,e){const o=c.root,a=Je._createAt(o,e?"end":0);return e?new Ie(c,a):new Ie(a,c)}function wC(c,e,o){const a=e+(o?0:-1);return U0.includes(c.charAt(a))}function ff(c,e,o){return e===(o?c.offsetSize:0)}class gf extends tt(){constructor(){super(),this.markers=new L0,this.document=new oy(this),this.schema=new Wb,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,o)=>{if(o.name==="$marker")return!0}),f0(this),this.document.registerPostFixer(Pr),this.on("insertContent",(e,[o,a])=>{e.return=function(d,p,y){return d.change(w=>{const A=y||d.document.selection;A.isCollapsed||d.deleteContent(A,{doNotAutoparagraph:!0});const N=new V0(d,w,A.anchor),D=[];let P;if(p.is("documentFragment")){if(p.markers.size){const X=[];for(const[se,de]of p.markers){const{start:pe,end:ke}=de,Fe=pe.isEqual(ke);X.push({position:pe,name:se,isCollapsed:Fe},{position:ke,name:se,isCollapsed:Fe})}X.sort(({position:se},{position:de})=>se.isBefore(de)?1:-1);for(const{position:se,name:de,isCollapsed:pe}of X){let ke=null,Fe=null;const it=se.parent===p&&se.isAtStart,At=se.parent===p&&se.isAtEnd;it||At?pe&&(Fe=it?"start":"end"):(ke=w.createElement("$marker"),w.insert(ke,se)),D.push({name:de,element:ke,collapsed:Fe})}}P=p.getChildren()}else P=[p];N.handleNodes(P);let F=N.getSelectionRange();if(p.is("documentFragment")&&D.length){const X=F?Ho.fromRange(F):null,se={};for(let de=D.length-1;de>=0;de--){const{name:pe,element:ke,collapsed:Fe}=D[de],it=!se[pe];if(it&&(se[pe]=[]),ke){const At=w.createPositionAt(ke,"before");se[pe].push(At),w.remove(ke)}else{const At=N.getAffectedRange();if(!At){Fe&&se[pe].push(N.position);continue}Fe?se[pe].push(At[Fe]):se[pe].push(it?At.start:At.end)}}for(const[de,[pe,ke]]of Object.entries(se))pe&&ke&&pe.root===ke.root&&w.addMarker(de,{usingOperation:!0,affectsData:!0,range:new Ie(pe,ke)});X&&(F=X.toRange(),X.detach())}F&&(A instanceof No?w.setSelection(F):A.setTo(F));const K=N.getAffectedRange()||d.createRange(A.anchor);return N.destroy(),K})}(this,o,a)}),this.on("insertObject",(e,[o,a,d])=>{e.return=vC(this,o,a,d)}),this.on("canEditAt",e=>{const o=!this.document.isReadOnly;e.return=o,o||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new vu,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(o){B.rethrowUnexpectedError(o,this)}}enqueueChange(e,o){try{e?typeof e=="function"?(o=e,e=new vu):e instanceof vu||(e=new vu(e)):e=new vu,this._pendingChanges.push({batch:e,callback:o}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){B.rethrowUnexpectedError(a,this)}}applyOperation(e){e._execute()}insertContent(e,o,a,...d){const p=bf(o,a);return this.fire("insertContent",[e,p,a,...d])}insertObject(e,o,a,d,...p){const y=bf(o,a);return this.fire("insertObject",[e,y,d,d,...p])}deleteContent(e,o){zl(this,e,o)}modifySelection(e,o){(function(a,d,p={}){const y=a.schema,w=p.direction!="backward",A=p.unit?p.unit:"character",N=!!p.treatEmojiAsSingleUnit,D=d.focus,P=new us({boundaries:G0(D,w),singleCharacters:!0,direction:w?"forward":"backward"}),F={walker:P,schema:y,isForward:w,unit:A,treatEmojiAsSingleUnit:N};let K;for(;K=P.next();){if(K.done)return;const X=pf(F,K.value);if(X)return void(d instanceof No?a.change(se=>{se.setSelectionFocus(X)}):d.setFocus(X))}})(this,e,o)}getSelectedContent(e){return function(o,a){return o.change(d=>{const p=d.createDocumentFragment(),y=a.getFirstRange();if(!y||y.isCollapsed)return p;const w=y.start.root,A=y.start.getCommonPath(y.end),N=w.getNodeByPath(A);let D;D=y.start.parent==y.end.parent?y:d.createRange(d.createPositionAt(N,y.start.path[A.length]),d.createPositionAt(N,y.end.path[A.length]+1));const P=D.end.offset-D.start.offset;for(const F of D.getItems({shallow:!0}))F.is("$textProxy")?d.appendText(F.data,F.getAttributes(),p):d.append(d.cloneElement(F,!0),p);if(D!=y){const F=y._getTransformedByMove(D.start,d.createPositionAt(p,0),P)[0],K=d.createRange(d.createPositionAt(p,0),F.start);F0(d.createRange(F.end,d.createPositionAt(p,"end")),d),F0(K,d)}return p})}(this,e)}hasContent(e,o={}){const a=e instanceof Ie?e:Ie._createIn(e);if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:p=!1}=o;if(!p){for(const y of this.markers.getMarkersIntersectingRange(a))if(y.affectsData)return!0}for(const y of a.getItems())if(this.schema.isContent(y)&&(!y.is("$textProxy")||!d||y.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const o=bf(e);return this.fire("canEditAt",[o])}createPositionFromPath(e,o,a){return new Je(e,o,a)}createPositionAt(e,o){return Je._createAt(e,o)}createPositionAfter(e){return Je._createAfter(e)}createPositionBefore(e){return Je._createBefore(e)}createRange(e,o){return new Ie(e,o)}createRangeIn(e){return Ie._createIn(e)}createRangeOn(e){return Ie._createOn(e)}createSelection(...e){return new no(...e)}createBatch(e){return new vu(e)}createOperationFromJSON(e){return _0.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const o=this._pendingChanges[0].batch;this._currentWriter=new ay(this,o);const a=this._pendingChanges[0].callback(this._currentWriter);e.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function bf(c,e){if(c)return c instanceof no||c instanceof No?c:c instanceof eo?e||e===0?new no(c,e):c.is("rootElement")?new no(c,"in"):new no(c,"on"):new no(c)}class fm extends Ea{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class gm extends Ea{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Ki{constructor(e){this.document=e}createDocumentFragment(e){return new Qr(this.document,e)}createElement(e,o,a){return new _s(this.document,e,o,a)}createText(e){return new Dr(this.document,e)}clone(e,o=!1){return e._clone(o)}appendChild(e,o){return o._appendChild(e)}insertChild(e,o,a){return a._insertChild(e,o)}removeChildren(e,o,a){return a._removeChildren(e,o)}remove(e){const o=e.parent;return o?this.removeChildren(o.getChildIndex(e),1,o):[]}replace(e,o){const a=e.parent;if(a){const d=a.getChildIndex(e);return this.removeChildren(d,1,a),this.insertChild(d,o,a),!0}return!1}unwrapElement(e){const o=e.parent;if(o){const a=o.getChildIndex(e);this.remove(e),this.insertChild(a,e.getChildren(),o)}}rename(e,o){const a=new _s(this.document,e,o.getAttributes(),o.getChildren());return this.replace(o,a)?a:null}setAttribute(e,o,a){a._setAttribute(e,o)}removeAttribute(e,o){o._removeAttribute(e)}addClass(e,o){o._addClass(e)}removeClass(e,o){o._removeClass(e)}setStyle(e,o,a){yr(e)&&a===void 0?o._setStyle(e):a._setStyle(e,o)}removeStyle(e,o){o._removeStyle(e)}setCustomProperty(e,o,a){a._setCustomProperty(e,o)}removeCustomProperty(e,o){return o._removeCustomProperty(e)}createPositionAt(e,o){return Xe._createAt(e,o)}createPositionAfter(e){return Xe._createAfter(e)}createPositionBefore(e){return Xe._createBefore(e)}createRange(e,o){return new pt(e,o)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ds(...e)}}class H0{constructor(){this._commands=new Map}add(e,o){this._commands.set(e,o)}get(e){return this._commands.get(e)}execute(e,...o){const a=this.get(e);if(!a)throw new B("commandcollection-command-not-found",this,{commandName:e});return a.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class kC extends tt(){constructor(e={}){super();const o=this.constructor,a=e.language||o.defaultConfig&&o.defaultConfig.language;this._context=e.context||new Dp({language:a}),this._context._addEditor(this,!e.context);const d=Array.from(o.builtinPlugins||[]);this.config=new Sg(e,o.defaultConfig),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new wv(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new H0,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new gf,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new X1;this.data=new dC(this.model,p),this.editing=new Yb(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Xb([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Kg(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,o=e.get("plugins"),a=e.get("removePlugins")||[],d=e.get("extraPlugins")||[],p=e.get("substitutePlugins")||[];return this.plugins.init(o.concat(d),a,p)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(o=>this.once("ready",o))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...o){try{return this.commands.execute(e,...o)}catch(a){B.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Kc(c){return class extends c{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const c=Kc(Object);Kc.setData=c.prototype.setData,Kc.getData=c.prototype.getData}function h(c){return class extends c{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;zd(this.sourceElement,o||a?e:"")}}}h.updateSourceElement=h(Object).prototype.updateSourceElement;class g extends Jd{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new B("pendingactions-add-invalid-message",this);const o=new(tt());return o.set("message",e),this._actions.add(o),this.hasAny=!0,o}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const x={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var j=l(5542),T={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(j.Z,T),j.Z.locals;const{threeVerticalDots:L}=x,re={alignLeft:x.alignLeft,bold:x.bold,importExport:x.importExport,paragraph:x.paragraph,plus:x.plus,text:x.text,threeVerticalDots:x.threeVerticalDots};class ce extends Kt{constructor(e,o){super(e);const a=this.bindTemplate,d=this.t;this.options=o||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ks,this.keystrokes=new zo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new ge(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const p=e.uiLanguageDirection==="rtl";this._focusCycler=new Vo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[p?"arrowright":"arrowleft","arrowup"],focusNext:[p?"arrowleft":"arrowright","arrowdown"]}});const y=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var w;this.options.shouldGroupWhenFull&&this.options.isFloating&&y.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:y,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(w=this,w.bindTemplate.to(A=>{A.target===w.element&&A.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Ve(this):new Ee(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(e,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,o,a){this.items.addMany(this._buildItemsFromConfig(e,o,a))}_buildItemsFromConfig(e,o,a){const d=vv(e),p=a||d.removeItems;return this._cleanItemsConfiguration(d.items,o,p).map(y=>Ye(y)?this._createNestedToolbarDropdown(y,o,p):y==="|"?new Kd:y==="-"?new Qd:o.create(y)).filter(y=>!!y)}_cleanItemsConfiguration(e,o,a){const d=e.filter((p,y,w)=>p==="|"||a.indexOf(p)===-1&&(p==="-"?!this.options.shouldGroupWhenFull||(Y("toolbarview-line-break-ignored-when-grouping-items",w),!1):!(!Ye(p)&&!o.has(p))||(Y("toolbarview-item-unavailable",{item:p}),!1)));return this._cleanSeparatorsAndLineBreaks(d)}_cleanSeparatorsAndLineBreaks(e){const o=y=>y!=="-"&&y!=="|",a=e.length,d=e.findIndex(o);if(d===-1)return[];const p=a-e.slice().reverse().findIndex(o);return e.slice(d,p).filter((y,w,A)=>o(y)?!0:!(w>0&&A[w-1]===y))}_createNestedToolbarDropdown(e,o,a){let{label:d,icon:p,items:y,tooltip:w=!0,withText:A=!1}=e;if(y=this._cleanItemsConfiguration(y,o,a),!y.length)return null;const N=mt(this.locale);return d||Y("toolbarview-nested-toolbar-dropdown-missing-label",e),N.class="ck-toolbar__nested-toolbar-dropdown",N.buttonView.set({label:d,tooltip:w,withText:!!A}),p!==!1?N.buttonView.icon=re[p]||p||L:N.buttonView.withText=!0,ft(N,()=>N.toolbarView._buildItemsFromConfig(y,o,a)),N}}class ge extends Kt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Ee{constructor(e){const o=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(a=>a),e.focusables.bindTo(e.items).using(a=>a),e.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Ve{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(o,a)=>{const d=a.index,p=Array.from(a.added);for(const y of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(y):this.ungroupedItems.remove(y);for(let y=d;y<d+p.length;y++){const w=p[y-d];y>this.ungroupedItems.length?this.groupedItems.add(w,y-this.ungroupedItems.length):this.ungroupedItems.add(w,y)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!wl(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,o=this.viewLocale.uiLanguageDirection,a=new Ar(e.lastChild),d=new Ar(e);if(!this.cachedPadding){const p=It.window.getComputedStyle(e),y=o==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(p[y])}return o==="ltr"?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new vc(this.viewElement,o=>{e&&e===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Kd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,o=e.t,a=mt(e);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",ft(a,this.groupedItems),a.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:L}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var qe=l(1046),De={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(qe.Z,De),qe.Z.locals;class Te extends Kt{constructor(e){super(e);const o=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new ks,this.keystrokes=new zo,this._focusCycler=new Vo({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:o.to("role"),"aria-label":o.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(e,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class _t extends Kt{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class yt extends Kt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Ir=l(7686),Ce={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Ir.Z,Ce),Ir.Z.locals;class we extends Kt{constructor(e){super(e);const o=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new zo,this.focusTracker=new ks,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.to("class"),o.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(e,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new hr;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new hr,o=e.bindTemplate;return e.icon=Th,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",a=>String(a))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var Ne=l(7339),Ue={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Ne.Z,Ue),Ne.Z.locals;var ut=l(3949),Qt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(ut.Z,Qt),ut.Z.locals;function mt(c,e=Yd){const o=new e(c),a=new qg(c),d=new cn(c,o,a);return o.bind("isEnabled").to(d),o instanceof we?o.arrowView.bind("isOn").to(d,"isOpen"):o.bind("isOn").to(d,"isOpen"),function(p){(function(y){y.on("render",()=>{m({emitter:y,activator:()=>y.isOpen,callback:()=>{y.isOpen=!1},contextElements:()=>[y.element,...y.focusTracker._elements]})})})(p),function(y){y.on("execute",w=>{w.source instanceof bi||(y.isOpen=!1)})}(p),function(y){y.focusTracker.on("change:isFocused",(w,A,N)=>{y.isOpen&&!N&&(y.isOpen=!1)})}(p),function(y){y.keystrokes.set("arrowdown",(w,A)=>{y.isOpen&&(y.panelView.focus(),A())}),y.keystrokes.set("arrowup",(w,A)=>{y.isOpen&&(y.panelView.focusLast(),A())})}(p),function(y){y.on("change:isOpen",(w,A,N)=>{if(N)return;const D=y.panelView.element;D&&D.contains(It.document.activeElement)&&y.buttonView.focus()})}(p),function(y){y.on("change:isOpen",(w,A,N)=>{N&&y.panelView.focus()},{priority:"low"})}(p)}(d),d}function ft(c,e,o={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?Gn(c,e,o):c.once("change:isOpen",()=>Gn(c,e,o),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&q0(c,()=>c.toolbarView.items.find(a=>a.isOn))}function Gn(c,e,o){const a=c.locale,d=a.t,p=c.toolbarView=new ce(a),y=typeof e=="function"?e():e;p.ariaLabel=o.ariaLabel||d("Dropdown toolbar"),o.maxWidth&&(p.maxWidth=o.maxWidth),o.class&&(p.class=o.class),o.isCompact&&(p.isCompact=o.isCompact),o.isVertical&&(p.isVertical=!0),y instanceof Fo?p.items.bindTo(y).using(w=>w):p.items.addMany(y),c.panelView.children.add(p),p.items.delegate("execute").to(c)}function mr(c,e,o={}){c.isOpen?Ha(c,e,o):c.once("change:isOpen",()=>Ha(c,e,o),{priority:"highest"}),q0(c,()=>c.listView.items.find(a=>a instanceof _t&&a.children.first.isOn))}function Ha(c,e,o){const a=c.locale,d=c.listView=new Te(a),p=typeof e=="function"?e():e;d.ariaLabel=o.ariaLabel,d.role=o.role,d.items.bindTo(p).using(y=>{if(y.type==="separator")return new yt(a);if(y.type==="button"||y.type==="switchbutton"){const w=new _t(a);let A;return A=y.type==="button"?new hr(a):new bi(a),A.bind(...Object.keys(y.model)).to(y.model),A.delegate("execute").to(w),w.children.add(A),w}return null}),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function q0(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const o=e();o&&(typeof o.focus=="function"?o.focus():Y("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))},{priority:$.low-10})}function CC(c,e,o){const a=new Hg(c.locale);return a.set({id:e,ariaDescribedById:o}),a.bind("isReadOnly").to(c,"isEnabled",d=>!d),a.bind("hasError").to(c,"errorText",d=>!!d),a.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(a),a}const ly=(c,e=0,o=1)=>c>o?o:c<e?e:c,Gs=(c,e=0,o=Math.pow(10,e))=>Math.round(o*c)/o,_C=c=>(c[0]==="#"&&(c=c.substring(1)),c.length<6?{r:parseInt(c[0]+c[0],16),g:parseInt(c[1]+c[1],16),b:parseInt(c[2]+c[2],16),a:c.length===4?Gs(parseInt(c[3]+c[3],16)/255,2):1}:{r:parseInt(c.substring(0,2),16),g:parseInt(c.substring(2,4),16),b:parseInt(c.substring(4,6),16),a:c.length===8?Gs(parseInt(c.substring(6,8),16)/255,2):1}),kL=({h:c,s:e,v:o,a})=>{const d=(200-e)*o/100;return{h:Gs(c),s:Gs(d>0&&d<200?e*o/100/(d<=100?d:200-d)*100:0),l:Gs(d/2),a:Gs(a,2)}},AC=c=>{const{h:e,s:o,l:a}=kL(c);return`hsl(${e}, ${o}%, ${a}%)`},CL=({h:c,s:e,v:o,a})=>{c=c/360*6,e/=100,o/=100;const d=Math.floor(c),p=o*(1-e),y=o*(1-(c-d)*e),w=o*(1-(1-c+d)*e),A=d%6;return{r:Gs(255*[o,y,p,p,w,o][A]),g:Gs(255*[w,o,o,y,p,p][A]),b:Gs(255*[p,p,w,o,o,y][A]),a:Gs(a,2)}},Y0=c=>{const e=c.toString(16);return e.length<2?"0"+e:e},_L=({r:c,g:e,b:o,a})=>{const d=a<1?Y0(Gs(255*a)):"";return"#"+Y0(c)+Y0(e)+Y0(o)+d},AL=({r:c,g:e,b:o,a})=>{const d=Math.max(c,e,o),p=d-Math.min(c,e,o),y=p?d===c?(e-o)/p:d===e?2+(o-c)/p:4+(c-e)/p:0;return{h:Gs(60*(y<0?y+6:y)),s:Gs(d?p/d*100:0),v:Gs(d/255*100),a}},ZN=(c,e)=>{if(c===e)return!0;for(const o in c)if(c[o]!==e[o])return!1;return!0},eS={},tS=c=>{let e=eS[c];return e||(e=document.createElement("template"),e.innerHTML=c,eS[c]=e),e},jC=(c,e,o)=>{c.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let yf=!1;const NC=c=>"touches"in c,rS=(c,e)=>{const o=NC(e)?e.touches[0]:e,a=c.el.getBoundingClientRect();jC(c.el,"move",c.getMove({x:ly((o.pageX-(a.left+window.pageXOffset))/a.width),y:ly((o.pageY-(a.top+window.pageYOffset))/a.height)}))};class nS{constructor(e,o,a,d){const p=tS(`<div role="slider" tabindex="0" part="${o}" ${a}><div part="${o}-pointer"></div></div>`);e.appendChild(p.content.cloneNode(!0));const y=e.querySelector(`[part=${o}]`);y.addEventListener("mousedown",this),y.addEventListener("touchstart",this),y.addEventListener("keydown",this),this.el=y,this.xy=d,this.nodes=[y.firstChild,y]}set dragging(e){const o=e?document.addEventListener:document.removeEventListener;o(yf?"touchmove":"mousemove",this),o(yf?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(o=>!(yf&&!NC(o)||(yf||(yf=NC(o)),0)))(e)||!yf&&e.button!=0)return;this.el.focus(),rS(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),rS(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((o,a)=>{const d=a.keyCode;d>40||o.xy&&d<37||d<33||(a.preventDefault(),jC(o.el,"move",o.getMove({x:d===39?.01:d===37?-.01:d===34?.05:d===33?-.05:d===35?1:d===36?-1:0,y:d===40?.01:d===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((o,a)=>{for(const d in o)this.nodes[a].style.setProperty(d,o[d])})}}class jL extends nS{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:AC({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Gs(e)}`)}getMove(e,o){return{h:o?ly(this.h+360*e.x,0,360):360*e.x}}}class NL extends nS{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:AC(e)},{"background-color":AC({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Gs(e.s)}%, Brightness ${Gs(e.v)}%`)}getMove(e,o){return{s:o?ly(this.hsva.s+100*e.x,0,100):100*e.x,v:o?ly(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const W0=Symbol("same"),SC=Symbol("color"),sS=Symbol("hsva"),EC=Symbol("update"),oS=Symbol("parts"),iS=Symbol("css"),aS=Symbol("sliders");class SL extends HTMLElement{static get observedAttributes(){return["color"]}get[iS](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[aS](){return[NL,jL]}get color(){return this[SC]}set color(e){if(!this[W0](e)){const o=this.colorModel.toHsva(e);this[EC](o),this[SC]=e}}constructor(){super();const e=tS(`<style>${this[iS].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(e.content.cloneNode(!0)),o.addEventListener("move",this),this[oS]=this[aS].map(a=>new a(o))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,o,a){const d=this.colorModel.fromAttr(a);this[W0](d)||(this.color=d)}handleEvent(e){const o=this[sS],a={...o,...e.detail};let d;this[EC](a),ZN(a,o)||this[W0](d=this.colorModel.fromHsva(a))||(this[SC]=d,jC(this,"color-changed",{value:d}))}[W0](e){return this.color&&this.colorModel.equal(e,this.color)}[EC](e){this[sS]=e,this[oS].forEach(o=>o.update(e))}}const EL={defaultColor:"#000",toHsva:c=>AL(_C(c)),fromHsva:({h:c,s:e,v:o})=>_L(CL({h:c,s:e,v:o,a:1})),equal:(c,e)=>c.toLowerCase()===e.toLowerCase()||ZN(_C(c),_C(e)),fromAttr:c=>c};class DL extends SL{get colorModel(){return EL}}customElements.define("hex-color-picker",class extends DL{});var lS=l(3398),ML={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(lS.Z,ML),lS.Z.locals;var cS=l(4157),TL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(cS.Z,TL),cS.Z.locals;class IL{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,o){this._components.set(DC(e),{callback:o,originalName:e})}create(e){if(!this.has(e))throw new B("componentfactory-item-missing",this,{name:e});return this._components.get(DC(e)).callback(this.editor.locale)}has(e){return this._components.has(DC(e))}}function DC(c){return String(c).toLowerCase()}var dS=l(8793),RL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(dS.Z,RL),dS.Z.locals;var PL=Object.defineProperty,uS=Object.getOwnPropertySymbols,OL=Object.prototype.hasOwnProperty,BL=Object.prototype.propertyIsEnumerable,hS=(c,e,o)=>e in c?PL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,Cr=(c,e)=>{for(var o in e||(e={}))OL.call(e,o)&&hS(c,o,e[o]);if(uS)for(var o of uS(e))BL.call(e,o)&&hS(c,o,e[o]);return c};const mS=Dg("px"),pS=It.document.body,MC=class extends Kt{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",o=>`ck-balloon-panel_${o}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",mS),left:e.to("left",mS)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=MC.defaultPositions,o=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:pS,fitInViewport:!0},c),a=MC._getOptimalPosition(o),d=parseInt(a.left),p=parseInt(a.top),y=a.name,w=a.config||{},{withArrow:A=!0}=w;this.top=p,this.left=d,this.position=y,this.withArrow=A}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=TC(c.target),o=c.limiter?TC(c.limiter):pS;this.listenTo(It.document,"scroll",(a,d)=>{const p=d.target,y=e&&p.contains(e),w=o&&p.contains(o);!y&&!w&&e&&o||this.attachTo(c)},{useCapture:!0}),this.listenTo(It.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(It.document,"scroll"),this.stopListening(It.window,"resize")}};let Wo=MC;function TC(c){return va(c)?c:kh(c)?c.commonAncestorContainer:typeof c=="function"?TC(c()):null}function fS(c={}){const{sideOffset:e=Wo.arrowSideOffset,heightOffset:o=Wo.arrowHeightOffset,stickyVerticalOffset:a=Wo.stickyVerticalOffset,config:d}=c;return{northWestArrowSouthWest:(w,A)=>Cr({top:p(w,A),left:w.left-e,name:"arrow_sw"},d&&{config:d}),northWestArrowSouthMiddleWest:(w,A)=>Cr({top:p(w,A),left:w.left-.25*A.width-e,name:"arrow_smw"},d&&{config:d}),northWestArrowSouth:(w,A)=>Cr({top:p(w,A),left:w.left-A.width/2,name:"arrow_s"},d&&{config:d}),northWestArrowSouthMiddleEast:(w,A)=>Cr({top:p(w,A),left:w.left-.75*A.width+e,name:"arrow_sme"},d&&{config:d}),northWestArrowSouthEast:(w,A)=>Cr({top:p(w,A),left:w.left-A.width+e,name:"arrow_se"},d&&{config:d}),northArrowSouthWest:(w,A)=>Cr({top:p(w,A),left:w.left+w.width/2-e,name:"arrow_sw"},d&&{config:d}),northArrowSouthMiddleWest:(w,A)=>Cr({top:p(w,A),left:w.left+w.width/2-.25*A.width-e,name:"arrow_smw"},d&&{config:d}),northArrowSouth:(w,A)=>Cr({top:p(w,A),left:w.left+w.width/2-A.width/2,name:"arrow_s"},d&&{config:d}),northArrowSouthMiddleEast:(w,A)=>Cr({top:p(w,A),left:w.left+w.width/2-.75*A.width+e,name:"arrow_sme"},d&&{config:d}),northArrowSouthEast:(w,A)=>Cr({top:p(w,A),left:w.left+w.width/2-A.width+e,name:"arrow_se"},d&&{config:d}),northEastArrowSouthWest:(w,A)=>Cr({top:p(w,A),left:w.right-e,name:"arrow_sw"},d&&{config:d}),northEastArrowSouthMiddleWest:(w,A)=>Cr({top:p(w,A),left:w.right-.25*A.width-e,name:"arrow_smw"},d&&{config:d}),northEastArrowSouth:(w,A)=>Cr({top:p(w,A),left:w.right-A.width/2,name:"arrow_s"},d&&{config:d}),northEastArrowSouthMiddleEast:(w,A)=>Cr({top:p(w,A),left:w.right-.75*A.width+e,name:"arrow_sme"},d&&{config:d}),northEastArrowSouthEast:(w,A)=>Cr({top:p(w,A),left:w.right-A.width+e,name:"arrow_se"},d&&{config:d}),southWestArrowNorthWest:w=>Cr({top:y(w),left:w.left-e,name:"arrow_nw"},d&&{config:d}),southWestArrowNorthMiddleWest:(w,A)=>Cr({top:y(w),left:w.left-.25*A.width-e,name:"arrow_nmw"},d&&{config:d}),southWestArrowNorth:(w,A)=>Cr({top:y(w),left:w.left-A.width/2,name:"arrow_n"},d&&{config:d}),southWestArrowNorthMiddleEast:(w,A)=>Cr({top:y(w),left:w.left-.75*A.width+e,name:"arrow_nme"},d&&{config:d}),southWestArrowNorthEast:(w,A)=>Cr({top:y(w),left:w.left-A.width+e,name:"arrow_ne"},d&&{config:d}),southArrowNorthWest:w=>Cr({top:y(w),left:w.left+w.width/2-e,name:"arrow_nw"},d&&{config:d}),southArrowNorthMiddleWest:(w,A)=>Cr({top:y(w),left:w.left+w.width/2-.25*A.width-e,name:"arrow_nmw"},d&&{config:d}),southArrowNorth:(w,A)=>Cr({top:y(w),left:w.left+w.width/2-A.width/2,name:"arrow_n"},d&&{config:d}),southArrowNorthMiddleEast:(w,A)=>Cr({top:y(w),left:w.left+w.width/2-.75*A.width+e,name:"arrow_nme"},d&&{config:d}),southArrowNorthEast:(w,A)=>Cr({top:y(w),left:w.left+w.width/2-A.width+e,name:"arrow_ne"},d&&{config:d}),southEastArrowNorthWest:w=>Cr({top:y(w),left:w.right-e,name:"arrow_nw"},d&&{config:d}),southEastArrowNorthMiddleWest:(w,A)=>Cr({top:y(w),left:w.right-.25*A.width-e,name:"arrow_nmw"},d&&{config:d}),southEastArrowNorth:(w,A)=>Cr({top:y(w),left:w.right-A.width/2,name:"arrow_n"},d&&{config:d}),southEastArrowNorthMiddleEast:(w,A)=>Cr({top:y(w),left:w.right-.75*A.width+e,name:"arrow_nme"},d&&{config:d}),southEastArrowNorthEast:(w,A)=>Cr({top:y(w),left:w.right-A.width+e,name:"arrow_ne"},d&&{config:d}),westArrowEast:(w,A)=>Cr({top:w.top+w.height/2-A.height/2,left:w.left-A.width-o,name:"arrow_e"},d&&{config:d}),eastArrowWest:(w,A)=>Cr({top:w.top+w.height/2-A.height/2,left:w.right+o,name:"arrow_w"},d&&{config:d}),viewportStickyNorth:(w,A,N)=>w.getIntersection(N)?{top:N.top+a,left:w.left+w.width/2-A.width/2,name:"arrowless",config:Cr({withArrow:!1},d)}:null};function p(w,A){return w.top-A.height-o}function y(w){return w.bottom+o}}Wo.arrowSideOffset=25,Wo.arrowHeightOffset=10,Wo.stickyVerticalOffset=20,Wo._getOptimalPosition=kl,Wo.defaultPositions=fS();var gS=l(3332),LL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(gS.Z,LL),gS.Z.locals;const bS="ck-tooltip",Ko=class extends vl(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Ko._editors.add(c),Ko._instance)return Ko._instance;Ko._instance=this,this.tooltipTextView=new Kt(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Wo(c.locale),this.balloonPanelView.class=bS,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=$n(this._pinTooltip,600),this.listenTo(It.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(It.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(It.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(It.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(It.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;Ko._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Ko._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ko._instance=null)}static getPositioningFunctions(c){const e=Ko.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onEnterOrFocus(c,{target:e}){const o=IC(e);var a;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(a=o).dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(c,{target:e,relatedTarget:o}){if(c.name==="mouseleave"){if(!va(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const a=IC(e),d=IC(o);a&&a!==d&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:o,cssClass:a}){const d=gn(Ko._editors.values()).ui.view.body;d.has(this.balloonPanelView)||d.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:Ko.getPositioningFunctions(o)}),this._resizeObserver=new vc(c,()=>{wl(c)||this._unpinTooltip()}),this.balloonPanelView.class=[bS,a].filter(p=>p).join(" ");for(const p of Ko._editors)this.listenTo(p.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of Ko._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){wl(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ko.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let K0=Ko;function IC(c){return va(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}K0.defaultBalloonPositions=fS({heightOffset:5,sideOffset:13}),K0._editors=new Set,K0._instance=null;const RC=function(c,e,o){var a=!0,d=!0;if(typeof c!="function")throw new TypeError("Expected a function");return Ye(o)&&(a="leading"in o?!!o.leading:a,d="trailing"in o?!!o.trailing:d),$n(c,e,{leading:a,maxWait:e,trailing:d})};var zL=Object.defineProperty,yS=Object.getOwnPropertySymbols,FL=Object.prototype.hasOwnProperty,VL=Object.prototype.propertyIsEnumerable,xS=(c,e,o)=>e in c?zL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,UL=(c,e)=>{for(var o in e||(e={}))FL.call(e,o)&&xS(c,o,e[o]);if(yS)for(var o of yS(e))VL.call(e,o)&&xS(c,o,e[o]);return c};const GL=50,HL=350,qL="Powered by",Q0={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class YL extends vl(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=RC(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(o){function a(K){return K.length>=40&&K.length<=255?"VALID":"INVALID"}if(!o)return"INVALID";let d="";try{d=atob(o)}catch{return"INVALID"}const p=d.split("-"),y=p[0],w=p[1];if(!w)return a(o);try{atob(w)}catch{try{if(atob(y),!atob(y).length)return a(o)}catch{return a(o)}}if(y.length<40||y.length>255)return"INVALID";let A="";try{atob(y),A=atob(w)}catch{return"INVALID"}if(A.length!==8)return"INVALID";const N=Number(A.substring(0,4)),D=Number(A.substring(4,6))-1,P=Number(A.substring(6,8)),F=new Date(N,D,P);return F<be||isNaN(Number(F))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(o,a,d)=>{this._updateLastFocusedEditableElement(),d?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(o,a,d)=>{this._updateLastFocusedEditableElement(),d&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,o=this._balloonView=new Wo,a=wS(e),d=new WL(e.locale,a.label);o.content.add(d),o.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(o),e.ui.focusTracker.add(o.element),this._balloonView=o}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(o,a){const d=wS(o),p=d.side==="right"?function(y,w){return vS(y,w,(A,N)=>A.left+A.width-N.width-w.horizontalOffset)}(a,d):function(y,w){return vS(y,w,A=>A.left+w.horizontalOffset)}(a,d);return{target:a,positions:[p]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,o=e.ui.focusTracker.isFocused,a=e.ui.focusTracker.focusedElement;if(!o||!a)return void(this._lastFocusedEditableElement=null);const d=Array.from(e.ui.getEditableElementsNames()).map(p=>e.ui.getEditableElement(p));d.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=d[0]}}class WL extends Kt{constructor(e,o){super(e);const a=new Yi,d=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...o?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[o]}]:[],a],on:{dragstart:d.to(p=>p.preventDefault())}}]})}}function vS(c,e,o){return(a,d)=>{const p=a.getVisible();if(!p||a.width<HL||a.height<GL)return Q0;let y;y=e.position==="inside"?a.bottom-d.height:a.bottom-d.height/2,y-=e.verticalOffset;const w=o(a,d);if(e.position==="inside"){const A=d.clone().moveTo(w,y);if(A.getIntersectionArea(p)<A.getArea())return Q0}else{const A=xo(c);if(A){const N=new Ar(A),D=p.bottom+d.height/2>N.bottom,P=e.side==="left"?a.left<N.left:a.right>N.right;if(D||P)return Q0}}return{top:y,left:w,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function wS(c){const e=c.config.get("ui.poweredBy"),o=e&&e.position||"border";return UL({position:o,label:qL,verticalOffset:o==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var KL=Object.defineProperty,kS=Object.getOwnPropertySymbols,QL=Object.prototype.hasOwnProperty,JL=Object.prototype.propertyIsEnumerable,CS=(c,e,o)=>e in c?KL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class $L extends tt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const o=e.editing.view;this.editor=e,this.componentFactory=new IL(e),this.focusTracker=new ks,this.tooltipManager=new K0(e),this.poweredBy=new YL(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(o.document,"layoutChanged",this.update.bind(this)),this.listenTo(o,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,o){this._editableElementsMap.set(e,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const a=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(o)};this.isReady?a():this.once("ready",a)}removeEditableElement(e){const o=this._editableElementsMap.get(e);o&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,o={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:o})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,o=e.config.get("ui.viewportOffset");if(o)return o;const a=e.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const e=this.editor,o=e.editing.view;let a,d;e.keystrokes.set("Alt+F10",(p,y)=>{const w=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(w)&&!Array.from(o.domRoots.values()).includes(w)&&(a=w);const A=this._getCurrentFocusedToolbarDefinition();A&&d||(d=this._getFocusableCandidateToolbarDefinitions());for(let N=0;N<d.length;N++){const D=d.shift();if(d.push(D),D!==A&&this._focusFocusableCandidateToolbar(D)){A&&A.options.afterBlur&&A.options.afterBlur();break}}y()}),e.keystrokes.set("Esc",(p,y)=>{const w=this._getCurrentFocusedToolbarDefinition();w&&(a?(a.focus(),a=null):e.editing.view.focus(),w.options.afterBlur&&w.options.afterBlur(),y())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:a,options:d}=o;(wl(a.element)||d.beforeFocus)&&e.push(o)}return e.sort((o,a)=>_S(o)-_S(a)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:o,options:{beforeFocus:a}}=e;return a&&a(),!!wl(o.element)&&(o.focus(),!0)}_handleScrollToTheSelection(e,o){const a=((d,p)=>{for(var y in p||(p={}))QL.call(p,y)&&CS(d,y,p[y]);if(kS)for(var y of kS(p))JL.call(p,y)&&CS(d,y,p[y]);return d})({top:0,bottom:0,left:0,right:0},this.viewportOffset);o.viewportOffset.top+=a.top,o.viewportOffset.bottom+=a.bottom,o.viewportOffset.left+=a.left,o.viewportOffset.right+=a.right}}function _S(c){const{toolbarView:e,options:o}=c;let a=10;return wl(e.element)&&a--,o.isContextual&&a--,a}var AS=l(9688),XL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(AS.Z,XL),AS.Z.locals;class ZL extends Kt{constructor(e){super(e),this.body=new Lg(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class e8 extends ZL{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,o=new Hd;return o.text=e("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class t8 extends Kt{constructor(e,o,a){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function o(a){e.change(d=>{const p=e.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",p),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",p)})}e.isRenderingInProgress?function a(d){e.once("change:isRenderingInProgress",(p,y,w)=>{w?a(d):o(d)})}(this):o(this)}}class r8 extends t8{constructor(e,o,a,d={}){super(e,o,a);const p=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=d.label||(()=>p("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(o=>{const a=e.document.getRoot(this.name);o.setAttribute("aria-label",this._generateLabel(this),a)})}}var jS=l(8847),n8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(jS.Z,n8),jS.Z.locals;class PC extends Jd{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(e,o={}){this._showNotification({message:e,type:"success",namespace:o.namespace,title:o.title})}showInfo(e,o={}){this._showNotification({message:e,type:"info",namespace:o.namespace,title:o.title})}showWarning(e,o={}){this._showNotification({message:e,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(e){const o=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(o,{message:e.message,type:e.type,title:e.title||""})}}class NS extends tt(){constructor(e,o){super(),o&&Cb(this,o),e&&this.set(e)}}var SS=l(4650),s8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(SS.Z,s8),SS.Z.locals;var ES=l(7676),o8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(ES.Z,o8),ES.Z.locals;const J0=Dg("px");class $0 extends Ge{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,a=o.document.selection.editableElement;return a?o.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new B("contextualballoon-add-view-exist",[this,e]);const o=e.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(o));const a=this._idToStack.get(o);e.singleViewMode&&this.showStack(o),a.set(e.view,e),this._viewToStack.set(e.view,a),a===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new B("contextualballoon-remove-view-not-exist",[this,e]);const o=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(o.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),o.size===1?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const o=this._idToStack.get(e);if(!o)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new Wo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(o=>o[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let o=e.indexOf(this._visibleStack)+1;e[o]||(o=0),this.showStack(this._getStackId(e[o]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let o=e.indexOf(this._visibleStack)-1;e[o]||(o=e.length-1),this.showStack(this._getStackId(e[o]))}_createRotatorView(){const e=new i8(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const p=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[p,d])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new a8(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>=2?Math.min(o-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:o="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=o,this.view.withArrow=a,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class i8 extends Kt{constructor(e){super(e);const o=e.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ks,this.buttonPrevView=this._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,o){const a=new hr(this.locale);return a.set({label:e,icon:o,tooltip:!0}),a}}class a8 extends Kt{constructor(e,o){super(e);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",J0),left:a.to("left",J0),width:a.to("width",J0),height:a.to("height",J0)}},children:this.content}),this.on("change:numberOfPanels",(d,p,y,w)=>{y>w?this._addPanels(y-w):this._removePanels(w-y),this.updatePosition()})}_addPanels(e){for(;e--;){const o=new Kt;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(e){for(;e--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:o}=this._balloonPanelView,{width:a,height:d}=new Ar(this._balloonPanelView.element);Object.assign(this,{top:e,left:o,width:a,height:d})}}}var DS=l(5868),l8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(DS.Z,l8),DS.Z.locals;const xf=Dg("px");class c8 extends Kt{constructor(e){super(e);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new gi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",a=>a?"block":"none"),height:o.to("isSticky",a=>a?xf(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new gi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",a=>a?xf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_stickyTopOffset",a=>a&&xf(a)),bottom:o.to("_stickyBottomOffset",a=>a&&xf(a)),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(It.document,"scroll",(e,o)=>{this.checkIfShouldBeSticky(o.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(e){if(!this.limiterElement||!this.isActive)return void this._unstick();const o=function(p){const y=[];let w=xo(p);for(;w&&w!==It.document.body;)y.push(w),w=xo(w);return y.push(It.document),y}(this.limiterElement);if(e&&!o.includes(e))return;const a=function(p,y=0){const w=p.map(N=>{if(N instanceof Document){const D=new Ar(It.window);return D.top+=y,D.height-=y,D}return new Ar(N)});let A=w[0];for(const N of w.slice(1))A&&(A=A.getIntersection(N));return A}(o,this.viewportTopOffset),d=new Ar(this.limiterElement);if(a&&d.top<a.top){const p=d.getIntersection(a);if(p){const y=a.top;if(y+this._contentPanelRect.height+this.limiterBottomOffset>p.bottom){const w=Math.max(d.bottom-a.bottom,0)+this.limiterBottomOffset;d.bottom-w>d.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(w):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<d.height?this._stickToTopOfAncestors(y):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=xf(-It.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=xf(-It.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ar(this._contentPanel)}}var MS=l(9695),d8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(MS.Z,d8),MS.Z.locals;class u8 extends $L{constructor(e,o){super(e),this.view=o,this._toolbarConfig=vv(e.config.get("toolbar")),this._elementReplacer=new sn,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const o=this.editor,a=this.view,d=o.editing.view,p=a.editable,y=d.document.getRoot();p.name=y.rootName,a.render();const w=p.element;this.setEditableElement(p.name,w),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(w),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:o})=>o||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,o=e.editing.view,a=o.document.getRoot(),d=e.sourceElement;let p;const y=e.config.get("placeholder");y&&(p=typeof y=="string"?y:y[this.view.editable.name]),!p&&d&&d.tagName.toLowerCase()==="textarea"&&(p=d.getAttribute("placeholder")),p&&(a.placeholder=p),Ih({view:o,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,o,a){const d=this.view.stickyPanel;if(d.isSticky){const p=new Ar(d.element).height;o.viewportOffset.top+=p}else{const p=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(d,"change:isSticky",p),setTimeout(()=>{this.stopListening(d,"change:isSticky",p)},20)}}}var TS=l(3143),h8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(TS.Z,h8),TS.Z.locals;class m8 extends e8{constructor(e,o,a={}){super(e),this.stickyPanel=new c8(e),this.toolbar=new ce(e,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new r8(e,o)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class IS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const a="error"in o?o.error:o.reason;a instanceof Error&&this._handleError(a,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,o){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(o)}off(e,o){this._listeners[e]=this._listeners[e].filter(a=>a!==o)}_fire(e,...o){const a=this._listeners[e]||[];for(const d of a)d.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,o){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function OC(c,e=new Set){const o=[c],a=new Set;let d=0;for(;o.length>d;){const p=o[d++];if(!a.has(p)&&p8(p)&&!e.has(p))if(a.add(p),Symbol.iterator in p)try{for(const y of p)o.push(y)}catch{}else for(const y in p)y!=="defaultValue"&&o.push(p[y])}return a}function p8(c){const e=Object.prototype.toString.call(c),o=typeof c;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function RS(c,e,o=new Set){if(c===e&&typeof(a=c)=="object"&&a!==null)return!0;var a;const d=OC(c,o),p=OC(e,o);for(const y of d)if(p.has(y))return!0;return!1}var f8=Object.defineProperty,g8=Object.defineProperties,b8=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,PS=Object.prototype.hasOwnProperty,OS=Object.prototype.propertyIsEnumerable,BS=(c,e,o)=>e in c?f8(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,BC=(c,e)=>{for(var o in e||(e={}))PS.call(e,o)&&BS(c,o,e[o]);if(X0)for(var o of X0(e))OS.call(e,o)&&BS(c,o,e[o]);return c};class LS extends IS{constructor(e,o={}){super(o),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=RC(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),e&&(this._creator=(a,d)=>e.create(a,d)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},o=[],a=this._config.rootsAttributes||{},d={};for(const[A,N]of Object.entries(this._data.roots))N.isLoaded?(e[A]="",d[A]=a[A]||{}):o.push(A);const p=(y=BC({},this._config),w={extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:d,_watchdogInitialData:this._data},g8(y,b8(w)));var y,w;return delete p.initialData,p.extraPlugins.push(y8),this._initUsingData?this.create(e,p,p.context):va(this._elementOrData)?this.create(this._elementOrData,p,p.context):this.create(this._editables,p,p.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,o=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=a,this._creator(e,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,o=e.model.document.roots.filter(w=>w.isAttached()&&w.rootName!="$graveyard"),{plugins:a}=e,d=a.has("CommentsRepository")&&a.get("CommentsRepository"),p=a.has("TrackChanges")&&a.get("TrackChanges"),y={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(w=>{y.roots[w.rootName]={content:JSON.stringify(Array.from(w.getChildren())),attributes:JSON.stringify(Array.from(w.getAttributes())),isLoaded:w._isLoaded}});for(const w of e.model.markers)w._affectsData&&(y.markers[w.name]={rangeJSON:w.getRange().toJSON(),usingOperation:w._managedUsingOperations,affectsData:w._affectsData});return d&&(y.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),p&&(y.suggestions=JSON.stringify(p.getSuggestions({toJSON:!0,skipNotAttached:!0}))),y}_getEditables(){const e={};for(const o of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(o);a&&(e[o]=a)}return e}_isErrorComingFromThisItem(e){return RS(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return yl(e,(o,a)=>va(o)||a==="context"?o:void 0)}}class y8{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,o){if("name"in o){const a=e.createElement(o.name,o.attributes);if(o.children)for(const d of o.children)a._appendChild(this._createNode(e,d));return a}return e.createText(o.data,o.attributes)}_restoreEditorData(e){const o=this.editor;Object.entries(this._data.roots).forEach(([a,{content:d,attributes:p}])=>{const y=JSON.parse(d),w=JSON.parse(p),A=o.model.document.getRoot(a);for(const[N,D]of w)e.setAttribute(N,D,A);for(const N of y){const D=this._createNode(e,N);e.insert(D,A,"end")}}),Object.entries(this._data.markers).forEach(([a,d])=>{const{document:p}=o.model,y=d,{rangeJSON:{start:w,end:A}}=y,N=((X,se)=>{var de={};for(var pe in X)PS.call(X,pe)&&se.indexOf(pe)<0&&(de[pe]=X[pe]);if(X!=null&&X0)for(var pe of X0(X))se.indexOf(pe)<0&&OS.call(X,pe)&&(de[pe]=X[pe]);return de})(y,["rangeJSON"]),D=p.getRoot(w.root),P=e.createPositionFromPath(D,w.path,w.stickiness),F=e.createPositionFromPath(D,A.path,A.stickiness),K=e.createRange(P,F);e.addMarker(a,BC({range:K},N))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);e.forEach(a=>{const d=this.editor.config.get("collaboration.channelId"),p=this.editor.plugins.get("CommentsRepository");p.hasCommentThread(a.threadId)&&p.getCommentThread(a.threadId).remove(),p.addCommentThread(BC({channelId:d},a))}),o.forEach(a=>{const d=this.editor.plugins.get("TrackChangesEditing");d.hasSuggestion(a.id)?d.getSuggestion(a.id).attributes=a.attributes:d.addSuggestionData(a)})}}const cy=Symbol("MainQueueId");class x8{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,o){const a=e===cy;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const d=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(cy),this._queues.get(e)])).then(o),p=d.catch(()=>{});return this._queues.set(e,p),d.finally(()=>{this._activeActions--,this._queues.get(e)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(y=>y())})}}function zS(c){return Array.isArray(c)?c:[c]}class Z0 extends Kc(h(kC)){constructor(e,o={}){if(!ew(e)&&o.initialData!==void 0)throw new B("editor-create-initial-data",null);super(o),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return ew(p)?(y=p,y instanceof HTMLTextAreaElement?y.value:y.innerHTML):p;var y}(e)),ew(e)&&(this.sourceElement=e),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new m8(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new u8(this,d),function(p){if(!fn(p.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",p);const y=p.sourceElement;if(function(w){return!!w&&w.tagName.toLowerCase()==="textarea"}(y)&&y.form){let w;const A=y.form,N=()=>p.updateSourceElement();fn(A.submit)&&(w=A.submit,A.submit=()=>{N(),w.apply(A)}),A.addEventListener("submit",N),p.on("destroy",()=>{A.removeEventListener("submit",N),w&&(A.submit=w)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,o={}){return new Promise(a=>{const d=new this(e,o);a(d.initPlugins().then(()=>d.ui.init(ew(e)?e:null)).then(()=>d.data.init(d.config.get("initialData"))).then(()=>d.fire("ready")).then(()=>d))})}}function ew(c){return va(c)}Z0.Context=Dp,Z0.EditorWatchdog=LS,Z0.ContextWatchdog=class extends IS{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new x8,this._watchdogConfig=e,this._creator=o=>c.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(cy,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=zS(c);return Promise.all(e.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return a=new LS(null,this._watchdogConfig),a.setCreator(o.creator),a._setExcludedProperties(this._contextProps),o.destructor&&a.setDestructor(o.destructor),this._watchdogs.set(o.id,a),a.on("error",(d,{error:p,causesRestart:y})=>{this._fire("itemError",{itemId:o.id,error:p}),y&&this._actionQueues.enqueue(o.id,()=>new Promise(w=>{const A=()=>{a.off("restart",A),this._fire("itemRestart",{itemId:o.id}),w()};a.on("restart",A)}))}),a.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(c){const e=zS(c);return Promise.all(e.map(o=>this._actionQueues.enqueue(o,()=>{const a=this._getWatchdog(o);return this._watchdogs.delete(o),a.destroy()})))}destroy(){return this._actionQueues.enqueue(cy,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(cy,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=OC(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return RS(this._context,c.context)}};class LC extends Ea{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const o=this.document;function a(d){return(p,y)=>{y.preventDefault();const w=y.dropRange?[y.dropRange]:null,A=new V(o,d);o.fire(A,{dataTransfer:y.dataTransfer,method:p.name,targetRanges:w,target:y.target,domEvent:y.domEvent}),A.stop.called&&y.stopPropagation()}}this.listenTo(o,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",a("dragging"),{priority:"low"})}onDomEvent(e){const o="clipboardData"in e?e.clipboardData:e.dataTransfer,a=e.type=="drop"||e.type=="paste",d={dataTransfer:new r0(o,{cacheFiles:a})};e.type!="drop"&&e.type!="dragover"||(d.dropRange=function(p,y){const w=y.target.ownerDocument,A=y.clientX,N=y.clientY;let D;return w.caretRangeFromPoint&&w.caretRangeFromPoint(A,N)?D=w.caretRangeFromPoint(A,N):y.rangeParent&&(D=w.createRange(),D.setStart(y.rangeParent,y.rangeOffset),D.collapse(!0)),D?p.domConverter.domRangeToView(D):null}(this.view,e)),this.fire(e.type,e,d)}}const FS=["figcaption","li"];function VS(c){let e="";if(c.is("$text")||c.is("$textProxy"))e=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))e=c.getAttribute("alt");else if(c.is("element","br"))e=`
`;else{let o=null;for(const a of c.getChildren()){const d=VS(a);o&&(o.is("containerElement")||a.is("containerElement"))&&(FS.includes(o.name)||FS.includes(a.name)?e+=`
`:e+=`

`),e+=d,o=a}}return e}class Fl extends Ge{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(LC),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,o=e.model,a=e.editing.view,d=a.document;this.listenTo(d,"clipboardInput",(p,y)=>{y.method!="paste"||e.model.canEditAt(e.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,y)=>{const w=y.dataTransfer;let A;if(y.content)A=y.content;else{let P="";w.getData("text/html")?P=function(F){return F.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(K,X)=>X.length==1?" ":X).replace(/<!--[\s\S]*?-->/g,"")}(w.getData("text/html")):w.getData("text/plain")&&(((N=(N=w.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||N.includes("<br>"))&&(N=`<p>${N}</p>`),P=N),A=this.editor.data.htmlProcessor.toView(P)}var N;const D=new V(this,"inputTransformation");this.fire(D,{content:A,dataTransfer:w,targetRanges:y.targetRanges,method:y.method}),D.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,y)=>{if(y.content.isEmpty)return;const w=this.editor.data.toModel(y.content,"$clipboardHolder");w.childCount!=0&&(p.stop(),o.change(()=>{this.fire("contentInsertion",{content:w,method:y.method,dataTransfer:y.dataTransfer,targetRanges:y.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,y)=>{y.resultRange=o.insertContent(y.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,o=e.model.document,a=e.editing.view.document,d=(p,y)=>{const w=y.dataTransfer;y.preventDefault();const A=e.data.toView(e.model.getSelectedContent(o.selection));a.fire("clipboardOutput",{dataTransfer:w,content:A,method:p.name})};this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(p,y)=>{e.model.canEditAt(e.model.document.selection)?d(p,y):y.preventDefault()},{priority:"low"}),this.listenTo(a,"clipboardOutput",(p,y)=>{y.content.isEmpty||(y.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(y.content)),y.dataTransfer.setData("text/plain",VS(y.content))),y.method=="cut"&&e.model.deleteContent(o.selection)},{priority:"low"})}}class US{constructor(e,o=20){this._batch=null,this.model=e,this._size=0,this.limit=o,this._isLocked=!1,this._changeCallback=(a,d)=>{d.isLocal&&d.isUndoable&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class v8 extends Ut{constructor(e,o){super(e),this._buffer=new US(e.model,o),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const o=this.editor.model,a=o.document,d=e.text||"",p=d.length;let y=a.selection;if(e.selection?y=e.selection:e.range&&(y=o.createSelection(e.range)),!o.canEditAt(y))return;const w=e.resultRange;o.enqueueChange(this._buffer.batch,A=>{this._buffer.lock(),o.deleteContent(y),d&&o.insertContent(A.createText(d,a.selection.getAttributes()),y),w?A.setSelection(w):y.is("documentSelection")||A.setSelection(y),this._buffer.unlock(),this._buffer.input(p)})}}const GS=["insertText","insertReplacementText"];class w8 extends Fn{constructor(e){super(e),this.focusObserver=e.getObserver(Wh),C.isAndroid&&GS.push("insertCompositionText");const o=e.document;o.on("beforeinput",(a,d)=>{if(!this.isEnabled)return;const{data:p,targetRanges:y,inputType:w,domEvent:A}=d;if(!GS.includes(w))return;this.focusObserver.flush();const N=new V(o,"insertText");o.fire(N,new Pl(e,A,{text:p,selection:e.createSelection(y)})),N.stop.called&&a.stop()}),o.on("compositionend",(a,{data:d,domEvent:p})=>{this.isEnabled&&!C.isAndroid&&d&&o.fire("insertText",new Pl(e,p,{text:d,selection:o.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class HS extends Ge{static get pluginName(){return"Input"}init(){const e=this.editor,o=e.model,a=e.editing.view,d=o.document.selection;a.addObserver(w8);const p=new v8(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",p),e.commands.add("input",p),this.listenTo(a.document,"insertText",(y,w)=>{a.document.isComposing||w.preventDefault();const{text:A,selection:N,resultRange:D}=w,P=Array.from(N.getRanges()).map(X=>e.editing.mapper.toModelRange(X));let F=A;if(C.isAndroid){const X=Array.from(P[0].getItems()).reduce((se,de)=>se+(de.is("$textProxy")?de.data:""),"");X&&(X.length<=F.length?F.startsWith(X)&&(F=F.substring(X.length),P[0].start=P[0].start.getShiftedBy(X.length)):X.startsWith(F)&&(P[0].start=P[0].start.getShiftedBy(F.length),F=""))}const K={text:F,selection:o.createSelection(P)};D&&(K.resultRange=e.editing.mapper.toModelRange(D)),e.execute("insertText",K),a.scrollToTheSelection()}),C.isAndroid?this.listenTo(a.document,"keydown",(y,w)=>{!d.isCollapsed&&w.keyCode==229&&a.document.isComposing&&qS(o,p)}):this.listenTo(a.document,"compositionstart",()=>{d.isCollapsed||qS(o,p)})}}function qS(c,e){if(!e.isEnabled)return;const o=e.buffer;o.lock(),c.enqueueChange(o.batch,()=>{c.deleteContent(c.document.selection)}),o.unlock()}class YS extends Ut{constructor(e,o){super(e),this.direction=o,this._buffer=new US(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const o=this.editor.model,a=o.document;o.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const p=d.createSelection(e.selection||a.selection);if(!o.canEditAt(p))return;const y=e.sequence||1,w=p.isCollapsed;if(p.isCollapsed&&o.modifySelection(p,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(y))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(p,y))return void this.editor.execute("paragraph",{selection:p});if(p.isCollapsed)return;let A=0;p.getFirstRange().getMinimalFlatRanges().forEach(N=>{A+=Yr(N.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(p,{doNotResetEntireContent:w,direction:this.direction}),this._buffer.input(A),d.setSelection(p),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const o=this.editor.model,a=o.document.selection,d=o.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(d))||!o.schema.checkChild(d,"paragraph"))return!1;const p=d.getChild(0);return!p||!p.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const o=this.editor.model,a=o.document.selection,d=o.schema.getLimitElement(a),p=e.createElement("paragraph");e.remove(e.createRangeIn(d)),e.insert(p,d),e.setSelection(p,0)}_shouldReplaceFirstBlockWithParagraph(e,o){const a=this.editor.model;if(o>1||this.direction!="backward"||!e.isCollapsed)return!1;const d=e.getFirstPosition(),p=a.schema.getLimitElement(d),y=p.getChild(0);return d.parent==y&&!!e.containsEntireContent(y)&&!!a.schema.checkChild(p,"paragraph")&&y.name!="paragraph"}}const WS="word",Cu="selection",vf="backward",dy="forward",KS={deleteContent:{unit:Cu,direction:vf},deleteContentBackward:{unit:"codePoint",direction:vf},deleteWordBackward:{unit:WS,direction:vf},deleteHardLineBackward:{unit:Cu,direction:vf},deleteSoftLineBackward:{unit:Cu,direction:vf},deleteContentForward:{unit:"character",direction:dy},deleteWordForward:{unit:WS,direction:dy},deleteHardLineForward:{unit:Cu,direction:dy},deleteSoftLineForward:{unit:Cu,direction:dy}};class k8 extends Fn{constructor(e){super(e);const o=e.document;let a=0;o.on("keydown",()=>{a++}),o.on("keyup",()=>{a=0}),o.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;const{targetRanges:y,domEvent:w,inputType:A}=p,N=KS[A];if(!N)return;const D={direction:N.direction,unit:N.unit,sequence:a};D.unit==Cu&&(D.selectionToRemove=e.createSelection(y[0])),A==="deleteContentBackward"&&(C.isAndroid&&(D.sequence=1),function(F){if(F.length!=1||F[0].isCollapsed)return!1;const K=F[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let X=0;for(const{nextPosition:se}of K){if(se.parent.is("$text")){const de=se.parent.data,pe=se.offset;if(qi(de,pe)||fi(de,pe)||vp(de,pe))continue;X++}else X++;if(X>1)return!0}return!1}(y)&&(D.unit=Cu,D.selectionToRemove=e.createSelection(y)));const P=new Kr(o,"delete",y[0]);o.fire(P,new Pl(e,w,D)),P.stop.called&&d.stop()}),C.isBlink&&function(d){const p=d.view,y=p.document;let w=null,A=!1;function N(P){return P==rr.backspace||P==rr.delete}function D(P){return P==rr.backspace?vf:dy}y.on("keydown",(P,{keyCode:F})=>{w=F,A=!1}),y.on("keyup",(P,{keyCode:F,domEvent:K})=>{const X=y.selection,se=d.isEnabled&&F==w&&N(F)&&!X.isCollapsed&&!A;if(w=null,se){const de=X.getFirstRange(),pe=new Kr(y,"delete",de),ke={unit:Cu,direction:D(F),selectionToRemove:X};y.fire(pe,new Pl(p,K,ke))}}),y.on("beforeinput",(P,{inputType:F})=>{const K=KS[F];N(w)&&K&&K.direction==D(w)&&(A=!0)},{priority:"high"}),y.on("beforeinput",(P,{inputType:F,data:K})=>{w==rr.delete&&F=="insertText"&&K==""&&P.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Qc extends Ge{static get pluginName(){return"Delete"}init(){const e=this.editor,o=e.editing.view,a=o.document,d=e.model.document;o.addObserver(k8),this._undoOnBackspace=!1;const p=new YS(e,"forward");e.commands.add("deleteForward",p),e.commands.add("forwardDelete",p),e.commands.add("delete",new YS(e,"backward")),this.listenTo(a,"delete",(y,w)=>{a.isComposing||w.preventDefault();const{direction:A,sequence:N,selectionToRemove:D,unit:P}=w,F=A==="forward"?"deleteForward":"delete",K={sequence:N};if(P=="selection"){const X=Array.from(D.getRanges()).map(se=>e.editing.mapper.toModelRange(se));K.selection=e.model.createSelection(X)}else K.unit=P;e.execute(F,K),o.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(y,w)=>{this._undoOnBackspace&&w.direction=="backward"&&w.sequence==1&&w.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),w.preventDefault(),y.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class C8 extends Ge{static get requires(){return[HS,Qc]}static get pluginName(){return"Typing"}}function QS(c,e){let o=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((a,{item:d})=>d.is("$text")||d.is("$textProxy")?a+d.data:(o=e.createPositionAfter(d),""),""),range:e.createRange(o,c.end)}}class JS extends tt(){constructor(e,o){super(),this.model=e,this.testCallback=o,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(o,{directChange:a})=>{a&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(o,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(e,o={}){const a=this.model,d=a.document.selection,p=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:y,range:w}=QS(p,a),A=this.testCallback(y);if(!A&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!A,A){const N=Object.assign(o,{text:y,range:w});typeof A=="object"&&Object.assign(N,A),this.fire(`matched:${e}`,N)}}}class $S extends Ge{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,o=e.model,a=e.editing.view,d=e.locale,p=o.document.selection;this.listenTo(a.document,"arrowKey",(y,w)=>{if(!p.isCollapsed||w.shiftKey||w.altKey||w.ctrlKey)return;const A=w.keyCode==rr.arrowright,N=w.keyCode==rr.arrowleft;if(!A&&!N)return;const D=d.contentLanguageDirection;let P=!1;P=D==="ltr"&&A||D==="rtl"&&N?this._handleForwardMovement(w):this._handleBackwardMovement(w),P===!0&&y.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(p,"change:range",(y,w)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!w.directChange&&rw(p.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const o=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!zC(a,o))&&!!rw(d,o)&&(tw(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const o=this.attributes,a=this.editor.model,d=a.document.selection,p=d.getFirstPosition();return this._isGravityOverridden?(tw(e),this._restoreGravity(),FC(a,o,p),!0):p.isAtStart?!!zC(d,o)&&(tw(e),FC(a,o,p),!0):!!function(y,w){const A=y.getShiftedBy(-1);return rw(A,w)}(p,o)&&(p.isAtEnd&&!zC(d,o)&&rw(p,o)?(tw(e),FC(a,o,p),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function zC(c,e){for(const o of e)if(c.hasAttribute(o))return!0;return!1}function FC(c,e,o){const a=o.nodeBefore;c.change(d=>{if(a){const p=[],y=c.schema.isObject(a)&&c.schema.isInline(a);for(const[w,A]of a.getAttributes())!c.schema.checkAttribute("$text",w)||y&&c.schema.getAttributeProperties(w).copyFromObject===!1||p.push([w,A]);d.setSelectionAttribute(p)}else d.removeSelectionAttribute(e)})}function tw(c){c.preventDefault()}function rw(c,e){const{nodeBefore:o,nodeAfter:a}=c;for(const d of e){const p=o?o.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==p)return!0}return!1}var XS=/[\\^$.*+?()[\]{}|]/g,_8=RegExp(XS.source);const A8=function(c){return(c=Ip(c))&&_8.test(c)?c.replace(XS,"\\$&"):c},ZS={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:wf('"'),to:[null,"",null,""]},quotesSecondary:{from:wf("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:wf("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:wf('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:wf('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:wf("'"),to:[null,"",null,""]}},eE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},j8=["symbols","mathematical","typography","quotes"];function N8(c){return typeof c=="string"?new RegExp(`(${A8(c)})$`):c}function S8(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function E8(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function wf(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function kf(c,e,o,a){return a.createRange(tE(c,e,o,!0,a),tE(c,e,o,!1,a))}function tE(c,e,o,a,d){let p=c.textNode||(a?c.nodeBefore:c.nodeAfter),y=null;for(;p&&p.getAttribute(e)==o;)y=p,p=a?p.previousSibling:p.nextSibling;return y?d.createPositionAt(y,a?"before":"after"):c}function*rE(c,e){for(const o of e)o&&c.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class D8 extends Ut{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const o=this.editor.model,a=o.document.selection,d=o.schema,p=a.isCollapsed,y=a.getFirstRange(),w=y.start.parent,A=y.end.parent;if(d.isLimit(w)||d.isLimit(A))return p||w!=A||o.deleteContent(a),!1;if(p){const N=rE(e.model.schema,a.getAttributes());return nE(e,y.start),e.setSelectionAttribute(N),!0}{const N=!(y.start.isAtStart&&y.end.isAtEnd),D=w==A;if(o.deleteContent(a,{leaveUnmerged:N}),N){if(D)return nE(e,a.focus),!0;e.setSelection(A,0)}}return!1}}function nE(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const M8={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class sE extends Fn{constructor(e){super(e);const o=this.document;let a=!1;o.on("keydown",(d,p)=>{a=p.shiftKey}),o.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;let y=p.inputType;C.isSafari&&a&&y=="insertParagraph"&&(y="insertLineBreak");const w=p.domEvent,A=M8[y];if(!A)return;const N=new Kr(o,"enter",p.targetRanges[0]);o.fire(N,new Pl(e,w,{isSoft:A.isSoft})),N.stop.called&&d.stop()})}observe(){}stopObserving(){}}class nw extends Ge{static get pluginName(){return"Enter"}init(){const e=this.editor,o=e.editing.view,a=o.document;o.addObserver(sE),e.commands.add("enter",new D8(e)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(e.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class T8 extends Ut{execute(){const e=this.editor.model,o=e.document;e.change(a=>{(function(d,p,y){const w=y.isCollapsed,A=y.getFirstRange(),N=A.start.parent,D=A.end.parent,P=N==D;if(w){const F=rE(d.schema,y.getAttributes());oE(d,p,A.end),p.removeSelectionAttribute(y.getAttributeKeys()),p.setSelectionAttribute(F)}else{const F=!(A.start.isAtStart&&A.end.isAtEnd);d.deleteContent(y,{leaveUnmerged:F}),P?oE(d,p,y.focus):F&&p.setSelection(D,0)}})(e,a,o.selection),this.fire("afterExecute",{writer:a})})}refresh(){const e=this.editor.model,o=e.document;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const p=d.anchor;if(!p||!a.checkChild(p,"softBreak"))return!1;const y=d.getFirstRange(),w=y.start.parent,A=y.end.parent;return!((VC(w,a)||VC(A,a))&&w!==A)}(e.schema,o.selection)}}function oE(c,e,o){const a=e.createElement("softBreak");c.insertContent(a,o),e.setSelection(a,"after")}function VC(c,e){return!c.is("rootElement")&&(e.isLimit(c)||VC(c.parent,e))}class I8 extends Ge{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,o=e.model.schema,a=e.conversion,d=e.editing.view,p=d.document;o.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(y,{writer:w})=>w.createEmptyElement("br")}),d.addObserver(sE),e.commands.add("shiftEnter",new T8(e)),this.listenTo(p,"enter",(y,w)=>{p.isComposing||w.preventDefault(),w.isSoft&&(e.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class R8 extends oe(){constructor(){super(...arguments),this._stack=[]}add(e,o){const a=this._stack,d=a[0];this._insertDescriptor(e);const p=a[0];d===p||UC(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:o})}remove(e,o){const a=this._stack,d=a[0];this._removeDescriptor(e);const p=a[0];d===p||UC(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:o})}_insertDescriptor(e){const o=this._stack,a=o.findIndex(p=>p.id===e.id);if(UC(e,o[a]))return;a>-1&&o.splice(a,1);let d=0;for(;o[d]&&P8(o[d],e);)d++;o.splice(d,0,e)}_removeDescriptor(e){const o=this._stack,a=o.findIndex(d=>d.id===e);a>-1&&o.splice(a,1)}}function UC(c,e){return c&&e&&c.priority==e.priority&&sw(c.classes)==sw(e.classes)}function P8(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&sw(c.classes)>sw(e.classes)}function sw(c){return Array.isArray(c)?c.sort().join(","):c}const O8='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',B8="ck-widget",iE="ck-widget_selected";function vn(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function GC(c,e,o={}){if(!c.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(B8,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=F8,e.setCustomProperty("widgetLabel",[],c),o.label&&function(a,d){a.getCustomProperty("widgetLabel").push(d)}(c,o.label),o.hasSelectionHandle&&function(a,d){const p=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(y){const w=this.toDomElement(y),A=new Yi;return A.set("content",O8),A.render(),w.appendChild(A.element),w});d.insert(d.createPositionAt(a,0),p),d.addClass(["ck-widget_with-selection-handle"],a)}(c,e),aE(c,e),c}function L8(c,e,o){if(e.classes&&o.addClass(Dn(e.classes),c),e.attributes)for(const a in e.attributes)o.setAttribute(a,e.attributes[a],c)}function z8(c,e,o){if(e.classes&&o.removeClass(Dn(e.classes),c),e.attributes)for(const a in e.attributes)o.removeAttribute(a,c)}function aE(c,e,o=L8,a=z8){const d=new R8;d.on("change:top",(p,y)=>{y.oldDescriptor&&a(c,y.oldDescriptor,y.writer),y.newDescriptor&&o(c,y.newDescriptor,y.writer)}),e.setCustomProperty("addHighlight",(p,y,w)=>d.add(y,w),c),e.setCustomProperty("removeHighlight",(p,y,w)=>d.remove(y,w),c)}function lE(c,e,o={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),o.label&&e.setAttribute("aria-label",o.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(a,d,p)=>{e.setAttribute("contenteditable",p?"false":"true",c)}),c.on("change:isFocused",(a,d,p)=>{p?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),aE(c,e),c}function cE(c,e){const o=c.getSelectedElement();if(o){const a=_u(c);if(a)return e.createRange(e.createPositionAt(o,a))}return ku(c,e)}function F8(){return null}const Jc="widget-type-around";function bm(c,e,o){return!!c&&vn(c)&&!o.isInline(e)}function _u(c){return c.getAttribute(Jc)}var dE=l(4921),V8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(dE.Z,V8),dE.Z.locals;const uE=["before","after"],U8=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,hE="ck-widget__type-around_disabled";class G8 extends Ge{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[nw,Qc]}init(){const e=this.editor,o=e.editing.view;this.on("change:isEnabled",(a,d,p)=>{o.change(y=>{for(const w of o.document.roots)p?y.removeClass(hE,w):y.addClass(hE,w)}),p||e.model.change(y=>{y.removeSelectionAttribute(Jc)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,o){const a=this.editor,d=a.editing.view,p=a.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(e,o),attributes:p}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(e,o,a,d){this.listenTo(e,o,(...p)=>{this.isEnabled&&a(...p)},d)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,o=_u(e);if(!o)return!1;const a=e.getSelectedElement();return this._insertParagraph(a,o),!0}_enableTypeAroundUIInjection(){const e=this.editor,o=e.model.schema,a=e.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(p,y,w)=>{const A=w.mapper.toViewElement(y.item);A&&bm(A,y.item,o)&&(function(N,D,P){const F=N.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(K){const X=this.toDomElement(K);return function(se,de){for(const pe of uE){const ke=new gi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${pe}`],title:de[pe],"aria-hidden":"true"},children:[se.ownerDocument.importNode(U8,!0)]});se.appendChild(ke.render())}}(X,D),function(se){const de=new gi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});se.appendChild(de.render())}(X),X});N.insert(N.createPositionAt(P,"end"),F)}(w.writer,d,A),A.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,o=e.model,a=o.document.selection,d=o.schema,p=e.editing.view;function y(w){return`ck-widget_type-around_show-fake-caret_${w}`}this._listenToIfEnabled(p.document,"arrowKey",(w,A)=>{this._handleArrowKeyPress(w,A)},{context:[vn,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(w,A)=>{A.directChange&&e.model.change(N=>{N.removeSelectionAttribute(Jc)})}),this._listenToIfEnabled(o.document,"change:data",()=>{const w=a.getSelectedElement();w&&bm(e.editing.mapper.toViewElement(w),w,d)||e.model.change(A=>{A.removeSelectionAttribute(Jc)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(w,A,N)=>{const D=N.writer;if(this._currentFakeCaretModelElement){const X=N.mapper.toViewElement(this._currentFakeCaretModelElement);X&&(D.removeClass(uE.map(y),X),this._currentFakeCaretModelElement=null)}const P=A.selection.getSelectedElement();if(!P)return;const F=N.mapper.toViewElement(P);if(!bm(F,P,d))return;const K=_u(A.selection);K&&(D.addClass(y(K),F),this._currentFakeCaretModelElement=P)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(w,A,N)=>{N||e.model.change(D=>{D.removeSelectionAttribute(Jc)})})}_handleArrowKeyPress(e,o){const a=this.editor,d=a.model,p=d.document.selection,y=d.schema,w=a.editing.view,A=function(P,F){const K=Lo(P,F);return K==="down"||K==="right"}(o.keyCode,a.locale.contentLanguageDirection),N=w.document.selection.getSelectedElement();let D;bm(N,a.editing.mapper.toModelElement(N),y)?D=this._handleArrowKeyPressOnSelectedWidget(A):p.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(A):o.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(A)),D&&(o.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const o=this.editor.model,a=_u(o.document.selection);return o.change(d=>a?a!==(e?"after":"before")?(d.removeSelectionAttribute(Jc),!0):!1:(d.setSelectionAttribute(Jc,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const o=this.editor,a=o.model,d=a.schema,p=o.plugins.get("Widget"),y=p._getObjectElementNextToSelection(e);return!!bm(o.editing.mapper.toViewElement(y),y,d)&&(a.change(w=>{p._setSelectionOverElement(y),w.setSelectionAttribute(Jc,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const o=this.editor,a=o.model,d=a.schema,p=o.editing.mapper,y=a.document.selection,w=e?y.getLastPosition().nodeBefore:y.getFirstPosition().nodeAfter;return!!bm(p.toViewElement(w),w,d)&&(a.change(A=>{A.setSelection(w,"on"),A.setSelectionAttribute(Jc,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,o=e.editing.view;this._listenToIfEnabled(o.document,"mousedown",(a,d)=>{const p=d.domTarget.closest(".ck-widget__type-around__button");if(!p)return;const y=function(N){return N.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(p),w=function(N,D){const P=N.closest(".ck-widget");return D.mapDomToView(P)}(p,o.domConverter),A=e.editing.mapper.toModelElement(w);this._insertParagraph(A,y),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,o=e.model.document.selection,a=e.editing.view;this._listenToIfEnabled(a.document,"enter",(d,p)=>{if(d.eventPhase!="atTarget")return;const y=o.getSelectedElement(),w=e.editing.mapper.toViewElement(y),A=e.model.schema;let N;this._insertParagraphAccordingToFakeCaretPosition()?N=!0:bm(w,y,A)&&(this._insertParagraph(y,p.isSoft?"before":"after"),N=!0),N&&(p.preventDefault(),d.stop())},{context:vn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(o,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=e.selection)},{priority:"high"}),C.isAndroid?this._listenToIfEnabled(e,"keydown",(o,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,o=e.editing.view,a=e.model,d=a.schema;this._listenToIfEnabled(o.document,"delete",(p,y)=>{if(p.eventPhase!="atTarget")return;const w=_u(a.document.selection);if(!w)return;const A=y.direction,N=a.document.selection.getSelectedElement(),D=A=="forward";if(w==="before"===D)e.execute("delete",{selection:a.createSelection(N,"on")});else{const P=d.getNearestSelectionRange(a.createPositionAt(N,w),A);if(P)if(P.isCollapsed){const F=a.createSelection(P.start);if(a.modifySelection(F,{direction:A}),F.focus.isEqual(P.start)){const K=function(X,se){let de=se;for(const pe of se.getAncestors({parentFirst:!0})){if(pe.childCount>1||X.isLimit(pe))break;de=pe}return de}(d,P.start.parent);a.deleteContent(a.createSelection(K,"on"),{doNotAutoparagraph:!0})}else a.change(K=>{K.setSelection(P),e.execute(D?"deleteForward":"delete")})}else a.change(F=>{F.setSelection(P),e.execute(D?"deleteForward":"delete")})}y.preventDefault(),p.stop()},{context:vn})}_enableInsertContentIntegration(){const e=this.editor,o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(e.model,"insertContent",(d,[p,y])=>{if(y&&!y.is("documentSelection"))return;const w=_u(a);return w?(d.stop(),o.change(A=>{const N=a.getSelectedElement(),D=o.createPositionAt(N,w),P=A.createSelection(D),F=o.insertContent(p,P);return A.setSelection(P),F})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(a,d)=>{const[,p,y={}]=d;if(p&&!p.is("documentSelection"))return;const w=_u(o);w&&(y.findOptimalPosition=w,d[3]=y)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(a,[d])=>{d&&!d.is("documentSelection")||_u(o)&&a.stop()},{priority:"high"})}}function H8(c){const e=c.model;return(o,a)=>{const d=a.keyCode==rr.arrowup,p=a.keyCode==rr.arrowdown,y=a.shiftKey,w=e.document.selection;if(!d&&!p)return;const A=p;if(y&&function(D,P){return!D.isCollapsed&&D.isBackward==P}(w,A))return;const N=function(D,P,F){const K=D.model;if(F){const X=P.isCollapsed?P.focus:P.getLastPosition(),se=mE(K,X,"forward");if(!se)return null;const de=K.createRange(X,se),pe=pE(K.schema,de,"backward");return pe?K.createRange(X,pe):null}{const X=P.isCollapsed?P.focus:P.getFirstPosition(),se=mE(K,X,"backward");if(!se)return null;const de=K.createRange(se,X),pe=pE(K.schema,de,"forward");return pe?K.createRange(pe,X):null}}(c,w,A);if(N){if(N.isCollapsed&&(w.isCollapsed||y))return;(N.isCollapsed||function(D,P,F){const K=D.model,X=D.view.domConverter;if(F){const Fe=K.createSelection(P.start);K.modifySelection(Fe),Fe.focus.isAtEnd||P.start.isEqual(Fe.focus)||(P=K.createRange(Fe.focus,P.end))}const se=D.mapper.toViewRange(P),de=X.viewRangeToDom(se),pe=Ar.getDomRangeRects(de);let ke;for(const Fe of pe)if(ke!==void 0){if(Math.round(Fe.top)>=ke)return!1;ke=Math.max(ke,Math.round(Fe.bottom))}else ke=Math.round(Fe.bottom);return!0}(c,N,A))&&(e.change(D=>{const P=A?N.end:N.start;if(y){const F=e.createSelection(w.anchor);F.setFocus(P),D.setSelection(F)}else D.setSelection(P)}),o.stop(),a.preventDefault(),a.stopPropagation())}}}function mE(c,e,o){const a=c.schema,d=c.createRangeIn(e.root),p=o=="forward"?"elementStart":"elementEnd";for(const{previousPosition:y,item:w,type:A}of d.getWalker({startPosition:e,direction:o})){if(a.isLimit(w)&&!a.isInline(w))return y;if(A==p&&a.isBlock(w))return null}return null}function pE(c,e,o){const a=o=="backward"?e.end:e.start;if(c.checkChild(a,"$text"))return a;for(const{nextPosition:d}of e.getWalker({direction:o}))if(c.checkChild(d,"$text"))return d;return null}var fE=l(3488),q8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(fE.Z,q8),fE.Z.locals;class uy extends Ge{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[G8,Qc]}init(){const e=this.editor,o=e.editing.view,a=o.document;this.editor.editing.downcastDispatcher.on("selection",(d,p,y)=>{const w=y.writer,A=p.selection;if(A.isCollapsed)return;const N=A.getSelectedElement();if(!N)return;const D=e.editing.mapper.toViewElement(N);var P;vn(D)&&y.consumable.consume(A,"selection")&&w.setSelection(w.createRangeOn(D),{fake:!0,label:(P=D,P.getCustomProperty("widgetLabel").reduce((F,K)=>typeof K=="function"?F?F+". "+K():K():F?F+". "+K:K,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,y)=>{this._clearPreviouslySelectedWidgets(y.writer);const w=y.writer,A=w.document.selection;let N=null;for(const D of A.getRanges())for(const P of D){const F=P.item;vn(F)&&!Y8(F,N)&&(w.addClass(iE,F),this._previouslySelected.add(F),N=F)}},{priority:"low"}),o.addObserver(gm),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[vn,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",H8(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(e,o){const a=this.editor,d=a.editing.view,p=d.document;let y=o.target;if(function(A){let N=A;for(;N;){if(N.is("editableElement")&&!N.is("rootElement"))return!0;if(vn(N))return!1;N=N.parent}return!1}(y)){if((C.isSafari||C.isGecko)&&o.domEvent.detail>=3){const A=a.editing.mapper,N=y.is("attributeElement")?y.findAncestor(P=>!P.is("attributeElement")):y,D=A.toModelElement(N);o.preventDefault(),this.editor.model.change(P=>{P.setSelection(D,"in")})}return}if(!vn(y)&&(y=y.findAncestor(vn),!y))return;C.isAndroid&&o.preventDefault(),p.isFocused||d.focus();const w=a.editing.mapper.toModelElement(y);this._setSelectionOverElement(w)}_handleSelectionChangeOnArrowKeyPress(e,o){const a=o.keyCode,d=this.editor.model,p=d.schema,y=d.document.selection,w=y.getSelectedElement(),A=Lo(a,this.editor.locale.contentLanguageDirection),N=A=="down"||A=="right",D=A=="up"||A=="down";if(w&&p.isObject(w)){const F=N?y.getLastPosition():y.getFirstPosition(),K=p.getNearestSelectionRange(F,N?"forward":"backward");return void(K&&(d.change(X=>{X.setSelection(K)}),o.preventDefault(),e.stop()))}if(!y.isCollapsed&&!o.shiftKey){const F=y.getFirstPosition(),K=y.getLastPosition(),X=F.nodeAfter,se=K.nodeBefore;return void((X&&p.isObject(X)||se&&p.isObject(se))&&(d.change(de=>{de.setSelection(N?K:F)}),o.preventDefault(),e.stop()))}if(!y.isCollapsed)return;const P=this._getObjectElementNextToSelection(N);if(P&&p.isObject(P)){if(p.isInline(P)&&D)return;this._setSelectionOverElement(P),o.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,o){const a=this.editor.model,d=a.schema,p=a.document.selection.getSelectedElement();p&&d.isObject(p)&&(o.preventDefault(),e.stop())}_handleDelete(e){const o=this.editor.model.document.selection;if(!this.editor.model.canEditAt(o)||!o.isCollapsed)return;const a=this._getObjectElementNextToSelection(e);return a?(this.editor.model.change(d=>{let p=o.anchor.parent;for(;p.isEmpty;){const y=p;p=y.parent,d.remove(y)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(e))})}_getObjectElementNextToSelection(e){const o=this.editor.model,a=o.schema,d=o.document.selection,p=o.createSelection(d);if(o.modifySelection(p,{direction:e?"forward":"backward"}),p.isEqual(d))return null;const y=e?p.focus.nodeBefore:p.focus.nodeAfter;return y&&a.isObject(y)?y:null}_clearPreviouslySelectedWidgets(e){for(const o of this._previouslySelected)e.removeClass(iE,o);this._previouslySelected.clear()}}function Y8(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class ow extends Ge{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[$0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const o=e.plugins.get("BalloonToolbar");this.listenTo(o,"show",a=>{(function(d){const p=d.getSelectedElement();return!(!p||!vn(p))})(e.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:o,items:a,getRelatedElement:d,balloonClassName:p="ck-toolbar-container"}){if(!a.length)return void Y("widget-toolbar-no-items",{toolbarId:e});const y=this.editor,w=y.t,A=new ce(y.locale);if(A.ariaLabel=o||w("Widget toolbar"),this._toolbarDefinitions.has(e))throw new B("widget-toolbar-duplicated",this,{toolbarId:e});const N={view:A,getRelatedElement:d,balloonClassName:p,itemsConfig:a,initialized:!1};y.ui.addToolbar(A,{isContextual:!0,beforeFocus:()=>{const D=d(y.editing.view.document.selection);D&&this._showToolbar(N,D)},afterBlur:()=>{this._hideToolbar(N)}}),this._toolbarDefinitions.set(e,N)}_updateToolbarsVisibility(){let e=0,o=null,a=null;for(const d of this._toolbarDefinitions.values()){const p=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&p)if(this.editor.ui.focusTracker.isFocused){const y=p.getAncestors().length;y>e&&(e=y,o=p,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,o)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,o){this._isToolbarVisible(e)?gE(this.editor,o):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:bE(this.editor,o),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);gE(this.editor,d)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function gE(c,e){const o=c.plugins.get("ContextualBalloon"),a=bE(c,e);o.updatePosition(a)}function bE(c,e){const o=c.editing.view,a=Wo.defaultPositions;return{target:o.domConverter.mapViewToDom(e),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var yE=l(8506),W8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(yE.Z,W8),yE.Z.locals;var xE=l(903),K8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(xE.Z,K8),xE.Z.locals;class Q8 extends Ge{static get pluginName(){return"DragDrop"}static get requires(){return[Fl,uy]}init(){const e=this.editor,o=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=RC(a=>this._updateDropMarker(a),40),this._removeDropMarkerDelayed=pi(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=pi(()=>this._clearDraggableAttributes(),40),e.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(o.addObserver(LC),o.addObserver(gm),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(a,d,p)=>{p?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,p)=>{p||this._finalizeDragging(!1)}),C.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,o=e.model,a=o.document,d=e.editing.view,p=d.document;this.listenTo(p,"dragstart",(y,w)=>{const A=a.selection;if(w.target&&w.target.is("editableElement"))return void w.preventDefault();const N=w.target?kE(w.target):null;if(N){const K=e.editing.mapper.toModelElement(N);this._draggedRange=Ho.fromRange(o.createRangeOn(K)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!p.selection.isCollapsed){const K=p.selection.getSelectedElement();K&&vn(K)||(this._draggedRange=Ho.fromRange(A.getFirstRange()))}if(!this._draggedRange)return void w.preventDefault();this._draggingUid=q();const D=this.isEnabled&&e.model.canEditAt(this._draggedRange);w.dataTransfer.effectAllowed=D?"copyMove":"copy",w.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const P=o.createSelection(this._draggedRange.toRange()),F=e.data.toView(o.getSelectedContent(P));p.fire("clipboardOutput",{dataTransfer:w.dataTransfer,content:F,method:"dragstart"}),D||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(p,"dragend",(y,w)=>{this._finalizeDragging(!w.dataTransfer.isCanceled&&w.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(p,"dragenter",()=>{this.isEnabled&&d.focus()}),this.listenTo(p,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(p,"dragging",(y,w)=>{if(!this.isEnabled)return void(w.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const A=vE(e,w.targetRanges,w.target);e.model.canEditAt(A)?(this._draggedRange||(w.dataTransfer.dropEffect="copy"),C.isGecko||(w.dataTransfer.effectAllowed=="copy"?w.dataTransfer.dropEffect="copy":["all","copyMove"].includes(w.dataTransfer.effectAllowed)&&(w.dataTransfer.dropEffect="move")),A&&this._updateDropMarkerThrottled(A)):w.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"clipboardInput",(a,d)=>{if(d.method!="drop")return;const p=vE(e,d.targetRanges,d.target);if(this._removeDropMarker(),!p||!e.model.canEditAt(p))return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),wE(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(p,!0))return this._finalizeDragging(!1),void a.stop();d.targetRanges=[e.editing.mapper.toViewRange(p)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Fl);e.on("contentInsertion",(o,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=a.targetRanges.map(p=>this.editor.editing.mapper.toModelRange(p));this.editor.model.change(p=>p.setSelection(d))},{priority:"high"}),e.on("contentInsertion",(o,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=wE(a.dataTransfer)=="move",p=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(p&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,o=e.editing.view,a=o.document;this.listenTo(a,"mousedown",(d,p)=>{if(C.isAndroid||!p)return;this._clearDraggableAttributesDelayed.cancel();let y=kE(p.target);if(C.isBlink&&!y&&!a.selection.isCollapsed){const w=a.selection.getSelectedElement();if(!w||!vn(w)){const A=a.selection.editableElement;A&&!A.isReadOnly&&(y=A)}}y&&(o.change(w=>{w.setAttribute("draggable","true",y)}),this._draggableElement=e.editing.mapper.toModelElement(y))}),this.listenTo(a,"mouseup",()=>{C.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(o=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&o.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:a})=>{if(e.model.schema.checkChild(o.markerRange.start,"$text"))return a.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const p=this.toDomElement(d);return p.append("",d.createElement("span"),""),p})}})}_updateDropMarker(e){const o=this.editor,a=o.model.markers;o.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(e)||d.updateMarker("drop-target",{range:e}):d.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(o=>{o.removeMarker("drop-target")})}_finalizeDragging(e){const o=this.editor,a=o.model;this._removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&a.deleteContent(a.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function vE(c,e,o){const a=c.model,d=c.editing.mapper;let p=null;const y=e?e[0].start:null;if(o.is("uiElement")&&(o=o.parent),p=function(N,D){const P=N.model,F=N.editing.mapper;if(vn(D))return P.createRangeOn(F.toModelElement(D));if(!D.is("editableElement")){const K=D.findAncestor(X=>vn(X)||X.is("editableElement"));if(vn(K))return P.createRangeOn(F.toModelElement(K))}return null}(c,o),p)return p;const w=function(N,D){const P=N.editing.mapper,F=N.editing.view,K=P.toModelElement(D);if(K)return K;const X=F.createPositionBefore(D),se=P.findMappedViewAncestor(X);return P.toModelElement(se)}(c,o),A=y?d.toModelPosition(y):null;return A?(p=function(N,D,P){const F=N.model;if(!F.schema.checkChild(P,"$block"))return null;const K=F.createPositionAt(P,0),X=D.path.slice(0,K.path.length),se=F.createPositionFromPath(D.root,X),de=se.nodeAfter;return de&&F.schema.isObject(de)?F.createRangeOn(de):null}(c,A,w),p||(p=a.schema.getNearestSelectionRange(A,C.isGecko?"forward":"backward"),p||function(N,D){const P=N.model;let F=D;for(;F;){if(P.schema.isObject(F))return P.createRangeOn(F);F=F.parent}return null}(c,A.parent))):function(N,D){const P=N.model,F=P.schema,K=P.createPositionAt(D,0);return F.getNearestSelectionRange(K,"forward")}(c,w)}function wE(c){return C.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function kE(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(vn);if(vn(c))return c;const e=c.findAncestor(o=>vn(o)||o.is("editableElement"));return vn(e)?e:null}class J8 extends Ge{static get pluginName(){return"PastePlainText"}static get requires(){return[Fl]}init(){const e=this.editor,o=e.model,a=e.editing.view,d=a.document,p=o.document.selection;let y=!1;a.addObserver(LC),this.listenTo(d,"keydown",(w,A)=>{y=A.shiftKey}),e.plugins.get(Fl).on("contentInsertion",(w,A)=>{(y||function(N,D){if(N.childCount>1)return!1;const P=N.getChild(0);return D.isObject(P)?!1:Array.from(P.getAttributeKeys()).length==0}(A.content,o.schema))&&o.change(N=>{const D=Array.from(p.getAttributes()).filter(([F])=>o.schema.getAttributeProperties(F).isFormatting);p.isCollapsed||o.deleteContent(p,{doNotAutoparagraph:!0}),D.push(...p.getAttributes());const P=N.createRangeIn(A.content);for(const F of P.getItems())F.is("$textProxy")&&N.setAttributes(D,F)})})}}class CE extends Ge{static get pluginName(){return"Clipboard"}static get requires(){return[Fl,Q8,J8]}}class $8 extends Ut{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,o=e.document.selection;let a=e.schema.getLimitElement(o);if(o.containsEntireContent(a)||!_E(e.schema,a))do if(a=a.parent,!a)return;while(!_E(e.schema,a));e.change(d=>{d.setSelection(a,"in")})}}function _E(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const X8=lr("Ctrl+A");class Z8 extends Ge{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,o=e.editing.view.document;e.commands.add("selectAll",new $8(e)),this.listenTo(o,"keydown",(a,d)=>{Fr(d)===X8&&(e.execute("selectAll"),d.preventDefault())})}}class e7 extends Ge{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",o=>{const a=e.commands.get("selectAll"),d=new hr(o),p=o.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isEnabled").to(a,"isEnabled"),this.listenTo(d,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),d})}}class t7 extends Ge{static get requires(){return[Z8,e7]}static get pluginName(){return"SelectAll"}}var r7=Object.defineProperty,AE=Object.getOwnPropertySymbols,n7=Object.prototype.hasOwnProperty,s7=Object.prototype.propertyIsEnumerable,jE=(c,e,o)=>e in c?r7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class NE extends Ut{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(o,a)=>{a[1]=((p,y)=>{for(var w in y||(y={}))n7.call(y,w)&&jE(p,w,y[w]);if(AE)for(var w of AE(y))s7.call(y,w)&&jE(p,w,y[w]);return p})({},a[1]);const d=a[1];d.batchType||(d.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(o,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const o=this.editor.model.document.selection,a={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:e,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,o,a){const d=this.editor.model,p=d.document,y=[],w=e.map(N=>N.getTransformedByOperations(a)),A=w.flat();for(const N of w){const D=N.filter(P=>P.root!=p.graveyard).filter(P=>!i7(P,A));D.length&&(o7(D),y.push(D[0]))}y.length&&d.change(N=>{N.setSelection(y,{backward:o})})}_undo(e,o){const a=this.editor.model,d=a.document;this._createdBatches.add(o);const p=e.operations.slice().filter(y=>y.isDocumentOperation);p.reverse();for(const y of p){const w=y.baseVersion+1,A=Array.from(d.history.getOperations(w)),N=La([y.getReversed()],A,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let D of N){const P=D.affectedSelectable;P&&!a.canEditAt(P)&&(D=new xn(D.baseVersion)),o.addOperation(D),a.applyOperation(D),d.history.setOperationAsUndone(y,D)}}}}function o7(c){c.sort((e,o)=>e.start.isBefore(o.start)?-1:1);for(let e=1;e<c.length;e++){const o=c[e-1].getJoined(c[e],!0);o&&(e--,c.splice(e,2,o))}}function i7(c,e){return e.some(o=>o!==c&&o.containsRange(c,!0))}class a7 extends NE{execute(e=null){const o=e?this._stack.findIndex(p=>p.batch==e):this._stack.length-1,a=this._stack.splice(o,1)[0],d=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const p=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,p)}),this.fire("revert",a.batch,d),this.refresh()}}class l7 extends NE{execute(){const e=this._stack.pop(),o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{const a=e.batch.operations[e.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(a);this._restoreSelection(e.selection.ranges,e.selection.isBackward,d),this._undo(e.batch,o)}),this.refresh()}}class c7 extends Ge{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new a7(e),this._redoCommand=new l7(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(o,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const p=d.batch,y=this._redoCommand.createdBatches.has(p),w=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(y?this._undoCommand.addBatch(p):w||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,a,d)=>{this._redoCommand.addBatch(d)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const SE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',EE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class d7 extends Ge{static get pluginName(){return"UndoUI"}init(){const e=this.editor,o=e.locale,a=e.t,d=o.uiLanguageDirection=="ltr"?SE:EE,p=o.uiLanguageDirection=="ltr"?EE:SE;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",p)}_addButton(e,o,a,d){const p=this.editor;p.ui.componentFactory.add(e,y=>{const w=p.commands.get(e),A=new hr(y);return A.set({label:o,icon:d,keystroke:a,tooltip:!0}),A.bind("isEnabled").to(w,"isEnabled"),this.listenTo(A,"execute",()=>{p.execute(e),p.editing.view.focus()}),A})}}class DE extends Ge{static get requires(){return[c7,d7]}static get pluginName(){return"Undo"}}class u7 extends tt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const o=this._reader;return this.total=e.size,new Promise((a,d)=>{o.onload=()=>{const p=o.result;this._data=p,a(p)},o.onerror=()=>{d("error")},o.onabort=()=>{d("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class qa extends Ge{constructor(){super(...arguments),this.loaders=new Fs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[g]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,o)=>o?e/o*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Y("filerepository-no-upload-adapter"),null;const o=new ME(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(e,o),e instanceof Promise&&o.file.then(a=>{this._loadersMap.set(a,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),o.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),o}destroyLoader(e){const o=e instanceof ME?e:this.getLoader(e);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((a,d)=>{a===o&&this._loadersMap.delete(d)})}_updatePendingAction(){const e=this.editor.plugins.get(g);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,a=d=>`${o("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=e.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else e.remove(this._pendingAction),this._pendingAction=null}}class ME extends tt(){constructor(e,o){super(),this.id=q(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=o(this),this._reader=new u7,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new B("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new B("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const o={};return o.promise=new Promise((a,d)=>{o.rejecter=d,o.isFulfilled=!1,e.then(p=>{o.isFulfilled=!0,a(p)}).catch(p=>{o.isFulfilled=!0,d(p)})}),o}}class h7 extends Kt{constructor(e){super(e),this.buttonView=new hr(e),this._fileInputView=new m7(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class m7 extends Kt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const TE="ckCsrfToken",IE="abcdefghijklmnopqrstuvwxyz0123456789";function p7(){let c=function(a){a=a.toLowerCase();const d=document.cookie.split(";");for(const p of d){const y=p.split("=");if(decodeURIComponent(y[0].trim().toLowerCase())===a)return decodeURIComponent(y[1])}return null}(TE);var e,o;return c&&c.length==40||(c=function(a){let d="";const p=new Uint8Array(a);window.crypto.getRandomValues(p);for(let y=0;y<p.length;y++){const w=IE.charAt(p[y]%IE.length);d+=Math.random()>.5?w.toUpperCase():w}return d}(40),e=TE,o=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+";path=/"),c}class f7{constructor(e,o,a){this.loader=e,this.url=o,this.t=a}upload(){return this.loader.file.then(e=>new Promise((o,a)=>{this._initRequest(),this._initListeners(o,a,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,o,a){const d=this.xhr,p=this.loader,y=(0,this.t)("Cannot upload file:")+` ${a.name}.`;d.addEventListener("error",()=>o(y)),d.addEventListener("abort",()=>o()),d.addEventListener("load",()=>{const w=d.response;if(!w||!w.uploaded)return o(w&&w.error&&w.error.message?w.error.message:y);e({default:w.url})}),d.upload&&d.upload.addEventListener("progress",w=>{w.lengthComputable&&(p.uploadTotal=w.total,p.uploaded=w.loaded)})}_sendRequest(e){const o=new FormData;o.append("upload",e),o.append("ckCsrfToken",p7()),this.xhr.send(o)}}function Au(c,e,o,a){let d,p=null;typeof a=="function"?d=a:(p=c.commands.get(a),d=()=>{c.execute(a)}),c.model.document.on("change:data",(y,w)=>{if(p&&!p.isEnabled||!e.isEnabled)return;const A=gn(c.model.document.selection.getRanges());if(!A.isCollapsed||w.isUndo||!w.isLocal)return;const N=Array.from(c.model.document.differ.getChanges()),D=N[0];if(N.length!=1||D.type!=="insert"||D.name!="$text"||D.length!=1)return;const P=D.position.parent;if(P.is("element","codeBlock")||P.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||p&&p.value===!0)return;const F=P.getChild(0),K=c.model.createRangeOn(F);if(!K.containsRange(A)&&!A.end.isEqual(K.end))return;const X=o.exec(F.data.substr(0,A.end.offset));X&&c.model.enqueueChange(se=>{const de=se.createPositionAt(P,0),pe=se.createPositionAt(P,X[0].length),ke=new Ho(de,pe);if(d({match:X})!==!1){se.remove(ke);const Fe=c.model.document.selection.getFirstRange(),it=se.createRangeIn(P);!P.isEmpty||it.isEqual(Fe)||it.containsRange(Fe,!0)||se.remove(P)}ke.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Cf(c,e,o,a){let d,p;o instanceof RegExp?d=o:p=o,p=p||(y=>{let w;const A=[],N=[];for(;(w=d.exec(y))!==null&&!(w&&w.length<4);){let{index:D,1:P,2:F,3:K}=w;const X=P+F+K;D+=w[0].length-X.length;const se=[D,D+P.length],de=[D+P.length+F.length,D+P.length+F.length+K.length];A.push(se),A.push(de),N.push([D+P.length,D+P.length+F.length])}return{remove:A,format:N}}),c.model.document.on("change:data",(y,w)=>{if(w.isUndo||!w.isLocal||!e.isEnabled)return;const A=c.model,N=A.document.selection;if(!N.isCollapsed)return;const D=Array.from(A.document.differ.getChanges()),P=D[0];if(D.length!=1||P.type!=="insert"||P.name!="$text"||P.length!=1)return;const F=N.focus,K=F.parent,{text:X,range:se}=function(Fe,it){let At=Fe.start;return{text:Array.from(Fe.getItems()).reduce((cr,fs)=>!fs.is("$text")&&!fs.is("$textProxy")||fs.getAttribute("code")?(At=it.createPositionAfter(fs),""):cr+fs.data,""),range:it.createRange(At,Fe.end)}}(A.createRange(A.createPositionAt(K,0),F),A),de=p(X),pe=RE(se.start,de.format,A),ke=RE(se.start,de.remove,A);pe.length&&ke.length&&A.enqueueChange(Fe=>{if(a(Fe,pe)!==!1){for(const it of ke.reverse())Fe.remove(it);A.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function RE(c,e,o){return e.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>o.createRange(c.getShiftedBy(a[0]),c.getShiftedBy(a[1])))}function iw(c,e){return(o,a)=>{if(!c.commands.get(e).isEnabled)return!1;const d=c.model.schema.getValidRanges(a,e);for(const p of d)o.setAttribute(e,!0,p);o.removeSelectionAttribute(e)}}class PE extends Ut{constructor(e,o){super(e),this.attributeKey=o}refresh(){const e=this.editor.model,o=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(e={}){const o=this.editor.model,a=o.document.selection,d=e.forceValue===void 0?!this.value:e.forceValue;o.change(p=>{if(a.isCollapsed)d?p.setSelectionAttribute(this.attributeKey,!0):p.removeSelectionAttribute(this.attributeKey);else{const y=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const w of y)d?p.setAttribute(this.attributeKey,d,w):p.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,o=e.schema,a=e.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const p of d.getItems())if(o.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey);return!1}}const _f="bold";class g7 extends Ge{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:_f}),e.model.schema.setAttributeProperties(_f,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:_f,view:"strong",upcastAlso:["b",o=>{const a=o.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(_f,new PE(e,_f)),e.keystrokes.set("CTRL+B",_f)}}const HC="bold";class b7 extends Ge{static get pluginName(){return"BoldUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(HC,a=>{const d=e.commands.get(HC),p=new hr(a);return p.set({label:o("Bold"),icon:x.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute(HC),e.editing.view.focus()}),p})}}var OE=l(8603),y7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(OE.Z,y7),OE.Z.locals;const Af="italic";class x7 extends Ge{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Af}),e.model.schema.setAttributeProperties(Af,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Af,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Af,new PE(e,Af)),e.keystrokes.set("CTRL+I",Af)}}const qC="italic";class v7 extends Ge{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(qC,a=>{const d=e.commands.get(qC),p=new hr(a);return p.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute(qC),e.editing.view.focus()}),p})}}class w7 extends Ut{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const o=this.editor.model,a=o.schema,d=o.document.selection,p=Array.from(d.getSelectedBlocks()),y=e.forceValue===void 0?!this.value:e.forceValue;o.change(w=>{if(y){const A=p.filter(N=>aw(N)||LE(a,N));this._applyQuote(w,A)}else this._removeQuote(w,p.filter(aw))})}_getValue(){const e=gn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!aw(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,o=this.editor.model.schema,a=gn(e.getSelectedBlocks());return!!a&&LE(o,a)}_removeQuote(e,o){BE(e,o).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void e.unwrap(a.start.parent);if(a.start.isAtStart){const p=e.createPositionBefore(a.start.parent);return void e.move(a,p)}a.end.isAtEnd||e.split(a.end);const d=e.createPositionAfter(a.end.parent);e.move(a,d)})}_applyQuote(e,o){const a=[];BE(e,o).reverse().forEach(d=>{let p=aw(d.start);p||(p=e.createElement("blockQuote"),e.wrap(d,p)),a.push(p)}),a.reverse().reduce((d,p)=>d.nextSibling==p?(e.merge(e.createPositionAfter(d)),d):p)}}function aw(c){return c.parent.name=="blockQuote"?c.parent:null}function BE(c,e){let o,a=0;const d=[];for(;a<e.length;){const p=e[a],y=e[a+1];o||(o=c.createPositionBefore(p)),y&&p.nextSibling==y||(d.push(c.createRange(o,c.createPositionAfter(p))),o=null),a++}return d}function LE(c,e){const o=c.checkChild(e.parent,"blockQuote"),a=c.checkChild(["$root","blockQuote"],e);return o&&a}class k7 extends Ge{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[nw,Qc]}init(){const e=this.editor,o=e.model.schema;e.commands.add("blockQuote",new w7(e)),o.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(y=>{const w=e.model.document.differ.getChanges();for(const A of w)if(A.type=="insert"){const N=A.position.nodeAfter;if(!N)continue;if(N.is("element","blockQuote")&&N.isEmpty)return y.remove(N),!0;if(N.is("element","blockQuote")&&!o.checkChild(A.position,N))return y.unwrap(N),!0;if(N.is("element")){const D=y.createRangeIn(N);for(const P of D.getItems())if(P.is("element","blockQuote")&&!o.checkChild(y.createPositionBefore(P),P))return y.unwrap(P),!0}}else if(A.type=="remove"){const N=A.position.parent;if(N.is("element","blockQuote")&&N.isEmpty)return y.remove(N),!0}return!1});const a=this.editor.editing.view.document,d=e.model.document.selection,p=e.commands.get("blockQuote");this.listenTo(a,"enter",(y,w)=>{!d.isCollapsed||!p.value||d.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),y.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(y,w)=>{if(w.direction!="backward"||!d.isCollapsed||!p.value)return;const A=d.getLastPosition().parent;A.isEmpty&&!A.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),y.stop())},{context:"blockquote"})}}var zE=l(3062),C7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(zE.Z,C7),zE.Z.locals;class _7 extends Ge{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add("blockQuote",a=>{const d=e.commands.get("blockQuote"),p=new hr(a);return p.set({label:o("Block quote"),icon:x.quote,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),p})}}class A7 extends Ge{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,o=e.commands.get("ckbox");if(!o)return;const a=e.t;e.ui.componentFactory.add("ckbox",d=>{const p=new hr(d);return p.set({label:a("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),p.bind("isOn","isEnabled").to(o,"value","isEnabled"),p.on("execute",()=>{e.execute("ckbox")}),p})}}function FE(c){const e=[];let o=0;for(const d in c){const p=parseInt(d,10);isNaN(p)||(p>o&&(o=p),e.push(`${c[d]} ${d}w`))}const a=[{srcset:e.join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:a}}class j7 extends Ut{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");return!(!e.isEnabled&&!o.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:o=>this.fire("ckbox:choose",o)}}}_initListeners(){const e=this.editor,o=e.model,a=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{!this.isEnabled||this.value||(this._wrapper=Ts(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()),VE(50))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(d,p)=>{if(!this.isEnabled)return;const y=e.commands.get("insertImage"),w=e.commands.get("link"),A=function({assets:N,isImageAllowed:D,isLinkAllowed:P}){return N.map(F=>function(K){const X=K.data.metadata;return X?X.width&&X.height:!1}(F)?{id:F.data.id,type:"image",attributes:N7(F)}:{id:F.data.id,type:"link",attributes:S7(F)}).filter(F=>F.type==="image"?D:P)}({assets:p,isImageAllowed:y.isEnabled,isLinkAllowed:w.isEnabled});A.length!==0&&o.change(N=>{for(const D of A){const P=D===A[A.length-1];this._insertAsset(D,P,N),a&&(setTimeout(()=>this._chosenAssets.delete(D),1e3),this._chosenAssets.add(D))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,o,a){const d=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,a),o||a.setSelection(d.getLastPosition())}_insertImage(e){const o=this.editor,{imageFallbackUrl:a,imageSources:d,imageTextAlternative:p}=e.attributes;o.execute("insertImage",{source:{src:a,sources:d,alt:p}})}_insertLink(e,o){const a=this.editor,d=a.model,p=d.document.selection,{linkName:y,linkHref:w}=e.attributes;if(p.isCollapsed){const A=Cs(p.getAttributes()),N=o.createText(y,A),D=d.insertContent(N);o.setSelection(D)}a.execute("link",w)}}function N7(c){const{imageFallbackUrl:e,imageSources:o}=FE(c.data.imageUrls);return{imageFallbackUrl:e,imageSources:o,imageTextAlternative:c.data.metadata.description||""}}function S7(c){return{linkName:c.data.name,linkHref:E7(c)}}function E7(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}function VE(c){setTimeout(()=>{if(c===0)return;const e=document.querySelector(".ckbox-gallery .ckbox-gallery-item"),o=document.querySelector(".ckbox-empty-view .ckbox-btn");o&&o instanceof HTMLElement?o.focus():e&&e instanceof HTMLElement?e.focus():VE(c-1)},100)}var ym=(c,e,o)=>new Promise((a,d)=>{var p=A=>{try{w(o.next(A))}catch(N){d(N)}},y=A=>{try{w(o.throw(A))}catch(N){d(N)}},w=A=>A.done?a(A.value):Promise.resolve(A.value).then(p,y);w((o=o.apply(c,e)).next())});class D7 extends Ge{static get requires(){return["ImageUploadEditing","ImageUploadProgress",qa,YC]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return ym(this,null,function*(){const e=this.editor,o=!!e.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;const d=e.plugins.get(qa),p=e.plugins.get(YC);d.createUploadAdapter=A=>new M7(A,p.getToken(),e);const y=!e.config.get("ckbox.ignoreDataId"),w=e.plugins.get("ImageUploadEditing");y&&w.on("uploadComplete",(A,{imageElement:N,data:D})=>{e.model.change(P=>{P.setAttribute("ckboxImageId",D.ckboxImageId,N)})})})}}class M7{constructor(e,o,a){this.loader=e,this.token=o,this.editor=a,this.controller=new AbortController,this.serviceOrigin=a.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),o=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(d,p){const[,y]=d.value.split("."),w=JSON.parse(atob(y)),A=w.auth&&w.auth.ckbox&&w.auth.ckbox.workspaces||[w.aud];return p?(w.auth&&w.auth.ckbox&&w.auth.ckbox.role)=="superadmin"||A.includes(p)?p:null:A[0]}(this.token,o);if(a==null)throw J("ckbox-access-default-workspace-error"),e;return a}getAvailableCategories(e=0){return ym(this,null,function*(){const o=new URL("categories",this.serviceOrigin);return o.searchParams.set("limit","50"),o.searchParams.set("offset",e.toString()),o.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:o}).then(a=>ym(this,null,function*(){if(a.totalCount-(e+50)>0){const d=yield this.getAvailableCategories(e+50);return[...a.items,...d]}return a.items})).catch(()=>{this.controller.signal.throwIfAborted(),J("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return ym(this,null,function*(){const o=function(y){const w=new RegExp("\\.(?<ext>[^.]+)$");return y.match(w).groups.ext.toLowerCase()}(e.name),a=yield this.getAvailableCategories();if(!a)return null;const d=this.editor.config.get("ckbox.defaultUploadCategories");if(d){const y=Object.keys(d).find(w=>d[w].find(A=>A.toLowerCase()==o));if(y){const w=a.find(A=>A.id===y||A.name===y);return w?w.id:null}}const p=a.find(y=>y.extensions.find(w=>w.toLowerCase()==o));return p?p.id:null})}upload(){return ym(this,null,function*(){const e=this.editor.t,o=e("Cannot determine a category for the uploaded file."),a=yield this.loader.file,d=yield this.getCategoryIdForFile(a);if(!d)return Promise.reject(o);const p=new URL("assets",this.serviceOrigin),y=new FormData;p.searchParams.set("workspaceId",this.getWorkspaceId()),y.append("categoryId",d),y.append("file",a);const w={method:"POST",url:p,data:y,onUploadProgress:A=>{A.lengthComputable&&(this.loader.uploadTotal=A.total,this.loader.uploaded=A.loaded)}};return this._sendHttpRequest(w).then(A=>ym(this,null,function*(){const N=FE(A.imageUrls);return{ckboxImageId:A.id,default:N.imageFallbackUrl,sources:N.imageSources}})).catch(()=>{const A=e("Cannot upload file:")+` ${a.name}.`;return Promise.reject(A)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:o="GET",data:a,onUploadProgress:d}){const p=this.controller.signal,y=new XMLHttpRequest;y.open(o,e.toString(),!0),y.setRequestHeader("Authorization",this.token.value),y.setRequestHeader("CKBox-Version","CKEditor 5"),y.responseType="json";const w=()=>{y.abort()};return new Promise((A,N)=>{p.addEventListener("abort",w),y.addEventListener("loadstart",()=>{p.addEventListener("abort",w)}),y.addEventListener("loadend",()=>{p.removeEventListener("abort",w)}),y.addEventListener("error",()=>{N()}),y.addEventListener("abort",()=>{N()}),y.addEventListener("load",()=>ym(this,null,function*(){const D=y.response;return!D||D.statusCode>=400?N(D&&D.message):A(D)})),d&&y.upload.addEventListener("progress",D=>{d(D)}),y.send(a)})}}class YC extends Ge{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",D7]}init(){return e=this,o=null,a=function*(){const d=this.editor,p=!!d.config.get("ckbox"),y=!!window.CKBox;if(!p&&!y)return;this._initConfig();const w=d.plugins.get("CloudServicesCore"),A=d.config.get("ckbox.tokenUrl");if(A===d.config.get("cloudServices.tokenUrl")){const N=d.plugins.get("CloudServices");this._token=N.token}else this._token=yield w.createToken(A).init();d.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),y&&d.commands.add("ckbox",new j7(d))},new Promise((d,p)=>{var y=N=>{try{A(a.next(N))}catch(D){p(D)}},w=N=>{try{A(a.throw(N))}catch(D){p(D)}},A=N=>N.done?d(N.value):Promise.resolve(N.value).then(y,w);A((a=a.apply(e,o)).next())});var e,o,a}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new B("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||J("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((o,a)=>{if(!o.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(o=>{o.on("attribute:ckboxLinkId:imageBlock",(a,d,p)=>{const{writer:y,mapper:w,consumable:A}=p;if(!A.consume(d.item,a.name))return;const N=[...w.toViewElement(d.item).getChildren()].find(D=>D.name==="a");N&&(d.item.hasAttribute("ckboxLinkId")?y.setAttribute("data-ckbox-resource-id",d.item.getAttribute("ckboxLinkId"),N):y.removeAttribute("data-ckbox-resource-id",N))},{priority:"low"}),o.on("attribute:ckboxLinkId",(a,d,p)=>{const{writer:y,mapper:w,consumable:A}=p;if(A.consume(d.item,a.name)){if(d.attributeOldValue){const N=UE(y,d.attributeOldValue);y.unwrap(w.toViewRange(d.range),N)}if(d.attributeNewValue){const N=UE(y,d.attributeNewValue);if(d.item.is("selection")){const D=y.document.selection;y.wrap(D.getFirstRange(),N)}else y.wrap(w.toViewRange(d.range),N)}}},{priority:"low"})}),e.conversion.for("upcast").add(o=>{o.on("element:a",(a,d,p)=>{const{writer:y,consumable:w}=p;if(!d.viewItem.getAttribute("href")||!w.consume(d.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const A=d.viewItem.getAttribute("data-ckbox-resource-id");if(A)if(d.modelRange)for(let N of d.modelRange.getItems())N.is("$textProxy")&&(N=N.textNode),I7(N)&&y.setAttribute("ckboxLinkId",A,N);else{const N=d.modelCursor.nodeBefore||d.modelCursor.parent;y.setAttribute("ckboxLinkId",A,N)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:o=>o.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,o=e.model,a=o.document.selection;o.document.registerPostFixer(function(d){return p=>{let y=!1;const w=d.model,A=d.commands.get("ckbox");if(!A)return y;for(const N of w.document.differ.getChanges()){if(N.type!=="insert"&&N.type!=="attribute")continue;const D=N.type==="insert"?new Ie(N.position,N.position.getShiftedBy(N.length)):N.range,P=N.type==="attribute"&&N.attributeKey==="linkHref"&&N.attributeNewValue===null;for(const F of D.getItems()){if(P&&F.hasAttribute("ckboxLinkId")){p.removeAttribute("ckboxLinkId",F),y=!0;continue}const K=T7(F,A._chosenAssets);for(const X of K){const se=X.type==="image"?"ckboxImageId":"ckboxLinkId";X.id!==F.getAttribute(se)&&(p.setAttribute(se,X.id,F),y=!0)}}}return y}}(e)),o.document.registerPostFixer(function(d){return p=>!(d.hasAttribute("linkHref")||!d.hasAttribute("ckboxLinkId"))&&(p.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function T7(c,e){const o=c.is("element","imageInline")||c.is("element","imageBlock"),a=c.hasAttribute("linkHref");return[...e].filter(d=>d.type==="image"&&o?d.attributes.imageFallbackUrl===c.getAttribute("src"):d.type==="link"&&a?d.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function UE(c,e){const o=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,o),o}function I7(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}class R7 extends Ge{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,o=e.ui.componentFactory,a=e.t;o.add("ckfinder",d=>{const p=e.commands.get("ckfinder"),y=new hr(d);return y.set({label:a("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),y.bind("isEnabled").to(p),y.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),y})}}class P7 extends Ut{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=e.isEnabled||o.isEnabled}execute(){const e=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if(o!="popup"&&o!="modal")throw new B("ckfinder-unknown-openermethod",e);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const d=a.onInit;a.language||(a.language=e.locale.uiLanguage),a.onInit=p=>{d&&d(p),p.on("files:choose",y=>{const w=y.data.files.toArray(),A=w.filter(P=>!P.isImage()),N=w.filter(P=>P.isImage());for(const P of A)e.execute("link",P.getUrl());const D=[];for(const P of N){const F=P.getUrl();D.push(F||p.request("file:getProxyUrl",{file:P}))}D.length&&GE(e,D)}),p.on("file:choose:resizedImage",y=>{const w=y.data.resizedUrl;if(w)GE(e,[w]);else{const A=e.plugins.get("Notification"),N=e.locale.t;A.showWarning(N("Could not obtain resized image URL."),{title:N("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](a)}}function GE(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const o=c.plugins.get("Notification"),a=c.locale.t;o.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class O7 extends Ge{static get pluginName(){return"CKFinderEditing"}static get requires(){return[PC,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new B("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new P7(e))}}class B7 extends Ge{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",qa]}init(){const e=this.editor,o=e.plugins.get("CloudServices"),a=o.token,d=o.uploadUrl;if(!a)return;const p=e.plugins.get("CloudServicesCore");this._uploadGateway=p.createUploadGateway(a,d),e.plugins.get(qa).createUploadAdapter=y=>new L7(this._uploadGateway,y)}}class L7{constructor(e,o){this.uploadGateway=e,this.loader=o}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(o,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class z7 extends Ut{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,o=gn(e.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&HE(o,e.schema)}execute(e={}){const o=this.editor.model,a=o.document,d=e.selection||a.selection;o.canEditAt(d)&&o.change(p=>{const y=d.getSelectedBlocks();for(const w of y)!w.is("element","paragraph")&&HE(w,o.schema)&&p.rename(w,"paragraph")})}}function HE(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class F7 extends Ut{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const o=this.editor.model,a=e.attributes;let d=e.position;o.canEditAt(d)&&o.change(p=>{if(d=this._findPositionToInsertParagraph(d,p),!d)return;const y=p.createElement("paragraph");a&&o.schema.setAllowedAttributes(y,a,p),o.insertContent(y,d),p.setSelection(y,"in")})}_findPositionToInsertParagraph(e,o){const a=this.editor.model;if(a.schema.checkChild(e,"paragraph"))return e;const d=a.schema.findAllowedParent(e,"paragraph");if(!d)return null;const p=e.parent,y=a.schema.checkChild(p,"$text");return p.isEmpty||y&&e.isAtEnd?a.createPositionAfter(p):!p.isEmpty&&y&&e.isAtStart?a.createPositionBefore(p):o.split(e,d).position}}const qE=class extends Ge{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new z7(c)),c.commands.add("insertParagraph",new F7(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(o,{writer:a})=>qE.paragraphLikeElements.has(o.name)?o.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let WC=qE;WC.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class V7 extends Ut{constructor(e,o){super(e),this.modelElements=o}refresh(){const e=gn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(o=>YE(e,o,this.editor.model.schema))}execute(e){const o=this.editor.model,a=o.document,d=e.value;o.change(p=>{const y=Array.from(a.selection.getSelectedBlocks()).filter(w=>YE(w,d,o.schema));for(const w of y)w.is("element",d)||p.rename(w,d)})}}function YE(c,e,o){return o.checkChild(c.parent,e)&&!o.isObject(c)}const WE="paragraph";class U7 extends Ge{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[WC]}init(){const e=this.editor,o=e.config.get("heading.options"),a=[];for(const d of o)d.model!=="paragraph"&&(e.model.schema.register(d.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new V7(e,a))}afterInit(){const e=this.editor,o=e.commands.get("enter"),a=e.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(d,p)=>{const y=e.model.document.selection.getFirstPosition().parent;a.some(w=>y.is("element",w.model))&&!y.is("element",WE)&&y.childCount===0&&p.writer.rename(y,WE)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:$.low+1})}}var KE=l(8733),G7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(KE.Z,G7),KE.Z.locals;class H7 extends Ge{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,o=e.t,a=function(y){const w=y.t,A={Paragraph:w("Paragraph"),"Heading 1":w("Heading 1"),"Heading 2":w("Heading 2"),"Heading 3":w("Heading 3"),"Heading 4":w("Heading 4"),"Heading 5":w("Heading 5"),"Heading 6":w("Heading 6")};return y.config.get("heading.options").map(N=>{const D=A[N.title];return D&&D!=N.title&&(N.title=D),N})}(e),d=o("Choose heading"),p=o("Heading");e.ui.componentFactory.add("heading",y=>{const w={},A=new Fs,N=e.commands.get("heading"),D=e.commands.get("paragraph"),P=[N];for(const K of a){const X={type:"button",model:new NS({label:K.title,class:K.class,role:"menuitemradio",withText:!0})};K.model==="paragraph"?(X.model.bind("isOn").to(D,"value"),X.model.set("commandName","paragraph"),P.push(D)):(X.model.bind("isOn").to(N,"value",se=>se===K.model),X.model.set({commandName:"heading",commandValue:K.model})),A.add(X),w[K.model]=K.title}const F=mt(y);return mr(F,A,{ariaLabel:p,role:"menu"}),F.buttonView.set({ariaLabel:p,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:p}),F.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),F.bind("isEnabled").toMany(P,"isEnabled",(...K)=>K.some(X=>X)),F.buttonView.bind("label").to(N,"value",D,"value",(K,X)=>{const se=K||X&&"paragraph";return typeof se=="boolean"?d:w[se]?w[se]:d}),this.listenTo(F,"execute",K=>{const{commandName:X,commandValue:se}=K.source;e.execute(X,se?{value:se}:void 0),e.editing.view.focus()}),F})}}function QE(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function JE(c,e){const o=c.plugins.get("ImageUtils"),a=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return p=>o.isInlineImageView(p)?a&&(p.getStyle("display")=="block"||p.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==e?null:d(p):null;function d(p){const y={name:!0};return p.hasAttribute("src")&&(y.attributes=["src"]),y}}function KC(c,e){const o=gn(e.getSelectedBlocks());return!o||c.isObject(o)||o.isEmpty&&o.name!="listItem"?"imageBlock":"imageInline"}var q7=Object.defineProperty,$E=Object.getOwnPropertySymbols,Y7=Object.prototype.hasOwnProperty,W7=Object.prototype.propertyIsEnumerable,XE=(c,e,o)=>e in c?q7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,ZE=(c,e)=>{for(var o in e||(e={}))Y7.call(e,o)&&XE(c,o,e[o]);if($E)for(var o of $E(e))W7.call(e,o)&&XE(c,o,e[o]);return c};class Ya extends Ge{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},o=null,a=null){const d=this.editor,p=d.model,y=p.document.selection;a=e4(d,o||y,a),e=ZE(ZE({},Object.fromEntries(y.getAttributes())),e);for(const w in e)p.schema.checkAttribute(a,w)||delete e[w];return p.change(w=>{const A=w.createElement(a,e);return p.insertObject(A,o,null,{setSelection:"on",findOptimalPosition:o||a=="imageInline"?void 0:"auto"}),A.parent?A:null})}getClosestSelectedImageWidget(e){const o=e.getFirstPosition();if(!o)return null;const a=e.getSelectedElement();if(a&&this.isImageWidget(a))return a;let d=o.parent;for(;d;){if(d.is("element")&&this.isImageWidget(d))return d;d=d.parent}return null}getClosestSelectedImageElement(e){const o=e.getSelectedElement();return this.isImage(o)?o:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(o,a){if(e4(o,a,null)=="imageBlock"){const p=function(y,w){const A=cE(y,w),N=A.start.parent;return N.isEmpty&&!N.is("element","$root")?N.parent:N}(a,o.model);if(o.model.schema.checkChild(p,"imageBlock"))return!0}else if(o.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(o){return[...o.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(e)}toImageWidget(e,o,a){return o.setCustomProperty("image",!0,e),GC(e,o,{label:()=>{const d=this.findViewImgElement(e).getAttribute("alt");return d?`${d} ${a}`:a}})}isImageWidget(e){return!!e.getCustomProperty("image")&&vn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const o=this.editor.editing.view;for(const{item:a}of o.createRangeIn(e))if(this.isInlineImageView(a))return a}}function e4(c,e,o){const a=c.model.schema,d=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?o||(d==="inline"?"imageInline":d==="block"?"imageBlock":e.is("selection")?KC(a,e):a.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class K7 extends Ut{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const o=this.editor,a=o.plugins.get("ImageUtils"),d=o.model,p=a.getClosestSelectedImageElement(d.document.selection);d.change(y=>{y.setAttribute("alt",e.newValue,p)})}}class Q7 extends Ge{static get requires(){return[Ya]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new K7(this.editor))}}var t4=l(1905),J7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(t4.Z,J7),t4.Z.locals;var r4=l(6764),$7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(r4.Z,$7),r4.Z.locals;class X7 extends Kt{constructor(e){super(e);const o=this.locale.t;this.focusTracker=new ks,this.keystrokes=new zo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._focusables=new Fo,this._focusCycler=new Vo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),b({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,o,a,d){const p=new hr(this.locale);return p.set({label:e,icon:o,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createLabeledInputView(){const e=this.locale.t,o=new Np(this.locale,CC);return o.label=e("Text alternative"),o}}function n4(c){const e=c.editing.view,o=Wo.defaultPositions,a=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(e.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class Z7 extends Ge{static get requires(){return[$0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,o=e.t;e.ui.componentFactory.add("imageTextAlternative",a=>{const d=e.commands.get("imageTextAlternative"),p=new hr(a);return p.set({label:o("Change image text alternative"),icon:x.lowVision,tooltip:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",y=>!!y),this.listenTo(p,"execute",()=>{this._showForm()}),p})}_createForm(){const e=this.editor,o=e.editing.view.document,a=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(f(X7))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,p)=>{this._hideForm(!0),p()}),this.listenTo(e.ui,"update",()=>{a.getClosestSelectedImageWidget(o.selection)?this._isVisible&&function(d){const p=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const y=n4(d);p.updatePosition(y)}}(e):this._hideForm(!0)}),m({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,o=e.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:n4(e)}),a.fieldView.value=a.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class s4 extends Ge{static get requires(){return[Q7,Z7]}static get pluginName(){return"ImageTextAlternative"}}function o4(c,e){const o=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const y=p.writer,w=p.mapper.toViewElement(d.item),A=c.findViewImgElement(w);if(d.attributeNewValue===null){const N=d.attributeOldValue;N&&N.data&&(y.removeAttribute("srcset",A),y.removeAttribute("sizes",A),N.width&&y.removeAttribute("width",A))}else{const N=d.attributeNewValue;N&&N.data&&(y.setAttribute("srcset",N.data,A),y.setAttribute("sizes","100vw",A),N.width&&y.setAttribute("width",N.width,A))}};return a=>{a.on(`attribute:srcset:${e}`,o)}}function lw(c,e,o){const a=(d,p,y)=>{if(!y.consumable.consume(p.item,d.name))return;const w=y.writer,A=y.mapper.toViewElement(p.item),N=c.findViewImgElement(A);w.setAttribute(p.attributeKey,p.attributeNewValue||"",N)};return d=>{d.on(`attribute:${o}:${e}`,a)}}class ez extends Fn{observe(e){this.listenTo(e,"load",(o,a)=>{const d=a.target;this.checkShouldIgnoreEventFromTarget(d)||d.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var tz=Object.defineProperty,i4=Object.getOwnPropertySymbols,rz=Object.prototype.hasOwnProperty,nz=Object.prototype.propertyIsEnumerable,a4=(c,e,o)=>e in c?tz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,cw=(c,e)=>{for(var o in e||(e={}))rz.call(e,o)&&a4(c,o,e[o]);if(i4)for(var o of i4(e))nz.call(e,o)&&a4(c,o,e[o]);return c};class sz extends Ut{constructor(e){super(e);const o=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||o==="block"&&Y("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||o==="inline"&&Y("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const o=Dn(e.source),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());o.forEach((y,w)=>{const A=a.getSelectedElement();if(typeof y=="string"&&(y={src:y}),w&&A&&d.isImage(A)){const N=this.editor.model.createPositionAfter(A);d.insertImage(cw(cw({},y),p),N)}else d.insertImage(cw(cw({},y),p))})}}class oz extends Ut{refresh(){const e=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}execute(e){const o=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",e.source,o),a.removeAttribute("srcset",o),a.removeAttribute("sizes",o)})}}class QC extends Ge{static get requires(){return[Ya]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,o=e.conversion;e.editing.view.addObserver(ez),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:p=>{const y={data:p.getAttribute("srcset")};return p.hasAttribute("width")&&(y.width=p.getAttribute("width")),y}}});const a=new sz(e),d=new oz(e);e.commands.add("insertImage",a),e.commands.add("replaceImageSource",d),e.commands.add("imageInsert",a)}}class l4 extends Ut{constructor(e,o){super(e),this._modelElementName=o}refresh(){const e=this.editor.plugins.get("ImageUtils"),o=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(o):this.isEnabled=e.isBlockImage(o)}execute(){const e=this.editor,o=this.editor.model,a=e.plugins.get("ImageUtils"),d=a.getClosestSelectedImageElement(o.document.selection),p=Object.fromEntries(d.getAttributes());return p.src||p.uploadId?o.change(y=>{const w=Array.from(o.markers).filter(D=>D.getRange().containsItem(d)),A=a.insertImage(p,o.createSelection(d,"on"),this._modelElementName);if(!A)return null;const N=y.createRangeOn(A);for(const D of w){const P=D.getRange(),F=P.root.rootName!="$graveyard"?P.getJoined(N,!0):N;y.updateMarker(D,{range:F})}return{oldElement:d,newElement:A}}):null}}class c4 extends Ge{static get requires(){return[QC,Ya,Fl]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new l4(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,o=e.t,a=e.conversion,d=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:y})=>QE(y)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:y})=>d.toImageWidget(QE(y),y,o("image widget"))}),a.for("downcast").add(lw(d,"imageBlock","src")).add(lw(d,"imageBlock","alt")).add(o4(d,"imageBlock")),a.for("upcast").elementToElement({view:JE(e,"imageBlock"),model:(p,{writer:y})=>y.createElement("imageBlock",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)}).add(function(p){const y=(w,A,N)=>{if(!N.consumable.test(A.viewItem,{name:!0,classes:"image"}))return;const D=p.findViewImgElement(A.viewItem);if(!D||!N.consumable.test(D,{name:!0}))return;N.consumable.consume(A.viewItem,{name:!0,classes:"image"});const P=gn(N.convertItem(D,A.modelCursor).modelRange.getItems());P?(N.convertChildren(A.viewItem,P),N.updateConversionResult(P,A)):N.consumable.revert(A.viewItem,{name:!0,classes:"image"})};return w=>{w.on("element:figure",y)}}(d))}_setupClipboardIntegration(){const e=this.editor,o=e.model,a=e.editing.view,d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(y,w)=>{const A=Array.from(w.content.getChildren());let N;if(!A.every(d.isInlineImageView))return;N=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):o.document.selection.getFirstRange();const D=o.createSelection(N);if(KC(o.schema,D)==="imageBlock"){const P=new Ki(a.document),F=A.map(K=>P.createElement("figure",{class:"image"},K));w.content=P.createDocumentFragment(F)}})}}var d4=l(3508),iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(d4.Z,iz),d4.Z.locals;class az extends Ge{static get requires(){return[c4,uy,s4]}static get pluginName(){return"ImageBlock"}}class lz extends Ge{static get requires(){return[QC,Ya,Fl]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,o=e.model.schema;o.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),o.addChildCheck((a,d)=>{if(a.endsWith("caption")&&d.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new l4(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,o=e.t,a=e.conversion,d=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(p,{writer:y})=>y.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(p,{writer:y})=>d.toImageWidget(function(w){return w.createContainerElement("span",{class:"image-inline"},w.createEmptyElement("img"))}(y),y,o("image widget"))}),a.for("downcast").add(lw(d,"imageInline","src")).add(lw(d,"imageInline","alt")).add(o4(d,"imageInline")),a.for("upcast").elementToElement({view:JE(e,"imageInline"),model:(p,{writer:y})=>y.createElement("imageInline",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,o=e.model,a=e.editing.view,d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(y,w)=>{const A=Array.from(w.content.getChildren());let N;if(!A.every(d.isBlockImageView))return;N=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):o.document.selection.getFirstRange();const D=o.createSelection(N);if(KC(o.schema,D)==="imageInline"){const P=new Ki(a.document),F=A.map(K=>K.childCount===1?(Array.from(K.getAttributes()).forEach(X=>P.setAttribute(...X,d.findViewImgElement(K))),K.getChild(0)):K);w.content=P.createDocumentFragment(F)}})}}class cz extends Ge{static get requires(){return[lz,uy,s4]}static get pluginName(){return"ImageInline"}}class u4 extends Ge{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ya]}getCaptionFromImageModelElement(e){for(const o of e.getChildren())if(o&&o.is("element","caption"))return o;return null}getCaptionFromModelSelection(e){const o=this.editor.plugins.get("ImageUtils"),a=e.getFirstPosition().findAncestor("caption");return a&&o.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(e){const o=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&o.isBlockImageView(e.parent)?{name:!0}:null}}class dz extends Ut{refresh(){const e=this.editor,o=e.plugins.get("ImageCaptionUtils"),a=e.plugins.get("ImageUtils");if(!e.plugins.has(c4))return this.isEnabled=!1,void(this.value=!1);const d=e.model.document.selection,p=d.getSelectedElement();if(!p){const y=o.getCaptionFromModelSelection(d);return this.isEnabled=!!y,void(this.value=!!y)}this.isEnabled=a.isImage(p),this.isEnabled?this.value=!!o.getCaptionFromImageModelElement(p):this.value=!1}execute(e={}){const{focusCaptionOnShow:o}=e;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,o)})}_showImageCaption(e,o){const a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing"),p=this.editor.plugins.get("ImageUtils");let y=a.getSelectedElement();const w=d._getSavedCaption(y);p.isInlineImage(y)&&(this.editor.execute("imageTypeBlock"),y=a.getSelectedElement());const A=w||e.createElement("caption");e.append(A,y),o&&e.setSelection(A,"in")}_hideImageCaption(e){const o=this.editor,a=o.model.document.selection,d=o.plugins.get("ImageCaptionEditing"),p=o.plugins.get("ImageCaptionUtils");let y,w=a.getSelectedElement();w?y=p.getCaptionFromImageModelElement(w):(y=p.getCaptionFromModelSelection(a),w=y.parent),d._saveCaption(w,y),e.setSelection(w,"on"),e.remove(y)}}class uz extends Ge{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Ya,u4]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,o=e.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new dz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,o=e.editing.view,a=e.plugins.get("ImageUtils"),d=e.plugins.get("ImageCaptionUtils"),p=e.t;e.conversion.for("upcast").elementToElement({view:y=>d.matchImageCaptionViewElement(y),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(y,{writer:w})=>a.isBlockImage(y.parent)?w.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(y,{writer:w})=>{if(!a.isBlockImage(y.parent))return null;const A=w.createEditableElement("figcaption");w.setCustomProperty("imageCaption",!0,A),A.placeholder=p("Enter image caption"),Ih({view:o,element:A,keepOnFocus:!0});const N=y.parent.getAttribute("alt");return lE(A,w,{label:N?p("Caption for image: %0",[N]):p("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),d=e.commands.get("imageTypeInline"),p=e.commands.get("imageTypeBlock"),y=w=>{if(!w.return)return;const{oldElement:A,newElement:N}=w.return;if(!A)return;if(o.isBlockImage(A)){const P=a.getCaptionFromImageModelElement(A);if(P)return void this._saveCaption(N,P)}const D=this._getSavedCaption(A);D&&this._saveCaption(N,D)};d&&this.listenTo(d,"execute",y,{priority:"low"}),p&&this.listenTo(p,"execute",y,{priority:"low"})}_getSavedCaption(e){const o=this._savedCaptionsMap.get(e);return o?vt.fromJSON(o):null}_saveCaption(e,o){this._savedCaptionsMap.set(e,o.toJSON())}_registerCaptionReconversion(){const e=this.editor,o=e.model,a=e.plugins.get("ImageUtils"),d=e.plugins.get("ImageCaptionUtils");o.document.on("change:data",()=>{const p=o.document.differ.getChanges();for(const y of p){if(y.attributeKey!=="alt")continue;const w=y.range.start.nodeAfter;if(a.isBlockImage(w)){const A=d.getCaptionFromImageModelElement(w);if(!A)return;e.editing.reconvertItem(A)}}})}}class hz extends Ge{static get requires(){return[u4]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,o=e.editing.view,a=e.plugins.get("ImageCaptionUtils"),d=e.t;e.ui.componentFactory.add("toggleImageCaption",p=>{const y=e.commands.get("toggleImageCaption"),w=new hr(p);return w.set({icon:x.caption,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(y,"value","isEnabled"),w.bind("label").to(y,"value",A=>d(A?"Toggle caption off":"Toggle caption on")),this.listenTo(w,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const A=a.getCaptionFromModelSelection(e.model.document.selection);if(A){const N=e.editing.mapper.toViewElement(A);o.scrollToTheSelection(),o.change(D=>{D.addClass("image__caption_highlighted",N)})}e.editing.view.focus()}),w})}}var h4=l(2640),mz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(h4.Z,mz),h4.Z.locals;function m4(c){const e=c.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function pz(c){return new Promise((e,o)=>{const a=c.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const p=p4(d,a),y=p.replace("image/",""),w=new File([d],`image.${y}`,{type:p});e(w)}).catch(d=>d&&d.name==="TypeError"?function(p){return function(y){return new Promise((w,A)=>{const N=It.document.createElement("img");N.addEventListener("load",()=>{const D=It.document.createElement("canvas");D.width=N.width,D.height=N.height,D.getContext("2d").drawImage(N,0,0),D.toBlob(P=>P?w(P):A())}),N.addEventListener("error",()=>A()),N.src=y})}(p).then(y=>{const w=p4(y,p),A=w.replace("image/","");return new File([y],`image.${A}`,{type:w})})}(a).then(e).catch(o):o(d))})}function p4(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class fz extends Ge{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,o=e.t,a=d=>{const p=new h7(d),y=e.commands.get("uploadImage"),w=e.config.get("image.upload.types"),A=m4(w);return p.set({acceptedType:w.map(N=>`image/${N}`).join(","),allowMultipleFiles:!0}),p.buttonView.set({label:o("Insert image"),icon:x.image,tooltip:!0}),p.buttonView.bind("isEnabled").to(y),p.on("done",(N,D)=>{const P=Array.from(D).filter(F=>A.test(F.type));P.length&&(e.execute("uploadImage",{file:P}),e.editing.view.focus())}),p};e.ui.componentFactory.add("uploadImage",a),e.ui.componentFactory.add("imageUpload",a)}}var f4=l(3689),gz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(f4.Z,gz),f4.Z.locals;var g4=l(4036),bz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(g4.Z,bz),g4.Z.locals;var b4=l(3773),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(b4.Z,yz),b4.Z.locals;class xz extends Ge{constructor(e){super(e),this.uploadStatusChange=(o,a,d)=>{const p=this.editor,y=a.item,w=y.getAttribute("uploadId");if(!d.consumable.consume(a.item,o.name))return;const A=p.plugins.get("ImageUtils"),N=p.plugins.get(qa),D=w?a.attributeNewValue:null,P=this.placeholder,F=p.editing.mapper.toViewElement(y),K=d.writer;if(D=="reading")return y4(F,K),void x4(A,P,F,K);if(D=="uploading"){const X=N.loaders.get(w);return y4(F,K),void(X?(v4(F,K),function(se,de,pe,ke){const Fe=function(it){const At=it.createUIElement("div",{class:"ck-progress-bar"});return it.setCustomProperty("progressBar",!0,At),At}(de);de.insert(de.createPositionAt(se,"end"),Fe),pe.on("change:uploadedPercent",(it,At,Ur)=>{ke.change(cr=>{cr.setStyle("width",Ur+"%",Fe)})})}(F,K,X,p.editing.view),function(se,de,pe,ke){if(ke.data){const Fe=se.findViewImgElement(de);pe.setAttribute("src",ke.data,Fe)}}(A,F,K,X)):x4(A,P,F,K))}D=="complete"&&N.loaders.get(w)&&function(X,se,de){const pe=se.createUIElement("div",{class:"ck-image-upload-complete-icon"});se.insert(se.createPositionAt(X,"end"),pe),setTimeout(()=>{de.change(ke=>ke.remove(ke.createRangeOn(pe)))},3e3)}(F,K,p.editing.view),function(X,se){k4(X,se,"progressBar")}(F,K),v4(F,K),function(X,se){se.removeClass("ck-appear",X)}(F,K)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function y4(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function x4(c,e,o,a){o.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",o);const d=c.findViewImgElement(o);d.getAttribute("src")!==e&&a.setAttribute("src",e,d),w4(o,"placeholder")||a.insert(a.createPositionAfter(d),function(p){const y=p.createUIElement("div",{class:"ck-upload-placeholder-loader"});return p.setCustomProperty("placeholder",!0,y),y}(a))}function v4(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),k4(c,e,"placeholder")}function w4(c,e){for(const o of c.getChildren())if(o.getCustomProperty(e))return o}function k4(c,e,o){const a=w4(c,o);a&&e.remove(e.createRangeOn(a))}var vz=Object.defineProperty,wz=Object.defineProperties,kz=Object.getOwnPropertyDescriptors,C4=Object.getOwnPropertySymbols,Cz=Object.prototype.hasOwnProperty,_z=Object.prototype.propertyIsEnumerable,_4=(c,e,o)=>e in c?vz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class Az extends Ut{refresh(){const e=this.editor,o=e.plugins.get("ImageUtils"),a=e.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(a)}execute(e){const o=Dn(e.file),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());o.forEach((y,w)=>{const A=a.getSelectedElement();if(w&&A&&d.isImage(A)){const N=this.editor.model.createPositionAfter(A);this._uploadImage(y,p,N)}else this._uploadImage(y,p)})}_uploadImage(e,o,a){const d=this.editor,p=d.plugins.get(qa).createLoader(e),y=d.plugins.get("ImageUtils");var w,A;p&&y.insertImage((w=((N,D)=>{for(var P in D||(D={}))Cz.call(D,P)&&_4(N,P,D[P]);if(C4)for(var P of C4(D))_z.call(D,P)&&_4(N,P,D[P]);return N})({},o),A={uploadId:p.id},wz(w,kz(A))),a)}}class jz extends Ge{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[qa,PC,Fl,Ya]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,o=e.model.document,a=e.conversion,d=e.plugins.get(qa),p=e.plugins.get("ImageUtils"),y=e.plugins.get("ClipboardPipeline"),w=m4(e.config.get("image.upload.types")),A=new Az(e);e.commands.add("uploadImage",A),e.commands.add("imageUpload",A),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(N,D)=>{if(P=D.dataTransfer,Array.from(P.types).includes("text/html")&&P.getData("text/html")!=="")return;var P;const F=Array.from(D.dataTransfer.files).filter(K=>!!K&&w.test(K.type));F.length&&(N.stop(),e.model.change(K=>{D.targetRanges&&K.setSelection(D.targetRanges.map(X=>e.editing.mapper.toModelRange(X))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:F})})}))}),this.listenTo(y,"inputTransformation",(N,D)=>{const P=Array.from(e.editing.view.createRangeIn(D.content)).map(K=>K.item).filter(K=>function(X,se){return!(!X.isInlineImageView(se)||!se.getAttribute("src")||!se.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!se.getAttribute("src").match(/^blob:/g))}(p,K)&&!K.getAttribute("uploadProcessed")).map(K=>({promise:pz(K),imageElement:K}));if(!P.length)return;const F=new Ki(e.editing.view.document);for(const K of P){F.setAttribute("uploadProcessed",!0,K.imageElement);const X=d.createLoader(K.promise);X&&(F.setAttribute("src","",K.imageElement),F.setAttribute("uploadId",X.id,K.imageElement))}}),e.editing.view.document.on("dragover",(N,D)=>{D.preventDefault()}),o.on("change",()=>{const N=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),D=new Set;for(const P of N)if(P.type=="insert"&&P.name!="$text"){const F=P.position.nodeAfter,K=P.position.root.rootName=="$graveyard";for(const X of Nz(e,F)){const se=X.getAttribute("uploadId");if(!se)continue;const de=d.loaders.get(se);de&&(K?D.has(se)||de.abort():(D.add(se),this._uploadImageElements.set(se,X),de.status=="idle"&&this._readAndUpload(de)))}}}),this.on("uploadComplete",(N,{imageElement:D,data:P})=>{const F=P.urls?P.urls:P;this.editor.model.change(K=>{K.setAttribute("src",F.default,D),this._parseAndSetSrcsetAttributeOnImage(F,D,K)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const o=this.editor,a=o.model,d=o.locale.t,p=o.plugins.get(qa),y=o.plugins.get(PC),w=o.plugins.get("ImageUtils"),A=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","reading",A.get(e.id))}),e.read().then(()=>{const D=e.upload(),P=A.get(e.id);if(C.isSafari){const F=o.editing.mapper.toViewElement(P),K=w.findViewImgElement(F);o.editing.view.once("render",()=>{if(!K.parent)return;const X=o.editing.view.domConverter.mapViewToDom(K.parent);if(!X)return;const se=X.style.display;X.style.display="none",X._ckHack=X.offsetHeight,X.style.display=se})}return a.enqueueChange({isUndoable:!1},F=>{F.setAttribute("uploadStatus","uploading",P)}),D}).then(D=>{a.enqueueChange({isUndoable:!1},P=>{const F=A.get(e.id);P.setAttribute("uploadStatus","complete",F),this.fire("uploadComplete",{data:D,imageElement:F})}),N()}).catch(D=>{if(e.status!=="error"&&e.status!=="aborted")throw D;e.status=="error"&&D&&y.showWarning(D,{title:d("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},P=>{P.remove(A.get(e.id))}),N()});function N(){a.enqueueChange({isUndoable:!1},D=>{const P=A.get(e.id);D.removeAttribute("uploadId",P),D.removeAttribute("uploadStatus",P),A.delete(e.id)}),p.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,o,a){let d=0;const p=Object.keys(e).filter(y=>{const w=parseInt(y,10);if(!isNaN(w))return d=Math.max(d,w),!0}).map(y=>`${e[y]} ${y}w`).join(", ");p!=""&&a.setAttribute("srcset",{data:p,width:d},o)}}function Nz(c,e){const o=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(a=>o.isImage(a.item)).map(a=>a.item)}var A4=l(1568),Sz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(A4.Z,Sz),A4.Z.locals;var j4=l(3535),Ez={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(j4.Z,Ez),j4.Z.locals;var N4=l(6270),Dz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(N4.Z,Dz),N4.Z.locals;class Mz extends Ut{constructor(e,o){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map(a=>{if(a.isDefault)for(const d of a.modelElements)this._defaultStyles[d]=a.name;return[a.name,a]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const o=this.editor,a=o.model,d=o.plugins.get("ImageUtils");a.change(p=>{const y=e.value;let w=d.getClosestSelectedImageElement(a.document.selection);y&&this.shouldConvertImageType(y,w)&&(this.editor.execute(d.isBlockImage(w)?"imageTypeInline":"imageTypeBlock"),w=d.getClosestSelectedImageElement(a.document.selection)),!y||this._styles.get(y).isDefault?p.removeAttribute("imageStyle",w):p.setAttribute("imageStyle",y,w)})}shouldConvertImageType(e,o){return!this._styles.get(e).modelElements.includes(o.name)}}var Tz=Object.defineProperty,S4=Object.getOwnPropertySymbols,Iz=Object.prototype.hasOwnProperty,Rz=Object.prototype.propertyIsEnumerable,E4=(c,e,o)=>e in c?Tz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,D4=(c,e)=>{for(var o in e||(e={}))Iz.call(e,o)&&E4(c,o,e[o]);if(S4)for(var o of S4(e))Rz.call(e,o)&&E4(c,o,e[o]);return c};const{objectFullWidth:Pz,objectInline:M4,objectLeft:T4,objectRight:JC,objectCenter:$C,objectBlockLeft:I4,objectBlockRight:R4}=x,dw={get inline(){return{name:"inline",title:"In line",icon:M4,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:T4,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:I4,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:$C,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:JC,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:R4,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:$C,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:JC,modelElements:["imageBlock"],className:"image-style-side"}}},P4={full:Pz,left:I4,right:R4,center:$C,inlineLeft:T4,inlineRight:JC,inline:M4},O4=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function B4(c){Y("image-style-configuration-definition-invalid",c)}const XC={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(o){return o=typeof o=="string"?dw[o]?D4({},dw[o]):{name:o}:function(a,d){const p=D4({},d);for(const y in a)Object.prototype.hasOwnProperty.call(d,y)||(p[y]=a[y]);return p}(dw[o.name],o),typeof o.icon=="string"&&(o.icon=P4[o.icon]||o.icon),o}(e)).filter(e=>function(o,{isBlockPluginLoaded:a,isInlinePluginLoaded:d}){const{modelElements:p,name:y}=o;if(!(p&&p.length&&y))return B4({style:o}),!1;{const w=[a?"imageBlock":null,d?"imageInline":null];if(!p.some(A=>w.includes(A)))return Y("image-style-missing-dependency",{style:o,missingPlugins:p.map(A=>A==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...O4]:[]},warnInvalidStyle:B4,DEFAULT_OPTIONS:dw,DEFAULT_ICONS:P4,DEFAULT_DROPDOWN_DEFINITIONS:O4};function L4(c,e){for(const o of e)if(o.name===c)return o}class z4 extends Ge{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ya]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:o}=XC,a=this.editor,d=a.plugins.has("ImageBlockEditing"),p=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",o(d,p)),this.normalizedStyles=e({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:p}),this._setupConversion(d,p),this._setupPostFixer(),a.commands.add("imageStyle",new Mz(a,this.normalizedStyles))}_setupConversion(e,o){const a=this.editor,d=a.model.schema,p=(y=this.normalizedStyles,(A,N,D)=>{if(!D.consumable.consume(N.item,A.name))return;const P=L4(N.attributeNewValue,y),F=L4(N.attributeOldValue,y),K=D.mapper.toViewElement(N.item),X=D.writer;F&&X.removeClass(F.className,K),P&&X.addClass(P.className,K)});var y;const w=function(A){const N={imageInline:A.filter(D=>!D.isDefault&&D.modelElements.includes("imageInline")),imageBlock:A.filter(D=>!D.isDefault&&D.modelElements.includes("imageBlock"))};return(D,P,F)=>{if(!P.modelRange)return;const K=P.viewItem,X=gn(P.modelRange.getItems());if(X&&F.schema.checkAttribute(X,"imageStyle"))for(const se of N[X.name])F.consumable.consume(K,{classes:se.className})&&F.writer.setAttribute("imageStyle",se.name,X)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",p),a.data.downcastDispatcher.on("attribute:imageStyle",p),e&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",w,{priority:"low"})),o&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",w,{priority:"low"}))}_setupPostFixer(){const e=this.editor,o=e.model.document,a=e.plugins.get(Ya),d=new Map(this.normalizedStyles.map(p=>[p.name,p]));o.registerPostFixer(p=>{let y=!1;for(const w of o.differ.getChanges())if(w.type=="insert"||w.type=="attribute"&&w.attributeKey=="imageStyle"){let A=w.type=="insert"?w.position.nodeAfter:w.range.start.nodeAfter;if(A&&A.is("element","paragraph")&&A.childCount>0&&(A=A.getChild(0)),!a.isImage(A))continue;const N=A.getAttribute("imageStyle");if(!N)continue;const D=d.get(N);D&&D.modelElements.includes(A.name)||(p.removeAttribute("imageStyle",A),y=!0)}return y})}}var F4=l(5083),Oz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(F4.Z,Oz),F4.Z.locals;class Bz extends Ge{static get requires(){return[z4]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],a=V4(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const p of a)this._createButton(p);const d=V4([...o.filter(Ye),...XC.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const p of d)this._createDropdown(p,a)}_createDropdown(e,o){const a=this.editor.ui.componentFactory;a.add(e.name,d=>{let p;const{defaultItem:y,items:w,title:A}=e,N=w.filter(K=>o.find(({name:X})=>U4(X)===K)).map(K=>{const X=a.create(K);return K===y&&(p=X),X});w.length!==N.length&&XC.warnInvalidStyle({dropdown:e});const D=mt(d,we),P=D.buttonView,F=P.arrowView;return ft(D,N,{enableActiveItemFocusOnDropdownOpen:!0}),P.set({label:G4(A,p.label),class:null,tooltip:!0}),F.unbind("label"),F.set({label:A}),P.bind("icon").toMany(N,"isOn",(...K)=>{const X=K.findIndex(El);return X<0?p.icon:N[X].icon}),P.bind("label").toMany(N,"isOn",(...K)=>{const X=K.findIndex(El);return G4(A,X<0?p.label:N[X].label)}),P.bind("isOn").toMany(N,"isOn",(...K)=>K.some(El)),P.bind("class").toMany(N,"isOn",(...K)=>K.some(El)?"ck-splitbutton_flatten":void 0),P.on("execute",()=>{N.some(({isOn:K})=>K)?D.isOpen=!D.isOpen:p.fire("execute")}),D.bind("isEnabled").toMany(N,"isEnabled",(...K)=>K.some(El)),this.listenTo(D,"execute",()=>{this.editor.editing.view.focus()}),D})}_createButton(e){const o=e.name;this.editor.ui.componentFactory.add(U4(o),a=>{const d=this.editor.commands.get("imageStyle"),p=new hr(a);return p.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",y=>y===o),p.on("execute",this._executeCommand.bind(this,o)),p})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function V4(c,e){for(const o of c)e[o.title]&&(o.title=e[o.title]);return c}function U4(c){return`imageStyle:${c}`}function G4(c,e){return(c?c+": ":"")+e}class Lz extends Ge{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Wg(e)),e.commands.add("outdent",new Wg(e))}}const H4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',q4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class zz extends Ge{static get pluginName(){return"IndentUI"}init(){const e=this.editor,o=e.locale,a=e.t,d=o.uiLanguageDirection=="ltr"?H4:q4,p=o.uiLanguageDirection=="ltr"?q4:H4;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),p)}_defineButton(e,o,a){const d=this.editor;d.ui.componentFactory.add(e,p=>{const y=d.commands.get(e),w=new hr(p);return w.set({label:o,icon:a,tooltip:!0}),w.bind("isEnabled").to(y,"isEnabled"),this.listenTo(w,"execute",()=>{d.execute(e),d.editing.view.focus()}),w})}}class Fz{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(o=>this._definitions.add(o)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(o,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!d.schema.isInline(a.item))return;const p=d.writer,y=p.document.selection;for(const w of this._definitions){const A=p.createAttributeElement("a",w.attributes,{priority:5});w.classes&&p.addClass(w.classes,A);for(const N in w.styles)p.setStyle(N,w.styles[N],A);p.setCustomProperty("link",!0,A),w.callback(a.attributeNewValue)?a.item.is("selection")?p.wrap(y.getFirstRange(),A):p.wrap(d.mapper.toViewRange(a.range),A):p.unwrap(d.mapper.toViewRange(a.range),A)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(o,a,{writer:d,mapper:p})=>{const y=p.toViewElement(a.item),w=Array.from(y.getChildren()).find(A=>A.is("element","a"));for(const A of this._definitions){const N=Cs(A.attributes);if(A.callback(a.attributeNewValue)){for(const[D,P]of N)D==="class"?d.addClass(P,w):d.setAttribute(D,P,w);A.classes&&d.addClass(A.classes,w);for(const D in A.styles)d.setStyle(D,A.styles[D],w)}else{for(const[D,P]of N)D==="class"?d.removeClass(P,w):d.removeAttribute(D,w);A.classes&&d.removeClass(A.classes,w);for(const D in A.styles)d.removeStyle(D,w)}}})}}}const Vz=function(c,e,o){var a=c.length;return o=o===void 0?a:o,!e&&o>=a?c:rb(c,e,o)};var Uz=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Y4=function(c){return Uz.test(c)},Gz=function(c){return c.split("")};var W4="\\ud800-\\udfff",Hz="["+W4+"]",ZC="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",e_="\\ud83c[\\udffb-\\udfff]",K4="[^"+W4+"]",Q4="(?:\\ud83c[\\udde6-\\uddff]){2}",J4="[\\ud800-\\udbff][\\udc00-\\udfff]",$4="(?:"+ZC+"|"+e_+")?",X4="[\\ufe0e\\ufe0f]?",qz=X4+$4+("(?:\\u200d(?:"+[K4,Q4,J4].join("|")+")"+X4+$4+")*"),Yz="(?:"+[K4+ZC+"?",ZC,Q4,J4,Hz].join("|")+")",Wz=RegExp(e_+"(?="+e_+")|"+Yz+qz,"g");const Kz=function(c){return c.match(Wz)||[]},Qz=function(c){return Y4(c)?Kz(c):Gz(c)},Jz=function(c){return function(e){e=Ip(e);var o=Y4(e)?Qz(e):void 0,a=o?o[0]:e.charAt(0),d=o?Vz(o,1).join(""):e.slice(1);return a[c]()+d}}("toUpperCase"),$z=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Xz=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Zz=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,eF=/^((\w+:(\/{2,})?)|(\W))/i,t_="Ctrl+K";function Z4(c,{writer:e}){const o=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,o),o}function eD(c){const e=String(c);return function(o){return!!o.replace($z,"").match(Xz)}(e)?e:"#"}function r_(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function n_(c,e){const o=(a=c,Zz.test(a)?"mailto:":e);var a;const d=!!o&&!tD(c);return c&&d?o+c:c}function tD(c){return eF.test(c)}function rD(c){window.open(c,"_blank","noopener")}class tF extends Ut{constructor(){super(...arguments),this.manualDecorators=new Fs,this.automaticDecorators=new Fz}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,o=e.document.selection,a=o.getSelectedElement()||gn(o.getSelectedBlocks());r_(a,e.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(a,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(e,o={}){const a=this.editor.model,d=a.document.selection,p=[],y=[];for(const w in o)o[w]?p.push(w):y.push(w);a.change(w=>{if(d.isCollapsed){const A=d.getFirstPosition();if(d.hasAttribute("linkHref")){const N=nD(d);let D=kf(A,"linkHref",d.getAttribute("linkHref"),a);d.getAttribute("linkHref")===N&&(D=this._updateLinkContent(a,w,D,e)),w.setAttribute("linkHref",e,D),p.forEach(P=>{w.setAttribute(P,!0,D)}),y.forEach(P=>{w.removeAttribute(P,D)}),w.setSelection(w.createPositionAfter(D.end.nodeBefore))}else if(e!==""){const N=Cs(d.getAttributes());N.set("linkHref",e),p.forEach(P=>{N.set(P,!0)});const{end:D}=a.insertContent(w.createText(e,N),A);w.setSelection(D)}["linkHref",...p,...y].forEach(N=>{w.removeSelectionAttribute(N)})}else{const A=a.schema.getValidRanges(d.getRanges(),"linkHref"),N=[];for(const P of d.getSelectedBlocks())a.schema.checkAttribute(P,"linkHref")&&N.push(w.createRangeOn(P));const D=N.slice();for(const P of A)this._isRangeToUpdate(P,N)&&D.push(P);for(const P of D){let F=P;if(D.length===1){const K=nD(d);d.getAttribute("linkHref")===K&&(F=this._updateLinkContent(a,w,P,e),w.setSelection(w.createSelection(F)))}w.setAttribute("linkHref",e,F),p.forEach(K=>{w.setAttribute(K,!0,F)}),y.forEach(K=>{w.removeAttribute(K,F)})}}})}_getDecoratorStateFromModel(e){const o=this.editor.model,a=o.document.selection,d=a.getSelectedElement();return r_(d,o.schema)?d.getAttribute(e):a.getAttribute(e)}_isRangeToUpdate(e,o){for(const a of o)if(a.containsRange(e))return!1;return!0}_updateLinkContent(e,o,a,d){const p=o.createText(d,{linkHref:d});return e.insertContent(p,a)}}function nD(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const o=e[0];return o.is("$text")||o.is("$textProxy")?o.data:null}}class rF extends Ut{refresh(){const e=this.editor.model,o=e.document.selection,a=o.getSelectedElement();r_(a,e.schema)?this.isEnabled=e.schema.checkAttribute(a,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref")}execute(){const e=this.editor,o=this.editor.model,a=o.document.selection,d=e.commands.get("link");o.change(p=>{const y=a.isCollapsed?[kf(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),o)]:o.schema.getValidRanges(a.getRanges(),"linkHref");for(const w of y)if(p.removeAttribute("linkHref",w),d)for(const A of d.manualDecorators)p.removeAttribute(A.id,w)})}}class nF extends tt(){constructor({id:e,label:o,attributes:a,classes:d,styles:p,defaultValue:y}){super(),this.id=e,this.set("value",void 0),this.defaultValue=y,this.label=o,this.attributes=a,this.classes=d,this.styles=p}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var sD=l(9773),sF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(sD.Z,sF),sD.Z.locals;var oF=Object.defineProperty,oD=Object.getOwnPropertySymbols,iF=Object.prototype.hasOwnProperty,aF=Object.prototype.propertyIsEnumerable,iD=(c,e,o)=>e in c?oF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,lF=(c,e)=>{for(var o in e||(e={}))iF.call(e,o)&&iD(c,o,e[o]);if(oD)for(var o of oD(e))aF.call(e,o)&&iD(c,o,e[o]);return c};const aD="automatic",cF=/^(https?:)?\/\//;class dF extends Ge{static get pluginName(){return"LinkEditing"}static get requires(){return[$S,HS,Fl]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Z4}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>Z4(eD(a),d)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new tF(e)),e.commands.add("unlink",new rF(e));const o=function(a,d){const p={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(y=>("label"in y&&p[y.label]&&(y.label=p[y.label]),y)),d}(e.t,function(a){const d=[];if(a)for(const[p,y]of Object.entries(a)){const w=Object.assign({},y,{id:`link${Jz(p)}`});d.push(w)}return d}(e.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(a=>a.mode===aD)),this._enableManualDecorators(o.filter(a=>a.mode==="manual")),e.plugins.get($S).registerAttribute("linkHref"),function(a,d,p,y){const w=a.editing.view,A=new Set;w.document.registerPostFixer(N=>{const D=a.model.document.selection;let P=!1;if(D.hasAttribute(d)){const F=kf(D.getFirstPosition(),d,D.getAttribute(d),a.model),K=a.editing.mapper.toViewRange(F);for(const X of K.getItems())X.is("element",p)&&!X.hasClass(y)&&(N.addClass(y,X),A.add(X),P=!0)}return P}),a.conversion.for("editingDowncast").add(N=>{function D(){w.change(P=>{for(const F of A.values())P.removeClass(y,F),A.delete(F)})}N.on("insert",D,{priority:"highest"}),N.on("remove",D,{priority:"highest"}),N.on("attribute",D,{priority:"highest"}),N.on("selection",D,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const o=this.editor,a=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:aD,callback:d=>!!d&&cF.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(e),a.length&&o.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const o=this.editor,a=o.commands.get("link").manualDecorators;e.forEach(d=>{o.model.schema.extend("$text",{allowAttributes:d.id});const p=new nF(d);a.add(p),o.conversion.for("downcast").attributeToElement({model:p.id,view:(y,{writer:w,schema:A},{item:N})=>{if((N.is("selection")||A.isInline(N))&&y){const D=w.createAttributeElement("a",p.attributes,{priority:5});p.classes&&w.addClass(p.classes,D);for(const P in p.styles)w.setStyle(P,p.styles[P],D);return w.setCustomProperty("link",!0,D),D}}}),o.conversion.for("upcast").elementToAttribute({view:lF({name:"a"},p._createPattern()),model:{key:p.id}})})}_enableLinkOpen(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",(a,d)=>{if(!(C.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let p=d.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const y=p.getAttribute("href");y&&(a.stop(),d.preventDefault(),rD(y))},{context:"$capture"}),this.listenTo(o,"keydown",(a,d)=>{const p=e.commands.get("link").value;p&&d.keyCode===rr.enter&&d.altKey&&(a.stop(),rD(p))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,o=e.document.selection;this.listenTo(e,"insertContent",()=>{const a=o.anchor.nodeBefore,d=o.anchor.nodeAfter;o.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||e.change(p=>{s_(p,o_(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,o=e.model;e.editing.view.addObserver(gm);let a=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=o.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const p=d.getFirstPosition(),y=kf(p,"linkHref",d.getAttribute("linkHref"),o);(p.isTouching(y.start)||p.isTouching(y.end))&&o.change(w=>{s_(w,o_(o.schema))})})}_enableTypingOverLink(){const e=this.editor,o=e.editing.view;let a=null,d=!1;this.listenTo(o.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const p=e.model.document.selection;p.isCollapsed||(d?d=!1:lD(e)&&function(y){const w=y.document.selection,A=w.getFirstPosition(),N=w.getLastPosition(),D=A.nodeAfter;if(!D||!D.is("$text")||!D.hasAttribute("linkHref"))return!1;const P=N.textNode||N.nodeBefore;return D===P?!0:kf(A,"linkHref",D.getAttribute("linkHref"),y).containsRange(y.createRange(A,N),!0)}(e.model)&&(a=p.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(p,[y])=>{d=!1,lD(e)&&a&&(e.model.change(w=>{for(const[A,N]of a)w.setAttribute(A,N,y)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,o=e.model,a=o.document.selection,d=e.editing.view;let p=!1,y=!1;this.listenTo(d.document,"delete",(w,A)=>{y=A.direction==="backward"},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{p=!1;const w=a.getFirstPosition(),A=a.getAttribute("linkHref");if(!A)return;const N=kf(w,"linkHref",A,o);p=N.containsPosition(w)||N.end.isEqual(w)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{y&&(y=!1,p||e.model.enqueueChange(w=>{s_(w,o_(o.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,o=e.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(d,p)=>{o.change(y=>{const w=y.createRangeIn(p.content);for(const A of w.getItems())if(A.hasAttribute("linkHref")){const N=n_(A.getAttribute("linkHref"),a);y.setAttribute("linkHref",N,A)}})})}}function s_(c,e){c.removeSelectionAttribute("linkHref");for(const o of e)c.removeSelectionAttribute(o)}function lD(c){return c.model.change(e=>e.batch).isTyping}function o_(c){return c.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var cD=l(7754),uF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(cD.Z,uF),cD.Z.locals;class hF extends Kt{constructor(e,o){super(e),this.focusTracker=new ks,this.keystrokes=new zo,this._focusables=new Fo;const a=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusCycler=new Vo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,o)=>(e[o.name]=o.isOn,e),{})}render(){super.render(),b({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,o=new Np(this.locale,CC);return o.label=e("Link URL"),o}_createButton(e,o,a,d){const p=new hr(this.locale);return p.set({label:e,icon:o,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createManualDecoratorSwitches(e){const o=this.createCollection();for(const a of e.manualDecorators){const d=new bi(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,e],"value",(p,y)=>y===void 0&&p===void 0?!!a.defaultValue:!!p),d.on("execute",()=>{a.set("value",!d.isOn)}),o.add(d)}return o}_createFormChildren(e){const o=this.createCollection();if(o.add(this.urlInputView),e.length){const a=new Kt;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(a)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}var dD=l(2347),mF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(dD.Z,mF),dD.Z.locals;class pF extends Kt{constructor(e){super(e),this.focusTracker=new ks,this.keystrokes=new zo,this._focusables=new Fo;const o=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),x.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Vo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,o,a){const d=new hr(this.locale);return d.set({label:e,icon:o,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const e=new hr(this.locale),o=this.bindTemplate,a=this.t;return e.set({withText:!0,tooltip:a("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",d=>d&&eD(d)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",d=>d||a("This link has no URL")),e.bind("isEnabled").to(this,"href",d=>!!d),e.template.tag="a",e.template.eventListeners={},e}}const Vl="link-ui";class fF extends Ge{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[$0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(fm),this._balloon=e.plugins.get($0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Vl,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Vl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,o=new pF(e.locale),a=e.commands.get("link"),d=e.commands.get("unlink");return o.bind("href").to(a,"value"),o.editButtonView.bind("isEnabled").to(a),o.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{e.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(p,y)=>{this._hideUI(),y()}),o.keystrokes.set(t_,(p,y)=>{this._addFormView(),y()}),o}_createFormView(){const e=this.editor,o=e.commands.get("link"),a=e.config.get("link.defaultProtocol"),d=new(f(hF))(e.locale,o);return d.urlInputView.fieldView.bind("value").to(o,"value"),d.urlInputView.bind("isEnabled").to(o,"isEnabled"),d.saveButtonView.bind("isEnabled").to(o),this.listenTo(d,"submit",()=>{const{value:p}=d.urlInputView.fieldView.element,y=n_(p,a);e.execute("link",y,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(p,y)=>{this._closeFormView(),y()}),d}_createToolbarLinkButton(){const e=this.editor,o=e.commands.get("link"),a=e.t;e.ui.componentFactory.add("link",d=>{const p=new hr(d);return p.isEnabled=!0,p.label=a("Link"),p.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',p.keystroke=t_,p.tooltip=!0,p.isToggleable=!0,p.bind("isEnabled").to(o,"isEnabled"),p.bind("isOn").to(o,"value",y=>!!y),this.listenTo(p,"execute",()=>this._showUI(!0)),p})}_enableBalloonActivators(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(t_,(a,d)=>{d(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,o)=>{this._isUIVisible&&(this._hideUI(),o())}),m({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,o=e.editing.view.document;let a=this._getSelectedLinkElement(),d=y();const p=()=>{const w=this._getSelectedLinkElement(),A=y();a&&!w||!a&&A!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=w,d=A};function y(){return o.selection.focus.getAncestors().reverse().find(w=>w.is("element"))}this.listenTo(e.ui,"update",p),this.listenTo(this._balloon,"change:visibleView",p)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,o=this.editor.model,a=e.document;let d;if(o.markers.has(Vl)){const p=Array.from(this.editor.editing.mapper.markerNameToElements(Vl)),y=e.createRange(e.createPositionBefore(p[0]),e.createPositionAfter(p[p.length-1]));d=e.domConverter.viewRangeToDom(y)}else d=()=>{const p=this._getSelectedLinkElement();return p?e.domConverter.mapViewToDom(p):e.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const e=this.editor.editing.view,o=e.document.selection,a=o.getSelectedElement();if(o.isCollapsed||a&&vn(a))return i_(o.getFirstPosition());{const d=o.getFirstRange().getTrimmed(),p=i_(d.start),y=i_(d.end);return p&&p==y&&e.createRangeIn(p).getTrimmed().isEqual(d)?p:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(o=>{const a=e.document.selection.getFirstRange();if(e.markers.has(Vl))o.updateMarker(Vl,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:p})=>!e.schema.isContent(p),{boundaries:a});o.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:o.createRange(d,a.end)})}else o.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Vl)&&e.change(o=>{o.removeMarker(Vl)})}}function i_(c){return c.getAncestors().find(e=>{return(o=e).is("attributeElement")&&!!o.getCustomProperty("link");var o})||null}const gF=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class bF extends Ge{static get requires(){return[Qc]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,o=new JS(e.model,a=>{if(!function(p){return p.length>4&&p[p.length-1]===" "&&p[p.length-2]!==" "}(a))return;const d=uD(a.substr(0,a.length-1));return d?{url:d}:void 0});o.on("matched:data",(a,d)=>{const{batch:p,range:y,url:w}=d;if(!p.isTyping)return;const A=y.end.getShiftedBy(-1),N=A.getShiftedBy(-w.length),D=e.model.createRange(N,A);this._applyAutoLink(w,D)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,o=e.model,a=e.commands.get("enter");a&&a.on("execute",()=>{const d=o.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const p=o.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(p)})}_enableShiftEnterHandling(){const e=this.editor,o=e.model,a=e.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=o.document.selection.getFirstPosition(),p=o.createRange(o.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(p)})}_checkAndApplyAutoLinkOnRange(e){const o=this.editor.model,{text:a,range:d}=QS(e,o),p=uD(a);if(p){const y=o.createRange(d.end.getShiftedBy(-p.length),d.end);this._applyAutoLink(p,y)}}_applyAutoLink(e,o){const a=this.editor.model,d=n_(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(p,y){return y.schema.checkAttributeInSelection(y.createSelection(p),"linkHref")}(o,a)&&tD(d)&&!function(p){const y=p.start.nodeAfter;return!!y&&y.hasAttribute("linkHref")}(o)&&this._persistAutoLink(d,o)}_persistAutoLink(e,o){const a=this.editor.model,d=this.editor.plugins.get("Delete");a.enqueueChange(p=>{p.setAttribute("linkHref",e,o),a.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function uD(c){const e=gF.exec(c);return e?e[2]:null}var hD=l(111),yF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(hD.Z,yF),hD.Z.locals;var mD=l(5730),xF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(mD.Z,xF),mD.Z.locals;var pD=l(4564),vF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(pD.Z,vF),pD.Z.locals;function wF(c,e){const o=e.mapper,a=e.writer,d=c.getAttribute("listType")=="numbered"?"ol":"ul",p=function(w){const A=w.createContainerElement("li");return A.getFillerOffset=_F,A}(a),y=a.createContainerElement(d,null);return a.insert(a.createPositionAt(y,0),p),o.bindElements(c,p),p}function fD(c,e,o,a){const d=e.parent,p=o.mapper,y=o.writer;let w=p.toViewPosition(a.createPositionBefore(c));const A=bD(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),N=c.previousSibling;if(A&&A.getAttribute("listIndent")==c.getAttribute("listIndent")){const D=p.toViewElement(A);w=y.breakContainer(y.createPositionAfter(D))}else if(N&&N.name=="listItem"){w=p.toViewPosition(a.createPositionAt(N,"end"));const D=p.findMappedViewAncestor(w),P=function(F){for(const K of F.getChildren())if(K.name=="ul"||K.name=="ol")return K;return null}(D);w=P?y.createPositionBefore(P):y.createPositionAt(D,"end")}else w=p.toViewPosition(a.createPositionBefore(c));if(w=gD(w),y.insert(w,d),N&&N.name=="listItem"){const D=p.toViewElement(N),P=y.createRange(y.createPositionAt(D,0),w).getWalker({ignoreElementEnd:!0});for(const F of P)if(F.item.is("element","li")){const K=y.breakContainer(y.createPositionBefore(F.item)),X=F.item.parent,se=y.createPositionAt(e,"end");Qi(y,se.nodeBefore,se.nodeAfter),y.move(y.createRangeOn(X),se),P._position=K}}else{const D=d.nextSibling;if(D&&(D.is("element","ul")||D.is("element","ol"))){let P=null;for(const F of D.getChildren()){const K=p.toModelElement(F);if(!(K&&K.getAttribute("listIndent")>c.getAttribute("listIndent")))break;P=F}P&&(y.breakContainer(y.createPositionAfter(P)),y.move(y.createRangeOn(P.parent),y.createPositionAt(e,"end")))}}Qi(y,d,d.nextSibling),Qi(y,d.previousSibling,d)}function Qi(c,e,o){return!e||!o||e.name!="ul"&&e.name!="ol"||e.name!=o.name||e.getAttribute("class")!==o.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(e))}function gD(c){return c.getLastMatchingPosition(e=>e.item.is("uiElement"))}function bD(c,e){const o=!!e.sameIndent,a=!!e.smallerIndent,d=e.listIndent;let p=c;for(;p&&p.name=="listItem";){const y=p.getAttribute("listIndent");if(o&&d==y||a&&d>y)return p;p=e.direction==="forward"?p.nextSibling:p.previousSibling}return null}function yD(c,e,o,a){c.ui.componentFactory.add(e,d=>{const p=c.commands.get(e),y=new hr(d);return y.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(p,"value","isEnabled"),y.on("execute",()=>{c.execute(e),c.editing.view.focus()}),y})}function a_(c,e){const o=[],a=c.parent,d={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:e},p=a.getAttribute("listIndent"),y=[...new us(d)].filter(w=>w.item.is("element")).map(w=>w.item);for(const w of y){if(!w.is("element","listItem")||w.getAttribute("listIndent")<p)break;if(!(w.getAttribute("listIndent")>p)){if(w.getAttribute("listType")!==a.getAttribute("listType")||w.getAttribute("listStyle")!==a.getAttribute("listStyle")||w.getAttribute("listReversed")!==a.getAttribute("listReversed")||w.getAttribute("listStart")!==a.getAttribute("listStart"))break;e==="backward"?o.unshift(w):o.push(w)}}return o}const kF=["disc","circle","square"],CF=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function _F(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:cb.call(this)}class AF extends Ge{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;yD(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),yD(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const jF=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:o}of jF);var xD=l(4721),NF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(xD.Z,NF),xD.Z.locals;var vD=l(6082),SF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(vD.Z,SF),vD.Z.locals;var wD=l(2417),EF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(wD.Z,EF),wD.Z.locals;class kD extends Ut{constructor(e,o){super(e),this._indentBy=o=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,o=e.document;let a=Array.from(o.selection.getSelectedBlocks());e.change(d=>{const p=a[a.length-1];let y=p.nextSibling;for(;y&&y.name=="listItem"&&y.getAttribute("listIndent")>p.getAttribute("listIndent");)a.push(y),y=y.nextSibling;this._indentBy<0&&(a=a.reverse());for(const w of a){const A=w.getAttribute("listIndent")+this._indentBy;A<0?d.rename(w,"paragraph"):d.setAttribute("listIndent",A,w)}this.fire("_executeCleanup",a)})}_checkEnabled(){const e=gn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const o=e.getAttribute("listIndent"),a=e.getAttribute("listType");let d=e.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;){if(d.getAttribute("listIndent")==o)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}class CD extends Ut{constructor(e,o){super(e),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const o=this.editor.model,a=o.document,d=Array.from(a.selection.getSelectedBlocks()).filter(y=>AD(y,o.schema)),p=e.forceValue!==void 0?!e.forceValue:this.value;o.change(y=>{if(p){let w=d[d.length-1].nextSibling,A=Number.POSITIVE_INFINITY,N=[];for(;w&&w.name=="listItem"&&w.getAttribute("listIndent")!==0;){const D=w.getAttribute("listIndent");D<A&&(A=D);const P=D-A;N.push({element:w,listIndent:P}),w=w.nextSibling}N=N.reverse();for(const D of N)y.setAttribute("listIndent",D.listIndent,D.element)}if(!p){let w=Number.POSITIVE_INFINITY;for(const A of d)A.is("element","listItem")&&A.getAttribute("listIndent")<w&&(w=A.getAttribute("listIndent"));w=w===0?1:w,_D(d,!0,w),_D(d,!1,w)}for(const w of d.reverse())p&&w.name=="listItem"?y.rename(w,"paragraph"):p||w.name=="listItem"?p||w.name!="listItem"||w.getAttribute("listType")==this.type||y.setAttribute("listType",this.type,w):(y.setAttributes({listType:this.type,listIndent:0},w),y.rename(w,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const e=gn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,o=this.editor.model.schema,a=gn(e.getSelectedBlocks());return!!a&&AD(a,o)}}function _D(c,e,o){const a=e?c[0]:c[c.length-1];if(a.is("element","listItem")){let d=a[e?"previousSibling":"nextSibling"],p=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;)p>d.getAttribute("listIndent")&&(p=d.getAttribute("listIndent")),d.getAttribute("listIndent")==p&&c[e?"unshift":"push"](d),d=d[e?"previousSibling":"nextSibling"]}}function AD(c,e){return e.checkChild(c.parent,"listItem")&&!e.isObject(c)}class DF extends Ge{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(o){return kF.includes(o)?"bulleted":CF.includes(o)?"numbered":null}(e)}getSelectedListItems(e){return function(o){let a=[...o.document.selection.getSelectedBlocks()].filter(d=>d.is("element","listItem")).map(d=>{const p=o.change(y=>y.createPositionAt(d,0));return[...a_(p,"backward"),...a_(p,"forward")]}).flat();return a=[...new Set(a)],a}(e)}getSiblingNodes(e,o){return a_(e,o)}}function jD(c){return(e,o,a)=>{const d=a.consumable;if(!d.test(o.item,"insert")||!d.test(o.item,"attribute:listType")||!d.test(o.item,"attribute:listIndent"))return;d.consume(o.item,"insert"),d.consume(o.item,"attribute:listType"),d.consume(o.item,"attribute:listIndent");const p=o.item;fD(p,wF(p,a),a,c)}}const MF=(c,e,o)=>{if(!o.consumable.test(e.item,c.name))return;const a=o.mapper.toViewElement(e.item),d=o.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a));const p=a.parent,y=e.attributeNewValue=="numbered"?"ol":"ul";d.rename(y,p)},TF=(c,e,o)=>{o.consumable.consume(e.item,c.name);const a=o.mapper.toViewElement(e.item).parent,d=o.writer;Qi(d,a,a.nextSibling),Qi(d,a.previousSibling,a)},ND=(c,e,o)=>{if(o.consumable.test(e.item,c.name)&&e.item.name!="listItem"){let a=o.mapper.toViewPosition(e.range.start);const d=o.writer,p=[];for(;(a.parent.name=="ul"||a.parent.name=="ol")&&(a=d.breakContainer(a),a.parent.name=="li");){const y=a,w=d.createPositionAt(a.parent,"end");if(!y.isEqual(w)){const A=d.remove(d.createRange(y,w));p.push(A)}a=d.createPositionAfter(a.parent)}if(p.length>0){for(let y=0;y<p.length;y++){const w=a.nodeBefore;if(a=d.insert(a,p[y]).end,y>0){const A=Qi(d,w,w.nextSibling);A&&A.parent==w&&a.offset--}}Qi(d,a.nodeBefore,a.nodeAfter)}}},IF=(c,e,o)=>{const a=o.mapper.toViewPosition(e.position),d=a.nodeBefore,p=a.nodeAfter;Qi(o.writer,d,p)},RF=(c,e,o)=>{if(o.consumable.consume(e.viewItem,{name:!0})){const a=o.writer,d=a.createElement("listItem"),p=function(A){let N=0,D=A.parent;for(;D;){if(D.is("element","li"))N++;else{const P=D.previousSibling;P&&P.is("element","li")&&N++}D=D.parent}return N}(e.viewItem);a.setAttribute("listIndent",p,d);const y=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(a.setAttribute("listType",y,d),!o.safeInsert(d,e.modelCursor))return;const w=function(A,N,D){const{writer:P,schema:F}=D;let K=P.createPositionAfter(A);for(const X of N)if(X.name=="ul"||X.name=="ol")K=D.convertItem(X,K).modelCursor;else{const se=D.convertItem(X,P.createPositionAt(A,"end")),de=se.modelRange.start.nodeAfter;de&&de.is("element")&&!F.checkChild(A,de.name)&&(A=se.modelCursor.parent.is("element","listItem")?se.modelCursor.parent:BF(se.modelCursor),K=P.createPositionAfter(A))}return K}(d,e.viewItem.getChildren(),o);e.modelRange=a.createRange(e.modelCursor,w),o.updateConversionResult(d,e)}},SD=(c,e,o)=>{if(o.consumable.test(e.viewItem,{name:!0})){const a=Array.from(e.viewItem.getChildren());for(const d of a)!(d.is("element","li")||jf(d))&&d._remove()}},PF=(c,e,o)=>{if(o.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const a=[...e.viewItem.getChildren()];let d=!1;for(const p of a)d&&!jf(p)&&p._remove(),jf(p)&&(d=!0)}};function ED(c){return(e,o)=>{if(o.isPhantom)return;const a=o.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=o.mapper.toViewElement(a),p=d.getAncestors().find(jf),y=c.createPositionAt(d,0).getWalker();for(const w of y){if(w.type=="elementStart"&&w.item.is("element","li")){o.viewPosition=w.previousPosition;break}if(w.type=="elementEnd"&&w.item==p){o.viewPosition=w.nextPosition;break}}}}}const OF=function(c,[e,o]){const a=this;let d,p=e.is("documentFragment")?e.getChild(0):e;if(d=o?a.createSelection(o):a.document.selection,p&&p.is("element","listItem")){const y=d.getFirstPosition();let w=null;if(y.parent.is("element","listItem")?w=y.parent:y.nodeBefore&&y.nodeBefore.is("element","listItem")&&(w=y.nodeBefore),w){const A=w.getAttribute("listIndent");if(A>0)for(;p&&p.is("element","listItem");)p._setAttribute("listIndent",p.getAttribute("listIndent")+A),p=p.nextSibling}}};function BF(c){const e=new us({startPosition:c});let o;do o=e.next();while(!o.value.item.is("element","listItem"));return o.value.item}function DD(c,e,o,a,d,p){const y=bD(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),w=d.mapper,A=d.writer,N=y?y.getAttribute("listIndent"):null;let D;if(y)if(N==c){const P=w.toViewElement(y).parent;D=A.createPositionAfter(P)}else{const P=p.createPositionAt(y,"end");D=w.toViewPosition(P)}else D=o;D=gD(D);for(const P of[...a.getChildren()])jf(P)&&(D=A.move(A.createRangeOn(P),D).end,Qi(A,P,P.nextSibling),Qi(A,P.previousSibling,P))}function jf(c){return c.is("element","ol")||c.is("element","ul")}class LF extends Ge{static get pluginName(){return"ListEditing"}static get requires(){return[nw,Qc,DF]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=e.data,a=e.editing;var d;e.model.document.registerPostFixer(y=>function(w,A){const N=w.document.differ.getChanges(),D=new Map;let P=!1;for(const se of N)if(se.type=="insert"&&se.name=="listItem")F(se.position);else if(se.type=="insert"&&se.name!="listItem"){if(se.name!="$text"){const de=se.position.nodeAfter;de.hasAttribute("listIndent")&&(A.removeAttribute("listIndent",de),P=!0),de.hasAttribute("listType")&&(A.removeAttribute("listType",de),P=!0),de.hasAttribute("listStyle")&&(A.removeAttribute("listStyle",de),P=!0),de.hasAttribute("listReversed")&&(A.removeAttribute("listReversed",de),P=!0),de.hasAttribute("listStart")&&(A.removeAttribute("listStart",de),P=!0);for(const pe of Array.from(w.createRangeIn(de)).filter(ke=>ke.item.is("element","listItem")))F(pe.previousPosition)}F(se.position.getShiftedBy(se.length))}else se.type=="remove"&&se.name=="listItem"?F(se.position):(se.type=="attribute"&&se.attributeKey=="listIndent"||se.type=="attribute"&&se.attributeKey=="listType")&&F(se.range.start);for(const se of D.values())K(se),X(se);return P;function F(se){const de=se.nodeBefore;if(de&&de.is("element","listItem")){let pe=de;if(D.has(pe))return;for(let ke=pe.previousSibling;ke&&ke.is("element","listItem");ke=pe.previousSibling)if(pe=ke,D.has(pe))return;D.set(de,pe)}else{const pe=se.nodeAfter;pe&&pe.is("element","listItem")&&D.set(pe,pe)}}function K(se){let de=0,pe=null;for(;se&&se.is("element","listItem");){const ke=se.getAttribute("listIndent");if(ke>de){let Fe;pe===null?(pe=ke-de,Fe=de):(pe>ke&&(pe=ke),Fe=ke-pe),A.setAttribute("listIndent",Fe,se),P=!0}else pe=null,de=se.getAttribute("listIndent")+1;se=se.nextSibling}}function X(se){let de=[],pe=null;for(;se&&se.is("element","listItem");){const ke=se.getAttribute("listIndent");if(pe&&pe.getAttribute("listIndent")>ke&&(de=de.slice(0,ke+1)),ke!=0)if(de[ke]){const Fe=de[ke];se.getAttribute("listType")!=Fe&&(A.setAttribute("listType",Fe,se),P=!0)}else de[ke]=se.getAttribute("listType");pe=se,se=se.nextSibling}}}(e.model,y)),a.mapper.registerViewToModelLength("li",l_),o.mapper.registerViewToModelLength("li",l_),a.mapper.on("modelToViewPosition",ED(a.view)),a.mapper.on("viewToModelPosition",(d=e.model,(y,w)=>{const A=w.viewPosition,N=A.parent,D=w.mapper;if(N.name=="ul"||N.name=="ol"){if(A.isAtEnd){const P=D.toModelElement(A.nodeBefore),F=D.getModelLength(A.nodeBefore);w.modelPosition=d.createPositionBefore(P).getShiftedBy(F)}else{const P=D.toModelElement(A.nodeAfter);w.modelPosition=d.createPositionBefore(P)}y.stop()}else if(N.name=="li"&&A.nodeBefore&&(A.nodeBefore.name=="ul"||A.nodeBefore.name=="ol")){const P=D.toModelElement(N);let F=1,K=A.nodeBefore;for(;K&&jf(K);)F+=D.getModelLength(K),K=K.previousSibling;w.modelPosition=d.createPositionBefore(P).getShiftedBy(F),y.stop()}})),o.mapper.on("modelToViewPosition",ED(a.view)),e.conversion.for("editingDowncast").add(y=>{y.on("insert",ND,{priority:"high"}),y.on("insert:listItem",jD(e.model)),y.on("attribute:listType:listItem",MF,{priority:"high"}),y.on("attribute:listType:listItem",TF,{priority:"low"}),y.on("attribute:listIndent:listItem",function(w){return(A,N,D)=>{if(!D.consumable.consume(N.item,"attribute:listIndent"))return;const P=D.mapper.toViewElement(N.item),F=D.writer;F.breakContainer(F.createPositionBefore(P)),F.breakContainer(F.createPositionAfter(P));const K=P.parent,X=K.previousSibling,se=F.createRangeOn(K);F.remove(se),X&&X.nextSibling&&Qi(F,X,X.nextSibling),DD(N.attributeOldValue+1,N.range.start,se.start,P,D,w),fD(N.item,P,D,w);for(const de of N.item.getChildren())D.consumable.consume(de,"insert")}}(e.model)),y.on("remove:listItem",function(w){return(A,N,D)=>{const P=D.mapper.toViewPosition(N.position).getLastMatchingPosition(pe=>!pe.item.is("element","li")).nodeAfter,F=D.writer;F.breakContainer(F.createPositionBefore(P)),F.breakContainer(F.createPositionAfter(P));const K=P.parent,X=K.previousSibling,se=F.createRangeOn(K),de=F.remove(se);X&&X.nextSibling&&Qi(F,X,X.nextSibling),DD(D.mapper.toModelElement(P).getAttribute("listIndent")+1,N.position,se.start,P,D,w);for(const pe of F.createRangeIn(de).getItems())D.mapper.unbindViewElement(pe);A.stop()}}(e.model)),y.on("remove",IF,{priority:"low"})}),e.conversion.for("dataDowncast").add(y=>{y.on("insert",ND,{priority:"high"}),y.on("insert:listItem",jD(e.model))}),e.conversion.for("upcast").add(y=>{y.on("element:ul",SD,{priority:"high"}),y.on("element:ol",SD,{priority:"high"}),y.on("element:li",PF,{priority:"high"}),y.on("element:li",RF)}),e.model.on("insertContent",OF,{priority:"high"}),e.commands.add("numberedList",new CD(e,"numbered")),e.commands.add("bulletedList",new CD(e,"bulleted")),e.commands.add("indentList",new kD(e,"forward")),e.commands.add("outdentList",new kD(e,"backward"));const p=a.view.document;this.listenTo(p,"enter",(y,w)=>{const A=this.editor.model.document,N=A.selection.getLastPosition().parent;A.selection.isCollapsed&&N.name=="listItem"&&N.isEmpty&&(this.editor.execute("outdentList"),w.preventDefault(),y.stop())},{context:"li"}),this.listenTo(p,"delete",(y,w)=>{if(w.direction!=="backward")return;const A=this.editor.model.document.selection;if(!A.isCollapsed)return;const N=A.getFirstPosition();if(!N.isAtStart)return;const D=N.parent;D.name==="listItem"&&(D.previousSibling&&D.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),w.preventDefault(),y.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(y,w)=>{const A=w.shiftKey?"outdentList":"indentList";this.editor.commands.get(A).isEnabled&&(e.execute(A),w.stopPropagation(),w.preventDefault(),y.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,o=e.get("indent"),a=e.get("outdent");o&&o.registerChildCommand(e.get("indentList")),a&&a.registerChildCommand(e.get("outdentList"))}}function l_(c){let e=1;for(const o of c.getChildren())if(o.name=="ul"||o.name=="ol")for(const a of o.getChildren())e+=l_(a);return e}lr("Ctrl+Enter");var MD=l(1199),zF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(MD.Z,zF),MD.Z.locals;function TD(c,e){const o=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const y=d.attributeNewValue,w=p.writer,A=p.mapper.toViewElement(d.item),N=[...A.getChildren()].find(P=>P.getCustomProperty("media-content"));w.remove(N);const D=c.getMediaViewElement(w,y,e);w.insert(w.createPositionAt(A,0),D)};return a=>{a.on("attribute:url:media",o)}}function ID(c,e,o,a){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,o,a),c.createSlot()])}function RD(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function PD(c,e,o,a){c.change(d=>{const p=d.createElement("media",{url:e});c.insertObject(p,o,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class FF extends Ut{refresh(){const e=this.editor.model,o=e.document.selection,a=RD(o);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(d){const p=d.getSelectedElement();return!!p&&p.name==="media"}(o)||function(d,p){let w=cE(d,p).start.parent;return w.isEmpty&&!p.schema.isLimit(w)&&(w=w.parent),p.schema.checkChild(w,"media")}(o,e)}execute(e){const o=this.editor.model,a=o.document.selection,d=RD(a);d?o.change(p=>{p.setAttribute("url",e,d)}):PD(o,e,a,!0)}}class VF{constructor(e,o){const a=o.providers,d=o.extraProviders||[],p=new Set(o.removeProviders),y=a.concat(d).filter(w=>{const A=w.name;return A?!p.has(A):(Y("media-embed-no-provider-name",{provider:w}),!1)});this.locale=e,this.providerDefinitions=y}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,o,a){return this._getMedia(o).getViewElement(e,a)}_getMedia(e){if(!e)return new OD(this.locale);e=e.trim();for(const o of this.providerDefinitions){const a=o.html,d=Dn(o.url);for(const p of d){const y=this._getUrlMatches(e,p);if(y)return new OD(this.locale,e,y,a)}}return null}_getUrlMatches(e,o){let a=e.match(o);if(a)return a;let d=e.replace(/^https?:\/\//,"");return a=d.match(o),a||(d=d.replace(/^www\./,""),a=d.match(o),a||null)}}class OD{constructor(e,o,a,d){this.url=this._getValidUrl(o),this._locale=e,this._match=a,this._previewRenderer=d}getViewElement(e,o){const a={};let d;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),o.renderForEditingView&&(a.class="ck-media__wrapper");const p=this._getPreviewHtml(o);d=e.createRawElement("div",a,(y,w)=>{w.setContentOf(y,p)})}else this.url&&(a.url=this.url),d=e.createEmptyElement(o.elementName,a);return e.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Yi,o=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new gi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":o("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var BD=l(7442),UF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(BD.Z,UF),BD.Z.locals;class uw extends Ge{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:o=>{const a=o[1],d=o[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${d?`?start=${d}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new VF(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,o=e.model.schema,a=e.t,d=e.conversion,p=e.config.get("mediaEmbed.previewsInData"),y=e.config.get("mediaEmbed.elementName"),w=this.registry;e.commands.add("mediaEmbed",new FF(e)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),d.for("dataDowncast").elementToStructure({model:"media",view:(A,{writer:N})=>{const D=A.getAttribute("url");return ID(N,w,D,{elementName:y,renderMediaPreview:!!D&&p})}}),d.for("dataDowncast").add(TD(w,{elementName:y,renderMediaPreview:p})),d.for("editingDowncast").elementToStructure({model:"media",view:(A,{writer:N})=>{const D=A.getAttribute("url");return function(P,F,K){return F.setCustomProperty("media",!0,P),GC(P,F,{label:K})}(ID(N,w,D,{elementName:y,renderForEditingView:!0}),N,a("media widget"))}}),d.for("editingDowncast").add(TD(w,{elementName:y,renderForEditingView:!0})),d.for("upcast").elementToElement({view:A=>["oembed",y].includes(A.name)&&A.getAttribute("url")?{name:!0}:null,model:(A,{writer:N})=>{const D=A.getAttribute("url");return w.hasMedia(D)?N.createElement("media",{url:D}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(A,{writer:N})=>{const D=A.getAttribute("data-oembed-url");return w.hasMedia(D)?N.createElement("media",{url:D}):null}}).add(A=>{A.on("element:figure",(N,D,P)=>{if(!P.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:F,modelCursor:K}=P.convertChildren(D.viewItem,D.modelCursor);D.modelRange=F,D.modelCursor=K,gn(F.getItems())||P.consumable.revert(D.viewItem,{name:!0,classes:"media"})})})}}const GF=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class HF extends Ge{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[CE,Qc,DE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,o=e.model.document,a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const d=o.selection.getFirstRange(),p=ps.fromPosition(d.start);p.stickiness="toPrevious";const y=ps.fromPosition(d.end);y.stickiness="toNext",o.once("change:data",()=>{this._embedMediaBetweenPositions(p,y),p.detach(),y.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(It.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,o){const a=this.editor,d=a.plugins.get(uw).registry,p=new Ho(e,o),y=p.getWalker({ignoreElementEnd:!0});let w="";for(const A of y)A.item.is("$textProxy")&&(w+=A.item.data);if(w=w.trim(),!w.match(GF)||!d.hasMedia(w))return void p.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ps.fromPosition(e),this._timeoutId=It.window.setTimeout(()=>{a.model.change(A=>{this._timeoutId=null,A.remove(p),p.detach();let N=null;this._positionToInsert.root.rootName!=="$graveyard"&&(N=this._positionToInsert),PD(a.model,w,N,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Qc).requestUndoOnBackspace()},100)):p.detach()}}var LD=l(9292),qF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(LD.Z,qF),LD.Z.locals;class YF extends Kt{constructor(e,o){super(o);const a=o.t;this.focusTracker=new ks,this.keystrokes=new zo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(a("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._focusables=new Fo,this._focusCycler=new Vo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),b({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);const e=o=>o.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const o=e(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,o=new Np(this.locale,CC),a=o.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),o.label=e("Media URL"),o.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{o.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),o}_createButton(e,o,a,d){const p=new hr(this.locale);return p.set({label:e,icon:o,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}}class WF extends Ge{static get requires(){return[uw]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,o=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",a=>{const d=mt(a);return this._setUpDropdown(d,o),d})}_setUpDropdown(e,o){const a=this.editor,d=a.t,p=e.buttonView,y=a.plugins.get(uw).registry;e.once("change:isOpen",()=>{const w=new(f(YF))(function(A,N){return[D=>{if(!D.url.length)return A("The URL must not be empty.")},D=>{if(!N.hasMedia(D.url))return A("This media URL is not supported.")}]}(a.t,y),a.locale);e.panelView.children.add(w),p.on("open",()=>{w.disableCssTransitions(),w.url=o.value||"",w.urlInputView.fieldView.select(),w.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{w.isValid()&&(a.execute("mediaEmbed",w.url),a.editing.view.focus())}),e.on("change:isOpen",()=>w.resetFormStatus()),e.on("cancel",()=>{a.editing.view.focus()}),w.delegate("submit","cancel").to(e),w.urlInputView.fieldView.bind("value").to(o,"value"),w.urlInputView.bind("isEnabled").to(o,"isEnabled")}),e.bind("isEnabled").to(o),p.set({label:d("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var zD=l(4652),KF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(zD.Z,KF),zD.Z.locals;function QF(c,e){if(!c.childCount)return;const o=new Ki(c.document),a=function(y,w){const A=w.createRangeIn(y),N=new Uo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),D=[];for(const P of A)if(P.type==="elementStart"&&N.match(P.item)){const F=$F(P.item);D.push({element:P.item,id:F.id,order:F.order,indent:F.indent})}return D}(c,o);if(!a.length)return;let d=null,p=1;a.forEach((y,w)=>{const A=function(X,se){if(!X)return!0;if(X.id!==se.id)return se.indent-X.indent!=1;const de=se.element.previousSibling;if(!de)return!0;return pe=de,!(pe.is("element","ol")||pe.is("element","ul"));var pe}(a[w-1],y),N=A?null:a[w-1],D=(F=y,(P=N)?F.indent-P.indent:F.indent-1);var P,F;if(A&&(d=null,p=1),!d||D!==0){const X=function(se,de){const pe=new RegExp(`@list l${se.id}:level${se.indent}\\s*({[^}]*)`,"gi"),ke=/mso-level-number-format:([^;]{0,100});/gi,Fe=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,it=pe.exec(de);let At="decimal",Ur="ol",cr=null;if(it&&it[1]){const fs=ke.exec(it[1]);if(fs&&fs[1]&&(At=fs[1].trim(),Ur=At!=="bullet"&&At!=="image"?"ol":"ul"),At==="bullet"){const Zn=function(Sf){const Ul=function($c){if($c.getChild(0).is("$text"))return null;for(const Xc of $c.getChildren()){if(!Xc.is("element","span"))continue;const km=Xc.getChild(0);if(km)return km.is("$text")?km:km.getChild(0)}return null}(Sf);if(!Ul)return null;const Ji=Ul._data;return Ji==="o"?"circle":Ji===""?"disc":Ji===""?"square":null}(se.element);Zn&&(At=Zn)}else{const Zn=Fe.exec(it[1]);Zn&&Zn[1]&&(cr=parseInt(Zn[1]))}}return{type:Ur,startIndex:cr,style:JF(At)}}(y,e);if(d){if(y.indent>p){const se=d.getChild(d.childCount-1),de=se.getChild(se.childCount-1);d=FD(X,de,o),p+=1}else if(y.indent<p){const se=p-y.indent;d=function(de,pe){const ke=de.getAncestors({parentFirst:!0});let Fe=null,it=0;for(const At of ke)if((At.is("element","ul")||At.is("element","ol"))&&it++,it===pe){Fe=At;break}return Fe}(d,se),p=y.indent}}else d=FD(X,y.element,o);y.indent<=p&&(d.is("element",X.type)||(d=o.rename(X.type,d)))}const K=function(X,se){return function(de,pe){const ke=new Uo({name:"span",styles:{"mso-list":"Ignore"}}),Fe=pe.createRangeIn(de);for(const it of Fe)it.type==="elementStart"&&ke.match(it.item)&&pe.remove(it.item)}(X,se),se.removeStyle("text-indent",X),se.rename("li",X)}(y.element,o);o.appendChild(K,d)})}function JF(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function FD(c,e,o){const a=e.parent,d=o.createElement(c.type),p=a.getChildIndex(e)+1;return o.insertChild(p,d,a),c.style&&o.setStyle("list-style-type",c.style,d),c.startIndex&&c.startIndex>1&&o.setAttribute("start",c.startIndex,d),d}function $F(c){const e={},o=c.getStyle("mso-list");if(o){const a=o.match(/(^|\s{1,100})l(\d+)/i),d=o.match(/\s{0,100}lfo(\d+)/i),p=o.match(/\s{0,100}level(\d+)/i);a&&d&&p&&(e.id=a[2],e.order=d[1],e.indent=parseInt(p[1]))}return e}function XF(c,e){if(!c.childCount)return;const o=new Ki(c.document),a=function(p,y){const w=y.createRangeIn(p),A=new Uo({name:/v:(.+)/}),N=[];for(const D of w){if(D.type!="elementStart")continue;const P=D.item,F=P.previousSibling,K=F&&F.is("element")?F.name:null;A.match(P)&&P.getAttribute("o:gfxdata")&&K!=="v:shapetype"&&N.push(D.item.getAttribute("id"))}return N}(c,o);(function(p,y,w){const A=w.createRangeIn(y),N=new Uo({name:"img"}),D=[];for(const P of A)if(P.item.is("element")&&N.match(P.item)){const F=P.item,K=F.getAttribute("v:shapes")?F.getAttribute("v:shapes").split(" "):[];K.length&&K.every(X=>p.indexOf(X)>-1)?D.push(F):F.getAttribute("src")||D.push(F)}for(const P of D)w.remove(P)})(a,c,o),function(p,y,w){const A=w.createRangeIn(y),N=[];for(const F of A)if(F.type=="elementStart"&&F.item.is("element","v:shape")){const K=F.item.getAttribute("id");if(p.includes(K))continue;D(F.item.parent.getChildren(),K)||N.push(F.item)}for(const F of N){const K={src:P(F)};F.hasAttribute("alt")&&(K.alt=F.getAttribute("alt"));const X=w.createElement("img",K);w.insertChild(F.index+1,X,F.parent)}function D(F,K){for(const X of F)if(X.is("element")&&(X.name=="img"&&X.getAttribute("v:shapes")==K||D(X.getChildren(),K)))return!0;return!1}function P(F){for(const K of F.getChildren())if(K.is("element")&&K.getAttribute("src"))return K.getAttribute("src")}}(a,c,o),function(p,y){const w=y.createRangeIn(p),A=new Uo({name:/v:(.+)/}),N=[];for(const D of w)D.type=="elementStart"&&A.match(D.item)&&N.push(D.item);for(const D of N)y.remove(D)}(c,o);const d=function(p,y){const w=y.createRangeIn(p),A=new Uo({name:"img"}),N=[];for(const D of w)D.item.is("element")&&A.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&N.push(D.item);return N}(c,o);d.length&&function(p,y,w){if(p.length===y.length)for(let A=0;A<p.length;A++){const N=`data:${y[A].type};base64,${ZF(y[A].hex)}`;w.setAttribute("src",N,p[A])}}(d,function(p){if(!p)return[];const y=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,w=new RegExp("(?:("+y.source+"))([\\da-fA-F\\s]+)\\}","g"),A=p.match(w),N=[];if(A)for(const D of A){let P=!1;D.includes("\\pngblip")?P="image/png":D.includes("\\jpegblip")&&(P="image/jpeg"),P&&N.push({hex:D.replace(y,"").replace(/[^\da-fA-F]/g,""),type:P})}return N}(e),o)}function ZF(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const eV=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,tV=/xmlns:o="urn:schemas-microsoft-com/i;class rV{constructor(e){this.document=e}isActive(e){return eV.test(e)||tV.test(e)}execute(e){const{body:o,stylesString:a}=e._parsedData;QF(o,a),XF(o,e.dataTransfer.getData("text/rtf")),e.content=o}}function VD(c,e,o,{blockElements:a,inlineObjectElements:d}){let p=o.createPositionAt(c,e=="forward"?"after":"before");return p=p.getLastMatchingPosition(({item:y})=>y.is("element")&&!a.includes(y.name)&&!d.includes(y.name),{direction:e}),e=="forward"?p.nodeAfter:p.nodeBefore}function UD(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const nV=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class sV{constructor(e){this.document=e}isActive(e){return nV.test(e)}execute(e){const o=new Ki(this.document),{body:a}=e._parsedData;(function(d,p){for(const y of d.getChildren())if(y.is("element","b")&&y.getStyle("font-weight")==="normal"){const w=d.getChildIndex(y);p.remove(y),p.insertChild(w,y.getChildren(),d)}})(a,o),function(d,p){for(const y of p.createRangeIn(d)){const w=y.item;if(w.is("element","li")){const A=w.getChild(0);A&&A.is("element","p")&&p.unwrapElement(A)}}}(a,o),function(d,p){const y=new Tc(p.document.stylesProcessor),w=new Il(y,{renderingMode:"data"}),A=w.blockElements,N=w.inlineObjectElements,D=[];for(const P of p.createRangeIn(d)){const F=P.item;if(F.is("element","br")){const K=VD(F,"forward",p,{blockElements:A,inlineObjectElements:N}),X=VD(F,"backward",p,{blockElements:A,inlineObjectElements:N}),se=UD(K,A);(UD(X,A)||se)&&D.push(F)}}for(const P of D)P.hasClass("Apple-interchange-newline")?p.remove(P):p.replace(P,p.createElement("p"))}(a,o),e.content=a}}const oV=/<google-sheets-html-origin/i;class iV{constructor(e){this.document=e}isActive(e){return oV.test(e)}execute(e){const o=new Ki(this.document),{body:a}=e._parsedData;(function(d,p){for(const y of d.getChildren())if(y.is("element","google-sheets-html-origin")){const w=d.getChildIndex(y);p.remove(y),p.insertChild(w,y.getChildren(),d)}})(a,o),function(d,p){for(const y of d.getChildren())y.is("element","table")&&y.hasAttribute("xmlns")&&p.removeAttribute("xmlns",y)}(a,o),function(d,p){for(const y of d.getChildren())y.is("element","table")&&y.getStyle("width")==="0px"&&p.removeStyle("width",y)}(a,o),function(d,p){for(const y of Array.from(d.getChildren()))y.is("element","style")&&p.remove(y)}(a,o),e.content=a}}function GD(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,o)=>o.length===1?" ":Array(o.length+1).join(" ").substr(0,o.length))}function aV(c,e){const o=new DOMParser,a=function(A){return GD(GD(A)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(A){const N="</body>",D="</html>",P=A.indexOf(N);if(P<0)return A;const F=A.indexOf(D,P+N.length);return A.substring(0,P+N.length)+(F>=0?A.substring(F):"")}(c=c.replace(/<!--\[if gte vml 1]>/g,""))),d=o.parseFromString(a,"text/html");(function(A){A.querySelectorAll("span[style*=spacerun]").forEach(N=>{const D=N,P=D.innerText.length||0;D.innerText=Array(P+1).join(" ").substr(0,P)})})(d);const p=d.body.innerHTML,y=function(A,N){const D=new Tc(N),P=new Il(D,{renderingMode:"data"}),F=A.createDocumentFragment(),K=A.body.childNodes;for(;K.length>0;)F.appendChild(K[0]);return P.domToView(F,{skipComments:!0})}(d,e),w=function(A){const N=[],D=[],P=Array.from(A.getElementsByTagName("style"));for(const F of P)F.sheet&&F.sheet.cssRules&&F.sheet.cssRules.length&&(N.push(F.sheet),D.push(F.innerHTML));return{styles:N,stylesString:D.join(" ")}}(d);return{body:y,bodyString:p,styles:w.styles,stylesString:w.stylesString}}function Rn(c,e,o,a,d=1){e!=null&&d!=null&&e>d?a.setAttribute(c,e,o):a.removeAttribute(c,o)}function xm(c,e,o={}){const a=c.createElement("tableCell",o);return c.insertElement("paragraph",a),c.insert(a,e),a}function c_(c,e){const o=e.parent.parent,a=parseInt(o.getAttribute("headingColumns")||"0"),{column:d}=c.getCellLocation(e);return!!a&&d<a}function lV(){return c=>{c.on("element:table",(e,o,a)=>{const d=o.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:p,headingRows:y,headingColumns:w}=function(D){let P,F=0;const K=[],X=[];let se;for(const de of Array.from(D.getChildren())){if(de.name!=="tbody"&&de.name!=="thead"&&de.name!=="tfoot")continue;de.name!=="thead"||se||(se=de);const pe=Array.from(de.getChildren()).filter(ke=>ke.is("element","tr"));for(const ke of pe)if(se&&de===se||de.name==="tbody"&&Array.from(ke.getChildren()).length&&Array.from(ke.getChildren()).every(Fe=>Fe.is("element","th")))F++,K.push(ke);else{X.push(ke);const Fe=cV(ke);(!P||Fe<P)&&(P=Fe)}}return{headingRows:F,headingColumns:P||0,rows:[...K,...X]}}(d),A={};w&&(A.headingColumns=w),y&&(A.headingRows=y);const N=a.writer.createElement("table",A);if(a.safeInsert(N,o.modelCursor)){if(a.consumable.consume(d,{name:!0}),p.forEach(D=>a.convertItem(D,a.writer.createPositionAt(N,"end"))),a.convertChildren(d,a.writer.createPositionAt(N,"end")),N.isEmpty){const D=a.writer.createElement("tableRow");a.writer.insert(D,a.writer.createPositionAt(N,"end")),xm(a.writer,a.writer.createPositionAt(D,"end"))}a.updateConversionResult(N,o)}})}}function HD(c){return e=>{e.on(`element:${c}`,(o,a,{writer:d})=>{if(!a.modelRange)return;const p=a.modelRange.start.nodeAfter,y=d.createPositionAt(p,0);if(a.viewItem.isEmpty)return void d.insertElement("paragraph",y);const w=Array.from(p.getChildren());if(w.every(A=>A.is("element","$marker"))){const A=d.createElement("paragraph");d.insert(A,d.createPositionAt(p,0));for(const N of w)d.move(d.createRangeOn(N),d.createPositionAt(A,"end"))}},{priority:"low"})}}function cV(c){let e=0,o=0;const a=Array.from(c.getChildren()).filter(d=>d.name==="th"||d.name==="td");for(;o<a.length&&a[o].name==="th";){const d=a[o];e+=parseInt(d.getAttribute("colspan")||"1"),o++}return e}class Vr{constructor(e,o={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=o.row!==void 0?o.row:o.startRow||0,this._endRow=o.row!==void 0?o.row:o.endRow,this._startColumn=o.column!==void 0?o.column:o.startColumn||0,this._endColumn=o.column!==void 0?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(a.cell,a.row,a.column));else{const d=e.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const p=parseInt(d.getAttribute("colspan")||"1"),y=parseInt(d.getAttribute("rowspan")||"1");(p>1||y>1)&&this._recordSpans(d,y,p),this._shouldSkipSlot()||(o=this._formatOutValue(d)),this._nextCellAtColumn=this._column+p}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,o=this._row,a=this._column){return{done:!1,value:new dV(this,e,o,a)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),o=this._row<this._startRow,a=this._column<this._startColumn,d=this._endColumn!==void 0&&this._column>this._endColumn;return e||o||a||d}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,o,a){const d={cell:e,row:this._row,column:this._column};for(let p=this._row;p<this._row+o;p++)for(let y=this._column;y<this._column+a;y++)p==this._row&&y==this._column||this._markSpannedCell(p,y,d)}_markSpannedCell(e,o,a){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(o,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let o=this._startRow;!this._jumpedToStartRow;o--)e===this._getRowLength(o)&&(this._row=o,this._rowIndex=o,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||"1"),0)}}class dV{constructor(e,o,a,d){this.cell=o,this.row=e._row,this.column=e._column,this.cellAnchorRow=a,this.cellAnchorColumn=d,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function qD(c,e){return(o,{writer:a})=>{const d=o.getAttribute("headingRows")||0,p=a.createContainerElement("table",null,[]),y=a.createContainerElement("figure",{class:"table"},p);d>0&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("thead",null,a.createSlot(w=>w.is("element","tableRow")&&w.index<d))),d<c.getRows(o)&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("tbody",null,a.createSlot(w=>w.is("element","tableRow")&&w.index>=d)));for(const{positionOffset:w,filter:A}of e.additionalSlots)a.insert(a.createPositionAt(p,w),a.createSlot(A));return a.insert(a.createPositionAt(p,"after"),a.createSlot(w=>!w.is("element","tableRow")&&!e.additionalSlots.some(({filter:A})=>A(w)))),e.asWidget?function(w,A){return A.setCustomProperty("table",!0,w),GC(w,A,{hasSelectionHandle:!0})}(y,a):y}}function YD(c={}){return(e,{writer:o})=>{const a=e.parent,d=a.parent,p=d.getChildIndex(a),y=new Vr(d,{row:p}),w=d.getAttribute("headingRows")||0,A=d.getAttribute("headingColumns")||0;let N=null;for(const D of y)if(D.cell==e){const P=D.row<w||D.column<A?"th":"td";N=c.asWidget?lE(o.createEditableElement(P),o):o.createContainerElement(P);break}return N}}function WD(c={}){return(e,{writer:o})=>{if(!e.parent.is("element","tableCell")||!KD(e))return null;if(c.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function KD(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class uV extends Ut{refresh(){const e=this.editor.model,o=e.document.selection,a=e.schema;this.isEnabled=function(d,p){const y=d.getFirstPosition().parent,w=y===y.root?y:y.parent;return p.checkChild(w,"table")}(o,a)}execute(e={}){const o=this.editor,a=o.model,d=o.plugins.get("TableUtils"),p=o.config.get("table.defaultHeadings.rows"),y=o.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&p&&(e.headingRows=p),e.headingColumns===void 0&&y&&(e.headingColumns=y),a.change(w=>{const A=d.createTable(w,e);a.insertObject(A,null,null,{findOptimalPosition:"auto"}),w.setSelection(w.createPositionAt(A.getNodeByPath([0,0,0]),0))})}}class QD extends Ut{constructor(e,o={}){super(e),this.order=o.order||"below"}refresh(){const e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}execute(){const e=this.editor,o=e.model.document.selection,a=e.plugins.get("TableUtils"),d=this.order==="above",p=a.getSelectionAffectedTableCells(o),y=a.getRowIndexes(p),w=d?y.first:y.last,A=p[0].findAncestor("table");a.insertRows(A,{at:d?w:w+1,copyStructureFromAbove:!d})}}class JD extends Ut{constructor(e,o={}){super(e),this.order=o.order||"right"}refresh(){const e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}execute(){const e=this.editor,o=e.model.document.selection,a=e.plugins.get("TableUtils"),d=this.order==="left",p=a.getSelectionAffectedTableCells(o),y=a.getColumnIndexes(p),w=d?y.first:y.last,A=p[0].findAncestor("table");a.insertColumns(A,{columns:1,at:d?w:w+1})}}class $D extends Ut{constructor(e,o={}){super(e),this.direction=o.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(o,2):e.splitCellVertically(o,2)}}function XD(c,e,o){const{startRow:a,startColumn:d,endRow:p,endColumn:y}=e,w=o.createElement("table"),A=p-a+1;for(let D=0;D<A;D++)o.insertElement("tableRow",w,"end");const N=[...new Vr(c,{startRow:a,endRow:p,startColumn:d,endColumn:y,includeAllSlots:!0})];for(const{row:D,column:P,cell:F,isAnchor:K,cellAnchorRow:X,cellAnchorColumn:se}of N){const de=D-a,pe=w.getChild(de);if(K){const ke=o.cloneElement(F);o.append(ke,pe),n5(ke,D,P,p,y,o)}else(X<a||se<d)&&xm(o,o.createPositionAt(pe,"end"))}return function(D,P,F,K,X){const se=parseInt(P.getAttribute("headingRows")||"0");se>0&&Rn("headingRows",se-F,D,X,0);const de=parseInt(P.getAttribute("headingColumns")||"0");de>0&&Rn("headingColumns",de-K,D,X,0)}(w,c,a,d,o),w}function ZD(c,e,o=0){const a=[],d=new Vr(c,{startRow:o,endRow:e-1});for(const p of d){const{row:y,cellHeight:w}=p;y<e&&e<=y+w-1&&a.push(p)}return a}function e5(c,e,o){const a=c.parent,d=a.parent,p=a.index,y=e-p,w={},A=parseInt(c.getAttribute("rowspan"))-y;A>1&&(w.rowspan=A);const N=parseInt(c.getAttribute("colspan")||"1");N>1&&(w.colspan=N);const D=p+y,P=[...new Vr(d,{startRow:p,endRow:D,includeAllSlots:!0})];let F,K=null;for(const X of P){const{row:se,column:de,cell:pe}=X;pe===c&&F===void 0&&(F=de),F!==void 0&&F===de&&se===D&&(K=xm(o,X.getPositionBefore(),w))}return Rn("rowspan",y,c,o),K}function t5(c,e){const o=[],a=new Vr(c);for(const d of a){const{column:p,cellWidth:y}=d;p<e&&e<=p+y-1&&o.push(d)}return o}function r5(c,e,o,a){const d=o-e,p={},y=parseInt(c.getAttribute("colspan"))-d;y>1&&(p.colspan=y);const w=parseInt(c.getAttribute("rowspan")||"1");w>1&&(p.rowspan=w);const A=xm(a,a.createPositionAfter(c),p);return Rn("colspan",d,c,a),A}function n5(c,e,o,a,d,p){const y=parseInt(c.getAttribute("colspan")||"1"),w=parseInt(c.getAttribute("rowspan")||"1");o+y-1>d&&Rn("colspan",d-o+1,c,p,1),e+w-1>a&&Rn("rowspan",a-e+1,c,p,1)}function d_(c,e){const o=e.getColumns(c),a=new Array(o).fill(0);for(const{column:p}of new Vr(c))a[p]++;const d=a.reduce((p,y,w)=>y?p:[...p,w],[]);if(d.length>0){const p=d[d.length-1];return e.removeColumns(c,{at:p}),!0}return!1}function u_(c,e){const o=[],a=e.getRows(c);for(let d=0;d<a;d++)c.getChild(d).isEmpty&&o.push(d);if(o.length>0){const d=o[o.length-1];return e.removeRows(c,{at:d}),!0}return!1}function h_(c,e){d_(c,e)||u_(c,e)}function s5(c,e){const o=Array.from(new Vr(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(o.every(({cellHeight:d})=>d===1))return e.lastRow;const a=o[0].cellHeight-1;return e.lastRow+a}function o5(c,e){const o=Array.from(new Vr(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(o.every(({cellWidth:d})=>d===1))return e.lastColumn;const a=o[0].cellWidth-1;return e.lastColumn+a}class hw extends Ut{constructor(e,o){super(e),this.direction=o.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,o=e.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(o.selection)[0],d=this.value,p=this.direction;e.change(y=>{const w=p=="right"||p=="down",A=w?a:d,N=w?d:a,D=N.parent;(function(se,de,pe){i5(se)||(i5(de)&&pe.remove(pe.createRangeIn(de)),pe.move(pe.createRangeIn(se),pe.createPositionAt(de,"end"))),pe.remove(se)})(N,A,y);const P=this.isHorizontal?"colspan":"rowspan",F=parseInt(a.getAttribute(P)||"1"),K=parseInt(d.getAttribute(P)||"1");y.setAttribute(P,F+K,A),y.setSelection(y.createRangeIn(A));const X=this.editor.plugins.get("TableUtils");h_(D.findAncestor("table"),X)})}_getMergeableCell(){const e=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),a=o.getTableCellsContainingSelection(e.selection)[0];if(!a)return;const d=this.isHorizontal?function(w,A,N){const D=w.parent,P=D.parent,F=A=="right"?w.nextSibling:w.previousSibling,K=(P.getAttribute("headingColumns")||0)>0;if(!F)return;const X=A=="right"?w:F,se=A=="right"?F:w,{column:de}=N.getCellLocation(X),{column:pe}=N.getCellLocation(se),ke=parseInt(X.getAttribute("colspan")||"1"),Fe=c_(N,X),it=c_(N,se);if(!(K&&Fe!=it))return de+ke===pe?F:void 0}(a,this.direction,o):function(w,A,N){const D=w.parent,P=D.parent,F=P.getChildIndex(D);if(A=="down"&&F===N.getRows(P)-1||A=="up"&&F===0)return null;const K=parseInt(w.getAttribute("rowspan")||"1"),X=P.getAttribute("headingRows")||0,se=A=="down"&&F+K===X,de=A=="up"&&F===X;if(X&&(se||de))return null;const pe=parseInt(w.getAttribute("rowspan")||"1"),ke=A=="down"?F+pe:F,Fe=[...new Vr(P,{endRow:ke})],it=Fe.find(cr=>cr.cell===w),At=it.column,Ur=Fe.find(({row:cr,cellHeight:fs,column:Zn})=>Zn===At&&(A=="down"?cr===ke:ke===cr+fs));return Ur&&Ur.cell?Ur.cell:null}(a,this.direction,o);if(!d)return;const p=this.isHorizontal?"rowspan":"colspan",y=parseInt(a.getAttribute(p)||"1");return parseInt(d.getAttribute(p)||"1")===y?d:void 0}}function i5(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class hV extends Ut{refresh(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=o[0];if(a){const d=a.findAncestor("table"),p=e.getRows(d)-1,y=e.getRowIndexes(o),w=y.first===0&&y.last===p;this.isEnabled=!w}else this.isEnabled=!1}execute(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(e.document.selection),d=o.getRowIndexes(a),p=a[0],y=p.findAncestor("table"),w=o.getCellLocation(p).column;e.change(A=>{const N=d.last-d.first+1;o.removeRows(y,{at:d.first,rows:N});const D=function(P,F,K,X){const se=P.getChild(Math.min(F,X-1));let de=se.getChild(0),pe=0;for(const ke of se.getChildren()){if(pe>K)return de;de=ke,pe+=parseInt(ke.getAttribute("colspan")||"1")}return de}(y,d.first,w,o.getRows(y));A.setSelection(A.createPositionAt(D,0))})}}class mV extends Ut{refresh(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=o[0];if(a){const d=a.findAncestor("table"),p=e.getColumns(d),{first:y,last:w}=e.getColumnIndexes(o);this.isEnabled=w-y<p-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[o,a]=function(A,N){const D=N.getSelectionAffectedTableCells(A),P=D[0],F=D.pop(),K=[P,F];return P.isBefore(F)?K:K.reverse()}(this.editor.model.document.selection,e),d=o.parent.parent,p=[...new Vr(d)],y={first:p.find(A=>A.cell===o).column,last:p.find(A=>A.cell===a).column},w=function(A,N,D,P){return parseInt(D.getAttribute("colspan")||"1")>1?D:N.previousSibling||D.nextSibling?D.nextSibling||N.previousSibling:P.first?A.reverse().find(({column:K})=>K<P.first).cell:A.reverse().find(({column:K})=>K>P.last).cell}(p,o,a,y);this.editor.model.change(A=>{const N=y.last-y.first+1;e.removeColumns(d,{at:y.first,columns:N}),A.setSelection(A.createPositionAt(w,0))})}}class pV extends Ut{refresh(){const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=e.getSelectionAffectedTableCells(o.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>this._isInHeading(p,p.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=o.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:y,last:w}=o.getRowIndexes(d),A=this.value?y:w+1,N=p.getAttribute("headingRows")||0;a.change(D=>{if(A){const P=ZD(p,A,A>N?N:0);for(const{cell:F}of P)e5(F,A,D)}Rn("headingRows",A,p,D,0)})}_isInHeading(e,o){const a=parseInt(o.getAttribute("headingRows")||"0");return!!a&&e.parent.index<a}}class fV extends Ut{refresh(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(e.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>c_(o,p))}execute(e={}){if(e.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=o.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:y,last:w}=o.getColumnIndexes(d),A=this.value?y:w+1;a.change(N=>{if(A){const D=t5(p,A);for(const{cell:P,column:F}of D)r5(P,F,A,N)}Rn("headingColumns",A,p,N,0)})}}function gV(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(o=>o.is("element","tableColumnGroup"))}function bV(c){const e=gV(c);return e?Array.from(e.getChildren()):[]}class io extends Ge{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const o=e.parent,a=o.parent,d=a.getChildIndex(o),p=new Vr(a,{row:d});for(const{cell:y,row:w,column:A}of p)if(y===e)return{row:w,column:A}}createTable(e,o){const a=e.createElement("table"),d=o.rows||2,p=o.columns||2;return m_(e,a,0,d,p),o.headingRows&&Rn("headingRows",Math.min(o.headingRows,d),a,e,0),o.headingColumns&&Rn("headingColumns",Math.min(o.headingColumns,p),a,e,0),a}insertRows(e,o={}){const a=this.editor.model,d=o.at||0,p=o.rows||1,y=o.copyStructureFromAbove!==void 0,w=o.copyStructureFromAbove?d-1:d,A=this.getRows(e),N=this.getColumns(e);if(d>A)throw new B("tableutils-insertrows-insert-out-of-range",this,{options:o});a.change(D=>{const P=e.getAttribute("headingRows")||0;if(P>d&&Rn("headingRows",P+p,e,D,0),!y&&(d===0||d===A))return void m_(D,e,d,p,N);const F=y?Math.max(d,w):d,K=new Vr(e,{endRow:F}),X=new Array(N).fill(1);for(const{row:se,column:de,cellHeight:pe,cellWidth:ke,cell:Fe}of K){const it=se+pe-1,At=se<=w&&w<=it;se<d&&d<=it?(D.setAttribute("rowspan",pe+p,Fe),X[de]=-ke):y&&At&&(X[de]=ke)}for(let se=0;se<p;se++){const de=D.createElement("tableRow");D.insert(de,e,d);for(let pe=0;pe<X.length;pe++){const ke=X[pe],Fe=D.createPositionAt(de,"end");ke>0&&xm(D,Fe,ke>1?{colspan:ke}:void 0),pe+=Math.abs(ke)-1}}})}insertColumns(e,o={}){const a=this.editor.model,d=o.at||0,p=o.columns||1;a.change(y=>{const w=e.getAttribute("headingColumns");d<w&&y.setAttribute("headingColumns",w+p,e);const A=this.getColumns(e);if(d===0||A===d){for(const D of e.getChildren())D.is("element","tableRow")&&Nf(p,y,y.createPositionAt(D,d?"end":0));return}const N=new Vr(e,{column:d,includeAllSlots:!0});for(const D of N){const{row:P,cell:F,cellAnchorColumn:K,cellAnchorRow:X,cellWidth:se,cellHeight:de}=D;if(K<d){y.setAttribute("colspan",se+p,F);const pe=X+de-1;for(let ke=P;ke<=pe;ke++)N.skipRow(ke)}else Nf(p,y,D.getPositionBefore())}})}removeRows(e,o){const a=this.editor.model,d=o.rows||1,p=this.getRows(e),y=o.at,w=y+d-1;if(w>p-1)throw new B("tableutils-removerows-row-index-out-of-range",this,{table:e,options:o});a.change(A=>{const N={first:y,last:w},{cellsToMove:D,cellsToTrim:P}=function(F,{first:K,last:X}){const se=new Map,de=[];for(const{row:pe,column:ke,cellHeight:Fe,cell:it}of new Vr(F,{endRow:X})){const At=pe+Fe-1;if(pe>=K&&pe<=X&&At>X){const Ur=Fe-(X-pe+1);se.set(ke,{cell:it,rowspan:Ur})}if(pe<K&&At>=K){let Ur;Ur=At>=X?X-K+1:At-K+1,de.push({cell:it,rowspan:Fe-Ur})}}return{cellsToMove:se,cellsToTrim:de}}(e,N);D.size&&function(F,K,X,se){const de=new Vr(F,{includeAllSlots:!0,row:K}),pe=[...de],ke=F.getChild(K);let Fe;for(const{column:it,cell:At,isAnchor:Ur}of pe)if(X.has(it)){const{cell:cr,rowspan:fs}=X.get(it),Zn=Fe?se.createPositionAfter(Fe):se.createPositionAt(ke,0);se.move(se.createRangeOn(cr),Zn),Rn("rowspan",fs,cr,se),Fe=cr}else Ur&&(Fe=At)}(e,w+1,D,A);for(let F=w;F>=y;F--)A.remove(e.getChild(F));for(const{rowspan:F,cell:K}of P)Rn("rowspan",F,K,A);(function(F,{first:K,last:X},se){const de=F.getAttribute("headingRows")||0;K<de&&Rn("headingRows",X<de?de-(X-K+1):K,F,se,0)})(e,N,A),d_(e,this)||u_(e,this)})}removeColumns(e,o){const a=this.editor.model,d=o.at,p=o.columns||1,y=o.at+p-1;a.change(w=>{(function(N,D,P){const F=N.getAttribute("headingColumns")||0;if(F&&D.first<F){const K=Math.min(F-1,D.last)-D.first+1;P.setAttribute("headingColumns",F-K,N)}})(e,{first:d,last:y},w);const A=bV(e);for(let N=y;N>=d;N--){for(const{cell:D,column:P,cellWidth:F}of[...new Vr(e)])P<=N&&F>1&&P+F>N?Rn("colspan",F-1,D,w):P===N&&w.remove(D);if(A[N]){const D=N===0?A[1]:A[N-1],P=parseFloat(A[N].getAttribute("columnWidth")),F=parseFloat(D.getAttribute("columnWidth"));w.remove(A[N]),w.setAttribute("columnWidth",P+F+"%",D)}}u_(e,this)||d_(e,this)})}splitCellVertically(e,o=2){const a=this.editor.model,d=e.parent.parent,p=parseInt(e.getAttribute("rowspan")||"1"),y=parseInt(e.getAttribute("colspan")||"1");a.change(w=>{if(y>1){const{newCellsSpan:A,updatedSpan:N}=a5(y,o);Rn("colspan",N,e,w);const D={};A>1&&(D.colspan=A),p>1&&(D.rowspan=p),Nf(y>o?o-1:y-1,w,w.createPositionAfter(e),D)}if(y<o){const A=o-y,N=[...new Vr(d)],{column:D}=N.find(({cell:X})=>X===e),P=N.filter(({cell:X,cellWidth:se,column:de})=>X!==e&&de===D||de<D&&de+se>D);for(const{cell:X,cellWidth:se}of P)w.setAttribute("colspan",se+A,X);const F={};p>1&&(F.rowspan=p),Nf(A,w,w.createPositionAfter(e),F);const K=d.getAttribute("headingColumns")||0;K>D&&Rn("headingColumns",K+A,d,w)}})}splitCellHorizontally(e,o=2){const a=this.editor.model,d=e.parent,p=d.parent,y=p.getChildIndex(d),w=parseInt(e.getAttribute("rowspan")||"1"),A=parseInt(e.getAttribute("colspan")||"1");a.change(N=>{if(w>1){const D=[...new Vr(p,{startRow:y,endRow:y+w-1,includeAllSlots:!0})],{newCellsSpan:P,updatedSpan:F}=a5(w,o);Rn("rowspan",F,e,N);const{column:K}=D.find(({cell:se})=>se===e),X={};P>1&&(X.rowspan=P),A>1&&(X.colspan=A);for(const se of D){const{column:de,row:pe}=se;pe>=y+F&&de===K&&(pe+y+F)%P==0&&Nf(1,N,se.getPositionBefore(),X)}}if(w<o){const D=o-w,P=[...new Vr(p,{startRow:0,endRow:y})];for(const{cell:X,cellHeight:se,row:de}of P)if(X!==e&&de+se>y){const pe=se+D;N.setAttribute("rowspan",pe,X)}const F={};A>1&&(F.colspan=A),m_(N,p,y+1,D,1,F);const K=p.getAttribute("headingRows")||0;K>y&&Rn("headingRows",K+D,p,N)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((o,a)=>a.is("element","tableRow")?o+1:o,0)}createTableWalker(e,o={}){return new Vr(e,o)}getSelectedTableCells(e){const o=[];for(const a of this.sortRanges(e.getRanges())){const d=a.getContainedElement();d&&d.is("element","tableCell")&&o.push(d)}return o}getTableCellsContainingSelection(e){const o=[];for(const a of e.getRanges()){const d=a.start.findAncestor("tableCell");d&&o.push(d)}return o}getSelectionAffectedTableCells(e){const o=this.getSelectedTableCells(e);return o.length?o:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const o=e.map(a=>a.parent.index);return this._getFirstLastIndexesObject(o)}getColumnIndexes(e){const o=e[0].findAncestor("table"),a=[...new Vr(o)].filter(d=>e.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const o=new Set,a=new Set;let d=0;for(const y of e){const{row:w,column:A}=this.getCellLocation(y),N=parseInt(y.getAttribute("rowspan"))||1,D=parseInt(y.getAttribute("colspan"))||1;o.add(w),a.add(A),N>1&&o.add(w+N-1),D>1&&a.add(A+D-1),d+=N*D}return function(y,w){const A=Array.from(y.values()),N=Array.from(w.values()),D=Math.max(...A),P=Math.min(...A),F=Math.max(...N),K=Math.min(...N);return(D-P+1)*(F-K+1)}(o,a)==d}sortRanges(e){return Array.from(e).sort(yV)}_getFirstLastIndexesObject(e){const o=e.sort((a,d)=>a-d);return{first:o[0],last:o[o.length-1]}}_areCellInTheSameTableSection(e){const o=e[0].findAncestor("table"),a=this.getRowIndexes(e),d=parseInt(o.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,d))return!1;const p=this.getColumnIndexes(e),y=parseInt(o.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(p,y)}_areIndexesInSameSection({first:e,last:o},a){return e<a==o<a}}function m_(c,e,o,a,d,p={}){for(let y=0;y<a;y++){const w=c.createElement("tableRow");c.insert(w,e,o),Nf(d,c,c.createPositionAt(w,"end"),p)}}function Nf(c,e,o,a={}){for(let d=0;d<c;d++)xm(e,o,a)}function a5(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(c/e);return{newCellsSpan:o,updatedSpan:c-o*e+o}}function yV(c,e){const o=c.start,a=e.start;return o.isBefore(a)?-1:1}class xV extends Ut{refresh(){const e=this.editor.plugins.get(io),o=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(o)}execute(){const e=this.editor.model,o=this.editor.plugins.get(io);e.change(a=>{const d=o.getSelectedTableCells(e.document.selection),p=d.shift(),{mergeWidth:y,mergeHeight:w}=function(A,N,D){let P=0,F=0;for(const pe of N){const{row:ke,column:Fe}=D.getCellLocation(pe);P=c5(pe,Fe,P,"colspan"),F=c5(pe,ke,F,"rowspan")}const{row:K,column:X}=D.getCellLocation(A),se=P-X,de=F-K;return{mergeWidth:se,mergeHeight:de}}(p,d,o);Rn("colspan",y,p,a),Rn("rowspan",w,p,a);for(const A of d)vV(A,p,a);h_(p.findAncestor("table"),o),a.setSelection(p,"in")})}}function vV(c,e,o){l5(c)||(l5(e)&&o.remove(o.createRangeIn(e)),o.move(o.createRangeIn(c),o.createPositionAt(e,"end"))),o.remove(c)}function l5(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function c5(c,e,o,a){const d=parseInt(c.getAttribute(a)||"1");return Math.max(o,e+d)}class wV extends Ut{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(e.document.selection),d=o.getRowIndexes(a),p=a[0].findAncestor("table"),y=[];for(let w=d.first;w<=d.last;w++)for(const A of p.getChild(w).getChildren())y.push(e.createRangeOn(A));e.change(w=>{w.setSelection(y)})}}class kV extends Ut{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=e.getSelectionAffectedTableCells(o.document.selection),d=a[0],p=a.pop(),y=d.findAncestor("table"),w=e.getCellLocation(d),A=e.getCellLocation(p),N=Math.min(w.column,A.column),D=Math.max(w.column,A.column),P=[];for(const F of new Vr(y,{startColumn:N,endColumn:D}))P.push(o.createRangeOn(F.cell));o.change(F=>{F.setSelection(P)})}}function CV(c){c.document.registerPostFixer(e=>function(o,a){const d=a.document.differ.getChanges();let p=!1;const y=new Set;for(const w of d){let A=null;w.type=="insert"&&w.name=="table"&&(A=w.position.nodeAfter),w.type!="insert"&&w.type!="remove"||w.name!="tableRow"&&w.name!="tableCell"||(A=w.position.findAncestor("table")),jV(w)&&(A=w.range.start.findAncestor("table")),A&&!y.has(A)&&(p=_V(A,o)||p,p=AV(A,o)||p,y.add(A))}return p}(e,c))}function _V(c,e){let o=!1;const a=function(d){const p=parseInt(d.getAttribute("headingRows")||"0"),y=Array.from(d.getChildren()).reduce((A,N)=>N.is("element","tableRow")?A+1:A,0),w=[];for(const{row:A,cell:N,cellHeight:D}of new Vr(d)){if(D<2)continue;const P=A<p?p:y;if(A+D>P){const F=P-A;w.push({cell:N,rowspan:F})}}return w}(c);if(a.length){o=!0;for(const d of a)Rn("rowspan",d.rowspan,d.cell,e,1)}return o}function AV(c,e){let o=!1;const a=function(w){const A=new Array(w.childCount).fill(0);for(const{rowIndex:N}of new Vr(w,{includeAllSlots:!0}))A[N]++;return A}(c),d=[];for(const[w,A]of a.entries())!A&&c.getChild(w).is("element","tableRow")&&d.push(w);if(d.length){o=!0;for(const w of d.reverse())e.remove(c.getChild(w)),a.splice(w,1)}const p=a.filter((w,A)=>c.getChild(A).is("element","tableRow")),y=p[0];if(!p.every(w=>w===y)){const w=p.reduce((A,N)=>N>A?N:A,0);for(const[A,N]of p.entries()){const D=w-N;if(D){for(let P=0;P<D;P++)xm(e,e.createPositionAt(c.getChild(A),"end"));o=!0}}}return o}function jV(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function NV(c){c.document.registerPostFixer(e=>function(o,a){const d=a.document.differ.getChanges();let p=!1;for(const y of d)y.type=="insert"&&y.name=="table"&&(p=SV(y.position.nodeAfter,o)||p),y.type=="insert"&&y.name=="tableRow"&&(p=d5(y.position.nodeAfter,o)||p),y.type=="insert"&&y.name=="tableCell"&&(p=p_(y.position.nodeAfter,o)||p),y.type!="remove"&&y.type!="insert"||!EV(y)||(p=p_(y.position.parent,o)||p);return p}(e,c))}function SV(c,e){let o=!1;for(const a of c.getChildren())a.is("element","tableRow")&&(o=d5(a,e)||o);return o}function d5(c,e){let o=!1;for(const a of c.getChildren())o=p_(a,e)||o;return o}function p_(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const o=Array.from(c.getChildren()).filter(a=>a.is("$text"));for(const a of o)e.wrap(e.createRangeOn(a),"paragraph");return!!o.length}function EV(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function DV(c,e){if(!c.is("element","paragraph"))return!1;const o=e.toViewElement(c);return!!o&&KD(c)!==o.is("element","span")}var u5=l(3881),MV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(u5.Z,MV),u5.Z.locals;class TV extends Ge{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[io]}init(){const e=this.editor,o=e.model,a=o.schema,d=e.conversion,p=e.plugins.get(io);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(y=>{y.on("element:figure",(w,A,N)=>{if(!N.consumable.test(A.viewItem,{name:!0,classes:"table"}))return;const D=function(F){for(const K of F.getChildren())if(K.is("element","table"))return K}(A.viewItem);if(!D||!N.consumable.test(D,{name:!0}))return;N.consumable.consume(A.viewItem,{name:!0,classes:"table"});const P=gn(N.convertItem(D,A.modelCursor).modelRange.getItems());P?(N.convertChildren(A.viewItem,N.writer.createPositionAt(P,"end")),N.updateConversionResult(P,A)):N.consumable.revert(A.viewItem,{name:!0,classes:"table"})})}),d.for("upcast").add(lV()),d.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:qD(p,{asWidget:!0,additionalSlots:this._additionalSlots})}),d.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:qD(p,{additionalSlots:this._additionalSlots})}),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(y=>{y.on("element:tr",(w,A)=>{A.viewItem.isEmpty&&A.modelCursor.index==0&&w.stop()},{priority:"high"})}),d.for("downcast").elementToElement({model:"tableRow",view:(y,{writer:w})=>y.isEmpty?w.createEmptyElement("tr"):w.createContainerElement("tr")}),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(HD("td")),d.for("upcast").add(HD("th")),d.for("editingDowncast").elementToElement({model:"tableCell",view:YD({asWidget:!0})}),d.for("dataDowncast").elementToElement({model:"tableCell",view:YD()}),d.for("editingDowncast").elementToElement({model:"paragraph",view:WD({asWidget:!0}),converterPriority:"high"}),d.for("dataDowncast").elementToElement({model:"paragraph",view:WD(),converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:h5("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:h5("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new uV(e)),e.commands.add("insertTableRowAbove",new QD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new QD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new JD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new JD(e,{order:"right"})),e.commands.add("removeTableRow",new hV(e)),e.commands.add("removeTableColumn",new mV(e)),e.commands.add("splitTableCellVertically",new $D(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new $D(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new xV(e)),e.commands.add("mergeTableCellRight",new hw(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new hw(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new hw(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new hw(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new fV(e)),e.commands.add("setTableRowHeader",new pV(e)),e.commands.add("selectTableRow",new wV(e)),e.commands.add("selectTableColumn",new kV(e)),CV(o),NV(o),this.listenTo(o.document,"change:data",()=>{(function(y,w){const A=y.document.differ;for(const N of A.getChanges()){let D,P=!1;if(N.type=="attribute"){const se=N.range.start.nodeAfter;if(!se||!se.is("element","table")||N.attributeKey!="headingRows"&&N.attributeKey!="headingColumns")continue;D=se,P=N.attributeKey=="headingRows"}else N.name!="tableRow"&&N.name!="tableCell"||(D=N.position.findAncestor("table"),P=N.name=="tableRow");if(!D)continue;const F=D.getAttribute("headingRows")||0,K=D.getAttribute("headingColumns")||0,X=new Vr(D);for(const se of X){const de=se.row<F||se.column<K?"th":"td",pe=w.mapper.toViewElement(se.cell);pe&&pe.is("element")&&pe.name!=de&&w.reconvertItem(P?se.cell.parent:se.cell)}}})(o,e.editing),function(y,w){const A=y.document.differ,N=new Set;for(const D of A.getChanges()){const P=D.type=="attribute"?D.range.start.parent:D.position.parent;P.is("element","tableCell")&&N.add(P)}for(const D of N.values()){const P=Array.from(D.getChildren()).filter(F=>DV(F,w.mapper));for(const F of P)w.reconvertItem(F)}}(o,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function h5(c){return e=>{const o=parseInt(e.getAttribute(c));return Number.isNaN(o)||o<=0?null:o}}var m5=l(1613),IV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(m5.Z,IV),m5.Z.locals;class RV extends Kt{constructor(e){super(e);const o=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new zo,this.focusTracker=new ks,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d}  ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:o.to("label")}]}],on:{mousedown:o.to(a=>{a.preventDefault()}),click:o.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,d)=>{const{row:p,column:y}=d.target.dataset;this.items.get(10*(parseInt(p,10)-1)+(parseInt(y,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,d,p)=>{if(!p)return;const{row:y,column:w}=p.dataset;this.set({rows:parseInt(y),columns:parseInt(w)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:o,gridItems:a,numberOfColumns:d,uiLanguageDirection:p}){const y=()=>d;function w(D){return P=>{const F=a.find(se=>se.element===o.focusedElement),K=a.getIndex(F),X=D(K,a);a.get(X).focus(),P.stopPropagation(),P.preventDefault()}}function A(D,P){return D===P-1?0:D+1}function N(D,P){return D===0?P-1:D-1}e.set("arrowright",w((D,P)=>p==="rtl"?N(D,P.length):A(D,P.length))),e.set("arrowleft",w((D,P)=>p==="rtl"?A(D,P.length):N(D,P.length))),e.set("arrowup",w((D,P)=>{let F=D-y();return F<0&&(F=D+y()*Math.floor(P.length/y()),F>P.length-1&&(F-=y())),F})),e.set("arrowdown",w((D,P)=>{let F=D+y();return F>P.length-1&&(F=D%y()),F}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,o=this.columns;this.items.map((a,d)=>{const p=Math.floor(d/10)<e&&d%10<o;a.set("isOn",p)})}_createGridButton(e,o,a,d){const p=new hr(e);return p.set({label:d,class:"ck-insert-table-dropdown-grid-box"}),p.extendTemplate({attributes:{"data-row":o,"data-column":a}}),p}_createGridCollection(){const e=[];for(let o=0;o<100;o++){const a=Math.floor(o/10),d=o%10,p=`${a+1}  ${d+1}`;e.push(this._createGridButton(this.locale,a+1,d+1,p))}return this.createCollection(e)}}class PV extends Ge{static get pluginName(){return"TableUI"}init(){const e=this.editor,o=this.editor.t,a=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",d=>{const p=e.commands.get("insertTable"),y=mt(d);let w;return y.bind("isEnabled").to(p),y.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),y.on("change:isOpen",()=>{w||(w=new RV(d),y.panelView.children.add(w),w.delegate("execute").to(y),y.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}))}),y}),e.ui.componentFactory.add("tableColumn",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',p,d)}),e.ui.componentFactory.add("tableRow",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',p,d)}),e.ui.componentFactory.add("mergeTableCells",d=>{const p=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',p,d)})}_prepareDropdown(e,o,a,d){const p=this.editor,y=mt(d),w=this._fillDropdownWithListOptions(y,a);return y.buttonView.set({label:e,icon:o,tooltip:!0}),y.bind("isEnabled").toMany(w,"isEnabled",(...A)=>A.some(N=>N)),this.listenTo(y,"execute",A=>{p.execute(A.source.commandName),A.source instanceof bi||p.editing.view.focus()}),y}_prepareMergeSplitButtonDropdown(e,o,a,d){const p=this.editor,y=mt(d,we),w="mergeTableCells",A=p.commands.get(w),N=this._fillDropdownWithListOptions(y,a);return y.buttonView.set({label:e,icon:o,tooltip:!0,isEnabled:!0}),y.bind("isEnabled").toMany([A,...N],"isEnabled",(...D)=>D.some(P=>P)),this.listenTo(y.buttonView,"execute",()=>{p.execute(w),p.editing.view.focus()}),this.listenTo(y,"execute",D=>{p.execute(D.source.commandName),p.editing.view.focus()}),y}_fillDropdownWithListOptions(e,o){const a=this.editor,d=[],p=new Fs;for(const y of o)OV(y,a,d,p);return mr(e,p),d}}function OV(c,e,o,a){if(c.type==="button"||c.type==="switchbutton"){const d=c.model=new NS(c.model),{commandName:p,bindIsOn:y}=c.model,w=e.commands.get(p);o.push(w),d.set({commandName:p}),d.bind("isEnabled").to(w),y&&d.bind("isOn").to(w,"value"),d.set({withText:!0})}a.add(c)}var p5=l(6945),BV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(p5.Z,BV),p5.Z.locals;class vm extends Ge{static get pluginName(){return"TableSelection"}static get requires(){return[io,io]}init(){const e=this.editor,o=e.model,a=e.editing.view;this.listenTo(o,"deleteContent",(d,p)=>this._handleDeleteContent(d,p),{priority:"high"}),this.listenTo(a.document,"insertText",(d,p)=>this._handleInsertTextEvent(d,p),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(io),o=this.editor.model.document.selection,a=e.getSelectedTableCells(o);return a.length==0?null:a}getSelectionAsFragment(){const e=this.editor.plugins.get(io),o=this.getSelectedTableCells();return o?this.editor.model.change(a=>{const d=a.createDocumentFragment(),{first:p,last:y}=e.getColumnIndexes(o),{first:w,last:A}=e.getRowIndexes(o),N=o[0].findAncestor("table");let D=A,P=y;if(e.isSelectionRectangular(o)){const K={firstColumn:p,lastColumn:y,firstRow:w,lastRow:A};D=s5(N,K),P=o5(N,K)}const F=XD(N,{startRow:w,startColumn:p,endRow:D,endColumn:P},a);return a.insert(F,d,0),d}):null}setCellSelection(e,o){const a=this._getCellsToSelect(e,o);this.editor.model.change(d=>{d.setSelection(a.cells.map(p=>d.createRangeOn(p)),{backward:a.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=gn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,o=new Set;e.conversion.for("editingDowncast").add(a=>a.on("selection",(d,p,y)=>{const w=y.writer;(function(D){for(const P of o)D.removeClass("ck-editor__editable_selected",P);o.clear()})(w);const A=this.getSelectedTableCells();if(!A)return;for(const D of A){const P=y.mapper.toViewElement(D);w.addClass("ck-editor__editable_selected",P),o.add(P)}const N=y.mapper.toViewElement(A[A.length-1]);w.setSelection(N,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;e.model.change(a=>{const d=a.createPositionAt(o[0],0),p=e.model.schema.getNearestSelectionRange(d);a.setSelection(p)})}})}_handleDeleteContent(e,o){const a=this.editor.plugins.get(io),d=o[0],p=o[1],y=this.editor.model,w=!p||p.direction=="backward",A=a.getSelectedTableCells(d);A.length&&(e.stop(),y.change(N=>{const D=A[w?A.length-1:0];y.change(F=>{for(const K of A)y.deleteContent(F.createSelection(K,"in"))});const P=y.schema.getNearestSelectionRange(N.createPositionAt(D,0));d.is("documentSelection")?N.setSelection(P):d.setTo(P)}))}_handleInsertTextEvent(e,o){const a=this.editor,d=this.getSelectedTableCells();if(!d)return;const p=a.editing.view,y=a.editing.mapper,w=d.map(A=>p.createRangeOn(y.toViewElement(A)));o.selection=p.createSelection(w)}_getCellsToSelect(e,o){const a=this.editor.plugins.get("TableUtils"),d=a.getCellLocation(e),p=a.getCellLocation(o),y=Math.min(d.row,p.row),w=Math.max(d.row,p.row),A=Math.min(d.column,p.column),N=Math.max(d.column,p.column),D=new Array(w-y+1).fill(null).map(()=>[]),P={startRow:y,endRow:w,startColumn:A,endColumn:N};for(const{row:X,cell:se}of new Vr(e.findAncestor("table"),P))D[X-y].push(se);const F=p.row<d.row,K=p.column<d.column;return F&&D.reverse(),K&&D.forEach(X=>X.reverse()),{cells:D.flat(),backward:F||K}}}class LV extends Ge{static get pluginName(){return"TableClipboard"}static get requires(){return[vm,io]}init(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"copy",(a,d)=>this._onCopyCut(a,d)),this.listenTo(o,"cut",(a,d)=>this._onCopyCut(a,d)),this.listenTo(e.model,"insertContent",(a,[d,p])=>this._onInsertContent(a,d,p),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,o){const a=this.editor.plugins.get(vm);if(!a.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;o.preventDefault(),e.stop();const d=this.editor.data,p=this.editor.editing.view.document,y=d.toView(a.getSelectionAsFragment());p.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:y,method:e.name})}_onInsertContent(e,o,a){if(a&&!a.is("documentSelection"))return;const d=this.editor.model,p=this.editor.plugins.get(io);let y=this.getTableIfOnlyTableInContent(o,d);if(!y)return;const w=p.getSelectionAffectedTableCells(d.document.selection);w.length?(e.stop(),d.change(A=>{const N={width:p.getColumns(y),height:p.getRows(y)},D=function(de,pe,ke,Fe){const it=de[0].findAncestor("table"),At=Fe.getColumnIndexes(de),Ur=Fe.getRowIndexes(de),cr={firstColumn:At.first,lastColumn:At.last,firstRow:Ur.first,lastRow:Ur.last},fs=de.length===1;return fs&&(cr.lastRow+=pe.height-1,cr.lastColumn+=pe.width-1,function(Zn,Sf,Ul,Ji){const $c=Ji.getColumns(Zn),Xc=Ji.getRows(Zn);Ul>$c&&Ji.insertColumns(Zn,{at:$c,columns:Ul-$c}),Sf>Xc&&Ji.insertRows(Zn,{at:Xc,rows:Sf-Xc})}(it,cr.lastRow+1,cr.lastColumn+1,Fe)),fs||!Fe.isSelectionRectangular(de)?function(Zn,Sf,Ul){const{firstRow:Ji,lastRow:$c,firstColumn:Xc,lastColumn:km}=Sf,T5={first:Ji,last:$c},I5={first:Xc,last:km};g_(Zn,Xc,T5,Ul),g_(Zn,km+1,T5,Ul),f_(Zn,Ji,I5,Ul),f_(Zn,$c+1,I5,Ul,Ji)}(it,cr,ke):(cr.lastRow=s5(it,cr),cr.lastColumn=o5(it,cr)),cr}(w,N,A,p),P=D.lastRow-D.firstRow+1,F=D.lastColumn-D.firstColumn+1,K={startRow:0,startColumn:0,endRow:Math.min(P,N.height)-1,endColumn:Math.min(F,N.width)-1};y=XD(y,K,A);const X=w[0].findAncestor("table"),se=this._replaceSelectedCellsWithPasted(y,N,X,D,A);if(this.editor.plugins.get("TableSelection").isEnabled){const de=p.sortRanges(se.map(pe=>A.createRangeOn(pe)));A.setSelection(de)}else A.setSelection(se[0],0)})):h_(y,p)}_replaceSelectedCellsWithPasted(e,o,a,d,p){const{width:y,height:w}=o,A=function(de,pe,ke){const Fe=new Array(ke).fill(null).map(()=>new Array(pe).fill(null));for(const{column:it,row:At,cell:Ur}of new Vr(de))Fe[At][it]=Ur;return Fe}(e,y,w),N=[...new Vr(a,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],D=[];let P;for(const de of N){const{row:pe,column:ke}=de;ke===d.firstColumn&&(P=de.getPositionBefore());const Fe=pe-d.firstRow,it=ke-d.firstColumn,At=A[Fe%w][it%y],Ur=At?p.cloneElement(At):null,cr=this._replaceTableSlotCell(de,Ur,P,p);cr&&(n5(cr,pe,ke,d.lastRow,d.lastColumn,p),D.push(cr),P=p.createPositionAfter(cr))}const F=parseInt(a.getAttribute("headingRows")||"0"),K=parseInt(a.getAttribute("headingColumns")||"0"),X=d.firstRow<F&&F<=d.lastRow,se=d.firstColumn<K&&K<=d.lastColumn;if(X){const de=f_(a,F,{first:d.firstColumn,last:d.lastColumn},p,d.firstRow);D.push(...de)}if(se){const de=g_(a,K,{first:d.firstRow,last:d.lastRow},p);D.push(...de)}return D}_replaceTableSlotCell(e,o,a,d){const{cell:p,isAnchor:y}=e;return y&&d.remove(p),o?(d.insert(o,a),o):null}getTableIfOnlyTableInContent(e,o){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const a=o.createRangeIn(e);for(const d of a.getItems())if(d.is("element","table")){const p=o.createRange(a.start,o.createPositionBefore(d));if(o.hasContent(p,{ignoreWhitespaces:!0}))return null;const y=o.createRange(o.createPositionAfter(d),a.end);return o.hasContent(y,{ignoreWhitespaces:!0})?null:d}return null}}function f_(c,e,o,a,d=0){if(!(e<1))return ZD(c,e,d).filter(({column:p,cellWidth:y})=>f5(p,y,o)).map(({cell:p})=>e5(p,e,a))}function g_(c,e,o,a){if(!(e<1))return t5(c,e).filter(({row:d,cellHeight:p})=>f5(d,p,o)).map(({cell:d,column:p})=>r5(d,p,e,a))}function f5(c,e,o){const a=c+e-1,{first:d,last:p}=o;return c>=d&&c<=p||c<d&&a>=d}class zV extends Ge{static get pluginName(){return"TableKeyboard"}static get requires(){return[vm,io]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(e,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(e,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]})}_handleTabOnSelectedTable(e,o){const a=this.editor,d=a.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(o.preventDefault(),o.stopPropagation(),e.stop(),a.model.change(p=>{p.setSelection(p.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(e,o){const a=this.editor,d=this.editor.plugins.get(io),p=this.editor.plugins.get("TableSelection"),y=a.model.document.selection,w=!o.shiftKey;let A=d.getTableCellsContainingSelection(y)[0];if(A||(A=p.getFocusCell()),!A)return;o.preventDefault(),o.stopPropagation(),e.stop();const N=A.parent,D=N.parent,P=D.getChildIndex(N),F=N.getChildIndex(A),K=F===0;if(!w&&K&&P===0)return void a.model.change(pe=>{pe.setSelection(pe.createRangeOn(D))});const X=F===N.childCount-1,se=P===d.getRows(D)-1;if(w&&se&&X&&(a.execute("insertTableRowBelow"),P===d.getRows(D)-1))return void a.model.change(pe=>{pe.setSelection(pe.createRangeOn(D))});let de;if(w&&X)de=D.getChild(P+1).getChild(0);else if(!w&&K){const pe=D.getChild(P-1);de=pe.getChild(pe.childCount-1)}else de=N.getChild(F+(w?1:-1));a.model.change(pe=>{pe.setSelection(pe.createRangeIn(de))})}_onArrowKey(e,o){const a=this.editor,d=Lo(o.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(d,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),e.stop())}_handleArrowKeys(e,o){const a=this.editor.plugins.get(io),d=this.editor.plugins.get("TableSelection"),p=this.editor.model,y=p.document.selection,w=["right","down"].includes(e),A=a.getSelectedTableCells(y);if(A.length){let D;return D=o?d.getFocusCell():w?A[A.length-1]:A[0],this._navigateFromCellInDirection(D,e,o),!0}const N=y.focus.findAncestor("tableCell");if(!N)return!1;if(!y.isCollapsed)if(o){if(y.isBackward==w&&!y.containsEntireContent(N))return!1}else{const D=y.getSelectedElement();if(!D||!p.schema.isObject(D))return!1}return!!this._isSelectionAtCellEdge(y,N,w)&&(this._navigateFromCellInDirection(N,e,o),!0)}_isSelectionAtCellEdge(e,o,a){const d=this.editor.model,p=this.editor.model.schema,y=a?e.getLastPosition():e.getFirstPosition();if(!p.getLimitElement(y).is("element","tableCell"))return d.createPositionAt(o,a?"end":0).isTouching(y);const w=d.createSelection(y);return d.modifySelection(w,{direction:a?"forward":"backward"}),y.isEqual(w.focus)}_navigateFromCellInDirection(e,o,a=!1){const d=this.editor.model,p=e.findAncestor("table"),y=[...new Vr(p,{includeAllSlots:!0})],{row:w,column:A}=y[y.length-1],N=y.find(({cell:se})=>se==e);let{row:D,column:P}=N;switch(o){case"left":P--;break;case"up":D--;break;case"right":P+=N.cellWidth;break;case"down":D+=N.cellHeight}if(D<0||D>w||P<0&&D<=0||P>A&&D>=w)return void d.change(se=>{se.setSelection(se.createRangeOn(p))});P<0?(P=a?0:A,D--):P>A&&(P=a?A:0,D++);const F=y.find(se=>se.row==D&&se.column==P).cell,K=["right","down"].includes(o),X=this.editor.plugins.get("TableSelection");if(a&&X.isEnabled){const se=X.getAnchorCell()||e;X.setCellSelection(se,F)}else{const se=d.createPositionAt(F,K?0:"end");d.change(de=>{de.setSelection(se)})}}}class FV extends Ea{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class VV extends Ge{static get pluginName(){return"TableMouse"}static get requires(){return[vm,io]}init(){this.editor.editing.view.addObserver(FV),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,o=e.plugins.get(io);let a=!1;const d=e.plugins.get(vm);this.listenTo(e.editing.view.document,"mousedown",(p,y)=>{const w=e.model.document.selection;if(!this.isEnabled||!d.isEnabled||!y.domEvent.shiftKey)return;const A=d.getAnchorCell()||o.getTableCellsContainingSelection(w)[0];if(!A)return;const N=this._getModelTableCellFromDomEvent(y);N&&g5(A,N)&&(a=!0,d.setCellSelection(A,N),y.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(e.editing.view.document,"selectionChange",p=>{a&&p.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let o,a,d=!1,p=!1;const y=e.plugins.get(vm);this.listenTo(e.editing.view.document,"mousedown",(w,A)=>{this.isEnabled&&y.isEnabled&&(A.domEvent.shiftKey||A.domEvent.ctrlKey||A.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(A)))}),this.listenTo(e.editing.view.document,"mousemove",(w,A)=>{if(!A.domEvent.buttons||!o)return;const N=this._getModelTableCellFromDomEvent(A);N&&g5(o,N)&&(a=N,d||a==o||(d=!0)),d&&(p=!0,y.setCellSelection(o,a),A.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{d=!1,p=!1,o=null,a=null}),this.listenTo(e.editing.view.document,"selectionChange",w=>{p&&w.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const o=e.target,a=this.editor.editing.view.createPositionAt(o,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function g5(c,e){return c.parent.parent==e.parent.parent}var b5=l(6306),UV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(b5.Z,UV),b5.Z.locals;function GV(c){const e=c.getSelectedElement();return e&&y5(e)?e:null}function HV(c){const e=c.getFirstPosition();if(!e)return null;let o=e.parent;for(;o;){if(o.is("element")&&y5(o))return o;o=o.parent}return null}function y5(c){return!!c.getCustomProperty("table")&&vn(c)}var x5=l(7368),qV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(x5.Z,qV),x5.Z.locals;var v5=l(9247),YV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(v5.Z,YV),v5.Z.locals;var w5=l(4070),WV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(w5.Z,WV),w5.Z.locals;var k5=l(6237),KV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(k5.Z,KV),k5.Z.locals;var C5=l(5087),QV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(C5.Z,QV),C5.Z.locals;const wm=Wo.defaultPositions;wm.northArrowSouth,wm.northArrowSouthWest,wm.northArrowSouthEast,wm.southArrowNorth,wm.southArrowNorthWest,wm.southArrowNorthEast,wm.viewportStickyNorth;var _5=l(7341),JV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(_5.Z,JV),_5.Z.locals;var A5=l(2128),$V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(A5.Z,$V),A5.Z.locals;var j5=l(4101),XV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(j5.Z,XV),j5.Z.locals;var ZV=Object.defineProperty,N5=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,S5=(c,e,o)=>e in c?ZV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,E5=(c,e)=>{for(var o in e||(e={}))eU.call(e,o)&&S5(c,o,e[o]);if(N5)for(var o of N5(e))tU.call(e,o)&&S5(c,o,e[o]);return c};const rU={autoRefresh:!0},D5=36e5;class b_ extends tt(){constructor(e,o={}){if(super(),!e)throw new B("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh=typeof e=="function"?e:()=>{return a=e,new Promise((d,p)=>{const y=new XMLHttpRequest;y.open("GET",a),y.addEventListener("load",()=>{const w=y.status,A=y.response;return w<200||w>299?p(new B("token-cannot-download-new-token",null)):d(A)}),y.addEventListener("error",()=>p(new Error("Network Error"))),y.addEventListener("abort",()=>p(new Error("Abort"))),y.send()});var a},this._options=E5(E5({},rU),o)}init(){return new Promise((e,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(o)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const o=typeof e=="string",a=!/^".*"$/.test(e),d=o&&e.split(".").length===3;if(!a||!d)throw new B("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:o}=JSON.parse(atob(e));return o?Math.floor((1e3*o-Date.now())/2):D5}catch{return D5}}static create(e,o={}){return new b_(e,o).init()}}const y_=/^data:(\S*?);base64,/;class nU extends oe(){constructor(e,o,a){if(super(),!e)throw new B("fileuploader-missing-file",null);if(!o)throw new B("fileuploader-missing-token",null);if(!a)throw new B("fileuploader-missing-api-address",null);this.file=function(d){if(typeof d!="string")return!1;const p=d.match(y_);return!(!p||!p.length)}(e)?function(d,p=512){try{const y=d.match(y_)[1],w=atob(d.replace(y_,"")),A=[];for(let N=0;N<w.length;N+=p){const D=w.slice(N,N+p),P=new Array(D.length);for(let F=0;F<D.length;F++)P[F]=D.charCodeAt(F);A.push(new Uint8Array(P))}return new Blob(A,{type:y})}catch{throw new B("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=o,this._apiAddress=a}onProgress(e){return this.on("progress",(o,a)=>e(a)),this}onError(e){return this.once("error",(o,a)=>e(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,o=a=>()=>this.fire("error",a);e.addEventListener("error",o("Network Error")),e.addEventListener("abort",o("Abort")),e.upload&&e.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),e.addEventListener("load",()=>{const a=e.status,d=e.response;if(a<200||a>299)return this.fire("error",d.message||d.error)})}_sendRequest(){const e=new FormData,o=this.xhr;return e.append("file",this.file),new Promise((a,d)=>{o.addEventListener("load",()=>{const p=o.status,y=o.response;return p<200||p>299?y.message?d(new B("fileuploader-uploading-data-failed",this,{message:y.message})):d(y.error):a(y)}),o.addEventListener("error",()=>d(new Error("Network Error"))),o.addEventListener("abort",()=>d(new Error("Abort"))),o.send(e)})}}class sU{constructor(e,o){if(!e)throw new B("uploadgateway-missing-token",null);if(!o)throw new B("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=o}upload(e){return new nU(e,this._token,this._apiAddress)}}class oU extends Jd{static get pluginName(){return"CloudServicesCore"}createToken(e,o){return new b_(e,o)}createUploadGateway(e,o){return new sU(e,o)}}var M5=(c,e,o)=>new Promise((a,d)=>{var p=A=>{try{w(o.next(A))}catch(N){d(N)}},y=A=>{try{w(o.throw(A))}catch(N){d(N)}},w=A=>A.done?a(A.value):Promise.resolve(A.value).then(p,y);w((o=o.apply(c,e)).next())});class x_ extends Z0{}x_.builtinPlugins=[class extends Ge{static get requires(){return[CE,nw,t7,I8,C8,DE]}static get pluginName(){return"Essentials"}},class extends Ge{static get requires(){return[qa]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(qa).createUploadAdapter=e=>new f7(e,c,this.editor.t))}},class extends Ge{static get requires(){return[Qc]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&Au(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&Au(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&Au(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&Au(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=iw(this.editor,"bold");Cf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Cf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=iw(this.editor,"italic");Cf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Cf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=iw(this.editor,"code");Cf(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=iw(this.editor,"strikethrough");Cf(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const o=e[7],a=new RegExp(`^(#{${o}})\\s$`);Au(this.editor,this,a,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Au(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&Au(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Au(this.editor,this,/^---$/,"horizontalLine")}},class extends Ge{static get requires(){return[g7,b7]}static get pluginName(){return"Bold"}},class extends Ge{static get requires(){return[x7,v7]}static get pluginName(){return"Italic"}},class extends Ge{static get requires(){return[k7,_7]}static get pluginName(){return"BlockQuote"}},class extends Ge{static get pluginName(){return"CKBox"}static get requires(){return[YC,A7]}},class extends Ge{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",O7,R7]}},class extends Jd{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[oU]}init(){return M5(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[o,a]of Object.entries(c))this[o]=a;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return M5(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),o=yield e.createToken(c).init();return this._tokens.set(c,o),o})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new B("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends Ge{static get pluginName(){return"EasyImage"}static get requires(){return[B7,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||Y("easy-image-image-feature-missing",c)}},class extends Ge{static get requires(){return[U7,H7]}static get pluginName(){return"Heading"}},class extends Ge{static get requires(){return[az,cz]}static get pluginName(){return"Image"}},class extends Ge{static get requires(){return[uz,hz]}static get pluginName(){return"ImageCaption"}},class extends Ge{static get requires(){return[z4,Bz]}static get pluginName(){return"ImageStyle"}},class extends Ge{static get requires(){return[ow,Ya]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,o=c.plugins.get(ow),a=c.plugins.get("ImageUtils");var d;o.register("image",{ariaLabel:e("Image toolbar"),items:(d=c.config.get("image.toolbar")||[],d.map(p=>Ye(p)?p.name:p)),getRelatedElement:p=>a.getClosestSelectedImageWidget(p)})}},class extends Ge{static get pluginName(){return"ImageUpload"}static get requires(){return[jz,fz,xz]}},class extends Ge{static get pluginName(){return"Indent"}static get requires(){return[Lz,zz]}},class extends Ge{static get requires(){return[dF,fF,bF]}static get pluginName(){return"Link"}},class extends Ge{static get requires(){return[LF,AF]}static get pluginName(){return"List"}},class extends Ge{static get requires(){return[uw,WF,HF,uy]}static get pluginName(){return"MediaEmbed"}},WC,class extends Ge{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Fl]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),o=c.editing.view.document,a=[];a.push(new rV(o)),a.push(new sV(o)),a.push(new iV(o)),e.on("inputTransformation",(d,p)=>{if(p._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const y=p.dataTransfer.getData("text/html"),w=a.find(A=>A.isActive(y));w&&(p._parsedData||(p._parsedData=aV(y,o.stylesProcessor)),w.execute(p),p._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Ge{static get requires(){return[QC,Ya]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,o=c.plugins.get("ImageUtils");e.for("upcast").add(function(a){const d=["srcset","media","type","sizes"],p=(y,w,A)=>{const N=w.viewItem;if(!A.consumable.test(N,{name:!0}))return;const D=new Map;for(const K of N.getChildren())if(K.is("element","source")){const X={};for(const se of d)K.hasAttribute(se)&&A.consumable.test(K,{attributes:se})&&(X[se]=K.getAttribute(se));Object.keys(X).length&&D.set(K,X)}const P=a.findViewImgElement(N);if(!P)return;let F=w.modelCursor.parent;if(!F.is("element","imageBlock")){const K=A.convertItem(P,w.modelCursor);w.modelRange=K.modelRange,w.modelCursor=K.modelCursor,F=gn(K.modelRange.getItems())}A.consumable.consume(N,{name:!0});for(const[K,X]of D)A.consumable.consume(K,{attributes:Object.keys(X)});D.size&&A.writer.setAttribute("sources",Array.from(D.values()),F),A.convertChildren(N,F)};return y=>{y.on("element:picture",p)}}(o)),e.for("downcast").add(function(a){const d=(p,y,w)=>{if(!w.consumable.consume(y.item,p.name))return;const A=w.writer,N=w.mapper.toViewElement(y.item),D=a.findViewImgElement(N),P=y.attributeNewValue;if(P&&P.length){const F=A.createContainerElement("picture",null,P.map(se=>A.createEmptyElement("source",se))),K=[];let X=D.parent;for(;X&&X.is("attributeElement");){const se=X.parent;A.unwrap(A.createRangeOn(D),X),K.unshift(X),X=se}A.insert(A.createPositionBefore(D),F),A.move(A.createRangeOn(D),A.createPositionAt(F,"end"));for(const se of K)A.wrap(A.createRangeOn(F),se)}else if(D.parent.is("element","picture")){const F=D.parent;A.move(A.createRangeOn(D),A.createPositionBefore(F)),A.remove(F)}};return p=>{p.on("attribute:sources:imageBlock",d),p.on("attribute:sources:imageInline",d)}}(o))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(o,{imageElement:a,data:d})=>{const p=d.sources;p&&c.model.change(y=>{y.setAttributes({sources:p},a)})})}},class extends Ge{static get requires(){return[TV,PV,vm,VV,zV,LV,uy]}static get pluginName(){return"Table"}},class extends Ge{static get requires(){return[ow]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,o=c.plugins.get(ow),a=c.config.get("table.contentToolbar"),d=c.config.get("table.tableToolbar");a&&o.register("tableContent",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:HV}),d&&o.register("table",{ariaLabel:e("Table toolbar"),items:d,getRelatedElement:GV})}},class extends Ge{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:j8}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,o=c.plugins.get("Delete"),a=function(p){const y=p.extra||[],w=p.remove||[],A=N=>!w.includes(N);return function(N){const D=new Set;for(const P of N)if(typeof P=="string"&&eE[P])for(const F of eE[P])D.add(F);else D.add(P);return Array.from(D)}(p.include.concat(y).filter(A)).filter(A).map(N=>typeof N=="string"&&ZS[N]?ZS[N]:N).filter(N=>typeof N=="object").map(N=>({from:N8(N.from),to:S8(N.to)}))}(c.config.get("typing.transformations")),d=new JS(c.model,p=>{for(const y of a)if(y.from.test(p))return{normalizedTransformation:y}});d.on("matched:data",(p,y)=>{if(!y.batch.isTyping)return;const{from:w,to:A}=y.normalizedTransformation,N=w.exec(y.text),D=A(N.slice(1)),P=y.range;let F=N.index;e.enqueueChange(K=>{for(let X=1;X<N.length;X++){const se=N[X],de=D[X-1];if(de==null){F+=se.length;continue}const pe=P.start.getShiftedBy(F),ke=e.createRange(pe,pe.getShiftedBy(se.length)),Fe=E8(pe);e.insertContent(K.createText(de,Fe),ke),F+=de.length}e.enqueueChange(()=>{o.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}}],x_.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())}(My,My.exports)),My.exports}var zle=Lle();const Fle=Yk(zle),Vle=nn(Zu(r=>({pages:[{path:"terms-conditions",title:"Terms & Conditions"},{path:"privacy-policy",title:"Privacy Policy"},{path:"cancellation-refund-policy",title:"Cancellation & Refund Policy"},{path:"shipping-policy",title:"Shipping Policy"},{path:"about-us",title:"About Us"},{path:"contact-us",title:"Contact Us"},{path:"faq",title:"FAQ"},{path:"careers",title:"Careers"}],content:null,loading:!1,error:null,savingPage:!1,setLoading:t=>r({loading:t}),setError:t=>r({error:t}),setSavingPage:t=>r({savingPage:t}),setContent:t=>r({content:t}),clearContent:()=>r({content:null,loading:!1,error:null}),clearError:()=>r({error:null}),fetchPageContent:async t=>{var s,i;if(t){r({loading:!0,error:null});try{const l=await Ze.get(`/admin/page-content/${t}/`);if(l.status===200)return r({content:l.data.content||"",loading:!1}),l.data.content}catch(l){throw console.error("Error fetching page content:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch page content",loading:!1}),l}}},updatePageContent:async(t,s)=>{var i,l;if(t){r({savingPage:!0,error:null});try{if((await Ze.put(`/admin/page-content/update/${t}/`,{content:s})).status===200)return r({content:s,savingPage:!1}),!0}catch(u){throw console.error("Error updating page content:",u),r({error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update page content",savingPage:!1}),u}}},addCustomPage:async(t,s)=>{const i=s.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");r(l=>{if(l.pages.some(m=>m.path===i))throw new Error("A page with this path already exists");return{pages:[...l.pages,{path:i,title:t,isCustom:!0}]}});try{return await Ze.put(`/admin/page-content/update/${i}/`,{content:""}),i}catch(l){throw console.error("Error creating custom page:",l),r(u=>{var m,f;return{pages:u.pages.filter(b=>b.path!==i),error:((f=(m=l.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to create custom page"}}),l}},deleteCustomPage:async t=>{var s,i;r(l=>{const u=l.pages.find(m=>m.path===t);if(!u||!u.isCustom)throw new Error("Only custom pages can be deleted");return l});try{return await Ze.delete(`/admin/page-content/${t}/`),r(l=>({pages:l.pages.filter(u=>u.path!==t)})),!0}catch(l){throw console.error("Error deleting custom page:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to delete custom page"}),l}}}))),Ule=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(!1),[l,u]=O.useState(!1),[m,f]=O.useState({title:"",path:""}),b=O.useRef(null),{pages:v,content:k,loading:C,savingPage:_,fetchPageContent:S,updatePageContent:M,addCustomPage:R,deleteCustomPage:I,setContent:z,clearContent:V,error:U}=Vle();O.useEffect(()=>(r&&S(r.path).catch(()=>{Se.error("Failed to load page content")}),()=>{V()}),[r]),O.useEffect(()=>{U&&Se.error(U)},[U]);const q=Y=>{t(Y),i(!1)},$=async()=>{if(r)try{await M(r.path,k),Se.success(`${r.title} content updated successfully`)}catch{Se.error("Failed to update page content")}},ne=()=>{i(!s)},Q=async Y=>{if(Y.preventDefault(),!m.title||!m.path){Se.error("Title and URL path are required");return}try{const J=await R(m.title,m.path);f({title:"",path:""}),u(!1),Se.success("Custom page created successfully");const W=v.find(ee=>ee.path===J);W&&q(W)}catch(J){Se.error(J.message||"Failed to create custom page")}},B=async(Y,J)=>{if(J.stopPropagation(),!Y.isCustom){Se.error("Only custom pages can be deleted");return}if(confirm(`Are you sure you want to delete the page "${Y.title}"? This cannot be undone.`))try{await I(Y.path),Se.success("Page deleted successfully"),(r==null?void 0:r.path)===Y.path&&t(null)}catch(W){Se.error(W.message||"Failed to delete page")}};return O.useEffect(()=>{if(r&&!s){const Y=setTimeout(()=>{k||z("")},100);return()=>clearTimeout(Y)}},[r,s,k,z]),n.jsxs("div",{className:"page-manager",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"w-full md:w-1/4",children:[" ",n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsx("h3",{className:"font-medium text-lg",children:"Website Pages"})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"System Pages"}),n.jsx("ul",{className:"space-y-2",children:v.filter(Y=>!Y.isCustom).map(Y=>n.jsx("li",{children:n.jsx("button",{className:`w-full text-left px-4 py-2 rounded-md transition ${(r==null?void 0:r.path)===Y.path?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>q(Y),children:Y.title})},Y.path))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Custom Pages"}),v.filter(Y=>Y.isCustom).length>0?n.jsx("ul",{className:"space-y-2",children:v.filter(Y=>Y.isCustom).map(Y=>n.jsx("li",{className:"relative group",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{className:`w-full text-left px-4 py-2 rounded-md transition ${(r==null?void 0:r.path)===Y.path?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>q(Y),children:Y.title}),n.jsx("button",{onClick:J=>B(Y,J),className:"text-red-500 hover:text-red-700 ml-2",children:n.jsx(un,{})})]})},Y.path))}):n.jsx("p",{className:"text-sm text-gray-500 italic px-4 py-2",children:"No custom pages created"})," "]})]})]}),n.jsx("div",{className:"w-full md:w-3/4",children:r?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[" ",n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h3",{className:"font-medium text-xl",children:[s?"Previewing: ":"Editing: ",r.title]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(st,{onClick:ne,type:"secondary",children:s?"Back to Edit":"Preview"}),n.jsx(st,{onClick:$,disabled:C||_||s,type:"primary",children:_?"Saving...":"Save Changes"})]})]}),C?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?n.jsx("div",{className:"preview-mode border rounded-md p-4 prose max-w-none min-h-[400px] overflow-auto bg-gray-50",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:k||"No content available to preview."}})}):n.jsx("div",{className:"editor-container",children:n.jsx(G6,{editor:Fle,data:k||"",onReady:Y=>{b.current=Y},onChange:(Y,J)=>{const W=J.getData();z(W)},config:{height:"500px",toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"]}},(r==null?void 0:r.path)||"editor")})]}):n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Select a page from the sidebar to edit its content"})})})]}),l&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-medium mb-4",children:"Create New Page"}),n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Title"}),n.jsx("input",{type:"text",value:m.title,onChange:Y=>f({...m,title:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Path"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-500 mr-1",children:"/"}),n.jsx("input",{type:"text",value:m.path,onChange:Y=>f({...m,path:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"my-custom-page",required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use lowercase letters, numbers, and hyphens only. No spaces."})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Page"})]})]})]})})]})};function B1(){return(B1=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r}).apply(this,arguments)}function q6(r,t){if(r==null)return{};var s,i,l={},u=Object.keys(r);for(i=0;i<u.length;i++)t.indexOf(s=u[i])>=0||(l[s]=r[s]);return l}function TA(r){var t=O.useRef(r),s=O.useRef(function(i){t.current&&t.current(i)});return t.current=r,s.current}var wx=function(r,t,s){return t===void 0&&(t=0),s===void 0&&(s=1),r>s?s:r<t?t:r},Yy=function(r){return"touches"in r},IA=function(r){return r&&r.ownerDocument.defaultView||self},qR=function(r,t,s){var i=r.getBoundingClientRect(),l=Yy(t)?function(u,m){for(var f=0;f<u.length;f++)if(u[f].identifier===m)return u[f];return u[0]}(t.touches,s):t;return{left:wx((l.pageX-(i.left+IA(r).pageXOffset))/i.width),top:wx((l.pageY-(i.top+IA(r).pageYOffset))/i.height)}},YR=function(r){!Yy(r)&&r.preventDefault()},Y6=ot.memo(function(r){var t=r.onMove,s=r.onKey,i=q6(r,["onMove","onKey"]),l=O.useRef(null),u=TA(t),m=TA(s),f=O.useRef(null),b=O.useRef(!1),v=O.useMemo(function(){var S=function(I){YR(I),(Yy(I)?I.touches.length>0:I.buttons>0)&&l.current?u(qR(l.current,I,f.current)):R(!1)},M=function(){return R(!1)};function R(I){var z=b.current,V=IA(l.current),U=I?V.addEventListener:V.removeEventListener;U(z?"touchmove":"mousemove",S),U(z?"touchend":"mouseup",M)}return[function(I){var z=I.nativeEvent,V=l.current;if(V&&(YR(z),!function(q,$){return $&&!Yy(q)}(z,b.current)&&V)){if(Yy(z)){b.current=!0;var U=z.changedTouches||[];U.length&&(f.current=U[0].identifier)}V.focus(),u(qR(V,z,f.current)),R(!0)}},function(I){var z=I.which||I.keyCode;z<37||z>40||(I.preventDefault(),m({left:z===39?.05:z===37?-.05:0,top:z===40?.05:z===38?-.05:0}))},R]},[m,u]),k=v[0],C=v[1],_=v[2];return O.useEffect(function(){return _},[_]),ot.createElement("div",B1({},i,{onTouchStart:k,onMouseDown:k,className:"react-colorful__interactive",ref:l,onKeyDown:C,tabIndex:0,role:"slider"}))}),GN=function(r){return r.filter(Boolean).join(" ")},W6=function(r){var t=r.color,s=r.left,i=r.top,l=i===void 0?.5:i,u=GN(["react-colorful__pointer",r.className]);return ot.createElement("div",{className:u,style:{top:100*l+"%",left:100*s+"%"}},ot.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Ks=function(r,t,s){return t===void 0&&(t=0),s===void 0&&(s=Math.pow(10,t)),Math.round(s*r)/s},Gle=function(r){return Kle(RA(r))},RA=function(r){return r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Ks(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?Ks(parseInt(r.substring(6,8),16)/255,2):1}},Hle=function(r){return Wle(Yle(r))},qle=function(r){var t=r.s,s=r.v,i=r.a,l=(200-t)*s/100;return{h:Ks(r.h),s:Ks(l>0&&l<200?t*s/100/(l<=100?l:200-l)*100:0),l:Ks(l/2),a:Ks(i,2)}},PA=function(r){var t=qle(r);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Yle=function(r){var t=r.h,s=r.s,i=r.v,l=r.a;t=t/360*6,s/=100,i/=100;var u=Math.floor(t),m=i*(1-s),f=i*(1-(t-u)*s),b=i*(1-(1-t+u)*s),v=u%6;return{r:Ks(255*[i,f,m,m,b,i][v]),g:Ks(255*[b,i,i,f,m,m][v]),b:Ks(255*[m,m,b,i,i,f][v]),a:Ks(l,2)}},Iw=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},Wle=function(r){var t=r.r,s=r.g,i=r.b,l=r.a,u=l<1?Iw(Ks(255*l)):"";return"#"+Iw(t)+Iw(s)+Iw(i)+u},Kle=function(r){var t=r.r,s=r.g,i=r.b,l=r.a,u=Math.max(t,s,i),m=u-Math.min(t,s,i),f=m?u===t?(s-i)/m:u===s?2+(i-t)/m:4+(t-s)/m:0;return{h:Ks(60*(f<0?f+6:f)),s:Ks(u?m/u*100:0),v:Ks(u/255*100),a:l}},Qle=ot.memo(function(r){var t=r.hue,s=r.onChange,i=GN(["react-colorful__hue",r.className]);return ot.createElement("div",{className:i},ot.createElement(Y6,{onMove:function(l){s({h:360*l.left})},onKey:function(l){s({h:wx(t+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ks(t),"aria-valuemax":"360","aria-valuemin":"0"},ot.createElement(W6,{className:"react-colorful__hue-pointer",left:t/360,color:PA({h:t,s:100,v:100,a:1})})))}),Jle=ot.memo(function(r){var t=r.hsva,s=r.onChange,i={backgroundColor:PA({h:t.h,s:100,v:100,a:1})};return ot.createElement("div",{className:"react-colorful__saturation",style:i},ot.createElement(Y6,{onMove:function(l){s({s:100*l.left,v:100-100*l.top})},onKey:function(l){s({s:wx(t.s+100*l.left,0,100),v:wx(t.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ks(t.s)+"%, Brightness "+Ks(t.v)+"%"},ot.createElement(W6,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:PA(t)})))}),K6=function(r,t){if(r===t)return!0;for(var s in r)if(r[s]!==t[s])return!1;return!0},$le=function(r,t){return r.toLowerCase()===t.toLowerCase()||K6(RA(r),RA(t))};function Xle(r,t,s){var i=TA(s),l=O.useState(function(){return r.toHsva(t)}),u=l[0],m=l[1],f=O.useRef({color:t,hsva:u});O.useEffect(function(){if(!r.equal(t,f.current.color)){var v=r.toHsva(t);f.current={hsva:v,color:t},m(v)}},[t,r]),O.useEffect(function(){var v;K6(u,f.current.hsva)||r.equal(v=r.fromHsva(u),f.current.color)||(f.current={hsva:u,color:v},i(v))},[u,r,i]);var b=O.useCallback(function(v){m(function(k){return Object.assign({},k,v)})},[]);return[u,b]}var Zle=typeof window<"u"?O.useLayoutEffect:O.useEffect,ece=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},WR=new Map,tce=function(r){Zle(function(){var t=r.current?r.current.ownerDocument:document;if(t!==void 0&&!WR.has(t)){var s=t.createElement("style");s.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,WR.set(t,s);var i=ece();i&&s.setAttribute("nonce",i),t.head.appendChild(s)}},[])},rce=function(r){var t=r.className,s=r.colorModel,i=r.color,l=i===void 0?s.defaultColor:i,u=r.onChange,m=q6(r,["className","colorModel","color","onChange"]),f=O.useRef(null);tce(f);var b=Xle(s,l,u),v=b[0],k=b[1],C=GN(["react-colorful",t]);return ot.createElement("div",B1({},m,{ref:f,className:C}),ot.createElement(Jle,{hsva:v,onChange:k}),ot.createElement(Qle,{hue:v.h,onChange:k,className:"react-colorful__last-control"}))},nce={defaultColor:"000",toHsva:Gle,fromHsva:function(r){return Hle({h:r.h,s:r.s,v:r.v,a:1})},equal:$le},sce=function(r){return ot.createElement(rce,B1({},r,{colorModel:nce}))};const oce=()=>{const[r,t]=O.useState(p2()),[s,i]=O.useState(p2()),[l,u]=O.useState(!1),[m,f]=O.useState(!1),[b,v]=O.useState("");O.useEffect(()=>{k()},[]);const k=async()=>{try{const I=await Ze.get("/admin/theme/");I.data.success&&I.data.theme.colors&&(t(I.data.theme.colors),i(I.data.theme.colors),td(I.data.theme.colors))}catch(I){console.log("Failed to load theme from backend, using localStorage",I.message);const z=O6();z&&(t(z),i(z))}},C=async()=>{var I,z;u(!0);try{console.log("Saving theme with colors:",r),(await Ze.post("/admin/theme/update/",{colors:r,mode:"light"})).data.success&&(Jie(r),i(r),td(r),Se.success("Theme saved successfully!"))}catch(V){console.error("Failed to save theme:",V),Se.error("Failed to save theme: "+(((z=(I=V.response)==null?void 0:I.data)==null?void 0:z.error)||V.message))}u(!1)},_=async()=>{u(!0);try{await Ze.post("/admin/theme/reset/");const I=p2();t(I),i(I),td(I),Se.success("Theme reset to defaults!")}catch(I){console.error("Failed to reset theme:",I),Se.error("Failed to reset theme")}u(!1)},S=()=>{f(!m),td(m?s:r)},M=I=>{navigator.clipboard.writeText(I),v(I),setTimeout(()=>v(""),2e3),Se.success(`Copied ${I}`)},R=[{key:"primary",label:"Primary Color",description:"Main brand color"},{key:"secondary",label:"Secondary Color",description:"Secondary brand color"},{key:"success",label:"Success Color",description:"Success messages"},{key:"error",label:"Error Color",description:"Error messages"},{key:"warning",label:"Warning Color",description:"Warning messages"},{key:"info",label:"Info Color",description:"Info messages"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Theme Colors"}),n.jsx("p",{className:"text-gray-600",children:"Customize your website's color scheme"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:S,className:`px-4 py-2 rounded-md flex items-center gap-2 ${m?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[n.jsx(Ti,{size:16}),m?"Previewing":"Preview"]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(({key:I,label:z,description:V})=>n.jsxs("div",{className:"bg-white rounded-lg border p-4 space-y-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:z}),n.jsx("p",{className:"text-sm text-gray-500",children:V})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(sce,{color:r[I],onChange:U=>{const q={...r,[I]:U};t(q),m&&td(q)}}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:r[I],onChange:U=>{const q={...r,[I]:U.target.value};t(q),m&&td(q)},className:"flex-1 px-3 py-2 border rounded-md text-sm font-mono",placeholder:"#000000"}),n.jsx("button",{onClick:()=>M(r[I]),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md",title:"Copy color",children:b===r[I]?n.jsx(Bn,{size:16}):n.jsx(Nee,{size:16})})]})]})]},I))}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("button",{onClick:_,disabled:l,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 disabled:opacity-50 flex items-center gap-2",children:[n.jsx(Mo,{size:16}),"Reset to Defaults"]}),n.jsxs("button",{onClick:C,disabled:l,className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2",children:[n.jsx(Wm,{size:16}),l?"Saving...":"Save Changes"]})]}),!1]})};function ice(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return O.useMemo(()=>i=>{t.forEach(l=>l(i))},t)}const L1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yg(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function HN(r){return"nodeType"in r}function si(r){var t,s;return r?yg(r)?r:HN(r)&&(t=(s=r.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function qN(r){const{Document:t}=si(r);return r instanceof t}function Jx(r){return yg(r)?!1:r instanceof si(r).HTMLElement}function Q6(r){return r instanceof si(r).SVGElement}function xg(r){return r?yg(r)?r.document:HN(r)?qN(r)?r:Jx(r)||Q6(r)?r.ownerDocument:document:document:document}const sc=L1?O.useLayoutEffect:O.useEffect;function YN(r){const t=O.useRef(r);return sc(()=>{t.current=r}),O.useCallback(function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return t.current==null?void 0:t.current(...i)},[])}function ace(){const r=O.useRef(null),t=O.useCallback((i,l)=>{r.current=setInterval(i,l)},[]),s=O.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,s]}function kx(r,t){t===void 0&&(t=[r]);const s=O.useRef(r);return sc(()=>{s.current!==r&&(s.current=r)},t),s}function $x(r,t){const s=O.useRef();return O.useMemo(()=>{const i=r(s.current);return s.current=i,i},[...t])}function Uk(r){const t=YN(r),s=O.useRef(null),i=O.useCallback(l=>{l!==s.current&&(t==null||t(l,s.current)),s.current=l},[]);return[s,i]}function OA(r){const t=O.useRef();return O.useEffect(()=>{t.current=r},[r]),t.current}let b2={};function Xx(r,t){return O.useMemo(()=>{if(t)return t;const s=b2[r]==null?0:b2[r]+1;return b2[r]=s,r+"-"+s},[r,t])}function J6(r){return function(t){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return i.reduce((u,m)=>{const f=Object.entries(m);for(const[b,v]of f){const k=u[b];k!=null&&(u[b]=k+r*v)}return u},{...t})}}const Hf=J6(1),Cx=J6(-1);function lce(r){return"clientX"in r&&"clientY"in r}function WN(r){if(!r)return!1;const{KeyboardEvent:t}=si(r.target);return t&&r instanceof t}function cce(r){if(!r)return!1;const{TouchEvent:t}=si(r.target);return t&&r instanceof t}function BA(r){if(cce(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:s}=r.touches[0];return{x:t,y:s}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:s}=r.changedTouches[0];return{x:t,y:s}}}return lce(r)?{x:r.clientX,y:r.clientY}:null}const _x=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:s}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:s}=r;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(r){if(r)return[_x.Translate.toString(r),_x.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:s,easing:i}=r;return t+" "+s+"ms "+i}}}),KR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dce(r){return r.matches(KR)?r:r.querySelector(KR)}const uce={display:"none"};function hce(r){let{id:t,value:s}=r;return ot.createElement("div",{id:t,style:uce},s)}function mce(r){let{id:t,announcement:s,ariaLiveType:i="assertive"}=r;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ot.createElement("div",{id:t,style:l,role:"status","aria-live":i,"aria-atomic":!0},s)}function pce(){const[r,t]=O.useState("");return{announce:O.useCallback(i=>{i!=null&&t(i)},[]),announcement:r}}const $6=O.createContext(null);function fce(r){const t=O.useContext($6);O.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function gce(){const[r]=O.useState(()=>new Set),t=O.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[O.useCallback(i=>{let{type:l,event:u}=i;r.forEach(m=>{var f;return(f=m[l])==null?void 0:f.call(m,u)})},[r]),t]}const bce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yce={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:s}=r;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:s}=r;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xce(r){let{announcements:t=yce,container:s,hiddenTextDescribedById:i,screenReaderInstructions:l=bce}=r;const{announce:u,announcement:m}=pce(),f=Xx("DndLiveRegion"),[b,v]=O.useState(!1);if(O.useEffect(()=>{v(!0)},[]),fce(O.useMemo(()=>({onDragStart(C){let{active:_}=C;u(t.onDragStart({active:_}))},onDragMove(C){let{active:_,over:S}=C;t.onDragMove&&u(t.onDragMove({active:_,over:S}))},onDragOver(C){let{active:_,over:S}=C;u(t.onDragOver({active:_,over:S}))},onDragEnd(C){let{active:_,over:S}=C;u(t.onDragEnd({active:_,over:S}))},onDragCancel(C){let{active:_,over:S}=C;u(t.onDragCancel({active:_,over:S}))}}),[u,t])),!b)return null;const k=ot.createElement(ot.Fragment,null,ot.createElement(hce,{id:i,value:l.draggable}),ot.createElement(mce,{id:f,announcement:m}));return s?vy.createPortal(k,s):k}var gs;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(gs||(gs={}));function Gk(){}function QR(r,t){return O.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function vce(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return O.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const rl=Object.freeze({x:0,y:0});function X6(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Z6(r,t){let{data:{value:s}}=r,{data:{value:i}}=t;return s-i}function wce(r,t){let{data:{value:s}}=r,{data:{value:i}}=t;return i-s}function JR(r){let{left:t,top:s,height:i,width:l}=r;return[{x:t,y:s},{x:t+l,y:s},{x:t,y:s+i},{x:t+l,y:s+i}]}function eL(r,t){if(!r||r.length===0)return null;const[s]=r;return s[t]}function $R(r,t,s){return t===void 0&&(t=r.left),s===void 0&&(s=r.top),{x:t+r.width*.5,y:s+r.height*.5}}const kce=r=>{let{collisionRect:t,droppableRects:s,droppableContainers:i}=r;const l=$R(t,t.left,t.top),u=[];for(const m of i){const{id:f}=m,b=s.get(f);if(b){const v=X6($R(b),l);u.push({id:f,data:{droppableContainer:m,value:v}})}}return u.sort(Z6)},Cce=r=>{let{collisionRect:t,droppableRects:s,droppableContainers:i}=r;const l=JR(t),u=[];for(const m of i){const{id:f}=m,b=s.get(f);if(b){const v=JR(b),k=l.reduce((_,S,M)=>_+X6(v[M],S),0),C=Number((k/4).toFixed(4));u.push({id:f,data:{droppableContainer:m,value:C}})}}return u.sort(Z6)};function _ce(r,t){const s=Math.max(t.top,r.top),i=Math.max(t.left,r.left),l=Math.min(t.left+t.width,r.left+r.width),u=Math.min(t.top+t.height,r.top+r.height),m=l-i,f=u-s;if(i<l&&s<u){const b=t.width*t.height,v=r.width*r.height,k=m*f,C=k/(b+v-k);return Number(C.toFixed(4))}return 0}const Ace=r=>{let{collisionRect:t,droppableRects:s,droppableContainers:i}=r;const l=[];for(const u of i){const{id:m}=u,f=s.get(m);if(f){const b=_ce(f,t);b>0&&l.push({id:m,data:{droppableContainer:u,value:b}})}}return l.sort(wce)};function jce(r,t,s){return{...r,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function tL(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:rl}function Nce(r){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return l.reduce((m,f)=>({...m,top:m.top+r*f.y,bottom:m.bottom+r*f.y,left:m.left+r*f.x,right:m.right+r*f.x}),{...s})}}const Sce=Nce(1);function Ece(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Dce(r,t,s){const i=Ece(t);if(!i)return r;const{scaleX:l,scaleY:u,x:m,y:f}=i,b=r.left-m-(1-l)*parseFloat(s),v=r.top-f-(1-u)*parseFloat(s.slice(s.indexOf(" ")+1)),k=l?r.width/l:r.width,C=u?r.height/u:r.height;return{width:k,height:C,top:v,right:b+k,bottom:v+C,left:b}}const Mce={ignoreTransform:!1};function vg(r,t){t===void 0&&(t=Mce);let s=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:v,transformOrigin:k}=si(r).getComputedStyle(r);v&&(s=Dce(s,v,k))}const{top:i,left:l,width:u,height:m,bottom:f,right:b}=s;return{top:i,left:l,width:u,height:m,bottom:f,right:b}}function XR(r){return vg(r,{ignoreTransform:!0})}function Tce(r){const t=r.innerWidth,s=r.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function Ice(r,t){return t===void 0&&(t=si(r).getComputedStyle(r)),t.position==="fixed"}function Rce(r,t){t===void 0&&(t=si(r).getComputedStyle(r));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=t[l];return typeof u=="string"?s.test(u):!1})}function z1(r,t){const s=[];function i(l){if(t!=null&&s.length>=t||!l)return s;if(qN(l)&&l.scrollingElement!=null&&!s.includes(l.scrollingElement))return s.push(l.scrollingElement),s;if(!Jx(l)||Q6(l)||s.includes(l))return s;const u=si(r).getComputedStyle(l);return l!==r&&Rce(l,u)&&s.push(l),Ice(l,u)?s:i(l.parentNode)}return r?i(r):s}function rL(r){const[t]=z1(r,1);return t??null}function y2(r){return!L1||!r?null:yg(r)?r:HN(r)?qN(r)||r===xg(r).scrollingElement?window:Jx(r)?r:null:null}function nL(r){return yg(r)?r.scrollX:r.scrollLeft}function sL(r){return yg(r)?r.scrollY:r.scrollTop}function LA(r){return{x:nL(r),y:sL(r)}}var Es;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Es||(Es={}));function oL(r){return!L1||!r?!1:r===document.scrollingElement}function iL(r){const t={x:0,y:0},s=oL(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-s.width,y:r.scrollHeight-s.height},l=r.scrollTop<=t.y,u=r.scrollLeft<=t.x,m=r.scrollTop>=i.y,f=r.scrollLeft>=i.x;return{isTop:l,isLeft:u,isBottom:m,isRight:f,maxScroll:i,minScroll:t}}const Pce={x:.2,y:.2};function Oce(r,t,s,i,l){let{top:u,left:m,right:f,bottom:b}=s;i===void 0&&(i=10),l===void 0&&(l=Pce);const{isTop:v,isBottom:k,isLeft:C,isRight:_}=iL(r),S={x:0,y:0},M={x:0,y:0},R={height:t.height*l.y,width:t.width*l.x};return!v&&u<=t.top+R.height?(S.y=Es.Backward,M.y=i*Math.abs((t.top+R.height-u)/R.height)):!k&&b>=t.bottom-R.height&&(S.y=Es.Forward,M.y=i*Math.abs((t.bottom-R.height-b)/R.height)),!_&&f>=t.right-R.width?(S.x=Es.Forward,M.x=i*Math.abs((t.right-R.width-f)/R.width)):!C&&m<=t.left+R.width&&(S.x=Es.Backward,M.x=i*Math.abs((t.left+R.width-m)/R.width)),{direction:S,speed:M}}function Bce(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:m}=window;return{top:0,left:0,right:u,bottom:m,width:u,height:m}}const{top:t,left:s,right:i,bottom:l}=r.getBoundingClientRect();return{top:t,left:s,right:i,bottom:l,width:r.clientWidth,height:r.clientHeight}}function aL(r){return r.reduce((t,s)=>Hf(t,LA(s)),rl)}function Lce(r){return r.reduce((t,s)=>t+nL(s),0)}function zce(r){return r.reduce((t,s)=>t+sL(s),0)}function Fce(r,t){if(t===void 0&&(t=vg),!r)return;const{top:s,left:i,bottom:l,right:u}=t(r);rL(r)&&(l<=0||u<=0||s>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const Vce=[["x",["left","right"],Lce],["y",["top","bottom"],zce]];class KN{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=z1(s),l=aL(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,m,f]of Vce)for(const b of m)Object.defineProperty(this,b,{get:()=>{const v=f(i),k=l[u]-v;return this.rect[b]+k},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wy{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...s)})},this.target=t}add(t,s,i){var l;(l=this.target)==null||l.addEventListener(t,s,i),this.listeners.push([t,s,i])}}function Uce(r){const{EventTarget:t}=si(r);return r instanceof t?r:xg(r)}function x2(r,t){const s=Math.abs(r.x),i=Math.abs(r.y);return typeof t=="number"?Math.sqrt(s**2+i**2)>t:"x"in t&&"y"in t?s>t.x&&i>t.y:"x"in t?s>t.x:"y"in t?i>t.y:!1}var Zi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Zi||(Zi={}));function ZR(r){r.preventDefault()}function Gce(r){r.stopPropagation()}var pr;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(pr||(pr={}));const lL={start:[pr.Space,pr.Enter],cancel:[pr.Esc],end:[pr.Space,pr.Enter,pr.Tab]},Hce=(r,t)=>{let{currentCoordinates:s}=t;switch(r.code){case pr.Right:return{...s,x:s.x+25};case pr.Left:return{...s,x:s.x-25};case pr.Down:return{...s,y:s.y+25};case pr.Up:return{...s,y:s.y-25}}};class QN{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new Wy(xg(s)),this.windowListeners=new Wy(si(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Zi.Resize,this.handleCancel),this.windowListeners.add(Zi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Zi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,i=t.node.current;i&&Fce(i),s(rl)}handleKeyDown(t){if(WN(t)){const{active:s,context:i,options:l}=this.props,{keyboardCodes:u=lL,coordinateGetter:m=Hce,scrollBehavior:f="smooth"}=l,{code:b}=t;if(u.end.includes(b)){this.handleEnd(t);return}if(u.cancel.includes(b)){this.handleCancel(t);return}const{collisionRect:v}=i.current,k=v?{x:v.left,y:v.top}:rl;this.referenceCoordinates||(this.referenceCoordinates=k);const C=m(t,{active:s,context:i.current,currentCoordinates:k});if(C){const _=Cx(C,k),S={x:0,y:0},{scrollableAncestors:M}=i.current;for(const R of M){const I=t.code,{isTop:z,isRight:V,isLeft:U,isBottom:q,maxScroll:$,minScroll:ne}=iL(R),Q=Bce(R),B={x:Math.min(I===pr.Right?Q.right-Q.width/2:Q.right,Math.max(I===pr.Right?Q.left:Q.left+Q.width/2,C.x)),y:Math.min(I===pr.Down?Q.bottom-Q.height/2:Q.bottom,Math.max(I===pr.Down?Q.top:Q.top+Q.height/2,C.y))},Y=I===pr.Right&&!V||I===pr.Left&&!U,J=I===pr.Down&&!q||I===pr.Up&&!z;if(Y&&B.x!==C.x){const W=R.scrollLeft+_.x,ee=I===pr.Right&&W<=$.x||I===pr.Left&&W>=ne.x;if(ee&&!_.y){R.scrollTo({left:W,behavior:f});return}ee?S.x=R.scrollLeft-W:S.x=I===pr.Right?R.scrollLeft-$.x:R.scrollLeft-ne.x,S.x&&R.scrollBy({left:-S.x,behavior:f});break}else if(J&&B.y!==C.y){const W=R.scrollTop+_.y,ee=I===pr.Down&&W<=$.y||I===pr.Up&&W>=ne.y;if(ee&&!_.x){R.scrollTo({top:W,behavior:f});return}ee?S.y=R.scrollTop-W:S.y=I===pr.Down?R.scrollTop-$.y:R.scrollTop-ne.y,S.y&&R.scrollBy({top:-S.y,behavior:f});break}}this.handleMove(t,Hf(Cx(C,this.referenceCoordinates),S))}}}handleMove(t,s){const{onMove:i}=this.props;t.preventDefault(),i(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}QN.activators=[{eventName:"onKeyDown",handler:(r,t,s)=>{let{keyboardCodes:i=lL,onActivation:l}=t,{active:u}=s;const{code:m}=r.nativeEvent;if(i.start.includes(m)){const f=u.activatorNode.current;return f&&r.target!==f?!1:(r.preventDefault(),l==null||l({event:r.nativeEvent}),!0)}return!1}}];function e3(r){return!!(r&&"distance"in r)}function t3(r){return!!(r&&"delay"in r)}class JN{constructor(t,s,i){var l;i===void 0&&(i=Uce(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:u}=t,{target:m}=u;this.props=t,this.events=s,this.document=xg(m),this.documentListeners=new Wy(this.document),this.listeners=new Wy(i),this.windowListeners=new Wy(si(m)),this.initialCoordinates=(l=BA(u))!=null?l:rl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Zi.Resize,this.handleCancel),this.windowListeners.add(Zi.DragStart,ZR),this.windowListeners.add(Zi.VisibilityChange,this.handleCancel),this.windowListeners.add(Zi.ContextMenu,ZR),this.documentListeners.add(Zi.Keydown,this.handleKeydown),s){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(t3(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(e3(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:i,onPending:l}=this.props;l(i,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add(Zi.Click,Gce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Zi.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:i,initialCoordinates:l,props:u}=this,{onMove:m,options:{activationConstraint:f}}=u;if(!l)return;const b=(s=BA(t))!=null?s:rl,v=Cx(l,b);if(!i&&f){if(e3(f)){if(f.tolerance!=null&&x2(v,f.tolerance))return this.handleCancel();if(x2(v,f.distance))return this.handleStart()}if(t3(f)&&x2(v,f.tolerance))return this.handleCancel();this.handlePending(f,v);return}t.cancelable&&t.preventDefault(),m(b)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===pr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const qce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class $N extends JN{constructor(t){const{event:s}=t,i=xg(s.target);super(t,qce,i)}}$N.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:s}=r,{onActivation:i}=t;return!s.isPrimary||s.button!==0?!1:(i==null||i({event:s}),!0)}}];const Yce={move:{name:"mousemove"},end:{name:"mouseup"}};var zA;(function(r){r[r.RightClick=2]="RightClick"})(zA||(zA={}));class Wce extends JN{constructor(t){super(t,Yce,xg(t.event.target))}}Wce.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:s}=r,{onActivation:i}=t;return s.button===zA.RightClick?!1:(i==null||i({event:s}),!0)}}];const v2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Kce extends JN{constructor(t){super(t,v2)}static setup(){return window.addEventListener(v2.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(v2.move.name,t)};function t(){}}}Kce.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:s}=r,{onActivation:i}=t;const{touches:l}=s;return l.length>1?!1:(i==null||i({event:s}),!0)}}];var Ky;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Ky||(Ky={}));var Hk;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hk||(Hk={}));function Qce(r){let{acceleration:t,activator:s=Ky.Pointer,canScroll:i,draggingRect:l,enabled:u,interval:m=5,order:f=Hk.TreeOrder,pointerCoordinates:b,scrollableAncestors:v,scrollableAncestorRects:k,delta:C,threshold:_}=r;const S=$ce({delta:C,disabled:!u}),[M,R]=ace(),I=O.useRef({x:0,y:0}),z=O.useRef({x:0,y:0}),V=O.useMemo(()=>{switch(s){case Ky.Pointer:return b?{top:b.y,bottom:b.y,left:b.x,right:b.x}:null;case Ky.DraggableRect:return l}},[s,l,b]),U=O.useRef(null),q=O.useCallback(()=>{const ne=U.current;if(!ne)return;const Q=I.current.x*z.current.x,B=I.current.y*z.current.y;ne.scrollBy(Q,B)},[]),$=O.useMemo(()=>f===Hk.TreeOrder?[...v].reverse():v,[f,v]);O.useEffect(()=>{if(!u||!v.length||!V){R();return}for(const ne of $){if((i==null?void 0:i(ne))===!1)continue;const Q=v.indexOf(ne),B=k[Q];if(!B)continue;const{direction:Y,speed:J}=Oce(ne,B,V,t,_);for(const W of["x","y"])S[W][Y[W]]||(J[W]=0,Y[W]=0);if(J.x>0||J.y>0){R(),U.current=ne,M(q,m),I.current=J,z.current=Y;return}}I.current={x:0,y:0},z.current={x:0,y:0},R()},[t,q,i,R,u,m,JSON.stringify(V),JSON.stringify(S),M,v,$,k,JSON.stringify(_)])}const Jce={x:{[Es.Backward]:!1,[Es.Forward]:!1},y:{[Es.Backward]:!1,[Es.Forward]:!1}};function $ce(r){let{delta:t,disabled:s}=r;const i=OA(t);return $x(l=>{if(s||!i||!l)return Jce;const u={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[Es.Backward]:l.x[Es.Backward]||u.x===-1,[Es.Forward]:l.x[Es.Forward]||u.x===1},y:{[Es.Backward]:l.y[Es.Backward]||u.y===-1,[Es.Forward]:l.y[Es.Forward]||u.y===1}}},[s,t,i])}function Xce(r,t){const s=t!=null?r.get(t):void 0,i=s?s.node.current:null;return $x(l=>{var u;return t==null?null:(u=i??l)!=null?u:null},[i,t])}function Zce(r,t){return O.useMemo(()=>r.reduce((s,i)=>{const{sensor:l}=i,u=l.activators.map(m=>({eventName:m.eventName,handler:t(m.handler,i)}));return[...s,...u]},[]),[r,t])}var Ax;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Ax||(Ax={}));var FA;(function(r){r.Optimized="optimized"})(FA||(FA={}));const r3=new Map;function ede(r,t){let{dragging:s,dependencies:i,config:l}=t;const[u,m]=O.useState(null),{frequency:f,measure:b,strategy:v}=l,k=O.useRef(r),C=I(),_=kx(C),S=O.useCallback(function(z){z===void 0&&(z=[]),!_.current&&m(V=>V===null?z:V.concat(z.filter(U=>!V.includes(U))))},[_]),M=O.useRef(null),R=$x(z=>{if(C&&!s)return r3;if(!z||z===r3||k.current!==r||u!=null){const V=new Map;for(let U of r){if(!U)continue;if(u&&u.length>0&&!u.includes(U.id)&&U.rect.current){V.set(U.id,U.rect.current);continue}const q=U.node.current,$=q?new KN(b(q),q):null;U.rect.current=$,$&&V.set(U.id,$)}return V}return z},[r,u,s,C,b]);return O.useEffect(()=>{k.current=r},[r]),O.useEffect(()=>{C||S()},[s,C]),O.useEffect(()=>{u&&u.length>0&&m(null)},[JSON.stringify(u)]),O.useEffect(()=>{C||typeof f!="number"||M.current!==null||(M.current=setTimeout(()=>{S(),M.current=null},f))},[f,C,S,...i]),{droppableRects:R,measureDroppableContainers:S,measuringScheduled:u!=null};function I(){switch(v){case Ax.Always:return!1;case Ax.BeforeDragging:return s;default:return!s}}}function cL(r,t){return $x(s=>r?s||(typeof t=="function"?t(r):r):null,[t,r])}function tde(r,t){return cL(r,t)}function rde(r){let{callback:t,disabled:s}=r;const i=YN(t),l=O.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,s]);return O.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function F1(r){let{callback:t,disabled:s}=r;const i=YN(t),l=O.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[s]);return O.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function nde(r){return new KN(vg(r),r)}function n3(r,t,s){t===void 0&&(t=nde);const[i,l]=O.useState(null);function u(){l(b=>{if(!r)return null;if(r.isConnected===!1){var v;return(v=b??s)!=null?v:null}const k=t(r);return JSON.stringify(b)===JSON.stringify(k)?b:k})}const m=rde({callback(b){if(r)for(const v of b){const{type:k,target:C}=v;if(k==="childList"&&C instanceof HTMLElement&&C.contains(r)){u();break}}}}),f=F1({callback:u});return sc(()=>{u(),r?(f==null||f.observe(r),m==null||m.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),m==null||m.disconnect())},[r]),i}function sde(r){const t=cL(r);return tL(r,t)}const s3=[];function ode(r){const t=O.useRef(r),s=$x(i=>r?i&&i!==s3&&r&&t.current&&r.parentNode===t.current.parentNode?i:z1(r):s3,[r]);return O.useEffect(()=>{t.current=r},[r]),s}function ide(r){const[t,s]=O.useState(null),i=O.useRef(r),l=O.useCallback(u=>{const m=y2(u.target);m&&s(f=>f?(f.set(m,LA(m)),new Map(f)):null)},[]);return O.useEffect(()=>{const u=i.current;if(r!==u){m(u);const f=r.map(b=>{const v=y2(b);return v?(v.addEventListener("scroll",l,{passive:!0}),[v,LA(v)]):null}).filter(b=>b!=null);s(f.length?new Map(f):null),i.current=r}return()=>{m(r),m(u)};function m(f){f.forEach(b=>{const v=y2(b);v==null||v.removeEventListener("scroll",l)})}},[l,r]),O.useMemo(()=>r.length?t?Array.from(t.values()).reduce((u,m)=>Hf(u,m),rl):aL(r):rl,[r,t])}function o3(r,t){t===void 0&&(t=[]);const s=O.useRef(null);return O.useEffect(()=>{s.current=null},t),O.useEffect(()=>{const i=r!==rl;i&&!s.current&&(s.current=r),!i&&s.current&&(s.current=null)},[r]),s.current?Cx(r,s.current):rl}function ade(r){O.useEffect(()=>{if(!L1)return;const t=r.map(s=>{let{sensor:i}=s;return i.setup==null?void 0:i.setup()});return()=>{for(const s of t)s==null||s()}},r.map(t=>{let{sensor:s}=t;return s}))}function lde(r,t){return O.useMemo(()=>r.reduce((s,i)=>{let{eventName:l,handler:u}=i;return s[l]=m=>{u(m,t)},s},{}),[r,t])}function dL(r){return O.useMemo(()=>r?Tce(r):null,[r])}const i3=[];function cde(r,t){t===void 0&&(t=vg);const[s]=r,i=dL(s?si(s):null),[l,u]=O.useState(i3);function m(){u(()=>r.length?r.map(b=>oL(b)?i:new KN(t(b),b)):i3)}const f=F1({callback:m});return sc(()=>{f==null||f.disconnect(),m(),r.forEach(b=>f==null?void 0:f.observe(b))},[r]),l}function dde(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return Jx(t)?t:r}function ude(r){let{measure:t}=r;const[s,i]=O.useState(null),l=O.useCallback(v=>{for(const{target:k}of v)if(Jx(k)){i(C=>{const _=t(k);return C?{...C,width:_.width,height:_.height}:_});break}},[t]),u=F1({callback:l}),m=O.useCallback(v=>{const k=dde(v);u==null||u.disconnect(),k&&(u==null||u.observe(k)),i(k?t(k):null)},[t,u]),[f,b]=Uk(m);return O.useMemo(()=>({nodeRef:f,rect:s,setRef:b}),[s,f,b])}const hde=[{sensor:$N,options:{}},{sensor:QN,options:{}}],mde={current:{}},sk={draggable:{measure:XR},droppable:{measure:XR,strategy:Ax.WhileDragging,frequency:FA.Optimized},dragOverlay:{measure:vg}};class Qy extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,i;return(s=(i=this.get(t))==null?void 0:i.node.current)!=null?s:void 0}}const pde={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qy,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gk},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sk,measureDroppableContainers:Gk,windowRect:null,measuringScheduled:!1},fde={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gk,draggableNodes:new Map,over:null,measureDroppableContainers:Gk},V1=O.createContext(fde),uL=O.createContext(pde);function gde(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qy}}}function bde(r,t){switch(t.type){case gs.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case gs.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case gs.DragEnd:case gs.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gs.RegisterDroppable:{const{element:s}=t,{id:i}=s,l=new Qy(r.droppable.containers);return l.set(i,s),{...r,droppable:{...r.droppable,containers:l}}}case gs.SetDroppableDisabled:{const{id:s,key:i,disabled:l}=t,u=r.droppable.containers.get(s);if(!u||i!==u.key)return r;const m=new Qy(r.droppable.containers);return m.set(s,{...u,disabled:l}),{...r,droppable:{...r.droppable,containers:m}}}case gs.UnregisterDroppable:{const{id:s,key:i}=t,l=r.droppable.containers.get(s);if(!l||i!==l.key)return r;const u=new Qy(r.droppable.containers);return u.delete(s),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function yde(r){let{disabled:t}=r;const{active:s,activatorEvent:i,draggableNodes:l}=O.useContext(V1),u=OA(i),m=OA(s==null?void 0:s.id);return O.useEffect(()=>{if(!t&&!i&&u&&m!=null){if(!WN(u)||document.activeElement===u.target)return;const f=l.get(m);if(!f)return;const{activatorNode:b,node:v}=f;if(!b.current&&!v.current)return;requestAnimationFrame(()=>{for(const k of[b.current,v.current]){if(!k)continue;const C=dce(k);if(C){C.focus();break}}})}},[i,t,l,m,u]),null}function xde(r,t){let{transform:s,...i}=t;return r!=null&&r.length?r.reduce((l,u)=>u({transform:l,...i}),s):s}function vde(r){return O.useMemo(()=>({draggable:{...sk.draggable,...r==null?void 0:r.draggable},droppable:{...sk.droppable,...r==null?void 0:r.droppable},dragOverlay:{...sk.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function wde(r){let{activeNode:t,measure:s,initialRect:i,config:l=!0}=r;const u=O.useRef(!1),{x:m,y:f}=typeof l=="boolean"?{x:l,y:l}:l;sc(()=>{if(!m&&!f||!t){u.current=!1;return}if(u.current||!i)return;const v=t==null?void 0:t.node.current;if(!v||v.isConnected===!1)return;const k=s(v),C=tL(k,i);if(m||(C.x=0),f||(C.y=0),u.current=!0,Math.abs(C.x)>0||Math.abs(C.y)>0){const _=rL(v);_&&_.scrollBy({top:C.y,left:C.x})}},[t,m,f,i,s])}const hL=O.createContext({...rl,scaleX:1,scaleY:1});var Eu;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Eu||(Eu={}));const kde=O.memo(function(t){var s,i,l,u;let{id:m,accessibility:f,autoScroll:b=!0,children:v,sensors:k=hde,collisionDetection:C=Ace,measuring:_,modifiers:S,...M}=t;const R=O.useReducer(bde,void 0,gde),[I,z]=R,[V,U]=gce(),[q,$]=O.useState(Eu.Uninitialized),ne=q===Eu.Initialized,{draggable:{active:Q,nodes:B,translate:Y},droppable:{containers:J}}=I,W=Q!=null?B.get(Q):null,ee=O.useRef({initial:null,translated:null}),te=O.useMemo(()=>{var ir;return Q!=null?{id:Q,data:(ir=W==null?void 0:W.data)!=null?ir:mde,rect:ee}:null},[Q,W]),be=O.useRef(null),[xe,ie]=O.useState(null),[ae,le]=O.useState(null),oe=kx(M,Object.values(M)),G=Xx("DndDescribedBy",m),ue=O.useMemo(()=>J.getEnabled(),[J]),me=vde(_),{droppableRects:ye,measureDroppableContainers:ve,measuringScheduled:Me}=ede(ue,{dragging:ne,dependencies:[Y.x,Y.y],config:me.droppable}),Ae=Xce(B,Q),Ye=O.useMemo(()=>ae?BA(ae):null,[ae]),ze=Is(),Qe=tde(Ae,me.draggable.measure);wde({activeNode:Q!=null?B.get(Q):null,config:ze.layoutShiftCompensation,initialRect:Qe,measure:me.draggable.measure});const Be=n3(Ae,me.draggable.measure,Qe),fe=n3(Ae?Ae.parentElement:null),et=O.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:ye,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:J,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),He=J.getNodeFor((s=et.current.over)==null?void 0:s.id),tt=ude({measure:me.dragOverlay.measure}),xt=(i=tt.nodeRef.current)!=null?i:Ae,_e=ne?(l=tt.rect)!=null?l:Be:null,lt=!!(tt.nodeRef.current&&tt.rect),Mt=sde(lt?null:Be),br=dL(xt?si(xt):null),sn=ode(ne?He??Ae:null),Yr=cde(sn),Er=xde(S,{transform:{x:Y.x-Mt.x,y:Y.y-Mt.y,scaleX:1,scaleY:1},activatorEvent:ae,active:te,activeNodeRect:Be,containerNodeRect:fe,draggingNodeRect:_e,over:et.current.over,overlayNodeRect:tt.rect,scrollableAncestors:sn,scrollableAncestorRects:Yr,windowRect:br}),_r=Ye?Hf(Ye,Y):null,Js=ide(sn),go=o3(Js),Wt=o3(Js,[Be]),kt=Hf(Er,go),Gr=_e?Sce(_e,Er):null,ct=te&&Gr?C({active:te,collisionRect:Gr,droppableRects:ye,droppableContainers:ue,pointerCoordinates:_r}):null,Pt=eL(ct,"id"),[Ct,tr]=O.useState(null),on=lt?Er:Hf(Er,Wt),ss=jce(on,(u=Ct==null?void 0:Ct.rect)!=null?u:null,Be),Le=O.useRef(null),$t=O.useCallback((ir,Ln)=>{let{sensor:Wr,options:Rs}=Ln;if(be.current==null)return;const pn=B.get(be.current);if(!pn)return;const jn=ir.nativeEvent,yr=new Wr({active:be.current,activeNode:pn,event:jn,options:Rs,context:et,onAbort(St){if(!B.get(St))return;const{onDragAbort:vr}=oe.current,an={id:St};vr==null||vr(an),V({type:"onDragAbort",event:an})},onPending(St,xr,vr,an){if(!B.get(St))return;const{onDragPending:la}=oe.current,os={id:St,constraint:xr,initialCoordinates:vr,offset:an};la==null||la(os),V({type:"onDragPending",event:os})},onStart(St){const xr=be.current;if(xr==null)return;const vr=B.get(xr);if(!vr)return;const{onDragStart:an}=oe.current,ii={activatorEvent:jn,active:{id:xr,data:vr.data,rect:ee}};vy.unstable_batchedUpdates(()=>{an==null||an(ii),$(Eu.Initializing),z({type:gs.DragStart,initialCoordinates:St,active:xr}),V({type:"onDragStart",event:ii}),ie(Le.current),le(jn)})},onMove(St){z({type:gs.DragMove,coordinates:St})},onEnd:oi(gs.DragEnd),onCancel:oi(gs.DragCancel)});Le.current=yr;function oi(St){return async function(){const{active:vr,collisions:an,over:ii,scrollAdjustedTranslate:la}=et.current;let os=null;if(vr&&la){const{cancelDrop:Ps}=oe.current;os={activatorEvent:jn,active:vr,collisions:an,delta:la,over:ii},St===gs.DragEnd&&typeof Ps=="function"&&await Promise.resolve(Ps(os))&&(St=gs.DragCancel)}be.current=null,vy.unstable_batchedUpdates(()=>{z({type:St}),$(Eu.Uninitialized),tr(null),ie(null),le(null),Le.current=null;const Ps=St===gs.DragEnd?"onDragEnd":"onDragCancel";if(os){const Xs=oe.current[Ps];Xs==null||Xs(os),V({type:Ps,event:os})}})}}},[B]),Bt=O.useCallback((ir,Ln)=>(Wr,Rs)=>{const pn=Wr.nativeEvent,jn=B.get(Rs);if(be.current!==null||!jn||pn.dndKit||pn.defaultPrevented)return;const yr={active:jn};ir(Wr,Ln.options,yr)===!0&&(pn.dndKit={capturedBy:Ln.sensor},be.current=Rs,$t(Wr,Ln))},[B,$t]),Tt=Zce(k,Bt);ade(k),sc(()=>{Be&&q===Eu.Initializing&&$(Eu.Initialized)},[Be,q]),O.useEffect(()=>{const{onDragMove:ir}=oe.current,{active:Ln,activatorEvent:Wr,collisions:Rs,over:pn}=et.current;if(!Ln||!Wr)return;const jn={active:Ln,activatorEvent:Wr,collisions:Rs,delta:{x:kt.x,y:kt.y},over:pn};vy.unstable_batchedUpdates(()=>{ir==null||ir(jn),V({type:"onDragMove",event:jn})})},[kt.x,kt.y]),O.useEffect(()=>{const{active:ir,activatorEvent:Ln,collisions:Wr,droppableContainers:Rs,scrollAdjustedTranslate:pn}=et.current;if(!ir||be.current==null||!Ln||!pn)return;const{onDragOver:jn}=oe.current,yr=Rs.get(Pt),oi=yr&&yr.rect.current?{id:yr.id,rect:yr.rect.current,data:yr.data,disabled:yr.disabled}:null,St={active:ir,activatorEvent:Ln,collisions:Wr,delta:{x:pn.x,y:pn.y},over:oi};vy.unstable_batchedUpdates(()=>{tr(oi),jn==null||jn(St),V({type:"onDragOver",event:St})})},[Pt]),sc(()=>{et.current={activatorEvent:ae,active:te,activeNode:Ae,collisionRect:Gr,collisions:ct,droppableRects:ye,draggableNodes:B,draggingNode:xt,draggingNodeRect:_e,droppableContainers:J,over:Ct,scrollableAncestors:sn,scrollAdjustedTranslate:kt},ee.current={initial:_e,translated:Gr}},[te,Ae,ct,Gr,B,xt,_e,ye,J,Ct,sn,kt]),Qce({...ze,delta:Y,draggingRect:Gr,pointerCoordinates:_r,scrollableAncestors:sn,scrollableAncestorRects:Yr});const $s=O.useMemo(()=>({active:te,activeNode:Ae,activeNodeRect:Be,activatorEvent:ae,collisions:ct,containerNodeRect:fe,dragOverlay:tt,draggableNodes:B,droppableContainers:J,droppableRects:ye,over:Ct,measureDroppableContainers:ve,scrollableAncestors:sn,scrollableAncestorRects:Yr,measuringConfiguration:me,measuringScheduled:Me,windowRect:br}),[te,Ae,Be,ae,ct,fe,tt,B,J,ye,Ct,ve,sn,Yr,me,Me,br]),Ts=O.useMemo(()=>({activatorEvent:ae,activators:Tt,active:te,activeNodeRect:Be,ariaDescribedById:{draggable:G},dispatch:z,draggableNodes:B,over:Ct,measureDroppableContainers:ve}),[ae,Tt,te,Be,z,G,B,Ct,ve]);return ot.createElement($6.Provider,{value:U},ot.createElement(V1.Provider,{value:Ts},ot.createElement(uL.Provider,{value:$s},ot.createElement(hL.Provider,{value:ss},v)),ot.createElement(yde,{disabled:(f==null?void 0:f.restoreFocus)===!1})),ot.createElement(xce,{...f,hiddenTextDescribedById:G}));function Is(){const ir=(xe==null?void 0:xe.autoScrollEnabled)===!1,Ln=typeof b=="object"?b.enabled===!1:b===!1,Wr=ne&&!ir&&!Ln;return typeof b=="object"?{...b,enabled:Wr}:{enabled:Wr}}}),Cde=O.createContext(null),a3="button",_de="Draggable";function Ade(r){let{id:t,data:s,disabled:i=!1,attributes:l}=r;const u=Xx(_de),{activators:m,activatorEvent:f,active:b,activeNodeRect:v,ariaDescribedById:k,draggableNodes:C,over:_}=O.useContext(V1),{role:S=a3,roleDescription:M="draggable",tabIndex:R=0}=l??{},I=(b==null?void 0:b.id)===t,z=O.useContext(I?hL:Cde),[V,U]=Uk(),[q,$]=Uk(),ne=lde(m,t),Q=kx(s);sc(()=>(C.set(t,{id:t,key:u,node:V,activatorNode:q,data:Q}),()=>{const Y=C.get(t);Y&&Y.key===u&&C.delete(t)}),[C,t]);const B=O.useMemo(()=>({role:S,tabIndex:R,"aria-disabled":i,"aria-pressed":I&&S===a3?!0:void 0,"aria-roledescription":M,"aria-describedby":k.draggable}),[i,S,R,I,M,k.draggable]);return{active:b,activatorEvent:f,activeNodeRect:v,attributes:B,isDragging:I,listeners:i?void 0:ne,node:V,over:_,setNodeRef:U,setActivatorNodeRef:$,transform:z}}function jde(){return O.useContext(uL)}const Nde="Droppable",Sde={timeout:25};function Ede(r){let{data:t,disabled:s=!1,id:i,resizeObserverConfig:l}=r;const u=Xx(Nde),{active:m,dispatch:f,over:b,measureDroppableContainers:v}=O.useContext(V1),k=O.useRef({disabled:s}),C=O.useRef(!1),_=O.useRef(null),S=O.useRef(null),{disabled:M,updateMeasurementsFor:R,timeout:I}={...Sde,...l},z=kx(R??i),V=O.useCallback(()=>{if(!C.current){C.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{v(Array.isArray(z.current)?z.current:[z.current]),S.current=null},I)},[I]),U=F1({callback:V,disabled:M||!m}),q=O.useCallback((B,Y)=>{U&&(Y&&(U.unobserve(Y),C.current=!1),B&&U.observe(B))},[U]),[$,ne]=Uk(q),Q=kx(t);return O.useEffect(()=>{!U||!$.current||(U.disconnect(),C.current=!1,U.observe($.current))},[$,U]),O.useEffect(()=>(f({type:gs.RegisterDroppable,element:{id:i,key:u,disabled:s,node:$,rect:_,data:Q}}),()=>f({type:gs.UnregisterDroppable,key:u,id:i})),[i]),O.useEffect(()=>{s!==k.current.disabled&&(f({type:gs.SetDroppableDisabled,id:i,key:u,disabled:s}),k.current.disabled=s)},[i,u,s,f]),{active:m,rect:_,isOver:(b==null?void 0:b.id)===i,node:$,over:b,setNodeRef:ne}}function XN(r,t,s){const i=r.slice();return i.splice(s<0?i.length+s:s,0,i.splice(t,1)[0]),i}function Dde(r,t){return r.reduce((s,i,l)=>{const u=t.get(i);return u&&(s[l]=u),s},Array(r.length))}function Rw(r){return r!==null&&r>=0}function Mde(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==t[s])return!1;return!0}function Tde(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const mL=r=>{let{rects:t,activeIndex:s,overIndex:i,index:l}=r;const u=XN(t,i,s),m=t[l],f=u[l];return!f||!m?null:{x:f.left-m.left,y:f.top-m.top,scaleX:f.width/m.width,scaleY:f.height/m.height}},Pw={scaleX:1,scaleY:1},Ide=r=>{var t;let{activeIndex:s,activeNodeRect:i,index:l,rects:u,overIndex:m}=r;const f=(t=u[s])!=null?t:i;if(!f)return null;if(l===s){const v=u[m];return v?{x:0,y:s<m?v.top+v.height-(f.top+f.height):v.top-f.top,...Pw}:null}const b=Rde(u,l,s);return l>s&&l<=m?{x:0,y:-f.height-b,...Pw}:l<s&&l>=m?{x:0,y:f.height+b,...Pw}:{x:0,y:0,...Pw}};function Rde(r,t,s){const i=r[t],l=r[t-1],u=r[t+1];return i?s<t?l?i.top-(l.top+l.height):u?u.top-(i.top+i.height):0:u?u.top-(i.top+i.height):l?i.top-(l.top+l.height):0:0}const pL="Sortable",fL=ot.createContext({activeIndex:-1,containerId:pL,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mL,disabled:{draggable:!1,droppable:!1}});function Pde(r){let{children:t,id:s,items:i,strategy:l=mL,disabled:u=!1}=r;const{active:m,dragOverlay:f,droppableRects:b,over:v,measureDroppableContainers:k}=jde(),C=Xx(pL,s),_=f.rect!==null,S=O.useMemo(()=>i.map(ne=>typeof ne=="object"&&"id"in ne?ne.id:ne),[i]),M=m!=null,R=m?S.indexOf(m.id):-1,I=v?S.indexOf(v.id):-1,z=O.useRef(S),V=!Mde(S,z.current),U=I!==-1&&R===-1||V,q=Tde(u);sc(()=>{V&&M&&k(S)},[V,S,M,k]),O.useEffect(()=>{z.current=S},[S]);const $=O.useMemo(()=>({activeIndex:R,containerId:C,disabled:q,disableTransforms:U,items:S,overIndex:I,useDragOverlay:_,sortedRects:Dde(S,b),strategy:l}),[R,C,q.draggable,q.droppable,U,S,I,b,_,l]);return ot.createElement(fL.Provider,{value:$},t)}const Ode=r=>{let{id:t,items:s,activeIndex:i,overIndex:l}=r;return XN(s,i,l).indexOf(t)},Bde=r=>{let{containerId:t,isSorting:s,wasDragging:i,index:l,items:u,newIndex:m,previousItems:f,previousContainerId:b,transition:v}=r;return!v||!i||f!==u&&l===m?!1:s?!0:m!==l&&t===b},Lde={duration:200,easing:"ease"},gL="transform",zde=_x.Transition.toString({property:gL,duration:0,easing:"linear"}),Fde={roleDescription:"sortable"};function Vde(r){let{disabled:t,index:s,node:i,rect:l}=r;const[u,m]=O.useState(null),f=O.useRef(s);return sc(()=>{if(!t&&s!==f.current&&i.current){const b=l.current;if(b){const v=vg(i.current,{ignoreTransform:!0}),k={x:b.left-v.left,y:b.top-v.top,scaleX:b.width/v.width,scaleY:b.height/v.height};(k.x||k.y)&&m(k)}}s!==f.current&&(f.current=s)},[t,s,i,l]),O.useEffect(()=>{u&&m(null)},[u]),u}function Ude(r){let{animateLayoutChanges:t=Bde,attributes:s,disabled:i,data:l,getNewIndex:u=Ode,id:m,strategy:f,resizeObserverConfig:b,transition:v=Lde}=r;const{items:k,containerId:C,activeIndex:_,disabled:S,disableTransforms:M,sortedRects:R,overIndex:I,useDragOverlay:z,strategy:V}=O.useContext(fL),U=Gde(i,S),q=k.indexOf(m),$=O.useMemo(()=>({sortable:{containerId:C,index:q,items:k},...l}),[C,l,q,k]),ne=O.useMemo(()=>k.slice(k.indexOf(m)),[k,m]),{rect:Q,node:B,isOver:Y,setNodeRef:J}=Ede({id:m,data:$,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:ne,...b}}),{active:W,activatorEvent:ee,activeNodeRect:te,attributes:be,setNodeRef:xe,listeners:ie,isDragging:ae,over:le,setActivatorNodeRef:oe,transform:G}=Ade({id:m,data:$,attributes:{...Fde,...s},disabled:U.draggable}),ue=ice(J,xe),me=!!W,ye=me&&!M&&Rw(_)&&Rw(I),ve=!z&&ae,Me=ve&&ye?G:null,Ye=ye?Me??(f??V)({rects:R,activeNodeRect:te,activeIndex:_,overIndex:I,index:q}):null,ze=Rw(_)&&Rw(I)?u({id:m,items:k,activeIndex:_,overIndex:I}):q,Qe=W==null?void 0:W.id,Be=O.useRef({activeId:Qe,items:k,newIndex:ze,containerId:C}),fe=k!==Be.current.items,et=t({active:W,containerId:C,isDragging:ae,isSorting:me,id:m,index:q,items:k,newIndex:Be.current.newIndex,previousItems:Be.current.items,previousContainerId:Be.current.containerId,transition:v,wasDragging:Be.current.activeId!=null}),He=Vde({disabled:!et,index:q,node:B,rect:Q});return O.useEffect(()=>{me&&Be.current.newIndex!==ze&&(Be.current.newIndex=ze),C!==Be.current.containerId&&(Be.current.containerId=C),k!==Be.current.items&&(Be.current.items=k)},[me,ze,C,k]),O.useEffect(()=>{if(Qe===Be.current.activeId)return;if(Qe!=null&&Be.current.activeId==null){Be.current.activeId=Qe;return}const xt=setTimeout(()=>{Be.current.activeId=Qe},50);return()=>clearTimeout(xt)},[Qe]),{active:W,activeIndex:_,attributes:be,data:$,rect:Q,index:q,newIndex:ze,items:k,isOver:Y,isSorting:me,isDragging:ae,listeners:ie,node:B,overIndex:I,over:le,setNodeRef:ue,setActivatorNodeRef:oe,setDroppableNodeRef:J,setDraggableNodeRef:xe,transform:He??Ye,transition:tt()};function tt(){if(He||fe&&Be.current.newIndex===q)return zde;if(!(ve&&!WN(ee)||!v)&&(me||et))return _x.Transition.toString({...v,property:gL})}}function Gde(r,t){var s,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(s=r==null?void 0:r.draggable)!=null?s:t.draggable,droppable:(i=r==null?void 0:r.droppable)!=null?i:t.droppable}}function qk(r){if(!r)return!1;const t=r.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Hde=[pr.Down,pr.Right,pr.Up,pr.Left],qde=(r,t)=>{let{context:{active:s,collisionRect:i,droppableRects:l,droppableContainers:u,over:m,scrollableAncestors:f}}=t;if(Hde.includes(r.code)){if(r.preventDefault(),!s||!i)return;const b=[];u.getEnabled().forEach(C=>{if(!C||C!=null&&C.disabled)return;const _=l.get(C.id);if(_)switch(r.code){case pr.Down:i.top<_.top&&b.push(C);break;case pr.Up:i.top>_.top&&b.push(C);break;case pr.Left:i.left>_.left&&b.push(C);break;case pr.Right:i.left<_.left&&b.push(C);break}});const v=Cce({collisionRect:i,droppableRects:l,droppableContainers:b});let k=eL(v,"id");if(k===(m==null?void 0:m.id)&&v.length>1&&(k=v[1].id),k!=null){const C=u.get(s.id),_=u.get(k),S=_?l.get(_.id):null,M=_==null?void 0:_.node.current;if(M&&S&&C&&_){const I=z1(M).some((ne,Q)=>f[Q]!==ne),z=bL(C,_),V=Yde(C,_),U=I||!z?{x:0,y:0}:{x:V?i.width-S.width:0,y:V?i.height-S.height:0},q={x:S.left,y:S.top};return U.x&&U.y?q:Cx(q,U)}}}};function bL(r,t){return!qk(r)||!qk(t)?!1:r.data.current.sortable.containerId===t.data.current.sortable.containerId}function Yde(r,t){return!qk(r)||!qk(t)||!bL(r,t)?!1:r.data.current.sortable.index<t.data.current.sortable.index}const Wde=()=>{const{sections:r,loading:t,error:s,fetchSections:i,addSection:l,editSection:u,deleteSection:m,toggleSection:f,reorderSections:b,getSectionTemplates:v,getSectionTypeDisplayName:k,getSortedSections:C,clearError:_}=N6(),[S,M]=O.useState(null),[R,I]=O.useState(!1),[z,V]=O.useState(null),[U,q]=O.useState(!1),[$,ne]=O.useState(!1),Q=[{key:"banners",label:"Banners",icon:"",description:"Main hero banners and promotional displays"},{key:"flash_deal",label:"Flash Deal",icon:"",description:"Time-limited special offers with countdown"},{key:"featured_products",label:"Featured Products",icon:"",description:"Highlighted products for promotion"},{key:"categories",label:"Categories",icon:"",description:"Product category navigation"},{key:"featured_deal",label:"Featured Deal",icon:"",description:"Special deal of the moment"},{key:"clearance_sales",label:"Clearance Sales",icon:"",description:"Discounted items and clearance"},{key:"channel",label:"Channel",icon:"",description:"Video content and media sections"},{key:"deal_of_the_day",label:"Deal of the Day",icon:"",description:"Daily special offers"},{key:"new_arrivals",label:"New Arrivals",icon:"",description:"Recently added products"},{key:"section_banners",label:"Section Banners",icon:"",description:"Additional promotional banners"},{key:"brands",label:"Brands",icon:"",description:"Brand showcase and navigation"},{key:"phones_and_gadgets",label:"Phones and Gadgets",icon:"",description:"Mobile devices and accessories"},{key:"electronic_gadgets",label:"Electronic Gadgets",icon:"",description:"Electronic products and gadgets"},{key:"footer_section",label:"Footer Section",icon:"",description:"Footer with policies and info"}],B=fe=>{const et=Q.find(He=>He.key===fe);return et?et.label:k(fe)},[Y,J]=O.useState(!1),[W,ee]=O.useState(!1),[te,be]=O.useState([]),xe=vce(QR($N),QR(QN,{coordinateGetter:qde})),ie=async fe=>{const{active:et,over:He}=fe;if(!He||et.id===He.id)return;const tt=r.findIndex(_e=>_e.section_id===et.id),xt=r.findIndex(_e=>_e.section_id===He.id);if(tt!==-1&&xt!==-1){const lt=XN(r,tt,xt).map((Mt,br)=>({section_id:Mt.section_id,display_order:br+1}));try{await b(lt)}catch(Mt){console.error("Error in drag end:",Mt),Se.error("Failed to reorder sections")}}},ae=({section:fe})=>{const{attributes:et,listeners:He,setNodeRef:tt,transform:xt,transition:_e,isDragging:lt}=Ude({id:fe.section_id}),Mt={transform:_x.Transform.toString(xt),transition:_e,opacity:lt?.5:1};return n.jsxs("div",{ref:tt,style:Mt,className:`bg-white rounded-lg border shadow-sm p-4 transition-all ${lt?"shadow-lg":""} ${fe.enabled?"":"opacity-60"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{...et,...He,className:"text-gray-400 hover:text-gray-600 cursor-grab",children:n.jsx(Xw,{size:20})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${fe.enabled?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{className:"font-medium text-gray-800",children:fe.title}),n.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:B(fe.section_type)}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:fe.design_template})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Me(fe.section_id),className:`p-2 rounded-md transition-colors ${fe.enabled?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:fe.enabled?"Disable section":"Enable section",children:fe.enabled?n.jsx(Ti,{size:16}):n.jsx(See,{size:16})}),n.jsx("button",{onClick:()=>ze(fe),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit section",children:n.jsx(cx,{size:16})}),n.jsx("button",{onClick:()=>Qe(fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete section",children:n.jsx(un,{size:16})})]})]}),Object.keys(fe.config).length>0&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(W9,{size:14}),n.jsx("span",{children:"Configuration:"}),n.jsx("span",{className:"font-mono text-xs bg-gray-50 px-2 py-1 rounded",children:Object.keys(fe.config).join(", ")})]})})]})},le=async()=>{try{ne(!0);const fe=await Jt.post("/admin/homepage/h15/initialize/");Se.success(fe.data.message),await i(),q(!0)}catch(fe){console.error("Error initializing H-15 sections:",fe),Se.error("Failed to initialize H-15 sections")}finally{ne(!1)}},oe=async()=>{if(window.confirm("Are you sure you want to reset all sections to default H-15 configuration? This cannot be undone."))try{ne(!0);const fe=await Jt.post("/admin/homepage/h15/reset/");Se.success(fe.data.message),await i()}catch(fe){console.error("Error resetting to H-15 default:",fe),Se.error("Failed to reset sections")}finally{ne(!1)}},[G,ue]=O.useState({section_type:"",title:"",enabled:!0,order:0,design_template:"default",config:{}});O.useEffect(()=>{i()},[i]),O.useEffect(()=>{r&&r.length>=14?q(!0):q(!1)},[r]),O.useEffect(()=>{s&&(Se.error(s),_())},[s,_]);const me=async()=>{try{if(!G.section_type||!G.title){Se.error("Section type and title are required");return}await l(G),J(!1),Ye()}catch(fe){console.error("Error adding section:",fe)}},ye=async()=>{try{if(!S.title){Se.error("Title is required");return}await u(S.section_id,S),ee(!1),M(null)}catch(fe){console.error("Error editing section:",fe)}},ve=async()=>{try{z&&(await m(z.section_id),I(!1),V(null))}catch(fe){console.error("Error deleting section:",fe)}},Me=async fe=>{try{await f(fe)}catch(et){console.error("Error toggling section:",et)}},Ae=async(fe,et=!1)=>{try{const He=await v(fe);be(He),et?M({...S,section_type:fe,design_template:He[0]||"default"}):ue({...G,section_type:fe,design_template:He[0]||"default"})}catch(He){console.error("Error fetching templates:",He),be(["default"])}},Ye=()=>{ue({section_type:"",title:"",enabled:!0,order:r.length+1,design_template:"default",config:{}}),be([])},ze=fe=>{M({...fe}),ee(!0),Ae(fe.section_type,!0)},Qe=fe=>{V(fe),I(!0)},Be=C();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Homepage Section Manager (H-15)"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and reorder all 14 homepage sections as per H-15 requirements"}),U&&n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[n.jsxs("span",{className:"text-green-600",children:[" ",r.length," sections configured"]}),n.jsxs("span",{className:"text-blue-600",children:[r.filter(fe=>fe.enabled).length," enabled"]}),n.jsxs("span",{className:"text-gray-500",children:[r.filter(fe=>!fe.enabled).length," disabled"]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(st,{variant:"outline",onClick:()=>i(),disabled:t,className:"flex items-center space-x-2",children:[n.jsx(Mo,{className:t?"animate-spin":""}),n.jsx("span",{children:"Refresh"})]}),!U&&n.jsxs(st,{variant:"primary",onClick:le,disabled:t||$,isLoading:$,className:"flex items-center space-x-2",children:[n.jsx(Fy,{}),n.jsx("span",{children:"Initialize H-15 Sections"})]}),U&&n.jsxs(st,{variant:"outline",onClick:oe,disabled:t||$,isLoading:$,className:"flex items-center space-x-2",children:[n.jsx(Mo,{}),n.jsx("span",{children:"Reset to H-15 Default"})]}),U&&n.jsxs(st,{variant:"secondary",onClick:()=>{Ye(),J(!0)},className:"flex items-center space-x-2",children:[n.jsx(dn,{}),n.jsx("span",{children:"Add Section"})]})]})]}),t&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sections..."})]}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),!t&&Be.length>0&&n.jsx(kde,{sensors:xe,collisionDetection:kce,onDragEnd:ie,children:n.jsx(Pde,{items:Be.map(fe=>fe.section_id),strategy:Ide,children:n.jsx("div",{className:"space-y-4",children:Be.map((fe,et)=>n.jsx(ae,{section:fe,index:et},fe.section_id))})})}),!t&&Be.length===0&&n.jsxs("div",{className:"text-center py-12 border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(Fy,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"H-15 Homepage Not Initialized"}),n.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto",children:"Initialize your homepage with the standard H-15 configuration including all 14 required sections for optimal performance."})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl mx-auto mb-6 border shadow-sm",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"H-15 Standard Sections Include:"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-600",children:Q.map((fe,et)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-medium",children:et+1}),n.jsx("span",{children:fe.label})]},fe.key))})]}),n.jsxs(st,{variant:"primary",onClick:le,disabled:$,isLoading:$,className:"px-8 py-3 text-lg mr-4",children:[n.jsx(Fy,{className:"mr-2"}),"Initialize H-15 Homepage Sections"]}),n.jsxs(st,{variant:"outline",onClick:()=>J(!0),className:"px-6 py-3",children:[n.jsx(dn,{className:"mr-2"}),"Add Custom Section"]})]}),Y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Section"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:G.section_type,onChange:fe=>Ae(fe.target.value),children:[n.jsx("option",{value:"",children:"Select section type"}),Q.map(fe=>n.jsx("option",{value:fe.key,children:fe.label},fe.key))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:G.title,onChange:fe=>ue({...G,title:fe.target.value}),placeholder:"Enter section title"})]}),te.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Design Template"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:G.design_template,onChange:fe=>ue({...G,design_template:fe.target.value}),children:te.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:G.order,onChange:fe=>ue({...G,order:parseInt(fe.target.value)||0}),min:"0"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"enabled",checked:G.enabled,onChange:fe=>ue({...G,enabled:fe.target.checked}),className:"mr-2"}),n.jsx("label",{htmlFor:"enabled",className:"text-sm text-gray-700",children:"Enable section"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(st,{variant:"outline",onClick:()=>{J(!1),Ye()},children:"Cancel"}),n.jsx(st,{variant:"primary",onClick:me,disabled:t,children:"Add Section"})]})]})}),W&&S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Section"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:S.section_type,onChange:fe=>Ae(fe.target.value,!0),children:Q.map(fe=>n.jsx("option",{value:fe.key,children:fe.label},fe.key))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:S.title,onChange:fe=>M({...S,title:fe.target.value}),placeholder:"Enter section title"})]}),te.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Design Template"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:S.design_template,onChange:fe=>M({...S,design_template:fe.target.value}),children:te.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:S.order,onChange:fe=>M({...S,order:parseInt(fe.target.value)||0}),min:"0"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"editEnabled",checked:S.enabled,onChange:fe=>M({...S,enabled:fe.target.checked}),className:"mr-2"}),n.jsx("label",{htmlFor:"editEnabled",className:"text-sm text-gray-700",children:"Enable section"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(st,{variant:"outline",onClick:()=>{ee(!1),M(null)},children:"Cancel"}),n.jsx(st,{variant:"primary",onClick:ye,disabled:t,children:"Save Changes"})]})]})}),n.jsx(ih,{isOpen:R,onClose:()=>I(!1),onConfirm:ve,title:"Delete Section",message:z?`Are you sure you want to delete "${z.title}"? This action cannot be undone.`:"Are you sure you want to delete this section?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:t})]})},Kde=()=>{const[r,t]=O.useState("logo");return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Content Management"})}),n.jsxs("div",{className:"shadow-md rounded-lg overflow-hidden",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="logo"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="logo"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="logo"?"var(--brand-primary)":"transparent",backgroundColor:r==="logo"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("logo"),children:"Logo"}),n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="banners"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="banners"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="banners"?"var(--brand-primary)":"transparent",backgroundColor:r==="banners"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("banners"),children:"Banners"}),n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="categories"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="categories"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="categories"?"var(--brand-primary)":"transparent",backgroundColor:r==="categories"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("categories"),children:"Categories"}),n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="footer"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="footer"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="footer"?"var(--brand-primary)":"transparent",backgroundColor:r==="footer"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("footer"),children:"Footer"}),n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="pages"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="pages"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="pages"?"var(--brand-primary)":"transparent",backgroundColor:r==="pages"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("pages"),children:"Pages"}),n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="theme"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="theme"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="theme"?"var(--brand-primary)":"transparent",backgroundColor:r==="theme"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("theme"),children:"Theme & Colors"}),n.jsx("button",{className:`px-6 py-3 font-medium transition-all duration-200 ${r==="homepage"?"border-b-2":"hover:opacity-75"}`,style:{color:r==="homepage"?"var(--brand-primary)":"var(--text-secondary)",borderBottomColor:r==="homepage"?"var(--brand-primary)":"transparent",backgroundColor:r==="homepage"?"var(--bg-accent-light)":"transparent"},onClick:()=>t("homepage"),children:"Homepage Sections"})]}),n.jsxs("div",{className:"p-6",children:[r==="banners"&&n.jsx(lle,{positionOptions:ale}),r==="logo"&&n.jsx(cle,{}),r==="categories"&&n.jsx(dle,{}),r==="footer"&&n.jsx(hle,{}),r==="pages"&&n.jsx(Ule,{}),r==="theme"&&n.jsx(oce,{}),r==="homepage"&&n.jsx(Wde,{})]})]})]})},Qde=()=>{const r=ns(),{adminLogin:t,devModeLogin:s,testServerConnection:i,error:l,clearError:u,isLoading:m}=VN(),[f,b]=O.useState({username:"",password:""}),[v,k]=O.useState({}),[C,_]=O.useState(!1),[S,M]=O.useState(null),R=U=>{const{name:q,value:$}=U.target;b(ne=>({...ne,[q]:$})),v[q]&&k(ne=>({...ne,[q]:""})),l&&u()},I=()=>{const U={};return f.username.trim()||(U.username="Username is required"),f.password||(U.password="Password is required"),k(U),Object.keys(U).length===0},z=async U=>{if(U.preventDefault(),!!I())try{if(C&&s(f)){r("/admin/dashboard");return}await t(f),r("/admin/dashboard")}catch(q){console.error("Admin login failed:",q)}},V=async()=>{const U=await i();M(U)};return n.jsxs(Qm,{title:"Admin Portal Login",children:[n.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Sign in to manage the application."}),!1,n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"text-center mb-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Backend Server Test"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check if production server is accessible (optional)"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{type:"button",onClick:V,disabled:m,className:"px-4 py-2 text-sm bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors disabled:opacity-50",children:m?"Testing...":"Test Server Connection"})})]}),S&&n.jsxs("div",{className:`mt-3 p-4 rounded-lg text-sm border ${S.success?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-800"}`,children:[n.jsx("div",{className:"font-medium text-center mb-2",children:S.success?" Backend Server Online":" Backend Server Test Results"}),n.jsx("div",{className:"text-center mb-2",children:S.message}),S.status&&n.jsxs("div",{className:"text-center text-xs mb-2",children:["HTTP Status: ",S.status]}),S.troubleshooting&&S.troubleshooting.length>0&&n.jsx("div",{className:"mt-3 text-xs",children:n.jsx("div",{className:"space-y-1",children:S.troubleshooting.map((U,q)=>n.jsx("div",{className:`${U.startsWith("")||U.startsWith("")?"font-medium":""} ${U===""?"h-1":""}`,children:U},q))})})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:z,children:[n.jsxs("div",{className:"rounded-md space-y-5",children:[n.jsx(qr,{label:"Username",type:"text",name:"username",value:f.username,onChange:R,required:!0,error:v.username,placeholder:"admin",icon:"user"}),n.jsx(qr,{label:"Password",type:"password",name:"password",value:f.password,onChange:R,required:!0,error:v.password,placeholder:"",icon:"lock"})]}),l&&n.jsxs("div",{className:"text-red-500 text-sm bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 rounded-md",children:[n.jsx("div",{className:"font-medium mb-1",children:"Login Failed"}),n.jsx("div",{children:l}),l.includes("502")&&n.jsxs("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:[n.jsx("strong",{children:"Troubleshooting:"}),n.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[n.jsx("li",{children:"Check if the backend server is running"}),n.jsx("li",{children:"Verify the API URL in constants.js"}),n.jsx("li",{children:"Contact your system administrator"}),!1]})]})]}),n.jsx("div",{className:"pt-2",children:n.jsx(st,{type:"submit",isLoading:m,variant:"primary",size:"lg",fullWidth:!0,children:m?"Signing in...":"Sign in"})}),n.jsx("div",{className:"text-sm text-center mt-4",children:n.jsx(rt,{to:"/admin/register",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Create an admin account"})})]})]})},Jde=()=>{const r=ns(),{adminRegister:t,error:s,clearError:i,isLoading:l}=VN(),[u,m]=O.useState({username:"",password:"",secretKey:""}),[f,b]=O.useState({}),v=_=>{const{name:S,value:M}=_.target;m(R=>({...R,[S]:M})),f[S]&&b(R=>({...R,[S]:""})),s&&i()},k=()=>{const _={};return u.username.trim()||(_.username="Username is required"),u.password?u.password.length<6&&(_.password="Password must be at least 6 characters"):_.password="Password is required",u.secretKey.trim()||(_.secretKey="Secret Key is required"),b(_),Object.keys(_).length===0},C=async _=>{if(_.preventDefault(),!!k())try{await t({username:u.username,password:u.password,secretKey:u.secretKey}),r("/admin/login")}catch(S){console.error("Admin registration failed:",S)}};return n.jsxs(Qm,{title:"Create Admin Account",children:[n.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Register to gain administrative access."}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[n.jsxs("div",{className:"rounded-md space-y-5",children:[n.jsx(qr,{label:"Username",type:"text",name:"username",value:u.username,onChange:v,required:!0,error:f.username,placeholder:"admin",icon:"user"}),n.jsx(qr,{label:"Password",type:"password",name:"password",value:u.password,onChange:v,required:!0,error:f.password,placeholder:"",icon:"lock"}),n.jsx(qr,{label:"Secret Key",type:"password",name:"secretKey",value:u.secretKey,onChange:v,required:!0,error:f.secretKey,placeholder:"Enter your secret key",icon:"key"})]}),s&&n.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:s}),n.jsx("div",{className:"pt-2",children:n.jsx(st,{type:"submit",isLoading:l,variant:"primary",size:"lg",fullWidth:!0,children:l?"Creating Account...":"Create Account"})}),n.jsxs("div",{className:"text-sm text-center mt-4",children:["Already have an admin account?",n.jsx(rt,{to:"/admin/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Sign in"})]})]})]})},$de=()=>{const{deliveryPartners:r,fetchDeliveryPartners:t,verifyDeliveryPartner:s}=ni(),[i,l]=O.useState(""),[u,m]=O.useState("all"),[f,b]=O.useState(!1),[v,k]=O.useState(null),[C,_]=O.useState(!1),[S,M]=O.useState(null),[R,I]=O.useState(1),z=10;O.useEffect(()=>{t().catch(ee=>{Ot.error("Failed to load delivery partners"),console.error("Error fetching delivery partners:",ee)})},[]);const V=ee=>{k(ee),b(!0)},U=ee=>{M(ee),_(!0)},q=async()=>{v&&(Ot.promise(s(v.partner_id),{loading:`Verifying ${v.name}...`,success:`${v.name} has been verified successfully!`,error:`Failed to verify ${v.name}`}),b(!1))},$=r.list.filter(ee=>{const te=ee.name.toLowerCase().includes(i.toLowerCase())||ee.email.toLowerCase().includes(i.toLowerCase())||ee.phone.includes(i);return u==="all"?te:u==="verified"?te&&ee.is_verified:u==="unverified"?te&&!ee.is_verified:te}),ne=$.length,Q=Math.ceil(ne/z),B=(R-1)*z,Y=B+z,J=$.slice(B,Y),W=ee=>{I(ee),window.scrollTo({top:0,behavior:"smooth"})};return O.useEffect(()=>{I(1)},[i,u]),n.jsxs("div",{className:"animate-fadeIn",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Partners"}),n.jsxs("button",{onClick:()=>{Ot.promise(t(),{loading:"Refreshing partners list...",success:"Partners list updated!",error:"Failed to refresh partners"})},className:"flex items-center bg-brand-primary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all duration-200",children:[n.jsx(Mo,{className:"mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:n.jsx(Ds,{className:"text-blue-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Partners"}),n.jsx("p",{className:"text-2xl font-bold",children:r.list.length})]})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:n.jsx(Bn,{className:"text-green-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Verified Partners"}),n.jsx("p",{className:"text-2xl font-bold",children:r.list.filter(ee=>ee.is_verified).length})]})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:n.jsx(Yt,{className:"text-yellow-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Verification"}),n.jsx("p",{className:"text-2xl font-bold",children:r.list.filter(ee=>!ee.is_verified).length})]})]})})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search partners...",value:i,onChange:ee=>l(ee.target.value),className:"pl-10 p-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})}),n.jsx("div",{className:"w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-md px-3",children:[n.jsx(wd,{className:"text-gray-400"}),n.jsxs("select",{value:u,onChange:ee=>m(ee.target.value),className:"bg-transparent py-2 focus:outline-none",children:[n.jsx("option",{value:"all",children:"All Partners"}),n.jsx("option",{value:"verified",children:"Verified"}),n.jsx("option",{value:"unverified",children:"Unverified"})]})]})})]}),r.loading?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):r.error?n.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-500 flex items-center",children:[n.jsx(Pm,{className:"mr-2",size:20}),n.jsx("span",{children:r.error})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 text-left",children:[n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:$.length>0?J.map(ee=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"font-medium text-gray-900",children:ee.name})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:ee.email}),n.jsx("div",{className:"text-sm text-gray-500",children:ee.phone})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee.is_verified?n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending Verification"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(ee.created_at).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!ee.is_verified&&n.jsx("button",{onClick:()=>V(ee),className:"text-brand-primary hover:text-brand-primary-dark mr-3",children:"Verify"}),n.jsxs("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>U(ee),children:[n.jsx(Ti,{className:"inline mr-1"}),"Details"]})]})]},ee.partner_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No delivery partners found."})})})]})}),ne>0&&n.jsx($a,{currentPage:R,totalPages:Q,onPageChange:W,totalItems:ne,itemsPerPage:z,showItemCount:!0}),f&&v&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 transform transition-all duration-200 scale-100",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start mb-4",children:[n.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:n.jsx(Bn,{className:"text-green-500",size:24})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Verify Delivery Partner"}),n.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:["Are you sure you want to verify",n.jsx("span",{className:"font-semibold",children:v.name}),"as a delivery partner?"]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-color)",color:"var(--text-secondary)",backgroundColor:"transparent"},children:"Cancel"}),n.jsx("button",{onClick:q,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Verify Partner"})]})]})})}),C&&S&&n.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-90vh overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",maxHeight:"90vh"},children:[n.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2"}),"Delivery Partner Details"]}),n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Complete information for ",S.name]})]}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-md",style:{borderRadius:"var(--rounded-md)"},children:n.jsx(Yt,{size:20,style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Status:"}),S.is_verified?n.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 flex items-center",children:[n.jsx(Bn,{className:"mr-1",size:16}),"Verified"]}):n.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800 flex items-center",children:[n.jsx(rn,{className:"mr-1",size:16}),"Pending Verification"]})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Full Name:"}),n.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-primary)"},children:S.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Partner ID:"}),n.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:S.partner_id})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(ia,{className:"mr-2"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[n.jsx(nc,{className:"inline mr-1"}),"Email Address:"]}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.email})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[n.jsx(ia,{className:"inline mr-1"}),"Phone Number:"]}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.phone})]})]})]}),(S.address||S.city||S.state||S.pincode)&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Cn,{className:"mr-2"}),"Address Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.address&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Address:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.address})]}),S.city&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"City:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.city})]}),S.state&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"State:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.state})]}),S.pincode&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Pincode:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.pincode})]})]})]}),(S.vehicle_type||S.vehicle_number||S.license_number)&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Lr,{className:"mr-2"}),"Vehicle Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.vehicle_type&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Vehicle Type:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.vehicle_type})]}),S.vehicle_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Vehicle Number:"}),n.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:S.vehicle_number})]}),S.license_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"License Number:"}),n.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:S.license_number})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(ri,{className:"mr-2"}),"Registration Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Registration Date:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Registration Time:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]}),S.updated_at&&S.updated_at!==S.created_at&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Last Updated:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.updated_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Update Time:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.updated_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[!S.is_verified&&n.jsxs("button",{onClick:()=>{_(!1),V(S)},className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--success-color)",color:"white",borderRadius:"var(--rounded-md)"},children:[n.jsx(Bn,{className:"inline mr-1",size:16}),"Verify Partner"]}),n.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:"Close"})]})]})})]})]})},Zx=nn(JA((r,t)=>({inquiries:{list:[],loading:!1,error:null},catalogs:{data:null,loading:!1,error:null},faq:{data:[],loading:!1,error:null},selectedInquiry:null,selectedCatalog:null,fetchInquiries:async()=>{var s,i;r(l=>({inquiries:{...l.inquiries,loading:!0,error:null}}));try{const u=(await Ze.get("/sell-mobile/inquiries/")).data.data;return r({inquiries:{list:u,loading:!1,error:null}}),{success:!0,data:u}}catch(l){return r(u=>{var m,f;return{inquiries:{...u.inquiries,loading:!1,error:((f=(m=l.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to fetch inquiries"}}}),{success:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch inquiries"}}},setSelectedInquiry:s=>{r({selectedInquiry:s})},clearSelectedInquiry:()=>{r({selectedInquiry:null})},updateInquiryStatus:async(s,i)=>{var l,u;r(m=>({inquiries:{...m.inquiries,loading:!0,error:null}}));try{const m=await Ze.put(`/sell-mobile/listings/${s}/status/`,{status:i});if(m.status===200)return r(f=>{const b=f.inquiries.list.map(v=>v.id===s?{...v,status:i}:v);return{inquiries:{...f.inquiries,list:b,loading:!1,error:null}}}),{success:!0,message:m.data.message||"Inquiry status updated successfully"}}catch(m){return r(f=>{var b,v;return{inquiries:{...f.inquiries,loading:!1,error:((v=(b=m.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to update inquiry status"}}}),{success:!1,error:((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to update inquiry status"}}},deleteInquiry:async s=>{var i,l;r(u=>({inquiries:{...u.inquiries,loading:!0,error:null}}));try{const u=await Ze.delete(`/sell-mobile/inquiries/${s}/delete/`);if(u.status===200)return r(m=>({inquiries:{...m.inquiries,list:m.inquiries.list.filter(f=>f.id!==s),loading:!1,error:null}})),{success:!0,message:u.data.message||"Inquiry deleted successfully"}}catch(u){return r(m=>{var f,b;return{inquiries:{...m.inquiries,loading:!1,error:((b=(f=u.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to delete inquiry"}}}),{success:!1,error:((l=(i=u.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete inquiry"}}},fetchCatalogs:async()=>{var s,i;r(l=>({catalogs:{...l.catalogs,loading:!0,error:null}}));try{const u=(await Ze.get("/sell-mobile/catalog/all/")).data.data.brands;return r({catalogs:{data:u,loading:!1,error:null}}),{success:!0,data:u}}catch(l){return r(u=>{var m,f;return{catalogs:{...u.catalogs,data:null,loading:!1,error:((f=(m=l.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to fetch phone catalogs"}}}),{success:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch phone catalogs"}}},addBrand:async s=>{var i,l,u;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.post("/sell-mobile/catalog/brands/",s);if(m.status===201||m.status===200)return r(f=>({catalogs:{...f.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Brand added successfully"),{success:!0,data:m.data};throw new Error(((i=m.data)==null?void 0:i.error)||"Failed to add brand")}catch(m){const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to add brand";return r(b=>({catalogs:{...b.catalogs,loading:!1,error:f}})),$e.error(f),{success:!1,error:f}}},updateBrand:async(s,i)=>{var l,u,m;r(f=>({catalogs:{...f.catalogs,loading:!0,error:null}}));try{const f=await Ze.put(`/sell-mobile/catalog/brands/${s}/`,i);if(f.status===200)return r(b=>({catalogs:{...b.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Brand updated successfully"),{success:!0,data:f.data};throw new Error(((l=f.data)==null?void 0:l.error)||"Failed to update brand")}catch(f){const b=((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.error)||f.message||"Failed to update brand";return r(v=>({catalogs:{...v.catalogs,loading:!1,error:b}})),$e.error(b),{success:!1,error:b}}},deleteBrand:async s=>{var i,l,u;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.delete(`/sell-mobile/catalog/brands/${s}/`);if(m.status===200||m.status===204)return r(f=>({catalogs:{...f.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Brand deleted successfully"),{success:!0};throw new Error(((i=m.data)==null?void 0:i.error)||"Failed to delete brand")}catch(m){const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to delete brand";return r(b=>({catalogs:{...b.catalogs,loading:!1,error:f}})),$e.error(f),{success:!1,error:f}}},addSeries:async(s,i)=>{var l,u;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.post(`/sell-mobile/catalog/brands/${s}/series/`,i);if(m.status===201||m.status===200)return r(f=>({catalogs:{...f.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Series added successfully"),{success:!0,data:m.data}}catch(m){const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to add series";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:f}})),$e.error(f),m}},updateSeries:async(s,i,l)=>{var u,m;r(f=>({catalogs:{...f.catalogs,loading:!0,error:null}}));try{const f=await Ze.put(`/sell-mobile/catalog/brands/${s}/series/${i}/`,l);if(f.status===200)return r(b=>({catalogs:{...b.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Series updated successfully"),{success:!0,data:f.data}}catch(f){const b=((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.error)||f.message||"Failed to update series";throw r(v=>({catalogs:{...v.catalogs,loading:!1,error:b}})),$e.error(b),f}},deleteSeries:async(s,i)=>{var l,u;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.delete(`/sell-mobile/catalog/brands/${s}/series/${i}/`);if(m.status===204||m.status===200)return r(f=>({catalogs:{...f.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Series deleted successfully"),{success:!0}}catch(m){const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to delete series";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:f}})),$e.error(f),m}},addModel:async(s,i)=>{var l,u;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.post(`/sell-mobile/catalog/series/${s}/models/`,i);if(m.status===201||m.status===200)return r(f=>({catalogs:{...f.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Model added successfully"),{success:!0,data:m.data}}catch(m){const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to add model";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:f}})),$e.error(f),m}},updateModel:async(s,i,l)=>{var u,m;r(f=>({catalogs:{...f.catalogs,loading:!0,error:null}}));try{const f=await Ze.put(`/sell-mobile/catalog/series/${s}/models/${i}/`,l);if(f.status===200)return r(b=>({catalogs:{...b.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Model updated successfully"),{success:!0,data:f.data}}catch(f){const b=((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.error)||f.message||"Failed to update model";throw r(v=>({catalogs:{...v.catalogs,loading:!1,error:b}})),$e.error(b),f}},deleteModel:async(s,i)=>{var l,u;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.delete(`/sell-mobile/catalog/series/${s}/models/${i}/`);if(m.status===204||m.status===200)return r(f=>({catalogs:{...f.catalogs,loading:!1}})),await t().fetchCatalogs(),$e.success("Model deleted successfully"),{success:!0}}catch(m){const f=((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to delete model";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:f}})),$e.error(f),m}},fetchFaq:async()=>{var s,i,l,u;r(m=>({faq:{...m.faq,loading:!0,error:null}}));try{const m=await Ze.get("/sell-mobile/faqs/");let f=[];return m.data.faqs?f=m.data.faqs:Array.isArray(m.data)?f=m.data:m.data.results?f=m.data.results:m.data.data&&(f=m.data.data),r({faq:{data:f,loading:!1,error:null}}),{success:!0,data:f}}catch(m){const f=((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.message)||((u=(l=m.response)==null?void 0:l.data)==null?void 0:u.error)||m.message||"Failed to fetch FAQs";return r(b=>({faq:{...b.faq,loading:!1,error:f}})),$e.error(f),{success:!1,error:f}}},addFaq:async s=>{var i,l,u,m,f,b;r(v=>({faq:{...v.faq,loading:!0,error:null}}));try{const v=await Ze.post("/sell-mobile/faqs/",s);if(v.status===201||v.status===200){await t().fetchFaq();const k=v.data.message||v.data.detail||"FAQ added successfully";return $e.success(k),{success:!0,data:v.data}}else throw new Error("Unexpected response status")}catch(v){const k=((l=(i=v.response)==null?void 0:i.data)==null?void 0:l.message)||((m=(u=v.response)==null?void 0:u.data)==null?void 0:m.error)||((b=(f=v.response)==null?void 0:f.data)==null?void 0:b.detail)||v.message||"Failed to add FAQ";throw r(C=>({faq:{...C.faq,loading:!1,error:k}})),$e.error(k),v}},updateFaq:async(s,i)=>{var l,u,m,f,b,v;r(k=>({faq:{...k.faq,loading:!0,error:null}}));try{const k=await Ze.put(`/sell-mobile/faqs/${s}/`,i);if(k.status===200){await t().fetchFaq();const C=k.data.message||k.data.detail||"FAQ updated successfully";return $e.success(C),{success:!0,data:k.data}}else throw new Error("Unexpected response status")}catch(k){const C=((u=(l=k.response)==null?void 0:l.data)==null?void 0:u.message)||((f=(m=k.response)==null?void 0:m.data)==null?void 0:f.error)||((v=(b=k.response)==null?void 0:b.data)==null?void 0:v.detail)||k.message||"Failed to update FAQ";throw r(_=>({faq:{..._.faq,loading:!1,error:C}})),$e.error(C),k}},deleteFaq:async s=>{var i,l,u,m,f,b,v,k;r(C=>({faq:{...C.faq,loading:!0,error:null}}));try{const C=await Ze.delete(`/sell-mobile/faqs/${s}/`);if(C.status===204||C.status===200){await t().fetchFaq();const _=((i=C.data)==null?void 0:i.message)||((l=C.data)==null?void 0:l.detail)||"FAQ deleted successfully";return $e.success(_),{success:!0}}else throw new Error("Unexpected response status")}catch(C){const _=((m=(u=C.response)==null?void 0:u.data)==null?void 0:m.message)||((b=(f=C.response)==null?void 0:f.data)==null?void 0:b.error)||((k=(v=C.response)==null?void 0:v.data)==null?void 0:k.detail)||C.message||"Failed to delete FAQ";throw r(S=>({faq:{...S.faq,loading:!1,error:_}})),$e.error(_),C}}}),{name:"admin-sell-phone-store"}));var w2={exports:{}},k2,l3;function Xde(){if(l3)return k2;l3=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return k2=r,k2}var C2,c3;function Zde(){if(c3)return C2;c3=1;var r=Xde();function t(){}function s(){}return s.resetWarningCache=t,C2=function(){function i(m,f,b,v,k,C){if(C!==r){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function l(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:l,element:i,elementType:i,instanceOf:l,node:i,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:s,resetWarningCache:t};return u.PropTypes=u,u},C2}var d3;function eue(){return d3||(d3=1,w2.exports=Zde()()),w2.exports}var tue=eue();const zt=Yk(tue),rue=({label:r,accept:t="image/*",maxSize:s=5*1024*1024,dimensions:i=null,onFileSelect:l,currentImage:u=null,error:m=null,required:f=!1,disabled:b=!1,helperText:v=null})=>{const[k,C]=O.useState(!1),[_,S]=O.useState(u),[M,R]=O.useState(m),I=O.useRef(),z=B=>B?B.type.startsWith("image/")?B.size>s?{valid:!1,error:`File size must be less than ${(s/1048576).toFixed(1)}MB`}:{valid:!0,error:null}:{valid:!1,error:"Please select an image file"}:{valid:!1,error:"No file selected"},V=B=>{const Y=z(B);if(!Y.valid){R(Y.error);return}const J=new FileReader;J.onload=W=>{S(W.target.result)},J.readAsDataURL(B),R(null),l&&l(B)},U=B=>{B.preventDefault(),B.stopPropagation(),B.type==="dragenter"||B.type==="dragover"?C(!0):B.type==="dragleave"&&C(!1)},q=B=>{B.preventDefault(),B.stopPropagation(),C(!1),B.dataTransfer.files&&B.dataTransfer.files[0]&&V(B.dataTransfer.files[0])},$=B=>{B.preventDefault(),B.target.files&&B.target.files[0]&&V(B.target.files[0])},ne=()=>{S(null),R(null),I.current&&(I.current.value=""),l&&l(null)},Q=B=>{if(B===0)return"0 Bytes";const Y=1024,J=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(B)/Math.log(Y));return parseFloat((B/Math.pow(Y,W)).toFixed(2))+" "+J[W]};return n.jsxs("div",{className:"w-full",children:[r&&n.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[r,f&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${k?"border-blue-400 bg-blue-50":M?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"} ${b?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{backgroundColor:k?"rgba(59, 130, 246, 0.05)":M?"rgba(239, 68, 68, 0.05)":"var(--bg-secondary)",borderColor:k?"var(--brand-primary)":M?"var(--error-color)":"var(--border-primary)"},onDragEnter:U,onDragLeave:U,onDragOver:U,onDrop:q,onClick:()=>{var B;return!b&&((B=I.current)==null?void 0:B.click())},children:[n.jsx("input",{ref:I,type:"file",accept:t,onChange:$,className:"hidden",disabled:b}),_?n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:_,alt:"Preview",className:"max-h-32 max-w-full rounded-lg object-contain"}),n.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),ne()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",disabled:b,children:n.jsx(Yt,{size:12})})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Ok,{size:32,style:{color:M?"var(--error-color)":"var(--text-secondary)"}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Click to upload or drag and drop"}),n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[t.includes("image")?"PNG, JPG, GIF up to":"Files up to"," ",Q(s)]})]})]})]}),(v||i)&&n.jsxs("div",{className:"mt-2 space-y-1",children:[v&&n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:v}),i&&n.jsxs("div",{className:"flex items-center space-x-1 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx(V9,{size:12}),n.jsxs("span",{children:["Recommended: ",i.width,"",i.height,"px",i.aspectRatio&&` (${i.aspectRatio})`]})]})]}),M&&n.jsxs("div",{className:"mt-2 flex items-center space-x-1 text-xs",style:{color:"var(--error-color)"},children:[n.jsx(el,{size:12}),n.jsx("span",{children:M})]})]})},yL=({brandToEdit:r,onClose:t,open:s})=>{const{addBrand:i,updateBrand:l}=Zx(),[u,m]=O.useState({id:"",logo_url:""}),[f,b]=O.useState(null),[v,k]=O.useState("file"),[C,_]=O.useState(!1),[S,M]=O.useState({});O.useEffect(()=>{r?(m({id:r.id||"",logo_url:r.logo_url||""}),k(r.logo_url?"url":"file")):(m({id:"",logo_url:""}),k("file")),b(null),M({})},[r,s]);const R=()=>{const q={};return u.id.trim()?/^[a-z0-9_-]+$/.test(u.id)||(q.id="Brand ID must contain only lowercase letters, numbers, hyphens, and underscores"):q.id="Brand ID is required",v==="url"?u.logo_url&&!I(u.logo_url)&&(q.logo_url="Please enter a valid URL"):v==="file"&&!f&&!(r!=null&&r.logo_url)&&(q.logo_file="Please select a logo file"),M(q),Object.keys(q).length===0},I=q=>{try{return new URL(q),!0}catch{return!1}},z=q=>{const{name:$,value:ne}=q.target;m(Q=>({...Q,[$]:ne})),S[$]&&M(Q=>({...Q,[$]:""}))},V=async q=>{var $,ne;if(q.preventDefault(),!!R()){_(!0);try{let Q=u.logo_url;if(v==="file"&&f){const Y=new FormData;Y.append("image",f),Y.append("type","brand_logo");const J=await Ze.post("/admin/upload-image/",Y,{headers:{"Content-Type":"multipart/form-data"}});J.data.image_url&&(Q=J.data.image_url)}const B={...u,logo_url:Q};r?(await l(r.id,B),Ot.success("Brand updated successfully")):(await i(B),Ot.success("Brand added successfully")),t()}catch(Q){console.error("Form submission error:",Q),Ot.error(((ne=($=Q.response)==null?void 0:$.data)==null?void 0:ne.error)||"Failed to save brand")}_(!1)}},U=()=>{m({id:"",logo_url:""}),b(null),k("file"),M({}),t()};return s?n.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:["        ",n.jsxs("div",{className:"w-full max-w-lg mx-auto transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:r?"Edit Brand":"Add New Brand"}),"          ",n.jsx("button",{onClick:U,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:C,style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{className:"w-5 h-5"})})]}),"        ",n.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"id",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Brand ID *"}),n.jsx("input",{type:"text",id:"id",name:"id",value:u.id,onChange:z,placeholder:"e.g., apple, samsung",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:S.id?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:r||C}),r&&n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Brand ID cannot be changed"}),S.id&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:S.id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo Upload Method"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"file",checked:v==="file",onChange:q=>k(q.target.value),className:"mr-2",disabled:C}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Upload File"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"url",checked:v==="url",onChange:q=>k(q.target.value),className:"mr-2",disabled:C}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Enter URL"})]})]})]}),v==="file"&&n.jsx(rue,{label:"Brand Logo",accept:"image/*",maxSize:2*1024*1024,dimensions:{width:200,height:200,aspectRatio:"1:1"},onFileSelect:b,currentImage:r==null?void 0:r.logo_url,error:S.logo_file,helperText:"Upload a brand logo. Square images work best.",disabled:C}),v==="url"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"logo_url",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo URL"}),n.jsx("input",{type:"url",id:"logo_url",name:"logo_url",value:u.logo_url,onChange:z,placeholder:"https://example.com/logo.png",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:S.logo_url?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},disabled:C}),S.logo_url&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:S.logo_url})]}),(v==="url"&&u.logo_url||(r==null?void 0:r.logo_url))&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo Preview"}),n.jsxs("div",{className:"flex items-center justify-center p-4 rounded-md border-2 border-dashed",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsx("img",{src:u.logo_url,alt:"Logo preview",className:"max-w-20 max-h-20 object-contain",onError:q=>{q.target.style.display="none",q.target.nextSibling.style.display="block"}}),n.jsx("div",{className:"text-sm hidden",style:{color:"var(--text-secondary)"},children:"Failed to load image"})]})]}),"          ",n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:U,disabled:C,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:C,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[C&&n.jsx(Di,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:C?r?"Updating...":"Adding...":r?"Update Brand":"Add Brand"})]})]})]})]})]}):null};yL.propTypes={brandToEdit:zt.shape({id:zt.string,logo_url:zt.string}),onClose:zt.func.isRequired,open:zt.bool.isRequired};zt.arrayOf(zt.shape({id:zt.string.isRequired,name:zt.string.isRequired,logo_url:zt.string,seriesCount:zt.number})).isRequired,zt.func.isRequired,zt.string;const xL=({open:r,onClose:t,seriesToEdit:s,brandId:i})=>{const{addSeries:l,updateSeries:u}=Zx(),[m,f]=O.useState({name:"",description:""}),[b,v]=O.useState(!1),[k,C]=O.useState({});O.useEffect(()=>{f(s?{name:s.name||"",description:s.description||""}:{name:"",description:""}),C({})},[s,r]);const _=I=>{const{name:z,value:V}=I.target;f(U=>({...U,[z]:V})),k[z]&&C(U=>({...U,[z]:""}))},S=()=>{const I={};return m.name.trim()||(I.name="Series name is required"),m.description.trim()||(I.description="Description is required"),C(I),Object.keys(I).length===0},M=async I=>{if(I.preventDefault(),!!S()){v(!0);try{s?await u(i,s.id,m):await l(i,m),t()}catch(z){console.error("Series form submission error:",z)}finally{v(!1)}}},R=()=>{f({name:"",description:""}),C({}),t()};return r?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"w-full max-w-lg transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s?"Edit Series":"Add New Series"}),n.jsx("button",{onClick:R,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:b,style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:M,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Series Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:_,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:k.name?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Enter series name (e.g., iPhone 15)",disabled:b}),k.name&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:k.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:_,rows:4,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200 resize-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:k.description?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Enter series description",disabled:b}),k.description&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:k.description})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:R,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},disabled:b,children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},disabled:b,children:[b&&n.jsx(Di,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:b?s?"Updating...":"Adding...":s?"Update Series":"Add Series"})]})]})]})]})}):null};xL.propTypes={open:zt.bool.isRequired,onClose:zt.func.isRequired,seriesToEdit:zt.object,brandId:zt.string.isRequired};zt.string.isRequired,zt.arrayOf(zt.shape({id:zt.string.isRequired,name:zt.string.isRequired,models:zt.array})).isRequired,zt.func.isRequired,zt.string;const vL=({open:r,onClose:t,brandId:s,seriesId:i,modelToEdit:l})=>{const{addModel:u,updateModel:m}=Zx(),[f,b]=O.useState({id:"",display_name:"",image_url:"",launch_year:new Date().getFullYear(),demand_score:5,variant_options:{ram:[""],storage:[""],color:[""]},variant_prices:{}}),[v,k]=O.useState(!1);O.useEffect(()=>{var V,U,q;b(l?{id:l.id||"",display_name:l.display_name||"",image_url:l.image_url||"",launch_year:l.launch_year||new Date().getFullYear(),demand_score:l.demand_score||5,variant_options:{ram:((V=l.variant_options)==null?void 0:V.ram)||[""],storage:((U=l.variant_options)==null?void 0:U.storage)||[""],color:((q=l.variant_options)==null?void 0:q.color)||[""]},variant_prices:l.variant_prices||{}}:{id:"",display_name:"",image_url:"",launch_year:new Date().getFullYear(),demand_score:5,variant_options:{ram:[""],storage:[""],color:[""]},variant_prices:{}})},[l]);const C=(V,U)=>{b(q=>({...q,[V]:U}))},_=(V,U,q)=>{b($=>({...$,variant_options:{...$.variant_options,[V]:$.variant_options[V].map((ne,Q)=>Q===U?q:ne)}}))},S=V=>{b(U=>({...U,variant_options:{...U.variant_options,[V]:[...U.variant_options[V],""]}}))},M=(V,U)=>{b(q=>({...q,variant_options:{...q.variant_options,[V]:q.variant_options[V].filter(($,ne)=>ne!==U)}}))},R=(V,U,q)=>{b($=>({...$,variant_prices:{...$.variant_prices,[V]:{...$.variant_prices[V],[U]:parseInt(q)||0}}}))},I=()=>{const V=f.variant_options.storage.filter(q=>q.trim()),U=f.variant_options.ram.filter(q=>q.trim());return V.map(q=>n.jsxs("div",{className:"mb-4 p-4 border rounded",children:[n.jsxs("h4",{className:"font-medium mb-2",children:[q," Storage"]}),U.map($=>{var ne;return n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsxs("label",{className:"w-16 text-sm",children:[$,":"]}),n.jsx("input",{type:"number",placeholder:"Price",value:((ne=f.variant_prices[q])==null?void 0:ne[$])||"",onChange:Q=>R(q,$,Q.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded text-sm"})]},`${q}-${$}`)})]},q))},z=async V=>{V.preventDefault(),k(!0);try{const U={...f,variant_options:{ram:f.variant_options.ram.filter(q=>q.trim()),storage:f.variant_options.storage.filter(q=>q.trim()),color:f.variant_options.color.filter(q=>q.trim())}};l?await m(i,l.id,U):await u(i,U),t()}catch(U){console.error("Model form submission error:",U)}k(!1)};return r?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:n.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:n.jsxs("div",{className:"w-full max-w-4xl transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:l?"Edit Model":"Add New Model"}),"            ",n.jsx("button",{onClick:t,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model ID"}),n.jsx("input",{type:"text",value:f.id,onChange:V=>C("id",V.target.value),placeholder:"e.g., iphone_14_pro",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,disabled:l}),l&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Model ID cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),n.jsx("input",{type:"text",value:f.display_name,onChange:V=>C("display_name",V.target.value),placeholder:"e.g., iPhone 14 Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),n.jsx("input",{type:"url",value:f.image_url,onChange:V=>C("image_url",V.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Launch Year"}),n.jsx("input",{type:"number",value:f.launch_year,onChange:V=>C("launch_year",parseInt(V.target.value)),min:"2000",max:"2030",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Demand Score (1-10)"}),n.jsx("input",{type:"number",value:f.demand_score,onChange:V=>C("demand_score",parseInt(V.target.value)),min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:"Variant Options"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RAM Options"}),f.variant_options.ram.map((V,U)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"text",value:V,onChange:q=>_("ram",U,q.target.value),placeholder:"e.g., 6GB",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),n.jsx("button",{type:"button",onClick:()=>M("ram",U),className:"text-red-500 hover:text-red-700",disabled:f.variant_options.ram.length===1,children:n.jsx(FaTrash,{})})]},U)),n.jsxs("button",{type:"button",onClick:()=>S("ram"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[n.jsx(FaPlus,{className:"mr-1"})," Add RAM Option"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Options"}),f.variant_options.storage.map((V,U)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"text",value:V,onChange:q=>_("storage",U,q.target.value),placeholder:"e.g., 128GB",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),n.jsx("button",{type:"button",onClick:()=>M("storage",U),className:"text-red-500 hover:text-red-700",disabled:f.variant_options.storage.length===1,children:n.jsx(FaTrash,{})})]},U)),n.jsxs("button",{type:"button",onClick:()=>S("storage"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[n.jsx(FaPlus,{className:"mr-1"})," Add Storage Option"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Options"}),f.variant_options.color.map((V,U)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"text",value:V,onChange:q=>_("color",U,q.target.value),placeholder:"e.g., Deep Purple",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),n.jsx("button",{type:"button",onClick:()=>M("color",U),className:"text-red-500 hover:text-red-700",disabled:f.variant_options.color.length===1,children:n.jsx(FaTrash,{})})]},U)),n.jsxs("button",{type:"button",onClick:()=>S("color"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[n.jsx(FaPlus,{className:"mr-1"})," Add Color Option"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium mb-4",children:"Variant Pricing"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:I()})]}),f.image_url&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Preview"}),n.jsx("img",{src:f.image_url,alt:"Model preview",className:"w-32 h-32 object-contain border rounded",onError:V=>{V.target.style.display="none"}})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,disabled:v,className:"px-6 py-2 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:v,className:"px-6 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[v&&n.jsx(Di,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:v?l?"Updating...":"Adding...":l?"Update Model":"Add Model"})]})]})]})]})})}):null};vL.propTypes={open:zt.bool.isRequired,onClose:zt.func.isRequired,brandId:zt.string.isRequired,seriesId:zt.string.isRequired,modelToEdit:zt.object};zt.string.isRequired,zt.string.isRequired,zt.arrayOf(zt.shape({id:zt.string.isRequired,name:zt.string.isRequired,image:zt.string,variantOptions:zt.array,questionGroups:zt.array})).isRequired;const wL=({open:r,onClose:t,faqToEdit:s})=>{const{addFaq:i,updateFaq:l}=Zx(),[u,m]=O.useState({question:"",answer:""}),[f,b]=O.useState(!1),[v,k]=O.useState({});O.useEffect(()=>{m(s?{question:s.question||"",answer:s.answer||""}:{question:"",answer:""}),k({})},[s]);const C=()=>{const M={};return u.question.trim()||(M.question="Question is required"),u.answer.trim()||(M.answer="Answer is required"),k(M),Object.keys(M).length===0},_=M=>{const{name:R,value:I}=M.target;m(z=>({...z,[R]:I}))},S=async M=>{if(M.preventDefault(),!!C()){b(!0);try{s?await l(s.id,u):await i(u),t()}catch(R){console.error("FAQ form submission error:",R)}finally{b(!1)}}};return r?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"w-full max-w-2xl transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s?"Edit FAQ":"Add New FAQ"}),"          ",n.jsx("button",{onClick:t,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:f,style:{color:"var(--text-secondary)"},children:n.jsx(Yt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:["          ",n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"question",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Question *"}),n.jsx("input",{type:"text",id:"question",name:"question",value:u.question,onChange:_,placeholder:"Enter the FAQ question",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:v.question?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:f}),v.question&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:v.question})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Answer *"}),n.jsx("textarea",{id:"answer",name:"answer",value:u.answer,onChange:_,placeholder:"Enter the FAQ answer",rows:6,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200 resize-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:v.answer?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:f}),v.answer&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:v.answer})]}),"          ",n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:t,disabled:f,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:f,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[f&&n.jsx(Di,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:f?s?"Updating...":"Adding...":s?"Update FAQ":"Add FAQ"})]})]})]})]})}):null};wL.propTypes={open:zt.bool.isRequired,onClose:zt.func.isRequired,faqToEdit:zt.shape({id:zt.string,question:zt.string,answer:zt.string})};const nue=()=>{const[r,t]=O.useState("catalog"),[s,i]=O.useState("overview"),[l,u]=O.useState(null),[m,f]=O.useState(null),[b,v]=O.useState(null),[k,C]=O.useState(!1),[_,S]=O.useState(!1),[M,R]=O.useState(!1),[I,z]=O.useState(!1),[V,U]=O.useState(null),[q,$]=O.useState(1),ne=10,{catalogs:Q,inquiries:B,faq:Y,fetchCatalogs:J,fetchInquiries:W,fetchFaq:ee,updateInquiryStatus:te,deleteInquiry:be,addBrand:xe,updateBrand:ie,deleteBrand:ae,addSeries:le,updateSeries:oe,deleteSeries:G,addModel:ue,updateModel:me,deleteModel:ye,addFaq:ve,updateFaq:Me,deleteFaq:Ae}=Zx();O.useEffect(()=>{r==="catalog"?J():r==="inquiries"?W():r==="faqs"&&ee()},[r]);const Ye=()=>!Q.data||typeof Q.data!="object"?[]:Object.keys(Q.data).map(Le=>({id:Le,name:Le.charAt(0).toUpperCase()+Le.slice(1),logo_url:Q.data[Le].logo_url,seriesCount:Q.data[Le].phone_series?Object.keys(Q.data[Le].phone_series).length:0,...Q.data[Le]})),ze=Le=>{if(!Q.data||!Q.data[Le]||!Q.data[Le].phone_series)return[];const $t=Q.data[Le].phone_series;return Object.keys($t).map(Bt=>({id:Bt,display_name:$t[Bt].display_name,modelCount:$t[Bt].phones?Object.keys($t[Bt].phones).length:0,...$t[Bt]}))},Qe=(Le,$t)=>{if(!Q.data||!Q.data[Le]||!Q.data[Le].phone_series||!Q.data[Le].phone_series[$t]||!Q.data[Le].phone_series[$t].phones)return[];const Bt=Q.data[Le].phone_series[$t].phones;return Object.keys(Bt).map(Tt=>({id:Tt,display_name:Bt[Tt].display_name,image_url:Bt[Tt].image_url,launch_year:Bt[Tt].launch_year,demand_score:Bt[Tt].demand_score,...Bt[Tt]}))},fe=(()=>{if(r==="catalog"){const Le=Q.data;if(!Le||typeof Le!="object"||Array.isArray(Le))return[];const $t=[];return Object.keys(Le).forEach(Bt=>{const Tt=Le[Bt];Tt&&Tt.phone_series&&typeof Tt.phone_series=="object"&&Object.keys(Tt.phone_series).forEach($s=>{const Ts=Tt.phone_series[$s];Ts&&Ts.phones&&typeof Ts.phones=="object"&&Object.keys(Ts.phones).forEach(Is=>{const ir=Ts.phones[Is];ir&&$t.push({id:`${Bt}-${$s}-${Is}`,name:ir.display_name,image:ir.image_url||Tt.logo_url,brand:Bt,series:Ts.display_name,launch_year:ir.launch_year,demand_score:ir.demand_score})})})}),$t}else{if(r==="inquiries")return B.list||[];if(r==="faqs")return Y.data||[]}return[]})(),et=fe.length,He=Math.ceil(et/ne),tt=(q-1)*ne,xt=tt+ne,_e=fe.slice(tt,xt),lt=Le=>{$(Le),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{$(1),i("overview"),u(null),f(null),v(null)},[r]);const Mt=()=>{u(null),f(null),v(null)},br=()=>{f(null),v(null)},sn=Le=>{u(Le),f(null),v(null)},Yr=Le=>{f(Le),v(null)},Er=(Le=null)=>{U(Le),C(!0)},_r=(Le=null)=>{U(Le),S(!0)},Js=(Le=null)=>{U(Le),R(!0)},go=()=>{C(!1),S(!1),R(!1),z(!1),U(null)},Wt=async Le=>{window.confirm("Are you sure you want to delete this brand and all its series and models?")&&(await ae(Le),l===Le&&(u(null),f(null)))},kt=async Le=>{window.confirm("Are you sure you want to delete this series and all its models?")&&(await G(l,Le),m===Le&&f(null))},Gr=async Le=>{window.confirm("Are you sure you want to delete this model?")&&await ye(m,Le)},[ct,Pt]=O.useState({}),Ct=async(Le,$t,Bt=null)=>{Pt(Tt=>({...Tt,[Le]:$t}));try{let Tt;$t==="delete"?Tt=await be(Le):$t==="updateStatus"&&Bt&&(Tt=await te(Le,Bt)),Tt.success?(Ot.success(Tt.message||`Inquiry ${$t==="delete"?"deleted":"updated"} successfully`),await W()):Ot.error(Tt.error||`Failed to ${$t} inquiry`)}catch(Tt){console.error(`Error ${$t} inquiry:`,Tt),Ot.error(`Failed to ${$t} inquiry`)}finally{Pt(Tt=>{const $s={...Tt};return delete $s[Le],$s})}},tr=()=>{if(s==="overview")return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Phone Catalog Overview"}),n.jsx("p",{className:"text-gray-500",children:"Overview of all phone models in the catalog"})]}),"            ",n.jsxs("button",{onClick:()=>i("manageCatalog"),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(yy,{className:"w-4 h-4"}),n.jsx("span",{children:"Manage Catalog"})]})]}),Q.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading catalog overview..."})}):Q.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:Q.error})}):_e.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No phone listings found."})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Series"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Launch Year"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demand Score"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_e.map(Le=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[Le.image&&n.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:n.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:Le.image,alt:Le.name})}),n.jsx("div",{className:Le.image?"ml-4":"",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Le.name})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:Le.brand})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:Le.series})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:Le.launch_year})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[Le.demand_score,"/10"]})})]},Le.id))})]}),et>0&&n.jsx("div",{className:"pt-4",children:n.jsx($a,{currentPage:q,totalPages:He,onPageChange:lt,totalItems:et,itemsPerPage:ne,showItemCount:!0})})]})]});if(s==="manageCatalog")return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:["            ",n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>i("overview"),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(c2,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Overview"})]}),l&&n.jsxs("button",{onClick:Mt,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(c2,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Brands"})]}),m&&n.jsxs("button",{onClick:br,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(c2,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Series"})]})]}),n.jsx("h2",{className:"text-lg font-semibold",children:l?m?`Manage ${m} Models`:`Manage ${l} Series`:"Manage Brands"})]}),Q.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading catalog..."})}):Q.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:Q.error})}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[!l&&n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Brands"}),"                      ",n.jsxs("button",{onClick:()=>Er(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(Sw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Brand"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ye().map(Le=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[Le.logo_url&&n.jsx("img",{src:Le.logo_url,alt:Le.name,className:"w-8 h-8 rounded-full mr-2"}),n.jsx("h4",{className:"font-semibold",children:Le.name})]}),"                            ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Er(Le),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(yy,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>Wt(Le.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(Ew,{className:"w-3 h-3"})})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[Le.seriesCount," series"]}),"                          ",n.jsxs("button",{onClick:()=>sn(Le.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center justify-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(CR,{className:"w-3 h-3"}),n.jsx("span",{children:"Manage Series"})]})]},Le.id))})]})}),l&&!m&&n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-semibold",children:["Series for ",l]}),"                      ",n.jsxs("button",{onClick:()=>_r(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(Sw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Series"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ze(l).map(Le=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold",children:Le.display_name}),"                            ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>_r(Le),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(yy,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>kt(Le.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(Ew,{className:"w-3 h-3"})})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[Le.modelCount," models"]}),"                          ",n.jsxs("button",{onClick:()=>Yr(Le.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center justify-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(CR,{className:"w-3 h-3"}),n.jsx("span",{children:"Manage Models"})]})]},Le.id))})]})}),l&&m&&n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-semibold",children:["Models for ",m]}),"                      ",n.jsxs("button",{onClick:()=>Js(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(Sw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Model"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qe(l,m).map(Le=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[Le.image_url&&n.jsx("img",{src:Le.image_url,alt:Le.display_name,className:"w-12 h-12 rounded mr-2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:Le.display_name}),n.jsx("p",{className:"text-xs text-gray-500",children:Le.launch_year})]})]}),"                            ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Js(Le),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(yy,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>Gr(Le.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(Ew,{className:"w-3 h-3"})})]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Demand Score: ",Le.demand_score,"/10"]})]},Le.id))})]})})]})]})},on=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Phone Sell Inquiries"}),n.jsx("p",{className:"text-gray-500",children:"Manage customer inquiries for selling phones"}),B.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading inquiries..."})}):B.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:B.error})}):_e.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No inquiries found."})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Variant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condition"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_e.map(Le=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Le.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:Le.user_email})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:Le.selected_variant})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:Le.selected_condition})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                        ${Le.status==="pending"?"bg-yellow-100 text-yellow-800":Le.status==="approved"?"bg-green-100 text-green-800":Le.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Le.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Le.created_at).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[Le.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Ct(Le.id,"updateStatus","approved"),disabled:ct[Le.id],className:"text-green-600 hover:text-green-900 mr-3 disabled:opacity-50 disabled:cursor-not-allowed",children:ct[Le.id]==="updateStatus"?"Processing...":"Approve"}),n.jsx("button",{onClick:()=>Ct(Le.id,"updateStatus","rejected"),disabled:ct[Le.id],className:"text-red-600 hover:text-red-900 mr-3 disabled:opacity-50 disabled:cursor-not-allowed",children:ct[Le.id]==="updateStatus"?"Processing...":"Reject"})]}),n.jsx("button",{onClick:()=>Ct(Le.id,"delete"),disabled:ct[Le.id],className:"text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:ct[Le.id]==="delete"?"Deleting...":"Delete"})]})]},Le.id))})]}),et>0&&n.jsx("div",{className:"pt-4",children:n.jsx($a,{currentPage:q,totalPages:He,onPageChange:lt,totalItems:et,itemsPerPage:ne,showItemCount:!0})})]})]}),ss=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-500",children:"Manage FAQs related to phone selling"})]}),"          ",n.jsxs("button",{onClick:()=>z(!0),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(Sw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add FAQ"})]})]}),Y.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading FAQs..."})}):Y.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:Y.error})}):_e.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No FAQs found."})}):n.jsxs("div",{className:"space-y-4",children:[_e.map(Le=>n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:Le.question}),n.jsx("p",{className:"text-gray-600",children:Le.answer})]}),n.jsxs("div",{className:"flex space-x-2 ml-4",children:[n.jsx("button",{onClick:()=>{U(Le),z(!0)},className:"text-blue-500 hover:text-blue-700",children:n.jsx(yy,{})}),n.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this FAQ?")&&Ae(Le.id)},className:"text-red-500 hover:text-red-700",children:n.jsx(Ew,{})})]})]})},Le.id)),et>0&&n.jsx("div",{className:"pt-4",children:n.jsx($a,{currentPage:q,totalPages:He,onPageChange:lt,totalItems:et,itemsPerPage:ne,showItemCount:!0})})]})]});return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Phone Selling Management"})}),n.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex border-b",children:[n.jsx("button",{className:`px-6 py-3 font-medium ${r==="catalog"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("catalog"),children:"Catalog"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="inquiries"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("inquiries"),children:"Inquiries"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="faqs"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("faqs"),children:"FAQs"})]}),n.jsxs("div",{className:"p-6",children:[r==="catalog"&&tr(),r==="inquiries"&&on(),r==="faqs"&&ss()]})]}),k&&n.jsx(yL,{open:k,onClose:go,brandToEdit:V}),_&&n.jsx(xL,{open:_,onClose:go,brandId:l,seriesToEdit:V}),M&&n.jsx(vL,{open:M,onClose:go,seriesId:m,brandId:l,modelToEdit:V}),I&&n.jsx(wL,{open:I,onClose:go,faqToEdit:V})]})},sue={getProducts:async(r={})=>{try{let t=aA(Ru,"products");return r.category&&(t=H_(t,qT("category","==",r.category))),r.brand&&(t=H_(t,qT("brand","==",r.brand))),r.limit&&(t=H_(t,zZ(r.limit))),(await T9(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},getProduct:async r=>{try{const t=Gf(Ru,"products",r),s=await GZ(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Product not found")}catch(t){throw console.error("Error fetching product:",t),t}},addProduct:async r=>{try{return(await YZ(aA(Ru,"products"),{...r,createdAt:new Date})).id}catch(t){throw console.error("Error adding product:",t),t}},updateProduct:async(r,t)=>{try{const s=Gf(Ru,"products",r);await HZ(s,{...t,updatedAt:new Date})}catch(s){throw console.error("Error updating product:",s),s}},deleteProduct:async r=>{try{await qZ(Gf(Ru,"products",r))}catch(t){throw console.error("Error deleting product:",t),t}}},oue=JSON.parse('[{"Category":"Mobile","Brand":"Samsung","Model Name":"Galaxy A15","Specs (RAM/ROM/Display/etc)":"6GB/128GB, 6.6\\" FHD+ AMOLED","Price":"13,999","Offer Price":"12,999","Stock":10,"Product Image URL":"[URL]","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4 GB 64GB 4G BLACK","Price":11999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/4eKjhPS","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4 GB 64GB 4G GOLD","Price":11999,"Offer Price":8999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4GB 128GB 5G LIGHT GREEN","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://amzn.in/d/91iG423","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4GB 128GB 5G GREY","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://amzn.in/d/91iG423","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 6GB 128GB 5G BLACK","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 6GB 128GB 5G GREY","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15 ","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G JAZZY GREEN","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15 ","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G GROOVY VIOLET","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G ASH BLACK","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G JAZZY GREEN","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G GROOVY VIOLET","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G ASH BLACK","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G JAZZY GREEN","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G GROOVY VIOLET","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G ASH BLACK","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G GOLD ","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G BLUE BLACK","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G LIGHT GREEN","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G GOLD","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G BLUE BLACK","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G LIGHT GREEN","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G GOLD","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G BLUE BLACK","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G LIGHT GREEN","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME WHITE","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME BLACK","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME LAVENDER","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G  AWESOME WHITE","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G  AWESOME BLACK","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G AWESOME LAVENDER","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME WHITE ","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME BLACK","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME LAVENDER","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME LIGHT GRAY","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME GRAPHITE","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME OLIVE","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"","Price":44999,"Offer Price":43999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME LIGHT GRAY","Price":48999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME GRAPHITE","Price":48999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME OLIVE","Price":48899,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME LIGHT GRAY","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME GRAPHITE","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME OLIVE","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F55","Specs (RAM/ROM/Display/etc)":"F55 8GB 128GB 5G BLACK","Price":28999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/6JmGSSr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F55","Specs (RAM/ROM/Display/etc)":"F55 8GB 128GB 5G ORANGE","Price":28999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/6JmGSSr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G BLUE ","Price":59999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G GRAPHITE","Price":59999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G MINT","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G BLUE ","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G GRAPHITE","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G MINT","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G MARBLE GREY","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G ONXY BLACK","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G YELLOW","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G VIOLET","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G MARBLE GREY","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G ONXY BLACK","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G YELLOW","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G VIOLET","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G MARBLE GREY","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G ONXY BLACK","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G YELLOW","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G VIOLET","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM GREY","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM VIOLET","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM BLACK","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G YELLOW","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM GREY","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM VIOLET","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM BLACK","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM YELLOW","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G ICY BLUE","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G MINT","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G SILVER SHADOW","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G NAVY","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G ICY BLUE ","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G MINT","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G SILVER SHADOW","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G NAVY","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM BLUE ","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM BLACK","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM GRAY","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM SILVER","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM BLUE ","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM BLACK","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM GRAY","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM SILVER","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM BLUE","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM BLACK","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM GRAY","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM SILVER","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP4","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G MINT ","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G SILVER SHADOW","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G BLUE","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G MINT","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G SILVER SHADOW","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G BLUE","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G SILVER SHADOW","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G NAVY ","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G PINK","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G SILVER SHADOW","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G NAVY ","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G PINK","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year ","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64GB Starry Purple","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64GB Nebula Red,","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64G Sparkle Black","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB STARRY PURPLE","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB NEBULA RED","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB SPARKLE BLACK","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 5G ","Specs (RAM/ROM/Display/etc)":"A3 5G 6GB 128GB NEBULA RED ","Price":19999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://amzn.in/d/755XU2A","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 5G ","Specs (RAM/ROM/Display/etc)":"A3 5G 6GB 128GB OCEAN BLUE","Price":19999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://amzn.in/d/755XU2A","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 128GB MOONLIGHT PURPLE","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/2BoF2CG","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 128GB STARRY BLACK","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/2BoF2CG","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 256GB MOONLIGHT PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://amzn.in/d/dfdKHeC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 256GB STARRY BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://amzn.in/d/dfdKHeC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 128GB MOCHA BROWN","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://amzn.in/d/i5LqBce","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 128GB FEATHER BLUE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://amzn.in/d/i5LqBce","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 256GB MOCHA BROWN","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://amzn.in/d/gqq4yKH","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 256GB FEATHER BLUE","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://amzn.in/d/gqq4yKH","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 128GB EMERALD GREEN","Price":26999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://amzn.in/d/dc49bBv","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 128GB ORANGE","Price":26999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://amzn.in/d/dc49bBv","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 256GB EMERALD GREEN","Price":28999,"Offer Price":22999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 256GB ORANGE","Price":28999,"Offer Price":22999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 128GB MIDNIGHT NAVY","Price":32999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/6HcjLXy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 128GB DUSK PINK","Price":32999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/6HcjLXy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 256GB MIDNIGHT NAVY","Price":34999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/aTDjwgE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 256GB DUSK PINK","Price":34999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/aTDjwgE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 128GB SOLID PURPLE","Price":28999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://amzn.in/d/9hGCEnz","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29 ","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 128GB GLACIER BLUE","Price":28999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://amzn.in/d/9hGCEnz","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 256GB SOLID PURPLE","Price":30999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/2NiO8cp","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 256GB GLACIER BLUE","Price":30999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/2NiO8cp","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 128GB GRANITE BLACK","Price":32999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/2VU32WF","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 128GB MARBLE WHITE","Price":32999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/2VU32WF","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 256GB GRANITE BLACK","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://amzn.in/d/6U5seOn","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 256GB MARBLE WHITE","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://amzn.in/d/6U5seOn","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29 ","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 12GB 256GB GRANITE BLACK","Price":36999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://amzn.in/d/0rCw1Dr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 12GB 256GB MARBLE WHITE","Price":36999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://amzn.in/d/0rCw1Dr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 5G 8GB 256GB MATTE BROWN","Price":43999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Matte-Brown-256/dp/B0DB6B6NB6/ref=sr_1_2?crid=1UJ8PCRATL089&dib=eyJ2IjoiMSJ9.y2Q0sXcnUDRAgK7QkzLbsGNuYYbgJrwbYJ-X3ZZQSVS1cPhFABptWd3fiEx0ZuML9Da3IsiBQyFLV6m_Cb3OX6x5aHeiFp1ikZKSqiguRWF-z1MM_Flunkw4ycAs8hxsDoHDSuL5iyiHAof-XJFbQU6-bjn5rd2xHi3qQSSQV43IiOSH7zBWykQjDIhy8MvqJBv4gdbKZQQiGbyEtS391UPy72WkOFf7gjmcZ_TEbXM.-Im1Yt63CiFNrpJkmB1ovACbJBluFvMq9E2QtExFlzI&dib_tag=se&keywords=reno+12+5g&qid=1745834723&sprefix=RENO+12%2Caps%2C272&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 5G 8GB 256GB SUNSET PEACH","Price":43999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Matte-Brown-256/dp/B0DB6B6NB6/ref=sr_1_2?crid=1UJ8PCRATL089&dib=eyJ2IjoiMSJ9.y2Q0sXcnUDRAgK7QkzLbsGNuYYbgJrwbYJ-X3ZZQSVS1cPhFABptWd3fiEx0ZuML9Da3IsiBQyFLV6m_Cb3OX6x5aHeiFp1ikZKSqiguRWF-z1MM_Flunkw4ycAs8hxsDoHDSuL5iyiHAof-XJFbQU6-bjn5rd2xHi3qQSSQV43IiOSH7zBWykQjDIhy8MvqJBv4gdbKZQQiGbyEtS391UPy72WkOFf7gjmcZ_TEbXM.-Im1Yt63CiFNrpJkmB1ovACbJBluFvMq9E2QtExFlzI&dib_tag=se&keywords=reno+12+5g&qid=1745834723&sprefix=RENO+12%2Caps%2C272&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB SPACE BROWN","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB SUNSET GOLD","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB MANISH MALHOTRA","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 512GB SPACE BROWN ","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 512GB SUNSET GOLD","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB MANISH MALHOTRA","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB LUMINOUS BLUE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB IVORY WHITE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB SKY BLUE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB LUMINOUS BLUE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB IVORY WHITE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB SKY BLUE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB LUMINOUS BLUE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"REBO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB IVORY WHITE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB SKY BLUE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 256GB GRAPHITE GREY","Price":54999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_7?crid=2VDP7ZPPYAQ1W&dib=eyJ2IjoiMSJ9.2qu2XugoNPEtwec2lgM2XbDpBS4KMuFDgMBxGzbtOZkDqbm2GUGcTK2gg711EbPgCQb4dSee59XwHkEI-NmrYfhWDPck9v9EPXATHFkMaRK1a7nmTzi91a3yaLh1j7VKcVq27gCL7cY7snzRC35cC4Ktm1GTjWIiO2_Gu4QSEJBX5dqryjky2IXHwy9YX40qKoKY88TnY6C9EVeMmUmNswq6T4d6mu2LP3BTfPvQXsI.dIU6wc1uLmcBCx8RS6qUVXnW_tceZ77bd41-9xNPvV0&dib_tag=se&keywords=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256&nsdOptOutParam=true&qid=1745835054&sprefix=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256%2Caps%2C253&sr=8-7&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 256GB MIST LAVENDER","Price":54999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_7?crid=2VDP7ZPPYAQ1W&dib=eyJ2IjoiMSJ9.2qu2XugoNPEtwec2lgM2XbDpBS4KMuFDgMBxGzbtOZkDqbm2GUGcTK2gg711EbPgCQb4dSee59XwHkEI-NmrYfhWDPck9v9EPXATHFkMaRK1a7nmTzi91a3yaLh1j7VKcVq27gCL7cY7snzRC35cC4Ktm1GTjWIiO2_Gu4QSEJBX5dqryjky2IXHwy9YX40qKoKY88TnY6C9EVeMmUmNswq6T4d6mu2LP3BTfPvQXsI.dIU6wc1uLmcBCx8RS6qUVXnW_tceZ77bd41-9xNPvV0&dib_tag=se&keywords=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256&nsdOptOutParam=true&qid=1745835054&sprefix=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256%2Caps%2C253&sr=8-7&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 512GB GRAPHITE GREY","Price":60999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13Pro-Graphite-512GB-Storage/dp/B0F1G42K9M/ref=sr_1_2?crid=2Q2DDQ61CZYUA&dib=eyJ2IjoiMSJ9.-KxNQlDd7hGyxFotD4xbNZRvhX2rDf_gdqRd0fdOawkVdc_tIqSrpNaPdrecxNxACE4b17ElijRjh8QpeaKt-kSyIiCerNIiWYDHm1vZCQL-dgDzhxkXjiGcpp-6KqY8S6OR2remDtZLn2v3DFEvmjypnMq9OSvCo3IcsvuDfZwwN1weDnM4LvOstaQlc7sHZHIT4eiUHNh71gGCCZrWBLqkp0eyNUnLj4xpry05GJs.J3unGvTLOxfoVRM7QAI8h9X0U9rAbVoT6CfRqPdWayk&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+512&nsdOptOutParam=true&qid=1745835097&sprefix=oppo+reno+13+5%2Bg+12+512%2Caps%2C347&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 512GB MIST LAVENDER","Price":60999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13Pro-Graphite-512GB-Storage/dp/B0F1G42K9M/ref=sr_1_2?crid=2Q2DDQ61CZYUA&dib=eyJ2IjoiMSJ9.-KxNQlDd7hGyxFotD4xbNZRvhX2rDf_gdqRd0fdOawkVdc_tIqSrpNaPdrecxNxACE4b17ElijRjh8QpeaKt-kSyIiCerNIiWYDHm1vZCQL-dgDzhxkXjiGcpp-6KqY8S6OR2remDtZLn2v3DFEvmjypnMq9OSvCo3IcsvuDfZwwN1weDnM4LvOstaQlc7sHZHIT4eiUHNh71gGCCZrWBLqkp0eyNUnLj4xpry05GJs.J3unGvTLOxfoVRM7QAI8h9X0U9rAbVoT6CfRqPdWayk&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+512&nsdOptOutParam=true&qid=1745835097&sprefix=oppo+reno+13+5%2Bg+12+512%2Caps%2C347&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"N3 FLIP","Specs (RAM/ROM/Display/etc)":"FIND N3 FLIP 5G 12GB 256GB CREAM GOLD","Price":99999,"Offer Price":85999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB MIDNIGHT VIOLET","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB BOX FEATHER PINK","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB BREEZE BLUE","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB MIDNIGHT VIOLET","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB BOX FEATHER PINK","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB BREEZE BLUE","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 12GB 256GB STAR GREY","Price":69999,"Offer Price":69999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 12GB 256GB SPACE BLACK","Price":69999,"Offer Price":69999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 16GB 512GB STAR GREY","Price":74999,"Offer Price":79999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 16GB 512GB SPACE BLACK","Price":74999,"Offer Price":79999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 PRO 5G 16GB 512GB SPACE BLACK","Price":109999,"Offer Price":94999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Find-X8-Pro-Smartphone/dp/B0DMP3T6QW/ref=sr_1_4?crid=UO8ZQI92KJ4I&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923941&sprefix=oppo+find+x%2Caps%2C254&sr=8-4","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 64GB VINTAGE RED","Price":14999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXKLJMQ3/ref=sr_1_3?crid=1LU9QHNWWXX52&dib=eyJ2IjoiMSJ9.JpotSLR7d0mUdhyXZz5m5ra377_dR4Mx59SUnY8CTXXV7jhnG5qLmmr1HS_S7e5yzxbGk458QSskkXBvtftJHssr6stulMY9t1l_zbkXPc_2oha9vT_iBcDfrbEplMIYuiCzz89AQPf-9DTi6JFxzFVcyHXb5M7oT8UY0tgBDfkzGyhCLq-s2jhlHhzaVFS0sLDsWpEmBUwe7k452llvv82HiJ3w2XEG0__TjCIOZA4.T1CgaMCVhn57Jxz3t9miItHhfzPmsFlhMQ8PyRmS7Vs&dib_tag=se&keywords=y28e&qid=1745924327&sprefix=y28%2Caps%2C246&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 64GB BREEZE GREEN","Price":14999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXKLJMQ3/ref=sr_1_3?crid=1LU9QHNWWXX52&dib=eyJ2IjoiMSJ9.JpotSLR7d0mUdhyXZz5m5ra377_dR4Mx59SUnY8CTXXV7jhnG5qLmmr1HS_S7e5yzxbGk458QSskkXBvtftJHssr6stulMY9t1l_zbkXPc_2oha9vT_iBcDfrbEplMIYuiCzz89AQPf-9DTi6JFxzFVcyHXb5M7oT8UY0tgBDfkzGyhCLq-s2jhlHhzaVFS0sLDsWpEmBUwe7k452llvv82HiJ3w2XEG0__TjCIOZA4.T1CgaMCVhn57Jxz3t9miItHhfzPmsFlhMQ8PyRmS7Vs&dib_tag=se&keywords=y28e&qid=1745924327&sprefix=y28%2Caps%2C246&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 128GB VINTAGE RED","Price":15999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXK9MCQ1/ref=sr_1_3?crid=Q0HOPL0A66WE&dib=eyJ2IjoiMSJ9.DJCibWaOc7C6Rlu9LBAGE1_cCNUbxIlZYY83dfdJr7HFS7nfs1XobN6M5e6z0GBpqn6rYrHhXTkrSiFJNser2Gldhr74xA6gu-5j44xpvxVdzjL0LJRt5SwL7jyMPpK3FcKIzzj7ljYHWGUIb8BjGu3Tm5iMlzGBhHfH1uOd4uOPQadttlLik-cjehSMaL0ehVqy9ZLrLS6Uz6WEzZSRHDM2plpeaINSiSmMCocPtvY.YoJRp9Saezlbr-6vScem2gDEL1O0ekpNiu6R7k7G7x8&dib_tag=se&keywords=y28e+128gb&qid=1745924389&sprefix=y28e+128gb%2Caps%2C270&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 128GB BREEZE GREEN","Price":15999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXK9MCQ1/ref=sr_1_3?crid=Q0HOPL0A66WE&dib=eyJ2IjoiMSJ9.DJCibWaOc7C6Rlu9LBAGE1_cCNUbxIlZYY83dfdJr7HFS7nfs1XobN6M5e6z0GBpqn6rYrHhXTkrSiFJNser2Gldhr74xA6gu-5j44xpvxVdzjL0LJRt5SwL7jyMPpK3FcKIzzj7ljYHWGUIb8BjGu3Tm5iMlzGBhHfH1uOd4uOPQadttlLik-cjehSMaL0ehVqy9ZLrLS6Uz6WEzZSRHDM2plpeaINSiSmMCocPtvY.YoJRp9Saezlbr-6vScem2gDEL1O0ekpNiu6R7k7G7x8&dib_tag=se&keywords=y28e+128gb&qid=1745924389&sprefix=y28e+128gb%2Caps%2C270&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB GLACIER BLUE","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WGPJWQL/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB DAIMOND BLACK","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WHQQW74/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB TITANIUM GOLD","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WGN696J/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB GLACIER BLUE ","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB DAIMOND BLUE ","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WHQQW74?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB TITANIUM GOLD","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGN696J?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB GLACIER BLUE ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB DAIMOND BLACK","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB TITANIUM GOLD ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGN696J?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB GLACIER BLUE","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-glacier-blue-128-gb/p/itm2795be01d3dcc?pid=MOBH7JWEHAMNY6EF&lid=LSTMOBH7JWEHAMNY6EFZHI79Y&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&sattr[]=ram&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB DAIMOND BLUE","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-diamond-black-256-gb/p/itm2795be01d3dcc?pid=MOBH7JWEGA52DYYD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB TITANIUM GOLD ","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-titanium-gold-256-gb/p/itm2795be01d3dcc?pid=MOBH7JWECZBYZMHQ&lid=LSTMOBH7JWECZBYZMHQRD1OG4&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&sattr[]=ram&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 128GB LOTUS PURPLE","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-lotus-purple-128-gb/p/itm378912b5322d2?pid=MOBHAFRHXZFXDW93&lid=LSTMOBHAFRHXZFXDW93S66GZD&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 128GB OCEAN BLUE ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-ocean-blue-128-gb/p/itm378912b5322d2?pid=MOBHAFRHRRDYUQ5E&lid=LSTMOBHAFRHRRDYUQ5ETUDQUN&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 256GB LOTUS PURPLE","Price":23999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-lotus-purple-256-gb/p/itm378912b5322d2?pid=MOBHAFRHAZFHYHX6&lid=LSTMOBHAFRHAZFHYHX6T7IVDT&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 256GB OCEAB BLUE ","Price":23999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-ocean-blue-256-gb/p/itm378912b5322d2?pid=MOBHAFRH2N5SH35X&lid=LSTMOBHAFRH2N5SH35XAN2S7H&marketplace=FLIPKART","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 12GB 256GB COSMOS BLACK","Price":71999,"Offer Price":65999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-natural-green-256-gb/p/itm8a4d46ac97f57?pid=MOBH7443UHDKDZRJ&lid=LSTMOBH7443UHDKDZRJQ02NKQ&marketplace=FLIPKART&q=vivo+x200&store=tyy%2F4io&srno=s_1_1&otracker=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&otracker1=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&fm=search-autosuggest&iid=fabdbf7e-cd04-4c02-8c60-5c95702556dc.MOBH7443UHDKDZRJ.SEARCH&ppt=sp&ppn=sp&ssid=03n38y2z400000001745925602702&qH=260782e1c82122f0","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 12GB 256GB NATURAL GREEN","Price":71999,"Offer Price":65999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-natural-green-256-gb/p/itm8a4d46ac97f57?pid=MOBH7443UHDKDZRJ&lid=LSTMOBH7443UHDKDZRJQ02NKQ&marketplace=FLIPKART&q=vivo+x200&store=tyy%2F4io&srno=s_1_1&otracker=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&otracker1=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&fm=search-autosuggest&iid=fabdbf7e-cd04-4c02-8c60-5c95702556dc.MOBH7443UHDKDZRJ.SEARCH&ppt=sp&ppn=sp&ssid=03n38y2z400000001745925602702&qH=260782e1c82122f0","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 16GB 512GB COSMOS BLACK","Price":71999,"Offer Price":78999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-cosmos-black-512-gb/p/itm8a4d46ac97f57?pid=MOBH7443NCRZ7TVZ&lid=LSTMOBH7443NCRZ7TVZJ0DZIC&marketplace=FLIPKART&q=vivo%20x200&sattr[]=color&sattr[]=storage&sattr[]=ram&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 16GB 512GB NATURAL GREEN ","Price":71999,"Offer Price":78999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-cosmos-black-512-gb/p/itm8a4d46ac97f57?pid=MOBH7443NCRZ7TVZ&lid=LSTMOBH7443NCRZ7TVZJ0DZIC&marketplace=FLIPKART&q=vivo%20x200&sattr[]=color&sattr[]=storage&sattr[]=ram&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 PRO 5G 16GB 512GB TITANIUM GREY","Price":94999,"Offer Price":99999,"Stock":8,"Product Image URL":"https://www.amazon.in/Titanium-Storage-Additional-Exchange-Offers/dp/B07WDJMX16/ref=sr_1_3?adgrpid=60072919918&dib=eyJ2IjoiMSJ9.RW_o5BJcY4Y9WG3FGpJDNVjBJdyUcw7FDDpBFarvvl_CwAOXF32vc0-_TE4SIYqIBeA9rEImuw2LszxnbTV5v_xhRZE8gVeCIiR3V6zFaE6EI5NS0JuQ_wgnUT9ilu4wf2-N-AwEQ5JthbYcmRq91zing97Ce6ZjwbZaLudIfJHU5k_7gMYB_aMmkGxZVBO-4XxxKruXgZDVc3kMjlUF56xoJ0MzHddEj_2uclwenWo.CziC5rnovpcQJEE8dII9493X359qZGNFh-mJhPgGcNM&dib_tag=se&ext_vrnc=hi&hvadid=398121804443&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=332903811455969308&hvtargid=kwd-26725506&hydadcr=29298_1997155&keywords=x200&mcid=11cb2b0deaba3791986742ae26d5ff51&qid=1745925176&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 PRO 5G 16GB 516GB COSMOS BLACK","Price":94999,"Offer Price":99999,"Stock":8,"Product Image URL":"https://www.amazon.in/Titanium-Storage-Additional-Exchange-Offers/dp/B07WDJMX16/ref=sr_1_3?adgrpid=60072919918&dib=eyJ2IjoiMSJ9.RW_o5BJcY4Y9WG3FGpJDNVjBJdyUcw7FDDpBFarvvl_CwAOXF32vc0-_TE4SIYqIBeA9rEImuw2LszxnbTV5v_xhRZE8gVeCIiR3V6zFaE6EI5NS0JuQ_wgnUT9ilu4wf2-N-AwEQ5JthbYcmRq91zing97Ce6ZjwbZaLudIfJHU5k_7gMYB_aMmkGxZVBO-4XxxKruXgZDVc3kMjlUF56xoJ0MzHddEj_2uclwenWo.CziC5rnovpcQJEE8dII9493X359qZGNFh-mJhPgGcNM&dib_tag=se&ext_vrnc=hi&hvadid=398121804443&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=332903811455969308&hvtargid=kwd-26725506&hydadcr=29298_1997155&keywords=x200&mcid=11cb2b0deaba3791986742ae26d5ff51&qid=1745925176&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB MIDNIGHT BLACK","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB MOONLIGHT WHITE","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB AURORA  GREEN","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB MIDNIGHT BLACK","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VSVGS/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi+a3x+4%2F64&qid=1745925755&sprefix=mi+a3x+%2Caps%2C304&sr=8-9","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128G MOONLIGHT WHITE","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VSVGS/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi+a3x+4%2F64&qid=1745925755&sprefix=mi+a3x+%2Caps%2C304&sr=8-9","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB AURORA GREEN","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VJQ93/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi%2Ba3x%2B4%2F64&qid=1745925755&sprefix=mi%2Ba3x%2B%2Caps%2C304&sr=8-9&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 64GB SPARKLE PURPLE","Price":10999,"Offer Price":8499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 64GB STARRY BLACK","Price":10999,"Offer Price":8499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW1L5PR/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 128GB SPARKLE PURPLE","Price":11999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 128GB STARRY BLACK ","Price":11999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB BLACK","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB GREEN","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB SILVER","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB BLACK ","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX7BZ7R/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB GREEN","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB SILVER","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB BLACK","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB GREEN","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB SILVER","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB HAWAIIAN BLACK","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB BLACK DAIMOND","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB ORCHID PINK","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB HAWAIIAH BLACK","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB BLACK DAIMOND","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB ORCHID PINK ","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB ARCTIC WHITE","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB CHROMATIC PURPLE","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB PRISM GOLD","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB STEALTH BLACK","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB ARCTIC WHITE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB CHROMATIC PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB PRISM GOLD","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB STEALTH BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB ARCTIC WHITE","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB CHROMATIC PURPLE","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB PRISM GOLD","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13 ","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB STEALTH BLACK","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB MIDNIGHT BLACK","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB AURORA PURPLE","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB OCEAN TEAL","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB OLIVE GREEN","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB MIDNIGHT BLACK","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB AURORA PURPLE","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB OCEAN TEAL","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB OLIVE GREEN","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB MIDNIGHT BLACK","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB AURORA PURPLE","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB OCEAN TEAL","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB OLIVE GREEN","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB MIDNIGHT BLACK","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB MOONLIGHT WHITE","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB AURORA PURPLE","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB MIDNIGHT BLACK","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB MOONLIGHT WHITE","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB AURORA PURPLE","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB MIDNIGHT BLACK","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB MOONLIGHT WHIRE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB AURORA PURPLE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB WCE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARGAZE BLACK","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARDUST PURPLE","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARLIGHT BLUE","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARGAZE BLACK","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARDUST PURPLE","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARLIGHT BLUE","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARGAZE BLACK","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARDUST PURPLE","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARLIGHT BLUE","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB MYSTIQUE WHITE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB PHANTOM PURPLE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB TITAN BLACK","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB MYSTIQUE WHITE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB PHANTOM PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB TITAN BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB MYSTIQUE WHITE ","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB PHANTOM PURPLE","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB TITAN BLACK","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB IVY GREEN","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB TITAN BLACK","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB PHANTOM PURPLE ","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB IVY GREEN ","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB TITAN BLACK","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB PHANTOM PURPLE","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB PHANTOM PURPLE","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB SPECTRE BLUE ","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB TITAN BLACK","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB PHANTOM PURPLE","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB SPECTRE BLUE","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB TITAN BLACK","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB PHANTOM PURPLE","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB SPECTRE BLUE","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB TITAN BLACK","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB SHADOW BLACK","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB MATCHA GREEN","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB CRUISE BLUE","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB SHADOW BLACK","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB MATCHA GREEN","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB CRUISE BLUE","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB PANDA WHITE","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB AQUA BLUE","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB HOT PINK","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB BLACK","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB GREEN","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB WHITE","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 ULTRA 5G 16GB 512GB SILVER CHROME","Price":109999,"Offer Price":109999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Silver-Chrome-Leica-Quad-Camera/dp/B0DYV4177R/ref=sr_1_1?crid=27LH747RKSZBR&dib=eyJ2IjoiMSJ9.SIwGDtLsGB9zcjOAi-WPna8OoNbV1ZjtaKLSccrPQif6k-a7td03dhP3WOhN008KS4vh8hANmvookUS0cUg5iV6-PCLkL4rpdJuiEEYiWVHQMPCsCXM-ZnoKYlF_OAQYHwZgSJdqvVGPSdJG15BiboOqwQQVZlXVv2h9tgcvd3ZxSnbj90B5n29NYrkBqwOzS8XT7imDJIbw8dlxLHnWIBaeAAihDrRs6SWFzRtB0mw.VQaPPgmdfe9bipPhcwGiyxfsZTRklcLngChmCZm3Tq8&dib_tag=se&keywords=redmi+15+civi+ultra&qid=1745931336&sprefix=redmi+15+civi+ultra%2Caps%2C204&sr=8-1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB BLACK","Price":19999,"Offer Price":1999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB LIGHT GREEN","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB BLUE","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB ORANGE","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB BLACK","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB LIGHT GREEN","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB BLUE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB ORANGE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB BLACK","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB WHITE","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB BLUE","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB BLACK","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB WHITE","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB BLUE","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB BLACK","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB WHITE","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB BLUE","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 8GB 256GB BLACK","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Storage-Dimensity-Processor-Display/dp/B0DC8F2X6T/ref=sr_1_3?crid=KOE3SUWYIDYT&dib=eyJ2IjoiMSJ9.Tpn5Njn9GFpNybo9ccg_g82xFHGR2XAQy3DHQy8KkH4rVc8o-EmMhOlQcHe1Mt68rprcuTRJEXLzdiJ1AOfTvnC2t8Y_4wIscEjoYec43cSeFKA6gQoNQ7mHh46Hm0jJCe6V4-qFK0OKO-HuUqSkMUlk52TuAHywK6F-nMUenVYLTijsMAQ6Iry7A15CVxFv8OftLWtPAv9DrBsycQhyTSniE8-A8gGF0zwXfQ7Rfr4.qUm136bU50fqtqo2Df7qRz4Lu62OVPjisW8bj9gJXyY&dib_tag=se&keywords=nothing+phone+2a+plus+8gb+256gb&qid=1745931637&sprefix=nothing+2a+plus+phone+8gb+256gb%2Caps%2C218&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 8GB 256GB GREY","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Storage-Dimensity-Processor-Display/dp/B0DC8F2X6T/ref=sr_1_3?crid=KOE3SUWYIDYT&dib=eyJ2IjoiMSJ9.Tpn5Njn9GFpNybo9ccg_g82xFHGR2XAQy3DHQy8KkH4rVc8o-EmMhOlQcHe1Mt68rprcuTRJEXLzdiJ1AOfTvnC2t8Y_4wIscEjoYec43cSeFKA6gQoNQ7mHh46Hm0jJCe6V4-qFK0OKO-HuUqSkMUlk52TuAHywK6F-nMUenVYLTijsMAQ6Iry7A15CVxFv8OftLWtPAv9DrBsycQhyTSniE8-A8gGF0zwXfQ7Rfr4.qUm136bU50fqtqo2Df7qRz4Lu62OVPjisW8bj9gJXyY&dib_tag=se&keywords=nothing+phone+2a+plus+8gb+256gb&qid=1745931637&sprefix=nothing+2a+plus+phone+8gb+256gb%2Caps%2C218&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 12GB 256GB BLACK","Price":31999,"Offer Price":29999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 12GB 256GB GREY","Price":31999,"Offer Price":29999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB BLACK","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB WHITE","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB BLUE","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256G BLACK","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256GB WHITE","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256GB BLUE","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 128GB BLACK","Price":32999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0DZTNQKX7/ref=sr_1_3?crid=33SWKWSZ9GTQJ&dib=eyJ2IjoiMSJ9.TxcznIk0GGFd6LoTuw117uqeBtHBzE5TVnLQgqpxugOOjradX5lWQd6M_ulfQT-j7dPRjImSYss0BYOTeHCAlk6luPpDRF90QhVAzgDCVZ-4pDREGFUoIzFjaLE4F1PpWfo5b1scqdiFpPnw4vEFz2_Mt1YejoJbi4SPw8RYLQuJyxM_67B9pmfkrmiPNAU5Tnm740mORECGVeWWtv3z1-5aFgRvhmu2hW86Fdmk2a4.FXvyVABvxZNlV3wmxLDTKmmLbURN6raHSzHTXaVTe2g&dib_tag=se&keywords=nothing+phone+3a+pro+128gb&nsdOptOutParam=true&qid=1745931832&sprefix=nothing+phone+3a+pro+128gb%2Caps%2C214&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 128GB GREY","Price":32999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0DZTNQKX7/ref=sr_1_3?crid=33SWKWSZ9GTQJ&dib=eyJ2IjoiMSJ9.TxcznIk0GGFd6LoTuw117uqeBtHBzE5TVnLQgqpxugOOjradX5lWQd6M_ulfQT-j7dPRjImSYss0BYOTeHCAlk6luPpDRF90QhVAzgDCVZ-4pDREGFUoIzFjaLE4F1PpWfo5b1scqdiFpPnw4vEFz2_Mt1YejoJbi4SPw8RYLQuJyxM_67B9pmfkrmiPNAU5Tnm740mORECGVeWWtv3z1-5aFgRvhmu2hW86Fdmk2a4.FXvyVABvxZNlV3wmxLDTKmmLbURN6raHSzHTXaVTe2g&dib_tag=se&keywords=nothing+phone+3a+pro+128gb&nsdOptOutParam=true&qid=1745931832&sprefix=nothing+phone+3a+pro+128gb%2Caps%2C214&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 256GB BLACK","Price":34999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQ44FC/ref=sr_1_3?crid=1JSACW6YXGL4&dib=eyJ2IjoiMSJ9.YG0c3Rre36d_u73AroztUyXT1EtHjc2en2OBGY-uxgXOokQ4x4fPensGGE7slufnhmqLjfrpeIcOmJgDmWfcZbwMWwRNHvvXcBQwMkt2H1ijT3WKygSRXEz_jyr3EkTSBwAzU3orRj5Bv15Tm7O85p421wi7ZYniTu8OQCJBY-8Oqo8EItGXILUfZ3mCslkD4xVHyAS6rHiHDOgtFK1Jlg186LTQt59sWzS39nQ1nrE.tfOofDAsUy-JJj9YOA8H-TMhPzD2hJNFQCTr2EW8Xto&dib_tag=se&keywords=nothing+phone+3a+pro+8+256&qid=1745931887&sprefix=nothing+phone+3a+pro+8+256%2Caps%2C211&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 256GB GREY","Price":34999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQ44FC/ref=sr_1_3?crid=1JSACW6YXGL4&dib=eyJ2IjoiMSJ9.YG0c3Rre36d_u73AroztUyXT1EtHjc2en2OBGY-uxgXOokQ4x4fPensGGE7slufnhmqLjfrpeIcOmJgDmWfcZbwMWwRNHvvXcBQwMkt2H1ijT3WKygSRXEz_jyr3EkTSBwAzU3orRj5Bv15Tm7O85p421wi7ZYniTu8OQCJBY-8Oqo8EItGXILUfZ3mCslkD4xVHyAS6rHiHDOgtFK1Jlg186LTQt59sWzS39nQ1nrE.tfOofDAsUy-JJj9YOA8H-TMhPzD2hJNFQCTr2EW8Xto&dib_tag=se&keywords=nothing+phone+3a+pro+8+256&qid=1745931887&sprefix=nothing+phone+3a+pro+8+256%2Caps%2C211&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 12GB 256GB BLACK","Price":36999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQBWXB/ref=sr_1_3?crid=2GYPVCWG1HT3S&dib=eyJ2IjoiMSJ9.s83CYwh5SkXZculdp5pAGGgT93i4NebU4u954L6NSO4_iSHnh9d-uuS5yoMSgMGYGbl_nG1fQbtY8BdUxfb--ExV68k8P1WJlJJnDvPlIRFTVFnNVmL5_kNUPz9giHOutZy8bV_i7HuMHDOor9pfD56EOcyf4TlkHuxbvRxytugvLNp3IFV1Hr3qQPRN-JU2Cf1bl4YVJ_qgVZrcB3f7imto_krTTGa3xHQw2gQqA8E.5uQ_Yfj0q0-LcDhMdukmh77cJWrFatzHQGwxFDzgKhc&dib_tag=se&keywords=nothing+phone+3a+pro+12+256&qid=1745931863&sprefix=nothing+phone+3a+pro+%2Caps%2C220&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 12GB 256GB GREY","Price":36999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQBWXB/ref=sr_1_3?crid=2GYPVCWG1HT3S&dib=eyJ2IjoiMSJ9.s83CYwh5SkXZculdp5pAGGgT93i4NebU4u954L6NSO4_iSHnh9d-uuS5yoMSgMGYGbl_nG1fQbtY8BdUxfb--ExV68k8P1WJlJJnDvPlIRFTVFnNVmL5_kNUPz9giHOutZy8bV_i7HuMHDOor9pfD56EOcyf4TlkHuxbvRxytugvLNp3IFV1Hr3qQPRN-JU2Cf1bl4YVJ_qgVZrcB3f7imto_krTTGa3xHQw2gQqA8E.5uQ_Yfj0q0-LcDhMdukmh77cJWrFatzHQGwxFDzgKhc&dib_tag=se&keywords=nothing+phone+3a+pro+12+256&qid=1745931863&sprefix=nothing+phone+3a+pro+%2Caps%2C220&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"}]'),iue=async()=>{var r,t,s,i,l,u,m;console.log("Starting product migration to Firebase...");try{let f=0,b=0;for(const v of oue)try{const k={category:((r=v.Category)==null?void 0:r.toLowerCase())||"general",brand:((t=v.Brand)==null?void 0:t.trim())||"Unknown",name:v["Model Name"]||"Unknown Product",model:v["Model Name"]||"",specifications:v["Specs (RAM/ROM/Display/etc)"]||"",price:parseFloat((s=v.Price)==null?void 0:s.toString().replace(/[,]/g,""))||0,offerPrice:parseFloat((i=v["Offer Price"])==null?void 0:i.toString().replace(/[,]/g,""))||0,stock:parseInt(v.Stock)||0,imageUrl:v["Product Image URL"]||"",description:v.Description||"",warranty:v.Warranty||"",emiOptions:v["EMI Options"]==="Yes",isActive:!0,featured:Math.random()>.8,rating:Math.floor(Math.random()*2)+3,totalReviews:Math.floor(Math.random()*100),searchTags:[(l=v.Brand)==null?void 0:l.toLowerCase(),(u=v["Model Name"])==null?void 0:u.toLowerCase(),(m=v.Category)==null?void 0:m.toLowerCase()].filter(Boolean),createdAt:new Date,updatedAt:new Date};k.price>0&&k.offerPrice>0&&(k.discountPercentage=Math.round((k.price-k.offerPrice)/k.price*100));const C=await sue.addProduct(k);console.log(` Added product: ${k.name} (ID: ${C})`),f++,await new Promise(_=>setTimeout(_,100))}catch(k){console.error(` Error adding product ${v["Model Name"]}:`,k),b++}return console.log(`
 Migration completed!`),console.log(` Successfully added: ${f} products`),console.log(` Failed: ${b} products`),{success:f,errors:b}}catch(f){throw console.error("Migration failed:",f),f}},aue=()=>{const[r,t]=O.useState({auth:!1,firestore:!1,storage:!1,products:!1}),[s,i]=O.useState(!1),[l,u]=O.useState({}),m=async()=>{try{i(!0);const _="test@anandmobiles.com",S="test123456";try{await(await BM(Ny,_,S)).user.delete(),u(R=>({...R,auth:{success:!0,message:"Firebase Auth is working properly"}})),t(R=>({...R,auth:!0}))}catch(M){if(M.code==="auth/email-already-in-use")await bQ(Ny,_,S),await vQ(Ny),u(R=>({...R,auth:{success:!0,message:"Firebase Auth is working (test user exists)"}})),t(R=>({...R,auth:!0}));else throw M}}catch(_){u(S=>({...S,auth:{success:!1,message:`Auth test failed: ${_.message}`}}))}finally{i(!1)}},f=async()=>{try{i(!0);const _=Gf(Ru,"test_collection","test_doc");await KT(_,{message:"Firebase setup test",timestamp:new Date,success:!0});const S=await T9(aA(Ru,"test_collection"));u(M=>({...M,firestore:{success:!0,message:`Firestore is working (${S.size} test documents)`}})),t(M=>({...M,firestore:!0}))}catch(_){u(S=>({...S,firestore:{success:!1,message:`Firestore test failed: ${_.message}`}}))}finally{i(!1)}},b=async()=>{try{i(!0),u(_=>({..._,storage:{success:!0,message:"Firebase Storage is configured and accessible"}})),t(_=>({..._,storage:!0}))}catch(_){u(S=>({...S,storage:{success:!1,message:`Storage test failed: ${_.message}`}}))}finally{i(!1)}},v=async()=>{try{i(!0),Se.loading("Migrating products to Firebase...",{id:"migration"});const _=await iue();u(S=>({...S,products:{success:!0,message:`Successfully migrated ${_.success} products, ${_.errors} errors`}})),t(S=>({...S,products:!0})),Se.success(`Migration completed! ${_.success} products added`,{id:"migration"})}catch(_){u(S=>({...S,products:{success:!1,message:`Migration failed: ${_.message}`}})),Se.error("Migration failed",{id:"migration"})}finally{i(!1)}},k=async()=>{try{i(!0);const _="admin@anandmobiles.com",S="admin123456",R=(await BM(Ny,_,S)).user;await KT(Gf(Ru,"users",R.uid),{uid:R.uid,email:R.email,firstName:"Admin",lastName:"User",role:"admin",permissions:["read","write","delete","manage_orders","manage_users"],createdAt:new Date,isActive:!0}),Se.success(`Admin user created: ${_} / ${S}`)}catch(_){_.code==="auth/email-already-in-use"?Se.info("Admin user already exists"):Se.error(`Failed to create admin: ${_.message}`)}finally{i(!1)}},C=async()=>{await m(),await f(),await b()};return n.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[n.jsx("h1",{children:"Firebase Setup & Configuration"}),n.jsx("p",{children:"Use this page to test and configure your Firebase integration."}),n.jsxs("div",{style:{marginBottom:"30px"},children:[n.jsx("h2",{children:"Setup Status"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:Object.entries(r).map(([_,S])=>n.jsxs("div",{style:{padding:"10px",border:`2px solid ${S?"#10B981":"#EF4444"}`,borderRadius:"8px",backgroundColor:S?"#F0FDF4":"#FEF2F2",textAlign:"center"},children:[n.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize"},children:_==="firestore"?"Database":_}),n.jsx("div",{style:{color:S?"#047857":"#DC2626"},children:S?" Ready":" Not Ready"})]},_))})]}),n.jsxs("div",{style:{marginBottom:"30px"},children:[n.jsx("h2",{children:"Firebase Tests"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[n.jsx("button",{onClick:m,disabled:s,style:{padding:"10px 20px",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Test Authentication"}),n.jsx("button",{onClick:f,disabled:s,style:{padding:"10px 20px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Test Database"}),n.jsx("button",{onClick:b,disabled:s,style:{padding:"10px 20px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Test Storage"}),n.jsx("button",{onClick:C,disabled:s,style:{padding:"10px 20px",backgroundColor:"#7C3AED",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Run All Tests"})]})]}),n.jsxs("div",{style:{marginBottom:"30px"},children:[n.jsx("h2",{children:"Data Migration"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[n.jsx("button",{onClick:v,disabled:s,style:{padding:"10px 20px",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Migrate Products to Firebase"}),n.jsx("button",{onClick:k,disabled:s,style:{padding:"10px 20px",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Create Admin User"})]}),n.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Note:"})," Product migration will import all products from the JSON file to Firebase."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Admin credentials:"})," admin@anandmobiles.com / admin123456"]})]})]}),Object.keys(l).length>0&&n.jsxs("div",{children:[n.jsx("h2",{children:"Test Results"}),Object.entries(l).map(([_,S])=>n.jsxs("div",{style:{margin:"10px 0",padding:"15px",border:`2px solid ${S.success?"#10B981":"#EF4444"}`,borderRadius:"8px",backgroundColor:S.success?"#F0FDF4":"#FEF2F2"},children:[n.jsxs("h4",{style:{margin:"0 0 10px 0",color:S.success?"#047857":"#DC2626",textTransform:"capitalize"},children:[_,": ",S.success?" PASS":" FAIL"]}),n.jsx("p",{style:{margin:"0"},children:S.message})]},_))]}),n.jsxs("div",{style:{marginTop:"40px",padding:"20px",backgroundColor:"#FEF3C7",borderRadius:"8px"},children:[n.jsx("h2",{children:" Firebase Console Configuration Required"}),n.jsx("p",{children:"Before running tests, make sure you've configured the following in Firebase Console:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Authentication:"})," Enable Email/Password and Google sign-in methods"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Firestore:"})," Create database and set up security rules"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Storage:"})," Set up storage bucket and rules"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Hosting:"})," Add your domain to authorized domains"]})]}),n.jsxs("p",{children:["See ",n.jsx("code",{children:"FIREBASE_SETUP_GUIDE.md"})," for detailed instructions."]})]})]})};class lue extends ot.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,s){console.error("ErrorBoundary caught an error:",t,s),this.setState({error:t,errorInfo:s})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"max-w-md mx-auto text-center p-8",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:n.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})})})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but there was an error loading the page."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Reload Page"}),n.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Go to Homepage"})]}),!1]})}):this.props.children}}const cue=()=>n.jsxs(n.Fragment,{children:[n.jsx(Xie,{}),n.jsx(WA,{}),n.jsx(eae,{})]}),due=()=>{const{isAuthenticated:r,checkAuthStatus:t}=Sr(),{isAuthenticated:s,checkAdminAuthStatus:i}=VN(),{initializeTheme:l}=xx();return ot.useEffect(()=>{(async()=>{try{l();try{await(await j_(()=>import("./themeService-BDstakQF.js"),[])).default.loadAndApplyTheme(),console.log("Theme loaded successfully from backend")}catch(b){console.log("Theme service failed, loading custom colors from localStorage:",b.message),O6()}t(),i();const{useProductStore:m}=await j_(async()=>{const{useProductStore:b}=await Promise.resolve().then(()=>Joe);return{useProductStore:b}},void 0);await m.getState().fetchProducts();const{usePageContentStore:f}=await j_(async()=>{const{usePageContentStore:b}=await Promise.resolve().then(()=>Oie);return{usePageContentStore:b}},void 0);await f.getState().fetchAvailablePages(),console.log("App initialization completed successfully")}catch(m){console.error("App initialization failed:",m)}})()},[]),O.useEffect(()=>{l()},[]),n.jsx(lue,{children:n.jsx(OH,{children:n.jsxs(PG,{children:[n.jsx(PH,{position:"top-right",toastOptions:{duration:3e3}}),n.jsxs(dG,{children:[n.jsx(gt,{path:"/signup",element:r?n.jsx(Hs,{to:"/"}):n.jsx($ee,{})}),n.jsx(gt,{path:"/login",element:r?n.jsx(Hs,{to:"/"}):n.jsx(Xee,{})}),n.jsx(gt,{path:"/firebase-setup",element:n.jsx(aue,{})}),n.jsxs(gt,{path:"/delivery",children:[n.jsx(gt,{path:"login",element:n.jsx(dae,{})}),n.jsx(gt,{path:"register",element:n.jsx(uae,{})}),n.jsx(gt,{path:"admin-verify",element:n.jsx(PR,{})}),n.jsx(gt,{path:"dashboard",element:n.jsx(Ef,{children:n.jsx(pae,{})})}),n.jsx(gt,{path:"assignments",element:n.jsx(Ef,{children:n.jsx(hae,{})})}),n.jsx(gt,{path:"update/:id",element:n.jsx(Ef,{children:n.jsx(OR,{})})}),n.jsx(gt,{path:"status-update",element:n.jsx(Ef,{children:n.jsx(OR,{})})}),n.jsx(gt,{path:"history",element:n.jsx(Ef,{children:n.jsx(mae,{})})}),n.jsx(gt,{path:"settings",element:n.jsx(Ef,{children:n.jsx(fae,{})})}),n.jsx(gt,{path:"verification",element:s?n.jsx(PR,{}):n.jsx(Hs,{to:"/admin/login"})})]}),n.jsxs(gt,{element:n.jsx(cue,{}),children:[n.jsx(gt,{path:"/",element:n.jsx($oe,{})}),n.jsx(gt,{path:"/products",element:n.jsx(DR,{})}),n.jsx(gt,{path:"/products/:id",element:n.jsx(die,{})}),n.jsx(gt,{path:"/category/:category",element:n.jsx(DR,{})}),n.jsx(gt,{path:"/cart",element:n.jsx(bie,{})}),n.jsx(gt,{path:"/wishlist",element:n.jsx(yie,{})}),n.jsx(gt,{path:"/orders",element:n.jsx(Nie,{})}),n.jsx(gt,{path:"/order-tracking",element:n.jsx(Eie,{})}),n.jsx(gt,{path:"/order-tracking/:id",element:n.jsx(Die,{})}),n.jsx(gt,{path:"/search",element:n.jsx(uie,{})}),n.jsx(gt,{path:"/dynamic-page",element:n.jsx(IR,{})}),n.jsx(gt,{path:"/about",element:n.jsx(Bie,{})}),n.jsx(gt,{path:"/contact",element:n.jsx(Lie,{})}),n.jsx(gt,{path:"/track-order",element:n.jsx(zie,{})}),n.jsx(gt,{path:"/bulk-order",element:n.jsx(Fie,{})}),n.jsx(gt,{path:"/terms-conditions",element:n.jsx(Uie,{})}),n.jsx(gt,{path:"/cancellation-refund-policy",element:n.jsx(Gie,{})})," ",n.jsx(gt,{path:"/privacy-policy",element:n.jsx(Hie,{})}),n.jsx(gt,{path:"/shipping-delivery-policy",element:n.jsx(qie,{})}),n.jsx(gt,{path:"/our-stores",element:n.jsx(Vie,{})}),n.jsx(gt,{path:"/warranty-policy",element:n.jsx(Yie,{})}),n.jsx(gt,{path:"/profile",element:n.jsx(TR,{})}),n.jsx(gt,{path:"/profile/:section",element:n.jsx(TR,{})}),n.jsx(gt,{path:"/:pagePath",element:n.jsx(IR,{})})]}),n.jsx(gt,{path:"/admin",element:n.jsx(Hs,{to:s?"/admin/dashboard":"/admin/login"})}),n.jsx(gt,{path:"/admin/login",element:s?n.jsx(Hs,{to:"/admin/dashboard"}):n.jsx(Qde,{})}),n.jsx(gt,{path:"/admin/register",element:s?n.jsx(Hs,{to:"/admin/dashboard"}):n.jsx(Jde,{})}),n.jsxs(gt,{element:n.jsx(nae,{}),children:[n.jsx(gt,{path:"/admin/dashboard",element:s?n.jsx(Sae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/products",element:s?n.jsx(Pae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/inventory",element:s?n.jsx(zae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/orders",element:s?n.jsx(Yae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/users",element:s?n.jsx($ae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/returns",element:s?n.jsx(rle,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/content",element:s?n.jsx(Kde,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/sell-phones",element:s?n.jsx(nue,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/reviews",element:s?n.jsx(ole,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/delivery-partners",element:s?n.jsx($de,{}):n.jsx(Hs,{to:"/admin/login"})})]})]})]})})})};fU.createRoot(document.getElementById("root")).render(n.jsx(due,{}));export{Jt as a,td as b,p2 as g};
