(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function o(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(l){if(l.ep)return;l.ep=!0;const h=o(l);fetch(l.href,h)}})();var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ik(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var DC={exports:{}},Jy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5;function Yz(){if(b5)return Jy;b5=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(i,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:n,type:i,key:m,ref:l!==void 0?l:null,props:h}}return Jy.Fragment=t,Jy.jsx=o,Jy.jsxs=o,Jy}var x5;function Wz(){return x5||(x5=1,DC.exports=Yz()),DC.exports}var r=Wz(),MC={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5;function Kz(){if(v5)return Lt;v5=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),_=Symbol.iterator;function N(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function P(q,ae,pe){this.props=q,this.context=ae,this.refs=R,this.updater=pe||D}P.prototype.isReactComponent={},P.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function F(){}F.prototype=P.prototype;function V(q,ae,pe){this.props=q,this.context=ae,this.refs=R,this.updater=pe||D}var G=V.prototype=new F;G.constructor=V,T(G,P.prototype),G.isPureReactComponent=!0;var Y=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function J(q,ae,pe,me,be,Te){return pe=Te.ref,{$$typeof:n,type:q,key:ae,ref:pe!==void 0?pe:null,props:Te}}function B(q,ae){return J(q.type,ae,void 0,void 0,void 0,q.props)}function W(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function Z(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return ae[pe]})}var de=/\/+/g;function ne(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?Z(""+q.key):ae.toString(36)}function re(){}function ge(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(re,re):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ke(q,ae,pe,me,be){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch(Te){case"bigint":case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case n:case t:je=!0;break;case k:return je=q._init,ke(je(q._payload),ae,pe,me,be)}}if(je)return be=be(q),je=me===""?"."+ne(q,0):me,Y(be)?(pe="",je!=null&&(pe=je.replace(de,"$&/")+"/"),ke(be,ae,pe,"",function(Je){return Je})):be!=null&&(W(be)&&(be=B(be,pe+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(de,"$&/")+"/")+je)),ae.push(be)),1;je=0;var Ye=me===""?".":me+":";if(Y(q))for(var Ve=0;Ve<q.length;Ve++)me=q[Ve],Te=Ye+ne(me,Ve),je+=ke(me,ae,pe,Te,be);else if(Ve=N(q),typeof Ve=="function")for(q=Ve.call(q),Ve=0;!(me=q.next()).done;)me=me.value,Te=Ye+ne(me,Ve++),je+=ke(me,ae,pe,Te,be);else if(Te==="object"){if(typeof q.then=="function")return ke(ge(q),ae,pe,me,be);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return je}function se(q,ae,pe){if(q==null)return q;var me=[],be=0;return ke(q,me,"","",function(Te){return ae.call(pe,Te,be++)}),me}function oe(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function te(){}return Lt.Children={map:se,forEach:function(q,ae,pe){se(q,function(){ae.apply(this,arguments)},pe)},count:function(q){var ae=0;return se(q,function(){ae++}),ae},toArray:function(q){return se(q,function(ae){return ae})||[]},only:function(q){if(!W(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Lt.Component=P,Lt.Fragment=o,Lt.Profiler=l,Lt.PureComponent=V,Lt.StrictMode=i,Lt.Suspense=y,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return ee.H.useMemoCache(q)}},Lt.cache=function(q){return function(){return q.apply(null,arguments)}},Lt.cloneElement=function(q,ae,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var me=T({},q.props),be=q.key,Te=void 0;if(ae!=null)for(je in ae.ref!==void 0&&(Te=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!le.call(ae,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ae.ref===void 0||(me[je]=ae[je]);var je=arguments.length-2;if(je===1)me.children=pe;else if(1<je){for(var Ye=Array(je),Ve=0;Ve<je;Ve++)Ye[Ve]=arguments[Ve+2];me.children=Ye}return J(q.type,be,void 0,void 0,Te,me)},Lt.createContext=function(q){return q={$$typeof:m,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:h,_context:q},q},Lt.createElement=function(q,ae,pe){var me,be={},Te=null;if(ae!=null)for(me in ae.key!==void 0&&(Te=""+ae.key),ae)le.call(ae,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=ae[me]);var je=arguments.length-2;if(je===1)be.children=pe;else if(1<je){for(var Ye=Array(je),Ve=0;Ve<je;Ve++)Ye[Ve]=arguments[Ve+2];be.children=Ye}if(q&&q.defaultProps)for(me in je=q.defaultProps,je)be[me]===void 0&&(be[me]=je[me]);return J(q,Te,void 0,void 0,null,be)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(q){return{$$typeof:g,render:q}},Lt.isValidElement=W,Lt.lazy=function(q){return{$$typeof:k,_payload:{_status:-1,_result:q},_init:oe}},Lt.memo=function(q,ae){return{$$typeof:w,type:q,compare:ae===void 0?null:ae}},Lt.startTransition=function(q){var ae=ee.T,pe={};ee.T=pe;try{var me=q(),be=ee.S;be!==null&&be(pe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(te,ue)}catch(Te){ue(Te)}finally{ee.T=ae}},Lt.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Lt.use=function(q){return ee.H.use(q)},Lt.useActionState=function(q,ae,pe){return ee.H.useActionState(q,ae,pe)},Lt.useCallback=function(q,ae){return ee.H.useCallback(q,ae)},Lt.useContext=function(q){return ee.H.useContext(q)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(q,ae){return ee.H.useDeferredValue(q,ae)},Lt.useEffect=function(q,ae,pe){var me=ee.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(q,ae)},Lt.useId=function(){return ee.H.useId()},Lt.useImperativeHandle=function(q,ae,pe){return ee.H.useImperativeHandle(q,ae,pe)},Lt.useInsertionEffect=function(q,ae){return ee.H.useInsertionEffect(q,ae)},Lt.useLayoutEffect=function(q,ae){return ee.H.useLayoutEffect(q,ae)},Lt.useMemo=function(q,ae){return ee.H.useMemo(q,ae)},Lt.useOptimistic=function(q,ae){return ee.H.useOptimistic(q,ae)},Lt.useReducer=function(q,ae,pe){return ee.H.useReducer(q,ae,pe)},Lt.useRef=function(q){return ee.H.useRef(q)},Lt.useState=function(q){return ee.H.useState(q)},Lt.useSyncExternalStore=function(q,ae,pe){return ee.H.useSyncExternalStore(q,ae,pe)},Lt.useTransition=function(){return ee.H.useTransition()},Lt.version="19.1.0",Lt}var w5;function OA(){return w5||(w5=1,MC.exports=Kz()),MC.exports}var z=OA();const gt=ik(z);var TC={exports:{}},Xy={},IC={exports:{}},RC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5;function Qz(){return k5||(k5=1,function(n){function t(se,oe){var ue=se.length;se.push(oe);e:for(;0<ue;){var te=ue-1>>>1,q=se[te];if(0<l(q,oe))se[te]=oe,se[ue]=q,ue=te;else break e}}function o(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var oe=se[0],ue=se.pop();if(ue!==oe){se[0]=ue;e:for(var te=0,q=se.length,ae=q>>>1;te<ae;){var pe=2*(te+1)-1,me=se[pe],be=pe+1,Te=se[be];if(0>l(me,ue))be<q&&0>l(Te,me)?(se[te]=Te,se[be]=ue,te=be):(se[te]=me,se[pe]=ue,te=pe);else if(be<q&&0>l(Te,ue))se[te]=Te,se[be]=ue,te=be;else break e}}return oe}function l(se,oe){var ue=se.sortIndex-oe.sortIndex;return ue!==0?ue:se.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],w=[],k=1,_=null,N=3,D=!1,T=!1,R=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Y(se){for(var oe=o(w);oe!==null;){if(oe.callback===null)i(w);else if(oe.startTime<=se)i(w),oe.sortIndex=oe.expirationTime,t(y,oe);else break;oe=o(w)}}function ee(se){if(R=!1,Y(se),!T)if(o(y)!==null)T=!0,le||(le=!0,ne());else{var oe=o(w);oe!==null&&ke(ee,oe.startTime-se)}}var le=!1,J=-1,B=5,W=-1;function Z(){return P?!0:!(n.unstable_now()-W<B)}function de(){if(P=!1,le){var se=n.unstable_now();W=se;var oe=!0;try{e:{T=!1,R&&(R=!1,V(J),J=-1),D=!0;var ue=N;try{t:{for(Y(se),_=o(y);_!==null&&!(_.expirationTime>se&&Z());){var te=_.callback;if(typeof te=="function"){_.callback=null,N=_.priorityLevel;var q=te(_.expirationTime<=se);if(se=n.unstable_now(),typeof q=="function"){_.callback=q,Y(se),oe=!0;break t}_===o(y)&&i(y),Y(se)}else i(y);_=o(y)}if(_!==null)oe=!0;else{var ae=o(w);ae!==null&&ke(ee,ae.startTime-se),oe=!1}}break e}finally{_=null,N=ue,D=!1}oe=void 0}}finally{oe?ne():le=!1}}}var ne;if(typeof G=="function")ne=function(){G(de)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ge=re.port2;re.port1.onmessage=de,ne=function(){ge.postMessage(null)}}else ne=function(){F(de,0)};function ke(se,oe){J=F(function(){se(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(se){switch(N){case 1:case 2:case 3:var oe=3;break;default:oe=N}var ue=N;N=oe;try{return se()}finally{N=ue}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(se,oe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=N;N=se;try{return oe()}finally{N=ue}},n.unstable_scheduleCallback=function(se,oe,ue){var te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?te+ue:te):ue=te,se){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,se={id:k++,callback:oe,priorityLevel:se,startTime:ue,expirationTime:q,sortIndex:-1},ue>te?(se.sortIndex=ue,t(w,se),o(y)===null&&se===o(w)&&(R?(V(J),J=-1):R=!0,ke(ee,ue-te))):(se.sortIndex=q,t(y,se),T||D||(T=!0,le||(le=!0,ne()))),se},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(se){var oe=N;return function(){var ue=N;N=oe;try{return se.apply(this,arguments)}finally{N=ue}}}}(RC)),RC}var C5;function Jz(){return C5||(C5=1,IC.exports=Qz()),IC.exports}var PC={exports:{}},Us={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function Xz(){if(_5)return Us;_5=1;var n=OA();function t(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)w+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,w,k){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:y,containerInfo:w,implementation:k}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Us.createPortal=function(y,w){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(t(299));return h(y,w,null,k)},Us.flushSync=function(y){var w=m.T,k=i.p;try{if(m.T=null,i.p=2,y)return y()}finally{m.T=w,i.p=k,i.d.f()}},Us.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,i.d.C(y,w))},Us.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Us.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var k=w.as,_=g(k,w.crossOrigin),N=typeof w.integrity=="string"?w.integrity:void 0,D=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;k==="style"?i.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:_,integrity:N,fetchPriority:D}):k==="script"&&i.d.X(y,{crossOrigin:_,integrity:N,fetchPriority:D,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Us.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var k=g(w.as,w.crossOrigin);i.d.M(y,{crossOrigin:k,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&i.d.M(y)},Us.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var k=w.as,_=g(k,w.crossOrigin);i.d.L(y,k,{crossOrigin:_,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Us.preloadModule=function(y,w){if(typeof y=="string")if(w){var k=g(w.as,w.crossOrigin);i.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:k,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else i.d.m(y)},Us.requestFormReset=function(y){i.d.r(y)},Us.unstable_batchedUpdates=function(y,w){return y(w)},Us.useFormState=function(y,w,k){return m.H.useFormState(y,w,k)},Us.useFormStatus=function(){return m.H.useHostTransitionStatus()},Us.version="19.1.0",Us}var A5;function Zz(){if(A5)return PC.exports;A5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),PC.exports=Xz(),PC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N5;function $z(){if(N5)return Xy;N5=1;var n=Jz(),t=OA(),o=Zz();function i(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function h(u){var f=u,x=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(x=f.return),u=f.return;while(u)}return f.tag===3?x:null}function m(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function g(u){if(h(u)!==u)throw Error(i(188))}function y(u){var f=u.alternate;if(!f){if(f=h(u),f===null)throw Error(i(188));return f!==u?null:u}for(var x=u,A=f;;){var M=x.return;if(M===null)break;var O=M.alternate;if(O===null){if(A=M.return,A!==null){x=A;continue}break}if(M.child===O.child){for(O=M.child;O;){if(O===x)return g(M),u;if(O===A)return g(M),f;O=O.sibling}throw Error(i(188))}if(x.return!==A.return)x=M,A=O;else{for(var X=!1,ie=M.child;ie;){if(ie===x){X=!0,x=M,A=O;break}if(ie===A){X=!0,A=M,x=O;break}ie=ie.sibling}if(!X){for(ie=O.child;ie;){if(ie===x){X=!0,x=O,A=M;break}if(ie===A){X=!0,A=O,x=M;break}ie=ie.sibling}if(!X)throw Error(i(189))}}if(x.alternate!==A)throw Error(i(190))}if(x.tag!==3)throw Error(i(188));return x.stateNode.current===x?u:f}function w(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=w(u),f!==null)return f;u=u.sibling}return null}var k=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ne(u){return u===null||typeof u!="object"?null:(u=de&&u[de]||u["@@iterator"],typeof u=="function"?u:null)}var re=Symbol.for("react.client.reference");function ge(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===re?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case T:return"Fragment";case P:return"Profiler";case R:return"StrictMode";case ee:return"Suspense";case le:return"SuspenseList";case W:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case D:return"Portal";case G:return(u.displayName||"Context")+".Provider";case V:return(u._context.displayName||"Context")+".Consumer";case Y:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case J:return f=u.displayName||null,f!==null?f:ge(u.type)||"Memo";case B:f=u._payload,u=u._init;try{return ge(u(f))}catch{}}return null}var ke=Array.isArray,se=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},te=[],q=-1;function ae(u){return{current:u}}function pe(u){0>q||(u.current=te[q],te[q]=null,q--)}function me(u,f){q++,te[q]=u.current,u.current=f}var be=ae(null),Te=ae(null),je=ae(null),Ye=ae(null);function Ve(u,f){switch(me(je,f),me(Te,u),me(be,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?zs(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=zs(f),u=Wp(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}pe(be),me(be,u)}function Je(){pe(be),pe(Te),pe(je)}function Qe(u){u.memoizedState!==null&&me(Ye,u);var f=be.current,x=Wp(f,u.type);f!==x&&(me(Te,u),me(be,x))}function Ot(u){Te.current===u&&(pe(be),pe(Te)),Ye.current===u&&(pe(Ye),Xh._currentValue=ue)}var Tt=Object.prototype.hasOwnProperty,Ze=n.unstable_scheduleCallback,st=n.unstable_cancelCallback,Kt=n.unstable_shouldYield,Ne=n.unstable_requestPaint,ot=n.unstable_now,er=n.unstable_getCurrentPriorityLevel,Lr=n.unstable_ImmediatePriority,Js=n.unstable_UserBlockingPriority,hn=n.unstable_NormalPriority,zr=n.unstable_LowPriority,Dr=n.unstable_IdlePriority,Fo=n.log,Vo=n.unstable_setDisableYieldValue,Yt=null,Et=null;function Nn(u){if(typeof Fo=="function"&&Vo(u),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Yt,u)}catch{}}var ut=Math.clz32?Math.clz32:Re,It=Math.log,zt=Math.LN2;function Re(u){return u>>>=0,u===0?32:31-(It(u)/zt|0)|0}var dr=256,pr=4194304;function Pr(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ls(u,f,x){var A=u.pendingLanes;if(A===0)return 0;var M=0,O=u.suspendedLanes,X=u.pingedLanes;u=u.warmLanes;var ie=A&134217727;return ie!==0?(A=ie&~O,A!==0?M=Pr(A):(X&=ie,X!==0?M=Pr(X):x||(x=ie&~u,x!==0&&(M=Pr(x))))):(ie=A&~O,ie!==0?M=Pr(ie):X!==0?M=Pr(X):x||(x=A&~u,x!==0&&(M=Pr(x)))),M===0?0:f!==0&&f!==M&&(f&O)===0&&(O=M&-M,x=f&-f,O>=x||O===32&&(x&4194048)!==0)?f:M}function Cr(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function jn(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var u=dr;return dr<<=1,(dr&4194048)===0&&(dr=256),u}function od(){var u=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),u}function pi(u){for(var f=[],x=0;31>x;x++)f.push(u);return f}function Uo(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Gu(u,f,x,A,M,O){var X=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var ie=u.entanglements,ye=u.expirationTimes,Ae=u.hiddenUpdates;for(x=X&~x;0<x;){var Be=31-ut(x),Ue=1<<Be;ie[Be]=0,ye[Be]=-1;var Se=Ae[Be];if(Se!==null)for(Ae[Be]=null,Be=0;Be<Se.length;Be++){var Ee=Se[Be];Ee!==null&&(Ee.lane&=-536870913)}x&=~Ue}A!==0&&fi(u,A,0),O!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=O&~(X&~f))}function fi(u,f,x){u.pendingLanes|=f,u.suspendedLanes&=~f;var A=31-ut(f);u.entangledLanes|=f,u.entanglements[A]=u.entanglements[A]|1073741824|x&4194090}function id(u,f){var x=u.entangledLanes|=f;for(u=u.entanglements;x;){var A=31-ut(x),M=1<<A;M&f|u[A]&f&&(u[A]|=f),x&=~M}}function Ga(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function ad(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function mn(){var u=oe.p;return u!==0?u:(u=window.event,u===void 0?32:a0(u.type))}function Gm(u,f){var x=oe.p;try{return oe.p=u,f()}finally{oe.p=x}}var _r=Math.random().toString(36).slice(2),Kr="__reactFiber$"+_r,pn="__reactProps$"+_r,po="__reactContainer$"+_r,Hu="__reactEvents$"+_r,sg="__reactListeners$"+_r,Ha="__reactHandles$"+_r,Hi="__reactResources$"+_r,gi="__reactMarker$"+_r;function qa(u){delete u[Kr],delete u[pn],delete u[Hu],delete u[sg],delete u[Ha]}function qi(u){var f=u[Kr];if(f)return f;for(var x=u.parentNode;x;){if(f=x[po]||x[Kr]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(u=lo(u);u!==null;){if(x=u[Kr])return x;u=lo(u)}return f}u=x,x=u.parentNode}return null}function yi(u){if(u=u[Kr]||u[po]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function bi(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(i(33))}function $r(u){var f=u[Hi];return f||(f=u[Hi]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Hr(u){u[gi]=!0}var ld=new Set,cd={};function Go(u,f){ws(u,f),ws(u+"Capture",f)}function ws(u,f){for(cd[u]=f,u=0;u<f.length;u++)ld.add(f[u])}var Hm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qm={},ql={};function Ym(u){return Tt.call(ql,u)?!0:Tt.call(qm,u)?!1:Hm.test(u)?ql[u]=!0:(qm[u]=!0,!1)}function Ya(u,f,x){if(Ym(f))if(x===null)u.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var A=f.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+x)}}function xi(u,f,x){if(x===null)u.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+x)}}function Qn(u,f,x,A){if(A===null)u.removeAttribute(x);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(f,x,""+A)}}var Yl,vi;function Xs(u){if(Yl===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);Yl=f&&f[1]||"",vi=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yl+u+vi}var wi=!1;function dd(u,f){if(!u||wi)return"";wi=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(f){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Ee){var Se=Ee}Reflect.construct(u,[],Ue)}else{try{Ue.call()}catch(Ee){Se=Ee}u.call(Ue.prototype)}}else{try{throw Error()}catch(Ee){Se=Ee}(Ue=u())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Ee){if(Ee&&Se&&typeof Ee.stack=="string")return[Ee.stack,Se.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=A.DetermineComponentFrameRoot(),X=O[0],ie=O[1];if(X&&ie){var ye=X.split(`
`),Ae=ie.split(`
`);for(M=A=0;A<ye.length&&!ye[A].includes("DetermineComponentFrameRoot");)A++;for(;M<Ae.length&&!Ae[M].includes("DetermineComponentFrameRoot");)M++;if(A===ye.length||M===Ae.length)for(A=ye.length-1,M=Ae.length-1;1<=A&&0<=M&&ye[A]!==Ae[M];)M--;for(;1<=A&&0<=M;A--,M--)if(ye[A]!==Ae[M]){if(A!==1||M!==1)do if(A--,M--,0>M||ye[A]!==Ae[M]){var Be=`
`+ye[A].replace(" at new "," at ");return u.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",u.displayName)),Be}while(1<=A&&0<=M);break}}}finally{wi=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?Xs(x):""}function qu(u){switch(u.tag){case 26:case 27:case 5:return Xs(u.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 15:return dd(u.type,!1);case 11:return dd(u.type.render,!1);case 1:return dd(u.type,!0);case 31:return Xs("Activity");default:return""}}function ud(u){try{var f="";do f+=qu(u),u=u.return;while(u);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ks(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Yu(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function og(u){var f=Yu(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),A=""+u[f];if(!u.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var M=x.get,O=x.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return M.call(this)},set:function(X){A=""+X,O.call(this,X)}}),Object.defineProperty(u,f,{enumerable:x.enumerable}),{getValue:function(){return A},setValue:function(X){A=""+X},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function hd(u){u._valueTracker||(u._valueTracker=og(u))}function ki(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var x=f.getValue(),A="";return u&&(A=Yu(u)?u.checked?"true":"false":u.value),u=A,u!==x?(f.setValue(u),!0):!1}function Wa(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var ig=/[\n"\\]/g;function fn(u){return u.replace(ig,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function cs(u,f,x,A,M,O,X,ie){u.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?u.type=X:u.removeAttribute("type"),f!=null?X==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+ks(f)):u.value!==""+ks(f)&&(u.value=""+ks(f)):X!=="submit"&&X!=="reset"||u.removeAttribute("value"),f!=null?Ka(u,X,ks(f)):x!=null?Ka(u,X,ks(x)):A!=null&&u.removeAttribute("value"),M==null&&O!=null&&(u.defaultChecked=!!O),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?u.name=""+ks(ie):u.removeAttribute("name")}function Wl(u,f,x,A,M,O,X,ie){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(u.type=O),f!=null||x!=null){if(!(O!=="submit"&&O!=="reset"||f!=null))return;x=x!=null?""+ks(x):"",f=f!=null?""+ks(f):x,ie||f===u.value||(u.value=f),u.defaultValue=f}A=A??M,A=typeof A!="function"&&typeof A!="symbol"&&!!A,u.checked=ie?u.checked:!!A,u.defaultChecked=!!A,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(u.name=X)}function Ka(u,f,x){f==="number"&&Wa(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function Yi(u,f,x,A){if(u=u.options,f){f={};for(var M=0;M<x.length;M++)f["$"+x[M]]=!0;for(x=0;x<u.length;x++)M=f.hasOwnProperty("$"+u[x].value),u[x].selected!==M&&(u[x].selected=M),M&&A&&(u[x].defaultSelected=!0)}else{for(x=""+ks(x),f=null,M=0;M<u.length;M++){if(u[M].value===x){u[M].selected=!0,A&&(u[M].defaultSelected=!0);return}f!==null||u[M].disabled||(f=u[M])}f!==null&&(f.selected=!0)}}function Ar(u,f,x){if(f!=null&&(f=""+ks(f),f!==u.value&&(u.value=f),x==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=x!=null?""+ks(x):""}function fo(u,f,x,A){if(f==null){if(A!=null){if(x!=null)throw Error(i(92));if(ke(A)){if(1<A.length)throw Error(i(93));A=A[0]}x=A}x==null&&(x=""),f=x}x=ks(f),u.defaultValue=x,A=u.textContent,A===x&&A!==""&&A!==null&&(u.value=A)}function Cs(u,f){if(f){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=f;return}}u.textContent=f}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wi(u,f,x){var A=f.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?A?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":A?u.setProperty(f,x):typeof x!="number"||x===0||Kl.has(f)?f==="float"?u.cssFloat=x:u[f]=(""+x).trim():u[f]=x+"px"}function Ki(u,f,x){if(f!=null&&typeof f!="object")throw Error(i(62));if(u=u.style,x!=null){for(var A in x)!x.hasOwnProperty(A)||f!=null&&f.hasOwnProperty(A)||(A.indexOf("--")===0?u.setProperty(A,""):A==="float"?u.cssFloat="":u[A]="");for(var M in f)A=f[M],f.hasOwnProperty(M)&&x[M]!==A&&Wi(u,M,A)}else for(var O in f)f.hasOwnProperty(O)&&Wi(u,O,f[O])}function Wu(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pd(u){return Ku.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Ho=null;function Jn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Qi=null,Ci=null;function fd(u){var f=yi(u);if(f&&(u=f.stateNode)){var x=u[pn]||null;e:switch(u=f.stateNode,f.type){case"input":if(cs(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),f=x.name,x.type==="radio"&&f!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+fn(""+f)+'"][type="radio"]'),f=0;f<x.length;f++){var A=x[f];if(A!==u&&A.form===u.form){var M=A[pn]||null;if(!M)throw Error(i(90));cs(A,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<x.length;f++)A=x[f],A.form===u.form&&ki(A)}break e;case"textarea":Ar(u,x.value,x.defaultValue);break e;case"select":f=x.value,f!=null&&Yi(u,!!x.multiple,f,!1)}}}var _i=!1;function Wm(u,f,x){if(_i)return u(f,x);_i=!0;try{var A=u(f);return A}finally{if(_i=!1,(Qi!==null||Ci!==null)&&(Qd(),Qi&&(f=Qi,u=Ci,Ci=Qi=null,fd(f),u)))for(f=0;f<u.length;f++)fd(u[f])}}function Ji(u,f){var x=u.stateNode;if(x===null)return null;var A=x[pn]||null;if(A===null)return null;x=A[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(u=u.type,A=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!A;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(i(231,f,typeof x));return x}var qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(qo)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Zs=!1}var Yo=null,go=null,Xi=null;function Ql(){if(Xi)return Xi;var u,f=go,x=f.length,A,M="value"in Yo?Yo.value:Yo.textContent,O=M.length;for(u=0;u<x&&f[u]===M[u];u++);var X=x-u;for(A=1;A<=X&&f[x-A]===M[O-A];A++);return Xi=M.slice(u,1<A?1-A:void 0)}function Wo(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function tr(){return!0}function Qu(){return!1}function gn(u){function f(x,A,M,O,X){this._reactName=x,this._targetInst=M,this.type=A,this.nativeEvent=O,this.target=X,this.currentTarget=null;for(var ie in u)u.hasOwnProperty(ie)&&(x=u[ie],this[ie]=x?x(O):O[ie]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?tr:Qu,this.isPropagationStopped=Qu,this}return k(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),f}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=gn(ur),Zi=k({},ur,{view:0,detail:0}),$i=gn(Zi),Jl,Ja,Ni,Xa=k({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ni&&(Ni&&u.type==="mousemove"?(Jl=u.screenX-Ni.screenX,Ja=u.screenY-Ni.screenY):Ja=Jl=0,Ni=u),Jl)},movementY:function(u){return"movementY"in u?u.movementY:Ja}}),yo=gn(Xa),gd=k({},Xa,{dataTransfer:0}),ag=gn(gd),Xl=k({},Zi,{relatedTarget:0}),yd=gn(Xl),Za=k({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=gn(Za),Km=k({},ur,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),bd=gn(Km),lg=k({},ur,{data:0}),Ju=gn(lg),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xd(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Xu[u])?!!f[u]:!1}function el(){return xd}var Zu=k({},Zi,{key:function(u){if(u.key){var f=bo[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Wo(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Qm[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(u){return u.type==="keypress"?Wo(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Wo(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Zl=gn(Zu),$u=k({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=gn($u),ji=k({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),Jm=gn(ji),th=k({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),vd=gn(th),Xm=k({},Xa,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=gn(Xm),ds=k({},ur,{newState:0,oldState:0}),Zm=gn(ds),rh=[9,13,27,32],xo=qo&&"CompositionEvent"in window,S=null;qo&&"documentMode"in document&&(S=document.documentMode);var U=qo&&"TextEvent"in window&&!S,Q=qo&&(!xo||S&&8<S&&11>=S),he=" ",Ce=!1;function Me(u,f){switch(u){case"keyup":return rh.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xe(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Qt=!1;function yn(u,f){switch(u){case"compositionend":return Xe(f);case"keypress":return f.which!==32?null:(Ce=!0,he);case"textInput":return u=f.data,u===he&&Ce?null:u;default:return null}}function Jt(u,f){if(Qt)return u==="compositionend"||!xo&&Me(u,f)?(u=Ql(),Xi=go=Yo=null,Qt=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Q&&f.locale!=="ko"?null:f.data;default:return null}}var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Bn[u.type]:f==="textarea"}function ea(u,f,x,A){Qi?Ci?Ci.push(A):Ci=[A]:Qi=A,f=Fh(f,"onChange"),0<f.length&&(x=new Ai("onChange","change",null,x,A),u.push({event:x,listeners:f}))}var Xn=null,Si=null;function Ko(u){zv(u,0)}function tl(u){var f=bi(u);if(ki(f))return u}function kx(u,f){if(u==="change")return f}var Cx=!1;if(qo){var wd;if(qo){var nh="oninput"in document;if(!nh){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),nh=typeof _x.oninput=="function"}wd=nh}else wd=!1;Cx=wd&&(!document.documentMode||9<document.documentMode)}function Ax(){Xn&&(Xn.detachEvent("onpropertychange",Nx),Si=Xn=null)}function Nx(u){if(u.propertyName==="value"&&tl(Si)){var f=[];ea(f,Si,u,Jn(u)),Wm(Ko,f)}}function jx(u,f,x){u==="focusin"?(Ax(),Xn=f,Si=x,Xn.attachEvent("onpropertychange",Nx)):u==="focusout"&&Ax()}function Sx(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return tl(Si)}function Zk(u,f){if(u==="click")return tl(f)}function Ex(u,f){if(u==="input"||u==="change")return tl(f)}function $k(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Rs=typeof Object.is=="function"?Object.is:$k;function sh(u,f){if(Rs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var x=Object.keys(u),A=Object.keys(f);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var M=x[A];if(!Tt.call(f,M)||!Rs(u[M],f[M]))return!1}return!0}function cg(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Dx(u,f){var x=cg(u);u=0;for(var A;x;){if(x.nodeType===3){if(A=u+x.textContent.length,u<=f&&A>=f)return{node:x,offset:f-u};u=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=cg(x)}}function dg(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?dg(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function Mx(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Wa(u.document);f instanceof u.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)u=f.contentWindow;else break;f=Wa(u.document)}return f}function ug(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var Tx=qo&&"documentMode"in document&&11>=document.documentMode,kd=null,$m=null,Cd=null,ep=!1;function Mr(u,f,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ep||kd==null||kd!==Wa(A)||(A=kd,"selectionStart"in A&&ug(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Cd&&sh(Cd,A)||(Cd=A,A=Fh($m,"onSelect"),0<A.length&&(f=new Ai("onSelect","select",null,f,x),u.push({event:f,listeners:A}),f.target=kd)))}function ta(u,f){var x={};return x[u.toLowerCase()]=f.toLowerCase(),x["Webkit"+u]="webkit"+f,x["Moz"+u]="moz"+f,x}var rl={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},ra={},hg={};qo&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function nl(u){if(ra[u])return ra[u];if(!rl[u])return u;var f=rl[u],x;for(x in f)if(f.hasOwnProperty(x)&&x in hg)return ra[u]=f[x];return u}var Ix=nl("animationend"),na=nl("animationiteration"),oh=nl("animationstart"),Rx=nl("transitionrun"),sl=nl("transitionstart"),e1=nl("transitioncancel"),mg=nl("transitionend"),tp=new Map,At="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");At.push("scrollEnd");function $s(u,f){tp.set(u,f),Go(f,[u])}var ih=new WeakMap;function eo(u,f){if(typeof u=="object"&&u!==null){var x=ih.get(u);return x!==void 0?x:(f={value:u,source:f,stack:ud(f)},ih.set(u,f),f)}return{value:u,source:f,stack:ud(f)}}var hr=[],ec=0,fr=0;function tc(){for(var u=ec,f=fr=ec=0;f<u;){var x=hr[f];hr[f++]=null;var A=hr[f];hr[f++]=null;var M=hr[f];hr[f++]=null;var O=hr[f];if(hr[f++]=null,A!==null&&M!==null){var X=A.pending;X===null?M.next=M:(M.next=X.next,X.next=M),A.pending=M}O!==0&&Qr(x,M,O)}}function ah(u,f,x,A){hr[ec++]=u,hr[ec++]=f,hr[ec++]=x,hr[ec++]=A,fr|=A,u.lanes|=A,u=u.alternate,u!==null&&(u.lanes|=A)}function rp(u,f,x,A){return ah(u,f,x,A),nc(u)}function rc(u,f){return ah(u,null,null,f),nc(u)}function Qr(u,f,x){u.lanes|=x;var A=u.alternate;A!==null&&(A.lanes|=x);for(var M=!1,O=u.return;O!==null;)O.childLanes|=x,A=O.alternate,A!==null&&(A.childLanes|=x),O.tag===22&&(u=O.stateNode,u===null||u._visibility&1||(M=!0)),u=O,O=O.return;return u.tag===3?(O=u.stateNode,M&&f!==null&&(M=31-ut(x),u=O.hiddenUpdates,A=u[M],A===null?u[M]=[f]:A.push(f),f.lane=x|536870912),O):null}function nc(u){if(50<wc)throw wc=0,zp=null,Error(i(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var _d={};function pg(u,f,x,A){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(u,f,x,A){return new pg(u,f,x,A)}function np(u){return u=u.prototype,!(!u||!u.isReactComponent)}function to(u,f){var x=u.alternate;return x===null?(x=us(u.tag,f,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=f,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&65011712,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,f=u.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function ol(u,f){u.flags&=65011714;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,f=x.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function lh(u,f,x,A,M,O){var X=0;if(A=u,typeof u=="function")np(u)&&(X=1);else if(typeof u=="string")X=N1(u,x,be.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case W:return u=us(31,x,f,M),u.elementType=W,u.lanes=O,u;case T:return il(x.children,M,O,f);case R:X=8,M|=24;break;case P:return u=us(12,x,f,M|2),u.elementType=P,u.lanes=O,u;case ee:return u=us(13,x,f,M),u.elementType=ee,u.lanes=O,u;case le:return u=us(19,x,f,M),u.elementType=le,u.lanes=O,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case F:case G:X=10;break e;case V:X=9;break e;case Y:X=11;break e;case J:X=14;break e;case B:X=16,A=null;break e}X=29,x=Error(i(130,u===null?"null":typeof u,"")),A=null}return f=us(X,x,f,M),f.elementType=u,f.type=A,f.lanes=O,f}function il(u,f,x,A){return u=us(7,u,A,f),u.lanes=x,u}function sp(u,f,x){return u=us(6,u,null,f),u.lanes=x,u}function ch(u,f,x){return f=us(4,u.children!==null?u.children:[],u.key,f),f.lanes=x,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var sc=[],Ad=0,op=null,dh=0,ro=[],no=0,al=null,Qo=1,sa="";function ll(u,f){sc[Ad++]=dh,sc[Ad++]=op,op=u,dh=f}function Px(u,f,x){ro[no++]=Qo,ro[no++]=sa,ro[no++]=al,al=u;var A=Qo;u=sa;var M=32-ut(A)-1;A&=~(1<<M),x+=1;var O=32-ut(f)+M;if(30<O){var X=M-M%5;O=(A&(1<<X)-1).toString(32),A>>=X,M-=X,Qo=1<<32-ut(f)+M|x<<M|A,sa=O+u}else Qo=1<<O|x<<M|A,sa=u}function fg(u){u.return!==null&&(ll(u,1),Px(u,1,0))}function Wt(u){for(;u===op;)op=sc[--Ad],sc[Ad]=null,dh=sc[--Ad],sc[Ad]=null;for(;u===al;)al=ro[--no],ro[no]=null,sa=ro[--no],ro[no]=null,Qo=ro[--no],ro[no]=null}var _s=null,Tr=null,rr=!1,cl=null,vo=!1,bn=Error(i(519));function oc(u){var f=Error(i(418,""));throw hs(eo(f,u)),bn}function Ox(u){var f=u.stateNode,x=u.type,A=u.memoizedProps;switch(f[Kr]=u,f[pn]=A,x){case"dialog":Gt("cancel",f),Gt("close",f);break;case"iframe":case"object":case"embed":Gt("load",f);break;case"video":case"audio":for(x=0;x<Lh.length;x++)Gt(Lh[x],f);break;case"source":Gt("error",f);break;case"img":case"image":case"link":Gt("error",f),Gt("load",f);break;case"details":Gt("toggle",f);break;case"input":Gt("invalid",f),Wl(f,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),hd(f);break;case"select":Gt("invalid",f);break;case"textarea":Gt("invalid",f),fo(f,A.value,A.defaultValue,A.children),hd(f)}x=A.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||f.textContent===""+x||A.suppressHydrationWarning===!0||Gv(f.textContent,x)?(A.popover!=null&&(Gt("beforetoggle",f),Gt("toggle",f)),A.onScroll!=null&&Gt("scroll",f),A.onScrollEnd!=null&&Gt("scrollend",f),A.onClick!=null&&(f.onclick=Vh),f=!0):f=!1,f||oc(u)}function gg(u){for(_s=u.return;_s;)switch(_s.tag){case 5:case 13:vo=!1;return;case 27:case 3:vo=!0;return;default:_s=_s.return}}function uh(u){if(u!==_s)return!1;if(!rr)return gg(u),rr=!0,!1;var f=u.tag,x;if((x=f!==3&&f!==27)&&((x=f===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||Kp(u.type,u.memoizedProps)),x=!x),x&&Tr&&oc(u),gg(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(x=u.data,x==="/$"){if(f===0){Tr=Mn(u.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++;u=u.nextSibling}Tr=null}}else f===27?(f=Tr,Xt(u.type)?(u=So,So=null,Tr=u):Tr=f):Tr=_s?Mn(u.stateNode.nextSibling):null;return!0}function As(){Tr=_s=null,rr=!1}function en(){var u=cl;return u!==null&&(js===null?js=u:js.push.apply(js,u),cl=null),u}function hs(u){cl===null?cl=[u]:cl.push(u)}var wo=ae(null),ms=null,Jo=null;function Ei(u,f,x){me(wo,f._currentValue),f._currentValue=x}function Xo(u){u._currentValue=wo.current,pe(wo)}function yg(u,f,x){for(;u!==null;){var A=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,A!==null&&(A.childLanes|=f)):A!==null&&(A.childLanes&f)!==f&&(A.childLanes|=f),u===x)break;u=u.return}}function ip(u,f,x,A){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var O=M.dependencies;if(O!==null){var X=M.child;O=O.firstContext;e:for(;O!==null;){var ie=O;O=M;for(var ye=0;ye<f.length;ye++)if(ie.context===f[ye]){O.lanes|=x,ie=O.alternate,ie!==null&&(ie.lanes|=x),yg(O.return,x,u),A||(X=null);break e}O=ie.next}}else if(M.tag===18){if(X=M.return,X===null)throw Error(i(341));X.lanes|=x,O=X.alternate,O!==null&&(O.lanes|=x),yg(X,x,u),X=null}else X=M.child;if(X!==null)X.return=M;else for(X=M;X!==null;){if(X===u){X=null;break}if(M=X.sibling,M!==null){M.return=X.return,X=M;break}X=X.return}M=X}}function ko(u,f,x,A){u=null;for(var M=f,O=!1;M!==null;){if(!O){if((M.flags&524288)!==0)O=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var X=M.alternate;if(X===null)throw Error(i(387));if(X=X.memoizedProps,X!==null){var ie=M.type;Rs(M.pendingProps.value,X.value)||(u!==null?u.push(ie):u=[ie])}}else if(M===Ye.current){if(X=M.alternate,X===null)throw Error(i(387));X.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Xh):u=[Xh])}M=M.return}u!==null&&ip(f,u,x,A),f.flags|=262144}function ap(u){for(u=u.firstContext;u!==null;){if(!Rs(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function rt(u){ms=u,Jo=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Zn(u){return Ft(ms,u)}function lp(u,f){return ms===null&&rt(u),Ft(u,f)}function Ft(u,f){var x=f._currentValue;if(f={context:f,memoizedValue:x,next:null},Jo===null){if(u===null)throw Error(i(308));Jo=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Jo=Jo.next=f;return x}var Zo=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(x,A){u.push(A)}};this.abort=function(){f.aborted=!0,u.forEach(function(x){return x()})}},hh=n.unstable_scheduleCallback,t1=n.unstable_NormalPriority,xn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new Zo,data:new Map,refCount:0}}function jd(u){u.refCount--,u.refCount===0&&hh(t1,function(){u.controller.abort()})}var mh=null,bg=0,Sd=0,ic=null;function Bx(u,f){if(mh===null){var x=mh=[];bg=0,Sd=Dy(),ic={status:"pending",value:void 0,then:function(A){x.push(A)}}}return bg++,f.then(xg,xg),f}function xg(){if(--bg===0&&mh!==null){ic!==null&&(ic.status="fulfilled");var u=mh;mh=null,Sd=0,ic=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function Lx(u,f){var x=[],A={status:"pending",value:null,reason:null,then:function(M){x.push(M)}};return u.then(function(){A.status="fulfilled",A.value=f;for(var M=0;M<x.length;M++)(0,x[M])(f)},function(M){for(A.status="rejected",A.reason=M,M=0;M<x.length;M++)(0,x[M])(void 0)}),A}var vg=se.S;se.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Bx(u,f),vg!==null&&vg(u,f)};var dl=ae(null);function ul(){var u=dl.current;return u!==null?u:Or.pooledCache}function ac(u,f){f===null?me(dl,dl.current):me(dl,f.pool)}function cp(){var u=ul();return u===null?null:{parent:xn._currentValue,pool:u}}var lc=Error(i(460)),wg=Error(i(474)),ph=Error(i(542)),kg={then:function(){}};function Cg(u){return u=u.status,u==="fulfilled"||u==="rejected"}function dp(){}function _g(u,f,x){switch(x=u[x],x===void 0?u.push(f):x!==f&&(f.then(dp,dp),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,zx(u),u;default:if(typeof f.status=="string")f.then(dp,dp);else{if(u=Or,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=f,u.status="pending",u.then(function(A){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=A}},function(A){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=A}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,zx(u),u}throw Di=f,lc}}var Di=null;function Ag(){if(Di===null)throw Error(i(459));var u=Di;return Di=null,u}function zx(u){if(u===lc||u===ph)throw Error(i(483))}var ir=!1;function up(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ng(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function $o(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function oa(u,f,x){var A=u.updateQueue;if(A===null)return null;if(A=A.shared,(vr&2)!==0){var M=A.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),A.pending=f,f=nc(u),Qr(u,null,x),f}return ah(u,A,f,x),nc(u)}function fh(u,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194048)!==0)){var A=f.lanes;A&=u.pendingLanes,x|=A,f.lanes=x,id(u,x)}}function hp(u,f){var x=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var M=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var X={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};O===null?M=O=X:O=O.next=X,x=x.next}while(x!==null);O===null?M=O=f:O=O.next=f}else M=O=f;x={baseState:A.baseState,firstBaseUpdate:M,lastBaseUpdate:O,shared:A.shared,callbacks:A.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=f}var jg=!1;function Ed(){if(jg){var u=ic;if(u!==null)throw u}}function Dd(u,f,x,A){jg=!1;var M=u.updateQueue;ir=!1;var O=M.firstBaseUpdate,X=M.lastBaseUpdate,ie=M.shared.pending;if(ie!==null){M.shared.pending=null;var ye=ie,Ae=ye.next;ye.next=null,X===null?O=Ae:X.next=Ae,X=ye;var Be=u.alternate;Be!==null&&(Be=Be.updateQueue,ie=Be.lastBaseUpdate,ie!==X&&(ie===null?Be.firstBaseUpdate=Ae:ie.next=Ae,Be.lastBaseUpdate=ye))}if(O!==null){var Ue=M.baseState;X=0,Be=Ae=ye=null,ie=O;do{var Se=ie.lane&-536870913,Ee=Se!==ie.lane;if(Ee?(Mt&Se)===Se:(A&Se)===Se){Se!==0&&Se===Sd&&(jg=!0),Be!==null&&(Be=Be.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var xt=u,ft=ie;Se=f;var kr=x;switch(ft.tag){case 1:if(xt=ft.payload,typeof xt=="function"){Ue=xt.call(kr,Ue,Se);break e}Ue=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=ft.payload,Se=typeof xt=="function"?xt.call(kr,Ue,Se):xt,Se==null)break e;Ue=k({},Ue,Se);break e;case 2:ir=!0}}Se=ie.callback,Se!==null&&(u.flags|=64,Ee&&(u.flags|=8192),Ee=M.callbacks,Ee===null?M.callbacks=[Se]:Ee.push(Se))}else Ee={lane:Se,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Be===null?(Ae=Be=Ee,ye=Ue):Be=Be.next=Ee,X|=Se;if(ie=ie.next,ie===null){if(ie=M.shared.pending,ie===null)break;Ee=ie,ie=Ee.next,Ee.next=null,M.lastBaseUpdate=Ee,M.shared.pending=null}}while(!0);Be===null&&(ye=Ue),M.baseState=ye,M.firstBaseUpdate=Ae,M.lastBaseUpdate=Be,O===null&&(M.shared.lanes=0),es|=X,u.lanes=X,u.memoizedState=Ue}}function Fx(u,f){if(typeof u!="function")throw Error(i(191,u));u.call(f)}function mp(u,f){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)Fx(x[u],f)}var cc=ae(null),pp=ae(0);function Vx(u,f){u=Dn,me(pp,u),me(cc,f),Dn=u|f.baseLanes}function Sg(){me(pp,Dn),me(cc,cc.current)}function Eg(){Dn=pp.current,pe(cc),pe(pp)}var ia=0,Bt=null,gr=null,Jr=null,gh=!1,Md=!1,Co=!1,Td=0,Id=0,Rd=null,Ux=0;function Fe(){throw Error(i(321))}function fp(u,f){if(f===null)return!1;for(var x=0;x<f.length&&x<u.length;x++)if(!Rs(u[x],f[x]))return!1;return!0}function Rt(u,f,x,A,M,O){return ia=O,Bt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,se.H=u===null||u.memoizedState===null?ov:iv,Co=!1,O=x(A,M),Co=!1,Md&&(O=Mg(f,x,A,M)),Dg(u),O}function Dg(u){se.H=_p;var f=gr!==null&&gr.next!==null;if(ia=0,Jr=gr=Bt=null,gh=!1,Id=0,Rd=null,f)throw Error(i(300));u===null||Vr||(u=u.dependencies,u!==null&&ap(u)&&(Vr=!0))}function Mg(u,f,x,A){Bt=u;var M=0;do{if(Md&&(Rd=null),Id=0,Md=!1,25<=M)throw Error(i(301));if(M+=1,Jr=gr=null,u.updateQueue!=null){var O=u.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}se.H=l1,O=f(x,A)}while(Md);return O}function Gx(){var u=se.H,f=u.useState()[0];return f=typeof f.then=="function"?Bd(f):f,u=u.useState()[0],(gr!==null?gr.memoizedState:null)!==u&&(Bt.flags|=1024),f}function gp(){var u=Td!==0;return Td=0,u}function Pd(u,f,x){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~x}function Tg(u){if(gh){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}gh=!1}ia=0,Jr=gr=Bt=null,Md=!1,Id=Td=0,Rd=null}function Ns(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Bt.memoizedState=Jr=u:Jr=Jr.next=u,Jr}function vn(){if(gr===null){var u=Bt.alternate;u=u!==null?u.memoizedState:null}else u=gr.next;var f=Jr===null?Bt.memoizedState:Jr.next;if(f!==null)Jr=f,gr=u;else{if(u===null)throw Bt.alternate===null?Error(i(467)):Error(i(310));gr=u,u={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Jr===null?Bt.memoizedState=Jr=u:Jr=Jr.next=u}return Jr}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bd(u){var f=Id;return Id+=1,Rd===null&&(Rd=[]),u=_g(Rd,u,f),f=Bt,(Jr===null?f.memoizedState:Jr.next)===null&&(f=f.alternate,se.H=f===null||f.memoizedState===null?ov:iv),u}function yh(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Bd(u);if(u.$$typeof===G)return Zn(u)}throw Error(i(438,String(u)))}function Ig(u){var f=null,x=Bt.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var A=Bt.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(f={data:A.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=Od(),Bt.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(u),A=0;A<u;A++)x[A]=Z;return f.index++,x}function ei(u,f){return typeof f=="function"?f(u):f}function bh(u){var f=vn();return Rg(f,gr,u)}function Rg(u,f,x){var A=u.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=x;var M=u.baseQueue,O=A.pending;if(O!==null){if(M!==null){var X=M.next;M.next=O.next,O.next=X}f.baseQueue=M=O,A.pending=null}if(O=u.baseState,M===null)u.memoizedState=O;else{f=M.next;var ie=X=null,ye=null,Ae=f,Be=!1;do{var Ue=Ae.lane&-536870913;if(Ue!==Ae.lane?(Mt&Ue)===Ue:(ia&Ue)===Ue){var Se=Ae.revertLane;if(Se===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ue===Sd&&(Be=!0);else if((ia&Se)===Se){Ae=Ae.next,Se===Sd&&(Be=!0);continue}else Ue={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ye===null?(ie=ye=Ue,X=O):ye=ye.next=Ue,Bt.lanes|=Se,es|=Se;Ue=Ae.action,Co&&x(O,Ue),O=Ae.hasEagerState?Ae.eagerState:x(O,Ue)}else Se={lane:Ue,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ye===null?(ie=ye=Se,X=O):ye=ye.next=Se,Bt.lanes|=Ue,es|=Ue;Ae=Ae.next}while(Ae!==null&&Ae!==f);if(ye===null?X=O:ye.next=ie,!Rs(O,u.memoizedState)&&(Vr=!0,Be&&(x=ic,x!==null)))throw x;u.memoizedState=O,u.baseState=X,u.baseQueue=ye,A.lastRenderedState=O}return M===null&&(A.lanes=0),[u.memoizedState,A.dispatch]}function aa(u){var f=vn(),x=f.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=u;var A=x.dispatch,M=x.pending,O=f.memoizedState;if(M!==null){x.pending=null;var X=M=M.next;do O=u(O,X.action),X=X.next;while(X!==M);Rs(O,f.memoizedState)||(Vr=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),x.lastRenderedState=O}return[O,A]}function Pg(u,f,x){var A=Bt,M=vn(),O=rr;if(O){if(x===void 0)throw Error(i(407));x=x()}else x=f();var X=!Rs((gr||M).memoizedState,x);X&&(M.memoizedState=x,Vr=!0),M=M.queue;var ie=ti.bind(null,A,M,u);if(wh(2048,8,ie,[u]),M.getSnapshot!==f||X||Jr!==null&&Jr.memoizedState.tag&1){if(A.flags|=2048,dc(9,bp(),xr.bind(null,A,M,x,f),null),Or===null)throw Error(i(349));O||(ia&124)!==0||hl(A,f,x)}return x}function hl(u,f,x){u.flags|=16384,u={getSnapshot:f,value:x},f=Bt.updateQueue,f===null?(f=Od(),Bt.updateQueue=f,f.stores=[u]):(x=f.stores,x===null?f.stores=[u]:x.push(u))}function xr(u,f,x,A){f.value=x,f.getSnapshot=A,_o(f)&&Og(u)}function ti(u,f,x){return x(function(){_o(f)&&Og(u)})}function _o(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!Rs(u,x)}catch{return!0}}function Og(u){var f=rc(u,2);f!==null&&Bs(f,u,2)}function xh(u){var f=Ns();if(typeof u=="function"){var x=u;if(u=x(),Co){Nn(!0);try{x()}finally{Nn(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:u},f}function vh(u,f,x,A){return u.baseState=x,Rg(u,gr,typeof A=="function"?A:ei)}function r1(u,f,x,A,M){if(Cp(u))throw Error(i(485));if(u=f.action,u!==null){var O={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){O.listeners.push(X)}};se.T!==null?x(!0):O.isTransition=!1,A(O),x=f.pending,x===null?(O.next=f.pending=O,Hx(f,O)):(O.next=x.next,f.pending=x.next=O)}}function Hx(u,f){var x=f.action,A=f.payload,M=u.state;if(f.isTransition){var O=se.T,X={};se.T=X;try{var ie=x(M,A),ye=se.S;ye!==null&&ye(X,ie),qx(u,f,ie)}catch(Ae){Bg(u,f,Ae)}finally{se.T=O}}else try{O=x(M,A),qx(u,f,O)}catch(Ae){Bg(u,f,Ae)}}function qx(u,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(A){yp(u,f,A)},function(A){return Bg(u,f,A)}):yp(u,f,x)}function yp(u,f,x){f.status="fulfilled",f.value=x,Yx(f),u.state=x,f=u.pending,f!==null&&(x=f.next,x===f?u.pending=null:(x=x.next,f.next=x,Hx(u,x)))}function Bg(u,f,x){var A=u.pending;if(u.pending=null,A!==null){A=A.next;do f.status="rejected",f.reason=x,Yx(f),f=f.next;while(f!==A)}u.action=null}function Yx(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function Wx(u,f){return f}function Kx(u,f){if(rr){var x=Or.formState;if(x!==null){e:{var A=Bt;if(rr){if(Tr){t:{for(var M=Tr,O=vo;M.nodeType!==8;){if(!O){M=null;break t}if(M=Mn(M.nextSibling),M===null){M=null;break t}}O=M.data,M=O==="F!"||O==="F"?M:null}if(M){Tr=Mn(M.nextSibling),A=M.data==="F!";break e}}oc(A)}A=!1}A&&(f=x[0])}}return x=Ns(),x.memoizedState=x.baseState=f,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:f},x.queue=A,x=a1.bind(null,Bt,A),A.dispatch=x,A=xh(!1),O=Hg.bind(null,Bt,!1,A.queue),A=Ns(),M={state:f,dispatch:null,action:u,pending:null},A.queue=M,x=r1.bind(null,Bt,M,O,x),M.dispatch=x,A.memoizedState=u,[f,x,!1]}function Qx(u){var f=vn();return Jx(f,gr,u)}function Jx(u,f,x){if(f=Rg(u,f,Wx)[0],u=bh(ei)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var A=Bd(f)}catch(X){throw X===lc?ph:X}else A=f;f=vn();var M=f.queue,O=M.dispatch;return x!==f.memoizedState&&(Bt.flags|=2048,dc(9,bp(),n1.bind(null,M,x),null)),[A,O,u]}function n1(u,f){u.action=f}function Lg(u){var f=vn(),x=gr;if(x!==null)return Jx(f,x,u);vn(),f=f.memoizedState,x=vn();var A=x.queue.dispatch;return x.memoizedState=u,[f,A,!1]}function dc(u,f,x,A){return u={tag:u,create:x,deps:A,inst:f,next:null},f=Bt.updateQueue,f===null&&(f=Od(),Bt.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=u.next=u:(A=x.next,x.next=u,u.next=A,f.lastEffect=u),u}function bp(){return{destroy:void 0,resource:void 0}}function xp(){return vn().memoizedState}function Ld(u,f,x,A){var M=Ns();A=A===void 0?null:A,Bt.flags|=u,M.memoizedState=dc(1|f,bp(),x,A)}function wh(u,f,x,A){var M=vn();A=A===void 0?null:A;var O=M.memoizedState.inst;gr!==null&&A!==null&&fp(A,gr.memoizedState.deps)?M.memoizedState=dc(f,O,x,A):(Bt.flags|=u,M.memoizedState=dc(1|f,O,x,A))}function vp(u,f){Ld(8390656,8,u,f)}function zg(u,f){wh(2048,8,u,f)}function Fg(u,f){return wh(4,2,u,f)}function Xx(u,f){return wh(4,4,u,f)}function Zx(u,f){if(typeof f=="function"){u=u();var x=f(u);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function $x(u,f,x){x=x!=null?x.concat([u]):null,wh(4,4,Zx.bind(null,f,u),x)}function zd(){}function wp(u,f){var x=vn();f=f===void 0?null:f;var A=x.memoizedState;return f!==null&&fp(f,A[1])?A[0]:(x.memoizedState=[u,f],u)}function ev(u,f){var x=vn();f=f===void 0?null:f;var A=x.memoizedState;if(f!==null&&fp(f,A[1]))return A[0];if(A=u(),Co){Nn(!0);try{u()}finally{Nn(!1)}}return x.memoizedState=[A,f],A}function Vg(u,f,x){return x===void 0||(ia&1073741824)!==0?u.memoizedState=f:(u.memoizedState=x,u=Nv(),Bt.lanes|=u,es|=u,x)}function Ug(u,f,x,A){return Rs(x,f)?x:cc.current!==null?(u=Vg(u,x,A),Rs(u,f)||(Vr=!0),u):(ia&42)===0?(Vr=!0,u.memoizedState=x):(u=Nv(),Bt.lanes|=u,es|=u,f)}function tv(u,f,x,A,M){var O=oe.p;oe.p=O!==0&&8>O?O:8;var X=se.T,ie={};se.T=ie,Hg(u,!1,f,x);try{var ye=M(),Ae=se.S;if(Ae!==null&&Ae(ie,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Be=Lx(ye,A);kh(u,f,Be,Os(u))}else kh(u,f,A,Os(u))}catch(Ue){kh(u,f,{then:function(){},status:"rejected",reason:Ue},Os())}finally{oe.p=O,se.T=X}}function s1(){}function Gg(u,f,x,A){if(u.tag!==5)throw Error(i(476));var M=ml(u).queue;tv(u,M,f,ue,x===null?s1:function(){return rv(u),x(A)})}function ml(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ue},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:x},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function rv(u){var f=ml(u).next.queue;kh(u,f,{},Os())}function kp(){return Zn(Xh)}function nv(){return vn().memoizedState}function sv(){return vn().memoizedState}function o1(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var x=Os();u=$o(x);var A=oa(f,u,x);A!==null&&(Bs(A,f,x),fh(A,f,x)),f={cache:Nd()},u.payload=f;return}f=f.return}}function i1(u,f,x){var A=Os();x={lane:A,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Cp(u)?qg(f,x):(x=rp(u,f,x,A),x!==null&&(Bs(x,u,A),Yg(x,f,A)))}function a1(u,f,x){var A=Os();kh(u,f,x,A)}function kh(u,f,x,A){var M={lane:A,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Cp(u))qg(f,M);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var X=f.lastRenderedState,ie=O(X,x);if(M.hasEagerState=!0,M.eagerState=ie,Rs(ie,X))return ah(u,f,M,0),Or===null&&tc(),!1}catch{}finally{}if(x=rp(u,f,M,A),x!==null)return Bs(x,u,A),Yg(x,f,A),!0}return!1}function Hg(u,f,x,A){if(A={lane:2,revertLane:Dy(),action:A,hasEagerState:!1,eagerState:null,next:null},Cp(u)){if(f)throw Error(i(479))}else f=rp(u,x,A,2),f!==null&&Bs(f,u,2)}function Cp(u){var f=u.alternate;return u===Bt||f!==null&&f===Bt}function qg(u,f){Md=gh=!0;var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}function Yg(u,f,x){if((x&4194048)!==0){var A=f.lanes;A&=u.pendingLanes,x|=A,f.lanes=x,id(u,x)}}var _p={readContext:Zn,use:yh,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},ov={readContext:Zn,use:yh,useCallback:function(u,f){return Ns().memoizedState=[u,f===void 0?null:f],u},useContext:Zn,useEffect:vp,useImperativeHandle:function(u,f,x){x=x!=null?x.concat([u]):null,Ld(4194308,4,Zx.bind(null,f,u),x)},useLayoutEffect:function(u,f){return Ld(4194308,4,u,f)},useInsertionEffect:function(u,f){Ld(4,2,u,f)},useMemo:function(u,f){var x=Ns();f=f===void 0?null:f;var A=u();if(Co){Nn(!0);try{u()}finally{Nn(!1)}}return x.memoizedState=[A,f],A},useReducer:function(u,f,x){var A=Ns();if(x!==void 0){var M=x(f);if(Co){Nn(!0);try{x(f)}finally{Nn(!1)}}}else M=f;return A.memoizedState=A.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},A.queue=u,u=u.dispatch=i1.bind(null,Bt,u),[A.memoizedState,u]},useRef:function(u){var f=Ns();return u={current:u},f.memoizedState=u},useState:function(u){u=xh(u);var f=u.queue,x=a1.bind(null,Bt,f);return f.dispatch=x,[u.memoizedState,x]},useDebugValue:zd,useDeferredValue:function(u,f){var x=Ns();return Vg(x,u,f)},useTransition:function(){var u=xh(!1);return u=tv.bind(null,Bt,u.queue,!0,!1),Ns().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,x){var A=Bt,M=Ns();if(rr){if(x===void 0)throw Error(i(407));x=x()}else{if(x=f(),Or===null)throw Error(i(349));(Mt&124)!==0||hl(A,f,x)}M.memoizedState=x;var O={value:x,getSnapshot:f};return M.queue=O,vp(ti.bind(null,A,O,u),[u]),A.flags|=2048,dc(9,bp(),xr.bind(null,A,O,x,f),null),x},useId:function(){var u=Ns(),f=Or.identifierPrefix;if(rr){var x=sa,A=Qo;x=(A&~(1<<32-ut(A)-1)).toString(32)+x,f=""+f+"R"+x,x=Td++,0<x&&(f+="H"+x.toString(32)),f+=""}else x=Ux++,f=""+f+"r"+x.toString(32)+"";return u.memoizedState=f},useHostTransitionStatus:kp,useFormState:Kx,useActionState:Kx,useOptimistic:function(u){var f=Ns();f.memoizedState=f.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=Hg.bind(null,Bt,!0,x),x.dispatch=f,[u,f]},useMemoCache:Ig,useCacheRefresh:function(){return Ns().memoizedState=o1.bind(null,Bt)}},iv={readContext:Zn,use:yh,useCallback:wp,useContext:Zn,useEffect:zg,useImperativeHandle:$x,useInsertionEffect:Fg,useLayoutEffect:Xx,useMemo:ev,useReducer:bh,useRef:xp,useState:function(){return bh(ei)},useDebugValue:zd,useDeferredValue:function(u,f){var x=vn();return Ug(x,gr.memoizedState,u,f)},useTransition:function(){var u=bh(ei)[0],f=vn().memoizedState;return[typeof u=="boolean"?u:Bd(u),f]},useSyncExternalStore:Pg,useId:nv,useHostTransitionStatus:kp,useFormState:Qx,useActionState:Qx,useOptimistic:function(u,f){var x=vn();return vh(x,gr,u,f)},useMemoCache:Ig,useCacheRefresh:sv},l1={readContext:Zn,use:yh,useCallback:wp,useContext:Zn,useEffect:zg,useImperativeHandle:$x,useInsertionEffect:Fg,useLayoutEffect:Xx,useMemo:ev,useReducer:aa,useRef:xp,useState:function(){return aa(ei)},useDebugValue:zd,useDeferredValue:function(u,f){var x=vn();return gr===null?Vg(x,u,f):Ug(x,gr.memoizedState,u,f)},useTransition:function(){var u=aa(ei)[0],f=vn().memoizedState;return[typeof u=="boolean"?u:Bd(u),f]},useSyncExternalStore:Pg,useId:nv,useHostTransitionStatus:kp,useFormState:Lg,useActionState:Lg,useOptimistic:function(u,f){var x=vn();return gr!==null?vh(x,gr,u,f):(x.baseState=u,[u,x.queue.dispatch])},useMemoCache:Ig,useCacheRefresh:sv},pl=null,uc=0;function ps(u){var f=uc;return uc+=1,pl===null&&(pl=[]),_g(pl,u,f)}function Fd(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function fl(u,f){throw f.$$typeof===_?Error(i(525)):(u=Object.prototype.toString.call(f),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function Wg(u){var f=u._init;return f(u._payload)}function Ch(u){function f(we,xe){if(u){var _e=we.deletions;_e===null?(we.deletions=[xe],we.flags|=16):_e.push(xe)}}function x(we,xe){if(!u)return null;for(;xe!==null;)f(we,xe),xe=xe.sibling;return null}function A(we){for(var xe=new Map;we!==null;)we.key!==null?xe.set(we.key,we):xe.set(we.index,we),we=we.sibling;return xe}function M(we,xe){return we=to(we,xe),we.index=0,we.sibling=null,we}function O(we,xe,_e){return we.index=_e,u?(_e=we.alternate,_e!==null?(_e=_e.index,_e<xe?(we.flags|=67108866,xe):_e):(we.flags|=67108866,xe)):(we.flags|=1048576,xe)}function X(we){return u&&we.alternate===null&&(we.flags|=67108866),we}function ie(we,xe,_e,Le){return xe===null||xe.tag!==6?(xe=sp(_e,we.mode,Le),xe.return=we,xe):(xe=M(xe,_e),xe.return=we,xe)}function ye(we,xe,_e,Le){var at=_e.type;return at===T?Be(we,xe,_e.props.children,Le,_e.key):xe!==null&&(xe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===B&&Wg(at)===xe.type)?(xe=M(xe,_e.props),Fd(xe,_e),xe.return=we,xe):(xe=lh(_e.type,_e.key,_e.props,null,we.mode,Le),Fd(xe,_e),xe.return=we,xe)}function Ae(we,xe,_e,Le){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==_e.containerInfo||xe.stateNode.implementation!==_e.implementation?(xe=ch(_e,we.mode,Le),xe.return=we,xe):(xe=M(xe,_e.children||[]),xe.return=we,xe)}function Be(we,xe,_e,Le,at){return xe===null||xe.tag!==7?(xe=il(_e,we.mode,Le,at),xe.return=we,xe):(xe=M(xe,_e),xe.return=we,xe)}function Ue(we,xe,_e){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=sp(""+xe,we.mode,_e),xe.return=we,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case N:return _e=lh(xe.type,xe.key,xe.props,null,we.mode,_e),Fd(_e,xe),_e.return=we,_e;case D:return xe=ch(xe,we.mode,_e),xe.return=we,xe;case B:var Le=xe._init;return xe=Le(xe._payload),Ue(we,xe,_e)}if(ke(xe)||ne(xe))return xe=il(xe,we.mode,_e,null),xe.return=we,xe;if(typeof xe.then=="function")return Ue(we,ps(xe),_e);if(xe.$$typeof===G)return Ue(we,lp(we,xe),_e);fl(we,xe)}return null}function Se(we,xe,_e,Le){var at=xe!==null?xe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return at!==null?null:ie(we,xe,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case N:return _e.key===at?ye(we,xe,_e,Le):null;case D:return _e.key===at?Ae(we,xe,_e,Le):null;case B:return at=_e._init,_e=at(_e._payload),Se(we,xe,_e,Le)}if(ke(_e)||ne(_e))return at!==null?null:Be(we,xe,_e,Le,null);if(typeof _e.then=="function")return Se(we,xe,ps(_e),Le);if(_e.$$typeof===G)return Se(we,xe,lp(we,_e),Le);fl(we,_e)}return null}function Ee(we,xe,_e,Le,at){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return we=we.get(_e)||null,ie(xe,we,""+Le,at);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case N:return we=we.get(Le.key===null?_e:Le.key)||null,ye(xe,we,Le,at);case D:return we=we.get(Le.key===null?_e:Le.key)||null,Ae(xe,we,Le,at);case B:var Vt=Le._init;return Le=Vt(Le._payload),Ee(we,xe,_e,Le,at)}if(ke(Le)||ne(Le))return we=we.get(_e)||null,Be(xe,we,Le,at,null);if(typeof Le.then=="function")return Ee(we,xe,_e,ps(Le),at);if(Le.$$typeof===G)return Ee(we,xe,_e,lp(xe,Le),at);fl(xe,Le)}return null}function xt(we,xe,_e,Le){for(var at=null,Vt=null,ct=xe,mt=xe=0,Tn=null;ct!==null&&mt<_e.length;mt++){ct.index>mt?(Tn=ct,ct=null):Tn=ct.sibling;var ar=Se(we,ct,_e[mt],Le);if(ar===null){ct===null&&(ct=Tn);break}u&&ct&&ar.alternate===null&&f(we,ct),xe=O(ar,xe,mt),Vt===null?at=ar:Vt.sibling=ar,Vt=ar,ct=Tn}if(mt===_e.length)return x(we,ct),rr&&ll(we,mt),at;if(ct===null){for(;mt<_e.length;mt++)ct=Ue(we,_e[mt],Le),ct!==null&&(xe=O(ct,xe,mt),Vt===null?at=ct:Vt.sibling=ct,Vt=ct);return rr&&ll(we,mt),at}for(ct=A(ct);mt<_e.length;mt++)Tn=Ee(ct,we,mt,_e[mt],Le),Tn!==null&&(u&&Tn.alternate!==null&&ct.delete(Tn.key===null?mt:Tn.key),xe=O(Tn,xe,mt),Vt===null?at=Tn:Vt.sibling=Tn,Vt=Tn);return u&&ct.forEach(function(Na){return f(we,Na)}),rr&&ll(we,mt),at}function ft(we,xe,_e,Le){if(_e==null)throw Error(i(151));for(var at=null,Vt=null,ct=xe,mt=xe=0,Tn=null,ar=_e.next();ct!==null&&!ar.done;mt++,ar=_e.next()){ct.index>mt?(Tn=ct,ct=null):Tn=ct.sibling;var Na=Se(we,ct,ar.value,Le);if(Na===null){ct===null&&(ct=Tn);break}u&&ct&&Na.alternate===null&&f(we,ct),xe=O(Na,xe,mt),Vt===null?at=Na:Vt.sibling=Na,Vt=Na,ct=Tn}if(ar.done)return x(we,ct),rr&&ll(we,mt),at;if(ct===null){for(;!ar.done;mt++,ar=_e.next())ar=Ue(we,ar.value,Le),ar!==null&&(xe=O(ar,xe,mt),Vt===null?at=ar:Vt.sibling=ar,Vt=ar);return rr&&ll(we,mt),at}for(ct=A(ct);!ar.done;mt++,ar=_e.next())ar=Ee(ct,we,mt,ar.value,Le),ar!==null&&(u&&ar.alternate!==null&&ct.delete(ar.key===null?mt:ar.key),xe=O(ar,xe,mt),Vt===null?at=ar:Vt.sibling=ar,Vt=ar);return u&&ct.forEach(function(m0){return f(we,m0)}),rr&&ll(we,mt),at}function kr(we,xe,_e,Le){if(typeof _e=="object"&&_e!==null&&_e.type===T&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case N:e:{for(var at=_e.key;xe!==null;){if(xe.key===at){if(at=_e.type,at===T){if(xe.tag===7){x(we,xe.sibling),Le=M(xe,_e.props.children),Le.return=we,we=Le;break e}}else if(xe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===B&&Wg(at)===xe.type){x(we,xe.sibling),Le=M(xe,_e.props),Fd(Le,_e),Le.return=we,we=Le;break e}x(we,xe);break}else f(we,xe);xe=xe.sibling}_e.type===T?(Le=il(_e.props.children,we.mode,Le,_e.key),Le.return=we,we=Le):(Le=lh(_e.type,_e.key,_e.props,null,we.mode,Le),Fd(Le,_e),Le.return=we,we=Le)}return X(we);case D:e:{for(at=_e.key;xe!==null;){if(xe.key===at)if(xe.tag===4&&xe.stateNode.containerInfo===_e.containerInfo&&xe.stateNode.implementation===_e.implementation){x(we,xe.sibling),Le=M(xe,_e.children||[]),Le.return=we,we=Le;break e}else{x(we,xe);break}else f(we,xe);xe=xe.sibling}Le=ch(_e,we.mode,Le),Le.return=we,we=Le}return X(we);case B:return at=_e._init,_e=at(_e._payload),kr(we,xe,_e,Le)}if(ke(_e))return xt(we,xe,_e,Le);if(ne(_e)){if(at=ne(_e),typeof at!="function")throw Error(i(150));return _e=at.call(_e),ft(we,xe,_e,Le)}if(typeof _e.then=="function")return kr(we,xe,ps(_e),Le);if(_e.$$typeof===G)return kr(we,xe,lp(we,_e),Le);fl(we,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,xe!==null&&xe.tag===6?(x(we,xe.sibling),Le=M(xe,_e),Le.return=we,we=Le):(x(we,xe),Le=sp(_e,we.mode,Le),Le.return=we,we=Le),X(we)):x(we,xe)}return function(we,xe,_e,Le){try{uc=0;var at=kr(we,xe,_e,Le);return pl=null,at}catch(ct){if(ct===lc||ct===ph)throw ct;var Vt=us(29,ct,null,we.mode);return Vt.lanes=Le,Vt.return=we,Vt}finally{}}}var hc=Ch(!0),Kg=Ch(!1),Ln=ae(null),Ke=null;function dt(u){var f=u.alternate;me(Fr,Fr.current&1),me(Ln,u),Ke===null&&(f===null||cc.current!==null||f.memoizedState!==null)&&(Ke=u)}function _h(u){if(u.tag===22){if(me(Fr,Fr.current),me(Ln,u),Ke===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Ke=u)}}else $n()}function $n(){me(Fr,Fr.current),me(Ln,Ln.current)}function ri(u){pe(Ln),Ke===u&&(Ke=null),pe(Fr)}var Fr=ae(0);function Vd(u){for(var f=u;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||nn(x)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Ah(u,f,x,A){f=u.memoizedState,x=x(A,f),x=x==null?f:k({},f,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var mc={enqueueSetState:function(u,f,x){u=u._reactInternals;var A=Os(),M=$o(A);M.payload=f,x!=null&&(M.callback=x),f=oa(u,M,A),f!==null&&(Bs(f,u,A),fh(f,u,A))},enqueueReplaceState:function(u,f,x){u=u._reactInternals;var A=Os(),M=$o(A);M.tag=1,M.payload=f,x!=null&&(M.callback=x),f=oa(u,M,A),f!==null&&(Bs(f,u,A),fh(f,u,A))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var x=Os(),A=$o(x);A.tag=2,f!=null&&(A.callback=f),f=oa(u,A,x),f!==null&&(Bs(f,u,x),fh(f,u,x))}};function pc(u,f,x,A,M,O,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,O,X):f.prototype&&f.prototype.isPureReactComponent?!sh(x,A)||!sh(M,O):!0}function Qg(u,f,x,A){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,A),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,A),f.state!==u&&mc.enqueueReplaceState(f,f.state,null)}function la(u,f){var x=f;if("ref"in f){x={};for(var A in f)A!=="ref"&&(x[A]=f[A])}if(u=u.defaultProps){x===f&&(x=k({},x));for(var M in u)x[M]===void 0&&(x[M]=u[M])}return x}var fc=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function gl(u){fc(u)}function av(u){console.error(u)}function Ap(u){fc(u)}function Ud(u,f){try{var x=u.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(A){setTimeout(function(){throw A})}}function lv(u,f,x){try{var A=u.onCaughtError;A(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function Gd(u,f,x){return x=$o(x),x.tag=3,x.payload={element:null},x.callback=function(){Ud(u,f)},x}function cv(u){return u=$o(u),u.tag=3,u}function dv(u,f,x,A){var M=x.type.getDerivedStateFromError;if(typeof M=="function"){var O=A.value;u.payload=function(){return M(O)},u.callback=function(){lv(f,x,A)}}var X=x.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(u.callback=function(){lv(f,x,A),typeof M!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var ie=A.stack;this.componentDidCatch(A.value,{componentStack:ie!==null?ie:""})})}function Jg(u,f,x,A,M){if(x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(f=x.alternate,f!==null&&ko(f,x,M,!0),x=Ln.current,x!==null){switch(x.tag){case 13:return Ke===null?Xd():x.alternate===null&&yt===0&&(yt=3),x.flags&=-257,x.flags|=65536,x.lanes=M,A===kg?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([A]):f.add(A),Vp(u,A,M)),!1;case 22:return x.flags|=65536,A===kg?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([A])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([A]):x.add(A)),Vp(u,A,M)),!1}throw Error(i(435,x.tag))}return Vp(u,A,M),Xd(),!1}if(rr)return f=Ln.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=M,A!==bn&&(u=Error(i(422),{cause:A}),hs(eo(u,x)))):(A!==bn&&(f=Error(i(423),{cause:A}),hs(eo(f,x))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,A=eo(A,x),M=Gd(u.stateNode,A,M),hp(u,M),yt!==4&&(yt=2)),!1;var O=Error(i(520),{cause:A});if(O=eo(O,x),Wd===null?Wd=[O]:Wd.push(O),yt!==4&&(yt=2),f===null)return!0;A=eo(A,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,u=M&-M,x.lanes|=u,u=Gd(x.stateNode,A,u),hp(x,u),!1;case 1:if(f=x.type,O=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(oi===null||!oi.has(O))))return x.flags|=65536,M&=-M,x.lanes|=M,M=cv(M),dv(M,u,x,A),hp(x,M),!1}x=x.return}while(x!==null);return!1}var uv=Error(i(461)),Vr=!1;function zn(u,f,x,A){f.child=u===null?Kg(f,null,x,A):hc(f,u.child,x,A)}function Np(u,f,x,A,M){x=x.render;var O=f.ref;if("ref"in A){var X={};for(var ie in A)ie!=="ref"&&(X[ie]=A[ie])}else X=A;return rt(f),A=Rt(u,f,x,X,O,M),ie=gp(),u!==null&&!Vr?(Pd(u,f,M),ca(u,f,M)):(rr&&ie&&fg(f),f.flags|=1,zn(u,f,A,M),f.child)}function hv(u,f,x,A,M){if(u===null){var O=x.type;return typeof O=="function"&&!np(O)&&O.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=O,Xg(u,f,O,A,M)):(u=lh(x.type,null,A,f,f.mode,M),u.ref=f.ref,u.return=f,f.child=u)}if(O=u.child,!ny(u,M)){var X=O.memoizedProps;if(x=x.compare,x=x!==null?x:sh,x(X,A)&&u.ref===f.ref)return ca(u,f,M)}return f.flags|=1,u=to(O,A),u.ref=f.ref,u.return=f,f.child=u}function Xg(u,f,x,A,M){if(u!==null){var O=u.memoizedProps;if(sh(O,A)&&u.ref===f.ref)if(Vr=!1,f.pendingProps=A=O,ny(u,M))(u.flags&131072)!==0&&(Vr=!0);else return f.lanes=u.lanes,ca(u,f,M)}return Ep(u,f,x,A,M)}function jp(u,f,x){var A=f.pendingProps,M=A.children,O=u!==null?u.memoizedState:null;if(A.mode==="hidden"){if((f.flags&128)!==0){if(A=O!==null?O.baseLanes|x:x,u!==null){for(M=f.child=u.child,O=0;M!==null;)O=O|M.lanes|M.childLanes,M=M.sibling;f.childLanes=O&~A}else f.childLanes=0,f.child=null;return Zg(u,f,A,x)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&ac(f,O!==null?O.cachePool:null),O!==null?Vx(f,O):Sg(),_h(f);else return f.lanes=f.childLanes=536870912,Zg(u,f,O!==null?O.baseLanes|x:x,x)}else O!==null?(ac(f,O.cachePool),Vx(f,O),$n(),f.memoizedState=null):(u!==null&&ac(f,null),Sg(),$n());return zn(u,f,M,x),f.child}function Zg(u,f,x,A){var M=ul();return M=M===null?null:{parent:xn._currentValue,pool:M},f.memoizedState={baseLanes:x,cachePool:M},u!==null&&ac(f,null),Sg(),_h(f),u!==null&&ko(u,f,A,!0),null}function Sp(u,f){var x=f.ref;if(x===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(i(284));(u===null||u.ref!==x)&&(f.flags|=4194816)}}function Ep(u,f,x,A,M){return rt(f),x=Rt(u,f,x,A,void 0,M),A=gp(),u!==null&&!Vr?(Pd(u,f,M),ca(u,f,M)):(rr&&A&&fg(f),f.flags|=1,zn(u,f,x,M),f.child)}function Dp(u,f,x,A,M,O){return rt(f),f.updateQueue=null,x=Mg(f,A,x,M),Dg(u),A=gp(),u!==null&&!Vr?(Pd(u,f,O),ca(u,f,O)):(rr&&A&&fg(f),f.flags|=1,zn(u,f,x,O),f.child)}function Hd(u,f,x,A,M){if(rt(f),f.stateNode===null){var O=_d,X=x.contextType;typeof X=="object"&&X!==null&&(O=Zn(X)),O=new x(A,O),f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=mc,f.stateNode=O,O._reactInternals=f,O=f.stateNode,O.props=A,O.state=f.memoizedState,O.refs={},up(f),X=x.contextType,O.context=typeof X=="object"&&X!==null?Zn(X):_d,O.state=f.memoizedState,X=x.getDerivedStateFromProps,typeof X=="function"&&(Ah(f,x,X,A),O.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(X=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),X!==O.state&&mc.enqueueReplaceState(O,O.state,null),Dd(f,A,O,M),Ed(),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308),A=!0}else if(u===null){O=f.stateNode;var ie=f.memoizedProps,ye=la(x,ie);O.props=ye;var Ae=O.context,Be=x.contextType;X=_d,typeof Be=="object"&&Be!==null&&(X=Zn(Be));var Ue=x.getDerivedStateFromProps;Be=typeof Ue=="function"||typeof O.getSnapshotBeforeUpdate=="function",ie=f.pendingProps!==ie,Be||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ie||Ae!==X)&&Qg(f,O,A,X),ir=!1;var Se=f.memoizedState;O.state=Se,Dd(f,A,O,M),Ed(),Ae=f.memoizedState,ie||Se!==Ae||ir?(typeof Ue=="function"&&(Ah(f,x,Ue,A),Ae=f.memoizedState),(ye=ir||pc(f,x,ye,A,Se,Ae,X))?(Be||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=A,f.memoizedState=Ae),O.props=A,O.state=Ae,O.context=X,A=ye):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),A=!1)}else{O=f.stateNode,Ng(u,f),X=f.memoizedProps,Be=la(x,X),O.props=Be,Ue=f.pendingProps,Se=O.context,Ae=x.contextType,ye=_d,typeof Ae=="object"&&Ae!==null&&(ye=Zn(Ae)),ie=x.getDerivedStateFromProps,(Ae=typeof ie=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==Ue||Se!==ye)&&Qg(f,O,A,ye),ir=!1,Se=f.memoizedState,O.state=Se,Dd(f,A,O,M),Ed();var Ee=f.memoizedState;X!==Ue||Se!==Ee||ir||u!==null&&u.dependencies!==null&&ap(u.dependencies)?(typeof ie=="function"&&(Ah(f,x,ie,A),Ee=f.memoizedState),(Be=ir||pc(f,x,Be,A,Se,Ee,ye)||u!==null&&u.dependencies!==null&&ap(u.dependencies))?(Ae||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(A,Ee,ye),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(A,Ee,ye)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||X===u.memoizedProps&&Se===u.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Se===u.memoizedState||(f.flags|=1024),f.memoizedProps=A,f.memoizedState=Ee),O.props=A,O.state=Ee,O.context=ye,A=Be):(typeof O.componentDidUpdate!="function"||X===u.memoizedProps&&Se===u.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Se===u.memoizedState||(f.flags|=1024),A=!1)}return O=A,Sp(u,f),A=(f.flags&128)!==0,O||A?(O=f.stateNode,x=A&&typeof x.getDerivedStateFromError!="function"?null:O.render(),f.flags|=1,u!==null&&A?(f.child=hc(f,u.child,null,M),f.child=hc(f,null,x,M)):zn(u,f,x,M),f.memoizedState=O.state,u=f.child):u=ca(u,f,M),u}function $g(u,f,x,A){return As(),f.flags|=256,zn(u,f,x,A),f.child}var Mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(u){return{baseLanes:u,cachePool:cp()}}function Ip(u,f,x){return u=u!==null?u.childLanes&~x:0,f&&(u|=gs),u}function Ao(u,f,x){var A=f.pendingProps,M=!1,O=(f.flags&128)!==0,X;if((X=O)||(X=u!==null&&u.memoizedState===null?!1:(Fr.current&2)!==0),X&&(M=!0,f.flags&=-129),X=(f.flags&32)!==0,f.flags&=-33,u===null){if(rr){if(M?dt(f):$n(),rr){var ie=Tr,ye;if(ye=ie){e:{for(ye=ie,ie=vo;ye.nodeType!==8;){if(!ie){ie=null;break e}if(ye=Mn(ye.nextSibling),ye===null){ie=null;break e}}ie=ye}ie!==null?(f.memoizedState={dehydrated:ie,treeContext:al!==null?{id:Qo,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},ye=us(18,null,null,0),ye.stateNode=ie,ye.return=f,f.child=ye,_s=f,Tr=null,ye=!0):ye=!1}ye||oc(f)}if(ie=f.memoizedState,ie!==null&&(ie=ie.dehydrated,ie!==null))return nn(ie)?f.lanes=32:f.lanes=536870912,null;ri(f)}return ie=A.children,A=A.fallback,M?($n(),M=f.mode,ie=fs({mode:"hidden",children:ie},M),A=il(A,M,x,null),ie.return=f,A.return=f,ie.sibling=A,f.child=ie,M=f.child,M.memoizedState=Tp(x),M.childLanes=Ip(u,X,x),f.memoizedState=Mp,A):(dt(f),gc(f,ie))}if(ye=u.memoizedState,ye!==null&&(ie=ye.dehydrated,ie!==null)){if(O)f.flags&256?(dt(f),f.flags&=-257,f=yc(u,f,x)):f.memoizedState!==null?($n(),f.child=u.child,f.flags|=128,f=null):($n(),M=A.fallback,ie=f.mode,A=fs({mode:"visible",children:A.children},ie),M=il(M,ie,x,null),M.flags|=2,A.return=f,M.return=f,A.sibling=M,f.child=A,hc(f,u.child,null,x),A=f.child,A.memoizedState=Tp(x),A.childLanes=Ip(u,X,x),f.memoizedState=Mp,f=M);else if(dt(f),nn(ie)){if(X=ie.nextSibling&&ie.nextSibling.dataset,X)var Ae=X.dgst;X=Ae,A=Error(i(419)),A.stack="",A.digest=X,hs({value:A,source:null,stack:null}),f=yc(u,f,x)}else if(Vr||ko(u,f,x,!1),X=(x&u.childLanes)!==0,Vr||X){if(X=Or,X!==null&&(A=x&-x,A=(A&42)!==0?1:Ga(A),A=(A&(X.suspendedLanes|x))!==0?0:A,A!==0&&A!==ye.retryLane))throw ye.retryLane=A,rc(u,A),Bs(X,u,A),uv;ie.data==="$?"||Xd(),f=yc(u,f,x)}else ie.data==="$?"?(f.flags|=192,f.child=u.child,f=null):(u=ye.treeContext,Tr=Mn(ie.nextSibling),_s=f,rr=!0,cl=null,vo=!1,u!==null&&(ro[no++]=Qo,ro[no++]=sa,ro[no++]=al,Qo=u.id,sa=u.overflow,al=f),f=gc(f,A.children),f.flags|=4096);return f}return M?($n(),M=A.fallback,ie=f.mode,ye=u.child,Ae=ye.sibling,A=to(ye,{mode:"hidden",children:A.children}),A.subtreeFlags=ye.subtreeFlags&65011712,Ae!==null?M=to(Ae,M):(M=il(M,ie,x,null),M.flags|=2),M.return=f,A.return=f,A.sibling=M,f.child=A,A=M,M=f.child,ie=u.child.memoizedState,ie===null?ie=Tp(x):(ye=ie.cachePool,ye!==null?(Ae=xn._currentValue,ye=ye.parent!==Ae?{parent:Ae,pool:Ae}:ye):ye=cp(),ie={baseLanes:ie.baseLanes|x,cachePool:ye}),M.memoizedState=ie,M.childLanes=Ip(u,X,x),f.memoizedState=Mp,A):(dt(f),x=u.child,u=x.sibling,x=to(x,{mode:"visible",children:A.children}),x.return=f,x.sibling=null,u!==null&&(X=f.deletions,X===null?(f.deletions=[u],f.flags|=16):X.push(u)),f.child=x,f.memoizedState=null,x)}function gc(u,f){return f=fs({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function fs(u,f){return u=us(22,u,null,f),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function yc(u,f,x){return hc(f,u.child,null,x),u=gc(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function ey(u,f,x){u.lanes|=f;var A=u.alternate;A!==null&&(A.lanes|=f),yg(u.return,f,x)}function ty(u,f,x,A,M){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:M}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=A,O.tail=x,O.tailMode=M)}function ry(u,f,x){var A=f.pendingProps,M=A.revealOrder,O=A.tail;if(zn(u,f,A.children,x),A=Fr.current,(A&2)!==0)A=A&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ey(u,x,f);else if(u.tag===19)ey(u,x,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}A&=1}switch(me(Fr,A),M){case"forwards":for(x=f.child,M=null;x!==null;)u=x.alternate,u!==null&&Vd(u)===null&&(M=x),x=x.sibling;x=M,x===null?(M=f.child,f.child=null):(M=x.sibling,x.sibling=null),ty(f,!1,M,x,O);break;case"backwards":for(x=null,M=f.child,f.child=null;M!==null;){if(u=M.alternate,u!==null&&Vd(u)===null){f.child=M;break}u=M.sibling,M.sibling=x,x=M,M=u}ty(f,!0,x,null,O);break;case"together":ty(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ca(u,f,x){if(u!==null&&(f.dependencies=u.dependencies),es|=f.lanes,(x&f.childLanes)===0)if(u!==null){if(ko(u,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(i(153));if(f.child!==null){for(u=f.child,x=to(u,u.pendingProps),f.child=x,x.return=f;u.sibling!==null;)u=u.sibling,x=x.sibling=to(u,u.pendingProps),x.return=f;x.sibling=null}return f.child}function ny(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&ap(u)))}function mv(u,f,x){switch(f.tag){case 3:Ve(f,f.stateNode.containerInfo),Ei(f,xn,u.memoizedState.cache),As();break;case 27:case 5:Qe(f);break;case 4:Ve(f,f.stateNode.containerInfo);break;case 10:Ei(f,f.type,f.memoizedProps.value);break;case 13:var A=f.memoizedState;if(A!==null)return A.dehydrated!==null?(dt(f),f.flags|=128,null):(x&f.child.childLanes)!==0?Ao(u,f,x):(dt(f),u=ca(u,f,x),u!==null?u.sibling:null);dt(f);break;case 19:var M=(u.flags&128)!==0;if(A=(x&f.childLanes)!==0,A||(ko(u,f,x,!1),A=(x&f.childLanes)!==0),M){if(A)return ry(u,f,x);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),me(Fr,Fr.current),A)break;return null;case 22:case 23:return f.lanes=0,jp(u,f,x);case 24:Ei(f,xn,u.memoizedState.cache)}return ca(u,f,x)}function pv(u,f,x){if(u!==null)if(u.memoizedProps!==f.pendingProps)Vr=!0;else{if(!ny(u,x)&&(f.flags&128)===0)return Vr=!1,mv(u,f,x);Vr=(u.flags&131072)!==0}else Vr=!1,rr&&(f.flags&1048576)!==0&&Px(f,dh,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var A=f.elementType,M=A._init;if(A=M(A._payload),f.type=A,typeof A=="function")np(A)?(u=la(A,u),f.tag=1,f=Hd(null,f,A,u,x)):(f.tag=0,f=Ep(null,f,A,u,x));else{if(A!=null){if(M=A.$$typeof,M===Y){f.tag=11,f=Np(null,f,A,u,x);break e}else if(M===J){f.tag=14,f=hv(null,f,A,u,x);break e}}throw f=ge(A)||A,Error(i(306,f,""))}}return f;case 0:return Ep(u,f,f.type,f.pendingProps,x);case 1:return A=f.type,M=la(A,f.pendingProps),Hd(u,f,A,M,x);case 3:e:{if(Ve(f,f.stateNode.containerInfo),u===null)throw Error(i(387));A=f.pendingProps;var O=f.memoizedState;M=O.element,Ng(u,f),Dd(f,A,null,x);var X=f.memoizedState;if(A=X.cache,Ei(f,xn,A),A!==O.cache&&ip(f,[xn],x,!0),Ed(),A=X.element,O.isDehydrated)if(O={element:A,isDehydrated:!1,cache:X.cache},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){f=$g(u,f,A,x);break e}else if(A!==M){M=eo(Error(i(424)),f),hs(M),f=$g(u,f,A,x);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Tr=Mn(u.firstChild),_s=f,rr=!0,cl=null,vo=!0,x=Kg(f,null,A,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(As(),A===M){f=ca(u,f,x);break e}zn(u,f,A,x)}f=f.child}return f;case 26:return Sp(u,f),u===null?(x=Qv(f.type,null,f.pendingProps,null))?f.memoizedState=x:rr||(x=f.type,u=f.pendingProps,A=Gh(je.current).createElement(x),A[Kr]=f,A[pn]=u,rs(A,x,u),Hr(A),f.stateNode=A):f.memoizedState=Qv(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Qe(f),u===null&&rr&&(A=f.stateNode=Yv(f.type,f.pendingProps,je.current),_s=f,vo=!0,M=Tr,Xt(f.type)?(So=M,Tr=Mn(A.firstChild)):Tr=M),zn(u,f,f.pendingProps.children,x),Sp(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&rr&&((M=A=Tr)&&(A=qv(A,f.type,f.pendingProps,vo),A!==null?(f.stateNode=A,_s=f,Tr=Mn(A.firstChild),vo=!1,M=!0):M=!1),M||oc(f)),Qe(f),M=f.type,O=f.pendingProps,X=u!==null?u.memoizedProps:null,A=O.children,Kp(M,O)?A=null:X!==null&&Kp(M,X)&&(f.flags|=32),f.memoizedState!==null&&(M=Rt(u,f,Gx,null,null,x),Xh._currentValue=M),Sp(u,f),zn(u,f,A,x),f.child;case 6:return u===null&&rr&&((u=x=Tr)&&(x=rn(x,f.pendingProps,vo),x!==null?(f.stateNode=x,_s=f,Tr=null,u=!0):u=!1),u||oc(f)),null;case 13:return Ao(u,f,x);case 4:return Ve(f,f.stateNode.containerInfo),A=f.pendingProps,u===null?f.child=hc(f,null,A,x):zn(u,f,A,x),f.child;case 11:return Np(u,f,f.type,f.pendingProps,x);case 7:return zn(u,f,f.pendingProps,x),f.child;case 8:return zn(u,f,f.pendingProps.children,x),f.child;case 12:return zn(u,f,f.pendingProps.children,x),f.child;case 10:return A=f.pendingProps,Ei(f,f.type,A.value),zn(u,f,A.children,x),f.child;case 9:return M=f.type._context,A=f.pendingProps.children,rt(f),M=Zn(M),A=A(M),f.flags|=1,zn(u,f,A,x),f.child;case 14:return hv(u,f,f.type,f.pendingProps,x);case 15:return Xg(u,f,f.type,f.pendingProps,x);case 19:return ry(u,f,x);case 31:return A=f.pendingProps,x=f.mode,A={mode:A.mode,children:A.children},u===null?(x=fs(A,x),x.ref=f.ref,f.child=x,x.return=f,f=x):(x=to(u.child,A),x.ref=f.ref,f.child=x,x.return=f,f=x),f;case 22:return jp(u,f,x);case 24:return rt(f),A=Zn(xn),u===null?(M=ul(),M===null&&(M=Or,O=Nd(),M.pooledCache=O,O.refCount++,O!==null&&(M.pooledCacheLanes|=x),M=O),f.memoizedState={parent:A,cache:M},up(f),Ei(f,xn,M)):((u.lanes&x)!==0&&(Ng(u,f),Dd(f,null,null,x),Ed()),M=u.memoizedState,O=f.memoizedState,M.parent!==A?(M={parent:A,cache:A},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),Ei(f,xn,A)):(A=O.cache,Ei(f,xn,A),A!==M.cache&&ip(f,[xn],x,!0))),zn(u,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function da(u){u.flags|=4}function fv(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!Uy(f)){if(f=Ln.current,f!==null&&((Mt&4194048)===Mt?Ke!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||f!==Ke))throw Di=kg,wg;u.flags|=8192}}function Nh(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?od():536870912,u.lanes|=f,xc|=f)}function jh(u,f){if(!rr)switch(u.tailMode){case"hidden":f=u.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function qr(u){var f=u.alternate!==null&&u.alternate.child===u.child,x=0,A=0;if(f)for(var M=u.child;M!==null;)x|=M.lanes|M.childLanes,A|=M.subtreeFlags&65011712,A|=M.flags&65011712,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)x|=M.lanes|M.childLanes,A|=M.subtreeFlags,A|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=A,u.childLanes=x,f}function c1(u,f,x){var A=f.pendingProps;switch(Wt(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(f),null;case 1:return qr(f),null;case 3:return x=f.stateNode,A=null,u!==null&&(A=u.memoizedState.cache),f.memoizedState.cache!==A&&(f.flags|=2048),Xo(xn),Je(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(uh(f)?da(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,en())),qr(f),null;case 26:return x=f.memoizedState,u===null?(da(f),x!==null?(qr(f),fv(f,x)):(qr(f),f.flags&=-16777217)):x?x!==u.memoizedState?(da(f),qr(f),fv(f,x)):(qr(f),f.flags&=-16777217):(u.memoizedProps!==A&&da(f),qr(f),f.flags&=-16777217),null;case 27:Ot(f),x=je.current;var M=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==A&&da(f);else{if(!A){if(f.stateNode===null)throw Error(i(166));return qr(f),null}u=be.current,uh(f)?Ox(f):(u=Yv(M,A,x),f.stateNode=u,da(f))}return qr(f),null;case 5:if(Ot(f),x=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==A&&da(f);else{if(!A){if(f.stateNode===null)throw Error(i(166));return qr(f),null}if(u=be.current,uh(f))Ox(f);else{switch(M=Gh(je.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof A.is=="string"?M.createElement("select",{is:A.is}):M.createElement("select"),A.multiple?u.multiple=!0:A.size&&(u.size=A.size);break;default:u=typeof A.is=="string"?M.createElement(x,{is:A.is}):M.createElement(x)}}u[Kr]=f,u[pn]=A;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=u;e:switch(rs(u,x,A),x){case"button":case"input":case"select":case"textarea":u=!!A.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&da(f)}}return qr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==A&&da(f);else{if(typeof A!="string"&&f.stateNode===null)throw Error(i(166));if(u=je.current,uh(f)){if(u=f.stateNode,x=f.memoizedProps,A=null,M=_s,M!==null)switch(M.tag){case 27:case 5:A=M.memoizedProps}u[Kr]=f,u=!!(u.nodeValue===x||A!==null&&A.suppressHydrationWarning===!0||Gv(u.nodeValue,x)),u||oc(f)}else u=Gh(u).createTextNode(A),u[Kr]=f,f.stateNode=u}return qr(f),null;case 13:if(A=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=uh(f),A!==null&&A.dehydrated!==null){if(u===null){if(!M)throw Error(i(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));M[Kr]=f}else As(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;qr(f),M=!1}else M=en(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=M),M=!0;if(!M)return f.flags&256?(ri(f),f):(ri(f),null)}if(ri(f),(f.flags&128)!==0)return f.lanes=x,f;if(x=A!==null,u=u!==null&&u.memoizedState!==null,x){A=f.child,M=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(M=A.alternate.memoizedState.cachePool.pool);var O=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(O=A.memoizedState.cachePool.pool),O!==M&&(A.flags|=2048)}return x!==u&&x&&(f.child.flags|=8192),Nh(f,f.updateQueue),qr(f),null;case 4:return Je(),u===null&&Iy(f.stateNode.containerInfo),qr(f),null;case 10:return Xo(f.type),qr(f),null;case 19:if(pe(Fr),M=f.memoizedState,M===null)return qr(f),null;if(A=(f.flags&128)!==0,O=M.rendering,O===null)if(A)jh(M,!1);else{if(yt!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(O=Vd(u),O!==null){for(f.flags|=128,jh(M,!1),u=O.updateQueue,f.updateQueue=u,Nh(f,u),f.subtreeFlags=0,u=x,x=f.child;x!==null;)ol(x,u),x=x.sibling;return me(Fr,Fr.current&1|2),f.child}u=u.sibling}M.tail!==null&&ot()>Ih&&(f.flags|=128,A=!0,jh(M,!1),f.lanes=4194304)}else{if(!A)if(u=Vd(O),u!==null){if(f.flags|=128,A=!0,u=u.updateQueue,f.updateQueue=u,Nh(f,u),jh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!O.alternate&&!rr)return qr(f),null}else 2*ot()-M.renderingStartTime>Ih&&x!==536870912&&(f.flags|=128,A=!0,jh(M,!1),f.lanes=4194304);M.isBackwards?(O.sibling=f.child,f.child=O):(u=M.last,u!==null?u.sibling=O:f.child=O,M.last=O)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=ot(),f.sibling=null,u=Fr.current,me(Fr,A?u&1|2:u&1),f):(qr(f),null);case 22:case 23:return ri(f),Eg(),A=f.memoizedState!==null,u!==null?u.memoizedState!==null!==A&&(f.flags|=8192):A&&(f.flags|=8192),A?(x&536870912)!==0&&(f.flags&128)===0&&(qr(f),f.subtreeFlags&6&&(f.flags|=8192)):qr(f),x=f.updateQueue,x!==null&&Nh(f,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),A=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(A=f.memoizedState.cachePool.pool),A!==x&&(f.flags|=2048),u!==null&&pe(dl),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),Xo(xn),qr(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Rp(u,f){switch(Wt(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Xo(xn),Je(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Ot(f),null;case 13:if(ri(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(i(340));As()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return pe(Fr),null;case 4:return Je(),null;case 10:return Xo(f.type),null;case 22:case 23:return ri(f),Eg(),u!==null&&pe(dl),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Xo(xn),null;case 25:return null;default:return null}}function sy(u,f){switch(Wt(f),f.tag){case 3:Xo(xn),Je();break;case 26:case 27:case 5:Ot(f);break;case 4:Je();break;case 13:ri(f);break;case 19:pe(Fr);break;case 10:Xo(f.type);break;case 22:case 23:ri(f),Eg(),u!==null&&pe(dl);break;case 24:Xo(xn)}}function yl(u,f){try{var x=f.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var M=A.next;x=M;do{if((x.tag&u)===u){A=void 0;var O=x.create,X=x.inst;A=O(),X.destroy=A}x=x.next}while(x!==M)}}catch(ie){Nr(f,f.return,ie)}}function bl(u,f,x){try{var A=f.updateQueue,M=A!==null?A.lastEffect:null;if(M!==null){var O=M.next;A=O;do{if((A.tag&u)===u){var X=A.inst,ie=X.destroy;if(ie!==void 0){X.destroy=void 0,M=f;var ye=x,Ae=ie;try{Ae()}catch(Be){Nr(M,ye,Be)}}}A=A.next}while(A!==O)}}catch(Be){Nr(f,f.return,Be)}}function oy(u){var f=u.updateQueue;if(f!==null){var x=u.stateNode;try{mp(f,x)}catch(A){Nr(u,u.return,A)}}}function iy(u,f,x){x.props=la(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(A){Nr(u,f,A)}}function qd(u,f){try{var x=u.ref;if(x!==null){switch(u.tag){case 26:case 27:case 5:var A=u.stateNode;break;case 30:A=u.stateNode;break;default:A=u.stateNode}typeof x=="function"?u.refCleanup=x(A):x.current=A}}catch(M){Nr(u,f,M)}}function En(u,f){var x=u.ref,A=u.refCleanup;if(x!==null)if(typeof A=="function")try{A()}catch(M){Nr(u,f,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(M){Nr(u,f,M)}else x.current=null}function ay(u){var f=u.type,x=u.memoizedProps,A=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":x.autoFocus&&A.focus();break e;case"img":x.src?A.src=x.src:x.srcSet&&(A.srcset=x.srcSet)}}catch(M){Nr(u,u.return,M)}}function xl(u,f,x){try{var A=u.stateNode;v1(A,u.type,x,f),A[pn]=f}catch(M){Nr(u,u.return,M)}}function ua(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Xt(u.type)||u.tag===4}function ly(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||ua(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Xt(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Sh(u,f,x){var A=u.tag;if(A===5||A===6)u=u.stateNode,f?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(u,f):(f=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,f.appendChild(u),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=Vh));else if(A!==4&&(A===27&&Xt(u.type)&&(x=u.stateNode,f=null),u=u.child,u!==null))for(Sh(u,f,x),u=u.sibling;u!==null;)Sh(u,f,x),u=u.sibling}function Pp(u,f,x){var A=u.tag;if(A===5||A===6)u=u.stateNode,f?x.insertBefore(u,f):x.appendChild(u);else if(A!==4&&(A===27&&Xt(u.type)&&(x=u.stateNode),u=u.child,u!==null))for(Pp(u,f,x),u=u.sibling;u!==null;)Pp(u,f,x),u=u.sibling}function gv(u){var f=u.stateNode,x=u.memoizedProps;try{for(var A=u.type,M=f.attributes;M.length;)f.removeAttributeNode(M[0]);rs(f,A,x),f[Kr]=u,f[pn]=x}catch(O){Nr(u,u.return,O)}}var ha=!1,tn=!1,cy=!1,yv=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function d1(u,f){if(u=u.containerInfo,Oy=wa,u=Mx(u),ug(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var M=A.anchorOffset,O=A.focusNode;A=A.focusOffset;try{x.nodeType,O.nodeType}catch{x=null;break e}var X=0,ie=-1,ye=-1,Ae=0,Be=0,Ue=u,Se=null;t:for(;;){for(var Ee;Ue!==x||M!==0&&Ue.nodeType!==3||(ie=X+M),Ue!==O||A!==0&&Ue.nodeType!==3||(ye=X+A),Ue.nodeType===3&&(X+=Ue.nodeValue.length),(Ee=Ue.firstChild)!==null;)Se=Ue,Ue=Ee;for(;;){if(Ue===u)break t;if(Se===x&&++Ae===M&&(ie=X),Se===O&&++Be===A&&(ye=X),(Ee=Ue.nextSibling)!==null)break;Ue=Se,Se=Ue.parentNode}Ue=Ee}x=ie===-1||ye===-1?null:{start:ie,end:ye}}else x=null}x=x||{start:0,end:0}}else x=null;for(Uh={focusedElem:u,selectionRange:x},wa=!1,Fn=f;Fn!==null;)if(f=Fn,u=f.child,(f.subtreeFlags&1024)!==0&&u!==null)u.return=f,Fn=u;else for(;Fn!==null;){switch(f=Fn,O=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&O!==null){u=void 0,x=f,M=O.memoizedProps,O=O.memoizedState,A=x.stateNode;try{var xt=la(x.type,M,x.elementType===x.type);u=A.getSnapshotBeforeUpdate(xt,O),A.__reactInternalSnapshotBeforeUpdate=u}catch(ft){Nr(x,x.return,ft)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,x=u.nodeType,x===9)ys(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":ys(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=f.sibling,u!==null){u.return=f.return,Fn=u;break}Fn=f.return}}function dy(u,f,x){var A=x.flags;switch(x.tag){case 0:case 11:case 15:pa(u,x),A&4&&yl(5,x);break;case 1:if(pa(u,x),A&4)if(u=x.stateNode,f===null)try{u.componentDidMount()}catch(X){Nr(x,x.return,X)}else{var M=la(x.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(M,f,u.__reactInternalSnapshotBeforeUpdate)}catch(X){Nr(x,x.return,X)}}A&64&&oy(x),A&512&&qd(x,x.return);break;case 3:if(pa(u,x),A&64&&(u=x.updateQueue,u!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=x.child.stateNode;break;case 1:f=x.child.stateNode}try{mp(u,f)}catch(X){Nr(x,x.return,X)}}break;case 27:f===null&&A&4&&gv(x);case 26:case 5:pa(u,x),f===null&&A&4&&ay(x),A&512&&qd(x,x.return);break;case 12:pa(u,x);break;case 13:pa(u,x),A&4&&vv(u,x),A&64&&(u=x.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(x=m1.bind(null,x),Fs(u,x))));break;case 22:if(A=x.memoizedState!==null||ha,!A){f=f!==null&&f.memoizedState!==null||tn,M=ha;var O=tn;ha=A,(tn=f)&&!O?vl(u,x,(x.subtreeFlags&8772)!==0):pa(u,x),ha=M,tn=O}break;case 30:break;default:pa(u,x)}}function bv(u){var f=u.alternate;f!==null&&(u.alternate=null,bv(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&qa(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Ur=null,Vn=!1;function ma(u,f,x){for(x=x.child;x!==null;)xv(u,f,x),x=x.sibling}function xv(u,f,x){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Yt,x)}catch{}switch(x.tag){case 26:tn||En(x,f),ma(u,f,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:tn||En(x,f);var A=Ur,M=Vn;Xt(x.type)&&(Ur=x.stateNode,Vn=!1),ma(u,f,x),_c(x.stateNode),Ur=A,Vn=M;break;case 5:tn||En(x,f);case 6:if(A=Ur,M=Vn,Ur=null,ma(u,f,x),Ur=A,Vn=M,Ur!==null)if(Vn)try{(Ur.nodeType===9?Ur.body:Ur.nodeName==="HTML"?Ur.ownerDocument.body:Ur).removeChild(x.stateNode)}catch(O){Nr(x,f,O)}else try{Ur.removeChild(x.stateNode)}catch(O){Nr(x,f,O)}break;case 18:Ur!==null&&(Vn?(u=Ur,Yr(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,x.stateNode),$h(u)):Yr(Ur,x.stateNode));break;case 4:A=Ur,M=Vn,Ur=x.stateNode.containerInfo,Vn=!0,ma(u,f,x),Ur=A,Vn=M;break;case 0:case 11:case 14:case 15:tn||bl(2,x,f),tn||bl(4,x,f),ma(u,f,x);break;case 1:tn||(En(x,f),A=x.stateNode,typeof A.componentWillUnmount=="function"&&iy(x,f,A)),ma(u,f,x);break;case 21:ma(u,f,x);break;case 22:tn=(A=tn)||x.memoizedState!==null,ma(u,f,x),tn=A;break;default:ma(u,f,x)}}function vv(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{$h(u)}catch(x){Nr(f,f.return,x)}}function Op(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new yv),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new yv),f;default:throw Error(i(435,u.tag))}}function uy(u,f){var x=Op(u);f.forEach(function(A){var M=p1.bind(null,u,A);x.has(A)||(x.add(A),A.then(M,M))})}function so(u,f){var x=f.deletions;if(x!==null)for(var A=0;A<x.length;A++){var M=x[A],O=u,X=f,ie=X;e:for(;ie!==null;){switch(ie.tag){case 27:if(Xt(ie.type)){Ur=ie.stateNode,Vn=!1;break e}break;case 5:Ur=ie.stateNode,Vn=!1;break e;case 3:case 4:Ur=ie.stateNode.containerInfo,Vn=!0;break e}ie=ie.return}if(Ur===null)throw Error(i(160));xv(O,X,M),Ur=null,Vn=!1,O=M.alternate,O!==null&&(O.return=null),M.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)hy(f,u),f=f.sibling}var ni=null;function hy(u,f){var x=u.alternate,A=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:so(f,u),oo(u),A&4&&(bl(3,u,u.return),yl(3,u),bl(5,u,u.return));break;case 1:so(f,u),oo(u),A&512&&(tn||x===null||En(x,x.return)),A&64&&ha&&(u=u.updateQueue,u!==null&&(A=u.callbacks,A!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?A:x.concat(A))));break;case 26:var M=ni;if(so(f,u),oo(u),A&512&&(tn||x===null||En(x,x.return)),A&4){var O=x!==null?x.memoizedState:null;if(A=u.memoizedState,x===null)if(A===null)if(u.stateNode===null){e:{A=u.type,x=u.memoizedProps,M=M.ownerDocument||M;t:switch(A){case"title":O=M.getElementsByTagName("title")[0],(!O||O[gi]||O[Kr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=M.createElement(A),M.head.insertBefore(O,M.querySelector("head > title"))),rs(O,A,x),O[Kr]=u,Hr(O),A=O;break e;case"link":var X=Zv("link","href",M).get(A+(x.href||""));if(X){for(var ie=0;ie<X.length;ie++)if(O=X[ie],O.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&O.getAttribute("rel")===(x.rel==null?null:x.rel)&&O.getAttribute("title")===(x.title==null?null:x.title)&&O.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){X.splice(ie,1);break t}}O=M.createElement(A),rs(O,A,x),M.head.appendChild(O);break;case"meta":if(X=Zv("meta","content",M).get(A+(x.content||""))){for(ie=0;ie<X.length;ie++)if(O=X[ie],O.getAttribute("content")===(x.content==null?null:""+x.content)&&O.getAttribute("name")===(x.name==null?null:x.name)&&O.getAttribute("property")===(x.property==null?null:x.property)&&O.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&O.getAttribute("charset")===(x.charSet==null?null:x.charSet)){X.splice(ie,1);break t}}O=M.createElement(A),rs(O,A,x),M.head.appendChild(O);break;default:throw Error(i(468,A))}O[Kr]=u,Hr(O),A=O}u.stateNode=A}else $v(M,u.type,u.stateNode);else u.stateNode=zy(M,A,u.memoizedProps);else O!==A?(O===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):O.count--,A===null?$v(M,u.type,u.stateNode):zy(M,A,u.memoizedProps)):A===null&&u.stateNode!==null&&xl(u,u.memoizedProps,x.memoizedProps)}break;case 27:so(f,u),oo(u),A&512&&(tn||x===null||En(x,x.return)),x!==null&&A&4&&xl(u,u.memoizedProps,x.memoizedProps);break;case 5:if(so(f,u),oo(u),A&512&&(tn||x===null||En(x,x.return)),u.flags&32){M=u.stateNode;try{Cs(M,"")}catch(Ee){Nr(u,u.return,Ee)}}A&4&&u.stateNode!=null&&(M=u.memoizedProps,xl(u,M,x!==null?x.memoizedProps:M)),A&1024&&(cy=!0);break;case 6:if(so(f,u),oo(u),A&4){if(u.stateNode===null)throw Error(i(162));A=u.memoizedProps,x=u.stateNode;try{x.nodeValue=A}catch(Ee){Nr(u,u.return,Ee)}}break;case 3:if(Sc=null,M=ni,ni=qh(f.containerInfo),so(f,u),ni=M,oo(u),A&4&&x!==null&&x.memoizedState.isDehydrated)try{$h(f.containerInfo)}catch(Ee){Nr(u,u.return,Ee)}cy&&(cy=!1,wv(u));break;case 4:A=ni,ni=qh(u.stateNode.containerInfo),so(f,u),oo(u),ni=A;break;case 12:so(f,u),oo(u);break;case 13:so(f,u),oo(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(De=ot()),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,uy(u,A)));break;case 22:M=u.memoizedState!==null;var ye=x!==null&&x.memoizedState!==null,Ae=ha,Be=tn;if(ha=Ae||M,tn=Be||ye,so(f,u),tn=Be,ha=Ae,oo(u),A&8192)e:for(f=u.stateNode,f._visibility=M?f._visibility&-2:f._visibility|1,M&&(x===null||ye||ha||tn||fa(u)),x=null,f=u;;){if(f.tag===5||f.tag===26){if(x===null){ye=x=f;try{if(O=ye.stateNode,M)X=O.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ie=ye.stateNode;var Ue=ye.memoizedProps.style,Se=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;ie.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Ee){Nr(ye,ye.return,Ee)}}}else if(f.tag===6){if(x===null){ye=f;try{ye.stateNode.nodeValue=M?"":ye.memoizedProps}catch(Ee){Nr(ye,ye.return,Ee)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}A&4&&(A=u.updateQueue,A!==null&&(x=A.retryQueue,x!==null&&(A.retryQueue=null,uy(u,x))));break;case 19:so(f,u),oo(u),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,uy(u,A)));break;case 30:break;case 21:break;default:so(f,u),oo(u)}}function oo(u){var f=u.flags;if(f&2){try{for(var x,A=u.return;A!==null;){if(ua(A)){x=A;break}A=A.return}if(x==null)throw Error(i(160));switch(x.tag){case 27:var M=x.stateNode,O=ly(u);Pp(u,O,M);break;case 5:var X=x.stateNode;x.flags&32&&(Cs(X,""),x.flags&=-33);var ie=ly(u);Pp(u,ie,X);break;case 3:case 4:var ye=x.stateNode.containerInfo,Ae=ly(u);Sh(u,Ae,ye);break;default:throw Error(i(161))}}catch(Be){Nr(u,u.return,Be)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function wv(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;wv(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function pa(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)dy(u,f.alternate,f),f=f.sibling}function fa(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:bl(4,f,f.return),fa(f);break;case 1:En(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&iy(f,f.return,x),fa(f);break;case 27:_c(f.stateNode);case 26:case 5:En(f,f.return),fa(f);break;case 22:f.memoizedState===null&&fa(f);break;case 30:fa(f);break;default:fa(f)}u=u.sibling}}function vl(u,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var A=f.alternate,M=u,O=f,X=O.flags;switch(O.tag){case 0:case 11:case 15:vl(M,O,x),yl(4,O);break;case 1:if(vl(M,O,x),A=O,M=A.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Ae){Nr(A,A.return,Ae)}if(A=O,M=A.updateQueue,M!==null){var ie=A.stateNode;try{var ye=M.shared.hiddenCallbacks;if(ye!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ye.length;M++)Fx(ye[M],ie)}catch(Ae){Nr(A,A.return,Ae)}}x&&X&64&&oy(O),qd(O,O.return);break;case 27:gv(O);case 26:case 5:vl(M,O,x),x&&A===null&&X&4&&ay(O),qd(O,O.return);break;case 12:vl(M,O,x);break;case 13:vl(M,O,x),x&&X&4&&vv(M,O);break;case 22:O.memoizedState===null&&vl(M,O,x),qd(O,O.return);break;case 30:break;default:vl(M,O,x)}f=f.sibling}}function my(u,f){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&jd(x))}function py(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&jd(u))}function si(u,f,x,A){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)fy(u,f,x,A),f=f.sibling}function fy(u,f,x,A){var M=f.flags;switch(f.tag){case 0:case 11:case 15:si(u,f,x,A),M&2048&&yl(9,f);break;case 1:si(u,f,x,A);break;case 3:si(u,f,x,A),M&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&jd(u)));break;case 12:if(M&2048){si(u,f,x,A),u=f.stateNode;try{var O=f.memoizedProps,X=O.id,ie=O.onPostCommit;typeof ie=="function"&&ie(X,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ye){Nr(f,f.return,ye)}}else si(u,f,x,A);break;case 13:si(u,f,x,A);break;case 23:break;case 22:O=f.stateNode,X=f.alternate,f.memoizedState!==null?O._visibility&2?si(u,f,x,A):Yd(u,f):O._visibility&2?si(u,f,x,A):(O._visibility|=2,ga(u,f,x,A,(f.subtreeFlags&10256)!==0)),M&2048&&my(X,f);break;case 24:si(u,f,x,A),M&2048&&py(f.alternate,f);break;default:si(u,f,x,A)}}function ga(u,f,x,A,M){for(M=M&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var O=u,X=f,ie=x,ye=A,Ae=X.flags;switch(X.tag){case 0:case 11:case 15:ga(O,X,ie,ye,M),yl(8,X);break;case 23:break;case 22:var Be=X.stateNode;X.memoizedState!==null?Be._visibility&2?ga(O,X,ie,ye,M):Yd(O,X):(Be._visibility|=2,ga(O,X,ie,ye,M)),M&&Ae&2048&&my(X.alternate,X);break;case 24:ga(O,X,ie,ye,M),M&&Ae&2048&&py(X.alternate,X);break;default:ga(O,X,ie,ye,M)}f=f.sibling}}function Yd(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=u,A=f,M=A.flags;switch(A.tag){case 22:Yd(x,A),M&2048&&my(A.alternate,A);break;case 24:Yd(x,A),M&2048&&py(A.alternate,A);break;default:Yd(x,A)}f=f.sibling}}var Eh=8192;function bc(u){if(u.subtreeFlags&Eh)for(u=u.child;u!==null;)kv(u),u=u.sibling}function kv(u){switch(u.tag){case 26:bc(u),u.flags&Eh&&u.memoizedState!==null&&e0(ni,u.memoizedState,u.memoizedProps);break;case 5:bc(u);break;case 3:case 4:var f=ni;ni=qh(u.stateNode.containerInfo),bc(u),ni=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Eh,Eh=16777216,bc(u),Eh=f):bc(u));break;default:bc(u)}}function gy(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Dh(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var A=f[x];Fn=A,Cv(A,u)}gy(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Mh(u),u=u.sibling}function Mh(u){switch(u.tag){case 0:case 11:case 15:Dh(u),u.flags&2048&&bl(9,u,u.return);break;case 3:Dh(u);break;case 12:Dh(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,Bp(u)):Dh(u);break;default:Dh(u)}}function Bp(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var A=f[x];Fn=A,Cv(A,u)}gy(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:bl(8,f,f.return),Bp(f);break;case 22:x=f.stateNode,x._visibility&2&&(x._visibility&=-3,Bp(f));break;default:Bp(f)}u=u.sibling}}function Cv(u,f){for(;Fn!==null;){var x=Fn;switch(x.tag){case 0:case 11:case 15:bl(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var A=x.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:jd(x.memoizedState.cache)}if(A=x.child,A!==null)A.return=x,Fn=A;else e:for(x=u;Fn!==null;){A=Fn;var M=A.sibling,O=A.return;if(bv(A),A===x){Fn=null;break e}if(M!==null){M.return=O,Fn=M;break e}Fn=O}}}var _v={getCacheForType:function(u){var f=Zn(xn),x=f.data.get(u);return x===void 0&&(x=u(),f.data.set(u,x)),x}},Av=typeof WeakMap=="function"?WeakMap:Map,vr=0,Or=null,Ut=null,Mt=0,wr=0,wn=null,Ps=!1,Mi=!1,yr=!1,Dn=0,yt=0,es=0,io=0,qe=0,gs=0,xc=0,Wd=null,js=null,Th=!1,De=0,Ih=1/0,Lp=null,oi=null,ts=0,wl=null,Kd=null,vc=0,yy=0,by=null,xy=null,wc=0,zp=null;function Os(){if((vr&2)!==0&&Mt!==0)return Mt&-Mt;if(se.T!==null){var u=Sd;return u!==0?u:Dy()}return mn()}function Nv(){gs===0&&(gs=(Mt&536870912)===0||rr?mo():536870912);var u=Ln.current;return u!==null&&(u.flags|=32),gs}function Bs(u,f,x){(u===Or&&(wr===2||wr===9)||u.cancelPendingCommit!==null)&&(Jd(u,0),ya(u,Mt,gs,!1)),Uo(u,x),((vr&2)===0||u!==Or)&&(u===Or&&((vr&2)===0&&(io|=x),yt===4&&ya(u,Mt,gs,!1)),jo(u))}function Ls(u,f,x){if((vr&6)!==0)throw Error(i(327));var A=!x&&(f&124)===0&&(f&u.expiredLanes)===0||Cr(u,f),M=A?Rh(u,f):ao(u,f,!0),O=A;do{if(M===0){Mi&&!A&&ya(u,f,0,!1);break}else{if(x=u.current.alternate,O&&!u1(x)){M=ao(u,f,!1),O=!1;continue}if(M===2){if(O=f,u.errorRecoveryDisabledLanes&O)var X=0;else X=u.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){f=X;e:{var ie=u;M=Wd;var ye=ie.current.memoizedState.isDehydrated;if(ye&&(Jd(ie,X).flags|=256),X=ao(ie,X,!1),X!==2){if(yr&&!ye){ie.errorRecoveryDisabledLanes|=O,io|=O,M=4;break e}O=js,js=M,O!==null&&(js===null?js=O:js.push.apply(js,O))}M=X}if(O=!1,M!==2)continue}}if(M===1){Jd(u,0),ya(u,f,0,!0);break}e:{switch(A=u,O=M,O){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:ya(A,f,gs,!Ps);break e;case 2:js=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(M=De+300-ot(),10<M)){if(ya(A,f,gs,!Ps),ls(A,0,!0)!==0)break e;A.timeoutHandle=nu(vy.bind(null,A,x,js,Lp,Th,f,gs,io,xc,Ps,O,2,-0,0),M);break e}vy(A,x,js,Lp,Th,f,gs,io,xc,Ps,O,0,-0,0)}}break}while(!0);jo(u)}function vy(u,f,x,A,M,O,X,ie,ye,Ae,Be,Ue,Se,Ee){if(u.timeoutHandle=-1,Ue=f.subtreeFlags,(Ue&8192||(Ue&16785408)===16785408)&&(Kh={stylesheets:null,count:0,unsuspend:j1},kv(f),Ue=t0(),Ue!==null)){u.cancelPendingCommit=Ue(Cy.bind(null,u,f,O,x,A,M,X,ie,ye,Be,1,Se,Ee)),ya(u,O,X,!Ae);return}Cy(u,f,O,x,A,M,X,ie,ye)}function u1(u){for(var f=u;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var A=0;A<x.length;A++){var M=x[A],O=M.getSnapshot;M=M.value;try{if(!Rs(O(),M))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ya(u,f,x,A){f&=~qe,f&=~io,u.suspendedLanes|=f,u.pingedLanes&=~f,A&&(u.warmLanes|=f),A=u.expirationTimes;for(var M=f;0<M;){var O=31-ut(M),X=1<<O;A[O]=-1,M&=~X}x!==0&&fi(u,x,f)}function Qd(){return(vr&6)===0?(eu(0),!1):!0}function wy(){if(Ut!==null){if(wr===0)var u=Ut.return;else u=Ut,Jo=ms=null,Tg(u),pl=null,uc=0,u=Ut;for(;u!==null;)sy(u.alternate,u),u=u.return;Ut=null}}function Jd(u,f){var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,Hh(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),wy(),Or=u,Ut=x=to(u.current,null),Mt=f,wr=0,wn=null,Ps=!1,Mi=Cr(u,f),yr=!1,xc=gs=qe=io=es=yt=0,js=Wd=null,Th=!1,(f&8)!==0&&(f|=f&32);var A=u.entangledLanes;if(A!==0)for(u=u.entanglements,A&=f;0<A;){var M=31-ut(A),O=1<<M;f|=u[M],A&=~O}return Dn=f,tc(),x}function No(u,f){Bt=null,se.H=_p,f===lc||f===ph?(f=Ag(),wr=3):f===wg?(f=Ag(),wr=4):wr=f===uv?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,wn=f,Ut===null&&(yt=1,Ud(u,eo(f,u.current)))}function jv(){var u=se.H;return se.H=_p,u===null?_p:u}function Sv(){var u=se.A;return se.A=_v,u}function Xd(){yt=4,Ps||(Mt&4194048)!==Mt&&Ln.current!==null||(Mi=!0),(es&134217727)===0&&(io&134217727)===0||Or===null||ya(Or,Mt,gs,!1)}function ao(u,f,x){var A=vr;vr|=2;var M=jv(),O=Sv();(Or!==u||Mt!==f)&&(Lp=null,Jd(u,f)),f=!1;var X=yt;e:do try{if(wr!==0&&Ut!==null){var ie=Ut,ye=wn;switch(wr){case 8:wy(),X=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(f=!0);var Ae=wr;if(wr=0,wn=null,kc(u,ie,ye,Ae),x&&Mi){X=0;break e}break;default:Ae=wr,wr=0,wn=null,kc(u,ie,ye,Ae)}}h1(),X=yt;break}catch(Be){No(u,Be)}while(!0);return f&&u.shellSuspendCounter++,Jo=ms=null,vr=A,se.H=M,se.A=O,Ut===null&&(Or=null,Mt=0,tc()),X}function h1(){for(;Ut!==null;)Dv(Ut)}function Rh(u,f){var x=vr;vr|=2;var A=jv(),M=Sv();Or!==u||Mt!==f?(Lp=null,Ih=ot()+500,Jd(u,f)):Mi=Cr(u,f);e:do try{if(wr!==0&&Ut!==null){f=Ut;var O=wn;t:switch(wr){case 1:wr=0,wn=null,kc(u,f,O,1);break;case 2:case 9:if(Cg(O)){wr=0,wn=null,ky(f);break}f=function(){wr!==2&&wr!==9||Or!==u||(wr=7),jo(u)},O.then(f,f);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Cg(O)?(wr=0,wn=null,ky(f)):(wr=0,wn=null,kc(u,f,O,7));break;case 5:var X=null;switch(Ut.tag){case 26:X=Ut.memoizedState;case 5:case 27:var ie=Ut;if(!X||Uy(X)){wr=0,wn=null;var ye=ie.sibling;if(ye!==null)Ut=ye;else{var Ae=ie.return;Ae!==null?(Ut=Ae,Ph(Ae)):Ut=null}break t}}wr=0,wn=null,kc(u,f,O,5);break;case 6:wr=0,wn=null,kc(u,f,O,6);break;case 8:wy(),yt=6;break e;default:throw Error(i(462))}}Ev();break}catch(Be){No(u,Be)}while(!0);return Jo=ms=null,se.H=A,se.A=M,vr=x,Ut!==null?0:(Or=null,Mt=0,tc(),yt)}function Ev(){for(;Ut!==null&&!Kt();)Dv(Ut)}function Dv(u){var f=pv(u.alternate,u,Dn);u.memoizedProps=u.pendingProps,f===null?Ph(u):Ut=f}function ky(u){var f=u,x=f.alternate;switch(f.tag){case 15:case 0:f=Dp(x,f,f.pendingProps,f.type,void 0,Mt);break;case 11:f=Dp(x,f,f.pendingProps,f.type.render,f.ref,Mt);break;case 5:Tg(f);default:sy(x,f),f=Ut=ol(f,Dn),f=pv(x,f,Dn)}u.memoizedProps=u.pendingProps,f===null?Ph(u):Ut=f}function kc(u,f,x,A){Jo=ms=null,Tg(f),pl=null,uc=0;var M=f.return;try{if(Jg(u,M,f,x,Mt)){yt=1,Ud(u,eo(x,u.current)),Ut=null;return}}catch(O){if(M!==null)throw Ut=M,O;yt=1,Ud(u,eo(x,u.current)),Ut=null;return}f.flags&32768?(rr||A===1?u=!0:Mi||(Mt&536870912)!==0?u=!1:(Ps=u=!0,(A===2||A===9||A===3||A===6)&&(A=Ln.current,A!==null&&A.tag===13&&(A.flags|=16384))),Zd(f,u)):Ph(f)}function Ph(u){var f=u;do{if((f.flags&32768)!==0){Zd(f,Ps);return}u=f.return;var x=c1(f.alternate,f,Dn);if(x!==null){Ut=x;return}if(f=f.sibling,f!==null){Ut=f;return}Ut=f=u}while(f!==null);yt===0&&(yt=5)}function Zd(u,f){do{var x=Rp(u.alternate,u);if(x!==null){x.flags&=32767,Ut=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(u=u.sibling,u!==null)){Ut=u;return}Ut=u=x}while(u!==null);yt=6,Ut=null}function Cy(u,f,x,A,M,O,X,ie,ye){u.cancelPendingCommit=null;do Oh();while(ts!==0);if((vr&6)!==0)throw Error(i(327));if(f!==null){if(f===u.current)throw Error(i(177));if(O=f.lanes|f.childLanes,O|=fr,Gu(u,x,O,X,ie,ye),u===Or&&(Ut=Or=null,Mt=0),Kd=f,wl=u,vc=x,yy=O,by=M,xy=A,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Pv(hn,function(){return Mv(),null})):(u.callbackNode=null,u.callbackPriority=0),A=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||A){A=se.T,se.T=null,M=oe.p,oe.p=2,X=vr,vr|=4;try{d1(u,f,x)}finally{vr=X,oe.p=M,se.T=A}}ts=1,_y(),Fp(),Ay()}}function _y(){if(ts===1){ts=0;var u=wl,f=Kd,x=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||x){x=se.T,se.T=null;var A=oe.p;oe.p=2;var M=vr;vr|=4;try{hy(f,u);var O=Uh,X=Mx(u.containerInfo),ie=O.focusedElem,ye=O.selectionRange;if(X!==ie&&ie&&ie.ownerDocument&&dg(ie.ownerDocument.documentElement,ie)){if(ye!==null&&ug(ie)){var Ae=ye.start,Be=ye.end;if(Be===void 0&&(Be=Ae),"selectionStart"in ie)ie.selectionStart=Ae,ie.selectionEnd=Math.min(Be,ie.value.length);else{var Ue=ie.ownerDocument||document,Se=Ue&&Ue.defaultView||window;if(Se.getSelection){var Ee=Se.getSelection(),xt=ie.textContent.length,ft=Math.min(ye.start,xt),kr=ye.end===void 0?ft:Math.min(ye.end,xt);!Ee.extend&&ft>kr&&(X=kr,kr=ft,ft=X);var we=Dx(ie,ft),xe=Dx(ie,kr);if(we&&xe&&(Ee.rangeCount!==1||Ee.anchorNode!==we.node||Ee.anchorOffset!==we.offset||Ee.focusNode!==xe.node||Ee.focusOffset!==xe.offset)){var _e=Ue.createRange();_e.setStart(we.node,we.offset),Ee.removeAllRanges(),ft>kr?(Ee.addRange(_e),Ee.extend(xe.node,xe.offset)):(_e.setEnd(xe.node,xe.offset),Ee.addRange(_e))}}}}for(Ue=[],Ee=ie;Ee=Ee.parentNode;)Ee.nodeType===1&&Ue.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<Ue.length;ie++){var Le=Ue[ie];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}wa=!!Oy,Uh=Oy=null}finally{vr=M,oe.p=A,se.T=x}}u.current=f,ts=2}}function Fp(){if(ts===2){ts=0;var u=wl,f=Kd,x=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||x){x=se.T,se.T=null;var A=oe.p;oe.p=2;var M=vr;vr|=4;try{dy(u,f.alternate,f)}finally{vr=M,oe.p=A,se.T=x}}ts=3}}function Ay(){if(ts===4||ts===3){ts=0,Ne();var u=wl,f=Kd,x=vc,A=xy;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ts=5:(ts=0,Kd=wl=null,Ny(u,u.pendingLanes));var M=u.pendingLanes;if(M===0&&(oi=null),ad(x),f=f.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Yt,f,void 0,(f.current.flags&128)===128)}catch{}if(A!==null){f=se.T,M=oe.p,oe.p=2,se.T=null;try{for(var O=u.onRecoverableError,X=0;X<A.length;X++){var ie=A[X];O(ie.value,{componentStack:ie.stack})}}finally{se.T=f,oe.p=M}}(vc&3)!==0&&Oh(),jo(u),M=u.pendingLanes,(x&4194090)!==0&&(M&42)!==0?u===zp?wc++:(wc=0,zp=u):wc=0,eu(0)}}function Ny(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,jd(f)))}function Oh(u){return _y(),Fp(),Ay(),Mv()}function Mv(){if(ts!==5)return!1;var u=wl,f=yy;yy=0;var x=ad(vc),A=se.T,M=oe.p;try{oe.p=32>x?32:x,se.T=null,x=by,by=null;var O=wl,X=vc;if(ts=0,Kd=wl=null,vc=0,(vr&6)!==0)throw Error(i(331));var ie=vr;if(vr|=4,Mh(O.current),fy(O,O.current,X,x),vr=ie,eu(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Yt,O)}catch{}return!0}finally{oe.p=M,se.T=A,Ny(u,f)}}function Tv(u,f,x){f=eo(x,f),f=Gd(u.stateNode,f,2),u=oa(u,f,2),u!==null&&(Uo(u,2),jo(u))}function Nr(u,f,x){if(u.tag===3)Tv(u,u,x);else for(;f!==null;){if(f.tag===3){Tv(f,u,x);break}else if(f.tag===1){var A=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(oi===null||!oi.has(A))){u=eo(x,u),x=cv(2),A=oa(f,x,2),A!==null&&(dv(x,A,f,u),Uo(A,2),jo(A));break}}f=f.return}}function Vp(u,f,x){var A=u.pingCache;if(A===null){A=u.pingCache=new Av;var M=new Set;A.set(f,M)}else M=A.get(f),M===void 0&&(M=new Set,A.set(f,M));M.has(x)||(yr=!0,M.add(x),u=Iv.bind(null,u,f,x),f.then(u,u))}function Iv(u,f,x){var A=u.pingCache;A!==null&&A.delete(f),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,Or===u&&(Mt&x)===x&&(yt===4||yt===3&&(Mt&62914560)===Mt&&300>ot()-De?(vr&2)===0&&Jd(u,0):qe|=x,xc===Mt&&(xc=0)),jo(u)}function Rv(u,f){f===0&&(f=od()),u=rc(u,f),u!==null&&(Uo(u,f),jo(u))}function m1(u){var f=u.memoizedState,x=0;f!==null&&(x=f.retryLane),Rv(u,x)}function p1(u,f){var x=0;switch(u.tag){case 13:var A=u.stateNode,M=u.memoizedState;M!==null&&(x=M.retryLane);break;case 19:A=u.stateNode;break;case 22:A=u.stateNode._retryCache;break;default:throw Error(i(314))}A!==null&&A.delete(f),Rv(u,x)}function Pv(u,f){return Ze(u,f)}var Up=null,$d=null,Gp=!1,Hp=!1,qp=!1,ba=0;function jo(u){u!==$d&&u.next===null&&($d===null?Up=$d=u:$d=$d.next=u),Hp=!0,Gp||(Gp=!0,Lv())}function eu(u,f){if(!qp&&Hp){qp=!0;do for(var x=!1,A=Up;A!==null;){if(u!==0){var M=A.pendingLanes;if(M===0)var O=0;else{var X=A.suspendedLanes,ie=A.pingedLanes;O=(1<<31-ut(42|u)+1)-1,O&=M&~(X&~ie),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(x=!0,Ey(A,O))}else O=Mt,O=ls(A,A===Or?O:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(O&3)===0||Cr(A,O)||(x=!0,Ey(A,O));A=A.next}while(x);qp=!1}}function Ov(){jy()}function jy(){Hp=Gp=!1;var u=0;ba!==0&&(Hv()&&(u=ba),ba=0);for(var f=ot(),x=null,A=Up;A!==null;){var M=A.next,O=Bv(A,f);O===0?(A.next=null,x===null?Up=M:x.next=M,M===null&&($d=x)):(x=A,(u!==0||(O&3)!==0)&&(Hp=!0)),A=M}eu(u)}function Bv(u,f){for(var x=u.suspendedLanes,A=u.pingedLanes,M=u.expirationTimes,O=u.pendingLanes&-62914561;0<O;){var X=31-ut(O),ie=1<<X,ye=M[X];ye===-1?((ie&x)===0||(ie&A)!==0)&&(M[X]=jn(ie,f)):ye<=f&&(u.expiredLanes|=ie),O&=~ie}if(f=Or,x=Mt,x=ls(u,u===f?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),A=u.callbackNode,x===0||u===f&&(wr===2||wr===9)||u.cancelPendingCommit!==null)return A!==null&&A!==null&&st(A),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||Cr(u,x)){if(f=x&-x,f===u.callbackPriority)return f;switch(A!==null&&st(A),ad(x)){case 2:case 8:x=Js;break;case 32:x=hn;break;case 268435456:x=Dr;break;default:x=hn}return A=Sy.bind(null,u),x=Ze(x,A),u.callbackPriority=f,u.callbackNode=x,f}return A!==null&&A!==null&&st(A),u.callbackPriority=2,u.callbackNode=null,2}function Sy(u,f){if(ts!==0&&ts!==5)return u.callbackNode=null,u.callbackPriority=0,null;var x=u.callbackNode;if(Oh()&&u.callbackNode!==x)return null;var A=Mt;return A=ls(u,u===Or?A:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),A===0?null:(Ls(u,A,f),Bv(u,ot()),u.callbackNode!=null&&u.callbackNode===x?Sy.bind(null,u):null)}function Ey(u,f){if(Oh())return null;Ls(u,f,!0)}function Lv(){lr(function(){(vr&6)!==0?Ze(Lr,Ov):jy()})}function Dy(){return ba===0&&(ba=mo()),ba}function tu(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:pd(""+u)}function Bh(u,f){var x=f.ownerDocument.createElement("input");return x.name=f.name,x.value=f.value,u.id&&x.setAttribute("form",u.id),f.parentNode.insertBefore(x,f),u=new FormData(u),x.parentNode.removeChild(x),u}function f1(u,f,x,A,M){if(f==="submit"&&x&&x.stateNode===M){var O=tu((M[pn]||null).action),X=A.submitter;X&&(f=(f=X[pn]||null)?tu(f.formAction):X.getAttribute("formAction"),f!==null&&(O=f,X=null));var ie=new Ai("action","action",null,A,M);u.push({event:ie,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(ba!==0){var ye=X?Bh(M,X):new FormData(M);Gg(x,{pending:!0,data:ye,method:M.method,action:O},null,ye)}}else typeof O=="function"&&(ie.preventDefault(),ye=X?Bh(M,X):new FormData(M),Gg(x,{pending:!0,data:ye,method:M.method,action:O},O,ye))},currentTarget:M}]})}}for(var My=0;My<At.length;My++){var xa=At[My],g1=xa.toLowerCase(),y1=xa[0].toUpperCase()+xa.slice(1);$s(g1,"on"+y1)}$s(Ix,"onAnimationEnd"),$s(na,"onAnimationIteration"),$s(oh,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Rx,"onTransitionRun"),$s(sl,"onTransitionStart"),$s(e1,"onTransitionCancel"),$s(mg,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Go("onBeforeInput",["compositionend","keypress","textInput","paste"]),Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lh));function zv(u,f){f=(f&4)!==0;for(var x=0;x<u.length;x++){var A=u[x],M=A.event;A=A.listeners;e:{var O=void 0;if(f)for(var X=A.length-1;0<=X;X--){var ie=A[X],ye=ie.instance,Ae=ie.currentTarget;if(ie=ie.listener,ye!==O&&M.isPropagationStopped())break e;O=ie,M.currentTarget=Ae;try{O(M)}catch(Be){fc(Be)}M.currentTarget=null,O=ye}else for(X=0;X<A.length;X++){if(ie=A[X],ye=ie.instance,Ae=ie.currentTarget,ie=ie.listener,ye!==O&&M.isPropagationStopped())break e;O=ie,M.currentTarget=Ae;try{O(M)}catch(Be){fc(Be)}M.currentTarget=null,O=ye}}}}function Gt(u,f){var x=f[Hu];x===void 0&&(x=f[Hu]=new Set);var A=u+"__bubble";x.has(A)||(kl(f,u,2,!1),x.add(A))}function Ty(u,f,x){var A=0;f&&(A|=4),kl(x,u,A,f)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function Iy(u){if(!u[Yp]){u[Yp]=!0,ld.forEach(function(x){x!=="selectionchange"&&(b1.has(x)||Ty(x,!1,u),Ty(x,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Yp]||(f[Yp]=!0,Ty("selectionchange",!1,f))}}function kl(u,f,x,A){switch(a0(f)){case 2:var M=E1;break;case 8:M=ka;break;default:M=qy}x=M.bind(null,f,x,u),M=void 0,!Zs||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),A?M!==void 0?u.addEventListener(f,x,{capture:!0,passive:M}):u.addEventListener(f,x,!0):M!==void 0?u.addEventListener(f,x,{passive:M}):u.addEventListener(f,x,!1)}function Ry(u,f,x,A,M){var O=A;if((f&1)===0&&(f&2)===0&&A!==null)e:for(;;){if(A===null)return;var X=A.tag;if(X===3||X===4){var ie=A.stateNode.containerInfo;if(ie===M)break;if(X===4)for(X=A.return;X!==null;){var ye=X.tag;if((ye===3||ye===4)&&X.stateNode.containerInfo===M)return;X=X.return}for(;ie!==null;){if(X=qi(ie),X===null)return;if(ye=X.tag,ye===5||ye===6||ye===26||ye===27){A=O=X;continue e}ie=ie.parentNode}}A=A.return}Wm(function(){var Ae=O,Be=Jn(x),Ue=[];e:{var Se=tp.get(u);if(Se!==void 0){var Ee=Ai,xt=u;switch(u){case"keypress":if(Wo(x)===0)break e;case"keydown":case"keyup":Ee=Zl;break;case"focusin":xt="focus",Ee=yd;break;case"focusout":xt="blur",Ee=yd;break;case"beforeblur":case"afterblur":Ee=yd;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Jm;break;case Ix:case na:case oh:Ee=$a;break;case mg:Ee=vd;break;case"scroll":case"scrollend":Ee=$i;break;case"wheel":Ee=$l;break;case"copy":case"cut":case"paste":Ee=bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=eh;break;case"toggle":case"beforetoggle":Ee=Zm}var ft=(f&4)!==0,kr=!ft&&(u==="scroll"||u==="scrollend"),we=ft?Se!==null?Se+"Capture":null:Se;ft=[];for(var xe=Ae,_e;xe!==null;){var Le=xe;if(_e=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||_e===null||we===null||(Le=Ji(xe,we),Le!=null&&ft.push(zh(xe,Le,_e))),kr)break;xe=xe.return}0<ft.length&&(Se=new Ee(Se,xt,null,x,Be),Ue.push({event:Se,listeners:ft}))}}if((f&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",Ee=u==="mouseout"||u==="pointerout",Se&&x!==Ho&&(xt=x.relatedTarget||x.fromElement)&&(qi(xt)||xt[po]))break e;if((Ee||Se)&&(Se=Be.window===Be?Be:(Se=Be.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ee?(xt=x.relatedTarget||x.toElement,Ee=Ae,xt=xt?qi(xt):null,xt!==null&&(kr=h(xt),ft=xt.tag,xt!==kr||ft!==5&&ft!==27&&ft!==6)&&(xt=null)):(Ee=null,xt=Ae),Ee!==xt)){if(ft=yo,Le="onMouseLeave",we="onMouseEnter",xe="mouse",(u==="pointerout"||u==="pointerover")&&(ft=eh,Le="onPointerLeave",we="onPointerEnter",xe="pointer"),kr=Ee==null?Se:bi(Ee),_e=xt==null?Se:bi(xt),Se=new ft(Le,xe+"leave",Ee,x,Be),Se.target=kr,Se.relatedTarget=_e,Le=null,qi(Be)===Ae&&(ft=new ft(we,xe+"enter",xt,x,Be),ft.target=_e,ft.relatedTarget=kr,Le=ft),kr=Le,Ee&&xt)t:{for(ft=Ee,we=xt,xe=0,_e=ft;_e;_e=ru(_e))xe++;for(_e=0,Le=we;Le;Le=ru(Le))_e++;for(;0<xe-_e;)ft=ru(ft),xe--;for(;0<_e-xe;)we=ru(we),_e--;for(;xe--;){if(ft===we||we!==null&&ft===we.alternate)break t;ft=ru(ft),we=ru(we)}ft=null}else ft=null;Ee!==null&&Fv(Ue,Se,Ee,ft,!1),xt!==null&&kr!==null&&Fv(Ue,kr,xt,ft,!0)}}e:{if(Se=Ae?bi(Ae):window,Ee=Se.nodeName&&Se.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&Se.type==="file")var at=kx;else if(Sn(Se))if(Cx)at=Ex;else{at=Sx;var Vt=jx}else Ee=Se.nodeName,!Ee||Ee.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ae&&Wu(Ae.elementType)&&(at=kx):at=Zk;if(at&&(at=at(u,Ae))){ea(Ue,at,x,Be);break e}Vt&&Vt(u,Se,Ae),u==="focusout"&&Ae&&Se.type==="number"&&Ae.memoizedProps.value!=null&&Ka(Se,"number",Se.value)}switch(Vt=Ae?bi(Ae):window,u){case"focusin":(Sn(Vt)||Vt.contentEditable==="true")&&(kd=Vt,$m=Ae,Cd=null);break;case"focusout":Cd=$m=kd=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,Mr(Ue,x,Be);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":Mr(Ue,x,Be)}var ct;if(xo)e:{switch(u){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Qt?Me(u,x)&&(mt="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(mt="onCompositionStart");mt&&(Q&&x.locale!=="ko"&&(Qt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Qt&&(ct=Ql()):(Yo=Be,go="value"in Yo?Yo.value:Yo.textContent,Qt=!0)),Vt=Fh(Ae,mt),0<Vt.length&&(mt=new Ju(mt,u,null,x,Be),Ue.push({event:mt,listeners:Vt}),ct?mt.data=ct:(ct=Xe(x),ct!==null&&(mt.data=ct)))),(ct=U?yn(u,x):Jt(u,x))&&(mt=Fh(Ae,"onBeforeInput"),0<mt.length&&(Vt=new Ju("onBeforeInput","beforeinput",null,x,Be),Ue.push({event:Vt,listeners:mt}),Vt.data=ct)),f1(Ue,u,Ae,x,Be)}zv(Ue,f)})}function zh(u,f,x){return{instance:u,listener:f,currentTarget:x}}function Fh(u,f){for(var x=f+"Capture",A=[];u!==null;){var M=u,O=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||O===null||(M=Ji(u,x),M!=null&&A.unshift(zh(u,M,O)),M=Ji(u,f),M!=null&&A.push(zh(u,M,O))),u.tag===3)return A;u=u.return}return[]}function ru(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function Fv(u,f,x,A,M){for(var O=f._reactName,X=[];x!==null&&x!==A;){var ie=x,ye=ie.alternate,Ae=ie.stateNode;if(ie=ie.tag,ye!==null&&ye===A)break;ie!==5&&ie!==26&&ie!==27||Ae===null||(ye=Ae,M?(Ae=Ji(x,O),Ae!=null&&X.unshift(zh(x,Ae,ye))):M||(Ae=Ji(x,O),Ae!=null&&X.push(zh(x,Ae,ye)))),x=x.return}X.length!==0&&u.push({event:f,listeners:X})}var x1=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function Uv(u){return(typeof u=="string"?u:""+u).replace(x1,`
`).replace(Vv,"")}function Gv(u,f){return f=Uv(f),Uv(u)===f}function Vh(){}function jr(u,f,x,A,M,O){switch(x){case"children":typeof A=="string"?f==="body"||f==="textarea"&&A===""||Cs(u,A):(typeof A=="number"||typeof A=="bigint")&&f!=="body"&&Cs(u,""+A);break;case"className":xi(u,"class",A);break;case"tabIndex":xi(u,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(u,x,A);break;case"style":Ki(u,A,O);break;case"data":if(f!=="object"){xi(u,"data",A);break}case"src":case"href":if(A===""&&(f!=="a"||x!=="href")){u.removeAttribute(x);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){u.removeAttribute(x);break}A=pd(""+A),u.setAttribute(x,A);break;case"action":case"formAction":if(typeof A=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(x==="formAction"?(f!=="input"&&jr(u,f,"name",M.name,M,null),jr(u,f,"formEncType",M.formEncType,M,null),jr(u,f,"formMethod",M.formMethod,M,null),jr(u,f,"formTarget",M.formTarget,M,null)):(jr(u,f,"encType",M.encType,M,null),jr(u,f,"method",M.method,M,null),jr(u,f,"target",M.target,M,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){u.removeAttribute(x);break}A=pd(""+A),u.setAttribute(x,A);break;case"onClick":A!=null&&(u.onclick=Vh);break;case"onScroll":A!=null&&Gt("scroll",u);break;case"onScrollEnd":A!=null&&Gt("scrollend",u);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(x=A.__html,x!=null){if(M.children!=null)throw Error(i(60));u.innerHTML=x}}break;case"multiple":u.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":u.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){u.removeAttribute("xlink:href");break}x=pd(""+A),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(x,""+A):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":A===!0?u.setAttribute(x,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(x,A):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?u.setAttribute(x,A):u.removeAttribute(x);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?u.removeAttribute(x):u.setAttribute(x,A);break;case"popover":Gt("beforetoggle",u),Gt("toggle",u),Ya(u,"popover",A);break;case"xlinkActuate":Qn(u,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Qn(u,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Qn(u,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Qn(u,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Qn(u,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Qn(u,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Qn(u,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Qn(u,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Qn(u,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Ya(u,"is",A);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=md.get(x)||x,Ya(u,x,A))}}function Py(u,f,x,A,M,O){switch(x){case"style":Ki(u,A,O);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(x=A.__html,x!=null){if(M.children!=null)throw Error(i(60));u.innerHTML=x}}break;case"children":typeof A=="string"?Cs(u,A):(typeof A=="number"||typeof A=="bigint")&&Cs(u,""+A);break;case"onScroll":A!=null&&Gt("scroll",u);break;case"onScrollEnd":A!=null&&Gt("scrollend",u);break;case"onClick":A!=null&&(u.onclick=Vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cd.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(M=x.endsWith("Capture"),f=x.slice(2,M?x.length-7:void 0),O=u[pn]||null,O=O!=null?O[x]:null,typeof O=="function"&&u.removeEventListener(f,O,M),typeof A=="function")){typeof O!="function"&&O!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(f,A,M);break e}x in u?u[x]=A:A===!0?u.setAttribute(x,""):Ya(u,x,A)}}}function rs(u,f,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",u),Gt("load",u);var A=!1,M=!1,O;for(O in x)if(x.hasOwnProperty(O)){var X=x[O];if(X!=null)switch(O){case"src":A=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:jr(u,f,O,X,x,null)}}M&&jr(u,f,"srcSet",x.srcSet,x,null),A&&jr(u,f,"src",x.src,x,null);return;case"input":Gt("invalid",u);var ie=O=X=M=null,ye=null,Ae=null;for(A in x)if(x.hasOwnProperty(A)){var Be=x[A];if(Be!=null)switch(A){case"name":M=Be;break;case"type":X=Be;break;case"checked":ye=Be;break;case"defaultChecked":Ae=Be;break;case"value":O=Be;break;case"defaultValue":ie=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,f));break;default:jr(u,f,A,Be,x,null)}}Wl(u,O,ie,ye,Ae,X,M,!1),hd(u);return;case"select":Gt("invalid",u),A=X=O=null;for(M in x)if(x.hasOwnProperty(M)&&(ie=x[M],ie!=null))switch(M){case"value":O=ie;break;case"defaultValue":X=ie;break;case"multiple":A=ie;default:jr(u,f,M,ie,x,null)}f=O,x=X,u.multiple=!!A,f!=null?Yi(u,!!A,f,!1):x!=null&&Yi(u,!!A,x,!0);return;case"textarea":Gt("invalid",u),O=M=A=null;for(X in x)if(x.hasOwnProperty(X)&&(ie=x[X],ie!=null))switch(X){case"value":A=ie;break;case"defaultValue":M=ie;break;case"children":O=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(91));break;default:jr(u,f,X,ie,x,null)}fo(u,A,M,O),hd(u);return;case"option":for(ye in x)if(x.hasOwnProperty(ye)&&(A=x[ye],A!=null))switch(ye){case"selected":u.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:jr(u,f,ye,A,x,null)}return;case"dialog":Gt("beforetoggle",u),Gt("toggle",u),Gt("cancel",u),Gt("close",u);break;case"iframe":case"object":Gt("load",u);break;case"video":case"audio":for(A=0;A<Lh.length;A++)Gt(Lh[A],u);break;case"image":Gt("error",u),Gt("load",u);break;case"details":Gt("toggle",u);break;case"embed":case"source":case"link":Gt("error",u),Gt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in x)if(x.hasOwnProperty(Ae)&&(A=x[Ae],A!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:jr(u,f,Ae,A,x,null)}return;default:if(Wu(f)){for(Be in x)x.hasOwnProperty(Be)&&(A=x[Be],A!==void 0&&Py(u,f,Be,A,x,void 0));return}}for(ie in x)x.hasOwnProperty(ie)&&(A=x[ie],A!=null&&jr(u,f,ie,A,x,null))}function v1(u,f,x,A){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,O=null,X=null,ie=null,ye=null,Ae=null,Be=null;for(Ee in x){var Ue=x[Ee];if(x.hasOwnProperty(Ee)&&Ue!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":ye=Ue;default:A.hasOwnProperty(Ee)||jr(u,f,Ee,null,A,Ue)}}for(var Se in A){var Ee=A[Se];if(Ue=x[Se],A.hasOwnProperty(Se)&&(Ee!=null||Ue!=null))switch(Se){case"type":O=Ee;break;case"name":M=Ee;break;case"checked":Ae=Ee;break;case"defaultChecked":Be=Ee;break;case"value":X=Ee;break;case"defaultValue":ie=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,f));break;default:Ee!==Ue&&jr(u,f,Se,Ee,A,Ue)}}cs(u,X,ie,ye,Ae,Be,O,M);return;case"select":Ee=X=ie=Se=null;for(O in x)if(ye=x[O],x.hasOwnProperty(O)&&ye!=null)switch(O){case"value":break;case"multiple":Ee=ye;default:A.hasOwnProperty(O)||jr(u,f,O,null,A,ye)}for(M in A)if(O=A[M],ye=x[M],A.hasOwnProperty(M)&&(O!=null||ye!=null))switch(M){case"value":Se=O;break;case"defaultValue":ie=O;break;case"multiple":X=O;default:O!==ye&&jr(u,f,M,O,A,ye)}f=ie,x=X,A=Ee,Se!=null?Yi(u,!!x,Se,!1):!!A!=!!x&&(f!=null?Yi(u,!!x,f,!0):Yi(u,!!x,x?[]:"",!1));return;case"textarea":Ee=Se=null;for(ie in x)if(M=x[ie],x.hasOwnProperty(ie)&&M!=null&&!A.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:jr(u,f,ie,null,A,M)}for(X in A)if(M=A[X],O=x[X],A.hasOwnProperty(X)&&(M!=null||O!=null))switch(X){case"value":Se=M;break;case"defaultValue":Ee=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:M!==O&&jr(u,f,X,M,A,O)}Ar(u,Se,Ee);return;case"option":for(var xt in x)if(Se=x[xt],x.hasOwnProperty(xt)&&Se!=null&&!A.hasOwnProperty(xt))switch(xt){case"selected":u.selected=!1;break;default:jr(u,f,xt,null,A,Se)}for(ye in A)if(Se=A[ye],Ee=x[ye],A.hasOwnProperty(ye)&&Se!==Ee&&(Se!=null||Ee!=null))switch(ye){case"selected":u.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:jr(u,f,ye,Se,A,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in x)Se=x[ft],x.hasOwnProperty(ft)&&Se!=null&&!A.hasOwnProperty(ft)&&jr(u,f,ft,null,A,Se);for(Ae in A)if(Se=A[Ae],Ee=x[Ae],A.hasOwnProperty(Ae)&&Se!==Ee&&(Se!=null||Ee!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,f));break;default:jr(u,f,Ae,Se,A,Ee)}return;default:if(Wu(f)){for(var kr in x)Se=x[kr],x.hasOwnProperty(kr)&&Se!==void 0&&!A.hasOwnProperty(kr)&&Py(u,f,kr,void 0,A,Se);for(Be in A)Se=A[Be],Ee=x[Be],!A.hasOwnProperty(Be)||Se===Ee||Se===void 0&&Ee===void 0||Py(u,f,Be,Se,A,Ee);return}}for(var we in x)Se=x[we],x.hasOwnProperty(we)&&Se!=null&&!A.hasOwnProperty(we)&&jr(u,f,we,null,A,Se);for(Ue in A)Se=A[Ue],Ee=x[Ue],!A.hasOwnProperty(Ue)||Se===Ee||Se==null&&Ee==null||jr(u,f,Ue,Se,A,Ee)}var Oy=null,Uh=null;function Gh(u){return u.nodeType===9?u:u.ownerDocument}function zs(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function Kp(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Cc=null;function Hv(){var u=window.event;return u&&u.type==="popstate"?u===Cc?!1:(Cc=u,!0):(Cc=null,!1)}var nu=typeof setTimeout=="function"?setTimeout:void 0,Hh=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,lr=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(u){return By.resolve(null).then(u).catch(Un)}:nu;function Un(u){setTimeout(function(){throw u})}function Xt(u){return u==="head"}function Yr(u,f){var x=f,A=0,M=0;do{var O=x.nextSibling;if(u.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(0<A&&8>A){x=A;var X=u.ownerDocument;if(x&1&&_c(X.documentElement),x&2&&_c(X.body),x&4)for(x=X.head,_c(x),X=x.firstChild;X;){var ie=X.nextSibling,ye=X.nodeName;X[gi]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&X.rel.toLowerCase()==="stylesheet"||x.removeChild(X),X=ie}}if(M===0){u.removeChild(O),$h(f);return}M--}else x==="$"||x==="$?"||x==="$!"?M++:A=x.charCodeAt(0)-48;else A=0;x=O}while(x);$h(f)}function ys(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var x=f;switch(f=f.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":ys(x),qa(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function qv(u,f,x,A){for(;u.nodeType===1;){var M=x;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!A&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(A){if(!u[gi])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(O=u.getAttribute("rel"),O==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(O!==M.rel||u.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(O=u.getAttribute("src"),(O!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&O&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var O=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===O)return u}else return u;if(u=Mn(u.nextSibling),u===null)break}return null}function rn(u,f,x){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=Mn(u.nextSibling),u===null))return null;return u}function nn(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function Fs(u,f){var x=u.ownerDocument;if(u.data!=="$?"||x.readyState==="complete")f();else{var A=function(){f(),x.removeEventListener("DOMContentLoaded",A)};x.addEventListener("DOMContentLoaded",A),u._reactRetry=A}}function Mn(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}var So=null;function lo(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return u;f--}else x==="/$"&&f++}u=u.previousSibling}return null}function Yv(u,f,x){switch(f=Gh(x),u){case"html":if(u=f.documentElement,!u)throw Error(i(452));return u;case"head":if(u=f.head,!u)throw Error(i(453));return u;case"body":if(u=f.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function _c(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);qa(u)}var Nt=new Map,Wv=new Set;function qh(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var va=oe.d;oe.d={f:w1,r:Kv,D:su,C:ns,L:k1,m:C1,X:_1,S:ou,M:A1};function w1(){var u=va.f(),f=Qd();return u||f}function Kv(u){var f=yi(u);f!==null&&f.tag===5&&f.type==="form"?rv(f):va.r(u)}var Ac=typeof document>"u"?null:document;function Ly(u,f,x){var A=Ac;if(A&&typeof f=="string"&&f){var M=fn(f);M='link[rel="'+u+'"][href="'+M+'"]',typeof x=="string"&&(M+='[crossorigin="'+x+'"]'),Wv.has(M)||(Wv.add(M),u={rel:u,crossOrigin:x,href:f},A.querySelector(M)===null&&(f=A.createElement("link"),rs(f,"link",u),Hr(f),A.head.appendChild(f)))}}function su(u){va.D(u),Ly("dns-prefetch",u,null)}function ns(u,f){va.C(u,f),Ly("preconnect",u,f)}function k1(u,f,x){va.L(u,f,x);var A=Ac;if(A&&u&&f){var M='link[rel="preload"][as="'+fn(f)+'"]';f==="image"&&x&&x.imageSrcSet?(M+='[imagesrcset="'+fn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(M+='[imagesizes="'+fn(x.imageSizes)+'"]')):M+='[href="'+fn(u)+'"]';var O=M;switch(f){case"style":O=Nc(u);break;case"script":O=jc(u)}Nt.has(O)||(u=k({rel:"preload",href:f==="image"&&x&&x.imageSrcSet?void 0:u,as:f},x),Nt.set(O,u),A.querySelector(M)!==null||f==="style"&&A.querySelector(Yh(O))||f==="script"&&A.querySelector(Wh(O))||(f=A.createElement("link"),rs(f,"link",u),Hr(f),A.head.appendChild(f)))}}function C1(u,f){va.m(u,f);var x=Ac;if(x&&u){var A=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+fn(A)+'"][href="'+fn(u)+'"]',O=M;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=jc(u)}if(!Nt.has(O)&&(u=k({rel:"modulepreload",href:u},f),Nt.set(O,u),x.querySelector(M)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Wh(O)))return}A=x.createElement("link"),rs(A,"link",u),Hr(A),x.head.appendChild(A)}}}function ou(u,f,x){va.S(u,f,x);var A=Ac;if(A&&u){var M=$r(A).hoistableStyles,O=Nc(u);f=f||"default";var X=M.get(O);if(!X){var ie={loading:0,preload:null};if(X=A.querySelector(Yh(O)))ie.loading=5;else{u=k({rel:"stylesheet",href:u,"data-precedence":f},x),(x=Nt.get(O))&&Fy(u,x);var ye=X=A.createElement("link");Hr(ye),rs(ye,"link",u),ye._p=new Promise(function(Ae,Be){ye.onload=Ae,ye.onerror=Be}),ye.addEventListener("load",function(){ie.loading|=1}),ye.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,Qp(X,f,A)}X={type:"stylesheet",instance:X,count:1,state:ie},M.set(O,X)}}}function _1(u,f){va.X(u,f);var x=Ac;if(x&&u){var A=$r(x).hoistableScripts,M=jc(u),O=A.get(M);O||(O=x.querySelector(Wh(M)),O||(u=k({src:u,async:!0},f),(f=Nt.get(M))&&Vy(u,f),O=x.createElement("script"),Hr(O),rs(O,"link",u),x.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},A.set(M,O))}}function A1(u,f){va.M(u,f);var x=Ac;if(x&&u){var A=$r(x).hoistableScripts,M=jc(u),O=A.get(M);O||(O=x.querySelector(Wh(M)),O||(u=k({src:u,async:!0,type:"module"},f),(f=Nt.get(M))&&Vy(u,f),O=x.createElement("script"),Hr(O),rs(O,"link",u),x.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},A.set(M,O))}}function Qv(u,f,x,A){var M=(M=je.current)?qh(M):null;if(!M)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(f=Nc(x.href),x=$r(M).hoistableStyles,A=x.get(f),A||(A={type:"style",instance:null,count:0,state:null},x.set(f,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=Nc(x.href);var O=$r(M).hoistableStyles,X=O.get(u);if(X||(M=M.ownerDocument||M,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(u,X),(O=M.querySelector(Yh(u)))&&!O._p&&(X.instance=O,X.state.loading=5),Nt.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Nt.set(u,x),O||Xv(M,u,x,X.state))),f&&A===null)throw Error(i(528,""));return X}if(f&&A!==null)throw Error(i(529,""));return null;case"script":return f=x.async,x=x.src,typeof x=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=jc(x),x=$r(M).hoistableScripts,A=x.get(f),A||(A={type:"script",instance:null,count:0,state:null},x.set(f,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function Nc(u){return'href="'+fn(u)+'"'}function Yh(u){return'link[rel="stylesheet"]['+u+"]"}function Jv(u){return k({},u,{"data-precedence":u.precedence,precedence:null})}function Xv(u,f,x,A){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?A.loading=1:(f=u.createElement("link"),A.preload=f,f.addEventListener("load",function(){return A.loading|=1}),f.addEventListener("error",function(){return A.loading|=2}),rs(f,"link",x),Hr(f),u.head.appendChild(f))}function jc(u){return'[src="'+fn(u)+'"]'}function Wh(u){return"script[async]"+u}function zy(u,f,x){if(f.count++,f.instance===null)switch(f.type){case"style":var A=u.querySelector('style[data-href~="'+fn(x.href)+'"]');if(A)return f.instance=A,Hr(A),A;var M=k({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return A=(u.ownerDocument||u).createElement("style"),Hr(A),rs(A,"style",M),Qp(A,x.precedence,u),f.instance=A;case"stylesheet":M=Nc(x.href);var O=u.querySelector(Yh(M));if(O)return f.state.loading|=4,f.instance=O,Hr(O),O;A=Jv(x),(M=Nt.get(M))&&Fy(A,M),O=(u.ownerDocument||u).createElement("link"),Hr(O);var X=O;return X._p=new Promise(function(ie,ye){X.onload=ie,X.onerror=ye}),rs(O,"link",A),f.state.loading|=4,Qp(O,x.precedence,u),f.instance=O;case"script":return O=jc(x.src),(M=u.querySelector(Wh(O)))?(f.instance=M,Hr(M),M):(A=x,(M=Nt.get(O))&&(A=k({},x),Vy(A,M)),u=u.ownerDocument||u,M=u.createElement("script"),Hr(M),rs(M,"link",A),u.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(A=f.instance,f.state.loading|=4,Qp(A,x.precedence,u));return f.instance}function Qp(u,f,x){for(var A=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=A.length?A[A.length-1]:null,O=M,X=0;X<A.length;X++){var ie=A[X];if(ie.dataset.precedence===f)O=ie;else if(O!==M)break}O?O.parentNode.insertBefore(u,O.nextSibling):(f=x.nodeType===9?x.head:x,f.insertBefore(u,f.firstChild))}function Fy(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function Vy(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Sc=null;function Zv(u,f,x){if(Sc===null){var A=new Map,M=Sc=new Map;M.set(x,A)}else M=Sc,A=M.get(x),A||(A=new Map,M.set(x,A));if(A.has(u))return A;for(A.set(u,null),x=x.getElementsByTagName(u),M=0;M<x.length;M++){var O=x[M];if(!(O[gi]||O[Kr]||u==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var X=O.getAttribute(f)||"";X=u+X;var ie=A.get(X);ie?ie.push(O):A.set(X,[O])}}return A}function $v(u,f,x){u=u.ownerDocument||u,u.head.insertBefore(x,f==="title"?u.querySelector("head > title"):null)}function N1(u,f,x){if(x===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function Uy(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Kh=null;function j1(){}function e0(u,f,x){if(Kh===null)throw Error(i(475));var A=Kh;if(f.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var M=Nc(x.href),O=u.querySelector(Yh(M));if(O){u=O._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(A.count++,A=Qh.bind(A),u.then(A,A)),f.state.loading|=4,f.instance=O,Hr(O);return}O=u.ownerDocument||u,x=Jv(x),(M=Nt.get(M))&&Fy(x,M),O=O.createElement("link"),Hr(O);var X=O;X._p=new Promise(function(ie,ye){X.onload=ie,X.onerror=ye}),rs(O,"link",x),f.instance=O}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(A.count++,f=Qh.bind(A),u.addEventListener("load",f),u.addEventListener("error",f))}}function t0(){if(Kh===null)throw Error(i(475));var u=Kh;return u.stylesheets&&u.count===0&&Gy(u,u.stylesheets),0<u.count?function(f){var x=setTimeout(function(){if(u.stylesheets&&Gy(u,u.stylesheets),u.unsuspend){var A=u.unsuspend;u.unsuspend=null,A()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(x)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Gy(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Jh=null;function Gy(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Jh=new Map,f.forEach(r0,u),Jh=null,Qh.call(u))}function r0(u,f){if(!(f.state.loading&4)){var x=Jh.get(u);if(x)var A=x.get(null);else{x=new Map,Jh.set(u,x);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<M.length;O++){var X=M[O];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(x.set(X.dataset.precedence,X),A=X)}A&&x.set(null,A)}M=f.instance,X=M.getAttribute("data-precedence"),O=x.get(X)||A,O===A&&x.set(null,M),x.set(X,M),this.count++,A=Qh.bind(this),M.addEventListener("load",A),M.addEventListener("error",A),O?O.parentNode.insertBefore(M,O.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),f.state.loading|=4}}var Xh={$$typeof:G,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function S1(u,f,x,A,M,O,X,ie){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=A,this.onUncaughtError=M,this.onCaughtError=O,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function n0(u,f,x,A,M,O,X,ie,ye,Ae,Be,Ue){return u=new S1(u,f,x,X,ie,ye,Ae,Ue),f=1,O===!0&&(f|=24),O=us(3,null,null,f),u.current=O,O.stateNode=u,f=Nd(),f.refCount++,u.pooledCache=f,f.refCount++,O.memoizedState={element:A,isDehydrated:x,cache:f},up(O),u}function Hy(u){return u?(u=_d,u):_d}function s0(u,f,x,A,M,O){M=Hy(M),A.context===null?A.context=M:A.pendingContext=M,A=$o(f),A.payload={element:x},O=O===void 0?null:O,O!==null&&(A.callback=O),x=oa(u,A,f),x!==null&&(Bs(x,u,f),fh(x,u,f))}function o0(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<f?x:f}}function Jp(u,f){o0(u,f),(u=u.alternate)&&o0(u,f)}function i0(u){if(u.tag===13){var f=rc(u,67108864);f!==null&&Bs(f,u,67108864),Jp(u,67108864)}}var wa=!0;function E1(u,f,x,A){var M=se.T;se.T=null;var O=oe.p;try{oe.p=2,qy(u,f,x,A)}finally{oe.p=O,se.T=M}}function ka(u,f,x,A){var M=se.T;se.T=null;var O=oe.p;try{oe.p=8,qy(u,f,x,A)}finally{oe.p=O,se.T=M}}function qy(u,f,x,A){if(wa){var M=Xp(A);if(M===null)Ry(u,f,A,Zh,x),c0(u,A);else if(D1(M,u,f,x,A))A.stopPropagation();else if(c0(u,A),f&4&&-1<l0.indexOf(u)){for(;M!==null;){var O=yi(M);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var X=Pr(O.pendingLanes);if(X!==0){var ie=O;for(ie.pendingLanes|=2,ie.entangledLanes|=2;X;){var ye=1<<31-ut(X);ie.entanglements[1]|=ye,X&=~ye}jo(O),(vr&6)===0&&(Ih=ot()+500,eu(0))}}break;case 13:ie=rc(O,2),ie!==null&&Bs(ie,O,2),Qd(),Jp(O,2)}if(O=Xp(A),O===null&&Ry(u,f,A,Zh,x),O===M)break;M=O}M!==null&&A.stopPropagation()}else Ry(u,f,A,null,x)}}function Xp(u){return u=Jn(u),Ec(u)}var Zh=null;function Ec(u){if(Zh=null,u=qi(u),u!==null){var f=h(u);if(f===null)u=null;else{var x=f.tag;if(x===13){if(u=m(f),u!==null)return u;u=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Zh=u,null}function a0(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case Lr:return 2;case Js:return 8;case hn:case zr:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var Zp=!1,Cl=null,Ca=null,_a=null,Dc=new Map,iu=new Map,Aa=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c0(u,f){switch(u){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Dc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(f.pointerId)}}function au(u,f,x,A,M,O){return u===null||u.nativeEvent!==O?(u={blockedOn:f,domEventName:x,eventSystemFlags:A,nativeEvent:O,targetContainers:[M]},f!==null&&(f=yi(f),f!==null&&i0(f)),u):(u.eventSystemFlags|=A,f=u.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),u)}function D1(u,f,x,A,M){switch(f){case"focusin":return Cl=au(Cl,u,f,x,A,M),!0;case"dragenter":return Ca=au(Ca,u,f,x,A,M),!0;case"mouseover":return _a=au(_a,u,f,x,A,M),!0;case"pointerover":var O=M.pointerId;return Dc.set(O,au(Dc.get(O)||null,u,f,x,A,M)),!0;case"gotpointercapture":return O=M.pointerId,iu.set(O,au(iu.get(O)||null,u,f,x,A,M)),!0}return!1}function d0(u){var f=qi(u.target);if(f!==null){var x=h(f);if(x!==null){if(f=x.tag,f===13){if(f=m(x),f!==null){u.blockedOn=f,Gm(u.priority,function(){if(x.tag===13){var A=Os();A=Ga(A);var M=rc(x,A);M!==null&&Bs(M,x,A),Jp(x,A)}});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function $p(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var x=Xp(u.nativeEvent);if(x===null){x=u.nativeEvent;var A=new x.constructor(x.type,x);Ho=A,x.target.dispatchEvent(A),Ho=null}else return f=yi(x),f!==null&&i0(f),u.blockedOn=x,!1;f.shift()}return!0}function u0(u,f,x){$p(u)&&x.delete(f)}function M1(){Zp=!1,Cl!==null&&$p(Cl)&&(Cl=null),Ca!==null&&$p(Ca)&&(Ca=null),_a!==null&&$p(_a)&&(_a=null),Dc.forEach(u0),iu.forEach(u0)}function ef(u,f){u.blockedOn===f&&(u.blockedOn=null,Zp||(Zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,M1)))}var tf=null;function rf(u){tf!==u&&(tf=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tf===u&&(tf=null);for(var f=0;f<u.length;f+=3){var x=u[f],A=u[f+1],M=u[f+2];if(typeof A!="function"){if(Ec(A||x)===null)continue;break}var O=yi(x);O!==null&&(u.splice(f,3),f-=3,Gg(O,{pending:!0,data:M,method:x.method,action:A},A,M))}}))}function $h(u){function f(ye){return ef(ye,u)}Cl!==null&&ef(Cl,u),Ca!==null&&ef(Ca,u),_a!==null&&ef(_a,u),Dc.forEach(f),iu.forEach(f);for(var x=0;x<Aa.length;x++){var A=Aa[x];A.blockedOn===u&&(A.blockedOn=null)}for(;0<Aa.length&&(x=Aa[0],x.blockedOn===null);)d0(x),x.blockedOn===null&&Aa.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(A=0;A<x.length;A+=3){var M=x[A],O=x[A+1],X=M[pn]||null;if(typeof O=="function")X||rf(x);else if(X){var ie=null;if(O&&O.hasAttribute("formAction")){if(M=O,X=O[pn]||null)ie=X.formAction;else if(Ec(M)!==null)continue}else ie=X.action;typeof ie=="function"?x[A+1]=ie:(x.splice(A,3),A-=3),rf(x)}}}function em(u){this._internalRoot=u}Ti.prototype.render=em.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(i(409));var x=f.current,A=Os();s0(x,A,u,f,null,null)},Ti.prototype.unmount=em.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;s0(u.current,2,null,u,null,null),Qd(),f[po]=null}};function Ti(u){this._internalRoot=u}Ti.prototype.unstable_scheduleHydration=function(u){if(u){var f=mn();u={blockedOn:null,target:u,priority:f};for(var x=0;x<Aa.length&&f!==0&&f<Aa[x].priority;x++);Aa.splice(x,0,u),x===0&&d0(u)}};var h0=t.version;if(h0!=="19.1.0")throw Error(i(527,h0,"19.1.0"));oe.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=y(f),u=u!==null?w(u):null,u=u===null?null:u.stateNode,u};var T1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Yt=Mc.inject(T1),Et=Mc}catch{}}return Xy.createRoot=function(u,f){if(!l(u))throw Error(i(299));var x=!1,A="",M=gl,O=av,X=Ap,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(X=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ie=f.unstable_transitionCallbacks)),f=n0(u,1,!1,null,null,x,A,M,O,X,ie,null),u[po]=f.current,Iy(u),new em(f)},Xy.hydrateRoot=function(u,f,x){if(!l(u))throw Error(i(299));var A=!1,M="",O=gl,X=av,ie=Ap,ye=null,Ae=null;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onUncaughtError!==void 0&&(O=x.onUncaughtError),x.onCaughtError!==void 0&&(X=x.onCaughtError),x.onRecoverableError!==void 0&&(ie=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(ye=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ae=x.formState)),f=n0(u,1,!0,f,x??null,A,M,O,X,ie,ye,Ae),f.context=Hy(null),x=f.current,A=Os(),A=Ga(A),M=$o(A),M.callback=null,oa(x,M,A),x=A,f.current.lanes=x,Uo(f,x),jo(f),u[po]=f.current,Iy(u),new Ti(f)},Xy.version="19.1.0",Xy}var j5;function eF(){if(j5)return TC.exports;j5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),TC.exports=$z(),TC.exports}var tF=eF();const rF=ik(tF),nF="modulepreload",sF=function(n){return"/"+n},S5={},E5=function(t,o,i){let l=Promise.resolve();if(o&&o.length>0){let m=function(w){return Promise.all(w.map(k=>Promise.resolve(k).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));l=m(o.map(w=>{if(w=sF(w),w in S5)return;S5[w]=!0;const k=w.endsWith(".css"),_=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${_}`))return;const N=document.createElement("link");if(N.rel=k?"stylesheet":nF,k||(N.as="script"),N.crossOrigin="",N.href=w,y&&N.setAttribute("nonce",y),document.head.appendChild(N),k)return new Promise((D,T)=>{N.addEventListener("load",D),N.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${w}`)))})}))}function h(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return l.then(m=>{for(const g of m||[])g.status==="rejected"&&h(g.reason);return t().catch(h)})};var Zy={},D5;function oF(){if(D5)return Zy;D5=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.parse=m,Zy.serialize=w;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function m(N,D){const T=new h,R=N.length;if(R<2)return T;const P=(D==null?void 0:D.decode)||k;let F=0;do{const V=N.indexOf("=",F);if(V===-1)break;const G=N.indexOf(";",F),Y=G===-1?R:G;if(V>Y){F=N.lastIndexOf(";",V-1)+1;continue}const ee=g(N,F,V),le=y(N,V,ee),J=N.slice(ee,le);if(T[J]===void 0){let B=g(N,V+1,Y),W=y(N,Y,B);const Z=P(N.slice(B,W));T[J]=Z}F=Y+1}while(F<R);return T}function g(N,D,T){do{const R=N.charCodeAt(D);if(R!==32&&R!==9)return D}while(++D<T);return T}function y(N,D,T){for(;D>T;){const R=N.charCodeAt(--D);if(R!==32&&R!==9)return D+1}return T}function w(N,D,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(N))throw new TypeError(`argument name is invalid: ${N}`);const P=R(D);if(!t.test(P))throw new TypeError(`argument val is invalid: ${D}`);let F=N+"="+P;if(!T)return F;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);F+="; Max-Age="+T.maxAge}if(T.domain){if(!o.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);F+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);F+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);F+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(F+="; HttpOnly"),T.secure&&(F+="; Secure"),T.partitioned&&(F+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return F}function k(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function _(N){return l.call(N)==="[object Date]"}return Zy}oF();var M5="popstate";function iF(n={}){function t(i,l){let{pathname:h,search:m,hash:g}=i.location;return S_("",{pathname:h,search:m,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(i,l){return typeof l=="string"?l:jb(l)}return lF(t,o,null,n)}function Xr(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function zi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aF(){return Math.random().toString(36).substring(2,10)}function T5(n,t){return{usr:n.state,key:n.key,idx:t}}function S_(n,t,o=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?zf(t):t,state:o,key:t&&t.key||i||aF()}}function jb({pathname:n="/",search:t="",hash:o=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function zf(n){let t={};if(n){let o=n.indexOf("#");o>=0&&(t.hash=n.substring(o),n=n.substring(0,o));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function lF(n,t,o,i={}){let{window:l=document.defaultView,v5Compat:h=!1}=i,m=l.history,g="POP",y=null,w=k();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function k(){return(m.state||{idx:null}).idx}function _(){g="POP";let P=k(),F=P==null?null:P-w;w=P,y&&y({action:g,location:R.location,delta:F})}function N(P,F){g="PUSH";let V=S_(R.location,P,F);w=k()+1;let G=T5(V,w),Y=R.createHref(V);try{m.pushState(G,"",Y)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;l.location.assign(Y)}h&&y&&y({action:g,location:R.location,delta:1})}function D(P,F){g="REPLACE";let V=S_(R.location,P,F);w=k();let G=T5(V,w),Y=R.createHref(V);m.replaceState(G,"",Y),h&&y&&y({action:g,location:R.location,delta:0})}function T(P){return cF(P)}let R={get action(){return g},get location(){return n(l,m)},listen(P){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(M5,_),y=P,()=>{l.removeEventListener(M5,_),y=null}},createHref(P){return t(l,P)},createURL:T,encodeLocation(P){let F=T(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:N,replace:D,go(P){return m.go(P)}};return R}function cF(n,t=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Xr(o,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:jb(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=o+i),new URL(i,o)}function AI(n,t,o="/"){return dF(n,t,o,!1)}function dF(n,t,o,i){let l=typeof t=="string"?zf(t):t,h=Kc(l.pathname||"/",o);if(h==null)return null;let m=NI(n);uF(m);let g=null;for(let y=0;g==null&&y<m.length;++y){let w=kF(h);g=vF(m[y],w,i)}return g}function NI(n,t=[],o=[],i=""){let l=(h,m,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};y.relativePath.startsWith("/")&&(Xr(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length));let w=Uc([i,y.relativePath]),k=o.concat(y);h.children&&h.children.length>0&&(Xr(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),NI(h.children,t,k,w)),!(h.path==null&&!h.index)&&t.push({path:w,score:bF(w,h.index),routesMeta:k})};return n.forEach((h,m)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))l(h,m);else for(let y of jI(h.path))l(h,m,y)}),t}function jI(n){let t=n.split("/");if(t.length===0)return[];let[o,...i]=t,l=o.endsWith("?"),h=o.replace(/\?$/,"");if(i.length===0)return l?[h,""]:[h];let m=jI(i.join("/")),g=[];return g.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&g.push(...m),g.map(y=>n.startsWith("/")&&y===""?"/":y)}function uF(n){n.sort((t,o)=>t.score!==o.score?o.score-t.score:xF(t.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}var hF=/^:[\w-]+$/,mF=3,pF=2,fF=1,gF=10,yF=-2,I5=n=>n==="*";function bF(n,t){let o=n.split("/"),i=o.length;return o.some(I5)&&(i+=yF),t&&(i+=pF),o.filter(l=>!I5(l)).reduce((l,h)=>l+(hF.test(h)?mF:h===""?fF:gF),i)}function xF(n,t){return n.length===t.length&&n.slice(0,-1).every((i,l)=>i===t[l])?n[n.length-1]-t[t.length-1]:0}function vF(n,t,o=!1){let{routesMeta:i}=n,l={},h="/",m=[];for(let g=0;g<i.length;++g){let y=i[g],w=g===i.length-1,k=h==="/"?t:t.slice(h.length)||"/",_=Cw({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},k),N=y.route;if(!_&&w&&o&&!i[i.length-1].route.index&&(_=Cw({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},k)),!_)return null;Object.assign(l,_.params),m.push({params:l,pathname:Uc([h,_.pathname]),pathnameBase:NF(Uc([h,_.pathnameBase])),route:N}),_.pathnameBase!=="/"&&(h=Uc([h,_.pathnameBase]))}return m}function Cw(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,i]=wF(n.path,n.caseSensitive,n.end),l=t.match(o);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((w,{paramName:k,isOptional:_},N)=>{if(k==="*"){let T=g[N]||"";m=h.slice(0,h.length-T.length).replace(/(.)\/+$/,"$1")}const D=g[N];return _&&!D?w[k]=void 0:w[k]=(D||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:m,pattern:n}}function wF(n,t=!1,o=!0){zi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,y)=>(i.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function kF(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Kc(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,i=n.charAt(o);return i&&i!=="/"?null:n.slice(o)||"/"}function CF(n,t="/"){let{pathname:o,search:i="",hash:l=""}=typeof n=="string"?zf(n):n;return{pathname:o?o.startsWith("/")?o:_F(o,t):t,search:jF(i),hash:SF(l)}}function _F(n,t){let o=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function OC(n,t,o,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AF(n){return n.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function BA(n){let t=AF(n);return t.map((o,i)=>i===t.length-1?o.pathname:o.pathnameBase)}function LA(n,t,o,i=!1){let l;typeof n=="string"?l=zf(n):(l={...n},Xr(!l.pathname||!l.pathname.includes("?"),OC("?","pathname","search",l)),Xr(!l.pathname||!l.pathname.includes("#"),OC("#","pathname","hash",l)),Xr(!l.search||!l.search.includes("#"),OC("#","search","hash",l)));let h=n===""||l.pathname==="",m=h?"/":l.pathname,g;if(m==null)g=o;else{let _=t.length-1;if(!i&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),_-=1;l.pathname=N.join("/")}g=_>=0?t[_]:"/"}let y=CF(l,g),w=m&&m!=="/"&&m.endsWith("/"),k=(h||m===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(w||k)&&(y.pathname+="/"),y}var Uc=n=>n.join("/").replace(/\/\/+/g,"/"),NF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var SI=["POST","PUT","PATCH","DELETE"];new Set(SI);var DF=["GET",...SI];new Set(DF);var Ff=z.createContext(null);Ff.displayName="DataRouter";var ak=z.createContext(null);ak.displayName="DataRouterState";var EI=z.createContext({isTransitioning:!1});EI.displayName="ViewTransition";var MF=z.createContext(new Map);MF.displayName="Fetchers";var TF=z.createContext(null);TF.displayName="Await";var za=z.createContext(null);za.displayName="Navigation";var Xb=z.createContext(null);Xb.displayName="Location";var Ui=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var zA=z.createContext(null);zA.displayName="RouteError";function IF(n,{relative:t}={}){Xr(Vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:i}=z.useContext(za),{hash:l,pathname:h,search:m}=Zb(n,{relative:t}),g=h;return o!=="/"&&(g=h==="/"?o:Uc([o,h])),i.createHref({pathname:g,search:m,hash:l})}function Vf(){return z.useContext(Xb)!=null}function ho(){return Xr(Vf(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Xb).location}var DI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MI(n){z.useContext(za).static||z.useLayoutEffect(n)}function as(){let{isDataRoute:n}=z.useContext(Ui);return n?KF():RF()}function RF(){Xr(Vf(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Ff),{basename:t,navigator:o}=z.useContext(za),{matches:i}=z.useContext(Ui),{pathname:l}=ho(),h=JSON.stringify(BA(i)),m=z.useRef(!1);return MI(()=>{m.current=!0}),z.useCallback((y,w={})=>{if(zi(m.current,DI),!m.current)return;if(typeof y=="number"){o.go(y);return}let k=LA(y,JSON.parse(h),l,w.relative==="path");n==null&&t!=="/"&&(k.pathname=k.pathname==="/"?t:Uc([t,k.pathname])),(w.replace?o.replace:o.push)(k,w.state,w)},[t,o,h,l,n])}var PF=z.createContext(null);function OF(n){let t=z.useContext(Ui).outlet;return t&&z.createElement(PF.Provider,{value:n},t)}function Uf(){let{matches:n}=z.useContext(Ui),t=n[n.length-1];return t?t.params:{}}function Zb(n,{relative:t}={}){let{matches:o}=z.useContext(Ui),{pathname:i}=ho(),l=JSON.stringify(BA(o));return z.useMemo(()=>LA(n,JSON.parse(l),i,t==="path"),[n,l,i,t])}function BF(n,t){return TI(n,t)}function TI(n,t,o,i){var F;Xr(Vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(za),{matches:h}=z.useContext(Ui),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",w=m?m.pathnameBase:"/",k=m&&m.route;{let V=k&&k.path||"";II(y,!k||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=ho(),N;if(t){let V=typeof t=="string"?zf(t):t;Xr(w==="/"||((F=V.pathname)==null?void 0:F.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${V.pathname}" was given in the \`location\` prop.`),N=V}else N=_;let D=N.pathname||"/",T=D;if(w!=="/"){let V=w.replace(/^\//,"").split("/");T="/"+D.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=AI(n,{pathname:T});zi(k||R!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),zi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=UF(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:Uc([w,l.encodeLocation?l.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?w:Uc([w,l.encodeLocation?l.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),h,o,i);return t&&P?z.createElement(Xb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},P):P}function LF(){let n=WF(),t=EF(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},h={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:h},"ErrorBoundary")," or"," ",z.createElement("code",{style:h},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),o?z.createElement("pre",{style:l},o):null,m)}var zF=z.createElement(LF,null),FF=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?z.createElement(Ui.Provider,{value:this.props.routeContext},z.createElement(zA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VF({routeContext:n,match:t,children:o}){let i=z.useContext(Ff);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Ui.Provider,{value:n},o)}function UF(n,t=[],o=null,i=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(t.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let l=n,h=o==null?void 0:o.errors;if(h!=null){let y=l.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);Xr(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let m=!1,g=-1;if(o)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:k,errors:_}=o,N=w.route.loader&&!k.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||N){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((y,w,k)=>{let _,N=!1,D=null,T=null;o&&(_=h&&w.route.id?h[w.route.id]:void 0,D=w.route.errorElement||zF,m&&(g<0&&k===0?(II("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,T=null):g===k&&(N=!0,T=w.route.hydrateFallbackElement||null)));let R=t.concat(l.slice(0,k+1)),P=()=>{let F;return _?F=D:N?F=T:w.route.Component?F=z.createElement(w.route.Component,null):w.route.element?F=w.route.element:F=y,z.createElement(VF,{match:w,routeContext:{outlet:y,matches:R,isDataRoute:o!=null},children:F})};return o&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?z.createElement(FF,{location:o.location,revalidation:o.revalidation,component:D,error:_,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):P()},null)}function FA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GF(n){let t=z.useContext(Ff);return Xr(t,FA(n)),t}function HF(n){let t=z.useContext(ak);return Xr(t,FA(n)),t}function qF(n){let t=z.useContext(Ui);return Xr(t,FA(n)),t}function VA(n){let t=qF(n),o=t.matches[t.matches.length-1];return Xr(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function YF(){return VA("useRouteId")}function WF(){var i;let n=z.useContext(zA),t=HF("useRouteError"),o=VA("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[o]}function KF(){let{router:n}=GF("useNavigate"),t=VA("useNavigate"),o=z.useRef(!1);return MI(()=>{o.current=!0}),z.useCallback(async(l,h={})=>{zi(o.current,DI),o.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:t,...h}))},[n,t])}var R5={};function II(n,t,o){!t&&!R5[n]&&(R5[n]=!0,zi(!1,o))}z.memo(QF);function QF({routes:n,future:t,state:o}){return TI(n,void 0,o,t)}function Es({to:n,replace:t,state:o,relative:i}){Xr(Vf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(za);zi(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=z.useContext(Ui),{pathname:m}=ho(),g=as(),y=LA(n,BA(h),m,i==="path"),w=JSON.stringify(y);return z.useEffect(()=>{g(JSON.parse(w),{replace:t,state:o,relative:i})},[g,w,i,t,o]),null}function UA(n){return OF(n.context)}function ht(n){Xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JF({basename:n="/",children:t=null,location:o,navigationType:i="POP",navigator:l,static:h=!1}){Xr(!Vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof o=="string"&&(o=zf(o));let{pathname:y="/",search:w="",hash:k="",state:_=null,key:N="default"}=o,D=z.useMemo(()=>{let T=Kc(y,m);return T==null?null:{location:{pathname:T,search:w,hash:k,state:_,key:N},navigationType:i}},[m,y,w,k,_,N,i]);return zi(D!=null,`<Router basename="${m}"> is not able to match the URL "${y}${w}${k}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(za.Provider,{value:g},z.createElement(Xb.Provider,{children:t,value:D}))}function XF({children:n,location:t}){return BF(E_(n),t)}function E_(n,t=[]){let o=[];return z.Children.forEach(n,(i,l)=>{if(!z.isValidElement(i))return;let h=[...t,l];if(i.type===z.Fragment){o.push.apply(o,E_(i.props.children,h));return}Xr(i.type===ht,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||h.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=E_(i.props.children,h)),o.push(m)}),o}var tw="get",rw="application/x-www-form-urlencoded";function lk(n){return n!=null&&typeof n.tagName=="string"}function ZF(n){return lk(n)&&n.tagName.toLowerCase()==="button"}function $F(n){return lk(n)&&n.tagName.toLowerCase()==="form"}function eV(n){return lk(n)&&n.tagName.toLowerCase()==="input"}function tV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rV(n,t){return n.button===0&&(!t||t==="_self")&&!tV(n)}function D_(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,o)=>{let i=n[o];return t.concat(Array.isArray(i)?i.map(l=>[o,l]):[[o,i]])},[]))}function nV(n,t){let o=D_(n);return t&&t.forEach((i,l)=>{o.has(l)||t.getAll(l).forEach(h=>{o.append(l,h)})}),o}var O0=null;function sV(){if(O0===null)try{new FormData(document.createElement("form"),0),O0=!1}catch{O0=!0}return O0}var oV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BC(n){return n!=null&&!oV.has(n)?(zi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rw}"`),null):n}function iV(n,t){let o,i,l,h,m;if($F(n)){let g=n.getAttribute("action");i=g?Kc(g,t):null,o=n.getAttribute("method")||tw,l=BC(n.getAttribute("enctype"))||rw,h=new FormData(n)}else if(ZF(n)||eV(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||g.getAttribute("action");if(i=y?Kc(y,t):null,o=n.getAttribute("formmethod")||g.getAttribute("method")||tw,l=BC(n.getAttribute("formenctype"))||BC(g.getAttribute("enctype"))||rw,h=new FormData(g,n),!sV()){let{name:w,type:k,value:_}=n;if(k==="image"){let N=w?`${w}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else w&&h.append(w,_)}}else{if(lk(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=tw,i=null,l=rw,m=n}return h&&l==="text/plain"&&(m=h,h=void 0),{action:i,method:o.toLowerCase(),encType:l,formData:h,body:m}}function GA(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function aV(n,t){if(n.id in t)return t[n.id];try{let o=await import(n.module);return t[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cV(n,t,o){let i=await Promise.all(n.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await aV(h,o);return m.links?m.links():[]}return[]}));return mV(i.flat(1).filter(lV).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function P5(n,t,o,i,l,h){let m=(y,w)=>o[w]?y.route.id!==o[w].route.id:!0,g=(y,w)=>{var k;return o[w].pathname!==y.pathname||((k=o[w].route.path)==null?void 0:k.endsWith("*"))&&o[w].params["*"]!==y.params["*"]};return h==="assets"?t.filter((y,w)=>m(y,w)||g(y,w)):h==="data"?t.filter((y,w)=>{var _;let k=i.routes[y.route.id];if(!k||!k.hasLoader)return!1;if(m(y,w)||g(y,w))return!0;if(y.route.shouldRevalidate){let N=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=o[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function dV(n,t,{includeHydrateFallback:o}={}){return uV(n.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function uV(n){return[...new Set(n)]}function hV(n){let t={},o=Object.keys(n).sort();for(let i of o)t[i]=n[i];return t}function mV(n,t){let o=new Set;return new Set(t),n.reduce((i,l)=>{let h=JSON.stringify(hV(l));return o.has(h)||(o.add(h),i.push({key:h,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pV=new Set([100,101,204,205]);function fV(n,t){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname="_root.data":t&&Kc(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.data`:o.pathname=`${o.pathname.replace(/\/$/,"")}.data`,o}function RI(){let n=z.useContext(Ff);return GA(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gV(){let n=z.useContext(ak);return GA(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var HA=z.createContext(void 0);HA.displayName="FrameworkContext";function PI(){let n=z.useContext(HA);return GA(n,"You must render this element inside a <HydratedRouter> element"),n}function yV(n,t){let o=z.useContext(HA),[i,l]=z.useState(!1),[h,m]=z.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:w,onMouseLeave:k,onTouchStart:_}=t,N=z.useRef(null);z.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let R=F=>{F.forEach(V=>{m(V.isIntersecting)})},P=new IntersectionObserver(R,{threshold:.5});return N.current&&P.observe(N.current),()=>{P.disconnect()}}},[n]),z.useEffect(()=>{if(i){let R=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(R)}}},[i]);let D=()=>{l(!0)},T=()=>{l(!1),m(!1)};return o?n!=="intent"?[h,N,{}]:[h,N,{onFocus:$y(g,D),onBlur:$y(y,T),onMouseEnter:$y(w,D),onMouseLeave:$y(k,T),onTouchStart:$y(_,D)}]:[!1,N,{}]}function $y(n,t){return o=>{n&&n(o),o.defaultPrevented||t(o)}}function bV({page:n,...t}){let{router:o}=RI(),i=z.useMemo(()=>AI(o.routes,n,o.basename),[o.routes,n,o.basename]);return i?z.createElement(vV,{page:n,matches:i,...t}):null}function xV(n){let{manifest:t,routeModules:o}=PI(),[i,l]=z.useState([]);return z.useEffect(()=>{let h=!1;return cV(n,t,o).then(m=>{h||l(m)}),()=>{h=!0}},[n,t,o]),i}function vV({page:n,matches:t,...o}){let i=ho(),{manifest:l,routeModules:h}=PI(),{basename:m}=RI(),{loaderData:g,matches:y}=gV(),w=z.useMemo(()=>P5(n,t,y,l,i,"data"),[n,t,y,l,i]),k=z.useMemo(()=>P5(n,t,y,l,i,"assets"),[n,t,y,l,i]),_=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,R=!1;if(t.forEach(F=>{var G;let V=l.routes[F.route.id];!V||!V.hasLoader||(!w.some(Y=>Y.route.id===F.route.id)&&F.route.id in g&&((G=h[F.route.id])!=null&&G.shouldRevalidate)||V.hasClientLoader?R=!0:T.add(F.route.id))}),T.size===0)return[];let P=fV(n,m);return R&&T.size>0&&P.searchParams.set("_routes",t.filter(F=>T.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[m,g,i,l,w,t,n,h]),N=z.useMemo(()=>dV(k,l),[k,l]),D=xV(k);return z.createElement(z.Fragment,null,_.map(T=>z.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...o})),N.map(T=>z.createElement("link",{key:T,rel:"modulepreload",href:T,...o})),D.map(({key:T,link:R})=>z.createElement("link",{key:T,...R})))}function wV(...n){return t=>{n.forEach(o=>{typeof o=="function"?o(t):o!=null&&(o.current=t)})}}var OI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OI&&(window.__reactRouterVersion="7.6.3")}catch{}function kV({basename:n,children:t,window:o}){let i=z.useRef();i.current==null&&(i.current=iF({window:o,v5Compat:!0}));let l=i.current,[h,m]=z.useState({action:l.action,location:l.location}),g=z.useCallback(y=>{z.startTransition(()=>m(y))},[m]);return z.useLayoutEffect(()=>l.listen(g),[l,g]),z.createElement(JF,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:l})}var BI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=z.forwardRef(function({onClick:t,discover:o="render",prefetch:i="none",relative:l,reloadDocument:h,replace:m,state:g,target:y,to:w,preventScrollReset:k,viewTransition:_,...N},D){let{basename:T}=z.useContext(za),R=typeof w=="string"&&BI.test(w),P,F=!1;if(typeof w=="string"&&R&&(P=w,OI))try{let W=new URL(window.location.href),Z=w.startsWith("//")?new URL(W.protocol+w):new URL(w),de=Kc(Z.pathname,T);Z.origin===W.origin&&de!=null?w=de+Z.search+Z.hash:F=!0}catch{zi(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=IF(w,{relative:l}),[G,Y,ee]=yV(i,N),le=NV(w,{replace:m,state:g,target:y,preventScrollReset:k,relative:l,viewTransition:_});function J(W){t&&t(W),W.defaultPrevented||le(W)}let B=z.createElement("a",{...N,...ee,href:P||V,onClick:F||h?t:J,ref:wV(D,Y),target:y,"data-discover":!R&&o==="render"?"true":void 0});return G&&!R?z.createElement(z.Fragment,null,B,z.createElement(bV,{page:V})):B});nt.displayName="Link";var CV=z.forwardRef(function({"aria-current":t="page",caseSensitive:o=!1,className:i="",end:l=!1,style:h,to:m,viewTransition:g,children:y,...w},k){let _=Zb(m,{relative:w.relative}),N=ho(),D=z.useContext(ak),{navigator:T,basename:R}=z.useContext(za),P=D!=null&&TV(_)&&g===!0,F=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,V=N.pathname,G=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;o||(V=V.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&R&&(G=Kc(G,R)||G);const Y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ee=V===F||!l&&V.startsWith(F)&&V.charAt(Y)==="/",le=G!=null&&(G===F||!l&&G.startsWith(F)&&G.charAt(F.length)==="/"),J={isActive:ee,isPending:le,isTransitioning:P},B=ee?t:void 0,W;typeof i=="function"?W=i(J):W=[i,ee?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Z=typeof h=="function"?h(J):h;return z.createElement(nt,{...w,"aria-current":B,className:W,ref:k,style:Z,to:m,viewTransition:g},typeof y=="function"?y(J):y)});CV.displayName="NavLink";var _V=z.forwardRef(({discover:n="render",fetcherKey:t,navigate:o,reloadDocument:i,replace:l,state:h,method:m=tw,action:g,onSubmit:y,relative:w,preventScrollReset:k,viewTransition:_,...N},D)=>{let T=DV(),R=MV(g,{relative:w}),P=m.toLowerCase()==="get"?"get":"post",F=typeof g=="string"&&BI.test(g),V=G=>{if(y&&y(G),G.defaultPrevented)return;G.preventDefault();let Y=G.nativeEvent.submitter,ee=(Y==null?void 0:Y.getAttribute("formmethod"))||m;T(Y||G.currentTarget,{fetcherKey:t,method:ee,navigate:o,replace:l,state:h,relative:w,preventScrollReset:k,viewTransition:_})};return z.createElement("form",{ref:D,method:P,action:R,onSubmit:i?y:V,...N,"data-discover":!F&&n==="render"?"true":void 0})});_V.displayName="Form";function AV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LI(n){let t=z.useContext(Ff);return Xr(t,AV(n)),t}function NV(n,{target:t,replace:o,state:i,preventScrollReset:l,relative:h,viewTransition:m}={}){let g=as(),y=ho(),w=Zb(n,{relative:h});return z.useCallback(k=>{if(rV(k,t)){k.preventDefault();let _=o!==void 0?o:jb(y)===jb(w);g(n,{replace:_,state:i,preventScrollReset:l,relative:h,viewTransition:m})}},[y,g,w,o,i,t,n,l,h,m])}function jV(n){zi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=z.useRef(D_(n)),o=z.useRef(!1),i=ho(),l=z.useMemo(()=>nV(i.search,o.current?null:t.current),[i.search]),h=as(),m=z.useCallback((g,y)=>{const w=D_(typeof g=="function"?g(l):g);o.current=!0,h("?"+w,y)},[h,l]);return[l,m]}var SV=0,EV=()=>`__${String(++SV)}__`;function DV(){let{router:n}=LI("useSubmit"),{basename:t}=z.useContext(za),o=YF();return z.useCallback(async(i,l={})=>{let{action:h,method:m,encType:g,formData:y,body:w}=iV(i,t);if(l.navigate===!1){let k=l.fetcherKey||EV();await n.fetch(k,o,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||m,formEncType:l.encType||g,flushSync:l.flushSync})}else await n.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||m,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:o,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,t,o])}function MV(n,{relative:t}={}){let{basename:o}=z.useContext(za),i=z.useContext(Ui);Xr(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),h={...Zb(n||".",{relative:t})},m=ho();if(n==null){h.search=m.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(k=>k==="")){g.delete("index"),y.filter(_=>_).forEach(_=>g.append("index",_));let k=g.toString();h.search=k?`?${k}`:""}}return(!n||n===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(h.pathname=h.pathname==="/"?o:Uc([o,h.pathname])),jb(h)}function TV(n,t={}){let o=z.useContext(EI);Xr(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LI("useViewTransitionState"),l=Zb(n,{relative:t.relative});if(!o.isTransitioning)return!1;let h=Kc(o.currentLocation.pathname,i)||o.currentLocation.pathname,m=Kc(o.nextLocation.pathname,i)||o.nextLocation.pathname;return Cw(l.pathname,m)!=null||Cw(l.pathname,h)!=null}[...pV];let IV={data:""},RV=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||IV,PV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OV=/\/\*[^]*?\*\/|  +/g,O5=/\n+/g,pu=(n,t)=>{let o="",i="",l="";for(let h in n){let m=n[h];h[0]=="@"?h[1]=="i"?o=h+" "+m+";":i+=h[1]=="f"?pu(m,h):h+"{"+pu(m,h[1]=="k"?"":t)+"}":typeof m=="object"?i+=pu(m,t?t.replace(/([^,])+/g,g=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,g):g?g+" "+y:y)):h):m!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=pu.p?pu.p(h,m):h+":"+m+";")}return o+(t&&l?t+"{"+l+"}":l)+i},Oc={},zI=n=>{if(typeof n=="object"){let t="";for(let o in n)t+=o+zI(n[o]);return t}return n},BV=(n,t,o,i,l)=>{let h=zI(n),m=Oc[h]||(Oc[h]=(y=>{let w=0,k=11;for(;w<y.length;)k=101*k+y.charCodeAt(w++)>>>0;return"go"+k})(h));if(!Oc[m]){let y=h!==n?n:(w=>{let k,_,N=[{}];for(;k=PV.exec(w.replace(OV,""));)k[4]?N.shift():k[3]?(_=k[3].replace(O5," ").trim(),N.unshift(N[0][_]=N[0][_]||{})):N[0][k[1]]=k[2].replace(O5," ").trim();return N[0]})(n);Oc[m]=pu(l?{["@keyframes "+m]:y}:y,o?"":"."+m)}let g=o&&Oc.g?Oc.g:null;return o&&(Oc.g=Oc[m]),((y,w,k,_)=>{_?w.data=w.data.replace(_,y):w.data.indexOf(y)===-1&&(w.data=k?y+w.data:w.data+y)})(Oc[m],t,i,g),m},LV=(n,t,o)=>n.reduce((i,l,h)=>{let m=t[h];if(m&&m.call){let g=m(o),y=g&&g.props&&g.props.className||/^go/.test(g)&&g;m=y?"."+y:g&&typeof g=="object"?g.props?"":pu(g,""):g===!1?"":g}return i+l+(m??"")},"");function ck(n){let t=this||{},o=n.call?n(t.p):n;return BV(o.unshift?o.raw?LV(o,[].slice.call(arguments,1),t.p):o.reduce((i,l)=>Object.assign(i,l&&l.call?l(t.p):l),{}):o,RV(t.target),t.g,t.o,t.k)}let FI,M_,T_;ck.bind({g:1});let Qc=ck.bind({k:1});function zV(n,t,o,i){pu.p=t,FI=n,M_=o,T_=i}function Pu(n,t){let o=this||{};return function(){let i=arguments;function l(h,m){let g=Object.assign({},h),y=g.className||l.className;o.p=Object.assign({theme:M_&&M_()},g),o.o=/ *go\d+/.test(y),g.className=ck.apply(o,i)+(y?" "+y:"");let w=n;return n[0]&&(w=g.as||n,delete g.as),T_&&w[0]&&T_(g),FI(w,g)}return l}}var FV=n=>typeof n=="function",_w=(n,t)=>FV(n)?n(t):n,VV=(()=>{let n=0;return()=>(++n).toString()})(),VI=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),UV=20,UI=(n,t)=>{switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,UV)};case 1:return{...n,toasts:n.toasts.map(h=>h.id===t.toast.id?{...h,...t.toast}:h)};case 2:let{toast:o}=t;return UI(n,{type:n.toasts.find(h=>h.id===o.id)?1:0,toast:o});case 3:let{toastId:i}=t;return{...n,toasts:n.toasts.map(h=>h.id===i||i===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(h=>h.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let l=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+l}))}}},nw=[],dm={toasts:[],pausedAt:void 0},Im=n=>{dm=UI(dm,n),nw.forEach(t=>{t(dm)})},GV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HV=(n={})=>{let[t,o]=z.useState(dm),i=z.useRef(dm);z.useEffect(()=>(i.current!==dm&&o(dm),nw.push(o),()=>{let h=nw.indexOf(o);h>-1&&nw.splice(h,1)}),[]);let l=t.toasts.map(h=>{var m,g,y;return{...n,...n[h.type],...h,removeDelay:h.removeDelay||((m=n[h.type])==null?void 0:m.removeDelay)||(n==null?void 0:n.removeDelay),duration:h.duration||((g=n[h.type])==null?void 0:g.duration)||(n==null?void 0:n.duration)||GV[h.type],style:{...n.style,...(y=n[h.type])==null?void 0:y.style,...h.style}}});return{...t,toasts:l}},qV=(n,t="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...o,id:(o==null?void 0:o.id)||VV()}),$b=n=>(t,o)=>{let i=qV(t,n,o);return Im({type:2,toast:i}),i.id},Zt=(n,t)=>$b("blank")(n,t);Zt.error=$b("error");Zt.success=$b("success");Zt.loading=$b("loading");Zt.custom=$b("custom");Zt.dismiss=n=>{Im({type:3,toastId:n})};Zt.remove=n=>Im({type:4,toastId:n});Zt.promise=(n,t,o)=>{let i=Zt.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof n=="function"&&(n=n()),n.then(l=>{let h=t.success?_w(t.success,l):void 0;return h?Zt.success(h,{id:i,...o,...o==null?void 0:o.success}):Zt.dismiss(i),l}).catch(l=>{let h=t.error?_w(t.error,l):void 0;h?Zt.error(h,{id:i,...o,...o==null?void 0:o.error}):Zt.dismiss(i)}),n};var YV=(n,t)=>{Im({type:1,toast:{id:n,height:t}})},WV=()=>{Im({type:5,time:Date.now()})},pb=new Map,KV=1e3,QV=(n,t=KV)=>{if(pb.has(n))return;let o=setTimeout(()=>{pb.delete(n),Im({type:4,toastId:n})},t);pb.set(n,o)},JV=n=>{let{toasts:t,pausedAt:o}=HV(n);z.useEffect(()=>{if(o)return;let h=Date.now(),m=t.map(g=>{if(g.duration===1/0)return;let y=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(y<0){g.visible&&Zt.dismiss(g.id);return}return setTimeout(()=>Zt.dismiss(g.id),y)});return()=>{m.forEach(g=>g&&clearTimeout(g))}},[t,o]);let i=z.useCallback(()=>{o&&Im({type:6,time:Date.now()})},[o]),l=z.useCallback((h,m)=>{let{reverseOrder:g=!1,gutter:y=8,defaultPosition:w}=m||{},k=t.filter(D=>(D.position||w)===(h.position||w)&&D.height),_=k.findIndex(D=>D.id===h.id),N=k.filter((D,T)=>T<_&&D.visible).length;return k.filter(D=>D.visible).slice(...g?[N+1]:[0,N]).reduce((D,T)=>D+(T.height||0)+y,0)},[t]);return z.useEffect(()=>{t.forEach(h=>{if(h.dismissed)QV(h.id,h.removeDelay);else{let m=pb.get(h.id);m&&(clearTimeout(m),pb.delete(h.id))}})},[t]),{toasts:t,handlers:{updateHeight:YV,startPause:WV,endPause:i,calculateOffset:l}}},XV=Qc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ZV=Qc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$V=Qc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eU=Pu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ZV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$V} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tU=Qc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rU=Pu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${tU} 1s linear infinite;
`,nU=Qc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sU=Qc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oU=Pu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iU=Pu("div")`
  position: absolute;
`,aU=Pu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lU=Qc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cU=Pu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dU=({toast:n})=>{let{icon:t,type:o,iconTheme:i}=n;return t!==void 0?typeof t=="string"?z.createElement(cU,null,t):t:o==="blank"?null:z.createElement(aU,null,z.createElement(rU,{...i}),o!=="loading"&&z.createElement(iU,null,o==="error"?z.createElement(eU,{...i}):z.createElement(oU,{...i})))},uU=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hU=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,mU="0%{opacity:0;} 100%{opacity:1;}",pU="0%{opacity:1;} 100%{opacity:0;}",fU=Pu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,gU=Pu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yU=(n,t)=>{let o=n.includes("top")?1:-1,[i,l]=VI()?[mU,pU]:[uU(o),hU(o)];return{animation:t?`${Qc(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qc(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bU=z.memo(({toast:n,position:t,style:o,children:i})=>{let l=n.height?yU(n.position||t||"top-center",n.visible):{opacity:0},h=z.createElement(dU,{toast:n}),m=z.createElement(gU,{...n.ariaProps},_w(n.message,n));return z.createElement(fU,{className:n.className,style:{...l,...o,...n.style}},typeof i=="function"?i({icon:h,message:m}):z.createElement(z.Fragment,null,h,m))});zV(z.createElement);var xU=({id:n,className:t,style:o,onHeightUpdate:i,children:l})=>{let h=z.useCallback(m=>{if(m){let g=()=>{let y=m.getBoundingClientRect().height;i(n,y)};g(),new MutationObserver(g).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return z.createElement("div",{ref:h,className:t,style:o},l)},vU=(n,t)=>{let o=n.includes("top"),i=o?{top:0}:{bottom:0},l=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:VI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(o?1:-1)}px)`,...i,...l}},wU=ck`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,B0=16,kU=({reverseOrder:n,position:t="top-center",toastOptions:o,gutter:i,children:l,containerStyle:h,containerClassName:m})=>{let{toasts:g,handlers:y}=JV(o);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:B0,left:B0,right:B0,bottom:B0,pointerEvents:"none",...h},className:m,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(w=>{let k=w.position||t,_=y.calculateOffset(w,{reverseOrder:n,gutter:i,defaultPosition:t}),N=vU(k,_);return z.createElement(xU,{id:w.id,key:w.id,onHeightUpdate:y.updateHeight,className:w.visible?wU:"",style:N},w.type==="custom"?_w(w.message,w):l?l(w):z.createElement(bU,{toast:w,position:k}))}))},ze=Zt;const B5=n=>{let t;const o=new Set,i=(w,k)=>{const _=typeof w=="function"?w(t):w;if(!Object.is(_,t)){const N=t;t=k??(typeof _!="object"||_===null)?_:Object.assign({},t,_),o.forEach(D=>D(t,N))}},l=()=>t,g={setState:i,getState:l,getInitialState:()=>y,subscribe:w=>(o.add(w),()=>o.delete(w))},y=t=n(i,l,g);return g},CU=n=>n?B5(n):B5,_U=n=>n;function AU(n,t=_U){const o=gt.useSyncExternalStore(n.subscribe,()=>t(n.getState()),()=>t(n.getInitialState()));return gt.useDebugValue(o),o}const L5=n=>{const t=CU(n),o=i=>AU(t,i);return Object.assign(o,t),o},un=n=>n?L5(n):L5,z5={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Sb=new Map,L0=n=>{const t=Sb.get(n);return t?Object.fromEntries(Object.entries(t.stores).map(([o,i])=>[o,i.getState()])):{}},NU=(n,t,o)=>{if(n===void 0)return{type:"untracked",connection:t.connect(o)};const i=Sb.get(o.name);if(i)return{type:"tracked",store:n,...i};const l={connection:t.connect(o),stores:{}};return Sb.set(o.name,l),{type:"tracked",store:n,...l}},jU=(n,t)=>{if(t===void 0)return;const o=Sb.get(n);o&&(delete o.stores[t],Object.keys(o.stores).length===0&&Sb.delete(n))},SU=n=>{var t,o;if(!n)return;const i=n.split(`
`),l=i.findIndex(m=>m.includes("api.setState"));if(l<0)return;const h=((t=i[l+1])==null?void 0:t.trim())||"";return(o=/.+ (.+) .+/.exec(h))==null?void 0:o[1]},EU=(n,t={})=>(o,i,l)=>{const{enabled:h,anonymousActionType:m,store:g,...y}=t;let w;try{w=(h??(z5?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!w)return n(o,i,l);const{connection:k,..._}=NU(g,w,y);let N=!0;l.setState=(R,P,F)=>{const V=o(R,P);if(!N)return V;const G=F===void 0?{type:m||SU(new Error().stack)||"anonymous"}:typeof F=="string"?{type:F}:F;return g===void 0?(k==null||k.send(G,i()),V):(k==null||k.send({...G,type:`${g}/${G.type}`},{...L0(y.name),[g]:l.getState()}),V)},l.devtools={cleanup:()=>{k&&typeof k.unsubscribe=="function"&&k.unsubscribe(),jU(y.name,g)}};const D=(...R)=>{const P=N;N=!1,o(...R),N=P},T=n(l.setState,i,l);if(_.type==="untracked"?k==null||k.init(T):(_.stores[_.store]=l,k==null||k.init(Object.fromEntries(Object.entries(_.stores).map(([R,P])=>[R,R===_.store?T:P.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let R=!1;const P=l.dispatch;l.dispatch=(...F)=>{(z5?"production":void 0)!=="production"&&F[0].type==="__setState"&&!R&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),R=!0),P(...F)}}return k.subscribe(R=>{var P;switch(R.type){case"ACTION":if(typeof R.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return LC(R.payload,F=>{if(F.type==="__setState"){if(g===void 0){D(F.state);return}Object.keys(F.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const V=F.state[g];if(V==null)return;JSON.stringify(l.getState())!==JSON.stringify(V)&&D(V);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(F)});case"DISPATCH":switch(R.payload.type){case"RESET":return D(T),g===void 0?k==null?void 0:k.init(l.getState()):k==null?void 0:k.init(L0(y.name));case"COMMIT":if(g===void 0){k==null||k.init(l.getState());return}return k==null?void 0:k.init(L0(y.name));case"ROLLBACK":return LC(R.state,F=>{if(g===void 0){D(F),k==null||k.init(l.getState());return}D(F[g]),k==null||k.init(L0(y.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return LC(R.state,F=>{if(g===void 0){D(F);return}JSON.stringify(l.getState())!==JSON.stringify(F[g])&&D(F[g])});case"IMPORT_STATE":{const{nextLiftedState:F}=R.payload,V=(P=F.computedStates.slice(-1)[0])==null?void 0:P.state;if(!V)return;D(g===void 0?V:V[g]),k==null||k.send(null,F);return}case"PAUSE_RECORDING":return N=!N}return}}),T},Gf=EU,LC=(n,t)=>{let o;try{o=JSON.parse(n)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}o!==void 0&&t(o)};function DU(n,t){let o;try{o=n()}catch{return}return{getItem:l=>{var h;const m=y=>y===null?null:JSON.parse(y,void 0),g=(h=o.getItem(l))!=null?h:null;return g instanceof Promise?g.then(m):m(g)},setItem:(l,h)=>o.setItem(l,JSON.stringify(h,void 0)),removeItem:l=>o.removeItem(l)}}const I_=n=>t=>{try{const o=n(t);return o instanceof Promise?o:{then(i){return I_(i)(o)},catch(i){return this}}}catch(o){return{then(i){return this},catch(i){return I_(i)(o)}}}},MU=(n,t)=>(o,i,l)=>{let h={storage:DU(()=>localStorage),partialize:R=>R,version:0,merge:(R,P)=>({...P,...R}),...t},m=!1;const g=new Set,y=new Set;let w=h.storage;if(!w)return n((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),o(...R)},i,l);const k=()=>{const R=h.partialize({...i()});return w.setItem(h.name,{state:R,version:h.version})},_=l.setState;l.setState=(R,P)=>{_(R,P),k()};const N=n((...R)=>{o(...R),k()},i,l);l.getInitialState=()=>N;let D;const T=()=>{var R,P;if(!w)return;m=!1,g.forEach(V=>{var G;return V((G=i())!=null?G:N)});const F=((P=h.onRehydrateStorage)==null?void 0:P.call(h,(R=i())!=null?R:N))||void 0;return I_(w.getItem.bind(w))(h.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==h.version){if(h.migrate){const G=h.migrate(V.state,V.version);return G instanceof Promise?G.then(Y=>[!0,Y]):[!0,G]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var G;const[Y,ee]=V;if(D=h.merge(ee,(G=i())!=null?G:N),o(D,!0),Y)return k()}).then(()=>{F==null||F(D,void 0),D=i(),m=!0,y.forEach(V=>V(D))}).catch(V=>{F==null||F(void 0,V)})};return l.persist={setOptions:R=>{h={...h,...R},R.storage&&(w=R.storage)},clearStorage:()=>{w==null||w.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>T(),hasHydrated:()=>m,onHydrate:R=>(g.add(R),()=>{g.delete(R)}),onFinishHydration:R=>(y.add(R),()=>{y.delete(R)})},h.skipHydration||T(),D||N},qA=MU;function GI(n,t){return function(){return n.apply(t,arguments)}}const{toString:TU}=Object.prototype,{getPrototypeOf:YA}=Object,{iterator:dk,toStringTag:HI}=Symbol,uk=(n=>t=>{const o=TU.call(t);return n[o]||(n[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=n=>(n=n.toLowerCase(),t=>uk(t)===n),hk=n=>t=>typeof t===n,{isArray:Hf}=Array,Eb=hk("undefined");function IU(n){return n!==null&&!Eb(n)&&n.constructor!==null&&!Eb(n.constructor)&&Oo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const qI=Fa("ArrayBuffer");function RU(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&qI(n.buffer),t}const PU=hk("string"),Oo=hk("function"),YI=hk("number"),mk=n=>n!==null&&typeof n=="object",OU=n=>n===!0||n===!1,sw=n=>{if(uk(n)!=="object")return!1;const t=YA(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(HI in n)&&!(dk in n)},BU=Fa("Date"),LU=Fa("File"),zU=Fa("Blob"),FU=Fa("FileList"),VU=n=>mk(n)&&Oo(n.pipe),UU=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Oo(n.append)&&((t=uk(n))==="formdata"||t==="object"&&Oo(n.toString)&&n.toString()==="[object FormData]"))},GU=Fa("URLSearchParams"),[HU,qU,YU,WU]=["ReadableStream","Request","Response","Headers"].map(Fa),KU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ex(n,t,{allOwnKeys:o=!1}={}){if(n===null||typeof n>"u")return;let i,l;if(typeof n!="object"&&(n=[n]),Hf(n))for(i=0,l=n.length;i<l;i++)t.call(null,n[i],i,n);else{const h=o?Object.getOwnPropertyNames(n):Object.keys(n),m=h.length;let g;for(i=0;i<m;i++)g=h[i],t.call(null,n[g],g,n)}}function WI(n,t){t=t.toLowerCase();const o=Object.keys(n);let i=o.length,l;for(;i-- >0;)if(l=o[i],t===l.toLowerCase())return l;return null}const um=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KI=n=>!Eb(n)&&n!==um;function R_(){const{caseless:n}=KI(this)&&this||{},t={},o=(i,l)=>{const h=n&&WI(t,l)||l;sw(t[h])&&sw(i)?t[h]=R_(t[h],i):sw(i)?t[h]=R_({},i):Hf(i)?t[h]=i.slice():t[h]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&ex(arguments[i],o);return t}const QU=(n,t,o,{allOwnKeys:i}={})=>(ex(t,(l,h)=>{o&&Oo(l)?n[h]=GI(l,o):n[h]=l},{allOwnKeys:i}),n),JU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),XU=(n,t,o,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),o&&Object.assign(n.prototype,o)},ZU=(n,t,o,i)=>{let l,h,m;const g={};if(t=t||{},n==null)return t;do{for(l=Object.getOwnPropertyNames(n),h=l.length;h-- >0;)m=l[h],(!i||i(m,n,t))&&!g[m]&&(t[m]=n[m],g[m]=!0);n=o!==!1&&YA(n)}while(n&&(!o||o(n,t))&&n!==Object.prototype);return t},$U=(n,t,o)=>{n=String(n),(o===void 0||o>n.length)&&(o=n.length),o-=t.length;const i=n.indexOf(t,o);return i!==-1&&i===o},eG=n=>{if(!n)return null;if(Hf(n))return n;let t=n.length;if(!YI(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=n[t];return o},tG=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&YA(Uint8Array)),rG=(n,t)=>{const i=(n&&n[dk]).call(n);let l;for(;(l=i.next())&&!l.done;){const h=l.value;t.call(n,h[0],h[1])}},nG=(n,t)=>{let o;const i=[];for(;(o=n.exec(t))!==null;)i.push(o);return i},sG=Fa("HTMLFormElement"),oG=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,l){return i.toUpperCase()+l}),F5=(({hasOwnProperty:n})=>(t,o)=>n.call(t,o))(Object.prototype),iG=Fa("RegExp"),QI=(n,t)=>{const o=Object.getOwnPropertyDescriptors(n),i={};ex(o,(l,h)=>{let m;(m=t(l,h,n))!==!1&&(i[h]=m||l)}),Object.defineProperties(n,i)},aG=n=>{QI(n,(t,o)=>{if(Oo(n)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=n[o];if(Oo(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},lG=(n,t)=>{const o={},i=l=>{l.forEach(h=>{o[h]=!0})};return Hf(n)?i(n):i(String(n).split(t)),o},cG=()=>{},dG=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function uG(n){return!!(n&&Oo(n.append)&&n[HI]==="FormData"&&n[dk])}const hG=n=>{const t=new Array(10),o=(i,l)=>{if(mk(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[l]=i;const h=Hf(i)?[]:{};return ex(i,(m,g)=>{const y=o(m,l+1);!Eb(y)&&(h[g]=y)}),t[l]=void 0,h}}return i};return o(n,0)},mG=Fa("AsyncFunction"),pG=n=>n&&(mk(n)||Oo(n))&&Oo(n.then)&&Oo(n.catch),JI=((n,t)=>n?setImmediate:t?((o,i)=>(um.addEventListener("message",({source:l,data:h})=>{l===um&&h===o&&i.length&&i.shift()()},!1),l=>{i.push(l),um.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Oo(um.postMessage)),fG=typeof queueMicrotask<"u"?queueMicrotask.bind(um):typeof process<"u"&&process.nextTick||JI,gG=n=>n!=null&&Oo(n[dk]),Ie={isArray:Hf,isArrayBuffer:qI,isBuffer:IU,isFormData:UU,isArrayBufferView:RU,isString:PU,isNumber:YI,isBoolean:OU,isObject:mk,isPlainObject:sw,isReadableStream:HU,isRequest:qU,isResponse:YU,isHeaders:WU,isUndefined:Eb,isDate:BU,isFile:LU,isBlob:zU,isRegExp:iG,isFunction:Oo,isStream:VU,isURLSearchParams:GU,isTypedArray:tG,isFileList:FU,forEach:ex,merge:R_,extend:QU,trim:KU,stripBOM:JU,inherits:XU,toFlatObject:ZU,kindOf:uk,kindOfTest:Fa,endsWith:$U,toArray:eG,forEachEntry:rG,matchAll:nG,isHTMLForm:sG,hasOwnProperty:F5,hasOwnProp:F5,reduceDescriptors:QI,freezeMethods:aG,toObjectSet:lG,toCamelCase:oG,noop:cG,toFiniteNumber:dG,findKey:WI,global:um,isContextDefined:KI,isSpecCompliantForm:uG,toJSONObject:hG,isAsyncFn:mG,isThenable:pG,setImmediate:JI,asap:fG,isIterable:gG};function Pt(n,t,o,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}Ie.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}});const XI=Pt.prototype,ZI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ZI[n]={value:n}});Object.defineProperties(Pt,ZI);Object.defineProperty(XI,"isAxiosError",{value:!0});Pt.from=(n,t,o,i,l,h)=>{const m=Object.create(XI);return Ie.toFlatObject(n,m,function(y){return y!==Error.prototype},g=>g!=="isAxiosError"),Pt.call(m,n.message,t,o,i,l),m.cause=n,m.name=n.name,h&&Object.assign(m,h),m};const yG=null;function P_(n){return Ie.isPlainObject(n)||Ie.isArray(n)}function $I(n){return Ie.endsWith(n,"[]")?n.slice(0,-2):n}function V5(n,t,o){return n?n.concat(t).map(function(l,h){return l=$I(l),!o&&h?"["+l+"]":l}).join(o?".":""):t}function bG(n){return Ie.isArray(n)&&!n.some(P_)}const xG=Ie.toFlatObject(Ie,{},null,function(t){return/^is[A-Z]/.test(t)});function pk(n,t,o){if(!Ie.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,o=Ie.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,P){return!Ie.isUndefined(P[R])});const i=o.metaTokens,l=o.visitor||k,h=o.dots,m=o.indexes,y=(o.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(t);if(!Ie.isFunction(l))throw new TypeError("visitor must be a function");function w(T){if(T===null)return"";if(Ie.isDate(T))return T.toISOString();if(Ie.isBoolean(T))return T.toString();if(!y&&Ie.isBlob(T))throw new Pt("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(T)||Ie.isTypedArray(T)?y&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function k(T,R,P){let F=T;if(T&&!P&&typeof T=="object"){if(Ie.endsWith(R,"{}"))R=i?R:R.slice(0,-2),T=JSON.stringify(T);else if(Ie.isArray(T)&&bG(T)||(Ie.isFileList(T)||Ie.endsWith(R,"[]"))&&(F=Ie.toArray(T)))return R=$I(R),F.forEach(function(G,Y){!(Ie.isUndefined(G)||G===null)&&t.append(m===!0?V5([R],Y,h):m===null?R:R+"[]",w(G))}),!1}return P_(T)?!0:(t.append(V5(P,R,h),w(T)),!1)}const _=[],N=Object.assign(xG,{defaultVisitor:k,convertValue:w,isVisitable:P_});function D(T,R){if(!Ie.isUndefined(T)){if(_.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(T),Ie.forEach(T,function(F,V){(!(Ie.isUndefined(F)||F===null)&&l.call(t,F,Ie.isString(V)?V.trim():V,R,N))===!0&&D(F,R?R.concat(V):[V])}),_.pop()}}if(!Ie.isObject(n))throw new TypeError("data must be an object");return D(n),t}function U5(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function WA(n,t){this._pairs=[],n&&pk(n,this,t)}const eR=WA.prototype;eR.append=function(t,o){this._pairs.push([t,o])};eR.toString=function(t){const o=t?function(i){return t.call(this,i,U5)}:U5;return this._pairs.map(function(l){return o(l[0])+"="+o(l[1])},"").join("&")};function vG(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tR(n,t,o){if(!t)return n;const i=o&&o.encode||vG;Ie.isFunction(o)&&(o={serialize:o});const l=o&&o.serialize;let h;if(l?h=l(t,o):h=Ie.isURLSearchParams(t)?t.toString():new WA(t,o).toString(i),h){const m=n.indexOf("#");m!==-1&&(n=n.slice(0,m)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class G5{constructor(){this.handlers=[]}use(t,o,i){return this.handlers.push({fulfilled:t,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ie.forEach(this.handlers,function(i){i!==null&&t(i)})}}const rR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wG=typeof URLSearchParams<"u"?URLSearchParams:WA,kG=typeof FormData<"u"?FormData:null,CG=typeof Blob<"u"?Blob:null,_G={isBrowser:!0,classes:{URLSearchParams:wG,FormData:kG,Blob:CG},protocols:["http","https","file","blob","url","data"]},KA=typeof window<"u"&&typeof document<"u",O_=typeof navigator=="object"&&navigator||void 0,AG=KA&&(!O_||["ReactNative","NativeScript","NS"].indexOf(O_.product)<0),NG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jG=KA&&window.location.href||"http://localhost",SG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:KA,hasStandardBrowserEnv:AG,hasStandardBrowserWebWorkerEnv:NG,navigator:O_,origin:jG},Symbol.toStringTag,{value:"Module"})),Ws={...SG,..._G};function EG(n,t){return pk(n,new Ws.classes.URLSearchParams,Object.assign({visitor:function(o,i,l,h){return Ws.isNode&&Ie.isBuffer(o)?(this.append(i,o.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function DG(n){return Ie.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function MG(n){const t={},o=Object.keys(n);let i;const l=o.length;let h;for(i=0;i<l;i++)h=o[i],t[h]=n[h];return t}function nR(n){function t(o,i,l,h){let m=o[h++];if(m==="__proto__")return!0;const g=Number.isFinite(+m),y=h>=o.length;return m=!m&&Ie.isArray(l)?l.length:m,y?(Ie.hasOwnProp(l,m)?l[m]=[l[m],i]:l[m]=i,!g):((!l[m]||!Ie.isObject(l[m]))&&(l[m]=[]),t(o,i,l[m],h)&&Ie.isArray(l[m])&&(l[m]=MG(l[m])),!g)}if(Ie.isFormData(n)&&Ie.isFunction(n.entries)){const o={};return Ie.forEachEntry(n,(i,l)=>{t(DG(i),l,o,0)}),o}return null}function TG(n,t,o){if(Ie.isString(n))try{return(t||JSON.parse)(n),Ie.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(n)}const tx={transitional:rR,adapter:["xhr","http","fetch"],transformRequest:[function(t,o){const i=o.getContentType()||"",l=i.indexOf("application/json")>-1,h=Ie.isObject(t);if(h&&Ie.isHTMLForm(t)&&(t=new FormData(t)),Ie.isFormData(t))return l?JSON.stringify(nR(t)):t;if(Ie.isArrayBuffer(t)||Ie.isBuffer(t)||Ie.isStream(t)||Ie.isFile(t)||Ie.isBlob(t)||Ie.isReadableStream(t))return t;if(Ie.isArrayBufferView(t))return t.buffer;if(Ie.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(h){if(i.indexOf("application/x-www-form-urlencoded")>-1)return EG(t,this.formSerializer).toString();if((g=Ie.isFileList(t))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return pk(g?{"files[]":t}:t,y&&new y,this.formSerializer)}}return h||l?(o.setContentType("application/json",!1),TG(t)):t}],transformResponse:[function(t){const o=this.transitional||tx.transitional,i=o&&o.forcedJSONParsing,l=this.responseType==="json";if(Ie.isResponse(t)||Ie.isReadableStream(t))return t;if(t&&Ie.isString(t)&&(i&&!this.responseType||l)){const m=!(o&&o.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(g){if(m)throw g.name==="SyntaxError"?Pt.from(g,Pt.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ws.classes.FormData,Blob:Ws.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],n=>{tx.headers[n]={}});const IG=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RG=n=>{const t={};let o,i,l;return n&&n.split(`
`).forEach(function(m){l=m.indexOf(":"),o=m.substring(0,l).trim().toLowerCase(),i=m.substring(l+1).trim(),!(!o||t[o]&&IG[o])&&(o==="set-cookie"?t[o]?t[o].push(i):t[o]=[i]:t[o]=t[o]?t[o]+", "+i:i)}),t},H5=Symbol("internals");function eb(n){return n&&String(n).trim().toLowerCase()}function ow(n){return n===!1||n==null?n:Ie.isArray(n)?n.map(ow):String(n)}function PG(n){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(n);)t[i[1]]=i[2];return t}const OG=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function zC(n,t,o,i,l){if(Ie.isFunction(i))return i.call(this,t,o);if(l&&(t=o),!!Ie.isString(t)){if(Ie.isString(i))return t.indexOf(i)!==-1;if(Ie.isRegExp(i))return i.test(t)}}function BG(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,i)=>o.toUpperCase()+i)}function LG(n,t){const o=Ie.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+o,{value:function(l,h,m){return this[i].call(this,t,l,h,m)},configurable:!0})})}let Bo=class{constructor(t){t&&this.set(t)}set(t,o,i){const l=this;function h(g,y,w){const k=eb(y);if(!k)throw new Error("header name must be a non-empty string");const _=Ie.findKey(l,k);(!_||l[_]===void 0||w===!0||w===void 0&&l[_]!==!1)&&(l[_||y]=ow(g))}const m=(g,y)=>Ie.forEach(g,(w,k)=>h(w,k,y));if(Ie.isPlainObject(t)||t instanceof this.constructor)m(t,o);else if(Ie.isString(t)&&(t=t.trim())&&!OG(t))m(RG(t),o);else if(Ie.isObject(t)&&Ie.isIterable(t)){let g={},y,w;for(const k of t){if(!Ie.isArray(k))throw TypeError("Object iterator must return a key-value pair");g[w=k[0]]=(y=g[w])?Ie.isArray(y)?[...y,k[1]]:[y,k[1]]:k[1]}m(g,o)}else t!=null&&h(o,t,i);return this}get(t,o){if(t=eb(t),t){const i=Ie.findKey(this,t);if(i){const l=this[i];if(!o)return l;if(o===!0)return PG(l);if(Ie.isFunction(o))return o.call(this,l,i);if(Ie.isRegExp(o))return o.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=eb(t),t){const i=Ie.findKey(this,t);return!!(i&&this[i]!==void 0&&(!o||zC(this,this[i],i,o)))}return!1}delete(t,o){const i=this;let l=!1;function h(m){if(m=eb(m),m){const g=Ie.findKey(i,m);g&&(!o||zC(i,i[g],g,o))&&(delete i[g],l=!0)}}return Ie.isArray(t)?t.forEach(h):h(t),l}clear(t){const o=Object.keys(this);let i=o.length,l=!1;for(;i--;){const h=o[i];(!t||zC(this,this[h],h,t,!0))&&(delete this[h],l=!0)}return l}normalize(t){const o=this,i={};return Ie.forEach(this,(l,h)=>{const m=Ie.findKey(i,h);if(m){o[m]=ow(l),delete o[h];return}const g=t?BG(h):String(h).trim();g!==h&&delete o[h],o[g]=ow(l),i[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return Ie.forEach(this,(i,l)=>{i!=null&&i!==!1&&(o[l]=t&&Ie.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const i=new this(t);return o.forEach(l=>i.set(l)),i}static accessor(t){const i=(this[H5]=this[H5]={accessors:{}}).accessors,l=this.prototype;function h(m){const g=eb(m);i[g]||(LG(l,m),i[g]=!0)}return Ie.isArray(t)?t.forEach(h):h(t),this}};Bo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors(Bo.prototype,({value:n},t)=>{let o=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[o]=i}}});Ie.freezeMethods(Bo);function FC(n,t){const o=this||tx,i=t||o,l=Bo.from(i.headers);let h=i.data;return Ie.forEach(n,function(g){h=g.call(o,h,l.normalize(),t?t.status:void 0)}),l.normalize(),h}function sR(n){return!!(n&&n.__CANCEL__)}function qf(n,t,o){Pt.call(this,n??"canceled",Pt.ERR_CANCELED,t,o),this.name="CanceledError"}Ie.inherits(qf,Pt,{__CANCEL__:!0});function oR(n,t,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?n(o):t(new Pt("Request failed with status code "+o.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function zG(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function FG(n,t){n=n||10;const o=new Array(n),i=new Array(n);let l=0,h=0,m;return t=t!==void 0?t:1e3,function(y){const w=Date.now(),k=i[h];m||(m=w),o[l]=y,i[l]=w;let _=h,N=0;for(;_!==l;)N+=o[_++],_=_%n;if(l=(l+1)%n,l===h&&(h=(h+1)%n),w-m<t)return;const D=k&&w-k;return D?Math.round(N*1e3/D):void 0}}function VG(n,t){let o=0,i=1e3/t,l,h;const m=(w,k=Date.now())=>{o=k,l=null,h&&(clearTimeout(h),h=null),n.apply(null,w)};return[(...w)=>{const k=Date.now(),_=k-o;_>=i?m(w,k):(l=w,h||(h=setTimeout(()=>{h=null,m(l)},i-_)))},()=>l&&m(l)]}const Aw=(n,t,o=3)=>{let i=0;const l=FG(50,250);return VG(h=>{const m=h.loaded,g=h.lengthComputable?h.total:void 0,y=m-i,w=l(y),k=m<=g;i=m;const _={loaded:m,total:g,progress:g?m/g:void 0,bytes:y,rate:w||void 0,estimated:w&&g&&k?(g-m)/w:void 0,event:h,lengthComputable:g!=null,[t?"download":"upload"]:!0};n(_)},o)},q5=(n,t)=>{const o=n!=null;return[i=>t[0]({lengthComputable:o,total:n,loaded:i}),t[1]]},Y5=n=>(...t)=>Ie.asap(()=>n(...t)),UG=Ws.hasStandardBrowserEnv?((n,t)=>o=>(o=new URL(o,Ws.origin),n.protocol===o.protocol&&n.host===o.host&&(t||n.port===o.port)))(new URL(Ws.origin),Ws.navigator&&/(msie|trident)/i.test(Ws.navigator.userAgent)):()=>!0,GG=Ws.hasStandardBrowserEnv?{write(n,t,o,i,l,h){const m=[n+"="+encodeURIComponent(t)];Ie.isNumber(o)&&m.push("expires="+new Date(o).toGMTString()),Ie.isString(i)&&m.push("path="+i),Ie.isString(l)&&m.push("domain="+l),h===!0&&m.push("secure"),document.cookie=m.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HG(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function qG(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function iR(n,t,o){let i=!HG(t);return n&&(i||o==!1)?qG(n,t):t}const W5=n=>n instanceof Bo?{...n}:n;function Cm(n,t){t=t||{};const o={};function i(w,k,_,N){return Ie.isPlainObject(w)&&Ie.isPlainObject(k)?Ie.merge.call({caseless:N},w,k):Ie.isPlainObject(k)?Ie.merge({},k):Ie.isArray(k)?k.slice():k}function l(w,k,_,N){if(Ie.isUndefined(k)){if(!Ie.isUndefined(w))return i(void 0,w,_,N)}else return i(w,k,_,N)}function h(w,k){if(!Ie.isUndefined(k))return i(void 0,k)}function m(w,k){if(Ie.isUndefined(k)){if(!Ie.isUndefined(w))return i(void 0,w)}else return i(void 0,k)}function g(w,k,_){if(_ in t)return i(w,k);if(_ in n)return i(void 0,w)}const y={url:h,method:h,data:h,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:g,headers:(w,k,_)=>l(W5(w),W5(k),_,!0)};return Ie.forEach(Object.keys(Object.assign({},n,t)),function(k){const _=y[k]||l,N=_(n[k],t[k],k);Ie.isUndefined(N)&&_!==g||(o[k]=N)}),o}const aR=n=>{const t=Cm({},n);let{data:o,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:h,headers:m,auth:g}=t;t.headers=m=Bo.from(m),t.url=tR(iR(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),g&&m.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let y;if(Ie.isFormData(o)){if(Ws.hasStandardBrowserEnv||Ws.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((y=m.getContentType())!==!1){const[w,...k]=y?y.split(";").map(_=>_.trim()).filter(Boolean):[];m.setContentType([w||"multipart/form-data",...k].join("; "))}}if(Ws.hasStandardBrowserEnv&&(i&&Ie.isFunction(i)&&(i=i(t)),i||i!==!1&&UG(t.url))){const w=l&&h&&GG.read(h);w&&m.set(l,w)}return t},YG=typeof XMLHttpRequest<"u",WG=YG&&function(n){return new Promise(function(o,i){const l=aR(n);let h=l.data;const m=Bo.from(l.headers).normalize();let{responseType:g,onUploadProgress:y,onDownloadProgress:w}=l,k,_,N,D,T;function R(){D&&D(),T&&T(),l.cancelToken&&l.cancelToken.unsubscribe(k),l.signal&&l.signal.removeEventListener("abort",k)}let P=new XMLHttpRequest;P.open(l.method.toUpperCase(),l.url,!0),P.timeout=l.timeout;function F(){if(!P)return;const G=Bo.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ee={data:!g||g==="text"||g==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:G,config:n,request:P};oR(function(J){o(J),R()},function(J){i(J),R()},ee),P=null}"onloadend"in P?P.onloadend=F:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(F)},P.onabort=function(){P&&(i(new Pt("Request aborted",Pt.ECONNABORTED,n,P)),P=null)},P.onerror=function(){i(new Pt("Network Error",Pt.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let Y=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const ee=l.transitional||rR;l.timeoutErrorMessage&&(Y=l.timeoutErrorMessage),i(new Pt(Y,ee.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,n,P)),P=null},h===void 0&&m.setContentType(null),"setRequestHeader"in P&&Ie.forEach(m.toJSON(),function(Y,ee){P.setRequestHeader(ee,Y)}),Ie.isUndefined(l.withCredentials)||(P.withCredentials=!!l.withCredentials),g&&g!=="json"&&(P.responseType=l.responseType),w&&([N,T]=Aw(w,!0),P.addEventListener("progress",N)),y&&P.upload&&([_,D]=Aw(y),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",D)),(l.cancelToken||l.signal)&&(k=G=>{P&&(i(!G||G.type?new qf(null,n,P):G),P.abort(),P=null)},l.cancelToken&&l.cancelToken.subscribe(k),l.signal&&(l.signal.aborted?k():l.signal.addEventListener("abort",k)));const V=zG(l.url);if(V&&Ws.protocols.indexOf(V)===-1){i(new Pt("Unsupported protocol "+V+":",Pt.ERR_BAD_REQUEST,n));return}P.send(h||null)})},KG=(n,t)=>{const{length:o}=n=n?n.filter(Boolean):[];if(t||o){let i=new AbortController,l;const h=function(w){if(!l){l=!0,g();const k=w instanceof Error?w:this.reason;i.abort(k instanceof Pt?k:new qf(k instanceof Error?k.message:k))}};let m=t&&setTimeout(()=>{m=null,h(new Pt(`timeout ${t} of ms exceeded`,Pt.ETIMEDOUT))},t);const g=()=>{n&&(m&&clearTimeout(m),m=null,n.forEach(w=>{w.unsubscribe?w.unsubscribe(h):w.removeEventListener("abort",h)}),n=null)};n.forEach(w=>w.addEventListener("abort",h));const{signal:y}=i;return y.unsubscribe=()=>Ie.asap(g),y}},QG=function*(n,t){let o=n.byteLength;if(o<t){yield n;return}let i=0,l;for(;i<o;)l=i+t,yield n.slice(i,l),i=l},JG=async function*(n,t){for await(const o of XG(n))yield*QG(o,t)},XG=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:o,value:i}=await t.read();if(o)break;yield i}}finally{await t.cancel()}},K5=(n,t,o,i)=>{const l=JG(n,t);let h=0,m,g=y=>{m||(m=!0,i&&i(y))};return new ReadableStream({async pull(y){try{const{done:w,value:k}=await l.next();if(w){g(),y.close();return}let _=k.byteLength;if(o){let N=h+=_;o(N)}y.enqueue(new Uint8Array(k))}catch(w){throw g(w),w}},cancel(y){return g(y),l.return()}},{highWaterMark:2})},fk=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lR=fk&&typeof ReadableStream=="function",ZG=fk&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),cR=(n,...t)=>{try{return!!n(...t)}catch{return!1}},$G=lR&&cR(()=>{let n=!1;const t=new Request(Ws.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),Q5=64*1024,B_=lR&&cR(()=>Ie.isReadableStream(new Response("").body)),Nw={stream:B_&&(n=>n.body)};fk&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Nw[t]&&(Nw[t]=Ie.isFunction(n[t])?o=>o[t]():(o,i)=>{throw new Pt(`Response type '${t}' is not supported`,Pt.ERR_NOT_SUPPORT,i)})})})(new Response);const eH=async n=>{if(n==null)return 0;if(Ie.isBlob(n))return n.size;if(Ie.isSpecCompliantForm(n))return(await new Request(Ws.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(n)||Ie.isArrayBuffer(n))return n.byteLength;if(Ie.isURLSearchParams(n)&&(n=n+""),Ie.isString(n))return(await ZG(n)).byteLength},tH=async(n,t)=>{const o=Ie.toFiniteNumber(n.getContentLength());return o??eH(t)},rH=fk&&(async n=>{let{url:t,method:o,data:i,signal:l,cancelToken:h,timeout:m,onDownloadProgress:g,onUploadProgress:y,responseType:w,headers:k,withCredentials:_="same-origin",fetchOptions:N}=aR(n);w=w?(w+"").toLowerCase():"text";let D=KG([l,h&&h.toAbortSignal()],m),T;const R=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let P;try{if(y&&$G&&o!=="get"&&o!=="head"&&(P=await tH(k,i))!==0){let ee=new Request(t,{method:"POST",body:i,duplex:"half"}),le;if(Ie.isFormData(i)&&(le=ee.headers.get("content-type"))&&k.setContentType(le),ee.body){const[J,B]=q5(P,Aw(Y5(y)));i=K5(ee.body,Q5,J,B)}}Ie.isString(_)||(_=_?"include":"omit");const F="credentials"in Request.prototype;T=new Request(t,{...N,signal:D,method:o.toUpperCase(),headers:k.normalize().toJSON(),body:i,duplex:"half",credentials:F?_:void 0});let V=await fetch(T,N);const G=B_&&(w==="stream"||w==="response");if(B_&&(g||G&&R)){const ee={};["status","statusText","headers"].forEach(W=>{ee[W]=V[W]});const le=Ie.toFiniteNumber(V.headers.get("content-length")),[J,B]=g&&q5(le,Aw(Y5(g),!0))||[];V=new Response(K5(V.body,Q5,J,()=>{B&&B(),R&&R()}),ee)}w=w||"text";let Y=await Nw[Ie.findKey(Nw,w)||"text"](V,n);return!G&&R&&R(),await new Promise((ee,le)=>{oR(ee,le,{data:Y,headers:Bo.from(V.headers),status:V.status,statusText:V.statusText,config:n,request:T})})}catch(F){throw R&&R(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,n,T),{cause:F.cause||F}):Pt.from(F,F&&F.code,n,T)}}),L_={http:yG,xhr:WG,fetch:rH};Ie.forEach(L_,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const J5=n=>`- ${n}`,nH=n=>Ie.isFunction(n)||n===null||n===!1,dR={getAdapter:n=>{n=Ie.isArray(n)?n:[n];const{length:t}=n;let o,i;const l={};for(let h=0;h<t;h++){o=n[h];let m;if(i=o,!nH(o)&&(i=L_[(m=String(o)).toLowerCase()],i===void 0))throw new Pt(`Unknown adapter '${m}'`);if(i)break;l[m||"#"+h]=i}if(!i){const h=Object.entries(l).map(([g,y])=>`adapter ${g} `+(y===!1?"is not supported by the environment":"is not available in the build"));let m=t?h.length>1?`since :
`+h.map(J5).join(`
`):" "+J5(h[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return i},adapters:L_};function VC(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qf(null,n)}function X5(n){return VC(n),n.headers=Bo.from(n.headers),n.data=FC.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),dR.getAdapter(n.adapter||tx.adapter)(n).then(function(i){return VC(n),i.data=FC.call(n,n.transformResponse,i),i.headers=Bo.from(i.headers),i},function(i){return sR(i)||(VC(n),i&&i.response&&(i.response.data=FC.call(n,n.transformResponse,i.response),i.response.headers=Bo.from(i.response.headers))),Promise.reject(i)})}const uR="1.10.0",gk={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{gk[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const Z5={};gk.transitional=function(t,o,i){function l(h,m){return"[Axios v"+uR+"] Transitional option '"+h+"'"+m+(i?". "+i:"")}return(h,m,g)=>{if(t===!1)throw new Pt(l(m," has been removed"+(o?" in "+o:"")),Pt.ERR_DEPRECATED);return o&&!Z5[m]&&(Z5[m]=!0,console.warn(l(m," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(h,m,g):!0}};gk.spelling=function(t){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function sH(n,t,o){if(typeof n!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let l=i.length;for(;l-- >0;){const h=i[l],m=t[h];if(m){const g=n[h],y=g===void 0||m(g,h,n);if(y!==!0)throw new Pt("option "+h+" must be "+y,Pt.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Pt("Unknown option "+h,Pt.ERR_BAD_OPTION)}}const iw={assertOptions:sH,validators:gk},jl=iw.validators;let bm=class{constructor(t){this.defaults=t||{},this.interceptors={request:new G5,response:new G5}}async request(t,o){try{return await this._request(t,o)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const h=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?h&&!String(i.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+h):i.stack=h}catch{}}throw i}}_request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=Cm(this.defaults,o);const{transitional:i,paramsSerializer:l,headers:h}=o;i!==void 0&&iw.assertOptions(i,{silentJSONParsing:jl.transitional(jl.boolean),forcedJSONParsing:jl.transitional(jl.boolean),clarifyTimeoutError:jl.transitional(jl.boolean)},!1),l!=null&&(Ie.isFunction(l)?o.paramsSerializer={serialize:l}:iw.assertOptions(l,{encode:jl.function,serialize:jl.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),iw.assertOptions(o,{baseUrl:jl.spelling("baseURL"),withXsrfToken:jl.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let m=h&&Ie.merge(h.common,h[o.method]);h&&Ie.forEach(["delete","get","head","post","put","patch","common"],T=>{delete h[T]}),o.headers=Bo.concat(m,h);const g=[];let y=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(o)===!1||(y=y&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const w=[];this.interceptors.response.forEach(function(R){w.push(R.fulfilled,R.rejected)});let k,_=0,N;if(!y){const T=[X5.bind(this),void 0];for(T.unshift.apply(T,g),T.push.apply(T,w),N=T.length,k=Promise.resolve(o);_<N;)k=k.then(T[_++],T[_++]);return k}N=g.length;let D=o;for(_=0;_<N;){const T=g[_++],R=g[_++];try{D=T(D)}catch(P){R.call(this,P);break}}try{k=X5.call(this,D)}catch(T){return Promise.reject(T)}for(_=0,N=w.length;_<N;)k=k.then(w[_++],w[_++]);return k}getUri(t){t=Cm(this.defaults,t);const o=iR(t.baseURL,t.url,t.allowAbsoluteUrls);return tR(o,t.params,t.paramsSerializer)}};Ie.forEach(["delete","get","head","options"],function(t){bm.prototype[t]=function(o,i){return this.request(Cm(i||{},{method:t,url:o,data:(i||{}).data}))}});Ie.forEach(["post","put","patch"],function(t){function o(i){return function(h,m,g){return this.request(Cm(g||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:h,data:m}))}}bm.prototype[t]=o(),bm.prototype[t+"Form"]=o(!0)});let oH=class hR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(h){o=h});const i=this;this.promise.then(l=>{if(!i._listeners)return;let h=i._listeners.length;for(;h-- >0;)i._listeners[h](l);i._listeners=null}),this.promise.then=l=>{let h;const m=new Promise(g=>{i.subscribe(g),h=g}).then(l);return m.cancel=function(){i.unsubscribe(h)},m},t(function(h,m,g){i.reason||(i.reason=new qf(h,m,g),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const t=new AbortController,o=i=>{t.abort(i)};return this.subscribe(o),t.signal.unsubscribe=()=>this.unsubscribe(o),t.signal}static source(){let t;return{token:new hR(function(l){t=l}),cancel:t}}};function iH(n){return function(o){return n.apply(null,o)}}function aH(n){return Ie.isObject(n)&&n.isAxiosError===!0}const z_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(z_).forEach(([n,t])=>{z_[t]=n});function mR(n){const t=new bm(n),o=GI(bm.prototype.request,t);return Ie.extend(o,bm.prototype,t,{allOwnKeys:!0}),Ie.extend(o,t,null,{allOwnKeys:!0}),o.create=function(l){return mR(Cm(n,l))},o}const cn=mR(tx);cn.Axios=bm;cn.CanceledError=qf;cn.CancelToken=oH;cn.isCancel=sR;cn.VERSION=uR;cn.toFormData=pk;cn.AxiosError=Pt;cn.Cancel=cn.CanceledError;cn.all=function(t){return Promise.all(t)};cn.spread=iH;cn.isAxiosError=aH;cn.mergeConfig=Cm;cn.AxiosHeaders=Bo;cn.formToJSON=n=>nR(Ie.isHTMLForm(n)?new FormData(n):n);cn.getAdapter=dR.getAdapter;cn.HttpStatusCode=z_;cn.default=cn;const{Axios:Qie,AxiosError:Jie,CanceledError:Xie,isCancel:Zie,CancelToken:$ie,VERSION:eae,all:tae,Cancel:rae,isAxiosError:nae,spread:sae,toFormData:oae,AxiosHeaders:iae,HttpStatusCode:aae,formToJSON:lae,getAdapter:cae,mergeConfig:dae}=cn,hm="http://127.0.0.1:8000/api",_m="anand_mobiles_token",Lc="anand_mobiles_user",fb="delivery_partner_token",_t={HOME:"/",LOGIN:"/login",PRODUCTS:"/products",CART:"/cart",ORDERS:"/orders",WISHLIST:"/wishlist",ABOUT:"/about",CONTACT:"/contact",TRACK_ORDER:"/track-order",BULK_ORDER:"/bulk-order",TERMS_CONDITIONS:"/terms-conditions",CANCELLATION_REFUND_POLICY:"/cancellation-refund-policy",PRIVACY_POLICY:"/privacy-policy",SHIPPING_DELIVERY_POLICY:"/shipping-delivery-policy",OUR_STORES:"/our-stores",WARRANTY_POLICY:"/warranty-policy"},$t=cn.create({baseURL:hm,headers:{"Content-Type":"application/json"}});$t.interceptors.request.use(n=>{const t=localStorage.getItem(_m);return t&&(n.headers.Authorization=`Bearer ${t}`),n},n=>Promise.reject(n));$t.interceptors.response.use(n=>n,n=>{var t;return((t=n.response)==null?void 0:t.status)===401&&(localStorage.removeItem(_m),localStorage.removeItem(Lc)),Promise.reject(n)});const $e=cn.create({baseURL:hm,headers:{"Content-Type":"application/json"}});$e.interceptors.request.use(n=>{const t=localStorage.getItem("admin_token");return t&&(n.headers.Authorization=`Bearer ${t}`),n},n=>Promise.reject(n));$e.interceptors.response.use(n=>n,n=>{var t;return((t=n.response)==null?void 0:t.status)===401&&localStorage.removeItem("admin_token"),Promise.reject(n)});const Bc=cn.create({baseURL:hm,headers:{"Content-Type":"application/json"}});Bc.interceptors.request.use(n=>{const t=localStorage.getItem(fb);return t&&(n.headers.Authorization=`Bearer ${t}`),n},n=>Promise.reject(n));Bc.interceptors.response.use(n=>n,n=>{var t;return((t=n.response)==null?void 0:t.status)===401&&localStorage.removeItem(fb),Promise.reject(n)});const pR=un(Gf(n=>({logo:null,loading:!1,error:null,setLogo:t=>n({logo:t}),setLoading:t=>n({loading:t}),setError:t=>n({error:t}),fetchLogo:async()=>{var t,o;n({loading:!0,error:null});try{const i=await $e.get("/admin/content/logo");if(i.status===200)return n({logo:i.data.logo_url,loading:!1}),i.data.logo_url}catch(i){throw console.error("Error fetching logo:",i),n({error:((o=(t=i.response)==null?void 0:t.data)==null?void 0:o.error)||"Failed to fetch logo",loading:!1}),i}},uploadLogo:async t=>{var o,i;n({loading:!0,error:null});try{const l=await $e.post("/admin/content/logo/upload",t,{headers:{"Content-Type":"multipart/form-data"}});if(l.status===200)return n({logo:l.data.logo_url,loading:!1}),l.data}catch(l){throw console.error("Error uploading logo:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to upload logo",loading:!1}),l}},deleteLogo:async()=>{var t,o;n({loading:!0,error:null});try{const i=await $e.delete("/admin/content/logo");if(i.status===200)return n({logo:null,loading:!1}),i.data}catch(i){throw console.error("Error deleting logo:",i),n({error:((o=(t=i.response)==null?void 0:t.data)==null?void 0:o.error)||"Failed to delete logo",loading:!1}),i}},clearError:()=>n({error:null})}))),jw=({size:n="medium",linkWrapper:t=!0,titleColor:o})=>{const{logo:i,fetchLogo:l}=pR();z.useEffect(()=>{l()},[l]);const h={small:"h-8 w-auto",medium:"h-12 w-auto",large:"h-16 w-auto"},m=o||"var(--brand-primary)",g=r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:i||"/logo.jpg",alt:"Anand Mobiles",className:`${h[n]} rounded-md transition-transform duration-300 hover:scale-105`,style:{borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"}})}),r.jsxs("span",{className:"ml-2.5 text-xl font-bold hidden sm:inline-block transition-colors duration-300",style:{color:m},children:[r.jsx("span",{children:"Anand"})," Mobiles"]})]});return t?r.jsx(nt,{to:"/",className:"flex items-center hover:opacity-90 transition-opacity duration-300","aria-label":"Anand Mobiles Home",children:g}):r.jsx("div",{className:"flex items-center",children:g})},Rm=({children:n,title:t,titleColor:o})=>r.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full opacity-10 transform translate-x-1/3 -translate-y-1/3",style:{backgroundColor:"var(--brand-primary)"}}),r.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 rounded-full opacity-10 transform -translate-x-1/3 translate-y-1/3",style:{backgroundColor:"var(--brand-secondary)"}}),r.jsxs("div",{className:"max-w-md w-full space-y-7 p-8 rounded-xl animate-fadeIn relative z-10",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-xl)",border:"1px solid var(--border-primary)"},children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(jw,{size:"large",titleColor:o}),r.jsx("h2",{className:"mt-6 text-center text-2xl font-bold",style:{color:"var(--text-primary)"},children:t}),r.jsx("div",{className:"h-1.5 w-20 mt-4 rounded-full",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}})]}),r.jsx("div",{className:"mt-8 relative",children:n})]})]});var fR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$5=gt.createContext&&gt.createContext(fR),lH=["attr","size","title"];function cH(n,t){if(n==null)return{};var o=dH(n,t),i,l;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(n);for(l=0;l<h.length;l++)i=h[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}function dH(n,t){if(n==null)return{};var o={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;o[i]=n[i]}return o}function Sw(){return Sw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},Sw.apply(this,arguments)}function eD(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),o.push.apply(o,i)}return o}function Ew(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(o),!0).forEach(function(i){uH(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):eD(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function uH(n,t,o){return t=hH(t),t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function hH(n){var t=mH(n,"string");return typeof t=="symbol"?t:t+""}function mH(n,t){if(typeof n!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var i=o.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gR(n){return n&&n.map((t,o)=>gt.createElement(t.tag,Ew({key:o},t.attr),gR(t.child)))}function Oe(n){return t=>gt.createElement(pH,Sw({attr:Ew({},n.attr)},t),gR(n.child))}function pH(n){var t=o=>{var{attr:i,size:l,title:h}=n,m=cH(n,lH),g=l||o.size||"1em",y;return o.className&&(y=o.className),n.className&&(y=(y?y+" ":"")+n.className),gt.createElement("svg",Sw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,i,m,{className:y,style:Ew(Ew({color:n.color||o.color},o.style),n.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&gt.createElement("title",null,h),n.children)};return $5!==void 0?gt.createElement($5.Consumer,null,o=>t(o)):t(fR)}function fH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(n)}function gH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(n)}function yH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(n)}function bH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function xH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(n)}function vH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(n)}function wH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(n)}function kH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"},child:[]}]})(n)}function CH(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(n)}const Br=({label:n,type:t="text",name:o,value:i,onChange:l,required:h=!1,error:m,placeholder:g,icon:y=null})=>{const w=D=>{const T={color:"var(--text-secondary)"};switch(D){case"email":return r.jsx(yH,{style:T,className:"h-5 w-5"});case"lock":return r.jsx(fH,{style:T,className:"h-5 w-5"});case"user":return r.jsx(CH,{style:T,className:"h-5 w-5"});case"phone":return r.jsx(bH,{style:T,className:"h-5 w-5"});default:return null}},k={borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-primary)",borderColor:m?"var(--error-color)":"var(--border-primary)",transition:"all 0.3s ease-in-out"},_={color:"var(--text-primary)"},N={color:"var(--error-color)"};return r.jsxs("div",{className:"mb-4 group",children:[r.jsxs("label",{htmlFor:o,className:"block text-sm font-medium mb-1.5 transition-colors duration-200",style:_,children:[n," ",h&&r.jsx("span",{style:N,children:"*"})]}),r.jsxs("div",{className:"relative rounded-md",children:[y&&r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-all duration-200",children:typeof y=="string"?w(y):gt.cloneElement(y,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),r.jsx("input",{type:t,name:o,id:o,value:i,onChange:l,required:h,placeholder:g,className:`block w-full ${y?"pl-10":"px-4"} py-3 border shadow-sm focus:outline-none focus:ring-2 sm:text-sm transition-all duration-300 ${m?"focus:ring-red-500 border-red-300":"focus:ring-opacity-50 focus:border-transparent focus:ring-opacity-50 group-hover:border-opacity-70"}`,style:{...k,boxShadow:m?"0 0 0 1px var(--error-color)":"var(--shadow-small)",...m?{}:{focusBorderColor:"var(--brand-primary)",focusRing:"var(--brand-primary)"}}}),r.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 transform scale-x-0 transition-transform duration-300 ease-out ${m?"bg-red-500":""}`,style:{backgroundColor:m?"var(--error-color)":"var(--brand-primary)",transformOrigin:"left",width:"100%"}})]}),m&&r.jsxs("p",{className:"mt-2 text-sm flex items-center animate-fadeIn",style:N,children:[r.jsx(gH,{className:"h-4 w-4 mr-1.5"}),m]})]})},tt=({children:n,type:t="button",onClick:o,disabled:i=!1,className:l="",variant:h="primary",isLoading:m=!1,fullWidth:g=!0,size:y="md",icon:w=null})=>{const k="flex justify-center items-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 ",_={primary:"text-white bg-teal-600 hover:bg-teal-700 focus:ring-teal-500 border-transparent",secondary:"text-teal-700 bg-white hover:bg-gray-50 focus:ring-teal-500 border border-teal-600",outline:"text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 focus:ring-teal-500",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 border-transparent"},N={primary:"text-white hover:shadow-lg focus:ring-offset-1",secondary:"hover:shadow-md focus:ring-offset-1 border",outline:"hover:shadow-md focus:ring-offset-1 border",danger:"text-white hover:shadow-md focus:ring-offset-1"},D={sm:"py-2 px-4 text-xs",md:"py-2.5 px-5 text-sm",lg:"py-3.5 px-7 text-base"},T=g?"w-full":"",R=()=>{switch(h){case"primary":return{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"secondary":return{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",borderColor:"var(--brand-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"outline":return{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"danger":return{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};default:return{}}},P=()=>r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return r.jsxs("button",{type:t,onClick:o,disabled:i||m,className:`${k} ${_[h]} ${N[h]} ${D[y]} ${T} ${l} ${i||m?"opacity-60 cursor-not-allowed":""} transform hover:-translate-y-1 active:translate-y-0 relative overflow-hidden group`,style:R(),children:[r.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:r.jsx("span",{className:"absolute -inset-[100%] bg-white/20 transform rotate-45 transition-all origin-left scale-0 group-hover:scale-100 duration-500 group-active:duration-100"})}),r.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[m&&r.jsx(P,{}),w&&!m&&r.jsx("span",{className:"mr-2 flex items-center justify-center",children:w}),n]})]})},_H=()=>{};var tD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=function(n){const t=[];let o=0;for(let i=0;i<n.length;i++){let l=n.charCodeAt(i);l<128?t[o++]=l:l<2048?(t[o++]=l>>6|192,t[o++]=l&63|128):(l&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++i)&1023),t[o++]=l>>18|240,t[o++]=l>>12&63|128,t[o++]=l>>6&63|128,t[o++]=l&63|128):(t[o++]=l>>12|224,t[o++]=l>>6&63|128,t[o++]=l&63|128)}return t},AH=function(n){const t=[];let o=0,i=0;for(;o<n.length;){const l=n[o++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const h=n[o++];t[i++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=n[o++],m=n[o++],g=n[o++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|g&63)-65536;t[i++]=String.fromCharCode(55296+(y>>10)),t[i++]=String.fromCharCode(56320+(y&1023))}else{const h=n[o++],m=n[o++];t[i++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<n.length;l+=3){const h=n[l],m=l+1<n.length,g=m?n[l+1]:0,y=l+2<n.length,w=y?n[l+2]:0,k=h>>2,_=(h&3)<<4|g>>4;let N=(g&15)<<2|w>>6,D=w&63;y||(D=64,m||(N=64)),i.push(o[k],o[_],o[N],o[D])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(yR(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AH(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const o=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<n.length;){const h=o[n.charAt(l++)],g=l<n.length?o[n.charAt(l)]:0;++l;const w=l<n.length?o[n.charAt(l)]:64;++l;const _=l<n.length?o[n.charAt(l)]:64;if(++l,h==null||g==null||w==null||_==null)throw new NH;const N=h<<2|g>>4;if(i.push(N),w!==64){const D=g<<4&240|w>>2;if(i.push(D),_!==64){const T=w<<6&192|_;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jH=function(n){const t=yR(n);return bR.encodeByteArray(t,!0)},Dw=function(n){return jH(n).replace(/\./g,"")},xR=function(n){try{return bR.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=()=>SH().__FIREBASE_DEFAULTS__,DH=()=>{if(typeof process>"u"||typeof tD>"u")return;const n=tD.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&xR(n[1]);return t&&JSON.parse(t)},yk=()=>{try{return _H()||EH()||DH()||MH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vR=n=>{var t,o;return(o=(t=yk())===null||t===void 0?void 0:t.emulatorHosts)===null||o===void 0?void 0:o[n]},wR=n=>{const t=vR(n);if(!t)return;const o=t.lastIndexOf(":");if(o<=0||o+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(o+1),10);return t[0]==="["?[t.substring(1,o-1),i]:[t.substring(0,o),i]},kR=()=>{var n;return(n=yk())===null||n===void 0?void 0:n.config},CR=n=>{var t;return(t=yk())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}wrapCallback(t){return(o,i)=>{o?this.reject(o):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(o):t(o,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n){return n.endsWith(".cloudworkstations.dev")}async function QA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},i=t||"demo-project",l=n.iat||0,h=n.sub||n.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dw(JSON.stringify(o)),Dw(JSON.stringify(m)),""].join(".")}const gb={};function IH(){const n={prod:[],emulator:[]};for(const t of Object.keys(gb))gb[t]?n.emulator.push(t):n.prod.push(t);return n}function RH(n){let t=document.getElementById(n),o=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),o=!0),{created:o,element:t}}let rD=!1;function JA(n,t){if(typeof window>"u"||typeof document>"u"||!Pm(window.location.host)||gb[n]===t||gb[n]||rD)return;gb[n]=t;function o(N){return`__firebase__banner__${N}`}const i="__firebase__banner",h=IH().prod.length>0;function m(){const N=document.getElementById(i);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,D){N.setAttribute("width","24"),N.setAttribute("id",D),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function w(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{rD=!0,m()},N}function k(N,D){N.setAttribute("id",D),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function _(){const N=RH(i),D=o("text"),T=document.getElementById(D)||document.createElement("span"),R=o("learnmore"),P=document.getElementById(R)||document.createElement("a"),F=o("preprendIcon"),V=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const G=N.element;g(G),k(P,R);const Y=w();y(V,F),G.append(V,T,P,Y),document.body.appendChild(G)}h?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qs())}function OH(){var n;const t=(n=yk())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LH(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FH(){const n=Qs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VH(){return!OH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UH(){try{return typeof indexedDB=="object"}catch{return!1}}function GH(){return new Promise((n,t)=>{try{let o=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),o||self.indexedDB.deleteDatabase(i),n(!0)},l.onupgradeneeded=()=>{o=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(o){t(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH="FirebaseError";class Vl extends Error{constructor(t,o,i){super(o),this.code=t,this.customData=i,this.name=HH,Object.setPrototypeOf(this,Vl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rx.prototype.create)}}class rx{constructor(t,o,i){this.service=t,this.serviceName=o,this.errors=i}create(t,...o){const i=o[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?qH(h,i):"Error",g=`${this.serviceName}: ${m} (${l}).`;return new Vl(l,g,i)}}function qH(n,t){return n.replace(YH,(o,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const YH=/\{\$([^}]+)}/g;function WH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Am(n,t){if(n===t)return!0;const o=Object.keys(n),i=Object.keys(t);for(const l of o){if(!i.includes(l))return!1;const h=n[l],m=t[l];if(nD(h)&&nD(m)){if(!Am(h,m))return!1}else if(h!==m)return!1}for(const l of i)if(!o.includes(l))return!1;return!0}function nD(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){const t=[];for(const[o,i]of Object.entries(n))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(o)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(o)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function sb(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,h]=i.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function ob(n){const t=n.indexOf("?");if(!t)return"";const o=n.indexOf("#",t);return n.substring(t,o>0?o:void 0)}function KH(n,t){const o=new QH(n,t);return o.subscribe.bind(o)}class QH{constructor(t,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(o=>{o.next(t)})}error(t){this.forEachObserver(o=>{o.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,o,i){let l;if(t===void 0&&o===void 0&&i===void 0)throw new Error("Missing Observer.");JH(t,["next","error","complete"])?l=t:l={next:t,error:o,complete:i},l.next===void 0&&(l.next=UC),l.error===void 0&&(l.error=UC),l.complete===void 0&&(l.complete=UC);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,t)}sendOne(t,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{o(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JH(n,t){if(typeof n!="object"||n===null)return!1;for(const o of t)if(o in n&&typeof n[o]=="function")return!0;return!1}function UC(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n){return n&&n._delegate?n._delegate:n}class Au{constructor(t,o,i){this.name=t,this.instanceFactory=o,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(t,o){this.name=t,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const o=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(o)){const i=new TH;if(this.instancesDeferred.set(o,i),this.isInitialized(o)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:o});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(t){var o;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(o=t==null?void 0:t.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($H(t))try{this.getOrInitializeService({instanceIdentifier:lm})}catch{}for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);try{const h=this.getOrInitializeService({instanceIdentifier:l});i.resolve(h)}catch{}}}}clearInstance(t=lm){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...t.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=lm){return this.instances.has(t)}getOptions(t=lm){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:o={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:o});for(const[h,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);i===g&&m.resolve(l)}return l}onInit(t,o){var i;const l=this.normalizeInstanceIdentifier(o),h=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;h.add(t),this.onInitCallbacks.set(l,h);const m=this.instances.get(l);return m&&t(m,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,o){const i=this.onInitCallbacks.get(o);if(i)for(const l of i)try{l(t,o)}catch{}}getOrInitializeService({instanceIdentifier:t,options:o={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZH(t),options:o}),this.instances.set(t,i),this.instancesOptions.set(t,o),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=lm){return this.component?this.component.multipleInstances?t:lm:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZH(n){return n===lm?void 0:n}function $H(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const o=this.getProvider(t.name);if(o.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);o.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const o=new XH(t,this);return this.providers.set(t,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(sr||(sr={}));const tq={debug:sr.DEBUG,verbose:sr.VERBOSE,info:sr.INFO,warn:sr.WARN,error:sr.ERROR,silent:sr.SILENT},rq=sr.INFO,nq={[sr.DEBUG]:"log",[sr.VERBOSE]:"log",[sr.INFO]:"info",[sr.WARN]:"warn",[sr.ERROR]:"error"},sq=(n,t,...o)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),l=nq[t];if(l)console[l](`[${i}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class XA{constructor(t){this.name=t,this._logLevel=rq,this._logHandler=sq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in sr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tq[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,sr.DEBUG,...t),this._logHandler(this,sr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,sr.VERBOSE,...t),this._logHandler(this,sr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,sr.INFO,...t),this._logHandler(this,sr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,sr.WARN,...t),this._logHandler(this,sr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,sr.ERROR,...t),this._logHandler(this,sr.ERROR,...t)}}const oq=(n,t)=>t.some(o=>n instanceof o);let sD,oD;function iq(){return sD||(sD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aq(){return oD||(oD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AR=new WeakMap,F_=new WeakMap,NR=new WeakMap,GC=new WeakMap,ZA=new WeakMap;function lq(n){const t=new Promise((o,i)=>{const l=()=>{n.removeEventListener("success",h),n.removeEventListener("error",m)},h=()=>{o(vu(n.result)),l()},m=()=>{i(n.error),l()};n.addEventListener("success",h),n.addEventListener("error",m)});return t.then(o=>{o instanceof IDBCursor&&AR.set(o,n)}).catch(()=>{}),ZA.set(t,n),t}function cq(n){if(F_.has(n))return;const t=new Promise((o,i)=>{const l=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",m),n.removeEventListener("abort",m)},h=()=>{o(),l()},m=()=>{i(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",h),n.addEventListener("error",m),n.addEventListener("abort",m)});F_.set(n,t)}let V_={get(n,t,o){if(n instanceof IDBTransaction){if(t==="done")return F_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||NR.get(n);if(t==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return vu(n[t])},set(n,t,o){return n[t]=o,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function dq(n){V_=n(V_)}function uq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...o){const i=n.call(HC(this),t,...o);return NR.set(i,t.sort?t.sort():[t]),vu(i)}:aq().includes(n)?function(...t){return n.apply(HC(this),t),vu(AR.get(this))}:function(...t){return vu(n.apply(HC(this),t))}}function hq(n){return typeof n=="function"?uq(n):(n instanceof IDBTransaction&&cq(n),oq(n,iq())?new Proxy(n,V_):n)}function vu(n){if(n instanceof IDBRequest)return lq(n);if(GC.has(n))return GC.get(n);const t=hq(n);return t!==n&&(GC.set(n,t),ZA.set(t,n)),t}const HC=n=>ZA.get(n);function mq(n,t,{blocked:o,upgrade:i,blocking:l,terminated:h}={}){const m=indexedDB.open(n,t),g=vu(m);return i&&m.addEventListener("upgradeneeded",y=>{i(vu(m.result),y.oldVersion,y.newVersion,vu(m.transaction),y)}),o&&m.addEventListener("blocked",y=>o(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),g}const pq=["get","getKey","getAll","getAllKeys","count"],fq=["put","add","delete","clear"],qC=new Map;function iD(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(qC.get(t))return qC.get(t);const o=t.replace(/FromIndex$/,""),i=t!==o,l=fq.includes(o);if(!(o in(i?IDBIndex:IDBObjectStore).prototype)||!(l||pq.includes(o)))return;const h=async function(m,...g){const y=this.transaction(m,l?"readwrite":"readonly");let w=y.store;return i&&(w=w.index(g.shift())),(await Promise.all([w[o](...g),l&&y.done]))[0]};return qC.set(t,h),h}dq(n=>({...n,get:(t,o,i)=>iD(t,o)||n.get(t,o,i),has:(t,o)=>!!iD(t,o)||n.has(t,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(yq(o)){const i=o.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(o=>o).join(" ")}}function yq(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const U_="@firebase/app",aD="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new XA("@firebase/app"),bq="@firebase/app-compat",xq="@firebase/analytics-compat",vq="@firebase/analytics",wq="@firebase/app-check-compat",kq="@firebase/app-check",Cq="@firebase/auth",_q="@firebase/auth-compat",Aq="@firebase/database",Nq="@firebase/data-connect",jq="@firebase/database-compat",Sq="@firebase/functions",Eq="@firebase/functions-compat",Dq="@firebase/installations",Mq="@firebase/installations-compat",Tq="@firebase/messaging",Iq="@firebase/messaging-compat",Rq="@firebase/performance",Pq="@firebase/performance-compat",Oq="@firebase/remote-config",Bq="@firebase/remote-config-compat",Lq="@firebase/storage",zq="@firebase/storage-compat",Fq="@firebase/firestore",Vq="@firebase/ai",Uq="@firebase/firestore-compat",Gq="firebase",Hq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="[DEFAULT]",qq={[U_]:"fire-core",[bq]:"fire-core-compat",[vq]:"fire-analytics",[xq]:"fire-analytics-compat",[kq]:"fire-app-check",[wq]:"fire-app-check-compat",[Cq]:"fire-auth",[_q]:"fire-auth-compat",[Aq]:"fire-rtdb",[Nq]:"fire-data-connect",[jq]:"fire-rtdb-compat",[Sq]:"fire-fn",[Eq]:"fire-fn-compat",[Dq]:"fire-iid",[Mq]:"fire-iid-compat",[Tq]:"fire-fcm",[Iq]:"fire-fcm-compat",[Rq]:"fire-perf",[Pq]:"fire-perf-compat",[Oq]:"fire-rc",[Bq]:"fire-rc-compat",[Lq]:"fire-gcs",[zq]:"fire-gcs-compat",[Fq]:"fire-fst",[Uq]:"fire-fst-compat",[Vq]:"fire-vertex","fire-js":"fire-js",[Gq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map,Yq=new Map,H_=new Map;function lD(n,t){try{n.container.addComponent(t)}catch(o){Jc.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,o)}}function Nm(n){const t=n.name;if(H_.has(t))return Jc.debug(`There were multiple attempts to register component ${t}.`),!1;H_.set(t,n);for(const o of Mw.values())lD(o,n);for(const o of Yq.values())lD(o,n);return!0}function bk(n,t){const o=n.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),n.container.getProvider(t)}function Io(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wu=new rx("app","Firebase",Wq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(t,o,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=Hq;function jR(n,t={}){let o=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:G_,automaticDataCollectionEnabled:!0},t),l=i.name;if(typeof l!="string"||!l)throw wu.create("bad-app-name",{appName:String(l)});if(o||(o=kR()),!o)throw wu.create("no-options");const h=Mw.get(l);if(h){if(Am(o,h.options)&&Am(i,h.config))return h;throw wu.create("duplicate-app",{appName:l})}const m=new eq(l);for(const y of H_.values())m.addComponent(y);const g=new Kq(o,i,m);return Mw.set(l,g),g}function $A(n=G_){const t=Mw.get(n);if(!t&&n===G_&&kR())return jR();if(!t)throw wu.create("no-app",{appName:n});return t}function Ml(n,t,o){var i;let l=(i=qq[n])!==null&&i!==void 0?i:n;o&&(l+=`-${o}`);const h=l.match(/\s|\//),m=t.match(/\s|\//);if(h||m){const g=[`Unable to register library "${l}" with version "${t}":`];h&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&m&&g.push("and"),m&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jc.warn(g.join(" "));return}Nm(new Au(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="firebase-heartbeat-database",Jq=1,Db="firebase-heartbeat-store";let YC=null;function SR(){return YC||(YC=mq(Qq,Jq,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Db)}catch(o){console.warn(o)}}}}).catch(n=>{throw wu.create("idb-open",{originalErrorMessage:n.message})})),YC}async function Xq(n){try{const o=(await SR()).transaction(Db),i=await o.objectStore(Db).get(ER(n));return await o.done,i}catch(t){if(t instanceof Vl)Jc.warn(t.message);else{const o=wu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Jc.warn(o.message)}}}async function cD(n,t){try{const i=(await SR()).transaction(Db,"readwrite");await i.objectStore(Db).put(t,ER(n)),await i.done}catch(o){if(o instanceof Vl)Jc.warn(o.message);else{const i=wu.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Jc.warn(i.message)}}}function ER(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=1024,$q=30;class eY{constructor(t){this.container=t,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new rY(o),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,o;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=dD();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>$q){const m=nY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jc.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=dD(),{heartbeatsToSend:i,unsentEntries:l}=tY(this._heartbeatsCache.heartbeats),h=Dw(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=o,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(o){return Jc.warn(o),""}}}function dD(){return new Date().toISOString().substring(0,10)}function tY(n,t=Zq){const o=[];let i=n.slice();for(const l of n){const h=o.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),uD(o)>t){h.dates.pop();break}}else if(o.push({agent:l.agent,dates:[l.date]}),uD(o)>t){o.pop();break}i=i.slice(1)}return{heartbeatsToSend:o,unsentEntries:i}}class rY{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UH()?GH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await Xq(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var o;if(await this._canUseIndexedDBPromise){const l=await this.read();return cD(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var o;if(await this._canUseIndexedDBPromise){const l=await this.read();return cD(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function uD(n){return Dw(JSON.stringify({version:2,heartbeats:n})).length}function nY(n){if(n.length===0)return-1;let t=0,o=n[0].date;for(let i=1;i<n.length;i++)n[i].date<o&&(o=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(n){Nm(new Au("platform-logger",t=>new gq(t),"PRIVATE")),Nm(new Au("heartbeat",t=>new eY(t),"PRIVATE")),Ml(U_,aD,n),Ml(U_,aD,"esm2017"),Ml("fire-js","")}sY("");var oY="firebase",iY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ml(oY,iY,"app");function e2(n,t){var o={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(n);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(n,i[l])&&(o[i[l]]=n[i[l]]);return o}function DR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aY=DR,MR=new rx("auth","Firebase",DR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new XA("@firebase/auth");function lY(n,...t){Tw.logLevel<=sr.WARN&&Tw.warn(`Auth (${Om}): ${n}`,...t)}function aw(n,...t){Tw.logLevel<=sr.ERROR&&Tw.error(`Auth (${Om}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n,...t){throw r2(n,...t)}function Ta(n,...t){return r2(n,...t)}function t2(n,t,o){const i=Object.assign(Object.assign({},aY()),{[t]:o});return new rx("auth","Firebase",i).create(t,{appName:n.name})}function Gc(n){return t2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cY(n,t,o){const i=o;if(!(t instanceof i))throw i.name!==t.constructor.name&&Fi(n,"argument-error"),t2(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r2(n,...t){if(typeof n!="string"){const o=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(o,...i)}return MR.create(n,...t)}function wt(n,t,...o){if(!n)throw r2(t,...o)}function Fc(n){const t="INTERNAL ASSERTION FAILED: "+n;throw aw(t),new Error(t)}function Xc(n,t){n||Fc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dY(){return hD()==="http:"||hD()==="https:"}function hD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dY()||LH()||"connection"in navigator)?navigator.onLine:!0}function hY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,o){this.shortDelay=t,this.longDelay=o,Xc(o>t,"Short delay should be less than long delay!"),this.isMobile=PH()||zH()}get(){return uY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n,t){Xc(n.emulator,"Emulator should always be set here");const{url:o}=n.emulator;return t?`${o}${t.startsWith("/")?t.slice(1):t}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{static initialize(t,o,i){this.fetchImpl=t,o&&(this.headersImpl=o),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fY=new sx(3e4,6e4);function Ou(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Bu(n,t,o,i,l={}){return IR(n,l,async()=>{let h={},m={};i&&(t==="GET"?m=i:h={body:JSON.stringify(i)});const g=nx(Object.assign({key:n.config.apiKey},m)).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const w=Object.assign({method:t,headers:y},h);return BH()||(w.referrerPolicy="no-referrer"),n.emulatorConfig&&Pm(n.emulatorConfig.host)&&(w.credentials="include"),TR.fetch()(await RR(n,n.config.apiHost,o,g),w)})}async function IR(n,t,o){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},mY),t);try{const l=new yY(n),h=await Promise.race([o(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw z0(n,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const g=h.ok?m.errorMessage:m.error.message,[y,w]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw z0(n,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw z0(n,"email-already-in-use",m);if(y==="USER_DISABLED")throw z0(n,"user-disabled",m);const k=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw t2(n,k,w);Fi(n,k)}}catch(l){if(l instanceof Vl)throw l;Fi(n,"network-request-failed",{message:String(l)})}}async function ox(n,t,o,i,l={}){const h=await Bu(n,t,o,i,l);return"mfaPendingCredential"in h&&Fi(n,"multi-factor-auth-required",{_serverResponse:h}),h}async function RR(n,t,o,i){const l=`${t}${o}?${i}`,h=n,m=h.config.emulator?n2(n.config,l):`${n.config.apiScheme}://${l}`;return pY.includes(o)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function gY(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((o,i)=>{this.timer=setTimeout(()=>i(Ta(this.auth,"network-request-failed")),fY.get())})}}function z0(n,t,o){const i={appName:n.name};o.email&&(i.email=o.email),o.phoneNumber&&(i.phoneNumber=o.phoneNumber);const l=Ta(n,t,i);return l.customData._tokenResponse=o,l}function mD(n){return n!==void 0&&n.enterprise!==void 0}class bY{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const o of this.recaptchaEnforcementState)if(o.provider&&o.provider===t)return gY(o.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xY(n,t){return Bu(n,"GET","/v2/recaptchaConfig",Ou(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vY(n,t){return Bu(n,"POST","/v1/accounts:delete",t)}async function Iw(n,t){return Bu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wY(n,t=!1){const o=vs(n),i=await o.getIdToken(t),l=s2(i);wt(l&&l.exp&&l.auth_time&&l.iat,o.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h==null?void 0:h.sign_in_provider;return{claims:l,token:i,authTime:yb(WC(l.auth_time)),issuedAtTime:yb(WC(l.iat)),expirationTime:yb(WC(l.exp)),signInProvider:m||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function WC(n){return Number(n)*1e3}function s2(n){const[t,o,i]=n.split(".");if(t===void 0||o===void 0||i===void 0)return aw("JWT malformed, contained fewer than 3 sections"),null;try{const l=xR(o);return l?JSON.parse(l):(aw("Failed to decode base64 JWT payload"),null)}catch(l){return aw("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function pD(n){const t=s2(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(n,t,o=!1){if(o)return t;try{return await t}catch(i){throw i instanceof Vl&&kY(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function kY({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var o;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((o=this.user.stsTokenManager.expirationTime)!==null&&o!==void 0?o:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const o=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t,o){this.createdAt=t,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=yb(this.lastLoginAt),this.creationTime=yb(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(n){var t;const o=n.auth,i=await n.getIdToken(),l=await Mb(n,Iw(o,{idToken:i}));wt(l==null?void 0:l.users.length,o,"internal-error");const h=l.users[0];n._notifyReloadListener(h);const m=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?PR(h.providerUserInfo):[],g=AY(n.providerData,m),y=n.isAnonymous,w=!(n.email&&h.passwordHash)&&!(g!=null&&g.length),k=y?w:!1,_={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new Y_(h.createdAt,h.lastLoginAt),isAnonymous:k};Object.assign(n,_)}async function _Y(n){const t=vs(n);await Rw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AY(n,t){return[...n.filter(i=>!t.some(l=>l.providerId===i.providerId)),...t]}function PR(n){return n.map(t=>{var{providerId:o}=t,i=e2(t,["providerId"]);return{providerId:o,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NY(n,t){const o=await IR(n,{},async()=>{const i=nx({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=n.config,m=await RR(n,l,"/v1/token",`key=${h}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:i};return n.emulatorConfig&&Pm(n.emulatorConfig.host)&&(y.credentials="include"),TR.fetch()(m,y)});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}async function jY(n,t){return Bu(n,"POST","/v2/accounts:revokeToken",Ou(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const o="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pD(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,o)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const o=pD(t);this.updateTokensAndExpiration(t,null,o)}async getToken(t,o=!1){return!o&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,o){const{accessToken:i,refreshToken:l,expiresIn:h}=await NY(t,o);this.updateTokensAndExpiration(i,l,Number(h))}updateTokensAndExpiration(t,o,i){this.refreshToken=o||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,o){const{refreshToken:i,accessToken:l,expirationTime:h}=o,m=new Af;return i&&(wt(typeof i=="string","internal-error",{appName:t}),m.refreshToken=i),l&&(wt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(wt(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Af,this.toJSON())}_performRefresh(){return Fc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Da{constructor(t){var{uid:o,auth:i,stsTokenManager:l}=t,h=e2(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Y_(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const o=await Mb(this,this.stsTokenManager.getToken(this.auth,t));return wt(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(t){return wY(this,t)}reload(){return _Y(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(o=>Object.assign({},o)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const o=new Da(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,o=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),o&&await Rw(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Io(this.auth.app))return Promise.reject(Gc(this.auth));const t=await this.getIdToken();return await Mb(this,vY(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,o){var i,l,h,m,g,y,w,k;const _=(i=o.displayName)!==null&&i!==void 0?i:void 0,N=(l=o.email)!==null&&l!==void 0?l:void 0,D=(h=o.phoneNumber)!==null&&h!==void 0?h:void 0,T=(m=o.photoURL)!==null&&m!==void 0?m:void 0,R=(g=o.tenantId)!==null&&g!==void 0?g:void 0,P=(y=o._redirectEventId)!==null&&y!==void 0?y:void 0,F=(w=o.createdAt)!==null&&w!==void 0?w:void 0,V=(k=o.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:G,emailVerified:Y,isAnonymous:ee,providerData:le,stsTokenManager:J}=o;wt(G&&J,t,"internal-error");const B=Af.fromJSON(this.name,J);wt(typeof G=="string",t,"internal-error"),uu(_,t.name),uu(N,t.name),wt(typeof Y=="boolean",t,"internal-error"),wt(typeof ee=="boolean",t,"internal-error"),uu(D,t.name),uu(T,t.name),uu(R,t.name),uu(P,t.name),uu(F,t.name),uu(V,t.name);const W=new Da({uid:G,auth:t,email:N,emailVerified:Y,displayName:_,isAnonymous:ee,photoURL:T,phoneNumber:D,tenantId:R,stsTokenManager:B,createdAt:F,lastLoginAt:V});return le&&Array.isArray(le)&&(W.providerData=le.map(Z=>Object.assign({},Z))),P&&(W._redirectEventId=P),W}static async _fromIdTokenResponse(t,o,i=!1){const l=new Af;l.updateFromServerResponse(o);const h=new Da({uid:o.localId,auth:t,stsTokenManager:l,isAnonymous:i});return await Rw(h),h}static async _fromGetAccountInfoResponse(t,o,i){const l=o.users[0];wt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?PR(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),g=new Af;g.updateFromIdToken(i);const y=new Da({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:m}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Y_(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,w),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Map;function Vc(n){Xc(n instanceof Function,"Expected a class definition");let t=fD.get(n);return t?(Xc(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,fD.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,o){this.storage[t]=o}async _get(t){const o=this.storage[t];return o===void 0?null:o}async _remove(t){delete this.storage[t]}_addListener(t,o){}_removeListener(t,o){}}OR.type="NONE";const gD=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n,t,o){return`firebase:${n}:${t}:${o}`}class Nf{constructor(t,o,i){this.persistence=t,this.auth=o,this.userKey=i;const{config:l,name:h}=this.auth;this.fullUserKey=lw(this.userKey,l.apiKey,h),this.fullPersistenceKey=lw("persistence",l.apiKey,h),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const o=await Iw(this.auth,{idToken:t}).catch(()=>{});return o?Da._fromGetAccountInfoResponse(this.auth,o,t):null}return Da._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,o,i="authUser"){if(!o.length)return new Nf(Vc(gD),t,i);const l=(await Promise.all(o.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let h=l[0]||Vc(gD);const m=lw(i,t.config.apiKey,t.name);let g=null;for(const w of o)try{const k=await w._get(m);if(k){let _;if(typeof k=="string"){const N=await Iw(t,{idToken:k}).catch(()=>{});if(!N)break;_=await Da._fromGetAccountInfoResponse(t,N,k)}else _=Da._fromJSON(t,k);w!==h&&(g=_),h=w;break}}catch{}const y=l.filter(w=>w._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Nf(h,t,i):(h=y[0],g&&await h._set(m,g.toJSON()),await Promise.all(o.map(async w=>{if(w!==h)try{await w._remove(m)}catch{}})),new Nf(h,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UR(t))return"Blackberry";if(GR(t))return"Webos";if(LR(t))return"Safari";if((t.includes("chrome/")||zR(t))&&!t.includes("edge/"))return"Chrome";if(VR(t))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(o);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function BR(n=Qs()){return/firefox\//i.test(n)}function LR(n=Qs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zR(n=Qs()){return/crios\//i.test(n)}function FR(n=Qs()){return/iemobile/i.test(n)}function VR(n=Qs()){return/android/i.test(n)}function UR(n=Qs()){return/blackberry/i.test(n)}function GR(n=Qs()){return/webos/i.test(n)}function o2(n=Qs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SY(n=Qs()){var t;return o2(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EY(){return FH()&&document.documentMode===10}function HR(n=Qs()){return o2(n)||VR(n)||GR(n)||UR(n)||/windows phone/i.test(n)||FR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,t=[]){let o;switch(n){case"Browser":o=yD(Qs());break;case"Worker":o=`${yD(Qs())}-${n}`;break;default:o=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${o}/JsCore/${Om}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,o){const i=h=>new Promise((m,g)=>{try{const y=t(h);m(y)}catch(y){g(y)}});i.onAbort=o,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const o=[];try{for(const i of this.queue)await i(t),i.onAbort&&o.push(i.onAbort)}catch(i){o.reverse();for(const l of o)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MY(n,t={}){return Bu(n,"GET","/v2/passwordPolicy",Ou(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=6;class IY{constructor(t){var o,i,l,h;const m=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(o=m.minPasswordLength)!==null&&o!==void 0?o:TY,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var o,i,l,h,m,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(o=y.meetsMinPasswordLength)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(i=y.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(m=y.containsNumericCharacter)!==null&&m!==void 0?m:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,o){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(o.meetsMinPasswordLength=t.length>=i),l&&(o.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,o){this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);let i;for(let l=0;l<t.length;l++)i=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(o,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,o,i,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(t,o,i,l){this.app=t,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bD(this),this.idTokenSubscription=new bD(this),this.beforeStateQueue=new DY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,o){return o&&(this._popupRedirectResolver=Vc(o)),this._initializationPromise=this.queue(async()=>{var i,l,h;if(!this._deleted&&(this.persistenceManager=await Nf.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const o=await Iw(this,{idToken:t}),i=await Da._fromGetAccountInfoResponse(this,o,t);await this.directlySetCurrentUser(i)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var o;if(Io(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!m||m===g)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(m){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(t){try{await Rw(t)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hY()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Io(this.app))return Promise.reject(Gc(this));const o=t?vs(t):null;return o&&wt(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(t,o=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Io(this.app)?Promise.reject(Gc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Io(this.app)?Promise.reject(Gc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const o=this._getPasswordPolicyInternal();return o.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MY(this),o=new IY(t);this.tenantId===null?this._projectPasswordPolicy=o:this._tenantPasswordPolicies[this.tenantId]=o}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rx("auth","Firebase",t())}onAuthStateChanged(t,o,i){return this.registerStateListener(this.authStateSubscription,t,o,i)}beforeAuthStateChanged(t,o){return this.beforeStateQueue.pushCallback(t,o)}onIdTokenChanged(t,o,i){return this.registerStateListener(this.idTokenSubscription,t,o,i)}authStateReady(){return new Promise((t,o)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},o)}})}async revokeAccessToken(t){if(this.currentUser){const o=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:o};this.tenantId!=null&&(i.tenantId=this.tenantId),await jY(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,o){const i=await this.getOrInitRedirectPersistenceManager(o);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const o=t&&Vc(t)||this._popupRedirectResolver;wt(o,this,"argument-error"),this.redirectPersistenceManager=await Nf.create(this,[Vc(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var o,i;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)===null||o===void 0?void 0:o._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(o=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&o!==void 0?o:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,o,i,l){if(this._deleted)return()=>{};const h=typeof o=="function"?o:o.next.bind(o);let m=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(g,this,"internal-error"),g.then(()=>{m||h(this.currentUser)}),typeof o=="function"){const y=t.addObserver(o,i,l);return()=>{m=!0,y()}}else{const y=t.addObserver(o);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const o={"X-Client-Version":this.clientVersion};this.app.options.appId&&(o["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(o["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(o["X-Firebase-AppCheck"]=l),o}async _getAppCheckToken(){var t;if(Io(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const o=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return o!=null&&o.error&&lY(`Error while retrieving App Check token: ${o.error}`),o==null?void 0:o.token}}function Lu(n){return vs(n)}class bD{constructor(t){this.auth=t,this.observer=null,this.addObserver=KH(o=>this.observer=o)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PY(n){xk=n}function YR(n){return xk.loadJS(n)}function OY(){return xk.recaptchaEnterpriseScript}function BY(){return xk.gapiScript}function LY(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zY{constructor(){this.enterprise=new FY}ready(t){t()}execute(t,o){return Promise.resolve("token")}render(t,o){return""}}class FY{ready(t){t()}execute(t,o){return Promise.resolve("token")}render(t,o){return""}}const VY="recaptcha-enterprise",WR="NO_RECAPTCHA";class UY{constructor(t){this.type=VY,this.auth=Lu(t)}async verify(t="verify",o=!1){async function i(h){if(!o){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,g)=>{xY(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const w=new bY(y);return h.tenantId==null?h._agentRecaptchaConfig=w:h._tenantRecaptchaConfigs[h.tenantId]=w,m(w.siteKey)}}).catch(y=>{g(y)})})}function l(h,m,g){const y=window.grecaptcha;mD(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(w=>{m(w)}).catch(()=>{m(WR)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zY().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{i(this.auth).then(g=>{if(!o&&mD(window.grecaptcha))l(g,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let y=OY();y.length!==0&&(y+=g),YR(y).then(()=>{l(g,h,m)}).catch(w=>{m(w)})}}).catch(g=>{m(g)})})}}async function xD(n,t,o,i=!1,l=!1){const h=new UY(n);let m;if(l)m=WR;else try{m=await h.verify(o)}catch{m=await h.verify(o,!0)}const g=Object.assign({},t);if(o==="mfaSmsEnrollment"||o==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,w=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:w,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return i?Object.assign(g,{captchaResp:m}):Object.assign(g,{captchaResponse:m}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function W_(n,t,o,i,l){var h;if(!((h=n._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await xD(n,t,o,o==="getOobCode");return i(n,m)}else return i(n,t).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${o} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await xD(n,t,o,o==="getOobCode");return i(n,g)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(n,t){const o=bk(n,"auth");if(o.isInitialized()){const l=o.getImmediate(),h=o.getOptions();if(Am(h,t??{}))return l;Fi(l,"already-initialized")}return o.initialize({options:t})}function HY(n,t){const o=(t==null?void 0:t.persistence)||[],i=(Array.isArray(o)?o:[o]).map(Vc);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function qY(n,t,o){const i=Lu(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const l=!1,h=KR(t),{host:m,port:g}=YY(t),y=g===null?"":`:${g}`,w={url:`${h}//${m}${y}/`},k=Object.freeze({host:m,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Am(w,i.config.emulator)&&Am(k,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=w,i.emulatorConfig=k,i.settings.appVerificationDisabledForTesting=!0,Pm(m)?(QA(`${h}//${m}${y}`),JA("Auth",!0)):WY()}function KR(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function YY(n){const t=KR(n),o=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!o)return{host:"",port:null};const i=o[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const h=l[1];return{host:h,port:vD(i.substr(h.length+1))}}else{const[h,m]=i.split(":");return{host:h,port:vD(m)}}}function vD(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function WY(){function n(){const t=document.createElement("p"),o=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,o){this.providerId=t,this.signInMethod=o}toJSON(){return Fc("not implemented")}_getIdTokenResponse(t){return Fc("not implemented")}_linkToIdToken(t,o){return Fc("not implemented")}_getReauthenticationResolver(t){return Fc("not implemented")}}async function KY(n,t){return Bu(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QY(n,t){return ox(n,"POST","/v1/accounts:signInWithPassword",Ou(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY(n,t){return ox(n,"POST","/v1/accounts:signInWithEmailLink",Ou(n,t))}async function XY(n,t){return ox(n,"POST","/v1/accounts:signInWithEmailLink",Ou(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends i2{constructor(t,o,i,l=null){super("password",i),this._email=t,this._password=o,this._tenantId=l}static _fromEmailAndPassword(t,o){return new Tb(t,o,"password")}static _fromEmailAndCode(t,o,i=null){return new Tb(t,o,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const o=typeof t=="string"?JSON.parse(t):t;if(o!=null&&o.email&&(o!=null&&o.password)){if(o.signInMethod==="password")return this._fromEmailAndPassword(o.email,o.password);if(o.signInMethod==="emailLink")return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(t,o,"signInWithPassword",QY);case"emailLink":return JY(t,{email:this._email,oobCode:this._password});default:Fi(t,"internal-error")}}async _linkToIdToken(t,o){switch(this.signInMethod){case"password":const i={idToken:o,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(t,i,"signUpPassword",KY);case"emailLink":return XY(t,{idToken:o,email:this._email,oobCode:this._password});default:Fi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(n,t){return ox(n,"POST","/v1/accounts:signInWithIdp",Ou(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY="http://localhost";class jm extends i2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const o=new jm(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(o.idToken=t.idToken),t.accessToken&&(o.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(o.nonce=t.nonce),t.pendingToken&&(o.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(o.accessToken=t.oauthToken,o.secret=t.oauthTokenSecret):Fi("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const o=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:l}=o,h=e2(o,["providerId","signInMethod"]);if(!i||!l)return null;const m=new jm(i,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const o=this.buildRequest();return jf(t,o)}_linkToIdToken(t,o){const i=this.buildRequest();return i.idToken=o,jf(t,i)}_getReauthenticationResolver(t){const o=this.buildRequest();return o.autoCreate=!1,jf(t,o)}buildRequest(){const t={requestUri:ZY,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),t.postBody=nx(o)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eW(n){const t=sb(ob(n)).link,o=t?sb(ob(t)).deep_link_id:null,i=sb(ob(n)).deep_link_id;return(i?sb(ob(i)).link:null)||i||o||t||n}class a2{constructor(t){var o,i,l,h,m,g;const y=sb(ob(t)),w=(o=y.apiKey)!==null&&o!==void 0?o:null,k=(i=y.oobCode)!==null&&i!==void 0?i:null,_=$Y((l=y.mode)!==null&&l!==void 0?l:null);wt(w&&k&&_,"argument-error"),this.apiKey=w,this.operation=_,this.code=k,this.continueUrl=(h=y.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(m=y.lang)!==null&&m!==void 0?m:null,this.tenantId=(g=y.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const o=eW(t);try{return new a2(o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this.providerId=Yf.PROVIDER_ID}static credential(t,o){return Tb._fromEmailAndPassword(t,o)}static credentialWithLink(t,o){const i=a2.parseLink(o);return wt(i,"argument-error"),Tb._fromEmailAndCode(t,i.code,i.tenantId)}}Yf.PROVIDER_ID="password";Yf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends l2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends ix{constructor(){super("facebook.com")}static credential(t){return jm._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fu.credentialFromTaggedObject(t)}static credentialFromError(t){return fu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fu.credential(t.oauthAccessToken)}catch{return null}}}fu.FACEBOOK_SIGN_IN_METHOD="facebook.com";fu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends ix{constructor(){super("google.com"),this.addScope("profile")}static credential(t,o){return jm._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:o})}static credentialFromResult(t){return zc.credentialFromTaggedObject(t)}static credentialFromError(t){return zc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:o,oauthAccessToken:i}=t;if(!o&&!i)return null;try{return zc.credential(o,i)}catch{return null}}}zc.GOOGLE_SIGN_IN_METHOD="google.com";zc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends ix{constructor(){super("github.com")}static credential(t){return jm._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gu.credentialFromTaggedObject(t)}static credentialFromError(t){return gu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gu.credential(t.oauthAccessToken)}catch{return null}}}gu.GITHUB_SIGN_IN_METHOD="github.com";gu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends ix{constructor(){super("twitter.com")}static credential(t,o){return jm._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:o})}static credentialFromResult(t){return yu.credentialFromTaggedObject(t)}static credentialFromError(t){return yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:o,oauthTokenSecret:i}=t;if(!o||!i)return null;try{return yu.credential(o,i)}catch{return null}}}yu.TWITTER_SIGN_IN_METHOD="twitter.com";yu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(n,t){return ox(n,"POST","/v1/accounts:signUp",Ou(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,o,i,l=!1){const h=await Da._fromIdTokenResponse(t,i,l),m=wD(i);return new Sm({user:h,providerId:m,_tokenResponse:i,operationType:o})}static async _forOperation(t,o,i){await t._updateTokensIfNecessary(i,!0);const l=wD(i);return new Sm({user:t,providerId:l,_tokenResponse:i,operationType:o})}}function wD(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Vl{constructor(t,o,i,l){var h;super(o.code,o.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Pw.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:o.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,o,i,l){return new Pw(t,o,i,l)}}function QR(n,t,o,i){return(t==="reauthenticate"?o._getReauthenticationResolver(n):o._getIdTokenResponse(n)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Pw._fromErrorAndOperation(n,h,t,i):h})}async function rW(n,t,o=!1){const i=await Mb(n,t._linkToIdToken(n.auth,await n.getIdToken()),o);return Sm._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(n,t,o=!1){const{auth:i}=n;if(Io(i.app))return Promise.reject(Gc(i));const l="reauthenticate";try{const h=await Mb(n,QR(i,l,t,n),o);wt(h.idToken,i,"internal-error");const m=s2(h.idToken);wt(m,i,"internal-error");const{sub:g}=m;return wt(n.uid===g,i,"user-mismatch"),Sm._forOperation(n,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Fi(i,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,t,o=!1){if(Io(n.app))return Promise.reject(Gc(n));const i="signIn",l=await QR(n,i,t),h=await Sm._fromIdTokenResponse(n,i,l);return o||await n._updateCurrentUser(h.user),h}async function sW(n,t){return JR(Lu(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n){const t=Lu(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kD(n,t,o){if(Io(n.app))return Promise.reject(Gc(n));const i=Lu(n),m=await W_(i,{returnSecureToken:!0,email:t,password:o,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tW).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&XR(n),y}),g=await Sm._fromIdTokenResponse(i,"signIn",m);return await i._updateCurrentUser(g.user),g}function oW(n,t,o){return Io(n.app)?Promise.reject(Gc(n)):sW(vs(n),Yf.credential(t,o)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&XR(n),i})}function iW(n,t,o,i){return vs(n).onIdTokenChanged(t,o,i)}function aW(n,t,o){return vs(n).beforeAuthStateChanged(t,o)}function lW(n){return vs(n).signOut()}const Ow="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,o){this.storageRetriever=t,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(Ow,"1"),this.storage.removeItem(Ow),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,o){return this.storage.setItem(t,JSON.stringify(o)),Promise.resolve()}_get(t){const o=this.storage.getItem(t);return Promise.resolve(o?JSON.parse(o):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=1e3,dW=10;class $R extends ZR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,o)=>this.onStorageEvent(t,o),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const o of Object.keys(this.listeners)){const i=this.storage.getItem(o),l=this.localCache[o];i!==l&&t(o,l,i)}}onStorageEvent(t,o=!1){if(!t.key){this.forAllChangedKeys((m,g,y)=>{this.notifyListeners(m,y)});return}const i=t.key;o?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(i);!o&&this.localCache[i]===m||this.notifyListeners(i,m)},h=this.storage.getItem(i);EY()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dW):l()}notifyListeners(t,o){this.localCache[t]=o;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,o,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:o,newValue:i}),!0)})},cW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(o)}_removeListener(t,o){this.listeners[t]&&(this.listeners[t].delete(o),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,o){await super._set(t,o),this.localCache[t]=JSON.stringify(o)}async _get(t){const o=await super._get(t);return this.localCache[t]=JSON.stringify(o),o}async _remove(t){await super._remove(t),delete this.localCache[t]}}$R.type="LOCAL";const uW=$R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3 extends ZR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,o){}_removeListener(t,o){}}e3.type="SESSION";const t3=e3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const o=this.receivers.find(l=>l.isListeningto(t));if(o)return o;const i=new vk(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const o=t,{eventId:i,eventType:l,data:h}=o.data,m=this.handlersMap[l];if(!(m!=null&&m.size))return;o.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const g=Array.from(m).map(async w=>w(o.origin,h)),y=await hW(g);o.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:y})}_subscribe(t,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(o)}_unsubscribe(t,o){this.handlersMap[t]&&o&&this.handlersMap[t].delete(o),(!o||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n="",t=10){let o="";for(let i=0;i<t;i++)o+=Math.floor(Math.random()*10);return n+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,o,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((g,y)=>{const w=c2("",20);l.port1.start();const k=setTimeout(()=>{y(new Error("unsupported_event"))},i);m={messageChannel:l,onMessage(_){const N=_;if(N.data.eventId===w)switch(N.data.status){case"ack":clearTimeout(k),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(N.data.response);break;default:clearTimeout(k),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:w,data:o},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){return window}function pW(n){Tl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){return typeof Tl().WorkerGlobalScope<"u"&&typeof Tl().importScripts=="function"}async function fW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gW(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yW(){return r3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebaseLocalStorageDb",bW=1,Bw="firebaseLocalStorage",s3="fbase_key";class ax{constructor(t){this.request=t}toPromise(){return new Promise((t,o)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function wk(n,t){return n.transaction([Bw],t?"readwrite":"readonly").objectStore(Bw)}function xW(){const n=indexedDB.deleteDatabase(n3);return new ax(n).toPromise()}function K_(){const n=indexedDB.open(n3,bW);return new Promise((t,o)=>{n.addEventListener("error",()=>{o(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Bw,{keyPath:s3})}catch(l){o(l)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Bw)?t(i):(i.close(),await xW(),t(await K_()))})})}async function CD(n,t,o){const i=wk(n,!0).put({[s3]:t,value:o});return new ax(i).toPromise()}async function vW(n,t){const o=wk(n,!1).get(t),i=await new ax(o).toPromise();return i===void 0?null:i.value}function _D(n,t){const o=wk(n,!0).delete(t);return new ax(o).toPromise()}const wW=800,kW=3;class o3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K_(),this.db)}async _withRetries(t){let o=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(o++>kW)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vk._getInstance(yW()),this.receiver._subscribe("keyChanged",async(t,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(t,o)=>["keyChanged"])}async initializeSender(){var t,o;if(this.activeServiceWorker=await fW(),!this.activeServiceWorker)return;this.sender=new mW(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((o=i[0])===null||o===void 0)&&o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await K_();return await CD(t,Ow,"1"),await _D(t,Ow),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,o){return this._withPendingWrite(async()=>(await this._withRetries(i=>CD(i,t,o)),this.localCache[t]=o,this.notifyServiceWorker(t)))}async _get(t){const o=await this._withRetries(i=>vW(i,t));return this.localCache[t]=o,o}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(o=>_D(o,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=wk(l,!1).getAll();return new ax(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const o=[],i=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),o.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),o.push(l));return o}notifyListeners(t,o){this.localCache[t]=o;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(o)}_removeListener(t,o){this.listeners[t]&&(this.listeners[t].delete(o),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o3.type="LOCAL";const CW=o3;new sx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(n,t){return t?Vc(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends i2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jf(t,this._buildIdpRequest())}_linkToIdToken(t,o){return jf(t,this._buildIdpRequest(o))}_getReauthenticationResolver(t){return jf(t,this._buildIdpRequest())}_buildIdpRequest(t){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(o.idToken=t),o}}function _W(n){return JR(n.auth,new d2(n),n.bypassAuthState)}function AW(n){const{auth:t,user:o}=n;return wt(o,t,"internal-error"),nW(o,new d2(n),n.bypassAuthState)}async function NW(n){const{auth:t,user:o}=n;return wt(o,t,"internal-error"),rW(o,new d2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(t,o,i,l,h=!1){this.auth=t,this.resolver=i,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(t,o)=>{this.pendingPromise={resolve:t,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:o,sessionId:i,postBody:l,tenantId:h,error:m,type:g}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:o,sessionId:i,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(w){this.reject(w)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _W;case"linkViaPopup":case"linkViaRedirect":return NW;case"reauthViaPopup":case"reauthViaRedirect":return AW;default:Fi(this.auth,"internal-error")}}resolve(t){Xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=new sx(2e3,1e4);async function SW(n,t,o){if(Io(n.app))return Promise.reject(Ta(n,"operation-not-supported-in-this-environment"));const i=Lu(n);cY(n,t,l2);const l=i3(i,o);return new mm(i,"signInViaPopup",t,l).executeNotNull()}class mm extends a3{constructor(t,o,i,l,h){super(t,o,l,h),this.provider=i,this.authWindow=null,this.pollId=null,mm.currentPopupAction&&mm.currentPopupAction.cancel(),mm.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Xc(this.filter.length===1,"Popup operations only handle one event");const t=c2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(Ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mm.currentPopupAction=null}pollUserCancellation(){const t=()=>{var o,i;if(!((i=(o=this.authWindow)===null||o===void 0?void 0:o.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jW.get())};t()}}mm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW="pendingRedirect",cw=new Map;class DW extends a3{constructor(t,o,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,i),this.eventId=null}async execute(){let t=cw.get(this.auth._key());if(!t){try{const i=await MW(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(o){t=()=>Promise.reject(o)}cw.set(this.auth._key(),t)}return this.bypassAuthState||cw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const o=await this.auth._redirectUserForId(t.eventId);if(o)return this.user=o,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MW(n,t){const o=RW(t),i=IW(n);if(!await i._isAvailable())return!1;const l=await i._get(o)==="true";return await i._remove(o),l}function TW(n,t){cw.set(n._key(),t)}function IW(n){return Vc(n._redirectPersistence)}function RW(n){return lw(EW,n.config.apiKey,n.name)}async function PW(n,t,o=!1){if(Io(n.app))return Promise.reject(Gc(n));const i=Lu(n),l=i3(i,t),m=await new DW(i,l,o).execute();return m&&!o&&(delete m.user._redirectEventId,await i._persistUserIfCurrent(m.user),await i._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=10*60*1e3;class BW{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let o=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(o=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LW(t)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=t,o=!0)),o}sendToConsumer(t,o){var i;if(t.error&&!l3(t)){const l=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";o.onError(Ta(this.auth,l))}else o.onAuthEvent(t)}isEventForConsumer(t,o){const i=o.eventId===null||!!t.eventId&&t.eventId===o.eventId;return o.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OW&&this.cachedEventUids.clear(),this.cachedEventUids.has(AD(t))}saveEventToCache(t){this.cachedEventUids.add(AD(t)),this.lastProcessedEventTime=Date.now()}}function AD(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function l3({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function LW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(n,t={}){return Bu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VW=/^https?/;async function UW(n){if(n.config.emulator)return;const{authorizedDomains:t}=await zW(n);for(const o of t)try{if(GW(o))return}catch{}Fi(n,"unauthorized-domain")}function GW(n){const t=q_(),{protocol:o,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const m=new URL(n);return m.hostname===""&&i===""?o==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):o==="chrome-extension:"&&m.hostname===i}if(!VW.test(o))return!1;if(FW.test(n))return i===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=new sx(3e4,6e4);function ND(){const n=Tl().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let o=0;o<n.CP.length;o++)n.CP[o]=null}}function qW(n){return new Promise((t,o)=>{var i,l,h;function m(){ND(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ND(),o(Ta(n,"network-request-failed"))},timeout:HW.get()})}if(!((l=(i=Tl().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Tl().gapi)===null||h===void 0)&&h.load)m();else{const g=LY("iframefcb");return Tl()[g]=()=>{gapi.load?m():o(Ta(n,"network-request-failed"))},YR(`${BY()}?onload=${g}`).catch(y=>o(y))}}).catch(t=>{throw dw=null,t})}let dw=null;function YW(n){return dw=dw||qW(n),dw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new sx(5e3,15e3),KW="__/auth/iframe",QW="emulator/auth/iframe",JW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZW(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const o=t.emulator?n2(t,QW):`https://${n.config.authDomain}/${KW}`,i={apiKey:t.apiKey,appName:n.name,v:Om},l=XW.get(n.config.apiHost);l&&(i.eid=l);const h=n._getFrameworks();return h.length&&(i.fw=h.join(",")),`${o}?${nx(i).slice(1)}`}async function $W(n){const t=await YW(n),o=Tl().gapi;return wt(o,n,"internal-error"),t.open({where:document.body,url:ZW(n),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JW,dontclear:!0},i=>new Promise(async(l,h)=>{await i.restyle({setHideOnLeave:!1});const m=Ta(n,"network-request-failed"),g=Tl().setTimeout(()=>{h(m)},WW.get());function y(){Tl().clearTimeout(g),l(i)}i.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tK=500,rK=600,nK="_blank",sK="http://localhost";class jD{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oK(n,t,o,i=tK,l=rK){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const y=Object.assign(Object.assign({},eK),{width:i.toString(),height:l.toString(),top:h,left:m}),w=Qs().toLowerCase();o&&(g=zR(w)?nK:o),BR(w)&&(t=t||sK,y.scrollbars="yes");const k=Object.entries(y).reduce((N,[D,T])=>`${N}${D}=${T},`,"");if(SY(w)&&g!=="_self")return iK(t||"",g),new jD(null);const _=window.open(t||"",g,k);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new jD(_)}function iK(n,t){const o=document.createElement("a");o.href=n,o.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK="__/auth/handler",lK="emulator/auth/handler",cK=encodeURIComponent("fac");async function SD(n,t,o,i,l,h){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const m={apiKey:n.config.apiKey,appName:n.name,authType:o,redirectUrl:i,v:Om,eventId:l};if(t instanceof l2){t.setDefaultLanguage(n.languageCode),m.providerId=t.providerId||"",WH(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[k,_]of Object.entries({}))m[k]=_}if(t instanceof ix){const k=t.getScopes().filter(_=>_!=="");k.length>0&&(m.scopes=k.join(","))}n.tenantId&&(m.tid=n.tenantId);const g=m;for(const k of Object.keys(g))g[k]===void 0&&delete g[k];const y=await n._getAppCheckToken(),w=y?`#${cK}=${encodeURIComponent(y)}`:"";return`${dK(n)}?${nx(g).slice(1)}${w}`}function dK({config:n}){return n.emulator?n2(n,lK):`https://${n.authDomain}/${aK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="webStorageSupport";class uK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t3,this._completeRedirectFn=PW,this._overrideRedirectResult=TW}async _openPopup(t,o,i,l){var h;Xc((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const m=await SD(t,o,i,q_(),l);return oK(t,m,c2())}async _openRedirect(t,o,i,l){await this._originValidation(t);const h=await SD(t,o,i,q_(),l);return pW(h),new Promise(()=>{})}_initialize(t){const o=t._key();if(this.eventManagers[o]){const{manager:l,promise:h}=this.eventManagers[o];return l?Promise.resolve(l):(Xc(h,"If manager is not set, promise should be"),h)}const i=this.initAndGetManager(t);return this.eventManagers[o]={promise:i},i.catch(()=>{delete this.eventManagers[o]}),i}async initAndGetManager(t){const o=await $W(t),i=new BW(t);return o.register("authEvent",l=>(wt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=o,i}_isIframeWebStorageSupported(t,o){this.iframes[t._key()].send(KC,{type:KC},l=>{var h;const m=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[KC];m!==void 0&&o(!!m),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const o=t._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=UW(t)),this.originValidationPromises[o]}get _shouldInitProactively(){return HR()||LR()||o2()}}const hK=uK;var ED="@firebase/auth",DD="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const o=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,o),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const o=this.internalListeners.get(t);o&&(this.internalListeners.delete(t),o(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fK(n){Nm(new Au("auth",(t,{options:o})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=i.options;wt(m&&!m.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:m,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qR(n)},w=new RY(i,l,h,y);return HY(w,o),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,o,i)=>{t.getProvider("auth-internal").initialize()})),Nm(new Au("auth-internal",t=>{const o=Lu(t.getProvider("auth").getImmediate());return(i=>new mK(i))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ml(ED,DD,pK(n)),Ml(ED,DD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=5*60,yK=CR("authIdTokenMaxAge")||gK;let MD=null;const bK=n=>async t=>{const o=t&&await t.getIdTokenResult(),i=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(i&&i>yK)return;const l=o==null?void 0:o.token;MD!==l&&(MD=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xK(n=$A()){const t=bk(n,"auth");if(t.isInitialized())return t.getImmediate();const o=GY(n,{popupRedirectResolver:hK,persistence:[CW,uW,t3]}),i=CR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(i,location.origin);if(location.origin===h.origin){const m=bK(h.toString());aW(o,m,()=>m(o.currentUser)),iW(o,g=>m(g))}}const l=vR("auth");return l&&qY(o,`http://${l}`),o}function vK(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}PY({loadJS(n){return new Promise((t,o)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=l=>{const h=Ta("internal-error");h.customData=l,o(h)},i.type="text/javascript",i.charset="UTF-8",vK().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fK("Browser");var TD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ku,c3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(J,B){function W(){}W.prototype=B.prototype,J.D=B.prototype,J.prototype=new W,J.prototype.constructor=J,J.C=function(Z,de,ne){for(var re=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)re[ge-2]=arguments[ge];return B.prototype[de].apply(Z,re)}}function o(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,o),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(J,B,W){W||(W=0);var Z=Array(16);if(typeof B=="string")for(var de=0;16>de;++de)Z[de]=B.charCodeAt(W++)|B.charCodeAt(W++)<<8|B.charCodeAt(W++)<<16|B.charCodeAt(W++)<<24;else for(de=0;16>de;++de)Z[de]=B[W++]|B[W++]<<8|B[W++]<<16|B[W++]<<24;B=J.g[0],W=J.g[1],de=J.g[2];var ne=J.g[3],re=B+(ne^W&(de^ne))+Z[0]+3614090360&4294967295;B=W+(re<<7&4294967295|re>>>25),re=ne+(de^B&(W^de))+Z[1]+3905402710&4294967295,ne=B+(re<<12&4294967295|re>>>20),re=de+(W^ne&(B^W))+Z[2]+606105819&4294967295,de=ne+(re<<17&4294967295|re>>>15),re=W+(B^de&(ne^B))+Z[3]+3250441966&4294967295,W=de+(re<<22&4294967295|re>>>10),re=B+(ne^W&(de^ne))+Z[4]+4118548399&4294967295,B=W+(re<<7&4294967295|re>>>25),re=ne+(de^B&(W^de))+Z[5]+1200080426&4294967295,ne=B+(re<<12&4294967295|re>>>20),re=de+(W^ne&(B^W))+Z[6]+2821735955&4294967295,de=ne+(re<<17&4294967295|re>>>15),re=W+(B^de&(ne^B))+Z[7]+4249261313&4294967295,W=de+(re<<22&4294967295|re>>>10),re=B+(ne^W&(de^ne))+Z[8]+1770035416&4294967295,B=W+(re<<7&4294967295|re>>>25),re=ne+(de^B&(W^de))+Z[9]+2336552879&4294967295,ne=B+(re<<12&4294967295|re>>>20),re=de+(W^ne&(B^W))+Z[10]+4294925233&4294967295,de=ne+(re<<17&4294967295|re>>>15),re=W+(B^de&(ne^B))+Z[11]+2304563134&4294967295,W=de+(re<<22&4294967295|re>>>10),re=B+(ne^W&(de^ne))+Z[12]+1804603682&4294967295,B=W+(re<<7&4294967295|re>>>25),re=ne+(de^B&(W^de))+Z[13]+4254626195&4294967295,ne=B+(re<<12&4294967295|re>>>20),re=de+(W^ne&(B^W))+Z[14]+2792965006&4294967295,de=ne+(re<<17&4294967295|re>>>15),re=W+(B^de&(ne^B))+Z[15]+1236535329&4294967295,W=de+(re<<22&4294967295|re>>>10),re=B+(de^ne&(W^de))+Z[1]+4129170786&4294967295,B=W+(re<<5&4294967295|re>>>27),re=ne+(W^de&(B^W))+Z[6]+3225465664&4294967295,ne=B+(re<<9&4294967295|re>>>23),re=de+(B^W&(ne^B))+Z[11]+643717713&4294967295,de=ne+(re<<14&4294967295|re>>>18),re=W+(ne^B&(de^ne))+Z[0]+3921069994&4294967295,W=de+(re<<20&4294967295|re>>>12),re=B+(de^ne&(W^de))+Z[5]+3593408605&4294967295,B=W+(re<<5&4294967295|re>>>27),re=ne+(W^de&(B^W))+Z[10]+38016083&4294967295,ne=B+(re<<9&4294967295|re>>>23),re=de+(B^W&(ne^B))+Z[15]+3634488961&4294967295,de=ne+(re<<14&4294967295|re>>>18),re=W+(ne^B&(de^ne))+Z[4]+3889429448&4294967295,W=de+(re<<20&4294967295|re>>>12),re=B+(de^ne&(W^de))+Z[9]+568446438&4294967295,B=W+(re<<5&4294967295|re>>>27),re=ne+(W^de&(B^W))+Z[14]+3275163606&4294967295,ne=B+(re<<9&4294967295|re>>>23),re=de+(B^W&(ne^B))+Z[3]+4107603335&4294967295,de=ne+(re<<14&4294967295|re>>>18),re=W+(ne^B&(de^ne))+Z[8]+1163531501&4294967295,W=de+(re<<20&4294967295|re>>>12),re=B+(de^ne&(W^de))+Z[13]+2850285829&4294967295,B=W+(re<<5&4294967295|re>>>27),re=ne+(W^de&(B^W))+Z[2]+4243563512&4294967295,ne=B+(re<<9&4294967295|re>>>23),re=de+(B^W&(ne^B))+Z[7]+1735328473&4294967295,de=ne+(re<<14&4294967295|re>>>18),re=W+(ne^B&(de^ne))+Z[12]+2368359562&4294967295,W=de+(re<<20&4294967295|re>>>12),re=B+(W^de^ne)+Z[5]+4294588738&4294967295,B=W+(re<<4&4294967295|re>>>28),re=ne+(B^W^de)+Z[8]+2272392833&4294967295,ne=B+(re<<11&4294967295|re>>>21),re=de+(ne^B^W)+Z[11]+1839030562&4294967295,de=ne+(re<<16&4294967295|re>>>16),re=W+(de^ne^B)+Z[14]+4259657740&4294967295,W=de+(re<<23&4294967295|re>>>9),re=B+(W^de^ne)+Z[1]+2763975236&4294967295,B=W+(re<<4&4294967295|re>>>28),re=ne+(B^W^de)+Z[4]+1272893353&4294967295,ne=B+(re<<11&4294967295|re>>>21),re=de+(ne^B^W)+Z[7]+4139469664&4294967295,de=ne+(re<<16&4294967295|re>>>16),re=W+(de^ne^B)+Z[10]+3200236656&4294967295,W=de+(re<<23&4294967295|re>>>9),re=B+(W^de^ne)+Z[13]+681279174&4294967295,B=W+(re<<4&4294967295|re>>>28),re=ne+(B^W^de)+Z[0]+3936430074&4294967295,ne=B+(re<<11&4294967295|re>>>21),re=de+(ne^B^W)+Z[3]+3572445317&4294967295,de=ne+(re<<16&4294967295|re>>>16),re=W+(de^ne^B)+Z[6]+76029189&4294967295,W=de+(re<<23&4294967295|re>>>9),re=B+(W^de^ne)+Z[9]+3654602809&4294967295,B=W+(re<<4&4294967295|re>>>28),re=ne+(B^W^de)+Z[12]+3873151461&4294967295,ne=B+(re<<11&4294967295|re>>>21),re=de+(ne^B^W)+Z[15]+530742520&4294967295,de=ne+(re<<16&4294967295|re>>>16),re=W+(de^ne^B)+Z[2]+3299628645&4294967295,W=de+(re<<23&4294967295|re>>>9),re=B+(de^(W|~ne))+Z[0]+4096336452&4294967295,B=W+(re<<6&4294967295|re>>>26),re=ne+(W^(B|~de))+Z[7]+1126891415&4294967295,ne=B+(re<<10&4294967295|re>>>22),re=de+(B^(ne|~W))+Z[14]+2878612391&4294967295,de=ne+(re<<15&4294967295|re>>>17),re=W+(ne^(de|~B))+Z[5]+4237533241&4294967295,W=de+(re<<21&4294967295|re>>>11),re=B+(de^(W|~ne))+Z[12]+1700485571&4294967295,B=W+(re<<6&4294967295|re>>>26),re=ne+(W^(B|~de))+Z[3]+2399980690&4294967295,ne=B+(re<<10&4294967295|re>>>22),re=de+(B^(ne|~W))+Z[10]+4293915773&4294967295,de=ne+(re<<15&4294967295|re>>>17),re=W+(ne^(de|~B))+Z[1]+2240044497&4294967295,W=de+(re<<21&4294967295|re>>>11),re=B+(de^(W|~ne))+Z[8]+1873313359&4294967295,B=W+(re<<6&4294967295|re>>>26),re=ne+(W^(B|~de))+Z[15]+4264355552&4294967295,ne=B+(re<<10&4294967295|re>>>22),re=de+(B^(ne|~W))+Z[6]+2734768916&4294967295,de=ne+(re<<15&4294967295|re>>>17),re=W+(ne^(de|~B))+Z[13]+1309151649&4294967295,W=de+(re<<21&4294967295|re>>>11),re=B+(de^(W|~ne))+Z[4]+4149444226&4294967295,B=W+(re<<6&4294967295|re>>>26),re=ne+(W^(B|~de))+Z[11]+3174756917&4294967295,ne=B+(re<<10&4294967295|re>>>22),re=de+(B^(ne|~W))+Z[2]+718787259&4294967295,de=ne+(re<<15&4294967295|re>>>17),re=W+(ne^(de|~B))+Z[9]+3951481745&4294967295,J.g[0]=J.g[0]+B&4294967295,J.g[1]=J.g[1]+(de+(re<<21&4294967295|re>>>11))&4294967295,J.g[2]=J.g[2]+de&4294967295,J.g[3]=J.g[3]+ne&4294967295}i.prototype.u=function(J,B){B===void 0&&(B=J.length);for(var W=B-this.blockSize,Z=this.B,de=this.h,ne=0;ne<B;){if(de==0)for(;ne<=W;)l(this,J,ne),ne+=this.blockSize;if(typeof J=="string"){for(;ne<B;)if(Z[de++]=J.charCodeAt(ne++),de==this.blockSize){l(this,Z),de=0;break}}else for(;ne<B;)if(Z[de++]=J[ne++],de==this.blockSize){l(this,Z),de=0;break}}this.h=de,this.o+=B},i.prototype.v=function(){var J=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);J[0]=128;for(var B=1;B<J.length-8;++B)J[B]=0;var W=8*this.o;for(B=J.length-8;B<J.length;++B)J[B]=W&255,W/=256;for(this.u(J),J=Array(16),B=W=0;4>B;++B)for(var Z=0;32>Z;Z+=8)J[W++]=this.g[B]>>>Z&255;return J};function h(J,B){var W=g;return Object.prototype.hasOwnProperty.call(W,J)?W[J]:W[J]=B(J)}function m(J,B){this.h=B;for(var W=[],Z=!0,de=J.length-1;0<=de;de--){var ne=J[de]|0;Z&&ne==B||(W[de]=ne,Z=!1)}this.g=W}var g={};function y(J){return-128<=J&&128>J?h(J,function(B){return new m([B|0],0>B?-1:0)}):new m([J|0],0>J?-1:0)}function w(J){if(isNaN(J)||!isFinite(J))return _;if(0>J)return P(w(-J));for(var B=[],W=1,Z=0;J>=W;Z++)B[Z]=J/W|0,W*=4294967296;return new m(B,0)}function k(J,B){if(J.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(J.charAt(0)=="-")return P(k(J.substring(1),B));if(0<=J.indexOf("-"))throw Error('number format error: interior "-" character');for(var W=w(Math.pow(B,8)),Z=_,de=0;de<J.length;de+=8){var ne=Math.min(8,J.length-de),re=parseInt(J.substring(de,de+ne),B);8>ne?(ne=w(Math.pow(B,ne)),Z=Z.j(ne).add(w(re))):(Z=Z.j(W),Z=Z.add(w(re)))}return Z}var _=y(0),N=y(1),D=y(16777216);n=m.prototype,n.m=function(){if(R(this))return-P(this).m();for(var J=0,B=1,W=0;W<this.g.length;W++){var Z=this.i(W);J+=(0<=Z?Z:4294967296+Z)*B,B*=4294967296}return J},n.toString=function(J){if(J=J||10,2>J||36<J)throw Error("radix out of range: "+J);if(T(this))return"0";if(R(this))return"-"+P(this).toString(J);for(var B=w(Math.pow(J,6)),W=this,Z="";;){var de=Y(W,B).g;W=F(W,de.j(B));var ne=((0<W.g.length?W.g[0]:W.h)>>>0).toString(J);if(W=de,T(W))return ne+Z;for(;6>ne.length;)ne="0"+ne;Z=ne+Z}},n.i=function(J){return 0>J?0:J<this.g.length?this.g[J]:this.h};function T(J){if(J.h!=0)return!1;for(var B=0;B<J.g.length;B++)if(J.g[B]!=0)return!1;return!0}function R(J){return J.h==-1}n.l=function(J){return J=F(this,J),R(J)?-1:T(J)?0:1};function P(J){for(var B=J.g.length,W=[],Z=0;Z<B;Z++)W[Z]=~J.g[Z];return new m(W,~J.h).add(N)}n.abs=function(){return R(this)?P(this):this},n.add=function(J){for(var B=Math.max(this.g.length,J.g.length),W=[],Z=0,de=0;de<=B;de++){var ne=Z+(this.i(de)&65535)+(J.i(de)&65535),re=(ne>>>16)+(this.i(de)>>>16)+(J.i(de)>>>16);Z=re>>>16,ne&=65535,re&=65535,W[de]=re<<16|ne}return new m(W,W[W.length-1]&-2147483648?-1:0)};function F(J,B){return J.add(P(B))}n.j=function(J){if(T(this)||T(J))return _;if(R(this))return R(J)?P(this).j(P(J)):P(P(this).j(J));if(R(J))return P(this.j(P(J)));if(0>this.l(D)&&0>J.l(D))return w(this.m()*J.m());for(var B=this.g.length+J.g.length,W=[],Z=0;Z<2*B;Z++)W[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var de=0;de<J.g.length;de++){var ne=this.i(Z)>>>16,re=this.i(Z)&65535,ge=J.i(de)>>>16,ke=J.i(de)&65535;W[2*Z+2*de]+=re*ke,V(W,2*Z+2*de),W[2*Z+2*de+1]+=ne*ke,V(W,2*Z+2*de+1),W[2*Z+2*de+1]+=re*ge,V(W,2*Z+2*de+1),W[2*Z+2*de+2]+=ne*ge,V(W,2*Z+2*de+2)}for(Z=0;Z<B;Z++)W[Z]=W[2*Z+1]<<16|W[2*Z];for(Z=B;Z<2*B;Z++)W[Z]=0;return new m(W,0)};function V(J,B){for(;(J[B]&65535)!=J[B];)J[B+1]+=J[B]>>>16,J[B]&=65535,B++}function G(J,B){this.g=J,this.h=B}function Y(J,B){if(T(B))throw Error("division by zero");if(T(J))return new G(_,_);if(R(J))return B=Y(P(J),B),new G(P(B.g),P(B.h));if(R(B))return B=Y(J,P(B)),new G(P(B.g),B.h);if(30<J.g.length){if(R(J)||R(B))throw Error("slowDivide_ only works with positive integers.");for(var W=N,Z=B;0>=Z.l(J);)W=ee(W),Z=ee(Z);var de=le(W,1),ne=le(Z,1);for(Z=le(Z,2),W=le(W,2);!T(Z);){var re=ne.add(Z);0>=re.l(J)&&(de=de.add(W),ne=re),Z=le(Z,1),W=le(W,1)}return B=F(J,de.j(B)),new G(de,B)}for(de=_;0<=J.l(B);){for(W=Math.max(1,Math.floor(J.m()/B.m())),Z=Math.ceil(Math.log(W)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),ne=w(W),re=ne.j(B);R(re)||0<re.l(J);)W-=Z,ne=w(W),re=ne.j(B);T(ne)&&(ne=N),de=de.add(ne),J=F(J,re)}return new G(de,J)}n.A=function(J){return Y(this,J).h},n.and=function(J){for(var B=Math.max(this.g.length,J.g.length),W=[],Z=0;Z<B;Z++)W[Z]=this.i(Z)&J.i(Z);return new m(W,this.h&J.h)},n.or=function(J){for(var B=Math.max(this.g.length,J.g.length),W=[],Z=0;Z<B;Z++)W[Z]=this.i(Z)|J.i(Z);return new m(W,this.h|J.h)},n.xor=function(J){for(var B=Math.max(this.g.length,J.g.length),W=[],Z=0;Z<B;Z++)W[Z]=this.i(Z)^J.i(Z);return new m(W,this.h^J.h)};function ee(J){for(var B=J.g.length+1,W=[],Z=0;Z<B;Z++)W[Z]=J.i(Z)<<1|J.i(Z-1)>>>31;return new m(W,J.h)}function le(J,B){var W=B>>5;B%=32;for(var Z=J.g.length-W,de=[],ne=0;ne<Z;ne++)de[ne]=0<B?J.i(ne+W)>>>B|J.i(ne+W+1)<<32-B:J.i(ne+W);return new m(de,J.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c3=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=w,m.fromString=k,ku=m}).apply(typeof TD<"u"?TD:typeof self<"u"?self:typeof window<"u"?window:{});var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d3,ib,u3,uw,Q_,h3,m3,p3;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,U,Q){return S==Array.prototype||S==Object.prototype||(S[U]=Q.value),S};function o(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof F0=="object"&&F0];for(var U=0;U<S.length;++U){var Q=S[U];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var i=o(this);function l(S,U){if(U)e:{var Q=i;S=S.split(".");for(var he=0;he<S.length-1;he++){var Ce=S[he];if(!(Ce in Q))break e;Q=Q[Ce]}S=S[S.length-1],he=Q[S],U=U(he),U!=he&&U!=null&&t(Q,S,{configurable:!0,writable:!0,value:U})}}function h(S,U){S instanceof String&&(S+="");var Q=0,he=!1,Ce={next:function(){if(!he&&Q<S.length){var Me=Q++;return{value:U(Me,S[Me]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}l("Array.prototype.values",function(S){return S||function(){return h(this,function(U,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},g=this||self;function y(S){var U=typeof S;return U=U!="object"?U:S?Array.isArray(S)?"array":U:"null",U=="array"||U=="object"&&typeof S.length=="number"}function w(S){var U=typeof S;return U=="object"&&S!=null||U=="function"}function k(S,U,Q){return S.call.apply(S.bind,arguments)}function _(S,U,Q){if(!S)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,he),S.apply(U,Ce)}}return function(){return S.apply(U,arguments)}}function N(S,U,Q){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:_,N.apply(null,arguments)}function D(S,U){var Q=Array.prototype.slice.call(arguments,1);return function(){var he=Q.slice();return he.push.apply(he,arguments),S.apply(this,he)}}function T(S,U){function Q(){}Q.prototype=U.prototype,S.aa=U.prototype,S.prototype=new Q,S.prototype.constructor=S,S.Qb=function(he,Ce,Me){for(var Xe=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)Xe[Qt-2]=arguments[Qt];return U.prototype[Ce].apply(he,Xe)}}function R(S){const U=S.length;if(0<U){const Q=Array(U);for(let he=0;he<U;he++)Q[he]=S[he];return Q}return[]}function P(S,U){for(let Q=1;Q<arguments.length;Q++){const he=arguments[Q];if(y(he)){const Ce=S.length||0,Me=he.length||0;S.length=Ce+Me;for(let Xe=0;Xe<Me;Xe++)S[Ce+Xe]=he[Xe]}else S.push(he)}}class F{constructor(U,Q){this.i=U,this.j=Q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function V(S){return/^[\s\xa0]*$/.test(S)}function G(){var S=g.navigator;return S&&(S=S.userAgent)?S:""}function Y(S){return Y[" "](S),S}Y[" "]=function(){};var ee=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(S,U,Q){for(const he in S)U.call(Q,S[he],he,S)}function J(S,U){for(const Q in S)U.call(void 0,S[Q],Q,S)}function B(S){const U={};for(const Q in S)U[Q]=S[Q];return U}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(S,U){let Q,he;for(let Ce=1;Ce<arguments.length;Ce++){he=arguments[Ce];for(Q in he)S[Q]=he[Q];for(let Me=0;Me<W.length;Me++)Q=W[Me],Object.prototype.hasOwnProperty.call(he,Q)&&(S[Q]=he[Q])}}function de(S){var U=1;S=S.split(":");const Q=[];for(;0<U&&S.length;)Q.push(S.shift()),U--;return S.length&&Q.push(S.join(":")),Q}function ne(S){g.setTimeout(()=>{throw S},0)}function re(){var S=te;let U=null;return S.g&&(U=S.g,S.g=S.g.next,S.g||(S.h=null),U.next=null),U}class ge{constructor(){this.h=this.g=null}add(U,Q){const he=ke.get();he.set(U,Q),this.h?this.h.next=he:this.g=he,this.h=he}}var ke=new F(()=>new se,S=>S.reset());class se{constructor(){this.next=this.g=this.h=null}set(U,Q){this.h=U,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,te=new ge,q=()=>{const S=g.Promise.resolve(void 0);oe=()=>{S.then(ae)}};var ae=()=>{for(var S;S=re();){try{S.h.call(S.g)}catch(Q){ne(Q)}var U=ke;U.j(S),100>U.h&&(U.h++,S.next=U.g,U.g=S)}ue=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(S,U){this.type=S,this.g=this.target=U,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var S=!1,U=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const Q=()=>{};g.addEventListener("test",Q,U),g.removeEventListener("test",Q,U)}catch{}return S}();function Te(S,U){if(me.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var Q=this.type=S.type,he=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=U,U=S.relatedTarget){if(ee){e:{try{Y(U.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(U=null)}}else Q=="mouseover"?U=S.fromElement:Q=="mouseout"&&(U=S.toElement);this.relatedTarget=U,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:je[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Te.aa.h.call(this)}}T(Te,me);var je={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Je(S,U,Q,he,Ce){this.listener=S,this.proxy=null,this.src=U,this.type=Q,this.capture=!!he,this.ha=Ce,this.key=++Ve,this.da=this.fa=!1}function Qe(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Ot(S){this.src=S,this.g={},this.h=0}Ot.prototype.add=function(S,U,Q,he,Ce){var Me=S.toString();S=this.g[Me],S||(S=this.g[Me]=[],this.h++);var Xe=Ze(S,U,he,Ce);return-1<Xe?(U=S[Xe],Q||(U.fa=!1)):(U=new Je(U,this.src,Me,!!he,Ce),U.fa=Q,S.push(U)),U};function Tt(S,U){var Q=U.type;if(Q in S.g){var he=S.g[Q],Ce=Array.prototype.indexOf.call(he,U,void 0),Me;(Me=0<=Ce)&&Array.prototype.splice.call(he,Ce,1),Me&&(Qe(U),S.g[Q].length==0&&(delete S.g[Q],S.h--))}}function Ze(S,U,Q,he){for(var Ce=0;Ce<S.length;++Ce){var Me=S[Ce];if(!Me.da&&Me.listener==U&&Me.capture==!!Q&&Me.ha==he)return Ce}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Kt={};function Ne(S,U,Q,he,Ce){if(Array.isArray(U)){for(var Me=0;Me<U.length;Me++)Ne(S,U[Me],Q,he,Ce);return null}return Q=Vo(Q),S&&S[Ye]?S.K(U,Q,w(he)?!!he.capture:!1,Ce):ot(S,U,Q,!1,he,Ce)}function ot(S,U,Q,he,Ce,Me){if(!U)throw Error("Invalid event type");var Xe=w(Ce)?!!Ce.capture:!!Ce,Qt=Dr(S);if(Qt||(S[st]=Qt=new Ot(S)),Q=Qt.add(U,Q,he,Xe,Me),Q.proxy)return Q;if(he=er(),Q.proxy=he,he.src=S,he.listener=Q,S.addEventListener)be||(Ce=Xe),Ce===void 0&&(Ce=!1),S.addEventListener(U.toString(),he,Ce);else if(S.attachEvent)S.attachEvent(hn(U.toString()),he);else if(S.addListener&&S.removeListener)S.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function er(){function S(Q){return U.call(S.src,S.listener,Q)}const U=zr;return S}function Lr(S,U,Q,he,Ce){if(Array.isArray(U))for(var Me=0;Me<U.length;Me++)Lr(S,U[Me],Q,he,Ce);else he=w(he)?!!he.capture:!!he,Q=Vo(Q),S&&S[Ye]?(S=S.i,U=String(U).toString(),U in S.g&&(Me=S.g[U],Q=Ze(Me,Q,he,Ce),-1<Q&&(Qe(Me[Q]),Array.prototype.splice.call(Me,Q,1),Me.length==0&&(delete S.g[U],S.h--)))):S&&(S=Dr(S))&&(U=S.g[U.toString()],S=-1,U&&(S=Ze(U,Q,he,Ce)),(Q=-1<S?U[S]:null)&&Js(Q))}function Js(S){if(typeof S!="number"&&S&&!S.da){var U=S.src;if(U&&U[Ye])Tt(U.i,S);else{var Q=S.type,he=S.proxy;U.removeEventListener?U.removeEventListener(Q,he,S.capture):U.detachEvent?U.detachEvent(hn(Q),he):U.addListener&&U.removeListener&&U.removeListener(he),(Q=Dr(U))?(Tt(Q,S),Q.h==0&&(Q.src=null,U[st]=null)):Qe(S)}}}function hn(S){return S in Kt?Kt[S]:Kt[S]="on"+S}function zr(S,U){if(S.da)S=!0;else{U=new Te(U,this);var Q=S.listener,he=S.ha||S.src;S.fa&&Js(S),S=Q.call(he,U)}return S}function Dr(S){return S=S[st],S instanceof Ot?S:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(S){return typeof S=="function"?S:(S[Fo]||(S[Fo]=function(U){return S.handleEvent(U)}),S[Fo])}function Yt(){pe.call(this),this.i=new Ot(this),this.M=this,this.F=null}T(Yt,pe),Yt.prototype[Ye]=!0,Yt.prototype.removeEventListener=function(S,U,Q,he){Lr(this,S,U,Q,he)};function Et(S,U){var Q,he=S.F;if(he)for(Q=[];he;he=he.F)Q.push(he);if(S=S.M,he=U.type||U,typeof U=="string")U=new me(U,S);else if(U instanceof me)U.target=U.target||S;else{var Ce=U;U=new me(he,S),Z(U,Ce)}if(Ce=!0,Q)for(var Me=Q.length-1;0<=Me;Me--){var Xe=U.g=Q[Me];Ce=Nn(Xe,he,!0,U)&&Ce}if(Xe=U.g=S,Ce=Nn(Xe,he,!0,U)&&Ce,Ce=Nn(Xe,he,!1,U)&&Ce,Q)for(Me=0;Me<Q.length;Me++)Xe=U.g=Q[Me],Ce=Nn(Xe,he,!1,U)&&Ce}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var S=this.i,U;for(U in S.g){for(var Q=S.g[U],he=0;he<Q.length;he++)Qe(Q[he]);delete S.g[U],S.h--}}this.F=null},Yt.prototype.K=function(S,U,Q,he){return this.i.add(String(S),U,!1,Q,he)},Yt.prototype.L=function(S,U,Q,he){return this.i.add(String(S),U,!0,Q,he)};function Nn(S,U,Q,he){if(U=S.i.g[String(U)],!U)return!0;U=U.concat();for(var Ce=!0,Me=0;Me<U.length;++Me){var Xe=U[Me];if(Xe&&!Xe.da&&Xe.capture==Q){var Qt=Xe.listener,yn=Xe.ha||Xe.src;Xe.fa&&Tt(S.i,Xe),Ce=Qt.call(yn,he)!==!1&&Ce}}return Ce&&!he.defaultPrevented}function ut(S,U,Q){if(typeof S=="function")Q&&(S=N(S,Q));else if(S&&typeof S.handleEvent=="function")S=N(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:g.setTimeout(S,U||0)}function It(S){S.g=ut(()=>{S.g=null,S.i&&(S.i=!1,It(S))},S.l);const U=S.h;S.h=null,S.m.apply(null,U)}class zt extends pe{constructor(U,Q){super(),this.m=U,this.l=Q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(S){pe.call(this),this.h=S,this.g={}}T(Re,pe);var dr=[];function pr(S){le(S.g,function(U,Q){this.g.hasOwnProperty(Q)&&Js(U)},S),S.g={}}Re.prototype.N=function(){Re.aa.N.call(this),pr(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pr=g.JSON.stringify,ls=g.JSON.parse,Cr=class{stringify(S){return g.JSON.stringify(S,void 0)}parse(S){return g.JSON.parse(S,void 0)}};function jn(){}jn.prototype.h=null;function mo(S){return S.h||(S.h=S.i())}function od(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uo(){me.call(this,"d")}T(Uo,me);function Gu(){me.call(this,"c")}T(Gu,me);var fi={},id=null;function Ga(){return id=id||new Yt}fi.La="serverreachability";function ad(S){me.call(this,fi.La,S)}T(ad,me);function mn(S){const U=Ga();Et(U,new ad(U))}fi.STAT_EVENT="statevent";function Gm(S,U){me.call(this,fi.STAT_EVENT,S),this.stat=U}T(Gm,me);function _r(S){const U=Ga();Et(U,new Gm(U,S))}fi.Ma="timingevent";function Kr(S,U){me.call(this,fi.Ma,S),this.size=U}T(Kr,me);function pn(S,U){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){S()},U)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function Hu(S,U,Q,he,Ce,Me){S.info(function(){if(S.g)if(Me)for(var Xe="",Qt=Me.split("&"),yn=0;yn<Qt.length;yn++){var Jt=Qt[yn].split("=");if(1<Jt.length){var Bn=Jt[0];Jt=Jt[1];var Sn=Bn.split("_");Xe=2<=Sn.length&&Sn[1]=="type"?Xe+(Bn+"="+Jt+"&"):Xe+(Bn+"=redacted&")}}else Xe=null;else Xe=Me;return"XMLHTTP REQ ("+he+") [attempt "+Ce+"]: "+U+`
`+Q+`
`+Xe})}function sg(S,U,Q,he,Ce,Me,Xe){S.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Ce+"]: "+U+`
`+Q+`
`+Me+" "+Xe})}function Ha(S,U,Q,he){S.info(function(){return"XMLHTTP TEXT ("+U+"): "+gi(S,Q)+(he?" "+he:"")})}function Hi(S,U){S.info(function(){return"TIMEOUT: "+U})}po.prototype.info=function(){};function gi(S,U){if(!S.g)return U;if(!U)return null;try{var Q=JSON.parse(U);if(Q){for(S=0;S<Q.length;S++)if(Array.isArray(Q[S])){var he=Q[S];if(!(2>he.length)){var Ce=he[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var Me=Ce[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var Xe=1;Xe<Ce.length;Xe++)Ce[Xe]=""}}}}return Pr(Q)}catch{return U}}var qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function bi(){}T(bi,jn),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},yi=new bi;function $r(S,U,Q,he){this.j=S,this.i=U,this.l=Q,this.R=he||1,this.U=new Re(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hr}function Hr(){this.i=null,this.g="",this.h=!1}var ld={},cd={};function Go(S,U,Q){S.L=1,S.v=fo(cs(U)),S.m=Q,S.P=!0,ws(S,null)}function ws(S,U){S.F=Date.now(),ql(S),S.A=cs(S.v);var Q=S.A,he=S.R;Array.isArray(he)||(he=[String(he)]),fd(Q.i,"t",he),S.C=0,Q=S.j.J,S.h=new Hr,S.g=vd(S.j,Q?U:null,!S.m),0<S.O&&(S.M=new zt(N(S.Y,S,S.g),S.O)),U=S.U,Q=S.g,he=S.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(dr[0]=Ce.toString()),Ce=dr);for(var Me=0;Me<Ce.length;Me++){var Xe=Ne(Q,Ce[Me],he||U.handleEvent,!1,U.h||U);if(!Xe)break;U.g[Xe.key]=Xe}U=S.H?B(S.H):{},S.m?(S.u||(S.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,U)):(S.u="GET",S.g.ea(S.A,S.u,null,U)),mn(),Hu(S.i,S.u,S.A,S.l,S.R,S.m)}$r.prototype.ca=function(S){S=S.target;const U=this.M;U&&yo(S)==3?U.j():this.Y(S)},$r.prototype.Y=function(S){try{if(S==this.g)e:{const Sn=yo(this.g);var U=this.g.Ba();const ea=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||gd(this.g)))){this.J||Sn!=4||U==7||(U==8||0>=ea?mn(3):mn(2)),Ya(this);var Q=this.g.Z();this.X=Q;t:if(Hm(this)){var he=gd(this.g);S="";var Ce=he.length,Me=yo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),xi(this);var Xe="";break t}this.h.i=new g.TextDecoder}for(U=0;U<Ce;U++)this.h.h=!0,S+=this.h.i.decode(he[U],{stream:!(Me&&U==Ce-1)});he.length=0,this.h.g+=S,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=Q==200,sg(this.i,this.u,this.A,this.l,this.R,Sn,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,yn=this.g;if((Qt=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Qt)){var Jt=Qt;break t}}Jt=null}if(Q=Jt)Ha(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yl(this,Q);else{this.o=!1,this.s=3,_r(12),Qn(this),xi(this);break e}}if(this.P){Q=!0;let Xn;for(;!this.J&&this.C<Xe.length;)if(Xn=qm(this,Xe),Xn==cd){Sn==4&&(this.s=4,_r(14),Q=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==ld){this.s=4,_r(15),Ha(this.i,this.l,Xe,"[Invalid Chunk]"),Q=!1;break}else Ha(this.i,this.l,Xn,null),Yl(this,Xn);if(Hm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Xe.length!=0||this.h.h||(this.s=1,_r(16),Q=!1),this.o=this.o&&Q,!Q)Ha(this.i,this.l,Xe,"[Invalid Chunked Response]"),Qn(this),xi(this);else if(0<Xe.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),el(Bn),Bn.M=!0,_r(11))}}else Ha(this.i,this.l,Xe,null),Yl(this,Xe);Sn==4&&Qn(this),this.o&&!this.J&&(Sn==4?$u(this.j,this):(this.o=!1,ql(this)))}else ag(this.g),Q==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,_r(12)):(this.s=0,_r(13)),Qn(this),xi(this)}}}catch{}finally{}};function Hm(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function qm(S,U){var Q=S.C,he=U.indexOf(`
`,Q);return he==-1?cd:(Q=Number(U.substring(Q,he)),isNaN(Q)?ld:(he+=1,he+Q>U.length?cd:(U=U.slice(he,he+Q),S.C=he+Q,U)))}$r.prototype.cancel=function(){this.J=!0,Qn(this)};function ql(S){S.S=Date.now()+S.I,Ym(S,S.I)}function Ym(S,U){if(S.B!=null)throw Error("WatchDog timer not null");S.B=pn(N(S.ba,S),U)}function Ya(S){S.B&&(g.clearTimeout(S.B),S.B=null)}$r.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(Hi(this.i,this.A),this.L!=2&&(mn(),_r(17)),Qn(this),this.s=2,xi(this)):Ym(this,this.S-S)};function xi(S){S.j.G==0||S.J||$u(S.j,S)}function Qn(S){Ya(S);var U=S.M;U&&typeof U.ma=="function"&&U.ma(),S.M=null,pr(S.U),S.g&&(U=S.g,S.g=null,U.abort(),U.ma())}function Yl(S,U){try{var Q=S.j;if(Q.G!=0&&(Q.g==S||qu(Q.h,S))){if(!S.K&&qu(Q.h,S)&&Q.G==3){try{var he=Q.Da.g.parse(U)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Ce=he;if(Ce[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<S.F)Zl(Q),$a(Q);else break e;xd(Q),_r(18)}}else Q.za=Ce[1],0<Q.za-Q.T&&37500>Ce[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=pn(N(Q.Za,Q),6e3));if(1>=dd(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else ji(Q,11)}else if((S.K||Q.g==S)&&Zl(Q),!V(U))for(Ce=Q.Da.g.parse(U),U=0;U<Ce.length;U++){let Jt=Ce[U];if(Q.T=Jt[0],Jt=Jt[1],Q.G==2)if(Jt[0]=="c"){Q.K=Jt[1],Q.ia=Jt[2];const Bn=Jt[3];Bn!=null&&(Q.la=Bn,Q.j.info("VER="+Q.la));const Sn=Jt[4];Sn!=null&&(Q.Aa=Sn,Q.j.info("SVER="+Q.Aa));const ea=Jt[5];ea!=null&&typeof ea=="number"&&0<ea&&(he=1.5*ea,Q.L=he,Q.j.info("backChannelRequestTimeoutMs_="+he)),he=Q;const Xn=S.g;if(Xn){const Si=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var Me=he.h;Me.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(ud(Me,Me.h),Me.h=null))}if(he.D){const Ko=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(he.ya=Ko,Ar(he.I,he.D,Ko))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-S.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),he=Q;var Xe=S;if(he.qa=th(he,he.J?he.ia:null,he.W),Xe.K){ks(he.h,Xe);var Qt=Xe,yn=he.L;yn&&(Qt.I=yn),Qt.B&&(Ya(Qt),ql(Qt)),he.g=Xe}else Xu(he);0<Q.i.length&&bd(Q)}else Jt[0]!="stop"&&Jt[0]!="close"||ji(Q,7);else Q.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ji(Q,7):Za(Q):Jt[0]!="noop"&&Q.l&&Q.l.ta(Jt),Q.v=0)}}mn(4)}catch{}}var vi=class{constructor(S,U){this.g=S,this.map=U}};function Xs(S){this.l=S||10,g.PerformanceNavigationTiming?(S=g.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wi(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function dd(S){return S.h?1:S.g?S.g.size:0}function qu(S,U){return S.h?S.h==U:S.g?S.g.has(U):!1}function ud(S,U){S.g?S.g.add(U):S.h=U}function ks(S,U){S.h&&S.h==U?S.h=null:S.g&&S.g.has(U)&&S.g.delete(U)}Xs.prototype.cancel=function(){if(this.i=Yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Yu(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let U=S.i;for(const Q of S.g.values())U=U.concat(Q.D);return U}return R(S.i)}function og(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(y(S)){for(var U=[],Q=S.length,he=0;he<Q;he++)U.push(S[he]);return U}U=[],Q=0;for(he in S)U[Q++]=S[he];return U}function hd(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(y(S)||typeof S=="string"){var U=[];S=S.length;for(var Q=0;Q<S;Q++)U.push(Q);return U}U=[],Q=0;for(const he in S)U[Q++]=he;return U}}}function ki(S,U){if(S.forEach&&typeof S.forEach=="function")S.forEach(U,void 0);else if(y(S)||typeof S=="string")Array.prototype.forEach.call(S,U,void 0);else for(var Q=hd(S),he=og(S),Ce=he.length,Me=0;Me<Ce;Me++)U.call(void 0,he[Me],Q&&Q[Me],S)}var Wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ig(S,U){if(S){S=S.split("&");for(var Q=0;Q<S.length;Q++){var he=S[Q].indexOf("="),Ce=null;if(0<=he){var Me=S[Q].substring(0,he);Ce=S[Q].substring(he+1)}else Me=S[Q];U(Me,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function fn(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof fn){this.h=S.h,Wl(this,S.j),this.o=S.o,this.g=S.g,Ka(this,S.s),this.l=S.l;var U=S.i,Q=new Ho;Q.i=U.i,U.g&&(Q.g=new Map(U.g),Q.h=U.h),Yi(this,Q),this.m=S.m}else S&&(U=String(S).match(Wa))?(this.h=!1,Wl(this,U[1]||"",!0),this.o=Cs(U[2]||""),this.g=Cs(U[3]||"",!0),Ka(this,U[4]),this.l=Cs(U[5]||"",!0),Yi(this,U[6]||"",!0),this.m=Cs(U[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}fn.prototype.toString=function(){var S=[],U=this.j;U&&S.push(Kl(U,Ki,!0),":");var Q=this.g;return(Q||U=="file")&&(S.push("//"),(U=this.o)&&S.push(Kl(U,Ki,!0),"@"),S.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&S.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&S.push("/"),S.push(Kl(Q,Q.charAt(0)=="/"?md:Wu,!0))),(Q=this.i.toString())&&S.push("?",Q),(Q=this.m)&&S.push("#",Kl(Q,pd)),S.join("")};function cs(S){return new fn(S)}function Wl(S,U,Q){S.j=Q?Cs(U,!0):U,S.j&&(S.j=S.j.replace(/:$/,""))}function Ka(S,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);S.s=U}else S.s=null}function Yi(S,U,Q){U instanceof Ho?(S.i=U,Wm(S.i,S.h)):(Q||(U=Kl(U,Ku)),S.i=new Ho(U,S.h))}function Ar(S,U,Q){S.i.set(U,Q)}function fo(S){return Ar(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Cs(S,U){return S?U?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Kl(S,U,Q){return typeof S=="string"?(S=encodeURI(S).replace(U,Wi),Q&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Wi(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ki=/[#\/\?@]/g,Wu=/[#\?:]/g,md=/[#\?]/g,Ku=/[#\?@]/g,pd=/#/g;function Ho(S,U){this.h=this.g=null,this.i=S||null,this.j=!!U}function Jn(S){S.g||(S.g=new Map,S.h=0,S.i&&ig(S.i,function(U,Q){S.add(decodeURIComponent(U.replace(/\+/g," ")),Q)}))}n=Ho.prototype,n.add=function(S,U){Jn(this),this.i=null,S=_i(this,S);var Q=this.g.get(S);return Q||this.g.set(S,Q=[]),Q.push(U),this.h+=1,this};function Qi(S,U){Jn(S),U=_i(S,U),S.g.has(U)&&(S.i=null,S.h-=S.g.get(U).length,S.g.delete(U))}function Ci(S,U){return Jn(S),U=_i(S,U),S.g.has(U)}n.forEach=function(S,U){Jn(this),this.g.forEach(function(Q,he){Q.forEach(function(Ce){S.call(U,Ce,he,this)},this)},this)},n.na=function(){Jn(this);const S=Array.from(this.g.values()),U=Array.from(this.g.keys()),Q=[];for(let he=0;he<U.length;he++){const Ce=S[he];for(let Me=0;Me<Ce.length;Me++)Q.push(U[he])}return Q},n.V=function(S){Jn(this);let U=[];if(typeof S=="string")Ci(this,S)&&(U=U.concat(this.g.get(_i(this,S))));else{S=Array.from(this.g.values());for(let Q=0;Q<S.length;Q++)U=U.concat(S[Q])}return U},n.set=function(S,U){return Jn(this),this.i=null,S=_i(this,S),Ci(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[U]),this.h+=1,this},n.get=function(S,U){return S?(S=this.V(S),0<S.length?String(S[0]):U):U};function fd(S,U,Q){Qi(S,U),0<Q.length&&(S.i=null,S.g.set(_i(S,U),R(Q)),S.h+=Q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],U=Array.from(this.g.keys());for(var Q=0;Q<U.length;Q++){var he=U[Q];const Me=encodeURIComponent(String(he)),Xe=this.V(he);for(he=0;he<Xe.length;he++){var Ce=Me;Xe[he]!==""&&(Ce+="="+encodeURIComponent(String(Xe[he]))),S.push(Ce)}}return this.i=S.join("&")};function _i(S,U){return U=String(U),S.j&&(U=U.toLowerCase()),U}function Wm(S,U){U&&!S.j&&(Jn(S),S.i=null,S.g.forEach(function(Q,he){var Ce=he.toLowerCase();he!=Ce&&(Qi(this,he),fd(this,Ce,Q))},S)),S.j=U}function Ji(S,U){const Q=new po;if(g.Image){const he=new Image;he.onload=D(Zs,Q,"TestLoadImage: loaded",!0,U,he),he.onerror=D(Zs,Q,"TestLoadImage: error",!1,U,he),he.onabort=D(Zs,Q,"TestLoadImage: abort",!1,U,he),he.ontimeout=D(Zs,Q,"TestLoadImage: timeout",!1,U,he),g.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=S}else U(!1)}function qo(S,U){const Q=new po,he=new AbortController,Ce=setTimeout(()=>{he.abort(),Zs(Q,"TestPingServer: timeout",!1,U)},1e4);fetch(S,{signal:he.signal}).then(Me=>{clearTimeout(Ce),Me.ok?Zs(Q,"TestPingServer: ok",!0,U):Zs(Q,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Ce),Zs(Q,"TestPingServer: error",!1,U)})}function Zs(S,U,Q,he,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),he(Q)}catch{}}function Qa(){this.g=new Cr}function Yo(S,U,Q){const he=Q||"";try{ki(S,function(Ce,Me){let Xe=Ce;w(Ce)&&(Xe=Pr(Ce)),U.push(he+Me+"="+encodeURIComponent(Xe))})}catch(Ce){throw U.push(he+"type="+encodeURIComponent("_badmap")),Ce}}function go(S){this.l=S.Ub||null,this.j=S.eb||!1}T(go,jn),go.prototype.g=function(){return new Xi(this.l,this.j)},go.prototype.i=function(S){return function(){return S}}({});function Xi(S,U){Yt.call(this),this.D=S,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Xi,Yt),n=Xi.prototype,n.open=function(S,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=U,this.readyState=1,tr(this)},n.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(U.body=S),(this.D||g).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},n.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}n.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var U=S.value?S.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!S.done}))&&(this.response=this.responseText+=U)}S.done?Wo(this):tr(this),this.readyState==3&&Ql(this)}},n.Ra=function(S){this.g&&(this.response=this.responseText=S,Wo(this))},n.Qa=function(S){this.g&&(this.response=S,Wo(this))},n.ga=function(){this.g&&Wo(this)};function Wo(S){S.readyState=4,S.l=null,S.j=null,S.v=null,tr(S)}n.setRequestHeader=function(S,U){this.u.append(S,U)},n.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],U=this.h.entries();for(var Q=U.next();!Q.done;)Q=Q.value,S.push(Q[0]+": "+Q[1]),Q=U.next();return S.join(`\r
`)};function tr(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Qu(S){let U="";return le(S,function(Q,he){U+=he,U+=":",U+=Q,U+=`\r
`}),U}function gn(S,U,Q){e:{for(he in Q){var he=!1;break e}he=!0}he||(Q=Qu(Q),typeof S=="string"?Q!=null&&encodeURIComponent(String(Q)):Ar(S,U,Q))}function ur(S){Yt.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ur,Yt);var Ai=/^https?$/i,Zi=["POST","PUT"];n=ur.prototype,n.Ha=function(S){this.J=S},n.ea=function(S,U,Q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);U=U?U.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?mo(this.o):mo(yi),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(U,String(S),!0),this.B=!1}catch(Me){$i(this,Me);return}if(S=Q||"",Q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Ce in he)Q.set(Ce,he[Ce]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const Me of he.keys())Q.set(Me,he.get(Me));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(Q.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ce=g.FormData&&S instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zi,U,void 0))||he||Ce||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,Xe]of Q)this.g.setRequestHeader(Me,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(S),this.u=!1}catch(Me){$i(this,Me)}};function $i(S,U){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=U,S.m=5,Jl(S),Ni(S)}function Jl(S){S.A||(S.A=!0,Et(S,"complete"),Et(S,"error"))}n.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Et(this,"complete"),Et(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),ur.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},n.bb=function(){Ja(this)};function Ja(S){if(S.h&&typeof m<"u"&&(!S.v[1]||yo(S)!=4||S.Z()!=2)){if(S.u&&yo(S)==4)ut(S.Ea,0,S);else if(Et(S,"readystatechange"),yo(S)==4){S.h=!1;try{const Xe=S.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var Q;if(!(Q=U)){var he;if(he=Xe===0){var Ce=String(S.D).match(Wa)[1]||null;!Ce&&g.self&&g.self.location&&(Ce=g.self.location.protocol.slice(0,-1)),he=!Ai.test(Ce?Ce.toLowerCase():"")}Q=he}if(Q)Et(S,"complete"),Et(S,"success");else{S.m=6;try{var Me=2<yo(S)?S.g.statusText:""}catch{Me=""}S.l=Me+" ["+S.Z()+"]",Jl(S)}}finally{Ni(S)}}}}function Ni(S,U){if(S.g){Xa(S);const Q=S.g,he=S.v[0]?()=>{}:null;S.g=null,S.v=null,U||Et(S,"ready");try{Q.onreadystatechange=he}catch{}}}function Xa(S){S.I&&(g.clearTimeout(S.I),S.I=null)}n.isActive=function(){return!!this.g};function yo(S){return S.g?S.g.readyState:0}n.Z=function(){try{return 2<yo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(S){if(this.g){var U=this.g.responseText;return S&&U.indexOf(S)==0&&(U=U.substring(S.length)),ls(U)}};function gd(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(S){const U={};S=(S.g&&2<=yo(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<S.length;he++){if(V(S[he]))continue;var Q=de(S[he]);const Ce=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Me=U[Ce]||[];U[Ce]=Me,Me.push(Q)}J(U,function(he){return he.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xl(S,U,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[S]||U}function yd(S){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xl("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xl("baseRetryDelayMs",5e3,S),this.cb=Xl("retryDelaySeedMs",1e4,S),this.Wa=Xl("forwardChannelMaxRetries",2,S),this.wa=Xl("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(S&&S.concurrentRequestLimit),this.Da=new Qa,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yd.prototype,n.la=8,n.G=1,n.connect=function(S,U,Q,he){_r(0),this.W=S,this.H=U||{},Q&&he!==void 0&&(this.H.OSID=Q,this.H.OAID=he),this.F=this.X,this.I=th(this,null,this.W),bd(this)};function Za(S){if(Km(S),S.G==3){var U=S.U++,Q=cs(S.I);if(Ar(Q,"SID",S.K),Ar(Q,"RID",U),Ar(Q,"TYPE","terminate"),bo(S,Q),U=new $r(S,S.j,U),U.L=2,U.v=fo(cs(Q)),Q=!1,g.navigator&&g.navigator.sendBeacon)try{Q=g.navigator.sendBeacon(U.v.toString(),"")}catch{}!Q&&g.Image&&(new Image().src=U.v,Q=!0),Q||(U.g=vd(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ql(U)}Jm(S)}function $a(S){S.g&&(el(S),S.g.cancel(),S.g=null)}function Km(S){$a(S),S.u&&(g.clearTimeout(S.u),S.u=null),Zl(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&g.clearTimeout(S.s),S.s=null)}function bd(S){if(!wi(S.h)&&!S.s){S.s=!0;var U=S.Ga;oe||q(),ue||(oe(),ue=!0),te.add(U,S),S.B=0}}function lg(S,U){return dd(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=U.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=pn(N(S.Ga,S,U),eh(S,S.B)),S.B++,!0)}n.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Ce=new $r(this,this.j,S);let Me=this.o;if(this.S&&(Me?(Me=B(Me),Z(Me,this.S)):Me=this.S),this.m!==null||this.O||(Ce.H=Me,Me=null),this.P)e:{for(var U=0,Q=0;Q<this.i.length;Q++){t:{var he=this.i[Q];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(U+=he,4096<U){U=Q;break e}if(U===4096||Q===this.i.length-1){U=Q+1;break e}}U=1e3}else U=1e3;U=Qm(this,Ce,U),Q=cs(this.I),Ar(Q,"RID",S),Ar(Q,"CVER",22),this.D&&Ar(Q,"X-HTTP-Session-Id",this.D),bo(this,Q),Me&&(this.O?U="headers="+encodeURIComponent(String(Qu(Me)))+"&"+U:this.m&&gn(Q,this.m,Me)),ud(this.h,Ce),this.Ua&&Ar(Q,"TYPE","init"),this.P?(Ar(Q,"$req",U),Ar(Q,"SID","null"),Ce.T=!0,Go(Ce,Q,null)):Go(Ce,Q,U),this.G=2}}else this.G==3&&(S?Ju(this,S):this.i.length==0||wi(this.h)||Ju(this))};function Ju(S,U){var Q;U?Q=U.l:Q=S.U++;const he=cs(S.I);Ar(he,"SID",S.K),Ar(he,"RID",Q),Ar(he,"AID",S.T),bo(S,he),S.m&&S.o&&gn(he,S.m,S.o),Q=new $r(S,S.j,Q,S.B+1),S.m===null&&(Q.H=S.o),U&&(S.i=U.D.concat(S.i)),U=Qm(S,Q,1e3),Q.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),ud(S.h,Q),Go(Q,he,U)}function bo(S,U){S.H&&le(S.H,function(Q,he){Ar(U,he,Q)}),S.l&&ki({},function(Q,he){Ar(U,he,Q)})}function Qm(S,U,Q){Q=Math.min(S.i.length,Q);var he=S.l?N(S.l.Na,S.l,S):null;e:{var Ce=S.i;let Me=-1;for(;;){const Xe=["count="+Q];Me==-1?0<Q?(Me=Ce[0].g,Xe.push("ofs="+Me)):Me=0:Xe.push("ofs="+Me);let Qt=!0;for(let yn=0;yn<Q;yn++){let Jt=Ce[yn].g;const Bn=Ce[yn].map;if(Jt-=Me,0>Jt)Me=Math.max(0,Ce[yn].g-100),Qt=!1;else try{Yo(Bn,Xe,"req"+Jt+"_")}catch{he&&he(Bn)}}if(Qt){he=Xe.join("&");break e}}}return S=S.i.splice(0,Q),U.D=S,he}function Xu(S){if(!S.g&&!S.u){S.Y=1;var U=S.Fa;oe||q(),ue||(oe(),ue=!0),te.add(U,S),S.v=0}}function xd(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=pn(N(S.Fa,S),eh(S,S.v)),S.v++,!0)}n.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=pn(N(this.ab,this),S)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_r(10),$a(this),Zu(this))};function el(S){S.A!=null&&(g.clearTimeout(S.A),S.A=null)}function Zu(S){S.g=new $r(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var U=cs(S.qa);Ar(U,"RID","rpc"),Ar(U,"SID",S.K),Ar(U,"AID",S.T),Ar(U,"CI",S.F?"0":"1"),!S.F&&S.ja&&Ar(U,"TO",S.ja),Ar(U,"TYPE","xmlhttp"),bo(S,U),S.m&&S.o&&gn(U,S.m,S.o),S.L&&(S.g.I=S.L);var Q=S.g;S=S.ia,Q.L=1,Q.v=fo(cs(U)),Q.m=null,Q.P=!0,ws(Q,S)}n.Za=function(){this.C!=null&&(this.C=null,$a(this),xd(this),_r(19))};function Zl(S){S.C!=null&&(g.clearTimeout(S.C),S.C=null)}function $u(S,U){var Q=null;if(S.g==U){Zl(S),el(S),S.g=null;var he=2}else if(qu(S.h,U))Q=U.D,ks(S.h,U),he=1;else return;if(S.G!=0){if(U.o)if(he==1){Q=U.m?U.m.length:0,U=Date.now()-U.F;var Ce=S.B;he=Ga(),Et(he,new Kr(he,Q)),bd(S)}else Xu(S);else if(Ce=U.s,Ce==3||Ce==0&&0<U.X||!(he==1&&lg(S,U)||he==2&&xd(S)))switch(Q&&0<Q.length&&(U=S.h,U.i=U.i.concat(Q)),Ce){case 1:ji(S,5);break;case 4:ji(S,10);break;case 3:ji(S,6);break;default:ji(S,2)}}}function eh(S,U){let Q=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(Q*=2),Q*U}function ji(S,U){if(S.j.info("Error code "+U),U==2){var Q=N(S.fb,S),he=S.Xa;const Ce=!he;he=new fn(he||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Wl(he,"https"),fo(he),Ce?Ji(he.toString(),Q):qo(he.toString(),Q)}else _r(2);S.G=0,S.l&&S.l.sa(U),Jm(S),Km(S)}n.fb=function(S){S?(this.j.info("Successfully pinged google.com"),_r(2)):(this.j.info("Failed to ping google.com"),_r(1))};function Jm(S){if(S.G=0,S.ka=[],S.l){const U=Yu(S.h);(U.length!=0||S.i.length!=0)&&(P(S.ka,U),P(S.ka,S.i),S.h.i.length=0,R(S.i),S.i.length=0),S.l.ra()}}function th(S,U,Q){var he=Q instanceof fn?cs(Q):new fn(Q);if(he.g!="")U&&(he.g=U+"."+he.g),Ka(he,he.s);else{var Ce=g.location;he=Ce.protocol,U=U?U+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var Me=new fn(null);he&&Wl(Me,he),U&&(Me.g=U),Ce&&Ka(Me,Ce),Q&&(Me.l=Q),he=Me}return Q=S.D,U=S.ya,Q&&U&&Ar(he,Q,U),Ar(he,"VER",S.la),bo(S,he),he}function vd(S,U,Q){if(U&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=S.Ca&&!S.pa?new ur(new go({eb:Q})):new ur(S.pa),U.Ha(S.J),U}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xm(){}n=Xm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(S,U){return new ds(S,U)};function ds(S,U){Yt.call(this),this.g=new yd(U),this.l=S,this.h=U&&U.messageUrlParams||null,S=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(S?S["X-WebChannel-Content-Type"]=U.messageContentType:S={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(S?S["X-WebChannel-Client-Profile"]=U.va:S={"X-WebChannel-Client-Profile":U.va}),this.g.S=S,(S=U&&U.Sb)&&!V(S)&&(this.g.m=S),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!V(U)&&(this.g.D=U,S=this.h,S!==null&&U in S&&(S=this.h,U in S&&delete S[U])),this.j=new xo(this)}T(ds,Yt),ds.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ds.prototype.close=function(){Za(this.g)},ds.prototype.o=function(S){var U=this.g;if(typeof S=="string"){var Q={};Q.__data__=S,S=Q}else this.u&&(Q={},Q.__data__=Pr(S),S=Q);U.i.push(new vi(U.Ya++,S)),U.G==3&&bd(U)},ds.prototype.N=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,ds.aa.N.call(this)};function Zm(S){Uo.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var U=S.__sm__;if(U){e:{for(const Q in U){S=Q;break e}S=void 0}(this.i=S)&&(S=this.i,U=U!==null&&S in U?U[S]:void 0),this.data=U}else this.data=S}T(Zm,Uo);function rh(){Gu.call(this),this.status=1}T(rh,Gu);function xo(S){this.g=S}T(xo,Xm),xo.prototype.ua=function(){Et(this.g,"a")},xo.prototype.ta=function(S){Et(this.g,new Zm(S))},xo.prototype.sa=function(S){Et(this.g,new rh)},xo.prototype.ra=function(){Et(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,ds.prototype.send=ds.prototype.o,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,p3=function(){return new $l},m3=function(){return Ga()},h3=fi,Q_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,uw=qa,qi.COMPLETE="complete",u3=qi,od.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,ib=od,ur.prototype.listenOnce=ur.prototype.L,ur.prototype.getLastError=ur.prototype.Ka,ur.prototype.getLastErrorCode=ur.prototype.Ba,ur.prototype.getStatus=ur.prototype.Z,ur.prototype.getResponseJson=ur.prototype.Oa,ur.prototype.getResponseText=ur.prototype.oa,ur.prototype.send=ur.prototype.ea,ur.prototype.setWithCredentials=ur.prototype.Ha,d3=ur}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});const ID="@firebase/firestore",RD="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}qs.UNAUTHENTICATED=new qs(null),qs.GOOGLE_CREDENTIALS=new qs("google-credentials-uid"),qs.FIRST_PARTY=new qs("first-party-uid"),qs.MOCK_USER=new qs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new XA("@firebase/firestore");function gf(){return Em.logLevel}function it(n,...t){if(Em.logLevel<=sr.DEBUG){const o=t.map(u2);Em.debug(`Firestore (${Wf}): ${n}`,...o)}}function Zc(n,...t){if(Em.logLevel<=sr.ERROR){const o=t.map(u2);Em.error(`Firestore (${Wf}): ${n}`,...o)}}function Df(n,...t){if(Em.logLevel<=sr.WARN){const o=t.map(u2);Em.warn(`Firestore (${Wf}): ${n}`,...o)}}function u2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(o){return JSON.stringify(o)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n,t,o){let i="Unexpected state";typeof t=="string"?i=t:o=t,f3(n,i,o)}function f3(n,t,o){let i=`FIRESTORE (${Wf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(o!==void 0)try{i+=" CONTEXT: "+JSON.stringify(o)}catch{i+=" CONTEXT: "+o}throw Zc(i),new Error(i)}function Sr(n,t,o,i){let l="Unexpected state";typeof o=="string"?l=o:i=o,n||f3(t,l,i)}function Dt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Vl{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(qs.UNAUTHENTICATED))}shutdown(){}}class kK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,o){this.changeListener=o,t.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class CK{constructor(t){this.t=t,this.currentUser=qs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){Sr(this.o===void 0,42304);let i=this.i;const l=y=>this.i!==i?(i=this.i,o(y)):Promise.resolve();let h=new Hc;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hc,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hc)}},0),m()}getToken(){const t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(i=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Sr(typeof i.accessToken=="string",31837,{l:i}),new g3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Sr(t===null||typeof t=="string",2055,{h:t}),new qs(t)}}class _K{constructor(t,o,i){this.P=t,this.T=o,this.I=i,this.type="FirstParty",this.user=qs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AK{constructor(t,o,i){this.P=t,this.T=o,this.I=i}getToken(){return Promise.resolve(new _K(this.P,this.T,this.I))}start(t,o){t.enqueueRetryable(()=>o(qs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NK{constructor(t,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Io(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,o){Sr(this.o===void 0,3512);const i=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?o(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>i(h))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PD(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(Sr(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new PD(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let i=0;i<n;i++)o[i]=Math.floor(256*Math.random());return o}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=jK(40);for(let h=0;h<l.length;++h)i.length<20&&l[h]<o&&(i+=t.charAt(l[h]%62))}return i}}function Ht(n,t){return n<t?-1:n>t?1:0}function J_(n,t){let o=0;for(;o<n.length&&o<t.length;){const i=n.codePointAt(o),l=t.codePointAt(o);if(i!==l){if(i<128&&l<128)return Ht(i,l);{const h=y3(),m=SK(h.encode(OD(n,o)),h.encode(OD(t,o)));return m!==0?m:Ht(i,l)}}o+=i>65535?2:1}return Ht(n.length,t.length)}function OD(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function SK(n,t){for(let o=0;o<n.length&&o<t.length;++o)if(n[o]!==t[o])return Ht(n[o],t[o]);return Ht(n.length,t.length)}function Mf(n,t,o){return n.length===t.length&&n.every((i,l)=>o(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=-62135596800,LD=1e6;class os{static now(){return os.fromMillis(Date.now())}static fromDate(t){return os.fromMillis(t.getTime())}static fromMillis(t){const o=Math.floor(t/1e3),i=Math.floor((t-1e3*o)*LD);return new os(o,i)}constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new lt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new lt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<BD)throw new lt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LD}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-BD;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new os(0,0))}static max(){return new jt(new os(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="__name__";class El{constructor(t,o,i){o===void 0?o=0:o>t.length&&kt(637,{offset:o,range:t.length}),i===void 0?i=t.length-o:i>t.length-o&&kt(1746,{length:i,range:t.length-o}),this.segments=t,this.offset=o,this.len=i}get length(){return this.len}isEqual(t){return El.comparator(this,t)===0}child(t){const o=this.segments.slice(this.offset,this.limit());return t instanceof El?t.forEach(i=>{o.push(i)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,i=this.limit();o<i;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){const i=Math.min(t.length,o.length);for(let l=0;l<i;l++){const h=El.compareSegments(t.get(l),o.get(l));if(h!==0)return h}return Ht(t.length,o.length)}static compareSegments(t,o){const i=El.isNumericId(t),l=El.isNumericId(o);return i&&!l?-1:!i&&l?1:i&&l?El.extractNumericId(t).compare(El.extractNumericId(o)):J_(t,o)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ku.fromString(t.substring(4,t.length-2))}}class Wr extends El{construct(t,o,i){return new Wr(t,o,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const o=[];for(const i of t){if(i.indexOf("//")>=0)throw new lt(Ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);o.push(...i.split("/").filter(l=>l.length>0))}return new Wr(o)}static emptyPath(){return new Wr([])}}const EK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ts extends El{construct(t,o,i){return new Ts(t,o,i)}static isValidIdentifier(t){return EK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ts.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zD}static keyField(){return new Ts([zD])}static fromServerFormat(t){const o=[];let i="",l=0;const h=()=>{if(i.length===0)throw new lt(Ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(i),i=""};let m=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,l+=2}else g==="`"?(m=!m,l++):g!=="."||m?(i+=g,l++):(h(),l++)}if(h(),m)throw new lt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ts(o)}static emptyPath(){return new Ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(Wr.fromString(t))}static fromName(t){return new pt(Wr.fromString(t).popFirst(5))}static empty(){return new pt(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return Wr.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new Wr(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=-1;function DK(n,t){const o=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(i===1e9?new os(o+1,0):new os(o,i));return new Nu(l,pt.empty(),t)}function MK(n){return new Nu(n.readTime,n.key,Ib)}class Nu{constructor(t,o,i){this.readTime=t,this.documentKey=o,this.largestBatchId=i}static min(){return new Nu(jt.min(),pt.empty(),Ib)}static max(){return new Nu(jt.max(),pt.empty(),Ib)}}function TK(n,t){let o=n.readTime.compareTo(t.readTime);return o!==0?o:(o=pt.comparator(n.documentKey,t.documentKey),o!==0?o:Ht(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==IK)throw n;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(t){return this.next(void 0,t)}next(t,o){return this.callbackAttached&&kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(t,this.result):new He((i,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(i,l)},this.catchCallback=h=>{this.wrapFailure(o,h).next(i,l)}})}toPromise(){return new Promise((t,o)=>{this.next(t,o)})}wrapUserFunction(t){try{const o=t();return o instanceof He?o:He.resolve(o)}catch(o){return He.reject(o)}}wrapSuccess(t,o){return t?this.wrapUserFunction(()=>t(o)):He.resolve(o)}wrapFailure(t,o){return t?this.wrapUserFunction(()=>t(o)):He.reject(o)}static resolve(t){return new He((o,i)=>{o(t)})}static reject(t){return new He((o,i)=>{i(t)})}static waitFor(t){return new He((o,i)=>{let l=0,h=0,m=!1;t.forEach(g=>{++l,g.next(()=>{++h,m&&h===l&&o()},y=>i(y))}),m=!0,h===l&&o()})}static or(t){let o=He.resolve(!1);for(const i of t)o=o.next(l=>l?He.resolve(l):i());return o}static forEach(t,o){const i=[];return t.forEach((l,h)=>{i.push(o.call(this,l,h))}),this.waitFor(i)}static mapArray(t,o){return new He((i,l)=>{const h=t.length,m=new Array(h);let g=0;for(let y=0;y<h;y++){const w=y;o(t[w]).next(k=>{m[w]=k,++g,g===h&&i(m)},k=>l(k))}})}static doWhile(t,o){return new He((i,l)=>{const h=()=>{t()===!0?o().next(()=>{h()},l):i()};h()})}}function PK(n){const t=n.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}function Qf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>o.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}kk.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=-1;function Ck(n){return n==null}function Lw(n){return n===0&&1/n==-1/0}function OK(n){return typeof n=="number"&&Number.isInteger(n)&&!Lw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="";function BK(n){let t="";for(let o=0;o<n.length;o++)t.length>0&&(t=FD(t)),t=LK(n.get(o),t);return FD(t)}function LK(n,t){let o=t;const i=n.length;for(let l=0;l<i;l++){const h=n.charAt(l);switch(h){case"\0":o+="";break;case x3:o+="";break;default:o+=h}}return o}function FD(n){return n+x3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){let t=0;for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&t++;return t}function zu(n,t){for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&t(o,n[o])}function v3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,o){this.comparator=t,this.root=o||Ms.EMPTY}insert(t,o){return new dn(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,Ms.BLACK,null,null))}remove(t){return new dn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ms.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){const i=this.comparator(t,o.key);if(i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}indexOf(t){let o=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return o+i.left.size;l<0?i=i.left:(o+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,i)=>(t(o,i),!1))}toString(){const t=[];return this.inorderTraversal((o,i)=>(t.push(`${o}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new V0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new V0(this.root,t,this.comparator,!1)}getReverseIterator(){return new V0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new V0(this.root,t,this.comparator,!0)}}class V0{constructor(t,o,i,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=o?i(t.key,o):1,o&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ms{constructor(t,o,i,l,h){this.key=t,this.value=o,this.color=i??Ms.RED,this.left=l??Ms.EMPTY,this.right=h??Ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,i,l,h){return new Ms(t??this.key,o??this.value,i??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,i){let l=this;const h=i(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,o,i),null):h===0?l.copy(null,o,null,null,null):l.copy(null,null,null,null,l.right.insert(t,o,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ms.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let i,l=this;if(o(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,o),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),o(t,l.key)===0){if(l.right.isEmpty())return Ms.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,o))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw kt(27949);return t+(this.isRed()?0:1)}}Ms.EMPTY=null,Ms.RED=!0,Ms.BLACK=!1;Ms.EMPTY=new class{constructor(){this.size=0}get key(){throw kt(57766)}get value(){throw kt(16141)}get color(){throw kt(16727)}get left(){throw kt(29726)}get right(){throw kt(36894)}copy(t,o,i,l,h){return this}insert(t,o,i){return new Ms(t,o)}remove(t,o){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.comparator=t,this.data=new dn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,i)=>(t(o),!1))}forEachInRange(t,o){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;o(l.key)}}forEachWhile(t,o){let i;for(i=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new UD(this.data.getIterator())}getIteratorFrom(t){return new UD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(i=>{o=o.add(i)}),o}isEqual(t){if(!(t instanceof is)||this.size!==t.size)return!1;const o=this.data.getIterator(),i=t.data.getIterator();for(;o.hasNext();){const l=o.getNext().key,h=i.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(o=>{t.push(o)}),t}toString(){const t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){const o=new is(this.comparator);return o.data=t,o}}class UD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.fields=t,t.sort(Ts.comparator)}static empty(){return new di([])}unionWith(t){let o=new is(Ts.comparator);for(const i of this.fields)o=o.add(i);for(const i of t)o=o.add(i);return new di(o.toArray())}covers(t){for(const o of this.fields)if(o.isPrefixOf(t))return!0;return!1}isEqual(t){return Mf(this.fields,t.fields,(o,i)=>o.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this.binaryString=t}static fromBase64String(t){const o=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new w3("Invalid base64 string: "+h):h}}(t);return new Is(o)}static fromUint8Array(t){const o=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(t);return new Is(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){const i=new Uint8Array(o.length);for(let l=0;l<o.length;l++)i[l]=o.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const zK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(n){if(Sr(!!n,39018),typeof n=="string"){let t=0;const o=zK.exec(n);if(Sr(!!o,46558,{timestamp:n}),o[1]){let l=o[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Su(n){return typeof n=="string"?Is.fromBase64String(n):Is.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="server_timestamp",C3="__type__",_3="__previous_value__",A3="__local_write_time__";function m2(n){var t,o;return((o=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[C3])===null||o===void 0?void 0:o.stringValue)===k3}function _k(n){const t=n.mapValue.fields[_3];return m2(t)?_k(t):t}function Rb(n){const t=ju(n.mapValue.fields[A3].timestampValue);return new os(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(t,o,i,l,h,m,g,y,w,k){this.databaseId=t,this.appId=o,this.persistenceKey=i,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=w,this.isUsingEmulator=k}}const zw="(default)";class Pb{constructor(t,o){this.projectId=t,this.database=o||zw}static empty(){return new Pb("","")}get isDefaultDatabase(){return this.database===zw}isEqual(t){return t instanceof Pb&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="__type__",VK="__max__",U0={mapValue:{}},j3="__vector__",Fw="value";function Eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m2(n)?4:GK(n)?9007199254740991:UK(n)?10:11:kt(28295,{value:n})}function Ll(n,t){if(n===t)return!0;const o=Eu(n);if(o!==Eu(t))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Rb(n).isEqual(Rb(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=ju(l.timestampValue),g=ju(h.timestampValue);return m.seconds===g.seconds&&m.nanos===g.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(l,h){return Su(l.bytesValue).isEqual(Su(h.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(l,h){return Pn(l.geoPointValue.latitude)===Pn(h.geoPointValue.latitude)&&Pn(l.geoPointValue.longitude)===Pn(h.geoPointValue.longitude)}(n,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Pn(l.integerValue)===Pn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=Pn(l.doubleValue),g=Pn(h.doubleValue);return m===g?Lw(m)===Lw(g):isNaN(m)&&isNaN(g)}return!1}(n,t);case 9:return Mf(n.arrayValue.values||[],t.arrayValue.values||[],Ll);case 10:case 11:return function(l,h){const m=l.mapValue.fields||{},g=h.mapValue.fields||{};if(VD(m)!==VD(g))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(g[y]===void 0||!Ll(m[y],g[y])))return!1;return!0}(n,t);default:return kt(52216,{left:n})}}function Ob(n,t){return(n.values||[]).find(o=>Ll(o,t))!==void 0}function Tf(n,t){if(n===t)return 0;const o=Eu(n),i=Eu(t);if(o!==i)return Ht(o,i);switch(o){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,t.booleanValue);case 2:return function(h,m){const g=Pn(h.integerValue||h.doubleValue),y=Pn(m.integerValue||m.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(n,t);case 3:return GD(n.timestampValue,t.timestampValue);case 4:return GD(Rb(n),Rb(t));case 5:return J_(n.stringValue,t.stringValue);case 6:return function(h,m){const g=Su(h),y=Su(m);return g.compareTo(y)}(n.bytesValue,t.bytesValue);case 7:return function(h,m){const g=h.split("/"),y=m.split("/");for(let w=0;w<g.length&&w<y.length;w++){const k=Ht(g[w],y[w]);if(k!==0)return k}return Ht(g.length,y.length)}(n.referenceValue,t.referenceValue);case 8:return function(h,m){const g=Ht(Pn(h.latitude),Pn(m.latitude));return g!==0?g:Ht(Pn(h.longitude),Pn(m.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return HD(n.arrayValue,t.arrayValue);case 10:return function(h,m){var g,y,w,k;const _=h.fields||{},N=m.fields||{},D=(g=_[Fw])===null||g===void 0?void 0:g.arrayValue,T=(y=N[Fw])===null||y===void 0?void 0:y.arrayValue,R=Ht(((w=D==null?void 0:D.values)===null||w===void 0?void 0:w.length)||0,((k=T==null?void 0:T.values)===null||k===void 0?void 0:k.length)||0);return R!==0?R:HD(D,T)}(n.mapValue,t.mapValue);case 11:return function(h,m){if(h===U0.mapValue&&m===U0.mapValue)return 0;if(h===U0.mapValue)return 1;if(m===U0.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),w=m.fields||{},k=Object.keys(w);y.sort(),k.sort();for(let _=0;_<y.length&&_<k.length;++_){const N=J_(y[_],k[_]);if(N!==0)return N;const D=Tf(g[y[_]],w[k[_]]);if(D!==0)return D}return Ht(y.length,k.length)}(n.mapValue,t.mapValue);default:throw kt(23264,{Pe:o})}}function GD(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ht(n,t);const o=ju(n),i=ju(t),l=Ht(o.seconds,i.seconds);return l!==0?l:Ht(o.nanos,i.nanos)}function HD(n,t){const o=n.values||[],i=t.values||[];for(let l=0;l<o.length&&l<i.length;++l){const h=Tf(o[l],i[l]);if(h)return h}return Ht(o.length,i.length)}function If(n){return X_(n)}function X_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(o){const i=ju(o);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(o){return Su(o).toBase64()}(n.bytesValue):"referenceValue"in n?function(o){return pt.fromName(o).toString()}(n.referenceValue):"geoPointValue"in n?function(o){return`geo(${o.latitude},${o.longitude})`}(n.geoPointValue):"arrayValue"in n?function(o){let i="[",l=!0;for(const h of o.values||[])l?l=!1:i+=",",i+=X_(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(o){const i=Object.keys(o.fields||{}).sort();let l="{",h=!0;for(const m of i)h?h=!1:l+=",",l+=`${m}:${X_(o.fields[m])}`;return l+"}"}(n.mapValue):kt(61005,{value:n})}function hw(n){switch(Eu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_k(n);return t?16+hw(t):16;case 5:return 2*n.stringValue.length;case 6:return Su(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,h)=>l+hw(h),0)}(n.arrayValue);case 10:case 11:return function(i){let l=0;return zu(i.fields,(h,m)=>{l+=h.length+hw(m)}),l}(n.mapValue);default:throw kt(13486,{value:n})}}function qD(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Z_(n){return!!n&&"integerValue"in n}function p2(n){return!!n&&"arrayValue"in n}function YD(n){return!!n&&"nullValue"in n}function WD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mw(n){return!!n&&"mapValue"in n}function UK(n){var t,o;return((o=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[N3])===null||o===void 0?void 0:o.stringValue)===j3}function bb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return zu(n.mapValue.fields,(o,i)=>t.mapValue.fields[o]=bb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let o=0;o<(n.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=bb(n.arrayValue.values[o]);return t}return Object.assign({},n)}function GK(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.value=t}static empty(){return new Ro({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let o=this.value;for(let i=0;i<t.length-1;++i)if(o=(o.mapValue.fields||{})[t.get(i)],!mw(o))return null;return o=(o.mapValue.fields||{})[t.lastSegment()],o||null}}set(t,o){this.getFieldsMap(t.popLast())[t.lastSegment()]=bb(o)}setAll(t){let o=Ts.emptyPath(),i={},l=[];t.forEach((m,g)=>{if(!o.isImmediateParentOf(g)){const y=this.getFieldsMap(o);this.applyChanges(y,i,l),i={},l=[],o=g.popLast()}m?i[g.lastSegment()]=bb(m):l.push(g.lastSegment())});const h=this.getFieldsMap(o);this.applyChanges(h,i,l)}delete(t){const o=this.field(t.popLast());mw(o)&&o.mapValue.fields&&delete o.mapValue.fields[t.lastSegment()]}isEqual(t){return Ll(this.value,t.value)}getFieldsMap(t){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=o.mapValue.fields[t.get(i)];mw(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},o.mapValue.fields[t.get(i)]=l),o=l}return o.mapValue.fields}applyChanges(t,o,i){zu(o,(l,h)=>t[l]=h);for(const l of i)delete t[l]}clone(){return new Ro(bb(this.value))}}function S3(n){const t=[];return zu(n.fields,(o,i)=>{const l=new Ts([o]);if(mw(i)){const h=S3(i.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)}),new di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,o,i,l,h,m,g){this.key=t,this.documentType=o,this.version=i,this.readTime=l,this.createTime=h,this.data=m,this.documentState=g}static newInvalidDocument(t){return new Ys(t,0,jt.min(),jt.min(),jt.min(),Ro.empty(),0)}static newFoundDocument(t,o,i,l){return new Ys(t,1,o,jt.min(),i,l,0)}static newNoDocument(t,o){return new Ys(t,2,o,jt.min(),jt.min(),Ro.empty(),0)}static newUnknownDocument(t,o){return new Ys(t,3,o,jt.min(),jt.min(),Ro.empty(),2)}convertToFoundDocument(t,o){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ro.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ys&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,o){this.position=t,this.inclusive=o}}function KD(n,t,o){let i=0;for(let l=0;l<n.position.length;l++){const h=t[l],m=n.position[l];if(h.field.isKeyField()?i=pt.comparator(pt.fromName(m.referenceValue),o.key):i=Tf(m,o.data.field(h.field)),h.dir==="desc"&&(i*=-1),i!==0)break}return i}function QD(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let o=0;o<n.position.length;o++)if(!Ll(n.position[o],t.position[o]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,o="asc"){this.field=t,this.dir=o}}function HK(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{}class Wn extends E3{constructor(t,o,i){super(),this.field=t,this.op=o,this.value=i}static create(t,o,i){return t.isKeyField()?o==="in"||o==="not-in"?this.createKeyFieldInFilter(t,o,i):new YK(t,o,i):o==="array-contains"?new QK(t,i):o==="in"?new JK(t,i):o==="not-in"?new XK(t,i):o==="array-contains-any"?new ZK(t,i):new Wn(t,o,i)}static createKeyFieldInFilter(t,o,i){return o==="in"?new WK(t,i):new KK(t,i)}matches(t){const o=t.data.field(this.field);return this.op==="!="?o!==null&&o.nullValue===void 0&&this.matchesComparison(Tf(o,this.value)):o!==null&&Eu(this.value)===Eu(o)&&this.matchesComparison(Tf(o,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ra extends E3{constructor(t,o){super(),this.filters=t,this.op=o,this.Te=null}static create(t,o){return new Ra(t,o)}matches(t){return D3(this)?this.filters.find(o=>!o.matches(t))===void 0:this.filters.find(o=>o.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,o)=>t.concat(o.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function D3(n){return n.op==="and"}function M3(n){return qK(n)&&D3(n)}function qK(n){for(const t of n.filters)if(t instanceof Ra)return!1;return!0}function $_(n){if(n instanceof Wn)return n.field.canonicalString()+n.op.toString()+If(n.value);if(M3(n))return n.filters.map(t=>$_(t)).join(",");{const t=n.filters.map(o=>$_(o)).join(",");return`${n.op}(${t})`}}function T3(n,t){return n instanceof Wn?function(i,l){return l instanceof Wn&&i.op===l.op&&i.field.isEqual(l.field)&&Ll(i.value,l.value)}(n,t):n instanceof Ra?function(i,l){return l instanceof Ra&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((h,m,g)=>h&&T3(m,l.filters[g]),!0):!1}(n,t):void kt(19439)}function I3(n){return n instanceof Wn?function(o){return`${o.field.canonicalString()} ${o.op} ${If(o.value)}`}(n):n instanceof Ra?function(o){return o.op.toString()+" {"+o.getFilters().map(I3).join(" ,")+"}"}(n):"Filter"}class YK extends Wn{constructor(t,o,i){super(t,o,i),this.key=pt.fromName(i.referenceValue)}matches(t){const o=pt.comparator(t.key,this.key);return this.matchesComparison(o)}}class WK extends Wn{constructor(t,o){super(t,"in",o),this.keys=R3("in",o)}matches(t){return this.keys.some(o=>o.isEqual(t.key))}}class KK extends Wn{constructor(t,o){super(t,"not-in",o),this.keys=R3("not-in",o)}matches(t){return!this.keys.some(o=>o.isEqual(t.key))}}function R3(n,t){var o;return(((o=t.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(i=>pt.fromName(i.referenceValue))}class QK extends Wn{constructor(t,o){super(t,"array-contains",o)}matches(t){const o=t.data.field(this.field);return p2(o)&&Ob(o.arrayValue,this.value)}}class JK extends Wn{constructor(t,o){super(t,"in",o)}matches(t){const o=t.data.field(this.field);return o!==null&&Ob(this.value.arrayValue,o)}}class XK extends Wn{constructor(t,o){super(t,"not-in",o)}matches(t){if(Ob(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=t.data.field(this.field);return o!==null&&o.nullValue===void 0&&!Ob(this.value.arrayValue,o)}}class ZK extends Wn{constructor(t,o){super(t,"array-contains-any",o)}matches(t){const o=t.data.field(this.field);return!(!p2(o)||!o.arrayValue.values)&&o.arrayValue.values.some(i=>Ob(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(t,o=null,i=[],l=[],h=null,m=null,g=null){this.path=t,this.collectionGroup=o,this.orderBy=i,this.filters=l,this.limit=h,this.startAt=m,this.endAt=g,this.Ie=null}}function JD(n,t=null,o=[],i=[],l=null,h=null,m=null){return new $K(n,t,o,i,l,h,m)}function f2(n){const t=Dt(n);if(t.Ie===null){let o=t.path.canonicalString();t.collectionGroup!==null&&(o+="|cg:"+t.collectionGroup),o+="|f:",o+=t.filters.map(i=>$_(i)).join(","),o+="|ob:",o+=t.orderBy.map(i=>function(h){return h.field.canonicalString()+h.dir}(i)).join(","),Ck(t.limit)||(o+="|l:",o+=t.limit),t.startAt&&(o+="|lb:",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(i=>If(i)).join(",")),t.endAt&&(o+="|ub:",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(i=>If(i)).join(",")),t.Ie=o}return t.Ie}function g2(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!HK(n.orderBy[o],t.orderBy[o]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if(!T3(n.filters[o],t.filters[o]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!QD(n.startAt,t.startAt)&&QD(n.endAt,t.endAt)}function eA(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,o=null,i=[],l=[],h=null,m="F",g=null,y=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=i,this.filters=l,this.limit=h,this.limitType=m,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eQ(n,t,o,i,l,h,m,g){return new lx(n,t,o,i,l,h,m,g)}function y2(n){return new lx(n)}function XD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P3(n){return n.collectionGroup!==null}function xb(n){const t=Dt(n);if(t.Ee===null){t.Ee=[];const o=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),o.add(h.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let g=new is(Ts.comparator);return m.filters.forEach(y=>{y.getFlattenedFilters().forEach(w=>{w.isInequality()&&(g=g.add(w.field))})}),g})(t).forEach(h=>{o.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Uw(h,i))}),o.has(Ts.keyField().canonicalString())||t.Ee.push(new Uw(Ts.keyField(),i))}return t.Ee}function Il(n){const t=Dt(n);return t.de||(t.de=tQ(t,xb(n))),t.de}function tQ(n,t){if(n.limitType==="F")return JD(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Uw(l.field,h)});const o=n.endAt?new Vw(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vw(n.startAt.position,n.startAt.inclusive):null;return JD(n.path,n.collectionGroup,t,n.filters,n.limit,o,i)}}function tA(n,t){const o=n.filters.concat([t]);return new lx(n.path,n.collectionGroup,n.explicitOrderBy.slice(),o,n.limit,n.limitType,n.startAt,n.endAt)}function Gw(n,t,o){return new lx(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,o,n.startAt,n.endAt)}function Ak(n,t){return g2(Il(n),Il(t))&&n.limitType===t.limitType}function O3(n){return`${f2(Il(n))}|lt:${n.limitType}`}function yf(n){return`Query(target=${function(o){let i=o.path.canonicalString();return o.collectionGroup!==null&&(i+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(i+=`, filters: [${o.filters.map(l=>I3(l)).join(", ")}]`),Ck(o.limit)||(i+=", limit: "+o.limit),o.orderBy.length>0&&(i+=`, orderBy: [${o.orderBy.map(l=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(l)).join(", ")}]`),o.startAt&&(i+=", startAt: ",i+=o.startAt.inclusive?"b:":"a:",i+=o.startAt.position.map(l=>If(l)).join(",")),o.endAt&&(i+=", endAt: ",i+=o.endAt.inclusive?"a:":"b:",i+=o.endAt.position.map(l=>If(l)).join(",")),`Target(${i})`}(Il(n))}; limitType=${n.limitType})`}function Nk(n,t){return t.isFoundDocument()&&function(i,l){const h=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(h):pt.isDocumentKey(i.path)?i.path.isEqual(h):i.path.isImmediateParentOf(h)}(n,t)&&function(i,l){for(const h of xb(i))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(n,t)&&function(i,l){for(const h of i.filters)if(!h.matches(l))return!1;return!0}(n,t)&&function(i,l){return!(i.startAt&&!function(m,g,y){const w=KD(m,g,y);return m.inclusive?w<=0:w<0}(i.startAt,xb(i),l)||i.endAt&&!function(m,g,y){const w=KD(m,g,y);return m.inclusive?w>=0:w>0}(i.endAt,xb(i),l))}(n,t)}function rQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function B3(n){return(t,o)=>{let i=!1;for(const l of xb(n)){const h=nQ(l,t,o);if(h!==0)return h;i=i||l.field.isKeyField()}return 0}}function nQ(n,t,o){const i=n.field.isKeyField()?pt.comparator(t.key,o.key):function(h,m,g){const y=m.data.field(h),w=g.data.field(h);return y!==null&&w!==null?Tf(y,w):kt(42886)}(n.field,t,o);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return kt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,o){this.mapKeyFn=t,this.equalsFn=o,this.inner={},this.innerSize=0}get(t){const o=this.mapKeyFn(t),i=this.inner[o];if(i!==void 0){for(const[l,h]of i)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,o){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,o]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,o]);l.push([t,o]),this.innerSize++}delete(t){const o=this.mapKeyFn(t),i=this.inner[o];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[o]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zu(this.inner,(o,i)=>{for(const[l,h]of i)t(l,h)})}isEmpty(){return v3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=new dn(pt.comparator);function $c(){return sQ}const L3=new dn(pt.comparator);function ab(...n){let t=L3;for(const o of n)t=t.insert(o.key,o);return t}function z3(n){let t=L3;return n.forEach((o,i)=>t=t.insert(o,i.overlayedDocument)),t}function pm(){return vb()}function F3(){return vb()}function vb(){return new Bm(n=>n.toString(),(n,t)=>n.isEqual(t))}const oQ=new dn(pt.comparator),iQ=new is(pt.comparator);function or(...n){let t=iQ;for(const o of n)t=t.add(o);return t}const aQ=new is(Ht);function lQ(){return aQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lw(t)?"-0":t}}function V3(n){return{integerValue:""+n}}function cQ(n,t){return OK(t)?V3(t):b2(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this._=void 0}}function dQ(n,t,o){return n instanceof Hw?function(l,h){const m={fields:{[C3]:{stringValue:k3},[A3]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&m2(h)&&(h=_k(h)),h&&(m.fields[_3]=h),{mapValue:m}}(o,t):n instanceof Bb?G3(n,t):n instanceof Lb?H3(n,t):function(l,h){const m=U3(l,h),g=ZD(m)+ZD(l.Re);return Z_(m)&&Z_(l.Re)?V3(g):b2(l.serializer,g)}(n,t)}function uQ(n,t,o){return n instanceof Bb?G3(n,t):n instanceof Lb?H3(n,t):o}function U3(n,t){return n instanceof qw?function(i){return Z_(i)||function(h){return!!h&&"doubleValue"in h}(i)}(t)?t:{integerValue:0}:null}class Hw extends jk{}class Bb extends jk{constructor(t){super(),this.elements=t}}function G3(n,t){const o=q3(t);for(const i of n.elements)o.some(l=>Ll(l,i))||o.push(i);return{arrayValue:{values:o}}}class Lb extends jk{constructor(t){super(),this.elements=t}}function H3(n,t){let o=q3(t);for(const i of n.elements)o=o.filter(l=>!Ll(l,i));return{arrayValue:{values:o}}}class qw extends jk{constructor(t,o){super(),this.serializer=t,this.Re=o}}function ZD(n){return Pn(n.integerValue||n.doubleValue)}function q3(n){return p2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hQ(n,t){return n.field.isEqual(t.field)&&function(i,l){return i instanceof Bb&&l instanceof Bb||i instanceof Lb&&l instanceof Lb?Mf(i.elements,l.elements,Ll):i instanceof qw&&l instanceof qw?Ll(i.Re,l.Re):i instanceof Hw&&l instanceof Hw}(n.transform,t.transform)}class mQ{constructor(t,o){this.version=t,this.transformResults=o}}class Bi{constructor(t,o){this.updateTime=t,this.exists=o}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pw(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Sk{}function Y3(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new x2(n.key,Bi.none()):new cx(n.key,n.data,Bi.none());{const o=n.data,i=Ro.empty();let l=new is(Ts.comparator);for(let h of t.fields)if(!l.has(h)){let m=o.field(h);m===null&&h.length>1&&(h=h.popLast(),m=o.field(h)),m===null?i.delete(h):i.set(h,m),l=l.add(h)}return new Fu(n.key,i,new di(l.toArray()),Bi.none())}}function pQ(n,t,o){n instanceof cx?function(l,h,m){const g=l.value.clone(),y=eM(l.fieldTransforms,h,m.transformResults);g.setAll(y),h.convertToFoundDocument(m.version,g).setHasCommittedMutations()}(n,t,o):n instanceof Fu?function(l,h,m){if(!pw(l.precondition,h))return void h.convertToUnknownDocument(m.version);const g=eM(l.fieldTransforms,h,m.transformResults),y=h.data;y.setAll(W3(l)),y.setAll(g),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(n,t,o):function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,o)}function wb(n,t,o,i){return n instanceof cx?function(h,m,g,y){if(!pw(h.precondition,m))return g;const w=h.value.clone(),k=tM(h.fieldTransforms,y,m);return w.setAll(k),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),null}(n,t,o,i):n instanceof Fu?function(h,m,g,y){if(!pw(h.precondition,m))return g;const w=tM(h.fieldTransforms,y,m),k=m.data;return k.setAll(W3(h)),k.setAll(w),m.convertToFoundDocument(m.version,k).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(_=>_.field))}(n,t,o,i):function(h,m,g){return pw(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):g}(n,t,o)}function fQ(n,t){let o=null;for(const i of n.fieldTransforms){const l=t.data.field(i.field),h=U3(i.transform,l||null);h!=null&&(o===null&&(o=Ro.empty()),o.set(i.field,h))}return o||null}function $D(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Mf(i,l,(h,m)=>hQ(h,m))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class cx extends Sk{constructor(t,o,i,l=[]){super(),this.key=t,this.value=o,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Fu extends Sk{constructor(t,o,i,l,h=[]){super(),this.key=t,this.data=o,this.fieldMask=i,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function W3(n){const t=new Map;return n.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const i=n.data.field(o);t.set(o,i)}}),t}function eM(n,t,o){const i=new Map;Sr(n.length===o.length,32656,{Ve:o.length,me:n.length});for(let l=0;l<o.length;l++){const h=n[l],m=h.transform,g=t.data.field(h.field);i.set(h.field,uQ(m,g,o[l]))}return i}function tM(n,t,o){const i=new Map;for(const l of n){const h=l.transform,m=o.data.field(l.field);i.set(l.field,dQ(h,m,t))}return i}class x2 extends Sk{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gQ extends Sk{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(t,o,i,l){this.batchId=t,this.localWriteTime=o,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,o){const i=o.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&pQ(h,t,i[l])}}applyToLocalView(t,o){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(o=wb(i,t,o,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(o=wb(i,t,o,this.localWriteTime));return o}applyToLocalDocumentSet(t,o){const i=F3();return this.mutations.forEach(l=>{const h=t.get(l.key),m=h.overlayedDocument;let g=this.applyToLocalView(m,h.mutatedFields);g=o.has(l.key)?null:g;const y=Y3(m,g);y!==null&&i.set(l.key,y),m.isValidDocument()||m.convertToNoDocument(jt.min())}),i}keys(){return this.mutations.reduce((t,o)=>t.add(o.key),or())}isEqual(t){return this.batchId===t.batchId&&Mf(this.mutations,t.mutations,(o,i)=>$D(o,i))&&Mf(this.baseMutations,t.baseMutations,(o,i)=>$D(o,i))}}class v2{constructor(t,o,i,l){this.batch=t,this.commitVersion=o,this.mutationResults=i,this.docVersions=l}static from(t,o,i){Sr(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let l=function(){return oQ}();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,i[m].version);return new v2(t,o,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(t,o){this.largestBatchId=t,this.mutation=o}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(t,o){this.count=t,this.unchangedNames=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,cr;function vQ(n){switch(n){case Ge.OK:return kt(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return kt(15467,{code:n})}}function K3(n){if(n===void 0)return Zc("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case Hn.OK:return Ge.OK;case Hn.CANCELLED:return Ge.CANCELLED;case Hn.UNKNOWN:return Ge.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return Ge.INTERNAL;case Hn.UNAVAILABLE:return Ge.UNAVAILABLE;case Hn.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Hn.NOT_FOUND:return Ge.NOT_FOUND;case Hn.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Hn.ABORTED:return Ge.ABORTED;case Hn.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Hn.DATA_LOSS:return Ge.DATA_LOSS;default:return kt(39323,{code:n})}}(cr=Hn||(Hn={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=new ku([4294967295,4294967295],0);function rM(n){const t=y3().encode(n),o=new c3;return o.update(t),new Uint8Array(o.digest())}function nM(n){const t=new DataView(n.buffer),o=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ku([o,i],0),new ku([l,h],0)]}class w2{constructor(t,o,i){if(this.bitmap=t,this.padding=o,this.hashCount=i,o<0||o>=8)throw new lb(`Invalid padding: ${o}`);if(i<0)throw new lb(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lb(`Invalid hash count: ${i}`);if(t.length===0&&o!==0)throw new lb(`Invalid padding when bitmap length is 0: ${o}`);this.pe=8*t.length-o,this.ye=ku.fromNumber(this.pe)}we(t,o,i){let l=t.add(o.multiply(ku.fromNumber(i)));return l.compare(wQ)===1&&(l=new ku([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const o=rM(t),[i,l]=nM(o);for(let h=0;h<this.hashCount;h++){const m=this.we(i,l,h);if(!this.be(m))return!1}return!0}static create(t,o,i){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new w2(h,l,o);return i.forEach(g=>m.insert(g)),m}insert(t){if(this.pe===0)return;const o=rM(t),[i,l]=nM(o);for(let h=0;h<this.hashCount;h++){const m=this.we(i,l,h);this.Se(m)}}Se(t){const o=Math.floor(t/8),i=t%8;this.bitmap[o]|=1<<i}}class lb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t,o,i,l,h){this.snapshotVersion=t,this.targetChanges=o,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,o,i){const l=new Map;return l.set(t,dx.createSynthesizedTargetChangeForCurrentChange(t,o,i)),new Ek(jt.min(),l,new dn(Ht),$c(),or())}}class dx{constructor(t,o,i,l,h){this.resumeToken=t,this.current=o,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,o,i){return new dx(i,o,or(),or(),or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,o,i,l){this.De=t,this.removedTargetIds=o,this.key=i,this.ve=l}}class Q3{constructor(t,o){this.targetId=t,this.Ce=o}}class J3{constructor(t,o,i=Is.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=o,this.resumeToken=i,this.cause=l}}class sM{constructor(){this.Fe=0,this.Me=oM(),this.xe=Is.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=or(),o=or(),i=or();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:o=o.add(l);break;case 1:i=i.add(l);break;default:kt(38017,{changeType:h})}}),new dx(this.xe,this.Oe,t,o,i)}Qe(){this.Ne=!1,this.Me=oM()}$e(t,o){this.Ne=!0,this.Me=this.Me.insert(t,o)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Sr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kQ{constructor(t){this.ze=t,this.je=new Map,this.He=$c(),this.Je=G0(),this.Ye=G0(),this.Ze=new dn(Ht)}Xe(t){for(const o of t.De)t.ve&&t.ve.isFoundDocument()?this.et(o,t.ve):this.tt(o,t.key,t.ve);for(const o of t.removedTargetIds)this.tt(o,t.key,t.ve)}nt(t){this.forEachTarget(t,o=>{const i=this.rt(o);switch(t.state){case 0:this.it(o)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(o);break;case 3:this.it(o)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(o)&&(this.st(o),i.ke(t.resumeToken));break;default:kt(56790,{state:t.state})}})}forEachTarget(t,o){t.targetIds.length>0?t.targetIds.forEach(o):this.je.forEach((i,l)=>{this.it(l)&&o(l)})}ot(t){const o=t.targetId,i=t.Ce.count,l=this._t(o);if(l){const h=l.target;if(eA(h))if(i===0){const m=new pt(h.path);this.tt(o,m,Ys.newNoDocument(m,jt.min()))}else Sr(i===1,20013,{expectedCount:i});else{const m=this.ut(o);if(m!==i){const g=this.ct(t),y=g?this.lt(g,t,m):1;if(y!==0){this.st(o);const w=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(o,w)}}}}}ct(t){const o=t.Ce.unchangedNames;if(!o||!o.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:h=0}=o;let m,g;try{m=Su(i).toUint8Array()}catch(y){if(y instanceof w3)return Df("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new w2(m,l,h)}catch(y){return Df(y instanceof lb?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(t,o,i){return o.Ce.count===i-this.Tt(t,o.targetId)?0:2}Tt(t,o){const i=this.ze.getRemoteKeysForTarget(o);let l=0;return i.forEach(h=>{const m=this.ze.Pt(),g=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.tt(o,h,null),l++)}),l}It(t){const o=new Map;this.je.forEach((h,m)=>{const g=this._t(m);if(g){if(h.current&&eA(g.target)){const y=new pt(g.target.path);this.Et(y).has(m)||this.dt(m,y)||this.tt(m,y,Ys.newNoDocument(y,t))}h.Le&&(o.set(m,h.qe()),h.Qe())}});let i=or();this.Ye.forEach((h,m)=>{let g=!0;m.forEachWhile(y=>{const w=this._t(y);return!w||w.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(i=i.add(h))}),this.He.forEach((h,m)=>m.setReadTime(t));const l=new Ek(t,o,this.Ze,this.He,i);return this.He=$c(),this.Je=G0(),this.Ye=G0(),this.Ze=new dn(Ht),l}et(t,o){if(!this.it(t))return;const i=this.dt(t,o.key)?2:0;this.rt(t).$e(o.key,i),this.He=this.He.insert(o.key,o),this.Je=this.Je.insert(o.key,this.Et(o.key).add(t)),this.Ye=this.Ye.insert(o.key,this.At(o.key).add(t))}tt(t,o,i){if(!this.it(t))return;const l=this.rt(t);this.dt(t,o)?l.$e(o,1):l.Ue(o),this.Ye=this.Ye.insert(o,this.At(o).delete(t)),this.Ye=this.Ye.insert(o,this.At(o).add(t)),i&&(this.He=this.He.insert(o,i))}removeTarget(t){this.je.delete(t)}ut(t){const o=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+o.addedDocuments.size-o.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let o=this.je.get(t);return o||(o=new sM,this.je.set(t,o)),o}At(t){let o=this.Ye.get(t);return o||(o=new is(Ht),this.Ye=this.Ye.insert(t,o)),o}Et(t){let o=this.Je.get(t);return o||(o=new is(Ht),this.Je=this.Je.insert(t,o)),o}it(t){const o=this._t(t)!==null;return o||it("WatchChangeAggregator","Detected inactive target",t),o}_t(t){const o=this.je.get(t);return o&&o.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new sM),this.ze.getRemoteKeysForTarget(t).forEach(o=>{this.tt(t,o,null)})}dt(t,o){return this.ze.getRemoteKeysForTarget(t).has(o)}}function G0(){return new dn(pt.comparator)}function oM(){return new dn(pt.comparator)}const CQ={asc:"ASCENDING",desc:"DESCENDING"},_Q={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AQ={and:"AND",or:"OR"};class NQ{constructor(t,o){this.databaseId=t,this.useProto3Json=o}}function rA(n,t){return n.useProto3Json||Ck(t)?t:{value:t}}function Yw(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function jQ(n,t){return Yw(n,t.toTimestamp())}function Rl(n){return Sr(!!n,49232),jt.fromTimestamp(function(o){const i=ju(o);return new os(i.seconds,i.nanos)}(n))}function k2(n,t){return nA(n,t).canonicalString()}function nA(n,t){const o=function(l){return new Wr(["projects",l.projectId,"databases",l.database])}(n).child("documents");return t===void 0?o:o.child(t)}function Z3(n){const t=Wr.fromString(n);return Sr(nP(t),10190,{key:t.toString()}),t}function sA(n,t){return k2(n.databaseId,t.path)}function QC(n,t){const o=Z3(t);if(o.get(1)!==n.databaseId.projectId)throw new lt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+n.databaseId.projectId);if(o.get(3)!==n.databaseId.database)throw new lt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+n.databaseId.database);return new pt(eP(o))}function $3(n,t){return k2(n.databaseId,t)}function SQ(n){const t=Z3(n);return t.length===4?Wr.emptyPath():eP(t)}function oA(n){return new Wr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eP(n){return Sr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iM(n,t,o){return{name:sA(n,t),fields:o.value.mapValue.fields}}function EQ(n,t){let o;if("targetChange"in t){t.targetChange;const i=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:kt(39313,{state:w})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(w,k){return w.useProto3Json?(Sr(k===void 0||typeof k=="string",58123),Is.fromBase64String(k||"")):(Sr(k===void 0||k instanceof Buffer||k instanceof Uint8Array,16193),Is.fromUint8Array(k||new Uint8Array))}(n,t.targetChange.resumeToken),m=t.targetChange.cause,g=m&&function(w){const k=w.code===void 0?Ge.UNKNOWN:K3(w.code);return new lt(k,w.message||"")}(m);o=new J3(i,l,h,g||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=QC(n,i.document.name),h=Rl(i.document.updateTime),m=i.document.createTime?Rl(i.document.createTime):jt.min(),g=new Ro({mapValue:{fields:i.document.fields}}),y=Ys.newFoundDocument(l,h,m,g),w=i.targetIds||[],k=i.removedTargetIds||[];o=new fw(w,k,y.key,y)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=QC(n,i.document),h=i.readTime?Rl(i.readTime):jt.min(),m=Ys.newNoDocument(l,h),g=i.removedTargetIds||[];o=new fw([],g,m.key,m)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=QC(n,i.document),h=i.removedTargetIds||[];o=new fw([],h,l,null)}else{if(!("filter"in t))return kt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:h}=i,m=new xQ(l,h),g=i.targetId;o=new Q3(g,m)}}return o}function DQ(n,t){let o;if(t instanceof cx)o={update:iM(n,t.key,t.value)};else if(t instanceof x2)o={delete:sA(n,t.key)};else if(t instanceof Fu)o={update:iM(n,t.key,t.data),updateMask:zQ(t.fieldMask)};else{if(!(t instanceof gQ))return kt(16599,{ft:t.type});o={verify:sA(n,t.key)}}return t.fieldTransforms.length>0&&(o.updateTransforms=t.fieldTransforms.map(i=>function(h,m){const g=m.transform;if(g instanceof Hw)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Bb)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Lb)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qw)return{fieldPath:m.field.canonicalString(),increment:g.Re};throw kt(20930,{transform:m.transform})}(0,i))),t.precondition.isNone||(o.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:jQ(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:kt(27497)}(n,t.precondition)),o}function MQ(n,t){return n&&n.length>0?(Sr(t!==void 0,14353),n.map(o=>function(l,h){let m=l.updateTime?Rl(l.updateTime):Rl(h);return m.isEqual(jt.min())&&(m=Rl(h)),new mQ(m,l.transformResults||[])}(o,t))):[]}function TQ(n,t){return{documents:[$3(n,t.path)]}}function IQ(n,t){const o={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),o.structuredQuery.from=[{collectionId:i.lastSegment()}]),o.parent=$3(n,l);const h=function(w){if(w.length!==0)return rP(Ra.create(w,"and"))}(t.filters);h&&(o.structuredQuery.where=h);const m=function(w){if(w.length!==0)return w.map(k=>function(N){return{field:bf(N.field),direction:OQ(N.dir)}}(k))}(t.orderBy);m&&(o.structuredQuery.orderBy=m);const g=rA(n,t.limit);return g!==null&&(o.structuredQuery.limit=g),t.startAt&&(o.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(t.startAt)),t.endAt&&(o.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{gt:o,parent:l}}function RQ(n){let t=SQ(n.parent);const o=n.structuredQuery,i=o.from?o.from.length:0;let l=null;if(i>0){Sr(i===1,65062);const k=o.from[0];k.allDescendants?l=k.collectionId:t=t.child(k.collectionId)}let h=[];o.where&&(h=function(_){const N=tP(_);return N instanceof Ra&&M3(N)?N.getFilters():[N]}(o.where));let m=[];o.orderBy&&(m=function(_){return _.map(N=>function(T){return new Uw(xf(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(N))}(o.orderBy));let g=null;o.limit&&(g=function(_){let N;return N=typeof _=="object"?_.value:_,Ck(N)?null:N}(o.limit));let y=null;o.startAt&&(y=function(_){const N=!!_.before,D=_.values||[];return new Vw(D,N)}(o.startAt));let w=null;return o.endAt&&(w=function(_){const N=!_.before,D=_.values||[];return new Vw(D,N)}(o.endAt)),eQ(t,l,m,h,g,"F",y,w)}function PQ(n,t){const o=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt(28987,{purpose:l})}}(t.purpose);return o==null?null:{"goog-listen-tags":o}}function tP(n){return n.unaryFilter!==void 0?function(o){switch(o.unaryFilter.op){case"IS_NAN":const i=xf(o.unaryFilter.field);return Wn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=xf(o.unaryFilter.field);return Wn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=xf(o.unaryFilter.field);return Wn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=xf(o.unaryFilter.field);return Wn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kt(61313);default:return kt(60726)}}(n):n.fieldFilter!==void 0?function(o){return Wn.create(xf(o.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kt(58110);default:return kt(50506)}}(o.fieldFilter.op),o.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(o){return Ra.create(o.compositeFilter.filters.map(i=>tP(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return kt(1026)}}(o.compositeFilter.op))}(n):kt(30097,{filter:n})}function OQ(n){return CQ[n]}function BQ(n){return _Q[n]}function LQ(n){return AQ[n]}function bf(n){return{fieldPath:n.canonicalString()}}function xf(n){return Ts.fromServerFormat(n.fieldPath)}function rP(n){return n instanceof Wn?function(o){if(o.op==="=="){if(WD(o.value))return{unaryFilter:{field:bf(o.field),op:"IS_NAN"}};if(YD(o.value))return{unaryFilter:{field:bf(o.field),op:"IS_NULL"}}}else if(o.op==="!="){if(WD(o.value))return{unaryFilter:{field:bf(o.field),op:"IS_NOT_NAN"}};if(YD(o.value))return{unaryFilter:{field:bf(o.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bf(o.field),op:BQ(o.op),value:o.value}}}(n):n instanceof Ra?function(o){const i=o.getFilters().map(l=>rP(l));return i.length===1?i[0]:{compositeFilter:{op:LQ(o.op),filters:i}}}(n):kt(54877,{filter:n})}function zQ(n){const t=[];return n.fields.forEach(o=>t.push(o.canonicalString())),{fieldPaths:t}}function nP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,o,i,l,h=jt.min(),m=jt.min(),g=Is.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=o,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new xu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,o){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(t){this.wt=t}}function VQ(n){const t=RQ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(){this.Cn=new GQ}addToCollectionParentIndex(t,o){return this.Cn.add(o),He.resolve()}getCollectionParents(t,o){return He.resolve(this.Cn.getEntries(o))}addFieldIndex(t,o){return He.resolve()}deleteFieldIndex(t,o){return He.resolve()}deleteAllFieldIndexes(t){return He.resolve()}createTargetIndexes(t,o){return He.resolve()}getDocumentsMatchingTarget(t,o){return He.resolve(null)}getIndexType(t,o){return He.resolve(0)}getFieldIndexes(t,o){return He.resolve([])}getNextCollectionGroupToUpdate(t){return He.resolve(null)}getMinOffset(t,o){return He.resolve(Nu.min())}getMinOffsetFromCollectionGroup(t,o){return He.resolve(Nu.min())}updateCollectionGroup(t,o,i){return He.resolve()}updateIndexEntries(t,o){return He.resolve()}}class GQ{constructor(){this.index={}}add(t){const o=t.lastSegment(),i=t.popLast(),l=this.index[o]||new is(Wr.comparator),h=!l.has(i);return this.index[o]=l.add(i),h}has(t){const o=t.lastSegment(),i=t.popLast(),l=this.index[o];return l&&l.has(i)}getEntries(t){return(this.index[t]||new is(Wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sP=41943040;class Mo{static withCacheSize(t){return new Mo(t,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,o,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(sP,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Rf(0)}static lr(){return new Rf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="LruGarbageCollector",HQ=1048576;function cM([n,t],[o,i]){const l=Ht(n,o);return l===0?Ht(t,i):l}class qQ{constructor(t){this.Er=t,this.buffer=new is(cM),this.dr=0}Ar(){return++this.dr}Rr(t){const o=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(o);else{const i=this.buffer.last();cM(o,i)<0&&(this.buffer=this.buffer.delete(i).add(o))}}get maxValue(){return this.buffer.last()[0]}}class YQ{constructor(t,o,i){this.garbageCollector=t,this.asyncQueue=o,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(lM,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(o){Qf(o)?it(lM,"Ignoring IndexedDB error during garbage collection: ",o):await Kf(o)}await this.mr(3e5)})}}class WQ{constructor(t,o){this.gr=t,this.params=o}calculateTargetCount(t,o){return this.gr.pr(t).next(i=>Math.floor(o/100*i))}nthSequenceNumber(t,o){if(o===0)return He.resolve(kk.le);const i=new qQ(o);return this.gr.forEachTarget(t,l=>i.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>i.Rr(l))).next(()=>i.maxValue)}removeTargets(t,o,i){return this.gr.removeTargets(t,o,i)}removeOrphanedDocuments(t,o){return this.gr.removeOrphanedDocuments(t,o)}collect(t,o){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(aM)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aM):this.wr(t,o))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,o){let i,l,h,m,g,y,w;const k=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),l=this.params.maximumSequenceNumbersToCollect):l=_,m=Date.now(),this.nthSequenceNumber(t,l))).next(_=>(i=_,g=Date.now(),this.removeTargets(t,i,o))).next(_=>(h=_,y=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(w=Date.now(),gf()<=sr.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-k}ms
	Determined least recently used ${l} in `+(g-m)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${_} documents in `+(w-y)+`ms
Total Duration: ${w-k}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:_})))}}function KQ(n,t){return new WQ(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(){this.changes=new Bm(t=>t.toString(),(t,o)=>t.isEqual(o)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,o){this.assertNotApplied(),this.changes.set(t,Ys.newInvalidDocument(t).setReadTime(o))}getEntry(t,o){this.assertNotApplied();const i=this.changes.get(o);return i!==void 0?He.resolve(i):this.getFromCache(t,o)}getEntries(t,o){return this.getAllFromCache(t,o)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(t,o){this.overlayedDocument=t,this.mutatedFields=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(t,o,i,l){this.remoteDocumentCache=t,this.mutationQueue=o,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,o){let i=null;return this.documentOverlayCache.getOverlay(t,o).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,o))).next(l=>(i!==null&&wb(i.mutation,l,di.empty(),os.now()),l))}getDocuments(t,o){return this.remoteDocumentCache.getEntries(t,o).next(i=>this.getLocalViewOfDocuments(t,i,or()).next(()=>i))}getLocalViewOfDocuments(t,o,i=or()){const l=pm();return this.populateOverlays(t,l,o).next(()=>this.computeViews(t,o,l,i).next(h=>{let m=ab();return h.forEach((g,y)=>{m=m.insert(g,y.overlayedDocument)}),m}))}getOverlayedDocuments(t,o){const i=pm();return this.populateOverlays(t,i,o).next(()=>this.computeViews(t,o,i,or()))}populateOverlays(t,o,i){const l=[];return i.forEach(h=>{o.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((m,g)=>{o.set(m,g)})})}computeViews(t,o,i,l){let h=$c();const m=vb(),g=function(){return vb()}();return o.forEach((y,w)=>{const k=i.get(w.key);l.has(w.key)&&(k===void 0||k.mutation instanceof Fu)?h=h.insert(w.key,w):k!==void 0?(m.set(w.key,k.mutation.getFieldMask()),wb(k.mutation,w,k.mutation.getFieldMask(),os.now())):m.set(w.key,di.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((w,k)=>m.set(w,k)),o.forEach((w,k)=>{var _;return g.set(w,new JQ(k,(_=m.get(w))!==null&&_!==void 0?_:null))}),g))}recalculateAndSaveOverlays(t,o){const i=vb();let l=new dn((m,g)=>m-g),h=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,o).next(m=>{for(const g of m)g.keys().forEach(y=>{const w=o.get(y);if(w===null)return;let k=i.get(y)||di.empty();k=g.applyToLocalView(w,k),i.set(y,k);const _=(l.get(g.batchId)||or()).add(y);l=l.insert(g.batchId,_)})}).next(()=>{const m=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),w=y.key,k=y.value,_=F3();k.forEach(N=>{if(!h.has(N)){const D=Y3(o.get(N),i.get(N));D!==null&&_.set(N,D),h=h.add(N)}}),m.push(this.documentOverlayCache.saveOverlays(t,w,_))}return He.waitFor(m)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,o){return this.remoteDocumentCache.getEntries(t,o).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,o,i,l){return function(m){return pt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(o)?this.getDocumentsMatchingDocumentQuery(t,o.path):P3(o)?this.getDocumentsMatchingCollectionGroupQuery(t,o,i,l):this.getDocumentsMatchingCollectionQuery(t,o,i,l)}getNextDocuments(t,o,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,o,i,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,o,i.largestBatchId,l-h.size):He.resolve(pm());let g=Ib,y=h;return m.next(w=>He.forEach(w,(k,_)=>(g<_.largestBatchId&&(g=_.largestBatchId),h.get(k)?He.resolve():this.remoteDocumentCache.getEntry(t,k).next(N=>{y=y.insert(k,N)}))).next(()=>this.populateOverlays(t,w,h)).next(()=>this.computeViews(t,y,w,or())).next(k=>({batchId:g,changes:z3(k)})))})}getDocumentsMatchingDocumentQuery(t,o){return this.getDocument(t,new pt(o)).next(i=>{let l=ab();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,o,i,l){const h=o.collectionGroup;let m=ab();return this.indexManager.getCollectionParents(t,h).next(g=>He.forEach(g,y=>{const w=function(_,N){return new lx(N,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(o,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,w,i,l).next(k=>{k.forEach((_,N)=>{m=m.insert(_,N)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,o,i,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,o.path,i.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,o,i,h,l))).next(m=>{h.forEach((y,w)=>{const k=w.getKey();m.get(k)===null&&(m=m.insert(k,Ys.newInvalidDocument(k)))});let g=ab();return m.forEach((y,w)=>{const k=h.get(y);k!==void 0&&wb(k.mutation,w,di.empty(),os.now()),Nk(o,w)&&(g=g.insert(y,w))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,o){return He.resolve(this.kr.get(o))}saveBundleMetadata(t,o){return this.kr.set(o.id,function(l){return{id:l.id,version:l.version,createTime:Rl(l.createTime)}}(o)),He.resolve()}getNamedQuery(t,o){return He.resolve(this.qr.get(o))}saveNamedQuery(t,o){return this.qr.set(o.name,function(l){return{name:l.name,query:VQ(l.bundledQuery),readTime:Rl(l.readTime)}}(o)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(){this.overlays=new dn(pt.comparator),this.Qr=new Map}getOverlay(t,o){return He.resolve(this.overlays.get(o))}getOverlays(t,o){const i=pm();return He.forEach(o,l=>this.getOverlay(t,l).next(h=>{h!==null&&i.set(l,h)})).next(()=>i)}saveOverlays(t,o,i){return i.forEach((l,h)=>{this.St(t,o,h)}),He.resolve()}removeOverlaysForBatchId(t,o,i){const l=this.Qr.get(i);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(i)),He.resolve()}getOverlaysForCollection(t,o,i){const l=pm(),h=o.length+1,m=new pt(o.child("")),g=this.overlays.getIteratorFrom(m);for(;g.hasNext();){const y=g.getNext().value,w=y.getKey();if(!o.isPrefixOf(w.path))break;w.path.length===h&&y.largestBatchId>i&&l.set(y.getKey(),y)}return He.resolve(l)}getOverlaysForCollectionGroup(t,o,i,l){let h=new dn((w,k)=>w-k);const m=this.overlays.getIterator();for(;m.hasNext();){const w=m.getNext().value;if(w.getKey().getCollectionGroup()===o&&w.largestBatchId>i){let k=h.get(w.largestBatchId);k===null&&(k=pm(),h=h.insert(w.largestBatchId,k)),k.set(w.getKey(),w)}}const g=pm(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,k)=>g.set(w,k)),!(g.size()>=l)););return He.resolve(g)}St(t,o,i){const l=this.overlays.get(i.key);if(l!==null){const m=this.Qr.get(l.largestBatchId).delete(i.key);this.Qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new bQ(o,i));let h=this.Qr.get(o);h===void 0&&(h=or(),this.Qr.set(o,h)),this.Qr.set(o,h.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{constructor(){this.sessionToken=Is.EMPTY_BYTE_STRING}getSessionToken(t){return He.resolve(this.sessionToken)}setSessionToken(t,o){return this.sessionToken=o,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.$r=new is(bs.Ur),this.Kr=new is(bs.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,o){const i=new bs(t,o);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,o){t.forEach(i=>this.addReference(i,o))}removeReference(t,o){this.zr(new bs(t,o))}jr(t,o){t.forEach(i=>this.removeReference(i,o))}Hr(t){const o=new pt(new Wr([])),i=new bs(o,t),l=new bs(o,t+1),h=[];return this.Kr.forEachInRange([i,l],m=>{this.zr(m),h.push(m.key)}),h}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const o=new pt(new Wr([])),i=new bs(o,t),l=new bs(o,t+1);let h=or();return this.Kr.forEachInRange([i,l],m=>{h=h.add(m.key)}),h}containsKey(t){const o=new bs(t,0),i=this.$r.firstAfterOrEqual(o);return i!==null&&t.isEqual(i.key)}}class bs{constructor(t,o){this.key=t,this.Zr=o}static Ur(t,o){return pt.comparator(t.key,o.key)||Ht(t.Zr,o.Zr)}static Wr(t,o){return Ht(t.Zr,o.Zr)||pt.comparator(t.key,o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(t,o){this.indexManager=t,this.referenceDelegate=o,this.mutationQueue=[],this.nr=1,this.Xr=new is(bs.Ur)}checkEmpty(t){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(t,o,i,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new yQ(h,o,i,l);this.mutationQueue.push(m);for(const g of l)this.Xr=this.Xr.add(new bs(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return He.resolve(m)}lookupMutationBatch(t,o){return He.resolve(this.ei(o))}getNextMutationBatchAfterBatchId(t,o){const i=o+1,l=this.ti(i),h=l<0?0:l;return He.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?h2:this.nr-1)}getAllMutationBatches(t){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,o){const i=new bs(o,0),l=new bs(o,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([i,l],m=>{const g=this.ei(m.Zr);h.push(g)}),He.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,o){let i=new is(Ht);return o.forEach(l=>{const h=new bs(l,0),m=new bs(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,m],g=>{i=i.add(g.Zr)})}),He.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,o){const i=o.path,l=i.length+1;let h=i;pt.isDocumentKey(h)||(h=h.child(""));const m=new bs(new pt(h),0);let g=new is(Ht);return this.Xr.forEachWhile(y=>{const w=y.key.path;return!!i.isPrefixOf(w)&&(w.length===l&&(g=g.add(y.Zr)),!0)},m),He.resolve(this.ni(g))}ni(t){const o=[];return t.forEach(i=>{const l=this.ei(i);l!==null&&o.push(l)}),o}removeMutationBatch(t,o){Sr(this.ri(o.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return He.forEach(o.mutations,l=>{const h=new bs(l.key,o.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,o){const i=new bs(o,0),l=this.Xr.firstAfterOrEqual(i);return He.resolve(o.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,He.resolve()}ri(t,o){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const o=this.ti(t);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(t){this.ii=t,this.docs=function(){return new dn(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,o){const i=o.key,l=this.docs.get(i),h=l?l.size:0,m=this.ii(o);return this.docs=this.docs.insert(i,{document:o.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const o=this.docs.get(t);o&&(this.docs=this.docs.remove(t),this.size-=o.size)}getEntry(t,o){const i=this.docs.get(o);return He.resolve(i?i.document.mutableCopy():Ys.newInvalidDocument(o))}getEntries(t,o){let i=$c();return o.forEach(l=>{const h=this.docs.get(l);i=i.insert(l,h?h.document.mutableCopy():Ys.newInvalidDocument(l))}),He.resolve(i)}getDocumentsMatchingQuery(t,o,i,l){let h=$c();const m=o.path,g=new pt(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:w,value:{document:k}}=y.getNext();if(!m.isPrefixOf(w.path))break;w.path.length>m.length+1||TK(MK(k),i)<=0||(l.has(k.key)||Nk(o,k))&&(h=h.insert(k.key,k.mutableCopy()))}return He.resolve(h)}getAllFromCollectionGroup(t,o,i,l){kt(9500)}si(t,o){return He.forEach(this.docs,i=>o(i))}newChangeBuffer(t){return new nJ(this)}getSize(t){return He.resolve(this.size)}}class nJ extends QQ{constructor(t){super(),this.Br=t}applyChanges(t){const o=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?o.push(this.Br.addEntry(t,l)):this.Br.removeEntry(i)}),He.waitFor(o)}getFromCache(t,o){return this.Br.getEntry(t,o)}getAllFromCache(t,o){return this.Br.getEntries(t,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(t){this.persistence=t,this.oi=new Bm(o=>f2(o),g2),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this._i=0,this.ai=new C2,this.targetCount=0,this.ui=Rf.cr()}forEachTarget(t,o){return this.oi.forEach((i,l)=>o(l)),He.resolve()}getLastRemoteSnapshotVersion(t){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return He.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(t,o,i){return i&&(this.lastRemoteSnapshotVersion=i),o>this._i&&(this._i=o),He.resolve()}Tr(t){this.oi.set(t.target,t);const o=t.targetId;o>this.highestTargetId&&(this.ui=new Rf(o),this.highestTargetId=o),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,o){return this.Tr(o),this.targetCount+=1,He.resolve()}updateTargetData(t,o){return this.Tr(o),He.resolve()}removeTargetData(t,o){return this.oi.delete(o.target),this.ai.Hr(o.targetId),this.targetCount-=1,He.resolve()}removeTargets(t,o,i){let l=0;const h=[];return this.oi.forEach((m,g)=>{g.sequenceNumber<=o&&i.get(g.targetId)===null&&(this.oi.delete(m),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),He.waitFor(h).next(()=>l)}getTargetCount(t){return He.resolve(this.targetCount)}getTargetData(t,o){const i=this.oi.get(o)||null;return He.resolve(i)}addMatchingKeys(t,o,i){return this.ai.Gr(o,i),He.resolve()}removeMatchingKeys(t,o,i){this.ai.jr(o,i);const l=this.persistence.referenceDelegate,h=[];return l&&o.forEach(m=>{h.push(l.markPotentiallyOrphaned(t,m))}),He.waitFor(h)}removeMatchingKeysForTargetId(t,o){return this.ai.Hr(o),He.resolve()}getMatchingKeysForTargetId(t,o){const i=this.ai.Yr(o);return He.resolve(i)}containsKey(t,o){return He.resolve(this.ai.containsKey(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t,o){this.ci={},this.overlays={},this.li=new kk(0),this.hi=!1,this.hi=!0,this.Pi=new eJ,this.referenceDelegate=t(this),this.Ti=new sJ(this),this.indexManager=new UQ,this.remoteDocumentCache=function(l){return new rJ(l)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new FQ(o),this.Ei=new ZQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let o=this.overlays[t.toKey()];return o||(o=new $Q,this.overlays[t.toKey()]=o),o}getMutationQueue(t,o){let i=this.ci[t.toKey()];return i||(i=new tJ(o,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,o,i){it("MemoryPersistence","Starting transaction:",t);const l=new oJ(this.li.next());return this.referenceDelegate.di(),i(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(t,o){return He.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,o)))}}class oJ extends RK{constructor(t){super(),this.currentSequenceNumber=t}}class _2{constructor(t){this.persistence=t,this.Vi=new C2,this.mi=null}static fi(t){return new _2(t)}get gi(){if(this.mi)return this.mi;throw kt(60996)}addReference(t,o,i){return this.Vi.addReference(i,o),this.gi.delete(i.toString()),He.resolve()}removeReference(t,o,i){return this.Vi.removeReference(i,o),this.gi.add(i.toString()),He.resolve()}markPotentiallyOrphaned(t,o){return this.gi.add(o.toString()),He.resolve()}removeTarget(t,o){this.Vi.Hr(o.targetId).forEach(l=>this.gi.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,o.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>i.removeTargetData(t,o))}di(){this.mi=new Set}Ai(t){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.gi,i=>{const l=pt.fromPath(i);return this.pi(t,l).next(h=>{h||o.removeEntry(l,jt.min())})}).next(()=>(this.mi=null,o.apply(t)))}updateLimboDocument(t,o){return this.pi(t,o).next(i=>{i?this.gi.delete(o.toString()):this.gi.add(o.toString())})}Ii(t){return 0}pi(t,o){return He.or([()=>He.resolve(this.Vi.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(t,o),()=>this.persistence.Ri(t,o)])}}class Ww{constructor(t,o){this.persistence=t,this.yi=new Bm(i=>BK(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=KQ(this,o)}static fi(t,o){return new Ww(t,o)}di(){}Ai(t){return He.resolve()}forEachTarget(t,o){return this.persistence.getTargetCache().forEachTarget(t,o)}pr(t){const o=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>o.next(l=>i+l))}br(t){let o=0;return this.yr(t,i=>{o++}).next(()=>o)}yr(t,o){return He.forEach(this.yi,(i,l)=>this.Dr(t,i,l).next(h=>h?He.resolve():o(l)))}removeTargets(t,o,i){return this.persistence.getTargetCache().removeTargets(t,o,i)}removeOrphanedDocuments(t,o){let i=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(t,m=>this.Dr(t,m,o).next(g=>{g||(i++,h.removeEntry(m,jt.min()))})).next(()=>h.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,o){return this.yi.set(o,t.currentSequenceNumber),He.resolve()}removeTarget(t,o){const i=o.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,o,i){return this.yi.set(i,t.currentSequenceNumber),He.resolve()}removeReference(t,o,i){return this.yi.set(i,t.currentSequenceNumber),He.resolve()}updateLimboDocument(t,o){return this.yi.set(o,t.currentSequenceNumber),He.resolve()}Ii(t){let o=t.key.toString().length;return t.isFoundDocument()&&(o+=hw(t.data.value)),o}Dr(t,o,i){return He.or([()=>this.persistence.Ri(t,o),()=>this.persistence.getTargetCache().containsKey(t,o),()=>{const l=this.yi.get(o);return He.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,o,i,l){this.targetId=t,this.fromCache=o,this.ds=i,this.As=l}static Rs(t,o){let i=or(),l=or();for(const h of o.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new A2(t,o.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VH()?8:PK(Qs())>0?6:4}()}initialize(t,o){this.ys=t,this.indexManager=o,this.Vs=!0}getDocumentsMatchingQuery(t,o,i,l){const h={result:null};return this.ws(t,o).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.bs(t,o,l,i).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new iJ;return this.Ss(t,o,m).next(g=>{if(h.result=g,this.fs)return this.Ds(t,o,m,g.size)})}).next(()=>h.result)}Ds(t,o,i,l){return i.documentReadCount<this.gs?(gf()<=sr.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",yf(o),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),He.resolve()):(gf()<=sr.DEBUG&&it("QueryEngine","Query:",yf(o),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ps*l?(gf()<=sr.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",yf(o),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Il(o))):He.resolve())}ws(t,o){if(XD(o))return He.resolve(null);let i=Il(o);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(o.limit!==null&&l===1&&(o=Gw(o,null,"F"),i=Il(o)),this.indexManager.getDocumentsMatchingTarget(t,i).next(h=>{const m=or(...h);return this.ys.getDocuments(t,m).next(g=>this.indexManager.getMinOffset(t,i).next(y=>{const w=this.vs(o,g);return this.Cs(o,w,m,y.readTime)?this.ws(t,Gw(o,null,"F")):this.Fs(t,w,o,y)}))})))}bs(t,o,i,l){return XD(o)||l.isEqual(jt.min())?He.resolve(null):this.ys.getDocuments(t,i).next(h=>{const m=this.vs(o,h);return this.Cs(o,m,i,l)?He.resolve(null):(gf()<=sr.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yf(o)),this.Fs(t,m,o,DK(l,Ib)).next(g=>g))})}vs(t,o){let i=new is(B3(t));return o.forEach((l,h)=>{Nk(t,h)&&(i=i.add(h))}),i}Cs(t,o,i,l){if(t.limit===null)return!1;if(i.size!==o.size)return!0;const h=t.limitType==="F"?o.last():o.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,o,i){return gf()<=sr.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",yf(o)),this.ys.getDocumentsMatchingQuery(t,o,Nu.min(),i)}Fs(t,o,i,l){return this.ys.getDocumentsMatchingQuery(t,i,l).next(h=>(o.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="LocalStore",lJ=3e8;class cJ{constructor(t,o,i,l){this.persistence=t,this.Ms=o,this.serializer=l,this.xs=new dn(Ht),this.Os=new Bm(h=>f2(h),g2),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XQ(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>t.collect(o,this.xs))}}function dJ(n,t,o,i){return new cJ(n,t,o,i)}async function iP(n,t){const o=Dt(n);return await o.persistence.runTransaction("Handle user change","readonly",i=>{let l;return o.mutationQueue.getAllMutationBatches(i).next(h=>(l=h,o.Ls(t),o.mutationQueue.getAllMutationBatches(i))).next(h=>{const m=[],g=[];let y=or();for(const w of l){m.push(w.batchId);for(const k of w.mutations)y=y.add(k.key)}for(const w of h){g.push(w.batchId);for(const k of w.mutations)y=y.add(k.key)}return o.localDocuments.getDocuments(i,y).next(w=>({ks:w,removedBatchIds:m,addedBatchIds:g}))})})}function uJ(n,t){const o=Dt(n);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),h=o.Bs.newChangeBuffer({trackRemovals:!0});return function(g,y,w,k){const _=w.batch,N=_.keys();let D=He.resolve();return N.forEach(T=>{D=D.next(()=>k.getEntry(y,T)).next(R=>{const P=w.docVersions.get(T);Sr(P!==null,48541),R.version.compareTo(P)<0&&(_.applyToRemoteDocument(R,w),R.isValidDocument()&&(R.setReadTime(w.commitVersion),k.addEntry(R)))})}),D.next(()=>g.mutationQueue.removeMutationBatch(y,_))}(o,i,t,h).next(()=>h.apply(i)).next(()=>o.mutationQueue.performConsistencyCheck(i)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let y=or();for(let w=0;w<g.mutationResults.length;++w)g.mutationResults[w].transformResults.length>0&&(y=y.add(g.batch.mutations[w].key));return y}(t))).next(()=>o.localDocuments.getDocuments(i,l))})}function aP(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",o=>t.Ti.getLastRemoteSnapshotVersion(o))}function hJ(n,t){const o=Dt(n),i=t.snapshotVersion;let l=o.xs;return o.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=o.Bs.newChangeBuffer({trackRemovals:!0});l=o.xs;const g=[];t.targetChanges.forEach((k,_)=>{const N=l.get(_);if(!N)return;g.push(o.Ti.removeMatchingKeys(h,k.removedDocuments,_).next(()=>o.Ti.addMatchingKeys(h,k.addedDocuments,_)));let D=N.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(_)!==null?D=D.withResumeToken(Is.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):k.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(k.resumeToken,i)),l=l.insert(_,D),function(R,P,F){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=lJ?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(N,D,k)&&g.push(o.Ti.updateTargetData(h,D))});let y=$c(),w=or();if(t.documentUpdates.forEach(k=>{t.resolvedLimboDocuments.has(k)&&g.push(o.persistence.referenceDelegate.updateLimboDocument(h,k))}),g.push(mJ(h,m,t.documentUpdates).next(k=>{y=k.qs,w=k.Qs})),!i.isEqual(jt.min())){const k=o.Ti.getLastRemoteSnapshotVersion(h).next(_=>o.Ti.setTargetsMetadata(h,h.currentSequenceNumber,i));g.push(k)}return He.waitFor(g).next(()=>m.apply(h)).next(()=>o.localDocuments.getLocalViewOfDocuments(h,y,w)).next(()=>y)}).then(h=>(o.xs=l,h))}function mJ(n,t,o){let i=or(),l=or();return o.forEach(h=>i=i.add(h)),t.getEntries(n,i).next(h=>{let m=$c();return o.forEach((g,y)=>{const w=h.get(g);y.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(jt.min())?(t.removeEntry(g,y.readTime),m=m.insert(g,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||y.version.compareTo(w.version)===0&&w.hasPendingWrites?(t.addEntry(y),m=m.insert(g,y)):it(N2,"Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",y.version)}),{qs:m,Qs:l}})}function pJ(n,t){const o=Dt(n);return o.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=h2),o.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function fJ(n,t){const o=Dt(n);return o.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return o.Ti.getTargetData(i,t).next(h=>h?(l=h,He.resolve(l)):o.Ti.allocateTargetId(i).next(m=>(l=new xu(t,m,"TargetPurposeListen",i.currentSequenceNumber),o.Ti.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=o.xs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(o.xs=o.xs.insert(i.targetId,i),o.Os.set(t,i.targetId)),i})}async function iA(n,t,o){const i=Dt(n),l=i.xs.get(t),h=o?"readwrite":"readwrite-primary";try{o||await i.persistence.runTransaction("Release target",h,m=>i.persistence.referenceDelegate.removeTarget(m,l))}catch(m){if(!Qf(m))throw m;it(N2,`Failed to update sequence numbers for target ${t}: ${m}`)}i.xs=i.xs.remove(t),i.Os.delete(l.target)}function dM(n,t,o){const i=Dt(n);let l=jt.min(),h=or();return i.persistence.runTransaction("Execute query","readwrite",m=>function(y,w,k){const _=Dt(y),N=_.Os.get(k);return N!==void 0?He.resolve(_.xs.get(N)):_.Ti.getTargetData(w,k)}(i,m,Il(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(m,g.targetId).next(y=>{h=y})}).next(()=>i.Ms.getDocumentsMatchingQuery(m,t,o?l:jt.min(),o?h:or())).next(g=>(gJ(i,rQ(t),g),{documents:g,$s:h})))}function gJ(n,t,o){let i=n.Ns.get(t)||jt.min();o.forEach((l,h)=>{h.readTime.compareTo(i)>0&&(i=h.readTime)}),n.Ns.set(t,i)}class uM{constructor(){this.activeTargetIds=lQ()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yJ{constructor(){this.xo=new uM,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,o,i){}addLocalQueryTarget(t,o=!0){return o&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,o,i){this.Oo[t]=o}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new uM,Promise.resolve()}handleUserChange(t,o,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="ConnectivityMonitor";class mM{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(hM,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(hM,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H0=null;function aA(){return H0===null?H0=function(){return 268435456+Math.round(2147483648*Math.random())}():H0++,"0x"+H0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="RestConnection",xJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vJ{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const o=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=o+"://"+t.host,this.Wo=`projects/${i}/databases/${l}`,this.Go=this.databaseId.database===zw?`project_id=${i}`:`project_id=${i}&database_id=${l}`}zo(t,o,i,l,h){const m=aA(),g=this.jo(t,o.toUriEncodedString());it(JC,`Sending RPC '${t}' ${m}:`,g,i);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,h);const{host:w}=new URL(g),k=Pm(w);return this.Jo(t,g,y,i,k).then(_=>(it(JC,`Received RPC '${t}' ${m}: `,_),_),_=>{throw Df(JC,`RPC '${t}' ${m} failed with error: `,_,"url: ",g,"request:",i),_})}Yo(t,o,i,l,h,m){return this.zo(t,o,i,l,h)}Ho(t,o,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,h)=>t[h]=l),i&&i.headers.forEach((l,h)=>t[h]=l)}jo(t,o){const i=xJ[t];return`${this.Ko}/v1/${o}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="WebChannelConnection";class kJ extends vJ{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,o,i,l,h){const m=aA();return new Promise((g,y)=>{const w=new d3;w.setWithCredentials(!0),w.listenOnce(u3.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case uw.NO_ERROR:const _=w.getResponseJson();it(Gs,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(_)),g(_);break;case uw.TIMEOUT:it(Gs,`RPC '${t}' ${m} timed out`),y(new lt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case uw.HTTP_ERROR:const N=w.getStatus();if(it(Gs,`RPC '${t}' ${m} failed with status:`,N,"response text:",w.getResponseText()),N>0){let D=w.getResponseJson();Array.isArray(D)&&(D=D[0]);const T=D==null?void 0:D.error;if(T&&T.status&&T.message){const R=function(F){const V=F.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(V)>=0?V:Ge.UNKNOWN}(T.status);y(new lt(R,T.message))}else y(new lt(Ge.UNKNOWN,"Server responded with status "+w.getStatus()))}else y(new lt(Ge.UNAVAILABLE,"Connection failed."));break;default:kt(9055,{h_:t,streamId:m,P_:w.getLastErrorCode(),T_:w.getLastError()})}}finally{it(Gs,`RPC '${t}' ${m} completed.`)}});const k=JSON.stringify(l);it(Gs,`RPC '${t}' ${m} sending request:`,l),w.send(o,"POST",k,i,15)})}I_(t,o,i){const l=aA(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=p3(),g=m3(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,o,i),y.encodeInitMessageHeaders=!0;const k=h.join("");it(Gs,`Creating RPC '${t}' stream ${l}: ${k}`,y);const _=m.createWebChannel(k,y);this.E_(_);let N=!1,D=!1;const T=new wJ({Zo:P=>{D?it(Gs,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(N||(it(Gs,`Opening RPC '${t}' stream ${l} transport.`),_.open(),N=!0),it(Gs,`RPC '${t}' stream ${l} sending:`,P),_.send(P))},Xo:()=>_.close()}),R=(P,F,V)=>{P.listen(F,G=>{try{V(G)}catch(Y){setTimeout(()=>{throw Y},0)}})};return R(_,ib.EventType.OPEN,()=>{D||(it(Gs,`RPC '${t}' stream ${l} transport opened.`),T.__())}),R(_,ib.EventType.CLOSE,()=>{D||(D=!0,it(Gs,`RPC '${t}' stream ${l} transport closed`),T.u_(),this.d_(_))}),R(_,ib.EventType.ERROR,P=>{D||(D=!0,Df(Gs,`RPC '${t}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),T.u_(new lt(Ge.UNAVAILABLE,"The operation could not be completed")))}),R(_,ib.EventType.MESSAGE,P=>{var F;if(!D){const V=P.data[0];Sr(!!V,16349);const G=V,Y=(G==null?void 0:G.error)||((F=G[0])===null||F===void 0?void 0:F.error);if(Y){it(Gs,`RPC '${t}' stream ${l} received error:`,Y);const ee=Y.status;let le=function(W){const Z=Hn[W];if(Z!==void 0)return K3(Z)}(ee),J=Y.message;le===void 0&&(le=Ge.INTERNAL,J="Unknown error status: "+ee+" with message "+Y.message),D=!0,T.u_(new lt(le,J)),_.close()}else it(Gs,`RPC '${t}' stream ${l} received:`,V),T.c_(V)}}),R(g,h3.STAT_EVENT,P=>{P.stat===Q_.PROXY?it(Gs,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===Q_.NOPROXY&&it(Gs,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(o=>o===t)}}function XC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){return new NQ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,o,i=1e3,l=1.5,h=6e4){this.xi=t,this.timerId=o,this.A_=i,this.R_=l,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const o=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),l=Math.max(0,o-i);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${o} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="PersistentStream";class cP{constructor(t,o,i,l,h,m,g,y){this.xi=t,this.S_=i,this.D_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new lP(t,o)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,o){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():o&&o.code===Ge.RESOURCE_EXHAUSTED?(Zc(o.toString()),Zc("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):o&&o.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(o)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),o=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.v_===o&&this.z_(i,l)},i=>{t(()=>{const l=new lt(Ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(l)})})}z_(t,o){const i=this.G_(this.v_);this.stream=this.H_(t,o),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{i(()=>this.j_(l))}),this.stream.onMessage(l=>{i(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return it(pM,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return o=>{this.xi.enqueueAndForget(()=>this.v_===t?o():(it(pM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CJ extends cP{constructor(t,o,i,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,i,l,m),this.serializer=h}H_(t,o){return this.connection.I_("Listen",t,o)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const o=EQ(this.serializer,t),i=function(h){if(!("targetChange"in h))return jt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?jt.min():m.readTime?Rl(m.readTime):jt.min()}(t);return this.listener.Y_(o,i)}Z_(t){const o={};o.database=oA(this.serializer),o.addTarget=function(h,m){let g;const y=m.target;if(g=eA(y)?{documents:TQ(h,y)}:{query:IQ(h,y).gt},g.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){g.resumeToken=X3(h,m.resumeToken);const w=rA(h,m.expectedCount);w!==null&&(g.expectedCount=w)}else if(m.snapshotVersion.compareTo(jt.min())>0){g.readTime=Yw(h,m.snapshotVersion.toTimestamp());const w=rA(h,m.expectedCount);w!==null&&(g.expectedCount=w)}return g}(this.serializer,t);const i=PQ(this.serializer,t);i&&(o.labels=i),this.Q_(o)}X_(t){const o={};o.database=oA(this.serializer),o.removeTarget=t,this.Q_(o)}}class _J extends cP{constructor(t,o,i,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,i,l,m),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,o){return this.connection.I_("Write",t,o)}J_(t){return Sr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Sr(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Sr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const o=MQ(t.writeResults,t.commitTime),i=Rl(t.commitTime);return this.listener.ra(i,o)}ia(){const t={};t.database=oA(this.serializer),this.Q_(t)}ta(t){const o={streamToken:this.lastStreamToken,writes:t.map(i=>DQ(this.serializer,i))};this.Q_(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{}class NJ extends AJ{constructor(t,o,i,l){super(),this.authCredentials=t,this.appCheckCredentials=o,this.connection=i,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new lt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,o,i,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.zo(t,nA(o,i),l,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Ge.UNKNOWN,h.toString())})}Yo(t,o,i,l,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,g])=>this.connection.Yo(t,nA(o,i),l,m,g,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new lt(Ge.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class jJ{constructor(t,o){this.asyncQueue=t,this.onlineStateHandler=o,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const o=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zc(o),this.ua=!1):it("OnlineStateTracker",o)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RemoteStore";class SJ{constructor(t,o,i,l,h){this.localStore=t,this.datastore=o,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(m=>{i.enqueueAndForget(async()=>{Lm(this)&&(it(Dm,"Restarting streams for network reachability change."),await async function(y){const w=Dt(y);w.da.add(4),await ux(w),w.Va.set("Unknown"),w.da.delete(4),await Mk(w)}(this))})}),this.Va=new jJ(i,l)}}async function Mk(n){if(Lm(n))for(const t of n.Aa)await t(!0)}async function ux(n){for(const t of n.Aa)await t(!1)}function dP(n,t){const o=Dt(n);o.Ea.has(t.targetId)||(o.Ea.set(t.targetId,t),D2(o)?E2(o):Jf(o).N_()&&S2(o,t))}function j2(n,t){const o=Dt(n),i=Jf(o);o.Ea.delete(t),i.N_()&&uP(o,t),o.Ea.size===0&&(i.N_()?i.k_():Lm(o)&&o.Va.set("Unknown"))}function S2(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const o=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(o)}Jf(n).Z_(t)}function uP(n,t){n.ma.Ke(t),Jf(n).X_(t)}function E2(n){n.ma=new kQ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Jf(n).start(),n.Va.ca()}function D2(n){return Lm(n)&&!Jf(n).O_()&&n.Ea.size>0}function Lm(n){return Dt(n).da.size===0}function hP(n){n.ma=void 0}async function EJ(n){n.Va.set("Online")}async function DJ(n){n.Ea.forEach((t,o)=>{S2(n,t)})}async function MJ(n,t){hP(n),D2(n)?(n.Va.Pa(t),E2(n)):n.Va.set("Unknown")}async function TJ(n,t,o){if(n.Va.set("Online"),t instanceof J3&&t.state===2&&t.cause)try{await async function(l,h){const m=h.cause;for(const g of h.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,m),l.Ea.delete(g),l.ma.removeTarget(g))}(n,t)}catch(i){it(Dm,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Kw(n,i)}else if(t instanceof fw?n.ma.Xe(t):t instanceof Q3?n.ma.ot(t):n.ma.nt(t),!o.isEqual(jt.min()))try{const i=await aP(n.localStore);o.compareTo(i)>=0&&await function(h,m){const g=h.ma.It(m);return g.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const k=h.Ea.get(w);k&&h.Ea.set(w,k.withResumeToken(y.resumeToken,m))}}),g.targetMismatches.forEach((y,w)=>{const k=h.Ea.get(y);if(!k)return;h.Ea.set(y,k.withResumeToken(Is.EMPTY_BYTE_STRING,k.snapshotVersion)),uP(h,y);const _=new xu(k.target,y,w,k.sequenceNumber);S2(h,_)}),h.remoteSyncer.applyRemoteEvent(g)}(n,o)}catch(i){it(Dm,"Failed to raise snapshot:",i),await Kw(n,i)}}async function Kw(n,t,o){if(!Qf(t))throw t;n.da.add(1),await ux(n),n.Va.set("Offline"),o||(o=()=>aP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{it(Dm,"Retrying IndexedDB access"),await o(),n.da.delete(1),await Mk(n)})}function mP(n,t){return t().catch(o=>Kw(n,o,t))}async function Tk(n){const t=Dt(n),o=Du(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:h2;for(;IJ(t);)try{const l=await pJ(t.localStore,i);if(l===null){t.Ia.length===0&&o.k_();break}i=l.batchId,RJ(t,l)}catch(l){await Kw(t,l)}pP(t)&&fP(t)}function IJ(n){return Lm(n)&&n.Ia.length<10}function RJ(n,t){n.Ia.push(t);const o=Du(n);o.N_()&&o.ea&&o.ta(t.mutations)}function pP(n){return Lm(n)&&!Du(n).O_()&&n.Ia.length>0}function fP(n){Du(n).start()}async function PJ(n){Du(n).ia()}async function OJ(n){const t=Du(n);for(const o of n.Ia)t.ta(o.mutations)}async function BJ(n,t,o){const i=n.Ia.shift(),l=v2.from(i,t,o);await mP(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),await Tk(n)}async function LJ(n,t){t&&Du(n).ea&&await async function(i,l){if(function(m){return vQ(m)&&m!==Ge.ABORTED}(l.code)){const h=i.Ia.shift();Du(i).L_(),await mP(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Tk(i)}}(n,t),pP(n)&&fP(n)}async function fM(n,t){const o=Dt(n);o.asyncQueue.verifyOperationInProgress(),it(Dm,"RemoteStore received new credentials");const i=Lm(o);o.da.add(3),await ux(o),i&&o.Va.set("Unknown"),await o.remoteSyncer.handleCredentialChange(t),o.da.delete(3),await Mk(o)}async function zJ(n,t){const o=Dt(n);t?(o.da.delete(2),await Mk(o)):t||(o.da.add(2),await ux(o),o.Va.set("Unknown"))}function Jf(n){return n.fa||(n.fa=function(o,i,l){const h=Dt(o);return h.oa(),new CJ(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(n.datastore,n.asyncQueue,{e_:EJ.bind(null,n),n_:DJ.bind(null,n),i_:MJ.bind(null,n),Y_:TJ.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),D2(n)?E2(n):n.Va.set("Unknown")):(await n.fa.stop(),hP(n))})),n.fa}function Du(n){return n.ga||(n.ga=function(o,i,l){const h=Dt(o);return h.oa(),new _J(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:PJ.bind(null,n),i_:LJ.bind(null,n),na:OJ.bind(null,n),ra:BJ.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await Tk(n)):(await n.ga.stop(),n.Ia.length>0&&(it(Dm,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,o,i,l,h){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=i,this.op=l,this.removalCallback=h,this.deferred=new Hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,o,i,l,h){const m=Date.now()+i,g=new M2(t,o,m,l,h);return g.start(i),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T2(n,t){if(Zc("AsyncQueue",`${t}: ${n}`),Qf(n))return new lt(Ge.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{static emptySet(t){return new Sf(t.comparator)}constructor(t){this.comparator=t?(o,i)=>t(o,i)||pt.comparator(o.key,i.key):(o,i)=>pt.comparator(o.key,i.key),this.keyedMap=ab(),this.sortedSet=new dn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const o=this.keyedMap.get(t);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((o,i)=>(t(o),!1))}add(t){const o=this.delete(t.key);return o.copy(o.keyedMap.insert(t.key,t),o.sortedSet.insert(t,null))}delete(t){const o=this.get(t);return o?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(o)):this}isEqual(t){if(!(t instanceof Sf)||this.size!==t.size)return!1;const o=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;o.hasNext();){const l=o.getNext().key,h=i.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(o=>{t.push(o.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,o){const i=new Sf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=o,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.pa=new dn(pt.comparator)}track(t){const o=t.doc.key,i=this.pa.get(o);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(o,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(o,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(o,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(o,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(o):t.type===1&&i.type===2?this.pa=this.pa.insert(o,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(o,{type:2,doc:t.doc}):kt(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(o,t)}wa(){const t=[];return this.pa.inorderTraversal((o,i)=>{t.push(i)}),t}}class Pf{constructor(t,o,i,l,h,m,g,y,w){this.query=t,this.docs=o,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(t,o,i,l,h){const m=[];return o.forEach(g=>{m.push({type:0,doc:g})}),new Pf(t,o,Sf.emptySet(o),m,i,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ak(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const o=this.docChanges,i=t.docChanges;if(o.length!==i.length)return!1;for(let l=0;l<o.length;l++)if(o[l].type!==i[l].type||!o[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class VJ{constructor(){this.queries=yM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(o,i){const l=Dt(o),h=l.queries;l.queries=yM(),h.forEach((m,g)=>{for(const y of g.Sa)y.onError(i)})})(this,new lt(Ge.ABORTED,"Firestore shutting down"))}}function yM(){return new Bm(n=>O3(n),Ak)}async function gP(n,t){const o=Dt(n);let i=3;const l=t.query;let h=o.queries.get(l);h?!h.Da()&&t.va()&&(i=2):(h=new FJ,i=t.va()?0:1);try{switch(i){case 0:h.ba=await o.onListen(l,!0);break;case 1:h.ba=await o.onListen(l,!1);break;case 2:await o.onFirstRemoteStoreListen(l)}}catch(m){const g=T2(m,`Initialization of query '${yf(t.query)}' failed`);return void t.onError(g)}o.queries.set(l,h),h.Sa.push(t),t.Fa(o.onlineState),h.ba&&t.Ma(h.ba)&&I2(o)}async function yP(n,t){const o=Dt(n),i=t.query;let l=3;const h=o.queries.get(i);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.va()?0:1:!h.Da()&&t.va()&&(l=2))}switch(l){case 0:return o.queries.delete(i),o.onUnlisten(i,!0);case 1:return o.queries.delete(i),o.onUnlisten(i,!1);case 2:return o.onLastRemoteStoreUnlisten(i);default:return}}function UJ(n,t){const o=Dt(n);let i=!1;for(const l of t){const h=l.query,m=o.queries.get(h);if(m){for(const g of m.Sa)g.Ma(l)&&(i=!0);m.ba=l}}i&&I2(o)}function GJ(n,t,o){const i=Dt(n),l=i.queries.get(t);if(l)for(const h of l.Sa)h.onError(o);i.queries.delete(t)}function I2(n){n.Ca.forEach(t=>{t.next()})}var lA,bM;(bM=lA||(lA={})).xa="default",bM.Cache="cache";class bP{constructor(t,o,i){this.query=t,this.Oa=o,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new Pf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let o=!1;return this.Na?this.La(t)&&(this.Oa.next(t),o=!0):this.ka(t,this.onlineState)&&(this.qa(t),o=!0),this.Ba=t,o}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let o=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),o=!0),o}ka(t,o){if(!t.fromCache||!this.va())return!0;const i=o!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||o==="Offline")}La(t){if(t.docChanges.length>0)return!0;const o=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0}qa(t){t=Pf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==lA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){this.key=t}}class vP{constructor(t){this.key=t}}class HJ{constructor(t,o){this.query=t,this.Ha=o,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=or(),this.mutatedKeys=or(),this.Za=B3(t),this.Xa=new Sf(this.Za)}get eu(){return this.Ha}tu(t,o){const i=o?o.nu:new gM,l=o?o.Xa:this.Xa;let h=o?o.mutatedKeys:this.mutatedKeys,m=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((k,_)=>{const N=l.get(k),D=Nk(this.query,_)?_:null,T=!!N&&this.mutatedKeys.has(N.key),R=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;N&&D?N.data.isEqual(D.data)?T!==R&&(i.track({type:3,doc:D}),P=!0):this.ru(N,D)||(i.track({type:2,doc:D}),P=!0,(y&&this.Za(D,y)>0||w&&this.Za(D,w)<0)&&(g=!0)):!N&&D?(i.track({type:0,doc:D}),P=!0):N&&!D&&(i.track({type:1,doc:N}),P=!0,(y||w)&&(g=!0)),P&&(D?(m=m.add(D),h=R?h.add(k):h.delete(k)):(m=m.delete(k),h=h.delete(k)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const k=this.query.limitType==="F"?m.last():m.first();m=m.delete(k.key),h=h.delete(k.key),i.track({type:1,doc:k})}return{Xa:m,nu:i,Cs:g,mutatedKeys:h}}ru(t,o){return t.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(t,o,i,l){const h=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const m=t.nu.wa();m.sort((k,_)=>function(D,T){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt(20277,{Vt:P})}};return R(D)-R(T)}(k.type,_.type)||this.Za(k.doc,_.doc)),this.iu(i),l=l!=null&&l;const g=o&&!l?this.su():[],y=this.Ya.size===0&&this.current&&!l?1:0,w=y!==this.Ja;return this.Ja=y,m.length!==0||w?{snapshot:new Pf(this.query,t.Xa,h,m,t.mutatedKeys,y===0,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new gM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(o=>this.Ha=this.Ha.add(o)),t.modifiedDocuments.forEach(o=>{}),t.removedDocuments.forEach(o=>this.Ha=this.Ha.delete(o)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=or(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const o=[];return t.forEach(i=>{this.Ya.has(i)||o.push(new vP(i))}),this.Ya.forEach(i=>{t.has(i)||o.push(new xP(i))}),o}au(t){this.Ha=t.$s,this.Ya=or();const o=this.tu(t.documents);return this.applyChanges(o,!0)}uu(){return Pf.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const R2="SyncEngine";class qJ{constructor(t,o,i){this.query=t,this.targetId=o,this.view=i}}class YJ{constructor(t){this.key=t,this.cu=!1}}class WJ{constructor(t,o,i,l,h,m){this.localStore=t,this.remoteStore=o,this.eventManager=i,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new Bm(g=>O3(g),Ak),this.Pu=new Map,this.Tu=new Set,this.Iu=new dn(pt.comparator),this.Eu=new Map,this.du=new C2,this.Au={},this.Ru=new Map,this.Vu=Rf.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function KJ(n,t,o=!0){const i=NP(n);let l;const h=i.hu.get(t);return h?(i.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.uu()):l=await wP(i,t,o,!0),l}async function QJ(n,t){const o=NP(n);await wP(o,t,!0,!1)}async function wP(n,t,o,i){const l=await fJ(n.localStore,Il(t)),h=l.targetId,m=n.sharedClientState.addLocalQueryTarget(h,o);let g;return i&&(g=await JJ(n,t,h,m==="current",l.resumeToken)),n.isPrimaryClient&&o&&dP(n.remoteStore,l),g}async function JJ(n,t,o,i,l){n.fu=(_,N,D)=>async function(R,P,F,V){let G=P.view.tu(F);G.Cs&&(G=await dM(R.localStore,P.query,!1).then(({documents:J})=>P.view.tu(J,G)));const Y=V&&V.targetChanges.get(P.targetId),ee=V&&V.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(G,R.isPrimaryClient,Y,ee);return vM(R,P.targetId,le.ou),le.snapshot}(n,_,N,D);const h=await dM(n.localStore,t,!0),m=new HJ(t,h.$s),g=m.tu(h.documents),y=dx.createSynthesizedTargetChangeForCurrentChange(o,i&&n.onlineState!=="Offline",l),w=m.applyChanges(g,n.isPrimaryClient,y);vM(n,o,w.ou);const k=new qJ(t,o,m);return n.hu.set(t,k),n.Pu.has(o)?n.Pu.get(o).push(t):n.Pu.set(o,[t]),w.snapshot}async function XJ(n,t,o){const i=Dt(n),l=i.hu.get(t),h=i.Pu.get(l.targetId);if(h.length>1)return i.Pu.set(l.targetId,h.filter(m=>!Ak(m,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await iA(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),o&&j2(i.remoteStore,l.targetId),cA(i,l.targetId)}).catch(Kf)):(cA(i,l.targetId),await iA(i.localStore,l.targetId,!0))}async function ZJ(n,t){const o=Dt(n),i=o.hu.get(t),l=o.Pu.get(i.targetId);o.isPrimaryClient&&l.length===1&&(o.sharedClientState.removeLocalQueryTarget(i.targetId),j2(o.remoteStore,i.targetId))}async function $J(n,t,o){const i=iX(n);try{const l=await function(m,g){const y=Dt(m),w=os.now(),k=g.reduce((D,T)=>D.add(T.key),or());let _,N;return y.persistence.runTransaction("Locally write mutations","readwrite",D=>{let T=$c(),R=or();return y.Bs.getEntries(D,k).next(P=>{T=P,T.forEach((F,V)=>{V.isValidDocument()||(R=R.add(F))})}).next(()=>y.localDocuments.getOverlayedDocuments(D,T)).next(P=>{_=P;const F=[];for(const V of g){const G=fQ(V,_.get(V.key).overlayedDocument);G!=null&&F.push(new Fu(V.key,G,S3(G.value.mapValue),Bi.exists(!0)))}return y.mutationQueue.addMutationBatch(D,w,F,g)}).next(P=>{N=P;const F=P.applyToLocalDocumentSet(_,R);return y.documentOverlayCache.saveOverlays(D,P.batchId,F)})}).then(()=>({batchId:N.batchId,changes:z3(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(m,g,y){let w=m.Au[m.currentUser.toKey()];w||(w=new dn(Ht)),w=w.insert(g,y),m.Au[m.currentUser.toKey()]=w}(i,l.batchId,o),await hx(i,l.changes),await Tk(i.remoteStore)}catch(l){const h=T2(l,"Failed to persist write");o.reject(h)}}async function kP(n,t){const o=Dt(n);try{const i=await hJ(o.localStore,t);t.targetChanges.forEach((l,h)=>{const m=o.Eu.get(h);m&&(Sr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.cu=!0:l.modifiedDocuments.size>0?Sr(m.cu,14607):l.removedDocuments.size>0&&(Sr(m.cu,42227),m.cu=!1))}),await hx(o,i,t)}catch(i){await Kf(i)}}function xM(n,t,o){const i=Dt(n);if(i.isPrimaryClient&&o===0||!i.isPrimaryClient&&o===1){const l=[];i.hu.forEach((h,m)=>{const g=m.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(m,g){const y=Dt(m);y.onlineState=g;let w=!1;y.queries.forEach((k,_)=>{for(const N of _.Sa)N.Fa(g)&&(w=!0)}),w&&I2(y)}(i.eventManager,t),l.length&&i.lu.Y_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function eX(n,t,o){const i=Dt(n);i.sharedClientState.updateQueryState(t,"rejected",o);const l=i.Eu.get(t),h=l&&l.key;if(h){let m=new dn(pt.comparator);m=m.insert(h,Ys.newNoDocument(h,jt.min()));const g=or().add(h),y=new Ek(jt.min(),new Map,new dn(Ht),m,g);await kP(i,y),i.Iu=i.Iu.remove(h),i.Eu.delete(t),P2(i)}else await iA(i.localStore,t,!1).then(()=>cA(i,t,o)).catch(Kf)}async function tX(n,t){const o=Dt(n),i=t.batch.batchId;try{const l=await uJ(o.localStore,t);_P(o,i,null),CP(o,i),o.sharedClientState.updateMutationState(i,"acknowledged"),await hx(o,l)}catch(l){await Kf(l)}}async function rX(n,t,o){const i=Dt(n);try{const l=await function(m,g){const y=Dt(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let k;return y.mutationQueue.lookupMutationBatch(w,g).next(_=>(Sr(_!==null,37113),k=_.keys(),y.mutationQueue.removeMutationBatch(w,_))).next(()=>y.mutationQueue.performConsistencyCheck(w)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(w,k,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,k)).next(()=>y.localDocuments.getDocuments(w,k))})}(i.localStore,t);_P(i,t,o),CP(i,t),i.sharedClientState.updateMutationState(t,"rejected",o),await hx(i,l)}catch(l){await Kf(l)}}function CP(n,t){(n.Ru.get(t)||[]).forEach(o=>{o.resolve()}),n.Ru.delete(t)}function _P(n,t,o){const i=Dt(n);let l=i.Au[i.currentUser.toKey()];if(l){const h=l.get(t);h&&(o?h.reject(o):h.resolve(),l=l.remove(t)),i.Au[i.currentUser.toKey()]=l}}function cA(n,t,o=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),o&&n.lu.gu(i,o);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||AP(n,i)})}function AP(n,t){n.Tu.delete(t.path.canonicalString());const o=n.Iu.get(t);o!==null&&(j2(n.remoteStore,o),n.Iu=n.Iu.remove(t),n.Eu.delete(o),P2(n))}function vM(n,t,o){for(const i of o)i instanceof xP?(n.du.addReference(i.key,t),nX(n,i)):i instanceof vP?(it(R2,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||AP(n,i.key)):kt(19791,{pu:i})}function nX(n,t){const o=t.key,i=o.path.canonicalString();n.Iu.get(o)||n.Tu.has(i)||(it(R2,"New document in limbo: "+o),n.Tu.add(i),P2(n))}function P2(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const o=new pt(Wr.fromString(t)),i=n.Vu.next();n.Eu.set(i,new YJ(o)),n.Iu=n.Iu.insert(o,i),dP(n.remoteStore,new xu(Il(y2(o.path)),i,"TargetPurposeLimboResolution",kk.le))}}async function hx(n,t,o){const i=Dt(n),l=[],h=[],m=[];i.hu.isEmpty()||(i.hu.forEach((g,y)=>{m.push(i.fu(y,t,o).then(w=>{var k;if((w||o)&&i.isPrimaryClient){const _=w?!w.fromCache:(k=o==null?void 0:o.targetChanges.get(y.targetId))===null||k===void 0?void 0:k.current;i.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(w){l.push(w);const _=A2.Rs(y.targetId,w);h.push(_)}}))}),await Promise.all(m),i.lu.Y_(l),await async function(y,w){const k=Dt(y);try{await k.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>He.forEach(w,N=>He.forEach(N.ds,D=>k.persistence.referenceDelegate.addReference(_,N.targetId,D)).next(()=>He.forEach(N.As,D=>k.persistence.referenceDelegate.removeReference(_,N.targetId,D)))))}catch(_){if(!Qf(_))throw _;it(N2,"Failed to update sequence numbers: "+_)}for(const _ of w){const N=_.targetId;if(!_.fromCache){const D=k.xs.get(N),T=D.snapshotVersion,R=D.withLastLimboFreeSnapshotVersion(T);k.xs=k.xs.insert(N,R)}}}(i.localStore,h))}async function sX(n,t){const o=Dt(n);if(!o.currentUser.isEqual(t)){it(R2,"User change. New user:",t.toKey());const i=await iP(o.localStore,t);o.currentUser=t,function(h,m){h.Ru.forEach(g=>{g.forEach(y=>{y.reject(new lt(Ge.CANCELLED,m))})}),h.Ru.clear()}(o,"'waitForPendingWrites' promise is rejected due to a user change."),o.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await hx(o,i.ks)}}function oX(n,t){const o=Dt(n),i=o.Eu.get(t);if(i&&i.cu)return or().add(i.key);{let l=or();const h=o.Pu.get(t);if(!h)return l;for(const m of h){const g=o.hu.get(m);l=l.unionWith(g.view.eu)}return l}}function NP(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=kP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eX.bind(null,t),t.lu.Y_=UJ.bind(null,t.eventManager),t.lu.gu=GJ.bind(null,t.eventManager),t}function iX(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rX.bind(null,t),t}class Qw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dk(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,o){return null}Cu(t,o){return null}Du(t){return dJ(this.persistence,new aJ,t.initialUser,this.serializer)}Su(t){return new oP(_2.fi,this.serializer)}bu(t){return new yJ}async terminate(){var t,o;(t=this.gcScheduler)===null||t===void 0||t.stop(),(o=this.indexBackfillerScheduler)===null||o===void 0||o.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qw.provider={build:()=>new Qw};class aX extends Qw{constructor(t){super(),this.cacheSizeBytes=t}vu(t,o){Sr(this.persistence.referenceDelegate instanceof Ww,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YQ(i,t.asyncQueue,o)}Su(t){const o=this.cacheSizeBytes!==void 0?Mo.withCacheSize(this.cacheSizeBytes):Mo.DEFAULT;return new oP(i=>Ww.fi(i,o),this.serializer)}}class dA{async initialize(t,o){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sX.bind(null,this.syncEngine),await zJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new VJ}()}createDatastore(t){const o=Dk(t.databaseInfo.databaseId),i=function(h){return new kJ(h)}(t.databaseInfo);return function(h,m,g,y){return new NJ(h,m,g,y)}(t.authCredentials,t.appCheckCredentials,i,o)}createRemoteStore(t){return function(i,l,h,m,g){return new SJ(i,l,h,m,g)}(this.localStore,this.datastore,t.asyncQueue,o=>xM(this.syncEngine,o,0),function(){return mM.C()?new mM:new bJ}())}createSyncEngine(t,o){return function(l,h,m,g,y,w,k){const _=new WJ(l,h,m,g,y,w);return k&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,o)}async terminate(){var t,o;await async function(l){const h=Dt(l);it(Dm,"RemoteStore shutting down."),h.da.add(5),await ux(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(o=this.eventManager)===null||o===void 0||o.terminate()}}dA.provider={build:()=>new dA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Zc("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,o){setTimeout(()=>{this.muted||t(o)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="FirestoreClient";class lX{constructor(t,o,i,l,h){this.authCredentials=t,this.appCheckCredentials=o,this.asyncQueue=i,this.databaseInfo=l,this.user=qs.UNAUTHENTICATED,this.clientId=b3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(i,async m=>{it(Mu,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(i,m=>(it(Mu,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(o){const i=T2(o,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function ZC(n,t){n.asyncQueue.verifyOperationInProgress(),it(Mu,"Initializing OfflineComponentProvider");const o=n.configuration;await t.initialize(o);let i=o.initialUser;n.setCredentialChangeListener(async l=>{i.isEqual(l)||(await iP(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function wM(n,t){n.asyncQueue.verifyOperationInProgress();const o=await cX(n);it(Mu,"Initializing OnlineComponentProvider"),await t.initialize(o,n.configuration),n.setCredentialChangeListener(i=>fM(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>fM(t.remoteStore,l)),n._onlineComponents=t}async function cX(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){it(Mu,"Using user provided OfflineComponentProvider");try{await ZC(n,n._uninitializedComponentsProvider._offline)}catch(t){const o=t;if(!function(l){return l.name==="FirebaseError"?l.code===Ge.FAILED_PRECONDITION||l.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(o))throw o;Df("Error using user provided cache. Falling back to memory cache: "+o),await ZC(n,new Qw)}}else it(Mu,"Using default OfflineComponentProvider"),await ZC(n,new aX(void 0));return n._offlineComponents}async function SP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(it(Mu,"Using user provided OnlineComponentProvider"),await wM(n,n._uninitializedComponentsProvider._online)):(it(Mu,"Using default OnlineComponentProvider"),await wM(n,new dA))),n._onlineComponents}function dX(n){return SP(n).then(t=>t.syncEngine)}async function EP(n){const t=await SP(n),o=t.eventManager;return o.onListen=KJ.bind(null,t.syncEngine),o.onUnlisten=XJ.bind(null,t.syncEngine),o.onFirstRemoteStoreListen=QJ.bind(null,t.syncEngine),o.onLastRemoteStoreUnlisten=ZJ.bind(null,t.syncEngine),o}function uX(n,t,o={}){const i=new Hc;return n.asyncQueue.enqueueAndForget(async()=>function(h,m,g,y,w){const k=new jP({next:N=>{k.xu(),m.enqueueAndForget(()=>yP(h,_));const D=N.docs.has(g);!D&&N.fromCache?w.reject(new lt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&N.fromCache&&y&&y.source==="server"?w.reject(new lt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(N)},error:N=>w.reject(N)}),_=new bP(y2(g.path),k,{includeMetadataChanges:!0,Qa:!0});return gP(h,_)}(await EP(n),n.asyncQueue,t,o,i)),i.promise}function hX(n,t,o={}){const i=new Hc;return n.asyncQueue.enqueueAndForget(async()=>function(h,m,g,y,w){const k=new jP({next:N=>{k.xu(),m.enqueueAndForget(()=>yP(h,_)),N.fromCache&&y.source==="server"?w.reject(new lt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(N)},error:N=>w.reject(N)}),_=new bP(g,k,{includeMetadataChanges:!0,Qa:!0});return gP(h,_)}(await EP(n),n.asyncQueue,t,o,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n,t,o){if(!o)throw new lt(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mX(n,t,o,i){if(t===!0&&i===!0)throw new lt(Ge.INVALID_ARGUMENT,`${n} and ${o} cannot be used together.`)}function CM(n){if(!pt.isDocumentKey(n))throw new lt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _M(n){if(pt.isDocumentKey(n))throw new lt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ik(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":kt(12329,{type:typeof n})}function Pa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new lt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Ik(n);throw new lt(Ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${o}`)}}return n}function pX(n,t){if(t<=0)throw new lt(Ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firestore.googleapis.com",AM=!0;class NM{constructor(t){var o,i;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TP,this.ssl=AM}else this.host=t.host,this.ssl=(o=t.ssl)!==null&&o!==void 0?o:AM;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sP;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HQ)throw new lt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mX("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DP((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rk{constructor(t,o,i,l){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NM(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wK;switch(i.type){case"firstParty":return new AK(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new lt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){const i=kM.get(o);i&&(it("ComponentProvider","Removing Datastore"),kM.delete(o),i.terminate())}(this),Promise.resolve()}}function fX(n,t,o,i={}){var l;n=Pa(n,Rk);const h=Pm(t),m=n._getSettings(),g=Object.assign(Object.assign({},m),{emulatorOptions:n._getEmulatorOptions()}),y=`${t}:${o}`;h&&(QA(`https://${y}`),JA("Firestore",!0)),m.host!==TP&&m.host!==y&&Df("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w=Object.assign(Object.assign({},m),{host:y,ssl:h,emulatorOptions:i});if(!Am(w,g)&&(n._setSettings(w),i.mockUserToken)){let k,_;if(typeof i.mockUserToken=="string")k=i.mockUserToken,_=qs.MOCK_USER;else{k=_R(i.mockUserToken,(l=n._app)===null||l===void 0?void 0:l.options.projectId);const N=i.mockUserToken.sub||i.mockUserToken.user_id;if(!N)throw new lt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new qs(N)}n._authCredentials=new kK(new g3(k,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,o,i){this.converter=o,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new zm(this.firestore,t,this._query)}}class uo{constructor(t,o,i){this.converter=o,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new uo(this.firestore,t,this._key)}}class Cu extends zm{constructor(t,o,i){super(t,o,y2(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new uo(this.firestore,null,new pt(t))}withConverter(t){return new Cu(this.firestore,t,this._path)}}function uA(n,t,...o){if(n=vs(n),MP("collection","path",t),n instanceof Rk){const i=Wr.fromString(t,...o);return _M(i),new Cu(n,null,i)}{if(!(n instanceof uo||n instanceof Cu))throw new lt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Wr.fromString(t,...o));return _M(i),new Cu(n.firestore,null,i)}}function Ef(n,t,...o){if(n=vs(n),arguments.length===1&&(t=b3.newId()),MP("doc","path",t),n instanceof Rk){const i=Wr.fromString(t,...o);return CM(i),new uo(n,null,new pt(i))}{if(!(n instanceof uo||n instanceof Cu))throw new lt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Wr.fromString(t,...o));return CM(i),new uo(n.firestore,n instanceof Cu?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="AsyncQueue";class SM{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new lP(this,"async_queue_retry"),this.rc=()=>{const i=XC();i&&it(jM,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const o=XC();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const o=XC();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const o=new Hc;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Qf(t))throw t;it(jM,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const o=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Zc("INTERNAL UNHANDLED ERROR: ",EM(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=o,o}enqueueAfterDelay(t,o,i){this.oc(),this.nc.indexOf(t)>-1&&(o=0);const l=M2.createAndSchedule(this,t,o,i,h=>this.uc(h));return this.Zu.push(l),l}oc(){this.Xu&&kt(47125,{cc:EM(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const o of this.Zu)if(o.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((o,i)=>o.targetTimeMs-i.targetTimeMs);for(const o of this.Zu)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const o=this.Zu.indexOf(t);this.Zu.splice(o,1)}}function EM(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Fm extends Rk{constructor(t,o,i,l){super(t,o,i,l),this.type="firestore",this._queue=new SM,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SM(t),this._firestoreClient=void 0,await t}}}function gX(n,t){const o=typeof n=="object"?n:$A(),i=typeof n=="string"?n:zw,l=bk(o,"firestore").getImmediate({identifier:i});if(!l._initialized){const h=wR("firestore");h&&fX(l,...h)}return l}function O2(n){if(n._terminated)throw new lt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yX(n),n._firestoreClient}function yX(n){var t,o,i;const l=n._freezeSettings(),h=function(g,y,w,k){return new FK(g,y,w,k.host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,DP(k.experimentalLongPollingOptions),k.useFetchStreams,k.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,l);n._componentsProvider||!((o=l.localCache)===null||o===void 0)&&o._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),n._firestoreClient=new lX(n._authCredentials,n._appCheckCredentials,n._queue,h,n._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Of(Is.fromBase64String(t))}catch(o){throw new lt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new Of(Is.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new lt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ts(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new lt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new lt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this._values=(t||[]).map(o=>o)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let h=0;h<i.length;++h)if(i[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=/^__.*__$/;class xX{constructor(t,o,i){this.data=t,this.fieldMask=o,this.fieldTransforms=i}toMutation(t,o){return this.fieldMask!==null?new Fu(t,this.data,this.fieldMask,o,this.fieldTransforms):new cx(t,this.data,o,this.fieldTransforms)}}class IP{constructor(t,o,i){this.data=t,this.fieldMask=o,this.fieldTransforms=i}toMutation(t,o){return new Fu(t,this.data,this.fieldMask,o,this.fieldTransforms)}}function RP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt(40011,{Ic:n})}}class F2{constructor(t,o,i,l,h,m){this.settings=t,this.databaseId=o,this.serializer=i,this.ignoreUndefinedProperties=l,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new F2(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var o;const i=(o=this.path)===null||o===void 0?void 0:o.child(t),l=this.dc({path:i,Rc:!1});return l.Vc(t),l}mc(t){var o;const i=(o=this.path)===null||o===void 0?void 0:o.child(t),l=this.dc({path:i,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Jw(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(o=>t.isPrefixOf(o))!==void 0||this.fieldTransforms.find(o=>t.isPrefixOf(o.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(RP(this.Ic)&&bX.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class vX{constructor(t,o,i){this.databaseId=t,this.ignoreUndefinedProperties=o,this.serializer=i||Dk(t)}bc(t,o,i,l=!1){return new F2({Ic:t,methodName:o,wc:i,path:Ts.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ok(n){const t=n._freezeSettings(),o=Dk(n._databaseId);return new vX(n._databaseId,!!t.ignoreUndefinedProperties,o)}function PP(n,t,o,i,l,h={}){const m=n.bc(h.merge||h.mergeFields?2:0,t,o,l);V2("Data must be an object, but it was:",m,i);const g=OP(i,m);let y,w;if(h.merge)y=new di(m.fieldMask),w=m.fieldTransforms;else if(h.mergeFields){const k=[];for(const _ of h.mergeFields){const N=hA(t,_,o);if(!m.contains(N))throw new lt(Ge.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);LP(k,N)||k.push(N)}y=new di(k),w=m.fieldTransforms.filter(_=>y.covers(_.field))}else y=null,w=m.fieldTransforms;return new xX(new Ro(g),y,w)}class Bk extends B2{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bk}}function wX(n,t,o,i){const l=n.bc(1,t,o);V2("Data must be an object, but it was:",l,i);const h=[],m=Ro.empty();zu(i,(y,w)=>{const k=U2(t,y,o);w=vs(w);const _=l.mc(k);if(w instanceof Bk)h.push(k);else{const N=mx(w,_);N!=null&&(h.push(k),m.set(k,N))}});const g=new di(h);return new IP(m,g,l.fieldTransforms)}function kX(n,t,o,i,l,h){const m=n.bc(1,t,o),g=[hA(t,i,o)],y=[l];if(h.length%2!=0)throw new lt(Ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(hA(t,h[N])),y.push(h[N+1]);const w=[],k=Ro.empty();for(let N=g.length-1;N>=0;--N)if(!LP(w,g[N])){const D=g[N];let T=y[N];T=vs(T);const R=m.mc(D);if(T instanceof Bk)w.push(D);else{const P=mx(T,R);P!=null&&(w.push(D),k.set(D,P))}}const _=new di(w);return new IP(k,_,m.fieldTransforms)}function CX(n,t,o,i=!1){return mx(o,n.bc(i?4:3,t))}function mx(n,t){if(BP(n=vs(n)))return V2("Unsupported field value:",t,n),OP(n,t);if(n instanceof B2)return function(i,l){if(!RP(l.Ic))throw l.gc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${i._methodName}() is not currently supported inside arrays`);const h=i._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,l){const h=[];let m=0;for(const g of i){let y=mx(g,l.fc(m));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),m++}return{arrayValue:{values:h}}}(n,t)}return function(i,l){if((i=vs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cQ(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const h=os.fromDate(i);return{timestampValue:Yw(l.serializer,h)}}if(i instanceof os){const h=new os(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yw(l.serializer,h)}}if(i instanceof L2)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Of)return{bytesValue:X3(l.serializer,i._byteString)};if(i instanceof uo){const h=l.databaseId,m=i.firestore._databaseId;if(!m.isEqual(h))throw l.gc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:k2(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof z2)return function(m,g){return{mapValue:{fields:{[N3]:{stringValue:j3},[Fw]:{arrayValue:{values:m.toArray().map(w=>{if(typeof w!="number")throw g.gc("VectorValues must only contain numeric values.");return b2(g.serializer,w)})}}}}}}(i,l);throw l.gc(`Unsupported field value: ${Ik(i)}`)}(n,t)}function OP(n,t){const o={};return v3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zu(n,(i,l)=>{const h=mx(l,t.Ac(i));h!=null&&(o[i]=h)}),{mapValue:{fields:o}}}function BP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof os||n instanceof L2||n instanceof Of||n instanceof uo||n instanceof B2||n instanceof z2)}function V2(n,t,o){if(!BP(o)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(o)){const i=Ik(o);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function hA(n,t,o){if((t=vs(t))instanceof Pk)return t._internalPath;if(typeof t=="string")return U2(n,t);throw Jw("Field path arguments must be of type string or ",n,!1,void 0,o)}const _X=new RegExp("[~\\*/\\[\\]]");function U2(n,t,o){if(t.search(_X)>=0)throw Jw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,o);try{return new Pk(...t.split("."))._internalPath}catch{throw Jw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,o)}}function Jw(n,t,o,i,l){const h=i&&!i.isEmpty(),m=l!==void 0;let g=`Function ${t}() called with invalid data`;o&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||m)&&(y+=" (found",h&&(y+=` in field ${i}`),m&&(y+=` in document ${l}`),y+=")"),new lt(Ge.INVALID_ARGUMENT,g+n+y)}function LP(n,t){return n.some(o=>o.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t,o,i,l,h){this._firestore=t,this._userDataWriter=o,this._key=i,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const o=this._document.data.field(G2("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}}class AX extends zP{data(){return super.data()}}function G2(n,t){return typeof t=="string"?U2(n,t):t instanceof Pk?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H2{}class FP extends H2{}function $C(n,t,...o){let i=[];t instanceof H2&&i.push(t),i=i.concat(o),function(h){const m=h.filter(y=>y instanceof q2).length,g=h.filter(y=>y instanceof Lk).length;if(m>1||m>0&&g>0)throw new lt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)n=l._apply(n);return n}class Lk extends FP{constructor(t,o,i){super(),this._field=t,this._op=o,this._value=i,this.type="where"}static _create(t,o,i){return new Lk(t,o,i)}_apply(t){const o=this._parse(t);return VP(t._query,o),new zm(t.firestore,t.converter,tA(t._query,o))}_parse(t){const o=Ok(t.firestore);return function(h,m,g,y,w,k,_){let N;if(w.isKeyField()){if(k==="array-contains"||k==="array-contains-any")throw new lt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if(k==="in"||k==="not-in"){TM(_,k);const T=[];for(const R of _)T.push(MM(y,h,R));N={arrayValue:{values:T}}}else N=MM(y,h,_)}else k!=="in"&&k!=="not-in"&&k!=="array-contains-any"||TM(_,k),N=CX(g,m,_,k==="in"||k==="not-in");return Wn.create(w,k,N)}(t._query,"where",o,t.firestore._databaseId,this._field,this._op,this._value)}}function DM(n,t,o){const i=t,l=G2("where",n);return Lk._create(l,i,o)}class q2 extends H2{constructor(t,o){super(),this.type=t,this._queryConstraints=o}static _create(t,o){return new q2(t,o)}_parse(t){const o=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return o.length===1?o[0]:Ra.create(o,this._getOperator())}_apply(t){const o=this._parse(t);return o.getFilters().length===0?t:(function(l,h){let m=l;const g=h.getFlattenedFilters();for(const y of g)VP(m,y),m=tA(m,y)}(t._query,o),new zm(t.firestore,t.converter,tA(t._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y2 extends FP{constructor(t,o,i){super(),this.type=t,this._limit=o,this._limitType=i}static _create(t,o,i){return new Y2(t,o,i)}_apply(t){return new zm(t.firestore,t.converter,Gw(t._query,this._limit,this._limitType))}}function jX(n){return pX("limit",n),Y2._create("limit",n,"F")}function MM(n,t,o){if(typeof(o=vs(o))=="string"){if(o==="")throw new lt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P3(t)&&o.indexOf("/")!==-1)throw new lt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const i=t.path.child(Wr.fromString(o));if(!pt.isDocumentKey(i))throw new lt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qD(n,new pt(i))}if(o instanceof uo)return qD(n,o._key);throw new lt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ik(o)}.`)}function TM(n,t){if(!Array.isArray(n)||n.length===0)throw new lt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VP(n,t){const o=function(l,h){for(const m of l)for(const g of m.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(o!==null)throw o===t.op?new lt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${o.toString()}' filters.`)}class SX{convertValue(t,o="none"){switch(Eu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,o);case 5:return t.stringValue;case 6:return this.convertBytes(Su(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,o);case 11:return this.convertObject(t.mapValue,o);case 10:return this.convertVectorValue(t.mapValue);default:throw kt(62114,{value:t})}}convertObject(t,o){return this.convertObjectMap(t.fields,o)}convertObjectMap(t,o="none"){const i={};return zu(t,(l,h)=>{i[l]=this.convertValue(h,o)}),i}convertVectorValue(t){var o,i,l;const h=(l=(i=(o=t.fields)===null||o===void 0?void 0:o[Fw].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(m=>Pn(m.doubleValue));return new z2(h)}convertGeoPoint(t){return new L2(Pn(t.latitude),Pn(t.longitude))}convertArray(t,o){return(t.values||[]).map(i=>this.convertValue(i,o))}convertServerTimestamp(t,o){switch(o){case"previous":const i=_k(t);return i==null?null:this.convertValue(i,o);case"estimate":return this.convertTimestamp(Rb(t));default:return null}}convertTimestamp(t){const o=ju(t);return new os(o.seconds,o.nanos)}convertDocumentKey(t,o){const i=Wr.fromString(t);Sr(nP(i),9688,{name:t});const l=new Pb(i.get(1),i.get(3)),h=new pt(i.popFirst(5));return l.isEqual(o)||Zc(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n,t,o){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GP extends zP{constructor(t,o,i,l,h,m){super(t,o,i,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const o=new gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){const i=this._document.data.field(G2("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,o.serverTimestamps)}}}class gw extends GP{data(t={}){return super.data(t)}}class EX{constructor(t,o,i,l){this._firestore=t,this._userDataWriter=o,this._snapshot=l,this.metadata=new cb(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(i=>{t.call(o,new gw(this._firestore,this._userDataWriter,i.key,i,new cb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new lt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(g=>{const y=new gw(l._firestore,l._userDataWriter,g.doc.key,g.doc,new cb(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new gw(l._firestore,l._userDataWriter,g.doc.key,g.doc,new cb(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,k=-1;return g.type!==0&&(w=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),k=m.indexOf(g.doc.key)),{type:DX(g.type),doc:y,oldIndex:w,newIndex:k}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function DX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(n){n=Pa(n,uo);const t=Pa(n.firestore,Fm);return uX(O2(t),n._key).then(o=>PX(t,n,o))}class HP extends SX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Of(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new uo(this.firestore,null,o)}}function qP(n){n=Pa(n,zm);const t=Pa(n.firestore,Fm),o=O2(t),i=new HP(t);return NX(n._query),hX(o,n._query).then(l=>new EX(t,i,n,l))}function IM(n,t,o){n=Pa(n,uo);const i=Pa(n.firestore,Fm),l=UP(n.converter,t);return zk(i,[PP(Ok(i),"setDoc",n._key,l,n.converter!==null,o).toMutation(n._key,Bi.none())])}function TX(n,t,o,...i){n=Pa(n,uo);const l=Pa(n.firestore,Fm),h=Ok(l);let m;return m=typeof(t=vs(t))=="string"||t instanceof Pk?kX(h,"updateDoc",n._key,t,o,i):wX(h,"updateDoc",n._key,t),zk(l,[m.toMutation(n._key,Bi.exists(!0))])}function IX(n){return zk(Pa(n.firestore,Fm),[new x2(n._key,Bi.none())])}function RX(n,t){const o=Pa(n.firestore,Fm),i=Ef(n),l=UP(n.converter,t);return zk(o,[PP(Ok(n.firestore),"addDoc",i._key,l,n.converter!==null,{}).toMutation(i._key,Bi.exists(!1))]).then(()=>i)}function zk(n,t){return function(i,l){const h=new Hc;return i.asyncQueue.enqueueAndForget(async()=>$J(await dX(i),l,h)),h.promise}(O2(n),t)}function PX(n,t,o){const i=o.docs.get(t._key),l=new HP(n);return new GP(n,l,t._key,i,new cb(o.hasPendingWrites,o.fromCache),t.converter)}(function(t,o=!0){(function(l){Wf=l})(Om),Nm(new Au("firestore",(i,{instanceIdentifier:l,options:h})=>{const m=i.getProvider("app").getImmediate(),g=new Fm(new CK(i.getProvider("auth-internal")),new NK(m,i.getProvider("app-check-internal")),function(w,k){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new lt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pb(w.options.projectId,k)}(m,l),m);return h=Object.assign({useFetchStreams:o},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Ml(ID,RD,t),Ml(ID,RD,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebasestorage.googleapis.com",OX="storageBucket",BX=2*60*1e3,LX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Vl{constructor(t,o,i=0){super(e_(t),`Firebase Storage: ${o} (${e_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ul.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return e_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zl;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zl||(zl={}));function e_(n){return"storage/"+n}function zX(){const n="An unknown error occurred, please check the error payload for server response.";return new Ul(zl.UNKNOWN,n)}function FX(){return new Ul(zl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VX(){return new Ul(zl.CANCELED,"User canceled the upload/download.")}function UX(n){return new Ul(zl.INVALID_URL,"Invalid URL '"+n+"'.")}function GX(n){return new Ul(zl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function RM(n){return new Ul(zl.INVALID_ARGUMENT,n)}function WP(){return new Ul(zl.APP_DELETED,"The Firebase app was deleted.")}function HX(n){return new Ul(zl.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,o){this.bucket=t,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,o){let i;try{i=Ma.makeFromUrl(t,o)}catch{return new Ma(t,"")}if(i.path==="")return i;throw GX(t)}static makeFromUrl(t,o){let i=null;const l="([A-Za-z0-9.\\-_]+)";function h(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const m="(/(.*))?$",g=new RegExp("^gs://"+l+m,"i"),y={bucket:1,path:3};function w(Y){Y.path_=decodeURIComponent(Y.path)}const k="v[A-Za-z0-9_]+",_=o.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",D=new RegExp(`^https?://${_}/${k}/b/${l}/o${N}`,"i"),T={bucket:1,path:3},R=o===YP?"(?:storage.googleapis.com|storage.cloud.google.com)":o,P="([^?#]*)",F=new RegExp(`^https?://${R}/${l}/${P}`,"i"),G=[{regex:g,indices:y,postModify:h},{regex:D,indices:T,postModify:w},{regex:F,indices:{bucket:1,path:2},postModify:w}];for(let Y=0;Y<G.length;Y++){const ee=G[Y],le=ee.regex.exec(t);if(le){const J=le[ee.indices.bucket];let B=le[ee.indices.path];B||(B=""),i=new Ma(J,B),ee.postModify(i);break}}if(i==null)throw UX(t);return i}}class qX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(n,t,o){let i=1,l=null,h=null,m=!1,g=0;function y(){return g===2}let w=!1;function k(...P){w||(w=!0,t.apply(null,P))}function _(P){l=setTimeout(()=>{l=null,n(D,y())},P)}function N(){h&&clearTimeout(h)}function D(P,...F){if(w){N();return}if(P){N(),k.call(null,P,...F);return}if(y()||m){N(),k.call(null,P,...F);return}i<64&&(i*=2);let G;g===1?(g=2,G=0):G=(i+Math.random())*1e3,_(G)}let T=!1;function R(P){T||(T=!0,N(),!w&&(l!==null?(P||(g=2),clearTimeout(l),_(0)):P||(g=1)))}return _(0),h=setTimeout(()=>{m=!0,R(!0)},o),R}function WX(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(n){return n!==void 0}function PM(n,t,o,i){if(i<t)throw RM(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>o)throw RM(`Invalid value for '${n}'. Expected ${o} or less.`)}function QX(n){const t=encodeURIComponent;let o="?";for(const i in n)if(n.hasOwnProperty(i)){const l=t(i)+"="+t(n[i]);o=o+l+"&"}return o=o.slice(0,-1),o}var Xw;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Xw||(Xw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(n,t){const o=n>=500&&n<600,l=[408,429].indexOf(n)!==-1,h=t.indexOf(n)!==-1;return o||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(t,o,i,l,h,m,g,y,w,k,_,N=!0,D=!1){this.url_=t,this.method_=o,this.headers_=i,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=g,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=k,this.connectionFactory_=_,this.retry=N,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,R)=>{this.resolve_=T,this.reject_=R,this.start_()})}start_(){const t=(i,l)=>{if(l){i(!1,new q0(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=g=>{const y=g.loaded,w=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,w)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const g=h.getErrorCode()===Xw.NO_ERROR,y=h.getStatus();if(!g||JX(y,this.additionalRetryCodes_)&&this.retry){const k=h.getErrorCode()===Xw.ABORT;i(!1,new q0(!1,null,k));return}const w=this.successCodes_.indexOf(y)!==-1;i(!0,new q0(w,h))})},o=(i,l)=>{const h=this.resolve_,m=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());KX(y)?h(y):h()}catch(y){m(y)}else if(g!==null){const y=zX();y.serverResponse=g.getErrorText(),this.errorCallback_?m(this.errorCallback_(g,y)):m(y)}else if(l.canceled){const y=this.appDelete_?WP():VX();m(y)}else{const y=FX();m(y)}};this.canceled_?o(!1,new q0(!1,null,!0)):this.backoffId_=YX(t,o,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&WX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class q0{constructor(t,o,i){this.wasSuccessCode=t,this.connection=o,this.canceled=!!i}}function ZX(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function $X(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function eZ(n,t){t&&(n["X-Firebase-GMPID"]=t)}function tZ(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function rZ(n,t,o,i,l,h,m=!0,g=!1){const y=QX(n.urlParams),w=n.url+y,k=Object.assign({},n.headers);return eZ(k,t),ZX(k,o),$X(k,h),tZ(k,i),new XX(w,n.method,k,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,l,m,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function sZ(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,o){this._service=t,o instanceof Ma?this._location=o:this._location=Ma.makeFromUrl(o,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,o){return new Zw(t,o)}get root(){const t=new Ma(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sZ(this._location.path)}get storage(){return this._service}get parent(){const t=nZ(this._location.path);if(t===null)return null;const o=new Ma(this._location.bucket,t);return new Zw(this._service,o)}_throwIfRoot(t){if(this._location.path==="")throw HX(t)}}function OM(n,t){const o=t==null?void 0:t[OX];return o==null?null:Ma.makeFromBucketSpec(o,n)}function oZ(n,t,o,i={}){n.host=`${t}:${o}`;const l=Pm(t);l&&(QA(`https://${n.host}/b`),JA("Storage",!0)),n._isUsingEmulator=!0,n._protocol=l?"https":"http";const{mockUserToken:h}=i;h&&(n._overrideAuthToken=typeof h=="string"?h:_R(h,n.app.options.projectId))}class iZ{constructor(t,o,i,l,h,m=!1){this.app=t,this._authProvider=o,this._appCheckProvider=i,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=YP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BX,this._maxUploadRetryTime=LX,this._requests=new Set,l!=null?this._bucket=Ma.makeFromBucketSpec(l,this._host):this._bucket=OM(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ma.makeFromBucketSpec(this._url,t):this._bucket=OM(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){PM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){PM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const o=await t.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){if(Io(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zw(this,t)}_makeRequest(t,o,i,l,h=!0){if(this._deleted)return new qX(WP());{const m=rZ(t,this._appId,i,l,o,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,o){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,o,i,l).getPromise()}}const BM="@firebase/storage",LM="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="storage";function aZ(n=$A(),t){n=vs(n);const i=bk(n,KP).getImmediate({identifier:t}),l=wR("storage");return l&&lZ(i,...l),i}function lZ(n,t,o,i={}){oZ(n,t,o,i)}function cZ(n,{instanceIdentifier:t}){const o=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),l=n.getProvider("app-check-internal");return new iZ(o,i,l,t,Om)}function dZ(){Nm(new Au(KP,cZ,"PUBLIC").setMultipleInstances(!0)),Ml(BM,LM,""),Ml(BM,LM,"esm2017")}dZ();const uZ={apiKey:"AIzaSyDsPZsRwk4uFh7r-IN8NCzAca_mxPe67OE",authDomain:"anandmobiles-daa8b.firebaseapp.com",projectId:"anandmobiles-daa8b",storageBucket:"anandmobiles-daa8b.firebasestorage.app",messagingSenderId:"403268549781",appId:"1:403268549781:web:4aa820dddb7db1fa076f9c",measurementId:"G-PQSMJKJFFS"},W2=jR(uZ),db=xK(W2),hZ=new zc,bu=gX(W2);aZ(W2);const QP=n=>{try{const t=localStorage.getItem(n);return t?JSON.parse(t):null}catch(t){return console.error(`Error parsing stored data for key ${n}:`,t),null}},ub=(n,t)=>{try{return localStorage.setItem(n,JSON.stringify(t)),!0}catch(o){return console.error(`Error storing data for key ${n}:`,o),!1}},t_=(n,t)=>{try{return n&&localStorage.setItem(_m,n),t&&ub(Lc,t),!0}catch(o){return console.error("Error persisting auth data:",o),!1}},r_=()=>{try{localStorage.removeItem(_m),localStorage.removeItem(Lc)}catch(n){console.error("Error clearing auth data:",n)}},mZ=()=>{const n=localStorage.getItem(_m),t=QP(Lc);return{user:t,isAuthenticated:!!(n&&t),isLoading:!1,error:null}},br=un(n=>({...mZ(),login:async t=>{var o,i,l,h;try{n({isLoading:!0,error:null});const g=(await $t.post("/users/login",{email:t.email,password:t.password})).data,y={uid:g.user_id,email:g.email,first_name:g.first_name,last_name:g.last_name,phone:g.phone_number||g.phone||""};return t_(g.token,y),n({user:y,isAuthenticated:!0,isLoading:!1}),g}catch(m){throw n({error:((i=(o=m.response)==null?void 0:o.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Login failed. Please check your credentials.",isLoading:!1}),m}},signup:async t=>{var o,i,l,h;try{if(n({isLoading:!0,error:null}),t.idToken){const _=(await $t.post("/users/signup",{idToken:t.idToken})).data,N={uid:_.user_id,email:_.email,first_name:_.first_name,last_name:_.last_name,phone:_.phone_number||""};return t_(_.token,N),n({user:N,isAuthenticated:!0,isLoading:!1}),_}const m={email:t.email,password:t.password,first_name:t.firstName||t.first_name||"",last_name:t.lastName||t.last_name||"",phone_number:t.phone||t.phone_number||""};t.metadata&&(m.metadata=t.metadata);const y=(await $t.post("/users/signup",m)).data,w={uid:y.user_id,email:y.email,first_name:y.first_name,last_name:y.last_name,phone:y.phone_number||m.phone_number||""};return t_(y.token,w),n({user:w,isAuthenticated:!0,isLoading:!1}),y}catch(m){throw n({error:((i=(o=m.response)==null?void 0:o.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Signup failed. Please try again.",isLoading:!1}),m}},googleSignup:async()=>{var t,o,i,l;try{n({isLoading:!0,error:null});const g=await(await SW(db,hZ)).user.getIdToken();return await br.getState().signup({idToken:g})}catch(h){throw n({error:((o=(t=h.response)==null?void 0:t.data)==null?void 0:o.detail)||((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Google signup failed. Please try again.",isLoading:!1}),h}},logout:()=>{r_(),n({user:null,isAuthenticated:!1,error:null,isLoading:!1})},checkAuthStatus:async()=>{try{if(n({isLoading:!0}),localStorage.getItem(_m))try{let o=QP(Lc);if(!o){const i=await $t.get("/users/profile/");o={uid:i.data.user_id||i.data.uid,email:i.data.email,first_name:i.data.first_name,last_name:i.data.last_name,phone:i.data.phone_number||i.data.phone||""},ub(Lc,o)}return n({user:o,isAuthenticated:!0,isLoading:!1}),o}catch(o){return r_(),n({user:null,isAuthenticated:!1,isLoading:!1,error:o.message||"Session expired"}),null}else return n({user:null,isAuthenticated:!1,isLoading:!1}),null}catch(t){return r_(),n({user:null,isAuthenticated:!1,isLoading:!1,error:t.message||"Session expired"}),null}},updateUserProfile:t=>{const o=br.getState().user;if(!o)return;const i={...o,...t};ub(Lc,i),n({user:i})},fetchUserProfile:async()=>{var t,o;try{n({isLoading:!0,error:null});const l=(await $t.get("/users/profile/")).data,h={uid:l.user_id||l.uid,email:l.email,first_name:l.first_name,last_name:l.last_name,phone:l.phone_number||l.phone||"",auth_provider:l.auth_provider};return ub(Lc,h),n({user:h,isLoading:!1}),h}catch(i){throw n({error:((o=(t=i.response)==null?void 0:t.data)==null?void 0:o.error)||"Failed to fetch profile",isLoading:!1}),i}},updateUserProfileAPI:async t=>{var o,i,l,h;try{n({isLoading:!0,error:null});const m=await $t.post("/users/profile/update/",t),g=m.data.user,y={uid:g.user_id||((o=br.getState().user)==null?void 0:o.uid),email:g.email,first_name:g.first_name,last_name:g.last_name,phone:g.phone_number||g.phone||"",auth_provider:(i=br.getState().user)==null?void 0:i.auth_provider};return ub(Lc,y),n({user:y,isLoading:!1}),{success:!0,message:m.data.message,user:y}}catch(m){throw n({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update profile",isLoading:!1}),m}},getToken:()=>{try{return localStorage.getItem(_m)}catch(t){return console.error("Error getting token:",t),null}},clearError:()=>n({error:null})}));function zb(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function Fl(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(n)}function xm(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function Fk(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(n)}function qc(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function JP(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function Vk(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(n)}function pZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(n)}function _u(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function XP(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(n)}function Tu(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(n)}function Lo(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(n)}function K2(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(n)}function On(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function Kn(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function ii(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(n)}function Oa(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(n)}function _n(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(n)}function Sl(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(n)}function Zr(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function Vi(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(n)}function vm(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(n)}function ui(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(n)}function Vm(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function $w(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}function Fb(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(n)}function Gi(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function fZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(n)}function gZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"},child:[]}]})(n)}function ZP(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function nd(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function Q2(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(n)}function $P(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(n)}function eO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(n)}function Xf(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(n)}function J2(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function yZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(n)}function Mm(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(n)}function bZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(n)}function xZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(n)}function vZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(n)}function wZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(n)}function hi(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(n)}function Yc(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function tO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function sd(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function An(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(n)}function kZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(n)}function CZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(n)}function rO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function _Z(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(n)}function AZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(n)}function nO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(n)}function NZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(n)}function bt(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(n)}function jZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(n)}function Ba(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(n)}function sO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(n)}function yw(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(n)}function Yn(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function Va(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(n)}function oO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(n)}function Tm(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function mi(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function iO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(n)}function aO(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function SZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(n)}function ek(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(n)}function La(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(n)}function Zf(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function EZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(n)}function Gr(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function zM(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}function DZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(n)}function MZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(n)}function ai(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(n)}function li(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(n)}function on(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function TZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(n)}function px(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function Er(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(n)}function IZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(n)}function FM(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(n)}function Vb(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(n)}function VM(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(n)}function Uk(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(n)}function xs(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function ed(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(n)}function fx(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(n)}function qt(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}function RZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(n)}function PZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(n)}function OZ(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(n)}function lO(n){return Oe({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const BZ=()=>{const n=as(),{signup:t,googleSignup:o,error:i,clearError:l,isLoading:h}=br(),[m,g]=z.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[y,w]=z.useState({}),[k,_]=z.useState({}),N=V=>{const{name:G,value:Y}=V.target;g(ee=>({...ee,[G]:Y})),y[G]&&w(ee=>({...ee,[G]:""})),i&&l()},D=()=>{const V={};return m.firstName.trim()||(V.firstName="First name is required"),m.lastName.trim()||(V.lastName="Last name is required"),m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required",m.password?m.password.length<6&&(V.password="Password must be at least 6 characters long"):V.password="Password is required",m.password!==m.confirmPassword&&(V.confirmPassword="Passwords do not match"),m.phone.trim()?/^\d{10}$/.test(m.phone)||(V.phone="Invalid phone number"):V.phone="Phone number is required",w(V),Object.keys(V).length===0},T=z.useCallback(()=>{const V={};k.firstName&&!m.firstName.trim()&&(V.firstName="First name is required"),k.lastName&&!m.lastName.trim()&&(V.lastName="Last name is required"),k.email&&(m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required"),k.password&&(m.password?m.password.length<6&&(V.password="Password must be at least 6 characters long"):V.password="Password is required"),k.confirmPassword&&m.password!==m.confirmPassword&&(V.confirmPassword="Passwords do not match"),k.phone&&(m.phone.trim()?/^\d{10}$/.test(m.phone)||(V.phone="Invalid phone number"):V.phone="Phone number is required"),w(V)},[m,k]);z.useEffect(()=>{T()},[m,k,T]);const R=V=>{const{name:G}=V.target;_(Y=>({...Y,[G]:!0}))},P=async V=>{if(V.preventDefault(),!!D())try{const G={email:m.email,password:m.password,firstName:m.firstName,lastName:m.lastName,phone:m.phone},Y=await t(G);console.log("Signup successful:",Y),n("/")}catch(G){console.error("Signup error:",G)}},F=async()=>{try{const V=await o();console.log("Google signup successful:",V),n("/")}catch(V){console.error("Google signup error:",V)}};return r.jsxs(Rm,{title:"Join Anand Mobiles",titleColor:"var(--brand-primary)",children:[r.jsx("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Create an account to enjoy a personalized shopping experience"}),r.jsxs("form",{className:"mt-7 space-y-5",onSubmit:P,children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mr-12 -mt-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-primary)"}}),r.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 -ml-12 -mb-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-secondary)"}}),r.jsxs("div",{className:"space-y-4 relative z-10",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Br,{label:"First Name",name:"firstName",value:m.firstName,onChange:N,onBlur:R,required:!0,error:y.firstName,placeholder:"John",icon:r.jsx(xs,{})}),r.jsx(Br,{label:"Last Name",name:"lastName",value:m.lastName,onChange:N,onBlur:R,required:!0,error:y.lastName,placeholder:"Doe",icon:r.jsx(xs,{})})]}),r.jsx(Br,{label:"Email Address",type:"email",name:"email",value:m.email,onChange:N,onBlur:R,required:!0,error:y.email,placeholder:"you@example.com",icon:r.jsx(sd,{})}),r.jsx(Br,{label:"Phone Number",type:"tel",name:"phone",value:m.phone,onChange:N,onBlur:R,required:!0,error:y.phone,placeholder:"1234567890",icon:r.jsx(Ba,{})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Br,{label:"Password",type:"password",name:"password",value:m.password,onChange:N,onBlur:R,required:!0,error:y.password,placeholder:"",icon:r.jsx(Yc,{})}),r.jsx(Br,{label:"Confirm Password",type:"password",name:"confirmPassword",value:m.confirmPassword,onChange:N,onBlur:R,required:!0,error:y.confirmPassword,placeholder:"",icon:r.jsx(Yc,{})})]})]}),i&&r.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)",borderRadius:"var(--rounded-md)"},children:[r.jsx(Fl,{className:"h-5 w-5 mr-2"}),i]}),r.jsx("div",{className:"pt-2 mt-2",children:r.jsx(tt,{type:"submit",isLoading:h,variant:"primary",size:"lg",fullWidth:!0,children:h?"Creating account...":"Create account"})}),r.jsxs("div",{className:"relative my-5",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:"or continue with"})})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{type:"button",onClick:F,className:"flex items-center justify-center py-3 px-6 border rounded-md hover:shadow-md transition-all duration-300",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsx(lO,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})}),r.jsxs("div",{className:"text-sm text-center mt-6",style:{color:"var(--text-secondary)"},children:["Already have an account?",r.jsx(nt,{to:"/login",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Sign in"})]}),r.jsxs("div",{className:"text-xs text-center mt-4",style:{color:"var(--text-secondary)"},children:["By creating an account, you agree to our",r.jsx("br",{}),r.jsx(nt,{to:"/terms",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Terms of Service"}),"&",r.jsx(nt,{to:"/privacy",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Privacy Policy"})]})]})]})},LZ=()=>{const n=as(),{login:t,googleSignup:o,error:i,clearError:l,isLoading:h}=br(),[m,g]=z.useState({email:"",password:""}),[y,w]=z.useState({}),[k,_]=z.useState({email:!1,password:!1}),N=z.useCallback(()=>{const V={};k.email&&(m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required"),k.password&&!m.password&&(V.password="Password is required"),w(V)},[m.email,m.password,k]);z.useEffect(()=>{N()},[m,k,N]);const D=V=>{const{name:G,value:Y}=V.target;g(ee=>({...ee,[G]:Y})),y[G]&&w(ee=>({...ee,[G]:""})),i&&l()},T=V=>{const{name:G}=V.target;_(Y=>({...Y,[G]:!0}))},R=()=>{const V={};return m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(V.email="Invalid email address"):V.email="Email is required",m.password||(V.password="Password is required"),w(V),Object.keys(V).length===0},P=async V=>{if(V.preventDefault(),!!R())try{const G=await t({email:m.email,password:m.password});console.log("Login successful:",G),n("/")}catch(G){console.error("Login error:",G)}},F=async()=>{try{const V=await o();console.log("Google login successful:",V),n("/")}catch(V){console.error("Google login error:",V)}};return r.jsxs(Rm,{title:"Welcome back",titleColor:"var(--brand-primary)",children:[r.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Sign in to access your account, track orders, and explore our latest products"}),r.jsxs("div",{className:"mt-8",children:[r.jsx("div",{className:"bg-white rounded-lg p-6",style:{boxShadow:"var(--shadow-small)",borderRadius:"var(--rounded-lg)"},children:r.jsxs("form",{className:"space-y-6",onSubmit:P,children:[r.jsxs("div",{className:"space-y-5",children:[r.jsx(Br,{label:"Email Address",type:"email",name:"email",value:m.email,onChange:D,onBlur:T,required:!0,error:y.email,placeholder:"you@example.com",icon:r.jsx(sd,{})}),r.jsx(Br,{label:"Password",type:"password",name:"password",value:m.password,onChange:D,onBlur:T,required:!0,error:y.password,placeholder:"",icon:r.jsx(Yc,{})})]}),i&&r.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:[r.jsx(Fl,{className:"h-5 w-5 mr-2"}),i]}),r.jsx("div",{className:"pt-2",children:r.jsx(tt,{type:"submit",isLoading:h,variant:"primary",size:"lg",fullWidth:!0,children:h?"Signing in...":"Sign in"})})]})}),r.jsxs("div",{className:"relative my-8",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white rounded",style:{color:"var(--text-secondary)"},children:"or continue with"})})]}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("button",{type:"button",onClick:F,className:"flex justify-center items-center py-3 px-6 border rounded-md shadow-sm text-sm font-medium transition-colors duration-200",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx(lO,{className:"h-5 w-5 mr-2"}),"Google"]})}),r.jsxs("div",{className:"text-sm text-center mt-8 pb-4",children:["Don't have an account ? ",r.jsx("br",{}),r.jsx(nt,{to:"/signup",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Create an account"})]})]})]})},X2=z.createContext({});function Z2(n){const t=z.useRef(null);return t.current===null&&(t.current=n()),t.current}const $2=typeof window<"u",cO=$2?z.useLayoutEffect:z.useEffect,Gk=z.createContext(null);function eN(n,t){n.indexOf(t)===-1&&n.push(t)}function tN(n,t){const o=n.indexOf(t);o>-1&&n.splice(o,1)}const td=(n,t,o)=>o>t?t:o<n?n:o;let rN=()=>{};const rd={},dO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function uO(n){return typeof n=="object"&&n!==null}const hO=n=>/^0[^.\s]+$/u.test(n);function nN(n){let t;return()=>(t===void 0&&(t=n()),t)}const Li=n=>n,zZ=(n,t)=>o=>t(n(o)),gx=(...n)=>n.reduce(zZ),Ub=(n,t,o)=>{const i=t-n;return i===0?1:(o-n)/i};class sN{constructor(){this.subscriptions=[]}add(t){return eN(this.subscriptions,t),()=>tN(this.subscriptions,t)}notify(t,o,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,o,i);else for(let h=0;h<l;h++){const m=this.subscriptions[h];m&&m(t,o,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pl=n=>n*1e3,Ol=n=>n/1e3;function mO(n,t){return t?n*(1e3/t):0}const pO=(n,t,o)=>(((1-3*o+3*t)*n+(3*o-6*t))*n+3*t)*n,FZ=1e-7,VZ=12;function UZ(n,t,o,i,l){let h,m,g=0;do m=t+(o-t)/2,h=pO(m,i,l)-n,h>0?o=m:t=m;while(Math.abs(h)>FZ&&++g<VZ);return m}function yx(n,t,o,i){if(n===t&&o===i)return Li;const l=h=>UZ(h,0,1,n,o);return h=>h===0||h===1?h:pO(l(h),t,i)}const fO=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,gO=n=>t=>1-n(1-t),yO=yx(.33,1.53,.69,.99),oN=gO(yO),bO=fO(oN),xO=n=>(n*=2)<1?.5*oN(n):.5*(2-Math.pow(2,-10*(n-1))),iN=n=>1-Math.sin(Math.acos(n)),vO=gO(iN),wO=fO(iN),GZ=yx(.42,0,1,1),HZ=yx(0,0,.58,1),kO=yx(.42,0,.58,1),qZ=n=>Array.isArray(n)&&typeof n[0]!="number",CO=n=>Array.isArray(n)&&typeof n[0]=="number",YZ={linear:Li,easeIn:GZ,easeInOut:kO,easeOut:HZ,circIn:iN,circInOut:wO,circOut:vO,backIn:oN,backInOut:bO,backOut:yO,anticipate:xO},WZ=n=>typeof n=="string",UM=n=>{if(CO(n)){rN(n.length===4);const[t,o,i,l]=n;return yx(t,o,i,l)}else if(WZ(n))return YZ[n];return n},Y0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],GM={value:null};function KZ(n,t){let o=new Set,i=new Set,l=!1,h=!1;const m=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1},y=0;function w(_){m.has(_)&&(k.schedule(_),n()),y++,_(g)}const k={schedule:(_,N=!1,D=!1)=>{const R=D&&l?o:i;return N&&m.add(_),R.has(_)||R.add(_),_},cancel:_=>{i.delete(_),m.delete(_)},process:_=>{if(g=_,l){h=!0;return}l=!0,[o,i]=[i,o],o.forEach(w),t&&GM.value&&GM.value.frameloop[t].push(y),y=0,o.clear(),l=!1,h&&(h=!1,k.process(_))}};return k}const QZ=40;function _O(n,t){let o=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},h=()=>o=!0,m=Y0.reduce((G,Y)=>(G[Y]=KZ(h,t?Y:void 0),G),{}),{setup:g,read:y,resolveKeyframes:w,preUpdate:k,update:_,preRender:N,render:D,postRender:T}=m,R=()=>{const G=rd.useManualTiming?l.timestamp:performance.now();o=!1,rd.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(G-l.timestamp,QZ),1)),l.timestamp=G,l.isProcessing=!0,g.process(l),y.process(l),w.process(l),k.process(l),_.process(l),N.process(l),D.process(l),T.process(l),l.isProcessing=!1,o&&t&&(i=!1,n(R))},P=()=>{o=!0,i=!0,l.isProcessing||n(R)};return{schedule:Y0.reduce((G,Y)=>{const ee=m[Y];return G[Y]=(le,J=!1,B=!1)=>(o||P(),ee.schedule(le,J,B)),G},{}),cancel:G=>{for(let Y=0;Y<Y0.length;Y++)m[Y0[Y]].cancel(G)},state:l,steps:m}}const{schedule:ln,cancel:Iu,state:Ds,steps:n_}=_O(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let bw;function JZ(){bw=void 0}const Po={now:()=>(bw===void 0&&Po.set(Ds.isProcessing||rd.useManualTiming?Ds.timestamp:performance.now()),bw),set:n=>{bw=n,queueMicrotask(JZ)}},AO=n=>t=>typeof t=="string"&&t.startsWith(n),aN=AO("--"),XZ=AO("var(--"),lN=n=>XZ(n)?ZZ.test(n.split("/*")[0].trim()):!1,ZZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$f={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Gb={...$f,transform:n=>td(0,1,n)},W0={...$f,default:1},kb=n=>Math.round(n*1e5)/1e5,cN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $Z(n){return n==null}const e$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dN=(n,t)=>o=>!!(typeof o=="string"&&e$.test(o)&&o.startsWith(n)||t&&!$Z(o)&&Object.prototype.hasOwnProperty.call(o,t)),NO=(n,t,o)=>i=>{if(typeof i!="string")return i;const[l,h,m,g]=i.match(cN);return{[n]:parseFloat(l),[t]:parseFloat(h),[o]:parseFloat(m),alpha:g!==void 0?parseFloat(g):1}},t$=n=>td(0,255,n),s_={...$f,transform:n=>Math.round(t$(n))},fm={test:dN("rgb","red"),parse:NO("red","green","blue"),transform:({red:n,green:t,blue:o,alpha:i=1})=>"rgba("+s_.transform(n)+", "+s_.transform(t)+", "+s_.transform(o)+", "+kb(Gb.transform(i))+")"};function r$(n){let t="",o="",i="",l="";return n.length>5?(t=n.substring(1,3),o=n.substring(3,5),i=n.substring(5,7),l=n.substring(7,9)):(t=n.substring(1,2),o=n.substring(2,3),i=n.substring(3,4),l=n.substring(4,5),t+=t,o+=o,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(o,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const mA={test:dN("#"),parse:r$,transform:fm.transform},bx=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),mu=bx("deg"),Bl=bx("%"),Ct=bx("px"),n$=bx("vh"),s$=bx("vw"),HM={...Bl,parse:n=>Bl.parse(n)/100,transform:n=>Bl.transform(n*100)},vf={test:dN("hsl","hue"),parse:NO("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:o,alpha:i=1})=>"hsla("+Math.round(n)+", "+Bl.transform(kb(t))+", "+Bl.transform(kb(o))+", "+kb(Gb.transform(i))+")"},qn={test:n=>fm.test(n)||mA.test(n)||vf.test(n),parse:n=>fm.test(n)?fm.parse(n):vf.test(n)?vf.parse(n):mA.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fm.transform(n):vf.transform(n),getAnimatableNone:n=>{const t=qn.parse(n);return t.alpha=0,qn.transform(t)}},o$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i$(n){var t,o;return isNaN(n)&&typeof n=="string"&&(((t=n.match(cN))==null?void 0:t.length)||0)+(((o=n.match(o$))==null?void 0:o.length)||0)>0}const jO="number",SO="color",a$="var",l$="var(",qM="${}",c$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hb(n){const t=n.toString(),o=[],i={color:[],number:[],var:[]},l=[];let h=0;const g=t.replace(c$,y=>(qn.test(y)?(i.color.push(h),l.push(SO),o.push(qn.parse(y))):y.startsWith(l$)?(i.var.push(h),l.push(a$),o.push(y)):(i.number.push(h),l.push(jO),o.push(parseFloat(y))),++h,qM)).split(qM);return{values:o,split:g,indexes:i,types:l}}function EO(n){return Hb(n).values}function DO(n){const{split:t,types:o}=Hb(n),i=t.length;return l=>{let h="";for(let m=0;m<i;m++)if(h+=t[m],l[m]!==void 0){const g=o[m];g===jO?h+=kb(l[m]):g===SO?h+=qn.transform(l[m]):h+=l[m]}return h}}const d$=n=>typeof n=="number"?0:qn.test(n)?qn.getAnimatableNone(n):n;function u$(n){const t=EO(n);return DO(n)(t.map(d$))}const Ru={test:i$,parse:EO,createTransformer:DO,getAnimatableNone:u$};function o_(n,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?n+(t-n)*6*o:o<1/2?t:o<2/3?n+(t-n)*(2/3-o)*6:n}function h$({hue:n,saturation:t,lightness:o,alpha:i}){n/=360,t/=100,o/=100;let l=0,h=0,m=0;if(!t)l=h=m=o;else{const g=o<.5?o*(1+t):o+t-o*t,y=2*o-g;l=o_(y,g,n+1/3),h=o_(y,g,n),m=o_(y,g,n-1/3)}return{red:Math.round(l*255),green:Math.round(h*255),blue:Math.round(m*255),alpha:i}}function tk(n,t){return o=>o>0?t:n}const an=(n,t,o)=>n+(t-n)*o,i_=(n,t,o)=>{const i=n*n,l=o*(t*t-i)+i;return l<0?0:Math.sqrt(l)},m$=[mA,fm,vf],p$=n=>m$.find(t=>t.test(n));function YM(n){const t=p$(n);if(!t)return!1;let o=t.parse(n);return t===vf&&(o=h$(o)),o}const WM=(n,t)=>{const o=YM(n),i=YM(t);if(!o||!i)return tk(n,t);const l={...o};return h=>(l.red=i_(o.red,i.red,h),l.green=i_(o.green,i.green,h),l.blue=i_(o.blue,i.blue,h),l.alpha=an(o.alpha,i.alpha,h),fm.transform(l))},pA=new Set(["none","hidden"]);function f$(n,t){return pA.has(n)?o=>o<=0?n:t:o=>o>=1?t:n}function g$(n,t){return o=>an(n,t,o)}function uN(n){return typeof n=="number"?g$:typeof n=="string"?lN(n)?tk:qn.test(n)?WM:x$:Array.isArray(n)?MO:typeof n=="object"?qn.test(n)?WM:y$:tk}function MO(n,t){const o=[...n],i=o.length,l=n.map((h,m)=>uN(h)(h,t[m]));return h=>{for(let m=0;m<i;m++)o[m]=l[m](h);return o}}function y$(n,t){const o={...n,...t},i={};for(const l in o)n[l]!==void 0&&t[l]!==void 0&&(i[l]=uN(n[l])(n[l],t[l]));return l=>{for(const h in i)o[h]=i[h](l);return o}}function b$(n,t){const o=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const h=t.types[l],m=n.indexes[h][i[h]],g=n.values[m]??0;o[l]=g,i[h]++}return o}const x$=(n,t)=>{const o=Ru.createTransformer(t),i=Hb(n),l=Hb(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?pA.has(n)&&!l.values.length||pA.has(t)&&!i.values.length?f$(n,t):gx(MO(b$(i,l),l.values),o):tk(n,t)};function TO(n,t,o){return typeof n=="number"&&typeof t=="number"&&typeof o=="number"?an(n,t,o):uN(n)(n,t)}const v$=n=>{const t=({timestamp:o})=>n(o);return{start:(o=!0)=>ln.update(t,o),stop:()=>Iu(t),now:()=>Ds.isProcessing?Ds.timestamp:Po.now()}},IO=(n,t,o=10)=>{let i="";const l=Math.max(Math.round(t/o),2);for(let h=0;h<l;h++)i+=Math.round(n(h/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},rk=2e4;function hN(n){let t=0;const o=50;let i=n.next(t);for(;!i.done&&t<rk;)t+=o,i=n.next(t);return t>=rk?1/0:t}function w$(n,t=100,o){const i=o({...n,keyframes:[0,t]}),l=Math.min(hN(i),rk);return{type:"keyframes",ease:h=>i.next(l*h).value/t,duration:Ol(l)}}const k$=5;function RO(n,t,o){const i=Math.max(t-k$,0);return mO(o-n(i),t-i)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a_=.001;function C$({duration:n=Cn.duration,bounce:t=Cn.bounce,velocity:o=Cn.velocity,mass:i=Cn.mass}){let l,h,m=1-t;m=td(Cn.minDamping,Cn.maxDamping,m),n=td(Cn.minDuration,Cn.maxDuration,Ol(n)),m<1?(l=w=>{const k=w*m,_=k*n,N=k-o,D=fA(w,m),T=Math.exp(-_);return a_-N/D*T},h=w=>{const _=w*m*n,N=_*o+o,D=Math.pow(m,2)*Math.pow(w,2)*n,T=Math.exp(-_),R=fA(Math.pow(w,2),m);return(-l(w)+a_>0?-1:1)*((N-D)*T)/R}):(l=w=>{const k=Math.exp(-w*n),_=(w-o)*n+1;return-a_+k*_},h=w=>{const k=Math.exp(-w*n),_=(o-w)*(n*n);return k*_});const g=5/n,y=A$(l,h,g);if(n=Pl(n),isNaN(y))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:n};{const w=Math.pow(y,2)*i;return{stiffness:w,damping:m*2*Math.sqrt(i*w),duration:n}}}const _$=12;function A$(n,t,o){let i=o;for(let l=1;l<_$;l++)i=i-n(i)/t(i);return i}function fA(n,t){return n*Math.sqrt(1-t*t)}const N$=["duration","bounce"],j$=["stiffness","damping","mass"];function KM(n,t){return t.some(o=>n[o]!==void 0)}function S$(n){let t={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...n};if(!KM(n,j$)&&KM(n,N$))if(n.visualDuration){const o=n.visualDuration,i=2*Math.PI/(o*1.2),l=i*i,h=2*td(.05,1,1-(n.bounce||0))*Math.sqrt(l);t={...t,mass:Cn.mass,stiffness:l,damping:h}}else{const o=C$(n);t={...t,...o,mass:Cn.mass},t.isResolvedFromDuration=!0}return t}function nk(n=Cn.visualDuration,t=Cn.bounce){const o=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:l}=o;const h=o.keyframes[0],m=o.keyframes[o.keyframes.length-1],g={done:!1,value:h},{stiffness:y,damping:w,mass:k,duration:_,velocity:N,isResolvedFromDuration:D}=S$({...o,velocity:-Ol(o.velocity||0)}),T=N||0,R=w/(2*Math.sqrt(y*k)),P=m-h,F=Ol(Math.sqrt(y/k)),V=Math.abs(P)<5;i||(i=V?Cn.restSpeed.granular:Cn.restSpeed.default),l||(l=V?Cn.restDelta.granular:Cn.restDelta.default);let G;if(R<1){const ee=fA(F,R);G=le=>{const J=Math.exp(-R*F*le);return m-J*((T+R*F*P)/ee*Math.sin(ee*le)+P*Math.cos(ee*le))}}else if(R===1)G=ee=>m-Math.exp(-F*ee)*(P+(T+F*P)*ee);else{const ee=F*Math.sqrt(R*R-1);G=le=>{const J=Math.exp(-R*F*le),B=Math.min(ee*le,300);return m-J*((T+R*F*P)*Math.sinh(B)+ee*P*Math.cosh(B))/ee}}const Y={calculatedDuration:D&&_||null,next:ee=>{const le=G(ee);if(D)g.done=ee>=_;else{let J=ee===0?T:0;R<1&&(J=ee===0?Pl(T):RO(G,ee,le));const B=Math.abs(J)<=i,W=Math.abs(m-le)<=l;g.done=B&&W}return g.value=g.done?m:le,g},toString:()=>{const ee=Math.min(hN(Y),rk),le=IO(J=>Y.next(ee*J).value,ee,30);return ee+"ms "+le},toTransition:()=>{}};return Y}nk.applyToOptions=n=>{const t=w$(n,100,nk);return n.ease=t.ease,n.duration=Pl(t.duration),n.type="keyframes",n};function gA({keyframes:n,velocity:t=0,power:o=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:h=500,modifyTarget:m,min:g,max:y,restDelta:w=.5,restSpeed:k}){const _=n[0],N={done:!1,value:_},D=B=>g!==void 0&&B<g||y!==void 0&&B>y,T=B=>g===void 0?y:y===void 0||Math.abs(g-B)<Math.abs(y-B)?g:y;let R=o*t;const P=_+R,F=m===void 0?P:m(P);F!==P&&(R=F-_);const V=B=>-R*Math.exp(-B/i),G=B=>F+V(B),Y=B=>{const W=V(B),Z=G(B);N.done=Math.abs(W)<=w,N.value=N.done?F:Z};let ee,le;const J=B=>{D(N.value)&&(ee=B,le=nk({keyframes:[N.value,T(N.value)],velocity:RO(G,B,N.value),damping:l,stiffness:h,restDelta:w,restSpeed:k}))};return J(0),{calculatedDuration:null,next:B=>{let W=!1;return!le&&ee===void 0&&(W=!0,Y(B),J(B)),ee!==void 0&&B>=ee?le.next(B-ee):(!W&&Y(B),N)}}}function E$(n,t,o){const i=[],l=o||rd.mix||TO,h=n.length-1;for(let m=0;m<h;m++){let g=l(n[m],n[m+1]);if(t){const y=Array.isArray(t)?t[m]||Li:t;g=gx(y,g)}i.push(g)}return i}function D$(n,t,{clamp:o=!0,ease:i,mixer:l}={}){const h=n.length;if(rN(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const m=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),t=[...t].reverse());const g=E$(t,i,l),y=g.length,w=k=>{if(m&&k<n[0])return t[0];let _=0;if(y>1)for(;_<n.length-2&&!(k<n[_+1]);_++);const N=Ub(n[_],n[_+1],k);return g[_](N)};return o?k=>w(td(n[0],n[h-1],k)):w}function M$(n,t){const o=n[n.length-1];for(let i=1;i<=t;i++){const l=Ub(0,t,i);n.push(an(o,1,l))}}function T$(n){const t=[0];return M$(t,n.length-1),t}function I$(n,t){return n.map(o=>o*t)}function R$(n,t){return n.map(()=>t||kO).splice(0,n.length-1)}function Cb({duration:n=300,keyframes:t,times:o,ease:i="easeInOut"}){const l=qZ(i)?i.map(UM):UM(i),h={done:!1,value:t[0]},m=I$(o&&o.length===t.length?o:T$(t),n),g=D$(m,t,{ease:Array.isArray(l)?l:R$(t,l)});return{calculatedDuration:n,next:y=>(h.value=g(y),h.done=y>=n,h)}}const P$=n=>n!==null;function mN(n,{repeat:t,repeatType:o="loop"},i,l=1){const h=n.filter(P$),g=l<0||t&&o!=="loop"&&t%2===1?0:h.length-1;return!g||i===void 0?h[g]:i}const O$={decay:gA,inertia:gA,tween:Cb,keyframes:Cb,spring:nk};function PO(n){typeof n.type=="string"&&(n.type=O$[n.type])}class pN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,o){return this.finished.then(t,o)}}const B$=n=>n/100;class fN extends pN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,l;const{motionValue:o}=this.options;o&&o.updatedAt!==Po.now()&&this.tick(Po.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(i=this.options).onStop)==null||l.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;PO(t);const{type:o=Cb,repeat:i=0,repeatDelay:l=0,repeatType:h,velocity:m=0}=t;let{keyframes:g}=t;const y=o||Cb;y!==Cb&&typeof g[0]!="number"&&(this.mixKeyframes=gx(B$,TO(g[0],g[1])),g=[0,100]);const w=y({...t,keyframes:g});h==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...g].reverse(),velocity:-m})),w.calculatedDuration===null&&(w.calculatedDuration=hN(w));const{calculatedDuration:k}=w;this.calculatedDuration=k,this.resolvedDuration=k+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=w}updateTime(t){const o=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(t,o=!1){const{generator:i,totalDuration:l,mixKeyframes:h,mirroredGenerator:m,resolvedDuration:g,calculatedDuration:y}=this;if(this.startTime===null)return i.next(0);const{delay:w=0,keyframes:k,repeat:_,repeatType:N,repeatDelay:D,type:T,onUpdate:R,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),o?this.currentTime=t:this.updateTime(t);const F=this.currentTime-w*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?F<0:F>l;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let G=this.currentTime,Y=i;if(_){const B=Math.min(this.currentTime,l)/g;let W=Math.floor(B),Z=B%1;!Z&&B>=1&&(Z=1),Z===1&&W--,W=Math.min(W,_+1),!!(W%2)&&(N==="reverse"?(Z=1-Z,D&&(Z-=D/g)):N==="mirror"&&(Y=m)),G=td(0,1,Z)*g}const ee=V?{done:!1,value:k[0]}:Y.next(G);h&&(ee.value=h(ee.value));let{done:le}=ee;!V&&y!==null&&(le=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return J&&T!==gA&&(ee.value=mN(k,this.options,P,this.speed)),R&&R(ee.value),J&&this.finish(),ee}then(t,o){return this.finished.then(t,o)}get duration(){return Ol(this.calculatedDuration)}get time(){return Ol(this.currentTime)}set time(t){var o;t=Pl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(o=this.driver)==null||o.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Po.now());const o=this.playbackSpeed!==t;this.playbackSpeed=t,o&&(this.time=Ol(this.currentTime))}play(){var l,h;if(this.isStopped)return;const{driver:t=v$,startTime:o}=this.options;this.driver||(this.driver=t(m=>this.tick(m))),(h=(l=this.options).onPlay)==null||h.call(l);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=o??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Po.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,o;this.notifyFinished(),this.teardown(),this.state="finished",(o=(t=this.options).onComplete)==null||o.call(t)}cancel(){var t,o;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(o=(t=this.options).onCancel)==null||o.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var o;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(o=this.driver)==null||o.stop(),t.observe(this)}}function L$(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const gm=n=>n*180/Math.PI,yA=n=>{const t=gm(Math.atan2(n[1],n[0]));return bA(t)},z$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:yA,rotateZ:yA,skewX:n=>gm(Math.atan(n[1])),skewY:n=>gm(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},bA=n=>(n=n%360,n<0&&(n+=360),n),QM=yA,JM=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),XM=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),F$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JM,scaleY:XM,scale:n=>(JM(n)+XM(n))/2,rotateX:n=>bA(gm(Math.atan2(n[6],n[5]))),rotateY:n=>bA(gm(Math.atan2(-n[2],n[0]))),rotateZ:QM,rotate:QM,skewX:n=>gm(Math.atan(n[4])),skewY:n=>gm(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function xA(n){return n.includes("scale")?1:0}function vA(n,t){if(!n||n==="none")return xA(t);const o=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(o)i=F$,l=o;else{const g=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=z$,l=g}if(!l)return xA(t);const h=i[t],m=l[1].split(",").map(U$);return typeof h=="function"?h(m):m[h]}const V$=(n,t)=>{const{transform:o="none"}=getComputedStyle(n);return vA(o,t)};function U$(n){return parseFloat(n.trim())}const eg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tg=new Set(eg),ZM=n=>n===$f||n===Ct,G$=new Set(["x","y","z"]),H$=eg.filter(n=>!G$.has(n));function q$(n){const t=[];return H$.forEach(o=>{const i=n.getValue(o);i!==void 0&&(t.push([o,i.get()]),i.set(o.startsWith("scale")?1:0))}),t}const wm={width:({x:n},{paddingLeft:t="0",paddingRight:o="0"})=>n.max-n.min-parseFloat(t)-parseFloat(o),height:({y:n},{paddingTop:t="0",paddingBottom:o="0"})=>n.max-n.min-parseFloat(t)-parseFloat(o),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>vA(t,"x"),y:(n,{transform:t})=>vA(t,"y")};wm.translateX=wm.x;wm.translateY=wm.y;const km=new Set;let wA=!1,kA=!1,CA=!1;function OO(){if(kA){const n=Array.from(km).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),o=new Map;t.forEach(i=>{const l=q$(i);l.length&&(o.set(i,l),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=o.get(i);l&&l.forEach(([h,m])=>{var g;(g=i.getValue(h))==null||g.set(m)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kA=!1,wA=!1,km.forEach(n=>n.complete(CA)),km.clear()}function BO(){km.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(kA=!0)})}function Y$(){CA=!0,BO(),OO(),CA=!1}class gN{constructor(t,o,i,l,h,m=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=o,this.name=i,this.motionValue=l,this.element=h,this.isAsync=m}scheduleResolve(){this.state="scheduled",this.isAsync?(km.add(this),wA||(wA=!0,ln.read(BO),ln.resolveKeyframes(OO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:o,element:i,motionValue:l}=this;if(t[0]===null){const h=l==null?void 0:l.get(),m=t[t.length-1];if(h!==void 0)t[0]=h;else if(i&&o){const g=i.readValue(o,m);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=m),l&&h===void 0&&l.set(t[0])}L$(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),km.delete(this)}cancel(){this.state==="scheduled"&&(km.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const W$=n=>n.startsWith("--");function K$(n,t,o){W$(t)?n.style.setProperty(t,o):n.style[t]=o}const Q$=nN(()=>window.ScrollTimeline!==void 0),J$={};function X$(n,t){const o=nN(n);return()=>J$[t]??o()}const LO=X$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hb=([n,t,o,i])=>`cubic-bezier(${n}, ${t}, ${o}, ${i})`,$M={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hb([0,.65,.55,1]),circOut:hb([.55,0,1,.45]),backIn:hb([.31,.01,.66,-.59]),backOut:hb([.33,1.53,.69,.99])};function zO(n,t){if(n)return typeof n=="function"?LO()?IO(n,t):"ease-out":CO(n)?hb(n):Array.isArray(n)?n.map(o=>zO(o,t)||$M.easeOut):$M[n]}function Z$(n,t,o,{delay:i=0,duration:l=300,repeat:h=0,repeatType:m="loop",ease:g="easeOut",times:y}={},w=void 0){const k={[t]:o};y&&(k.offset=y);const _=zO(g,l);Array.isArray(_)&&(k.easing=_);const N={delay:i,duration:l,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:h+1,direction:m==="reverse"?"alternate":"normal"};return w&&(N.pseudoElement=w),n.animate(k,N)}function FO(n){return typeof n=="function"&&"applyToOptions"in n}function $$({type:n,...t}){return FO(n)&&LO()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eee extends pN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:o,name:i,keyframes:l,pseudoElement:h,allowFlatten:m=!1,finalKeyframe:g,onComplete:y}=t;this.isPseudoElement=!!h,this.allowFlatten=m,this.options=t,rN(typeof t.type!="string");const w=$$(t);this.animation=Z$(o,i,l,w,h),w.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const k=mN(l,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(k):K$(o,i,k),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,o;(o=(t=this.animation).finish)==null||o.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,o;this.isPseudoElement||(o=(t=this.animation).commitStyles)==null||o.call(t)}get duration(){var o,i;const t=((i=(o=this.animation.effect)==null?void 0:o.getComputedTiming)==null?void 0:i.call(o).duration)||0;return Ol(Number(t))}get time(){return Ol(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:o}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Q$()?(this.animation.timeline=t,Li):o(this)}}const VO={anticipate:xO,backInOut:bO,circInOut:wO};function tee(n){return n in VO}function ree(n){typeof n.ease=="string"&&tee(n.ease)&&(n.ease=VO[n.ease])}const eT=10;class nee extends eee{constructor(t){ree(t),PO(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:o,onUpdate:i,onComplete:l,element:h,...m}=this.options;if(!o)return;if(t!==void 0){o.set(t);return}const g=new fN({...m,autoplay:!1}),y=Pl(this.finishedTime??this.time);o.setWithVelocity(g.sample(y-eT).value,g.sample(y).value,eT),g.stop()}}const tT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ru.test(n)||n==="0")&&!n.startsWith("url("));function see(n){const t=n[0];if(n.length===1)return!0;for(let o=0;o<n.length;o++)if(n[o]!==t)return!0}function oee(n,t,o,i){const l=n[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const h=n[n.length-1],m=tT(l,t),g=tT(h,t);return!m||!g?!1:see(n)||(o==="spring"||FO(o))&&i}function yN(n){return uO(n)&&"offsetHeight"in n}const iee=new Set(["opacity","clipPath","filter","transform"]),aee=nN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lee(n){var w;const{motionValue:t,name:o,repeatDelay:i,repeatType:l,damping:h,type:m}=n;if(!yN((w=t==null?void 0:t.owner)==null?void 0:w.current))return!1;const{onUpdate:g,transformTemplate:y}=t.owner.getProps();return aee()&&o&&iee.has(o)&&(o!=="transform"||!y)&&!g&&!i&&l!=="mirror"&&h!==0&&m!=="inertia"}const cee=40;class dee extends pN{constructor({autoplay:t=!0,delay:o=0,type:i="keyframes",repeat:l=0,repeatDelay:h=0,repeatType:m="loop",keyframes:g,name:y,motionValue:w,element:k,..._}){var T;super(),this.stop=()=>{var R,P;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Po.now();const N={autoplay:t,delay:o,type:i,repeat:l,repeatDelay:h,repeatType:m,name:y,motionValue:w,element:k,..._},D=(k==null?void 0:k.KeyframeResolver)||gN;this.keyframeResolver=new D(g,(R,P,F)=>this.onKeyframesResolved(R,P,N,!F),y,w,k),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,o,i,l){this.keyframeResolver=void 0;const{name:h,type:m,velocity:g,delay:y,isHandoff:w,onUpdate:k}=i;this.resolvedAt=Po.now(),oee(t,h,m,g)||((rd.instantAnimations||!y)&&(k==null||k(mN(t,i,o))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const N={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>cee?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...i,keyframes:t},D=!w&&lee(N)?new nee({...N,element:N.motionValue.owner.current}):new fN(N);D.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,o){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Y$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hee(n){const t=uee.exec(n);if(!t)return[,];const[,o,i,l]=t;return[`--${o??i}`,l]}function UO(n,t,o=1){const[i,l]=hee(n);if(!i)return;const h=window.getComputedStyle(t).getPropertyValue(i);if(h){const m=h.trim();return dO(m)?parseFloat(m):m}return lN(l)?UO(l,t,o+1):l}function bN(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const GO=new Set(["width","height","top","left","right","bottom",...eg]),mee={test:n=>n==="auto",parse:n=>n},HO=n=>t=>t.test(n),qO=[$f,Ct,Bl,mu,s$,n$,mee],rT=n=>qO.find(HO(n));function pee(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||hO(n):!0}const fee=new Set(["brightness","contrast","saturate","opacity"]);function gee(n){const[t,o]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=o.match(cN)||[];if(!i)return n;const l=o.replace(i,"");let h=fee.has(t)?1:0;return i!==o&&(h*=100),t+"("+h+l+")"}const yee=/\b([a-z-]*)\(.*?\)/gu,_A={...Ru,getAnimatableNone:n=>{const t=n.match(yee);return t?t.map(gee).join(" "):n}},nT={...$f,transform:Math.round},bee={rotate:mu,rotateX:mu,rotateY:mu,rotateZ:mu,scale:W0,scaleX:W0,scaleY:W0,scaleZ:W0,skew:mu,skewX:mu,skewY:mu,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:Gb,originX:HM,originY:HM,originZ:Ct},xN={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...bee,zIndex:nT,fillOpacity:Gb,strokeOpacity:Gb,numOctaves:nT},xee={...xN,color:qn,backgroundColor:qn,outlineColor:qn,fill:qn,stroke:qn,borderColor:qn,borderTopColor:qn,borderRightColor:qn,borderBottomColor:qn,borderLeftColor:qn,filter:_A,WebkitFilter:_A},YO=n=>xee[n];function WO(n,t){let o=YO(n);return o!==_A&&(o=Ru),o.getAnimatableNone?o.getAnimatableNone(t):void 0}const vee=new Set(["auto","none","0"]);function wee(n,t,o){let i=0,l;for(;i<n.length&&!l;){const h=n[i];typeof h=="string"&&!vee.has(h)&&Hb(h).values.length&&(l=n[i]),i++}if(l&&o)for(const h of t)n[h]=WO(o,l)}class kee extends gN{constructor(t,o,i,l,h){super(t,o,i,l,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:o,name:i}=this;if(!o||!o.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let w=t[y];if(typeof w=="string"&&(w=w.trim(),lN(w))){const k=UO(w,o.current);k!==void 0&&(t[y]=k),y===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!GO.has(i)||t.length!==2)return;const[l,h]=t,m=rT(l),g=rT(h);if(m!==g)if(ZM(m)&&ZM(g))for(let y=0;y<t.length;y++){const w=t[y];typeof w=="string"&&(t[y]=parseFloat(w))}else wm[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:o}=this,i=[];for(let l=0;l<t.length;l++)(t[l]===null||pee(t[l]))&&i.push(l);i.length&&wee(t,i,o)}measureInitialState(){const{element:t,unresolvedKeyframes:o,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wm[i](t.measureViewportBox(),window.getComputedStyle(t.current)),o[0]=this.measuredOrigin;const l=o[o.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var g;const{element:t,name:o,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(o);l&&l.jump(this.measuredOrigin,!1);const h=i.length-1,m=i[h];i[h]=wm[o](t.measureViewportBox(),window.getComputedStyle(t.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),(g=this.removedTransforms)!=null&&g.length&&this.removedTransforms.forEach(([y,w])=>{t.getValue(y).set(w)}),this.resolveNoneKeyframes()}}function Cee(n,t,o){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const l=(o==null?void 0:o[n])??i.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const KO=(n,t)=>t&&typeof n=="number"?t.transform(n):n,sT=30,_ee=n=>!isNaN(parseFloat(n));class Aee{constructor(t,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{var m,g;const h=Po.now();if(this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((m=this.events.change)==null||m.notify(this.current),this.dependents))for(const y of this.dependents)y.dirty();l&&((g=this.events.renderRequest)==null||g.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=o.owner}setCurrent(t){this.current=t,this.updatedAt=Po.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_ee(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,o){this.events[t]||(this.events[t]=new sN);const i=this.events[t].add(o);return t==="change"?()=>{i(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,o){this.passiveEffect=t,this.stopPassiveEffect=o}set(t,o=!0){!o||!this.passiveEffect?this.updateAndNotify(t,o):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,o,i){this.set(o),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,o=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Po.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sT)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,sT);return mO(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(t){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=t(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,o;(t=this.dependents)==null||t.clear(),(o=this.events.destroy)==null||o.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bf(n,t){return new Aee(n,t)}const{schedule:vN}=_O(queueMicrotask,!1),Ea={x:!1,y:!1};function QO(){return Ea.x||Ea.y}function Nee(n){return n==="x"||n==="y"?Ea[n]?null:(Ea[n]=!0,()=>{Ea[n]=!1}):Ea.x||Ea.y?null:(Ea.x=Ea.y=!0,()=>{Ea.x=Ea.y=!1})}function JO(n,t){const o=Cee(n),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[o,l,()=>i.abort()]}function oT(n){return!(n.pointerType==="touch"||QO())}function jee(n,t,o={}){const[i,l,h]=JO(n,o),m=g=>{if(!oT(g))return;const{target:y}=g,w=t(y,g);if(typeof w!="function"||!y)return;const k=_=>{oT(_)&&(w(_),y.removeEventListener("pointerleave",k))};y.addEventListener("pointerleave",k,l)};return i.forEach(g=>{g.addEventListener("pointerenter",m,l)}),h}const XO=(n,t)=>t?n===t?!0:XO(n,t.parentElement):!1,wN=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,See=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Eee(n){return See.has(n.tagName)||n.tabIndex!==-1}const xw=new WeakSet;function iT(n){return t=>{t.key==="Enter"&&n(t)}}function l_(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Dee=(n,t)=>{const o=n.currentTarget;if(!o)return;const i=iT(()=>{if(xw.has(o))return;l_(o,"down");const l=iT(()=>{l_(o,"up")}),h=()=>l_(o,"cancel");o.addEventListener("keyup",l,t),o.addEventListener("blur",h,t)});o.addEventListener("keydown",i,t),o.addEventListener("blur",()=>o.removeEventListener("keydown",i),t)};function aT(n){return wN(n)&&!QO()}function Mee(n,t,o={}){const[i,l,h]=JO(n,o),m=g=>{const y=g.currentTarget;if(!aT(g))return;xw.add(y);const w=t(y,g),k=(D,T)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",N),xw.has(y)&&xw.delete(y),aT(D)&&typeof w=="function"&&w(D,{success:T})},_=D=>{k(D,y===window||y===document||o.useGlobalTarget||XO(y,D.target))},N=D=>{k(D,!1)};window.addEventListener("pointerup",_,l),window.addEventListener("pointercancel",N,l)};return i.forEach(g=>{(o.useGlobalTarget?window:g).addEventListener("pointerdown",m,l),yN(g)&&(g.addEventListener("focus",w=>Dee(w,l)),!Eee(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),h}function ZO(n){return uO(n)&&"ownerSVGElement"in n}function Tee(n){return ZO(n)&&n.tagName==="svg"}const Ks=n=>!!(n&&n.getVelocity),Iee=[...qO,qn,Ru],Ree=n=>Iee.find(HO(n)),kN=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Pee extends z.Component{getSnapshotBeforeUpdate(t){const o=this.props.childRef.current;if(o&&t.isPresent&&!this.props.isPresent){const i=o.offsetParent,l=yN(i)&&i.offsetWidth||0,h=this.props.sizeRef.current;h.height=o.offsetHeight||0,h.width=o.offsetWidth||0,h.top=o.offsetTop,h.left=o.offsetLeft,h.right=l-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Oee({children:n,isPresent:t,anchorX:o}){const i=z.useId(),l=z.useRef(null),h=z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=z.useContext(kN);return z.useInsertionEffect(()=>{const{width:g,height:y,top:w,left:k,right:_}=h.current;if(t||!l.current||!g||!y)return;const N=o==="left"?`left: ${k}`:`right: ${_}`;l.current.dataset.motionPopId=i;const D=document.createElement("style");return m&&(D.nonce=m),document.head.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${N}px !important;
            top: ${w}px !important;
          }
        `),()=>{document.head.contains(D)&&document.head.removeChild(D)}},[t]),r.jsx(Pee,{isPresent:t,childRef:l,sizeRef:h,children:z.cloneElement(n,{ref:l})})}const Bee=({children:n,initial:t,isPresent:o,onExitComplete:i,custom:l,presenceAffectsLayout:h,mode:m,anchorX:g})=>{const y=Z2(Lee),w=z.useId();let k=!0,_=z.useMemo(()=>(k=!1,{id:w,initial:t,isPresent:o,custom:l,onExitComplete:N=>{y.set(N,!0);for(const D of y.values())if(!D)return;i&&i()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[o,y,i]);return h&&k&&(_={..._}),z.useMemo(()=>{y.forEach((N,D)=>y.set(D,!1))},[o]),z.useEffect(()=>{!o&&!y.size&&i&&i()},[o]),m==="popLayout"&&(n=r.jsx(Oee,{isPresent:o,anchorX:g,children:n})),r.jsx(Gk.Provider,{value:_,children:n})};function Lee(){return new Map}function $O(n=!0){const t=z.useContext(Gk);if(t===null)return[!0,null];const{isPresent:o,onExitComplete:i,register:l}=t,h=z.useId();z.useEffect(()=>{if(n)return l(h)},[n]);const m=z.useCallback(()=>n&&i&&i(h),[h,i,n]);return!o&&i?[!1,m]:[!0]}const K0=n=>n.key||"";function lT(n){const t=[];return z.Children.forEach(n,o=>{z.isValidElement(o)&&t.push(o)}),t}const CN=({children:n,custom:t,initial:o=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:h="sync",propagate:m=!1,anchorX:g="left"})=>{const[y,w]=$O(m),k=z.useMemo(()=>lT(n),[n]),_=m&&!y?[]:k.map(K0),N=z.useRef(!0),D=z.useRef(k),T=Z2(()=>new Map),[R,P]=z.useState(k),[F,V]=z.useState(k);cO(()=>{N.current=!1,D.current=k;for(let ee=0;ee<F.length;ee++){const le=K0(F[ee]);_.includes(le)?T.delete(le):T.get(le)!==!0&&T.set(le,!1)}},[F,_.length,_.join("-")]);const G=[];if(k!==R){let ee=[...k];for(let le=0;le<F.length;le++){const J=F[le],B=K0(J);_.includes(B)||(ee.splice(le,0,J),G.push(J))}return h==="wait"&&G.length&&(ee=G),V(lT(ee)),P(k),null}const{forceRender:Y}=z.useContext(X2);return r.jsx(r.Fragment,{children:F.map(ee=>{const le=K0(ee),J=m&&!y?!1:k===F||_.includes(le),B=()=>{if(T.has(le))T.set(le,!0);else return;let W=!0;T.forEach(Z=>{Z||(W=!1)}),W&&(Y==null||Y(),V(D.current),m&&(w==null||w()),i&&i())};return r.jsx(Bee,{isPresent:J,initial:!N.current||o?void 0:!1,custom:t,presenceAffectsLayout:l,mode:h,onExitComplete:J?void 0:B,anchorX:g,children:ee},le)})})},e9=z.createContext({strict:!1}),cT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lf={};for(const n in cT)Lf[n]={isEnabled:t=>cT[n].some(o=>!!t[o])};function zee(n){for(const t in n)Lf[t]={...Lf[t],...n[t]}}const Fee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sk(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Fee.has(n)}let t9=n=>!sk(n);function Vee(n){typeof n=="function"&&(t9=t=>t.startsWith("on")?!sk(t):n(t))}try{Vee(require("@emotion/is-prop-valid").default)}catch{}function Uee(n,t,o){const i={};for(const l in n)l==="values"&&typeof n.values=="object"||(t9(l)||o===!0&&sk(l)||!t&&!sk(l)||n.draggable&&l.startsWith("onDrag"))&&(i[l]=n[l]);return i}function Gee(n){if(typeof Proxy>"u")return n;const t=new Map,o=(...i)=>n(...i);return new Proxy(o,{get:(i,l)=>l==="create"?n:(t.has(l)||t.set(l,n(l)),t.get(l))})}const Hk=z.createContext({});function qk(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function qb(n){return typeof n=="string"||Array.isArray(n)}const _N=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AN=["initial",..._N];function Yk(n){return qk(n.animate)||AN.some(t=>qb(n[t]))}function r9(n){return!!(Yk(n)||n.variants)}function Hee(n,t){if(Yk(n)){const{initial:o,animate:i}=n;return{initial:o===!1||qb(o)?o:void 0,animate:qb(i)?i:void 0}}return n.inherit!==!1?t:{}}function qee(n){const{initial:t,animate:o}=Hee(n,z.useContext(Hk));return z.useMemo(()=>({initial:t,animate:o}),[dT(t),dT(o)])}function dT(n){return Array.isArray(n)?n.join(" "):n}const Yee=Symbol.for("motionComponentSymbol");function wf(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Wee(n,t,o){return z.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),o&&(typeof o=="function"?o(i):wf(o)&&(o.current=i))},[t])}const NN=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Kee="framerAppearId",n9="data-"+NN(Kee),s9=z.createContext({});function Qee(n,t,o,i,l){var R,P;const{visualElement:h}=z.useContext(Hk),m=z.useContext(e9),g=z.useContext(Gk),y=z.useContext(kN).reducedMotion,w=z.useRef(null);i=i||m.renderer,!w.current&&i&&(w.current=i(n,{visualState:t,parent:h,props:o,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const k=w.current,_=z.useContext(s9);k&&!k.projection&&l&&(k.type==="html"||k.type==="svg")&&Jee(w.current,o,l,_);const N=z.useRef(!1);z.useInsertionEffect(()=>{k&&N.current&&k.update(o,g)});const D=o[n9],T=z.useRef(!!D&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,D))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,D)));return cO(()=>{k&&(N.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),vN.render(k.render),T.current&&k.animationState&&k.animationState.animateChanges())}),z.useEffect(()=>{k&&(!T.current&&k.animationState&&k.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,D)}),T.current=!1))}),k}function Jee(n,t,o,i){const{layoutId:l,layout:h,drag:m,dragConstraints:g,layoutScroll:y,layoutRoot:w,layoutCrossfade:k}=t;n.projection=new o(n.latestValues,t["data-framer-portal-id"]?void 0:o9(n.parent)),n.projection.setOptions({layoutId:l,layout:h,alwaysMeasureLayout:!!m||g&&wf(g),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:i,crossfade:k,layoutScroll:y,layoutRoot:w})}function o9(n){if(n)return n.options.allowProjection!==!1?n.projection:o9(n.parent)}function Xee({preloadedFeatures:n,createVisualElement:t,useRender:o,useVisualState:i,Component:l}){n&&zee(n);function h(g,y){let w;const k={...z.useContext(kN),...g,layoutId:Zee(g)},{isStatic:_}=k,N=qee(g),D=i(g,_);if(!_&&$2){$ee();const T=ete(k);w=T.MeasureLayout,N.visualElement=Qee(l,D,k,t,T.ProjectionNode)}return r.jsxs(Hk.Provider,{value:N,children:[w&&N.visualElement?r.jsx(w,{visualElement:N.visualElement,...k}):null,o(l,g,Wee(D,N.visualElement,y),D,_,N.visualElement)]})}h.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const m=z.forwardRef(h);return m[Yee]=l,m}function Zee({layoutId:n}){const t=z.useContext(X2).id;return t&&n!==void 0?t+"-"+n:n}function $ee(n,t){z.useContext(e9).strict}function ete(n){const{drag:t,layout:o}=Lf;if(!t&&!o)return{};const i={...t,...o};return{MeasureLayout:t!=null&&t.isEnabled(n)||o!=null&&o.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Yb={};function tte(n){for(const t in n)Yb[t]=n[t],aN(t)&&(Yb[t].isCSSVariable=!0)}function i9(n,{layout:t,layoutId:o}){return tg.has(n)||n.startsWith("origin")||(t||o!==void 0)&&(!!Yb[n]||n==="opacity")}const rte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nte=eg.length;function ste(n,t,o){let i="",l=!0;for(let h=0;h<nte;h++){const m=eg[h],g=n[m];if(g===void 0)continue;let y=!0;if(typeof g=="number"?y=g===(m.startsWith("scale")?1:0):y=parseFloat(g)===0,!y||o){const w=KO(g,xN[m]);if(!y){l=!1;const k=rte[m]||m;i+=`${k}(${w}) `}o&&(t[m]=w)}}return i=i.trim(),o?i=o(t,l?"":i):l&&(i="none"),i}function jN(n,t,o){const{style:i,vars:l,transformOrigin:h}=n;let m=!1,g=!1;for(const y in t){const w=t[y];if(tg.has(y)){m=!0;continue}else if(aN(y)){l[y]=w;continue}else{const k=KO(w,xN[y]);y.startsWith("origin")?(g=!0,h[y]=k):i[y]=k}}if(t.transform||(m||o?i.transform=ste(t,n.transform,o):i.transform&&(i.transform="none")),g){const{originX:y="50%",originY:w="50%",originZ:k=0}=h;i.transformOrigin=`${y} ${w} ${k}`}}const SN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a9(n,t,o){for(const i in t)!Ks(t[i])&&!i9(i,o)&&(n[i]=t[i])}function ote({transformTemplate:n},t){return z.useMemo(()=>{const o=SN();return jN(o,t,n),Object.assign({},o.vars,o.style)},[t])}function ite(n,t){const o=n.style||{},i={};return a9(i,o,n),Object.assign(i,ote(n,t)),i}function ate(n,t){const o={},i=ite(n,t);return n.drag&&n.dragListener!==!1&&(o.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(o.tabIndex=0),o.style=i,o}const lte={offset:"stroke-dashoffset",array:"stroke-dasharray"},cte={offset:"strokeDashoffset",array:"strokeDasharray"};function dte(n,t,o=1,i=0,l=!0){n.pathLength=1;const h=l?lte:cte;n[h.offset]=Ct.transform(-i);const m=Ct.transform(t),g=Ct.transform(o);n[h.array]=`${m} ${g}`}function l9(n,{attrX:t,attrY:o,attrScale:i,pathLength:l,pathSpacing:h=1,pathOffset:m=0,...g},y,w,k){if(jN(n,g,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:N}=n;_.transform&&(N.transform=_.transform,delete _.transform),(N.transform||_.transformOrigin)&&(N.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),N.transform&&(N.transformBox=(k==null?void 0:k.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),o!==void 0&&(_.y=o),i!==void 0&&(_.scale=i),l!==void 0&&dte(_,l,h,m,!1)}const c9=()=>({...SN(),attrs:{}}),d9=n=>typeof n=="string"&&n.toLowerCase()==="svg";function ute(n,t,o,i){const l=z.useMemo(()=>{const h=c9();return l9(h,t,d9(i),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[t]);if(n.style){const h={};a9(h,n.style,n),l.style={...h,...l.style}}return l}const hte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EN(n){return typeof n!="string"||n.includes("-")?!1:!!(hte.indexOf(n)>-1||/[A-Z]/u.test(n))}function mte(n=!1){return(o,i,l,{latestValues:h},m)=>{const y=(EN(o)?ute:ate)(i,h,m,o),w=Uee(i,typeof o=="string",n),k=o!==z.Fragment?{...w,...y,ref:l}:{},{children:_}=i,N=z.useMemo(()=>Ks(_)?_.get():_,[_]);return z.createElement(o,{...k,children:N})}}function uT(n){const t=[{},{}];return n==null||n.values.forEach((o,i)=>{t[0][i]=o.get(),t[1][i]=o.getVelocity()}),t}function DN(n,t,o,i){if(typeof t=="function"){const[l,h]=uT(i);t=t(o!==void 0?o:n.custom,l,h)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[l,h]=uT(i);t=t(o!==void 0?o:n.custom,l,h)}return t}function vw(n){return Ks(n)?n.get():n}function pte({scrapeMotionValuesFromProps:n,createRenderState:t},o,i,l){return{latestValues:fte(o,i,l,n),renderState:t()}}const u9=n=>(t,o)=>{const i=z.useContext(Hk),l=z.useContext(Gk),h=()=>pte(n,t,i,l);return o?h():Z2(h)};function fte(n,t,o,i){const l={},h=i(n,{});for(const N in h)l[N]=vw(h[N]);let{initial:m,animate:g}=n;const y=Yk(n),w=r9(n);t&&w&&!y&&n.inherit!==!1&&(m===void 0&&(m=t.initial),g===void 0&&(g=t.animate));let k=o?o.initial===!1:!1;k=k||m===!1;const _=k?g:m;if(_&&typeof _!="boolean"&&!qk(_)){const N=Array.isArray(_)?_:[_];for(let D=0;D<N.length;D++){const T=DN(n,N[D]);if(T){const{transitionEnd:R,transition:P,...F}=T;for(const V in F){let G=F[V];if(Array.isArray(G)){const Y=k?G.length-1:0;G=G[Y]}G!==null&&(l[V]=G)}for(const V in R)l[V]=R[V]}}}return l}function MN(n,t,o){var h;const{style:i}=n,l={};for(const m in i)(Ks(i[m])||t.style&&Ks(t.style[m])||i9(m,n)||((h=o==null?void 0:o.getValue(m))==null?void 0:h.liveStyle)!==void 0)&&(l[m]=i[m]);return l}const gte={useVisualState:u9({scrapeMotionValuesFromProps:MN,createRenderState:SN})};function h9(n,t,o){const i=MN(n,t,o);for(const l in n)if(Ks(n[l])||Ks(t[l])){const h=eg.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[h]=n[l]}return i}const yte={useVisualState:u9({scrapeMotionValuesFromProps:h9,createRenderState:c9})};function bte(n,t){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const m={...EN(i)?yte:gte,preloadedFeatures:n,useRender:mte(l),createVisualElement:t,Component:i};return Xee(m)}}function Wb(n,t,o){const i=n.getProps();return DN(i,t,o!==void 0?o:i.custom,n)}const AA=n=>Array.isArray(n);function xte(n,t,o){n.hasValue(t)?n.getValue(t).set(o):n.addValue(t,Bf(o))}function vte(n){return AA(n)?n[n.length-1]||0:n}function wte(n,t){const o=Wb(n,t);let{transitionEnd:i={},transition:l={},...h}=o||{};h={...h,...i};for(const m in h){const g=vte(h[m]);xte(n,m,g)}}function kte(n){return!!(Ks(n)&&n.add)}function NA(n,t){const o=n.getValue("willChange");if(kte(o))return o.add(t);if(!o&&rd.WillChange){const i=new rd.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function m9(n){return n.props[n9]}const Cte=n=>n!==null;function _te(n,{repeat:t,repeatType:o="loop"},i){const l=n.filter(Cte),h=t&&o!=="loop"&&t%2===1?0:l.length-1;return l[h]}const Ate={type:"spring",stiffness:500,damping:25,restSpeed:10},Nte=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),jte={type:"keyframes",duration:.8},Ste={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ete=(n,{keyframes:t})=>t.length>2?jte:tg.has(n)?n.startsWith("scale")?Nte(t[1]):Ate:Ste;function Dte({when:n,delay:t,delayChildren:o,staggerChildren:i,staggerDirection:l,repeat:h,repeatType:m,repeatDelay:g,from:y,elapsed:w,...k}){return!!Object.keys(k).length}const TN=(n,t,o,i={},l,h)=>m=>{const g=bN(i,n)||{},y=g.delay||i.delay||0;let{elapsed:w=0}=i;w=w-Pl(y);const k={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:t.getVelocity(),...g,delay:-w,onUpdate:N=>{t.set(N),g.onUpdate&&g.onUpdate(N)},onComplete:()=>{m(),g.onComplete&&g.onComplete()},name:n,motionValue:t,element:h?void 0:l};Dte(g)||Object.assign(k,Ete(n,k)),k.duration&&(k.duration=Pl(k.duration)),k.repeatDelay&&(k.repeatDelay=Pl(k.repeatDelay)),k.from!==void 0&&(k.keyframes[0]=k.from);let _=!1;if((k.type===!1||k.duration===0&&!k.repeatDelay)&&(k.duration=0,k.delay===0&&(_=!0)),(rd.instantAnimations||rd.skipAnimations)&&(_=!0,k.duration=0,k.delay=0),k.allowFlatten=!g.type&&!g.ease,_&&!h&&t.get()!==void 0){const N=_te(k.keyframes,g);if(N!==void 0){ln.update(()=>{k.onUpdate(N),k.onComplete()});return}}return g.isSync?new fN(k):new dee(k)};function Mte({protectedKeys:n,needsAnimating:t},o){const i=n.hasOwnProperty(o)&&t[o]!==!0;return t[o]=!1,i}function p9(n,t,{delay:o=0,transitionOverride:i,type:l}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:m,...g}=t;i&&(h=i);const y=[],w=l&&n.animationState&&n.animationState.getState()[l];for(const k in g){const _=n.getValue(k,n.latestValues[k]??null),N=g[k];if(N===void 0||w&&Mte(w,k))continue;const D={delay:o,...bN(h||{},k)},T=_.get();if(T!==void 0&&!_.isAnimating&&!Array.isArray(N)&&N===T&&!D.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const F=m9(n);if(F){const V=window.MotionHandoffAnimation(F,k,ln);V!==null&&(D.startTime=V,R=!0)}}NA(n,k),_.start(TN(k,_,N,n.shouldReduceMotion&&GO.has(k)?{type:!1}:D,n,R));const P=_.animation;P&&y.push(P)}return m&&Promise.all(y).then(()=>{ln.update(()=>{m&&wte(n,m)})}),y}function jA(n,t,o={}){var y;const i=Wb(n,t,o.type==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=i||{};o.transitionOverride&&(l=o.transitionOverride);const h=i?()=>Promise.all(p9(n,i,o)):()=>Promise.resolve(),m=n.variantChildren&&n.variantChildren.size?(w=0)=>{const{delayChildren:k=0,staggerChildren:_,staggerDirection:N}=l;return Tte(n,t,k+w,_,N,o)}:()=>Promise.resolve(),{when:g}=l;if(g){const[w,k]=g==="beforeChildren"?[h,m]:[m,h];return w().then(()=>k())}else return Promise.all([h(),m(o.delay)])}function Tte(n,t,o=0,i=0,l=1,h){const m=[],g=(n.variantChildren.size-1)*i,y=l===1?(w=0)=>w*i:(w=0)=>g-w*i;return Array.from(n.variantChildren).sort(Ite).forEach((w,k)=>{w.notify("AnimationStart",t),m.push(jA(w,t,{...h,delay:o+y(k)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(m)}function Ite(n,t){return n.sortNodePosition(t)}function Rte(n,t,o={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(h=>jA(n,h,o));i=Promise.all(l)}else if(typeof t=="string")i=jA(n,t,o);else{const l=typeof t=="function"?Wb(n,t,o.custom):t;i=Promise.all(p9(n,l,o))}return i.then(()=>{n.notify("AnimationComplete",t)})}function f9(n,t){if(!Array.isArray(t))return!1;const o=t.length;if(o!==n.length)return!1;for(let i=0;i<o;i++)if(t[i]!==n[i])return!1;return!0}const Pte=AN.length;function g9(n){if(!n)return;if(!n.isControllingVariants){const o=n.parent?g9(n.parent)||{}:{};return n.props.initial!==void 0&&(o.initial=n.props.initial),o}const t={};for(let o=0;o<Pte;o++){const i=AN[o],l=n.props[i];(qb(l)||l===!1)&&(t[i]=l)}return t}const Ote=[..._N].reverse(),Bte=_N.length;function Lte(n){return t=>Promise.all(t.map(({animation:o,options:i})=>Rte(n,o,i)))}function zte(n){let t=Lte(n),o=hT(),i=!0;const l=y=>(w,k)=>{var N;const _=Wb(n,k,y==="exit"?(N=n.presenceContext)==null?void 0:N.custom:void 0);if(_){const{transition:D,transitionEnd:T,...R}=_;w={...w,...R,...T}}return w};function h(y){t=y(n)}function m(y){const{props:w}=n,k=g9(n.parent)||{},_=[],N=new Set;let D={},T=1/0;for(let P=0;P<Bte;P++){const F=Ote[P],V=o[F],G=w[F]!==void 0?w[F]:k[F],Y=qb(G),ee=F===y?V.isActive:null;ee===!1&&(T=P);let le=G===k[F]&&G!==w[F]&&Y;if(le&&i&&n.manuallyAnimateOnMount&&(le=!1),V.protectedKeys={...D},!V.isActive&&ee===null||!G&&!V.prevProp||qk(G)||typeof G=="boolean")continue;const J=Fte(V.prevProp,G);let B=J||F===y&&V.isActive&&!le&&Y||P>T&&Y,W=!1;const Z=Array.isArray(G)?G:[G];let de=Z.reduce(l(F),{});ee===!1&&(de={});const{prevResolvedValues:ne={}}=V,re={...ne,...de},ge=oe=>{B=!0,N.has(oe)&&(W=!0,N.delete(oe)),V.needsAnimating[oe]=!0;const ue=n.getValue(oe);ue&&(ue.liveStyle=!1)};for(const oe in re){const ue=de[oe],te=ne[oe];if(D.hasOwnProperty(oe))continue;let q=!1;AA(ue)&&AA(te)?q=!f9(ue,te):q=ue!==te,q?ue!=null?ge(oe):N.add(oe):ue!==void 0&&N.has(oe)?ge(oe):V.protectedKeys[oe]=!0}V.prevProp=G,V.prevResolvedValues=de,V.isActive&&(D={...D,...de}),i&&n.blockInitialAnimation&&(B=!1),B&&(!(le&&J)||W)&&_.push(...Z.map(oe=>({animation:oe,options:{type:F}})))}if(N.size){const P={};if(typeof w.initial!="boolean"){const F=Wb(n,Array.isArray(w.initial)?w.initial[0]:w.initial);F&&F.transition&&(P.transition=F.transition)}N.forEach(F=>{const V=n.getBaseTarget(F),G=n.getValue(F);G&&(G.liveStyle=!0),P[F]=V??null}),_.push({animation:P})}let R=!!_.length;return i&&(w.initial===!1||w.initial===w.animate)&&!n.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(_):Promise.resolve()}function g(y,w){var _;if(o[y].isActive===w)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(N=>{var D;return(D=N.animationState)==null?void 0:D.setActive(y,w)}),o[y].isActive=w;const k=m(y);for(const N in o)o[N].protectedKeys={};return k}return{animateChanges:m,setActive:g,setAnimateFunction:h,getState:()=>o,reset:()=>{o=hT(),i=!0}}}function Fte(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!f9(t,n):!1}function am(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hT(){return{animate:am(!0),whileInView:am(),whileHover:am(),whileTap:am(),whileDrag:am(),whileFocus:am(),exit:am()}}class Vu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vte extends Vu{constructor(t){super(t),t.animationState||(t.animationState=zte(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qk(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:o}=this.node.prevProps||{};t!==o&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Ute=0;class Gte extends Vu{constructor(){super(...arguments),this.id=Ute++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:o}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);o&&!t&&l.then(()=>{o(this.id)})}mount(){const{register:t,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hte={animation:{Feature:Vte},exit:{Feature:Gte}};function Kb(n,t,o,i={passive:!0}){return n.addEventListener(t,o,i),()=>n.removeEventListener(t,o)}function xx(n){return{point:{x:n.pageX,y:n.pageY}}}const qte=n=>t=>wN(t)&&n(t,xx(t));function _b(n,t,o,i){return Kb(n,t,qte(o),i)}function y9({top:n,left:t,right:o,bottom:i}){return{x:{min:t,max:o},y:{min:n,max:i}}}function Yte({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Wte(n,t){if(!t)return n;const o=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:o.y,left:o.x,bottom:i.y,right:i.x}}const b9=1e-4,Kte=1-b9,Qte=1+b9,x9=.01,Jte=0-x9,Xte=0+x9;function co(n){return n.max-n.min}function Zte(n,t,o){return Math.abs(n-t)<=o}function mT(n,t,o,i=.5){n.origin=i,n.originPoint=an(t.min,t.max,n.origin),n.scale=co(o)/co(t),n.translate=an(o.min,o.max,n.origin)-n.originPoint,(n.scale>=Kte&&n.scale<=Qte||isNaN(n.scale))&&(n.scale=1),(n.translate>=Jte&&n.translate<=Xte||isNaN(n.translate))&&(n.translate=0)}function Ab(n,t,o,i){mT(n.x,t.x,o.x,i?i.originX:void 0),mT(n.y,t.y,o.y,i?i.originY:void 0)}function pT(n,t,o){n.min=o.min+t.min,n.max=n.min+co(t)}function $te(n,t,o){pT(n.x,t.x,o.x),pT(n.y,t.y,o.y)}function fT(n,t,o){n.min=t.min-o.min,n.max=n.min+co(t)}function Nb(n,t,o){fT(n.x,t.x,o.x),fT(n.y,t.y,o.y)}const gT=()=>({translate:0,scale:1,origin:0,originPoint:0}),kf=()=>({x:gT(),y:gT()}),yT=()=>({min:0,max:0}),In=()=>({x:yT(),y:yT()});function Oi(n){return[n("x"),n("y")]}function c_(n){return n===void 0||n===1}function SA({scale:n,scaleX:t,scaleY:o}){return!c_(n)||!c_(t)||!c_(o)}function cm(n){return SA(n)||v9(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function v9(n){return bT(n.x)||bT(n.y)}function bT(n){return n&&n!=="0%"}function ok(n,t,o){const i=n-o,l=t*i;return o+l}function xT(n,t,o,i,l){return l!==void 0&&(n=ok(n,l,i)),ok(n,o,i)+t}function EA(n,t=0,o=1,i,l){n.min=xT(n.min,t,o,i,l),n.max=xT(n.max,t,o,i,l)}function w9(n,{x:t,y:o}){EA(n.x,t.translate,t.scale,t.originPoint),EA(n.y,o.translate,o.scale,o.originPoint)}const vT=.999999999999,wT=1.0000000000001;function ere(n,t,o,i=!1){const l=o.length;if(!l)return;t.x=t.y=1;let h,m;for(let g=0;g<l;g++){h=o[g],m=h.projectionDelta;const{visualElement:y}=h.options;y&&y.props.style&&y.props.style.display==="contents"||(i&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_f(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),m&&(t.x*=m.x.scale,t.y*=m.y.scale,w9(n,m)),i&&cm(h.latestValues)&&_f(n,h.latestValues))}t.x<wT&&t.x>vT&&(t.x=1),t.y<wT&&t.y>vT&&(t.y=1)}function Cf(n,t){n.min=n.min+t,n.max=n.max+t}function kT(n,t,o,i,l=.5){const h=an(n.min,n.max,l);EA(n,t,o,h,i)}function _f(n,t){kT(n.x,t.x,t.scaleX,t.scale,t.originX),kT(n.y,t.y,t.scaleY,t.scale,t.originY)}function k9(n,t){return y9(Wte(n.getBoundingClientRect(),t))}function tre(n,t,o){const i=k9(n,o),{scroll:l}=t;return l&&(Cf(i.x,l.offset.x),Cf(i.y,l.offset.y)),i}const C9=({current:n})=>n?n.ownerDocument.defaultView:null,CT=(n,t)=>Math.abs(n-t);function rre(n,t){const o=CT(n.x,t.x),i=CT(n.y,t.y);return Math.sqrt(o**2+i**2)}class _9{constructor(t,o,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=u_(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,D=rre(_.offset,{x:0,y:0})>=3;if(!N&&!D)return;const{point:T}=_,{timestamp:R}=Ds;this.history.push({...T,timestamp:R});const{onStart:P,onMove:F}=this.handlers;N||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,N)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=d_(N,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(_,N)=>{this.end();const{onEnd:D,onSessionEnd:T,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=u_(_.type==="pointercancel"?this.lastMoveEventInfo:d_(N,this.transformPagePoint),this.history);this.startEvent&&D&&D(_,P),T&&T(_,P)},!wN(t))return;this.dragSnapToOrigin=h,this.handlers=o,this.transformPagePoint=i,this.contextWindow=l||window;const m=xx(t),g=d_(m,this.transformPagePoint),{point:y}=g,{timestamp:w}=Ds;this.history=[{...y,timestamp:w}];const{onSessionStart:k}=o;k&&k(t,u_(g,this.history)),this.removeListeners=gx(_b(this.contextWindow,"pointermove",this.handlePointerMove),_b(this.contextWindow,"pointerup",this.handlePointerUp),_b(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Iu(this.updatePoint)}}function d_(n,t){return t?{point:t(n.point)}:n}function _T(n,t){return{x:n.x-t.x,y:n.y-t.y}}function u_({point:n},t){return{point:n,delta:_T(n,A9(t)),offset:_T(n,nre(t)),velocity:sre(t,.1)}}function nre(n){return n[0]}function A9(n){return n[n.length-1]}function sre(n,t){if(n.length<2)return{x:0,y:0};let o=n.length-1,i=null;const l=A9(n);for(;o>=0&&(i=n[o],!(l.timestamp-i.timestamp>Pl(t)));)o--;if(!i)return{x:0,y:0};const h=Ol(l.timestamp-i.timestamp);if(h===0)return{x:0,y:0};const m={x:(l.x-i.x)/h,y:(l.y-i.y)/h};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}function ore(n,{min:t,max:o},i){return t!==void 0&&n<t?n=i?an(t,n,i.min):Math.max(n,t):o!==void 0&&n>o&&(n=i?an(o,n,i.max):Math.min(n,o)),n}function AT(n,t,o){return{min:t!==void 0?n.min+t:void 0,max:o!==void 0?n.max+o-(n.max-n.min):void 0}}function ire(n,{top:t,left:o,bottom:i,right:l}){return{x:AT(n.x,o,l),y:AT(n.y,t,i)}}function NT(n,t){let o=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([o,i]=[i,o]),{min:o,max:i}}function are(n,t){return{x:NT(n.x,t.x),y:NT(n.y,t.y)}}function lre(n,t){let o=.5;const i=co(n),l=co(t);return l>i?o=Ub(t.min,t.max-i,n.min):i>l&&(o=Ub(n.min,n.max-l,t.min)),td(0,1,o)}function cre(n,t){const o={};return t.min!==void 0&&(o.min=t.min-n.min),t.max!==void 0&&(o.max=t.max-n.min),o}const DA=.35;function dre(n=DA){return n===!1?n=0:n===!0&&(n=DA),{x:jT(n,"left","right"),y:jT(n,"top","bottom")}}function jT(n,t,o){return{min:ST(n,t),max:ST(n,o)}}function ST(n,t){return typeof n=="number"?n:n[t]||0}const ure=new WeakMap;class hre{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.visualElement=t}start(t,{snapToCursor:o=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=k=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(xx(k).point)},h=(k,_)=>{const{drag:N,dragPropagation:D,onDragStart:T}=this.getProps();if(N&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nee(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(P=>{let F=this.getAxisMotionValue(P).get()||0;if(Bl.test(F)){const{projection:V}=this.visualElement;if(V&&V.layout){const G=V.layout.layoutBox[P];G&&(F=co(G)*(parseFloat(F)/100))}}this.originPoint[P]=F}),T&&ln.postRender(()=>T(k,_)),NA(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},m=(k,_)=>{const{dragPropagation:N,dragDirectionLock:D,onDirectionLock:T,onDrag:R}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:P}=_;if(D&&this.currentDirection===null){this.currentDirection=mre(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),R&&R(k,_)},g=(k,_)=>this.stop(k,_),y=()=>Oi(k=>{var _;return this.getAnimationState(k)==="paused"&&((_=this.getAxisMotionValue(k).animation)==null?void 0:_.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new _9(t,{onSessionStart:l,onStart:h,onMove:m,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:C9(this.visualElement)})}stop(t,o){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&ln.postRender(()=>h(t,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:o}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(t,o,i){const{drag:l}=this.getProps();if(!i||!Q0(t,l,this.currentDirection))return;const h=this.getAxisMotionValue(t);let m=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(m=ore(m,this.constraints[t],this.elastic[t])),h.set(m)}resolveConstraints(){var h;const{dragConstraints:t,dragElastic:o}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,l=this.constraints;t&&wf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=ire(i.layoutBox,t):this.constraints=!1,this.elastic=dre(o),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Oi(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=cre(i.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:o}=this.getProps();if(!t||!wf(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const h=tre(i,l.root,this.visualElement.getTransformPagePoint());let m=are(l.layout.layoutBox,h);if(o){const g=o(Yte(m));this.hasMutatedConstraints=!!g,g&&(m=y9(g))}return m}startAnimation(t){const{drag:o,dragMomentum:i,dragElastic:l,dragTransition:h,dragSnapToOrigin:m,onDragTransitionEnd:g}=this.getProps(),y=this.constraints||{},w=Oi(k=>{if(!Q0(k,o,this.currentDirection))return;let _=y&&y[k]||{};m&&(_={min:0,max:0});const N=l?200:1e6,D=l?40:1e7,T={type:"inertia",velocity:i?t[k]:0,bounceStiffness:N,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...h,..._};return this.startAxisValueAnimation(k,T)});return Promise.all(w).then(g)}startAxisValueAnimation(t,o){const i=this.getAxisMotionValue(t);return NA(this.visualElement,t),i.start(TN(t,i,0,o,this.visualElement,!1))}stopAnimation(){Oi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Oi(t=>{var o;return(o=this.getAxisMotionValue(t).animation)==null?void 0:o.pause()})}getAnimationState(t){var o;return(o=this.getAxisMotionValue(t).animation)==null?void 0:o.state}getAxisMotionValue(t){const o=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[o];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Oi(o=>{const{drag:i}=this.getProps();if(!Q0(o,i,this.currentDirection))return;const{projection:l}=this.visualElement,h=this.getAxisMotionValue(o);if(l&&l.layout){const{min:m,max:g}=l.layout.layoutBox[o];h.set(t[o]-an(m,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:o}=this.getProps(),{projection:i}=this.visualElement;if(!wf(o)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Oi(m=>{const g=this.getAxisMotionValue(m);if(g&&this.constraints!==!1){const y=g.get();l[m]=lre({min:y,max:y},this.constraints[m])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Oi(m=>{if(!Q0(m,t,null))return;const g=this.getAxisMotionValue(m),{min:y,max:w}=this.constraints[m];g.set(an(y,w,l[m]))})}addListeners(){if(!this.visualElement.current)return;ure.set(this.visualElement,this);const t=this.visualElement.current,o=_b(t,"pointerdown",y=>{const{drag:w,dragListener:k=!0}=this.getProps();w&&k&&this.start(y)}),i=()=>{const{dragConstraints:y}=this.getProps();wf(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,h=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ln.read(i);const m=Kb(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w})=>{this.isDragging&&w&&(Oi(k=>{const _=this.getAxisMotionValue(k);_&&(this.originPoint[k]+=y[k].translate,_.set(_.get()+y[k].translate))}),this.visualElement.render())});return()=>{m(),o(),h(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:h=!1,dragElastic:m=DA,dragMomentum:g=!0}=t;return{...t,drag:o,dragDirectionLock:i,dragPropagation:l,dragConstraints:h,dragElastic:m,dragMomentum:g}}}function Q0(n,t,o){return(t===!0||t===n)&&(o===null||o===n)}function mre(n,t=10){let o=null;return Math.abs(n.y)>t?o="y":Math.abs(n.x)>t&&(o="x"),o}class pre extends Vu{constructor(t){super(t),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new hre(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}unmount(){this.removeGroupControls(),this.removeListeners()}}const ET=n=>(t,o)=>{n&&ln.postRender(()=>n(t,o))};class fre extends Vu{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(t){this.session=new _9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:o,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:ET(t),onStart:ET(o),onMove:i,onEnd:(h,m)=>{delete this.session,l&&ln.postRender(()=>l(h,m))}}}mount(){this.removePointerDownListener=_b(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ww={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const tb={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ct.test(n))n=parseFloat(n);else return n;const o=DT(n,t.target.x),i=DT(n,t.target.y);return`${o}% ${i}%`}},gre={correct:(n,{treeScale:t,projectionDelta:o})=>{const i=n,l=Ru.parse(n);if(l.length>5)return i;const h=Ru.createTransformer(n),m=typeof l[0]!="number"?1:0,g=o.x.scale*t.x,y=o.y.scale*t.y;l[0+m]/=g,l[1+m]/=y;const w=an(g,y,.5);return typeof l[2+m]=="number"&&(l[2+m]/=w),typeof l[3+m]=="number"&&(l[3+m]/=w),h(l)}};class yre extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:o,switchLayoutGroup:i,layoutId:l}=this.props,{projection:h}=t;tte(bre),h&&(o.group&&o.group.add(h),i&&i.register&&l&&i.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),ww.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:o,visualElement:i,drag:l,isPresent:h}=this.props,{projection:m}=i;return m&&(m.isPresent=h,l||t.layoutDependency!==o||o===void 0||t.isPresent!==h?m.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?m.promote():m.relegate()||ln.postRender(()=>{const g=m.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:o,switchLayoutGroup:i}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function N9(n){const[t,o]=$O(),i=z.useContext(X2);return r.jsx(yre,{...n,layoutGroup:i,switchLayoutGroup:z.useContext(s9),isPresent:t,safeToRemove:o})}const bre={borderRadius:{...tb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tb,borderTopRightRadius:tb,borderBottomLeftRadius:tb,borderBottomRightRadius:tb,boxShadow:gre};function xre(n,t,o){const i=Ks(n)?n:Bf(n);return i.start(TN("",i,t,o)),i.animation}const vre=(n,t)=>n.depth-t.depth;class wre{constructor(){this.children=[],this.isDirty=!1}add(t){eN(this.children,t),this.isDirty=!0}remove(t){tN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vre),this.isDirty=!1,this.children.forEach(t)}}function kre(n,t){const o=Po.now(),i=({timestamp:l})=>{const h=l-o;h>=t&&(Iu(i),n(h-t))};return ln.setup(i,!0),()=>Iu(i)}const j9=["TopLeft","TopRight","BottomLeft","BottomRight"],Cre=j9.length,MT=n=>typeof n=="string"?parseFloat(n):n,TT=n=>typeof n=="number"||Ct.test(n);function _re(n,t,o,i,l,h){l?(n.opacity=an(0,o.opacity??1,Are(i)),n.opacityExit=an(t.opacity??1,0,Nre(i))):h&&(n.opacity=an(t.opacity??1,o.opacity??1,i));for(let m=0;m<Cre;m++){const g=`border${j9[m]}Radius`;let y=IT(t,g),w=IT(o,g);if(y===void 0&&w===void 0)continue;y||(y=0),w||(w=0),y===0||w===0||TT(y)===TT(w)?(n[g]=Math.max(an(MT(y),MT(w),i),0),(Bl.test(w)||Bl.test(y))&&(n[g]+="%")):n[g]=w}(t.rotate||o.rotate)&&(n.rotate=an(t.rotate||0,o.rotate||0,i))}function IT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const Are=S9(0,.5,vO),Nre=S9(.5,.95,Li);function S9(n,t,o){return i=>i<n?0:i>t?1:o(Ub(n,t,i))}function RT(n,t){n.min=t.min,n.max=t.max}function Pi(n,t){RT(n.x,t.x),RT(n.y,t.y)}function PT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function OT(n,t,o,i,l){return n-=t,n=ok(n,1/o,i),l!==void 0&&(n=ok(n,1/l,i)),n}function jre(n,t=0,o=1,i=.5,l,h=n,m=n){if(Bl.test(t)&&(t=parseFloat(t),t=an(m.min,m.max,t/100)-m.min),typeof t!="number")return;let g=an(h.min,h.max,i);n===h&&(g-=t),n.min=OT(n.min,t,o,g,l),n.max=OT(n.max,t,o,g,l)}function BT(n,t,[o,i,l],h,m){jre(n,t[o],t[i],t[l],t.scale,h,m)}const Sre=["x","scaleX","originX"],Ere=["y","scaleY","originY"];function LT(n,t,o,i){BT(n.x,t,Sre,o?o.x:void 0,i?i.x:void 0),BT(n.y,t,Ere,o?o.y:void 0,i?i.y:void 0)}function zT(n){return n.translate===0&&n.scale===1}function E9(n){return zT(n.x)&&zT(n.y)}function FT(n,t){return n.min===t.min&&n.max===t.max}function Dre(n,t){return FT(n.x,t.x)&&FT(n.y,t.y)}function VT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function D9(n,t){return VT(n.x,t.x)&&VT(n.y,t.y)}function UT(n){return co(n.x)/co(n.y)}function GT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class Mre{constructor(){this.members=[]}add(t){eN(this.members,t),t.scheduleRender()}remove(t){if(tN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(t){const o=this.members.findIndex(l=>t===l);if(o===0)return!1;let i;for(let l=o;l>=0;l--){const h=this.members[l];if(h.isPresent!==!1){i=h;break}}return i?(this.promote(i),!0):!1}promote(t,o){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,o&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:o,resumingFrom:i}=t;o.onExitComplete&&o.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tre(n,t,o){let i="";const l=n.x.translate/t.x,h=n.y.translate/t.y,m=(o==null?void 0:o.z)||0;if((l||h||m)&&(i=`translate3d(${l}px, ${h}px, ${m}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),o){const{transformPerspective:w,rotate:k,rotateX:_,rotateY:N,skewX:D,skewY:T}=o;w&&(i=`perspective(${w}px) ${i}`),k&&(i+=`rotate(${k}deg) `),_&&(i+=`rotateX(${_}deg) `),N&&(i+=`rotateY(${N}deg) `),D&&(i+=`skewX(${D}deg) `),T&&(i+=`skewY(${T}deg) `)}const g=n.x.scale*t.x,y=n.y.scale*t.y;return(g!==1||y!==1)&&(i+=`scale(${g}, ${y})`),i||"none"}const h_=["","X","Y","Z"],Ire={visibility:"hidden"},Rre=1e3;let Pre=0;function m_(n,t,o,i){const{latestValues:l}=t;l[n]&&(o[n]=l[n],t.setStaticValue(n,0),i&&(i[n]=0))}function M9(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const o=m9(t);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:l,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(o,"transform",ln,!(l||h))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&M9(i)}function T9({attachResizeListener:n,defaultParent:t,measureScroll:o,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(m={},g=t==null?void 0:t()){this.id=Pre++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lre),this.nodes.forEach(Ure),this.nodes.forEach(Gre),this.nodes.forEach(zre)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new wre)}addEventListener(m,g){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new sN),this.eventHandlers.get(m).add(g)}notifyListeners(m,...g){const y=this.eventHandlers.get(m);y&&y.notify(...g)}hasListeners(m){return this.eventHandlers.has(m)}mount(m){if(this.instance)return;this.isSVG=ZO(m)&&!Tee(m),this.instance=m;const{layoutId:g,layout:y,visualElement:w}=this.options;if(w&&!w.current&&w.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||g)&&(this.isLayoutDirty=!0),n){let k;const _=()=>this.root.updateBlockedByResize=!1;n(m,()=>{this.root.updateBlockedByResize=!0,k&&k(),k=kre(_,250),ww.hasAnimatedSinceResize&&(ww.hasAnimatedSinceResize=!1,this.nodes.forEach(YT))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&w&&(g||y)&&this.addEventListener("didUpdate",({delta:k,hasLayoutChanged:_,hasRelativeLayoutChanged:N,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||w.getDefaultTransition()||Kre,{onLayoutAnimationStart:R,onLayoutAnimationComplete:P}=w.getProps(),F=!this.targetLayout||!D9(this.targetLayout,D),V=!_&&N;if(this.options.layoutRoot||this.resumeFrom||V||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...bN(T,"layout"),onPlay:R,onComplete:P};(w.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(k,V)}else _||YT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hre),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let k=0;k<this.path.length;k++){const _=this.path[k];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:g,layout:y}=this.options;if(g===void 0&&!y)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qT);return}this.isUpdating||this.nodes.forEach(qT),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(Vre),this.nodes.forEach(Ore),this.nodes.forEach(Bre),this.clearAllSnapshots();const g=Po.now();Ds.delta=td(0,1e3/60,g-Ds.timestamp),Ds.timestamp=g,Ds.isProcessing=!0,n_.update.process(Ds),n_.preRender.process(Ds),n_.render.process(Ds),Ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Fre),this.sharedNodes.forEach(qre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!co(this.snapshot.measuredBox.x)&&!co(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(g=!1),g&&this.instance){const y=i(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:y,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!E9(this.projectionDelta),y=this.getTransformTemplate(),w=y?y(this.latestValues,""):void 0,k=w!==this.prevTransformTemplateValue;m&&this.instance&&(g||cm(this.latestValues)||k)&&(l(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const g=this.measurePageBox();let y=this.removeElementScroll(g);return m&&(y=this.removeTransform(y)),Qre(y),{animationId:this.root.animationId,measuredBox:g,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var w;const{visualElement:m}=this.options;if(!m)return In();const g=m.measureViewportBox();if(!(((w=this.scroll)==null?void 0:w.wasRoot)||this.path.some(Jre))){const{scroll:k}=this.root;k&&(Cf(g.x,k.offset.x),Cf(g.y,k.offset.y))}return g}removeElementScroll(m){var y;const g=In();if(Pi(g,m),(y=this.scroll)!=null&&y.wasRoot)return g;for(let w=0;w<this.path.length;w++){const k=this.path[w],{scroll:_,options:N}=k;k!==this.root&&_&&N.layoutScroll&&(_.wasRoot&&Pi(g,m),Cf(g.x,_.offset.x),Cf(g.y,_.offset.y))}return g}applyTransform(m,g=!1){const y=In();Pi(y,m);for(let w=0;w<this.path.length;w++){const k=this.path[w];!g&&k.options.layoutScroll&&k.scroll&&k!==k.root&&_f(y,{x:-k.scroll.offset.x,y:-k.scroll.offset.y}),cm(k.latestValues)&&_f(y,k.latestValues)}return cm(this.latestValues)&&_f(y,this.latestValues),y}removeTransform(m){const g=In();Pi(g,m);for(let y=0;y<this.path.length;y++){const w=this.path[y];if(!w.instance||!cm(w.latestValues))continue;SA(w.latestValues)&&w.updateSnapshot();const k=In(),_=w.measurePageBox();Pi(k,_),LT(g,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,k)}return cm(this.latestValues)&&LT(g,this.latestValues),g}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){var N;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==g;if(!(m||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:k,layoutId:_}=this.options;if(!(!this.layout||!(k||_))){if(this.resolvedRelativeTargetAt=Ds.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),Nb(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$te(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),w9(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),Nb(this.relativeTargetOrigin,this.target,D.target),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SA(this.parent.latestValues)||v9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const m=this.getLead(),g=!!this.resumingFrom||this!==m;let y=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(y=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Ds.timestamp&&(y=!1),y)return;const{layout:w,layoutId:k}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||k))return;Pi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,N=this.treeScale.y;ere(this.layoutCorrected,this.treeScale,this.path,g),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=In());const{target:D}=m;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PT(this.prevProjectionDelta.x,this.projectionDelta.x),PT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ab(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==N||!GT(this.projectionDelta.x,this.prevProjectionDelta.x)||!GT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){var g;if((g=this.options.visualElement)==null||g.scheduleRender(),m){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kf(),this.projectionDelta=kf(),this.projectionDeltaWithTransform=kf()}setAnimationOrigin(m,g=!1){const y=this.snapshot,w=y?y.latestValues:{},k={...this.latestValues},_=kf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const N=In(),D=y?y.source:void 0,T=this.layout?this.layout.source:void 0,R=D!==T,P=this.getStack(),F=!P||P.members.length<=1,V=!!(R&&!F&&this.options.crossfade===!0&&!this.path.some(Wre));this.animationProgress=0;let G;this.mixTargetDelta=Y=>{const ee=Y/1e3;WT(_.x,m.x,ee),WT(_.y,m.y,ee),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nb(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yre(this.relativeTarget,this.relativeTargetOrigin,N,ee),G&&Dre(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=In()),Pi(G,this.relativeTarget)),R&&(this.animationValues=k,_re(k,w,this.latestValues,ee,V,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){var g,y,w;this.notifyListeners("animationStart"),(g=this.currentAnimation)==null||g.stop(),(w=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||w.stop(),this.pendingAnimation&&(Iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{ww.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bf(0)),this.currentAnimation=xre(this.motionValue,[0,1e3],{...m,velocity:0,isSync:!0,onUpdate:k=>{this.mixTargetDelta(k),m.onUpdate&&m.onUpdate(k)},onStop:()=>{},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:g,target:y,layout:w,latestValues:k}=m;if(!(!g||!y||!w)){if(this!==m&&this.layout&&w&&I9(this.options.animationType,this.layout.layoutBox,w.layoutBox)){y=this.target||In();const _=co(this.layout.layoutBox.x);y.x.min=m.target.x.min,y.x.max=y.x.min+_;const N=co(this.layout.layoutBox.y);y.y.min=m.target.y.min,y.y.max=y.y.min+N}Pi(g,y),_f(g,k),Ab(this.projectionDeltaWithTransform,this.layoutCorrected,g,k)}}registerSharedNode(m,g){this.sharedNodes.has(m)||this.sharedNodes.set(m,new Mre),this.sharedNodes.get(m).add(g);const w=g.options.initialPromotionConfig;g.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(g):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){var g;const{layoutId:m}=this.options;return m?((g=this.getStack())==null?void 0:g.lead)||this:this}getPrevLead(){var g;const{layoutId:m}=this.options;return m?(g=this.getStack())==null?void 0:g.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:g,preserveFollowOpacity:y}={}){const w=this.getStack();w&&w.promote(this,y),m&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let g=!1;const{latestValues:y}=m;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(g=!0),!g)return;const w={};y.z&&m_("z",m,w,this.animationValues);for(let k=0;k<h_.length;k++)m_(`rotate${h_[k]}`,m,w,this.animationValues),m_(`skew${h_[k]}`,m,w,this.animationValues);m.render();for(const k in w)m.setStaticValue(k,w[k]),this.animationValues&&(this.animationValues[k]=w[k]);m.scheduleRender()}getProjectionStyles(m){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ire;const g={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=vw(m==null?void 0:m.pointerEvents)||"",g.transform=y?y(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=vw(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!cm(this.latestValues)&&(D.transform=y?y({},""):"none",this.hasProjected=!1),D}const k=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=Tre(this.projectionDeltaWithTransform,this.treeScale,k),y&&(g.transform=y(k,g.transform));const{x:_,y:N}=this.projectionDelta;g.transformOrigin=`${_.origin*100}% ${N.origin*100}% 0`,w.animationValues?g.opacity=w===this?k.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:k.opacityExit:g.opacity=w===this?k.opacity!==void 0?k.opacity:"":k.opacityExit!==void 0?k.opacityExit:0;for(const D in Yb){if(k[D]===void 0)continue;const{correct:T,applyTo:R,isCSSVariable:P}=Yb[D],F=g.transform==="none"?k[D]:T(k[D],w);if(R){const V=R.length;for(let G=0;G<V;G++)g[R[G]]=F}else P?this.options.visualElement.renderState.vars[D]=F:g[D]=F}return this.options.layoutId&&(g.pointerEvents=w===this?vw(m==null?void 0:m.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>{var g;return(g=m.currentAnimation)==null?void 0:g.stop()}),this.root.nodes.forEach(HT),this.root.sharedNodes.clear()}}}function Ore(n){n.updateLayout()}function Bre(n){var o;const t=((o=n.resumeFrom)==null?void 0:o.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=n.layout,{animationType:h}=n.options,m=t.source!==n.layout.source;h==="size"?Oi(_=>{const N=m?t.measuredBox[_]:t.layoutBox[_],D=co(N);N.min=i[_].min,N.max=N.min+D}):I9(h,t.layoutBox,i)&&Oi(_=>{const N=m?t.measuredBox[_]:t.layoutBox[_],D=co(i[_]);N.max=N.min+D,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+D)});const g=kf();Ab(g,i,t.layoutBox);const y=kf();m?Ab(y,n.applyTransform(l,!0),t.measuredBox):Ab(y,i,t.layoutBox);const w=!E9(g);let k=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:N,layout:D}=_;if(N&&D){const T=In();Nb(T,t.layoutBox,N.layoutBox);const R=In();Nb(R,i,D.layoutBox),D9(T,R)||(k=!0),_.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=T,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:y,layoutDelta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:k})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Lre(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function zre(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Fre(n){n.clearSnapshot()}function HT(n){n.clearMeasurements()}function qT(n){n.isLayoutDirty=!1}function Vre(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function YT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Ure(n){n.resolveTargetDelta()}function Gre(n){n.calcProjection()}function Hre(n){n.resetSkewAndRotation()}function qre(n){n.removeLeadSnapshot()}function WT(n,t,o){n.translate=an(t.translate,0,o),n.scale=an(t.scale,1,o),n.origin=t.origin,n.originPoint=t.originPoint}function KT(n,t,o,i){n.min=an(t.min,o.min,i),n.max=an(t.max,o.max,i)}function Yre(n,t,o,i){KT(n.x,t.x,o.x,i),KT(n.y,t.y,o.y,i)}function Wre(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Kre={duration:.45,ease:[.4,0,.1,1]},QT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),JT=QT("applewebkit/")&&!QT("chrome/")?Math.round:Li;function XT(n){n.min=JT(n.min),n.max=JT(n.max)}function Qre(n){XT(n.x),XT(n.y)}function I9(n,t,o){return n==="position"||n==="preserve-aspect"&&!Zte(UT(t),UT(o),.2)}function Jre(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const Xre=T9({attachResizeListener:(n,t)=>Kb(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),p_={current:void 0},R9=T9({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!p_.current){const n=new Xre({});n.mount(window),n.setOptions({layoutScroll:!0}),p_.current=n}return p_.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Zre={pan:{Feature:fre},drag:{Feature:pre,ProjectionNode:R9,MeasureLayout:N9}};function ZT(n,t,o){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",o==="Start");const l="onHover"+o,h=i[l];h&&ln.postRender(()=>h(t,xx(t)))}class $re extends Vu{mount(){const{current:t}=this.node;t&&(this.unmount=jee(t,(o,i)=>(ZT(this.node,i,"Start"),l=>ZT(this.node,l,"End"))))}unmount(){}}class ene extends Vu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gx(Kb(this.node.current,"focus",()=>this.onFocus()),Kb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $T(n,t,o){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",o==="Start");const l="onTap"+(o==="End"?"":o),h=i[l];h&&ln.postRender(()=>h(t,xx(t)))}class tne extends Vu{mount(){const{current:t}=this.node;t&&(this.unmount=Mee(t,(o,i)=>($T(this.node,i,"Start"),(l,{success:h})=>$T(this.node,l,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const MA=new WeakMap,f_=new WeakMap,rne=n=>{const t=MA.get(n.target);t&&t(n)},nne=n=>{n.forEach(rne)};function sne({root:n,...t}){const o=n||document;f_.has(o)||f_.set(o,{});const i=f_.get(o),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(nne,{root:n,...t})),i[l]}function one(n,t,o){const i=sne(t);return MA.set(n,o),i.observe(n),()=>{MA.delete(n),i.unobserve(n)}}const ine={some:0,all:1};class ane extends Vu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:o,margin:i,amount:l="some",once:h}=t,m={root:o?o.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:ine[l]},g=y=>{const{isIntersecting:w}=y;if(this.isInView===w||(this.isInView=w,h&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:k,onViewportLeave:_}=this.node.getProps(),N=w?k:_;N&&N(y)};return one(this.node.current,m,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:o}=this.node;["amount","margin","root"].some(lne(t,o))&&this.startObserver()}unmount(){}}function lne({viewport:n={}},{viewport:t={}}={}){return o=>n[o]!==t[o]}const cne={inView:{Feature:ane},tap:{Feature:tne},focus:{Feature:ene},hover:{Feature:$re}},dne={layout:{ProjectionNode:R9,MeasureLayout:N9}},TA={current:null},P9={current:!1};function une(){if(P9.current=!0,!!$2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>TA.current=n.matches;n.addListener(t),t()}else TA.current=!1}const hne=new WeakMap;function mne(n,t,o){for(const i in t){const l=t[i],h=o[i];if(Ks(l))n.addValue(i,l);else if(Ks(h))n.addValue(i,Bf(l,{owner:n}));else if(h!==l)if(n.hasValue(i)){const m=n.getValue(i);m.liveStyle===!0?m.jump(l):m.hasAnimated||m.set(l)}else{const m=n.getStaticValue(i);n.addValue(i,Bf(m!==void 0?m:l,{owner:n}))}}for(const i in o)t[i]===void 0&&n.removeValue(i);return t}const eI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pne{scrapeMotionValuesFromProps(t,o,i){return{}}constructor({parent:t,props:o,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:h,visualState:m},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=Po.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,ln.render(this.render,!1,!0))};const{latestValues:y,renderState:w}=m;this.latestValues=y,this.baseTarget={...y},this.initialValues=o.initial?{...y}:{},this.renderState=w,this.parent=t,this.props=o,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=g,this.blockInitialAnimation=!!h,this.isControllingVariants=Yk(o),this.isVariantNode=r9(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:k,..._}=this.scrapeMotionValuesFromProps(o,{},this);for(const N in _){const D=_[N];y[N]!==void 0&&Ks(D)&&D.set(y[N],!1)}}mount(t){this.current=t,hne.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),P9.current||une(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:TA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Iu(this.notifyUpdate),Iu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const o=this.features[t];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(t,o){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=tg.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=o.on("change",g=>{this.latestValues[t]=g,this.props.onUpdate&&ln.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),h=o.on("renderRequest",this.scheduleRender);let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,t,o)),this.valueSubscriptions.set(t,()=>{l(),h(),m&&m(),o.owner&&o.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lf){const o=Lf[t];if(!o)continue;const{isEnabled:i,Feature:l}=o;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,o){this.latestValues[t]=o}update(t,o){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let i=0;i<eI.length;i++){const l=eI[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const h="on"+l,m=t[h];m&&(this.propEventSubscriptions[l]=this.on(l,m))}this.prevMotionValues=mne(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(t),()=>o.variantChildren.delete(t)}addValue(t,o){const i=this.values.get(t);o!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,o),this.values.set(t,o),this.latestValues[t]=o.get())}removeValue(t){this.values.delete(t);const o=this.valueSubscriptions.get(t);o&&(o(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,o){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&o!==void 0&&(i=Bf(o===null?void 0:o,{owner:this}),this.addValue(t,i)),i}readValue(t,o){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(dO(i)||hO(i))?i=parseFloat(i):!Ree(i)&&Ru.test(o)&&(i=WO(t,o)),this.setBaseTarget(t,Ks(i)?i.get():i)),Ks(i)?i.get():i}setBaseTarget(t,o){this.baseTarget[t]=o}getBaseTarget(t){var h;const{initial:o}=this.props;let i;if(typeof o=="string"||typeof o=="object"){const m=DN(this.props,o,(h=this.presenceContext)==null?void 0:h.custom);m&&(i=m[t])}if(o&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Ks(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,o){return this.events[t]||(this.events[t]=new sN),this.events[t].add(o)}notify(t,...o){this.events[t]&&this.events[t].notify(...o)}}class O9 extends pne{constructor(){super(...arguments),this.KeyframeResolver=kee}sortInstanceNodePosition(t,o){return t.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(t,o){return t.style?t.style[o]:void 0}removeValueFromRenderState(t,{vars:o,style:i}){delete o[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ks(t)&&(this.childSubscription=t.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function B9(n,{style:t,vars:o},i,l){Object.assign(n.style,t,l&&l.getProjectionStyles(i));for(const h in o)n.style.setProperty(h,o[h])}function fne(n){return window.getComputedStyle(n)}class gne extends O9{constructor(){super(...arguments),this.type="html",this.renderInstance=B9}readValueFromInstance(t,o){var i;if(tg.has(o))return(i=this.projection)!=null&&i.isProjecting?xA(o):V$(t,o);{const l=fne(t),h=(aN(o)?l.getPropertyValue(o):l[o])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(t,{transformPagePoint:o}){return k9(t,o)}build(t,o,i){jN(t,o,i.transformTemplate)}scrapeMotionValuesFromProps(t,o,i){return MN(t,o,i)}}const L9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yne(n,t,o,i){B9(n,t,void 0,i);for(const l in t.attrs)n.setAttribute(L9.has(l)?l:NN(l),t.attrs[l])}class bne extends O9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=In}getBaseTargetFromProps(t,o){return t[o]}readValueFromInstance(t,o){if(tg.has(o)){const i=YO(o);return i&&i.default||0}return o=L9.has(o)?o:NN(o),t.getAttribute(o)}scrapeMotionValuesFromProps(t,o,i){return h9(t,o,i)}build(t,o,i){l9(t,o,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,o,i,l){yne(t,o,i,l)}mount(t){this.isSVGTag=d9(t.tagName),super.mount(t)}}const xne=(n,t)=>EN(n)?new bne(t):new gne(t,{allowProjection:n!==z.Fragment}),vne=bte({...Hte,...cne,...Zre,...dne},xne),Rn=Gee(vne),vx=un(Gf((n,t)=>({banners:[],loading:!1,error:null,setBanners:o=>n({banners:o}),setLoading:o=>n({loading:o}),setError:o=>n({error:o}),fetchBanners:async()=>{var o,i;n({loading:!0,error:null});try{const l=await $e.get("/admin/banners/");if(l.status===200)return n({banners:l.data.banners||[],loading:!1}),l.data.banners}catch(l){throw console.error("Error fetching banners:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch banners",loading:!1}),l}},fetchPublicBanners:async()=>{var o,i;n({loading:!0,error:null});try{const l=await $e.get("/admin/banners/public/");if(l.status===200)return n({banners:l.data.banners||[],loading:!1}),l.data.banners}catch(l){throw console.error("Error fetching public banners:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch public banners",loading:!1}),l}},addBanner:async o=>{var i,l;n({loading:!0,error:null});try{const h=await $e.post("/admin/banners/add/",o,{headers:{"Content-Type":"multipart/form-data"}});if(h.status===201)return await t().fetchBanners(),n({loading:!1}),h.data}catch(h){throw console.error("Error adding banner:",h),n({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add banner",loading:!1}),h}},editBanner:async(o,i)=>{var l,h;n({loading:!0,error:null});try{const m=i instanceof FormData;let g={};m&&(g={"Content-Type":"multipart/form-data"});const y=await $e.patch(`/admin/banners/edit/${o}/`,i,{headers:g});if(y.status===200)return await t().fetchBanners(),n({loading:!1}),y.data}catch(m){throw console.error("Error editing banner:",m),n({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to edit banner",loading:!1}),m}},deleteBanner:async o=>{var i,l;n({loading:!0,error:null});try{const h=await $e.delete(`/admin/banners/delete/${o}/`);if(h.status===200){const{banners:m}=t(),g=m.filter(y=>y.id!==o);return n({banners:g,loading:!1}),h.data}}catch(h){throw console.error("Error deleting banner:",h),n({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete banner",loading:!1}),h}},toggleBannerActive:async o=>{var i,l;n({loading:!0,error:null});try{const h=await $e.patch(`/admin/banners/toggle/${o}/`);if(h.status===200){const{banners:m}=t(),g=m.map(y=>y.id===o?{...y,active:h.data.active}:y);return n({banners:g,loading:!1}),h.data}}catch(h){throw console.error("Error toggling banner:",h),n({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle banner",loading:!1}),h}},getBannersByPosition:o=>{const{banners:i}=t();return i.filter(l=>l.position===o&&l.active)},getHeroBanners:()=>{const{banners:o}=t();return o.filter(i=>i.position==="hero"&&i.active).sort((i,l)=>new Date(i.created_at)-new Date(l.created_at))},getCarouselBanners:()=>{const{banners:o}=t();return o.filter(l=>["home-middle","home-bottom","carousel"].includes(l.position)&&l.active).sort((l,h)=>new Date(l.created_at)-new Date(h.created_at))},getDropdownBanners:o=>{const{banners:i}=t();return i.filter(l=>l.position==="dropdown"&&l.active&&l.category===o).sort((l,h)=>new Date(l.created_at)-new Date(h.created_at)).slice(0,2)},clearError:()=>n({error:null})}))),wne=[{id:1,image:"/mobile1.png",backgroundColor:"#f8fafc"},{id:2,image:"/laptops.png",backgroundColor:"#f1f5f9"},{id:3,image:"/tv1.png",backgroundColor:"#e2e8f0"},{id:4,image:"/tablets1.png",backgroundColor:"#f1f5f9"},{id:5,image:"/accessories.png",backgroundColor:"#f8fafc"}],kne=()=>{const{fetchPublicBanners:n,getCarouselBanners:t}=vx(),[o,i]=z.useState(0),[[l,h],m]=z.useState([0,0]);z.useEffect(()=>{n()},[n]);const g=t(),y=g.length>0?g:wne;z.useEffect(()=>{const D=setTimeout(()=>{const T=(o+1)%y.length;m([T,1]),i(T)},5e3);return()=>clearTimeout(D)},[o,y.length]);const w=()=>{const D=(o-1+y.length)%y.length;m([D,-1]),i(D)},k=()=>{const D=(o+1)%y.length;m([D,1]),i(D)},_={enter:D=>({x:D>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:D=>({x:D<0?1e3:-1e3,opacity:0})},N={duration:.6,ease:"easeInOut"};return r.jsxs("div",{className:"relative overflow-hidden w-full",style:{boxShadow:"var(--shadow-large)",height:"500px"},children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 h-1.5 bg-white bg-opacity-20",children:r.jsx("div",{className:"h-full",style:{width:`${(o+1)/y.length*100}%`,backgroundColor:"var(--brand-primary)",transition:"width 5s linear"}})}),r.jsx("div",{className:"relative w-full h-full overflow-hidden",children:r.jsx(CN,{initial:!1,custom:h,children:r.jsxs(Rn.div,{custom:h,variants:_,initial:"enter",animate:"center",exit:"exit",transition:N,className:"absolute inset-0 w-full",children:[r.jsx(Rn.img,{src:y[o].image,alt:y[o].title||"Banner",className:"w-full h-full object-cover",style:{backgroundColor:y[o].backgroundColor||"#f1f5f9"},initial:{scale:.95},animate:{scale:1},transition:{duration:.5},loading:"eager"}),r.jsx(Rn.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20",animate:{rotate:[45,55,45],opacity:[.2,.25,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},children:r.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),r.jsx(Rn.div,{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:r.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})})]},l)})}),r.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:w,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Previous slide",children:r.jsx(Oa,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:k,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Next slide",children:r.jsx(_n,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:y.map((D,T)=>r.jsx(Rn.button,{onClick:()=>{const R=T>o?1:-1;m([T,R]),i(T)},className:`h-2.5 rounded-full ${T===o?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${T+1}`},T))})]})};function Cne(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(n)}function _ne(n){return Oe({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V20H17V4H7ZM6 2H18C18.5523 2 19 2.44772 19 3V21C19 21.5523 18.5523 22 18 22H6C5.44772 22 5 21.5523 5 21V3C5 2.44772 5.44772 2 6 2ZM12 17C12.5523 17 13 17.4477 13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17Z"},child:[]}]})(n)}function Ane(n){return Oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 12v-1.707c0-4.442-3.479-8.161-7.755-8.29-2.204-.051-4.251.736-5.816 2.256A7.933 7.933 0 0 0 4 10v2c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h2V10a5.95 5.95 0 0 1 1.821-4.306 5.977 5.977 0 0 1 4.363-1.691C15.392 4.099 18 6.921 18 10.293V20h2c1.103 0 2-.897 2-2v-4c0-1.103-.897-2-2-2z"},child:[]},{tag:"path",attr:{d:"M7 12h2v8H7zm8 0h2v8h-2z"},child:[]}]})(n)}function Nne(n){return Oe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"},child:[]}]})(n)}const z9=un(n=>({categories:{list:[],loading:!1,error:null},fetchCategories:async()=>{var t,o;n(i=>({categories:{...i.categories,loading:!0,error:null}}));try{const l=(await $e.get("/admin/categories/")).data.categories;return n({categories:{list:l,loading:!1,error:null}}),{success:!0,categories:l}}catch(i){const l=((o=(t=i.response)==null?void 0:t.data)==null?void 0:o.error)||"Failed to fetch categories";return n(h=>({categories:{...h.categories,loading:!1,error:l}})),{success:!1,error:l}}},addCategory:async t=>{var o,i;n(l=>({categories:{...l.categories,loading:!0,error:null}}));try{const l={...t,order:t.order||0},h=await $e.post("/admin/categories/add/",l);if(h.data.category)return n(m=>({categories:{...m.categories,list:[...m.categories.list,h.data.category],loading:!1,error:null}})),{success:!0,message:h.data.message||"Category added successfully",category:h.data.category}}catch(l){const h=((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to add category";return n(m=>({categories:{...m.categories,loading:!1,error:h}})),{success:!1,error:h}}},editCategory:async(t,o)=>{var i,l;n(h=>({categories:{...h.categories,loading:!0,error:null}}));try{const h={...o,order:o.order!==void 0?o.order:0},m=await $e.put(`/admin/categories/edit/${t}/`,h);if(m.data.category)return n(g=>({categories:{...g.categories,list:g.categories.list.map(y=>y.id===t?m.data.category:y),loading:!1,error:null}})),{success:!0,message:m.data.message||"Category updated successfully",category:m.data.category}}catch(h){const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update category";return n(g=>({categories:{...g.categories,loading:!1,error:m}})),{success:!1,error:m}}},uploadCategoryImage:async t=>{var o,i;try{const l=new FormData;l.append("image",t);const h=await $e.post("/admin/categories/upload-image/",l,{headers:{"Content-Type":"multipart/form-data"}});return h.data.success?{success:!0,imageUrl:h.data.image_url,message:h.data.message||"Image uploaded successfully"}:{success:!1,message:h.data.error||"Failed to upload image"}}catch(l){return{success:!1,message:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||l.message||"Failed to upload image"}}}})),jne={scrollbarWidth:"none",msOverflowStyle:"none"},Sne=()=>{const{categories:n,fetchCategories:t}=z9(),[o,i]=z.useState([]),l=z.useRef();z.useEffect(()=>{t()},[t]),z.useEffect(()=>{if(n&&n.length>0){const y=[...n].sort((w,k)=>(w.order||0)-(k.order||0));i(y)}else if(n.list&&n.list.length>0){const y=[...n.list].sort((w,k)=>(w.order||0)-(k.order||0));i(y)}},[n.list,n]);const h={Smartphones:r.jsx(_ne,{className:"w-full h-full"}),Laptops:r.jsx(wH,{className:"w-full h-full"}),Tablets:r.jsx(kH,{className:"w-full h-full"}),"Mobile Accessories":r.jsx(bt,{className:"w-full h-full"}),"Laptop Accessories":r.jsx(Nne,{className:"w-full h-full"}),"Audio Devices":r.jsx(Ane,{className:"w-full h-full"})},m=y=>{y.preventDefault(),l.current&&l.current.scrollBy({left:-300,behavior:"smooth"})},g=y=>{y.preventDefault(),l.current&&l.current.scrollBy({left:300,behavior:"smooth"})};return r.jsx("div",{className:"py-8",children:r.jsxs("div",{className:"relative px-2",onKeyDown:y=>{y.key==="ArrowLeft"&&m(y),y.key==="ArrowRight"&&g(y)},children:[r.jsx("button",{onClick:m,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(-5px)",cursor:"pointer"},"aria-label":"Scroll left",type:"button",children:r.jsx(xH,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),r.jsx("button",{onClick:g,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(5px)",cursor:"pointer"},"aria-label":"Scroll right",type:"button",children:r.jsx(vH,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),r.jsx("div",{ref:l,className:"overflow-x-auto relative z-10 scrollbar-hide",style:jne,tabIndex:"0",children:r.jsxs("div",{className:"flex gap-6 py-4 px-8",children:[n.loading&&r.jsx("div",{className:"flex justify-center w-full py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}),n.error&&r.jsxs("div",{className:"flex justify-center w-full py-8 text-red-500",children:["Error loading categories: ",n.error]}),o.map(y=>r.jsxs(nt,{to:`${y.redirect_url}`,className:"flex-shrink-0 flex flex-col items-center transition-transform duration-300 hover:-translate-y-1",style:{width:"280px"},children:[r.jsx("div",{className:"flex items-center justify-center mb-3 relative overflow-hidden transition-all duration-300 hover:shadow-lg",style:{width:"110px",height:"110px",borderRadius:"8px",padding:"5px",backgroundColor:"transparent"},children:y.image_url?r.jsx("img",{src:y.image_url,alt:y.name,className:"w-full h-full object-contain transition-transform duration-300 hover:scale-110",style:{maxWidth:"100%",maxHeight:"100%",backgroundColor:"transparent"},onError:w=>{w.target.onerror=null,w.target.style.display="none",w.target.nextSibling&&(w.target.nextSibling.style.display="block")}}):r.jsx("div",{className:"w-full h-full flex items-center justify-center transition-transform duration-300 hover:scale-110",style:{color:"var(--brand-primary)"},children:h[y.name]||r.jsx(Cne,{className:"w-14 h-14"})})}),r.jsx("h3",{className:"text-sm font-medium text-center transition-colors duration-300 hover:text-brand-primary",style:{color:"var(--text-primary)"},children:y.name})]},y.id))]})})]})})};function Ene(n){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(n)}function Dne(n){return Oe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(n)}function g_(n){return Oe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function tI(n){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function rI(n){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function nI(n){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function kw(n){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function sI(n){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}function y_(n){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function Mne(n){return Oe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(n)}function Tne(n){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function Ine(n){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(n)}function rb(n){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function oI(n){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Rne(n){return Oe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function Pne(n){return Oe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(n)}function J0(n){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function F9(n){return Oe({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(n)}function IA(n){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function X0(n){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function One(n){return Oe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function RA(n){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const Uu=un(qA((n,t)=>({items:[],itemCount:0,totalAmount:0,isLoading:!1,error:null,fetchCart:async()=>{var o,i;try{if(n({isLoading:!0,error:null}),br.getState().isAuthenticated){const m=(await $t.get("/users/cart/")).data.cart.map(g=>({id:g.product_id,item_id:g.item_id,name:g.name,price:g.price,image:g.image_url,quantity:g.quantity,stock:g.stock||10,category:g.category||"Product",added_at:g.added_at,variant_id:g.variant_id,variant:g.variant}));return n({items:m,isLoading:!1}),nb(),m}else return nb(),n({isLoading:!1}),t().items}catch(l){return n({isLoading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch cart"}),t().items}},addItem:async(o,i=1)=>{var l,h;try{n({isLoading:!0,error:null}),br.getState().isAuthenticated&&await $t.post(`/users/cart/add/${o.id}/`,{quantity:i,variant_id:o.variant_id||null});const{items:g}=t(),y=o.variant_id?`${o.id}_${o.variant_id}`:o.id,w=g.find(k=>(k.variant_id?`${k.id}_${k.variant_id}`:k.id)===y);return n(w?{items:g.map(k=>(k.variant_id?`${k.id}_${k.variant_id}`:k.id)===y?{...k,quantity:k.quantity+i}:k),isLoading:!1}:{items:[...g,{...o,quantity:i}],isLoading:!1}),nb(),ze.success("Item added to cart"),!0}catch(m){return n({isLoading:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to add item to cart"}),!1}},removeItem:async o=>{var i,l;try{n({isLoading:!0,error:null});const h=br.getState().isAuthenticated;if(h){const y=await $t.delete(`/users/cart/remove/${o}/`);y.data.message&&ze.success(y.data.message)}const{items:m}=t(),g=m.find(y=>y.item_id===o);return n({items:m.filter(y=>y.item_id!==o),isLoading:!1}),nb(),!h&&g&&ze.success(`${g.name} removed from cart`),!0}catch(h){const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to remove item from cart";return n({isLoading:!1,error:m}),ze.error(m),!1}},updateQuantity:async(o,i)=>{var l,h;try{n({isLoading:!0,error:null});const m=br.getState().isAuthenticated;if(i<=0)return t().removeItem(o);if(m){const{items:y}=t(),w=y.find(k=>k.item_id===o);w&&(await $t.delete(`/users/cart/remove/${o}/`),await $t.post(`/users/cart/add/${w.id}/`,{quantity:i,variant_id:w.variant_id||null}))}const{items:g}=t();return n({items:g.map(y=>y.item_id===o?{...y,quantity:i}:y),isLoading:!1}),nb(),!0}catch(m){return n({isLoading:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update item quantity"}),!1}},clearCart:async()=>{var o,i;try{if(n({isLoading:!0,error:null}),br.getState().isAuthenticated){const{items:h}=t(),m=h.map(g=>$t.delete(`/users/cart/remove/${g.item_id}/`));await Promise.all(m)}return n({items:[],itemCount:0,totalAmount:0,isLoading:!1}),!0}catch(l){return n({isLoading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to clear cart"}),!1}},updateTotals:()=>{const{items:o}=t(),i=o.reduce((h,m)=>h+m.quantity,0),l=o.reduce((h,m)=>h+m.price*m.quantity,0);n({itemCount:i,totalAmount:l})},clearError:()=>n({error:null})}),{name:"cart-storage"})),nb=()=>{Uu.getState().updateTotals()},Wk=un(qA((n,t)=>({items:[],isLoading:!1,error:null,fetchWishlist:async()=>{var o,i;try{if(n({isLoading:!0,error:null}),br.getState().isAuthenticated){const m=(await $t.get("/users/wishlist/")).data.wishlist.map(g=>({id:g.product_id,item_id:g.item_id,name:g.name,price:g.price,image:g.image_url,stock:g.stock||1,category:g.category||"Product",added_at:g.added_at,variant_id:g.variant_id,variant:g.variant}));return n({items:m,isLoading:!1}),m}else return n({isLoading:!1}),t().items}catch(l){return n({isLoading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch wishlist"}),t().items}},addItem:async o=>{var i,l;try{n({isLoading:!0,error:null});const h=br.getState().isAuthenticated,{items:m}=t();return m.find(y=>y.id===o.id)?(n({isLoading:!1}),!0):(h&&await $t.post(`/users/wishlist/add/${o.id}/`,{variant_id:o.variant_id||null}),n({items:[...m,o],isLoading:!1}),ze.success("Item added to wishlist"),!0)}catch(h){return n({isLoading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add item to wishlist"}),!1}},removeItem:async o=>{var i,l;try{n({isLoading:!0,error:null});const h=br.getState().isAuthenticated;if(h){const y=await $t.delete(`/users/wishlist/remove/${o}/`);y.data.message&&ze.success(y.data.message)}const{items:m}=t(),g=m.find(y=>y.item_id===o);return n({items:m.filter(y=>y.item_id!==o),isLoading:!1}),!h&&g&&ze.success(`${g.name} removed from wishlist`),!0}catch(h){const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to remove item from wishlist";return n({isLoading:!1,error:m}),ze.error(m),!1}},isInWishlist:o=>{const{items:i}=t();return i.some(l=>l.id===o)},clearWishlist:async()=>{var o,i;try{if(n({isLoading:!0,error:null}),br.getState().isAuthenticated){const{items:h}=t(),m=h.map(g=>$t.delete(`/users/wishlist/remove/${g.item_id}/`));await Promise.all(m)}return n({items:[],isLoading:!1}),!0}catch(l){return n({isLoading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to clear wishlist"}),!1}},clearError:()=>n({error:null})}),{name:"wishlist-storage"})),Kk=({product:n})=>{var D;const{addItem:t}=Uu(),{addItem:o,isInWishlist:i,removeItem:l,items:h}=Wk(),m=i(n.id),g=(D=n.valid_options)==null?void 0:D[0],y=(g==null?void 0:g.discounted_price)||(g==null?void 0:g.price)||n.discount_price||n.discountPrice||n.discounted_price||n.sale_price||n.price||0,w=(g==null?void 0:g.price)||n.price||n.original_price||0,k=()=>{var P;const T=((P=n.valid_options)==null?void 0:P[0])||null,R={...n,price:y,variant_id:(T==null?void 0:T.id)||null,variant:T?{id:T.id,color:T.colors,storage:T.storage,ram:T.ram,price:T.discounted_price||T.price}:null};t(R,1),Zt.success(`${n.name} added to cart!`)},_=()=>{var T;if(m){const R=h.find(P=>P.id===n.id);R&&(l(R.item_id),Zt.success(`${n.name} removed from wishlist!`))}else{const R=((T=n.valid_options)==null?void 0:T[0])||null,P={...n,price:y,variant_id:(R==null?void 0:R.id)||null,variant:R?{id:R.id,color:R.colors,storage:R.storage,ram:R.ram,price:R.discounted_price||R.price}:null};o(P),Zt.success(`${n.name} added to wishlist!`)}},N=T=>{const R=[],P=Math.floor(T),F=T%1!==0;for(let V=0;V<5;V++)V<P?R.push(r.jsx(IA,{className:"text-yellow-400"},V)):V===P&&F?R.push(r.jsx(F9,{className:"text-yellow-400"},V)):R.push(r.jsx(RA,{className:"text-yellow-400"},V));return R};return r.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[r.jsxs(nt,{to:`/products/${n.id}`,className:"block relative group",children:[r.jsx("div",{className:"bg-white p-4 flex items-center justify-center h-56",children:r.jsx("img",{src:n.image,alt:n.name,className:"max-h-48 w-auto object-contain transform transition-transform duration-300 group-hover:scale-110"})}),y<w&&r.jsxs("span",{className:"absolute top-3 left-3 text-xs font-medium px-2.5 py-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:[Math.round((w-y)/w*100),"% OFF"]})]}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1 pr-3",children:[r.jsxs("p",{className:"text-xs mb-1.5",style:{color:"var(--text-secondary)"},children:[n.brand,"  ",n.category]}),r.jsx("h3",{className:"font-medium mb-1.5 line-clamp-2 min-h-[2.5rem]",style:{color:"var(--text-primary)"},children:r.jsx(nt,{to:`/products/${n.id}`,children:n.name})}),r.jsxs("div",{className:"flex items-center mb-2.5",children:[r.jsx("div",{className:"flex items-center",children:N(n.rating)}),r.jsx("span",{className:"text-xs ml-1.5",style:{color:"var(--text-secondary)"},children:n.rating})]}),r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsxs("p",{className:"font-bold text-lg",style:{color:"var(--text-accent)"},children:["",y.toLocaleString()]}),y<w&&r.jsxs("p",{className:"text-sm line-through ml-2",style:{color:"var(--text-secondary)"},children:["",w.toLocaleString()]})]})]}),r.jsx("button",{onClick:_,className:"flex items-center justify-center h-8 w-8 rounded-full transition-colors",style:{backgroundColor:m?"var(--brand-primary)":"var(--bg-accent-light)",color:m?"white":"var(--brand-primary)"},children:r.jsx(Xf,{className:`text-lg ${m?"fill-current":""}`})})]}),r.jsx("div",{className:"mt-3",children:r.jsx(tt,{onClick:k,fullWidth:!0,className:"flex items-center justify-center",icon:r.jsx(Zf,{className:"mr-1.5"}),children:"Add to Cart"})})]})]})},Bne=({products:n})=>{const t=(n||[]).map(o=>({...o,id:o.id||o._id,name:o.name||`${o.brand} ${o.model||""}`.trim(),image:o.images&&o.images.length>0?o.images[0]:o.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:o.discount_price||o.offer_price||o.price,price:o.price,discount:o.discount||(o.price&&o.discount_price?`${Math.round((o.price-(o.discount_price||o.offer_price))/o.price*100)}%`:null),rating:o.rating||4,reviews:o.reviews||o.reviews_count||0,brand:o.brand||"Unknown",category:o.category||"General",stock:o.stock||0}));return r.jsx("div",{className:"featured-products py-10",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:"Featured Products"}),r.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Discover our best-selling items handpicked for you"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(o=>r.jsx(Kk,{product:o},o.id))}),t.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{style:{color:"var(--text-secondary)"},children:"No featured products available at the moment."})})]})})},Lne=[{image:"/mobile1.png",title:"Latest Smartphones",subtitle:"Discover the newest technology at unbeatable prices",tag:"New Arrivals",cta:"Shop Phones",backgroundColor:"#f8fafc"},{image:"/laptops.png",title:"Premium Laptops",subtitle:"Powerful devices for work and play",tag:"Best Sellers",cta:"Shop Laptops",backgroundColor:"#f1f5f9"},{image:"/tv1.png",title:"Smart TVs",subtitle:"Immersive entertainment for your home",tag:"Featured",cta:"Shop TVs",backgroundColor:"#e2e8f0"}],zne=()=>{const{fetchPublicBanners:n,getHeroBanners:t}=vx(),o=as(),[i,l]=z.useState(0),[[h,m],g]=z.useState([0,0]);z.useEffect(()=>{n()},[n]);const y=t();console.log("Hero Banners:",y);const w=y.length>0?y:Lne;z.useEffect(()=>{if(w.length===0)return;const R=setTimeout(()=>{const P=(i+1)%w.length;g([P,1]),l(P)},5e3);return()=>clearTimeout(R)},[i,w.length]);const k=()=>{const R=(i-1+w.length)%w.length;g([R,-1]),l(R)},_=()=>{const R=(i+1)%w.length;g([R,1]),l(R)},N=R=>{R&&o(`/category/${R}`)},D={enter:R=>({x:R>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:R=>({x:R<0?1e3:-1e3,opacity:0})},T={duration:.6,ease:"easeInOut"};return r.jsx("section",{className:"relative overflow-hidden",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"relative overflow-hidden transform hover:scale-[1.01] transition-all duration-700 ease-in-out animate-fadeIn",style:{boxShadow:"var(--shadow-large), 0 15px 30px -10px rgba(245, 158, 11, 0.2)",height:"500px"},children:[r.jsx(CN,{initial:!1,custom:m,children:r.jsxs(Rn.div,{custom:m,variants:D,initial:"enter",animate:"center",exit:"exit",transition:T,className:"absolute inset-0",children:[r.jsx("img",{src:w[i].image,alt:w[i].title,className:"w-full h-full object-cover object-center",style:{backgroundColor:w[i].backgroundColor},loading:"eager"}),r.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-14",children:r.jsxs("div",{className:"max-w-lg relative",children:[w[i].tag&&r.jsx(Rn.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"inline-block px-5 py-2 mb-5 rounded-full text-sm font-medium shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.5)"},children:w[i].tag}),r.jsx(Rn.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-4 leading-tight drop-shadow-lg",style:{color:"var(--text-on-brand)",textShadow:"0 2px 10px rgba(0,0,0,0.4)",letterSpacing:"-0.02em"},children:w[i].title}),w[i].subtitle&&r.jsx(Rn.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg sm:text-xl md:text-2xl mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:w[i].subtitle}),w[i].description&&r.jsx(Rn.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-base mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:w[i].description}),r.jsxs(Rn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-wrap gap-4",children:[r.jsxs(tt,{variant:"primary",fullWidth:!1,size:"lg",onClick:()=>N(w[i].link),className:"transition-all duration-500 hover:translate-y-[-4px] hover:shadow-xl relative overflow-hidden group",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.5)",borderRadius:"var(--rounded-md)",padding:"0.85rem 2rem"},children:[r.jsxs("span",{className:"relative z-10 text-base font-semibold flex items-center gap-2",children:[w[i].cta||"Shop Now",r.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),r.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-30 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"})]}),w[i].link&&r.jsxs(tt,{variant:"outline",fullWidth:!1,size:"lg",onClick:()=>N(w[i].link),className:"transition-all duration-500 hover:translate-y-[-4px] hover:shadow-xl relative overflow-hidden group",style:{backgroundColor:"rgba(255, 255, 255, 0.12)",borderColor:"rgba(255, 255, 255, 0.4)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",padding:"0.85rem 2rem",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.15)"},children:[r.jsx("span",{className:"relative z-10 text-base font-semibold",children:"Learn More"}),r.jsx("span",{className:"absolute inset-0 bg-white/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"})]})]})]})})]},h)}),r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:r.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:k,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-r-lg ml-2","aria-label":"Previous slide",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:r.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:_,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-l-lg mr-2","aria-label":"Next slide",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),r.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:w.map((R,P)=>r.jsx(Rn.button,{onClick:()=>{const F=P>i?1:-1;g([P,F]),l(P)},className:`h-2.5 rounded-full ${P===i?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${P+1}`},P))}),r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20 animate-pulse",style:{animationDuration:"5s"},children:r.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),r.jsx("div",{className:"absolute top-1/2 right-1/3 w-40 h-40 opacity-15 rotate-12 animate-pulse",style:{animationDuration:"8s"},children:r.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-secondary) 0%, transparent 70%)",filter:"blur(30px)"}})}),r.jsx("div",{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10 animate-pulse",style:{animationDuration:"12s"},children:r.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})}),r.jsx("div",{className:"absolute bottom-0 left-1/4 w-20 h-20 opacity-10 rotate-90 animate-pulse",style:{animationDuration:"10s"},children:r.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(15px)"}})})]})})})},iI={markReviewHelpful:async(n,t)=>{var o,i,l,h,m,g,y;try{return{success:!0,data:(await $t.post(`/products/${n}/reviews/${t}/helpful/`)).data}}catch(w){let k="Failed to mark review as helpful";return((o=w.response)==null?void 0:o.status)===401?k="Please log in to mark reviews as helpful":((i=w.response)==null?void 0:i.status)===404?k="Review not found":((l=w.response)==null?void 0:l.status)===409?k="You have already marked this review as helpful":(m=(h=w.response)==null?void 0:h.data)!=null&&m.error?k=w.response.data.error:(y=(g=w.response)==null?void 0:g.data)!=null&&y.message&&(k=w.response.data.message),{success:!1,error:k}}},reportReview:async(n,t)=>{var o,i,l,h,m,g,y;try{const w=await $t.post(`/products/${n}/reviews/${t}/report/`);return{success:!0,data:w.data,message:w.data.message||"Review reported successfully"}}catch(w){let k="Failed to report review";return((o=w.response)==null?void 0:o.status)===401?k="Please log in to report reviews":((i=w.response)==null?void 0:i.status)===404?k="Review not found":((l=w.response)==null?void 0:l.status)===409?k="You have already reported this review":(m=(h=w.response)==null?void 0:h.data)!=null&&m.error?k=w.response.data.error:(y=(g=w.response)==null?void 0:g.data)!=null&&y.message&&(k=w.response.data.message),{success:!1,error:k}}}},Gl=un((n,t)=>({products:[],categories:[],brands:[],featuredProducts:[],currentProduct:null,loading:!1,error:null,reviewLoading:!1,reviewError:null,fetchProducts:async()=>{n({loading:!0});try{const o=await $t.get(`${hm}/products/products/`),i=Array.from(new Set(o.data.products.map(m=>m.category))),l=Array.from(new Set(o.data.products.map(m=>m.brand))),h=o.data.products.filter(m=>m.featured===!0||m.rating>=4.5).sort((m,g)=>m.featured&&!g.featured?-1:!m.featured&&g.featured?1:(g.rating||0)-(m.rating||0)).slice(0,8);n({products:o.data.products,categories:i,brands:l,featuredProducts:h,loading:!1})}catch(o){console.error("Error fetching products:",o),n({error:"Failed to fetch products. Please try again later.",loading:!1})}},fetchCategories:async()=>{n({loading:!0});try{const o=await $t.get(`${hm}/products/categories`);n({categories:o.data.categories,loading:!1})}catch(o){n({error:o.message,loading:!1})}},getProduct:o=>{const{products:i}=t();return i.find(l=>l.id===parseInt(o,10))},fetchProduct:async o=>{n({loading:!0,error:null});try{const i=await $t.get(`${hm}/products/products/${o}/`);return n({currentProduct:i.data.product,loading:!1}),i.data.product}catch(i){return console.error("Error fetching product:",i),n({error:"Failed to fetch product. Please try again later.",loading:!1}),null}},clearCurrentProduct:()=>{n({currentProduct:null})},getProductsByCategory:o=>{const{products:i}=t();return i.filter(l=>l.category.toLowerCase()===o.toLowerCase())},getProductsByBrand:o=>{const{products:i}=t();return i.filter(l=>l.brand.toLowerCase()===o.toLowerCase())},searchProducts:o=>{const{products:i}=t();if(!o||o.trim()==="")return[];const l=o.toLowerCase().trim(),h=l.split(/\s+/);return i.map(g=>{var w,k,_;let y=0;return g.name.toLowerCase().includes(l)&&(y+=100),h.forEach(N=>{g.name.toLowerCase().includes(N)&&(y+=50)}),(w=g.brand)!=null&&w.toLowerCase().includes(l)&&(y+=40),(k=g.category)!=null&&k.toLowerCase().includes(l)&&(y+=30),(_=g.description)!=null&&_.toLowerCase().includes(l)&&(y+=20),h.forEach(N=>{var D;(D=g.description)!=null&&D.toLowerCase().includes(N)&&(y+=10)}),{product:g,score:y}}).filter(g=>g.score>0).sort((g,y)=>y.score-g.score).map(g=>g.product)},addReview:async(o,i)=>{var l,h,m,g,y;n({reviewLoading:!0,reviewError:null});try{const w=await $t.post(`/users/add-review/${o}/`,i,{headers:{"Content-Type":"application/json"}}),k=t();return k.currentProduct&&k.currentProduct.id===Number(o)&&await k.fetchProduct(o),n({reviewLoading:!1}),{success:!0,data:w.data,message:w.data.message||"Review added successfully"}}catch(w){console.error("Error adding review:",w);let k="Failed to add review. Please try again later.";return(h=(l=w.response)==null?void 0:l.data)!=null&&h.error?k=w.response.data.error:((m=w.response)==null?void 0:m.status)===400?k="Invalid review data. Please check your input.":((g=w.response)==null?void 0:g.status)===404?k="Product not found.":((y=w.response)==null?void 0:y.status)===401&&(k="Please log in to add a review."),n({reviewError:k,reviewLoading:!1}),{success:!1,error:k}}},clearReviewError:()=>{n({reviewError:null})},checkExistingReview:async o=>{var i,l;try{return{success:!0,has_reviewed:(await $t.get(`/users/product/${o}/check_review/`)).data.has_reviewed||!1}}catch(h){return console.error("Error checking existing review:",h),{success:!1,has_reviewed:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to check existing review"}}},markReviewHelpful:async(o,i)=>{try{const l=await iI.markReviewHelpful(o,i);if(l.success){const{currentProduct:h}=t();if(h&&h.id===o){const m=h.reviewsData.map(g=>g.id===i?{...g,helpful_count:l.data.helpful_count,is_marked_helpful:l.data.is_marked_helpful}:g);n({currentProduct:{...h,reviewsData:m}})}return l}return l}catch(l){return console.error("Error marking review as helpful:",l),{success:!1,error:"Failed to mark review as helpful"}}},reportReview:async(o,i)=>{try{return await iI.reportReview(o,i)}catch(l){return console.error("Error reporting review:",l),{success:!1,error:"Failed to report review"}}},fetchFeaturedProducts:async()=>{n({loading:!0});try{const i=(await $t.get(`${hm}/products/products/`)).data.products.filter(l=>l.featured===!0||l.rating>=4.5).sort((l,h)=>l.featured&&!h.featured?-1:!l.featured&&h.featured?1:(h.rating||0)-(l.rating||0)).slice(0,8);n({featuredProducts:i,loading:!1})}catch(o){console.error("Error fetching featured products:",o),n({error:"Failed to fetch featured products. Please try again later.",loading:!1})}}})),Fne=Object.freeze(Object.defineProperty({__proto__:null,useProductStore:Gl},Symbol.toStringTag,{value:"Module"})),Ia=({currentPage:n,totalPages:t,onPageChange:o,totalItems:i,itemsPerPage:l=10,showItemCount:h=!0})=>{if(t<=1)return null;const g=(()=>{const _=[],N=[];for(let D=Math.max(2,n-2);D<=Math.min(t-1,n+2);D++)_.push(D);return n-2>2?N.push(1,"..."):N.push(1),N.push(..._),n+2<t-1?N.push("...",t):N.push(t),N})(),y=(n-1)*l+1,w=Math.min(n*l,i);return r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8",children:[h&&r.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",y," to ",w," of ",i," products"]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>o(n-1),disabled:n===1,className:"flex items-center justify-center w-10 h-10 rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},"aria-label":"Previous page",children:r.jsx(Oa,{size:18})}),g.map((k,_)=>r.jsx(gt.Fragment,{children:k==="..."?r.jsx("span",{className:"flex items-center justify-center w-10 h-10",style:{color:"var(--text-secondary)"},children:"..."}):r.jsx("button",{onClick:()=>o(k),className:`flex items-center justify-center w-10 h-10 rounded-md border transition-colors ${n===k?"font-semibold":"hover:bg-opacity-50"}`,style:{backgroundColor:n===k?"var(--brand-primary)":"var(--bg-primary)",borderColor:n===k?"var(--brand-primary)":"var(--border-primary)",color:n===k?"var(--text-on-brand)":"var(--text-primary)"},children:k})},_)),r.jsx("button",{onClick:()=>o(n+1),disabled:n===t,className:"flex items-center justify-center w-10 h-10 rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},"aria-label":"Next page",children:r.jsx(_n,{size:18})})]})]})},Vne=()=>{const{products:n,featuredProducts:t,fetchProducts:o}=Gl(),{fetchPublicBanners:i}=vx(),[l,h]=z.useState(1),m=10;z.useEffect(()=>{o(),i()},[o,i]);const g=(n==null?void 0:n.length)||0,y=Math.ceil(g/m),w=(l-1)*m,k=w+m,_=(n==null?void 0:n.slice(w,k))||[],N=T=>{h(T)},D=[];return r.jsxs("div",{style:{backgroundColor:"var(--bg-secondary)"},className:"min-h-screen",children:[r.jsx(zne,{}),r.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-2xl md:text-3xl font-bold mb-6 text-left",children:"Shop by Category"}),r.jsx(Sne,{categories:D})]})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx(Bne,{products:t})})}),r.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-2xl md:text-3xl font-bold mb-6 text-left",children:"Special Offers"}),r.jsx(kne,{})]})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:"Our Products"}),r.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),r.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"Explore our complete collection"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map(T=>r.jsx(Kk,{product:{...T,id:T.id||T._id,name:T.name||`${T.brand} ${T.model||""}`.trim(),image:T.images&&T.images.length>0?T.images[0]:T.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:T.discount_price||T.offer_price||T.price,price:T.price,discount:T.discount||(T.price&&T.discount_price?`${Math.round((T.price-(T.discount_price||T.offer_price))/T.price*100)}%`:null),rating:T.rating||4,reviews:T.reviews||T.reviews_count||0,brand:T.brand||"Unknown",category:T.category||"General",stock:T.stock||0}},T.id))}),g>0&&r.jsx(Ia,{currentPage:l,totalPages:y,onPageChange:N,totalItems:g,itemsPerPage:m})]})})]})},ym=(n,t="info")=>{const o=document.createElement("div");o.className=`toast toast-${t}`,o.textContent=n,document.body.appendChild(o),setTimeout(()=>{o.classList.add("toast-show")},100),setTimeout(()=>{o.classList.add("toast-hide"),setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o)},300)},3e3)},We={success:n=>ym(n,"success"),error:n=>ym(n,"error"),warning:n=>ym(n,"warning"),info:n=>ym(n,"info")},PA=n=>{ym(`${n} added to your cart!`,"success")},Z0=n=>{ym(n||"Error updating cart","error")},Une=()=>{ym("Item removed from your wishlist","info")},Qk=({items:n})=>r.jsx("nav",{className:"flex items-center text-sm mb-6 font-medium py-2 px-3 rounded-lg overflow-x-auto no-scrollbar",style:{backgroundColor:"var(--bg-accent-light)",boxShadow:"var(--shadow-small)"},children:n.map((t,o)=>r.jsxs(gt.Fragment,{children:[o===0&&r.jsx(J2,{className:"mr-1.5",size:14,style:{color:"var(--brand-primary)"}}),o>0&&r.jsx(_n,{className:"mx-2",size:14,style:{color:"var(--text-secondary)"}}),t.link?r.jsx(nt,{to:t.link,className:"transition-colors duration-200 hover:underline flex items-center",style:{color:"var(--text-secondary)"},children:t.label}):r.jsx("span",{className:"font-semibold flex items-center truncate max-w-[200px]",style:{color:"var(--brand-primary)"},children:t.label})]},o))}),Gne=({isOpen:n,onClose:t,media:o,currentIndex:i,setCurrentIndex:l})=>{z.useEffect(()=>{const _=N=>{N.key==="Escape"&&n&&t()};return n&&(document.addEventListener("keydown",_),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",_),document.body.style.overflow="unset"}},[n,t]);const h=_=>{_.target===_.currentTarget&&t()},m=()=>{l(_=>_===o.length-1?0:_+1)},g=()=>{l(_=>_===0?o.length-1:_-1)},y=_=>_.includes("youtube.com")||_.includes("youtu.be")||_.includes("vimeo.com"),w=_=>{let N="";return _.includes("youtube.com/watch?v=")?N=_.split("v=")[1].split("&")[0]:_.includes("youtu.be/")&&(N=_.split("youtu.be/")[1].split("?")[0]),`https://www.youtube.com/embed/${N}?autoplay=1&rel=0`};if(!n||!o||o.length===0)return null;const k=o[i];return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-90 backdrop-blur-sm",onClick:h,children:r.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors p-2 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:r.jsx(qt,{size:24})}),o.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:r.jsx(Oa,{size:24})}),r.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:r.jsx(_n,{size:24})})]}),r.jsx("div",{className:"max-w-6xl max-h-full w-full h-full flex items-center justify-center",children:y(k)?r.jsx("div",{className:"w-full h-full max-w-4xl max-h-[80vh] aspect-video",children:r.jsx("iframe",{src:w(k),className:"w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):r.jsx("img",{src:k,alt:`Media ${i+1}`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:_=>_.stopPropagation()})}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full",children:[i+1," / ",o.length]}),o.length>1&&r.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 flex space-x-2 max-w-sm overflow-x-auto px-4 py-2 bg-black bg-opacity-50 rounded-lg",children:o.map((_,N)=>r.jsx("button",{onClick:()=>l(N),className:`flex-shrink-0 w-12 h-12 rounded-md overflow-hidden border-2 transition-all ${N===i?"border-orange-500 opacity-100":"border-transparent opacity-60 hover:opacity-80"}`,children:y(_)?r.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:r.jsx(yw,{className:"text-white",size:16})}):r.jsx("img",{src:_,alt:`Thumbnail ${N+1}`,className:"w-full h-full object-cover"})},N))})]})})},Hne=({images:n=[],videos:t=[],activeImage:o=0,setActiveImage:i})=>{const[l,h]=z.useState(!1),m=[...n,...t],g=N=>N.includes("youtube.com")||N.includes("youtu.be")||N.includes("vimeo.com"),y=N=>{let D="";return N.includes("youtube.com/watch?v=")?D=N.split("v=")[1].split("&")[0]:N.includes("youtu.be/")&&(D=N.split("youtu.be/")[1].split("?")[0]),`https://img.youtube.com/vi/${D}/maxresdefault.jpg`},w=()=>{i(N=>N===m.length-1?0:N+1)},k=()=>{i(N=>N===0?m.length-1:N-1)},_=()=>{h(!0)};return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-4 rounded-lg overflow-hidden relative group cursor-pointer",style:{boxShadow:"var(--shadow-medium)"},onClick:_,children:[r.jsx("div",{className:"relative overflow-hidden",children:g(m[o])?r.jsxs("div",{className:"relative w-full aspect-square bg-gray-100 flex items-center justify-center",children:[r.jsx("img",{src:y(m[o]),alt:`Video thumbnail ${o+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:r.jsx("div",{className:"bg-red-600 text-white p-4 rounded-full hover:bg-red-700 transition-colors",children:r.jsx(yw,{size:24})})})]}):r.jsx("img",{src:m[o],alt:`Product view ${o+1}`,className:"w-full h-auto object-contain aspect-square"})}),r.jsx("button",{className:"absolute bottom-3 right-3 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:N=>{N.stopPropagation(),_()},style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:g(m[o])?r.jsx(yw,{}):r.jsx(OZ,{})}),m.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:N=>{N.stopPropagation(),k()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:r.jsx(Oa,{size:20})}),r.jsx("button",{onClick:N=>{N.stopPropagation(),w()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:r.jsx(_n,{size:20})})]})]}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:m.map((N,D)=>r.jsx("button",{onClick:()=>i(D),className:`rounded-md overflow-hidden transition-all duration-300 relative ${o===D?"ring-2 ring-offset-1 transform scale-105":"opacity-80 hover:opacity-100"}`,style:{ringColor:"var(--brand-primary)",transform:o===D?"scale(1.05)":"scale(1)"},children:g(N)?r.jsxs("div",{className:"relative w-full aspect-square bg-gray-100",children:[r.jsx("img",{src:y(N),alt:`Video thumbnail ${D+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40",children:r.jsx(yw,{className:"text-white",size:16})})]}):r.jsx("img",{src:N,alt:`Product thumbnail ${D+1}`,className:"w-full h-auto object-cover aspect-square"})},D))}),r.jsx(Gne,{isOpen:l,onClose:()=>h(!1),media:m,currentIndex:o,setCurrentIndex:i})]})},qne=({product:n,selectedVariant:t})=>{var y,w,k,_,N,D;const o=n.reviews||0,i=(t==null?void 0:t.discounted_price)||(t==null?void 0:t.price)||n.discountPrice||n.price||0,l=(t==null?void 0:t.price)||n.price||0,h=(t==null?void 0:t.stock)||n.stock||0,m=i&&l&&i<l,g=m?Math.round((l-i)/l*100):0;return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.brand}),r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:n.name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[...Array(5)].map((T,R)=>r.jsx(Gr,{className:`${R<Math.floor(n.rating)?"fill-current":""} ${R===Math.floor(n.rating)&&n.rating%1>0?"fill-current opacity-50":""}`,size:18},R))}),r.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[n.rating," (",o," ratings)"]})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("div",{className:"flex items-baseline flex-wrap gap-2",children:[r.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:["",i.toLocaleString()]}),m&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-lg line-through",style:{color:"var(--text-secondary)"},children:["",l.toLocaleString()]}),r.jsxs("span",{className:"px-2 py-1 text-xs font-bold rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:[g,"% off"]})]})]}),r.jsxs("div",{className:"flex items-center mt-3",children:[r.jsxs("div",{className:`flex items-center ${h>0?"text-green-600":"text-red-600"}`,children:[r.jsx(Kn,{className:"mr-1"}),r.jsx("span",{className:"font-medium",children:h>0?`In Stock (${h} available)`:"Out of Stock"})]}),r.jsxs("span",{className:"text-sm ml-2",style:{color:"var(--text-secondary)"},children:["(",h," available)"]})]}),t&&r.jsx("div",{className:"mt-3 p-2 rounded-md",style:{backgroundColor:"var(--bg-accent-light)"},children:r.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["Selected: ",t.colors]})})]}),(((y=n.colors)==null?void 0:y.length)>0||((w=n.ramOptions)==null?void 0:w.length)>0||((k=n.storageOptions)==null?void 0:k.length)>0)&&r.jsxs("div",{className:"space-y-4",children:[((_=n.colors)==null?void 0:_.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Colors:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.colors.map((T,R)=>r.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:T},R))})]}),((N=n.ramOptions)==null?void 0:N.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"RAM Options:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.ramOptions.map((T,R)=>r.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:T},R))})]}),((D=n.storageOptions)==null?void 0:D.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Storage Options:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.storageOptions.map((T,R)=>r.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:T},R))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx(pZ,{className:"mr-2",style:{color:"var(--brand-primary)"}}),r.jsx("span",{className:"text-sm",children:"Authentic Product"})]}),r.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx(Er,{className:"mr-2",style:{color:"var(--brand-primary)"}}),r.jsx("span",{className:"text-sm",children:"Fast Delivery"})]}),r.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx(ek,{className:"mr-2",style:{color:"var(--brand-primary)"}}),r.jsx("span",{className:"text-sm",children:"Secure Payment"})]})]})]})},Yne=({quantity:n,stock:t,handleQuantityChange:o,incrementQuantity:i,decrementQuantity:l})=>r.jsxs("div",{className:"flex flex-wrap items-center mb-6",children:[r.jsx("span",{className:"font-medium mr-4 text-sm",style:{color:"var(--text-primary)"},children:"Quantity:"}),r.jsxs("div",{className:"flex items-center rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",boxShadow:"var(--shadow-small)"},children:[r.jsx("button",{onClick:l,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:n<=1,style:{backgroundColor:n<=1?"#f5f5f5":"var(--bg-accent-light)",color:n<=1?"var(--text-secondary)":"var(--brand-primary)",opacity:n<=1?.7:1},"aria-label":"Decrease quantity",children:r.jsx(rO,{size:16})}),r.jsx("input",{type:"number",min:"1",max:t,value:n,onChange:o,className:"w-14 text-center py-2 focus:outline-none font-medium text-sm",style:{borderLeft:"1px solid var(--border-primary)",borderRight:"1px solid var(--border-primary)",color:"var(--text-primary)"}}),r.jsx("button",{onClick:i,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:n>=t,style:{backgroundColor:n>=t?"#f5f5f5":"var(--bg-accent-light)",color:n>=t?"var(--text-secondary)":"var(--brand-primary)",opacity:n>=t?.7:1},"aria-label":"Increase quantity",children:r.jsx(Yn,{size:16})})]}),t&&r.jsxs("span",{className:"text-xs ml-4 mt-1 md:mt-0",style:{color:"var(--text-secondary)"},children:[t," items available"]})]}),Wne=({addToCart:n,addToWishlist:t,price:o})=>{const i=o>5e4?0:99,l=o+i;return r.jsxs("div",{className:"rounded-lg p-4 space-y-6",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"p-4 rounded-lg mb-2",style:{backgroundColor:"var(--bg-accent-light)"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Price:"}),r.jsxs("span",{style:{color:"var(--text-primary)"},children:["",o.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Delivery:"}),r.jsx("span",{style:i===0?{color:"var(--success-color)"}:{color:"var(--text-primary)"},children:i>0?`${i.toLocaleString()}`:"Free"})]}),r.jsx("hr",{style:{borderColor:"var(--border-primary)",margin:"8px 0"}}),r.jsxs("div",{className:"flex justify-between items-center font-bold",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Total:"}),r.jsxs("span",{style:{color:"var(--brand-primary)"},children:["",l.toLocaleString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs(tt,{onClick:n,className:"transition-transform hover:scale-105 duration-300",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r.jsx(Zf,{className:"mr-2"}),"Add to Cart"]}),r.jsxs(tt,{onClick:t,variant:"outline",className:"transition-transform hover:scale-105 duration-300",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:[r.jsx(Xf,{className:"mr-2"}),"Add to Wishlist"]})]}),r.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Delivery & Payment Options"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[r.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Er,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Free & Fast Delivery"}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Orders ship within 24 hours"})]})]}),r.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[r.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Vi,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Easy EMI Options"}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"3, 6, 9 & 12 months available"})]})]}),r.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[r.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(ek,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Warranty Protection"}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"All products come with warranty"})]})]})]})]})]})},b_=({rating:n=0,readOnly:t=!1,onRatingChange:o=()=>{},reviewText:i="",onReviewTextChange:l=()=>{},onSubmit:h=()=>{},isVerifiedPurchase:m=!1})=>{const[g,y]=z.useState(0),w=(_,N=!1)=>{const D=[],T=Math.floor(_),R=_%1!==0;for(let P=0;P<5;P++)N?D.push(r.jsx("span",{className:"cursor-pointer text-xl",onClick:()=>!t&&o(P+1),onMouseEnter:()=>!t&&y(P+1),onMouseLeave:()=>!t&&y(0),children:(g||_)>P?r.jsx(IA,{className:"text-yellow-400"}):r.jsx(RA,{className:"text-yellow-400"})},P)):P<T?D.push(r.jsx(IA,{className:"text-yellow-400"},P)):P===T&&R?D.push(r.jsx(F9,{className:"text-yellow-400"},P)):D.push(r.jsx(RA,{className:"text-yellow-400"},P));return D},k=_=>{if(_.preventDefault(),n===0){We.warning("Please select a rating");return}h({rating:n,reviewText:i})};return r.jsx("div",{className:"w-full animate-fadeIn",children:t?r.jsx("div",{className:"flex flex-col gap-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex mr-2",children:w(n)}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:n.toFixed(1)}),m&&r.jsxs("div",{className:"ml-3 flex items-center text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--success-color)",color:"white"},children:[r.jsx(Tne,{className:"mr-1",size:10}),r.jsx("span",{children:"Verified Purchase"})]})]})}):r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Rating"}),r.jsx("div",{className:"flex gap-1",children:w(n,!0)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Review"}),r.jsx("textarea",{value:i,onChange:_=>l(_.target.value),className:"w-full px-4 py-2 rounded-lg min-h-[120px]",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},placeholder:"Share your experience with this product..."})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Submit Review"})})]})})},IN=({isOpen:n,onClose:t,title:o,children:i,size:l="md",showCloseButton:h=!0,closeOnBackdropClick:m=!0,className:g=""})=>{if(z.useEffect(()=>{const k=_=>{_.key==="Escape"&&n&&t()};return n&&(document.addEventListener("keydown",k),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",k),document.body.style.overflow="unset"}},[n,t]),!n)return null;const y={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},w=k=>{m&&k.target===k.currentTarget&&t()};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:w,children:r.jsxs("div",{className:`w-full ${y[l]} max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all ${g}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:k=>k.stopPropagation(),children:[(o||h)&&r.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[o&&r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:o}),h&&r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-md",style:{color:"var(--text-secondary)"},"aria-label":"Close modal",children:r.jsx(qt,{size:24})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:i})]})})},Um=({isOpen:n,onClose:t,onConfirm:o,title:i="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:h="Confirm",cancelText:m="Cancel",type:g="warning",isLoading:y=!1})=>{const w=()=>{o()},k=()=>{switch(g){case"danger":return r.jsx(qt,{className:"text-red-500",size:24});case"info":return r.jsx(Mm,{className:"text-blue-500",size:24});case"success":return r.jsx(On,{className:"text-green-500",size:24});case"warning":default:return r.jsx(xm,{className:"text-yellow-500",size:24})}},_=()=>{switch(g){case"danger":return"danger";case"success":return"primary";case"info":return"primary";case"warning":default:return"primary"}};return r.jsx(IN,{isOpen:n,onClose:t,size:"sm",closeOnBackdropClick:!y,children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:k()}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i}),r.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:l})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx(tt,{variant:"outline",onClick:t,disabled:y,fullWidth:!1,size:"sm",children:m}),r.jsx(tt,{variant:_(),onClick:w,isLoading:y,fullWidth:!1,size:"sm",children:h})]})]})})},rg=()=>{const[n,t]=z.useState(!1),[o,i]=z.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",type:"warning",onConfirm:()=>{}}),[l,h]=z.useState(!1),m=z.useCallback(w=>{i({title:w.title||"Confirm Action",message:w.message||"Are you sure you want to proceed?",confirmText:w.confirmText||"Confirm",cancelText:w.cancelText||"Cancel",type:w.type||"warning",onConfirm:w.onConfirm||(()=>{})}),t(!0),h(!1)},[]),g=z.useCallback(()=>{t(!1),h(!1)},[]),y=z.useCallback(async()=>{h(!0);try{await o.onConfirm(),g()}catch(w){console.error("Error in confirm action:",w),h(!1)}},[o,g]);return{isOpen:n,modalConfig:o,isLoading:l,showConfirm:m,hideConfirm:g,handleConfirm:y}},Kne=({productId:n,reviews:t=[],onAddReview:o=()=>{},canAddReview:i=!1,showFilters:l=!0,onMarkHelpful:h=null,onReportReview:m=null,currentUser:g=null})=>{const[y,w]=z.useState(t),[k,_]=z.useState(0),[N,D]=z.useState(!1),[T,R]=z.useState({rating:0,reviewText:""}),[P,F]=z.useState("newest"),[V,G]=z.useState({}),{isOpen:Y,modalConfig:ee,isLoading:le,showConfirm:J,hideConfirm:B,handleConfirm:W}=rg(),Z=t.length>0?(t.reduce((oe,ue)=>oe+ue.rating,0)/t.length).toFixed(1):"0.0",de=oe=>{_(oe),w(oe===0?t:t.filter(ue=>ue.rating===oe))},ne=oe=>{F(oe);let ue=[...y];switch(oe){case"newest":ue.sort((te,q)=>new Date(q.date||q.created_at)-new Date(te.date||te.created_at));break;case"highest":ue.sort((te,q)=>q.rating-te.rating);break;case"lowest":ue.sort((te,q)=>te.rating-q.rating);break;case"helpful":ue.sort((te,q)=>(q.helpful||0)-(te.helpful||0));break}w(ue)},re=oe=>{o({...oe,productId:n,date:new Date().toISOString(),verified:!0,helpful:0}),D(!1),R({rating:0,reviewText:""})},ge=async oe=>{if(!g){We.warning("Please log in to mark reviews as helpful");return}if(h){G(ue=>({...ue,[oe]:"helpful"}));try{const ue=await h(n,oe);ue.success?w(te=>te.map(q=>q.id===oe?{...q,helpful:ue.data.helpful_count,userMarkedHelpful:ue.data.is_marked_helpful}:q)):We.error(ue.error||"Failed to mark review as helpful")}catch(ue){console.error("Error marking review as helpful:",ue),We.error("Failed to mark review as helpful. Please try again.")}finally{G(ue=>{const te={...ue};return delete te[oe],te})}}else w(y.map(ue=>ue.id===oe?{...ue,helpful:(ue.helpful||0)+1}:ue)),We.success("Review marked as helpful!")},ke=async oe=>{if(!g){We.warning("Please log in to report reviews");return}J({title:"Report Review",message:"Are you sure you want to report this review? This action will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{if(m){G(ue=>({...ue,[oe]:"report"}));try{const ue=await m(n,oe);ue.success?We.success(ue.message||"Review reported successfully"):We.error(ue.error||"Failed to report review")}catch(ue){console.error("Error reporting review:",ue),We.error("Failed to report review. Please try again.")}finally{G(ue=>{const te={...ue};return delete te[oe],te})}}else We.success("Review reported successfully")}})},se=[5,4,3,2,1].map(oe=>{const ue=t.filter(q=>q.rating===oe).length,te=t.length>0?ue/t.length*100:0;return{rating:oe,count:ue,percentage:te}});return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 p-5 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[r.jsx("div",{className:"text-center md:text-left",children:r.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[r.jsx("span",{className:"text-4xl font-bold mr-2",style:{color:"var(--text-primary)"},children:Z}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"flex",children:r.jsx(b_,{rating:parseFloat(Z),readOnly:!0})}),r.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Based on ",t.length,t.length===1?"review":"reviews"]})]})]})}),r.jsx("div",{className:"w-full max-w-xs",children:se.map(oe=>r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx("div",{className:"flex items-center w-16",children:r.jsxs("span",{className:"text-xs font-medium mr-2",style:{color:"var(--text-secondary)"},children:[oe.rating,r.jsx(Gr,{className:"inline-block ml-1",size:12})]})}),r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${oe.percentage}%`,backgroundColor:"var(--brand-primary)"}})}),r.jsx("span",{className:"text-xs ml-2 w-8",style:{color:"var(--text-secondary)"},children:oe.count})]},oe.rating))})]}),i&&r.jsx("div",{className:"flex justify-center md:justify-end",children:r.jsxs("button",{onClick:()=>D(!0),className:"px-6 py-3 rounded-lg font-medium flex items-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r.jsx(Gr,{className:"mr-2"}),"Write a Review"]})})]}),N&&r.jsxs("div",{className:"p-5 rounded-lg animate-fadeIn",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Write Your Review"}),r.jsx(b_,{rating:T.rating,readOnly:!1,reviewText:T.reviewText,onRatingChange:oe=>R({...T,rating:oe}),onReviewTextChange:oe=>R({...T,reviewText:oe}),onSubmit:re}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 mr-2 rounded-lg font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Cancel"})})]}),l&&t.length>0&&r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pb-4 border-b",style:{borderColor:"var(--border-secondary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nd,{className:"mr-2",style:{color:"var(--text-secondary)"}}),r.jsx("span",{className:"mr-3 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Filter:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[0,5,4,3,2,1].map(oe=>r.jsx("button",{onClick:()=>de(oe),className:`px-3 py-1 text-xs rounded-full transition-colors ${k===oe?"font-semibold":""}`,style:{backgroundColor:k===oe?"var(--brand-primary)":"var(--bg-secondary)",color:k===oe?"var(--text-on-brand)":"var(--text-secondary)"},children:oe===0?"All Ratings":`${oe} Stars`},oe))})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:P,onChange:oe=>ne(oe.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-secondary)"},children:[r.jsx("option",{value:"newest",children:"Newest First"}),r.jsx("option",{value:"highest",children:"Highest Rated"}),r.jsx("option",{value:"lowest",children:"Lowest Rated"}),r.jsx("option",{value:"helpful",children:"Most Helpful"})]}),r.jsx(ii,{className:"absolute right-2 top-1/2 transform -translate-y-1/2",style:{color:"var(--text-secondary)"}})]})]}),r.jsx("div",{className:"space-y-6",children:y.length>0?y.map(oe=>r.jsxs("div",{className:"p-5 rounded-lg transition-shadow hover:shadow-md",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",style:{color:"var(--text-primary)"},children:oe.title||"Review"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(b_,{rating:oe.rating,readOnly:!0}),r.jsx("span",{className:"ml-2 text-xs",style:{color:"var(--text-secondary)"},children:(()=>{const ue=oe.date||oe.created_at;return typeof ue=="string"?new Date(ue).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):ue})()})]})]}),oe.is_verified&&r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--success-color)"},children:"Verified Purchase"})})]}),r.jsx("p",{className:"my-3 text-sm",style:{color:"var(--text-secondary)"},children:oe.comment||oe.reviewText}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:oe.user||"Anonymous"})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>ge(oe.id),disabled:V[oe.id]==="helpful"||oe.userMarkedHelpful||oe.is_marked_helpful||g&&oe.userEmail===g.email,className:`flex items-center text-xs transition-colors disabled:opacity-50 ${oe.userMarkedHelpful||oe.is_marked_helpful?"text-blue-600":"hover:text-blue-600"}`,style:{color:oe.userMarkedHelpful||oe.is_marked_helpful?"#2563eb":"var(--text-secondary)"},title:g&&oe.userEmail===g.email?"You cannot mark your own review as helpful":oe.userMarkedHelpful||oe.is_marked_helpful?"You marked this review as helpful":"Mark this review as helpful",children:[r.jsx(MZ,{className:"mr-1"}),V[oe.id]==="helpful"?"Loading...":`Helpful (${oe.helpful_count||oe.helpful||0})`]}),r.jsxs("button",{onClick:()=>ke(oe.id),disabled:V[oe.id]==="report"||g&&oe.userEmail===g.email,className:"flex items-center text-xs transition-colors hover:text-red-600 disabled:opacity-50",style:{color:"var(--text-secondary)"},title:g&&oe.userEmail===g.email?"You cannot report your own review":"Report review",children:[r.jsx(Q2,{className:"mr-1"}),V[oe.id]==="report"?"Reporting...":"Report"]})]})]})]},oe.id)):r.jsxs("div",{className:"p-8 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx("div",{className:"text-lg font-medium mb-2",children:"No reviews yet"}),r.jsx("p",{children:"Be the first to share your experience with this product"})]})}),r.jsx(Um,{isOpen:Y,onClose:B,onConfirm:W,title:ee.title,message:ee.message,confirmText:ee.confirmText,cancelText:ee.cancelText,type:ee.type,isLoading:le})]})},V9=un(n=>({reviews:[],productReviews:{},pendingReviews:[],flaggedReviews:[],addReview:t=>n(o=>{const i=[...o.reviews,{...t,status:"pending"}];let l={...o.productReviews};return l[t.productId]||(l[t.productId]=[]),l[t.productId]=[...l[t.productId],{...t,status:"pending"}],{reviews:i,productReviews:l,pendingReviews:[...o.pendingReviews,{...t,status:"pending"}]}}),updateReviewStatus:(t,o)=>n(i=>{const l=i.reviews.map(y=>y.id===t?{...y,status:o}:y);let h={...i.productReviews};Object.keys(h).forEach(y=>{h[y]=h[y].map(w=>w.id===t?{...w,status:o}:w)});const m=o==="pending"?i.pendingReviews:i.pendingReviews.filter(y=>y.id!==t),g=o==="flagged"?[...i.flaggedReviews,l.find(y=>y.id===t)]:i.flaggedReviews.filter(y=>y.id!==t);return{reviews:l,productReviews:h,pendingReviews:m,flaggedReviews:g}}),deleteReview:t=>n(o=>{const i=o.reviews.filter(g=>g.id!==t);let l={...o.productReviews};Object.keys(l).forEach(g=>{l[g]=l[g].filter(y=>y.id!==t)});const h=o.pendingReviews.filter(g=>g.id!==t),m=o.flaggedReviews.filter(g=>g.id!==t);return{reviews:i,productReviews:l,pendingReviews:h,flaggedReviews:m}}),toggleFlaggedStatus:t=>n(o=>{const i=o.reviews.find(y=>y.id===t);if(!i)return o;const l=o.flaggedReviews.some(y=>y.id===t),h=o.reviews.map(y=>y.id===t?{...y,flagged:!l}:y);let m={...o.productReviews};Object.keys(m).forEach(y=>{m[y]=m[y].map(w=>w.id===t?{...w,flagged:!l}:w)});const g=l?o.flaggedReviews.filter(y=>y.id!==t):[...o.flaggedReviews,{...i,flagged:!0}];return{reviews:h,productReviews:m,flaggedReviews:g}}),markReviewAsHelpful:t=>n(o=>{const i=o.reviews.map(h=>h.id===t?{...h,helpful:(h.helpful||0)+1}:h);let l={...o.productReviews};return Object.keys(l).forEach(h=>{l[h]=l[h].map(m=>m.id===t?{...m,helpful:(m.helpful||0)+1}:m)}),{reviews:i,productReviews:l}}),getProductReviews:t=>V9.getState().productReviews[t]||[],fetchReviews:()=>{const t=[{id:1,productId:1,productName:"iPhone 13 Pro Max",user:"Sanjay Mehta",userEmail:"sanjay@example.com",rating:4,title:"Great phone but battery could be better",comment:"I've been using this phone for 2 months now and it's really good. Camera is excellent and performance is smooth. Battery life could be a bit better though.",date:"2023-11-15T10:30:00",helpful:12,verified:!0,status:"approved",flagged:!1},{id:2,productId:1,user:"Priya Sharma",userEmail:"priya.s@example.com",rating:5,title:"Best phone I've ever owned!",comment:"This phone exceeded all my expectations. The display is beautiful and the camera is outstanding. Very happy with my purchase.",date:"2023-11-10T14:22:00",helpful:8,verified:!0,status:"approved",flagged:!1},{id:3,productId:2,productName:"Samsung Galaxy S22 Ultra",user:"Rahul Gupta",userEmail:"rahul.g@example.com",rating:2,title:"Disappointing Experience",comment:"The phone heats up frequently and the battery drains too fast. Not what I expected from a premium phone.",date:"2023-11-12T09:15:00",helpful:4,verified:!0,status:"approved",flagged:!0},{id:4,productId:3,productName:"Apple MacBook Pro M1",user:"Vikram Singh",userEmail:"vikram@example.com",rating:5,title:"Best laptop I've ever owned",comment:"This is an amazing laptop. The M1 chip is incredibly fast and the battery life is phenomenal. I can work all day without needing to charge.",date:"2023-11-08T16:45:00",helpful:15,verified:!0,status:"approved",flagged:!1},{id:5,productId:6,productName:"Apple AirPods Pro",user:"Sneha Patel",userEmail:"sneha.p@example.com",rating:4,title:"Great sound quality",comment:"The noise cancellation is excellent and they fit comfortably. The only downside is the battery life could be better.",date:"2023-11-05T11:30:00",helpful:9,verified:!1,status:"pending",flagged:!1}],o={};t.forEach(h=>{o[h.productId]||(o[h.productId]=[]),o[h.productId].push(h)});const i=t.filter(h=>h.status==="pending"),l=t.filter(h=>h.flagged);n({reviews:t,productReviews:o,pendingReviews:i,flaggedReviews:l})}})),Qne=({productId:n,product:t})=>{const{reviews:o,productReviews:i,addReview:l,fetchReviews:h}=V9(),{user:m}=br(),{markReviewHelpful:g,reportReview:y}=Gl(),{isOpen:w,modalConfig:k,isLoading:_,showConfirm:N,hideConfirm:D,handleConfirm:T}=rg();z.useEffect(()=>{o.length===0&&h()},[o.length,h]);const R=Y=>{l({productId:n,productName:t.name,user:(m==null?void 0:m.name)||"Anonymous User",userEmail:(m==null?void 0:m.email)||"anonymous@example.com",...Y})},P=!1,F=t.reviewsData&&t.reviewsData.length>0?t.reviewsData:i[n]||[],V=async Y=>{if(!m){We.warning("Please log in to mark reviews as helpful");return}const ee=F.find(le=>le.id===Y);if(ee&&ee.userEmail===m.email){We.warning("You cannot mark your own review as helpful");return}if(ee&&(ee.userMarkedHelpful||ee.is_marked_helpful)){We.info("You have already marked this review as helpful");return}try{const le=await g(n,Y);le.success?(We.success("Review marked as helpful!"),console.log("Review marked as helpful successfully")):We.error(le.error||"Failed to mark review as helpful")}catch(le){console.error("Error marking review as helpful:",le),We.error("Failed to mark review as helpful")}},G=async Y=>{if(!m){We.warning("Please log in to report reviews");return}const ee=F.find(le=>le.id===Y);if(ee&&ee.userEmail===m.email){We.warning("You cannot report your own review");return}N({title:"Report Review",message:"Are you sure you want to report this review? This will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const le=await y(n,Y);le.success?We.success("Review reported successfully. Thank you for helping us maintain quality."):We.error(le.error||"Failed to report review")}catch(le){console.error("Error reporting review:",le),We.error("Failed to report review")}}})};return r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Customer Reviews"}),r.jsx(Kne,{productId:n,reviews:F,onAddReview:R,canAddReview:P,showFilters:!0,onMarkHelpful:V,onReportReview:G,currentUser:m,isAuthenticated:!!m}),r.jsx(Um,{isOpen:w,onClose:D,onConfirm:T,title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,type:k.type,isLoading:_})]})},Jne=({product:n,activeTab:t,setActiveTab:o})=>{const i=n.reviews||0,l=Object.keys(n.attributes||{});return r.jsxs("div",{className:"mt-10 rounded-lg overflow-hidden",style:{boxShadow:"var(--shadow-medium)",border:"1px solid var(--border-primary)"},children:[r.jsxs("div",{className:"flex flex-nowrap overflow-x-auto",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx($0,{id:"description",activeTab:t,setActiveTab:o,icon:r.jsx(Mm,{}),label:"Description"}),r.jsx($0,{id:"specifications",activeTab:t,setActiveTab:o,label:"Specifications"}),l.map(h=>r.jsx($0,{id:`attribute-${h}`,activeTab:t,setActiveTab:o,label:h.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())},h)),r.jsx($0,{id:"reviews",activeTab:t,setActiveTab:o,icon:r.jsx(CZ,{}),label:`Reviews (${i})`})]}),r.jsxs("div",{className:"p-6 bg-white min-h-[400px] max-h-[600px] overflow-y-auto custom-scrollbar",children:[t==="description"&&r.jsxs("div",{className:"animate-fadeIn",children:[r.jsx("p",{className:"mb-6 leading-relaxed text-base",style:{color:"var(--text-secondary)"},children:n.description}),r.jsx("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:"Key Features:"}),r.jsxs("ul",{className:"space-y-3",children:[(n.features||[]).map((h,m)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-3 mt-0.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:m+1}),r.jsx("span",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:h})]},m)),(!n.features||n.features.length===0)&&r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-3 mt-0.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"1"}),r.jsx("span",{className:"text-base",style:{color:"var(--text-secondary)"},children:"High-quality materials and construction"})]})]})]}),t==="specifications"&&r.jsxs("div",{className:"animate-fadeIn",children:[r.jsx("h3",{className:"font-semibold text-xl mb-6",style:{color:"var(--text-primary)"},children:"Technical Specifications"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.entries(n.specifications||{}).map(([h,m])=>r.jsx("div",{className:"group",children:r.jsxs("div",{className:"flex flex-col p-4 rounded-lg border-2 transition-all duration-300 group-hover:border-orange-500 group-hover:shadow-md",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[r.jsx("span",{className:"text-sm font-medium mb-2 uppercase tracking-wide",style:{color:"var(--brand-primary)"},children:h.replace(/([A-Z])/g," $1").replace(/^./,g=>g.toUpperCase())}),r.jsx("span",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:m})]})},h)),(!n.specifications||Object.keys(n.specifications).length===0)&&r.jsxs("div",{className:"col-span-full p-6 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx(Mm,{className:"mx-auto mb-2 text-2xl"}),r.jsx("p",{children:"Product specifications not available"})]})]})]}),l.map(h=>t===`attribute-${h}`&&r.jsxs("div",{className:"animate-fadeIn",children:[r.jsx("h3",{className:"font-semibold text-xl mb-6",style:{color:"var(--text-primary)"},children:h.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),r.jsx("div",{className:"p-6 rounded-lg border-2",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-accent-light)"},children:r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-sm font-medium uppercase tracking-wide block mb-3",style:{color:"var(--brand-primary)"},children:h}),r.jsx("span",{className:"text-2xl font-bold break-words",style:{color:"var(--text-primary)"},children:n.attributes[h]})]})})]},h)),t==="reviews"&&r.jsx("div",{className:"animate-fadeIn",children:r.jsx(Qne,{productId:n.id,product:n})})]})]})},$0=({id:n,activeTab:t,setActiveTab:o,icon:i,label:l})=>{const h=t===n;return r.jsxs("button",{onClick:()=>o(n),className:`px-6 py-4 text-sm font-medium flex items-center transition-all duration-300 whitespace-nowrap ${h?"border-b-2":"hover:bg-white/50"}`,style:{borderColor:h?"var(--brand-primary)":"transparent",color:h?"var(--brand-primary)":"var(--text-secondary)",backgroundColor:h?"white":"transparent"},children:[i&&r.jsx("span",{className:"mr-2",children:i}),l]})},Xne=({validOptions:n=[],selectedVariant:t,onVariantChange:o})=>{const[i,l]=z.useState({}),[h,m]=z.useState({});z.useEffect(()=>{if(n.length===0)return;const k={},_=new Set;if(n.forEach(N=>{Object.keys(N).forEach(D=>{!["price","discounted_price","stock","id","product_id"].includes(D)&&N[D]!==void 0&&N[D]!==null&&N[D]!==""&&typeof N[D]=="string"&&N[D].trim()!==""&&_.add(D)})}),_.forEach(N=>{const D=[...new Set(n.map(T=>T[N]).filter(T=>T!=null&&T!==""&&typeof T=="string"&&T.trim()!==""&&T.length<100))];D.length>0&&(k[N]=D)}),m(k),console.log("Available options:",k),!t&&n.length>0){const N=n[0];console.log("Initializing with first option:",N);const D={};Object.keys(k).forEach(T=>{N[T]!==void 0&&(D[T]=N[T])}),console.log("Initial selections:",D),l(D),o(N)}},[n,t,o]),z.useEffect(()=>{if(console.log("Selected variant changed:",t),console.log("Available options:",h),t){const k={};Object.keys(h).forEach(_=>{t[_]!==void 0&&(k[_]=t[_])}),console.log("Updating variant selections to:",k),l(k)}},[t,h]);const g=(k,_)=>{console.log("Selection change:",k,_);const N={...i,[k]:_};console.log("New selections:",N),l(N);let D=n.find(T=>Object.keys(N).every(R=>T[R]===N[R]));if(D||(console.log("No exact match found, looking for option with selected value..."),D=n.find(T=>T[k]===_)),!D&&n.length>0&&(console.log("Using first available option as fallback"),D=n[0]),console.log("Selected option:",D),D){console.log("Calling onVariantChange with:",D),o(D);const T={};Object.keys(h).forEach(R=>{D[R]!==void 0&&D[R]!==null&&D[R]!==""&&(T[R]=D[R])}),l(T)}},y=k=>k.charAt(0).toUpperCase()+k.slice(1).replace(/([A-Z])/g," $1").trim(),w=(k,_)=>k==="storage"?_.toString().toUpperCase():k==="ram"?_.toString().includes("GB")?_:`${_}GB`:k==="size"?_.toString().includes("p")?_:`${_}`:k==="colors"?_.charAt(0).toUpperCase()+_.slice(1):_.toString();return console.log("ProductVariantSelector rendered with:",{validOptions:n,selectedVariant:t,variantSelections:i,availableOptions:h}),!n.length||!Object.keys(h).length?(console.log("No valid options or available options, returning null"),null):r.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([k,_])=>r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:[y(k),":"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(N=>{const D=i[k]===N;return r.jsxs("button",{onClick:()=>g(k,N),className:`px-3 py-2 text-sm font-medium rounded-md border transition-all duration-200 cursor-pointer ${D?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:[k==="colors"&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:N.toLowerCase()}}),r.jsx("span",{children:w(k,N)})]}),k!=="colors"&&w(k,N)]},N)})})]},k))})},Zne=({products:n,currentProductId:t,currentCategory:o})=>{const i=n.filter(l=>l.id!==t).slice(0,8);return i.length===0?null:r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Related Products"}),r.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),r.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"You might also like these products"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(l=>r.jsx(Kk,{product:{...l,id:l.id||l._id,name:l.name||`${l.brand} ${l.model||""}`.trim(),image:l.images&&l.images.length>0?l.images[0]:l.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:l.discount_price||l.offer_price||l.price,price:l.price,discount:l.discount||(l.price&&l.discount_price?`${Math.round((l.price-(l.discount_price||l.offer_price))/l.price*100)}%`:null),rating:l.rating||4,reviews:l.reviews||l.reviews_count||0,brand:l.brand||"Unknown",category:l.category||"General",stock:l.stock||0}},l.id))}),r.jsx("div",{className:"text-center mt-8",children:r.jsxs(nt,{to:`/products/${o==null?void 0:o.toLowerCase().replace(/\s+/g,"-")}`,className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors duration-300 hover:shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",border:"2px solid var(--brand-primary)",textDecoration:"none"},onMouseEnter:l=>{l.target.style.backgroundColor="transparent",l.target.style.color="var(--brand-primary)"},onMouseLeave:l=>{l.target.style.backgroundColor="var(--brand-primary)",l.target.style.color="var(--text-on-brand)"},children:["View All ",o," Products"]})})]})})},aI=()=>{var de,ne,re,ge;const{id:n}=Uf(),[t,o]=z.useState(0),[i,l]=z.useState(1),[h,m]=z.useState("description"),[g,y]=z.useState(null),{currentProduct:w,loading:k,error:_,fetchProduct:N,clearCurrentProduct:D,getProductsByCategory:T}=Gl(),{addItem:R}=Uu(),{addItem:P}=Wk(),{user:F}=br(),V=z.useCallback(ke=>{console.log("Variant changed to:",ke),y(ke),l(1)},[]);if(z.useEffect(()=>{window.scrollTo(0,0)},[]),z.useEffect(()=>(n&&(console.log("Fetching product with ID:",n),N(n)),()=>{D()}),[n,N,D]),z.useEffect(()=>{var ke;((ke=w==null?void 0:w.valid_options)==null?void 0:ke.length)>0&&y(w.valid_options[0])},[w]),z.useEffect(()=>{w&&console.log("Raw product data from API:",w)},[w]),k)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})})})});if(_)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:_}),r.jsx("button",{onClick:()=>N(n),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Retry"})]})})})});if(!w)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Product not found"}),r.jsx(nt,{to:_t.PRODUCTS,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Back to Products"})]})})})});const G=w,Y={...G,name:G.name||G.title||G.product_name||"Unknown Product",price:(g==null?void 0:g.price)||G.price||G.original_price||0,discountPrice:(g==null?void 0:g.discounted_price)||G.discount_price||G.discountPrice||G.discounted_price||G.sale_price||(g==null?void 0:g.price)||G.price||0,discount:G.discount||(g!=null&&g.price&&(g!=null&&g.discounted_price)&&g.discounted_price<g.price?Math.round((g.price-g.discounted_price)/g.price*100)+"%":G.price&&G.discount_price&&G.discount_price<G.price?Math.round((G.price-G.discount_price)/G.price*100)+"%":null),rating:G.rating||G.average_rating||0,reviews:G.total_reviews||(Array.isArray(G.reviews)?G.reviews.length:G.reviews||G.review_count||0),reviewsData:Array.isArray(G.reviews)?G.reviews.map(ke=>({id:ke.id,rating:ke.rating,comment:ke.comment,user:ke.email?ke.email.split("@")[0]:"Anonymous",userEmail:ke.email,date:ke.created_at,verified:!0,helpful:ke.helpful_count||0,helpful_count:ke.helpful_count||0,is_marked_helpful:ke.is_marked_helpful||!1,title:`${ke.title}`,reported_count:ke.reported_count||0,helpful_users:ke.helpful_users||[]})):[],stock:(g==null?void 0:g.stock)||G.stock||G.quantity||G.inventory||1,images:G.images||G.image_urls||G.photos||["https://via.placeholder.com/600x600?text=No+Image"],videos:G.videos||[],features:G.features||G.key_features||[],specifications:G.specifications||G.specs||{},attributes:G.attributes||{},description:G.description||G.product_description||"No description available",category:G.category||G.product_category||"General",brand:G.brand||G.manufacturer||"Unknown Brand",variant:G.variant||{},colors:((de=G.variant)==null?void 0:de.colors)||[],ramOptions:((ne=G.variant)==null?void 0:ne.ram)||[],storageOptions:((re=G.variant)==null?void 0:re.storage)||[],validOptions:G.valid_options||[],selectedColor:(g==null?void 0:g.colors)||null,currentPrice:(g==null?void 0:g.discounted_price)||(g==null?void 0:g.price)||G.discount_price||G.discountPrice||G.discounted_price||G.sale_price||G.price||0,originalPrice:(g==null?void 0:g.price)||G.price||G.original_price||0,currentStock:(g==null?void 0:g.stock)||G.stock||G.quantity||G.inventory||0};console.log("Normalized product data:",Y),console.log("Selected variant:",g);const ee=ke=>{const se=parseInt(ke.target.value),oe=Y.currentStock;se>0&&se<=oe&&l(se)},le=()=>{const ke=Y.currentStock;i<ke&&l(i+1)},J=()=>{i>1&&l(i-1)},B=async()=>{var ke;if(!F){Z0("Please log in to add items to cart");return}try{const se={id:Y.id,name:Y.name,price:Y.currentPrice,image:((ke=Y.images)==null?void 0:ke[0])||Y.image,variant_id:(g==null?void 0:g.id)||null,variant:g?{id:g.id,color:g.colors,storage:g.storage,ram:g.ram,price:g.discounted_price||g.price}:null};await R(se,i),PA(Y.name,i)}catch(se){console.error("Error adding to cart:",se),Z0("Failed to add item to cart")}},W=async()=>{var ke;if(!F){Z0("Please log in to add items to wishlist");return}try{const se={id:Y.id,name:Y.name,price:Y.currentPrice,image:((ke=Y.images)==null?void 0:ke[0])||Y.image,variant_id:(g==null?void 0:g.id)||null,variant:g?{id:g.id,color:g.colors,storage:g.storage,ram:g.ram,price:g.discounted_price||g.price}:null};await P(se),PA(`${Y.name} added to wishlist!`)}catch(se){console.error("Error adding to wishlist:",se),Z0("Failed to add item to wishlist")}},Z=[{label:"Home",link:_t.HOME},{label:Y.category,link:_t.PRODUCTS},{label:Y.brand,link:`/brand/${Y.brand}`},{label:Y.name}];return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx(Qk,{items:Z}),r.jsxs(nt,{to:_t.PRODUCTS,className:"inline-flex items-center text-orange-500 mb-6",children:[r.jsx(qc,{className:"mr-2"})," Back to Products"]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 p-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(Hne,{images:Y.images,videos:Y.videos,activeImage:t,setActiveImage:o})}),r.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[r.jsx(qne,{product:Y,selectedVariant:g}),((ge=Y.validOptions)==null?void 0:ge.length)>0&&r.jsx("div",{className:"border-t border-gray-200 py-4",children:r.jsx(Xne,{validOptions:Y.validOptions,selectedVariant:g,onVariantChange:V})}),r.jsxs("div",{className:"border-t border-gray-200 py-4",children:[r.jsx(Yne,{quantity:i,setQuantity:l,stock:Y.currentStock,handleQuantityChange:ee,incrementQuantity:le,decrementQuantity:J}),r.jsx(Wne,{price:Y.currentPrice,addToCart:B,addToWishlist:W})]})]})]}),r.jsx(Jne,{product:Y,activeTab:h,setActiveTab:m}),Y.category&&r.jsx(Zne,{products:T(Y.category),currentProductId:Y.id,currentCategory:Y.category})]})]})})},U9=({showFilters:n,setShowFilters:t,brands:o,products:i=[],currentCategory:l,selectedBrands:h,toggleBrandFilter:m,priceRange:g,setPriceRange:y,setSelectedBrands:w,stockFilters:k,setStockFilters:_,selectedRating:N,setSelectedRating:D,selectedStorage:T,setSelectedStorage:R,selectedRAM:P,setSelectedRAM:F,selectedColors:V,setSelectedColors:G,selectedCategories:Y,setSelectedCategories:ee,selectedDiscount:le,setSelectedDiscount:J,selectedAttributes:B,setSelectedAttributes:W})=>{const[Z,de]=z.useState({price:!0,stock:!1,rating:!1,discount:!1,brands:!1,storage:!1,ram:!1,colors:!1,category:!1}),ne=z.useMemo(()=>{if(!i||i.length===0)return{storageOptions:[],ramOptions:[],colorOptions:[],categoryOptions:[],attributeOptions:{},validOptionKeys:[]};let Ne=i;if(l){const ut=l.replace("-"," ");Ne=i.filter(It=>It.category.toLowerCase()===ut.toLowerCase())}const ot=new Set,er=new Set,Lr=new Set,Js=new Set,hn={},zr=new Set;Ne.forEach(ut=>{ut.variant&&(ut.variant.storage&&ut.variant.storage.forEach(It=>{It&&It.trim()&&ot.add(It.trim())}),ut.variant.colors&&ut.variant.colors.forEach(It=>{It&&It.trim()&&Lr.add(It.trim())})),ut.valid_options&&Array.isArray(ut.valid_options)&&ut.valid_options.forEach(It=>{Object.keys(It).forEach(zt=>{if(!["id","stock","price","discounted_price","product_id"].includes(zt)){zr.add(zt);const Re=It[zt];Re&&typeof Re=="string"&&Re.trim()&&(zt==="storage"?ot.add(Re.trim()):zt==="ram"?er.add(Re.trim()):zt==="colors"?Lr.add(Re.trim()):(hn[zt]||(hn[zt]=new Set),hn[zt].add(Re.trim())))}})}),ut.attributes&&typeof ut.attributes=="object"&&Object.keys(ut.attributes).forEach(It=>{const zt=ut.attributes[It];zt&&typeof zt=="string"&&zt.trim()&&(zr.add(It),hn[It]||(hn[It]=new Set),hn[It].add(zt.trim()))}),ut.category&&ut.category.trim()&&Js.add(ut.category.trim())});const Dr=(ut,It,zt)=>Array.from(ut).map(Re=>({label:Re,count:It.filter(zt(Re)).length})).sort((Re,dr)=>dr.count-Re.count),Fo=Dr(ot,Ne,ut=>It=>{var zt,Re,dr;return((Re=(zt=It.variant)==null?void 0:zt.storage)==null?void 0:Re.includes(ut))||((dr=It.valid_options)==null?void 0:dr.some(pr=>pr.storage===ut))}),Vo=Dr(er,Ne,ut=>It=>{var zt;return(zt=It.valid_options)==null?void 0:zt.some(Re=>Re.ram===ut)}),Yt=Dr(Lr,Ne,ut=>It=>{var zt,Re,dr;return((Re=(zt=It.variant)==null?void 0:zt.colors)==null?void 0:Re.includes(ut))||((dr=It.valid_options)==null?void 0:dr.some(pr=>pr.colors===ut))}),Et=Dr(Js,Ne,ut=>It=>It.category===ut),Nn={};return Object.keys(hn).forEach(ut=>{Nn[ut]=Dr(hn[ut],Ne,It=>zt=>{var Re,dr;return((Re=zt.attributes)==null?void 0:Re[ut])===It||((dr=zt.valid_options)==null?void 0:dr.some(pr=>pr[ut]===It))})}),{storageOptions:Fo,ramOptions:Vo,colorOptions:Yt,categoryOptions:Et,attributeOptions:Nn,validOptionKeys:Array.from(zr).filter(ut=>!["storage","ram","colors","product_id","custom_keys","custom_values"].includes(ut))}},[i,l]),{storageOptions:re,ramOptions:ge,colorOptions:ke,categoryOptions:se,attributeOptions:oe,validOptionKeys:ue}=ne,te=z.useMemo(()=>{if(!l||!i||i.length===0)return o;const Ne=l.replace("-"," "),ot=i.filter(Lr=>Lr.category.toLowerCase()===Ne.toLowerCase()),er=new Set;return ot.forEach(Lr=>{Lr.brand&&Lr.brand.trim()&&er.add(Lr.brand.trim())}),o.filter(Lr=>er.has(Lr))},[o,i,l]),q=Ne=>{de(ot=>({...ot,[Ne]:!ot[Ne]}))},ae=(Ne,ot)=>{const er=(B==null?void 0:B[Ne])||[],Lr=er.includes(ot)?er.filter(Js=>Js!==ot):[...er,ot];W({...B,[Ne]:Lr})};z.useEffect(()=>{ue.length>0&&de(Ne=>{const ot={...Ne};return ue.forEach(er=>{er in ot||(ot[er]=!1)}),ot})},[ue]);const[pe,me]=z.useState(g.min||0),[be,Te]=z.useState(g.max||15e4),je=(Ne,ot)=>{const er=parseInt(Ne.target.value)||0;ot==="min"?me(er):Te(er)},Ye=()=>{y({min:pe,max:be})},Ve=Ne=>{_({...k,[Ne]:!k[Ne]})},Je=Ne=>{T.includes(Ne)?R(T.filter(ot=>ot!==Ne)):R([...T,Ne])},Qe=Ne=>{P.includes(Ne)?F(P.filter(ot=>ot!==Ne)):F([...P,Ne])},Ot=Ne=>{V.includes(Ne)?G(V.filter(ot=>ot!==Ne)):G([...V,Ne])},Tt=Ne=>{Y.includes(Ne)?ee(Y.filter(ot=>ot!==Ne)):ee([...Y,Ne])},Ze=Ne=>{J(le===Ne?null:Ne)},st=()=>{w([]),y({min:0,max:15e4}),me(0),Te(15e4),D(0),_({inStock:!1,outOfStock:!1}),R([]),F([]),G([]),ee([]),J(null),W&&W({})};z.useEffect(()=>{me(g.min),Te(g.max)},[g]);const Kt=[{label:"50% or more",value:50},{label:"40% or more",value:40},{label:"30% or more",value:30},{label:"20% or more",value:20},{label:"10% or more",value:10}];return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-full md:hidden mb-4",children:r.jsx(tt,{onClick:()=>t(!n),className:"flex items-center justify-center gap-2 py-2.5",variant:"outline",icon:r.jsx(nd,{size:18}),children:n?"Hide Filters":"Show Filters"})}),r.jsxs("div",{className:`
          ${n?"block":"hidden md:block"}
          w-full md:w-1/4 rounded-lg overflow-hidden transition-all duration-300
        `,style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-base font-bold",style:{color:"var(--text-primary)"},children:"Filters"}),r.jsx("button",{onClick:st,className:"text-sm font-medium hover:underline transition-all duration-200",style:{color:"var(--brand-primary)"},children:"Clear"})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("price"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"PRICE"}),Z.price?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.price&&r.jsxs("div",{className:"px-4 pb-4",children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[" ",pe.toLocaleString()]}),r.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[" ",be.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[r.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:""}),r.jsx("input",{type:"number",value:pe,onChange:Ne=>je(Ne,"min"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),r.jsx("span",{style:{color:"var(--text-secondary)"},children:"-"}),r.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[r.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:""}),r.jsx("input",{type:"number",value:be,onChange:Ne=>je(Ne,"max"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),r.jsx("button",{onClick:Ye,className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Go"})]})]})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("stock"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"STOCK STATUS"}),Z.stock?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.stock&&r.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"in-stock",checked:k.inStock,onChange:()=>Ve("inStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsx("label",{htmlFor:"in-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"In Stock"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"out-of-stock",checked:k.outOfStock,onChange:()=>Ve("outOfStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsx("label",{htmlFor:"out-of-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"Out Of Stock"})]})]})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("rating"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RATING"}),Z.rating?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.rating&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:[5,4,3,2,1].map(Ne=>r.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>D(N===Ne?0:Ne),children:r.jsx("div",{className:"flex items-center",children:Array.from({length:5},(ot,er)=>r.jsx("span",{className:"text-lg",children:er<Ne?r.jsx("span",{style:{color:"#FF9017"},children:""}):r.jsx("span",{style:{color:"#E4E5E8"},children:""})},er))})},Ne))})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("discount"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"DISCOUNT"}),Z.discount?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.discount&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:Kt.map(Ne=>r.jsxs("div",{className:"flex items-center",onClick:()=>Ze(Ne.value),children:[r.jsx("input",{type:"radio",id:`discount-${Ne.value}`,checked:le===Ne.value,onChange:()=>{},className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsx("label",{htmlFor:`discount-${Ne.value}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:Ne.label})]},Ne.value))})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("brands"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"BRANDS"}),Z.brands?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.brands&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:te.map(Ne=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`brand-${Ne}`,checked:h.includes(Ne),onChange:()=>m(Ne),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsx("label",{htmlFor:`brand-${Ne}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:Ne})]},Ne))})]}),!l&&r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("category"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"CATEGORY"}),Z.category?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.category&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:se.map(Ne=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`category-${Ne.label}`,checked:Y.includes(Ne.label),onChange:()=>Tt(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsxs("label",{htmlFor:`category-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("storage"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"INTERNAL STORAGE"}),Z.storage?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.storage&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:re.map(Ne=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`storage-${Ne.label}`,checked:T.includes(Ne.label),onChange:()=>Je(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsxs("label",{htmlFor:`storage-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("ram"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RAM"}),Z.ram?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.ram&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:ge.map(Ne=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`ram-${Ne.label}`,checked:P.includes(Ne.label),onChange:()=>Qe(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsxs("label",{htmlFor:`ram-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q("colors"),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"COLOR"}),Z.colors?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z.colors&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:ke.map(Ne=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`color-${Ne.label}`,checked:V.includes(Ne.label),onChange:()=>Ot(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsxs("label",{htmlFor:`color-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),ue.map(Ne=>{var ot;return oe[Ne]&&oe[Ne].length>0&&r.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>q(Ne),children:[r.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:Ne.toUpperCase().replace(/_/g," ")}),Z[Ne]?r.jsx(Sl,{size:18,style:{color:"var(--text-secondary)"}}):r.jsx(ii,{size:18,style:{color:"var(--text-secondary)"}})]}),Z[Ne]&&r.jsx("div",{className:"px-4 pb-4 space-y-2",children:(ot=oe[Ne])==null?void 0:ot.map(er=>{var Lr;return r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:`${Ne}-${er.label}`,checked:((Lr=B==null?void 0:B[Ne])==null?void 0:Lr.includes(er.label))||!1,onChange:()=>ae(Ne,er.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),r.jsxs("label",{htmlFor:`${Ne}-${er.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[er.label," (",er.count,")"]})]},er.label)})})]},Ne)}),r.jsx("div",{className:"md:hidden p-4",children:r.jsx(tt,{onClick:()=>t(!1),fullWidth:!0,variant:"primary",className:"py-2.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Apply Filters"})})]})]})},G9=({sortBy:n,setSortBy:t})=>r.jsx("div",{className:"rounded-xl p-6 mb-6 backdrop-blur-sm",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderBottom:"2px solid var(--brand-primary)"},children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"mb-4 md:mb-0 flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)"},children:r.jsx(eO,{size:16,style:{color:"var(--brand-primary)"}})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Products Found"}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Showing all available products"})]})]}),r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-1 border transition-all duration-200 hover:border-gray-300",style:{borderColor:"var(--border-primary)"},children:[r.jsx("label",{htmlFor:"sort-by",className:"text-sm mx-3 font-medium whitespace-nowrap",style:{color:"var(--text-secondary)"},children:"Sort by:"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{id:"sort-by",value:n,onChange:o=>t(o.target.value),className:"appearance-none border-0 bg-transparent rounded px-4 py-2 pr-8 text-sm font-medium focus:outline-none focus:ring-0",style:{color:"var(--text-primary)"},children:[r.jsx("option",{value:"popularity",children:"Popularity"}),r.jsx("option",{value:"rating",children:"Rating"}),r.jsx("option",{value:"price-low",children:"Price: Low to High"}),r.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2",children:n==="price-low"?r.jsx(Vk,{size:14,style:{color:"var(--brand-primary)"}}):n==="price-high"?r.jsx(Fk,{size:14,style:{color:"var(--brand-primary)"}}):r.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.slice(0,3).toUpperCase()})})]})]})]})}),H9=({products:n,loading:t})=>t?r.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),r.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading products..."})]}):n.length===0?null:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8",children:n.map(o=>r.jsx("div",{className:"opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.5s forwards",animationFillMode:"forwards"},children:r.jsx(Kk,{product:o})},o.id))}),q9=({resetFilters:n})=>r.jsx("div",{className:"rounded-xl p-10 text-center transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-6 rounded-full",style:{backgroundColor:"var(--bg-accent-light)"},children:r.jsx(mi,{size:32,style:{color:"var(--brand-primary)"}})}),r.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"No products found"}),r.jsx("p",{className:"text-base mb-6 max-w-md mx-auto",style:{color:"var(--text-secondary)"},children:"We couldn't find any products matching your current filters. Try adjusting your filters or search criteria."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx(tt,{onClick:n,variant:"primary",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},icon:r.jsx(Va,{size:16}),children:"Reset Filters"}),r.jsx(tt,{onClick:n,variant:"outline",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",icon:r.jsx(nd,{size:16}),children:"Modify Filters"})]})]})}),x_=()=>{let{category:n}=Uf();n=n?n.charAt(0).toUpperCase()+n.slice(1).replace(/s$/,""):null;const[t,o]=z.useState(!1),[i,l]=z.useState([]),[h,m]=z.useState({min:0,max:15e4}),[g,y]=z.useState("popularity"),[w,k]=z.useState(0),[_,N]=z.useState({inStock:!1,outOfStock:!1}),[D,T]=z.useState([]),[R,P]=z.useState([]),[F,V]=z.useState([]),[G,Y]=z.useState([]),[ee,le]=z.useState(null),[J,B]=z.useState({}),[W,Z]=z.useState(1),de=10,{products:ne,brands:re,loading:ge,fetchProducts:ke}=Gl();z.useEffect(()=>{ke()},[ke]);const se=(ne||[]).map(Ve=>({...Ve,discountPrice:Ve.discount_price||Ve.price,image:Ve.images&&Ve.images.length>0?Ve.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),oe=Ve=>{i.includes(Ve)?l(i.filter(Je=>Je!==Ve)):l([...i,Ve])},te=(()=>{let Ve=[...se];if(i.length>0&&(Ve=Ve.filter(Je=>i.includes(Je.brand))),n){const Je=n.replace("-"," ");Ve=Ve.filter(Qe=>Qe.category.toLowerCase()===Je.toLowerCase())}return G.length>0&&(Ve=Ve.filter(Je=>G.includes(Je.category))),Ve=Ve.filter(Je=>Je.discountPrice>=h.min&&Je.discountPrice<=h.max),w>0&&(Ve=Ve.filter(Je=>Math.round(Je.rating||0)>=w)),_.inStock&&!_.outOfStock?Ve=Ve.filter(Je=>Je.stock>0):!_.inStock&&_.outOfStock&&(Ve=Ve.filter(Je=>Je.stock<=0)),D.length>0&&(Ve=Ve.filter(Je=>Je.variant&&Array.isArray(Je.variant.storage)?Je.variant.storage.some(Qe=>D.includes(Qe)):Je.valid_options&&Array.isArray(Je.valid_options)?Je.valid_options.some(Qe=>Qe.storage&&D.includes(Qe.storage)):!1)),R.length>0&&(Ve=Ve.filter(Je=>Je.valid_options&&Array.isArray(Je.valid_options)?Je.valid_options.some(Qe=>Qe.ram&&R.includes(Qe.ram)):!1)),F.length>0&&(Ve=Ve.filter(Je=>Je.variant&&Array.isArray(Je.variant.colors)?Je.variant.colors.some(Qe=>F.includes(Qe)):Je.valid_options&&Array.isArray(Je.valid_options)?Je.valid_options.some(Qe=>Qe.colors&&F.includes(Qe.colors)):!1)),J&&Object.keys(J).length>0&&(Ve=Ve.filter(Je=>Object.entries(J).every(([Qe,Ot])=>!Ot||Ot.length===0?!0:Je.attributes&&Je.attributes[Qe]?Ot.includes(Je.attributes[Qe]):Je.valid_options&&Array.isArray(Je.valid_options)?Je.valid_options.some(Tt=>Tt[Qe]&&Ot.includes(Tt[Qe])):!1))),ee!==null&&(Ve=Ve.filter(Je=>(Je.price&&Je.discountPrice?Math.round((Je.price-Je.discountPrice)/Je.price*100):0)>=ee)),g==="price-low"?Ve.sort((Je,Qe)=>Je.discountPrice-Qe.discountPrice):g==="price-high"?Ve.sort((Je,Qe)=>Qe.discountPrice-Je.discountPrice):g==="rating"&&Ve.sort((Je,Qe)=>{const Ot=Je.rating!==void 0&&Je.rating!==null?Je.rating:0;return(Qe.rating!==void 0&&Qe.rating!==null?Qe.rating:0)-Ot}),Ve})(),q=te.length,ae=Math.ceil(q/de),pe=(W-1)*de,me=pe+de,be=te.slice(pe,me),Te=Ve=>{Z(Ve),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{Z(1)},[i,h,g,w,_,D,R,F,G,ee,J,n]);const je=()=>{l([]),m({min:0,max:15e4}),y("popularity"),k(0),N({inStock:!1,outOfStock:!1}),T([]),P([]),V([]),Y([]),le(null),B({})},Ye=[{label:"Home",link:_t.HOME},{label:n?n.charAt(0).toUpperCase()+n.slice(1).replace("-"," "):"Products"}];return r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:n?n.charAt(0).toUpperCase()+n.slice(1).replace("-"," "):"All Products"}),r.jsx(Qk,{items:Ye})]}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[r.jsx(U9,{showFilters:t,setShowFilters:o,brands:re,products:se,currentCategory:n,selectedBrands:i,toggleBrandFilter:oe,priceRange:h,setPriceRange:m,setSelectedBrands:l,stockFilters:_,setStockFilters:N,selectedRating:w,setSelectedRating:k,selectedStorage:D,setSelectedStorage:T,selectedRAM:R,setSelectedRAM:P,selectedColors:F,setSelectedColors:V,selectedCategories:G,setSelectedCategories:Y,selectedDiscount:ee,setSelectedDiscount:le,selectedAttributes:J,setSelectedAttributes:B}),r.jsxs("div",{className:"w-full md:w-3/4",children:[r.jsx(G9,{sortBy:g,setSortBy:y}),r.jsx(H9,{products:be,loading:ge}),!ge&&q>0&&r.jsx(Ia,{currentPage:W,totalPages:ae,onPageChange:Te,totalItems:q,itemsPerPage:de}),!ge&&te.length===0&&r.jsx(q9,{resetFilters:je})]})]})]})})},$ne=()=>{const[n]=jV(),t=n.get("query")||"",[o,i]=z.useState(!1),[l,h]=z.useState([]),[m,g]=z.useState({min:0,max:15e4}),[y,w]=z.useState("popularity"),[k,_]=z.useState(0),[N,D]=z.useState({inStock:!1,outOfStock:!1}),[T,R]=z.useState([]),[P,F]=z.useState([]),[V,G]=z.useState([]),[Y,ee]=z.useState([]),[le,J]=z.useState(null),[B,W]=z.useState({}),{brands:Z,loading:de,searchProducts:ne}=Gl(),re=ne(t).map(te=>({...te,discountPrice:te.discount_price||te.price,image:te.images&&te.images.length>0?te.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),ge=te=>{l.includes(te)?h(l.filter(q=>q!==te)):h([...l,te])},ke=()=>{h([]),g({min:0,max:15e4}),w("popularity"),_(0),D({inStock:!1,outOfStock:!1}),R([]),F([]),G([]),ee([]),J(null),W({})},oe=(()=>{let te=[...re];return l.length>0&&(te=te.filter(q=>l.includes(q.brand))),te=te.filter(q=>q.discountPrice>=m.min&&q.discountPrice<=m.max),y==="price-low"?te.sort((q,ae)=>q.discountPrice-ae.discountPrice):y==="price-high"?te.sort((q,ae)=>ae.discountPrice-q.discountPrice):y==="rating"&&te.sort((q,ae)=>{const pe=q.rating!==void 0&&q.rating!==null?q.rating:0;return(ae.rating!==void 0&&ae.rating!==null?ae.rating:0)-pe}),te})(),ue=[{label:"Home",link:_t.HOME},{label:`Search Results: "${t}"`}];return r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:['Search Results for "',t,'"']}),r.jsx(Qk,{items:ue}),r.jsxs("p",{className:"text-gray-600 mt-2",children:[oe.length," results found"]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[r.jsx(U9,{showFilters:o,setShowFilters:i,brands:Z,products:re,selectedBrands:l,toggleBrandFilter:ge,priceRange:m,setPriceRange:g,setSelectedBrands:h,stockFilters:N,setStockFilters:D,selectedRating:k,setSelectedRating:_,selectedStorage:T,setSelectedStorage:R,selectedRAM:P,setSelectedRAM:F,selectedColors:V,setSelectedColors:G,selectedCategories:Y,setSelectedCategories:ee,selectedDiscount:le,setSelectedDiscount:J,selectedAttributes:B,setSelectedAttributes:W}),r.jsxs("div",{className:"w-full md:w-3/4",children:[r.jsx(G9,{sortBy:y,setSortBy:w}),de?r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"spinner"})}):oe.length>0?r.jsx(H9,{products:oe}):r.jsx(q9,{searchQuery:t,resetFilters:ke})]})]})]})})},ese=()=>r.jsxs("div",{className:"bg-white rounded-xl p-10 text-center transition-all duration-300 hover:shadow-lg",style:{boxShadow:"var(--shadow-medium)",background:"linear-gradient(to bottom, var(--bg-primary), var(--bg-secondary))"},children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-7 animate-pulse",style:{background:"var(--bg-accent-light)",boxShadow:"var(--shadow-medium)"},children:r.jsx(La,{className:"h-12 w-12",style:{color:"var(--brand-primary)"}})}),r.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Your cart is empty"}),r.jsx("p",{className:"mb-8 max-w-md mx-auto text-base",style:{color:"var(--text-secondary)"},children:"Looks like you haven't added any products to your cart yet. Start shopping to fill it with amazing products!"}),r.jsx(nt,{to:_t.PRODUCTS,className:"inline-block",children:r.jsxs(tt,{variant:"primary",fullWidth:!1,className:"px-8 py-3.5 text-base group flex items-center transition-all duration-300 transform hover:translate-y-[-3px]",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)",borderRadius:"1rem"},children:["Browse Products",r.jsx(JP,{className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]}),tse=({item:n,updateQuantity:t,removeItem:o})=>r.jsxs("tr",{className:"group transition-all duration-200 hover:bg-opacity-50",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsx("td",{className:"py-6 px-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-20 w-20 rounded-lg flex items-center justify-center overflow-hidden transition-transform duration-200 group-hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:r.jsx("img",{src:n.image,alt:n.name,className:"h-16 w-16 object-contain"})}),r.jsxs("div",{className:"ml-5 flex-1",children:[r.jsx(nt,{to:`/products/${n.id}`,className:"font-medium hover:underline transition-all duration-200 block mb-1 text-base",style:{color:"var(--text-primary)"},children:n.name}),r.jsxs("span",{className:"text-sm block mt-1",style:{color:"var(--text-secondary)"},children:["",(n.price||0).toLocaleString()," each"]})]})]})}),r.jsx("td",{className:"py-6 px-4",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("button",{onClick:()=>t(n.item_id,-1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Decrease quantity",children:r.jsx(rO,{size:16})}),r.jsx("span",{className:"mx-4 w-8 text-center font-medium text-base",style:{color:"var(--text-primary)"},children:n.quantity}),r.jsx("button",{onClick:()=>t(n.item_id,1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Increase quantity",children:r.jsx(Yn,{size:16})})]})}),r.jsxs("td",{className:"py-6 px-4 text-right text-lg font-semibold",style:{color:"var(--brand-primary)"},children:["",((n.price||0)*n.quantity).toLocaleString()]}),r.jsx("td",{className:"py-6 px-4 text-center",children:r.jsx("button",{onClick:()=>o(n.item_id),className:"p-2.5 rounded-full hover:bg-red-50 transition-all duration-200 focus:outline-none",style:{color:"var(--error-color)",backgroundColor:"var(--bg-secondary)"},"aria-label":"Remove item",children:r.jsx(on,{size:18})})})]}),rse=({cartItems:n,updateQuantity:t,removeItem:o})=>r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"bg-white rounded-xl overflow-hidden mb-7",style:{boxShadow:"var(--shadow-medium)",borderLeft:"4px solid var(--brand-primary)"},children:[r.jsx("div",{className:"px-6 py-5 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:r.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:["Cart Items",r.jsx("span",{className:"ml-2 px-2.5 py-1 text-sm rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.length})]})}),r.jsx("div",{className:"overflow-x-auto p-2",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("th",{className:"py-4 px-5 text-left text-xs font-semibold uppercase tracking-wider rounded-tl-lg",style:{color:"var(--text-secondary)"},children:"Product"}),r.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Quantity"}),r.jsx("th",{className:"py-4 px-5 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),r.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider rounded-tr-lg",style:{color:"var(--text-secondary)"},children:"Action"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:n.map(i=>r.jsx(tse,{item:i,updateQuantity:t,removeItem:o},i.id))})]})})]}),r.jsx("div",{className:"flex justify-between mt-6",children:r.jsxs(nt,{to:_t.PRODUCTS,className:"inline-flex items-center px-5 py-3 rounded-lg transition-all duration-300 font-medium text-sm hover:translate-x-[-5px]",style:{color:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)"},children:[r.jsx(qc,{className:"mr-2"}),"Continue Shopping"]})})]}),nse=({subtotal:n,total:t,onCheckout:o})=>r.jsx("div",{className:"lg:col-span-1 sticky top-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 overflow-hidden",style:{boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 pb-4 border-b flex items-center",style:{color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[r.jsx(La,{className:"mr-2",style:{color:"var(--brand-primary)"}}),"Order Summary"]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex justify-between items-center py-1",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Subtotal"}),r.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",n.toLocaleString()]})]}),r.jsx("div",{className:"h-px my-3",style:{background:"var(--border-primary)"}}),r.jsxs("div",{className:"flex justify-between items-center py-2",children:[r.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Total"}),r.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["",t.toLocaleString()]})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(tt,{onClick:o,className:"text-base py-3.5 transition-all duration-300 transform hover:translate-y-[-2px] rounded-lg font-medium",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)"},children:[r.jsx(Vi,{className:"mr-2"})," Proceed to Checkout"]})})]})}),Y9=un((n,t)=>({addresses:[],isLoading:!1,error:null,fetchAddresses:async()=>{var i,l;const{isAuthenticated:o}=br.getState();if(!o)return n({addresses:[],error:"User not authenticated"}),[];try{n({isLoading:!0,error:null});const g=((await $t.get("/users/addresses/")).data.addresses||[]).map(y=>({id:y.id,name:y.type,address:y.street_address,city:y.city,state:y.state,pincode:y.postal_code,phone:y.phone_number,isDefault:y.is_default,type:y.type,street_address:y.street_address,postal_code:y.postal_code,phone_number:y.phone_number,is_default:y.is_default,created_at:y.created_at,updated_at:y.updated_at}));return n({addresses:g,isLoading:!1}),g}catch(h){return console.error("Error fetching addresses:",h),n({isLoading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch addresses"}),[]}},addAddress:async o=>{var l,h,m,g;const{isAuthenticated:i}=br.getState();if(!i)return ze.error("Please login to add an address"),null;try{n({isLoading:!0,error:null});const y={type:o.type||o.name,street_address:o.street_address||o.address,city:o.city,state:o.state,postal_code:o.postal_code||o.pincode,phone_number:o.phone_number||o.phone,is_default:o.is_default||o.isDefault||!1},w=await $t.post("/users/addresses/add/",y),k=w.data.address,_={id:w.data.address_id,name:k.type,address:k.street_address,city:k.city,state:k.state,pincode:k.postal_code,phone:k.phone_number,isDefault:k.is_default,...k};return n(N=>({addresses:[...N.addresses,_],isLoading:!1})),ze.success("Address added successfully"),_}catch(y){return console.error("Error adding address:",y),n({isLoading:!1,error:((h=(l=y.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to add address"}),ze.error(((g=(m=y.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to add address"),null}},updateAddress:async(o,i)=>{var h,m,g,y;const{isAuthenticated:l}=br.getState();if(!l)return ze.error("Please login to update an address"),!1;try{n({isLoading:!0,error:null});const w={type:i.type||i.name,street_address:i.street_address||i.address,city:i.city,state:i.state,postal_code:i.postal_code||i.pincode,phone_number:i.phone_number||i.phone,is_default:i.is_default||i.isDefault||!1},_=(await $t.put(`/users/addresses/update/${o}/`,w)).data.address,N={id:_.id||o,name:_.type,address:_.street_address,city:_.city,state:_.state,pincode:_.postal_code,phone:_.phone_number,isDefault:_.is_default,type:_.type,street_address:_.street_address,postal_code:_.postal_code,phone_number:_.phone_number,is_default:_.is_default,created_at:_.created_at,updated_at:_.updated_at};return n(D=>({addresses:D.addresses.map(T=>T.id===o?N:T),isLoading:!1})),ze.success("Address updated successfully"),!0}catch(w){return console.error("Error updating address:",w),n({isLoading:!1,error:((m=(h=w.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to update address"}),ze.error(((y=(g=w.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to update address"),!1}},deleteAddress:async o=>{var l,h,m,g;const{isAuthenticated:i}=br.getState();if(!i)return ze.error("Please login to delete an address"),!1;try{return n({isLoading:!0,error:null}),await $t.delete(`/users/addresses/delete/${o}/`),n(y=>({addresses:y.addresses.filter(w=>w.id!==o),isLoading:!1})),ze.success("Address deleted successfully"),!0}catch(y){return console.error("Error deleting address:",y),n({isLoading:!1,error:((h=(l=y.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to delete address"}),ze.error(((g=(m=y.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to delete address"),!1}},setDefaultAddress:async o=>{var l,h,m,g;const{isAuthenticated:i}=br.getState();if(!i)return ze.error("Please login to set default address"),!1;try{return n({isLoading:!0,error:null}),await $t.post(`/users/addresses/set-default/${o}/`),n(y=>({addresses:y.addresses.map(w=>({...w,isDefault:w.id===o,is_default:w.id===o})),isLoading:!1})),ze.success("Default address updated"),!0}catch(y){return console.error("Error setting default address:",y),n({isLoading:!1,error:((h=(l=y.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to set default address"}),ze.error(((g=(m=y.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to set default address"),!1}},getAddressById:o=>t().addresses.find(i=>i.id===o)||null,getDefaultAddress:()=>t().addresses.find(o=>o.isDefault)||(t().addresses.length>0?t().addresses[0]:null),clearError:()=>n({error:null})})),v_=(n,t,o)=>(console.log("Initiating Razorpay payment with data:",n),window.Razorpay?!n.key_id||!n.amount||!n.razorpay_order_id?(console.error("Missing required Razorpay data:",n),ze.error("Invalid payment configuration. Please try again."),Promise.reject("Invalid razorpay data")):new Promise((i,l)=>{const h={key:n.key_id,amount:n.amount,currency:n.currency||"INR",order_id:n.razorpay_order_id,name:"Anand Mobiles",description:"Purchase of products",image:"/logo.jpg",handler:function(m){console.log("Payment successful, response:",m);const g={razorpay_payment_id:m.razorpay_payment_id,razorpay_order_id:m.razorpay_order_id,razorpay_signature:m.razorpay_signature,order_id:n.app_order_id};$t.post("/users/order/razorpay/verify/",g).then(y=>{console.log("Payment verified successfully:",y.data),t&&t(y.data),i(y.data)}).catch(y=>{console.error("Payment verification failed:",y),o&&o(y),l(y)})},prefill:{},notes:{order_id:n.app_order_id},theme:{color:"#3399cc"},modal:{ondismiss:function(){console.log("Payment modal dismissed by user"),o&&o({message:"Payment cancelled by user"}),l({message:"Payment cancelled by user"})}}};console.log("Opening Razorpay modal with options:",h);try{const m=new window.Razorpay(h);m.on("payment.failed",function(g){console.error("Payment failed:",g.error),o&&o(g.error),l(g.error)}),m.open(),console.log("Razorpay modal opened successfully")}catch(m){console.error("Error initiating Razorpay:",m),ze.error("Failed to open payment gateway. Please try again."),o&&o(m),l(m)}}):(console.error("Razorpay SDK is not loaded"),ze.error("Payment gateway not available. Please try again later."),Promise.reject("Razorpay SDK not loaded"))),ng=un(n=>({orders:[],currentOrder:null,isLoading:!1,isProcessingPayment:!1,paymentSuccessful:!1,error:null,initiatePayment:t=>v_(t,o=>{n(i=>({orders:i.orders.map(l=>l.id===t.app_order_id?{...l,status:"paid",payment_details:o}:l),paymentSuccessful:!0})),ze.success("Payment successful!"),setTimeout(()=>{n({paymentSuccessful:!1})},1e3)},o=>{ze.error("Payment failed. Please try again."),console.error("Payment error:",o)}),fetchOrders:async()=>{var t,o,i,l;try{n({isLoading:!0,error:null});const m=(await $t.get("/users/orders/")).data.orders||[];return n({orders:m,isLoading:!1}),m}catch(h){return console.error("Error fetching orders:",h),n({isLoading:!1,error:((o=(t=h.response)==null?void 0:t.data)==null?void 0:o.detail)||((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch orders"}),[]}},placeOrderFromCart:async t=>{var o,i,l,h;try{n({isProcessingPayment:!0,error:null}),console.log("Starting placeOrderFromCart with addressId:",t);const m=Uu.getState().items;if(console.log("Cart items:",m),!m||m.length===0)return ze.error("Your cart is empty"),n({isProcessingPayment:!1}),null;const g=Math.round(m.reduce((N,D)=>N+D.price*D.quantity,0)*100),y={address_id:t,amount:g,currency:"INR",product_ids:m.map(N=>N.item_id)};console.log("Order data being sent:",y);const w=await $t.post("/users/order/razorpay/create/",y);console.log("API response:",w.data);const k=w.data;if(!k.key_id||!k.razorpay_order_id||!k.amount)return console.error("Invalid razorpay data received:",k),ze.error("Invalid payment configuration received from server"),n({isProcessingPayment:!1}),null;const _={id:k.app_order_id,razorpay_order_id:k.razorpay_order_id,status:"pending_payment"};return n(N=>({orders:[_,...N.orders],currentOrder:_})),console.log("Initiating Razorpay payment..."),await v_(k,async N=>{console.log("Payment successful:",N),n(D=>({orders:D.orders.map(T=>T.id===k.app_order_id?{...T,status:"paid",payment_details:N}:T),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{n({paymentSuccessful:!1})},1e3),ze.success("Payment successful! Order placed successfully.")},N=>{console.error("Payment error:",N),n({isProcessingPayment:!1}),N.message==="Payment cancelled by user"?ze.error("Payment was cancelled"):ze.error("Payment failed. Please try again.")}),_}catch(m){return console.error("Error placing order:",m),n({isProcessingPayment:!1,error:((i=(o=m.response)==null?void 0:o.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to place order"}),ze.error("Failed to place order. Please try again."),null}},placeSingleProductOrder:async(t,o,i)=>{var l,h,m,g;try{if(n({isProcessingPayment:!0,error:null}),console.log("Starting placeSingleProductOrder with:",{product:t,quantity:o,addressId:i}),!t)return ze.error("Product information is missing"),n({isProcessingPayment:!1}),null;const y=Math.round(t.price*o*100),w={address_id:i,amount:y,currency:"INR",product_ids:[t.id],single_product_order:!0,product_details:{product_id:t.id,quantity:o,variant_id:t.variant_id||null}};console.log("Single product order data being sent:",w);const k=await $t.post("/users/order/razorpay/create/",w);console.log("Single product API response:",k.data);const _=k.data;if(!_.key_id||!_.razorpay_order_id||!_.amount)return console.error("Invalid razorpay data received for single product:",_),ze.error("Invalid payment configuration received from server"),n({isProcessingPayment:!1}),null;const N={id:_.app_order_id,razorpay_order_id:_.razorpay_order_id,status:"pending_payment"};return n(D=>({orders:[N,...D.orders],currentOrder:N})),console.log("Initiating Razorpay payment for single product..."),await v_(_,async D=>{console.log("Single product payment successful:",D),n(T=>({orders:T.orders.map(R=>R.id===_.app_order_id?{...R,status:"paid",payment_details:D}:R),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{n({paymentSuccessful:!1})},1e3),ze.success("Payment successful! Order placed successfully.")},D=>{console.error("Single product payment error:",D),n({isProcessingPayment:!1}),D.message==="Payment cancelled by user"?ze.error("Payment was cancelled"):ze.error("Payment failed. Please try again.")}),N}catch(y){return console.error("Error placing single product order:",y),n({isProcessingPayment:!1,error:((h=(l=y.response)==null?void 0:l.data)==null?void 0:h.detail)||((g=(m=y.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to place order"}),ze.error("Failed to place order. Please try again."),null}},getOrderById:async t=>{var o,i,l,h;try{n({isLoading:!0,error:null});const g=(await $t.get(`/users/orders/${t}/`)).data.order_details;return console.log("Fetched order:",g),n({currentOrder:g,isLoading:!1}),g}catch(m){return console.error("Error fetching order:",m),n({isLoading:!1,error:((i=(o=m.response)==null?void 0:o.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch order"}),null}},cancelOrder:async t=>{var o,i,l,h;try{return n({isLoading:!0,error:null}),await $t.post(`/users/orders/${t}/cancel/`),n(m=>({orders:m.orders.map(g=>g.id===t?{...g,status:"cancelled"}:g),isLoading:!1})),ze.success("Order cancelled successfully"),!0}catch(m){return console.error("Error cancelling order:",m),n({isLoading:!1,error:((i=(o=m.response)==null?void 0:o.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to cancel order"}),ze.error("Failed to cancel order"),!1}},clearError:()=>n({error:null})})),sse=({isOpen:n,onClose:t,product:o=null,quantity:i=1})=>{const l=as(),{isAuthenticated:h}=br(),{items:m,totalAmount:g}=Uu(),{placeOrderFromCart:y,placeSingleProductOrder:w,isProcessingPayment:k,paymentSuccessful:_}=ng(),{addresses:N,fetchAddresses:D,isLoading:T}=Y9(),[R,P]=z.useState(null),F=!o,V=F?m:[{...o,quantity:i}],G=F?g:(o==null?void 0:o.price)*i,le=G+0+0;z.useEffect(()=>{if(n&&h){if(!window.Razorpay){console.error("Razorpay SDK not loaded when checkout opened"),ze.error("Payment gateway not available. Please refresh and try again.");return}console.log("Razorpay SDK is available:",!!window.Razorpay),D()}},[n,h,D]),z.useEffect(()=>{var W;if(N.length>0&&!R){const Z=N.find(de=>de.isDefault);P((Z==null?void 0:Z.id)||((W=N[0])==null?void 0:W.id))}},[N,R]),z.useEffect(()=>{_&&n&&(console.log("Payment successful, closing checkout modal"),setTimeout(()=>{t()},1e3))},[_,n,t]);const J=async()=>{if(console.log("handlePlaceOrder called",{isAuthenticated:h,selectedAddressId:R}),!h){ze.error("Please login to place order"),l("/login");return}if(!R){ze.error("Please select a delivery address");return}try{console.log("Attempting to place order...",{isCartOrder:F,product:o,quantity:i,selectedAddressId:R});let W;F?(console.log("Placing cart order..."),W=await y(R)):(console.log("Placing single product order..."),W=await w(o,i,R)),console.log("Order placement result:",W),console.log(W?"Order placed successfully, waiting for payment completion...":"Order placement failed - no result returned")}catch(W){console.error("Order placement failed:",W),ze.error("Failed to place order. Please try again.")}},B=W=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(W);return n?r.jsx(IN,{isOpen:n,onClose:t,size:"2xl",closeOnBackdropClick:!k,className:"animate-fadeIn w-11/12 max-w-5xl",children:r.jsxs("div",{className:"relative w-full",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[r.jsxs("div",{className:"relative px-8 py-8 text-center overflow-hidden",style:{background:"linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-hover) 100%)",color:"var(--text-on-brand)"},children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-10 transform translate-x-8 -translate-y-8",children:r.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full opacity-10 transform -translate-x-4 translate-y-4",children:r.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"p-4 rounded-full transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:r.jsx(La,{className:"text-3xl"})})}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Complete Your Order"}),r.jsx("p",{className:"text-lg opacity-90",children:"Review your order details and complete the secure checkout"}),r.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-100"}),r.jsx("div",{className:"w-8 h-1 bg-white opacity-60 rounded-full"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-60"}),r.jsx("div",{className:"w-8 h-1 bg-white opacity-30 rounded-full"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-30"})]})]})]}),r.jsx("div",{className:"p-6 md:p-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",style:{animation:"slideInLeft 0.6s ease-out"},children:[r.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:r.jsx(La,{className:"text-xl"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Order Summary"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[V.length," item",V.length>1?"s":"","in your order"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[V.map((W,Z)=>r.jsxs("div",{className:`group/item flex items-center justify-between p-6 rounded-xl transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] ${Z<V.length-1?"border-b-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden mr-6 group-hover/item:shadow-lg transition-shadow duration-300",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",border:"2px solid var(--border-primary)"},children:[r.jsx("img",{src:W.image,alt:W.name,className:"w-full h-full object-cover group-hover/item:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold mb-2 text-lg group-hover:item:text-opacity-80 transition-all duration-300",style:{color:"var(--text-primary)"},children:W.name}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-sm px-4 py-2 rounded-full font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:["Qty: ",W.quantity]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Gr,{className:"text-yellow-400 mr-1",size:14}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"4.5"})]})]})]})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsx("p",{className:"font-bold text-xl mb-1 group-hover:item:scale-105 transition-transform duration-300",style:{color:"var(--brand-primary)"},children:B(W.price*W.quantity)}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[B(W.price)," each"]})]})]},W.id)),r.jsx("div",{className:"p-6 rounded-xl border-2",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)",background:"linear-gradient(145deg, var(--bg-accent-light) 0%, rgba(255, 255, 255, 0.8) 100%)"},children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx($P,{className:"mr-3 text-2xl",style:{color:"var(--brand-primary)"}}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Total Amount"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Including all taxes"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--brand-primary)"},children:B(le)}),r.jsxs("div",{className:"flex items-center justify-end mt-1",children:[r.jsx(Er,{className:"mr-1 text-green-500",size:14}),r.jsx("span",{className:"text-sm font-medium text-green-500",children:"FREE Delivery"})]})]})]})})]})]}),r.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:r.jsx(An,{className:"text-xl"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Delivery Address"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose where you want your order delivered"})]})]})}),T?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsx("div",{className:"p-4 rounded-full mb-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(hi,{className:"animate-spin",size:32})}),r.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Loading addresses..."}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Please wait while we fetch your saved addresses"})]}):N.length>0?r.jsx("div",{className:"space-y-4",children:N.map(W=>r.jsx("div",{className:`group/addr p-6 rounded-xl cursor-pointer transition-all duration-300 border-2 transform ${R===W.id?"shadow-lg scale-[1.02] border-2":"hover:shadow-md hover:scale-[1.01]"}`,style:{backgroundColor:R===W.id?"var(--bg-accent-light)":"var(--bg-primary)",borderColor:R===W.id?"var(--brand-primary)":"var(--border-primary)",boxShadow:R===W.id?"0 10px 25px -5px rgba(245, 158, 11, 0.25)":"0 4px 15px rgba(0, 0, 0, 0.05)"},onClick:()=>P(W.id),children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center mr-6 mt-1",children:r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${R===W.id?"border-2 scale-110":"group-hover/addr:scale-105"}`,style:{borderColor:R===W.id?"var(--brand-primary)":"var(--border-secondary)",backgroundColor:R===W.id?"var(--brand-primary)":"transparent"},children:R===W.id&&r.jsx(Kn,{className:"text-sm animate-fadeIn",style:{color:"var(--text-on-brand)"}})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsxs("div",{className:"flex items-center mr-4",children:[r.jsx(xs,{className:"mr-2 text-lg",style:{color:"var(--brand-primary)"}}),r.jsx("span",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:W.name})]}),W.isDefault&&r.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full transform group-hover/addr:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--success-color)",color:"white"},children:" Default"})]}),r.jsxs("div",{className:"flex items-start mb-3",children:[r.jsx(An,{className:"mr-3 mt-1 text-lg flex-shrink-0",style:{color:"var(--brand-primary)"}}),r.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[W.address,", ",W.city,",",W.state," - ",W.pincode]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ba,{className:"mr-3 text-lg",style:{color:"var(--brand-primary)"}}),r.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-secondary)"},children:W.phone})]})]}),R===W.id&&r.jsx("div",{className:"ml-4",children:r.jsx("div",{className:"p-2 rounded-full animate-fadeIn",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:r.jsx(Kn,{className:"text-lg"})})})]})},W.id))}):r.jsxs("div",{className:"text-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:r.jsx(An,{size:40,style:{color:"var(--text-secondary)"}})}),r.jsx("p",{className:"mb-4 text-xl font-bold",style:{color:"var(--text-primary)"},children:"No addresses found"}),r.jsx("p",{className:"mb-8 text-base",style:{color:"var(--text-secondary)"},children:"Add a delivery address from profile section to continue with your order"})]})]})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"rounded-xl p-6 border sticky top-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Vi,{className:"text-lg"})}),r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Payment"})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)"},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--brand-primary)"},children:r.jsx(Kn,{className:"text-xs",style:{color:"var(--text-on-brand)"}})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Razorpay"}),r.jsx(ek,{className:"ml-2 text-sm",style:{color:"var(--success-color)"}})]}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secure payment with UPI, Cards, Net Banking"})]})]})})}),r.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Subtotal:"}),r.jsx("span",{style:{color:"var(--text-primary)"},children:B(G)})]}),r.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Total:"}),r.jsx("span",{className:"font-bold text-xl",style:{color:"var(--brand-primary)"},children:B(le)})]})]})}),r.jsx(tt,{onClick:J,disabled:!R||k,className:"w-full transition-transform hover:scale-105 duration-300 mb-2",size:"lg",style:{backgroundColor:!R||k?"var(--text-secondary)":"var(--brand-primary)",color:"var(--text-on-brand)"},icon:k?r.jsx(hi,{className:"animate-spin"}):r.jsx(PZ,{}),children:k?"Processing Payment...":"Place Order"}),r.jsx("button",{onClick:t,className:"w-full py-2 mt-2 text-center font-medium transition-all duration-300 rounded-lg hover:bg-opacity-10",style:{color:"var(--brand-primary)",backgroundColor:"transparent",border:"1px solid var(--brand-primary)"},disabled:k,children:"Continue Shopping"}),r.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",border:"1px solid var(--border-primary)"},children:[r.jsx(ek,{className:"mr-2 flex-shrink-0",style:{color:"var(--success-color)"}}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Your payment information is secure and encrypted"})]})]})})]})})]})}):null},ose=()=>{const{items:n,totalAmount:t,fetchCart:o,updateQuantity:i,removeItem:l}=Uu(),{isAuthenticated:h}=br(),{paymentSuccessful:m}=ng(),[g,y]=z.useState(!1);z.useEffect(()=>{o()},[o,h]),z.useEffect(()=>{m&&(console.log("Payment successful, refetching cart data"),setTimeout(()=>{o(),console.log("Cart data refetched after successful payment")},500))},[m,o]);const w=t,k=0,_=0,N=w+k+_,D=()=>{y(!0)},T=()=>{y(!1),o()},R=[{label:"Home",link:_t.HOME},{label:"Shopping Cart"}];return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx(Qk,{items:R}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Shopping Cart"}),n.length===0?r.jsx(ese,{}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(rse,{cartItems:n,updateQuantity:i,removeItem:l}),r.jsx(nse,{subtotal:w,tax:k,shipping:_,total:N,onCheckout:D})]}),r.jsx(sse,{isOpen:g,onClose:T})]})})},ise=()=>{const{items:n,fetchWishlist:t,removeItem:o}=Wk(),{addItem:i}=Uu(),{isAuthenticated:l}=br();z.useEffect(()=>{t()},[t,l]);const h=async g=>{await o(g)&&Une()},m=async g=>{await i(g,1)&&PA(g.name)};return r.jsx("div",{className:"min-h-screen py-8",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("nav",{className:"flex items-center text-sm mb-6",children:[r.jsx(nt,{to:_t.HOME,className:"hover:underline transition-colors duration-200",style:{color:"var(--text-secondary)"},children:"Home"}),r.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"/"}),r.jsx("span",{style:{color:"var(--text-primary)"},children:"My Wishlist"})]}),r.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"My Wishlist"}),n.length===0?r.jsxs("div",{className:"rounded-lg p-8 text-center transition-shadow duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-6",style:{backgroundColor:"var(--bg-accent-light)"},children:r.jsx(Xf,{className:"h-10 w-10",style:{color:"var(--brand-primary)"}})}),r.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Your wishlist is empty"}),r.jsx("p",{className:"mb-8",style:{color:"var(--text-secondary)"},children:"Save items you like to your wishlist and they'll appear here"}),r.jsx(nt,{to:_t.PRODUCTS,children:r.jsx(tt,{variant:"primary",fullWidth:!1,className:"px-6",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)","&:hover":{backgroundColor:"var(--brand-primary-hover)"}},children:"Continue Shopping"})})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>r.jsx("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-white p-2 rounded-md flex items-center justify-center",style:{boxShadow:"var(--shadow-small)"},children:r.jsx("img",{src:g.image,alt:g.name,className:"h-24 w-24 object-contain"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:g.category}),r.jsx(nt,{to:`/products/${g.id}`,className:"font-medium hover:underline line-clamp-2",style:{color:"var(--text-primary)"},children:g.name}),r.jsxs("p",{className:"font-bold mt-1 text-lg",style:{color:"var(--brand-primary)"},children:["",g.price?g.price.toLocaleString():"N/A"]})]}),r.jsx("button",{onClick:()=>h(g.item_id),className:"p-2 rounded-full transition-colors hover:bg-gray-100",style:{color:"var(--text-secondary)"},"aria-label":"Remove from wishlist",children:r.jsx(on,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mt-4",children:[g.stock!==0?r.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--success-color)"},children:[r.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--success-color)"}}),"In Stock"]}):r.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--error-color)"},children:[r.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--error-color)"}}),"Out of Stock"]}),r.jsx(tt,{fullWidth:!0,onClick:()=>m(g),disabled:g.stock===0,icon:r.jsx(Zf,{}),style:{backgroundColor:g.stock!==0?"var(--brand-primary)":"var(--bg-secondary)",color:g.stock!==0?"var(--text-on-brand)":"var(--text-secondary)",cursor:g.stock!==0?"pointer":"not-allowed"},children:"Add to Cart"})]})]})]})})},g.id))})]})})},ase=({isOpen:n,onClose:t,orderId:o})=>{const{getOrderById:i,isLoading:l}=ng(),[h,m]=z.useState(null);if(z.useEffect(()=>{const _=N=>{N.key==="Escape"&&n&&t()};return n&&(document.addEventListener("keydown",_),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",_),document.body.style.overflow="unset"}},[n,t]),z.useEffect(()=>{n&&o&&(console.log("Modal opened for order:",o),(async()=>{try{const N=await i(o);console.log("Fetched order details:",N),m(N)}catch(N){console.error("Error fetching order details:",N)}})())},[n,o,i]),console.log("Modal render - isOpen:",n,"orderId:",o),!n)return null;const g=(_,N="INR")=>N==="INR"?`${_==null?void 0:_.toLocaleString()}`:`${_} ${N}`,y=_=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[_]||_,w=_=>({pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)"})[_]||"var(--brand-primary)",k=_=>{_.target===_.currentTarget&&t()};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:k,children:r.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:_=>_.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(bt,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",o]})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:l?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]}):h?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zr,{className:"mr-2",style:{color:w(h.status)}}),r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Status:"})]}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:`${w(h.status)}20`,color:w(h.status)},children:y(h.status)})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Order Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Order Date"}),r.jsx("p",{style:{color:"var(--text-primary)"},children:new Date(h.created_at).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Amount"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:g(h.total_amount,h.currency)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Payment Method"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vi,{className:"mr-1"}),r.jsx("span",{style:{color:"var(--text-primary)"},children:h.payment_method||"Online Payment"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Items Count"}),r.jsxs("p",{style:{color:"var(--text-primary)"},children:[h.item_count," item(s)"]})]})]})]}),h.invoice&&h.invoice.invoice_pdf_url&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Invoice"}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ui,{className:"mr-2",style:{color:"var(--brand-primary)"}}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",h.invoice.invoice_id]}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Download your order invoice"})]})]}),r.jsxs("a",{href:h.invoice.invoice_pdf_url,download:`Invoice_${h.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-md text-white font-medium transition-colors duration-200 hover:opacity-90 flex items-center",style:{backgroundColor:"var(--brand-primary)"},onClick:()=>{setTimeout(()=>{console.log("Invoice download initiated")},100)},children:[r.jsx(ui,{className:"mr-2",size:16}),"Download Invoice"]})]})})]}),h.items&&h.items.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Ordered Items"}),r.jsx("div",{className:"space-y-3",children:h.items.map((_,N)=>r.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[_.image&&r.jsx("img",{src:_.image,alt:_.name,className:"w-16 h-16 object-cover rounded-md mr-3",onError:D=>{D.target.style.display="none"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:_.name}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Quantity: ",_.quantity]}),r.jsx("p",{className:"text-sm font-medium text-green-600",children:g(_.price)})]})]},N))})]}),h.shipping_address&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Delivery Address"}),r.jsxs("div",{className:"p-3 rounded-lg flex items-start",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx(An,{className:"mr-2 mt-1",style:{color:"var(--brand-primary)"}}),r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-primary)"},children:h.shipping_address.street_address}),r.jsxs("p",{style:{color:"var(--text-secondary)"},children:[h.shipping_address.city,",",h.shipping_address.state,h.shipping_address.postal_code]})]})]})]})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Unable to load order details. Please try again."})})})]})})},lse=({isOpen:n,onClose:t,product:o})=>{const[i,l]=z.useState(0),[h,m]=z.useState(""),[g,y]=z.useState(0),{addReview:w,reviewLoading:k,reviewError:_,clearReviewError:N}=Gl(),{isAuthenticated:D,user:T}=br();z.useEffect(()=>{const F=V=>{V.key==="Escape"&&n&&t()};return n&&(document.addEventListener("keydown",F),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",F),document.body.style.overflow="unset"}},[n,t]),z.useEffect(()=>{n&&(l(0),m(""),y(0),N())},[n,N]);const R=async F=>{if(F.preventDefault(),!D){ze.error("Please log in to write a review");return}if(!o){ze.error("Product information not available");return}if(i===0){ze.error("Please select a rating");return}N();const V={rating:i,comment:h.trim(),verified_purchase:!0,order_id:o.orderId,purchase_date:o.orderDate},G=o.productId||o.id,Y=await w(G,V);Y.success?(l(0),m(""),y(0),ze.success("Review submitted successfully!"),t()):ze.error(Y.error||"Failed to submit review. Please try again.")},P=F=>{F.target===F.currentTarget&&t()};return!n||!o?null:r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)"},onClick:P,children:r.jsxs("div",{className:"relative max-w-lg w-full max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl animate-slideIn",style:{backgroundColor:"var(--bg-primary)"},onClick:F=>F.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Gr,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"p-4 border-b",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex items-center",children:[o.image&&r.jsx("img",{src:o.image,alt:o.name,className:"w-16 h-16 object-cover rounded-lg mr-3",onError:F=>{F.target.style.display="none"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:o.name}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",o.orderId]}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(bt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),r.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),r.jsxs("form",{onSubmit:R,className:"p-6",children:[_&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:_}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),r.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(F=>r.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>y(F),onMouseLeave:()=>y(0),onClick:()=>l(F),children:r.jsx(Gr,{className:`w-8 h-8 transition-colors duration-200 ${F<=(g||i)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},F))}),i>0&&r.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[i," out of 5 stars"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),r.jsx("textarea",{value:h,onChange:F=>m(F.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"},maxLength:1e3}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[h.length,"/1000 characters"]}),T&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",T.name||T.email]})]}),r.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:r.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[r.jsx(bt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"submit",disabled:k||i===0,className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:k?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})},cse=n=>{if(!n)return null;try{const t=new Date(n);if(!isNaN(t.getTime()))return t;const o=/^(\d{2})\/(\d{2})\/(\d{4}) at (\d{1,2}):(\d{2}) (AM|PM)$/;let i=n.match(o);if(i){const[,m,g,y,w,k,_]=i;let N=parseInt(w);return _==="PM"&&N!==12?N+=12:_==="AM"&&N===12&&(N=0),new Date(y,m-1,g,N,k)}const l=/^(\d{1,2})\/(\d{1,2})\/(\d{4}) at (\d{1,2}):(\d{2}) (AM|PM)$/;if(i=n.match(l),i){const[,m,g,y,w,k,_]=i;let N=parseInt(w);return _==="PM"&&N!==12?N+=12:_==="AM"&&N===12&&(N=0),new Date(y,m-1,g,N,k)}const h=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.(\d{3})Z$/;return i=n.match(h),i?new Date(n):new Date(n)}catch(t){return console.error("Error parsing date:",n,t),null}},dse=n=>{if(!n)return"";const t=typeof n=="string"?cse(n):n;return!t||isNaN(t.getTime())?"Invalid Date":{date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},use={pending_payment:r.jsx(Zr,{}),payment_successful:r.jsx(On,{}),order_confirmed:r.jsx(bt,{}),processing:r.jsx(bt,{}),packed:r.jsx(Tu,{}),shipped:r.jsx(Er,{}),out_for_delivery:r.jsx(An,{}),delivered:r.jsx(On,{}),cancelled:r.jsx(fx,{}),Ordered:r.jsx(Tu,{}),Packed:r.jsx(bt,{}),Shipped:r.jsx(Er,{}),"Out for Delivery":r.jsx(An,{}),Delivered:r.jsx(On,{})},w_={pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",packed:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},hse=n=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[n]||n,k_=n=>n.tracking_info&&n.tracking_info.status_history&&n.tracking_info.status_history.length>0?[...n.tracking_info.status_history].sort((o,i)=>new Date(i.timestamp)-new Date(o.timestamp))[0].status:n.status,mse=(n,t="INR")=>t==="INR"?`${n==null?void 0:n.toLocaleString()}`:`${n} ${t}`,pse=({orders:n})=>{const[t,o]=z.useState(null),[i,l]=z.useState(null),[h,m]=z.useState(!1),{initiatePayment:g,isProcessingPayment:y}=ng(),w=(T,R)=>{T.preventDefault(),T.stopPropagation(),console.log("Opening modal for order:",R),ze.info(`Opening modal for order: ${R}`),o(R)},k=()=>{o(null)},_=(T,R,P)=>{if(T.preventDefault(),T.stopPropagation(),k_(P)!=="delivered"){ze.error("You can only review products from delivered orders");return}console.log("Opening review modal for product:",R),l({...R,orderId:P.order_id,orderDate:P.created_at}),m(!0)},N=()=>{m(!1),l(null)},D=async(T,R)=>{if(T.preventDefault(),T.stopPropagation(),k_(R)!=="pending_payment"){ze.error("Payment can only be retried for pending payment orders");return}try{R.payment_data?await g(R.payment_data):ze.error("Payment information not available. Please contact support.")}catch(F){console.error("Error retrying payment:",F),ze.error("Failed to retry payment. Please try again.")}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4",children:n.map(T=>{const R=k_(T);return r.jsx("div",{className:"group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:r.jsxs(nt,{to:`/order-tracking/${T.order_id}`,className:"flex items-center justify-between p-4",style:{textDecoration:"none"},children:[r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:"h-12 w-12 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:w_[R]||"var(--brand-primary)",color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:use[R]||r.jsx(Tu,{})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",T.order_id]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[r.jsxs("div",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"mr-1",children:"Status:"}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${w_[R]||"var(--brand-primary)"}20`,color:w_[R]||"var(--brand-primary)",fontWeight:600},children:hse(R)})]}),r.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"hidden sm:inline mx-2",children:""}),"Placed:",(()=>{const P=dse(T.created_at);return`${P.date} at ${P.time}`})()]})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm",children:[r.jsxs("div",{style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"font-medium",children:"Amount:"}),r.jsx("span",{className:"text-green-600 font-semibold",children:mse(T.total_amount,T.currency)})]}),r.jsxs("div",{style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"font-medium",children:"Items:"}),T.item_count]})]}),T.items&&T.items.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[T.items.slice(0,2).map((P,F)=>r.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50",children:[r.jsxs("div",{className:"flex items-center",children:[P.image&&r.jsx("img",{src:P.image,alt:P.name,className:"w-8 h-8 object-cover rounded mr-2",onError:V=>{V.target.style.display="none"}}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium truncate max-w-40",style:{color:"var(--text-primary)"},children:P.name}),r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Qty: ",P.quantity]})]})]}),R==="delivered"&&r.jsxs("button",{onClick:V=>_(V,P,T),className:"flex items-center px-2 py-1 rounded text-xs font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[r.jsx(Gr,{size:12,className:"mr-1"}),"Review"]})]},F)),T.items.length>2&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["+",T.items.length-2," more items..."]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[R==="pending_payment"&&r.jsxs("button",{onClick:P=>D(P,T),disabled:y,className:"flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 hover:bg-orange-50 disabled:opacity-50",style:{color:"var(--warning-color)",border:"1px solid var(--warning-color)"},title:"Retry Payment",children:[r.jsx(Vi,{size:12,className:"mr-1"}),y?"Processing...":"Retry Payment"]}),r.jsx("button",{onClick:P=>w(P,T.order_id),className:"p-2 rounded-full hover:bg-blue-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Details",children:r.jsx(Gi,{size:16})}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2 text-sm font-medium hidden md:block",style:{color:"var(--brand-primary)"},children:"Track Order"}),r.jsx("div",{className:"bg-gray-100 p-2 rounded-full group-hover:bg-orange-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},children:r.jsx(_n,{className:"text-lg"})})]})]})]})},T.order_id)})}),r.jsx(ase,{isOpen:!!t,onClose:k,orderId:t}),r.jsx(lse,{isOpen:h,onClose:N,product:i}),t&&r.jsxs("div",{style:{display:"none"},children:["Selected Order ID: ",t]})]})},fse=()=>{const{fetchOrders:n,orders:t,isLoading:o,error:i}=ng();return z.useEffect(()=>{n()},[n]),console.log("OrderStatusPage rendered",t),r.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(nt,{to:"/",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[r.jsx(qc,{className:"mr-2"}),r.jsx("span",{className:"font-medium",children:"Back to Home"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(bt,{size:20})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"My Orders"}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Track your recent orders and see their status in real-time."})]})]}),r.jsxs("button",{onClick:()=>n(),disabled:o,className:"flex items-center px-4 py-2 rounded-lg transition-all duration-200 hover:bg-gray-100 disabled:opacity-50",style:{color:"var(--brand-primary)",border:"1px solid var(--border-primary)"},title:"Refresh orders",children:[r.jsx(Va,{className:`mr-2 ${o?"animate-spin":""}`,size:16}),r.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center",style:{backgroundColor:"var(--bg-accent-light)"},children:r.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[r.jsx("strong",{children:"Tip:"})," Click on any order to view detailed tracking information."]})})]}),r.jsx("div",{className:"p-6",children:o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading your orders..."})]}):i?r.jsxs("div",{className:"text-center py-12",style:{color:"var(--error-color)"},children:[r.jsx(Tu,{className:"mx-auto mb-4",size:40}),r.jsx("p",{className:"font-medium",children:"Error loading orders"}),r.jsx("p",{className:"text-sm",children:i}),r.jsx("button",{onClick:()=>n(),className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]}):t.length>0?r.jsx(pse,{orders:t}):r.jsxs("div",{className:"text-center py-12",style:{color:"var(--text-secondary)"},children:[r.jsx(Tu,{className:"mx-auto mb-4",size:40}),r.jsx("p",{className:"font-medium",children:"You don't have any orders yet"}),r.jsx(nt,{to:"/products",className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Start Shopping"})]})})]})]})})})},gse={"Pending Payment":r.jsx(Zr,{size:18}),"Payment Successful":r.jsx(Vi,{size:18}),Assigned:r.jsx(xs,{size:18}),Processing:r.jsx(zb,{size:18}),Ordered:r.jsx(Tu,{size:18}),Packed:r.jsx(bt,{size:18}),Shipped:r.jsx(Er,{size:18}),"Out for Delivery":r.jsx(An,{size:18}),Delivered:r.jsx(On,{size:18})},ew={"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},W9=({timeline:n,currentStatus:t})=>{const o=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5",style:{background:"var(--border-primary)"}}),r.jsx("div",{className:"absolute left-5 top-5 w-0.5 transition-all duration-1000 ease-out",style:{background:"linear-gradient(to bottom, var(--success-color), var(--brand-primary))",height:`${Math.min(n.filter((i,l)=>{const h=o.indexOf(n[l].status),m=o.indexOf(t);return h<m||n[l].date}).length/n.length*100,100)}%`}}),r.jsx("div",{className:"space-y-8",children:n.map((i,l)=>{const h=i.status===t,m=o.indexOf(t),g=o.indexOf(i.status),y=i.date||g<m&&m!==-1,w=!y&&!h;return r.jsxs("div",{className:"flex items-start relative animate-fadeIn",style:{animationDelay:`${l*100}ms`,animationFillMode:"both"},children:[r.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full z-10 transition-all duration-300",style:{backgroundColor:y||h?ew[i.status]||"var(--success-color)":"var(--bg-primary)",color:y||h?"var(--text-on-brand)":"var(--text-secondary)",border:w?"2px solid var(--border-primary)":"none",boxShadow:h?"0 0 0 4px rgba(99, 102, 241, 0.1), var(--shadow-medium)":y?"0 0 0 2px rgba(34, 197, 94, 0.1), var(--shadow-small)":"var(--shadow-small)",transform:h?"scale(1.1)":"scale(1)"},children:y&&!h?r.jsx(On,{size:18}):gse[i.status]||r.jsx(bt,{size:18})}),r.jsxs("div",{className:"ml-6 pb-2",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[r.jsx("div",{className:"font-semibold text-base",style:{color:h?ew[i.status]:y?"var(--text-primary)":"var(--text-secondary)"},children:i.status}),i.date?r.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:r.jsxs("span",{style:{color:"var(--text-secondary)"},children:[new Date(i.date).toLocaleDateString()," at",new Date(i.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}):y?r.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Completed"})}):null]}),h&&r.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${ew[i.status]}20`,color:ew[i.status]},children:"Current Status"}),w&&r.jsx("div",{className:"mt-1 text-xs font-medium italic",style:{color:"var(--text-secondary)"},children:"Pending"}),r.jsx("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:i.description?i.description:r.jsxs(r.Fragment,{children:[i.status==="Pending Payment"&&y&&"Payment confirmation is being processed.",i.status==="Payment Successful"&&y&&"Payment has been received and confirmed.",i.status==="Assigned"&&y&&"Order has been assigned to a delivery partner.",i.status==="Processing"&&y&&"Your order is being prepared for shipping.",i.status==="Ordered"&&y&&"Your order has been received and is being processed.",i.status==="Packed"&&y&&"Your items have been carefully packed and are ready for shipping.",i.status==="Shipped"&&y&&"Your package is on its way to you.",i.status==="Out for Delivery"&&y&&"Your package will be delivered today.",i.status==="Delivered"&&y&&"Your package has been delivered. Enjoy!"]})})]})]},i.status)})})]})},yse=()=>{const[n,t]=z.useState(!1),[o,i]=z.useState(null),[l,h]=z.useState(0),[m,g]=z.useState(""),[y,w]=z.useState(0),[k,_]=z.useState(new Set),{addReview:N,reviewLoading:D,reviewError:T,clearReviewError:R}=Gl(),{isAuthenticated:P,user:F}=br(),V={id:"ORD123456",status:"Delivered",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:"2025-05-14T14:30:00Z"}],estimatedDelivery:"2025-05-14",orderItems:[{id:1,productId:1,name:"iPhone 15 Pro",brand:"Apple",model:"A3101",image:"/mobile1.png",price:99999,quantity:1,orderId:"ORD123456",orderDate:"2025-05-10T10:00:00Z",hasReviewed:!1},{id:2,productId:2,name:"AirPods Pro",brand:"Apple",model:"A2931",image:"/accessories.png",price:24999,quantity:1,orderId:"ORD123456",orderDate:"2025-05-10T10:00:00Z",hasReviewed:!1}]},G=le=>{const J=le.productId||le.id;if(k.has(J)||le.hasReviewed){ze.info("You have already reviewed this product");return}i(le),t(!0),h(0),g(""),w(0),R()},Y=()=>{t(!1),i(null),h(0),g(""),w(0)},ee=async le=>{if(le.preventDefault(),!P){ze.error("Please log in to write a review");return}if(!o){ze.error("Product information not available");return}if(l===0){ze.error("Please select a rating");return}const J=o.productId||o.id;if(k.has(J)||o.hasReviewed){ze.error("You have already reviewed this product"),Y();return}R();const B={rating:l,comment:m.trim(),verified_purchase:!0,order_id:o.orderId,purchase_date:o.orderDate},W=await N(J,B);W.success?(ze.success("Review submitted successfully!"),_(Z=>new Set([...Z,J])),Y()):ze.error(W.error||"Failed to submit review. Please try again.")};return r.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(nt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[r.jsx(qc,{className:"mr-2"}),r.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(bt,{size:24})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Track Your Order"}),r.jsxs("p",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"font-medium mr-1",children:"Order ID:"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",style:{color:"var(--text-primary)"},children:V.id})]})]})]}),r.jsxs("div",{className:"hidden md:block text-right",style:{color:"var(--text-secondary)"},children:[r.jsx("div",{className:"text-xs",children:"Current Status"}),r.jsx("div",{className:"font-semibold mt-1 px-3 py-1 rounded-full text-sm inline-block",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:V.status})]})]}),r.jsxs("div",{className:"mt-6 p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--text-primary)"},children:[r.jsx(Lo,{className:"mr-3",size:20,style:{color:"var(--brand-primary)"}}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Estimated Delivery"}),r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:new Date(V.estimatedDelivery).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 p-3 border-l-4 rounded-r-lg flex items-center",style:{borderColor:"var(--info-color)",backgroundColor:"var(--info-color)10"},children:[r.jsx(Mm,{className:"mr-2",style:{color:"var(--info-color)"}}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"We'll update this page as your order progresses."})]}),r.jsx(W9,{timeline:V.timeline,currentStatus:V.status}),V.orderItems&&V.orderItems.length>0&&r.jsxs("div",{className:"mt-8",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(bt,{className:"mr-2",size:20}),"Order Items (",V.orderItems.length,")"]}),r.jsx("div",{className:"space-y-4",children:V.orderItems.map((le,J)=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[le.image?r.jsx("img",{src:le.image,alt:le.name,className:"w-16 h-16 object-cover rounded-lg"}):r.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:r.jsx(bt,{size:24})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-base",style:{color:"var(--text-primary)"},children:le.name}),le.brand&&r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Brand: ",le.brand]}),le.model&&r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Model: ",le.model]}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Qty: ",le.quantity]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",le.price.toLocaleString()]})}),le.hasReviewed||k.has(le.productId||le.id)?r.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-50 border border-green-200",children:[r.jsx(Gr,{size:16,className:"mr-2 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Reviewed"})]}):r.jsxs("button",{onClick:()=>G(le),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[r.jsx(Gr,{size:16,className:"mr-2"}),"Write Review"]})]})]},J))})]}),n&&o&&r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"p-6 rounded-xl border-2 border-dashed animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Gr,{size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),r.jsx("button",{onClick:Y,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"p-4 mb-6 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex items-center",children:[o.image&&r.jsx("img",{src:o.image,alt:o.name,className:"w-16 h-16 object-cover rounded-lg mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:o.name}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",o.orderId]}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(bt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),r.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),r.jsxs("form",{onSubmit:ee,children:[T&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:T}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),r.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(le=>r.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>w(le),onMouseLeave:()=>w(0),onClick:()=>h(le),children:r.jsx(Gr,{className:`w-8 h-8 transition-colors duration-200 ${le<=(y||l)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},le))}),l>0&&r.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[l," out of 5 stars"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),r.jsx("textarea",{value:m,onChange:le=>g(le.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"},maxLength:1e3}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[m.length,"/1000 characters"]}),F&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",F.name||F.email]})]}),r.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:r.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[r.jsx(bt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"submit",disabled:D||l===0,className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:D?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})]})]})]})})})},bse=()=>{const{id:n}=Uf();console.log("OrderTrackingDetail rendered with orderId:",n);const{getOrderById:t,currentOrder:o,isLoading:i,error:l}=ng(),[h,m]=z.useState(!1),[g,y]=z.useState(null),[w,k]=z.useState(0),[_,N]=z.useState(""),[D,T]=z.useState(""),[R,P]=z.useState(0),[F,V]=z.useState(new Set),{addReview:G,reviewLoading:Y,reviewError:ee,clearReviewError:le,checkExistingReview:J}=Gl(),{isAuthenticated:B,user:W}=br();z.useEffect(()=>{(async()=>{if(n){console.log("Fetching order details for:",n);try{await t(n)}catch(q){console.error("Error fetching order details:",q)}}})()},[n,t]),console.log("Order fetched successfully:",o);const Z=te=>{const q=te.product_id||te.id;if(F.has(q)){ze.info("You have already reviewed this product");return}y(te),m(!0),k(0),N(""),T(""),P(0),le()},de=()=>{m(!1),y(null),k(0),N(""),T(""),P(0)},ne=async te=>{if(te.preventDefault(),!B){ze.error("Please log in to write a review");return}if(!g){ze.error("Product information not available");return}if(w===0){ze.error("Please select a rating");return}if(!_.trim()){ze.error("Please enter a review title");return}const q=g.product_id||g.id;if(F.has(q)){ze.error("You have already reviewed this product"),de();return}le();const ae={rating:w,title:_.trim(),comment:D.trim(),verified_purchase:!0,order_id:(o==null?void 0:o.invoice_id)||(o==null?void 0:o.razorpay_order_id)||n,purchase_date:o==null?void 0:o.created_at},pe=await G(q,ae);pe.success?(ze.success("Review submitted successfully!"),V(me=>new Set([...me,q])),de()):ze.error(pe.error||"Failed to submit review. Please try again.")};z.useEffect(()=>{o&&(async()=>{const q=(o==null?void 0:o.order_items)||(o==null?void 0:o.orderItems);if(console.log("Loading review statuses for items:",q),q&&q.length>0&&B&&W){const ae=new Set;for(const pe of q){const me=pe.product_id||pe.id;if(console.log("Checking review for product:",me,"Item data:",pe),me)try{const be=await J(me);console.log(`Review check result for ${me}:`,be),be.success&&be.has_reviewed&&(ae.add(me),console.log(`Product ${me} has been reviewed`))}catch(be){console.error(`Error checking review for product ${me}:`,be)}}console.log("Final reviewed products set:",Array.from(ae)),V(ae)}else console.log("Review status loading skipped:",{orderItems:!!q,orderItemsLength:q==null?void 0:q.length,isAuthenticated:B,user:!!W})})()},[o,B,W,J]);const ge=o?(te=>{var Je,Qe,Ot,Tt,Ze,st,Kt;if(!te)return null;const q=(Ne,ot)=>({"Pending Payment":ot?"Awaiting payment confirmation":"Payment will be processed","Payment Successful":ot?"Payment received successfully":"Payment confirmation pending",Assigned:ot?"Order assigned to delivery partner":"Order will be assigned to partner",Processing:ot?"Order is being processed":"Order processing will begin",Packed:ot?"Items packed and ready for dispatch":"Items will be packed soon",Shipped:ot?"Order dispatched from warehouse":"Order will be shipped soon","Out for Delivery":ot?"Package is out for delivery":"Package will be out for delivery",Delivered:ot?"Order successfully delivered":"Order will be delivered soon","Failed Delivery Attempt":ot?"Delivery attempt was unsuccessful":"Delivery will be retried","Returning to Warehouse":ot?"Package is being returned to warehouse":"Package may need to be returned",Cancelled:ot?"Order has been cancelled":"Order cancellation pending"})[Ne]||`${Ne} - ${ot?"completed":"pending"}`,ae=Ne=>(console.log("Mapping status:",Ne),{pending_payment:"Pending Payment",payment_successful:"Payment Successful",assigned:"Assigned",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled",failed_attempt:"Failed Delivery Attempt",returning_to_warehouse:"Returning to Warehouse",other:"Other Status"}[Ne]||Ne),pe=((Qe=(Je=te.tracking_info)==null?void 0:Je.status_history)==null?void 0:Qe.map(Ne=>({status:ae(Ne.status),date:Ne.timestamp,description:Ne.description||`Status updated to ${ae(Ne.status)}`})))||[],me=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"],be=pe.map(Ne=>Ne.status),Te=me.indexOf(ae(te.delivery_status||te.status));me.forEach((Ne,ot)=>{be.includes(Ne)||(ot<=Te?pe.push({status:Ne,date:null,description:q(Ne,!0)}):pe.push({status:Ne,date:null,description:q(Ne,!1)}))});const je=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];pe.sort((Ne,ot)=>je.indexOf(Ne.status)-je.indexOf(ot.status));const Ye=Ne=>Ne?`${Ne.street_address}, ${Ne.city}, ${Ne.state} - ${Ne.postal_code}`:null,Ve=Ne=>Ne?Ne.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):null;return{id:te.invoice_id||te.razorpay_order_id||n,order_id:te.invoice_id||te.razorpay_order_id||n,status:ae(te.delivery_status||te.status),delivery_status:ae(te.delivery_status),overall_status:ae(te.status),timeline:pe,estimatedDelivery:te.estimated_delivery,estimatedDeliveryFormatted:te.estimated_delivery?new Date(te.estimated_delivery).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):null,shippingAddress:Ye(te.address),phoneNumber:Ve((Ot=te.address)==null?void 0:Ot.phone_number),addressType:(Tt=te.address)==null?void 0:Tt.type,carrier:((Ze=te.tracking_info)==null?void 0:Ze.carrier)||"Pending",trackingNumber:(st=te.tracking_info)==null?void 0:st.tracking_number,trackingUrl:(Kt=te.tracking_info)==null?void 0:Kt.tracking_url,orderItems:te.orderItems||te.order_items||[],totalAmount:te.total_amount||te.total_amount_calculated,currency:te.currency||"INR",paymentDetails:te.payment_details,createdAt:te.created_at,createdAtFormatted:te.created_at_formatted,invoice:te.invoice,assigned_partner_name:te.assigned_partner_name,assigned_at:te.assigned_at,last_updated_by_admin_at:te.last_updated_by_admin_at,last_updated_by_partner_at:te.last_updated_by_partner_at}})(o):{id:n,order_id:n,status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14",shippingAddress:"123 Main St, Anytown, State 12345",carrier:"FastShip Express",trackingNumber:"FS78291782X"};console.log("Order data being used:",ge),console.log("Order status:",ge.status,"Delivery status:",ge.delivery_status),console.log("Order items:",ge.orderItems);const ke=!o,se=()=>{var ae,pe;const te=((ae=ge.timeline)==null?void 0:ae.length)||5,q=((pe=ge.timeline)==null?void 0:pe.findIndex(me=>me.status===ge.status))||0;return Math.min((q+1)/te*100,100)},oe=te=>({"Pending Payment":r.jsx(Zr,{}),"Payment Successful":r.jsx(On,{}),Assigned:r.jsx(xs,{}),Processing:r.jsx(zb,{}),Packed:r.jsx(Tu,{}),Shipped:r.jsx(Er,{}),"Out for Delivery":r.jsx(DZ,{}),Delivered:r.jsx(On,{}),Cancelled:r.jsx(qt,{}),"Failed Delivery Attempt":r.jsx(Va,{}),"Returning to Warehouse":r.jsx(qc,{}),"Other Status":r.jsx(Mm,{})})[te]||r.jsx(bt,{}),ue=te=>({"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Packed:"var(--brand-secondary)",Shipped:"var(--info-color)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)",Cancelled:"var(--error-color)","Failed Delivery Attempt":"var(--error-color)","Returning to Warehouse":"var(--warning-color)","Other Status":"var(--text-secondary)"})[te]||"var(--brand-primary)";return i?r.jsx("div",{className:"min-h-screen py-10 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"text-center",children:[r.jsx(hi,{className:"animate-spin h-8 w-8 mx-auto mb-4",style:{color:"var(--brand-primary)"}}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]})}):l?r.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs(nt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[r.jsx(qc,{className:"mr-2"}),r.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx(bt,{className:"h-16 w-16 mx-auto mb-4",style:{color:"var(--error-color)"}}),r.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Order Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:l}),r.jsx(nt,{to:"/orders",className:"inline-block px-6 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"View All Orders"})]})]})})}):r.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(nt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[r.jsx(qc,{className:"mr-2"}),r.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(99, 102, 241, 0.02) 100%)"},children:[r.jsxs("div",{className:"relative h-3 w-full bg-gradient-to-r from-gray-200 to-gray-100 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600",style:{width:`${se()}%`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),r.jsx("div",{className:"p-8 border-b bg-gradient-to-r from-transparent to-blue-50/30",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[r.jsxs("div",{className:"flex items-start space-x-5",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center shrink-0 shadow-lg",style:{background:"linear-gradient(135deg, var(--brand-primary), var(--brand-secondary))",color:"white"},children:r.jsx(La,{size:28})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",style:{color:"var(--text-primary)"},children:["Order #",ge.id||ge.order_id]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm",style:{backgroundColor:`${ue(ge.status)}15`,color:ue(ge.status),border:`1px solid ${ue(ge.status)}30`},children:[oe(ge.status),r.jsx("span",{className:"ml-2",children:ge.status})]}),ge.delivery_status&&ge.delivery_status!==ge.overall_status&&r.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:`${ue(ge.delivery_status)}10`,color:ue(ge.delivery_status),border:`1px solid ${ue(ge.delivery_status)}20`},children:[r.jsx(Er,{className:"mr-1",size:12}),"Delivery: ",ge.delivery_status]}),ge.totalAmount&&r.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx(Vi,{className:"mr-1",size:14}),"",ge.totalAmount]})]})]}),ge.createdAtFormatted&&r.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:[r.jsx(Zr,{className:"mr-2",size:14}),"Ordered on ",ge.createdAtFormatted]})]})]}),r.jsxs("div",{className:"flex items-center p-4 rounded-xl shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:r.jsx(Lo,{size:20})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium uppercase tracking-wide mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),r.jsx("div",{className:"font-bold text-lg",style:{color:"var(--brand-primary)"},children:ge.estimatedDeliveryFormatted||(ge.estimatedDelivery?new Date(ge.estimatedDelivery).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"}):"Pending")})]})]})]})}),r.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(34, 197, 94, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:r.jsx(An,{size:18})}),r.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Address"})]}),r.jsxs("div",{className:"ml-13 space-y-2",children:[r.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:ge.shippingAddress||"Address not available"}),ge.phoneNumber&&r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Ba,{className:"mr-2",size:14}),r.jsx("span",{style:{color:"var(--text-secondary)"},children:ge.phoneNumber})]}),ge.addressType&&r.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:[r.jsx(NZ,{className:"mr-1",size:10}),ge.addressType]})]})]}),r.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:r.jsx(Er,{size:18})}),r.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Partner"})]}),r.jsxs("div",{className:"ml-13 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Partner:"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:ge.assigned_partner_name||"Not Assigned"})]}),ge.trackingNumber&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Tracking:"}),r.jsx("span",{className:"text-sm font-mono",style:{color:"var(--brand-primary)"},children:ge.trackingNumber})]})]}),ge.assigned_at&&r.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[r.jsx(Zr,{className:"mr-1",size:12}),r.jsxs("span",{children:["Assigned on",new Date(ge.assigned_at).toLocaleDateString("en-IN")]})]})]}),ge.paymentDetails&&r.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:r.jsx(Vi,{size:18})}),r.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Payment Details"})]}),r.jsxs("div",{className:"ml-13 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Method:"}),r.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:"var(--text-primary)"},children:ge.paymentDetails.method||"N/A"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Status:"}),r.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:ge.paymentDetails.status==="captured"?"var(--success-color)":"var(--warning-color)"},children:ge.paymentDetails.status||"N/A"})]}),ge.paymentDetails.captured_at_formatted&&r.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[r.jsx(On,{className:"mr-1",size:12}),r.jsxs("span",{children:["Paid on",ge.paymentDetails.captured_at_formatted]})]})]})]})]}),ge.orderItems&&ge.orderItems.length>0&&r.jsx("div",{className:"px-8 pb-6",children:r.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(168, 85, 247, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-secondary)15",color:"var(--brand-secondary)"},children:r.jsx(bt,{size:18})}),r.jsxs("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:["Order Items (",ge.orderItems.length,")"]}),r.jsxs("div",{className:"ml-auto text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",ge.totalAmount]})]}),r.jsx("div",{className:"ml-13 space-y-4",children:ge.orderItems.map((te,q)=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[te.image_url?r.jsx("img",{src:te.image_url,alt:te.name,className:"w-12 h-12 object-cover rounded-lg"}):r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:r.jsx(bt,{size:20})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:te.name||`Item ${q+1}`}),te.brand&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Brand: ",te.brand]}),te.model&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",te.model]}),te.color&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Color: ",te.color]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Qty: ",te.quantity||1]}),r.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",te.price_at_purchase||te.total_item_price]})]})]},q))})]})})]}),ge.invoice&&ge.invoice.invoice_pdf_url&&r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"100ms"},children:r.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:r.jsx(ui,{size:18})}),r.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Invoice Available"})]}),r.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",ge.invoice.invoice_id]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Download your order invoice for records"})]}),r.jsxs("a",{href:ge.invoice.invoice_pdf_url,download:`Invoice_${ge.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--success-color)",color:"white",textDecoration:"none"},onClick:()=>{console.log("Invoice download initiated")},children:[r.jsx(ui,{className:"mr-2",size:16}),"Download PDF"]})]})]})}),(ge.status==="Delivered"||ge.delivery_status==="Delivered")&&ge.orderItems&&ge.orderItems.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"120ms"},children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(bt,{className:"mr-2",size:20}),"Order Items (",ge.orderItems.length,")"]}),r.jsx("div",{className:"space-y-4",children:ge.orderItems.map((te,q)=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[te.image||te.image_url?r.jsx("img",{src:te.image||te.image_url,alt:te.name,className:"w-16 h-16 object-cover rounded-lg"}):r.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:r.jsx(bt,{size:24})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-base",style:{color:"var(--text-primary)"},children:te.name||te.product_name}),te.brand&&r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Brand: ",te.brand]}),te.model&&r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Model: ",te.model]}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Qty: ",te.quantity]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",(te.price||te.price_at_purchase||te.total_amount||te.total_item_price||0).toLocaleString()]})}),(()=>{const ae=te.product_id||te.id,pe=F.has(ae);return console.log("Review check for item:",{productId:ae,hasReviewed:pe,reviewedProducts:Array.from(F),reviewedProductsSize:F.size,item:te}),console.log(`Direct check: reviewedProducts.has("${ae}") =`,F.has(ae)),pe})()?r.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-50 border border-green-200",children:[r.jsx(On,{size:16,className:"mr-2 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Reviewed"})]}):r.jsxs("button",{onClick:()=>Z({...te,productId:te.product_id||te.id,orderId:ge.id,orderDate:ge.createdAt}),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[r.jsx(Gr,{size:16,className:"mr-2"}),"Write Review"]})]})]},q))})]}),h&&g&&r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"140ms"},children:r.jsxs("div",{className:"p-6 rounded-xl border-2 border-dashed",style:{borderColor:"var(--brand-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Gr,{size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),r.jsx("button",{onClick:de,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"p-4 mb-6 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex items-center",children:[g.image&&r.jsx("img",{src:g.image,alt:g.name||g.product_name,className:"w-16 h-16 object-cover rounded-lg mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:g.name||g.product_name}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",g.orderId]}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(bt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),r.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),r.jsxs("form",{onSubmit:ne,children:[ee&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:ee}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),r.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(te=>r.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>P(te),onMouseLeave:()=>P(0),onClick:()=>k(te),children:r.jsx(Gr,{className:`w-8 h-8 transition-colors duration-200 ${te<=(R||w)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},te))}),w>0&&r.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[w," out of 5 stars"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Review Title *"}),r.jsx("input",{type:"text",value:_,onChange:te=>N(te.target.value),placeholder:"Write a brief title for your review",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},maxLength:100}),r.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[_.length,"/100 characters"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),r.jsx("textarea",{value:D,onChange:te=>T(te.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},maxLength:1e3}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[D.length,"/1000 characters"]}),W&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",W.name||W.email]})]}),r.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:r.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[r.jsx(bt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:de,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"submit",disabled:Y||w===0||!_.trim(),className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:Y?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})}),ge.trackingUrl&&r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"150ms"},children:r.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:r.jsx(Fb,{size:18})}),r.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"External Tracking"})]}),r.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Track with carrier"}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Get real-time updates from delivery partner"})]}),r.jsxs("a",{href:ge.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--brand-primary)",color:"white",textDecoration:"none"},children:[r.jsx(Fb,{className:"mr-2",size:16}),"Track Now"]})]})]})}),ge.last_updated_by_partner_at||ge.last_updated_by_admin_at?r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"180ms"},children:r.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(245, 158, 11, 0.02) 100%)"},children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:r.jsx(zb,{size:18})}),r.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Recent Updates"})]}),r.jsxs("div",{className:"ml-13 space-y-3",children:[ge.last_updated_by_partner_at&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last partner update:"}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(ge.last_updated_by_partner_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),ge.last_updated_by_admin_at&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last admin update:"}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(ge.last_updated_by_admin_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})}):null,r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"200ms"},children:[r.jsxs("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:["Delivery Progress",ke&&r.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Using Mock Data"})]}),r.jsx(W9,{timeline:ge.timeline,currentStatus:ge.status})]})]})})})},xse=()=>{const n=ho(),t=as(),{logout:o}=br(),i=[{id:"profile",name:"Profile Information",path:"/profile",icon:r.jsx(xs,{className:"w-5 h-5"})},{id:"orders",name:"My Orders",path:"/orders",icon:r.jsx(La,{className:"w-5 h-5"})},{id:"wishlist",name:"My Wishlist",path:"/wishlist",icon:r.jsx(Xf,{className:"w-5 h-5"})},{id:"addresses",name:"My Addresses",path:"/profile/addresses",icon:r.jsx(An,{className:"w-5 h-5"})}],l=h=>{h.preventDefault(),o(),t("/login")};return r.jsxs("div",{className:"rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsx("div",{className:"p-4",style:{backgroundColor:"var(--brand-primary)"},children:r.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-on-brand)"},children:"My Account"})}),r.jsx("div",{className:"p-2",children:r.jsxs("ul",{children:[i.map(h=>r.jsx("li",{children:r.jsxs(nt,{to:h.path,className:`flex items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 ${n.pathname===h.path?"bg-opacity-10 font-medium":"hover:bg-opacity-5"}`,style:{backgroundColor:n.pathname===h.path?"var(--bg-accent-light)":"transparent",color:n.pathname===h.path?"var(--brand-primary)":"var(--text-primary)"},children:[h.icon,r.jsx("span",{children:h.name})]})},h.id)),r.jsx("li",{children:r.jsxs("button",{onClick:l,className:"flex w-full items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 text-left hover:bg-opacity-5",style:{color:"var(--error-color)"},children:[r.jsx(tO,{className:"w-5 h-5"}),r.jsx("span",{children:"Logout"})]})})]})})]})},vse=()=>{const{user:n,isLoading:t,error:o,fetchUserProfile:i,updateUserProfileAPI:l,clearError:h}=br(),{isOpen:m,modalConfig:g,isLoading:y,showConfirm:w,hideConfirm:k,handleConfirm:_}=rg(),[N,D]=gt.useState(!1),[T,R]=gt.useState({firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[P,F]=gt.useState({});gt.useEffect(()=>{n!=null&&n.uid&&i().catch(()=>{})},[i,n==null?void 0:n.uid]),gt.useEffect(()=>{n&&R(J=>({...J,firstName:n.first_name||"",lastName:n.last_name||"",email:n.email||"",phone:n.phone||""}))},[n]),gt.useEffect(()=>()=>h(),[h]);const V=J=>{const{name:B,value:W}=J.target;R(Z=>({...Z,[B]:W})),P[B]&&F(Z=>({...Z,[B]:""}))},G=()=>{const J={};return T.firstName.trim()||(J.firstName="First name is required"),T.lastName.trim()||(J.lastName="Last name is required"),T.email.trim()?/\S+@\S+\.\S+/.test(T.email)||(J.email="Please enter a valid email address"):J.email="Email is required",(T.currentPassword||T.newPassword||T.confirmPassword)&&(T.currentPassword||(J.currentPassword="Current password is required to change password"),T.newPassword?T.newPassword.length<6&&(J.newPassword="New password must be at least 6 characters long"):J.newPassword="New password is required",T.confirmPassword?T.newPassword!==T.confirmPassword&&(J.confirmPassword="New passwords do not match"):J.confirmPassword="Please confirm your new password"),F(J),Object.keys(J).length===0},Y=async J=>{if(J.preventDefault(),!G()){ze.error("Please fix the errors in the form");return}T.currentPassword&&T.newPassword&&T.confirmPassword?w({title:"Confirm Password Change",message:"Are you sure you want to change your password? You will need to use the new password for future logins.",confirmText:"Change Password",cancelText:"Cancel",type:"warning",onConfirm:async()=>{await ee(!0)}}):await ee(!1)},ee=async(J=!1)=>{var B,W;try{const Z={first_name:T.firstName,last_name:T.lastName,phone_number:T.phone};J&&(Z.current_password=T.currentPassword,Z.new_password=T.newPassword,Z.confirm_new_password=T.confirmPassword);const de=await l(Z);de.success&&(ze.success(de.message||"Profile updated successfully"),D(!1),R(ne=>({...ne,currentPassword:"",newPassword:"",confirmPassword:""})),F({}))}catch(Z){ze.error(((W=(B=Z.response)==null?void 0:B.data)==null?void 0:W.error)||"Failed to update profile")}},le=()=>{D(!N),F({}),R(N?J=>({...J,currentPassword:"",newPassword:"",confirmPassword:""}):{firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""})};return r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Profile Information"}),r.jsx("button",{onClick:le,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:N?"var(--bg-secondary)":"var(--brand-primary)",color:N?"var(--text-primary)":"var(--text-on-brand)"},children:N?"Cancel":"Edit Profile"})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:o}),r.jsxs("form",{onSubmit:Y,children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"First Name"}),N?r.jsxs("div",{children:[r.jsx("input",{type:"text",id:"firstName",name:"firstName",value:T.firstName,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.firstName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),P.firstName&&r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.firstName})]}):r.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(n==null?void 0:n.first_name)||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Last Name"}),N?r.jsxs("div",{children:[r.jsx("input",{type:"text",id:"lastName",name:"lastName",value:T.lastName,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.lastName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),P.lastName&&r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.lastName})]}):r.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(n==null?void 0:n.last_name)||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email Address"}),r.jsxs("div",{children:[r.jsx("input",{type:"email",id:"email",name:"email",value:T.email,onChange:V,disabled:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 disabled:opacity-60 disabled:cursor-not-allowed",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}),r.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),N?r.jsx("input",{type:"tel",id:"phone",name:"phone",value:T.phone,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}):r.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(n==null?void 0:n.phone)||"Not provided"})]})]}),N&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-md font-medium mb-3",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Current Password"}),r.jsxs("div",{children:[r.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:T.currentPassword,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.currentPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter current password"}),P.currentPassword&&r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.currentPassword})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"New Password"}),r.jsxs("div",{children:[r.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:T.newPassword,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.newPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter new password (min 6 characters)"}),P.newPassword&&r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.newPassword})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Confirm New Password"}),r.jsxs("div",{children:[r.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:T.confirmPassword,onChange:V,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.confirmPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Confirm new password"}),P.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.confirmPassword})]})]})]})]}),N&&r.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:le,disabled:t,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t&&r.jsx(hi,{className:"w-4 h-4 animate-spin"}),"Save Changes"]})]})]}),r.jsx(Um,{isOpen:m,onClose:k,onConfirm:_,title:g.title,message:g.message,confirmText:g.confirmText,cancelText:g.cancelText,type:g.type,isLoading:y})]})},wse=()=>{const{addresses:n,isLoading:t,error:o,fetchAddresses:i,addAddress:l,updateAddress:h,deleteAddress:m,setDefaultAddress:g,clearError:y}=Y9(),{isOpen:w,modalConfig:k,isLoading:_,showConfirm:N,hideConfirm:D,handleConfirm:T}=rg(),[R,P]=gt.useState(!1),[F,V]=gt.useState(null),[G,Y]=gt.useState({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1});gt.useEffect(()=>{i()},[i]),gt.useEffect(()=>()=>y(),[y]);const ee=Z=>{const{name:de,value:ne,type:re,checked:ge}=Z.target;Y(ke=>({...ke,[de]:re==="checkbox"?ge:ne}))},le=Z=>{Y({name:Z.name||Z.type,address:Z.address||Z.street_address,city:Z.city,state:Z.state,pincode:Z.pincode||Z.postal_code,phone:Z.phone||Z.phone_number,isDefault:Z.isDefault||Z.is_default}),V(Z.id),P(!0)},J=async Z=>{N({title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{await m(Z)}})},B=async Z=>{await g(Z)},W=async Z=>{Z.preventDefault();try{const de={type:G.name,street_address:G.address,city:G.city,state:G.state,postal_code:G.pincode,phone_number:G.phone,is_default:G.isDefault};F?await h(F,de):await l(de),Y({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),P(!1),V(null)}catch(de){console.error("Error saving address:",de)}};return r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"My Addresses"}),!R&&r.jsxs("button",{onClick:()=>P(!0),disabled:t,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t?r.jsx(hi,{className:"w-4 h-4 animate-spin"}):r.jsx(Yn,{className:"w-4 h-4"}),r.jsx("span",{children:"Add New Address"})]})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:o}),t&&!R&&r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx(hi,{className:"w-6 h-6 animate-spin",style:{color:"var(--brand-primary)"}}),r.jsx("span",{className:"ml-2",style:{color:"var(--text-secondary)"},children:"Loading addresses..."})]}),R?r.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:F?"Edit Address":"Add New Address"}),r.jsxs("form",{onSubmit:W,children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Address Name"}),r.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Home, Office, etc.",value:G.name,onChange:ee,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"Contact number for delivery",value:G.phone,onChange:ee,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Street Address"}),r.jsx("textarea",{id:"address",name:"address",placeholder:"Flat, House no., Building, Company, Apartment",value:G.address,onChange:ee,rows:2,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"City"}),r.jsx("input",{type:"text",id:"city",name:"city",value:G.city,onChange:ee,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"State"}),r.jsx("input",{type:"text",id:"state",name:"state",value:G.state,onChange:ee,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"PIN Code"}),r.jsx("input",{type:"text",id:"pincode",name:"pincode",value:G.pincode,onChange:ee,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"isDefault",checked:G.isDefault,onChange:ee,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default address"})]})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{P(!1),V(null),Y({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1})},disabled:t,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:t,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t&&r.jsx(hi,{className:"w-4 h-4 animate-spin"}),F?"Update Address":"Save Address"]})]})]})]}):r.jsx("div",{children:n.length===0&&!t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(An,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--text-secondary)"}}),r.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"No addresses found"}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Add your first address to get started with deliveries"}),r.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Address"})]}):r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(Z=>r.jsxs("div",{className:`border rounded-lg p-4 relative ${Z.isDefault||Z.is_default?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:Z.isDefault||Z.is_default?"var(--brand-primary)":void 0},children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:Z.name||Z.type}),(Z.isDefault||Z.is_default)&&r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),r.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[r.jsx(An,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{style:{color:"var(--text-primary)"},children:[r.jsx("p",{children:Z.address||Z.street_address}),r.jsxs("p",{children:[Z.city,", ",Z.state," -",Z.pincode||Z.postal_code]}),r.jsxs("p",{className:"mt-1",children:["Phone: ",Z.phone||Z.phone_number]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[!(Z.isDefault||Z.is_default)&&r.jsx("button",{onClick:()=>B(Z.id),disabled:t,className:"text-xs px-2 py-1 rounded border transition-colors disabled:opacity-50",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:"Set as Default"}),r.jsxs("div",{className:`flex gap-2 ${Z.isDefault||Z.is_default?"":"ml-auto"}`,children:[r.jsx("button",{onClick:()=>le(Z),disabled:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--text-secondary)"},children:r.jsx(Vm,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>J(Z.id),disabled:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--error-color)"},children:r.jsx(on,{className:"w-4 h-4"})})]})]})]},Z.id))})}),r.jsx(Um,{isOpen:w,onClose:D,onConfirm:T,title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,type:k.type,isLoading:_})]})},kse=()=>{const[n,t]=gt.useState([{id:1,type:"Credit Card",name:"John Doe",cardNumber:"   1234",expiry:"12/25",isDefault:!0},{id:2,type:"Debit Card",name:"John Doe",cardNumber:"   5678",expiry:"08/26",isDefault:!1}]),[o,i]=gt.useState(!1),[l,h]=gt.useState(null),[m,g]=gt.useState({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),y=N=>{const{name:D,value:T,type:R,checked:P}=N.target;g(F=>({...F,[D]:R==="checkbox"?P:T}))},w=N=>{g({...N,cardNumber:"",cvv:""}),h(N.id),i(!0)},k=N=>{t(n.filter(D=>D.id!==N))},_=N=>{N.preventDefault();const D=`   ${m.cardNumber.slice(-4)}`;if(l)t(n.map(T=>T.id===l?{...m,id:l,cardNumber:D}:T));else{const T={...m,id:Date.now(),cardNumber:D};t([...n,T])}g({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),i(!1),h(null)};return r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Payment Methods"}),!o&&r.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r.jsx(Yn,{className:"w-4 h-4"}),r.jsx("span",{children:"Add New Card"})]})]}),o?r.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:l?"Update Card":"Add New Card"}),r.jsxs("form",{onSubmit:_,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Type"}),r.jsxs("select",{id:"type",name:"type",value:m.type,onChange:y,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},children:[r.jsx("option",{value:"Credit Card",children:"Credit Card"}),r.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cardholder Name"}),r.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name on card",value:m.name,onChange:y,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Number"}),r.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",value:m.cardNumber,onChange:y,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Expiry Date"}),r.jsx("input",{type:"text",id:"expiry",name:"expiry",placeholder:"MM/YY",value:m.expiry,onChange:y,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"CVV"}),r.jsx("input",{type:"text",id:"cvv",name:"cvv",placeholder:"XXX",value:m.cvv,onChange:y,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"isDefault",checked:m.isDefault,onChange:y,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default payment method"})]})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{i(!1),h(null)},className:"px-4 py-2 rounded-md text-sm font-medium",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:l?"Update Card":"Add Card"})]})]})]}):r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(N=>r.jsxs("div",{className:`border rounded-lg p-4 relative ${N.isDefault?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:N.isDefault?"var(--brand-primary)":void 0},children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:N.type}),N.isDefault&&r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),r.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[r.jsx(Vi,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{style:{color:"var(--text-primary)"},children:[r.jsx("p",{className:"text-lg font-mono",children:N.cardNumber}),r.jsx("p",{children:N.name}),r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Expires: ",N.expiry]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx("button",{onClick:()=>w(N),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(Vm,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>k(N.id),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--error-color)"},children:r.jsx(on,{className:"w-4 h-4"})})]})]},N.id))})]})},Qb=un((n,t)=>({theme:"light",isDarkMode:!1,setTheme:o=>{if(n({theme:o}),o==="system"){const i=window.matchMedia("(prefers-color-scheme: dark)").matches;n({isDarkMode:i}),lI(i)}else{const i=o==="dark";n({isDarkMode:i}),lI(i)}localStorage.setItem("anand-mobiles-theme",o)},toggleTheme:()=>{const i=t().theme==="light"?"dark":"light";t().setTheme(i)},initializeTheme:()=>{document.documentElement.classList.add("no-transitions");const o=localStorage.getItem("anand-mobiles-theme")||"light";t().setTheme(o),setTimeout(()=>{document.documentElement.classList.remove("no-transitions")},100)}})),lI=n=>{const t=document.documentElement;n?(t.classList.add("dark"),document.body.classList.add("dark")):(t.classList.remove("dark"),document.body.classList.remove("dark"))};typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const{theme:o,setTheme:i}=Qb.getState();o==="system"&&Qb.getState().setTheme("system")});const Cse=()=>{const{theme:n,setTheme:t}=Qb(),[o,i]=gt.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,promotions:!1,newArrivals:!0,priceDrops:!0,twoFactorAuth:!1}),l=h=>{i(m=>({...m,[h]:!m[h]}))};return r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Account Settings"}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Manage your notification preferences and account security"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(XP,{}),r.jsx("span",{children:"Notification Preferences"})]})}),r.jsxs("div",{className:"space-y-4 pl-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Email Notifications"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via email"})]}),r.jsx("button",{onClick:()=>l("emailNotifications"),className:"text-2xl","aria-label":o.emailNotifications?"Disable email notifications":"Enable email notifications",children:o.emailNotifications?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"SMS Notifications"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via text message"})]}),r.jsx("button",{onClick:()=>l("smsNotifications"),className:"text-2xl","aria-label":o.smsNotifications?"Disable SMS notifications":"Enable SMS notifications",children:o.smsNotifications?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Push Notifications"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive notifications on mobile app"})]}),r.jsx("button",{onClick:()=>l("pushNotifications"),className:"text-2xl","aria-label":o.pushNotifications?"Disable push notifications":"Enable push notifications",children:o.pushNotifications?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Notification Types"}),r.jsxs("div",{className:"space-y-4 pl-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Order Updates"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates about your orders"})]}),r.jsx("button",{onClick:()=>l("orderUpdates"),className:"text-2xl","aria-label":o.orderUpdates?"Disable order updates":"Enable order updates",children:o.orderUpdates?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Promotions & Deals"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive special offers and promotions"})]}),r.jsx("button",{onClick:()=>l("promotions"),className:"text-2xl","aria-label":o.promotions?"Disable promotions":"Enable promotions",children:o.promotions?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"New Arrivals"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about new products"})]}),r.jsx("button",{onClick:()=>l("newArrivals"),className:"text-2xl","aria-label":o.newArrivals?"Disable new arrivals notifications":"Enable new arrivals notifications",children:o.newArrivals?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Price Drops"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about price drops on your wishlist"})]}),r.jsx("button",{onClick:()=>l("priceDrops"),className:"text-2xl","aria-label":o.priceDrops?"Disable price drop notifications":"Enable price drop notifications",children:o.priceDrops?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Appearance"}),r.jsx("div",{className:"space-y-4 pl-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Theme Mode"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose between light, dark, or system theme"}),r.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Current: ",n==="system"?"Auto (System)":n.charAt(0).toUpperCase()+n.slice(1)]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>t("light"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${n==="light"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:n==="light"?"var(--brand-primary)":"transparent",color:n==="light"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${n==="light"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Light"}),r.jsx("button",{onClick:()=>t("dark"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${n==="dark"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:n==="dark"?"var(--brand-primary)":"transparent",color:n==="dark"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${n==="dark"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Dark"}),r.jsx("button",{onClick:()=>t("system"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${n==="system"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:n==="system"?"var(--brand-primary)":"transparent",color:n==="system"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${n==="system"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Auto"})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Security"}),r.jsx("div",{className:"space-y-4 pl-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Add an extra layer of security to your account"})]}),r.jsx("button",{onClick:()=>l("twoFactorAuth"),className:"text-2xl","aria-label":o.twoFactorAuth?"Disable two-factor authentication":"Enable two-factor authentication",children:o.twoFactorAuth?r.jsx(li,{style:{color:"var(--brand-primary)"}}):r.jsx(ai,{style:{color:"var(--text-secondary)"}})})]})})]}),r.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:r.jsx("button",{className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Settings"})})]})]})},cI=()=>{const{section:n="profile"}=Uf(),[t,o]=gt.useState(n);gt.useEffect(()=>{o(n)},[n]);const i=()=>{switch(t){case"addresses":return r.jsx(wse,{});case"payment":return r.jsx(kse,{});case"settings":return r.jsx(Cse,{});case"profile":default:return r.jsx(vse,{})}};return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6 md:mb-8",style:{color:"var(--text-primary)"},children:"My Account"}),r.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(xse,{})}),r.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:i()})]})]})},Ua=un(n=>({content:null,loading:!1,error:null,pages:[],fetchAvailablePages:async()=>{try{const t=await $e.get("/admin/content/pages/");if(t.status===200)return n({pages:t.data.pages||[]}),t.data.pages}catch(t){return console.error("Error fetching available pages:",t),[]}},fetchPageContent:async t=>{var o,i;n({loading:!0,error:null,content:null});try{const l=await $e.get(`/admin/content/pages/${t.replace(/^\//,"")}/`);if(l.status===200)return n({content:l.data.content,loading:!1}),l.data.content}catch(l){console.error("Error fetching page content:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch page content",loading:!1})}},checkPageExists:async t=>{try{return(await $e.head(`/admin/content/pages/${t.replace(/^\//,"")}/`)).status===200}catch{return!1}},clearContent:()=>{n({content:null,loading:!1,error:null})}})),_se=Object.freeze(Object.defineProperty({__proto__:null,usePageContentStore:Ua},Symbol.toStringTag,{value:"Module"})),Ase=()=>{const n=[{label:"Home",link:_t.HOME},{label:"About",link:_t.ABOUT}],{content:t,loading:o,fetchPageContent:i,clearContent:l}=Ua();return z.useEffect(()=>(i("about"),()=>{l()}),[i,l]),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:n.map((h,m)=>r.jsxs(gt.Fragment,{children:[m>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),m===n.length-1?r.jsx("span",{className:"font-medium",children:h.label}):r.jsx(nt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),r.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--brand-primary)"},children:"About Us"}),r.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"We are a premier electronics retailer specializing in the latest mobile phones, laptops, tablets, and accessories. Our mission is to provide high-quality products with exceptional customer service."})]})})})," ",r.jsx("section",{className:"py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[r.jsx("div",{children:o?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Story"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Founded in 2010, we began as a small mobile phone shop with a vision to make technology accessible to everyone. Over the years, we've grown to become one of the most trusted electronics retailers in the region."}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Our journey has been defined by a commitment to quality, innovation, and customer satisfaction. We carefully select each product in our inventory to ensure it meets our high standards of performance and reliability."}),r.jsx("p",{className:"text-gray-700",children:"Today, we continue to expand our offerings while maintaining the personalized service that has been the cornerstone of our success."})]})}),r.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1556742031-c6961e8560b0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Our store",className:"w-full h-auto"})})]})})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold mb-12 text-center",children:"Why Choose Us"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:r.jsx(Mne,{className:"text-4xl text-indigo-500 mb-4"}),title:"Quality Assurance",description:"All our products are genuine and come with official warranties."},{icon:r.jsx(One,{className:"text-4xl text-indigo-500 mb-4"}),title:"Expert Support",description:"Our knowledgeable team is always ready to help you make the right choice."},{icon:r.jsx(Pne,{className:"text-4xl text-indigo-500 mb-4"}),title:"Wide Selection",description:"From budget-friendly to premium, we have options for every need and preference."}].map((h,m)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[h.icon,r.jsx("h3",{className:"text-xl font-semibold mb-2",children:h.title}),r.jsx("p",{className:"text-gray-600",children:h.description})]},m))})]})}),r.jsx("section",{className:"py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"bg-indigo-50 p-8 rounded-lg",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Our Vision"}),r.jsx("p",{className:"text-gray-700",children:"To be the leading electronics retailer known for exceptional customer experience, innovative product offerings, and making technology accessible to all segments of society."})]}),r.jsxs("div",{className:"bg-blue-50 p-8 rounded-lg",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Our Mission"}),r.jsx("p",{className:"text-gray-700",children:"To provide our customers with high-quality electronics products at competitive prices, exceptional customer service, and an enjoyable shopping experience both online and in-store."})]})]})})}),r.jsx("section",{className:"py-16 bg-gradient-to-r from-indigo-500 to-blue-600 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Experience the Difference?"}),r.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Visit our store today or browse our online collection to find the perfect device for your needs."}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsx(nt,{to:_t.PRODUCTS,className:"bg-white text-indigo-600 px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition duration-300",children:"Shop Now"}),r.jsx(nt,{to:_t.CONTACT,className:"bg-transparent border-2 border-white px-6 py-3 rounded-md font-medium hover:bg-white hover:text-indigo-600 transition duration-300",children:"Contact Us"})]})]})})]})},Nse=()=>{const[n,t]=z.useState({name:"",email:"",phone:"",subject:"",message:""}),[o,i]=z.useState(!1),{content:l,loading:h,fetchPageContent:m,clearContent:g}=Ua();z.useEffect(()=>(m("contact"),()=>{g()}),[m,g]);const y=[{label:"Home",link:_t.HOME},{label:"Contact",link:_t.CONTACT}],w=N=>{const{name:D,value:T}=N.target;t(R=>({...R,[D]:T}))},k=N=>{N.preventDefault(),i(!0),setTimeout(()=>{i(!1),Zt.success("Thank you for your message! We'll get back to you soon."),t({name:"",email:"",phone:"",subject:"",message:""})},1e3)},_=[{icon:r.jsx(Ba,{className:"text-lg"}),title:"Phone Number",details:["+91 98765 43210","+91 12345 67890"]},{icon:r.jsx(sd,{className:"text-lg"}),title:"Email Address",details:["support@yourdomain.com","info@yourdomain.com"]},{icon:r.jsx(An,{className:"text-lg"}),title:"Office Address",details:["123 Main Street","New Delhi, India 110001"]},{icon:r.jsx(Zr,{className:"text-lg"}),title:"Working Hours",details:["Mon - Sat: 10:00 AM - 8:00 PM","Sunday: Closed"]}];return r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:y.map((N,D)=>r.jsxs(gt.Fragment,{children:[D>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),D===y.length-1?r.jsx("span",{className:"font-medium",children:N.label}):r.jsx(nt,{to:N.link,className:"text-gray-500 hover:text-primary",children:N.label})]},D))})})})," ",r.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-3xl mx-auto text-center",children:h?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):l?r.jsx("div",{className:"prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:l}}):r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--brand-primary)"},children:"Contact Us"}),r.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Have questions or need assistance? We're here to help! Our team is ready to provide you with the support you need."})]})})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map((N,D)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-300",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:N.icon}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:N.title}),N.details.map((T,R)=>r.jsx("p",{className:"text-gray-600",children:T},R))]},D))})})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),r.jsxs("form",{onSubmit:k,children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),r.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:w,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:w,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:w,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Subject"}),r.jsx("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:w,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Message"}),r.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:w,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),r.jsx("button",{type:"submit",className:"flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:o,children:o?"Sending...":r.jsxs(r.Fragment,{children:["Send Message ",r.jsx(iO,{className:"ml-2"})]})})]})]}),r.jsx("div",{className:"h-full min-h-[400px]",children:r.jsx("div",{className:"relative h-full w-full rounded-lg overflow-hidden shadow-md",children:r.jsx("iframe",{title:"Location Map",className:"absolute top-0 left-0 w-full h-full border-0",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3501.4784043211377!2d77.22117627415673!3d28.63483068241763!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd3724ed1d4b%3A0xff78448cc3bba8e2!2sConnaught%20Place%2C%20New%20Delhi%2C%20Delhi%20110001!5e0!3m2!1sen!2sin!4v1693231423844!5m2!1sen!2sin",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})]})})}),r.jsx("section",{className:"py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-6",children:[{question:"What are your store hours?",answer:"Our stores are open Monday through Saturday from 10:00 AM to 8:00 PM. We are closed on Sundays and major holidays."},{question:"Do you offer product repairs?",answer:"Yes, we offer repair services for most of the products we sell. Please bring your device to the nearest store or contact our customer service team for more information."},{question:"How can I track my order?",answer:"You can track your order by visiting the Track Order page on our website and entering your order number and email address."},{question:"What is your return policy?",answer:"We offer a 7-day return policy for most products. Items must be returned in their original packaging with all accessories. Please check our Returns & Refunds page for more details."}].map((N,D)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:N.question}),r.jsx("p",{className:"text-gray-600",children:N.answer})]},D))})]})})})]})},jse=()=>{const[n,t]=z.useState(""),[o,i]=z.useState(""),[l,h]=z.useState(!1),[m,g]=z.useState(null),y=[{label:"Home",link:_t.HOME},{label:"Track Order",link:_t.TRACK_ORDER}],w=_=>{_.preventDefault(),h(!0),setTimeout(()=>{n&&o?g({orderId:n,date:"2023-08-15",status:"In Transit",estimatedDelivery:"2023-08-20",items:[{id:1,name:"iPhone 14 Pro",quantity:1,price:119900},{id:2,name:"iPhone 14 Pro Case",quantity:1,price:2499}],trackingNumber:"IND12345678910",trackingHistory:[{date:"2023-08-15",time:"10:30 AM",status:"Order Placed",location:"Online"},{date:"2023-08-16",time:"09:15 AM",status:"Order Processed",location:"Delhi Warehouse"},{date:"2023-08-17",time:"02:45 PM",status:"Shipped",location:"Delhi Hub"},{date:"2023-08-18",time:"11:20 AM",status:"In Transit",location:"Mumbai Distribution Center"}]}):(Zt.error("Order not found. Please check your order ID and email address."),g(null)),h(!1)},1500)},k=()=>{t(""),i(""),g(null)};return r.jsxs("div",{className:"bg-white min-h-screen",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:y.map((_,N)=>r.jsxs(gt.Fragment,{children:[N>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),N===y.length-1?r.jsx("span",{className:"font-medium",children:_.label}):r.jsx(nt,{to:_.link,className:"text-gray-500 hover:text-primary",children:_.label})]},N))})})}),r.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:r.jsx(bt,{className:"text-2xl"})})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Track Your Order"}),r.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Enter your order ID and email address to track your order's current status and delivery progress."})]})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Order Tracking"}),r.jsxs("form",{onSubmit:w,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"orderId",className:"block mb-2 text-sm font-medium text-gray-700",children:"Order ID"}),r.jsx("input",{type:"text",id:"orderId",value:n,onChange:_=>t(_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Enter your order ID",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:o,onChange:_=>i(_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Enter your email address",required:!0})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[r.jsx("button",{type:"submit",className:"flex-1 flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:l,children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Tracking..."]}):r.jsxs(r.Fragment,{children:[r.jsx(mi,{className:"mr-2"})," Track Order"]})}),m&&r.jsx("button",{type:"button",onClick:k,className:"flex-1 flex items-center justify-center px-6 py-3 rounded-md border border-gray-300 bg-white text-gray-700 font-medium hover:bg-gray-50 transition duration-300",children:"Clear"})]})]})]}),m&&r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-2xl font-semibold",children:["Order #",m.orderId]}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:m.status==="Delivered"?"rgba(16, 185, 129, 0.1)":"rgba(59, 130, 246, 0.1)",color:m.status==="Delivered"?"#10B981":"#3B82F6"},children:m.status})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Order Date"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Lo,{className:"mr-2 text-gray-500"}),r.jsx("span",{className:"font-medium",children:m.date})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Tracking Number"}),r.jsx("span",{className:"font-medium",children:m.trackingNumber})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Estimated Delivery"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zr,{className:"mr-2 text-gray-500"}),r.jsx("span",{className:"font-medium",children:m.estimatedDelivery})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.items.map(_=>r.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200 last:border-0",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:_.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",_.quantity]})]}),r.jsx("div",{children:r.jsxs("span",{className:"font-medium",children:["",_.price.toLocaleString()]})})]},_.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tracking History"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute top-0 left-6 w-0.5 h-full bg-gray-200"}),m.trackingHistory.map((_,N)=>r.jsxs("div",{className:"relative flex items-start mb-6 last:mb-0",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${N===0||N===m.trackingHistory.length-1&&_.status==="Delivered"?"bg-green-500":"bg-blue-500"}`,children:N===0?r.jsx(Kn,{className:"text-white text-lg"}):N===m.trackingHistory.length-1?_.status==="Delivered"?r.jsx(Kn,{className:"text-white text-lg"}):r.jsx(Er,{className:"text-white text-lg"}):r.jsx(Er,{className:"text-white text-lg"})}),r.jsxs("div",{className:"ml-6",children:[r.jsx("h4",{className:"font-medium",children:_.status}),r.jsx("p",{className:"text-sm text-gray-500",children:_.location}),r.jsxs("p",{className:"text-xs text-gray-500",children:[_.date," at ",_.time]})]})]},N))]})]})]})})]})})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Need Help with Your Order?"}),r.jsx("p",{className:"text-gray-700 mb-8",children:"If you're having trouble finding your order or have any other questions, please don't hesitate to contact our customer service team."}),r.jsx(nt,{to:_t.CONTACT,className:"inline-flex items-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},children:"Contact Support"})]})})})]})},Sse=()=>{const[n,t]=z.useState({name:"",company:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",gstin:"",additionalInfo:""}),[o,i]=z.useState([{id:1,name:"",model:"",quantity:"",remarks:""}]),[l,h]=z.useState(!1),{content:m,loading:g,fetchPageContent:y,clearContent:w}=Ua();z.useEffect(()=>(y("bulk-order"),()=>{w()}),[y,w]);const k=[{label:"Home",link:_t.HOME},{label:"Bulk Order",link:_t.BULK_ORDER}],_=P=>{const{name:F,value:V}=P.target;t({...n,[F]:V})},N=(P,F,V)=>{const G=[...o];G[P][F]=V,i(G)},D=()=>{i([...o,{id:o.length+1,name:"",model:"",quantity:"",remarks:""}])},T=P=>{if(o.length>1){const F=[...o];F.splice(P,1),i(F)}else Zt.error("At least one product is required")},R=P=>{if(P.preventDefault(),h(!0),!(n.name&&n.email&&n.phone&&o.every(V=>V.name&&V.quantity))){Zt.error("Please fill in all required fields"),h(!1);return}setTimeout(()=>{Zt.success("Your bulk order inquiry has been submitted. We'll contact you shortly!"),t({name:"",company:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",gstin:"",additionalInfo:""}),i([{id:1,name:"",model:"",quantity:"",remarks:""}]),h(!1)},1500)};return r.jsxs("div",{className:"bg-white min-h-screen",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:k.map((P,F)=>r.jsxs(gt.Fragment,{children:[F>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),F===k.length-1?r.jsx("span",{className:"font-medium",children:P.label}):r.jsx(nt,{to:P.link,className:"text-gray-500 hover:text-primary",children:P.label})]},F))})})}),r.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[" ",g?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):m?r.jsx("div",{className:"prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:m}}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:r.jsx(ed,{className:"text-2xl"})})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Bulk Orders"}),r.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Get special pricing and dedicated support for your business or large quantity orders. Fill out the form below and our team will get in touch with you."})]})]})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-8 text-center",children:"Benefits of Bulk Ordering"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Special Pricing",description:"Get competitive discounts on bulk purchases across all our product categories."},{title:"Dedicated Support",description:"Enjoy personalized assistance from our business team throughout the ordering process."},{title:"Customized Solutions",description:"Get solutions tailored to your business needs with flexible delivery options."}].map((P,F)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-medium mb-3",children:P.title}),r.jsx("p",{className:"text-gray-600",children:P.description})]},F))})]})})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Bulk Order Inquiry Form"}),r.jsxs("form",{onSubmit:R,children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4 pb-2 border-b border-gray-200",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:["Contact Person Name",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"company",className:"block mb-2 text-sm font-medium text-gray-700",children:"Company/Organization"}),r.jsx("input",{type:"text",id:"company",name:"company",value:n.company,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-700",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4 pb-2 border-b border-gray-200",children:"Address Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address",className:"block mb-2 text-sm font-medium text-gray-700",children:"Address"}),r.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:_,rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),r.jsx("input",{type:"text",id:"city",name:"city",value:n.city,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),r.jsx("input",{type:"text",id:"state",name:"state",value:n.state,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"pincode",className:"block mb-2 text-sm font-medium text-gray-700",children:"PIN Code"}),r.jsx("input",{type:"text",id:"pincode",name:"pincode",value:n.pincode,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"gstin",className:"block mb-2 text-sm font-medium text-gray-700",children:"GSTIN (for business customers)"}),r.jsx("input",{type:"text",id:"gstin",name:"gstin",value:n.gstin,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Product Information"}),r.jsxs("button",{type:"button",onClick:D,className:"inline-flex items-center px-3 py-1 text-sm bg-green-50 text-green-700 rounded-md hover:bg-green-100",children:[r.jsx(gZ,{className:"mr-1"})," Add Product"]})]}),r.jsx("div",{className:"space-y-6",children:o.map((P,F)=>r.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h4",{className:"font-medium",children:["Product #",F+1]}),o.length>1&&r.jsxs("button",{type:"button",onClick:()=>T(F),className:"inline-flex items-center text-sm text-red-600 hover:text-red-800",children:[r.jsx(on,{className:"mr-1"})," Remove"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Product Name",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:P.name,onChange:V=>N(F,"name",V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Model/Variant"}),r.jsx("input",{type:"text",value:P.model,onChange:V=>N(F,"model",V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Quantity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:P.quantity,onChange:V=>N(F,"quantity",V.target.value),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Special Requirements"}),r.jsx("input",{type:"text",value:P.remarks,onChange:V=>N(F,"remarks",V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]})]},P.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{htmlFor:"additionalInfo",className:"block mb-2 text-sm font-medium text-gray-700",children:"Additional Information or Requirements"}),r.jsx("textarea",{id:"additionalInfo",name:"additionalInfo",value:n.additionalInfo,onChange:_,rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Please provide any other details that might help us understand your requirements better."})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",className:"flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:l,children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(iO,{className:"mr-2"})," Submit Inquiry"]})})})]})]})})})}),r.jsx("section",{className:"py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-8 text-center",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-6",children:[{question:"What is the minimum quantity for bulk orders?",answer:"We typically consider orders of 10+ units as bulk orders, but this can vary based on the product category and specific items."},{question:"How long does it take to process bulk orders?",answer:"Processing time depends on the quantity and product availability. Our team will provide you with an estimated timeline after reviewing your inquiry."},{question:"Do you provide installation services for bulk orders?",answer:"Yes, we offer installation and setup services for most products when ordered in bulk. Additional charges may apply based on the scope of work."},{question:"Can I get customized products for my business?",answer:"In some cases, we can arrange for customization like company branding or pre-loaded software. Please mention your specific requirements in the inquiry form."}].map((P,F)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:P.question}),r.jsx("p",{className:"text-gray-600",children:P.answer})]},F))})]})})})]})},Ese=()=>{const[n,t]=z.useState("all"),o=[{label:"Home",link:_t.HOME},{label:"Our Stores",link:_t.OUR_STORES}],i=["all","delhi","mumbai","bangalore","chennai","hyderabad","kolkata"],l=[{id:1,name:"Delhi Central",city:"delhi",address:"123 Connaught Place, New Delhi - 110001",contact:"+91 98765 43210",email:"delhi.central@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1604754742629-3e0498a8211f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/123"},{id:2,name:"Delhi South",city:"delhi",address:"456 Greater Kailash, New Delhi - 110048",contact:"+91 99876 54321",email:"delhi.south@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1534723328310-e82dad3ee43f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/456"},{id:3,name:"Mumbai Downtown",city:"mumbai",address:"789 Nariman Point, Mumbai - 400021",contact:"+91 88765 43210",email:"mumbai.downtown@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1598550476439-6847785fcea6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/789"},{id:4,name:"Mumbai Suburban",city:"mumbai",address:"101 Andheri West, Mumbai - 400053",contact:"+91 77654 32109",email:"mumbai.suburban@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1593604572577-1c6c44fa246c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/101"},{id:5,name:"Bangalore Tech Park",city:"bangalore",address:"202 Whitefield, Bangalore - 560066",contact:"+91 66543 21098",email:"bangalore.tech@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1605365070248-299a182a2ca6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/202"},{id:6,name:"Bangalore Central",city:"bangalore",address:"303 MG Road, Bangalore - 560001",contact:"+91 55432 10987",email:"bangalore.central@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1497366858526-0766cadbe8fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/303"},{id:7,name:"Chennai Marina",city:"chennai",address:"404 Anna Salai, Chennai - 600002",contact:"+91 44321 09876",email:"chennai.marina@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1594389723490-61a5acd5cd9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/404"},{id:8,name:"Hyderabad Hitech",city:"hyderabad",address:"505 HITEC City, Hyderabad - 500081",contact:"+91 33210 98765",email:"hyderabad.hitech@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1595359850564-0526976274e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/505"},{id:9,name:"Kolkata Park Street",city:"kolkata",address:"606 Park Street, Kolkata - 700016",contact:"+91 22109 87654",email:"kolkata.park@yourdomain.com",hours:"10:00 AM - 9:00 PM, All days",image:"https://images.unsplash.com/photo-1596568469214-6df73918e6e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",mapLink:"https://goo.gl/maps/606"}],h=n==="all"?l:l.filter(m=>m.city===n);return r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:o.map((m,g)=>r.jsxs(gt.Fragment,{children:[g>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),g===o.length-1?r.jsx("span",{className:"font-medium",children:m.label}):r.jsx(nt,{to:m.link,className:"text-gray-500 hover:text-primary",children:m.label})]},g))})})}),r.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Visit Our Stores"}),r.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Find the nearest store location and experience our products in person. Our expert staff are ready to assist you with all your technology needs."})]})})}),r.jsx("section",{className:"py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:i.map((m,g)=>r.jsx("button",{onClick:()=>t(m),className:`px-4 py-2 rounded-md transition-all ${n===m?"text-white font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:n===m?"var(--brand-primary)":void 0},children:m==="all"?"All Locations":m.charAt(0).toUpperCase()+m.slice(1)},g))})})}),r.jsx("section",{className:"py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(m=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 transition-all hover:shadow-lg",children:[r.jsxs("div",{className:"h-48 relative overflow-hidden",children:[r.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),r.jsx("div",{className:"absolute top-0 right-0 bg-white px-3 py-1 m-3 rounded-full text-sm font-medium capitalize",children:m.city})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:m.name}),r.jsxs("div",{className:"space-y-3 mb-5",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(An,{className:"text-gray-500 mt-1 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-gray-700",children:m.address})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ba,{className:"text-gray-500 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-gray-700",children:m.contact})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(sd,{className:"text-gray-500 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-gray-700",children:m.email})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zr,{className:"text-gray-500 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-gray-700",children:m.hours})]})]}),r.jsxs("a",{href:m.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm font-medium transition-colors duration-300",style:{color:"var(--brand-primary)"},children:["View on Google Maps ",r.jsx(JP,{className:"ml-1"})]})]})]},m.id))}),h.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-xl font-medium mb-2",children:"No stores found in this location"}),r.jsx("p",{className:"text-gray-600",children:"Please select another location or view all stores."}),r.jsx("button",{onClick:()=>t("all"),className:"mt-4 px-4 py-2 rounded-md text-white transition-all",style:{backgroundColor:"var(--brand-primary)"},children:"View All Stores"})]})]})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Why Visit Our Stores?"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Expert Consultation",description:"Our trained staff can help you choose the perfect device based on your needs and budget."},{title:"Hands-on Experience",description:"Try before you buy! Get hands-on experience with our wide range of products."},{title:"Immediate Support",description:"Get immediate technical support and service for your existing devices."}].map((m,g)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:m.title}),r.jsx("p",{className:"text-gray-600",children:m.description})]},g))})]})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Services Available at Our Stores"}),r.jsx("p",{className:"text-gray-700",children:"Visit any of our stores to access these premium services and get the most out of your devices."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["Product Demonstrations","Technical Support","Device Setup & Configuration","Screen Protector Installation","Software Updates","Device Diagnostics","Warranty Services","Trade-in Programs"].map((m,g)=>r.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 text-center hover:shadow-md transition-shadow",children:r.jsx("p",{className:"font-medium",children:m})},g))})]})}),r.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Can't Find a Store Near You?"}),r.jsx("p",{className:"text-lg mb-6",children:"Contact us to learn about our upcoming store locations or shop online with free delivery!"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.jsx(nt,{to:_t.CONTACT,className:"px-6 py-3 bg-white text-blue-600 font-medium rounded-md hover:bg-gray-100 transition-colors",children:"Contact Us"}),r.jsx(nt,{to:_t.PRODUCTS,className:"px-6 py-3 bg-transparent border-2 border-white font-medium rounded-md hover:bg-white hover:text-blue-600 transition-colors",children:"Shop Online"})]})]})})]})},dI=()=>{const{pagePath:n}=Uf(),t=as(),[o,i]=z.useState(!0),{content:l,loading:h,error:m,fetchPageContent:g,clearContent:y,checkPageExists:w}=Ua(),k=[{label:"Home",link:_t.HOME},{label:n?n.replace(/-/g," "):"",link:`/${n}`}];z.useEffect(()=>((async()=>{if(n)try{if(!await w(n)){i(!1);return}g(n)}catch(T){console.error("Error loading page:",T),i(!1)}})(),()=>{y()}),[n,g,y,w]),z.useEffect(()=>{(m||!o)&&t(_t.HOME)},[m,o,t]);const N=(D=>D?D.split("-").map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(" "):"")(n);return r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:k.map((D,T)=>r.jsxs(gt.Fragment,{children:[T>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),T===k.length-1?r.jsx("span",{className:"font-medium",children:D.label}):r.jsx(nt,{to:D.link,className:"text-gray-500 hover:text-primary",children:D.label})]},T))})})}),r.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:N})})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:h?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):l?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:l}}):r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-gray-500",children:"Content not available"})})})})})})]})},Dse=()=>{const n=[{label:"Home",link:_t.HOME},{label:"Terms & Conditions",link:_t.TERMS_CONDITIONS}],{content:t,loading:o,fetchPageContent:i,clearContent:l}=Ua();return z.useEffect(()=>(i("terms-conditions"),()=>{l()}),[i,l]),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:n.map((h,m)=>r.jsxs(gt.Fragment,{children:[m>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),m===n.length-1?r.jsx("span",{className:"font-medium",children:h.label}):r.jsx(nt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),r.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Terms & Conditions"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:o?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("p",{className:"mb-6",children:'These Terms & Conditions ("Terms") govern your use of our website and services. By accessing our website or purchasing products from us, you agree to be bound by these Terms. Please read them carefully.'}),r.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"1. Use of the Website"}),r.jsx("p",{className:"mb-4",children:"1.1 You may use our website for lawful purposes only and in accordance with these Terms."})]})})})})})]})},Mse=()=>{const n=[{label:"Home",link:_t.HOME},{label:"Cancellation & Refund Policy",link:_t.CANCELLATION_REFUND_POLICY}],{content:t,loading:o,fetchPageContent:i,clearContent:l}=Ua();return z.useEffect(()=>(i("cancellation-refund-policy"),()=>{l()}),[i,l]),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:n.map((h,m)=>r.jsxs(gt.Fragment,{children:[m>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),m===n.length-1?r.jsx("span",{className:"font-medium",children:h.label}):r.jsx(nt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),r.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Cancellation & Refund Policy"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:o?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"prose max-w-none",children:r.jsx("p",{className:"mb-6",children:"This Cancellation & Refund Policy outlines our procedures for order cancellations, returns, and refunds. Please review this policy carefully before making a purchase."})})})})})})]})},Tse=()=>{const n=[{label:"Home",link:_t.HOME},{label:"Privacy Policy",link:_t.PRIVACY_POLICY}],{content:t,loading:o,fetchPageContent:i,clearContent:l}=Ua();return z.useEffect(()=>(i("privacy-policy"),()=>{l()}),[i,l]),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:n.map((h,m)=>r.jsxs(gt.Fragment,{children:[m>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),m===n.length-1?r.jsx("span",{className:"font-medium",children:h.label}):r.jsx(nt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),r.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Privacy Policy"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:o?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"prose max-w-none",children:r.jsx("p",{className:"mb-6",children:"This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from our website."})})})})})})]})},Ise=()=>{const n=[{label:"Home",link:_t.HOME},{label:"Shipping & Delivery Policy",link:_t.SHIPPING_DELIVERY_POLICY}],{content:t,loading:o,fetchPageContent:i,clearContent:l}=Ua();return z.useEffect(()=>(i("shipping-delivery-policy"),()=>{l()}),[i,l]),r.jsxs("div",{className:"bg-white",children:[" "," ",r.jsxs("div",{className:"bg-gray-100 py-4",children:[" ",r.jsxs("div",{className:"container mx-auto px-4",children:[" ",r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[" ",n.map((h,m)=>r.jsxs(gt.Fragment,{children:[" ",m>0&&r.jsx("span",{className:"text-gray-500",children:"/"})," ",m===n.length-1?r.jsx("span",{className:"font-medium",children:h.label}):r.jsxs(nt,{to:h.link,className:"text-gray-500 hover:text-primary",children:[" ",h.label," "]})," "]},m))," "]})," "]})," "]})," "," ",r.jsxs("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:[" ",r.jsxs("div",{className:"container mx-auto px-4",children:[" ",r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[" ",r.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:[" ","Shipping & Delivery Policy"," "]})," ",r.jsxs("p",{className:"text-lg text-gray-700",children:[" ","Last Updated: January 1, 2023"," "]})," "]})," "]})," "]})," "," ",r.jsxs("section",{className:"py-12",children:[" ",r.jsxs("div",{className:"container mx-auto px-4",children:[" ",r.jsxs("div",{className:"max-w-4xl mx-auto",children:[" ",r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:[" ",o?r.jsxs("div",{className:"flex justify-center items-center py-16",children:[" ",r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})," "]}):t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsxs("div",{className:"prose max-w-none",children:[" ",r.jsxs("p",{className:"mb-6",children:[" ","This Shipping & Delivery Policy outlines the terms and conditions for the delivery of products purchased from our website or physical stores. By placing an order with us, you agree to the terms of this policy."," "]})," ",r.jsxs("h2",{className:"text-xl font-bold mt-8 mb-4",children:[" ","1. Shipping Methods and Timeframes"," "]})," ",r.jsxs("h3",{className:"text-lg font-medium mt-6 mb-3",children:[" ","1.1 Standard Shipping"," "]})," ",r.jsxs("p",{className:"mb-4",children:[" ","Standard shipping typically takes 3-5 business days for delivery after your order has been processed and shipped. Processing time is usually 1-2 business days from the time your order is placed."," "]})," "," "]})," "]})," "]})," "]})," "]})," "]})},Rse=()=>{const n=[{label:"Home",link:_t.HOME},{label:"Warranty Policy",link:_t.WARRANTY_POLICY}],{content:t,loading:o,fetchPageContent:i,clearContent:l}=Ua();return z.useEffect(()=>(i("warranty-policy"),()=>{l()}),[i,l]),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"bg-gray-100 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"flex items-center space-x-2 text-sm",children:n.map((h,m)=>r.jsxs(gt.Fragment,{children:[m>0&&r.jsx("span",{className:"text-gray-500",children:"/"}),m===n.length-1?r.jsx("span",{className:"font-medium",children:h.label}):r.jsx(nt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),r.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Warranty Policy"}),r.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:o?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("p",{className:"mb-6",children:"This Warranty Policy outlines the terms and conditions of the warranty coverage for products purchased from our stores or website. By purchasing a product from us, you agree to the terms of this policy."}),r.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"1. Standard Manufacturer's Warranty"}),r.jsx("p",{className:"mb-4",children:"All products sold come with the standard manufacturer's warranty. The warranty period varies by product and manufacturer and is specified on the product page."}),r.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"2. Extended Warranty Options"}),r.jsx("p",{className:"mb-4",children:"We offer extended warranty options on select products for an additional fee. These extended warranties provide coverage beyond the standard manufacturer's warranty period and may offer additional benefits."}),r.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"3. Warranty Coverage"}),r.jsx("p",{className:"mb-4",children:"Our warranty covers defects in materials and workmanship under normal use during the warranty period. This warranty does not cover damage caused by accidents, misuse, abuse, neglect, improper installation, unauthorized modifications, or natural disasters."}),r.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"4. Warranty Claims Process"}),r.jsx("p",{className:"mb-4",children:"To make a warranty claim, customers must present the original invoice or receipt as proof of purchase. All warranty claims will be processed according to the manufacturer's warranty policies."}),r.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"5. Repair, Replacement, or Refund"}),r.jsx("p",{className:"mb-4",children:"For valid warranty claims, we will repair or replace defective products at our discretion. If a product cannot be repaired or replaced, we will provide a refund or store credit for the purchase price."}),r.jsxs("p",{className:"mt-8 text-sm italic",children:[r.jsx("strong",{children:"Note:"})," This warranty policy is in addition to, and does not affect, your statutory rights as a consumer under the Consumer Protection Act, 2019, and other applicable laws in India."]})]})})})})})]})},Jk="admin_token",Xk="admin_user",K9=n=>{try{const t=localStorage.getItem(n);return t?JSON.parse(t):null}catch(t){return console.error(`Error parsing stored admin data for key ${n}:`,t),null}},Pse=(n,t)=>{try{return localStorage.setItem(n,JSON.stringify(t)),!0}catch(o){return console.error(`Error storing admin data for key ${n}:`,o),!1}},Ose=(n,t)=>{try{return n&&localStorage.setItem(Jk,n),t&&Pse(Xk,t),!0}catch(o){return console.error("Error persisting admin auth data:",o),!1}},uI=()=>{try{localStorage.removeItem(Jk),localStorage.removeItem(Xk)}catch(n){console.error("Error clearing admin auth data:",n)}},Bse=()=>{const n=localStorage.getItem(Jk),t=K9(Xk);return{admin:t,isAuthenticated:!!(n&&t),isLoading:!1,error:null}},RN=un(n=>({...Bse(),formData:{username:"",password:"",secretKey:""},formErrors:{username:null,password:null,secretKey:null},setFormData:o=>n(i=>({formData:{...i.formData,...o}})),setFormErrors:o=>n(()=>({formErrors:o})),setIsAuthenticated:o=>n(()=>({isAuthenticated:o})),setIsLoading:o=>n(()=>({isLoading:o})),setError:o=>n(()=>({error:o})),adminLogin:async o=>{var i,l,h,m,g,y;try{n({isLoading:!0,error:null});const k=(await $e.post("/admin/login",{username:o.username,password:o.password})).data,_={id:k.admin_id,username:o.username};return Ose(k.token,_),n({admin:_,isAuthenticated:!0,isLoading:!1}),k}catch(w){console.error("Admin login error:",w);let k="Login failed. Please check your credentials.";throw w.code==="NETWORK_ERROR"||w.message==="Network Error"?k="Network error: Unable to connect to the server. Please check your internet connection and try again.":((i=w.response)==null?void 0:i.status)===502?k="Server error (502): The admin server is currently unavailable. Please contact your system administrator.":((l=w.response)==null?void 0:l.status)===500?k="Internal server error: Please try again later or contact support.":((h=w.response)==null?void 0:h.status)===404?k="Admin endpoint not found: The admin service may not be configured properly.":((m=w.response)==null?void 0:m.status)===401?k="Invalid credentials: Please check your username and password.":(y=(g=w.response)==null?void 0:g.data)!=null&&y.error&&(k=w.response.data.error),n({error:k,isLoading:!1}),w}},adminRegister:async o=>{var i,l,h,m,g,y,w;try{n({isLoading:!0,error:null});const k=await $e.post("/admin/signup",{username:o.username,password:o.password,secret:o.secretKey});return n({isLoading:!1}),k.data}catch(k){console.error("Admin registration error:",k);let _="Registration failed. Please try again.";throw k.code==="NETWORK_ERROR"||k.message==="Network Error"?_="Network error: Unable to connect to the server. Please check your internet connection and try again.":((i=k.response)==null?void 0:i.status)===502?_="Server error (502): The admin server is currently unavailable. Please contact your system administrator.":((l=k.response)==null?void 0:l.status)===500?_="Internal server error: Please try again later or contact support.":((h=k.response)==null?void 0:h.status)===404?_="Admin endpoint not found: The admin service may not be configured properly.":((m=k.response)==null?void 0:m.status)===401?_="Invalid secret key: Please check your secret key and try again.":((g=k.response)==null?void 0:g.status)===409?_="Admin already exists: An admin with this username already exists.":(w=(y=k.response)==null?void 0:y.data)!=null&&w.error&&(_=k.response.data.error),n({error:_,isLoading:!1}),k}},adminLogout:()=>{uI(),n({admin:null,isAuthenticated:!1,error:null})},checkAdminAuthStatus:()=>{try{if(localStorage.getItem(Jk)){const i=K9(Xk);if(i)return n({admin:i,isAuthenticated:!0}),!0}return n({admin:null,isAuthenticated:!1}),!1}catch(o){return console.error("Admin auth check error:",o),uI(),n({admin:null,isAuthenticated:!1,error:"Authentication error"}),!1}},clearError:()=>n({error:null}),devModeLogin:o=>(o.username==="admin"&&o.password,!1),testServerConnection:async()=>{var o,i,l,h,m;try{n({isLoading:!0,error:null});const g=await $e.get("/admin/health");return n({isLoading:!1,error:null}),{success:!0,message:" Production server is accessible and working",status:g.status,troubleshooting:[" Backend server is online"," You can use production login if you have credentials"," Development mode is still available as backup"]}}catch(g){console.error("Server connectivity test failed:",g);let y="",w=[];return g.message==="Network Error"&&((i=(o=g.config)==null?void 0:o.url)!=null&&i.includes("69.62.72.199"))?(y=" BACKEND TEST RESULT: Server has CORS/connectivity issues",w=[" THE TEST IS WORKING CORRECTLY!"," This confirms the backend server blocks localhost requests"," CORS Error: Production server needs proper CORS headers"," 502 Error: Backend service may be down/misconfigured",""," SOLUTION: Use Development Mode instead:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 Full admin access without backend dependency"]):((l=g.response)==null?void 0:l.status)===502?(y=" BACKEND TEST RESULT: 502 Bad Gateway detected",w=[" THE TEST IS WORKING CORRECTLY!"," Successfully detected backend server is down"," 502 Error means the backend service is unavailable",""," SOLUTION: Use Development Mode instead:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 All admin features work without backend"]):((h=g.response)==null?void 0:h.status)===404?(y=" BACKEND TEST RESULT: Health endpoint not found",w=[" Health endpoint (/admin/health) not implemented"," This doesn't mean the login won't work"," You can try production login if you have credentials"," Or use Development Mode for guaranteed access"]):(y=" BACKEND TEST RESULT: Connection issues detected",w=[" THE TEST IS WORKING - it found backend problems"," This confirms the production server has issues",""," RECOMMENDED SOLUTION:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 Full admin functionality available"]),n({error:y,isLoading:!1}),{success:!1,message:y,status:((m=g.response)==null?void 0:m.status)||0,troubleshooting:w}}}})),Q9=()=>{try{const n=localStorage.getItem("customColors");if(n){const t=JSON.parse(n);return PN(t),t}}catch(n){console.error("Error loading custom colors:",n)}return null},PN=n=>{const t=document.documentElement;n.primary&&t.style.setProperty("--brand-primary",n.primary),n.secondary&&t.style.setProperty("--brand-secondary",n.secondary),n.success&&t.style.setProperty("--success-color",n.success),n.error&&t.style.setProperty("--error-color",n.error),n.warning&&t.style.setProperty("--warning-color",n.warning),n.info&&t.style.setProperty("--accent-color",n.info)},Lse=()=>({primary:"#3b82f6",secondary:"#10b981",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#f59e0b"}),zse=n=>{try{return localStorage.setItem("customColors",JSON.stringify(n)),PN(n),!0}catch(t){return console.error("Error saving custom colors:",t),!1}},Fse=()=>{const{theme:n,setTheme:t,isDarkMode:o}=Qb(),[i,l]=z.useState(!1),h=z.useRef(null),m=[{value:"light",icon:zM,label:"Light"},{value:"dark",icon:AZ,label:"Dark"},{value:"system",icon:_Z,label:"System"}],g=()=>{const k=m.find(_=>_.value===n);return k?k.icon:zM};z.useEffect(()=>{const k=_=>{h.current&&!h.current.contains(_.target)&&l(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const y=k=>{t(k),l(!1)},w=g();return r.jsxs("div",{className:"relative",ref:h,children:[r.jsxs(Rn.button,{onClick:()=>l(!i),className:"flex items-center justify-center gap-1 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20",style:{color:"var(--text-on-brand)",backgroundColor:i?"rgba(255, 255, 255, 0.1)":"transparent"},whileHover:{scale:1.02},whileTap:{scale:.98},title:"Change theme",children:[r.jsx(Rn.div,{initial:{scale:.8,opacity:0,rotate:n==="light"?180:0},animate:{scale:1,opacity:1,rotate:0},transition:{duration:.3,ease:"easeOut"},children:r.jsx(w,{className:"w-5 h-5"})},n),r.jsx(ii,{className:`w-3 h-3 transition-transform duration-200 ${i?"rotate-180":""}`})]}),r.jsx(CN,{children:i&&r.jsx(Rn.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute top-full right-0 mt-2 py-2 rounded-lg shadow-lg border min-w-[120px] z-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-large)"},children:m.map(({value:k,icon:_,label:N})=>r.jsxs(Rn.button,{onClick:()=>y(k),className:`w-full flex items-center gap-3 px-4 py-2 text-left transition-all duration-150 hover:bg-gray-50 dark:hover:bg-gray-700 ${n===k?"font-medium":""}`,style:{color:n===k?"var(--brand-primary)":"var(--text-primary)",backgroundColor:n===k?"var(--bg-secondary)":"transparent"},whileHover:{x:2},children:[r.jsx(_,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:N}),n===k&&r.jsx(Rn.div,{layoutId:"selected-indicator",className:"w-2 h-2 rounded-full ml-auto",style:{backgroundColor:"var(--brand-primary)"}})]},k))})})]})},Vse=()=>{const n=as(),[t,o]=z.useState(""),[i,l]=z.useState([]),[h,m]=z.useState(!1),g=z.useRef(null),y=z.useRef(null),{isAuthenticated:w}=br(),{itemCount:k,totalAmount:_,fetchCart:N}=Uu(),{items:D,fetchWishlist:T}=Wk(),{searchProducts:R,fetchProducts:P,products:F}=Gl(),{getDropdownBanners:V}=vx(),[G,Y]=z.useState({city:"Bhopal",loading:!1,error:null}),[ee,le]=z.useState(!1),[J,B]=z.useState(!1),[W,Z]=z.useState(null),[de,ne]=z.useState(null),re=z.useRef(null),ge=ae=>{de&&(clearTimeout(de),ne(null)),Z(W===ae?null:ae)},ke=ae=>{de&&(clearTimeout(de),ne(null)),Z(ae)},se=()=>{const ae=setTimeout(()=>{Z(null)},200);ne(ae)},oe=[{id:1,name:"Mobiles & Accessories",path:"/products/smartphones",subcategories:[{title:"Mobiles",items:[{name:"iPhone",path:"/products/smartphones?brand=Apple",brands:["Apple"]},{name:"Samsung Galaxy",path:"/products/smartphones?brand=Samsung",brands:["Samsung"]},{name:"Xiaomi",path:"/products/smartphones?brand=MI",brands:["MI"]},{name:"OnePlus",path:"/products/smartphones?brand=Oneplus",brands:["Oneplus"]},{name:"Oppo",path:"/products/smartphones?brand=Oppo",brands:["Oppo"]},{name:"Vivo",path:"/products/smartphones?brand=Vivo",brands:["Vivo"]},{name:"Nothing",path:"/products/smartphones?brand=Nothing",brands:["Nothing"]},{name:"Motorola",path:"/products/smartphones?brand=Motorola",brands:["Motorola"]},{name:"Nokia",path:"/products/smartphones?brand=Nokia",brands:["Nokia"]},{name:"Lava",path:"/products/smartphones?brand=Lava",brands:["Lava"]},{name:"iQOO",path:"/products/smartphones?brand=iQOO",brands:["iQOO"]}]},{title:"Mobile Accessories",items:[{name:"Chargers",path:"/products/accessories?type=chargers"},{name:"Power Banks",path:"/products/accessories?type=powerbanks"},{name:"Cases & Covers",path:"/products/accessories?type=cases"},{name:"Screen Protectors",path:"/products/accessories?type=screen-protectors"},{name:"Mobile Holders",path:"/products/accessories?type=holders"},{name:"Cables & Connectors",path:"/products/accessories?type=cables"},{name:"Memory Cards",path:"/products/accessories?type=memory-cards"}]},{title:"Accessories Brands",items:[{name:"Ambrane",path:"/products/accessories?brand=Ambrane"},{name:"HapiPola",path:"/products/accessories?brand=HapiPola"},{name:"Cool Touch",path:"/products/accessories?brand=Cool Touch"},{name:"Fitfit",path:"/products/accessories?brand=Fitfit"},{name:"New Case",path:"/products/accessories?brand=New Case"},{name:"Smart Touch",path:"/products/accessories?brand=Smart Touch"}]}]},{id:2,name:"Computers & Tablets",path:"/products/laptops",subcategories:[{title:"Laptops",items:[{name:"Samsung Laptops",path:"/products/laptops?brand=Samsung",brands:["Samsung"]},{name:"HP Laptops",path:"/products/laptops?brand=HP",brands:["HP"]},{name:"Gaming Laptops",path:"/products/laptops?type=gaming"},{name:"Business Laptops",path:"/products/laptops?type=business"},{name:"2-in-1 Laptops",path:"/products/laptops?type=2-in-1"}]},{title:"Tablets",items:[{name:"Samsung Galaxy Tab",path:"/products/tablets?brand=Samsung",brands:["Samsung"]},{name:"Xiaomi Pad",path:"/products/tablets?brand=MI",brands:["MI"]},{name:"OnePlus Pad",path:"/products/tablets?brand=Oneplus",brands:["Oneplus"]},{name:"Motorola Tab",path:"/products/tablets?brand=Motorola",brands:["Motorola"]},{name:"Redmi Pad",path:"/products/tablets?brand=MI",brands:["MI"]}]},{title:"Laptop Accessories",items:[{name:"Laptop Bags",path:"/products/accessories?type=laptop-bags"},{name:"Laptop Stands",path:"/products/accessories?type=laptop-stands"},{name:"Cooling Pads",path:"/products/accessories?type=cooling-pads"},{name:"Wireless Mouse",path:"/products/accessories?type=mouse"},{name:"Keyboards",path:"/products/accessories?type=keyboards"}]}]},{id:3,name:"TV & Audio",path:"/products/televisions",subcategories:[{title:"Smart TVs",items:[{name:"Xiaomi Smart TV",path:"/products/televisions?brand=Xiaomi",brands:["Xiaomi"]},{name:"Mi TV",path:"/products/televisions?brand=Mi",brands:["Mi"]},{name:"Cellecor TV",path:"/products/televisions?brand=Cellecor",brands:["Cellecor"]},{name:"4K TVs",path:"/products/televisions?resolution=4K"},{name:"Full HD TVs",path:"/products/televisions?resolution=Full HD"},{name:"Android TVs",path:"/products/televisions?os=Android"}]},{title:"Audio Devices",items:[{name:"Bluetooth Speakers",path:"/products/speakers?type=bluetooth"},{name:"Wireless Speakers",path:"/products/speakers?type=wireless"},{name:"Portable Speakers",path:"/products/speakers?type=portable"},{name:"Home Audio",path:"/products/speakers?type=home-audio"}]},{title:"Audio Brands",items:[{name:"JBL",path:"/products/speakers?brand=JBL",brands:["JBL"]},{name:"boAt",path:"/products/speakers?brand=Boat",brands:["Boat"]},{name:"Zebronics",path:"/products/speakers?brand=Zebronics",brands:["Zebronics"]},{name:"Digitek",path:"/products/speakers?brand=Digiteck",brands:["Digiteck"]},{name:"Edifier",path:"/products/speakers?brand=Edifier",brands:["Edifier"]},{name:"Ultra Prolink",path:"/products/speakers?brand=Ultra Prolink",brands:["Ultra Prolink"]}]}]},{id:4,name:"Smart Technology",path:"/products/smartwatches",subcategories:[{title:"Wearables",items:[{name:"Smartwatches",path:"/products/smartwatches"},{name:"Fitness Bands",path:"/products/fitness-bands"},{name:"Wireless Earbuds",path:"/products/earbuds"},{name:"Smart Rings",path:"/products/smart-rings"}]},{title:"Smart Home",items:[{name:"Smart Speakers",path:"/products/smart-speakers"},{name:"Smart Lights",path:"/products/smart-lights"},{name:"Smart Plugs",path:"/products/smart-plugs"},{name:"Security Cameras",path:"/products/security-cameras"}]}]}];z.useEffect(()=>{P()},[P]),z.useEffect(()=>{const ae=pe=>{const me=g.current&&!g.current.contains(pe.target),be=y.current&&!y.current.contains(pe.target);me&&be&&m(!1),re.current&&!re.current.contains(pe.target)&&Z(null)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]),z.useEffect(()=>{if(t.trim()===""){l([]),m(!1);return}const ae=R(t);l(ae.slice(0,5)),m(!0)},[t,R]),z.useEffect(()=>{w&&(N(),T())},[w,N,T]),z.useEffect(()=>{(()=>{navigator.geolocation?(Y(pe=>({...pe,loading:!0})),navigator.geolocation.getCurrentPosition(async pe=>{try{const{latitude:me,longitude:be}=pe.coords,je=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${me}&lon=${be}&format=json`)).json(),Ye=je.address.city||je.address.town||je.address.village||je.address.county||"Unknown";Y({city:Ye,loading:!1,error:null})}catch(me){Y({city:"Bhopal",loading:!1,error:me||"Failed to fetch location"})}},pe=>{Y({city:"Jabalpur",loading:!1,error:pe||"Location access denied"})})):Y({city:"Jabalpur",loading:!1,error:"Geolocation not supported"})})()},[]);const ue=ae=>{if(ae.preventDefault(),t.trim()){const pe=R(t);console.log("Search results:",pe),n(`/search?query=${encodeURIComponent(t.trim())}`),m(!1)}},te=ae=>{if(ae.key==="Enter"&&t.trim()){const pe=R(t);console.log("Mobile search results:",pe),n(`/search?query=${encodeURIComponent(t.trim())}`),m(!1)}},q=ae=>{n(`/products/${ae}`),m(!1),o("")};return r.jsxs("header",{className:"sticky top-0 z-50",children:[r.jsx("div",{className:"shadow-xl relative",style:{backgroundColor:"var(--brand-primary)",backgroundImage:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"},children:r.jsx("div",{className:"container mx-auto px-2 sm:px-3",children:r.jsxs("div",{className:"flex items-center justify-between py-4",children:[r.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>le(!ee),"aria-label":ee?"Close menu":"Open menu",children:ee?r.jsx(qt,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}}):r.jsx(kZ,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}})}),r.jsx(nt,{to:_t.HOME,className:"flex items-center transform hover:scale-105 transition duration-300 ease-in-out",children:r.jsx(jw,{linkWrapper:!1,titleColor:"white"})}),r.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-6",children:r.jsxs("div",{className:`relative group ${J?"ring-4 ring-white/20 rounded-full":""}`,children:[r.jsxs("form",{onSubmit:ue,className:"w-full",children:[r.jsx("input",{type:"text",placeholder:"Search for Products, Brands, Offers",className:"w-full py-3 px-5 pr-12 rounded-full focus:outline-none transition-all duration-300",style:{backgroundColor:J?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:J?"0 0 20px rgba(255, 255, 255, 0.3)":"var(--shadow-small)",caretColor:"#333"},value:t,onChange:ae=>{o(ae.target.value),ae.target.value.trim()===""&&m(!1)},onFocus:()=>{t.trim()!==""&&i.length>0&&m(!0)},onBlur:()=>B(!1)}),r.jsx("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center transition-transform duration-300 hover:scale-110 active:scale-95",style:{color:"#333"},"aria-label":"Search",children:r.jsx(mi,{className:"text-xl filter drop-shadow-lg"})})]}),h&&i.length>0&&r.jsx("div",{ref:g,className:"absolute left-0 right-0 z-10 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:r.jsxs("ul",{className:"py-1",children:[i.map(ae=>r.jsx("li",{children:r.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>q(ae.id),children:[r.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3 bg-gray-200 rounded overflow-hidden",children:r.jsx("img",{src:ae.images&&ae.images.length>0?ae.images[0]:"https://via.placeholder.com/40",alt:ae.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ae.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[ae.brand,"  ",ae.category]})]}),r.jsxs("div",{className:"ml-3 text-sm font-medium text-gray-900",children:["",ae.discount_price||ae.price]})]})},ae.id)),r.jsx("li",{children:r.jsx("div",{className:"px-4 py-2 text-center text-sm text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{ue({preventDefault:()=>{}}),m(!1)},children:"View all results"})})]})})]})}),r.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[r.jsxs("div",{className:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:translate-y-[-2px] relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),r.jsx(An,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),r.jsxs("div",{className:"text-xs mt-1",children:[r.jsx("p",{className:"text-white/80 text-center",style:{color:"var(--text-on-brand-muted)"},children:"Delivery to"}),r.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:G.loading?r.jsx("span",{className:"inline-block w-16 h-3 bg-white/20 rounded-full animate-pulse"}):G.error?"Error fetching location":G.city})]})]}),r.jsxs(nt,{to:_t.WISHLIST,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),r.jsx(Xf,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),r.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:D.length})]}),r.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Wishlist"})]}),r.jsxs(nt,{to:_t.ORDERS,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),r.jsx(Lo,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),r.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Orders"})]}),r.jsxs(nt,{to:_t.CART,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),r.jsx(Zf,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),r.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:k})]}),r.jsxs("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:[" ",_.toFixed(2)]})]}),r.jsxs(nt,{to:w?"/profile":_t.LOGIN,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),r.jsx(xs,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),r.jsx("div",{className:"text-xs mt-1",children:r.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:w?"My Account":"Sign In"})})]}),r.jsx("div",{className:"flex flex-col items-center justify-center",children:r.jsx(Fse,{})})]})]})})}),r.jsx("div",{className:"md:hidden px-2 py-3",style:{backgroundColor:"var(--brand-primary-hover)"},children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full py-2 px-4 pr-10 rounded-full text-sm focus:outline-none",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:"var(--shadow-small)"},value:t,onChange:ae=>o(ae.target.value),onKeyDown:te,onFocus:()=>{t.trim()!==""&&i.length>0&&m(!0)}}),r.jsx("button",{onClick:()=>{if(t.trim()){const ae=R(t);console.log("Mobile search results:",ae),n(`/search?query=${encodeURIComponent(t.trim())}`)}},className:"absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center",style:{color:"#333"},children:r.jsx(mi,{className:"text-lg"})}),h&&i.length>0&&r.jsx("div",{ref:y,className:"absolute left-0 right-0 z-50 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"300px",overflowY:"auto"},children:r.jsxs("ul",{className:"py-1",children:[i.map(ae=>r.jsx("li",{children:r.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>q(ae.id),children:[r.jsx("div",{className:"w-8 h-8 flex-shrink-0 mr-2 bg-gray-200 rounded overflow-hidden",children:r.jsx("img",{src:ae.images&&ae.images.length>0?ae.images[0]:"https://via.placeholder.com/32",alt:ae.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:ae.name}),r.jsx("p",{className:"text-xs text-gray-500",children:ae.brand})]}),r.jsxs("div",{className:"ml-2 text-xs font-medium text-gray-900",children:["",ae.discount_price||ae.price]})]})},ae.id)),r.jsx("li",{children:r.jsx("div",{className:"px-3 py-2 text-center text-xs text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{t.trim()&&(n(`/search?query=${encodeURIComponent(t.trim())}`),m(!1))},children:"View all results"})})]})})]})}),r.jsx("nav",{className:"bg-white shadow-md relative",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",zIndex:40},children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-3 relative",ref:re,children:[r.jsxs("ul",{className:"hidden lg:flex items-center justify-between py-3.5",style:{overflow:"visible"},children:[oe==null?void 0:oe.map(ae=>r.jsx("li",{className:"whitespace-nowrap px-3 relative",style:{position:"relative"},children:r.jsxs("button",{onClick:()=>ge(ae.id),className:"text-sm font-medium transition-all duration-300 relative group py-1.5 px-2 hover:text-brand-primary flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx("span",{className:"relative z-10",children:ae.name}),r.jsx("svg",{className:`w-4 h-4 ml-1 transition-transform duration-200 ${W===ae.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),r.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-brand-primary transition-all duration-300 group-hover:w-full rounded-full",style:{backgroundColor:"var(--brand-primary)"}})]})},ae.id)),r.jsx("li",{className:"whitespace-nowrap px-3",children:r.jsxs(nt,{to:"/products",className:"text-sm font-medium transition-all duration-300 relative group py-1.5 px-2 hover:text-brand-primary",style:{color:"var(--text-primary)"},children:[r.jsx("span",{className:"relative z-10",children:"Browse All"}),r.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-brand-primary transition-all duration-300 group-hover:w-full rounded-full",style:{backgroundColor:"var(--brand-primary)"}})]})})]}),W&&r.jsx("div",{className:"absolute bg-white shadow-2xl border-t-2",style:{backgroundColor:"var(--bg-primary)",borderTopColor:"var(--brand-primary)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:9999,top:"100%",left:"0",right:"0",width:"100vw",marginLeft:"calc(-50vw + 50%)",marginTop:"4px"},onMouseEnter:()=>ke(W),onMouseLeave:se,children:r.jsx("div",{className:"px-8 py-8",children:(()=>{const ae=oe.find(pe=>pe.id===W);return ae?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-4 gap-8 p-4",children:[r.jsx("div",{className:"col-span-3",children:r.jsx("div",{className:"grid grid-cols-3 gap-8",children:ae.subcategories.map((pe,me)=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-sm pb-1 border-b",style:{color:"var(--brand-primary)",borderBottomColor:"var(--border-primary)"},children:pe.title}),r.jsx("ul",{className:"space-y-2",children:pe.items.map((be,Te)=>r.jsx("li",{children:r.jsx(nt,{to:be.path,className:"text-sm text-gray-600 hover:text-brand-primary transition-colors duration-200 block py-1",style:{color:"var(--text-secondary)"},children:be.name})},Te))})]},me))})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-sm pb-1 border-b",style:{color:"var(--brand-primary)",borderBottomColor:"var(--border-primary)"},children:"Special Offers"}),(()=>{const pe=V(ae.name),me=pe.length>0?pe:ae.banners;return me==null?void 0:me.map((be,Te)=>r.jsxs(nt,{to:be.link||be.buttonLink||ae.path,className:"block relative rounded-lg overflow-hidden group cursor-pointer",children:[r.jsx("img",{src:be.image||be.imageUrl,alt:be.title,className:"w-full h-20 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsxs("div",{className:"absolute bottom-1 left-1 text-white",children:[r.jsx("p",{className:"text-xs font-medium",children:be.subtitle||be.description}),r.jsx("p",{className:"text-xs font-bold",children:be.title})]})]},Te))})()||r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative rounded-lg overflow-hidden group cursor-pointer",children:[r.jsx("img",{src:"/mobile1.png",alt:"Special Offer",className:"w-full h-20 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsxs("div",{className:"absolute bottom-1 left-1 text-white",children:[r.jsx("p",{className:"text-xs font-medium",children:"Up to 50% OFF"}),r.jsx("p",{className:"text-xs font-bold",children:"Best Deals"})]})]}),r.jsxs("div",{className:"relative rounded-lg overflow-hidden group cursor-pointer",children:[r.jsx("img",{src:"/laptops.png",alt:"Special Offer",className:"w-full h-20 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsxs("div",{className:"absolute bottom-1 left-1 text-white",children:[r.jsx("p",{className:"text-xs font-medium",children:"New Arrivals"}),r.jsx("p",{className:"text-xs font-bold",children:"Premium Quality"})]})]})]})]})]}),r.jsxs("div",{className:"border-t p-6",style:{borderTopColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:"Featured Products"}),r.jsx(nt,{to:ae.path,className:"text-sm font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"View All "})]}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:r.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Featured products for ",ae.name]})})]})]}):null})()})})]})}),r.jsx("div",{className:`lg:hidden fixed inset-0 z-50 transition-all duration-300 ${ee?"opacity-100 visible":"opacity-0 invisible"}`,style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:`absolute top-0 left-0 h-full w-3/4 max-w-xs bg-white shadow-2xl transition-transform duration-300 transform ${ee?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx(jw,{size:"small",linkWrapper:!1,titleColor:"var(--text-primary)"}),r.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100",onClick:()=>le(!1),"aria-label":"Close menu",children:r.jsx(qt,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]}),r.jsxs("div",{className:"py-4",children:[w&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"My Account"}),r.jsxs("ul",{children:[r.jsx("li",{children:r.jsx(nt,{to:"/profile",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>le(!1),children:"Profile"})}),r.jsx("li",{children:r.jsx(nt,{to:"/profile/addresses",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>le(!1),children:"My Addresses"})}),r.jsx("li",{children:r.jsx(nt,{to:"/orders",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>le(!1),children:"Orders"})}),r.jsx("li",{children:r.jsx(nt,{to:"/wishlist",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>le(!1),children:"Wishlist"})})]})]}),r.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"Categories"}),r.jsxs("ul",{children:[oe==null?void 0:oe.map(ae=>r.jsx("li",{children:r.jsx(nt,{to:ae.path,className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>le(!1),children:ae.name})},ae.id)),r.jsx("li",{children:r.jsx(nt,{to:"/products",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors font-medium",style:{color:"var(--brand-primary)"},onClick:()=>le(!1),children:"Browse All Products"})})]})]})]})})]})},Use=()=>{const[n,t]=z.useState(null),[o,i]=z.useState(!0),[l,h]=z.useState(null),[m,g]=z.useState([]),{pages:y,fetchAvailablePages:w}=Ua(),k=async()=>{try{i(!0);const _=await $e.get("/admin/footer/");if(_.status===200&&t(_.data.footer_config),y&&y.length>0)g(y);else try{if(await w(),!y||y.length===0){const N=await $e.get("/admin/content/pages/");N.status===200&&g(N.data.pages||[])}}catch(N){console.error("Error fetching custom pages:",N)}i(!1)}catch(_){console.error("Error fetching footer data:",_),h("Failed to load footer data"),i(!1)}};return z.useEffect(()=>{k();const _=setInterval(()=>{w()},3e5);return()=>clearInterval(_)},[]),z.useEffect(()=>{y&&y.length>0&&g(y)},[y]),{footerData:n,loading:o,error:l,refetch:k,customPages:m}},Gse=()=>{var _,N,D,T,R,P,F,V,G,Y,ee,le,J,B,W,Z,de,ne,re;const{footerData:n,loading:t,customPages:o}=Use();if(t)return r.jsx("footer",{className:"bg-gray-900 text-white py-10",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"animate-pulse flex flex-col items-center justify-center",children:[r.jsx("div",{className:"h-8 w-40 bg-gray-700 rounded mb-6"}),r.jsx("div",{className:"h-4 w-3/4 md:w-1/2 bg-gray-700 rounded mb-4"}),r.jsx("div",{className:"h-4 w-2/3 md:w-1/3 bg-gray-700 rounded"})]})})});const i={FaFacebookF:r.jsx(g_,{}),FaTwitter:r.jsx(nI,{}),FaInstagram:r.jsx(tI,{}),FaYoutube:r.jsx(sI,{}),FaLinkedinIn:r.jsx(rI,{}),FaWhatsapp:r.jsx(kw,{})},l=o.map(ge=>({name:ge.title,path:`/${ge.path}`,isCustom:!0})),h=((_=n==null?void 0:n.quick_links)==null?void 0:_.filter(ge=>ge.enabled))||[{name:"Home",path:_t.HOME},{name:"About",path:_t.ABOUT},{name:"Contact",path:_t.CONTACT}],m=((N=n==null?void 0:n.customer_service_links)==null?void 0:N.filter(ge=>ge.enabled))||[{name:"Track Your Order",path:_t.TRACK_ORDER},{name:"Bulk Orders",path:_t.BULK_ORDER}],g=[...((D=n==null?void 0:n.policy_links)==null?void 0:D.filter(ge=>ge.enabled))||[{name:"Terms & Conditions",path:"/terms-conditions"},{name:"Cancellation & Refund Policy",path:"/cancellation-refund-policy"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Shipping & Delivery Policy",path:"/shipping-delivery-policy"}],...l.filter(ge=>ge.name.toLowerCase().includes("policy")||ge.name.toLowerCase().includes("terms"))],y=[...((T=n==null?void 0:n.know_more_links)==null?void 0:T.filter(ge=>ge.enabled))||[{name:"Our Stores",path:"/our-stores"},{name:"Service Center",url:"https://www.poorvika.com/service-center"}],...l.filter(ge=>!ge.name.toLowerCase().includes("policy")&&!ge.name.toLowerCase().includes("terms"))],w=((P=(R=n==null?void 0:n.social_links)==null?void 0:R.filter(ge=>ge.enabled))==null?void 0:P.map(ge=>({icon:i[ge.icon]||r.jsx(g_,{}),url:ge.url,label:ge.name})))||[{icon:r.jsx(g_,{}),url:"https://facebook.com",label:"Facebook"},{icon:r.jsx(nI,{}),url:"https://twitter.com",label:"Twitter"},{icon:r.jsx(tI,{}),url:"https://instagram.com",label:"Instagram"},{icon:r.jsx(sI,{}),url:"https://youtube.com",label:"YouTube"},{icon:r.jsx(rI,{}),url:"https://linkedin.com",label:"LinkedIn"}],k=[...((F=n==null?void 0:n.footer_policy_links)==null?void 0:F.filter(ge=>ge.enabled))||[{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms of Use",path:"/terms-conditions"},{name:"Warranty Policy",path:"/warranty-policy"}],...l.filter(ge=>ge.name.toLowerCase().includes("policy")||ge.name.toLowerCase().includes("terms")||ge.name.toLowerCase().includes("privacy")||ge.name.toLowerCase().includes("legal")).slice(0,3)];return r.jsxs("footer",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(-50%, -50%)"}}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(30%, 30%)"}}),r.jsx("div",{className:"pt-16 pb-1",style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-12",children:[((V=n==null?void 0:n.company_info)==null?void 0:V.enabled)!==!1&&r.jsxs("div",{className:"space-y-5 lg:col-span-2",children:[r.jsx(jw,{linkWrapper:!1}),r.jsx("p",{className:"text-sm max-w-xs",style:{color:"var(--text-on-dark-bg)",lineHeight:"1.6"},children:((G=n==null?void 0:n.company_info)==null?void 0:G.description)||"Your trusted electronics partner offering the latest mobiles, laptops, and accessories at competitive prices with excellent customer service."}),r.jsx("div",{className:"flex space-x-4 pt-2",style:{color:"var(--text-on-dark-bg)"},children:[{icon:r.jsx(Ene,{}),label:"Android",url:"https://android.com"},{icon:r.jsx(Rne,{}),label:"Web",url:"https://web.dev"},{icon:r.jsx(Dne,{}),label:"iOS",url:"https://apple.com/ios"}].map((ge,ke)=>r.jsx("a",{href:ge.url,target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",style:{backgroundColor:"rgba(255,255,255,0.08)",color:"var(--text-on-dark-bg)"},"aria-label":ge.label,children:ge.icon},ke))}),((Y=n==null?void 0:n.whatsapp)==null?void 0:Y.enabled)!==!1&&r.jsx("div",{className:"mt-4 pt-3 border-t border-gray-700",children:r.jsxs("a",{href:((ee=n==null?void 0:n.whatsapp)==null?void 0:ee.channel_url)||"https://whatsapp.com/channel/YOUR_CHANNEL_ID_HERE",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-300",children:[r.jsx(kw,{className:"text-lg"}),r.jsx("span",{className:"text-sm font-medium",children:"Join WhatsApp channel for offers & updates"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Store",r.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),r.jsx("ul",{className:"space-y-3",children:h.map(ge=>r.jsx("li",{children:r.jsx(nt,{to:ge.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:ge.name})},ge.name))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Help",r.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),r.jsx("ul",{className:"space-y-3",children:m.map(ge=>r.jsx("li",{children:r.jsx(nt,{to:ge.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:ge.name})},ge.name))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Policies",r.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]})," ",r.jsx("ul",{className:"space-y-3",children:g.map(ge=>r.jsx("li",{children:r.jsx(nt,{to:ge.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:ge.name})},ge.name||ge.path))})]})," ",r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Know More",r.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),r.jsx("ul",{className:"space-y-3",children:y.map(ge=>r.jsx("li",{children:ge.path?r.jsx(nt,{to:ge.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:ge.name}):r.jsx("a",{href:ge.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:ge.name})},ge.name||ge.path))})]}),((le=n==null?void 0:n.contact_info)==null?void 0:le.enabled)&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Contact Us",r.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),r.jsxs("ul",{className:"space-y-3",children:[n.contact_info.phone&&r.jsx("li",{children:r.jsxs("a",{href:`tel:${n.contact_info.phone}`,className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[r.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:r.jsx(Ba,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),r.jsx("span",{children:n.contact_info.phone})]})}),n.contact_info.email&&r.jsx("li",{children:r.jsxs("a",{href:`mailto:${n.contact_info.email}`,className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[r.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:r.jsx(sd,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),r.jsx("span",{children:n.contact_info.email})]})}),n.contact_info.address&&r.jsx("li",{children:r.jsxs("div",{className:"text-sm flex transition-colors duration-300",children:[r.jsx("div",{className:"p-2 mr-3 rounded-full flex-shrink-0 self-start mt-1",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:r.jsx(An,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),r.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:n.contact_info.address})]})}),n.contact_info.hours&&r.jsx("li",{children:r.jsxs("div",{className:"text-sm flex items-center transition-colors duration-300",children:[r.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:r.jsx(Zr,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),r.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:n.contact_info.hours})]})})]})]})]})})}),r.jsxs("div",{className:"py-6 bg-blue-50 text-gray-700 w-full relative",children:[((J=n==null?void 0:n.whatsapp)==null?void 0:J.enabled)!==!1&&r.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col gap-2",children:[r.jsx("a",{href:`https://wa.me/${((B=n==null?void 0:n.whatsapp)==null?void 0:B.number)||"1234567890"}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Contact us on WhatsApp",children:r.jsx(kw,{size:20})}),r.jsx("a",{href:"#chat",className:"w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Open chat",children:r.jsx(Ine,{size:18})})]}),r.jsx("div",{className:"container mx-auto",children:r.jsxs("div",{className:"flex flex-col items-center gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Let's get social"}),r.jsx("div",{className:"flex items-center gap-6",children:w.map((ge,ke)=>r.jsx("a",{href:ge.url,target:"_blank",rel:"noopener noreferrer",className:"text-xl hover:text-blue-600 transition-colors duration-300","aria-label":ge.label,children:ge.icon},ke))})]})," ",r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:k.map((ge,ke)=>r.jsxs(gt.Fragment,{children:[r.jsx(nt,{to:ge.path,className:"text-xs hover:underline",children:ge.name}),ke<k.length-1&&r.jsx("span",{className:"text-xs",children:""})]},ge.name||ge.path))}),((W=n==null?void 0:n.copyright)==null?void 0:W.enabled)!==!1&&r.jsx("div",{className:"text-center pt-4 border-t border-gray-300",children:r.jsxs("p",{className:"text-xs text-gray-600",children:[((Z=n==null?void 0:n.copyright)==null?void 0:Z.text)||"Copyright  Anand mobiles | All Rights Reserved",((de=n==null?void 0:n.copyright)==null?void 0:de.developer_name)&&r.jsxs(r.Fragment,{children:[" | Developed By :",r.jsx(nt,{to:((ne=n==null?void 0:n.copyright)==null?void 0:ne.developer_url)||"#",children:(re=n==null?void 0:n.copyright)==null?void 0:re.developer_name})]})]})})]})})]})]})},hI=()=>({orders:[{id:"ORD-2024-001",type:"new_order",message:"New order received",customer:"John Doe",amount:"$234.50",timestamp:new Date(Date.now()-1e3*60*15),priority:"high",read:!1},{id:"ORD-2024-002",type:"payment_pending",message:"Payment pending verification",customer:"Sarah Wilson",amount:"$89.99",timestamp:new Date(Date.now()-1e3*60*45),priority:"medium",read:!1},{id:"ORD-2024-003",type:"order_cancelled",message:"Order cancelled by customer",customer:"Mike Johnson",amount:"$156.75",timestamp:new Date(Date.now()-1e3*60*120),priority:"low",read:!0}],stock:[{id:"STK-2024-001",type:"low_stock",message:"Low stock alert",product:"iPhone 15 Pro Max",sku:"IPH15PM-256-BLU",currentStock:3,minThreshold:10,timestamp:new Date(Date.now()-1e3*60*30),priority:"high",read:!1},{id:"STK-2024-002",type:"out_of_stock",message:"Product out of stock",product:"Samsung Galaxy S24",sku:"SGS24-128-WHT",currentStock:0,minThreshold:5,timestamp:new Date(Date.now()-1e3*60*60),priority:"critical",read:!1},{id:"STK-2024-003",type:"restock_needed",message:"Restock recommendation",product:'MacBook Pro 14"',sku:"MBP14-512-SLV",currentStock:2,minThreshold:8,timestamp:new Date(Date.now()-1e3*60*90),priority:"medium",read:!0}],reviews:[{id:"REV-2024-001",type:"new_review",message:"New 5-star review",product:"AirPods Pro",customer:"Emma Davis",rating:5,comment:"Amazing sound quality and noise cancellation!",timestamp:new Date(Date.now()-1e3*60*20),priority:"low",read:!1},{id:"REV-2024-002",type:"negative_review",message:"Negative review requiring attention",product:"Dell XPS 13",customer:"Robert Chen",rating:2,comment:"Battery life is not as advertised. Very disappointed.",timestamp:new Date(Date.now()-1e3*60*75),priority:"high",read:!1},{id:"REV-2024-003",type:"review_response_needed",message:"Customer asking for help in review",product:"Gaming Mouse RGB",customer:"Lisa Park",rating:3,comment:"Good mouse but having issues with the software setup. Any help?",timestamp:new Date(Date.now()-1e3*60*150),priority:"medium",read:!0}]}),Hse=un((n,t)=>({notifications:hI(),isOrdersDropdownOpen:!1,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1,toggleOrdersDropdown:()=>n(o=>({isOrdersDropdownOpen:!o.isOrdersDropdownOpen,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1})),toggleStockDropdown:()=>n(o=>({isStockDropdownOpen:!o.isStockDropdownOpen,isOrdersDropdownOpen:!1,isReviewsDropdownOpen:!1})),toggleReviewsDropdown:()=>n(o=>({isReviewsDropdownOpen:!o.isReviewsDropdownOpen,isOrdersDropdownOpen:!1,isStockDropdownOpen:!1})),closeAllDropdowns:()=>n({isOrdersDropdownOpen:!1,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1}),markAsRead:(o,i)=>n(l=>({notifications:{...l.notifications,[o]:l.notifications[o].map(h=>h.id===i?{...h,read:!0}:h)}})),markAllAsRead:o=>n(i=>({notifications:{...i.notifications,[o]:i.notifications[o].map(l=>({...l,read:!0}))}})),getUnreadCount:o=>{const{notifications:i}=t();return i[o].filter(l=>!l.read).length},getTotalUnreadCount:()=>{const{notifications:o}=t();return Object.values(o).flat().filter(i=>!i.read).length},refreshNotifications:()=>n({notifications:hI()}),addNotification:(o,i)=>n(l=>({notifications:{...l.notifications,[o]:[i,...l.notifications[o]]}}))})),qse=()=>{const{notifications:n,isOrdersDropdownOpen:t,isStockDropdownOpen:o,isReviewsDropdownOpen:i,toggleOrdersDropdown:l,toggleStockDropdown:h,toggleReviewsDropdown:m,closeAllDropdowns:g,markAsRead:y,markAllAsRead:w,getUnreadCount:k}=Hse(),_=z.useRef(null);z.useEffect(()=>{const P=F=>{_.current&&!_.current.contains(F.target)&&g()};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[g]);const N=P=>{const V=new Date-P,G=Math.floor(V/(1e3*60)),Y=Math.floor(V/(1e3*60*60));return G<60?`${G}m ago`:Y<24?`${Y}h ago`:`${Math.floor(Y/24)}d ago`},D=P=>{switch(P){case"critical":return"#dc2626";case"high":return"#ea580c";case"medium":return"#ca8a04";case"low":return"#16a34a";default:return"#6b7280"}},T=({icon:P,count:F,isOpen:V,onClick:G,label:Y})=>r.jsxs("button",{onClick:G,className:`notification-button relative flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 hover:bg-opacity-10 ${V?"active":""}`,style:{backgroundColor:V?"var(--brand-primary)":"transparent",color:V?"white":"var(--text-primary)",borderRadius:"var(--rounded-lg)"},title:Y,children:[r.jsx("span",{className:"flex items-center justify-center",children:P}),r.jsx("span",{className:"text-sm font-medium hidden sm:block",children:Y}),F>0&&r.jsx("span",{className:"notification-badge",children:F>99?"99+":F})]}),R=({notifications:P,category:F,isOpen:V,onMarkAsRead:G,onMarkAllAsRead:Y})=>V?r.jsxs("div",{className:"notification-dropdown absolute top-full left-0 right-0 mt-2 bg-white border rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-light)"},children:[r.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[F.charAt(0).toUpperCase()+F.slice(1)," Notifications"]}),P.some(ee=>!ee.read)&&r.jsx("button",{onClick:()=>Y(F),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Mark all as read"})]}),r.jsx("div",{className:"notification-dropdown-content max-h-80 overflow-y-auto",children:P.length===0?r.jsxs("div",{className:"p-6 text-center",style:{color:"var(--text-secondary)"},children:[r.jsx(XP,{className:"mx-auto mb-2",size:24}),r.jsx("p",{children:"No notifications"})]}):P.map(ee=>r.jsx("div",{className:`notification-item p-4 border-b hover:bg-opacity-5 cursor-pointer transition-colors ${ee.read?"":"unread bg-blue-50"}`,style:{borderColor:"var(--border-light)",backgroundColor:ee.read?"transparent":"rgba(59, 130, 246, 0.05)"},onClick:()=>G(F,ee.id),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("div",{className:"notification-priority-dot",style:{backgroundColor:D(ee.priority)}}),r.jsx("span",{className:`text-sm font-medium ${ee.read?"":"font-semibold"}`,style:{color:"var(--text-primary)"},children:ee.message})]}),F==="orders"&&r.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(xs,{size:12}),r.jsx("span",{children:ee.customer})]}),r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(vm,{size:12}),r.jsx("span",{children:ee.amount})]})]}),r.jsxs("span",{className:"text-xs font-mono",children:["#",ee.id]})]}),F==="stock"&&r.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[r.jsx("div",{className:"font-medium",children:ee.product}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[r.jsxs("span",{children:["Stock: ",ee.currentStock]}),r.jsxs("span",{children:["Min: ",ee.minThreshold]}),r.jsx("span",{className:"font-mono",children:ee.sku})]})]}),F==="reviews"&&r.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:ee.product}),r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((le,J)=>r.jsx(Gr,{size:12,className:J<ee.rating?"text-yellow-400":"text-gray-300",fill:J<ee.rating?"currentColor":"none"},J))})]}),r.jsxs("div",{className:"text-xs",children:[r.jsxs("span",{className:"font-medium",children:[ee.customer,":"]}),r.jsx("span",{className:"ml-1",children:ee.comment})]})]})]}),r.jsxs("div",{className:"flex flex-col items-end space-y-1 ml-4",children:[r.jsxs("span",{className:"text-xs flex items-center space-x-1",style:{color:"var(--text-secondary)"},children:[r.jsx(Zr,{size:10}),r.jsx("span",{children:N(ee.timestamp)})]}),r.jsx(Fb,{size:12,style:{color:"var(--text-secondary)"}})]})]})},ee.id))}),P.length>0&&r.jsx("div",{className:"p-3 border-t bg-gray-50",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:r.jsxs("button",{className:"w-full text-sm text-center py-1 rounded transition-colors",style:{color:"var(--brand-primary)"},children:["View all ",F]})})]}):null;return r.jsxs("div",{ref:_,className:"relative sticky top-0 z-40 border-b",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(T,{icon:r.jsx(Zf,{size:18}),count:k("orders"),isOpen:t,onClick:l,label:"Orders"}),r.jsx(T,{icon:r.jsx(bt,{size:18}),count:k("stock"),isOpen:o,onClick:h,label:"Stock"}),r.jsx(T,{icon:r.jsx(Gr,{size:18}),count:k("reviews"),isOpen:i,onClick:m,label:"Reviews"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated: ",new Date().toLocaleTimeString()]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"live-indicator w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:"var(--brand-primary)"}}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Live"})]})]})]}),r.jsx(R,{notifications:n.orders,category:"orders",isOpen:t,onMarkAsRead:y,onMarkAllAsRead:w}),r.jsx(R,{notifications:n.stock,category:"stock",isOpen:o,onMarkAsRead:y,onMarkAllAsRead:w}),r.jsx(R,{notifications:n.reviews,category:"reviews",isOpen:i,onMarkAsRead:y,onMarkAllAsRead:w})]})},Yse=()=>{const n=ho(),[t,o]=z.useState(!1),i=[{name:"Dashboard",path:"/admin/dashboard",icon:r.jsx(J2,{size:20})},{name:"Products",path:"/admin/products",icon:r.jsx(Tu,{size:20})},{name:"Inventory",path:"/admin/inventory",icon:r.jsx(xZ,{size:20})},{name:"Orders",path:"/admin/orders",icon:r.jsx(Zf,{size:20})},{name:"Users",path:"/admin/users",icon:r.jsx(ed,{size:20})},{name:"Content",path:"/admin/content",icon:r.jsx(ZP,{size:20})},{name:"Sell Phones",path:"/admin/sell-phones",icon:r.jsx(EZ,{size:20})},{name:"Reviews",path:"/admin/reviews",icon:r.jsx(Gr,{size:20})},{name:"Delivery Partners",path:"/admin/delivery-partners",icon:r.jsx(Er,{size:20})}];return r.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[r.jsxs("aside",{className:`${t?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[r.jsxs("div",{className:`flex items-center ${t?"justify-center w-full":""}`,children:[!t&&r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Admin Panel"}),t&&r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"AP"})]}),r.jsx("button",{onClick:()=>o(!t),className:`p-1 rounded-md hover:bg-gray-700 transition-colors duration-150 ${t?"mx-auto mt-2":""}`,children:t?r.jsx(_n,{size:24}):r.jsx(Oa,{size:24})})]}),r.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:r.jsx("ul",{className:"px-2 space-y-1",children:i.map(l=>{const h=n.pathname===l.path;return r.jsx("li",{children:r.jsxs(nt,{to:l.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${h?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:h?"var(--brand-primary)":"transparent",color:h?"var(--text-on-brand)":"var(--text-on-dark-bg)",boxShadow:h?"var(--shadow-small)":"none",borderRadius:"var(--rounded-md)"},children:[r.jsx("span",{className:"flex items-center justify-center",children:l.icon}),!t&&r.jsx("span",{className:"ml-3",children:l.name})]})},l.name)})})}),r.jsx("div",{className:"p-4 border-t border-opacity-20",style:{borderColor:"var(--border-dark)"},children:r.jsxs(nt,{to:"/",className:"flex items-center px-4 py-2 rounded-md hover:bg-gray-700 hover:bg-opacity-30 transition-all duration-150 text-sm",style:{borderRadius:"var(--rounded-md)"},children:[r.jsx(qc,{size:20}),!t&&r.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]}),r.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(qse,{}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[r.jsx(UA,{})," "]})})]})]})},C_={pending:"var(--warning-color)",out_for_delivery:"var(--brand-secondary)",delivered:"var(--success-color)",failed:"var(--error-color)",payment_successful:"var(--brand-primary)"},Wse={pending:r.jsx(bt,{}),out_for_delivery:r.jsx(Er,{}),delivered:r.jsx(bt,{}),failed:r.jsx(bt,{}),payment_successful:r.jsx(bt,{})},Kse=({delivery:n,onAccept:t})=>r.jsxs("div",{className:"flex flex-col md:flex-row justify-between p-4 group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100 mb-4",style:{textDecoration:"none",backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-start flex-grow",children:[r.jsx("div",{className:"h-12 w-12 flex-shrink-0 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:C_[n.status],color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:Wse[n.status]}),r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",n.orderId,r.jsx("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:n.total_amount?`${n.currency} ${n.total_amount.toFixed(2)}`:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 mt-3",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(An,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:n.address||"Address not available"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ba,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Contact"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:n.customerPhone||"N/A"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(Lo,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected Delivery"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:n.expectedDelivery?new Date(n.expectedDelivery).toLocaleDateString():"Not specified"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(Zr,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Assigned On"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:n.assignedDate?`${new Date(n.assignedDate).toLocaleDateString()} ${new Date(n.assignedDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Not assigned yet"})]})]})]})]})]}),r.jsxs("div",{className:"flex md:flex-col justify-between items-end mt-4 md:mt-0 md:ml-4",children:[r.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${C_[n.status]||"var(--warning-color)"}20`,color:C_[n.status]||"var(--warning-color)"},children:n.status==="payment_successful"?"Payment Successful":n.status==="pending"?"Pending":n.status==="out_for_delivery"?"Out for Delivery":n.status==="delivered"?"Delivered":n.status==="failed"?"Failed":n.status||"Pending"}),r.jsxs("button",{onClick:()=>t(n.id),className:"flex items-center mt-4 font-medium text-sm hover:underline transition-colors",style:{color:"var(--brand-primary)"},children:["Update Status",r.jsx(_n,{className:"ml-1"})]})]})]}),Qse={Pending:"var(--warning-color)","Out for Delivery":"var(--brand-secondary)",Delivered:"var(--success-color)",Failed:"var(--error-color)"},Jse={Pending:r.jsx(bt,{size:16}),"Out for Delivery":r.jsx(Er,{size:16}),Delivered:r.jsx(On,{size:16}),Failed:r.jsx(qt,{size:16})},Xse=({delivery:n,onViewDetails:t})=>{var y,w,k,_,N;const o=D=>{if(!D)return"N/A";try{return new Date(D).toLocaleDateString()}catch(T){return console.error("Invalid date format:",D,T),"N/A"}},i=D=>{if(!D)return"";try{return new Date(D).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(T){return console.error("Invalid date format:",D,T),""}},l=D=>{if(!D)return"No address provided";if(typeof D=="string")return D;if(typeof D=="object"){const{street_address:T,city:R,state:P,postal_code:F}=D,V=[T,R,P,F].filter(Boolean).filter(G=>typeof G=="string"&&G.trim()!=="");return V.length>0?V.join(", "):"No address provided"}return"No address provided"},h=Qse[n.status]||"var(--warning-color)",m=Jse[n.status]||r.jsx(bt,{size:16}),g=typeof n.amount=="number"?n.amount.toFixed(2):parseFloat(n.amount||0).toFixed(2);return r.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"p-4 flex justify-between items-center border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"font-semibold mr-3",style:{color:"var(--text-primary)"},children:["Order #",n.orderId]}),r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${h}20`,color:h},children:[m,r.jsx("span",{className:"ml-1",children:n.status})]})]}),r.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:n.completedDate?`Completed on ${o(n.completedDate)} at ${i(n.completedDate)}`:"In progress"}),(((y=n.order_items)==null?void 0:y.length)>0||((w=n.items)==null?void 0:w.length)>0)&&r.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[((k=n.order_items)==null?void 0:k.length)||((_=n.items)==null?void 0:_.length)," items"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Amount"}),r.jsxs("div",{className:"text-lg font-bold",style:{color:n.paymentMethod==="COD"?"var(--success-color)":"var(--text-primary)"},children:["",g]}),r.jsx("div",{className:"text-xs",style:{color:"var(--brand-primary)"},children:((N=n.payment_details)==null?void 0:N.method)||n.paymentMethod||"Online"}),r.jsx("button",{onClick:t,className:"flex items-center justify-end text-xs font-medium mt-2",style:{color:"var(--brand-primary)"},children:"View Details"})]})]}),r.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex",children:[r.jsx(An,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:l(n.address)})]})]}),r.jsxs("div",{className:"flex",children:[r.jsx(Lo,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected vs Actual Delivery"}),r.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:["Expected: ",o(n.expectedDelivery),r.jsx("br",{}),n.status==="Delivered"?r.jsxs("span",{style:{color:new Date(n.completedDate)<=new Date(n.expectedDelivery)?"var(--success-color)":"var(--warning-color)"},children:["Actual: ",o(n.completedDate)]}):r.jsx("span",{style:{color:"var(--error-color)"},children:n.status})]})]})]})]}),n.notes&&r.jsxs("div",{className:"px-4 py-3 mt-1 border-t",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[r.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Notes"}),r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:n.notes})]})]})},Zse=({collapsed:n})=>{const t=ho(),o=[{name:"Dashboard",path:"/delivery/dashboard",icon:r.jsx(J2,{className:"h-5 w-5"})},{name:"Assignments",path:"/delivery/assignments",icon:r.jsx(bt,{className:"h-5 w-5"})},{name:"Status Updates",path:"/delivery/status-update",icon:r.jsx(wZ,{className:"h-5 w-5"})},{name:"Delivery History",path:"/delivery/history",icon:r.jsx(Zr,{className:"h-5 w-5"})},{name:"Settings",path:"/delivery/settings",icon:r.jsx(aO,{className:"h-5 w-5"})}];return r.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:r.jsx("ul",{className:"px-2 space-y-1",children:o.map(i=>{const l=t.pathname===i.path;return r.jsx("li",{children:r.jsxs(nt,{to:i.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${l?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:l?"var(--brand-primary)":"transparent",color:l?"var(--text-on-brand)":"var(--text-on-dark-bg)"},children:[r.jsx("span",{className:"flex-shrink-0",children:i.icon}),!n&&r.jsx("span",{className:"ml-3",children:i.name}),!n&&l&&r.jsx("span",{className:"ml-auto",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 animate-pulse",style:{color:"var(--text-on-brand)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},i.name)})})})},Hl=un(Gf((n,t)=>({isAuthenticated:!!localStorage.getItem(fb),partner:JSON.parse(localStorage.getItem("delivery_partner")||"null"),loading:!1,error:null,assignedDeliveries:[],deliveryHistory:[],partnerProfile:null,registerPartner:async o=>{var i,l;n({loading:!0,error:null});try{const h=await Bc.post("/partners/register/",o);return n({loading:!1,error:null}),h.data}catch(h){throw n({loading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Registration failed"}),h}},loginPartner:async o=>{var i,l;n({loading:!0,error:null});try{const h=await Bc.post("/partners/login/",o),{token:m,partner_id:g}=h.data;localStorage.setItem(fb,m);const y={id:g,email:o.email};return localStorage.setItem("delivery_partner",JSON.stringify(y)),n({isAuthenticated:!0,partner:y,loading:!1,error:null}),h.data}catch(h){throw n({loading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Login failed"}),h}},fetchPartnerProfile:async()=>{var o,i;n({loading:!0,error:null});try{const h=(await Bc.get("/partners/profile/")).data.partner;return n({partnerProfile:h,loading:!1,error:null}),h}catch(l){throw n({loading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch profile"}),l}},updatePartnerProfile:async o=>{var i,l;n({loading:!0,error:null});try{const h=await Bc.patch("/partners/profile/update/",o);return await t().fetchPartnerProfile(),n({loading:!1,error:null}),h.data}catch(h){throw n({loading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update profile"}),h}},logoutPartner:()=>{localStorage.removeItem(fb),localStorage.removeItem("delivery_partner"),n({isAuthenticated:!1,partner:null,partnerProfile:null,assignedDeliveries:[],deliveryHistory:[]})},fetchAssignedDeliveries:async()=>{var o,i;n({loading:!0,error:null});try{const h=(await Bc.get("/partners/deliveries/assigned/")).data.assigned_orders||[];return n({assignedDeliveries:h,loading:!1,error:null}),h}catch(l){throw n({loading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch assigned deliveries"}),l}},fetchDeliveryHistory:async()=>{var o,i;n({loading:!0,error:null});try{const l=await Bc.get("/partners/deliveries/history/");return n({deliveryHistory:l.data.delivery_history,loading:!1,error:null}),l.data.delivery_history}catch(l){throw n({loading:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch delivery history"}),l}},updateDeliveryStatus:async(o,i,l={})=>{var h,m;n({loading:!0,error:null});try{const g={status:i,...l},y=await Bc.patch(`/partners/deliveries/update_status/${o}/`,g);return await Hl.getState().fetchAssignedDeliveries(),n({loading:!1,error:null}),y.data}catch(g){throw n({loading:!1,error:((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to update delivery status"}),g}}}))),Wc=({children:n,hideMenu:t})=>{const[o,i]=gt.useState(!1),{logoutPartner:l}=Hl(),h=async()=>{await l(),console.log("User logged out")};return r.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[!t&&r.jsxs("aside",{className:`${o?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[r.jsxs("div",{className:`flex items-center ${o?"justify-center w-full":""}`,children:[!o&&r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Delivery Partner"}),o&&r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"DP"})]}),r.jsx("button",{onClick:()=>i(!o),className:"p-1 rounded-full hover:bg-gray-700 hover:bg-opacity-30 focus:outline-none",children:o?r.jsx(_n,{className:"h-5 w-5"}):r.jsx(Oa,{className:"h-5 w-5"})})]}),r.jsx(Zse,{collapsed:o}),r.jsx("div",{className:"mt-auto p-4",children:r.jsxs("button",{onClick:h,className:"flex items-center w-full py-3 px-4 rounded-md transition-all duration-200 hover:bg-gray-700 hover:bg-opacity-30 text-left",style:{color:"var(--text-on-dark-bg)"},children:[r.jsx(tO,{className:"h-5 w-5 mr-3"}),!o&&r.jsx("span",{className:"ml-3",children:"Logout"})]})})]}),r.jsx("main",{className:`flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn ${t?"flex justify-center items-center":""}`,style:{backgroundColor:"var(--bg-secondary)"},children:r.jsx("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6 w-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:n||r.jsx(UA,{})})})]})},ff=({children:n})=>{const{isAuthenticated:t,partner:o}=Hl(),i=ho();return!t||!o?r.jsx(Es,{to:"/delivery/login",state:{from:i},replace:!0}):n},Jb=({isOpen:n,onClose:t,delivery:o,onStatusUpdate:i,isSubmitting:l=!1})=>{var ne,re,ge,ke;const[h,m]=z.useState(null);console.log("de",o);const[g,y]=z.useState((o==null?void 0:o.status)||"processing"),[w,k]=z.useState(""),[_,N]=z.useState(""),[D,T]=z.useState(""),[R,P]=z.useState(""),[F,V]=z.useState(""),[G,Y]=z.useState(""),[ee,le]=z.useState("");if(z.useEffect(()=>{o&&(y(o.status||"processing"),T(o.expectedDelivery?new Date(o.expectedDelivery).toISOString().slice(0,16):""),V(o.carrier||""),Y(o.tracking_number||""),k(""),N(""),P(""),m(null),le(""))},[o]),!n||!o)return null;const J=[{value:"processing",label:"Processing",icon:r.jsx(bt,{}),color:"var(--info-color)",description:"Order is being processed"},{value:"packed",label:"Packed",icon:r.jsx(bt,{}),color:"var(--info-color)",description:"Package is packed and ready for shipping"},{value:"shipped",label:"Shipped",icon:r.jsx(Er,{}),color:"var(--info-color)",description:"Package has been shipped",requiresTrackingInfo:!0},{value:"out_for_delivery",label:"Out for Delivery",icon:r.jsx(Er,{}),color:"var(--brand-primary)",description:"Package is out for delivery",requiresTrackingInfo:!0},{value:"delivered",label:"Delivered",icon:r.jsx(On,{}),color:"var(--success-color)",requiresOtp:!1,description:"Package successfully delivered"},{value:"failed_attempt",label:"Failed Delivery",icon:r.jsx(qt,{}),color:"var(--error-color)",requiresNotes:!0,description:"Delivery attempt failed"},{value:"returning_to_warehouse",label:"Returning to Warehouse",icon:r.jsx(Fl,{}),color:"var(--warning-color)",requiresNotes:!0,description:"Package being returned to warehouse"},{value:"other",label:"Other Status",icon:r.jsx($w,{}),color:"var(--info-color)",requiresNotes:!0,description:"Specify a custom status for this delivery",isCustom:!0}],B=J.find(se=>se.value===g),W=se=>{const oe=se.target.files[0];if(oe){const ue=new FileReader;ue.onload=te=>m(te.target.result),ue.readAsDataURL(oe)}},Z=()=>{m(null)},de=async se=>{if(se.preventDefault(),P(""),B!=null&&B.requiresOtp&&!w){P("OTP is required for delivered status");return}if(B!=null&&B.requiresNotes&&!_){P("Please provide a reason for delivery failure");return}try{const oe=g==="other"?"other":g;if(g==="other"&&!ee){P("Please specify a custom status");return}if(B!=null&&B.requiresTrackingInfo){if(!F){P("Please provide a carrier name for shipped packages");return}if(!G){P("Please provide a tracking number for shipped packages");return}}const ue={photo:h,otp:w,notes:_,estimated_delivery:D?new Date(D).toISOString():null,updatedAt:new Date().toISOString(),carrier:F,tracking_number:G};g==="other"&&(ue.notes=`Custom status: ${ee}${_?` - ${_}`:""}`),await i(o.id,oe,ue),m(null),k(""),N(""),T(""),V(""),Y(""),le(""),P("")}catch(oe){console.error("Error updating status:",oe),P("Failed to update status. Please try again.")}};return r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsx("div",{className:"fixed inset-0 bg-black/40 transition-opacity",onClick:t}),r.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:r.jsxs("div",{className:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order ID: ",o.orderId,"  Customer:",(ne=o.customer)==null?void 0:ne.name]})]})]}),r.jsx("button",{onClick:t,className:"rounded-md p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:de,children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"rounded-lg p-4 mb-4",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h4",{className:"text-md font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(bt,{className:"mr-2"})," Update Status"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Status"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:J.map(se=>r.jsxs("button",{type:"button",className:`p-3 rounded-lg flex items-center border transition-all duration-200 ${g===se.value?"border-2":"hover:border-gray-300"}`,style:{backgroundColor:g===se.value?`${se.color}10`:"var(--bg-primary)",borderColor:g===se.value?se.color:"var(--border-primary)"},onClick:()=>{y(se.value)},children:[r.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:g===se.value?`${se.color}20`:"var(--bg-secondary)",color:se.color},children:se.icon}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:se.label})]},se.value))})]}),g==="other"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"customStatus",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specify Custom Status"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:r.jsx($w,{size:16})}),r.jsx("input",{type:"text",id:"customStatus",value:ee,onChange:se=>le(se.target.value),placeholder:"Enter custom delivery status",className:"w-full pl-10 p-3 rounded-md text-sm border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",color:"var(--text-primary)"}})]}),r.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please specify a descriptive status for this delivery"})]}),(B==null?void 0:B.requiresOtp)&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Delivery OTP"}),r.jsx("input",{type:"text",id:"otp",value:w,onChange:se=>k(se.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter OTP provided by the customer"}),r.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please collect the OTP from the customer upon delivery"})]}),(g==="shipped"||g==="out_for_delivery")&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{htmlFor:"carrier",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Shipping Carrier"}),r.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),r.jsx("input",{type:"text",id:"carrier",value:F,onChange:se=>V(se.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter shipping carrier name (e.g., FedEx, UPS)"}),r.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"The carrier responsible for delivering this package"})]}),(g==="shipped"||g==="out_for_delivery")&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{htmlFor:"trackingNumber",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Tracking Number"}),r.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),r.jsx("input",{type:"text",id:"trackingNumber",value:G,onChange:se=>Y(se.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter tracking number"}),r.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Tracking number provided by the shipping carrier"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{htmlFor:"estimatedDelivery",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Estimated Delivery Date & Time"}),g==="out_for_delivery"&&r.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:"Recommended"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:r.jsx(Lo,{size:16})}),r.jsx("input",{type:"datetime-local",id:"estimatedDelivery",value:D,onChange:se=>T(se.target.value),className:`w-full pl-10 p-3 border rounded-md text-sm ${g==="out_for_delivery"?"border-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:g==="out_for_delivery"?"var(--brand-primary)":"var(--border-primary)",color:"var(--text-primary)"}})]}),D&&r.jsxs("div",{className:"mt-2 py-2 px-3 rounded-md",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[r.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Current Estimate:"}),r.jsx("span",{className:"ml-2 text-sm font-semibold",style:{color:"var(--brand-primary)"},children:new Date(D).toLocaleDateString()+" at "+new Date(D).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),r.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:g==="out_for_delivery"?"Please provide an estimated delivery time when going out for delivery":"Update the estimated delivery date and time for this order"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["Notes ",(B==null?void 0:B.requiresNotes)&&"(Required)"]}),r.jsx("textarea",{id:"notes",value:_,onChange:se=>N(se.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:B!=null&&B.requiresNotes?"Please provide a reason for delivery failure":"Add any relevant notes (optional)",rows:3})]}),R&&r.jsxs("div",{className:"p-3 rounded-md flex items-start mb-4",style:{backgroundColor:"var(--error-color)10",color:"var(--error-color)"},children:[r.jsx(Fl,{className:"mr-2 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:R})]})]}),(o.status==="out_for_delivery"||o.status==="assigned")&&r.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h4",{className:"text-md font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(K2,{className:"mr-2"})," Delivery Photo (Optional)"]}),r.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:"Take a photo as proof of delivery"}),h?r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:h,alt:"Delivery proof",className:"rounded-md max-h-40 max-w-full"}),r.jsx("button",{onClick:Z,className:"absolute top-2 right-2 rounded-full p-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx(qt,{size:14,style:{color:"white"}})})]})}):r.jsx("div",{className:"mb-3",children:r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 rounded-md cursor-pointer border-2 border-dashed",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(yZ,{size:24,style:{color:"var(--text-secondary)"},className:"mb-2"}),r.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-primary)"},children:r.jsx("span",{className:"font-semibold",children:"Click to capture"})})]}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:W})]})})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Current Status"}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:o.status==="delivered"?"var(--success-color)20":o.status==="failed_attempt"||o.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:o.status==="delivered"?"var(--success-color)":o.status==="failed_attempt"||o.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:o.status==="assigned"||o.status==="shipped"||o.status==="payment_successful"?"Assigned":o.status==="out_for_delivery"?"Out For Delivery":o.status==="delivered"?"Delivered":o.status==="failed_attempt"?"Failed Attempt":o.status==="failed_final"?"Failed":o.status==="returning_to_warehouse"?"Returning":o.status})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Information"}),r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:((re=o.customer)==null?void 0:re.name)||"Customer"}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:((ge=o.customer)==null?void 0:ge.phone)||o.customer_phone||"N/A"}),r.jsx("h5",{className:"text-xs font-medium mb-1 mt-2",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),o.delivery_address?r.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:[o.delivery_address.street_address,r.jsx("br",{}),o.delivery_address.city,",",o.delivery_address.state,o.delivery_address.postal_code]}):(ke=o.customer)!=null&&ke.address?r.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:o.customer.address}):r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Address not available"})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:["Items (",o.item_count||o.order_items&&o.order_items.length||o.items&&o.items.length||"Unknown",")"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto",children:o.order_items&&o.order_items.length>0?r.jsx("ul",{className:"space-y-2",children:o.order_items.map((se,oe)=>{var ue,te,q,ae;return r.jsxs("li",{className:"flex justify-between text-xs border-b pb-1 last:border-b-0",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:se.name||se.brand+" "+(((ue=se.variant_details)==null?void 0:ue.storage)||"")||"Product"}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Qty: ",se.quantity]}),se.variant_details&&r.jsx("span",{className:"text-xs mt-0.5",style:{color:"var(--text-secondary)"},children:[se.variant_details.ram,se.variant_details.storage,se.variant_details.colors].filter(Boolean).join(", ")})]}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",se.price_at_purchase||((te=se.variant_details)==null?void 0:te.discounted_price)||se.price||"N/A"]}),((q=se.variant_details)==null?void 0:q.price)&&((ae=se.variant_details)==null?void 0:ae.discounted_price)&&se.variant_details.price>se.variant_details.discounted_price&&r.jsxs("span",{className:"line-through text-xs",style:{color:"var(--text-secondary)"},children:["",se.variant_details.price]})]})]},oe)})}):o.items&&o.items.length>0?r.jsx("ul",{className:"space-y-1",children:o.items.map((se,oe)=>r.jsxs("li",{className:"flex justify-between text-xs",children:[r.jsxs("span",{style:{color:"var(--text-primary)"},children:[se.name," x",se.quantity]}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["",se.price]})]},oe))}):r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Item details not available"})})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:o.expectedDelivery||o.estimated_delivery||o.estimatedDelivery?new Date(o.expectedDelivery||o.estimated_delivery||o.estimatedDelivery).toLocaleDateString():"Not specified"}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:o.expectedDelivery||o.estimated_delivery||o.estimatedDelivery?new Date(o.expectedDelivery||o.estimated_delivery||o.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Payment Information"}),r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),r.jsx("span",{className:"font-medium",style:{color:o.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:o.payment_method||o.paymentType||"Online Payment"})]}),r.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:o.paymentAmount||`${o.total_amount||0}`})]})]})]})]})})]}),r.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[r.jsx(tt,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancel"}),r.jsx(tt,{type:"submit",variant:"primary",disabled:l,className:"transition-transform hover:scale-105",children:l?"Updating...":"Update Status"})]})]})})]})})]})},$se=()=>{const n=as(),t=ho(),{loginPartner:o,isAuthenticated:i,partner:l,loading:h,error:m}=Hl(),[g,y]=z.useState({email:"",password:""}),[w,k]=z.useState({}),[_,N]=z.useState("");z.useEffect(()=>{var P;(P=t.state)!=null&&P.message&&N(t.state.message)},[t.state]),z.useEffect(()=>{i&&l&&n("/delivery/dashboard")},[i,l,n]);const D=P=>{const{name:F,value:V}=P.target;y(G=>({...G,[F]:V})),w[F]&&k(G=>({...G,[F]:""}))},T=()=>{let P=!0;const F={};return g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(F.email="Please enter a valid email address",P=!1):(F.email="Email is required",P=!1),g.password||(F.password="Password is required",P=!1),k(F),P},R=async P=>{var F,V,G;if(P.preventDefault(),!!T())try{await o(g)&&n("/delivery/dashboard")}catch(Y){ze.error(((V=(F=Y.response)==null?void 0:F.data)==null?void 0:V.error)||"Failed to login. Please try again."),((G=Y.response)==null?void 0:G.status)===403&&n("/delivery/admin-verify")}};return r.jsxs(Rm,{title:"Delivery Partner Login",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Er,{size:36})})}),r.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Sign in to your delivery partner account to manage deliveries"}),r.jsxs("form",{onSubmit:R,className:"space-y-5",children:[_&&r.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),_]}),m&&r.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[r.jsx(Fl,{className:"h-5 w-5 mr-2"}),m]}),r.jsx(Br,{label:"Email",type:"email",name:"email",icon:r.jsx(sd,{}),value:g.email,onChange:D,required:!0,placeholder:"your@email.com",error:w.email}),r.jsx(Br,{label:"Password",type:"password",name:"password",icon:r.jsx(Yc,{}),value:g.password,onChange:D,required:!0,placeholder:"Enter your password",error:w.password}),r.jsx(tt,{type:"submit",variant:"primary",fullWidth:!0,isLoading:h,children:h?"Signing In...":"Sign In"}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Don't have a partner account?",r.jsx(nt,{to:"/delivery/register",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Register here"})]})})]})]})},eoe=()=>{const n=as(),{registerPartner:t,loading:o,error:i}=Hl(),[l,h]=z.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[m,g]=z.useState({}),y=_=>{const{name:N,value:D}=_.target;h(T=>({...T,[N]:D})),m[N]&&g(T=>({...T,[N]:""}))},w=()=>{const _={};return l.name.trim()||(_.name="Full name is required"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(_.email="Email is invalid"):_.email="Email is required",l.password?l.password.length<6&&(_.password="Password must be at least 6 characters"):_.password="Password is required",l.password!==l.confirmPassword&&(_.confirmPassword="Passwords don't match"),l.phone.trim()?/^\d{10}$/.test(l.phone.replace(/\D/g,""))||(_.phone="Phone number must be 10 digits"):_.phone="Phone number is required",g(_),Object.keys(_).length===0},k=async _=>{if(_.preventDefault(),!w())return;const N={name:l.name,email:l.email,password:l.password,phone:l.phone};try{await t(N),n("/delivery/login",{state:{message:"Registration successful! Please wait for admin verification."}})}catch(D){console.error("Registration error:",D)}};return r.jsxs(Rm,{title:"Become a Delivery Partner",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(Er,{size:36})})}),r.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Register as a delivery partner and start earning with flexible hours"}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i&&r.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[r.jsx(Fl,{className:"h-5 w-5 mr-2"}),i]}),r.jsx(Br,{label:"Full Name",type:"text",name:"name",icon:r.jsx(xs,{}),value:l.name,onChange:y,required:!0,placeholder:"Enter your full name",error:m.name}),r.jsx(Br,{label:"Email",type:"email",name:"email",icon:r.jsx(sd,{}),value:l.email,onChange:y,required:!0,placeholder:"your@email.com",error:m.email}),r.jsx(Br,{label:"Phone Number",type:"tel",name:"phone",icon:r.jsx(Ba,{}),value:l.phone,onChange:y,required:!0,placeholder:"Your phone number",error:m.phone}),r.jsx(Br,{label:"Password",type:"password",name:"password",icon:r.jsx(Yc,{}),value:l.password,onChange:y,required:!0,placeholder:"Create a strong password",error:m.password}),r.jsx(Br,{label:"Confirm Password",type:"password",name:"confirmPassword",icon:r.jsx(Yc,{}),value:l.confirmPassword,onChange:y,required:!0,placeholder:"Confirm your password",error:m.confirmPassword}),r.jsx("div",{className:"mt-6",children:r.jsx(tt,{type:"submit",variant:"primary",fullWidth:!0,isLoading:o,children:o?"Creating Account...":"Register as Partner"})}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Already have an account?",r.jsx(nt,{to:"/delivery/login",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Log in here"})]})}),r.jsx("div",{className:"text-xs text-center mt-4 px-4",style:{color:"var(--text-secondary)"},children:"By registering, you agree to our Terms of Service and acknowledge that your account requires admin verification before you can start accepting deliveries."})]})]})},mI=()=>{const n=as(),[t,o]=z.useState(!0),[i,l]=z.useState("pending");z.useEffect(()=>{(async()=>{o(!0);try{await new Promise(N=>setTimeout(N,1500));const k=["pending","approved","rejected"],_=k[Math.floor(Math.random()*k.length)];l(_)}catch(k){console.error("Error fetching verification status:",k)}finally{o(!1)}})()},[]);const h=()=>{n("/delivery/login")},m=()=>{n("/delivery/register")},g=()=>{window.open("mailto:support@example.com","_blank")},y=()=>t?r.jsxs("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-4",style:{borderColor:"var(--brand-primary)"}}),r.jsx("p",{className:"text-center text-sm mt-4",style:{color:"var(--text-secondary)"},children:"Checking your verification status..."})]}):i==="approved"?r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:r.jsx(On,{size:64})})}),r.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Approved!"}),r.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account has been verified by our admin team. You can now log in to access your delivery dashboard."}),r.jsx(tt,{variant:"primary",icon:r.jsx(Vb,{className:"mr-2"}),onClick:h,fullWidth:!0,children:"Log In to Your Account"})]}):i==="rejected"?r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:r.jsx(xm,{size:64})})}),r.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Rejected"}),r.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Unfortunately, your account verification was not approved. This could be due to incomplete or incorrect information provided during registration."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(tt,{variant:"primary",icon:r.jsx(Vb,{className:"mr-2"}),onClick:m,fullWidth:!0,children:"Reapply with Correct Information"}),r.jsx(tt,{variant:"secondary",onClick:g,fullWidth:!0,children:"Contact Support"})]})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:r.jsx(Uk,{size:64})})}),r.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Pending"}),r.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account is currently under review by our admin team. This process usually takes 1-2 business days. We'll notify you by email once your account is verified."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(tt,{variant:"secondary",onClick:h,fullWidth:!0,children:"Back to Login"}),r.jsx(tt,{variant:"outline",onClick:g,fullWidth:!0,children:"Contact Support"})]}),r.jsxs("div",{className:"text-xs mt-6 p-4 rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx("strong",{children:"Note:"})," You will receive an email notification when your account is verified. If you don't see the email, please check your spam folder."]})]});return r.jsxs(Rm,{title:"Account Verification Status",children:[r.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Delivery partner account verification"}),y()]})},toe=()=>{const[n,t]=z.useState(!0),[o,i]=z.useState([]),[l,h]=z.useState([]),[m,g]=z.useState(""),[y,w]=z.useState("all"),[k,_]=z.useState(!1),[N,D]=z.useState(null),[T,R]=z.useState(!1),[P,F]=z.useState(1),[V]=z.useState(10),{fetchAssignedDeliveries:G,updateDeliveryStatus:Y,assignedDeliveries:ee}=Hl(),le=z.useCallback(ke=>{if(!ke)return"N/A";const{street_address:se,city:oe,state:ue,postal_code:te}=ke;return[se,oe,ue,te].filter(Boolean).join(", ")},[]);z.useEffect(()=>{(async()=>{t(!0);try{await G()}catch(se){console.error("Error fetching assigned deliveries:",se),We.error("Failed to load delivery assignments")}finally{t(!1)}})()},[G]),z.useEffect(()=>{const ke=ee==null?void 0:ee.map(se=>{var oe,ue,te;return{id:se.order_id,orderId:se.order_id,customer:{name:se.customer_name||"Customer",phone:se.customer_phone||"N/A",address:le(se.delivery_address)},address:le(se.delivery_address),customerPhone:se.customer_phone||"N/A",order_items:((oe=se.order_items)==null?void 0:oe.map(q=>{var ae;return{...q,name:q.name||(q.brand&&((ae=q.variant_details)!=null&&ae.storage)?`${q.brand} ${q.variant_details.storage}`:q.brand||"Product")}}))||[],item_count:se.item_count||((ue=se.order_items)==null?void 0:ue.length)||0,status:se.delivery_status||"pending",priority:J(se),distance:"N/A",expectedDelivery:se.estimated_delivery,estimated_delivery:se.estimated_delivery,estimatedDelivery:se.estimated_delivery,assignedDate:se.assigned_at,assigned_at:se.assigned_at,paymentType:se.payment_method||"Online Payment",payment_method:se.payment_method||"Online Payment",paymentStatus:se.status||"payment_successful",paymentAmount:`${((te=se.total_amount)==null?void 0:te.toLocaleString())||0}`,createdAt:se.created_at,created_at:se.created_at,total_amount:se.total_amount,currency:se.currency||"INR",delivery_address:se.delivery_address,...se}});i(ke),h(ke),console.log("DeliveryAssignmentList rendered",o,l)},[ee,le]);const J=ke=>{if(!ke)return"normal";const se=ke.estimated_delivery?new Date(ke.estimated_delivery):null;return se&&se-new Date<24*60*60*1e3?"high":"normal"};z.useEffect(()=>{const ke=o==null?void 0:o.filter(se=>{const oe=se.orderId.toLowerCase().includes(m.toLowerCase())||se.customer.name.toLowerCase().includes(m.toLowerCase())||se.customer.address.toLowerCase().includes(m.toLowerCase());return y==="all"?oe:y==="high-priority"?oe&&se.priority==="high":y==="normal-priority"?oe&&se.priority==="normal":oe});h(ke)},[m,y,o]);const B=async ke=>{var se,oe,ue;try{const te=o.find(q=>q.id===ke);if(te){const q={...te,id:te.id||te.order_id,orderId:te.orderId||te.order_id,customer:{name:((se=te.customer)==null?void 0:se.name)||te.customer_name||"Customer",phone:((oe=te.customer)==null?void 0:oe.phone)||te.customer_phone||te.customerPhone||"N/A",address:((ue=te.customer)==null?void 0:ue.address)||le(te.delivery_address)},status:te.status||te.delivery_status||"assigned",order_items:te.order_items||[],item_count:te.item_count||te.itemCount||te.order_items&&te.order_items.length||0};D(q),_(!0)}}catch(te){console.error("Error processing delivery details:",te),We.error("Could not load delivery details")}},W=async(ke,se,oe)=>{R(!0);try{await Y(ke,se,oe),i(ue=>ue.map(te=>te.id===ke?{...te,status:se}:te)),h(ue=>ue.map(te=>te.id===ke?{...te,status:se}:te)),We.success("Delivery status updated successfully"),_(!1),D(null)}catch(ue){console.error("Error updating delivery status:",ue),We.error("Failed to update delivery status")}finally{R(!1)}},Z=()=>{_(!1),D(null)},de=P*V,ne=de-V,re=l.slice(ne,de),ge=ke=>F(ke);return r.jsxs(Wc,{children:[r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Available Delivery Assignments"}),r.jsxs("div",{className:"flex flex-col md:flex-row w-full md:w-auto gap-3",children:[r.jsxs("div",{className:"relative flex-grow md:w-64",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:r.jsx(mi,{size:18})}),r.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:m,onChange:ke=>g(ke.target.value)})]}),r.jsxs("div",{className:"relative md:w-48",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:r.jsx(nd,{size:18})}),r.jsxs("select",{value:y,onChange:ke=>w(ke.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[r.jsx("option",{value:"all",children:"All Assignments"}),r.jsx("option",{value:"high-priority",children:"High Priority"}),r.jsx("option",{value:"normal-priority",children:"Normal Priority"})]})]})]})]}),n?r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(l==null?void 0:l.length)>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:re.map(ke=>r.jsx(Kse,{delivery:ke,onAccept:()=>B(ke.id)},ke.id))}),l.length>V&&r.jsx("div",{className:"flex justify-center mt-6",children:r.jsxs("nav",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>ge(P-1),disabled:P===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:P===1?"var(--bg-disabled)":"var(--bg-secondary)",color:P===1?"var(--text-disabled)":"var(--text-primary)",cursor:P===1?"not-allowed":"pointer"},children:r.jsx(Oa,{})}),Array.from({length:Math.ceil(l.length/V)}).map((ke,se)=>r.jsx("button",{onClick:()=>ge(se+1),className:"px-4 py-2",style:{backgroundColor:P===se+1?"var(--brand-primary)":"var(--bg-secondary)",color:P===se+1?"white":"var(--text-primary)"},children:se+1},se)),r.jsx("button",{onClick:()=>ge(P+1),disabled:P===Math.ceil(l.length/V),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:P===Math.ceil(l.length/V)?"var(--bg-disabled)":"var(--bg-secondary)",color:P===Math.ceil(l.length/V)?"var(--text-disabled)":"var(--text-primary)",cursor:P===Math.ceil(l.length/V)?"not-allowed":"pointer"},children:r.jsx(_n,{})})]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx(Fl,{size:48,style:{color:"var(--text-secondary)"},className:"mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No assignments found"}),r.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:m||y!=="all"?"Try changing your search terms or filters":"There are currently no delivery assignments available. Check back later!"})]})]}),r.jsx(Jb,{isOpen:k,onClose:Z,delivery:N,onStatusUpdate:W,isSubmitting:T})]})},pI=()=>{const{id:n}=Uf(),t=as(),[o,i]=z.useState(!!n),[l,h]=z.useState(null),[m,g]=z.useState(null),[y,w]=z.useState(""),[k,_]=z.useState([]),[N,D]=z.useState(!1),[T,R]=z.useState(null),[P,F]=z.useState(!1),[V,G]=z.useState(1),[Y]=z.useState(10),{fetchAssignedDeliveries:ee,updateDeliveryStatus:le,assignedDeliveries:J}=Hl(),B=z.useCallback(q=>{if(!q)return"N/A";const{street_address:ae,city:pe,state:me,postal_code:be}=q;return[ae,pe,me,be].filter(Boolean).join(", ")},[]);console.log("assigned",J);const W=z.useCallback(async()=>{i(!0);try{await ee()}catch(q){console.error("Error fetching assigned deliveries:",q),We.error("Failed to load deliveries")}finally{i(!1)}},[ee]);z.useEffect(()=>{const q=J==null?void 0:J.map(ae=>{var pe,me,be,Te;return{id:ae.order_id,orderId:ae.order_id,customerName:ae.customer_name||"Customer",customerAddress:B(ae.delivery_address),customerPhone:ae.customer_phone||"N/A",status:ae.delivery_status||ae.status||"assigned",order_items:((pe=ae.order_items)==null?void 0:pe.map(je=>{var Ye;return{...je,name:je.name||(je.brand&&((Ye=je.variant_details)!=null&&Ye.storage)?`${je.brand} ${je.variant_details.storage}`:je.brand||"Product")}}))||[],items:ae.order_items||[],item_count:ae.item_count||((me=ae.order_items)==null?void 0:me.length)||0,itemCount:ae.item_count||((be=ae.order_items)==null?void 0:be.length)||0,expectedDelivery:ae.estimated_delivery,assignedOn:ae.assigned_at,paymentType:ae.payment_method||"Online Payment",paymentAmount:`${((Te=ae.total_amount)==null?void 0:Te.toLocaleString())||0}`,customer:{name:ae.customer_name||"Customer",phone:ae.customer_phone||"N/A",address:B(ae.delivery_address)},...ae}});_(q)},[J,B]);const Z=z.useCallback(async q=>{var ae,pe,me,be;i(!0),g(null);try{const je=(await ee()).find(Ye=>Ye.order_id===q);if(je)h({id:je.order_id,orderId:je.order_id,status:je.delivery_status||je.status||"assigned",customer:{name:je.customer_name||"Customer",phone:je.customer_phone||"N/A",address:B(je.delivery_address)},order_items:((ae=je.order_items)==null?void 0:ae.map(Ye=>{var Ve;return{...Ye,name:Ye.name||(Ye.brand&&((Ve=Ye.variant_details)!=null&&Ve.storage)?`${Ye.brand} ${Ye.variant_details.storage}`:Ye.brand||"Product")}}))||[],items:je.order_items||[],item_count:je.item_count||((pe=je.order_items)==null?void 0:pe.length)||0,itemCount:je.item_count||((me=je.order_items)==null?void 0:me.length)||0,paymentType:je.payment_method||"Online Payment",payment_method:je.payment_method||"Online Payment",paymentStatus:je.status||"payment_successful",paymentAmount:`${((be=je.total_amount)==null?void 0:be.toLocaleString())||0}`,total_amount:je.total_amount,currency:je.currency||"INR",deliveryInstructions:je.delivery_instructions||"",expectedDelivery:je.estimated_delivery,estimatedDelivery:je.estimated_delivery,estimated_delivery:je.estimated_delivery,assignedOn:je.assigned_at,assigned_at:je.assigned_at,assignedPartnerName:je.assigned_partner_name,delivery_address:je.delivery_address,...je});else throw new Error("Delivery not found")}catch(Te){g("Failed to load delivery information. Please try again."),console.error("Error fetching delivery:",Te)}finally{i(!1)}},[ee,B]);z.useEffect(()=>{n?Z(n):W()},[n,Z,W]);const de=q=>{const ae=q.target.value.toLowerCase();if(w(ae),!ae.trim()){W();return}const pe=k.filter(me=>me.id.toLowerCase().includes(ae)||me.orderId.toLowerCase().includes(ae)||me.customerName.toLowerCase().includes(ae)||me.customerAddress.toLowerCase().includes(ae));_(pe)},ne=q=>{var ae,pe,me,be,Te;try{const je=k.find(Ye=>Ye.id===q);if(je){const Ye={...je,customer:{name:((ae=je.customer)==null?void 0:ae.name)||je.customerName||"Customer",phone:((pe=je.customer)==null?void 0:pe.phone)||je.customerPhone||"N/A",address:((me=je.customer)==null?void 0:me.address)||je.customerAddress},order_items:je.order_items||je.items||[],item_count:je.item_count||je.itemCount||((be=je.order_items)==null?void 0:be.length)||0||((Te=je.items)==null?void 0:Te.length)||0};R(Ye),D(!0)}}catch(je){console.error("Error processing delivery details:",je),We.error("Could not load delivery details")}},re=async(q,ae,pe)=>{F(!0);try{await le(q,ae,pe),l&&l.id===q&&h(me=>({...me,status:ae})),_(me=>me.map(be=>be.id===q?{...be,status:ae}:be)),We.success("Delivery status updated successfully"),D(!1),R(null)}catch(me){console.error("Error updating status:",me),We.error("Failed to update delivery status")}finally{F(!1)}},ge=()=>{var ae,pe,me,be,Te,je,Ye;const q={...l,order_items:((ae=l.order_items)==null?void 0:ae.map(Ve=>{var Je;return{...Ve,name:Ve.name||(Ve.brand&&((Je=Ve.variant_details)!=null&&Je.storage)?`${Ve.brand} ${Ve.variant_details.storage}`:Ve.brand||"Product")}}))||l.items||[],customer:{name:((pe=l.customer)==null?void 0:pe.name)||l.customerName||"Customer",phone:((me=l.customer)==null?void 0:me.phone)||l.customerPhone||"N/A",address:((be=l.customer)==null?void 0:be.address)||B(l.delivery_address)||l.customerAddress},item_count:l.item_count||l.itemCount||((Te=l.order_items)==null?void 0:Te.length)||0||((je=l.items)==null?void 0:je.length)||0,paymentType:l.paymentType||l.payment_method||"Online Payment",paymentAmount:l.paymentAmount||`${((Ye=l.total_amount)==null?void 0:Ye.toLocaleString())||0}`};R(q),D(!0)},ke=()=>{D(!1),R(null)},se=V*Y,oe=se-Y,ue=k.slice(oe,se),te=q=>G(q);return n?o||!l?r.jsx(Wc,{children:r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})})}):r.jsx(Wc,{children:r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>t("/delivery/assignments"),className:"flex items-center text-sm font-medium mb-4",style:{color:"var(--brand-primary)"},children:[r.jsx(qc,{className:"mr-2"})," Back to Assignments"]}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Delivery ID:"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.id}),r.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:""}),r.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Order:"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.orderId})]})]}),r.jsxs("div",{className:"mt-4 md:mt-0 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:l.status==="delivered"?"var(--success-color)20":l.status==="failed_attempt"||l.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:l.status==="delivered"?"var(--success-color)":l.status==="failed_attempt"||l.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:[(l.status==="assigned"||l.status==="shipped"||l.status==="payment_successful")&&"Assigned",l.status==="out_for_delivery"&&"Out For Delivery",l.status==="delivered"&&"Delivered",l.status==="failed_attempt"&&"Failed Attempt",l.status==="failed_final"&&"Failed",l.status==="returning_to_warehouse"&&"Returning"]})]})]}),m&&r.jsx("div",{className:"p-4 mb-6 rounded-lg",style:{backgroundColor:"var(--error-color)10",borderLeft:"4px solid var(--error-color)"},children:r.jsx("p",{style:{color:"var(--error-color)"},children:m})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"rounded-lg p-6 mb-6",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(bt,{className:"mr-2"})," Update Status"]}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Click the button below to update the delivery status for this order."}),r.jsx(tt,{variant:"primary",onClick:ge,className:"transition-transform hover:scale-105",children:"Update Delivery Status"})]})}),r.jsx("div",{children:r.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("h2",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Customer Information"}),r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.customer.name}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:l.customer.phone}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:l.customer.address})]}),l.estimatedDelivery&&r.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),r.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:[new Date(l.estimatedDelivery).toLocaleDateString(),"at",new Date(l.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),r.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:["Items (",l.item_count||l.order_items&&l.order_items.length||l.items&&l.items.length||"Unknown",")"]}),l.order_items&&l.order_items.length>0?r.jsx("ul",{className:"space-y-2",children:l.order_items.map((q,ae)=>{var pe,me,be,Te;return r.jsxs("li",{className:"flex justify-between text-sm border-b pb-1 last:border-b-0",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:q.name||q.brand+" "+(((pe=q.variant_details)==null?void 0:pe.storage)||"")||"Product"}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Qty: ",q.quantity]}),q.variant_details&&r.jsx("span",{className:"text-xs mt-0.5",style:{color:"var(--text-secondary)"},children:[q.variant_details.ram,q.variant_details.storage,q.variant_details.colors].filter(Boolean).join(", ")})]}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",q.price_at_purchase||((me=q.variant_details)==null?void 0:me.discounted_price)||q.price||"N/A"]}),((be=q.variant_details)==null?void 0:be.price)&&((Te=q.variant_details)==null?void 0:Te.discounted_price)&&q.variant_details.price>q.variant_details.discounted_price&&r.jsxs("span",{className:"line-through text-xs",style:{color:"var(--text-secondary)"},children:["",q.variant_details.price]})]})]},ae)})}):l.items&&l.items.length>0?r.jsx("ul",{className:"space-y-2",children:l.items.map((q,ae)=>r.jsxs("li",{className:"flex justify-between text-sm",children:[r.jsxs("span",{style:{color:"var(--text-primary)"},children:[q.name," x",q.quantity]}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["",q.price]})]},ae))}):r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Item details not available. Contact support for order details."})]}),r.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Payment Information"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),r.jsx("span",{className:"font-medium",style:{color:l.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:l.paymentType})]}),r.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[r.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),r.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:l.paymentAmount})]})]}),l.deliveryInstructions&&r.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Delivery Instructions"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:l.deliveryInstructions})]})]})]})})]}),r.jsx(Jb,{isOpen:N,onClose:ke,delivery:T,onStatusUpdate:re,isSubmitting:P})]})}):r.jsxs(Wc,{children:[r.jsxs("div",{className:"w-full",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),r.jsx("div",{className:"mb-6",children:r.jsx(Br,{type:"text",placeholder:"Search by Order ID, Customer Name, or Address...",value:y,onChange:de,icon:r.jsx(mi,{})})}),o?r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(k==null?void 0:k.length)===0?r.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[r.jsx(bt,{className:"h-12 w-12 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-medium",children:"No deliveries found"}),r.jsx("p",{className:"mt-2",children:"Try a different search term or check back later."})]}):r.jsxs("div",{className:"space-y-4",children:[ue.map(q=>r.jsx("div",{className:"p-4 rounded-lg cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"4px solid var(--brand-primary)"},onClick:()=>ne(q.id),children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:q.customerName}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:q.customerAddress}),r.jsx("div",{className:"mt-2 flex items-center",children:r.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:q.status==="delivered"?"var(--success-color)20":q.status==="failed_attempt"||q.status==="failed_final"?"var(--error-color)20":q.status==="shipped"||q.status==="payment_successful"||q.status==="assigned"?"var(--brand-primary)20":"var(--warning-color)20",color:q.status==="delivered"?"var(--success-color)":q.status==="failed_attempt"||q.status==="failed_final"?"var(--error-color)":q.status==="shipped"||q.status==="payment_successful"||q.status==="assigned"?"var(--brand-primary)":"var(--warning-color)"},children:q.status==="assigned"||q.status==="shipped"||q.status==="payment_successful"?"Assigned":q.status==="out_for_delivery"?"Out For Delivery":q.status==="delivered"?"Delivered":q.status==="failed_attempt"?"Failed Attempt":q.status==="failed_final"?"Failed":q.status==="returning_to_warehouse"?"Returning":q.status})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:q.id}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order: ",q.orderId]})]})]})},q.id)),k.length>Y&&r.jsx("div",{className:"flex justify-center mt-6",children:r.jsxs("nav",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>te(V-1),disabled:V===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:V===1?"var(--bg-disabled)":"var(--bg-secondary)",color:V===1?"var(--text-disabled)":"var(--text-primary)",cursor:V===1?"not-allowed":"pointer"},children:r.jsx(Oa,{})}),Array.from({length:Math.ceil(k.length/Y)}).map((q,ae)=>r.jsx("button",{onClick:()=>te(ae+1),className:"px-4 py-2",style:{backgroundColor:V===ae+1?"var(--brand-primary)":"var(--bg-secondary)",color:V===ae+1?"white":"var(--text-primary)"},children:ae+1},ae)),r.jsx("button",{onClick:()=>te(V+1),disabled:V===Math.ceil(k.length/Y),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:V===Math.ceil(k.length/Y)?"var(--bg-disabled)":"var(--bg-secondary)",color:V===Math.ceil(k.length/Y)?"var(--text-disabled)":"var(--text-primary)",cursor:V===Math.ceil(k.length/Y)?"not-allowed":"pointer"},children:r.jsx(_n,{})})]})})]})]}),r.jsx(Jb,{isOpen:N,onClose:ke,delivery:T,onStatusUpdate:re,isSubmitting:P})]})},roe=()=>{var se;const n=ho(),[t,o]=z.useState(!0),[i,l]=z.useState([]),[h,m]=z.useState([]),[g,y]=z.useState(""),[w,k]=z.useState("all"),[_,N]=z.useState("all"),[D,T]=z.useState(""),[R,P]=z.useState(1),[F]=z.useState(10),[V,G]=z.useState(!1),[Y,ee]=z.useState(null),{fetchDeliveryHistory:le}=Hl(),J=z.useCallback(oe=>{if(!oe)return"N/A";if(typeof oe=="string")return oe;if(typeof oe=="object"){const{street_address:ue,city:te,state:q,postal_code:ae}=oe,pe=[ue,te,q,ae].filter(Boolean).filter(me=>typeof me=="string"&&me.trim()!=="");return pe.length>0?pe.join(", "):"N/A"}return"N/A"},[]);z.useEffect(()=>{var oe;if((oe=n.state)!=null&&oe.successMessage){T(n.state.successMessage);const ue=setTimeout(()=>{T("")},5e3);return()=>clearTimeout(ue)}},[(se=n.state)==null?void 0:se.successMessage]),z.useEffect(()=>{(async()=>{o(!0);try{const te=(await le()).map(q=>{var pe,me;const ae=J(q.address||q.delivery_address);return{id:q.order_id,orderId:q.order_id,customer:q.customer_name||"Customer",customer_phone:q.customer_phone,address:ae,delivery_address:q.address||q.delivery_address,status:B(q.delivery_status||""),delivery_status:q.delivery_status,completedDate:q.delivered_at||q.updated_at||q.created_at,expectedDelivery:q.estimated_delivery||new Date().toISOString(),estimated_delivery:q.estimated_delivery,amount:parseFloat(q.total_amount||"0"),total_amount:q.total_amount,paymentMethod:((pe=q.payment_details)==null?void 0:pe.method)||q.payment_method||"Online",payment_method:((me=q.payment_details)==null?void 0:me.method)||q.payment_method,notes:q.notes||"",order_items:q.order_items||[],tracking_info:q.tracking_info||{},payment_details:q.payment_details||{method:q.payment_method||"Online",status:q.status||"payment_successful"},currency:q.currency||"INR",created_at:q.created_at,updated_at:q.updated_at,assigned_at:q.assigned_at,delivered_at:q.delivered_at,...q}});l(te),m(te)}catch(ue){console.error("Error fetching delivery history:",ue),We.error("Failed to load delivery history")}finally{o(!1)}})()},[le,J]);const B=oe=>({delivered:"Delivered",out_for_delivery:"Out for Delivery",failed_final:"Failed",failed_attempt:"Failed",pending:"Pending",assigned:"Pending",cancelled:"Failed"})[oe.toLowerCase()]||"Pending";z.useEffect(()=>{const oe=i.filter(ue=>{const te=(ue.orderId||"").toLowerCase().includes(g.toLowerCase())||(ue.customer||"").toLowerCase().includes(g.toLowerCase())||(ue.address||"").toLowerCase().includes(g.toLowerCase());let q=!0;const ae=new Date,pe=ue.completedDate?new Date(ue.completedDate):null;if(w==="today")q=pe&&pe.getDate()===ae.getDate()&&pe.getMonth()===ae.getMonth()&&pe.getFullYear()===ae.getFullYear();else if(w==="week"){const be=new Date;be.setDate(be.getDate()-7),q=pe&&pe>=be}else if(w==="month"){const be=new Date;be.setMonth(be.getMonth()-1),q=pe&&pe>=be}const me=_==="all"||(ue.status||"").toLowerCase()===_.toLowerCase();return te&&q&&me});m(oe)},[g,w,_,i]);const W=oe=>{var te,q,ae;const ue=typeof oe.address=="string"?oe.address:J(oe.delivery_address);ee({...oe,customer:{name:oe.customer||"Customer",phone:oe.customer_phone||"N/A",address:ue},paymentType:((te=oe.payment_details)==null?void 0:te.method)||oe.payment_method||"Online",paymentStatus:((q=oe.payment_details)==null?void 0:q.status)||oe.status||"payment_successful",paymentAmount:`${((ae=oe.total_amount)==null?void 0:ae.toLocaleString())||0}`}),G(!0)},Z=()=>{G(!1),ee(null)},de=R*F,ne=de-F,re=h.slice(ne,de),ge=oe=>P(oe),ke=()=>{if(h.length===0){We.error("No data to export");return}const te="data:text/csv;charset=utf-8,"+[["Order ID","Customer","Address","Status","Completed Date","Expected Delivery","Amount","Payment Method","Notes"].join(","),...h.map(pe=>[`"${pe.orderId}"`,`"${pe.customer}"`,`"${pe.address}"`,`"${pe.status}"`,`"${new Date(pe.completedDate).toLocaleDateString()}"`,`"${new Date(pe.expectedDelivery).toLocaleDateString()}"`,pe.amount,`"${pe.paymentMethod}"`,`"${pe.notes}"`].join(","))].join(`
`),q=encodeURI(te),ae=document.createElement("a");ae.setAttribute("href",q),ae.setAttribute("download",`delivery_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),We.success("Delivery history exported successfully")};return r.jsxs(Wc,{children:[r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[D&&r.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--success-color)10",borderLeft:"4px solid var(--success-color)"},children:r.jsx("p",{style:{color:"var(--success-color)"},children:D})}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Delivery History"}),r.jsxs("button",{onClick:ke,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:[r.jsx(ui,{className:"mr-2"}),"Export History"]})]}),r.jsx("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-3",children:[r.jsxs("div",{className:"relative flex-grow md:w-64",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:r.jsx(mi,{size:18})}),r.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:g,onChange:oe=>y(oe.target.value)})]}),r.jsxs("div",{className:"relative md:w-48",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:r.jsx(Lo,{size:18})}),r.jsxs("select",{value:w,onChange:oe=>k(oe.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]}),r.jsxs("div",{className:"relative md:w-48",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:r.jsx(nd,{size:18})}),r.jsxs("select",{value:_,onChange:oe=>N(oe.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"failed_final",children:"Failed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),t?r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):h.length>0?r.jsxs("div",{className:"space-y-4",children:[re.map(oe=>r.jsx(Xse,{delivery:oe,onViewDetails:()=>W(oe)},oe.order_id||oe.id)),h.length>F&&r.jsx("div",{className:"flex justify-center mt-6",children:r.jsxs("nav",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>ge(R-1),disabled:R===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:R===1?"var(--bg-disabled)":"var(--bg-secondary)",color:R===1?"var(--text-disabled)":"var(--text-primary)",cursor:R===1?"not-allowed":"pointer"},children:r.jsx(Oa,{})}),Array.from({length:Math.ceil(h.length/F)}).map((oe,ue)=>r.jsx("button",{onClick:()=>ge(ue+1),className:"px-4 py-2",style:{backgroundColor:R===ue+1?"var(--brand-primary)":"var(--bg-secondary)",color:R===ue+1?"white":"var(--text-primary)"},children:ue+1},ue)),r.jsx("button",{onClick:()=>ge(R+1),disabled:R===Math.ceil(h.length/F),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:R===Math.ceil(h.length/F)?"var(--bg-disabled)":"var(--bg-secondary)",color:R===Math.ceil(h.length/F)?"var(--text-disabled)":"var(--text-primary)",cursor:R===Math.ceil(h.length/F)?"not-allowed":"pointer"},children:r.jsx(_n,{})})]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,style:{color:"var(--text-secondary)"},children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No delivery history found"}),r.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:g||w!=="all"||_!=="all"?"Try changing your search terms or filters":"Your completed deliveries will appear here once you've made some deliveries."})]})]}),r.jsx(Jb,{isOpen:V,onClose:Z,delivery:Y||{},isReadOnly:!0})]})},noe=()=>{const[n,t]=z.useState(!0),[o,i]=z.useState({todayDeliveries:0,pendingDeliveries:0,completedDeliveries:0,rating:4.8}),[l,h]=z.useState([]),[m,g]=z.useState([]),[y,w]=z.useState(!1),[k,_]=z.useState(null),[N,D]=z.useState(!1),[T,R]=z.useState(1),[P]=z.useState(10),{fetchAssignedDeliveries:F,fetchDeliveryHistory:V,updateDeliveryStatus:G}=Hl(),Y=z.useCallback(be=>{if(!be)return"N/A";const{street_address:Te,city:je,state:Ye,postal_code:Ve}=be;return[Te,je,Ye,Ve].filter(Boolean).join(", ")},[]),ee=z.useCallback(be=>{if(!be)return"N/A";const Te=new Date(be),je=new Date,Ye=new Date(je);return Ye.setDate(Ye.getDate()-1),Te.setHours(0,0,0,0)===je.setHours(0,0,0,0)?`Today, ${Te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:Te.setHours(0,0,0,0)===Ye.setHours(0,0,0,0)?`Yesterday, ${Te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:`${Te.toLocaleDateString()}, ${Te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},[]),le=z.useCallback(be=>!be||!be.estimated_delivery?"normal":new Date(be.estimated_delivery)-new Date<24*60*60*1e3?"high":"normal",[]),J=z.useCallback(be=>be?be.charAt(0).toUpperCase()+be.slice(1):"",[]),B=z.useCallback((be=[],Te=[])=>{const je=be.slice(0,3).map(Qe=>({id:Qe.order_id,orderId:Qe.order_id,customer:Qe.customer_name||"Customer",address:Y(Qe.delivery_address),scheduledTime:ee(Qe.estimated_delivery),priority:le(Qe)}));g(je);const Ye=Te.slice(0,3).map(Qe=>({id:Qe.order_id,orderId:Qe.order_id,customer:Qe.customer_name||"Customer",address:Y(Qe.delivery_address),status:J(Qe.delivery_status||""),time:ee(Qe.delivered_at||Qe.updated_at||Qe.created_at),reason:Qe.notes||null}));h(Ye);const Ve=new Date;Ve.setHours(0,0,0,0);const Je=Te.filter(Qe=>new Date(Qe.delivered_at||Qe.updated_at)>=Ve).length;i({todayDeliveries:Je,pendingDeliveries:be.length,completedDeliveries:Te.length,rating:4.8})},[Y,ee,le,J]);z.useEffect(()=>{(async()=>{t(!0);try{const Te=await F(),je=await V();B(Te,je)}catch(Te){console.error("Error fetching dashboard data:",Te),We.error("Failed to load dashboard data")}finally{t(!1)}})()},[F,V,B]);const W=z.useCallback(be=>{switch(be){case"Delivered":return"var(--success-color)";case"Failed_attempt":case"Failed_final":case"Failed":return"var(--error-color)";case"Assigned":case"Out_for_delivery":case"Pending":return"var(--warning-color)";default:return"var(--brand-primary)"}},[]),Z=z.useCallback(be=>{switch(be){case"high":return{color:"var(--error-color)",label:"High Priority"};case"normal":return{color:"var(--brand-primary)",label:"Normal"};case"low":return{color:"var(--text-secondary)",label:"Low Priority"};default:return{color:"var(--brand-primary)",label:"Normal"}}},[]),de=({icon:be,value:Te,label:je,color:Ye,bgColor:Ve})=>r.jsx("div",{className:"rounded-lg p-6 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:Te}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:je})]}),r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:Ve,color:Ye},children:be})]})}),ne=({delivery:be})=>r.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${W(be.status)}20`,color:W(be.status)},children:be.status==="Delivered"?r.jsx(On,{size:20}):r.jsx(Fl,{size:20})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",be.orderId]}),r.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${W(be.status)}20`,color:W(be.status)},children:be.status})]}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:be.customer}),r.jsxs("div",{className:"flex items-start mt-1",children:[r.jsx(An,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:be.address})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-right",style:{color:"var(--text-secondary)"},children:be.time}),be.reason&&r.jsx("p",{className:"text-xs mt-1 text-right",style:{color:"var(--error-color)"},children:be.reason}),r.jsxs("button",{onClick:Te=>{Te.stopPropagation(),ge(be)},className:"flex items-center justify-end text-xs font-medium mt-2",style:{color:"var(--brand-primary)"},children:["View Details",r.jsx(_n,{size:14,className:"ml-0.5"})]})]})]})}),re=({delivery:be})=>{const Te=Z(be.priority);return r.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(bt,{size:20})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",be.orderId]}),r.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${Te.color}20`,color:Te.color},children:Te.label})]}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:be.customer}),r.jsxs("div",{className:"flex items-start mt-1",children:[r.jsx(An,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:be.address})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center text-xs mb-2",style:{color:"var(--brand-primary)"},children:[r.jsx(Zr,{size:12,className:"mr-1"}),be.scheduledTime]}),r.jsxs("button",{onClick:je=>{je.stopPropagation(),ge(be)},className:"flex items-center justify-end text-xs font-medium",style:{color:"var(--brand-primary)"},children:["View Details",r.jsx(_n,{size:14,className:"ml-0.5"})]})]})]})})},ge=be=>{(async()=>{var je,Ye,Ve;try{const Qe=(await F()).find(Ot=>Ot.order_id===be.id);if(Qe){const Ot={id:Qe.order_id,orderId:Qe.order_id,customer:{name:Qe.customer_name||"Customer",phone:Qe.customer_phone||"N/A",address:Y(Qe.delivery_address)},status:Qe.delivery_status||Qe.status||"assigned",order_items:((je=Qe.order_items)==null?void 0:je.map(Tt=>{var Ze;return{...Tt,name:Tt.name||(Tt.brand&&((Ze=Tt.variant_details)!=null&&Ze.storage)?`${Tt.brand} ${Tt.variant_details.storage}`:Tt.brand||"Product")}}))||[],item_count:Qe.item_count||((Ye=Qe.order_items)==null?void 0:Ye.length)||0,expectedDelivery:Qe.estimated_delivery,delivery_address:Qe.delivery_address,paymentType:Qe.payment_method||"Online Payment",paymentStatus:Qe.status||"payment_successful",paymentAmount:`${((Ve=Qe.total_amount)==null?void 0:Ve.toLocaleString())||0}`,currency:Qe.currency||"INR",total_amount:Qe.total_amount,assignedOn:Qe.assigned_at,created_at:Qe.created_at,estimatedDelivery:Qe.estimated_delivery,...Qe};_(Ot),w(!0)}else _(be),w(!0),console.warn("Could not find full delivery details",be.id)}catch(Je){console.error("Error fetching delivery details:",Je),_(be),w(!0),We.error("Could not fetch complete delivery details")}})()},ke=()=>{w(!1),_(null)},se=T*P,oe=se-P,ue=l.slice(oe,se),te=T*P,q=te-P,ae=m.slice(q,te),pe=be=>R(be),me=async(be,Te,je)=>{D(!0);try{await G(be,Te,je),h(Ye=>Ye.map(Ve=>Ve.id===be?{...Ve,status:Te}:Ve)),g(Ye=>Ye.map(Ve=>Ve.id===be?{...Ve,status:Te}:Ve)),We.success("Delivery status updated successfully"),w(!1),_(null)}catch(Ye){console.error("Error updating delivery status:",Ye),We.error("Failed to update delivery status")}finally{D(!1)}};return r.jsxs(Wc,{children:[r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Delivery Dashboard"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Welcome back! Here's an overview of your delivery activities."})]}),r.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:r.jsxs("div",{className:"mr-2 px-4 py-2 rounded-md text-sm flex items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx(Lo,{size:16,className:"mr-2",style:{color:"var(--text-secondary)"}}),r.jsx("span",{style:{color:"var(--text-primary)"},children:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})})]}),n?r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(de,{icon:r.jsx(Er,{size:24}),value:o.todayDeliveries,label:"Today's Deliveries",color:"var(--brand-primary)",bgColor:"var(--bg-accent-light)"}),r.jsx(de,{icon:r.jsx(bt,{size:24}),value:o.pendingDeliveries,label:"Pending Deliveries",color:"var(--warning-color)",bgColor:"var(--warning-color)20"}),r.jsx(de,{icon:r.jsx(On,{size:24}),value:o.completedDeliveries,label:"Completed Deliveries",color:"var(--success-color)",bgColor:"var(--success-color)20"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Upcoming Deliveries"}),r.jsxs(nt,{to:"/delivery/assignments",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View All",r.jsx(_n,{size:14,className:"ml-0.5"})]})]}),r.jsx("div",{className:"space-y-3",children:m.length>0?r.jsxs(r.Fragment,{children:[ae.map(be=>r.jsx(re,{delivery:be},be.id)),m.length>P&&r.jsx("div",{className:"flex justify-center mt-4",children:r.jsxs("nav",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>pe(T-1),disabled:T===1,className:"px-2 py-1 rounded-l-md",style:{backgroundColor:T===1?"var(--bg-disabled)":"var(--bg-secondary)",color:T===1?"var(--text-disabled)":"var(--text-primary)",cursor:T===1?"not-allowed":"pointer"},children:r.jsx(Oa,{size:16})}),Array.from({length:Math.ceil(m.length/P)}).map((be,Te)=>r.jsx("button",{onClick:()=>pe(Te+1),className:"px-2 py-1",style:{backgroundColor:T===Te+1?"var(--brand-primary)":"var(--bg-secondary)",color:T===Te+1?"white":"var(--text-primary)"},children:Te+1},Te)),r.jsx("button",{onClick:()=>pe(T+1),disabled:T===Math.ceil(m.length/P),className:"px-2 py-1 rounded-r-md",style:{backgroundColor:T===Math.ceil(m.length/P)?"var(--bg-disabled)":"var(--bg-secondary)",color:T===Math.ceil(m.length/P)?"var(--text-disabled)":"var(--text-primary)",cursor:T===Math.ceil(m.length/P)?"not-allowed":"pointer"},children:r.jsx(_n,{size:16})})]})})]}):r.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No upcoming deliveries at this time."})})]}),r.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Recent Deliveries"}),r.jsxs(nt,{to:"/delivery/history",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View History",r.jsx(_n,{size:14,className:"ml-0.5"})]})]}),r.jsx("div",{className:"space-y-3",children:l.length>0?r.jsxs(r.Fragment,{children:[ue.map(be=>r.jsx(ne,{delivery:be},be.id)),l.length>P&&r.jsx("div",{className:"flex justify-center mt-4",children:r.jsxs("nav",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>pe(T-1),disabled:T===1,className:"px-2 py-1 rounded-l-md",style:{backgroundColor:T===1?"var(--bg-disabled)":"var(--bg-secondary)",color:T===1?"var(--text-disabled)":"var(--text-primary)",cursor:T===1?"not-allowed":"pointer"},children:r.jsx(Oa,{size:16})}),Array.from({length:Math.ceil(l.length/P)}).map((be,Te)=>r.jsx("button",{onClick:()=>pe(Te+1),className:"px-2 py-1",style:{backgroundColor:T===Te+1?"var(--brand-primary)":"var(--bg-secondary)",color:T===Te+1?"white":"var(--text-primary)"},children:Te+1},Te)),r.jsx("button",{onClick:()=>pe(T+1),disabled:T===Math.ceil(l.length/P),className:"px-2 py-1 rounded-r-md",style:{backgroundColor:T===Math.ceil(l.length/P)?"var(--bg-disabled)":"var(--bg-secondary)",color:T===Math.ceil(l.length/P)?"var(--text-disabled)":"var(--text-primary)",cursor:T===Math.ceil(l.length/P)?"not-allowed":"pointer"},children:r.jsx(_n,{size:16})})]})})]}):r.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No recent deliveries."})})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[r.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(nt,{to:"/delivery/assignments",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)20",color:"var(--brand-primary)"},children:r.jsx(bt,{size:16})}),r.jsx("span",{style:{color:"var(--text-primary)"},children:"View Assignments"})]}),r.jsx(_n,{})]}),r.jsxs(nt,{to:"/delivery/history",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:r.jsx(Zr,{size:16})}),r.jsx("span",{style:{color:"var(--text-primary)"},children:"View Delivery History"})]}),r.jsx(_n,{})]}),r.jsxs(nt,{to:"/delivery/status-update",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:r.jsx(_u,{size:16})}),r.jsx("span",{style:{color:"var(--text-primary)"},children:"Update Delivery Status"})]}),r.jsx(_n,{})]})]})]})})]})]})]}),r.jsx(Jb,{isOpen:y,onClose:ke,delivery:k,onStatusUpdate:me,isSubmitting:N})]})},soe=()=>{const{partnerProfile:n,loading:t,error:o,fetchPartnerProfile:i,updatePartnerProfile:l}=Hl(),[h,m]=z.useState(!1),[g,y]=z.useState({name:"",email:"",phone:"",address:"",vehicleType:"bike",vehicleNumber:"",currentPassword:"",newPassword:"",confirmPassword:""}),[w,k]=z.useState({});z.useEffect(()=>{i().catch(()=>{})},[i]),z.useEffect(()=>{n&&y(R=>({...R,name:n.name||"",email:n.email||"",phone:n.phone||"",address:n.address||"",vehicleType:n.vehicle_type||"bike",vehicleNumber:n.vehicle_number||""}))},[n]),z.useEffect(()=>{o&&ze.error(o)},[o]);const _=R=>{const{name:P,value:F}=R.target;y({...g,[P]:F}),w[P]&&k({...w,[P]:""})},N=R=>{const P={};return R==="profile"&&(g.name.trim()||(P.name="Full name is required"),g.phone.trim()||(P.phone="Phone number is required"),g.address.trim()||(P.address="Address is required"),g.vehicleNumber.trim()||(P.vehicleNumber="Vehicle number is required")),R==="password"&&(g.currentPassword||g.newPassword||g.confirmPassword)&&(g.currentPassword||(P.currentPassword="Current password is required"),g.newPassword?g.newPassword.length<6&&(P.newPassword="Password must be at least 6 characters"):P.newPassword="New password is required",g.confirmPassword?g.newPassword!==g.confirmPassword&&(P.confirmPassword="Passwords don't match"):P.confirmPassword="Please confirm your new password"),k(P),Object.keys(P).length===0},D=async(R,P)=>{if(R.preventDefault(),!N(P)){ze.error("Please fix the errors in the form");return}try{const F={};P==="profile"&&(F.name=g.name,F.phone=g.phone,F.address=g.address,F.vehicle_type=g.vehicleType,F.vehicle_number=g.vehicleNumber),P==="password"&&g.currentPassword&&g.newPassword&&(F.current_password=g.currentPassword,F.new_password=g.newPassword);const V=await l(F);ze.success(V.message||"Profile updated successfully"),P==="password"&&y(G=>({...G,currentPassword:"",newPassword:"",confirmPassword:""})),m(!1),k({})}catch{}},T=()=>{m(!h),k({}),y(!h&&n?R=>({...R,name:n.name||"",phone:n.phone||"",address:n.address||"",vehicleType:n.vehicle_type||"bike",vehicleNumber:n.vehicle_number||"",currentPassword:"",newPassword:"",confirmPassword:""}):R=>({...R,currentPassword:"",newPassword:"",confirmPassword:""}))};return!n&&t?r.jsx(Wc,{children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(hi,{className:"w-8 h-8 animate-spin",style:{color:"var(--brand-primary)"}})})}):!n&&!t?r.jsx(Wc,{children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Failed to load profile data"}),r.jsx("button",{onClick:()=>i(),className:"mt-2 px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]})})}):r.jsx(Wc,{children:r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Profile Settings"}),r.jsx("button",{onClick:T,disabled:t,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:h?"var(--bg-secondary)":"var(--brand-primary)",color:h?"var(--text-primary)":"var(--text-on-brand)"},children:h?"Cancel":"Edit Profile"})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Profile Information"}),r.jsxs("form",{onSubmit:R=>D(R,"profile"),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Full Name"}),h?r.jsx(Br,{type:"text",name:"name",value:g.name,onChange:_,placeholder:"Enter your full name",icon:r.jsx(xs,{}),error:w.name}):r.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:n.name||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Email Address"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:n.email}),h&&r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Phone Number"}),h?r.jsx(Br,{type:"tel",name:"phone",value:g.phone,onChange:_,placeholder:"Enter your phone number",icon:r.jsx(Ba,{}),error:w.phone}):r.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:n.phone||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Address"}),h?r.jsx(Br,{type:"text",name:"address",value:g.address,onChange:_,placeholder:"Enter your address",icon:r.jsx(An,{}),error:w.address}):r.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:n.address||"Not provided"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Vehicle Type"}),h?r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:r.jsx(Er,{})}),r.jsxs("select",{name:"vehicleType",value:g.vehicleType,onChange:_,className:"w-full pl-10 pr-3 py-2 rounded-md text-sm border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[r.jsx("option",{value:"bike",children:"Bike/Scooter"}),r.jsx("option",{value:"car",children:"Car"}),r.jsx("option",{value:"van",children:"Van/Mini Truck"})]})]}):r.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:n.vehicle_type==="bike"?"Bike/Scooter":n.vehicle_type==="car"?"Car":n.vehicle_type==="van"?"Van/Mini Truck":n.vehicle_type||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Vehicle Number"}),h?r.jsx(Br,{type:"text",name:"vehicleNumber",value:g.vehicleNumber,onChange:_,placeholder:"Enter vehicle registration number",icon:r.jsx(Er,{}),error:w.vehicleNumber}):r.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:n.vehicle_number||"Not provided"})]})]}),h&&r.jsx("div",{className:"mt-4",children:r.jsx(tt,{type:"submit",variant:"primary",isLoading:t,icon:r.jsx(Tm,{}),children:"Save Changes"})})]})]}),h&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"}),r.jsxs("form",{onSubmit:R=>D(R,"password"),className:"space-y-4",children:[r.jsx(Br,{label:"Current Password",type:"password",name:"currentPassword",value:g.currentPassword,onChange:_,placeholder:"Enter your current password",icon:r.jsx(Yc,{}),error:w.currentPassword}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Br,{label:"New Password",type:"password",name:"newPassword",value:g.newPassword,onChange:_,placeholder:"Enter new password (min 6 characters)",icon:r.jsx(Yc,{}),error:w.newPassword}),r.jsx(Br,{label:"Confirm New Password",type:"password",name:"confirmPassword",value:g.confirmPassword,onChange:_,placeholder:"Confirm new password",icon:r.jsx(Yc,{}),error:w.confirmPassword})]}),r.jsx("div",{className:"mt-4",children:r.jsx(tt,{type:"submit",variant:"primary",isLoading:t,icon:r.jsx(Tm,{}),children:"Update Password"})})]})]})]})]})})},ooe=({isOpen:n,onClose:t,stat:o})=>{if(!n||!o)return null;const i=m=>{m.target===m.currentTarget&&t()},h=(m=>{switch(m.toLowerCase()){case"total sales":return{description:"Total revenue generated from all completed orders",details:["Includes all successful transactions","Excludes cancelled and pending orders","Updated in real-time"]};case"new orders":return{description:"Number of new orders received in the last 24 hours",details:["Includes all order statuses","Refreshed every hour","Peak hours typically 10am-8pm"]};case"new customers":return{description:"Number of new customer registrations in the last 24 hours",details:["Counts verified accounts only","Includes both email and social logins","Conversion rate tracking available"]};case"low stock items":return{description:"Products with stock levels below 10 units",details:["Requires immediate attention","Includes all product variants","Auto-reorder recommendations available"]};default:return{description:"Statistical information about your business performance",details:["Data updated regularly","Historical trends available"]}}})(o.title);return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:i,children:r.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${o.color}15`,color:o.color},children:o.icon}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:o.title}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Detailed Information"})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:o.color},children:o.value}),r.jsxs("div",{className:`inline-flex items-center text-sm font-medium px-3 py-1 rounded-full ${o.isPositive?"bg-green-100":"bg-red-100"}`,style:{color:o.isPositive?"var(--success-color)":"var(--error-color)"},children:[o.isPositive?r.jsx(Vk,{className:"mr-1",size:14}):r.jsx(Fk,{className:"mr-1",size:14}),o.change," from last period"]})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Mm,{className:"mr-2"}),"About This Metric"]}),r.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:h.description}),r.jsx("ul",{className:"text-sm space-y-1",children:h.details.map((m,g)=>r.jsxs("li",{className:"flex items-start",style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"mr-2",children:""}),m]},g))})]})]})}),r.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},ioe=({title:n,value:t,icon:o,change:i,isPositive:l,color:h})=>{const m=as(),[g,y]=z.useState(!1),w=()=>{y(!0)},k=N=>{switch(N.toLowerCase()){case"new orders":return"/admin/orders";case"new customers":return"/admin/users";case"low stock items":return"/admin/inventory";default:return"/admin/dashboard"}},_=()=>{const N=k(n);N!=="/admin/dashboard"&&m(N)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-6 rounded-lg transition-all duration-300 hover:shadow-lg relative overflow-hidden cursor-pointer hover:scale-105 transform",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},onClick:w,onDoubleClick:_,title:`Click for details, double-click to navigate to ${k(n).split("/").pop()}`,children:[r.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 rounded-full opacity-10",style:{backgroundColor:h}}),r.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[r.jsx("div",{className:"p-3 rounded-full transition-transform duration-200 hover:scale-110",style:{backgroundColor:`${h}15`,color:h},children:o}),r.jsxs("div",{className:`flex items-center text-sm font-medium px-2.5 py-1 rounded-full ${l?"bg-green-100":"bg-red-100"}`,style:{color:l?"var(--success-color)":"var(--error-color)"},children:[l?r.jsx(Vk,{className:"mr-1",size:14}):r.jsx(Fk,{className:"mr-1",size:14}),i]})]}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:n}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:t})]}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{color:"var(--text-secondary)"},children:r.jsx(Mm,{size:16})})]}),r.jsx(ooe,{isOpen:g,onClose:()=>y(!1),stat:{title:n,value:t,icon:o,change:i,isPositive:l,color:h}})]})},aoe=({analytics:n})=>{const t=[{title:"Total Revenue",value:`$${n.totalRevenue.toLocaleString()}`,change:n.totalRevenueChange,icon:r.jsx(vm,{size:24}),color:"#f59e0b"},{title:"Net Revenue",value:`$${n.netRevenue.toLocaleString()}`,change:n.netRevenueChange,icon:r.jsx(_u,{size:24}),color:"#10b981"},{title:"Gross Profit",value:`$${n.grossProfit.toLocaleString()}`,change:n.grossProfitChange,icon:r.jsx(px,{size:24}),color:"#3b82f6"},{title:"Operating Costs",value:`$${n.operatingCosts.toLocaleString()}`,change:n.operatingCostsChange,icon:r.jsx(sO,{size:24}),color:"#ef4444"},{title:"Conversion Rate",value:`${n.conversionRate}%`,change:n.conversionRateChange,icon:r.jsx(jZ,{size:24}),color:"#8b5cf6"},{title:"Avg Order Value",value:`$${n.averageOrderValue}`,change:n.averageOrderValueChange,icon:r.jsx(vm,{size:24}),color:"#f59e0b"},{title:"Return Rate",value:`${n.returnRate}%`,change:n.returnRateChange,icon:r.jsx(TZ,{size:24}),color:"#ef4444"},{title:"Customer Acq. Cost",value:`$${n.customerAcquisitionCost}`,change:n.customerAcquisitionCostChange,icon:r.jsx(vm,{size:24}),color:"#06b6d4"}],o=({title:i,value:l,change:h,icon:m,color:g})=>{const y=h.startsWith("+"),w=h.startsWith("-"),k=i.includes("Cost")||i.includes("Return")?w:y;return r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${g}15`,color:g},children:m}),r.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${k?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:i}),r.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:l})]})]})};return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Business Analytics"}),r.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Last 30 days"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((i,l)=>r.jsx(o,{...i},l))})]})},fI=({statistics:n})=>{const t=[{title:"Total Orders",value:n.totalOrders.toLocaleString(),change:n.totalOrdersChange,icon:r.jsx(La,{size:20}),color:"#f59e0b",description:"All orders placed"},{title:"Pending",value:n.pendingOrders.toString(),change:n.pendingOrdersChange,icon:r.jsx(Zr,{size:20}),color:"#f59e0b",description:"Awaiting processing"},{title:"Processing",value:n.processingOrders.toString(),change:n.processingOrdersChange,icon:r.jsx(Va,{size:20}),color:"#3b82f6",description:"Being prepared"},{title:"Shipped",value:n.shippedOrders.toString(),change:n.shippedOrdersChange,icon:r.jsx(Er,{size:20}),color:"#8b5cf6",description:"On the way"},{title:"Delivered",value:n.deliveredOrders.toString(),change:n.deliveredOrdersChange,icon:r.jsx(On,{size:20}),color:"#10b981",description:"Successfully delivered"},{title:"Cancelled",value:n.cancelledOrders.toString(),change:n.cancelledOrdersChange,icon:r.jsx(fx,{size:20}),color:"#ef4444",description:"Cancelled by customer"},{title:"Returned",value:n.returnedOrders.toString(),change:n.returnedOrdersChange,icon:r.jsx(oO,{size:20}),color:"#f59e0b",description:"Returned items"},{title:"Refunded",value:n.refundedOrders.toString(),change:n.refundedOrdersChange,icon:r.jsx(bt,{size:20}),color:"#6b7280",description:"Refund processed"}],o=({title:h,value:m,change:g,icon:y,color:w,description:k})=>{const _=g.startsWith("+"),N=g.startsWith("-"),D=h==="Cancelled"||h==="Returned"||h==="Refunded"?N:_;return r.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"p-2 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${w}15`,color:w},children:y}),r.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${D?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:h}),r.jsx("p",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:m}),r.jsx("p",{className:"text-xs opacity-75",style:{color:"var(--text-secondary)"},children:k})]})]})},i=n.totalOrders,l=h=>(h/i*100).toFixed(1);return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Order Statistics"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Overview of all order statuses and trends"})]}),r.jsxs("div",{className:"text-right",style:{color:"var(--text-secondary)"},children:[r.jsx("div",{className:"text-xs",children:"Success Rate"}),r.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--success-color)"},children:[l(n.deliveredOrders),"%"]})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:t.map((h,m)=>r.jsx(o,{...h},m))}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Completed: ",l(n.deliveredOrders),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["In Progress: ",l(n.processingOrders+n.shippedOrders),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Issues: ",l(n.cancelledOrders+n.returnedOrders),"%"]})]})]}),r.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Last 30 days"})]})})]})},gI=({overview:n})=>{const t=[{title:"Total Customers",value:n.totalCustomers.toLocaleString(),change:n.totalCustomersChange,icon:r.jsx(ed,{size:24}),color:"#3b82f6",subtitle:"Registered users"},{title:"Active Customers",value:n.activeCustomers.toLocaleString(),change:n.activeCustomersChange,icon:r.jsx(zb,{size:24}),color:"#10b981",subtitle:"Active this month"},{title:"Total Delivery Men",value:n.totalDeliveryMen.toString(),change:n.totalDeliveryMenChange,icon:r.jsx(Er,{size:24}),color:"#f59e0b",subtitle:"In our network"},{title:"Active Delivery Men",value:n.activeDeliveryMen.toString(),change:n.activeDeliveryMenChange,icon:r.jsx(zb,{size:24}),color:"#8b5cf6",subtitle:"Currently active"}],o=[{label:"New Today",value:n.newCustomersToday,icon:r.jsx(VM,{size:16}),color:"#10b981"},{label:"This Week",value:n.newCustomersThisWeek,icon:r.jsx(Lo,{size:16}),color:"#3b82f6"},{label:"This Month",value:n.newCustomersThisMonth,icon:r.jsx(px,{size:16}),color:"#f59e0b"}],i=({title:h,value:m,change:g,icon:y,color:w,subtitle:k})=>{const _=g.startsWith("+");return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${w}15`,color:w},children:y}),r.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${_?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:h}),r.jsx("p",{className:"text-3xl font-bold mb-1",style:{color:"var(--text-primary)"},children:m}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:k})]})]})},l=({label:h,value:m,icon:g,color:y})=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{style:{color:y},children:g}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:h})]}),r.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:m})]});return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"User Overview"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Customer and delivery personnel statistics"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:t.map((h,m)=>r.jsx(i,{...h},m))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(VM,{className:"mr-2",size:16}),"New Customer Growth"]}),r.jsx("div",{className:"space-y-2",children:o.map((h,m)=>r.jsx(l,{...h},m))})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Gr,{className:"mr-2",size:16}),"Key Metrics"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Customer Lifetime Value"}),r.jsxs("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:["$",n.averageCustomerLifetimeValue]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Retention Rate"}),r.jsxs("span",{className:"font-bold text-green-600",children:[n.customerRetentionRate,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Delivery Coverage"}),r.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(n.activeDeliveryMen/n.totalDeliveryMen*100),"%"]})]})]})]})]})]})},loe=({products:n})=>{const[t,o]=z.useState(!1),i=t?n:n.slice(0,5),l=({product:h,index:m})=>r.jsxs("div",{className:"flex items-center p-4 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold mr-4",style:{backgroundColor:m<3?"var(--brand-primary)":"var(--bg-secondary)",color:m<3?"white":"var(--text-secondary)"},children:m+1}),r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center overflow-hidden",children:h.image?r.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",style:{color:"var(--text-secondary)"},children:"IMG"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h4",{className:"font-medium text-sm truncate pr-2",style:{color:"var(--text-primary)"},children:h.name}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:h.category})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 text-xs",style:{color:"var(--text-secondary)"},children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Gi,{size:12}),r.jsx("span",{children:h.views.toLocaleString()})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Xf,{size:12}),r.jsx("span",{children:h.wishlistCount})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(SZ,{size:12}),r.jsx("span",{children:h.shareCount})]})]}),r.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${h.viewsChange.startsWith("+")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.viewsChange})]})]}),r.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-lg ml-2",style:{color:"var(--text-secondary)"},children:r.jsx(Fb,{size:14})})]});return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Most Popular Products"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Based on views, engagement, and interactions"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("div",{className:"text-xs px-3 py-1 rounded-full bg-blue-100 text-blue-800",children:"Trending"})})]}),r.jsx("div",{className:"space-y-3",children:i.map((h,m)=>r.jsx(l,{product:h,index:m},h.id))}),n.length>5&&r.jsx("div",{className:"mt-4 text-center",children:r.jsx("button",{onClick:()=>o(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${n.length} Products`})}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:n.reduce((h,m)=>h+m.views,0).toLocaleString()}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Views"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:n.reduce((h,m)=>h+m.wishlistCount,0).toLocaleString()}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Wishlisted"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:n.reduce((h,m)=>h+m.shareCount,0)}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Shared"})]})]})})]})},coe=({products:n})=>{const[t,o]=z.useState(!1),[i,l]=z.useState("revenue"),h=[{value:"revenue",label:"Revenue"},{value:"unitsSold",label:"Units Sold"},{value:"profit",label:"Profit"},{value:"profitMargin",label:"Profit Margin"}],m=[...n].sort((_,N)=>i==="revenue"||i==="profit"?N[i]-_[i]:i==="unitsSold"?N.unitsSold-_.unitsSold:i==="profitMargin"?N.profitMargin-_.profitMargin:0),g=t?m:m.slice(0,5),y=_=>`$${_.toLocaleString()}`,w=_=>_.toLocaleString(),k=({product:_,index:N})=>{const D=T=>T===0?"#FFD700":T===1?"#C0C0C0":T===2?"#CD7F32":"var(--bg-secondary)";return r.jsxs("div",{className:"flex items-center p-4 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold mr-4",style:{backgroundColor:D(N),color:N<3?"white":"var(--text-secondary)"},children:N+1}),r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center overflow-hidden",children:_.image?r.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",style:{color:"var(--text-secondary)"},children:"IMG"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-sm truncate pr-2",style:{color:"var(--text-primary)"},children:_.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((T,R)=>r.jsx(Gr,{size:12,className:R<Math.floor(_.rating)?"text-yellow-400":"text-gray-300",fill:R<Math.floor(_.rating)?"currentColor":"none"},R)),r.jsx("span",{className:"text-xs ml-1",style:{color:"var(--text-secondary)"},children:_.rating})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:w(_.unitsSold)}),r.jsx("div",{style:{color:"var(--text-secondary)"},children:"Units"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:y(_.revenue)}),r.jsx("div",{style:{color:"var(--text-secondary)"},children:"Revenue"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:y(_.profit)}),r.jsx("div",{style:{color:"var(--text-secondary)"},children:"Profit"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-green-600",children:[_.profitMargin,"%"]}),r.jsx("div",{style:{color:"var(--text-secondary)"},children:"Margin"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:_.category}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${_.stock>50?"bg-green-100 text-green-800":_.stock>20?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Stock: ",_.stock]})})]})]}),r.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-lg ml-2",style:{color:"var(--text-secondary)"},children:r.jsx(Fb,{size:14})})]})};return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Selling Products"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Best performing products by sales metrics"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:i,onChange:_=>l(_.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:h.map(_=>r.jsxs("option",{value:_.value,children:["Sort by ",_.label]},_.value))})})]}),r.jsx("div",{className:"space-y-3",children:g.map((_,N)=>r.jsx(k,{product:_,index:N},_.id))}),n.length>5&&r.jsx("div",{className:"mt-4 text-center",children:r.jsx("button",{onClick:()=>o(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${n.length} Products`})}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:w(n.reduce((_,N)=>_+N.unitsSold,0))}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Units Sold"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:y(n.reduce((_,N)=>_+N.revenue,0))}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Revenue"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:y(n.reduce((_,N)=>_+N.profit,0))}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Profit"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(n.reduce((_,N)=>_+N.profit,0)/n.reduce((_,N)=>_+N.revenue,0)*100).toFixed(1),"%"]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Profit Margin"})]})]})})]})},doe=({deliveryMen:n})=>{const[t,o]=z.useState(!1),[i,l]=z.useState("totalDeliveries"),h=[{value:"totalDeliveries",label:"Total Deliveries"},{value:"successRate",label:"Success Rate"},{value:"averageRating",label:"Customer Rating"},{value:"totalEarnings",label:"Total Earnings"},{value:"onTimeDeliveryRate",label:"On-Time Rate"}],m=[...n].sort((_,N)=>i==="totalEarnings"?N.totalEarnings-_.totalEarnings:N[i]-_[i]),g=t?m:m.slice(0,5),y=_=>_===0?{bg:"#FFD700",text:"#B8860B",label:""}:_===1?{bg:"#C0C0C0",text:"#708090",label:""}:_===2?{bg:"#CD7F32",text:"#8B4513",label:""}:{bg:"var(--bg-secondary)",text:"var(--text-secondary)",label:_+1},w=_=>_>=95?"#10b981":_>=90?"#f59e0b":"#ef4444",k=({deliveryMan:_,index:N})=>{const D=y(N);return r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full font-bold text-sm",style:{backgroundColor:D.bg,color:D.text},children:D.label}),r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:_.avatar?r.jsx("img",{src:_.avatar,alt:_.name,className:"w-full h-full object-cover"}):r.jsx(Er,{size:20,style:{color:"var(--text-secondary)"}})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:_.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Gr,{size:12,className:"text-yellow-400",fill:"currentColor"}),r.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)"},children:_.averageRating}),r.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["(",_.totalDeliveries,")"]})]})]})]}),r.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:r.jsx(nO,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:_.thisMonthDeliveries}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"This Month"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-bold",style:{color:w(_.successRate)},children:[_.successRate,"%"]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Success Rate"})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"On-Time Delivery"}),r.jsxs("span",{className:"font-medium",style:{color:w(_.onTimeDeliveryRate)},children:[_.onTimeDeliveryRate,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Customer Feedback"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Gr,{size:10,className:"text-yellow-400",fill:"currentColor"}),r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:_.customerFeedback})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Total Earnings"}),r.jsxs("span",{className:"font-medium text-green-600",children:["$",_.totalEarnings.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Active Hours/Day"}),r.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:[_.activeHours,"h"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsx("span",{className:"text-xs font-medium text-green-600",children:"Active"})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-xs",style:{color:"var(--text-secondary)"},children:[r.jsx(Zr,{size:10}),r.jsx("span",{children:"Online"})]})]})]})};return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Delivery Personnel"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Best performing delivery team members"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:i,onChange:_=>l(_.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:h.map(_=>r.jsxs("option",{value:_.value,children:["Sort by ",_.label]},_.value))})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((_,N)=>r.jsx(k,{deliveryMan:_,index:N},_.id))}),n.length>5&&r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>o(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${n.length} Delivery Personnel`})}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:n.reduce((_,N)=>_+N.totalDeliveries,0).toLocaleString()}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Deliveries"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(n.reduce((_,N)=>_+N.successRate,0)/n.length).toFixed(1),"%"]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Success Rate"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:(n.reduce((_,N)=>_+N.averageRating,0)/n.length).toFixed(1)}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Rating"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",n.reduce((_,N)=>_+N.totalEarnings,0).toLocaleString()]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Earnings"})]})]})})]})},uoe=({customers:n})=>{const[t,o]=z.useState(!1),[i,l]=z.useState("totalSpent"),h=[{value:"totalSpent",label:"Total Spent"},{value:"totalOrders",label:"Total Orders"},{value:"averageOrderValue",label:"Avg Order Value"},{value:"lastOrderDate",label:"Recent Activity"}],m=[...n].sort((_,N)=>i==="lastOrderDate"?new Date(N.lastOrderDate)-new Date(_.lastOrderDate):N[i]-_[i]),g=t?m:m.slice(0,5),y=_=>{switch(_.toLowerCase()){case"platinum":return{bg:"#E5E7EB",text:"#374151",icon:"",color:"#6B7280"};case"gold":return{bg:"#FEF3C7",text:"#92400E",icon:"",color:"#D97706"};case"silver":return{bg:"#F3F4F6",text:"#4B5563",icon:"",color:"#6B7280"};default:return{bg:"#DBEAFE",text:"#1E40AF",icon:"",color:"#3B82F6"}}},w=_=>{const D=Math.abs(new Date-new Date(_)),T=Math.floor(D/(1e3*60*60*24));return T===0?"Today":T===1?"Yesterday":T<7?`${T} days ago`:T<30?`${Math.floor(T/7)} weeks ago`:T<365?`${Math.floor(T/30)} months ago`:`${Math.floor(T/365)} years ago`},k=({customer:_,index:N})=>{const D=y(_.loyaltyLevel),T=_.totalSpent>5e3;return r.jsxs("div",{className:`bg-white p-6 rounded-lg border hover:shadow-md transition-all duration-200 group ${T?"border-yellow-200 bg-gradient-to-br from-yellow-50 to-white":"border-gray-100"}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold",style:{backgroundColor:N<3?"var(--brand-primary)":"var(--bg-secondary)",color:N<3?"white":"var(--text-secondary)"},children:N+1}),r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:_.avatar?r.jsx("img",{src:_.avatar,alt:_.name,className:"w-full h-full object-cover"}):r.jsx(ed,{size:20,style:{color:"var(--text-secondary)"}})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:_.name}),T&&r.jsx(Gr,{className:"text-yellow-500",size:14})]}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:_.email})]})]}),r.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",style:{backgroundColor:D.bg,color:D.text},children:[r.jsx("span",{children:D.icon}),r.jsx("span",{children:_.loyaltyLevel})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",_.totalSpent.toLocaleString()]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Spent"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:_.totalOrders}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Orders"})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Order Value"}),r.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["$",_.averageOrderValue.toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Last Order"}),r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:w(_.lastOrderDate)})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Customer Since"}),r.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:w(_.signupDate)})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Favorite Category"}),r.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:_.favoriteCategory})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"var(--text-secondary)"},title:"Send Email",children:r.jsx(sd,{size:14})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"var(--text-secondary)"},title:"View Profile",children:r.jsx(ed,{size:14})})]}),r.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:r.jsx(nO,{size:14})})]})]})};return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Customers"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Most valuable customers by spending and engagement"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:i,onChange:_=>l(_.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:h.map(_=>r.jsxs("option",{value:_.value,children:["Sort by ",_.label]},_.value))})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((_,N)=>r.jsx(k,{customer:_,index:N},_.id))}),n.length>5&&r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>o(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${n.length} Customers`})}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",n.reduce((_,N)=>_+N.totalSpent,0).toLocaleString()]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Combined Spending"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:n.reduce((_,N)=>_+N.totalOrders,0)}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Orders"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["$",(n.reduce((_,N)=>_+N.averageOrderValue,0)/n.length).toFixed(2)]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Order Value"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:n.filter(_=>_.loyaltyLevel==="Platinum").length}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"VIP Customers"})]})]})})]})},hoe=()=>{const[n,t]=z.useState(null),[o,i]=z.useState("last30days"),[l,h]=z.useState(!1),m=[{title:"Financial Reports",reports:[{id:"revenue",title:"Revenue Report",description:"Provides a broad overview of the financial status of a store.",details:"Reports gross revenue, refunds, the value of coupons used, taxes collected, shipping costs, and net revenue for a selected date range",icon:r.jsx(vm,{size:20}),color:"#10b981",estimatedTime:"2-3 minutes"},{id:"tax",title:"Tax Report",description:"Compares tax report data by different tax codes",details:"Compares multiple tax codes, and displays data on how much tax was collected for orders and shipping",icon:r.jsx(ZP,{size:20}),color:"#6b7280",estimatedTime:"1-2 minutes"}]},{title:"Sales & Orders",reports:[{id:"orders",title:"Orders Report",description:"Reports the total number of orders, net revenue, the average order value.",details:"Reports the total number of orders, net revenue, the average order value, and the average number of items per order for a selected date range",icon:r.jsx(La,{size:20}),color:"#3b82f6",estimatedTime:"2-3 minutes"},{id:"order-detailed",title:"Detailed Order Report",description:"Filters order data for a given time period by order status.",details:"Filters order data for a given time period by order status (i.e., pending and complete), product (orders with or without certain products), coupon codes (coupon codes were/were not used on orders), and new and returning customers.",icon:r.jsx(_u,{size:20}),color:"#8b5cf6",estimatedTime:"3-4 minutes"}]},{title:"Product Analytics",reports:[{id:"product",title:"Product Report",description:"Displays and compares sales information for a given time period by product",details:"Comprehensive product performance analysis including sales, revenue, and trends",icon:r.jsx(bt,{size:20}),color:"#f59e0b",estimatedTime:"3-5 minutes"},{id:"stock",title:"Stock Report",description:"Displays the store's entire product catalog by stock status.",details:"Displays the store's entire product catalog by products that are in stock, low stock, and out of stock.",icon:r.jsx(_u,{size:20}),color:"#ef4444",estimatedTime:"2-3 minutes"},{id:"product-comparison",title:"Product Comparison Report",description:"Performs highly customized analysis of sales data.",details:"Performs highly customized analysis of sales data by comparing the performance of different product/s and variation/s over a specified date range.",icon:r.jsx(px,{size:20}),color:"#06b6d4",estimatedTime:"4-6 minutes"},{id:"category",title:"Category Report",description:"Filters by all categories, single category, category comparison.",details:"Filters by all categories, a single category, category comparison, viewing top categories by items sold, and top categories by net revenue.",icon:r.jsx(sO,{size:20}),color:"#8b5cf6",estimatedTime:"3-4 minutes"}]},{title:"Customer Analytics",reports:[{id:"customers",title:"Customers Report",description:"Displays Customer Data: Name, Sign Up date, Email, number of Orders.",details:"Displays Customer Data: Name, Sign Up date, Email, number of Orders, Lifetime Spend, Average Order Value, Last Purchase Date, and Country. Provides a look into all customer data for a store, listing all registered and unregistered customers along with pertinent data about each customer such as email address, number of orders, lifetime spend, and average order value.",icon:r.jsx(ed,{size:20}),color:"#10b981",estimatedTime:"3-5 minutes"}]},{title:"Marketing & Promotions",reports:[{id:"coupons",title:"Coupons Report",description:"Compares multiple coupon codes to display usage and discounts.",details:"Compares multiple coupon codes to display how many orders used coupons and the total amount discounted. Uses advanced filters to compare coupons, and a few preset filters to displays Top Coupons by Discounted Orders or Amount Discounted using preset filters",icon:r.jsx($P,{size:20}),color:"#f59e0b",estimatedTime:"2-3 minutes"}]},{title:"System Reports",reports:[{id:"downloads",title:"Downloads Report",description:"Allows filtering of Downloads by product, username, order number.",details:"Allows filtering of Downloads by product, username, order number, and IP address",icon:r.jsx(ui,{size:20}),color:"#6b7280",estimatedTime:"1-2 minutes"}]}],g=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last90days",label:"Last 90 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisYear",label:"This Year"},{value:"custom",label:"Custom Range"}],y=async k=>{var _;h(!0),t(k),await new Promise(N=>setTimeout(N,2e3)),h(!1),alert(`${(_=m.flatMap(N=>N.reports).find(N=>N.id===k))==null?void 0:_.title} has been generated and is ready for download!`)},w=({report:k})=>r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},onClick:()=>y(k.id),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${k.color}15`,color:k.color},children:k.icon}),r.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:k.estimatedTime})]}),r.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-blue-600 transition-colors",style:{color:"var(--text-primary)"},children:k.title}),r.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:"var(--text-secondary)"},children:k.description}),r.jsx("p",{className:"text-xs mb-4 line-clamp-3",style:{color:"var(--text-secondary)"},children:k.details}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-xs",style:{color:"var(--text-secondary)"},children:[r.jsx(Gi,{size:12}),r.jsx("span",{children:"View Details"})]}),r.jsx("button",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${l&&n===k.id?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,disabled:l&&n===k.id,children:l&&n===k.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-gray-600"}),r.jsx("span",{children:"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ui,{size:14}),r.jsx("span",{children:"Generate"})]})})]})]});return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Reports Dashboard"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Generate comprehensive business reports and analytics"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lo,{size:16,style:{color:"var(--text-secondary)"}}),r.jsx("select",{value:o,onChange:k=>i(k.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:g.map(k=>r.jsx("option",{value:k.value,children:k.label},k.value))})]})})]}),r.jsx("div",{className:"space-y-8",children:m.map((k,_)=>r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx("div",{className:"w-1 h-6 rounded-full mr-3",style:{backgroundColor:"var(--brand-primary)"}}),k.title]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.reports.map(N=>r.jsx(w,{report:N},N.id))})]},_))}),r.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[r.jsx(_u,{size:14}),r.jsx("span",{children:"Schedule Reports"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm",children:[r.jsx(ui,{size:14}),r.jsx("span",{children:"Export All Data"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:[r.jsx(nd,{size:14}),r.jsx("span",{children:"Custom Report Builder"})]})]})]})]})},hu=(n,t="status")=>n.reduce((o,i)=>{const l=i[t];return o[l]=(o[l]||0)+1,o},{}),zo=un(Gf((n,t)=>({dashboard:{stats:[],salesData:[],topProducts:[],recentOrders:[],loading:!1},orders:{list:[],loading:!1,statusCounts:{},error:null},users:{list:[],loading:!1,statusCounts:{},error:null},products:{list:[],loading:!1,error:null},returns:{list:[],loading:!1,statusCounts:{}},deliveryPartners:{list:[],loading:!1,error:null},getUserById:async o=>{try{return(await $e.get(`/admin/users/${o}/`)).data.user}catch(i){return console.error(`Failed to fetch user ${o}:`,i),null}},getProductById:async o=>{try{return(await $e.get(`/admin/products/${o}/`)).data.product}catch(i){return console.error(`Failed to fetch product ${o}:`,i),null}},userCache:new Map,productCache:new Map,getCachedUser:async o=>{const i=t().userCache.get(o);if(i)return i;const l=await t().getUserById(o);return l&&n(h=>{const m=new Map(h.userCache);return m.set(o,l),{userCache:m}}),l},getCachedProduct:async o=>{const i=t().productCache.get(o);if(i)return i;const l=await t().getProductById(o);return l&&n(h=>{const m=new Map(h.productCache);return m.set(o,l),{productCache:m}}),l},footer:{config:null,loading:!1,error:null},fetchFooterConfig:async()=>{n(o=>({footer:{...o.footer,loading:!0,error:null}}));try{const o=await fetch("/api/admin/footer/"),i=await o.json();return o.ok?(n(l=>({footer:{...l.footer,config:i.footer_config,loading:!1}})),{success:!0,data:i.footer_config}):(n(l=>({footer:{...l.footer,error:i.error||"Failed to fetch footer configuration",loading:!1}})),{success:!1,error:i.error})}catch{const i="Network error occurred";return n(l=>({footer:{...l.footer,error:i,loading:!1}})),{success:!1,error:i}}},updateFooterConfig:async o=>{n(i=>({footer:{...i.footer,loading:!0,error:null}}));try{const i=localStorage.getItem("adminToken"),l=await fetch("/api/admin/footer/update/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({footer_config:o})}),h=await l.json();return l.ok?(n(m=>({footer:{...m.footer,config:o,loading:!1}})),{success:!0}):(n(m=>({footer:{...m.footer,error:h.error||"Failed to update footer configuration",loading:!1}})),{success:!1,error:h.error})}catch{const l="Network error occurred";return n(h=>({footer:{...h.footer,error:l,loading:!1}})),{success:!1,error:l}}},addFooterLink:async(o,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch("/api/admin/footer/links/add/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({section:o,...i})}),m=await h.json();return h.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:m.error||"Failed to add link"}}catch{return{success:!1,error:"Network error occurred"}}},deleteFooterLink:async(o,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch(`/api/admin/footer/links/${o}/${i}/delete/`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}});return h.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:(await h.json()).error||"Failed to delete link"}}catch{return{success:!1,error:"Network error occurred"}}},updateSocialLink:async(o,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch(`/api/admin/footer/social-links/${o}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(i)}),m=await h.json();return h.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:m.error||"Failed to update social link"}}catch{return{success:!1,error:"Network error occurred"}}},toggleFooterSection:async(o,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch(`/api/admin/footer/sections/${o}/toggle/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({enabled:i})}),m=await h.json();return h.ok?(n(g=>({footer:{...g.footer,config:{...g.footer.config,[o]:{...g.footer.config[o],enabled:i}}}})),{success:!0}):{success:!1,error:m.error||"Failed to toggle section"}}catch{return{success:!1,error:"Network error occurred"}}},fetchDashboardData:async()=>{n(o=>({dashboard:{...o.dashboard,loading:!0}}));try{const[o,i,l]=await Promise.all([$e.get("/admin/get_all_orders"),$e.get("/admin/get_all_users"),$e.get("/admin/get_all_products")]),h=o.data.orders||[],m=i.data.users||[],g=l.data.products||[],y=new Date,w=new Date(y.getTime()-24*60*60*1e3),k=new Date(y.getFullYear(),y.getMonth()-1,y.getDate()),_=h.filter(Z=>Z.status!=="cancelled"&&Z.status!=="pending_payment"),N=_.reduce((Z,de)=>Z+(de.total_amount||0),0),T=_.filter(Z=>{const de=new Date(Z.created_at);return de>=k&&de<new Date(y.getFullYear(),y.getMonth(),1)}).reduce((Z,de)=>Z+(de.total_amount||0),0),R=T>0?((N-T)/T*100).toFixed(1):0,P=h.filter(Z=>new Date(Z.created_at)>=w).length,F=m.filter(Z=>new Date(Z.created_at)>=w).length,V=g.filter(Z=>(Z.stock||0)<10).length,G=[{title:"Total Sales",value:`${N.toLocaleString()}`,change:`${R>=0?"+":""}${R}%`,isPositive:R>=0},{title:"New Orders",value:P.toString(),change:"+8.2%",isPositive:!0},{title:"New Customers",value:F.toString(),change:"+5.7%",isPositive:!0},{title:"Low Stock Items",value:V.toString(),change:V>0?"-2.3%":"0%",isPositive:V===0}],Y={};_.forEach(Z=>{var de;(de=Z.order_items)==null||de.forEach(ne=>{Y[ne.product_id]||(Y[ne.product_id]={id:ne.product_id,name:ne.name||"Unknown Product",sales:0,revenue:0}),Y[ne.product_id].sales+=ne.quantity||1,Y[ne.product_id].revenue+=ne.total_item_price||0})});const ee=Object.values(Y).sort((Z,de)=>de.revenue-Z.revenue).slice(0,5),le={},J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let Z=0;Z<12;Z++){const de=J[Z];le[de]=0}_.forEach(Z=>{const de=new Date(Z.created_at),ne=J[de.getMonth()];le[ne]+=Z.total_amount||0});const B=Object.entries(le).map(([Z,de])=>({month:Z,sales:Math.round(de)})),W=h.sort((Z,de)=>new Date(de.created_at)-new Date(Z.created_at)).slice(0,5);n({dashboard:{stats:G,salesData:B,topProducts:ee,recentOrders:W,loading:!1}})}catch(o){console.error("Dashboard data fetch error:",o),n(i=>{var l,h;return{dashboard:{...i.dashboard,loading:!1,error:((h=(l=o.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch dashboard data"}}})}},fetchOrders:async()=>{n(o=>({orders:{...o.orders,loading:!0,error:null}}));try{const i=(await $e.get("/admin/get_all_orders")).data.orders,l=hu(i);n({orders:{list:i,statusCounts:l,loading:!1,error:null}})}catch(o){n(i=>{var l,h;return{orders:{...i.orders,loading:!1,error:((h=(l=o.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch orders"}}})}},updateOrderStatus:async(o,i)=>{n(l=>({orders:{...l.orders,loading:!0,error:null}}));try{const l=await $e.put(`/admin/order/edit/${o}/`,{status:i});(l.data.message||l.status===200)&&n(h=>{const m=h.orders.list.map(y=>y.order_id===o?{...y,status:i}:y),g=hu(m);return{orders:{list:m,statusCounts:g,loading:!1,error:null}}})}catch(l){n(h=>{var m,g;return{orders:{...h.orders,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to update order status"}}})}},editOrder:async(o,i,l)=>{n(h=>({orders:{...h.orders,loading:!0,error:null}}));try{const h=await $e.put(`/admin/users/${o}/orders/${i}/edit/`,l);if(h.data.message||h.status===200)return n(m=>{const g=m.orders.list.map(y=>y.order_id===i?{...y,...l}:y);return{orders:{list:g,statusCounts:hu(g),loading:!1,error:null}}}),h.data}catch(h){throw n(m=>{var g,y;return{orders:{...m.orders,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to edit order"}}}),h}},assignOrderToDeliveryPartner:async(o,i,l)=>{var h,m;if(!l){const g="Partner ID is required. Please select a delivery partner.";throw n(y=>({orders:{...y.orders,loading:!1,error:g}})),console.error(g),new Error(g)}n(g=>({orders:{...g.orders,loading:!0,error:null}}));try{const g=await $e.post(`/admin/users/${o}/orders/${i}/assign-partner/`,{partner_id:l});if(g.data.message||g.status===200)return n(y=>{const w=y.orders.list.map(_=>_.order_id===i?{..._,assigned_partner_id:l,delivery_status:"assigned",status:"assigned"}:_),k=hu(w);return{orders:{list:w,statusCounts:k,loading:!1,error:null}}}),g.data}catch(g){const y=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to assign delivery partner";throw n(w=>({orders:{...w.orders,loading:!1,error:y}})),console.error("Error in assignOrderToDeliveryPartner:",g),g}},fetchProducts:async()=>{n(o=>({products:{...o.products,loading:!0,error:null}}));try{const i=(await $e.get("/admin/get_all_products")).data.products;n({products:{list:i,loading:!1,error:null}})}catch(o){n(i=>{var l,h;return{products:{...i.products,loading:!1,error:((h=(l=o.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch products"}}})}},updateProduct:async(o,i)=>{n(l=>({products:{...l.products,loading:!0,error:null}}));try{(await $e.put(`/admin/products/edit/${o}/`,i)).data.success&&n(h=>({products:{list:h.products.list.map(g=>g.id===o?{...g,...i}:g),loading:!1,error:null}}))}catch(l){n(h=>{var m,g;return{products:{...h.products,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to update product"}}})}},addProduct:async o=>{n(i=>({products:{...i.products,loading:!0,error:null}}));try{const i=await $e.post("/admin/products/add/",o);i.data.success&&n(l=>({products:{list:[...l.products.list,i.data.product],loading:!1,error:null}}))}catch(i){n(l=>{var h,m;return{products:{...l.products,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to add product"}}})}},deleteProduct:async o=>{n(i=>({products:{...i.products,loading:!0,error:null}}));try{(await $e.delete(`/admin/delete-product/${o}/`)).data.success&&n(l=>({products:{list:l.products.list.filter(h=>h.id!==o),loading:!1,error:null}}))}catch(i){n(l=>{var h,m;return{products:{...l.products,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to delete product"}}})}},fetchUsers:async()=>{n(o=>({users:{...o.users,loading:!0,error:null}}));try{const i=(await $e.get("/admin/get_all_users")).data.users,l=hu(i,"status");n({users:{list:i,statusCounts:l,loading:!1,error:null}})}catch(o){n(i=>{var l,h;return{users:{...i.users,loading:!1,error:((h=(l=o.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch users"}}})}},updateUserStatus:async o=>{n(i=>({users:{...i.users,loading:!0,error:null}}));try{const i=await $e.patch(`/admin/users/ban/${o}/`);i.data.message&&n(l=>{const h=l.users.list.map(g=>g.id===o?{...g,is_banned:i.data.is_banned,status:i.data.is_banned?"banned":"active"}:g),m=hu(h,"status");return{users:{list:h,statusCounts:m,loading:!1,error:null}}})}catch(i){n(l=>{var h,m;return{users:{...l.users,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to update user status"}}})}},banUser:async o=>{n(i=>({users:{...i.users,loading:!0,error:null}}));try{(await $e.post(`/admin/users/ban/${o}/`)).data.success&&n(l=>{const h=l.users.list.map(m=>m.id===o?{...m,is_banned:!0}:m);return{users:{...l.users,list:h,loading:!1,error:null}}})}catch(i){n(l=>{var h,m;return{users:{...l.users,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to ban user"}}})}},fetchReturns:async()=>{n(h=>({returns:{...h.returns,loading:!0}}));const i=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",requestDate:"2023-05-10",status:"pending",refundAmount:49.99},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",requestDate:"2023-05-12",status:"approved",refundAmount:89.99},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",requestDate:"2023-05-15",status:"rejected",refundAmount:159.97}],l=hu(i);n({returns:{list:i,statusCounts:l,loading:!1}})},updateReturnStatus:async(o,i)=>{n(l=>({returns:{...l.returns,loading:!0}})),n(l=>{const h=l.returns.list.map(g=>g.id===o?{...g,status:i}:g),m=hu(h);return{returns:{list:h,statusCounts:m,loading:!1}}})},fetchDeliveryPartners:async()=>{n(o=>({deliveryPartners:{...o.deliveryPartners,loading:!0,error:null}}));try{const o=await $e.get("/partners/all/");return n({deliveryPartners:{list:o.data.partners,loading:!1,error:null}}),o.data.partners}catch(o){throw n(i=>{var l,h;return{deliveryPartners:{...i.deliveryPartners,loading:!1,error:((h=(l=o.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch delivery partners"}}}),o}},verifyDeliveryPartner:async o=>{n(i=>({deliveryPartners:{...i.deliveryPartners,loading:!0,error:null}}));try{const i=await $e.patch(`/partners/verify/${o}/`,{});return n(l=>({deliveryPartners:{list:l.deliveryPartners.list.map(m=>m.partner_id===o?{...m,is_verified:!0}:m),loading:!1,error:null}})),i.data}catch(i){throw n(l=>{var h,m;return{deliveryPartners:{...l.deliveryPartners,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to verify delivery partner"}}}),i}},assignDeliveryPartner:async(o,i,l)=>{n(h=>({deliveryPartners:{...h.deliveryPartners,loading:!0,error:null}}));try{const h=await $e.post(`/admin/users/${o}/orders/${i}/assign-partner/`,{partner_id:l});return await zo.getState().fetchOrders(),n(m=>({deliveryPartners:{...m.deliveryPartners,loading:!1}})),h.data}catch(h){throw n(m=>{var g,y;return{deliveryPartners:{...m.deliveryPartners,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to assign delivery partner"}}}),h}}}))),moe=({isOpen:n,onClose:t,order:o})=>{var D,T,R,P,F,V;const{getCachedUser:i}=zo(),[l,h]=z.useState(null),[m,g]=z.useState(!1);if(gt.useEffect(()=>{o!=null&&o.user_id&&n&&(g(!0),i(o.user_id).then(G=>{h(G)}).catch(G=>{console.error("Failed to fetch customer data:",G)}).finally(()=>{g(!1)}))},[o==null?void 0:o.user_id,n,i]),!n||!o)return null;const y=G=>{G.target===G.currentTarget&&t()},w=G=>{if(!G)return"N/A";try{return new Date(G).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},_=(G=>{switch(G){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:r.jsx(On,{size:16})};case"processing":case"payment_successful":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:r.jsx(Zr,{size:16})};case"shipped":case"assigned":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:r.jsx(Er,{size:16})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:r.jsx(fx,{size:16})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:r.jsx(Zr,{size:16})}}})(o.status),N=((D=o.order_items)==null?void 0:D.reduce((G,Y)=>G+(Y.quantity||1),0))||0;return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:y,children:r.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:G=>G.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(bt,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["#",((T=o.order_id)==null?void 0:T.slice(-8))||"N/A"]})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)] p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Order Status"}),r.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:_.bgColor,color:_.textColor},children:[r.jsx("span",{className:"mr-2",children:_.icon}),((P=(R=o.status)==null?void 0:R.replace("_"," "))==null?void 0:P.charAt(0).toUpperCase())+((V=(F=o.status)==null?void 0:F.replace("_"," "))==null?void 0:V.slice(1))||"Unknown"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Order Date"}),r.jsx("p",{style:{color:"var(--text-primary)"},children:w(o.created_at)})]}),r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Total Amount"}),r.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",(o.total_amount||0).toLocaleString()]})]})]})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(xs,{className:"mr-2"}),"Customer Information"]}),m?r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):l?r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Name"}),r.jsx("p",{style:{color:"var(--text-primary)"},children:l.name||l.email||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Email"}),r.jsx("p",{style:{color:"var(--text-primary)"},children:l.email||"N/A"})]}),l.phone&&r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Phone"}),r.jsx("p",{style:{color:"var(--text-primary)"},children:l.phone})]})]}):r.jsxs("p",{style:{color:"var(--text-secondary)"},children:["Customer ID: ",o.user_id]})]}),o.order_items&&o.order_items.length>0&&r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:["Order Items (",N," items)"]}),r.jsxs("div",{className:"space-y-3",children:[o.order_items.slice(0,3).map((G,Y)=>r.jsxs("div",{className:"flex items-center p-3 rounded-md",style:{backgroundColor:"var(--bg-primary)"},children:[G.image_url&&r.jsx("img",{src:G.image_url,alt:G.name||"Product",className:"w-12 h-12 object-cover rounded-md mr-3",onError:ee=>{ee.target.style.display="none"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:G.name||"Unknown Product"}),r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Quantity: ",G.quantity||1,"  ",(G.price||0).toLocaleString()]})]}),r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((G.price||0)*(G.quantity||1)).toLocaleString()]})]},Y)),o.order_items.length>3&&r.jsxs("p",{className:"text-sm text-center py-2",style:{color:"var(--text-secondary)"},children:["+",o.order_items.length-3," more items"]})]})]})]})}),r.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},poe=()=>{const n=as(),[t,o]=z.useState("all"),[i,l]=z.useState(null),[h,m]=z.useState(!1),{dashboard:g}=zo(),{recentOrders:y}=g,w=R=>{if(!R)return"N/A";try{return new Date(R).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},k=R=>R?`Customer ${R.slice(-4)}`:"Unknown Customer",_=R=>{switch(R){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:r.jsx(On,{size:14})};case"processing":case"payment_successful":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:r.jsx(Zr,{size:14})};case"shipped":case"assigned":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:r.jsx(Er,{size:14})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:r.jsx(fx,{size:14})};case"pending_payment":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:r.jsx(Vi,{size:14})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:r.jsx(Zr,{size:14})}}},N=t==="all"?y||[]:(y||[]).filter(R=>R.status===t),D=R=>{l(R),m(!0)},T=()=>{n("/admin/orders")};return!y||y.length===0?r.jsx("div",{className:"p-6 rounded-lg h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:r.jsxs("div",{className:"text-center",children:[r.jsx(Zr,{size:32,className:"mx-auto mb-3",style:{color:"var(--text-secondary)"}}),r.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No Recent Orders"}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Recent orders will appear here once customers start placing orders."})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Recent Orders"}),r.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2 sm:mt-0",children:[r.jsxs("div",{className:"relative rounded-md",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(mi,{className:"h-4 w-4",style:{color:"var(--text-secondary)"}})}),r.jsx("input",{type:"text",placeholder:"Search orders...",className:"py-1.5 pl-9 pr-4 block w-full text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"}})]}),r.jsxs("select",{value:t,onChange:R=>o(R.target.value),className:"py-1.5 px-3 text-sm border rounded-md appearance-none bg-white",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("option",{value:"all",children:"All Orders"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"shipped",children:"Shipped"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),r.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),r.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),r.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),r.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:N.map(R=>{var F,V,G,Y,ee;const P=_(R.status);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["#",((F=R.order_id)==null?void 0:F.slice(-8))||"N/A"]}),r.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-primary)"},children:k(R.user_id)}),r.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-secondary)"},children:w(R.created_at)}),r.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["",(R.total_amount||0).toLocaleString()]}),r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:P.bgColor,color:P.textColor},children:[r.jsx("span",{className:"mr-1.5",children:P.icon}),((G=(V=R.status)==null?void 0:V.replace("_"," "))==null?void 0:G.charAt(0).toUpperCase())+((ee=(Y=R.status)==null?void 0:Y.replace("_"," "))==null?void 0:ee.slice(1))||"Unknown"]})}),r.jsx("td",{className:"py-4 text-right",children:r.jsxs("button",{onClick:()=>D(R),className:"flex items-center text-xs hover:underline",style:{color:"var(--brand-primary)"},children:[r.jsx(Gi,{size:14,className:"mr-1"}),"Details"]})})]},R.order_id)})})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:T,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:["View All Orders",r.jsx(_n,{size:16,className:"ml-1"})]})})]}),r.jsx(moe,{isOpen:h,onClose:()=>m(!1),order:i})]})},yI=()=>{const[n,t]=z.useState("yearly"),{dashboard:o}=zo(),{salesData:i}=o,l=(i==null?void 0:i.reduce((h,m)=>h+(m.sales||0),0))||0;return r.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Sales Overview"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total sales and revenue"})]}),r.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[r.jsxs("div",{className:"border rounded-md flex items-center px-3 py-1.5",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[r.jsx(Lo,{size:14,className:"mr-2"}),r.jsxs("select",{value:n,onChange:h=>t(h.target.value),className:"text-sm bg-transparent border-none outline-none appearance-none pr-6",style:{color:"var(--text-primary)"},children:[r.jsx("option",{value:"weekly",children:"Weekly"}),r.jsx("option",{value:"monthly",children:"Monthly"}),r.jsx("option",{value:"yearly",children:"Yearly"})]}),r.jsx(ii,{size:14,className:"ml-1"})]}),r.jsxs("button",{className:"border rounded-md px-3 py-1.5 flex items-center text-sm",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[r.jsx(ui,{size:14,className:"mr-2"}),"Export"]})]})]}),r.jsx("div",{className:"h-64 flex items-center justify-center mb-4",children:r.jsxs("div",{className:"text-center w-full",children:[i&&i.length>0?r.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden relative flex items-end justify-between p-4",style:{backgroundColor:"var(--bg-secondary)"},children:i.map((h,m)=>{var w;const g=Math.max(...i.map(k=>k.sales||0)),y=g>0?Math.max(h.sales/g*120,20):20;return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-8 rounded-t-lg transition-all duration-300 hover:opacity-80",style:{height:`${y}px`,backgroundColor:"var(--brand-primary)",opacity:.9},title:`${h.month}: ${((w=h.sales)==null?void 0:w.toLocaleString())||0}`}),r.jsx("span",{className:"text-xs mt-2 font-medium",style:{color:"var(--text-secondary)"},children:h.month})]},m)})}):r.jsx("div",{className:"w-full h-48 rounded-lg mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("div",{className:"text-center",children:[r.jsx(px,{size:32,className:"mx-auto mb-2",style:{color:"var(--text-secondary)"}}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"No sales data available"})]})}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Monthly sales overview (",(i==null?void 0:i.length)||0," months)"]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Sales"}),r.jsxs("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["",l.toLocaleString()]}),r.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Current year total"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Peak Month"}),r.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:i&&i.length>0?i.reduce((h,m)=>m.sales>h.sales?m:h,i[0]).month:"N/A"}),r.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Highest sales month"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Average Monthly"}),r.jsxs("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["",i&&i.length>0?Math.round(l/i.length).toLocaleString():"0"]}),r.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Monthly average"})]})]})]})},foe=({isOpen:n,onClose:t,product:o})=>{var l;if(!n||!o)return null;const i=h=>{h.target===h.currentTarget&&t()};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:i,children:r.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.jsx(bt,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Product Details"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Information"})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:20})})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:o.name}),r.jsx("div",{className:"space-y-2 text-sm",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Product ID"}),r.jsxs("span",{style:{color:"var(--text-primary)"},children:["#",((l=o.id)==null?void 0:l.slice(-8))||"N/A"]})]})})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(px,{className:"mr-2"}),"Sales Performance"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--brand-primary)"},children:o.sales||0}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Units Sold"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--success-color)"},children:["",(o.revenue||0).toLocaleString()]}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Total Revenue"})]})]})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(vm,{className:"mr-2"}),"Metrics"]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Order Value"}),r.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",o.sales>0?Math.round((o.revenue||0)/o.sales).toLocaleString():"0"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Performance Rank"}),r.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:"Top Seller"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--text-secondary)"},children:"Sales Trend"}),r.jsx("span",{className:"font-medium",style:{color:"var(--success-color)"},children:"Trending Up"})]})]})]})]})}),r.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},bI=()=>{const n=as(),[t,o]=z.useState("monthly"),[i,l]=z.useState(null),[h,m]=z.useState(!1),{dashboard:g}=zo(),{topProducts:y}=g,w=_=>{l(_),m(!0)},k=()=>{n("/admin/products")};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Top Products"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${t==="weekly"?"font-medium":""}`,style:{backgroundColor:t==="weekly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:t==="weekly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>o("weekly"),children:"Weekly"}),r.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${t==="monthly"?"font-medium":""}`,style:{backgroundColor:t==="monthly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:t==="monthly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>o("monthly"),children:"Monthly"})]})]}),r.jsx("div",{className:"space-y-4",children:y&&y.length>0?y.map((_,N)=>{var D;return r.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",style:{borderRadius:"var(--rounded-md)"},children:[r.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white flex-shrink-0 flex items-center justify-center shadow-sm",style:{borderRadius:"var(--rounded-md)"},children:r.jsx(bt,{size:24,style:{color:"var(--brand-primary)"}})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"font-medium text-sm line-clamp-1",style:{color:"var(--text-primary)"},children:_.name}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsxs("div",{className:"flex items-center text-xs mr-4",style:{color:"var(--text-secondary)"},children:[r.jsx(bt,{size:12,className:"mr-1"}),r.jsxs("span",{children:[_.sales," sold"]})]}),r.jsxs("div",{className:"text-xs font-medium",style:{color:"var(--success-color)"},children:["",(D=_.revenue)==null?void 0:D.toLocaleString()]})]})]}),r.jsx("button",{onClick:()=>w(_),className:"ml-2 p-2 rounded-full hover:bg-gray-100 transition-all duration-200",style:{color:"var(--brand-primary)"},children:r.jsx(Gi,{size:18})})]},_.id||N)}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(bt,{size:32,className:"mx-auto mb-2",style:{color:"var(--text-secondary)"}}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"No product data available"})]})}),r.jsx("button",{onClick:k,className:"w-full mt-4 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center justify-center hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:"View All Products"})]}),r.jsx(foe,{isOpen:h,onClose:()=>m(!1),product:i})]})},xI=()=>({businessAnalytics:{totalRevenue:125430,totalRevenueChange:"+12.5%",netRevenue:98750.2,netRevenueChange:"+8.3%",grossProfit:45230.5,grossProfitChange:"+15.2%",operatingCosts:32140.8,operatingCostsChange:"-2.1%",conversionRate:3.2,conversionRateChange:"+0.4%",averageOrderValue:89.5,averageOrderValueChange:"+7.2%",returnRate:2.8,returnRateChange:"-0.5%",customerAcquisitionCost:23.4,customerAcquisitionCostChange:"-12.3%"},orderStatistics:{totalOrders:1456,totalOrdersChange:"+18.2%",pendingOrders:34,pendingOrdersChange:"+12.0%",processingOrders:67,processingOrdersChange:"+8.5%",shippedOrders:892,shippedOrdersChange:"+22.1%",deliveredOrders:1278,deliveredOrdersChange:"+16.8%",cancelledOrders:87,cancelledOrdersChange:"-5.2%",returnedOrders:45,returnedOrdersChange:"-8.1%",refundedOrders:23,refundedOrdersChange:"-15.6%"},userOverview:{totalCustomers:8945,totalCustomersChange:"+23.4%",newCustomersToday:12,newCustomersThisWeek:89,newCustomersThisMonth:342,activeCustomers:3456,activeCustomersChange:"+12.8%",totalDeliveryMen:45,totalDeliveryMenChange:"+15.0%",activeDeliveryMen:38,activeDeliveryMenChange:"+8.9%",averageCustomerLifetimeValue:234.56,customerRetentionRate:67.8},mostPopularProducts:[{id:1,name:"iPhone 15 Pro Max",image:"/products/iphone15.jpg",views:2456,viewsChange:"+12.3%",wishlistCount:567,shareCount:89,category:"Smartphones",price:1199.99},{id:2,name:'MacBook Pro 16"',image:"/products/macbook.jpg",views:1889,viewsChange:"+8.7%",wishlistCount:234,shareCount:45,category:"Laptops",price:2499.99},{id:3,name:"Samsung Galaxy S24 Ultra",image:"/products/samsung.jpg",views:1456,viewsChange:"+15.2%",wishlistCount:345,shareCount:67,category:"Smartphones",price:1299.99},{id:4,name:"AirPods Pro 2",image:"/products/airpods.jpg",views:1234,viewsChange:"+22.1%",wishlistCount:456,shareCount:78,category:"Audio",price:249.99},{id:5,name:'iPad Pro 12.9"',image:"/products/ipad.jpg",views:1098,viewsChange:"+6.4%",wishlistCount:189,shareCount:34,category:"Tablets",price:1099.99}],topSellingProducts:[{id:1,name:"iPhone 15 Pro Max",image:"/products/iphone15.jpg",unitsSold:234,revenue:280566,profit:45678.9,profitMargin:16.3,category:"Smartphones",stock:45,rating:4.8},{id:2,name:"AirPods Pro 2",image:"/products/airpods.jpg",unitsSold:456,revenue:113994.44,profit:34567.89,profitMargin:30.3,category:"Audio",stock:123,rating:4.7},{id:3,name:'MacBook Pro 16"',image:"/products/macbook.jpg",unitsSold:89,revenue:222499.11,profit:56789.12,profitMargin:25.5,category:"Laptops",stock:23,rating:4.9},{id:4,name:"Samsung Galaxy S24",image:"/products/samsung.jpg",unitsSold:178,revenue:159958.22,profit:23456.78,profitMargin:14.7,category:"Smartphones",stock:67,rating:4.6},{id:5,name:"Gaming Headset Pro",image:"/products/headset.jpg",unitsSold:345,revenue:51750,profit:18567.34,profitMargin:35.9,category:"Gaming",stock:89,rating:4.5}],topDeliveryMen:[{id:1,name:"John Smith",avatar:"/avatars/john.jpg",totalDeliveries:234,successRate:98.5,averageRating:4.8,totalEarnings:3456.78,thisMonthDeliveries:67,onTimeDeliveryRate:95.2,customerFeedback:4.7,activeHours:8.5},{id:2,name:"Mike Johnson",avatar:"/avatars/mike.jpg",totalDeliveries:189,successRate:97.2,averageRating:4.6,totalEarnings:2789.45,thisMonthDeliveries:54,onTimeDeliveryRate:92.8,customerFeedback:4.5,activeHours:7.8},{id:3,name:"David Wilson",avatar:"/avatars/david.jpg",totalDeliveries:167,successRate:96.8,averageRating:4.7,totalEarnings:2456.89,thisMonthDeliveries:48,onTimeDeliveryRate:94.1,customerFeedback:4.6,activeHours:8.2},{id:4,name:"Alex Brown",avatar:"/avatars/alex.jpg",totalDeliveries:145,successRate:95.5,averageRating:4.4,totalEarnings:2134.56,thisMonthDeliveries:41,onTimeDeliveryRate:91.7,customerFeedback:4.3,activeHours:7.5},{id:5,name:"Chris Davis",avatar:"/avatars/chris.jpg",totalDeliveries:123,successRate:94.8,averageRating:4.5,totalEarnings:1876.34,thisMonthDeliveries:35,onTimeDeliveryRate:90.3,customerFeedback:4.4,activeHours:6.8}],topCustomers:[{id:1,name:"Sarah Wilson",email:"sarah.wilson@email.com",avatar:"/avatars/sarah.jpg",totalOrders:45,totalSpent:8976.54,averageOrderValue:199.48,lastOrderDate:new Date(Date.now()-1e3*60*60*24*2),loyaltyLevel:"Platinum",signupDate:new Date(Date.now()-1e3*60*60*24*365),favoriteCategory:"Electronics"},{id:2,name:"Robert Chen",email:"robert.chen@email.com",avatar:"/avatars/robert.jpg",totalOrders:38,totalSpent:7234.89,averageOrderValue:190.39,lastOrderDate:new Date(Date.now()-1e3*60*60*24*1),loyaltyLevel:"Gold",signupDate:new Date(Date.now()-1e3*60*60*24*298),favoriteCategory:"Smartphones"},{id:3,name:"Emma Davis",email:"emma.davis@email.com",avatar:"/avatars/emma.jpg",totalOrders:42,totalSpent:6789.23,averageOrderValue:161.65,lastOrderDate:new Date(Date.now()-1e3*60*60*24*3),loyaltyLevel:"Gold",signupDate:new Date(Date.now()-1e3*60*60*24*234),favoriteCategory:"Fashion"},{id:4,name:"Michael Park",email:"michael.park@email.com",avatar:"/avatars/michael.jpg",totalOrders:29,totalSpent:5432.17,averageOrderValue:187.32,lastOrderDate:new Date(Date.now()-1e3*60*60*24*5),loyaltyLevel:"Silver",signupDate:new Date(Date.now()-1e3*60*60*24*156),favoriteCategory:"Gaming"},{id:5,name:"Lisa Anderson",email:"lisa.anderson@email.com",avatar:"/avatars/lisa.jpg",totalOrders:33,totalSpent:4876.45,averageOrderValue:147.77,lastOrderDate:new Date(Date.now()-1e3*60*60*24*4),loyaltyLevel:"Silver",signupDate:new Date(Date.now()-1e3*60*60*24*189),favoriteCategory:"Home & Garden"}],revenueChartData:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Revenue",data:[12e3,19e3,15e3,25e3,22e3,3e4,28e3,35e3,32e3,4e4,38e3,45e3],borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4},{label:"Profit",data:[8e3,12e3,9e3,16e3,14e3,19e3,18e3,22e3,2e4,25e3,24e3,28e3],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4}]},dateRange:{start:new Date(Date.now()-1e3*60*60*24*30),end:new Date,preset:"last30days"}}),goe=un((n,t)=>({analytics:xI(),loading:!1,error:null,selectedDateRange:"last30days",fetchAnalytics:async()=>{n({loading:!0,error:null});try{await new Promise(o=>setTimeout(o,1e3)),n({analytics:xI(),loading:!1})}catch(o){n({error:o.message,loading:!1})}},updateDateRange:o=>{n({selectedDateRange:o}),t().fetchAnalytics()},refreshData:()=>{t().fetchAnalytics()},getTopPerformers:(o,i=5)=>{const{analytics:l}=t();switch(o){case"products":return l.topSellingProducts.slice(0,i);case"delivery":return l.topDeliveryMen.slice(0,i);case"customers":return l.topCustomers.slice(0,i);default:return[]}},getTotalRevenue:()=>{const{analytics:o}=t();return o.businessAnalytics.totalRevenue},getConversionMetrics:()=>{const{analytics:o}=t();return{conversionRate:o.businessAnalytics.conversionRate,averageOrderValue:o.businessAnalytics.averageOrderValue,customerAcquisitionCost:o.businessAnalytics.customerAcquisitionCost}}})),yoe=()=>{const{dashboard:n,fetchDashboardData:t}=zo(),{analytics:o,loading:i,fetchAnalytics:l,selectedDateRange:h,updateDateRange:m}=goe(),{stats:g,loading:y}=n,[w,k]=z.useState("overview"),_=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last90days",label:"Last 90 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisYear",label:"This Year"}],N=[{value:"overview",label:"Overview",icon:r.jsx(eO,{size:16})},{value:"products",label:"Products",icon:r.jsx(bt,{size:16})},{value:"customers",label:"Customers",icon:r.jsx(ed,{size:16})},{value:"delivery",label:"Delivery",icon:r.jsx(La,{size:16})},{value:"reports",label:"Reports",icon:r.jsx(_u,{size:16})}],D=g.map((F,V)=>{const G=[r.jsx(vm,{size:24}),r.jsx(La,{size:24}),r.jsx(ed,{size:24}),r.jsx(bt,{size:24})],Y=["var(--brand-primary)","var(--brand-secondary)","var(--success-color)","var(--error-color)"];return{...F,icon:G[V],color:Y[V]}});z.useEffect(()=>{t(),l()},[t,l]);const T=()=>{t(),l()},R=y||i,P=()=>{switch(w){case"products":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[r.jsx(loe,{products:o.mostPopularProducts}),r.jsx(coe,{products:o.topSellingProducts})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(yI,{})}),r.jsx("div",{children:r.jsx(bI,{})})]})]});case"customers":return r.jsxs("div",{className:"space-y-6",children:[r.jsx(uoe,{customers:o.topCustomers}),r.jsx(gI,{overview:o.userOverview})]});case"delivery":return r.jsxs("div",{className:"space-y-6",children:[r.jsx(doe,{deliveryMen:o.topDeliveryMen}),r.jsx(fI,{statistics:o.orderStatistics})]});case"reports":return r.jsx(hoe,{});default:return r.jsxs("div",{className:"space-y-6",children:[R?r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-64",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((F,V)=>r.jsx("div",{className:"h-20 bg-gray-200 rounded"},V))})]}):r.jsx(aoe,{analytics:o.businessAnalytics}),r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:R?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-80",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(8)].map((F,V)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},V))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-80",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(4)].map((F,V)=>r.jsx("div",{className:"h-32 bg-gray-200 rounded"},V))})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(fI,{statistics:o.orderStatistics}),r.jsx(gI,{overview:o.userOverview})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:R?r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"h-56 bg-gray-200 rounded w-full"})]}):r.jsx(yI,{})}),r.jsx("div",{children:R?r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"space-y-3",children:[...Array(5)].map((F,V)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},V))})]}):r.jsx(bI,{})})]}),r.jsx("div",{children:R?r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),r.jsx("div",{className:"space-y-3",children:[...Array(5)].map((F,V)=>r.jsx("div",{className:"h-12 bg-gray-200 rounded w-full"},V))})]}):r.jsx(poe,{})})]})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:"Analytics Dashboard"}),r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Comprehensive business insights and performance metrics"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lo,{size:16,style:{color:"var(--text-secondary)"}}),r.jsx("select",{value:h,onChange:F=>m(F.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:_.map(F=>r.jsx("option",{value:F.value,children:F.label},F.value))})]}),r.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,icon:r.jsx(ui,{size:16}),children:"Export"}),r.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,onClick:T,isLoading:R,icon:r.jsx(Va,{size:16}),children:R?"Refreshing...":"Refresh"})]})]}),r.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:r.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:N.map(F=>r.jsxs("button",{onClick:()=>k(F.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${w===F.value?"text-white shadow-sm":"hover:bg-gray-100"}`,style:{backgroundColor:w===F.value?"var(--brand-primary)":"transparent",color:w===F.value?"white":"var(--text-primary)"},children:[F.icon,r.jsx("span",{className:"hidden sm:block",children:F.label})]},F.value))})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:R?[...Array(4)].map((F,V)=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),r.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]}),r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},V)):D.map((F,V)=>r.jsx(ioe,{...F},V))}),P()]})},ci=un((n,t)=>({products:{list:[],filteredList:null,loading:!1,error:null},fetchProducts:async()=>{n(o=>({products:{...o.products,loading:!0,error:null}}));try{const i=(await $e.get("/admin/get_all_products")).data.products;n({products:{list:i,filteredList:null,loading:!1,error:null}})}catch(o){n(i=>{var l,h;return{products:{...i.products,loading:!1,error:((h=(l=o.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch products"}}})}},deleteProduct:async o=>{var i,l;n(h=>({products:{...h.products,loading:!0,error:null}}));try{const h=await $e.delete(`/admin/delete-product/${o}/`);if(h.status===200)return n(m=>({products:{...m.products,list:m.products.list.filter(g=>g.id!==o),filteredList:m.products.filteredList?m.products.filteredList.filter(g=>g.id!==o):null,loading:!1,error:null}})),{success:!0,message:h.data.message}}catch(h){return n(m=>{var g,y;return{products:{...m.products,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to delete product"}}}),{success:!1,message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete product"}}},toggleProductFeatured:async o=>{var i,l;n(h=>({products:{...h.products,loading:!0,error:null}}));try{const h=await $e.patch(`/admin/toggle-featured/${o}/`);if(h.status===200){const m=g=>g.map(y=>y.id===o?{...y,featured:h.data.featured}:y);return n(g=>({products:{...g.products,list:m(g.products.list),filteredList:g.products.filteredList?m(g.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:h.data.message,featured:h.data.featured}}}catch(h){return n(m=>{var g,y;return{products:{...m.products,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to update featured status"}}}),{success:!1,message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update featured status"}}},updateProduct:async(o,i)=>{var l,h,m;n(g=>({products:{...g.products,loading:!0,error:null}}));try{const g=await $e.patch(`/admin/products/edit/${o}/`,i);if(g.status===200){const y=w=>w.map(k=>k.id===o?{...k,...i}:k);return n(w=>({products:{...w.products,list:y(w.products.list),filteredList:w.products.filteredList?y(w.products.filteredList):null,loading:!1,error:null}})),n(w=>({products:{...w.products,list:y(w.products.list),filteredList:w.products.filteredList?y(w.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:g.data.message||"Product updated successfully",product_id:g.data.product_id||o}}}catch(g){const y=((h=(l=g.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update product";return n(w=>({products:{...w.products,loading:!1,error:y}})),{success:!1,message:y,status:(m=g.response)==null?void 0:m.status}}},addProduct:async o=>{var i,l,h;n(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await $e.post("admin/products/add/",o);if(m.status===201){const g={...o,id:m.data.product_id};return n(y=>({products:{...y.products,list:[...y.products.list,g],filteredList:y.products.filteredList?[...y.products.filteredList,g]:null,loading:!1,error:null}})),{success:!0,message:m.data.message||"Product added successfully",product_id:m.data.product_id}}}catch(m){const g=((l=(i=m.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add product";return n(y=>({products:{...y.products,loading:!1,error:g}})),{success:!1,message:g,status:(h=m.response)==null?void 0:h.status}}},filterAndSortProducts:(o,i,l)=>{const{list:h}=t().products;if(!(o&&o!=="all"||i&&i.trim())&&l==="newest"){n(y=>({products:{...y.products,filteredList:null}}));return}let g=[...h];if(o&&o!=="all"&&(g=g.filter(y=>y.category.toLowerCase()===o.toLowerCase())),i&&i.trim()){const y=i.toLowerCase().trim();g=g.filter(w=>w.name.toLowerCase().includes(y)||w.brand.toLowerCase().includes(y)||w.description.toLowerCase().includes(y))}switch(l){case"newest":g.sort((y,w)=>new Date(w.createdAt||w.created_at||0)-new Date(y.createdAt||y.created_at||0));break;case"price-asc":g.sort((y,w)=>parseFloat(y.price)-parseFloat(w.price));break;case"price-desc":g.sort((y,w)=>parseFloat(w.price)-parseFloat(y.price));break;case"name-asc":g.sort((y,w)=>y.name.localeCompare(w.name));break;case"stock-asc":g.sort((y,w)=>parseInt(y.stock)-parseInt(w.stock));break}n(y=>({products:{...y.products,filteredList:g}}))},resetFilters:()=>{n(o=>({products:{...o.products,filteredList:null}}))},uploadProductImage:async o=>{var i,l;try{const h=new FormData;h.append("image",o);const m=await $e.post("/admin/products/upload-image/",h,{headers:{"Content-Type":"multipart/form-data"}});return m.data.success?{success:!0,imageUrl:m.data.image_url,message:m.data.message||"Image uploaded successfully"}:{success:!1,message:m.data.error||"Failed to upload image"}}catch(h){return{success:!1,message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||h.message||"Failed to upload image"}}},updateVariantStock:async(o,i)=>{var l,h;n(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await $e.patch(`/admin/products/${o}/update-variant-stock/`,{variant_updates:i});if(m.status===200)return await t().fetchProducts(),{success:!0,message:m.data.message||"Variant stock updated successfully",updatedVariants:m.data.updated_variants}}catch(m){return n(g=>{var y,w;return{products:{...g.products,loading:!1,error:((w=(y=m.response)==null?void 0:y.data)==null?void 0:w.error)||"Failed to update variant stock"}}}),{success:!1,message:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update variant stock"}}}})),boe=({onViewProduct:n,onEditProduct:t})=>{const{products:o,fetchProducts:i,deleteProduct:l,toggleProductFeatured:h}=ci(),{list:m,filteredList:g,loading:y}=o,w=g!==null?g:m,k=le=>{if(!le)return 0;if(le.valid_options&&le.valid_options.length>0){const B=le.valid_options[0],W=B.discounted_price||B.price;return typeof W=="number"?W:0}const J=le.discount_price||le.price;return typeof J=="number"?J:0},_=le=>{if(!le)return 0;if(le.valid_options&&le.valid_options.length>0)return le.valid_options.reduce((B,W)=>{const Z=typeof W.stock=="number"?W.stock:0;return B+Z},0);const J=le.stock;return typeof J=="number"?J:0},[N,D]=z.useState(!1),[T,R]=z.useState(!1),[P,F]=z.useState(null);z.useEffect(()=>{i()},[i]);const V=le=>{F(le),D(!0)},G=async()=>{P&&(await l(P.id),D(!1))},Y=le=>{F(le),R(!0)},ee=async()=>{P&&(await h(P.id),R(!1))};return r.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Stock"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Featured"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:y?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"Loading products..."})}):w.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No products found matching your filters."})}):w.filter(le=>le&&le.id).map(le=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:r.jsx("img",{src:le.images&&le.images.length>0?le.images[0]:"https://via.placeholder.com/50",alt:le.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:le.name}),r.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["ID: ",le.id]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:le.category})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",k(le).toLocaleString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",style:{color:_(le)===0?"var(--error-color)":_(le)<10?"var(--warning-color)":"var(--text-primary)"},children:[_(le),_(le)===1?"unit":"units"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx("button",{onClick:()=>Y(le),className:"w-5 h-5 rounded-full flex items-center justify-center transition-colors duration-200",style:{backgroundColor:le.featured?"var(--brand-primary)":"var(--bg-secondary)",border:"1px solid",borderColor:le.featured?"var(--brand-primary)":"var(--border-secondary)",color:le.featured?"var(--text-on-brand)":"var(--text-secondary)"},children:le.featured?r.jsx(Kn,{size:12}):null})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:_(le)>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:_(le)>0?"var(--success-color)":"var(--error-color)"},children:_(le)>0?"Active":"Out of Stock"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>n(le),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Product",children:r.jsx(Gi,{size:16})}),r.jsx("button",{onClick:()=>t(le),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Product",children:r.jsx(Vm,{size:16})}),r.jsx("button",{onClick:()=>V(le),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Product",children:r.jsx(on,{size:16})})]})})]},le.id))})]}),r.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",w.length," of ",m.length," products"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),r.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),r.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]}),N&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"mb-4 flex items-center",children:[r.jsx(Fl,{className:"mr-3",size:24,style:{color:"var(--error-color)"}}),r.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Deletion"})]}),r.jsxs("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:['Are you sure you want to delete "',P==null?void 0:P.name,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsx("button",{onClick:G,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--error-color)",color:"white",borderRadius:"var(--rounded-md)"},children:"Delete"})]})]})}),T&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"mb-4 flex items-center",children:[r.jsx(Fl,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),r.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Featured Status Change"})]}),r.jsx("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:P!=null&&P.featured?`Are you sure you want to remove "${P==null?void 0:P.name}" from featured products?`:`Are you sure you want to add "${P==null?void 0:P.name}" to featured products?`}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsx("button",{onClick:ee,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:P!=null&&P.featured?"Remove Featured":"Make Featured"})]})]})})]})},xoe=({onClose:n,onSave:t})=>{const[o,i]=z.useState(1),[l,h]=z.useState(!1),{uploadProductImage:m}=ci(),[g,y]=z.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],videos:[],specifications:{},attributes:{},features:[],valid_options:[],featured:!1,rating:0,reviews:0}),w=async se=>{const oe=se.target.files[0];if(oe){h(!0);try{const ue=await m(oe);ue.success?(y(te=>({...te,images:[...te.images,ue.imageUrl].slice(0,5)})),We.info("Image uploaded successfully.")):We.error("Failed to upload image: "+ue.message)}catch(ue){console.error("Error uploading image:",ue),We.error("Failed to upload image: "+ue.message)}finally{h(!1)}}},k=se=>{const{name:oe,value:ue,type:te,checked:q}=se.target;y({...g,[oe]:te==="checkbox"?q:ue})},_=(se,oe)=>{y({...g,specifications:{...g.specifications,[se]:oe}})},N=()=>{y({...g,specifications:{...g.specifications,"":""}})},D=se=>{const oe={...g.specifications};delete oe[se],y({...g,specifications:oe})},T=(se,oe)=>{y({...g,attributes:{...g.attributes,[se]:oe}})},R=(se,oe,ue)=>{y(te=>{if(se===oe)return te;const q={...te.attributes};return Object.prototype.hasOwnProperty.call(q,oe)?(We.error(`Attribute key "${oe}" already exists. Please use a unique key.`),te):(delete q[se],q[oe]=ue,{...te,attributes:q})})},P=()=>{y(se=>{const oe=se.attributes;let ue="",te=ue,q=0;for(;Object.prototype.hasOwnProperty.call(oe,te);)q++,te=`${ue}${q}`;return{...se,attributes:{...oe,[te]:""}}})},F=se=>{const oe={...g.attributes};delete oe[se],y({...g,attributes:oe})},V=(se,oe)=>{const ue=[...g.features];ue[se]=oe,y({...g,features:ue})},G=()=>{y({...g,features:[...g.features,""]})},Y=se=>{const oe=g.features.filter((ue,te)=>te!==se);y({...g,features:oe})},ee=()=>{const se={colors:"",storage:"",ram:"",size:"",price:0,discounted_price:0,stock:0,custom_keys:[],custom_values:[]};y({...g,valid_options:[...g.valid_options,se]})},le=se=>{const oe=g.valid_options.filter((ue,te)=>te!==se);y({...g,valid_options:oe})},J=(se,oe,ue)=>{const te=[...g.valid_options];te[se]={...te[se],[oe]:oe==="price"||oe==="discounted_price"||oe==="stock"?parseFloat(ue)||0:ue},y({...g,valid_options:te})},B=se=>{const oe=[...g.valid_options],ue=oe[se];ue.custom_keys||(ue.custom_keys=[]),ue.custom_values||(ue.custom_values=[]),ue.custom_keys.push(""),ue.custom_values.push(""),y({...g,valid_options:oe})},W=(se,oe,ue)=>{const te=[...g.valid_options],q=te[se];q.custom_keys[oe]=ue,y({...g,valid_options:te})},Z=(se,oe,ue)=>{const te=[...g.valid_options],q=te[se];q.custom_values[oe]=ue,y({...g,valid_options:te})},de=(se,oe)=>{const ue=[...g.valid_options],te=ue[se];te.custom_keys.splice(oe,1),te.custom_values.splice(oe,1),y({...g,valid_options:ue})},ne=()=>{y({...g,videos:[...g.videos,""]})},re=(se,oe)=>{const ue=[...g.videos];ue[se]=oe,y({...g,videos:ue})},ge=se=>{y({...g,videos:g.videos.filter((oe,ue)=>ue!==se)})},ke=se=>{se.preventDefault();const oe={...g,price:parseFloat(g.price)||0,discount_price:parseFloat(g.discount_price)||0,stock:parseInt(g.stock,10)||0,rating:parseFloat(g.rating)||0,reviews:parseInt(g.reviews,10)||0};t&&t(oe),n()};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:o===1?"Add New Product - Basic Information":"Add New Product - Details & Media"}),r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors",children:r.jsx(qt,{size:24})})]}),r.jsx("form",{onSubmit:ke,children:o===1?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:g.name,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),r.jsx("input",{type:"text",id:"brand",name:"brand",value:g.brand,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),r.jsxs("select",{id:"category",name:"category",value:g.category,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[r.jsx("option",{value:"",children:"Select a category"}),r.jsx("option",{value:"Smartphone",children:"Smartphone"}),r.jsx("option",{value:"Laptop",children:"Laptop"}),r.jsx("option",{value:"Tablet",children:"Tablet"}),r.jsx("option",{value:"TV",children:"TV"}),r.jsx("option",{value:"Accessories",children:"Accessories"}),r.jsx("option",{value:"Audio",children:"Audio"}),r.jsx("option",{value:"Wearables",children:"Wearables"}),r.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP () *"}),r.jsx("input",{type:"number",id:"price",name:"price",value:g.price,onChange:k,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price () *"}),r.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:g.discount_price,onChange:k,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),r.jsx("input",{type:"text",id:"discount",name:"discount",value:g.discount,onChange:k,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),r.jsx("input",{type:"number",id:"stock",name:"stock",value:g.stock,onChange:k,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),r.jsx("textarea",{id:"description",name:"description",value:g.description,onChange:k,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"button",onClick:()=>i(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),r.jsxs("button",{type:"button",onClick:G,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Feature"]})]}),g.features.map((se,oe)=>r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"text",value:se,onChange:ue=>V(oe,ue.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),r.jsx("button",{type:"button",onClick:()=>Y(oe),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:r.jsx(on,{size:16})})]},oe))]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),r.jsxs("button",{type:"button",onClick:N,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(g.specifications).map(([se,oe],ue)=>r.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[r.jsx("input",{type:"text",value:se,onChange:te=>{const q={...g.specifications},ae=q[se];delete q[se],y({...g,specifications:{...q,[te.target.value]:ae}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),r.jsx("input",{type:"text",value:oe,onChange:te=>_(se,te.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),r.jsx("button",{type:"button",onClick:()=>D(se),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:r.jsx(on,{size:16})})]},ue))]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),r.jsxs("button",{type:"button",onClick:P,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Attribute"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(g.attributes).map(([se,oe])=>r.jsx(voe,{initialKey:se,initialValue:oe,onKeyCommit:R,onValueChange:T,onDelete:F,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},se)),r.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[r.jsx(Yn,{})," Add Attribute"]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),r.jsxs("button",{type:"button",onClick:ee,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Option"]})]}),g.valid_options.map((se,oe)=>r.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsx("input",{type:"text",value:se.colors||"",onChange:ue=>J(oe,"colors",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),r.jsx("input",{type:"text",value:se.storage||"",onChange:ue=>J(oe,"storage",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),r.jsx("input",{type:"text",value:se.ram||"",onChange:ue=>J(oe,"ram",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),r.jsx("input",{type:"text",value:se.size||"",onChange:ue=>J(oe,"size",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx("input",{type:"number",value:se.price||"",onChange:ue=>J(oe,"price",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),r.jsx("input",{type:"number",value:se.discounted_price||"",onChange:ue=>J(oe,"discounted_price",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),r.jsx("input",{type:"number",value:se.stock||"",onChange:ue=>J(oe,"stock",ue.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),r.jsx("button",{type:"button",onClick:()=>le(oe),className:"p-1.5 rounded-md mt-2",style:{color:"var(--error-color)"},children:r.jsx(on,{size:16})}),r.jsx("div",{className:"mt-2",children:se.custom_keys&&se.custom_keys.map((ue,te)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:ue,onChange:q=>W(oe,te,q.target.value),placeholder:"Custom Key",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),r.jsx("input",{type:"text",value:se.custom_values[te],onChange:q=>Z(oe,te,q.target.value),placeholder:"Custom Value",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),r.jsxs("button",{type:"button",onClick:()=>de(oe,te),className:"p-2 text-red-500 hover:text-red-700",children:[r.jsx("span",{className:"text-sm",children:"Remove Valid Option"}),r.jsx(on,{})]})]},te))}),r.jsxs("button",{type:"button",onClick:()=>B(oe),className:"mt-2 p-1.5 rounded-md flex justify-between items-center",style:{color:"var(--brand-primary)"},children:[r.jsx("span",{className:"text-sm",children:"Add Custom"}),r.jsx(Yn,{size:16})]})]},oe))]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),r.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[g.images.map((se,oe)=>r.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[r.jsx("img",{src:se,alt:`Product ${oe+1}`,className:"w-full h-full object-cover"}),r.jsx("button",{type:"button",onClick:()=>{const ue=[...g.images];ue.splice(oe,1),y({...g,images:ue})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:r.jsx(qt,{size:12})})]},oe)),g.images.length<5&&r.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload").click(),children:[r.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:w,className:"hidden"}),r.jsxs("div",{className:"flex flex-col items-center",children:[l?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):r.jsx(K2,{size:20,style:{color:"var(--text-secondary)"}}),r.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:l?"Uploading...":"Add Image"})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:g.featured,onChange:k,className:"mr-2"}),r.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Videos"}),r.jsxs("div",{className:"space-y-2 mb-3",children:[g.videos.map((se,oe)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"url",value:se,onChange:ue=>re(oe,ue.target.value),placeholder:"Enter video URL",className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),r.jsx("button",{type:"button",onClick:()=>ge(oe),className:"p-2 text-red-500 hover:text-red-700",children:r.jsx(on,{})})]},oe)),r.jsxs("button",{type:"button",onClick:ne,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[r.jsx(Yn,{size:16}),r.jsx("span",{children:"Add Video URL"})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("button",{type:"button",onClick:()=>i(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Product"})]})]})]})})]})})},voe=({initialKey:n,initialValue:t,onKeyCommit:o,onValueChange:i,onDelete:l,styleProps:h})=>{const[m,g]=z.useState(n),[y,w]=z.useState(t);z.useEffect(()=>{g(n)},[n]),z.useEffect(()=>{w(t)},[t]);const k=T=>{g(T.target.value)},_=()=>{m!==n&&o(n,m,y)},N=T=>{w(T.target.value)},D=()=>{y!==t&&i(n,y)};return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:m,onChange:k,onBlur:_,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:h}),r.jsx("input",{type:"text",value:y,onChange:N,onBlur:D,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:h}),r.jsx("button",{type:"button",onClick:()=>l(n),className:"p-2 text-red-500 hover:text-red-700",children:r.jsx(on,{})})]})},woe=({onClose:n})=>{const{isOpen:t,modalConfig:o,isLoading:i,showConfirm:l,hideConfirm:h,handleConfirm:m}=rg(),[g,y]=z.useState([{id:1,name:"Smartphones",slug:"smartphones",description:"Mobile phones and smartphones",productCount:28},{id:2,name:"Laptops",slug:"laptops",description:"Laptops and notebooks",productCount:15},{id:3,name:"Tablets",slug:"tablets",description:"Tablets and iPads",productCount:9},{id:4,name:"Accessories",slug:"accessories",description:"Mobile and laptop accessories",productCount:42},{id:5,name:"Audio",slug:"audio",description:"Headphones, earbuds, and speakers",productCount:23}]),[w,k]=z.useState(!1),[_,N]=z.useState({id:null,name:"",slug:"",description:""}),D=Y=>Y.toLowerCase().replace(/\s+/g,"-"),T=Y=>{const ee=Y.target.value;N({..._,name:ee,slug:D(ee)})},R=Y=>{N({..._,description:Y.target.value})},P=()=>{if(_.name.trim()){if(w)y(g.map(Y=>Y.id===_.id?{..._,productCount:Y.productCount}:Y));else{const Y=Math.max(...g.map(ee=>ee.id))+1;y([...g,{..._,id:Y,productCount:0}])}N({id:null,name:"",slug:"",description:""}),k(!1)}},F=Y=>{N(Y),k(!0)},V=()=>{N({id:null,name:"",slug:"",description:""}),k(!1)},G=Y=>{const ee=g.find(le=>le.id===Y);l({title:"Delete Category",message:`Are you sure you want to delete "${ee==null?void 0:ee.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{y(g.filter(le=>le.id!==Y)),We.success("Category deleted successfully")}catch(le){console.error("Error deleting category:",le),We.error("Failed to delete category")}}})};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{backdropFilter:"blur(4px)"},children:[r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Category Management"}),r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors",children:r.jsx(qt,{size:24})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-lg)"},children:[r.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:w?"Edit Category":"Add New Category"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category-name",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Category Name"}),r.jsx("input",{type:"text",id:"category-name",value:_.name,onChange:T,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"e.g. Smartphones"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category-slug",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Slug (Auto-generated)"}),r.jsx("input",{type:"text",id:"category-slug",value:_.slug,readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-secondary)"},placeholder:"e.g. smartphones"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"category-description",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),r.jsx("textarea",{id:"category-description",value:_.description,onChange:R,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Brief description of the category",rows:"2"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[w&&r.jsx("button",{type:"button",onClick:V,className:"px-3 py-1.5 border rounded-md text-xs font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsxs("button",{type:"button",onClick:P,className:"px-4 py-1.5 rounded-md flex items-center text-xs font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[r.jsx(Yn,{size:14,className:"mr-1"}),w?"Update Category":"Add Category"]})]})]}),r.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{style:{backgroundColor:"var(--bg-secondary)"},children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Products"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:g.map(Y=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.name}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:Y.description})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:[Y.productCount," products"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>F(Y),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Category",children:r.jsx(Vm,{size:16})}),r.jsx("button",{onClick:()=>G(Y.id),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Category",disabled:Y.productCount>0,children:r.jsx(on,{size:16})})]})})]},Y.id))})]})})]}),r.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:r.jsx("button",{onClick:n,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Close"})})]}),r.jsx(Um,{isOpen:t,onClose:h,onConfirm:m,title:o.title,message:o.message,confirmText:o.confirmText,cancelText:o.cancelText,type:o.type,isLoading:i})]})},koe=({product:n,onClose:t,onEdit:o})=>{var i,l,h,m;return n?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Details"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>o(n),className:"flex items-center px-3 py-1.5 rounded-md text-sm",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r.jsx($w,{size:16,className:"mr-1"}),"Edit"]}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:r.jsx(qt,{size:24})})]})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"mb-3 aspect-square rounded-lg overflow-hidden",children:r.jsx("img",{src:((i=n.images)==null?void 0:i[0])||"https://via.placeholder.com/400",alt:n.name,className:"w-full h-full object-cover"})}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:(l=n.images)==null?void 0:l.slice(1).map((g,y)=>r.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:r.jsx("img",{src:g||"https://via.placeholder.com/80",alt:`${n.name} - ${y+2}`,className:"w-full h-full object-cover"})},y))})]}),r.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold mb-1",style:{color:"var(--text-primary)"},children:n.name}),r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Brand: ",r.jsx("span",{className:"font-medium",children:n.brand})]}),r.jsx("span",{className:"mx-2",style:{color:"var(--border-primary)"},children:"|"}),r.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Category:",r.jsx("span",{className:"font-medium",children:n.category})]})]}),r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsxs("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Gr,{className:"fill-current"}),r.jsx("span",{className:"ml-1",children:n.rating})]}),r.jsxs("span",{className:"mx-2 text-sm",style:{color:"var(--text-secondary)"},children:[n.reviews," reviews"]})]}),r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsxs("span",{className:"text-2xl font-bold mr-3",style:{color:"var(--text-primary)"},children:["",(h=n.discount_price)==null?void 0:h.toLocaleString()]}),n.discount&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-lg line-through mr-2",style:{color:"var(--text-secondary)"},children:["",(m=n.price)==null?void 0:m.toLocaleString()]}),r.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[n.discount," OFF"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("span",{className:"text-sm font-medium mb-1 block",style:{color:"var(--text-secondary)"},children:"Stock:"}),r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"px-2 py-1 rounded text-sm font-medium",style:{backgroundColor:n.stock>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:n.stock>0?"var(--success-color)":"var(--error-color)"},children:n.stock>0?`${n.stock} in stock`:"Out of stock"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Description"}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:n.description})]}),n.features&&n.features.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key Features"}),r.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1",style:{color:"var(--text-secondary)"},children:n.features.map((g,y)=>r.jsx("li",{children:g},y))})]}),n.specifications&&Object.keys(n.specifications).length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specifications"}),r.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(n.specifications).map(([g,y])=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[g.replace(/([A-Z])/g," $1").trim(),":"]}),r.jsx("span",{style:{color:"var(--text-secondary)"},children:y})]},g))})]}),n.attributes&&Object.keys(n.attributes).length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Attributes"}),r.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(n.attributes).map(([g,y])=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[g.replace(/([A-Z])/g," $1").trim(),":"]}),r.jsx("span",{style:{color:"var(--text-secondary)"},children:y})]},g))})]}),n.valid_options&&n.valid_options.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-3",style:{color:"var(--text-primary)"},children:"Available Options"}),r.jsx("div",{className:"space-y-3",children:n.valid_options.map((g,y)=>{var w,k;return r.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[g.colors&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.colors})]}),g.storage&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.storage})]}),g.ram&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.ram})]}),g.size&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.size})]}),g.resolution&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.resolution})]})]}),g.custom_keys&&g.custom_values&&g.custom_keys.length>0&&r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-3 mt-3 border-t pt-3",children:g.custom_keys.map((_,N)=>_&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[_,":"]}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.custom_values[N]})]},N))}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Price:"}),r.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",(w=g.price)==null?void 0:w.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),r.jsxs("p",{className:"text-sm font-medium text-green-600",children:["",(k=g.discounted_price)==null?void 0:k.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock:"}),r.jsxs("p",{className:"text-sm font-medium",style:{color:g.stock>0?"var(--success-color)":"var(--error-color)"},children:[g.stock," units"]})]})]})]},y)})})]})]})]})})]})}):null},Coe=({product:n,onClose:t,onSave:o})=>{const[i,l]=z.useState(1),[h,m]=z.useState(!1),{uploadProductImage:g}=ci(),[y,w]=z.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],videos:[],specifications:{},attributes:{},features:[],valid_options:[],featured:!1}),k=({initialKey:ue,initialValue:te,onKeyCommit:q,onValueChange:ae,onDelete:pe,styleProps:me})=>{const[be,Te]=z.useState(ue),[je,Ye]=z.useState(te);z.useEffect(()=>{Te(ue)},[ue]),z.useEffect(()=>{Ye(te)},[te]);const Ve=Tt=>{Te(Tt.target.value)},Je=()=>{be!==ue&&q(ue,be,je)},Qe=Tt=>{Ye(Tt.target.value)},Ot=()=>{je!==te&&ae(ue,je)};return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:be,onChange:Ve,onBlur:Je,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:me}),r.jsx("input",{type:"text",value:je,onChange:Qe,onBlur:Ot,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:me}),r.jsx("button",{type:"button",onClick:()=>pe(ue),className:"p-2 text-red-500 hover:text-red-700",children:r.jsx(on,{})})]})};z.useEffect(()=>{if(n){const ue=n.specifications||{},te=Array.isArray(n.features)?n.features:[],q=typeof n.price=="number"?n.price:parseFloat(n.price||0),ae=typeof n.discount_price=="number"?n.discount_price:parseFloat(n.discount_price||0),pe=typeof n.stock=="number"?n.stock:parseInt(n.stock||0,10);w({name:n.name||"",description:n.description||"",brand:n.brand||"",category:n.category||"",price:q,discount_price:ae,discount:n.discount||"",stock:pe,images:n.images||[],videos:n.videos||[],specifications:ue,attributes:n.attributes||{},features:te,valid_options:n.valid_options||[],featured:n.featured||!1})}},[n]);const _=ue=>{const{name:te,value:q,type:ae,checked:pe}=ue.target;w({...y,[te]:ae==="checkbox"?pe:q})},N=(ue,te)=>{w({...y,specifications:{...y.specifications,[ue]:te}})},D=()=>{w({...y,specifications:{...y.specifications,"":""}})},T=ue=>{const te={...y.specifications};delete te[ue],w({...y,specifications:te})},R=(ue,te)=>{w({...y,attributes:{...y.attributes,[ue]:te}})},P=(ue,te,q)=>{w(ae=>{if(ue===te)return ae;const pe={...ae.attributes};return Object.prototype.hasOwnProperty.call(pe,te)?(We.error(`Attribute key "${te}" already exists. Please use a unique key.`),ae):(delete pe[ue],pe[te]=q,{...ae,attributes:pe})})},F=()=>{w(ue=>{const te=ue.attributes;let q="",ae=q,pe=0;for(;Object.prototype.hasOwnProperty.call(te,ae);)pe++,ae=`${q}${pe}`;return{...ue,attributes:{...te,[ae]:""}}})},V=ue=>{const te={...y.attributes};delete te[ue],w({...y,attributes:te})},G=(ue,te)=>{const q=[...y.features];q[ue]=te,w({...y,features:q})},Y=()=>{w({...y,features:[...y.features,""]})},ee=ue=>{const te=y.features.filter((q,ae)=>ae!==ue);w({...y,features:te})},le=()=>{const ue={colors:"",storage:"",ram:"",size:"",resolution:"",price:0,discounted_price:0,stock:0,custom_keys:[],custom_values:[]};w({...y,valid_options:[...y.valid_options,ue]})},J=ue=>{const te=y.valid_options.filter((q,ae)=>ae!==ue);w({...y,valid_options:te})},B=(ue,te,q)=>{const ae=[...y.valid_options];ae[ue]={...ae[ue],[te]:te==="price"||te==="discounted_price"||te==="stock"?parseFloat(q)||0:q},w({...y,valid_options:ae})},W=ue=>{const te=[...y.valid_options],q=te[ue];q.custom_keys||(q.custom_keys=[]),q.custom_values||(q.custom_values=[]),q.custom_keys.push(""),q.custom_values.push(""),w({...y,valid_options:te})},Z=(ue,te,q)=>{const ae=[...y.valid_options],pe=ae[ue];pe.custom_keys[te]=q,w({...y,valid_options:ae})},de=(ue,te,q)=>{const ae=[...y.valid_options],pe=ae[ue];pe.custom_values[te]=q,w({...y,valid_options:ae})},ne=(ue,te)=>{const q=[...y.valid_options],ae=q[ue];ae.custom_keys.splice(te,1),ae.custom_values.splice(te,1),w({...y,valid_options:q})},re=async ue=>{const te=ue.target.files[0];if(te){m(!0);try{const q=await g(te);q.success?(w(ae=>({...ae,images:[...ae.images,q.imageUrl].slice(0,5)})),We.info("Image uploaded successfully.")):We.error("Failed to upload image: "+q.message)}catch(q){console.error("Error uploading image:",q),We.error("Failed to upload image: "+q.message)}finally{m(!1)}}},ge=()=>{w({...y,videos:[...y.videos,""]})},ke=(ue,te)=>{const q=[...y.videos];q[ue]=te,w({...y,videos:q})},se=ue=>{w({...y,videos:y.videos.filter((te,q)=>q!==ue)})},oe=ue=>{ue.preventDefault(),o(y)};return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:i===1?"Edit Product - Basic Information":"Edit Product - Details & Media"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:r.jsx(qt,{size:24})})]}),r.jsx("form",{onSubmit:oe,children:i===1?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:_,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),r.jsx("input",{type:"text",id:"brand",name:"brand",value:y.brand,onChange:_,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),r.jsxs("select",{id:"category",name:"category",value:y.category,onChange:_,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[r.jsx("option",{value:"",children:"Select a category"}),r.jsx("option",{value:"Smartphone",children:"Smartphone"}),r.jsx("option",{value:"Laptop",children:"Laptop"}),r.jsx("option",{value:"Tablet",children:"Tablet"}),r.jsx("option",{value:"TV",children:"TV"}),r.jsx("option",{value:"Accessories",children:"Accessories"}),r.jsx("option",{value:"Audio",children:"Audio"}),r.jsx("option",{value:"Wearables",children:"Wearables"}),r.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP () *"}),r.jsx("input",{type:"number",id:"price",name:"price",value:y.price,onChange:_,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price () *"}),r.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:y.discount_price,onChange:_,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),r.jsx("input",{type:"text",id:"discount",name:"discount",value:y.discount,onChange:_,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),r.jsx("input",{type:"number",id:"stock",name:"stock",value:y.stock,onChange:_,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),r.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:_,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"button",onClick:()=>l(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),r.jsxs("button",{type:"button",onClick:Y,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Feature"]})]}),y.features.map((ue,te)=>r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"text",value:ue,onChange:q=>G(te,q.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),r.jsx("button",{type:"button",onClick:()=>ee(te),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:r.jsx(on,{size:16})})]},te))]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),r.jsxs("button",{type:"button",onClick:D,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(y.specifications).map(([ue,te],q)=>r.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[r.jsx("input",{type:"text",value:ue,onChange:ae=>{const pe={...y.specifications},me=pe[ue];delete pe[ue],w({...y,specifications:{...pe,[ae.target.value]:me}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),r.jsx("input",{type:"text",value:te,onChange:ae=>N(ue,ae.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),r.jsx("button",{type:"button",onClick:()=>T(ue),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:r.jsx(on,{size:16})})]},q))]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),r.jsxs("button",{type:"button",onClick:F,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Attribute"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(y.attributes).map(([ue,te])=>r.jsx(k,{initialKey:ue,initialValue:te,onKeyCommit:P,onValueChange:R,onDelete:V,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},ue)),r.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[r.jsx(Yn,{})," Add Attribute"]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),r.jsxs("button",{type:"button",onClick:le,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Option"]})]}),y.valid_options.map((ue,te)=>r.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsx("input",{type:"text",value:ue.colors||"",onChange:q=>B(te,"colors",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),r.jsx("input",{type:"text",value:ue.storage||"",onChange:q=>B(te,"storage",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),r.jsx("input",{type:"text",value:ue.ram||"",onChange:q=>B(te,"ram",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),r.jsx("input",{type:"text",value:ue.size||"",onChange:q=>B(te,"size",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx("input",{type:"number",value:ue.price||"",onChange:q=>B(te,"price",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),r.jsx("input",{type:"number",value:ue.discounted_price||"",onChange:q=>B(te,"discounted_price",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),r.jsx("input",{type:"number",value:ue.stock||"",onChange:q=>B(te,"stock",q.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),r.jsx("div",{className:"mt-2",children:ue.custom_keys&&ue.custom_keys.map((q,ae)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:q,onChange:pe=>Z(te,ae,pe.target.value),placeholder:"Custom Key",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),r.jsx("input",{type:"text",value:ue.custom_values[ae],onChange:pe=>de(te,ae,pe.target.value),placeholder:"Custom Value",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),r.jsx("button",{type:"button",onClick:()=>ne(te,ae),className:"p-2 text-red-500 hover:text-red-700",children:r.jsx(on,{})})]},ae))}),r.jsx("div",{className:"flex justify-between mt-2",children:r.jsxs("button",{type:"button",onClick:()=>W(te),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[r.jsx(Yn,{size:14,className:"mr-1"})," Add Custom Field"]})}),r.jsxs("button",{type:"button",onClick:()=>J(te),className:"p-1.5 rounded-md flex justify-between items-center",style:{color:"var(--error-color)"},children:[r.jsx("span",{className:"text-sm",children:"Delete Valid Option"}),r.jsx(on,{size:16})]})]},te))]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),r.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[y.images.map((ue,te)=>r.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[r.jsx("img",{src:ue,alt:`Product ${te+1}`,className:"w-full h-full object-cover"}),r.jsx("button",{type:"button",onClick:()=>{const q=[...y.images];q.splice(te,1),w({...y,images:q})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:r.jsx(qt,{size:12})})]},te)),y.images.length<5&&r.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors relative",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload-edit").click(),children:[r.jsx("input",{type:"file",id:"image-upload-edit",accept:"image/*",onChange:re,className:"hidden"}),r.jsxs("div",{className:"flex flex-col items-center",children:[h?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):r.jsx(K2,{size:20,style:{color:"var(--text-secondary)"}}),r.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:h?"Uploading...":"Add Image"})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:y.featured,onChange:_,className:"mr-2"}),r.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Videos"}),r.jsxs("div",{className:"space-y-2 mb-3",children:[y.videos.map((ue,te)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"url",value:ue,onChange:q=>ke(te,q.target.value),placeholder:"Enter video URL",className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),r.jsx("button",{type:"button",onClick:()=>se(te),className:"p-2 text-red-500 hover:text-red-700",children:r.jsx(on,{})})]},te)),r.jsxs("button",{type:"button",onClick:ge,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[r.jsx(Yn,{size:16}),r.jsx("span",{children:"Add Video URL"})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("button",{type:"button",onClick:()=>l(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Changes"})]})]})]})})]})})},_oe=()=>{const[n,t]=z.useState(!1),[o,i]=z.useState(!1),[l,h]=z.useState("all"),[m,g]=z.useState(""),[y,w]=z.useState("newest"),[k,_]=z.useState(null),[N,D]=z.useState(!1),[T,R]=z.useState(!1),[P,F]=z.useState(1),V=10,{updateProduct:G,addProduct:Y,filterAndSortProducts:ee,fetchProducts:le,filteredProducts:J}=ci();z.useEffect(()=>{le()},[le]),z.useEffect(()=>{ee(l,m,y)},[l,m,y,ee]);const B=q=>{w(q.target.value)},W=()=>{h("all"),g(""),w("newest"),F(1)},Z=(J==null?void 0:J.length)||0,de=Math.ceil(Z/V),ne=(P-1)*V,re=ne+V,ge=(J==null?void 0:J.slice(ne,re))||[],ke=q=>{F(q),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{F(1)},[l,m,y]);const se=q=>{_(q),D(!0)},oe=q=>{D(!1),_(q),R(!0)},ue=async q=>{try{const ae=k.id,me=["name","brand","category","description"].filter(Te=>!q[Te]);if(me.length>0){console.error(`Missing required fields: ${me.join(", ")}`);return}const be=await G(ae,q);be.success?(R(!1),console.log(`Product updated successfully: ${ae}`)):console.error(`Failed to update product: ${be.message}`)}catch(ae){console.error("Error in update product handler:",ae)}},te=async q=>{try{const pe=["name","brand","category","price","stock","description","images"].filter(be=>!q[be]);if(pe.length>0){console.error(`Missing required fields: ${pe.join(", ")}`);return}const me=await Y(q);me.success?(t(!1),console.log(`Product added successfully with ID: ${me.product_id}`)):console.error(`Failed to add product: ${me.message}`)}catch(ae){console.error("Error in add product handler:",ae)}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Management"}),r.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:r.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[r.jsx(Yn,{className:"mr-2",size:16}),"Add New Product"]})})]}),r.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[240px]",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),r.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:q=>g(q.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"}})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("select",{value:l,onChange:q=>h(q.target.value),className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"Smartphone",children:"Smartphones"}),r.jsx("option",{value:"Laptop",children:"Laptops"}),r.jsx("option",{value:"Tablet",children:"Tablets"}),r.jsx("option",{value:"Accessory",children:"Accessories"})]}),r.jsxs("select",{value:y,onChange:B,className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("option",{value:"newest",children:"Sort: Newest"}),r.jsx("option",{value:"price-asc",children:"Sort: Price (Low to High)"}),r.jsx("option",{value:"price-desc",children:"Sort: Price (High to Low)"}),r.jsx("option",{value:"name-asc",children:"Sort: Name (A-Z)"}),r.jsx("option",{value:"stock-asc",children:"Sort: Stock (Low to High)"})]}),r.jsx("button",{onClick:W,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-secondary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"Clear Filters"})]})]}),r.jsx(boe,{products:ge,onViewProduct:se,onEditProduct:oe}),Z>0&&r.jsx(Ia,{currentPage:P,totalPages:de,onPageChange:ke,totalItems:Z,itemsPerPage:V}),n&&r.jsx(xoe,{onClose:()=>t(!1),onSave:te}),o&&r.jsx(woe,{onClose:()=>i(!1)}),N&&k&&r.jsx(koe,{product:k,onClose:()=>D(!1),onEdit:oe}),T&&k&&r.jsx(Coe,{product:k,onClose:()=>R(!1),onSave:ue})]})},Dl=un(()=>({getProductTotalStock:n=>{if(!n)return 0;if(n.valid_options&&n.valid_options.length>0)return n.valid_options.reduce((o,i)=>{const l=typeof i.stock=="number"?i.stock:0;return o+l},0);const t=n.stock;return typeof t=="number"?t:0},getLowStockVariants:n=>!n||!n.valid_options?[]:n.valid_options.filter(t=>{const o=typeof t.stock=="number"?t.stock:0;return o<=5&&o>0}),getOutOfStockVariants:n=>!n||!n.valid_options?[]:n.valid_options.filter(t=>(typeof t.stock=="number"?t.stock:0)===0),getProductStockStatus:n=>{if(!n)return{status:"unknown",details:[]};const t=Dl.getState().getProductTotalStock(n),o=Dl.getState().getLowStockVariants(n),i=Dl.getState().getOutOfStockVariants(n);let l="in-stock";const h=[];return t===0?(l="out-of-stock",h.push("All variants out of stock")):i.length>0&&(l="partial-out-of-stock",h.push(`${i.length} variant(s) out of stock`)),t<=5&&t>0?(l=l==="in-stock"?"low-stock":l,h.push(`Total stock low (${t} units)`)):o.length>0&&(l=l==="in-stock"?"low-stock":l,h.push(`${o.length} variant(s) low on stock`)),{status:l,details:h,totalStock:t,lowStockVariants:o,outOfStockVariants:i}},getFilteredInventory:(n,t,o)=>{const l=ci.getState().products.list,h=Dl.getState();let m=[...l];if(n&&n!=="all"&&(m=m.filter(g=>g.category.toLowerCase()===n.toLowerCase())),t&&t!=="all")switch(t){case"in-stock":m=m.filter(g=>{const y=h.getProductStockStatus(g);return y.status==="in-stock"&&y.totalStock>5});break;case"low-stock":m=m.filter(g=>{const y=h.getProductStockStatus(g);return["low-stock","partial-out-of-stock"].includes(y.status)&&y.totalStock>0});break;case"out-of-stock":m=m.filter(g=>h.getProductStockStatus(g).status==="out-of-stock");break}if(o&&o.trim()){const g=o.toLowerCase().trim();m=m.filter(y=>y.name.toLowerCase().includes(g)||y.brand.toLowerCase().includes(g)||y.category.toLowerCase().includes(g))}return m},getLowStockProducts:()=>{const t=ci.getState().products.list,o=Dl.getState();return t.filter(i=>{const l=o.getProductTotalStock(i);return l<=5&&l>0?!0:i.valid_options&&i.valid_options.length>0?i.valid_options.some(h=>{const m=typeof h.stock=="number"?h.stock:0;return m<=5&&m>0}):!1})},getOutOfStockProducts:()=>{const t=ci.getState().products.list,o=Dl.getState();return t.filter(i=>o.getProductTotalStock(i)===0?!0:i.valid_options&&i.valid_options.length>0?i.valid_options.some(h=>(typeof h.stock=="number"?h.stock:0)===0):!1)},updateProductStock:async(n,t)=>{const o=ci.getState();try{return await o.updateProduct(n,{stock:t})}catch(i){return console.error("Error updating product stock:",i),{success:!1,message:"Failed to update stock"}}},bulkUpdateStock:async n=>{const t=ci.getState(),o=[];for(const i of n)try{const l=await t.updateProduct(i.productId,{stock:i.newStock});o.push({...i,success:l.success,message:l.message})}catch{o.push({...i,success:!1,message:"Failed to update stock"})}return o},getInventoryStats:()=>{const t=ci.getState().products.list,o=Dl.getState(),i=t.length,l=t.filter(y=>{const w=o.getProductStockStatus(y);return w.status==="in-stock"&&w.totalStock>5}).length,h=t.filter(y=>{const w=o.getProductStockStatus(y);return["low-stock","partial-out-of-stock"].includes(w.status)&&w.totalStock>0}).length,m=t.filter(y=>o.getProductStockStatus(y).status==="out-of-stock").length,g=t.reduce((y,w)=>{const k=o.getProductTotalStock(w),_=w.price||0;return y+k*parseFloat(_)},0);return{totalProducts:i,inStock:l,lowStock:h,outOfStock:m,totalStockValue:g}},generateSKU:n=>{if(n.sku)return n.sku;const t=n.brand.substring(0,3).toUpperCase(),o=n.name.substring(0,3).toUpperCase(),i=n.category.substring(0,2).toUpperCase();return`${t}-${o}-${i}-${n.id}`}})),Aoe=({isOpen:n,onClose:t,product:o})=>{const[i,l]=z.useState([]),[h,m]=z.useState(null),[g,y]=z.useState(""),[w,k]=z.useState(!1),[_,N]=z.useState(!1),{updateVariantStock:D}=ci();z.useEffect(()=>{o&&o.valid_options&&(l([...o.valid_options]),N(!1))},[o]);const T=(Y,ee)=>{const le=i.map(J=>J.id===Y?{...J,stock:parseInt(ee,10)||0}:J);l(le),N(!0)},R=(Y,ee)=>{m(Y),y(ee.toString())},P=Y=>{const ee=parseInt(g,10);if(isNaN(ee)||ee<0){Zt.error("Please enter a valid stock value (0 or greater)");return}T(Y,ee),m(null),y("")},F=()=>{m(null),y("")},V=async()=>{if(_){k(!0);try{const Y=i.map(le=>({variant_id:le.id,new_stock:le.stock||0})),ee=await D(o.id,Y);ee.success?(N(!1),Zt.success(`Variant stock updated successfully! ${ee.updatedVariants||Y.length} variants updated.`),t()):(console.error("Failed to update variant stocks:",ee.message),Zt.error(ee.message||"Failed to update variant stock"))}catch(Y){console.error("Error updating variant stocks:",Y),Zt.error("Error updating variant stocks. Please try again.")}finally{k(!1)}}},G=()=>i.reduce((Y,ee)=>Y+(ee.stock||0),0);return!n||!o?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-90vh overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",maxHeight:"90vh"},children:[r.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Manage Variant Stock"}),r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[o.name," - Total Stock: ",G()]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md",style:{borderRadius:"var(--rounded-md)"},children:r.jsx(qt,{size:20,style:{color:"var(--text-secondary)"}})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:i.length===0?r.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:[r.jsx("p",{children:"This product has no variants configured."}),r.jsxs("p",{className:"text-sm mt-2",children:["Current stock: ",o.stock||0]})]}):r.jsx("div",{className:"space-y-4",children:i.map((Y,ee)=>{var le,J,B;return r.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium mb-1",style:{color:"var(--text-primary)"},children:["Variant #",ee+1]}),r.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:["ID: ",Y.id]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock Level:"}),h===Y.id?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"number",min:"0",value:g,onChange:W=>y(W.target.value),className:"w-20 text-center p-2 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},autoFocus:!0,onKeyPress:W=>{W.key==="Enter"?P(Y.id):W.key==="Escape"&&F()}}),r.jsx("button",{onClick:()=>P(Y.id),className:"p-2 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:r.jsx(Kn,{size:16})}),r.jsx("button",{onClick:F,className:"p-2 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:r.jsx(qt,{size:16})})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-bold px-3 py-1 rounded",style:{color:Y.stock===0?"var(--error-color)":Y.stock<=5?"var(--warning-color)":"var(--success-color)",backgroundColor:Y.stock===0?"rgba(239, 68, 68, 0.1)":Y.stock<=5?"rgba(245, 158, 11, 0.1)":"rgba(16, 185, 129, 0.1)"},children:[Y.stock||0," units"]}),r.jsx("button",{onClick:()=>R(Y.id,Y.stock||0),className:"p-2 rounded-md hover:bg-gray-100",title:"Edit stock level",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:r.jsx(Vm,{size:16})})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 mb-4",children:[Y.colors&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.colors})]}),Y.storage&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.storage})]}),Y.ram&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.ram})]}),Y.size&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.size})]}),Y.resolution&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.resolution})]}),Y.capacity&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Capacity:"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.capacity})]})]}),Y.custom_keys&&Y.custom_values&&Y.custom_keys.length>0&&r.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 mb-4 pt-3 border-t",style:{borderColor:"var(--border-primary)"},children:Y.custom_keys.map((W,Z)=>W&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[W,":"]}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Y.custom_values[Z]})]},Z))}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Original Price:"}),r.jsxs("p",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["",((le=Y.price)==null?void 0:le.toLocaleString())||0]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",((J=Y.discounted_price)==null?void 0:J.toLocaleString())||((B=Y.price)==null?void 0:B.toLocaleString())||0]}),Y.discounted_price&&Y.discounted_price!==Y.price&&r.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium mt-1 inline-block",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[Math.round((Y.price-Y.discounted_price)/Y.price*100),"% OFF"]})]})]})]},Y.id)})})}),i.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsx("button",{onClick:V,disabled:!_||w,className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:_?"var(--brand-primary)":"var(--bg-secondary)",color:_?"var(--text-on-brand)":"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:w?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Tm,{size:16}),r.jsx("span",{children:"Save Changes"})]})})]})]})})},Noe=({categoryFilter:n,stockFilter:t,searchQuery:o})=>{const[i,l]=z.useState(null),[h,m]=z.useState(""),[g,y]=z.useState(null),[w,k]=z.useState(!1),{products:_,fetchProducts:N}=ci(),{getFilteredInventory:D,updateProductStock:T,generateSKU:R,getProductStockStatus:P}=Dl(),F=ne=>{if(!ne)return 0;if(ne.valid_options&&ne.valid_options.length>0){const ge=ne.valid_options[0],ke=ge.discounted_price||ge.price;return typeof ke=="number"?ke:0}const re=ne.discount_price||ne.price;return typeof re=="number"?re:0},V=ne=>{if(!ne)return 0;if(ne.valid_options&&ne.valid_options.length>0){const ke=ne.valid_options[0].price;return typeof ke=="number"?ke:0}const re=ne.price;return typeof re=="number"?re:0},G=ne=>{if(!ne)return 0;if(ne.valid_options&&ne.valid_options.length>0)return ne.valid_options.reduce((ge,ke)=>{const se=typeof ke.stock=="number"?ke.stock:0;return ge+se},0);const re=ne.stock;return typeof re=="number"?re:0};z.useEffect(()=>{_.list.length===0&&N()},[N,_.list.length]);const Y=D(n,t,o),ee=(ne,re)=>{l(ne),m(re.toString())},le=async ne=>{const re=parseInt(h,10);if(!isNaN(re)&&re>=0){const ge=await T(ne,re);ge.success?(l(null),m(""),N()):console.error("Failed to update stock:",ge.message)}},J=()=>{l(null),m("")},B=ne=>{y(ne),k(!0)},W=()=>{y(null),k(!1)},Z=ne=>ne.valid_options&&ne.valid_options.length>0,de=ne=>{const re=P(ne);return re.status==="out-of-stock"?{text:"Out of Stock",bgColor:"#FEF2F2",textColor:"#DC2626",icon:r.jsx(xm,{size:14})}:re.status==="partial-out-of-stock"?{text:"Variants Out",bgColor:"#FEF2F2",textColor:"#DC2626",icon:r.jsx(xm,{size:14})}:re.status==="low-stock"?{text:re.lowStockVariants.length>0?"Variants Low":"Low Stock",bgColor:"#FFFBEB",textColor:"#D97706",icon:r.jsx(xm,{size:14})}:{text:"In Stock",bgColor:"#F0FDF4",textColor:"#16A34A",icon:r.jsx(On,{size:14})}};return _.loading?r.jsx("div",{className:"flex justify-center items-center p-8",children:r.jsx("div",{className:"text-lg",children:"Loading inventory data..."})}):_.error?r.jsx("div",{className:"flex justify-center items-center p-8",children:r.jsxs("div",{className:"text-red-600",children:["Error: ",_.error]})}):r.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"SKU"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Current Stock"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:Y.filter(ne=>ne&&ne.id).map(ne=>{const re=de(ne),ge=R(ne),ke=ne.images&&ne.images.length>0?ne.images[0]:"https://via.placeholder.com/50";return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:r.jsx("img",{src:ke,alt:ne.name,className:"w-full h-full object-cover",onError:se=>{se.target.src="https://via.placeholder.com/50"}})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:ne.name}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ne.brand})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:ge})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i===ne.id?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("input",{type:"number",min:"0",value:h,onChange:se=>m(se.target.value),className:"w-16 text-center p-1 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-sm)"},autoFocus:!0,onKeyPress:se=>{se.key==="Enter"?le(ne.id):se.key==="Escape"&&J()}}),r.jsx("button",{onClick:()=>le(ne.id),className:"ml-2 p-1 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:r.jsx(Tm,{size:16})}),r.jsx("button",{onClick:J,className:"ml-1 p-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:r.jsx(qt,{size:16})})]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"text-sm font-medium mr-2",style:{color:G(ne)===0?"var(--error-color)":G(ne)<=5?"var(--warning-color)":"var(--text-primary)"},children:G(ne)}),r.jsxs("div",{className:"flex space-x-1",children:[Z(ne)&&r.jsx("button",{onClick:()=>B(ne),className:"p-1 rounded-md hover:bg-gray-100",title:"View variant stocks",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:r.jsx(Gi,{size:14})}),r.jsx("button",{onClick:()=>ee(ne.id,G(ne)),className:"p-1 rounded-md hover:bg-gray-100",title:"Edit total stock level",children:r.jsx(Vm,{size:14,style:{color:"var(--brand-primary)"}})})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex justify-center",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:re.bgColor,color:re.textColor},children:[r.jsx("span",{className:"mr-1",children:re.icon}),re.text]})})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",F(ne).toLocaleString()]}),V(ne)!==F(ne)&&r.jsxs("div",{className:"text-xs line-through",style:{color:"var(--text-secondary)"},children:["",V(ne).toLocaleString()]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:ne.category})})]},ne.id)})})]}),Y.length===0&&r.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"No products matching your filters"}),r.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",Y.length," products"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),r.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),r.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]}),r.jsx(Aoe,{isOpen:w,onClose:W,product:g})]})},joe=({products:n})=>{const{getProductTotalStock:t,getProductStockStatus:o}=Dl();return!n||n.length===0?r.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full",style:{backgroundColor:"#F0FDF4"},children:r.jsx(Va,{size:16,style:{color:"#16A34A"}})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"All Good!"}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No products are currently low on stock."})]})]})}):r.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FFFBEB",borderColor:"#FDE68A"},children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(xm,{size:20,style:{color:"#D97706"}})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"#92400E"},children:"Low Stock Alert"}),r.jsxs("div",{className:"mt-2 text-sm",style:{color:"#B45309"},children:[r.jsxs("p",{children:[n.length," product",n.length>1?"s":""," running low on stock:"]}),r.jsxs("ul",{className:"mt-2 space-y-1",children:[n.slice(0,3).map(i=>{const l=o(i),h=t(i);return r.jsxs("li",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:i.name}),r.jsxs("span",{className:"font-medium",children:[h," total"]})]}),l.details.length>0&&r.jsxs("div",{className:"text-xs ml-2",style:{color:"#92400E"},children:[" ",l.details.join(", ")]}),(l.lowStockVariants.length>0||l.outOfStockVariants.length>0)&&r.jsxs("div",{className:"text-xs ml-2 space-y-0.5",children:[l.outOfStockVariants.map((m,g)=>r.jsxs("div",{style:{color:"#DC2626"},children:["",m.colors||m.storage||m.ram||`Variant ${m.id}`,": Out of stock"]},`out-${g}`)),l.lowStockVariants.map((m,g)=>r.jsxs("div",{style:{color:"#D97706"},children:["",m.colors||m.storage||m.ram||`Variant ${m.id}`,": ",m.stock," left"]},`low-${g}`))]})]},i.id)}),n.length>3&&r.jsxs("li",{className:"font-medium",children:["...and ",n.length-3," more"]})]})]})]})]})})},Soe=()=>{const[n,t]=z.useState("all"),[o,i]=z.useState("all"),[l,h]=z.useState(""),[m,g]=z.useState(1),y=10,{products:w,fetchProducts:k}=ci(),{getLowStockProducts:_,getInventoryStats:N,getProductStockStatus:D}=Dl();z.useEffect(()=>{w.list.length===0&&k()},[k,w.list.length]);const T=_(),R=N(),P=w.list.filter(B=>{const W=B.name.toLowerCase().includes(l.toLowerCase())||B.brand.toLowerCase().includes(l.toLowerCase()),Z=n==="all"||B.category===n;let de=!0;if(o==="in-stock"){const ne=D(B);de=ne.status==="in-stock"&&ne.totalStock>10}else if(o==="low-stock"){const ne=D(B);de=["low-stock","partial-out-of-stock"].includes(ne.status)&&ne.totalStock>0}else o==="out-of-stock"&&(de=D(B).status==="out-of-stock");return W&&Z&&de}),F=P.length,V=Math.ceil(F/y),G=(m-1)*y,Y=G+y,ee=P.slice(G,Y),le=B=>{g(B),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{g(1)},[n,o,l]);const J=()=>{const B=["Product Name","Brand","Category","Stock","Price","SKU"],W=w.list.map(ge=>[ge.name,ge.brand,ge.category,ge.stock,ge.price,`${ge.brand.substring(0,3).toUpperCase()}-${ge.name.substring(0,3).toUpperCase()}-${ge.category.substring(0,2).toUpperCase()}-${ge.id}`]),Z=[B,...W].map(ge=>ge.map(ke=>`"${ke}"`).join(",")).join(`
`),de=new Blob([Z],{type:"text/csv;charset=utf-8;"}),ne=document.createElement("a"),re=URL.createObjectURL(de);ne.setAttribute("href",re),ne.setAttribute("download",`inventory_${new Date().toISOString().split("T")[0]}.csv`),ne.style.visibility="hidden",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne)};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Inventory Management"}),r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Track, update and manage product stock levels"})]}),r.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:r.jsxs("button",{onClick:J,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx(ui,{className:"mr-2",size:16}),"Export CSV"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Products"}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:R.totalProducts})]})})}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"In Stock"}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"#16A34A"},children:R.inStock})]})})}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Low Stock"}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"#D97706"},children:R.lowStock})]})})}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Out of Stock"}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"#DC2626"},children:R.outOfStock})]})})})]}),T.length>0&&r.jsx("div",{className:"mb-6",children:r.jsx(joe,{products:T})}),r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),r.jsx("input",{type:"text",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:l,onChange:B=>h(B.target.value)})]})}),r.jsx("div",{children:r.jsxs("div",{className:"flex items-center h-full",children:[r.jsx(nd,{className:"mr-2",style:{color:"var(--text-secondary)"}}),r.jsxs("select",{value:n,onChange:B=>t(B.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"Smartphone",children:"Smartphones"}),r.jsx("option",{value:"Laptop",children:"Laptops"}),r.jsx("option",{value:"Tablet",children:"Tablets"}),r.jsx("option",{value:"Accessory",children:"Accessories"})]})]})}),r.jsx("div",{children:r.jsx("div",{className:"flex items-center h-full",children:r.jsxs("select",{value:o,onChange:B=>i(B.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("option",{value:"all",children:"All Stock Levels"}),r.jsx("option",{value:"in-stock",children:"In Stock"}),r.jsx("option",{value:"low-stock",children:"Low Stock"}),r.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})})})]}),r.jsx(Noe,{products:ee,categoryFilter:n,stockFilter:o,searchQuery:l}),F>0&&r.jsx(Ia,{currentPage:m,totalPages:V,onPageChange:le,totalItems:F,itemsPerPage:y})]})},Eoe=({status:n})=>{const t={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:r.jsx(Vi,{size:12,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:r.jsx(Kn,{size:12,className:"mr-1"})},processing:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:r.jsx(bt,{size:12,className:"mr-1"})},assigned:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:r.jsx(xs,{size:12,className:"mr-1"})},shipped:{bg:"var(--brand-primary-light)",color:"var(--brand-primary)",icon:r.jsx(Er,{size:12,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:r.jsx(Kn,{size:12,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:r.jsx(qt,{size:12,className:"mr-1"})}},o=t[n]||t.pending_payment;return r.jsxs("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:o.bg,color:o.color},children:[o.icon,n.replace("_"," ").charAt(0).toUpperCase()+n.replace("_"," ").slice(1)]})},Doe=({userId:n})=>{const{getCachedUser:t}=zo(),[o,i]=z.useState(null),[l,h]=z.useState(!0);if(z.useEffect(()=>{(async()=>{try{const y=await t(n);i(y)}catch(y){console.error("Error fetching user:",y),i(null)}finally{h(!1)}})()},[n,t]),l)return r.jsx(hi,{className:"animate-spin",size:14});const m=o?`${o.first_name||""} ${o.last_name||""}`.trim()||o.email||o.username:`User-${n.substring(0,8)}`;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:m}),r.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[n.substring(0,12),"..."]})]})},Moe=n=>`User-${n.substring(0,8)}`,Toe=n=>{try{return new Date(n).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},Ioe=({onSelectOrder:n,statusFilter:t,searchQuery:o})=>{const{orders:i}=zo(),{list:l,loading:h}=i,m=z.useMemo(()=>l.filter(g=>{const y=t==="all"||g.status===t,w=Moe(g.user_id),k=!o||g.order_id.toLowerCase().includes(o.toLowerCase())||w.toLowerCase().includes(o.toLowerCase())||g.user_id.toLowerCase().includes(o.toLowerCase());return y&&k}),[l,t,o]);return r.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:h?r.jsxs("div",{className:"p-8 text-center animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Items"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:m.length>0?m.map(g=>{var y,w,k,_,N,D;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>n(g),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[g.order_id.substring(0,8),"..."]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:Toe(g.created_at)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(Doe,{userId:g.user_id})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[((y=g.order_items)==null?void 0:y.reduce((T,R)=>T+(R.quantity||0),0))||0,"items"]}),((w=g.order_items)==null?void 0:w.length)>0&&r.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[g.order_items[0].name,g.order_items.length>1&&` +${g.order_items.length-1} more`]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((k=g.total_amount)==null?void 0:k.toLocaleString())||0]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:g.currency||"INR"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(Eoe,{status:g.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:((_=g.payment_details)==null?void 0:_.method)||"N/A"}),r.jsx("div",{className:"text-xs",style:{color:((N=g.payment_details)==null?void 0:N.status)==="captured"?"var(--success-color)":"var(--text-secondary)"},children:((D=g.payment_details)==null?void 0:D.status)||"Pending"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Order Details",onClick:T=>{T.stopPropagation(),n(g)},children:r.jsx(Gi,{size:18})})})})]},g.order_id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsx("div",{style:{color:"var(--text-secondary)"},children:o||t!=="all"?"No orders match your filter criteria":"No orders found"})})})})]}),r.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",m.length," of ",l.length," orders"]})})]})})},Roe=({order:n})=>{var Z,de,ne,re,ge,ke,se,oe,ue,te,q,ae;const[t,o]=z.useState(!1),[i,l]=z.useState({}),[h,m]=z.useState(!1),[g,y]=z.useState(""),[w,k]=z.useState(null),[_,N]=z.useState(!1),{editOrder:D,assignOrderToDeliveryPartner:T,deliveryPartners:R,fetchDeliveryPartners:P,getCachedUser:F}=zo();z.useEffect(()=>{n&&l({status:n.status||"",estimated_delivery:n.estimated_delivery||""})},[n]),z.useEffect(()=>{n!=null&&n.user_id&&(N(!0),F(n.user_id).then(pe=>{k(pe)}).catch(pe=>{console.error("Failed to fetch customer data:",pe)}).finally(()=>{N(!1)}))},[n==null?void 0:n.user_id,F]),z.useEffect(()=>{h&&R.list.length===0&&P()},[h,R.list.length,P]);const V=async()=>{try{if(!n||!n.user_id||!n.order_id){Zt.error("Order details are incomplete.");return}await D(n.user_id,n.order_id,i),o(!1),Zt.success("Order updated successfully!")}catch(pe){Zt.error(pe.message||"Failed to update order")}},G=async()=>{if(!g){Zt.error("Please select a delivery partner");return}if(!n||!n.user_id||!n.order_id){Zt.error("Order details are incomplete for assignment.");return}try{await T(n.user_id,n.order_id,g),m(!1),y(""),Zt.success("Delivery partner assigned successfully!")}catch(pe){Zt.error(pe.message||"Failed to assign delivery partner")}};if(!n)return null;const Y={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:r.jsx(Zr,{size:14,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:r.jsx(Kn,{size:14,className:"mr-1"})},assigned:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:r.jsx(xs,{size:14,className:"mr-1"})},shipped:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:r.jsx(Er,{size:14,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:r.jsx(Kn,{size:14,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:r.jsx(qt,{size:14,className:"mr-1"})}},ee=()=>{if(_)return"Loading...";if(!w)return`User ID: ${n.user_id.substring(0,8)}...`;const{first_name:pe="",last_name:me="",email:be=""}=w;return pe||me?`${pe} ${me}`.trim():be.split("@")[0]},le=pe=>pe?new Date(pe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set",J=()=>{if(!n.address)return"No address provided";const{street_address:pe,city:me,state:be,postal_code:Te}=n.address;return`${pe}, ${me}, ${be} ${Te}`},B=()=>{if(!n.payment_details)return"No payment info";const{method:pe,card_last4:me,card_network:be}=n.payment_details;return pe==="upi"?"UPI Payment":pe==="card"&&me?`${be||"Card"} ending in ${me}`:(pe==null?void 0:pe.toUpperCase())||"Unknown"},W=pe=>{const me=()=>{const je=["pending_payment","payment_successful","assigned","shipped","delivered"],Ye=je.indexOf(n.status),Ve=je.indexOf(pe);return n.status==="cancelled"?{iconClass:pe==="pending_payment"?"completed":"cancelled",textClass:pe==="pending_payment"?"completed":"cancelled"}:Ve<=Ye?{iconClass:"completed",textClass:"completed"}:{iconClass:"pending",textClass:"pending"}},{iconClass:be,textClass:Te}=me();return{icon:be==="completed"?r.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--success-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--success-color-light)"}}):be==="cancelled"?r.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--error-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--error-color-light)"}}):r.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"var(--border-secondary)"}}),textStyle:{color:Te==="completed"?"var(--text-primary)":Te==="cancelled"?"var(--error-color)":"var(--text-secondary)",fontWeight:Te==="pending"?"normal":"medium"}}};return r.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",n.order_id.substring(0,8),"..."]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"px-3 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:((Z=Y[n.status])==null?void 0:Z.bg)||Y.pending_payment.bg,color:((de=Y[n.status])==null?void 0:de.color)||Y.pending_payment.color},children:[((ne=Y[n.status])==null?void 0:ne.icon)||Y.pending_payment.icon,n.status.replace("_"," ").split(" ").map(pe=>pe.charAt(0).toUpperCase()+pe.slice(1)).join(" ")]}),r.jsx(tt,{variant:"secondary",size:"sm",icon:r.jsx($w,{size:14}),onClick:()=>o(!t),children:t?"Cancel":"Edit"})]})]})}),r.jsxs("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(xs,{className:"mr-2",size:16}),"Customer Information"]}),r.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[r.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[r.jsx("strong",{children:"Name:"})," ",ee()]}),(w==null?void 0:w.email)&&r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[r.jsx("strong",{children:"Email:"})," ",w.email]}),((re=n.address)==null?void 0:re.phone_number)&&r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[r.jsx("strong",{children:"Phone:"})," ",n.address.phone_number]})]})]}),t&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Order Status"}),r.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:r.jsxs("select",{value:i.status,onChange:pe=>l(me=>({...me,status:pe.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[r.jsx("option",{value:"pending_payment",children:"Pending Payment"}),r.jsx("option",{value:"payment_successful",children:"Payment Successful"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"shipped",children:"Shipped"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Delivery Partner"}),!n.assigned_partner_id&&r.jsx(tt,{variant:"secondary",size:"sm",icon:r.jsx(xs,{size:14}),onClick:()=>m(!0),children:"Assign"})]}),r.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:n.assigned_partner_id?`Partner ID: ${n.assigned_partner_id}`:"Not assigned"})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(An,{className:"mr-2",size:16}),"Shipping Address"]}),r.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:J()}),((ge=n.address)==null?void 0:ge.type)&&r.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded",style:{backgroundColor:"var(--info-color-light)",color:"var(--info-color)"},children:n.address.type})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Vi,{className:"mr-2",size:16}),"Payment Information"]}),r.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[r.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[r.jsx("strong",{children:"Method:"})," ",B()]}),((ke=n.payment_details)==null?void 0:ke.status)&&r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[r.jsx("strong",{children:"Status:"}),n.payment_details.status.charAt(0).toUpperCase()+n.payment_details.status.slice(1)]}),((se=n.payment_details)==null?void 0:se.captured_at)&&r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[r.jsx("strong",{children:"Captured:"}),le(n.payment_details.captured_at)]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(La,{className:"mr-2",size:16}),"Order Items"]}),r.jsxs("div",{className:"rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[r.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:(oe=n.order_items)==null?void 0:oe.map((pe,me)=>{var be,Te;return r.jsx("div",{className:"p-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:pe.name||"Product Name"}),pe.brand&&r.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Brand: ",pe.brand]}),pe.model&&r.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",pe.model]}),r.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Qty: ",pe.quantity||1,"  ",(be=pe.price_at_purchase)==null?void 0:be.toLocaleString()]})]}),r.jsxs("p",{className:"text-sm font-medium ml-4",style:{color:"var(--text-primary)"},children:["",(Te=pe.total_item_price)==null?void 0:Te.toLocaleString()]})]})},`${pe.product_id}-${me}`)})}),r.jsxs("div",{className:"p-3 flex justify-between font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.03)",color:"var(--text-primary)"},children:[r.jsx("p",{children:"Total Amount"}),r.jsxs("p",{children:["",(ue=n.total_amount)==null?void 0:ue.toLocaleString()]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Order Timeline"}),r.jsx("div",{className:"space-y-4",children:((q=(te=n.tracking_info)==null?void 0:te.status_history)==null?void 0:q.length)>0?n.tracking_info.status_history.map((pe,me,be)=>{const{icon:Te,textStyle:je}=W(pe.status);return r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"mr-3 relative",children:[Te,me<be.length-1&&r.jsx("div",{className:"h-full w-0.5 absolute top-3 left-1.5",style:{backgroundColor:"var(--border-secondary)"}})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm",style:je,children:pe.description||pe.status.replace("_"," ").split(" ").map(Ye=>Ye.charAt(0).toUpperCase()+Ye.slice(1)).join(" ")}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:le(pe.timestamp)})]})]},`${pe.status}-${me}`)}):r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"mr-3",children:W("pending_payment").icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm",style:W("pending_payment").textStyle,children:"Order Created"}),r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:le(n.created_at)})]})]})})]}),((ae=n.tracking_info)==null?void 0:ae.tracking_number)&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(bt,{className:"mr-2",size:16}),"Tracking Information"]}),r.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[r.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[r.jsx("strong",{children:"Tracking Number:"}),n.tracking_info.tracking_number]}),n.tracking_info.carrier&&r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[r.jsx("strong",{children:"Carrier:"})," ",n.tracking_info.carrier]})]})]}),n.estimated_delivery&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Er,{className:"mr-2",size:16}),"Estimated Delivery"]}),r.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t?r.jsx("input",{type:"datetime-local",value:i.estimated_delivery?new Date(i.estimated_delivery).toISOString().slice(0,16):"",onChange:pe=>l(me=>({...me,estimated_delivery:pe.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}):r.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:le(n.estimated_delivery)})})]})]}),r.jsx("div",{className:"p-4 border-t flex justify-between space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:t&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(tt,{variant:"secondary",size:"sm",icon:r.jsx(fx,{size:16}),onClick:()=>o(!1),children:"Cancel"}),r.jsx(tt,{variant:"primary",size:"sm",icon:r.jsx(Tm,{size:16}),onClick:V,children:"Save Changes"})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Assign Delivery Partner"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Delivery Partner"}),r.jsxs("select",{value:g,onChange:pe=>y(pe.target.value),className:"w-full p-2 border rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[r.jsx("option",{value:"",children:"Select a partner..."}),R.list.filter(pe=>pe.is_verified).map(pe=>r.jsxs("option",{value:pe.partner_id,children:[pe.name," - ",pe.email]},pe.partner_id))]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>{m(!1),y("")},children:"Cancel"}),r.jsx(tt,{variant:"primary",size:"sm",onClick:G,disabled:!g,children:"Assign Partner"})]})]})})]})},Poe=()=>{const[n,t]=z.useState(null),[o,i]=z.useState(""),[l,h]=z.useState("all"),[m,g]=z.useState(!1),[y,w]=z.useState(1),k=10,{orders:_,fetchOrders:N}=zo(),{loading:D,statusCounts:T}=_;z.useEffect(()=>{N()},[N]);const R=_.list.filter(B=>{var de,ne,re;const W=((de=B.order_id)==null?void 0:de.toString().includes(o))||((ne=B.user_id)==null?void 0:ne.toLowerCase().includes(o.toLowerCase()))||((re=B.invoice_id)==null?void 0:re.toLowerCase().includes(o.toLowerCase())),Z=l==="all"||B.status===l;return W&&Z}),P=R.length,F=Math.ceil(P/k),V=(y-1)*k,G=V+k,Y=R.slice(V,G),ee=B=>{w(B),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{w(1)},[l,o]);const le=B=>{t(B),g(!0)},J=()=>{g(!1)};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Management"}),r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"View and manage customer orders"})]}),r.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[r.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,onClick:N,isLoading:D,icon:r.jsx(Va,{size:16}),children:D?"Refreshing...":"Refresh"}),r.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx(ui,{className:"mr-2",size:16}),"Export Orders"]})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:Object.entries({all:{label:"All Orders",color:"var(--brand-primary)"},pending_payment:{label:"Pending Payment",color:"var(--warning-color)"},payment_successful:{label:"Payment Success",color:"var(--success-color)"},processing:{label:"Processing",color:"var(--info-color)"},assigned:{label:"Assigned",color:"var(--brand-secondary)"},shipped:{label:"Shipped",color:"var(--brand-primary)"},delivered:{label:"Delivered",color:"var(--success-color)"},cancelled:{label:"Cancelled",color:"var(--error-color)"}}).map(([B,{label:W,color:Z}])=>r.jsxs("button",{className:`p-4 rounded-lg shadow-sm border transition-all ${l===B?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:Z},onClick:()=>h(B),children:[r.jsx("div",{className:"text-sm font-medium",style:{color:Z},children:W}),r.jsx("div",{className:"text-2xl font-bold mt-2",style:{color:"var(--text-primary)"},children:B==="all"?_.list.length:T[B]||0})]},B))}),r.jsx("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:r.jsx("div",{className:"flex-1 min-w-[240px]",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),r.jsx("input",{type:"text",placeholder:"Search orders by ID or customer...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:o,onChange:B=>i(B.target.value)})]})})}),r.jsxs("div",{className:"w-full",children:[r.jsx(Ioe,{onSelectOrder:le,statusFilter:l,searchQuery:o,orders:Y}),P>0&&r.jsx(Ia,{currentPage:y,totalPages:F,onPageChange:ee,totalItems:P,itemsPerPage:k,showItemCount:!0})]}),m&&n&&r.jsx("div",{className:"fixed inset-0 bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-lg shadow-2xl max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsx("div",{className:"sticky top-0 z-10",style:{backgroundColor:"var(--bg-primary)"},children:r.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Details"}),r.jsx("button",{onClick:J,className:"text-gray-500 hover:text-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{size:24})})]})}),r.jsx(Roe,{order:n})]})})]})},Ooe=({role:n})=>{const t={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"},moderator:{bg:"var(--success-color-light)",color:"var(--success-color)"}},o=t[n]||t.customer;return r.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:o.bg,color:o.color},children:n.charAt(0).toUpperCase()+n.slice(1)})},Boe=({status:n})=>{const t={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},o=t[n]||t.active;return r.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:o.bg,color:o.color},children:n.charAt(0).toUpperCase()+n.slice(1)})},Loe=({onSelectUser:n,filterView:t,searchQuery:o})=>{const{users:i,updateUserStatus:l}=zo(),{list:h,loading:m}=i,g=z.useMemo(()=>h.filter(y=>{const w=t==="all"||t==="customers"&&((y==null?void 0:y.role)==="customer"||!(y!=null&&y.role))||t==="banned"&&((y==null?void 0:y.is_banned)||(y==null?void 0:y.status)==="banned"),k=`${(y==null?void 0:y.first_name)||""} ${(y==null?void 0:y.last_name)||""}`.trim(),_=!o||k.toLowerCase().includes(o.toLowerCase())||(y==null?void 0:y.email.toLowerCase().includes(o.toLowerCase()));return w&&_}),[h,t,o]);return r.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:m?r.jsxs("div",{className:"p-8 text-center animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Orders"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:g.length>0?g.map(y=>{var w,k;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>n(y),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 border flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:y!=null&&y.avatar?r.jsx("img",{src:y==null?void 0:y.avatar,alt:`${y==null?void 0:y.first_name} ${y==null?void 0:y.last_name}`,className:"h-full w-full object-cover"}):r.jsx("div",{className:"h-full w-full flex items-center justify-center text-lg font-semibold",style:{color:"var(--text-primary)"},children:((w=y==null?void 0:y.first_name)==null?void 0:w.charAt(0).toUpperCase())||((k=y==null?void 0:y.email)==null?void 0:k.charAt(0).toUpperCase())})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:`${(y==null?void 0:y.first_name)||""} ${(y==null?void 0:y.last_name)||""}`.trim()||(y==null?void 0:y.email)}),r.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Joined",new Date(y==null?void 0:y.created_at).toLocaleDateString()||"N/A"]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:y==null?void 0:y.email})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(Ooe,{role:(y==null?void 0:y.role)||"customer"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(Boe,{status:y!=null&&y.is_banned?"banned":(y==null?void 0:y.status)||"active"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[(y==null?void 0:y.orders)||0," orders"]}),r.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["",((y==null?void 0:y.totalSpent)||0).toLocaleString()," total"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",onClick:_=>_.stopPropagation(),children:[r.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View User Details",onClick:()=>n(y),children:r.jsx(Gi,{size:18})}),r.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:y!=null&&y.is_banned?"var(--success-color)":"var(--error-color)"},title:y!=null&&y.is_banned?"Unban User":"Ban User",onClick:()=>l(y==null?void 0:y.id),children:y!=null&&y.is_banned?r.jsx(Vb,{size:18}):r.jsx(Uk,{size:18})})]})})]},y==null?void 0:y.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsx("div",{style:{color:"var(--text-secondary)"},children:o||t!=="all"?"No users match your filter criteria":"No users found"})})})})]}),r.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",g.length," of ",h.length," users"]})})]})})},zoe=({user:n})=>{var m,g;const{updateUserStatus:t,users:o}=zo();if(!n)return null;const i=o.list.find(y=>y.id===n.id)||n,l=y=>{const w={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"}},k=w[y]||w.customer;return r.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:k.bg,color:k.color},children:y.charAt(0).toUpperCase()+y.slice(1)})},h=y=>{const w={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},k=w[y]||w.active;return r.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:k.bg,color:k.color},children:y.charAt(0).toUpperCase()+y.slice(1)})};return r.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[r.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 border-2 flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:i!=null&&i.avatar?r.jsx("img",{src:i==null?void 0:i.avatar,alt:`${i==null?void 0:i.first_name} ${i==null?void 0:i.last_name}`,className:"h-full w-full object-cover"}):r.jsx("div",{className:"h-full w-full flex items-center justify-center text-2xl font-semibold",style:{color:"var(--text-primary)"},children:((m=i==null?void 0:i.first_name)==null?void 0:m.charAt(0).toUpperCase())||((g=i==null?void 0:i.email)==null?void 0:g.charAt(0).toUpperCase())})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:`${(i==null?void 0:i.first_name)||""} ${(i==null?void 0:i.last_name)||""}`.trim()||(i==null?void 0:i.email)}),r.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i==null?void 0:i.email}),r.jsxs("div",{className:"mt-2 flex space-x-2",children:[l((i==null?void 0:i.role)||"customer"),h(i!=null&&i.is_banned?"banned":(i==null?void 0:i.status)||"active")]})]})]})}),r.jsx("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Account Information"}),r.jsxs("div",{className:"rounded divide-y",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Registered"}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString():"N/A"})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Phone Number"}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.phone_number)||"Not provided"})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Auth Provider"}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.auth_provider)||"Email"})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.orders)||0})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Spent"}),r.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((i==null?void 0:i.totalSpent)||0).toLocaleString()]})]})]})]})}),r.jsx("div",{className:"p-4 border-t flex justify-end space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:i!=null&&i.is_banned?r.jsx(tt,{variant:"primary",size:"sm",icon:r.jsx(Vb,{size:16}),onClick:()=>t(i==null?void 0:i.id),children:"Unban User"}):r.jsx(tt,{variant:"danger",size:"sm",icon:r.jsx(Uk,{size:16}),onClick:()=>t(i==null?void 0:i.id),children:"Ban User"})})]})},Foe=()=>{const[n,t]=z.useState(null),[o,i]=z.useState("all"),[l,h]=z.useState(""),[m,g]=z.useState(1),y=10,{users:w,fetchUsers:k}=zo(),{list:_,loading:N}=w;z.useEffect(()=>{k()},[k]);const D=_.filter(ee=>{var B,W;const le=((B=ee.name)==null?void 0:B.toLowerCase().includes(l.toLowerCase()))||((W=ee.email)==null?void 0:W.toLowerCase().includes(l.toLowerCase()));let J=!0;return o==="customers"?J=ee.role==="customer"||!ee.role:o==="banned"&&(J=ee.status==="banned"),le&&J}),T=D.length,R=Math.ceil(T/y),P=(m-1)*y,F=P+y,V=D.slice(P,F),G=ee=>{g(ee),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{g(1)},[o,l]);const Y=[{name:"All Users",value:_.length||0,icon:r.jsx(ed,{size:20}),color:"var(--brand-primary)",view:"all"},{name:"Customers",value:_.filter(ee=>ee.role==="customer"||!ee.role).length||0,icon:r.jsx(Vb,{size:20}),color:"var(--success-color)",view:"customers"},{name:"Banned Users",value:_.filter(ee=>ee.status==="banned").length||0,icon:r.jsx(Uk,{size:20}),color:"var(--error-color)",view:"banned"}];return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"User Management"}),r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Manage customer and admin accounts"})]}),r.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[r.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,onClick:k,isLoading:N,icon:r.jsx(Va,{size:16}),children:N?"Refreshing...":"Refresh"}),r.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[r.jsx(ui,{className:"mr-2",size:16}),"Export Users"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Y.map((ee,le)=>r.jsxs("button",{onClick:()=>i(ee.view),className:`p-4 rounded-lg shadow-sm border transition-all ${o===ee.view?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:ee.color,cursor:"pointer"},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:`${ee.color}20`,color:ee.color},children:ee.icon}),r.jsx("div",{className:"text-2xl font-bold",style:{color:o===ee.view?ee.color:"var(--text-primary)"},children:ee.value})]}),r.jsx("div",{className:"text-sm font-medium mt-2",style:{color:"var(--text-secondary)"},children:ee.name})]},le))}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative w-full md:w-80",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(mi,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),r.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:l,onChange:ee=>h(ee.target.value)})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx(Loe,{users:V,onSelectUser:t,filterView:o,searchQuery:l}),T>0&&r.jsx("div",{className:"mt-6",children:r.jsx(Ia,{currentPage:m,totalPages:R,onPageChange:G,totalItems:T,itemsPerPage:y})})]}),r.jsx("div",{className:"lg:col-span-1",children:n?r.jsx(zoe,{user:n}):r.jsx("div",{className:"rounded-lg shadow-md h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:r.jsx("p",{children:"Select a user to view details"})})})]})]})},Voe=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",items:[{id:1,name:"Product 1",price:49.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-10",status:"pending",refundAmount:49.99,details:{reason:"Defective item",description:"The product arrived damaged with scratches on the surface.",images:["https://via.placeholder.com/150?text=Damage+Photo"],customerAddress:"123 Main St, New York, NY 10001"},timeline:[{date:"2023-05-10",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",items:[{id:3,name:"Product 3",price:89.99,quantity:1,reason:"Wrong item"}],requestDate:"2023-05-12",status:"approved",refundAmount:89.99,details:{reason:"Wrong item",description:"I ordered the blue version but received the red one.",images:["https://via.placeholder.com/150?text=Wrong+Item"],customerAddress:"456 Broadway, New York, NY 10002"},timeline:[{date:"2023-05-12",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-13",status:"Approved",comment:"Return request approved, shipping label sent"}]},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",items:[{id:4,name:"Product 4",price:99.99,quantity:1,reason:"Changed mind"},{id:5,name:"Product 5",price:29.99,quantity:2,reason:"Changed mind"}],requestDate:"2023-05-15",status:"rejected",refundAmount:159.97,details:{reason:"Changed mind",description:"I found a better deal elsewhere.",images:[],customerAddress:"789 Park Ave, New York, NY 10003"},timeline:[{date:"2023-05-15",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-16",status:"Rejected",comment:"Return period exceeded (31 days since delivery)"}]},{id:"RET-004",orderId:"ORD-12348",customer:"Sarah Williams",items:[{id:6,name:"Product 6",price:149.95,quantity:1,reason:"Not as described"}],requestDate:"2023-05-17",status:"pending",refundAmount:149.95,details:{reason:"Not as described",description:"Item does not match the specifications listed on website.",images:["https://via.placeholder.com/150?text=Item+Photo"],customerAddress:"101 Lexington Ave, New York, NY 10004"},timeline:[{date:"2023-05-17",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-005",orderId:"ORD-12349",customer:"Robert Brown",items:[{id:7,name:"Product 7",price:299.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-18",status:"approved",refundAmount:299.99,details:{reason:"Defective item",description:"The product is not working properly.",images:["https://via.placeholder.com/150?text=Defective+Item"],customerAddress:"202 5th Ave, New York, NY 10005"},timeline:[{date:"2023-05-18",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-19",status:"Approved",comment:"Return request approved, shipping label sent"}]}],Uoe=({status:n})=>{const t={pending:{bg:"bg-yellow-100",text:"text-yellow-800"},approved:{bg:"bg-green-100",text:"text-green-800"},rejected:{bg:"bg-red-100",text:"text-red-800"},completed:{bg:"bg-blue-100",text:"text-blue-800"}},{bg:o,text:i}=t[n]||t.pending;return r.jsx("span",{className:`px-3 py-1 uppercase text-xs font-bold rounded-full ${o} ${i}`,children:n})},Goe=({onSelectReturn:n,filterStatus:t})=>{const[o,i]=z.useState(Voe),l=(m,g)=>{i(o.map(y=>y.id===m?{...y,status:g,timeline:[...y.timeline,{date:new Date().toISOString().split("T")[0],status:g.charAt(0).toUpperCase()+g.slice(1),comment:`Return request ${g}`}]}:y))},h=o.filter(m=>t==="all"?!0:m.status===t);return r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full whitespace-nowrap",children:[r.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-3 px-4 text-left",children:"Return ID"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Order ID"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Customer"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),r.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>n(m),children:[r.jsx("td",{className:"py-3 px-4 text-sm",children:m.id}),r.jsx("td",{className:"py-3 px-4 text-sm",children:m.orderId}),r.jsx("td",{className:"py-3 px-4 text-sm",children:m.customer}),r.jsx("td",{className:"py-3 px-4 text-sm",children:m.requestDate}),r.jsxs("td",{className:"py-3 px-4 text-sm",children:["$",m.refundAmount.toFixed(2)]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(Uoe,{status:m.status})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(tt,{variant:"secondary",size:"sm",onClick:g=>{g.stopPropagation(),n(m)},children:"View"}),m.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx(tt,{variant:"primary",size:"sm",onClick:g=>{g.stopPropagation(),l(m.id,"approved")},children:"Approve"}),r.jsx(tt,{variant:"danger",size:"sm",onClick:g=>{g.stopPropagation(),l(m.id,"rejected")},children:"Reject"})]}),m.status==="approved"&&r.jsx(tt,{variant:"primary",size:"sm",onClick:g=>{g.stopPropagation(),l(m.id,"completed")},children:"Mark Complete"})]})})]},m.id))})]})}),r.jsxs("div",{className:"py-3 px-4 bg-gray-50 text-gray-600 text-sm",children:["Showing ",h.length," returns"]})]})},Hoe=({return:n})=>{if(!n)return null;const t=o=>{const i={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"};return i[o]||i.pending};return r.jsxs("div",{className:"bg-white rounded-lg shadow-md h-full",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Return Request"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Return #",n.id]})]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${t(n.status)}`,children:n.status})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Request Information"}),r.jsxs("div",{className:"bg-gray-50 rounded divide-y divide-gray-200",children:[r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Order ID"}),r.jsx("span",{className:"text-sm font-medium",children:n.orderId})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Customer"}),r.jsx("span",{className:"text-sm font-medium",children:n.customer})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Request Date"}),r.jsx("span",{className:"text-sm font-medium",children:n.requestDate})]}),r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Refund Amount"}),r.jsxs("span",{className:"text-sm font-medium",children:["$",n.refundAmount.toFixed(2)]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Reason"}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsx("p",{className:"text-sm font-medium",children:n.details.reason}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.details.description})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Items to Return"}),r.jsx("div",{className:"bg-gray-50 rounded overflow-hidden divide-y divide-gray-200",children:n.items.map(o=>r.jsxs("div",{className:"p-3 flex justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:o.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",o.quantity," | Reason: ",o.reason]})]}),r.jsxs("p",{className:"text-sm font-medium",children:["$",(o.price*o.quantity).toFixed(2)]})]},o.id))})]}),n.details.images&&n.details.images.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Images"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.details.images.map((o,i)=>r.jsx("div",{className:"rounded overflow-hidden border border-gray-200",children:r.jsx("img",{src:o,alt:`Return image ${i+1}`,className:"w-full h-auto"})},i))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Timeline"}),r.jsx("div",{className:"space-y-3",children:n.timeline.map((o,i)=>r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"mr-3 relative",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),i<n.timeline.length-1&&r.jsx("div",{className:"h-full w-0.5 bg-gray-200 absolute top-3 left-1.5"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:o.status}),r.jsx("p",{className:"text-xs text-gray-500",children:o.comment}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o.date})]})]},i))})]})]}),r.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[n.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx(tt,{variant:"danger",children:"Reject Return"}),r.jsx(tt,{variant:"primary",children:"Approve Return"})]}),n.status==="approved"&&r.jsx(tt,{variant:"primary",children:"Mark as Completed"}),r.jsx(tt,{variant:"secondary",children:"Print Details"})]})]})},qoe=()=>{const[n,t]=z.useState(null),[o,i]=z.useState("all");return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Return & Refund Requests"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),r.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:o,onChange:l=>i(l.target.value),children:[r.jsx("option",{value:"all",children:"All Requests"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(Goe,{onSelectReturn:t,filterStatus:o})}),r.jsx("div",{className:"lg:col-span-1",children:n?r.jsx(Hoe,{return:n}):r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md h-full flex items-center justify-center text-gray-500",children:r.jsx("p",{children:"Select a return request to view details"})})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Return Policy"}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("p",{children:"Current return policy allows customers to return items within 30 days of delivery for a full refund. Items must be unused and in original packaging."}),r.jsx("h3",{className:"text-md font-semibold mt-4",children:"Return Process:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsx("li",{children:"Customer submits a return request with reason"}),r.jsx("li",{children:"Admin reviews request and approves/rejects"}),r.jsx("li",{children:"If approved, customer receives return shipping label"}),r.jsx("li",{children:"Once item is received and inspected, refund is processed"}),r.jsx("li",{children:"Customer receives notification when refund is complete"})]})]})]})]})},ON=un(n=>({reviews:{list:[],loading:!1,error:null},reportedReviews:{list:[],loading:!1,error:null},selectedReview:null,pendingReviews:[],flaggedReviews:[],fetchReviews:async()=>{var t,o;n(i=>({reviews:{...i.reviews,loading:!0,error:null}}));try{const l=(await $e.get("/admin/reviews/")).data.reviews.map(g=>({...g,status:g.status||"approved"})),h=l.filter(g=>g.status==="pending"),m=l.filter(g=>g.reported_count>0);return n({reviews:{list:l,loading:!1,error:null},pendingReviews:h,flaggedReviews:m}),{success:!0,data:l}}catch(i){return n(l=>{var h,m;return{reviews:{...l.reviews,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to fetch reviews"}}}),{success:!1,error:((o=(t=i.response)==null?void 0:t.data)==null?void 0:o.error)||"Failed to fetch reviews"}}},fetchReportedReviews:async()=>{var t,o;n(i=>({reportedReviews:{...i.reportedReviews,loading:!0,error:null}}));try{const l=(await $e.get("/admin/reviews/reported/")).data.reported_reviews;return n({reportedReviews:{list:l,loading:!1,error:null},flaggedReviews:l}),{success:!0,data:l}}catch(i){return n(l=>{var h,m;return{reportedReviews:{...l.reportedReviews,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to fetch reported reviews"}}}),{success:!1,error:((o=(t=i.response)==null?void 0:t.data)==null?void 0:o.error)||"Failed to fetch reported reviews"}}},deleteReview:async(t,o)=>{var i,l;n(h=>({reviews:{...h.reviews,loading:!0,error:null}}));try{const h=await $e.delete(`/admin/reviews/${t}/${o}/delete/`);if(h.status===200)return n(m=>{const g=m.reviews.list.filter(k=>!(k.id===o&&k.product_id===t)),y=g.filter(k=>k.status==="pending"),w=g.filter(k=>k.reported_count>0);return{reviews:{...m.reviews,list:g,loading:!1,error:null},reportedReviews:{...m.reportedReviews,list:m.reportedReviews.list.filter(k=>!(k.id===o&&k.product_id===t))},pendingReviews:y,flaggedReviews:w}}),{success:!0,message:h.data.message,updated_rating:h.data.updated_rating,total_reviews:h.data.total_reviews}}catch(h){return n(m=>{var g,y;return{reviews:{...m.reviews,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to delete review"}}}),{success:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete review"}}},updateReviewStatus:async(t,o,i)=>{var l,h;n(m=>({reviews:{...m.reviews,loading:!0,error:null}}));try{const m=await $e.patch(`/admin/reviews/${t}/${o}/status/`,{status:i});if(m.status===200)return n(g=>{const y=g.reviews.list.map(_=>_.id===o&&_.product_id===t?{..._,status:i}:_),w=y.filter(_=>_.status==="pending"),k=y.filter(_=>_.reported_count>0);return{reviews:{...g.reviews,list:y,loading:!1,error:null},pendingReviews:w,flaggedReviews:k}}),{success:!0,message:m.data.message||`Review ${i} successfully`}}catch(m){return n(g=>{var y,w;return{reviews:{...g.reviews,loading:!1,error:((w=(y=m.response)==null?void 0:y.data)==null?void 0:w.error)||"Failed to update review status"}}}),{success:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update review status"}}},setSelectedReview:t=>{n({selectedReview:t})},clearSelectedReview:()=>{n({selectedReview:null})},toggleFlaggedStatus:async(t,o)=>{var i,l;n(h=>({reviews:{...h.reviews,loading:!0,error:null}}));try{const h=await $e.patch(`/admin/reviews/${t}/${o}/flag/`,{toggle:!0});if(h.status===200){const m=h.data.is_flagged;return n(g=>{const y=g.reviews.list.map(k=>k.id===o&&k.product_id===t?{...k,flagged:m,reported_count:m?k.reported_count||1:0}:k),w=y.filter(k=>k.reported_count>0||k.flagged);return{reviews:{...g.reviews,list:y,loading:!1,error:null},flaggedReviews:w,reportedReviews:{...g.reportedReviews,list:m?[...g.reportedReviews.list,y.find(k=>k.id===o&&k.product_id===t)]:g.reportedReviews.list.filter(k=>!(k.id===o&&k.product_id===t))}}}),{success:!0,message:m?"Review flagged successfully":"Review unflagged successfully",is_flagged:m}}}catch(h){return n(m=>{var g,y;return{reviews:{...m.reviews,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to toggle flag status"}}}),{success:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle flag status"}}}})),Yoe=({isOpen:n,onClose:t,review:o})=>{var _,N,D,T,R;const{updateReviewStatus:i,deleteReview:l,toggleFlaggedStatus:h}=ON();if(!o)return null;const m=new Date(o.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),g=async()=>{if(window.confirm("Are you sure you want to delete this review?"))try{const P=await l(o.product_id,o.id);P.success?(We.success(P.message||"Review deleted successfully"),t()):We.error(P.error||"Failed to delete review")}catch(P){console.error("Error deleting review:",P),We.error("Failed to delete review")}},y=async P=>{try{const F=await i(o.product_id,o.id,P);F.success?We.success(F.message||`Review ${P} successfully`):We.error(F.error||"Failed to update status")}catch(F){console.error("Error updating status:",F),We.error("Failed to update status")}},w=async()=>{try{const P=await h(o.product_id,o.id);P.success?We.success(P.message):We.error(P.error||"Failed to update flag status")}catch(P){console.error("Error updating flag status:",P),We.error("Failed to update flag status")}},k=P=>{const F=[];for(let V=0;V<5;V++)F.push(r.jsx(Gr,{size:16,className:V<P?"fill-current":"",style:{color:"var(--brand-primary)"}},V));return r.jsx("div",{className:"flex items-center",children:F})};return r.jsx(IN,{isOpen:n,onClose:t,title:"Review Details",size:"lg",actions:r.jsxs("div",{className:"flex space-x-2",children:[o.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>y("approved"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--success-color)"},children:[r.jsx(Kn,{className:"inline-block mr-1"})," Approve"]}),r.jsxs("button",{onClick:()=>y("rejected"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--error-color)"},children:[r.jsx(qt,{className:"inline-block mr-1"})," Reject"]})]}),r.jsxs("button",{onClick:w,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:o.reported_count>0?"var(--error-color)":"transparent",color:o.reported_count>0?"white":"var(--error-color)",border:o.reported_count>0?"none":"1px solid var(--error-color)"},children:[r.jsx(Q2,{className:"inline-block mr-1"}),o.reported_count>0?"Remove Flag":"Flag Review"]}),r.jsxs("button",{onClick:g,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--error-color)",border:"1px solid var(--error-color)"},children:[r.jsx(on,{className:"inline-block mr-1"})," Delete"]})]}),children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start mb-6",children:[r.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:r.jsx("img",{src:o.productImage||"/public/logo.jpg",alt:o.product_name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"ml-4 flex-grow",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:o.product_name}),r.jsxs("div",{className:"flex items-center mt-1",children:[k(o.rating),r.jsxs("span",{className:"ml-2 text-sm",style:{color:"var(--text-secondary)"},children:[o.rating,"/5"]})]}),r.jsxs("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:["Product ID: ",o.product_id]})]})]}),r.jsxs("div",{className:"p-4 mb-6 rounded",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"3px solid var(--brand-primary)"},children:[r.jsx("h4",{className:"text-md font-semibold mb-2",style:{color:"var(--text-primary)"},children:o.title||"Review"}),r.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-primary)"},children:o.comment}),r.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:"var(--text-secondary)"},children:[r.jsxs("span",{children:[m,o.edited&&r.jsx("span",{className:"ml-2 italic",children:"(edited)"})]}),r.jsxs("span",{children:[((_=o.helpful_users)==null?void 0:_.length)||0," people found this helpful"]})]})]}),r.jsxs("div",{className:"border-t pt-4 mb-4",style:{borderColor:"var(--border-secondary)"},children:[r.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Reviewer Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Username"}),r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((N=o.email)==null?void 0:N.split("@")[0])||"Unknown User",o.is_verified&&r.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[r.jsx(Kn,{size:10,className:"mr-1"}),"Verified"]})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Email"}),r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:o.email})]})]})]}),r.jsxs("div",{className:"border-t pt-4",style:{borderColor:"var(--border-secondary)"},children:[r.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Review Status"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("div",{children:r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:o.status==="approved"?"rgba(16, 185, 129, 0.1)":o.status==="pending"?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.1)",color:o.status==="approved"?"var(--success-color)":o.status==="pending"?"var(--warning-color)":"var(--error-color)"},children:((T=(D=o==null?void 0:o.status)==null?void 0:D.charAt(0))==null?void 0:T.toUpperCase())+((R=o==null?void 0:o.status)==null?void 0:R.slice(1))})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Flagged"}),r.jsx("div",{children:o.reported_count>0?r.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:["Yes (",o.reported_count,o.reported_count===1?"report":"reports",")"]}):r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:"No"})})]})]})]})]})})},Woe=({activeTab:n="all"})=>{const{reviews:t,updateReviewStatus:o,deleteReview:i,fetchReviews:l}=ON(),{isOpen:h,modalConfig:m,isLoading:g,showConfirm:y,hideConfirm:w,handleConfirm:k}=rg(),[_,N]=z.useState(null),[D,T]=z.useState(!1),R=re=>{N(re),T(!0)},P=()=>{T(!1),N(null)};z.useEffect(()=>{t.list.length===0&&l(),n==="pending"?V("pending"):n==="flagged"?(Y(!0),V("all")):(Y(!1),V("all"))},[t.list.length,l,n]);const[F,V]=z.useState("all"),[G,Y]=z.useState(!1),[ee,le]=z.useState(!1),[J,B]=z.useState(0),W=(re,ge)=>{y({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{const ke=await i(re,ge);ke.success?We.success(ke.message||"Review deleted successfully"):We.error(ke.error||"Failed to delete review")}catch(ke){console.error("Error deleting review:",ke),We.error("Failed to delete review")}}})},Z=t.list.filter(re=>!(F!=="all"&&re.status!==F||G&&re.reported_count<=0||ee&&!re.is_verified||J!==0&&re.rating!==J)),de=re=>{let ge={},ke="";switch(re){case"approved":ge={backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},ke="Approved";break;case"pending":ge={backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},ke="Pending";break;case"rejected":ge={backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},ke="Rejected";break;default:ge={backgroundColor:"rgba(107, 114, 128, 0.1)",color:"var(--text-secondary)"},ke="Unknown"}return r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:ge,children:ke})},ne=re=>{const ge=[];for(let ke=0;ke<5;ke++)ge.push(r.jsx(Gr,{size:12,className:ke<re?"fill-current":"",style:{color:"var(--brand-primary)"}},ke));return r.jsx("div",{className:"flex items-center",children:ge})};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"status-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsxs("select",{id:"status-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:F,onChange:re=>V(re.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"rating-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Rating"}),r.jsxs("select",{id:"rating-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:J,onChange:re=>B(parseInt(re.target.value)),children:[r.jsx("option",{value:"0",children:"All Ratings"}),r.jsx("option",{value:"5",children:"5 Stars"}),r.jsx("option",{value:"4",children:"4 Stars"}),r.jsx("option",{value:"3",children:"3 Stars"}),r.jsx("option",{value:"2",children:"2 Stars"}),r.jsx("option",{value:"1",children:"1 Star"})]})]}),r.jsxs("div",{className:"flex items-end space-x-4",children:[r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:G,onChange:()=>Y(!G)}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Flagged Reviews"})]}),r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:ee,onChange:()=>le(!ee)}),r.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Verified Purchases"})]})]})]}),r.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[r.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Rating"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Review"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:[Z.map(re=>{var ge,ke;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",style:{backgroundColor:re.reported_count>0?"rgba(239, 68, 68, 0.05)":"transparent"},children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:r.jsx("img",{src:re.productImage||"/public/logo.jpg",alt:re.product_name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:re.product_name}),r.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Product ID: ",re.product_id]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((ge=re.email)==null?void 0:ge.split("@")[0])||"Unknown User",re.is_verified&&r.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[r.jsx(Kn,{size:10,className:"mr-1"}),"Verified"]})]}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:re.email})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne(re.rating)}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:re.title||"No Title"}),r.jsx("div",{className:"text-xs line-clamp-2",style:{color:"var(--text-secondary)"},children:re.comment}),r.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[r.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:((ke=re.helpful_users)==null?void 0:ke.length)||0}),"found helpful"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de(re.status)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(re.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),r.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(re.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Review",onClick:()=>R(re),children:r.jsx(Gi,{size:16})}),re.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{y({title:"Approve Review",message:"Are you sure you want to approve this review?",confirmText:"Approve",cancelText:"Cancel",type:"success",onConfirm:async()=>{try{const se=await o(re.product_id,re.id,"approved");se.success?We.success(se.message||"Review approved successfully"):We.error(se.error||"Failed to approve review")}catch(se){console.error("Error approving review:",se),We.error("Failed to approve review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--success-color)"},title:"Approve Review",children:r.jsx(Kn,{size:16})}),r.jsx("button",{onClick:()=>{y({title:"Reject Review",message:"Are you sure you want to reject this review?",confirmText:"Reject",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const se=await o(re.product_id,re.id,"rejected");se.success?We.success(se.message||"Review rejected successfully"):We.error(se.error||"Failed to reject review")}catch(se){console.error("Error rejecting review:",se),We.error("Failed to reject review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Reject Review",children:r.jsx(qt,{size:16})})]}),r.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Review",onClick:()=>W(re.product_id,re.id),children:r.jsx(on,{size:16})})]})})]},re.id)}),Z.length===0&&r.jsx("tr",{children:r.jsxs("td",{colSpan:"7",className:"px-6 py-10 text-center text-sm",style:{color:"var(--text-secondary)"},children:[r.jsx("div",{className:"font-medium mb-1",children:"No reviews found"}),r.jsx("div",{className:"text-xs",children:"Try adjusting your filters"})]})})]})]}),r.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",Z.length," of ",t.list.length," reviews"]}),r.jsx("div",{className:"flex space-x-1",children:[1,2,3].map(re=>r.jsx("button",{className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:re===1?"var(--brand-primary)":"var(--bg-secondary)",color:re===1?"var(--text-on-brand)":"var(--text-secondary)"},children:re},re))})]})]}),r.jsx(Um,{isOpen:h,onClose:w,onConfirm:k,title:m.title,message:m.message,confirmText:m.confirmText,cancelText:m.cancelText,type:m.type,isLoading:g}),r.jsx(Yoe,{isOpen:D,onClose:P,review:_})]})},Koe=()=>{const[n,t]=z.useState("all"),[o,i]=z.useState(1),l=10,{reviews:h,pendingReviews:m,flaggedReviews:g,fetchReviews:y}=ON();z.useEffect(()=>{h.list.length===0&&y()},[h.list.length,y]);const w=h.list.filter(B=>B.status==="approved"),k=h.list.filter(B=>B.status==="rejected"),_=h.list.filter(B=>B.is_verified===!0),N=h.list.reduce((B,W)=>B+W.rating,0),D=h.list.length>0?(N/h.list.length).toFixed(1):0,T={total:h.list.length,pending:m.length,approved:w.length,rejected:k.length,flagged:g.length,averageRating:parseFloat(D),verifiedPurchases:_.length},P=(()=>{switch(n){case"pending":return m;case"flagged":return g;default:return h.list}})(),F=P.length,V=Math.ceil(F/l),G=(o-1)*l,Y=G+l,ee=P.slice(G,Y),le=B=>{i(B),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{i(1)},[n]);const J=[{title:"Total Reviews",value:T.total,icon:r.jsx(_u,{size:20}),color:"var(--brand-primary)"},{title:"Pending Reviews",value:T.pending,icon:r.jsx(nd,{size:20}),color:"var(--warning-color)"},{title:"Flagged Reviews",value:T.flagged,icon:r.jsx(Q2,{size:20}),color:"var(--error-color)"},{title:"Avg. Rating",value:T.averageRating.toFixed(1),icon:r.jsx(Gr,{size:20}),color:"var(--success-color)"}];return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto animate-fadeIn",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Review Management"}),r.jsx("p",{style:{color:"var(--text-secondary)"},children:"Manage customer reviews, approve pending reviews, and address flagged content"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:J.map((B,W)=>r.jsxs("div",{className:"p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--border-primary)"},children:[r.jsx("div",{className:"rounded-full p-3 mr-4",style:{backgroundColor:`${B.color}15`,color:B.color},children:B.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:B.title}),r.jsx("div",{className:"text-xl font-bold mt-1",style:{color:"var(--text-primary)"},children:B.value})]})]},W))}),r.jsxs("div",{className:"mb-8 p-5 rounded-lg flex flex-wrap gap-6 justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-secondary)"},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:r.jsx(On,{size:18})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Approved Reviews"}),r.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[T.approved,r.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(T.approved/T.total*100),"%)"]})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:r.jsx(On,{size:18})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Verified Purchase Reviews"}),r.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[T.verifiedPurchases,r.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(T.verifiedPurchases/T.total*100),"%)"]})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},children:r.jsx(_u,{size:18})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Rating Distribution"}),r.jsx("div",{className:"flex items-center mt-1",children:[5,4,3,2,1].map(B=>r.jsxs("div",{className:"flex flex-col items-center mx-1",children:[r.jsx("div",{className:"h-10 w-4 rounded-t-sm",style:{backgroundColor:B>3?"var(--success-color)":B>1?"var(--warning-color)":"var(--error-color)",opacity:.7,height:`${25+B*8}px`}}),r.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[B,""]})]},B))})]})]})]}),r.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-secondary)"},children:r.jsxs("div",{className:"flex space-x-6",children:[r.jsx("button",{onClick:()=>t("all"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${n==="all"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--brand-primary)",color:n==="all"?"var(--brand-primary)":"var(--text-secondary)"},children:"All Reviews"}),r.jsxs("button",{onClick:()=>t("pending"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${n==="pending"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--warning-color)",color:n==="pending"?"var(--warning-color)":"var(--text-secondary)"},children:["Pending Reviews",r.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:n==="pending"?"var(--warning-color)":"rgba(245, 158, 11, 0.1)",color:n==="pending"?"white":"var(--warning-color)"},children:T.pending})]}),r.jsxs("button",{onClick:()=>t("flagged"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${n==="flagged"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--error-color)",color:n==="flagged"?"var(--error-color)":"var(--text-secondary)"},children:["Flagged Reviews",r.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:n==="flagged"?"var(--error-color)":"rgba(239, 68, 68, 0.1)",color:n==="flagged"?"white":"var(--error-color)"},children:T.flagged})]})]})}),r.jsx(Woe,{activeTab:n,reviews:ee}),F>0&&r.jsx(Ia,{currentPage:o,totalPages:V,onPageChange:le,totalItems:F,itemsPerPage:l,showItemCount:!0})]})},Qoe=({positionOptions:n})=>{const{banners:t,loading:o,error:i,fetchBanners:l,addBanner:h,editBanner:m,deleteBanner:g,toggleBannerActive:y}=vx(),[w,k]=z.useState(null),[_,N]=z.useState(null),[D,T]=z.useState(!1),[R,P]=z.useState(!1),[F,V]=z.useState({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),[G,Y]=z.useState(null),[ee,le]=z.useState(null),[J,B]=z.useState(null),[W,Z]=z.useState(null),[de,ne]=z.useState(!1);z.useEffect(()=>{l()},[l]);const re=me=>{const be=me.target.files[0];if(be){Y(be);const Te=new FileReader;Te.onload=je=>le(je.target.result),Te.readAsDataURL(be)}},ge=me=>{const be=me.target.files[0];if(be){B(be);const Te=new FileReader;Te.onload=je=>Z(je.target.result),Te.readAsDataURL(be)}},ke=()=>{V({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),Y(null),le(null)},se=()=>{k(null),B(null),Z(null)},oe=async me=>{await y(me)},ue=me=>{k(me),Z(me.image),ne(!1)},te=async()=>{const me=new FormData;Object.keys(w).forEach(be=>{be!=="id"&&w[be]!==null&&w[be]!==void 0&&me.append(be,w[be])}),J&&me.append("image_file",J),await m(w.id,me),se()},q=async()=>{if(!G){ze.info("Please select an image file");return}const me=new FormData;Object.keys(F).forEach(be=>{be!=="image"&&F[be]!==null&&F[be]!==void 0&&me.append(be,F[be])}),me.append("image_file",G),await h(me),ke(),ne(!1)},ae=me=>{N(me),T(!0)},pe=async()=>{try{P(!0),await g(_.id),T(!1)}catch(me){console.error("Error deleting banner:",me)}finally{P(!1)}};return r.jsxs("div",{className:"space-y-6",children:[o&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Loading banners..."})]}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Banners"}),r.jsx(tt,{variant:"primary",onClick:()=>{de?(ke(),ne(!1)):(ne(!0),se())},children:de?"Cancel":"Add New Banner"})]}),de&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsx("h3",{className:"font-medium",children:"Add New Banner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:F.title,onChange:me=>V({...F,title:me.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:F.subtitle,onChange:me=>V({...F,subtitle:me.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),r.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:re,required:!0}),ee&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:ee,alt:"Preview",className:"h-24 w-48 object-cover rounded border"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:F.link,onChange:me=>V({...F,link:me.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),r.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:F.position,onChange:me=>V({...F,position:me.target.value}),children:n.map(me=>r.jsx("option",{value:me.value,children:me.label},me.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:F.tag,onChange:me=>V({...F,tag:me.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:F.cta,onChange:me=>V({...F,cta:me.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),r.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:F.backgroundColor,onChange:me=>V({...F,backgroundColor:me.target.value})})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:F.description,onChange:me=>V({...F,description:me.target.value}),rows:3})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:F.active,onChange:me=>V({...F,active:me.target.checked}),className:"mr-2"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(tt,{variant:"primary",onClick:q,children:"Add Banner"})})]}),w&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsx("h3",{className:"font-medium",children:"Edit Banner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.title||"",onChange:me=>k({...w,title:me.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.subtitle||"",onChange:me=>k({...w,subtitle:me.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),r.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:ge}),W&&r.jsxs("div",{className:"mt-2",children:[r.jsx("img",{src:W,alt:"Current/Preview",className:"h-24 w-48 object-cover rounded border"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:J?"New image preview":"Current image"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.link||"",onChange:me=>k({...w,link:me.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),r.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:w.position||"hero",onChange:me=>k({...w,position:me.target.value}),children:n.map(me=>r.jsx("option",{value:me.value,children:me.label},me.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.tag||"",onChange:me=>k({...w,tag:me.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.cta||"",onChange:me=>k({...w,cta:me.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),r.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:w.backgroundColor||"#ffffff",onChange:me=>k({...w,backgroundColor:me.target.value})})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:w.description||"",onChange:me=>k({...w,description:me.target.value}),rows:3})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:w.active,onChange:me=>k({...w,active:me.target.checked}),className:"mr-2"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(tt,{variant:"secondary",onClick:se,children:"Cancel"}),r.jsx(tt,{variant:"primary",onClick:te,children:"Save Changes"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full whitespace-nowrap",children:[r.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-3 px-4 text-left",children:"Banner"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Details"}),r.jsx("th",{className:"py-3 px-4 text-left",children:"Position"}),r.jsx("th",{className:"py-3 px-4 text-center",children:"Status"}),r.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(me=>{var be;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("img",{src:me.image,alt:me.title,className:"h-24 w-48 object-cover rounded"})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("h3",{className:"font-medium",children:me.title}),me.subtitle&&r.jsx("p",{className:"text-sm text-gray-600",children:me.subtitle}),r.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:me.description}),me.link&&r.jsx("a",{href:me.link,className:"text-xs text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:me.link}),me.tag&&r.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:me.tag})]}),r.jsx("td",{className:"py-3 px-4",children:((be=n.find(Te=>Te.value===me.position))==null?void 0:be.label)||me.position}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${me.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:me.active?"Active":"Inactive"})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>ue(me),children:"Edit"}),r.jsx(tt,{variant:me.active?"danger":"primary",size:"sm",onClick:()=>oe(me.id),children:me.active?"Deactivate":"Activate"}),r.jsx(tt,{variant:"danger",size:"sm",onClick:()=>ae(me),children:"Delete"})]})})]},me.id)})})]})}),t.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:"No banners found. Add your first banner!"})}),r.jsx(Um,{isOpen:D,onClose:()=>T(!1),onConfirm:pe,title:"Delete Banner",message:_?`Are you sure you want to delete the banner "${_.title}"? This action cannot be undone.`:"Are you sure you want to delete this banner?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:R})]})},Joe=()=>{const[n,t]=z.useState(null),[o,i]=z.useState(null),{logo:l,loading:h,error:m,fetchLogo:g,uploadLogo:y,clearError:w}=pR();z.useEffect(()=>{g().catch(()=>{ze.error("Failed to fetch current logo")})},[g]),z.useEffect(()=>{m&&(ze.error(m),w())},[m,w]);const k=N=>{const D=N.target.files[0];if(D){t(D);const T=new FileReader;T.onloadend=()=>{i(T.result)},T.readAsDataURL(D)}},_=async()=>{if(!n){ze.error("Please select a logo file");return}const N=new FormData;N.append("logo",n);try{await y(N),ze.success("Logo updated successfully"),t(null),i(null)}catch{}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shop Logo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your shop's logo. This will be displayed in the header and other places."})]}),l&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),r.jsx("div",{className:"w-32 h-32 rounded-lg border border-gray-200 overflow-hidden",children:r.jsx("img",{src:l,alt:"Current logo",className:"w-full h-full object-contain"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Upload New Logo"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo File"}),r.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"w-full p-2 border border-gray-300 rounded-md text-sm"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: PNG or JPEG, max 2MB"})]}),o&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Preview"}),r.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 overflow-hidden",children:r.jsx("img",{src:o,alt:"New logo preview",className:"w-full h-full object-contain"})})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx(tt,{variant:"primary",onClick:_,isLoading:h,disabled:!n||h,children:h?"Uploading...":"Upload New Logo"})})]})]})},Xoe=()=>{const{categories:n,fetchCategories:t,addCategory:o,editCategory:i,uploadCategoryImage:l}=z9(),[h,m]=z.useState(null),[g,y]=z.useState(!1),[w,k]=z.useState({name:"",image_url:"",redirect_url:"",order:0}),[_,N]=z.useState(!1),D=z.useRef(null);z.useEffect(()=>{t()},[t]);const T=async Y=>{const ee=Y.target.files[0];if(ee){y(!0);try{const le=await l(ee);le.success?(h?m({...h,image_url:le.imageUrl}):k({...w,image_url:le.imageUrl}),We.success("Image uploaded successfully")):We.error("Failed to upload image: "+le.message)}catch(le){console.error("Error uploading image:",le),We.error("Failed to upload image: "+le.message)}finally{y(!1)}}},R=Y=>{m({...Y}),N(!1)},P=async()=>{if(!h.name){We.error("Category name is required");return}const Y=await i(h.id,{name:h.name,image_url:h.image_url,redirect_url:h.redirect_url||"",order:h.order||0});Y.success?(We.success(Y.message||"Category updated successfully"),m(null)):We.error(Y.error||"Failed to update category")},F=async()=>{if(!w.name){We.error("Category name is required");return}const Y=await o({name:w.name,image_url:w.image_url||"",redirect_url:w.redirect_url||"",order:w.order||0});Y.success?(We.success(Y.message||"Category added successfully"),k({name:"",image_url:"",redirect_url:"",order:0}),N(!1)):We.error(Y.error||"Failed to add category")},V=async(Y,ee)=>{const le=[...n.list].sort((B,W)=>B.order-W.order),J=le.findIndex(B=>B.id===Y.id);if(ee==="up"&&J>0){const B=le[J-1],W=B.order;await i(Y.id,{...Y,order:W}),await i(B.id,{...B,order:Y.order}),t()}else if(ee==="down"&&J<le.length-1){const B=le[J+1],W=B.order;await i(Y.id,{...Y,order:W}),await i(B.id,{...B,order:Y.order}),t()}},G=[...n.list||[]].sort((Y,ee)=>(Y.order||0)-(ee.order||0));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Categories"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(tt,{variant:"outline",onClick:()=>t(),className:"flex items-center gap-1",children:[r.jsx(Va,{size:16})," Refresh"]}),r.jsx(tt,{variant:"primary",onClick:()=>{N(!_),m(null)},children:_?"Cancel":"Add New Category"})]})]}),_&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsx("h3",{className:"font-medium",children:"Add New Category"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.name,onChange:Y=>k({...w,name:Y.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),r.jsxs("div",{className:"flex",children:[r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:w.image_url||"",onChange:Y=>k({...w,image_url:Y.target.value}),disabled:g}),r.jsx("input",{type:"file",ref:D,className:"hidden",accept:"image/*",onChange:T,disabled:g}),r.jsx("button",{type:"button",onClick:()=>D.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:g,children:g?r.jsx("span",{className:"flex items-center",children:r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):r.jsx(FM,{})})]}),g&&r.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),w.image_url&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:w.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:w.redirect_url||"",onChange:Y=>k({...w,redirect_url:Y.target.value}),placeholder:"/products/category-name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),r.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:w.order||0,onChange:Y=>k({...w,order:parseInt(Y.target.value)||0}),min:"0",step:"1"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(tt,{variant:"primary",onClick:F,disabled:!w.name,children:"Add Category"})})]}),h&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsx("h3",{className:"font-medium",children:"Edit Category"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:h.name,onChange:Y=>m({...h,name:Y.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),r.jsxs("div",{className:"flex",children:[r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:h.image_url||"",onChange:Y=>m({...h,image_url:Y.target.value}),disabled:g}),r.jsx("input",{type:"file",ref:D,className:"hidden",accept:"image/*",onChange:T,disabled:g}),r.jsx("button",{type:"button",onClick:()=>D.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:g,children:g?r.jsx("span",{className:"flex items-center",children:r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):r.jsx(FM,{})})]}),g&&r.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),h.image_url&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:h.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:h.redirect_url||"",onChange:Y=>m({...h,redirect_url:Y.target.value}),placeholder:"/products/category-name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),r.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:h.order||0,onChange:Y=>m({...h,order:parseInt(Y.target.value)||0}),min:"0",step:"1"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(tt,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),r.jsx(tt,{variant:"primary",onClick:P,disabled:!h.name,children:"Save Changes"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Redirect URL"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map((Y,ee)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm text-gray-900 mr-3",children:Y.order||0}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("button",{onClick:()=>V(Y,"up"),disabled:ee===0,className:`text-gray-500 hover:text-gray-700 ${ee===0?"opacity-30":""}`,title:"Move up",children:r.jsx(Vk,{size:14})}),r.jsx("button",{onClick:()=>V(Y,"down"),disabled:ee===G.length-1,className:`text-gray-500 hover:text-gray-700 ${ee===G.length-1?"opacity-30":""}`,title:"Move down",children:r.jsx(Fk,{size:14})})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y.image_url?r.jsx("img",{src:Y.image_url,alt:Y.name,className:"h-10 w-10 object-cover rounded-md"}):r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-md flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"No image"})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.redirect_url||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:r.jsx("button",{onClick:()=>R(Y),className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},Y.id))})]})}),n.loading&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"Loading categories..."})}),!n.loading&&n.list.length===0&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"No categories found"})}),n.error&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-red-500",children:n.error})})]})},Zoe=un(Gf((n,t)=>({footerConfig:null,loading:!1,error:null,pageContentLoading:!1,setFooterConfig:o=>n({footerConfig:o}),setLoading:o=>n({loading:o}),setError:o=>n({error:o}),clearError:()=>n({error:null}),fetchFooterConfig:async()=>{var o,i;n({loading:!0,error:null});try{const l=await $e.get("/admin/footer/");if(l.status===200)return n({footerConfig:l.data.footer_config,loading:!1}),l.data.footer_config}catch(l){throw console.error("Error fetching footer config:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch footer configuration",loading:!1}),l}},updateFooterConfig:async o=>{var i,l;n({loading:!0,error:null});try{if((await $e.put("/admin/footer/update/",{footer_config:o})).status===200)return n({footerConfig:o,loading:!1}),!0}catch(h){throw console.error("Error updating footer config:",h),n({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update footer configuration",loading:!1}),h}},addFooterLink:async(o,i)=>{var l,h;n({loading:!0,error:null});try{const g={...t().footerConfig};if(Array.isArray(g[o])||(g[o]=[]),g[o].push(i),(await $e.put("/admin/footer/update/",{footer_config:g})).status===200)return n({footerConfig:g,loading:!1}),!0}catch(m){throw console.error("Error adding footer link:",m),n({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to add footer link",loading:!1}),m}},deleteFooterLink:async(o,i)=>{var l,h;n({loading:!0,error:null});try{const g={...t().footerConfig};if(Array.isArray(g[o])&&g[o].splice(i,1),(await $e.put("/admin/footer/update/",{footer_config:g})).status===200)return n({footerConfig:g,loading:!1}),!0}catch(m){throw console.error("Error deleting footer link:",m),n({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to delete footer link",loading:!1}),m}},toggleFooterSection:async(o,i)=>{var l,h;n({loading:!0,error:null});try{const g={...t().footerConfig};if(g[o]?typeof g[o]=="object"&&!Array.isArray(g[o])?g[o]={...g[o],enabled:i}:g[o]={enabled:i,...g[o]}:g[o]={enabled:i},(await $e.put("/admin/footer/update/",{footer_config:g})).status===200)return n({footerConfig:g,loading:!1}),!0}catch(m){throw console.error("Error toggling footer section:",m),n({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to toggle footer section",loading:!1}),m}},fetchPageContent:async o=>{var i,l;n({pageContentLoading:!0,error:null});try{const h=await $e.get(`/admin/page-content/${o.replace(/^\//,"")}/`);return n({pageContentLoading:!1}),h.data.content}catch(h){throw console.error("Error fetching page content:",h),n({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch page content",pageContentLoading:!1}),h}},updatePageContent:async(o,i)=>{var l,h;n({pageContentLoading:!0,error:null});try{const m=await $e.put(`/admin/page-content/update/${o.replace(/^\//,"")}/`,{content:i});return n({pageContentLoading:!1}),m.data}catch(m){throw console.error("Error updating page content:",m),n({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update page content",pageContentLoading:!1}),m}}}))),$oe=()=>{var ue,te,q,ae,pe,me,be,Te,je,Ye,Ve,Je,Qe,Ot,Tt;const[n,t]=z.useState({}),[o,i]=z.useState({section:"",name:"",path:"",url:"",enabled:!0}),[l,h]=z.useState(!1),[m,g]=z.useState({}),{footerConfig:y,loading:w,error:k,fetchFooterConfig:_,updateFooterConfig:N,addFooterLink:D,deleteFooterLink:T,toggleFooterSection:R,clearError:P}=Zoe(),F={FaFacebookF:r.jsx(fZ,{}),FaTwitter:r.jsx(IZ,{}),FaInstagram:r.jsx(bZ,{}),FaYoutube:r.jsx(RZ,{}),FaLinkedinIn:r.jsx(vZ,{}),FaWhatsapp:r.jsx(kw,{})},V={quick_links:"Quick Links",customer_service_links:"Customer Service",policy_links:"Policies",know_more_links:"Know More",footer_policy_links:"Footer Policies",social_links:"Social Media"};z.useEffect(()=>{_().then(Ze=>{Ze&&g(Ze)}).catch(()=>{ze.error("Failed to fetch footer configuration")})},[_]),z.useEffect(()=>{y&&g(y)},[y]),z.useEffect(()=>{k&&(ze.error(k),P())},[k,P]);const G=async Ze=>{var Kt;const st=((Kt=y==null?void 0:y[Ze])==null?void 0:Kt.enabled)||!1;try{await R(Ze,!st),ze.success("Section updated successfully")}catch{ze.error("Failed to update section")}},Y=async(Ze,st)=>{const Kt={...y};Kt[Ze][st].enabled=!Kt[Ze][st].enabled;try{await N(Kt),ze.success("Link updated successfully")}catch{ze.error("Failed to update link")}},ee=(Ze,st)=>{t({section:Ze,linkIndex:st})},le=async(Ze,st,Kt)=>{const Ne={...y};Ne[Ze][st]=Kt;try{await N(Ne),t({}),ze.success("Link updated successfully")}catch{ze.error("Failed to update link")}},J=async(Ze,st)=>{if(window.confirm("Are you sure you want to delete this link?"))try{await T(Ze,st),ze.success("Link deleted successfully")}catch{ze.error("Failed to delete link")}},B=async()=>{if(!o.section||!o.name){ze.error("Section and name are required");return}try{await D(o.section,{name:o.name,path:o.path,url:o.url,enabled:o.enabled}),i({section:"",name:"",path:"",url:"",enabled:!0}),h(!1),ze.success("Link added successfully")}catch{ze.error("Failed to add link")}},W=(Ze,st)=>{g({...m,company_info:{...m.company_info,[Ze]:st}})},Z=async()=>{try{const Ze={...y,company_info:m.company_info};await N(Ze),ze.success("Company information updated successfully")}catch{ze.error("Failed to update company info")}},de=(Ze,st)=>{g({...m,contact_info:{...m.contact_info,[Ze]:st}})},ne=async()=>{try{const Ze={...y,contact_info:m.contact_info};await N(Ze),ze.success("Contact information updated successfully")}catch{ze.error("Failed to update contact info")}},re=(Ze,st)=>{g({...m,whatsapp:{...m.whatsapp,[Ze]:st}})},ge=async()=>{try{const Ze={...y,whatsapp:m.whatsapp};await N(Ze),ze.success("WhatsApp settings updated successfully")}catch{ze.error("Failed to update WhatsApp settings")}},ke=(Ze,st)=>{g({...m,copyright:{...m.copyright,[Ze]:st}})},se=async()=>{try{const Ze={...y,copyright:m.copyright};await N(Ze),ze.success("Copyright settings updated successfully")}catch{ze.error("Failed to update copyright settings")}},oe=(Ze,st,Kt)=>n.section===Ze&&n.linkIndex===st?r.jsx(eie,{link:Kt,section:Ze,linkIndex:st,onSave:le,onCancel:()=>t({})}):r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[Ze==="social_links"&&F[Kt.icon]&&r.jsx("span",{className:"text-lg",children:F[Kt.icon]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:Kt.name}),r.jsx("p",{className:"text-xs text-gray-500",children:Kt.path||Kt.url||"No URL"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Y(Ze,st),className:"p-1 rounded-full hover:bg-gray-100",children:Kt.enabled?r.jsx(li,{className:"text-green-500",size:20}):r.jsx(ai,{className:"text-gray-400",size:20})}),r.jsx("button",{onClick:()=>ee(Ze,st),className:"p-1 rounded-full hover:bg-gray-100 text-blue-600",children:r.jsx(Vm,{size:16})}),r.jsx("button",{onClick:()=>J(Ze,st),className:"p-1 rounded-full hover:bg-gray-100 text-red-600",children:r.jsx(on,{size:16})})]})]});return w?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):k?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[r.jsx("p",{className:"text-red-800",children:k}),r.jsx("button",{onClick:()=>{P(),_()},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Try again"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[" ",r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Footer Management"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(tt,{variant:"outline",onClick:()=>_(),className:"flex items-center gap-1",children:[r.jsx(Va,{size:16})," Refresh"]}),r.jsx(tt,{variant:"primary",onClick:()=>h(!0),children:"Add Link"})]})]})," ",r.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium",children:"Company Information"}),r.jsx("button",{onClick:()=>G("company_info"),className:"flex items-center space-x-2",children:(ue=y==null?void 0:y.company_info)!=null&&ue.enabled?r.jsx(li,{className:"text-green-500",size:24}):r.jsx(ai,{className:"text-gray-400",size:24})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"})," ",r.jsx("textarea",{value:((te=m==null?void 0:m.company_info)==null?void 0:te.description)||"",onChange:Ze=>W("description",Ze.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Company description..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"})," ",r.jsx("input",{type:"url",value:((q=m==null?void 0:m.company_info)==null?void 0:q.logo_url)||"",onChange:Ze=>W("logo_url",Ze.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://example.com/logo.png"})]})," ",r.jsx("div",{className:"flex justify-end mt-4",children:r.jsx(tt,{variant:"primary",onClick:Z,children:"Save Changes"})})]})]})," ",r.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium",children:"Contact Information"}),r.jsx("button",{onClick:()=>G("contact_info"),className:"flex items-center space-x-2",children:(ae=y==null?void 0:y.contact_info)!=null&&ae.enabled?r.jsx(li,{className:"text-green-500",size:24}):r.jsx(ai,{className:"text-gray-400",size:24})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"})," ",r.jsx("input",{type:"tel",value:((pe=m==null?void 0:m.contact_info)==null?void 0:pe.phone)||"",onChange:Ze=>de("phone",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"1800-123-4567"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"})," ",r.jsx("input",{type:"email",value:((me=m==null?void 0:m.contact_info)==null?void 0:me.email)||"",onChange:Ze=>de("email",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"info@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"})," ",r.jsx("textarea",{value:((be=m==null?void 0:m.contact_info)==null?void 0:be.address)||"",onChange:Ze=>de("address",Ze.target.value),className:"w-full p-3 border rounded-md",rows:"2",placeholder:"Business address..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Hours"})," ",r.jsx("input",{type:"text",value:((Te=m==null?void 0:m.contact_info)==null?void 0:Te.hours)||"",onChange:Ze=>de("hours",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"Mon-Sat: 10:00 AM - 8:00 PM"})]})," ",r.jsx("div",{className:"flex justify-end mt-4",children:r.jsx(tt,{variant:"primary",onClick:ne,children:"Save Changes"})})]})]})," ",r.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium",children:"WhatsApp Settings"}),r.jsx("button",{onClick:()=>G("whatsapp"),className:"flex items-center space-x-2",children:(je=y==null?void 0:y.whatsapp)!=null&&je.enabled?r.jsx(li,{className:"text-green-500",size:24}):r.jsx(ai,{className:"text-gray-400",size:24})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"})," ",r.jsx("input",{type:"tel",value:((Ye=m==null?void 0:m.whatsapp)==null?void 0:Ye.number)||"",onChange:Ze=>re("number",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"1234567890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Channel URL"})," ",r.jsx("input",{type:"url",value:((Ve=m==null?void 0:m.whatsapp)==null?void 0:Ve.channel_url)||"",onChange:Ze=>re("channel_url",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"https://whatsapp.com/channel/..."})]})," ",r.jsx("div",{className:"flex justify-end mt-4",children:r.jsx(tt,{variant:"primary",onClick:ge,children:"Save Changes"})})]})]})," ",r.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium",children:"Copyright Settings"}),r.jsx("button",{onClick:()=>G("copyright"),className:"flex items-center space-x-2",children:(Je=y==null?void 0:y.copyright)!=null&&Je.enabled?r.jsx(li,{className:"text-green-500",size:24}):r.jsx(ai,{className:"text-gray-400",size:24})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Copyright Text"})," ",r.jsx("input",{type:"text",value:((Qe=m==null?void 0:m.copyright)==null?void 0:Qe.text)||"",onChange:Ze=>ke("text",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"Copyright  Company Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer Name"})," ",r.jsx("input",{type:"text",value:((Ot=m==null?void 0:m.copyright)==null?void 0:Ot.developer_name)||"",onChange:Ze=>ke("developer_name",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"Developer Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer URL"})," ",r.jsx("input",{type:"url",value:((Tt=m==null?void 0:m.copyright)==null?void 0:Tt.developer_url)||"",onChange:Ze=>ke("developer_url",Ze.target.value),className:"w-full p-3 border rounded-md",placeholder:"https://developer-website.com"})]})," ",r.jsx("div",{className:"flex justify-end mt-4",children:r.jsx(tt,{variant:"primary",onClick:se,children:"Save Changes"})})]})]}),Object.entries(V).map(([Ze,st])=>{const Kt=(y==null?void 0:y[Ze])||[];return r.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium",children:st}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:[Kt.length," links"]})})]}),r.jsxs("div",{className:"space-y-3",children:[Kt.map((Ne,ot)=>oe(Ze,ot,Ne)),Kt.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No links in this section. Add some links to get started."})]})]},Ze)}),l&&r.jsx(tie,{newLinkForm:o,setNewLinkForm:i,onSubmit:B,onClose:()=>h(!1),sectionTitles:V})]})},eie=({link:n,section:t,linkIndex:o,onSave:i,onCancel:l})=>{const[h,m]=z.useState({name:n.name||"",path:n.path||"",url:n.url||"",icon:n.icon||"",enabled:n.enabled!==void 0?n.enabled:!0}),g=async y=>{y.preventDefault();try{await i(t,o,h)}catch(w){console.error("Error saving link:",w),ze.error("Failed to save link")}};return r.jsxs("form",{onSubmit:g,className:"p-4 border rounded-md bg-gray-50",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:h.name,onChange:y=>m({...h,name:y.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),t==="social_links"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),r.jsxs("select",{value:h.icon,onChange:y=>m({...h,icon:y.target.value}),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Select Icon"}),r.jsx("option",{value:"FaFacebookF",children:"Facebook"}),r.jsx("option",{value:"FaTwitter",children:"Twitter"}),r.jsx("option",{value:"FaInstagram",children:"Instagram"}),r.jsx("option",{value:"FaYoutube",children:"YouTube"}),r.jsx("option",{value:"FaLinkedinIn",children:"LinkedIn"}),r.jsx("option",{value:"FaWhatsapp",children:"WhatsApp"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Path"}),r.jsx("input",{type:"text",value:h.path,onChange:y=>m({...h,path:y.target.value}),className:"w-full p-2 border rounded-md",placeholder:"/page-path"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"External URL"}),r.jsx("input",{type:"url",value:h.url,onChange:y=>m({...h,url:y.target.value}),className:"w-full p-2 border rounded-md",placeholder:"https://example.com"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:h.enabled,onChange:y=>m({...h,enabled:y.target.checked})}),r.jsx("span",{className:"text-sm",children:"Enabled"})]})," ",r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(tt,{type:"button",variant:"outline",onClick:l,children:r.jsx(qt,{size:16})}),r.jsx(tt,{type:"submit",variant:"primary",children:r.jsx(Tm,{size:16})})]})]})]})},tie=({newLinkForm:n,setNewLinkForm:t,onSubmit:o,onClose:i,sectionTitles:l})=>{const h=m=>{m.preventDefault(),o()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Add New Link"}),r.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-gray-100",children:r.jsx(qt,{size:20})})]}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),r.jsxs("select",{value:n.section,onChange:m=>t({...n,section:m.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[r.jsx("option",{value:"",children:"Select Section"}),Object.entries(l).map(([m,g])=>r.jsx("option",{value:m,children:g},m))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:n.name,onChange:m=>t({...n,name:m.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Path"}),r.jsx("input",{type:"text",value:n.path,onChange:m=>t({...n,path:m.target.value}),className:"w-full p-2 border rounded-md",placeholder:"/page-path"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"External URL"}),r.jsx("input",{type:"url",value:n.url,onChange:m=>t({...n,url:m.target.value}),className:"w-full p-2 border rounded-md",placeholder:"https://example.com"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:n.enabled,onChange:m=>t({...n,enabled:m.target.checked})}),r.jsx("label",{className:"text-sm",children:"Enabled"})]})," ",r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(tt,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),r.jsx(tt,{type:"submit",variant:"primary",children:"Add Link"})]})]})]})})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rie(){const n={resolve:null,promise:null};return n.promise=new Promise(t=>{n.resolve=t}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nie(n){let t=null;return(...o)=>(t||(t={current:n(...o)}),t.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Hs=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function sie(){const[n,t,o,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Hs[n>>0&255]+Hs[n>>8&255]+Hs[n>>16&255]+Hs[n>>24&255]+Hs[t>>0&255]+Hs[t>>8&255]+Hs[t>>16&255]+Hs[t>>24&255]+Hs[o>>0&255]+Hs[o>>8&255]+Hs[o>>16&255]+Hs[o>>24&255]+Hs[i>>0&255]+Hs[i>>8&255]+Hs[i>>16&255]+Hs[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oie(n,t){const o=n.extraPlugins||[];return{...n,extraPlugins:[...o,...t.filter(i=>!o.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function J9(n){return!!n&&/^\d+\.\d+\.\d+/.test(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function X9(n){return n?["nightly","alpha","internal","nightly-","staging"].some(t=>n.includes(t)):!1}function iie(n){return J9(n)||X9(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aie(n){if(!J9(n))throw new Error(`Invalid semantic version: ${n||"<blank>"}.`);const[t,o,i]=n.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(o,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lie(n){if(X9(n))return 3;const{major:t}=aie(n);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cie(){const{CKEDITOR_VERSION:n,CKEDITOR:t}=window;return iie(n)?{source:t?"cdn":"npm",version:n}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function die(){const n=cie();return n?lie(n.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z9(n,t){switch(t||(t=die()||void 0),t){case 1:case 2:return n===void 0;case 3:return n==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uie(n,t){return function(i){Z9(i.config.get("licenseKey"))||i.on("collectUsageData",(l,{setUsageData:h})=>{h(`integration.${n}`,t)})}}var hie=Object.defineProperty,mie=(n,t,o)=>t in n?hie(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,To=(n,t,o)=>mie(n,typeof t!="symbol"?t+"":t,o);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const $9=class eB{constructor(t,o){To(this,"_lifecycle"),To(this,"_element"),To(this,"_releaseLock",null),To(this,"_value",null),To(this,"_afterMountCallbacks",[]),To(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),To(this,"release",nie(()=>{const{_releaseLock:i,_state:l,_element:h,_lifecycle:m}=this;l.mountingInProgress?l.mountingInProgress.then(()=>m.unmount({element:h,mountResult:this.value})).catch(g=>{console.error("Semaphore unmounting error:",g)}).then(i.resolve).then(()=>{this._value=null}):(l.destroyedBeforeInitialization=!0,i.resolve())})),this._element=t,this._lifecycle=o,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(o=>o(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:o,_afterMountCallbacks:i}=this;o?t(o):i.push(t)}_lock(){const{_semaphores:t}=eB,{_state:o,_element:i,_lifecycle:l}=this,h=t.get(i)||Promise.resolve(null),m=rie();this._releaseLock=m;const g=h.then(()=>o.destroyedBeforeInitialization?Promise.resolve(void 0):(o.mountingInProgress=l.mount().then(y=>(y&&this.unsafeSetValue(y),y)),o.mountingInProgress)).then(async y=>{y&&l.afterMount&&await l.afterMount({element:i,mountResult:y})}).then(()=>m.promise).catch(y=>{console.error("Semaphore mounting error:",y)}).then(()=>{t.get(i)===g&&t.delete(i)});t.set(i,g)}};To($9,"_semaphores",new Map);let pie=$9;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const fie="$__CKEditorReactContextMetadata";function gie(n,t){return{...t,[fie]:n}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const yie=gt.createContext(null),bie=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),tB=n=>t=>bie(t)&&t.status===n,vI=tB("initializing"),xie=n=>tB("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const vie=uie("react",{version:"9.5.0",frameworkVersion:gt.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wie(n){return Z9(n.licenseKey)?n:oie(n,[vie])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const __="Lock from React integration (@ckeditor/ckeditor5-react)";class rB extends gt.Component{constructor(t){super(t),To(this,"domContainer",gt.createRef()),To(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[o]=t.split(".").map(Number);o>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:o,editorSemaphore:i}=this;return t.id!==o.id||t.disableWatchdog!==o.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:l})=>{this._shouldUpdateEditorData(o,t,l)&&l.data.set(t.data)}),"disabled"in t&&i.runAfterMount(({instance:l})=>{t.disabled?l.enableReadOnlyMode(__):l.disableReadOnlyMode(__)})),!1)}componentDidMount(){vI(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){vI(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new pie(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:o}=this.props;o&&this.domContainer.current!==null&&o(t.instance)},unmount:async({element:t,mountResult:o})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(o),t.innerHTML=""}finally{i&&i(o.instance)}}})}render(){return gt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=xie(this.context)?new kie(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),o={current:0};return t.setCreator(async(i,l)=>{var h;const{editorSemaphore:m}=this,{onAfterDestroy:g}=this.props;o.current>0&&g&&((h=m==null?void 0:m.value)!=null&&h.instance)&&g(m.value.instance);const y=await this._createEditor(i,l);return m&&o.current>0&&(m.unsafeSetValue({instance:y,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),o.current++,y}),t.on("error",(i,{error:l,causesRestart:h})=>{(this.props.onError||console.error)(l,{phase:"runtime",willEditorRestart:h})}),await t.create(this.domContainer.current,this._getConfig()).catch(i=>{(this.props.onError||console.error)(i,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,o){const{contextItemMetadata:i}=this.props;return i&&(o=gie(i,o)),this.props.editor.create(t,wie(o)).then(l=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&l.enableReadOnlyMode(__)}const h=l.model.document,m=l.editing.view.document;return h.on("change:data",g=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(g,l)}),m.on("focus",g=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(g,l)}),m.on("blur",g=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(g,l)}),l})}async _destroyEditor(t){const{watchdog:o,instance:i}=t;return new Promise((l,h)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(o)return await o.destroy(),l();if(i)return await i.destroy(),l();l()}catch(m){console.error(m),h(m)}})})}_shouldUpdateEditorData(t,o,i){return!(t.data===o.data||i.data.get()===o.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}To(rB,"contextType",yie);class kie{constructor(t){To(this,"_contextWatchdog"),To(this,"_id"),To(this,"_creator"),this._contextWatchdog=t,this._id=sie()}setCreator(t){this._creator=t}create(t,o){return this._contextWatchdog.add({sourceElementOrData:t,config:o,creator:this._creator,id:this._id,type:"editor"})}on(t,o){this._contextWatchdog.on("itemError",(i,{itemId:l,error:h})=>{l===this._id&&o(null,{error:h,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nB(...n){return t=>{n.forEach(o=>{typeof o=="function"?o(t):o!=null&&(o.current=t)})}}const Cie=z.memo(z.forwardRef(({id:n,semaphore:t,rootName:o},i)=>{const l=z.useRef(null);return z.useEffect(()=>{let h,m;return t.runAfterMount(({instance:g})=>{if(!l.current)return;m=g;const{ui:y,model:w}=m,k=w.document.getRoot(o);k&&m.ui.getEditableElement(o)&&m.detachEditable(k),h=y.view.createEditable(o,l.current),y.addEditable(h),g.editing.view.forceRender()}),()=>{if(m&&m.state!=="destroyed"&&l.current){const g=m.model.document.getRoot(o);/* istanbul ignore else -- @preserve */g&&m.detachEditable(g)}}},[t.revision]),gt.createElement("div",{key:t.revision,id:n,ref:nB(i,l)})}));Cie.displayName="EditorEditable";const _ie=z.forwardRef(({editor:n},t)=>{const o=z.useRef(null);return z.useEffect(()=>{const i=o.current;if(!n||!i)return;const l=n.ui.view.toolbar.element;return i.appendChild(l),()=>{i.contains(l)&&i.removeChild(l)}},[n&&n.id]),gt.createElement("div",{ref:nB(o,t)})});_ie.displayName="EditorToolbarWrapper";var mb={exports:{}};mb.exports;var wI;function Aie(){return wI||(wI=1,function(n,t){(function(o){const i=o.en=o.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(o,i){n.exports=i()}(self,()=>(()=>{var o={4959:(m,g,y)=>{const w=y(1103),k={};for(const N of Object.keys(w))k[w[N]]=N;const _={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};m.exports=_;for(const N of Object.keys(_)){if(!("channels"in _[N]))throw new Error("missing channels property: "+N);if(!("labels"in _[N]))throw new Error("missing channel labels property: "+N);if(_[N].labels.length!==_[N].channels)throw new Error("channel and label counts mismatch: "+N);const{channels:D,labels:T}=_[N];delete _[N].channels,delete _[N].labels,Object.defineProperty(_[N],"channels",{value:D}),Object.defineProperty(_[N],"labels",{value:T})}_.rgb.hsl=function(N){const D=N[0]/255,T=N[1]/255,R=N[2]/255,P=Math.min(D,T,R),F=Math.max(D,T,R),V=F-P;let G,Y;F===P?G=0:D===F?G=(T-R)/V:T===F?G=2+(R-D)/V:R===F&&(G=4+(D-T)/V),G=Math.min(60*G,360),G<0&&(G+=360);const ee=(P+F)/2;return Y=F===P?0:ee<=.5?V/(F+P):V/(2-F-P),[G,100*Y,100*ee]},_.rgb.hsv=function(N){let D,T,R,P,F;const V=N[0]/255,G=N[1]/255,Y=N[2]/255,ee=Math.max(V,G,Y),le=ee-Math.min(V,G,Y),J=function(B){return(ee-B)/6/le+.5};return le===0?(P=0,F=0):(F=le/ee,D=J(V),T=J(G),R=J(Y),V===ee?P=R-T:G===ee?P=.3333333333333333+D-R:Y===ee&&(P=.6666666666666666+T-D),P<0?P+=1:P>1&&(P-=1)),[360*P,100*F,100*ee]},_.rgb.hwb=function(N){const D=N[0],T=N[1];let R=N[2];const P=_.rgb.hsl(N)[0],F=1/255*Math.min(D,Math.min(T,R));return R=1-.00392156862745098*Math.max(D,Math.max(T,R)),[P,100*F,100*R]},_.rgb.cmyk=function(N){const D=N[0]/255,T=N[1]/255,R=N[2]/255,P=Math.min(1-D,1-T,1-R);return[100*((1-D-P)/(1-P)||0),100*((1-T-P)/(1-P)||0),100*((1-R-P)/(1-P)||0),100*P]},_.rgb.keyword=function(N){const D=k[N];if(D)return D;let T,R=1/0;for(const V of Object.keys(w)){const G=w[V],Y=(F=G,((P=N)[0]-F[0])**2+(P[1]-F[1])**2+(P[2]-F[2])**2);Y<R&&(R=Y,T=V)}var P,F;return T},_.keyword.rgb=function(N){return w[N]},_.rgb.xyz=function(N){let D=N[0]/255,T=N[1]/255,R=N[2]/255;return D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,R=R>.04045?((R+.055)/1.055)**2.4:R/12.92,[100*(.4124*D+.3576*T+.1805*R),100*(.2126*D+.7152*T+.0722*R),100*(.0193*D+.1192*T+.9505*R)]},_.rgb.lab=function(N){const D=_.rgb.xyz(N);let T=D[0],R=D[1],P=D[2];return T/=95.047,R/=100,P/=108.883,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,[116*R-16,500*(T-R),200*(R-P)]},_.hsl.rgb=function(N){const D=N[0]/360,T=N[1]/100,R=N[2]/100;let P,F,V;if(T===0)return V=255*R,[V,V,V];P=R<.5?R*(1+T):R+T-R*T;const G=2*R-P,Y=[0,0,0];for(let ee=0;ee<3;ee++)F=D+.3333333333333333*-(ee-1),F<0&&F++,F>1&&F--,V=6*F<1?G+6*(P-G)*F:2*F<1?P:3*F<2?G+(P-G)*(.6666666666666666-F)*6:G,Y[ee]=255*V;return Y},_.hsl.hsv=function(N){const D=N[0];let T=N[1]/100,R=N[2]/100,P=T;const F=Math.max(R,.01);return R*=2,T*=R<=1?R:2-R,P*=F<=1?F:2-F,[D,100*(R===0?2*P/(F+P):2*T/(R+T)),100*((R+T)/2)]},_.hsv.rgb=function(N){const D=N[0]/60,T=N[1]/100;let R=N[2]/100;const P=Math.floor(D)%6,F=D-Math.floor(D),V=255*R*(1-T),G=255*R*(1-T*F),Y=255*R*(1-T*(1-F));switch(R*=255,P){case 0:return[R,Y,V];case 1:return[G,R,V];case 2:return[V,R,Y];case 3:return[V,G,R];case 4:return[Y,V,R];case 5:return[R,V,G]}},_.hsv.hsl=function(N){const D=N[0],T=N[1]/100,R=N[2]/100,P=Math.max(R,.01);let F,V;V=(2-T)*R;const G=(2-T)*P;return F=T*P,F/=G<=1?G:2-G,F=F||0,V/=2,[D,100*F,100*V]},_.hwb.rgb=function(N){const D=N[0]/360;let T=N[1]/100,R=N[2]/100;const P=T+R;let F;P>1&&(T/=P,R/=P);const V=Math.floor(6*D),G=1-R;F=6*D-V,(1&V)!=0&&(F=1-F);const Y=T+F*(G-T);let ee,le,J;switch(V){default:case 6:case 0:ee=G,le=Y,J=T;break;case 1:ee=Y,le=G,J=T;break;case 2:ee=T,le=G,J=Y;break;case 3:ee=T,le=Y,J=G;break;case 4:ee=Y,le=T,J=G;break;case 5:ee=G,le=T,J=Y}return[255*ee,255*le,255*J]},_.cmyk.rgb=function(N){const D=N[0]/100,T=N[1]/100,R=N[2]/100,P=N[3]/100;return[255*(1-Math.min(1,D*(1-P)+P)),255*(1-Math.min(1,T*(1-P)+P)),255*(1-Math.min(1,R*(1-P)+P))]},_.xyz.rgb=function(N){const D=N[0]/100,T=N[1]/100,R=N[2]/100;let P,F,V;return P=3.2406*D+-1.5372*T+-.4986*R,F=-.9689*D+1.8758*T+.0415*R,V=.0557*D+-.204*T+1.057*R,P=P>.0031308?1.055*P**.4166666666666667-.055:12.92*P,F=F>.0031308?1.055*F**.4166666666666667-.055:12.92*F,V=V>.0031308?1.055*V**.4166666666666667-.055:12.92*V,P=Math.min(Math.max(0,P),1),F=Math.min(Math.max(0,F),1),V=Math.min(Math.max(0,V),1),[255*P,255*F,255*V]},_.xyz.lab=function(N){let D=N[0],T=N[1],R=N[2];return D/=95.047,T/=100,R/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,[116*T-16,500*(D-T),200*(T-R)]},_.lab.xyz=function(N){let D,T,R;T=(N[0]+16)/116,D=N[1]/500+T,R=T-N[2]/200;const P=T**3,F=D**3,V=R**3;return T=P>.008856?P:(T-.13793103448275862)/7.787,D=F>.008856?F:(D-.13793103448275862)/7.787,R=V>.008856?V:(R-.13793103448275862)/7.787,D*=95.047,T*=100,R*=108.883,[D,T,R]},_.lab.lch=function(N){const D=N[0],T=N[1],R=N[2];let P;return P=360*Math.atan2(R,T)/2/Math.PI,P<0&&(P+=360),[D,Math.sqrt(T*T+R*R),P]},_.lch.lab=function(N){const D=N[0],T=N[1],R=N[2]/360*2*Math.PI;return[D,T*Math.cos(R),T*Math.sin(R)]},_.rgb.ansi16=function(N,D=null){const[T,R,P]=N;let F=D===null?_.rgb.hsv(N)[2]:D;if(F=Math.round(F/50),F===0)return 30;let V=30+(Math.round(P/255)<<2|Math.round(R/255)<<1|Math.round(T/255));return F===2&&(V+=60),V},_.hsv.ansi16=function(N){return _.rgb.ansi16(_.hsv.rgb(N),N[2])},_.rgb.ansi256=function(N){const D=N[0],T=N[1],R=N[2];return D===T&&T===R?D<8?16:D>248?231:Math.round((D-8)/247*24)+232:16+36*Math.round(D/255*5)+6*Math.round(T/255*5)+Math.round(R/255*5)},_.ansi16.rgb=function(N){let D=N%10;if(D===0||D===7)return N>50&&(D+=3.5),D=D/10.5*255,[D,D,D];const T=.5*(1+~~(N>50));return[(1&D)*T*255,(D>>1&1)*T*255,(D>>2&1)*T*255]},_.ansi256.rgb=function(N){if(N>=232){const T=10*(N-232)+8;return[T,T,T]}let D;return N-=16,[Math.floor(N/36)/5*255,Math.floor((D=N%36)/6)/5*255,D%6/5*255]},_.rgb.hex=function(N){const D=(((255&Math.round(N[0]))<<16)+((255&Math.round(N[1]))<<8)+(255&Math.round(N[2]))).toString(16).toUpperCase();return"000000".substring(D.length)+D},_.hex.rgb=function(N){const D=N.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!D)return[0,0,0];let T=D[0];D[0].length===3&&(T=T.split("").map(P=>P+P).join(""));const R=parseInt(T,16);return[R>>16&255,R>>8&255,255&R]},_.rgb.hcg=function(N){const D=N[0]/255,T=N[1]/255,R=N[2]/255,P=Math.max(Math.max(D,T),R),F=Math.min(Math.min(D,T),R),V=P-F;let G,Y;return G=V<1?F/(1-V):0,Y=V<=0?0:P===D?(T-R)/V%6:P===T?2+(R-D)/V:4+(D-T)/V,Y/=6,Y%=1,[360*Y,100*V,100*G]},_.hsl.hcg=function(N){const D=N[1]/100,T=N[2]/100,R=T<.5?2*D*T:2*D*(1-T);let P=0;return R<1&&(P=(T-.5*R)/(1-R)),[N[0],100*R,100*P]},_.hsv.hcg=function(N){const D=N[1]/100,T=N[2]/100,R=D*T;let P=0;return R<1&&(P=(T-R)/(1-R)),[N[0],100*R,100*P]},_.hcg.rgb=function(N){const D=N[0]/360,T=N[1]/100,R=N[2]/100;if(T===0)return[255*R,255*R,255*R];const P=[0,0,0],F=D%1*6,V=F%1,G=1-V;let Y=0;switch(Math.floor(F)){case 0:P[0]=1,P[1]=V,P[2]=0;break;case 1:P[0]=G,P[1]=1,P[2]=0;break;case 2:P[0]=0,P[1]=1,P[2]=V;break;case 3:P[0]=0,P[1]=G,P[2]=1;break;case 4:P[0]=V,P[1]=0,P[2]=1;break;default:P[0]=1,P[1]=0,P[2]=G}return Y=(1-T)*R,[255*(T*P[0]+Y),255*(T*P[1]+Y),255*(T*P[2]+Y)]},_.hcg.hsv=function(N){const D=N[1]/100,T=D+N[2]/100*(1-D);let R=0;return T>0&&(R=D/T),[N[0],100*R,100*T]},_.hcg.hsl=function(N){const D=N[1]/100,T=N[2]/100*(1-D)+.5*D;let R=0;return T>0&&T<.5?R=D/(2*T):T>=.5&&T<1&&(R=D/(2*(1-T))),[N[0],100*R,100*T]},_.hcg.hwb=function(N){const D=N[1]/100,T=D+N[2]/100*(1-D);return[N[0],100*(T-D),100*(1-T)]},_.hwb.hcg=function(N){const D=N[1]/100,T=1-N[2]/100,R=T-D;let P=0;return R<1&&(P=(T-R)/(1-R)),[N[0],100*R,100*P]},_.apple.rgb=function(N){return[N[0]/65535*255,N[1]/65535*255,N[2]/65535*255]},_.rgb.apple=function(N){return[N[0]/255*65535,N[1]/255*65535,N[2]/255*65535]},_.gray.rgb=function(N){return[N[0]/100*255,N[0]/100*255,N[0]/100*255]},_.gray.hsl=function(N){return[0,0,N[0]]},_.gray.hsv=_.gray.hsl,_.gray.hwb=function(N){return[0,100,N[0]]},_.gray.cmyk=function(N){return[0,0,0,N[0]]},_.gray.lab=function(N){return[N[0],0,0]},_.gray.hex=function(N){const D=255&Math.round(N[0]/100*255),T=((D<<16)+(D<<8)+D).toString(16).toUpperCase();return"000000".substring(T.length)+T},_.rgb.gray=function(N){return[(N[0]+N[1]+N[2])/3/255*100]}},841:(m,g,y)=>{const w=y(4959),k=y(9325),_={};Object.keys(w).forEach(N=>{_[N]={},Object.defineProperty(_[N],"channels",{value:w[N].channels}),Object.defineProperty(_[N],"labels",{value:w[N].labels});const D=k(N);Object.keys(D).forEach(T=>{const R=D[T];_[N][T]=function(P){const F=function(...V){const G=V[0];if(G==null)return G;G.length>1&&(V=G);const Y=P(V);if(typeof Y=="object")for(let ee=Y.length,le=0;le<ee;le++)Y[le]=Math.round(Y[le]);return Y};return"conversion"in P&&(F.conversion=P.conversion),F}(R),_[N][T].raw=function(P){const F=function(...V){const G=V[0];return G==null?G:(G.length>1&&(V=G),P(V))};return"conversion"in P&&(F.conversion=P.conversion),F}(R)})}),m.exports=_},9325:(m,g,y)=>{const w=y(4959);function k(D){const T=function(){const P={},F=Object.keys(w);for(let V=F.length,G=0;G<V;G++)P[F[G]]={distance:-1,parent:null};return P}(),R=[D];for(T[D].distance=0;R.length;){const P=R.pop(),F=Object.keys(w[P]);for(let V=F.length,G=0;G<V;G++){const Y=F[G],ee=T[Y];ee.distance===-1&&(ee.distance=T[P].distance+1,ee.parent=P,R.unshift(Y))}}return T}function _(D,T){return function(R){return T(D(R))}}function N(D,T){const R=[T[D].parent,D];let P=w[T[D].parent][D],F=T[D].parent;for(;T[F].parent;)R.unshift(T[F].parent),P=_(w[T[F].parent][F],P),F=T[F].parent;return P.conversion=R,P}m.exports=function(D){const T=k(D),R={},P=Object.keys(T);for(let F=P.length,V=0;V<F;V++){const G=P[V];T[G].parent!==null&&(R[G]=N(G,T))}return R}},1103:m=>{m.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const D=N},3062:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const D=N},903:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const D=N},3143:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},4717:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const D=N},9315:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const D=N},8733:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const D=N},3508:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const D=N},2640:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const D=N},3535:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const D=N},1568:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const D=N},6270:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const D=N},5083:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},4036:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const D=N},3773:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const D=N},3689:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const D=N},1905:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},9773:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const D=N},2347:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},7754:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},111:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const D=N},4721:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const D=N},5730:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const D=N},4564:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},6082:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const D=N},2417:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const D=N},1199:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const D=N},4652:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const D=N},7442:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},9292:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},7368:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},4070:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},9247:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const D=N},1613:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const D=N},6306:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const D=N},2128:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const D=N},5087:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},4101:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const D=N},3881:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const D=N},6237:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},7341:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},6945:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},4906:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=N},5332:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=N},6781:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const D=N},3398:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const D=N},4157:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const D=N},5485:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},3949:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},7686:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},7339:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const D=N},9688:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=N},8847:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const D=N},6574:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},4879:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=N},3662:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const D=N},2577:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},1046:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},8793:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=N},4650:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const D=N},7676:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=N},5868:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=N},6764:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const D=N},9695:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const D=N},5542:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=N},3332:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const D=N},4793:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const D=N},3488:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=N},8506:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const D=N},4921:(m,g,y)=>{y.d(g,{Z:()=>D});var w=y(1799),k=y.n(w),_=y(2609),N=y.n(_)()(k());N.push([m.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const D=N},2609:m=>{m.exports=function(g){var y=[];return y.toString=function(){return this.map(function(w){var k=g(w);return w[2]?"@media ".concat(w[2]," {").concat(k,"}"):k}).join("")},y.i=function(w,k,_){typeof w=="string"&&(w=[[null,w,""]]);var N={};if(_)for(var D=0;D<this.length;D++){var T=this[D][0];T!=null&&(N[T]=!0)}for(var R=0;R<w.length;R++){var P=[].concat(w[R]);_&&N[P[0]]||(k&&(P[2]?P[2]="".concat(k," and ").concat(P[2]):P[2]=k),y.push(P))}},y}},1799:m=>{function g(w,k){return function(_){if(Array.isArray(_))return _}(w)||function(_,N){var D=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(D!=null){var T,R,P=[],F=!0,V=!1;try{for(D=D.call(_);!(F=(T=D.next()).done)&&(P.push(T.value),!N||P.length!==N);F=!0);}catch(G){V=!0,R=G}finally{try{F||D.return==null||D.return()}finally{if(V)throw R}}return P}}(w,k)||function(_,N){if(_){if(typeof _=="string")return y(_,N);var D=Object.prototype.toString.call(_).slice(8,-1);if(D==="Object"&&_.constructor&&(D=_.constructor.name),D==="Map"||D==="Set")return Array.from(_);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return y(_,N)}}(w,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(w,k){(k==null||k>w.length)&&(k=w.length);for(var _=0,N=new Array(k);_<k;_++)N[_]=w[_];return N}m.exports=function(w){var k=g(w,4),_=k[1],N=k[3];if(!N)return _;if(typeof btoa=="function"){var D=btoa(unescape(encodeURIComponent(JSON.stringify(N)))),T="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(D),R="/*# ".concat(T," */"),P=N.sources.map(function(F){return"/*# sourceURL=".concat(N.sourceRoot||"").concat(F," */")});return[_].concat(P).concat([R]).join(`
`)}return[_].join(`
`)}},6062:(m,g,y)=>{var w,k=function(){return w===void 0&&(w=!!(window&&document&&document.all&&!window.atob)),w},_=function(){var J={};return function(B){if(J[B]===void 0){var W=document.querySelector(B);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch{W=null}J[B]=W}return J[B]}}(),N=[];function D(J){for(var B=-1,W=0;W<N.length;W++)if(N[W].identifier===J){B=W;break}return B}function T(J,B){for(var W={},Z=[],de=0;de<J.length;de++){var ne=J[de],re=B.base?ne[0]+B.base:ne[0],ge=W[re]||0,ke="".concat(re," ").concat(ge);W[re]=ge+1;var se=D(ke),oe={css:ne[1],media:ne[2],sourceMap:ne[3]};se!==-1?(N[se].references++,N[se].updater(oe)):N.push({identifier:ke,updater:le(oe,B),references:1}),Z.push(ke)}return Z}function R(J){var B=document.createElement("style"),W=J.attributes||{};if(W.nonce===void 0){var Z=y.nc;Z&&(W.nonce=Z)}if(Object.keys(W).forEach(function(ne){B.setAttribute(ne,W[ne])}),typeof J.insert=="function")J.insert(B);else{var de=_(J.insert||"head");if(!de)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");de.appendChild(B)}return B}var P,F=(P=[],function(J,B){return P[J]=B,P.filter(Boolean).join(`
`)});function V(J,B,W,Z){var de=W?"":Z.media?"@media ".concat(Z.media," {").concat(Z.css,"}"):Z.css;if(J.styleSheet)J.styleSheet.cssText=F(B,de);else{var ne=document.createTextNode(de),re=J.childNodes;re[B]&&J.removeChild(re[B]),re.length?J.insertBefore(ne,re[B]):J.appendChild(ne)}}function G(J,B,W){var Z=W.css,de=W.media,ne=W.sourceMap;if(de?J.setAttribute("media",de):J.removeAttribute("media"),ne&&typeof btoa<"u"&&(Z+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ne))))," */")),J.styleSheet)J.styleSheet.cssText=Z;else{for(;J.firstChild;)J.removeChild(J.firstChild);J.appendChild(document.createTextNode(Z))}}var Y=null,ee=0;function le(J,B){var W,Z,de;if(B.singleton){var ne=ee++;W=Y||(Y=R(B)),Z=V.bind(null,W,ne,!1),de=V.bind(null,W,ne,!0)}else W=R(B),Z=G.bind(null,W,B),de=function(){(function(re){if(re.parentNode===null)return!1;re.parentNode.removeChild(re)})(W)};return Z(J),function(re){if(re){if(re.css===J.css&&re.media===J.media&&re.sourceMap===J.sourceMap)return;Z(J=re)}else de()}}m.exports=function(J,B){(B=B||{}).singleton||typeof B.singleton=="boolean"||(B.singleton=k());var W=T(J=J||[],B);return function(Z){if(Z=Z||[],Object.prototype.toString.call(Z)==="[object Array]"){for(var de=0;de<W.length;de++){var ne=D(W[de]);N[ne].references--}for(var re=T(Z,B),ge=0;ge<W.length;ge++){var ke=D(W[ge]);N[ke].references===0&&(N[ke].updater(),N.splice(ke,1))}W=re}}}}},i={};function l(m){var g=i[m];if(g!==void 0)return g.exports;var y=i[m]={id:m,exports:{}};return o[m](y,y.exports,l),y.exports}l.n=m=>{var g=m&&m.__esModule?()=>m.default:()=>m;return l.d(g,{a:g}),g},l.d=(m,g)=>{for(var y in g)l.o(g,y)&&!l.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:g[y]})},l.o=(m,g)=>Object.prototype.hasOwnProperty.call(m,g),l.nc=void 0;var h={};return(()=>{function m({emitter:c,activator:e,callback:s,contextElements:a}){c.listenTo(document,"mousedown",(d,p)=>{if(!e())return;const b=typeof p.composedPath=="function"?p.composedPath():[],v=typeof a=="function"?a():a;for(const C of v)if(C.contains(p.target)||b.includes(C))return;s()})}function g(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function y({view:c}){c.listenTo(c.element,"submit",(e,s)=>{s.preventDefault(),c.fire("submit")},{useCapture:!0})}l.d(h,{default:()=>EC});const w=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var k;const _={isMac:N(w),isWindows:(k=w,k.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(w),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(w),isiOS:function(c){return!!c.match(/iphone|ipad/i)||N(c)&&navigator.maxTouchPoints>0}(w),isAndroid:function(c){return c.indexOf("android")>-1}(w),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(w),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function N(c){return c.indexOf("macintosh")>-1}function D(c,e,s,a){s=s||function(C,j){return C===j};const d=Array.isArray(c)?c:Array.prototype.slice.call(c),p=Array.isArray(e)?e:Array.prototype.slice.call(e),b=function(C,j,E){const I=T(C,j,E);if(I===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const L=R(C,I),H=R(j,I),K=T(L,H,E),$=C.length-K,ce=j.length-K;return{firstIndex:I,lastIndexOld:$,lastIndexNew:ce}}(d,p,s);return a?function(C,j){const{firstIndex:E,lastIndexOld:I,lastIndexNew:L}=C;if(E===-1)return Array(j).fill("equal");let H=[];return E>0&&(H=H.concat(Array(E).fill("equal"))),L-E>0&&(H=H.concat(Array(L-E).fill("insert"))),I-E>0&&(H=H.concat(Array(I-E).fill("delete"))),L<j&&(H=H.concat(Array(j-L).fill("equal"))),H}(b,p.length):function(C,j){const E=[],{firstIndex:I,lastIndexOld:L,lastIndexNew:H}=j;return H-I>0&&E.push({index:I,type:"insert",values:C.slice(I,H)}),L-I>0&&E.push({index:I+(H-I),type:"delete",howMany:L-I}),E}(p,b)}function T(c,e,s){for(let a=0;a<Math.max(c.length,e.length);a++)if(c[a]===void 0||e[a]===void 0||!s(c[a],e[a]))return a;return-1}function R(c,e){return c.slice(e).reverse()}function P(c,e,s){s=s||function($,ce){return $===ce};const a=c.length,d=e.length;if(a>200||d>200||a+d>300)return P.fastDiff(c,e,s,!0);let p,b;if(d<a){const $=c;c=e,e=$,p="delete",b="insert"}else p="insert",b="delete";const v=c.length,C=e.length,j=C-v,E={},I={};function L($){const ce=(I[$-1]!==void 0?I[$-1]:-1)+1,fe=I[$+1]!==void 0?I[$+1]:-1,ve=ce>fe?-1:1;E[$+ve]&&(E[$]=E[$+ve].slice(0)),E[$]||(E[$]=[]),E[$].push(ce>fe?p:b);let Pe=Math.max(ce,fe),et=Pe-$;for(;et<v&&Pe<C&&s(c[et],e[Pe]);)et++,Pe++,E[$].push("equal");return Pe}let H,K=0;do{for(H=-K;H<j;H++)I[H]=L(H);for(H=j+K;H>j;H--)I[H]=L(H);I[j]=L(j),K++}while(I[j]!==C);return E[j].slice(1)}P.fastDiff=D;const F=function(){return function c(){c.called=!0}};class V{constructor(e,s){this.source=e,this.name=s,this.path=[],this.stop=F(),this.off=F()}}const G=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function Y(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+G[c>>0&255]+G[c>>8&255]+G[c>>16&255]+G[c>>24&255]+G[e>>0&255]+G[e>>8&255]+G[e>>16&255]+G[e>>24&255]+G[s>>0&255]+G[s>>8&255]+G[s>>16&255]+G[s>>24&255]+G[a>>0&255]+G[a>>8&255]+G[a>>16&255]+G[a>>24&255]}const ee={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function le(c,e){const s=ee.get(e.priority);for(let a=0;a<c.length;a++)if(ee.get(c[a].priority)<s)return void c.splice(a,0,e);c.push(e)}const J="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(e,s,a){super(function(d,p){const b=new WeakSet,v=(E,I)=>{if(typeof I=="object"&&I!==null){if(b.has(I))return`[object ${I.constructor.name}]`;b.add(I)}return I},C=p?` ${JSON.stringify(p,v)}`:"",j=de(d);return d+C+j}(e,a)),this.name="CKEditorError",this.context=s,this.data=a}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,s){if(e.is&&e.is("CKEditorError"))throw e;const a=new B(e.message,s);throw a.stack=e.stack,a}}function W(c,e){console.warn(...ne(c,e))}function Z(c,e){console.error(...ne(c,e))}function de(c){return`
Read more: ${J}#error-${c}`}function ne(c,e){const s=de(c);return e?[c,e,s]:[c,s]}const re="39.0.2",ge=new Date(2023,8,6);if(globalThis.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=re;const ke=Symbol("listeningTo"),se=Symbol("emitterId"),oe=Symbol("delegations"),ue=te(Object);function te(c){return c?class extends c{on(e,s,a){this.listenTo(this,e,s,a)}once(e,s,a){let d=!1;this.listenTo(this,e,(p,...b)=>{d||(d=!0,p.off(),s.call(this,p,...b))},a)}off(e,s){this.stopListening(this,e,s)}listenTo(e,s,a,d={}){let p,b;this[ke]||(this[ke]={});const v=this[ke];ae(e)||q(e);const C=ae(e);(p=v[C])||(p=v[C]={emitter:e,callbacks:{}}),(b=p.callbacks[s])||(b=p.callbacks[s]=[]),b.push(a),function(j,E,I,L,H){E._addEventListener?E._addEventListener(I,L,H):j._addEventListener.call(E,I,L,H)}(this,e,s,a,d)}stopListening(e,s,a){const d=this[ke];let p=e&&ae(e);const b=d&&p?d[p]:void 0,v=b&&s?b.callbacks[s]:void 0;if(!(!d||e&&!b||s&&!v))if(a)je(this,e,s,a),v.indexOf(a)!==-1&&(v.length===1?delete b.callbacks[s]:je(this,e,s,a));else if(v){for(;a=v.pop();)je(this,e,s,a);delete b.callbacks[s]}else if(b){for(s in b.callbacks)this.stopListening(e,s);delete d[p]}else{for(p in d)this.stopListening(d[p].emitter);delete this[ke]}}fire(e,...s){try{const a=e instanceof V?e:new V(this,e),d=a.name;let p=be(this,d);if(a.path.push(this),p){const v=[a,...s];p=Array.from(p);for(let C=0;C<p.length&&(p[C].callback.apply(this,v),a.off.called&&(delete a.off.called,this._removeEventListener(d,p[C].callback)),!a.stop.called);C++);}const b=this[oe];if(b){const v=b.get(d),C=b.get("*");v&&Te(v,a,s),C&&Te(C,a,s)}return a.return}catch(a){B.rethrowUnexpectedError(a,this)}}delegate(...e){return{to:(s,a)=>{this[oe]||(this[oe]=new Map),e.forEach(d=>{const p=this[oe].get(d);p?p.set(s,a):this[oe].set(d,new Map([[s,a]]))})}}}stopDelegating(e,s){if(this[oe])if(e)if(s){const a=this[oe].get(e);a&&a.delete(s)}else this[oe].delete(e);else this[oe].clear()}_addEventListener(e,s,a){(function(b,v){const C=pe(b);if(C[v])return;let j=v,E=null;const I=[];for(;j!==""&&!C[j];)C[j]={callbacks:[],childEvents:[]},I.push(C[j]),E&&C[j].childEvents.push(E),E=j,j=j.substr(0,j.lastIndexOf(":"));if(j!==""){for(const L of I)L.callbacks=C[j].callbacks.slice();C[j].childEvents.push(E)}})(this,e);const d=me(this,e),p={callback:s,priority:ee.get(a.priority)};for(const b of d)le(b,p)}_removeEventListener(e,s){const a=me(this,e);for(const d of a)for(let p=0;p<d.length;p++)d[p].callback==s&&(d.splice(p,1),p--)}}:ue}function q(c,e){c[se]||(c[se]=e||Y())}function ae(c){return c[se]}function pe(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function me(c,e){const s=pe(c)[e];if(!s)return[];let a=[s.callbacks];for(let d=0;d<s.childEvents.length;d++){const p=me(c,s.childEvents[d]);a=a.concat(p)}return a}function be(c,e){let s;return c._events&&(s=c._events[e])&&s.callbacks.length?s.callbacks:e.indexOf(":")>-1?be(c,e.substr(0,e.lastIndexOf(":"))):null}function Te(c,e,s){for(let[a,d]of c){d?typeof d=="function"&&(d=d(e.name)):d=e.name;const p=new V(e.source,d);p.path=[...e.path],a.fire(p,...s)}}function je(c,e,s,a){e._removeEventListener?e._removeEventListener(s,a):c._removeEventListener.call(e,s,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{te[c]=ue.prototype[c]});const Ye=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},Ve=Symbol("observableProperties"),Je=Symbol("boundObservables"),Qe=Symbol("boundProperties"),Ot=Symbol("decoratedMethods"),Tt=Symbol("decoratedOriginal"),Ze=st(te());function st(c){return c?class extends c{set(e,s){if(Ye(e))return void Object.keys(e).forEach(d=>{this.set(d,e[d])},this);Kt(this);const a=this[Ve];if(e in this&&!a.has(e))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>a.get(e),set(d){const p=a.get(e);let b=this.fire(`set:${e}`,e,d,p);b===void 0&&(b=d),p===b&&a.has(e)||(a.set(e,b),this.fire(`change:${e}`,e,b,p))}}),this[e]=s}bind(...e){if(!e.length||!er(e))throw new B("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new B("observable-bind-duplicate-properties",this);Kt(this);const s=this[Qe];e.forEach(d=>{if(s.has(d))throw new B("observable-bind-rebind",this)});const a=new Map;return e.forEach(d=>{const p={property:d,to:[]};s.set(d,p),a.set(d,p)}),{to:Ne,toMany:ot,_observable:this,_bindProperties:e,_to:[],_bindings:a}}unbind(...e){if(!this[Ve])return;const s=this[Qe],a=this[Je];if(e.length){if(!er(e))throw new B("observable-unbind-wrong-properties",this);e.forEach(d=>{const p=s.get(d);p&&(p.to.forEach(([b,v])=>{const C=a.get(b),j=C[v];j.delete(p),j.size||delete C[v],Object.keys(C).length||(a.delete(b),this.stopListening(b,"change"))}),s.delete(d))})}else a.forEach((d,p)=>{this.stopListening(p,"change")}),a.clear(),s.clear()}decorate(e){Kt(this);const s=this[e];if(!s)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(a,d)=>{a.return=s.apply(this,d)}),this[e]=function(...a){return this.fire(e,a)},this[e][Tt]=s,this[Ot]||(this[Ot]=[]),this[Ot].push(e)}stopListening(e,s,a){if(!e&&this[Ot]){for(const d of this[Ot])this[d]=this[d][Tt];delete this[Ot]}super.stopListening(e,s,a)}}:Ze}function Kt(c){c[Ve]||(Object.defineProperty(c,Ve,{value:new Map}),Object.defineProperty(c,Je,{value:new Map}),Object.defineProperty(c,Qe,{value:new Map}))}function Ne(...c){const e=function(...p){if(!p.length)throw new B("observable-bind-to-parse-error",null);const b={to:[]};let v;return typeof p[p.length-1]=="function"&&(b.callback=p.pop()),p.forEach(C=>{if(typeof C=="string")v.properties.push(C);else{if(typeof C!="object")throw new B("observable-bind-to-parse-error",null);v={observable:C,properties:[]},b.to.push(v)}}),b}(...c),s=Array.from(this._bindings.keys()),a=s.length;if(!e.callback&&e.to.length>1)throw new B("observable-bind-to-no-callback",this);if(a>1&&e.callback)throw new B("observable-bind-to-extra-callback",this);var d;e.to.forEach(p=>{if(p.properties.length&&p.properties.length!==a)throw new B("observable-bind-to-properties-length",this);p.properties.length||(p.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(s[0]).callback=e.callback),d=this._observable,this._to.forEach(p=>{const b=d[Je];let v;b.get(p.observable)||d.listenTo(p.observable,"change",(C,j)=>{v=b.get(p.observable)[j],v&&v.forEach(E=>{Lr(d,E.property)})})}),function(p){let b;p._bindings.forEach((v,C)=>{p._to.forEach(j=>{b=j.properties[v.callback?0:p._bindProperties.indexOf(C)],v.to.push([j.observable,b]),function(E,I,L,H){const K=E[Je],$=K.get(L),ce=$||{};ce[H]||(ce[H]=new Set),ce[H].add(I),$||K.set(L,ce)}(p._observable,v,j.observable,b)})})}(this),this._bindProperties.forEach(p=>{Lr(this._observable,p)})}function ot(c,e,s){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const p=a.map(b=>[b,d]);return Array.prototype.concat.apply([],p)}(c,e),s)}function er(c){return c.every(e=>typeof e=="string")}function Lr(c,e){const s=c[Qe].get(e);let a;s.callback?a=s.callback.apply(c,s.to.map(d=>d[0][d[1]])):(a=s.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=a:c.set(e,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{st[c]=Ze.prototype[c]});class Js{constructor(){this._replacedElements=[]}replace(e,s){this._replacedElements.push({element:e,newElement:s}),e.style.display="none",s&&e.parentNode.insertBefore(s,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:s})=>{e.style.display="",s&&s.remove()}),this._replacedElements=[]}}function hn(c){let e=0;for(const s of c)e++;return e}function zr(c,e){const s=Math.min(c.length,e.length);for(let a=0;a<s;a++)if(c[a]!=e[a])return a;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function Dr(c){return!(!c||!c[Symbol.iterator])}const Fo=typeof P0=="object"&&P0&&P0.Object===Object&&P0;var Vo=typeof self=="object"&&self&&self.Object===Object&&self;const Yt=Fo||Vo||Function("return this")(),Et=Yt.Symbol;var Nn=Object.prototype,ut=Nn.hasOwnProperty,It=Nn.toString,zt=Et?Et.toStringTag:void 0;const Re=function(c){var e=ut.call(c,zt),s=c[zt];try{c[zt]=void 0;var a=!0}catch{}var d=It.call(c);return a&&(e?c[zt]=s:delete c[zt]),d};var dr=Object.prototype.toString;const pr=function(c){return dr.call(c)};var Pr=Et?Et.toStringTag:void 0;const ls=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Pr&&Pr in Object(c)?Re(c):pr(c)},Cr=Array.isArray,jn=function(c){return c!=null&&typeof c=="object"},mo=function(c){return typeof c=="string"||!Cr(c)&&jn(c)&&ls(c)=="[object String]"};function od(c,e,s={},a=[]){const d=s&&s.xmlns,p=d?c.createElementNS(d,e):c.createElement(e);for(const b in s)p.setAttribute(b,s[b]);!mo(a)&&Dr(a)||(a=[a]);for(let b of a)mo(b)&&(b=c.createTextNode(b)),p.appendChild(b);return p}const pi=function(c,e){return function(s){return c(e(s))}},Uo=pi(Object.getPrototypeOf,Object);var Gu=Function.prototype,fi=Object.prototype,id=Gu.toString,Ga=fi.hasOwnProperty,ad=id.call(Object);const mn=function(c){if(!jn(c)||ls(c)!="[object Object]")return!1;var e=Uo(c);if(e===null)return!0;var s=Ga.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&id.call(s)==ad},Gm=function(){this.__data__=[],this.size=0},_r=function(c,e){return c===e||c!=c&&e!=e},Kr=function(c,e){for(var s=c.length;s--;)if(_r(c[s][0],e))return s;return-1};var pn=Array.prototype.splice;const po=function(c){var e=this.__data__,s=Kr(e,c);return!(s<0)&&(s==e.length-1?e.pop():pn.call(e,s,1),--this.size,!0)},Hu=function(c){var e=this.__data__,s=Kr(e,c);return s<0?void 0:e[s][1]},sg=function(c){return Kr(this.__data__,c)>-1},Ha=function(c,e){var s=this.__data__,a=Kr(s,c);return a<0?(++this.size,s.push([c,e])):s[a][1]=e,this};function Hi(c){var e=-1,s=c==null?0:c.length;for(this.clear();++e<s;){var a=c[e];this.set(a[0],a[1])}}Hi.prototype.clear=Gm,Hi.prototype.delete=po,Hi.prototype.get=Hu,Hi.prototype.has=sg,Hi.prototype.set=Ha;const gi=Hi,qa=function(){this.__data__=new gi,this.size=0},qi=function(c){var e=this.__data__,s=e.delete(c);return this.size=e.size,s},yi=function(c){return this.__data__.get(c)},bi=function(c){return this.__data__.has(c)},$r=function(c){if(!Ye(c))return!1;var e=ls(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Hr=Yt["__core-js_shared__"];var ld=function(){var c=/[^.]+$/.exec(Hr&&Hr.keys&&Hr.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const cd=function(c){return!!ld&&ld in c};var Go=Function.prototype.toString;const ws=function(c){if(c!=null){try{return Go.call(c)}catch{}try{return c+""}catch{}}return""};var Hm=/^\[object .+?Constructor\]$/,qm=Function.prototype,ql=Object.prototype,Ym=qm.toString,Ya=ql.hasOwnProperty,xi=RegExp("^"+Ym.call(Ya).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Qn=function(c){return!(!Ye(c)||cd(c))&&($r(c)?xi:Hm).test(ws(c))},Yl=function(c,e){return c==null?void 0:c[e]},vi=function(c,e){var s=Yl(c,e);return Qn(s)?s:void 0},Xs=vi(Yt,"Map"),wi=vi(Object,"create"),dd=function(){this.__data__=wi?wi(null):{},this.size=0},qu=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var ud=Object.prototype.hasOwnProperty;const ks=function(c){var e=this.__data__;if(wi){var s=e[c];return s==="__lodash_hash_undefined__"?void 0:s}return ud.call(e,c)?e[c]:void 0};var Yu=Object.prototype.hasOwnProperty;const og=function(c){var e=this.__data__;return wi?e[c]!==void 0:Yu.call(e,c)},hd=function(c,e){var s=this.__data__;return this.size+=this.has(c)?0:1,s[c]=wi&&e===void 0?"__lodash_hash_undefined__":e,this};function ki(c){var e=-1,s=c==null?0:c.length;for(this.clear();++e<s;){var a=c[e];this.set(a[0],a[1])}}ki.prototype.clear=dd,ki.prototype.delete=qu,ki.prototype.get=ks,ki.prototype.has=og,ki.prototype.set=hd;const Wa=ki,ig=function(){this.size=0,this.__data__={hash:new Wa,map:new(Xs||gi),string:new Wa}},fn=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},cs=function(c,e){var s=c.__data__;return fn(e)?s[typeof e=="string"?"string":"hash"]:s.map},Wl=function(c){var e=cs(this,c).delete(c);return this.size-=e?1:0,e},Ka=function(c){return cs(this,c).get(c)},Yi=function(c){return cs(this,c).has(c)},Ar=function(c,e){var s=cs(this,c),a=s.size;return s.set(c,e),this.size+=s.size==a?0:1,this};function fo(c){var e=-1,s=c==null?0:c.length;for(this.clear();++e<s;){var a=c[e];this.set(a[0],a[1])}}fo.prototype.clear=ig,fo.prototype.delete=Wl,fo.prototype.get=Ka,fo.prototype.has=Yi,fo.prototype.set=Ar;const Cs=fo,Kl=function(c,e){var s=this.__data__;if(s instanceof gi){var a=s.__data__;if(!Xs||a.length<199)return a.push([c,e]),this.size=++s.size,this;s=this.__data__=new Cs(a)}return s.set(c,e),this.size=s.size,this};function Wi(c){var e=this.__data__=new gi(c);this.size=e.size}Wi.prototype.clear=qa,Wi.prototype.delete=qi,Wi.prototype.get=yi,Wi.prototype.has=bi,Wi.prototype.set=Kl;const Ki=Wi,Wu=function(c,e){for(var s=-1,a=c==null?0:c.length;++s<a&&e(c[s],s,c)!==!1;);return c},md=function(){try{var c=vi(Object,"defineProperty");return c({},"",{}),c}catch{}}(),Ku=function(c,e,s){e=="__proto__"&&md?md(c,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):c[e]=s};var pd=Object.prototype.hasOwnProperty;const Ho=function(c,e,s){var a=c[e];pd.call(c,e)&&_r(a,s)&&(s!==void 0||e in c)||Ku(c,e,s)},Jn=function(c,e,s,a){var d=!s;s||(s={});for(var p=-1,b=e.length;++p<b;){var v=e[p],C=void 0;C===void 0&&(C=c[v]),d?Ku(s,v,C):Ho(s,v,C)}return s},Qi=function(c,e){for(var s=-1,a=Array(c);++s<c;)a[s]=e(s);return a},Ci=function(c){return jn(c)&&ls(c)=="[object Arguments]"};var fd=Object.prototype,_i=fd.hasOwnProperty,Wm=fd.propertyIsEnumerable;const Ji=Ci(function(){return arguments}())?Ci:function(c){return jn(c)&&_i.call(c,"callee")&&!Wm.call(c,"callee")},qo=function(){return!1};var Zs=t&&!t.nodeType&&t,Qa=Zs&&!0&&n&&!n.nodeType&&n,Yo=Qa&&Qa.exports===Zs?Yt.Buffer:void 0;const go=(Yo?Yo.isBuffer:void 0)||qo;var Xi=/^(?:0|[1-9]\d*)$/;const Ql=function(c,e){var s=typeof c;return!!(e=e??9007199254740991)&&(s=="number"||s!="symbol"&&Xi.test(c))&&c>-1&&c%1==0&&c<e},Wo=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var tr={};tr["[object Float32Array]"]=tr["[object Float64Array]"]=tr["[object Int8Array]"]=tr["[object Int16Array]"]=tr["[object Int32Array]"]=tr["[object Uint8Array]"]=tr["[object Uint8ClampedArray]"]=tr["[object Uint16Array]"]=tr["[object Uint32Array]"]=!0,tr["[object Arguments]"]=tr["[object Array]"]=tr["[object ArrayBuffer]"]=tr["[object Boolean]"]=tr["[object DataView]"]=tr["[object Date]"]=tr["[object Error]"]=tr["[object Function]"]=tr["[object Map]"]=tr["[object Number]"]=tr["[object Object]"]=tr["[object RegExp]"]=tr["[object Set]"]=tr["[object String]"]=tr["[object WeakMap]"]=!1;const Qu=function(c){return jn(c)&&Wo(c.length)&&!!tr[ls(c)]},gn=function(c){return function(e){return c(e)}};var ur=t&&!t.nodeType&&t,Ai=ur&&!0&&n&&!n.nodeType&&n,Zi=Ai&&Ai.exports===ur&&Fo.process;const $i=function(){try{var c=Ai&&Ai.require&&Ai.require("util").types;return c||Zi&&Zi.binding&&Zi.binding("util")}catch{}}();var Jl=$i&&$i.isTypedArray;const Ja=Jl?gn(Jl):Qu;var Ni=Object.prototype.hasOwnProperty;const Xa=function(c,e){var s=Cr(c),a=!s&&Ji(c),d=!s&&!a&&go(c),p=!s&&!a&&!d&&Ja(c),b=s||a||d||p,v=b?Qi(c.length,String):[],C=v.length;for(var j in c)!e&&!Ni.call(c,j)||b&&(j=="length"||d&&(j=="offset"||j=="parent")||p&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||Ql(j,C))||v.push(j);return v};var yo=Object.prototype;const gd=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||yo)},ag=pi(Object.keys,Object);var Xl=Object.prototype.hasOwnProperty;const yd=function(c){if(!gd(c))return ag(c);var e=[];for(var s in Object(c))Xl.call(c,s)&&s!="constructor"&&e.push(s);return e},Za=function(c){return c!=null&&Wo(c.length)&&!$r(c)},$a=function(c){return Za(c)?Xa(c):yd(c)},Km=function(c,e){return c&&Jn(e,$a(e),c)},bd=function(c){var e=[];if(c!=null)for(var s in Object(c))e.push(s);return e};var lg=Object.prototype.hasOwnProperty;const Ju=function(c){if(!Ye(c))return bd(c);var e=gd(c),s=[];for(var a in c)(a!="constructor"||!e&&lg.call(c,a))&&s.push(a);return s},bo=function(c){return Za(c)?Xa(c,!0):Ju(c)},Qm=function(c,e){return c&&Jn(e,bo(e),c)};var Xu=t&&!t.nodeType&&t,xd=Xu&&!0&&n&&!n.nodeType&&n,el=xd&&xd.exports===Xu?Yt.Buffer:void 0,Zu=el?el.allocUnsafe:void 0;const Zl=function(c,e){if(e)return c.slice();var s=c.length,a=Zu?Zu(s):new c.constructor(s);return c.copy(a),a},$u=function(c,e){var s=-1,a=c.length;for(e||(e=Array(a));++s<a;)e[s]=c[s];return e},eh=function(c,e){for(var s=-1,a=c==null?0:c.length,d=0,p=[];++s<a;){var b=c[s];e(b,s,c)&&(p[d++]=b)}return p},ji=function(){return[]};var Jm=Object.prototype.propertyIsEnumerable,th=Object.getOwnPropertySymbols;const vd=th?function(c){return c==null?[]:(c=Object(c),eh(th(c),function(e){return Jm.call(c,e)}))}:ji,Xm=function(c,e){return Jn(c,vd(c),e)},$l=function(c,e){for(var s=-1,a=e.length,d=c.length;++s<a;)c[d+s]=e[s];return c},ds=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)$l(e,vd(c)),c=Uo(c);return e}:ji,Zm=function(c,e){return Jn(c,ds(c),e)},rh=function(c,e,s){var a=e(c);return Cr(c)?a:$l(a,s(c))},xo=function(c){return rh(c,$a,vd)},S=function(c){return rh(c,bo,ds)},U=vi(Yt,"DataView"),Q=vi(Yt,"Promise"),he=vi(Yt,"Set"),Ce=vi(Yt,"WeakMap");var Me="[object Map]",Xe="[object Promise]",Qt="[object Set]",yn="[object WeakMap]",Jt="[object DataView]",Bn=ws(U),Sn=ws(Xs),ea=ws(Q),Xn=ws(he),Si=ws(Ce),Ko=ls;(U&&Ko(new U(new ArrayBuffer(1)))!=Jt||Xs&&Ko(new Xs)!=Me||Q&&Ko(Q.resolve())!=Xe||he&&Ko(new he)!=Qt||Ce&&Ko(new Ce)!=yn)&&(Ko=function(c){var e=ls(c),s=e=="[object Object]"?c.constructor:void 0,a=s?ws(s):"";if(a)switch(a){case Bn:return Jt;case Sn:return Me;case ea:return Xe;case Xn:return Qt;case Si:return yn}return e});const tl=Ko;var kx=Object.prototype.hasOwnProperty;const Cx=function(c){var e=c.length,s=new c.constructor(e);return e&&typeof c[0]=="string"&&kx.call(c,"index")&&(s.index=c.index,s.input=c.input),s},wd=Yt.Uint8Array,nh=function(c){var e=new c.constructor(c.byteLength);return new wd(e).set(new wd(c)),e},_x=function(c,e){var s=e?nh(c.buffer):c.buffer;return new c.constructor(s,c.byteOffset,c.byteLength)};var Ax=/\w*$/;const Nx=function(c){var e=new c.constructor(c.source,Ax.exec(c));return e.lastIndex=c.lastIndex,e};var jx=Et?Et.prototype:void 0,Sx=jx?jx.valueOf:void 0;const Zk=function(c){return Sx?Object(Sx.call(c)):{}},Ex=function(c,e){var s=e?nh(c.buffer):c.buffer;return new c.constructor(s,c.byteOffset,c.length)},$k=function(c,e,s){var a=c.constructor;switch(e){case"[object ArrayBuffer]":return nh(c);case"[object Boolean]":case"[object Date]":return new a(+c);case"[object DataView]":return _x(c,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ex(c,s);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(c);case"[object RegExp]":return Nx(c);case"[object Symbol]":return Zk(c)}};var Rs=Object.create;const sh=function(){function c(){}return function(e){if(!Ye(e))return{};if(Rs)return Rs(e);c.prototype=e;var s=new c;return c.prototype=void 0,s}}(),cg=function(c){return typeof c.constructor!="function"||gd(c)?{}:sh(Uo(c))},Dx=function(c){return jn(c)&&tl(c)=="[object Map]"};var dg=$i&&$i.isMap;const Mx=dg?gn(dg):Dx,ug=function(c){return jn(c)&&tl(c)=="[object Set]"};var Tx=$i&&$i.isSet;const kd=Tx?gn(Tx):ug;var $m="[object Arguments]",Cd="[object Function]",ep="[object Object]",Mr={};Mr[$m]=Mr["[object Array]"]=Mr["[object ArrayBuffer]"]=Mr["[object DataView]"]=Mr["[object Boolean]"]=Mr["[object Date]"]=Mr["[object Float32Array]"]=Mr["[object Float64Array]"]=Mr["[object Int8Array]"]=Mr["[object Int16Array]"]=Mr["[object Int32Array]"]=Mr["[object Map]"]=Mr["[object Number]"]=Mr[ep]=Mr["[object RegExp]"]=Mr["[object Set]"]=Mr["[object String]"]=Mr["[object Symbol]"]=Mr["[object Uint8Array]"]=Mr["[object Uint8ClampedArray]"]=Mr["[object Uint16Array]"]=Mr["[object Uint32Array]"]=!0,Mr["[object Error]"]=Mr[Cd]=Mr["[object WeakMap]"]=!1;const ta=function c(e,s,a,d,p,b){var v,C=1&s,j=2&s,E=4&s;if(a&&(v=p?a(e,d,p,b):a(e)),v!==void 0)return v;if(!Ye(e))return e;var I=Cr(e);if(I){if(v=Cx(e),!C)return $u(e,v)}else{var L=tl(e),H=L==Cd||L=="[object GeneratorFunction]";if(go(e))return Zl(e,C);if(L==ep||L==$m||H&&!p){if(v=j||H?{}:cg(e),!C)return j?Zm(e,Qm(v,e)):Xm(e,Km(v,e))}else{if(!Mr[L])return p?e:{};v=$k(e,L,C)}}b||(b=new Ki);var K=b.get(e);if(K)return K;b.set(e,v),kd(e)?e.forEach(function(ce){v.add(c(ce,s,a,ce,e,b))}):Mx(e)&&e.forEach(function(ce,fe){v.set(fe,c(ce,s,a,fe,e,b))});var $=I?void 0:(E?j?S:xo:j?bo:$a)(e);return Wu($||e,function(ce,fe){$&&(ce=e[fe=ce]),Ho(v,fe,c(ce,s,a,fe,e,b))}),v},rl=function(c,e){return ta(c,5,e=typeof e=="function"?e:void 0)},ra=function(c){return jn(c)&&c.nodeType===1&&!mn(c)};class hg{constructor(e,s){this._config={},s&&this.define(nl(s)),e&&this._setObjectToTarget(this._config,e)}set(e,s){this._setToTarget(this._config,e,s)}define(e,s){this._setToTarget(this._config,e,s,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,s,a,d=!1){if(mn(s))return void this._setObjectToTarget(e,s,d);const p=s.split(".");s=p.pop();for(const b of p)mn(e[b])||(e[b]={}),e=e[b];if(mn(a))return mn(e[s])||(e[s]={}),e=e[s],void this._setObjectToTarget(e,a,d);d&&e[s]!==void 0||(e[s]=a)}_getFromSource(e,s){const a=s.split(".");s=a.pop();for(const d of a){if(!mn(e[d])){e=null;break}e=e[d]}return e?nl(e[s]):void 0}_setObjectToTarget(e,s,a){Object.keys(s).forEach(d=>{this._setToTarget(e,d,s[d],a)})}}function nl(c){return rl(c,Ix)}function Ix(c){return ra(c)?c:void 0}function na(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function oh(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object global]"}const Rx=sl(te());function sl(c){return c?class extends c{listenTo(e,s,a,d={}){if(na(e)||oh(e)){const p={capture:!!d.useCapture,passive:!!d.usePassive},b=this._getProxyEmitter(e,p)||new e1(e,p);this.listenTo(b,s,a,d)}else super.listenTo(e,s,a,d)}stopListening(e,s,a){if(na(e)||oh(e)){const d=this._getAllProxyEmitters(e);for(const p of d)this.stopListening(p,s,a)}else super.stopListening(e,s,a)}_getProxyEmitter(e,s){return function(a,d){const p=a[ke];return p&&p[d]?p[d].emitter:null}(this,mg(e,s))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(e,s)).filter(s=>!!s)}}:Rx}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{sl[c]=Rx.prototype[c]});class e1 extends te(){constructor(e,s){super(),q(this,mg(e,s)),this._domNode=e,this._options=s}attach(e){if(this._domListeners&&this._domListeners[e])return;const s=this._createDomListener(e);this._domNode.addEventListener(e,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=s}detach(e){let s;!this._domListeners[e]||(s=this._events[e])&&s.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,s,a){this.attach(e),te().prototype._addEventListener.call(this,e,s,a)}_removeEventListener(e,s){te().prototype._removeEventListener.call(this,e,s),this.detach(e)}_createDomListener(e){const s=a=>{this.fire(e,a)};return s.removeListener=()=>{this._domNode.removeEventListener(e,s,this._options),delete this._domListeners[e]},s}}function mg(c,e){let s=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=Y())}(c);for(const a of Object.keys(e).sort())e[a]&&(s+="-"+a);return s}let tp;try{tp={window,document}}catch{tp={window:{},document:{}}}const At=tp;function $s(c){let e=c.parentElement;if(!e)return null;for(;e.tagName!="BODY";){const s=e.style.overflowY||At.window.getComputedStyle(e).overflowY;if(s==="auto"||s==="scroll")break;if(e=e.parentElement,!e)return null}return e}function ih(c){return Object.prototype.toString.apply(c)=="[object Range]"}function eo(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function hr(c){return Object.prototype.toString.call(c)=="[object Text]"}const ec=["top","right","bottom","left","width","height"];class fr{constructor(e){const s=ih(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),rp(e)||s)if(s){const a=fr.getDomRangeRects(e);tc(this,fr.getBoundingRect(a))}else tc(this,e.getBoundingClientRect());else if(oh(e)){const{innerWidth:a,innerHeight:d}=e;tc(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else tc(this,e)}clone(){return new fr(this)}moveTo(e,s){return this.top=s,this.right=e+this.width,this.bottom=s+this.height,this.left=e,this}moveBy(e,s){return this.top+=s,this.right+=e,this.left+=e,this.bottom+=s,this}getIntersection(e){const s={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0?null:new fr(s)}getIntersectionArea(e){const s=this.getIntersection(e);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let s=this.clone();if(ah(e))return s;let a,d=e,p=e.parentNode||e.commonAncestorContainer;for(;p&&!ah(p);){if(d instanceof HTMLElement&&rc(d)==="absolute"&&(a=d),a&&(rc(p)!=="relative"||(b=p).ownerDocument.defaultView.getComputedStyle(b).overflow==="visible")){d=p,p=p.parentNode;continue}const v=new fr(p),C=s.getIntersection(v);if(!C)return null;C.getArea()<s.getArea()&&(s=C),d=p,p=p.parentNode}var b;return s}isEqual(e){for(const s of ec)if(this[s]!==e[s])return!1;return!0}contains(e){const s=this.getIntersection(e);return!(!s||!s.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let s,a,d;if(oh(e))s=e.innerWidth-e.document.documentElement.clientWidth,a=e.innerHeight-e.document.documentElement.clientHeight,d=e.getComputedStyle(e.document.documentElement).direction;else{const p=eo(e);s=e.offsetWidth-e.clientWidth-p.left-p.right,a=e.offsetHeight-e.clientHeight-p.top-p.bottom,d=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=p.left,this.top+=p.top,this.right-=p.right,this.bottom-=p.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,d==="ltr"?this.right-=s:this.left+=s,this.height-=a,this.bottom-=a,this}static getDomRangeRects(e){const s=[],a=Array.from(e.getClientRects());if(a.length)for(const d of a)s.push(new fr(d));else{let d=e.startContainer;hr(d)&&(d=d.parentNode);const p=new fr(d.getBoundingClientRect());p.right=p.left,p.width=0,s.push(p)}return s}static getBoundingRect(e){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const d of e)a++,s.left=Math.min(s.left,d.left),s.top=Math.min(s.top,d.top),s.right=Math.max(s.right,d.right),s.bottom=Math.max(s.bottom,d.bottom);return a==0?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new fr(s))}}function tc(c,e){for(const s of ec)c[s]=e[s]}function ah(c){return!!rp(c)&&c===c.ownerDocument.body}function rp(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function rc(c){return c.ownerDocument.defaultView.getComputedStyle(c).position}const Qr=class{constructor(c,e){Qr._observerInstance||Qr._createObserver(),this._element=c,this._callback=e,Qr._addElementCallback(c,e),Qr._observerInstance.observe(c)}get element(){return this._element}destroy(){Qr._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){Qr._elementCallbacks||(Qr._elementCallbacks=new Map);let s=Qr._elementCallbacks.get(c);s||(s=new Set,Qr._elementCallbacks.set(c,s)),s.add(e)}static _deleteElementCallback(c,e){const s=Qr._getElementCallbacks(c);s&&(s.delete(e),s.size||(Qr._elementCallbacks.delete(c),Qr._observerInstance.unobserve(c))),Qr._elementCallbacks&&!Qr._elementCallbacks.size&&(Qr._observerInstance=null,Qr._elementCallbacks=null)}static _getElementCallbacks(c){return Qr._elementCallbacks?Qr._elementCallbacks.get(c):null}static _createObserver(){Qr._observerInstance=new At.window.ResizeObserver(c=>{for(const e of c){const s=Qr._getElementCallbacks(e.target);if(s)for(const a of s)a(e)}})}};let nc=Qr;function _d(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function pg(c){return e=>e+c}function us(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function np(c,e,s){c.insertBefore(s,c.childNodes[e]||null)}function to(c){return c&&c.nodeType===Node.COMMENT_NODE}function ol(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}nc._observerInstance=null,nc._elementCallbacks=null;var lh=Math.pow;function il({element:c,target:e,positions:s,limiter:a,fitInViewport:d,viewportOffsetConfig:p}){$r(e)&&(e=e()),$r(a)&&(a=a());const b=function(L){return L&&L.parentNode?L.offsetParent===At.document.body?null:L.offsetParent:null}(c),v=new fr(c),C=new fr(e);let j;const E=d&&function(L){L=Object.assign({top:0,bottom:0,left:0,right:0},L);const H=new fr(At.window);return H.top+=L.top,H.height-=L.top,H.bottom-=L.bottom,H.height-=L.bottom,H}(p)||null,I={targetRect:C,elementRect:v,positionedElementAncestor:b,viewportRect:E};if(a||d){const L=a&&new fr(a).getVisible();Object.assign(I,{limiterRect:L,viewportRect:E}),j=function(H,K){const{elementRect:$}=K,ce=$.getArea(),fe=H.map(et=>new ch(et,K)).filter(et=>!!et.name);let ve=0,Pe=null;for(const et of fe){const{limiterIntersectionArea:vt,viewportIntersectionArea:Rr}=et;if(vt===ce)return et;const nr=lh(Rr,2)+lh(vt,2);nr>ve&&(ve=nr,Pe=et)}return Pe}(s,I)||new ch(s[0],I)}else j=new ch(s[0],I);return j}function sp(c){const{scrollX:e,scrollY:s}=At.window;return c.clone().moveBy(e,s)}class ch{constructor(e,s){const a=e(s.targetRect,s.elementRect,s.viewportRect);if(!a)return;const{left:d,top:p,name:b,config:v}=a;this.name=b,this.config=v,this._positioningFunctionCorrdinates={left:d,top:p},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const s=this._options.viewportRect;if(!s)return e.getIntersectionArea(this._rect);{const a=e.getIntersection(s);if(a)return a.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=sp(this._rect),this._options.positionedElementAncestor&&function(e,s){const a=sp(new fr(s)),d=eo(s);let p=0,b=0;p-=a.left,b-=a.top,p+=s.scrollLeft,b+=s.scrollTop,p-=d.left,b-=d.top,e.moveBy(p,b)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function sc(c){const e=c.parentNode;e&&e.removeChild(c)}function Ad({window:c,rect:e,alignToTop:s,forceScroll:a,viewportOffset:d}){const p=e.clone().moveBy(0,d.bottom),b=e.clone().moveBy(0,-d.top),v=new fr(c).excludeScrollbarsAndBorders(),C=s&&a,j=[b,p].every(K=>v.contains(K));let{scrollX:E,scrollY:I}=c;const L=E,H=I;C?I-=v.top-e.top+d.top:j||(ro(b,v)?I-=v.top-e.top+d.top:dh(p,v)&&(I+=s?e.top-v.top-d.top:e.bottom-v.bottom+d.bottom)),j||(no(e,v)?E-=v.left-e.left+d.left:al(e,v)&&(E+=e.right-v.right+d.right)),E==L&&I===H||c.scrollTo(E,I)}function op({parent:c,getRect:e,alignToTop:s,forceScroll:a,ancestorOffset:d=0,limiterElement:p}){const b=Qo(c),v=s&&a;let C,j,E;const I=p||b.document.body;for(;c!=I;)j=e(),C=new fr(c).excludeScrollbarsAndBorders(),E=C.contains(j),v?c.scrollTop-=C.top-j.top+d:E||(ro(j,C)?c.scrollTop-=C.top-j.top+d:dh(j,C)&&(c.scrollTop+=s?j.top-C.top-d:j.bottom-C.bottom+d)),E||(no(j,C)?c.scrollLeft-=C.left-j.left+d:al(j,C)&&(c.scrollLeft+=j.right-C.right+d)),c=c.parentNode}function dh(c,e){return c.bottom>e.bottom}function ro(c,e){return c.top<e.top}function no(c,e){return c.left<e.left}function al(c,e){return c.right>e.right}function Qo(c){return ih(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function sa(c){if(ih(c)){let e=c.commonAncestorContainer;return hr(e)&&(e=e.parentNode),e}return c.parentNode}function ll(c,e){const s=Qo(c),a=new fr(c);if(s===e)return a;{let d=s;for(;d!=e;){const p=d.frameElement,b=new fr(p).excludeScrollbarsAndBorders();a.moveBy(b.left,b.top),d=d.parent}}return a}const Px={ctrl:"",cmd:"",alt:"",shift:""},fg={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Wt=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;for(const e of"`-=[];',./\\")c[e]=e.charCodeAt(0);return c}(),_s=Object.fromEntries(Object.entries(Wt).map(([c,e])=>[e,c.charAt(0).toUpperCase()+c.slice(1)]));function Tr(c){let e;if(typeof c=="string"){if(e=Wt[c.toLowerCase()],!e)throw new B("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?Wt.alt:0)+(c.ctrlKey?Wt.ctrl:0)+(c.shiftKey?Wt.shift:0)+(c.metaKey?Wt.cmd:0);return e}function rr(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(s=>s.trim())}(c)),c.map(e=>typeof e=="string"?function(s){if(s.endsWith("!"))return Tr(s.slice(0,-1));const a=Tr(s);return _.isMac&&a==Wt.ctrl?Wt.cmd:a}(e):e).reduce((e,s)=>s+e,0)}function cl(c){let e=rr(c);return Object.entries(_.isMac?Px:fg).reduce((s,[a,d])=>((e&Wt[a])!=0&&(e&=~Wt[a],s+=d),s),"")+(e?_s[e]:"")}function vo(c,e){const s=e==="ltr";switch(c){case Wt.arrowleft:return s?"left":"right";case Wt.arrowright:return s?"right":"left";case Wt.arrowup:return"up";case Wt.arrowdown:return"down"}}function bn(c){return Array.isArray(c)?c:[c]}function oc(c,e,s=1){if(typeof s!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:s});const a=Object.keys(At.window.CKEDITOR_TRANSLATIONS).length;a===1&&(c=Object.keys(At.window.CKEDITOR_TRANSLATIONS)[0]);const d=e.id||e.string;if(a===0||!function(C,j){return!!At.window.CKEDITOR_TRANSLATIONS[C]&&!!At.window.CKEDITOR_TRANSLATIONS[C].dictionary[j]}(c,d))return s!==1?e.plural:e.string;const p=At.window.CKEDITOR_TRANSLATIONS[c].dictionary,b=At.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(C=>C===1?0:1),v=p[d];return typeof v=="string"?v:v[Number(b(s))]}At.window.CKEDITOR_TRANSLATIONS||(At.window.CKEDITOR_TRANSLATIONS={});const Ox=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function gg(c){return Ox.includes(c)?"rtl":"ltr"}class uh{constructor({uiLanguage:e="en",contentLanguage:s}={}){this.uiLanguage=e,this.contentLanguage=s||this.uiLanguage,this.uiLanguageDirection=gg(this.uiLanguage),this.contentLanguageDirection=gg(this.contentLanguage),this.t=(a,d)=>this._t(a,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,s=[]){s=bn(s),typeof e=="string"&&(e={string:e});const a=e.plural?s[0]:1;return function(d,p){return d.replace(/%(\d+)/g,(b,v)=>v<p.length?p[v]:b)}(oc(this.uiLanguage,e,a),s)}}class As extends te(){constructor(e={},s={}){super();const a=Dr(e);if(a||(s=e),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of e)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,s){return this.addMany([e],s)}addMany(e,s){if(s===void 0)s=this._items.length;else if(s>this._items.length||s<0)throw new B("collection-add-item-invalid-index",this);let a=0;for(const d of e){const p=this._getItemIdBeforeAdding(d),b=s+a;this._items.splice(b,0,d),this._itemMap.set(p,d),this.fire("add",d,b),a++}return this.fire("change",{added:e,removed:[],index:s}),this}get(e){let s;if(typeof e=="string")s=this._itemMap.get(e);else{if(typeof e!="number")throw new B("collection-get-invalid-arg",this);s=this._items[e]}return s||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const s=e[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(e){let s;return s=typeof e=="string"?this._itemMap.get(e):e,s?this._items.indexOf(s):-1}remove(e){const[s,a]=this._remove(e);return this.fire("change",{added:[],removed:[s],index:a}),s}map(e,s){return this._items.map(e,s)}find(e,s){return this._items.find(e,s)}filter(e,s){return this._items.filter(e,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:s=>{this._setUpBindToBinding(a=>new s(a))},using:s=>{typeof s=="function"?this._setUpBindToBinding(s):this._setUpBindToBinding(a=>a[s])}}}_setUpBindToBinding(e){const s=this._bindToCollection,a=(d,p,b)=>{const v=s._bindToCollection==this,C=s._bindToInternalToExternalMap.get(p);if(v&&C)this._bindToExternalToInternalMap.set(p,C),this._bindToInternalToExternalMap.set(C,p);else{const j=e(p);if(!j)return void this._skippedIndexesFromExternal.push(b);let E=b;for(const I of this._skippedIndexesFromExternal)b>I&&E--;for(const I of s._skippedIndexesFromExternal)E>=I&&E++;this._bindToExternalToInternalMap.set(p,j),this._bindToInternalToExternalMap.set(j,p),this.add(j,E);for(let I=0;I<s._skippedIndexesFromExternal.length;I++)E<=s._skippedIndexesFromExternal[I]&&s._skippedIndexesFromExternal[I]++}};for(const d of s)a(0,d,s.getIndex(d));this.listenTo(s,"add",a),this.listenTo(s,"remove",(d,p,b)=>{const v=this._bindToExternalToInternalMap.get(p);v&&this.remove(v),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((C,j)=>(b<j&&C.push(j-1),b>j&&C.push(j),C),[])})}_getItemIdBeforeAdding(e){const s=this._idProperty;let a;if(s in e){if(a=e[s],typeof a!="string")throw new B("collection-add-invalid-id",this);if(this.get(a))throw new B("collection-add-item-already-exists",this)}else e[s]=a=Y();return a}_remove(e){let s,a,d,p=!1;const b=this._idProperty;if(typeof e=="string"?(a=e,d=this._itemMap.get(a),p=!d,d&&(s=this._items.indexOf(d))):typeof e=="number"?(s=e,d=this._items[s],p=!d,d&&(a=d[b])):(d=e,a=d[b],s=this._items.indexOf(d),p=s==-1||!this._itemMap.get(a)),p)throw new B("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(a);const v=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(v),this.fire("remove",d,s),[d,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function en(c){const e=c.next();return e.done?null:e.value}class hs extends sl(st()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new B("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class wo{constructor(){this._listener=new(sl())}listenTo(e){this._listener.listenTo(e,"keydown",(s,a)=>{this._listener.fire("_keydown:"+Tr(a),a)})}set(e,s,a={}){const d=rr(e),p=a.priority;this._listener.listenTo(this._listener,"_keydown:"+d,(b,v)=>{s(v,()=>{v.preventDefault(),v.stopPropagation(),b.stop()}),b.return=!0},{priority:p})}press(e){return!!this._listener.fire("_keydown:"+Tr(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function ms(c){return Dr(c)?new Map(c):function(e){const s=new Map;for(const a in e)s.set(a,e[a]);return s}(c)}function Jo(c,e){let s;function a(...d){a.cancel(),s=setTimeout(()=>c(...d),e)}return a.cancel=()=>{clearTimeout(s)},a}function Ei(c,e){return!!(s=c.charAt(e-1))&&s.length==1&&/[\ud800-\udbff]/.test(s)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(c.charAt(e));var s}function Xo(c,e){return!!(s=c.charAt(e))&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}const yg=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,s="(?:"+c.map(a=>a.source).join("|")+")";return new RegExp(`${e}|${s}(?:${s})*`,"ug")}();function ip(c,e){const s=String(c).matchAll(yg);return Array.from(s).some(a=>a.index<e&&e<a.index+a[0].length)}class ko extends As{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(s,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(s,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...e){if(!e.length||!e.every(s=>typeof s=="string"))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const a of this)for(const d of e)a.delegate(d).to(s);this.on("add",(a,d)=>{for(const p of e)d.delegate(p).to(s)}),this.on("remove",(a,d)=>{for(const p of e)d.stopDelegating(p,s)})}}}_renderViewIntoCollectionParent(e,s){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[s])}remove(e){return super.remove(e)}}var ap=l(6062),rt=l.n(ap),Zn=l(4793),lp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Zn.Z,lp),Zn.Z.locals;class Ft extends sl(st()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new As,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(s,a)=>{a.locale=e,a.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Zo.bind(this,this)}createCollection(e){const s=new ko(e);return this._viewCollections.add(s),s}registerChild(e){Dr(e)||(e=[e]);for(const s of e)this._unboundChildren.add(s)}deregisterChild(e){Dr(e)||(e=[e]);for(const s of e)this._unboundChildren.remove(s)}setTemplate(e){this.template=new Zo(e)}extendTemplate(e){Zo.extend(this.template,e)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Zo extends te(){constructor(e){super(),Object.assign(this,Bx(ic(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(s){if(s.children)for(const a of s.children)ac(a)?yield a:cp(a)&&(yield*e(a))}(this)}static bind(e,s){return{to:(a,d)=>new t1({eventNameOrFunction:a,attribute:a,observable:e,emitter:s,callback:d}),if:(a,d,p)=>new xn({observable:e,emitter:s,attribute:a,valueIfTrue:d,callback:p})}}static extend(e,s){if(e._isRendered)throw new B("template-extend-render",[this,e]);dl(e,Bx(ic(s)))}_renderNode(e){let s;if(s=e.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let s=e.node;return s||(s=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),s}_renderText(e){let s=e.node;return s?e.revertData.text=s.textContent:s=e.node=document.createTextNode(""),Nd(this.text)?this._bindToObservable({schema:this.text,updater:mh(s),data:e}):s.textContent=this.text.join(""),s}_renderAttributes(e){if(!this.attributes)return;const s=e.node,a=e.revertData;for(const d in this.attributes){const p=s.getAttribute(d),b=this.attributes[d];a&&(a.attributes[d]=p);const v=wg(b)?b[0].ns:null;if(Nd(b)){const C=wg(b)?b[0].value:b;a&&ph(d)&&C.unshift(p),this._bindToObservable({schema:C,updater:bg(s,d,v),data:e})}else if(d=="style"&&typeof b[0]!="string")this._renderStyleAttribute(b[0],e);else{a&&p&&ph(d)&&b.unshift(p);const C=b.map(j=>j&&j.value||j).reduce((j,E)=>j.concat(E),[]).reduce(Lx,"");ul(C)||s.setAttributeNS(v,d,C)}}}_renderStyleAttribute(e,s){const a=s.node;for(const d in e){const p=e[d];Nd(p)?this._bindToObservable({schema:[p],updater:Sd(a,d),data:s}):a.style[d]=p}}_renderElementChildren(e){const s=e.node,a=e.intoFragment?document.createDocumentFragment():s,d=e.isApplying;let p=0;for(const b of this.children)if(lc(b)){if(!d){b.setParent(s);for(const v of b)a.appendChild(v.element)}}else if(ac(b))d||(b.isRendered||b.render(),a.appendChild(b.element));else if(na(b))a.appendChild(b);else if(d){const v={children:[],bindings:[],attributes:{}};e.revertData.children.push(v),b._renderNode({intoFragment:!1,node:a.childNodes[p++],isApplying:!0,revertData:v})}else a.appendChild(b.render());e.intoFragment&&s.appendChild(a)}_setUpListeners(e){if(this.eventListeners)for(const s in this.eventListeners){const a=this.eventListeners[s].map(d=>{const[p,b]=s.split("@");return d.activateDomEventListener(p,b,e)});e.revertData&&e.revertData.bindings.push(a)}}_bindToObservable({schema:e,updater:s,data:a}){const d=a.revertData;jd(e,s,a);const p=e.filter(b=>!ul(b)).filter(b=>b.observable).map(b=>b.activateAttributeListener(e,s,a));d&&d.bindings.push(p)}_revertTemplateFromNode(e,s){for(const d of s.bindings)for(const p of d)p();if(s.text)return void(e.textContent=s.text);const a=e;for(const d in s.attributes){const p=s.attributes[d];p===null?a.removeAttribute(d):a.setAttribute(d,p)}for(let d=0;d<s.children.length;++d)this._revertTemplateFromNode(a.childNodes[d],s.children[d])}}class hh{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const s=this.observable[this.attribute];return this.callback?this.callback(s,e):s}activateAttributeListener(e,s,a){const d=()=>jd(e,s,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,d),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,d)}}}class t1 extends hh{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,s,a){const d=(p,b)=>{s&&!b.target.matches(s)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(b):this.observable.fire(this.eventNameOrFunction,b))};return this.emitter.listenTo(a.node,e,d),()=>{this.emitter.stopListening(a.node,e,d)}}}class xn extends hh{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!ul(super.getValue(e))&&(this.valueIfTrue||!0)}}function Nd(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(Nd):c instanceof hh)}function jd(c,e,{node:s}){const a=function(p,b){return p.map(v=>v instanceof hh?v.getValue(b):v)}(c,s);let d;d=c.length==1&&c[0]instanceof xn?a[0]:a.reduce(Lx,""),ul(d)?e.remove():e.set(d)}function mh(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function bg(c,e,s){return{set(a){c.setAttributeNS(s,e,a)},remove(){c.removeAttributeNS(s,e)}}}function Sd(c,e){return{set(s){c.style[e]=s},remove(){c.style[e]=null}}}function ic(c){return rl(c,e=>{if(e&&(e instanceof hh||cp(e)||ac(e)||lc(e)))return e})}function Bx(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=bn(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const s in e)xg(e,s);return e}(c.on),delete c.on),!c.text){c.attributes&&function(s){for(const a in s)s[a].value&&(s[a].value=bn(s[a].value)),xg(s,a)}(c.attributes);const e=[];if(c.children)if(lc(c.children))e.push(c.children);else for(const s of c.children)cp(s)||ac(s)||na(s)?e.push(s):e.push(new Zo(s));c.children=e}return c}function xg(c,e){c[e]=bn(c[e])}function Lx(c,e){return ul(e)?c:ul(c)?e:`${c} ${e}`}function vg(c,e){for(const s in e)c[s]?c[s].push(...e[s]):c[s]=e[s]}function dl(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),vg(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),vg(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new B("ui-template-extend-children-mismatch",c);let s=0;for(const a of e.children)dl(c.children[s++],a)}}function ul(c){return!c&&c!==0}function ac(c){return c instanceof Ft}function cp(c){return c instanceof Zo}function lc(c){return c instanceof ko}function wg(c){return Ye(c[0])&&c[0].ns}function ph(c){return c=="class"||c=="style"}class kg extends ko{constructor(e,s=[]){super(s),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Zo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=od(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var Cg=l(6574),dp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Cg.Z,dp),Cg.Z.locals;const _g=class extends Ft{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:s,value:a}of Array.from(c.attributes))_g.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let Di=_g;Di.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var Ag=l(4906),zx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Ag.Z,zx),Ag.Z.locals;class ir extends Ft{constructor(e){super(e),this._focusDelayed=null;const s=this.bindTemplate,a=Y();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new Di,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",p=>!p),s.if("isVisible","ck-hidden",p=>!p),s.to("isOn",p=>p?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",p=>p||"button"),tabindex:s.to("tabindex"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,p=>!p),"aria-checked":s.to("isOn"),"aria-pressed":s.to("isOn",p=>!!this.isToggleable&&String(!!p)),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(p=>{this.isEnabled?this.fire("execute"):p.preventDefault()})}};_.isSafari&&(this._focusDelayed||(this._focusDelayed=Jo(()=>this.focus(),0)),d.on.mousedown=s.to(()=>{this._focusDelayed()}),d.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const e=new Ft,s=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:s.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:s.to("label")}]}),e}_createKeystrokeView(){const e=new Ft;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",s=>cl(s))}]}),e}_getTooltipString(e,s,a){return e?typeof e=="string"?e:(a&&(a=cl(a)),e instanceof Function?e(s,a):`${s}${a?` (${a})`:""}`):""}}var up=l(5332),Ng={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(up.Z,Ng),up.Z.locals;class $o extends ir{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Ft;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var oa=l(6781),fh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(oa.Z,fh),oa.Z.locals,l(1103),l(841);var hp=l(3662),jg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(hp.Z,jg),hp.Z.locals;class Ed extends Ft{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Y()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}var Dd=l(2577),Fx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Dd.Z,Fx),Dd.Z.locals;class mp extends Ft{constructor(e,s){super(e);const a=`ck-labeled-field-view-${Y()}`,d=`ck-labeled-field-view-status-${Y()}`;this.fieldView=s(this,a,d),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(b,v)=>b||v);const p=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",p.to("class"),p.if("isEnabled","ck-disabled",b=>!b),p.if("isEmpty","ck-labeled-field-view_empty"),p.if("isFocused","ck-labeled-field-view_focused"),p.if("placeholder","ck-labeled-field-view_placeholder"),p.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const s=new Ed(this.locale);return s.for=e,s.bind("text").to(this,"label"),s}_createStatusView(e){const s=new Ft(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:e,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),s}focus(){this.fieldView.focus()}}var cc=l(4879),pp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(cc.Z,pp),cc.Z.locals;class Vx extends Ft{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new hs,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),readonly:s.to("isReadOnly"),inputmode:s.to("inputMode"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById")},on:{input:s.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,s,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class Sg extends Vx{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class Eg extends Ft{constructor(e){super(e);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",a=>`ck-dropdown__panel_${a}`),s.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:s.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():W("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var ia=l(5485),Bt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(ia.Z,Bt),ia.Z.locals;const gr=class extends Ft{constructor(c,e,s){super(c);const a=this.bindTemplate;this.buttonView=e,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new wo,this.focusTracker=new hs,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",d=>!d)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[e,s]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,s,a)=>{a&&(this.panelPosition==="auto"?this.panelView.position=gr._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const c=(e,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(e,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(e,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:s,southWest:a,northEast:d,northWest:p,southMiddleEast:b,southMiddleWest:v,northMiddleEast:C,northMiddleWest:j}=gr.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,a,b,v,c,d,p,C,j,e]:[a,s,v,b,c,p,d,j,C,e]}};let Jr=gr;Jr.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},Jr._getOptimalPosition=il;const gh='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Md extends ir{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Di;return e.content=gh,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Co{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const s in e.actions){let a=e.actions[s];typeof a=="string"&&(a=[a]);for(const d of a)e.keystrokeHandler.set(d,(p,b)=>{this[s](),b()})}}get first(){return this.focusables.find(Td)||null}get last(){return this.focusables.filter(Td).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((s,a)=>{const d=s.element===this.focusTracker.focusedElement;return d&&(e=a),d}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const s=this.current,a=this.focusables.length;if(!a)return null;if(s===null)return this[e===1?"first":"last"];let d=(s+a+e)%a;do{const p=this.focusables.get(d);if(Td(p))return p;d=(d+a+e)%a}while(d!==s);return null}}function Td(c){return!(!c.focus||!ol(c.element))}class Id extends Ft{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Rd extends Ft{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ux(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class Fe extends st(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",fp,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",fp),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function fp(c){c.return=!1,c.stop()}class Rt extends st(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",s=>{if(!this.affectsData)return;const a=e.model.document.selection,d=a.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(a);(e.isReadOnly||this._isEnabledBasedOnSelection&&!d)&&(s.return=!1,s.stop())},{priority:"highest"}),this.on("execute",s=>{this.isEnabled||s.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Dg,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Dg),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Dg(c){c.return=!1,c.stop()}class Mg extends Rt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const s=this._getFirstEnabledCommand();return!!s&&s.execute(e)}registerChildCommand(e,s={}){le(this._childCommandsDefinitions,{command:e,priority:s.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:s})=>s.isEnabled);return e&&e.command}}class Gx extends te(){constructor(e,s=[],a=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const d of s)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,p]of a)this._contextPlugins.set(d,p),this._contextPlugins.set(p,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const s=this._plugins.get(e);if(!s){let a=e;throw typeof e=="function"&&(a=e.pluginName||e.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return s}has(e){return this._plugins.has(e)}init(e,s=[],a=[]){const d=this,p=this._context;(function K($,ce=new Set){$.forEach(fe=>{C(fe)&&(ce.has(fe)||(ce.add(fe),fe.pluginName&&!d._availablePlugins.has(fe.pluginName)&&d._availablePlugins.set(fe.pluginName,fe),fe.requires&&K(fe.requires,ce)))})})(e),L(e);const b=[...function K($,ce=new Set){return $.map(fe=>C(fe)?fe:d._availablePlugins.get(fe)).reduce((fe,ve)=>ce.has(ve)?fe:(ce.add(ve),ve.requires&&(L(ve.requires,ve),K(ve.requires,ce).forEach(Pe=>fe.add(Pe))),fe.add(ve)),new Set)}(e.filter(K=>!E(K,s)))];(function(K,$){for(const ce of $){if(typeof ce!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ce});const fe=ce.pluginName;if(!fe)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:ce});if(ce.requires&&ce.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:fe});const ve=d._availablePlugins.get(fe);if(!ve)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:fe});const Pe=K.indexOf(ve);if(Pe===-1){if(d._contextPlugins.has(ve))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:fe})}if(ve.requires&&ve.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:fe});K.splice(Pe,1,ce),d._availablePlugins.set(fe,ce)}})(b,a);const v=b.map(K=>{let $=d._contextPlugins.get(K);return $=$||new K(p),d._add(K,$),$});return H(v,"init").then(()=>H(v,"afterInit")).then(()=>v);function C(K){return typeof K=="function"}function j(K){return C(K)&&!!K.isContextPlugin}function E(K,$){return $.some(ce=>ce===K||I(K)===ce||I(ce)===K)}function I(K){return C(K)?K.pluginName||K.name:K}function L(K,$=null){K.map(ce=>C(ce)?ce:d._availablePlugins.get(ce)||ce).forEach(ce=>{(function(fe,ve){if(!C(fe))throw ve?new B("plugincollection-soft-required",p,{missingPlugin:fe,requiredBy:I(ve)}):new B("plugincollection-plugin-not-found",p,{plugin:fe})})(ce,$),function(fe,ve){if(j(ve)&&!j(fe))throw new B("plugincollection-context-required",p,{plugin:I(fe),requiredBy:I(ve)})}(ce,$),function(fe,ve){if(ve&&E(fe,s))throw new B("plugincollection-required",p,{plugin:I(fe),requiredBy:I(ve)})}(ce,$)})}function H(K,$){return K.reduce((ce,fe)=>fe[$]?d._contextPlugins.has(fe)?ce:ce.then(fe[$].bind(fe)):ce,Promise.resolve())}}destroy(){const e=[];for(const[,s]of this)typeof s.destroy!="function"||this._contextPlugins.has(s)||e.push(s.destroy());return Promise.all(e)}_add(e,s){this._plugins.set(e,s);const a=e.pluginName;if(a){if(this._plugins.has(a))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:e});this._plugins.set(a,s)}}}class gp{constructor(e){this._contextOwner=null,this.config=new hg(e,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Gx(this,s);const a=this.config.get("language")||{};this.locale=new uh({uiLanguage:typeof a=="string"?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new As}initPlugins(){const e=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const a of e.concat(s)){if(typeof a!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(e,[],s)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,s){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(e),s&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(e[s]=this.config.get(s));return e}static create(e){return new Promise(s=>{const a=new this(e);s(a.initPlugins().then(()=>a))})}}class Pd extends st(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Tg extends wo{constructor(e){super(),this.editor=e}set(e,s,a={}){if(typeof s=="string"){const d=s;s=(p,b)=>{this.editor.execute(d),b()}}super.set(e,s,a)}}var Ns=l(4717),vn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Ns.Z,vn),Ns.Z.locals;const Od=new WeakMap;let Bd=!1;function yh({view:c,element:e,text:s,isDirectHost:a=!0,keepOnFocus:d=!1}){const p=c.document;function b(v){Od.get(p).set(e,{text:v,isDirectHost:a,keepOnFocus:d,hostElement:a?e:null}),c.change(C=>ei(p,C))}Od.has(p)||(Od.set(p,new Map),p.registerPostFixer(v=>ei(p,v)),p.on("change:isComposing",()=>{c.change(v=>ei(p,v))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(v,C,j)=>{b(j)}),e.placeholder?b(e.placeholder):s&&b(s),s&&function(){Bd||W("enableplaceholder-deprecated-text-option"),Bd=!0}()}function Ig(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function ei(c,e){const s=Od.get(c),a=[];let d=!1;for(const[p,b]of s)b.isDirectHost&&(a.push(p),bh(e,p,b)&&(d=!0));for(const[p,b]of s){if(b.isDirectHost)continue;const v=Rg(p);v&&(a.includes(v)||(b.hostElement=v,bh(e,p,b)&&(d=!0)))}return d}function bh(c,e,s){const{text:a,isDirectHost:d,hostElement:p}=s;let b=!1;return p.getAttribute("data-placeholder")!==a&&(c.setAttribute("data-placeholder",a,p),b=!0),(d||e.childCount==1)&&function(v,C){if(!v.isAttached()||Array.from(v.getChildren()).some(I=>!I.is("uiElement")))return!1;const j=v.document,E=j.selection.anchor;return!(j.isComposing&&E&&E.parent===v||!C&&j.isFocused&&(!E||E.parent===v))}(p,s.keepOnFocus)?function(v,C){return!C.hasClass("ck-placeholder")&&(v.addClass("ck-placeholder",C),!0)}(c,p)&&(b=!0):Ig(c,p)&&(b=!0),b}function Rg(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class aa{is(){throw new Error("is() method is abstract")}}const Pg=function(c){return ta(c,4)};class hl extends te(aa){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let s=this;for(;s.parent;)e.unshift(s.index),s=s.parent;return e}getAncestors(e={}){const s=[];let a=e.includeSelf?this:this.parent;for(;a;)s[e.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(e,s={}){const a=this.getAncestors(s),d=e.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const s=this.getPath(),a=e.getPath(),d=zr(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,s){this.fire(`change:${e}`,s),this.parent&&this.parent._fireChange(e,s)}toJSON(){const e=Pg(this);return delete e.parent,e}}hl.prototype.is=function(c){return c==="node"||c==="view:node"};class xr extends hl{constructor(e,s){super(e),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof xr&&(this===e||this.data===e.data)}_clone(){return new xr(this.document,this.data)}}xr.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class ti extends aa{constructor(e,s,a){if(super(),this.textNode=e,s<0||s>e.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(a<0||s+a>e.data.length)throw new B("view-textproxy-wrong-length",this);this.data=e.data.substring(s,s+a),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const s=[];let a=e.includeSelf?this.textNode:this.parent;for(;a!==null;)s[e.parentFirst?"push":"unshift"](a),a=a.parent;return s}}ti.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class _o{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let s of e)(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...e){for(const s of e)for(const a of this._patterns){const d=Og(s,a);if(d)return{element:s,pattern:a,match:d}}return null}matchAll(...e){const s=[];for(const a of e)for(const d of this._patterns){const p=Og(a,d);p&&s.push({element:a,pattern:d,match:p})}return s.length>0?s:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],s=e.name;return typeof e=="function"||!s||s instanceof RegExp?null:s}}function Og(c,e){if(typeof e=="function")return e(c);const s={};return e.name&&(s.name=function(a,d){return a instanceof RegExp?!!d.match(a):a===d}(e.name,c.name),!s.name)||e.attributes&&(s.attributes=function(a,d){const p=new Set(d.getAttributeKeys());return mn(a)?(a.style!==void 0&&W("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&W("matcher-pattern-deprecated-attributes-class-key",a)):(p.delete("style"),p.delete("class")),xh(a,p,b=>d.getAttribute(b))}(e.attributes,c),!s.attributes)||e.classes&&(s.classes=function(a,d){return xh(a,d.getClassNames(),()=>{})}(e.classes,c),!s.classes)||e.styles&&(s.styles=function(a,d){return xh(a,d.getStyleNames(!0),p=>d.getStyle(p))}(e.styles,c),!s.styles)?null:s}function xh(c,e,s){const a=function(b){return Array.isArray(b)?b.map(v=>mn(v)?(v.key!==void 0&&v.value!==void 0||W("matcher-pattern-missing-key-or-value",v),[v.key,v.value]):[v,!0]):mn(b)?Object.entries(b):[[b,!0]]}(c),d=Array.from(e),p=[];if(a.forEach(([b,v])=>{d.forEach(C=>{(function(j,E){return j===!0||j===E||j instanceof RegExp&&E.match(j)})(b,C)&&function(j,E,I){if(j===!0)return!0;const L=I(E);return j===L||j instanceof RegExp&&!!String(L).match(j)}(v,C,s)&&p.push(C)})}),a.length&&!(p.length<a.length))return p}const vh=function(c){return typeof c=="symbol"||jn(c)&&ls(c)=="[object Symbol]"};var r1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hx=/^\w*$/;const qx=function(c,e){if(Cr(c))return!1;var s=typeof c;return!(s!="number"&&s!="symbol"&&s!="boolean"&&c!=null&&!vh(c))||Hx.test(c)||!r1.test(c)||e!=null&&c in Object(e)};function yp(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var s=function(){var a=arguments,d=e?e.apply(this,a):a[0],p=s.cache;if(p.has(d))return p.get(d);var b=c.apply(this,a);return s.cache=p.set(d,b)||p,b};return s.cache=new(yp.Cache||Cs),s}yp.Cache=Cs;const Bg=yp,Yx=function(c){var e=Bg(c,function(a){return s.size===500&&s.clear(),a}),s=e.cache;return e};var Wx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kx=/\\(\\)?/g,Qx=Yx(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(Wx,function(s,a,d,p){e.push(d?p.replace(Kx,"$1"):a||s)}),e});const Jx=Qx,n1=function(c,e){for(var s=-1,a=c==null?0:c.length,d=Array(a);++s<a;)d[s]=e(c[s],s,c);return d};var Lg=Et?Et.prototype:void 0,dc=Lg?Lg.toString:void 0;const bp=function c(e){if(typeof e=="string")return e;if(Cr(e))return n1(e,c)+"";if(vh(e))return dc?dc.call(e):"";var s=e+"";return s=="0"&&1/e==-1/0?"-0":s},xp=function(c){return c==null?"":bp(c)},Ld=function(c,e){return Cr(c)?c:qx(c,e)?[c]:Jx(xp(c))},wh=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},vp=function(c){if(typeof c=="string"||vh(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},zg=function(c,e){for(var s=0,a=(e=Ld(e,c)).length;c!=null&&s<a;)c=c[vp(e[s++])];return s&&s==a?c:void 0},Fg=function(c,e,s){var a=-1,d=c.length;e<0&&(e=-e>d?0:d+e),(s=s>d?d:s)<0&&(s+=d),d=e>s?0:s-e>>>0,e>>>=0;for(var p=Array(d);++a<d;)p[a]=c[a+e];return p},Xx=function(c,e){return e.length<2?c:zg(c,Fg(e,0,-1))},Zx=function(c,e){return e=Ld(e,c),(c=Xx(c,e))==null||delete c[vp(wh(e))]},$x=function(c,e){return c==null||Zx(c,e)},zd=function(c,e,s){var a=c==null?void 0:zg(c,e);return a===void 0?s:a},wp=function(c,e,s){(s!==void 0&&!_r(c[e],s)||s===void 0&&!(e in c))&&Ku(c,e,s)},ev=function(c){return function(e,s,a){for(var d=-1,p=Object(e),b=a(e),v=b.length;v--;){var C=b[++d];if(s(p[C],C,p)===!1)break}return e}}(),Vg=function(c){return jn(c)&&Za(c)},Ug=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},tv=function(c){return Jn(c,bo(c))},s1=function(c,e,s,a,d,p,b){var v=Ug(c,s),C=Ug(e,s),j=b.get(C);if(j)wp(c,s,j);else{var E=void 0,I=E===void 0;if(I){var L=Cr(C),H=!L&&go(C),K=!L&&!H&&Ja(C);E=C,L||H||K?Cr(v)?E=v:Vg(v)?E=$u(v):H?(I=!1,E=Zl(C,!0)):K?(I=!1,E=Ex(C,!0)):E=[]:mn(C)||Ji(C)?(E=v,Ji(v)?E=tv(v):Ye(v)&&!$r(v)||(E=cg(C))):I=!1}I&&(b.set(C,E),d(E,C,a,p,b),b.delete(C)),wp(c,s,E)}},Gg=function c(e,s,a,d,p){e!==s&&ev(s,function(b,v){if(p||(p=new Ki),Ye(b))s1(e,s,v,a,c,d,p);else{var C=void 0;C===void 0&&(C=b),wp(e,v,C)}},bo)},ml=function(c){return c},rv=function(c,e,s){switch(s.length){case 0:return c.call(e);case 1:return c.call(e,s[0]);case 2:return c.call(e,s[0],s[1]);case 3:return c.call(e,s[0],s[1],s[2])}return c.apply(e,s)};var kp=Math.max;const nv=function(c,e,s){return e=kp(e===void 0?c.length-1:e,0),function(){for(var a=arguments,d=-1,p=kp(a.length-e,0),b=Array(p);++d<p;)b[d]=a[e+d];d=-1;for(var v=Array(e+1);++d<e;)v[d]=a[d];return v[e]=s(b),rv(c,this,v)}},sv=function(c){return function(){return c}},o1=md?function(c,e){return md(c,"toString",{configurable:!0,enumerable:!1,value:sv(e),writable:!0})}:ml;var i1=Date.now;const kh=function(c){var e=0,s=0;return function(){var a=i1(),d=16-(a-s);if(s=a,d>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(o1),Hg=function(c,e){return kh(nv(c,e,ml),c+"")},Cp=function(c,e,s){if(!Ye(s))return!1;var a=typeof e;return!!(a=="number"?Za(s)&&Ql(e,s.length):a=="string"&&e in s)&&_r(s[e],c)},qg=function(c){return Hg(function(e,s){var a=-1,d=s.length,p=d>1?s[d-1]:void 0,b=d>2?s[2]:void 0;for(p=c.length>3&&typeof p=="function"?(d--,p):void 0,b&&Cp(s[0],s[1],b)&&(p=d<3?void 0:p,d=1),e=Object(e);++a<d;){var v=s[a];v&&c(e,v,a,p)}return e})},Yg=qg(function(c,e,s){Gg(c,e,s)}),_p=function(c,e,s,a){if(!Ye(c))return c;for(var d=-1,p=(e=Ld(e,c)).length,b=p-1,v=c;v!=null&&++d<p;){var C=vp(e[d]),j=s;if(C==="__proto__"||C==="constructor"||C==="prototype")return c;if(d!=b){var E=v[C];(j=void 0)==void 0&&(j=Ye(E)?E:Ql(e[d+1])?[]:{})}Ho(v,C,j),v=v[C]}return c},ov=function(c,e,s){return c==null?c:_p(c,e,s)};class iv{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const s=Array.from(function(a){let d=null,p=0,b=0,v=null;const C=new Map;if(a==="")return C;a.charAt(a.length-1)!=";"&&(a+=";");for(let j=0;j<a.length;j++){const E=a.charAt(j);if(d===null)switch(E){case":":v||(v=a.substr(p,j-p),b=j+1);break;case'"':case"'":d=E;break;case";":{const I=a.substr(b,j-b);v&&C.set(v.trim(),I.trim()),v=null,p=j+1;break}}else E===d&&(d=null)}return C}(e).entries());for(const[a,d]of s)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(e){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(s)}set(e,s){if(Ye(e))for(const[a,d]of Object.entries(e))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(e,s,this._styles)}remove(e){const s=pl(e);$x(this._styles,s),delete this._styles[e],this._cleanEmptyObjectsOnPath(s)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ye(this._styles[e]))return this._styles[e];const s=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(s)?s[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const e=[],s=Object.keys(this._styles);for(const a of s)e.push(...this._styleProcessor.getReducedForm(a,this._styles));return e}_cleanEmptyObjectsOnPath(e){const s=e.split(".");if(!(s.length>1))return;const a=s.splice(0,s.length-1).join("."),d=zd(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}}class l1{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,s,a){if(Ye(s))uc(a,pl(e),s);else if(this._normalizers.has(e)){const d=this._normalizers.get(e),{path:p,value:b}=d(s);uc(a,p,b)}else uc(a,e,s)}getNormalized(e,s){if(!e)return Yg({},s);if(s[e]!==void 0)return s[e];if(this._extractors.has(e)){const a=this._extractors.get(e);if(typeof a=="string")return zd(s,a);const d=a(e,s);if(d)return d}return zd(s,pl(e))}getReducedForm(e,s){const a=this.getNormalized(e,s);return a===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(a):[[e,a]]}getStyleNames(e){const s=Array.from(this._consumables.keys()).filter(d=>{const p=this.getNormalized(d,e);return p&&typeof p=="object"?Object.keys(p).length:p}),a=new Set([...s,...Object.keys(e)]);return Array.from(a.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,s){this._normalizers.set(e,s)}setExtractor(e,s){this._extractors.set(e,s)}setReducer(e,s){this._reducers.set(e,s)}setStyleRelation(e,s){this._mapStyleNames(e,s);for(const a of s)this._mapStyleNames(a,[e])}_mapStyleNames(e,s){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...s)}}function pl(c){return c.replace("-",".")}function uc(c,e,s){let a=s;Ye(s)&&(a=Yg({},zd(c,e),s)),ov(c,e,a)}class ps extends hl{constructor(e,s,a,d){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=s,this._attrs=function(p){const b=ms(p);for(const[v,C]of b)C===null?b.delete(v):typeof C!="string"&&b.set(v,String(C));return b}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const p=this._attrs.get("class");Fd(this._classes,p),this._attrs.delete("class")}this._styles=new iv(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const s=this._styles.toString();return s==""?void 0:s}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ps))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[s,a]of this._attrs)if(!e._attrs.has(s)||e._attrs.get(s)!==a)return!1;for(const s of this._classes)if(!e._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!e._styles.has(s)||e._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...e){for(const s of e)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const s of e)if(!this._styles.has(s))return!1;return!0}findAncestor(...e){const s=new _o(...e);let a=this.parent;for(;a&&!a.is("documentFragment");){if(s.match(a))return a;a=a.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),s=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(s?` style="${s}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const s=[];if(e)for(const d of this.getChildren())s.push(d._clone(e));const a=new this.constructor(this.document,this.name,this._attrs,s);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,s){this._fireChange("children",this);let a=0;const d=function(p,b){return typeof b=="string"?[new xr(p,b)]:(Dr(b)||(b=[b]),Array.from(b).map(v=>typeof v=="string"?new xr(p,v):v instanceof ti?new xr(p,v.data):v))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,p.document=this.document,this._children.splice(e,0,p),e++,a++;return a}_removeChildren(e,s=1){this._fireChange("children",this);for(let a=e;a<e+s;a++)this._children[a].parent=null;return this._children.splice(e,s)}_setAttribute(e,s){const a=String(s);this._fireChange("attributes",this),e=="class"?Fd(this._classes,a):e=="style"?this._styles.setTo(a):this._attrs.set(e,a)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const s of bn(e))this._classes.add(s)}_removeClass(e){this._fireChange("attributes",this);for(const s of bn(e))this._classes.delete(s)}_setStyle(e,s){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,s)}_removeStyle(e){this._fireChange("attributes",this);for(const s of bn(e))this._styles.remove(s)}_setCustomProperty(e,s){this._customProperties.set(e,s)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Fd(c,e){const s=e.split(/\s+/);c.clear(),s.forEach(a=>c.add(a))}ps.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class fl extends ps{constructor(e,s,a,d){super(e,s,a,d),this.getFillerOffset=Wg}}function Wg(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const s of c)if(!s.is("uiElement"))return null;return this.childCount}fl.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Ch extends st(fl){constructor(e,s,a,d){super(e,s,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",p=>p&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Ch.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const hc=Symbol("rootName");class Kg extends Ch{constructor(e,s){super(e,s),this.rootName="main"}get rootName(){return this.getCustomProperty(hc)}set rootName(e){this._setCustomProperty(hc,e)}set _name(e){this.name=e}}Kg.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Ln{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new B("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new B("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Ke._createAt(e.startPosition):this._position=Ke._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let s,a;do a=this.position,s=this.next();while(!s.done&&e(s.value));s.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const s=this.position,a=e.parent;if(a.parent===null&&e.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let d;if(a instanceof xr){if(e.isAtEnd)return this._position=Ke._createAfter(a),this._next();d=a.data[e.offset]}else d=a.getChild(e.offset);if(d instanceof ps){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Ke(d,0);return this._position=e,this._formatReturnValue("elementStart",d,s,e,1)}if(d instanceof xr){if(this.singleCharacters)return e=new Ke(d,0),this._position=e,this._next();let p,b=d.data.length;return d==this._boundaryEndParent?(b=this.boundaries.end.offset,p=new ti(d,0,b),e=Ke._createAfter(p)):(p=new ti(d,0,d.data.length),e.offset++),this._position=e,this._formatReturnValue("text",p,s,e,b)}if(typeof d=="string"){let p;this.singleCharacters?p=1:p=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-e.offset;const b=new ti(a,e.offset,p);return e.offset+=p,this._position=e,this._formatReturnValue("text",b,s,e,p)}return e=Ke._createAfter(a),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,s,e)}_previous(){let e=this.position.clone();const s=this.position,a=e.parent;if(a.parent===null&&e.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let d;if(a instanceof xr){if(e.isAtStart)return this._position=Ke._createBefore(a),this._previous();d=a.data[e.offset-1]}else d=a.getChild(e.offset-1);if(d instanceof ps)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",d,s,e,1)):(e=new Ke(d,d.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,s,e));if(d instanceof xr){if(this.singleCharacters)return e=new Ke(d,d.data.length),this._position=e,this._previous();let p,b=d.data.length;if(d==this._boundaryStartParent){const v=this.boundaries.start.offset;p=new ti(d,v,d.data.length-v),b=p.data.length,e=Ke._createBefore(p)}else p=new ti(d,0,d.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",p,s,e,b)}if(typeof d=="string"){let p;if(this.singleCharacters)p=1;else{const v=a===this._boundaryStartParent?this.boundaries.start.offset:0;p=e.offset-v}e.offset-=p;const b=new ti(a,e.offset,p);return this._position=e,this._formatReturnValue("text",b,s,e,p)}return e=Ke._createBefore(a),this._position=e,this._formatReturnValue("elementStart",a,s,e,1)}_formatReturnValue(e,s,a,d,p){return s instanceof ti&&(s.offsetInText+s.data.length==s.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=Ke._createAfter(s.textNode):(d=Ke._createAfter(s.textNode),this._position=d)),s.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=Ke._createBefore(s.textNode):(d=Ke._createBefore(s.textNode),this._position=d))),{done:!1,value:{type:e,item:s,previousPosition:a,nextPosition:d,length:p}}}}class Ke extends aa{constructor(e,s){super(),this.parent=e,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ch);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const s=Ke._createAt(this),a=s.offset+e;return s.offset=a<0?0:a,s}getLastMatchingPosition(e,s={}){s.startPosition=this;const a=new Ln(s);return a.skip(e),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const s=this.getAncestors(),a=e.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const s=this.parent.is("node")?this.parent.getPath():[],a=e.parent.is("node")?e.parent.getPath():[];s.push(this.offset),a.push(e.offset);const d=zr(s,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return s[d]<a[d]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ln(e)}clone(){return new Ke(this.parent,this.offset)}static _createAt(e,s){if(e instanceof Ke)return new this(e.parent,e.offset);{const a=e;if(s=="end")s=a.is("$text")?a.data.length:a.childCount;else{if(s=="before")return this._createBefore(a);if(s=="after")return this._createAfter(a);if(s!==0&&!s)throw new B("view-createpositionat-offset-required",a)}return new Ke(a,s)}}static _createAfter(e){if(e.is("$textProxy"))return new Ke(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new B("view-position-after-root",e,{root:e});return new Ke(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ke(e.textNode,e.offsetInText);if(!e.parent)throw new B("view-position-before-root",e,{root:e});return new Ke(e.parent,e.index)}}Ke.prototype.is=function(c){return c==="position"||c==="view:position"};class dt extends aa{constructor(e,s=null){super(),this.start=e.clone(),this.end=s?s.clone():e.clone()}*[Symbol.iterator](){yield*new Ln({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(_h,{direction:"backward"}),s=this.end.getLastMatchingPosition(_h);return e.parent.is("$text")&&e.isAtStart&&(e=Ke._createBefore(e.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=Ke._createAfter(s.parent)),new dt(e,s)}getTrimmed(){let e=this.start.getLastMatchingPosition(_h);if(e.isAfter(this.end)||e.isEqual(this.end))return new dt(e,e);let s=this.end.getLastMatchingPosition(_h,{direction:"backward"});const a=e.nodeAfter,d=s.nodeBefore;return a&&a.is("$text")&&(e=new Ke(a,0)),d&&d.is("$text")&&(s=new Ke(d,d.data.length)),new dt(e,s)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,s=!1){e.isCollapsed&&(s=!1);const a=this.containsPosition(e.start)||s&&this.start.isEqual(e.start),d=this.containsPosition(e.end)||s&&this.end.isEqual(e.end);return a&&d}getDifference(e){const s=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&s.push(new dt(this.start,e.start)),this.containsPosition(e.end)&&s.push(new dt(e.end,this.end))):s.push(this.clone()),s}getIntersection(e){if(this.isIntersecting(e)){let s=this.start,a=this.end;return this.containsPosition(e.start)&&(s=e.start),this.containsPosition(e.end)&&(a=e.end),new dt(s,a)}return null}getWalker(e={}){return e.boundaries=this,new Ln(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),e&&e.is("element")&&e===s?e:null}clone(){return new dt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const s=new Ln(e);for(const a of s)yield a.item}*getPositions(e={}){e.boundaries=this;const s=new Ln(e);yield s.position;for(const a of s)yield a.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,s,a,d){return new this(new Ke(e,s),new Ke(a,d))}static _createFromPositionAndShift(e,s){const a=e,d=e.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const s=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ke._createBefore(e),s)}}function _h(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}dt.prototype.is=function(c){return c==="range"||c==="view:range"};class $n extends te(aa){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const s of this._ranges)e&&!s.start.isBefore(e.start)||(e=s);return e?e.clone():null}getLastRange(){let e=null;for(const s of this._ranges)e&&!s.end.isAfter(e.end)||(e=s);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of e._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const s=hn(this.getRanges());if(s!=hn(e.getRanges()))return!1;if(s==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let p of e.getRanges())if(p=p.getTrimmed(),a.start.isEqual(p.start)&&a.end.isEqual(p.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[s,a,d]=e;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]),this._setFakeOptions(d);else if(s instanceof $n||s instanceof ri)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof dt)this._setRanges([s],d&&d.backward),this._setFakeOptions(d);else if(s instanceof Ke)this._setRanges([new dt(s)]),this._setFakeOptions(d);else if(s instanceof hl){const p=!!d&&!!d.backward;let b;if(a===void 0)throw new B("view-selection-setto-required-second-parameter",this);b=a=="in"?dt._createIn(s):a=="on"?dt._createOn(s):new dt(Ke._createAt(s,a)),this._setRanges([b],p),this._setFakeOptions(d)}else{if(!Dr(s))throw new B("view-selection-setto-not-selectable",this);this._setRanges(s,d&&d.backward),this._setFakeOptions(d)}this.fire("change")}setFocus(e,s){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const a=Ke._createAt(e,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.pop(),a.compareWith(d)=="before"?this._addRange(new dt(a,d),!0):this._addRange(new dt(d,a)),this.fire("change")}_setRanges(e,s=!1){e=Array.from(e),this._ranges=[];for(const a of e)this._addRange(a);this._lastRangeBackward=!!s}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,s=!1){if(!(e instanceof dt))throw new B("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!s}_pushRange(e){for(const s of this._ranges)if(e.isIntersecting(s))throw new B("view-selection-range-intersects",this,{addedRange:e,intersectingRange:s});this._ranges.push(new dt(e.start,e.end))}}$n.prototype.is=function(c){return c==="selection"||c==="view:selection"};class ri extends te(aa){constructor(...e){super(),this._selection=new $n,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,s){this._selection.setFocus(e,s)}}ri.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Fr extends V{constructor(e,s,a){super(e,s),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Vd=Symbol("bubbling contexts");function Ah(c){return class extends c{fire(e,...s){try{const a=e instanceof V?e:new V(this,e),d=la(this);if(!d.size)return;if(mc(a,"capturing",this),pc(d,"$capture",a,...s))return a.return;const p=a.startRange||this.selection.getFirstRange(),b=p?p.getContainedElement():null,v=!!b&&!!Qg(d,b);let C=b||function(j){if(!j)return null;const E=j.start.parent,I=j.end.parent,L=E.getPath(),H=I.getPath();return L.length>H.length?E:I}(p);if(mc(a,"atTarget",C),!v){if(pc(d,"$text",a,...s))return a.return;mc(a,"bubbling",C)}for(;C;){if(C.is("rootElement")){if(pc(d,"$root",a,...s))return a.return}else if(C.is("element")&&pc(d,C.name,a,...s))return a.return;if(pc(d,C,a,...s))return a.return;C=C.parent,mc(a,"bubbling",C)}return mc(a,"bubbling",this),pc(d,"$document",a,...s),a.return}catch(a){B.rethrowUnexpectedError(a,this)}}_addEventListener(e,s,a){const d=bn(a.context||"$document"),p=la(this);for(const b of d){let v=p.get(b);v||(v=new(te()),p.set(b,v)),this.listenTo(v,e,s,a)}}_removeEventListener(e,s){const a=la(this);for(const d of a.values())this.stopListening(d,e,s)}}}{const c=Ah(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Ah[e]=c.prototype[e]})}function mc(c,e,s){c instanceof Fr&&(c._eventPhase=e,c._currentTarget=s)}function pc(c,e,s,...a){const d=typeof e=="string"?c.get(e):Qg(c,e);return!!d&&(d.fire(s,...a),s.stop.called)}function Qg(c,e){for(const[s,a]of c)if(typeof s=="function"&&s(e))return a;return null}function la(c){return c[Vd]||(c[Vd]=new Map),c[Vd]}class fc extends Ah(st()){constructor(e){super(),this._postFixers=new Set,this.selection=new ri,this.roots=new As({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let s=!1;do for(const a of this._postFixers)if(s=a(e),s)break;while(s)}}class gl extends ps{constructor(e,s,a,d){super(e,s,a,d),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=av}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const s=super._clone(e);return s._priority=this._priority,s._id=this._id,s}}function av(){if(Ap(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Ap(c)>1)return null;c=c.parent}return!c||Ap(c)>1?null:this.childCount}function Ap(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}gl.DEFAULT_PRIORITY=10,gl.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Ud extends ps{constructor(e,s,a,d){super(e,s,a,d),this.getFillerOffset=lv}_insertChild(e,s){if(s&&(s instanceof hl||Array.from(s).length>0))throw new B("view-emptyelement-cannot-add",[this,s]);return 0}}function lv(){return null}Ud.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Gd extends ps{constructor(e,s,a,d){super(e,s,a,d),this.getFillerOffset=dv}_insertChild(e,s){if(s&&(s instanceof hl||Array.from(s).length>0))throw new B("view-uielement-cannot-add",[this,s]);return 0}render(e,s){return this.toDomElement(e)}toDomElement(e){const s=e.createElement(this.name);for(const a of this.getAttributeKeys())s.setAttribute(a,this.getAttribute(a));return s}}function cv(c){c.document.on("arrowKey",(e,s)=>function(a,d,p){if(d.keyCode==Wt.arrowright){const b=d.domTarget.ownerDocument.defaultView.getSelection(),v=b.rangeCount==1&&b.getRangeAt(0).collapsed;if(v||d.shiftKey){const C=b.focusNode,j=b.focusOffset,E=p.domPositionToView(C,j);if(E===null)return;let I=!1;const L=E.getLastMatchingPosition(H=>(H.item.is("uiElement")&&(I=!0),!(!H.item.is("uiElement")&&!H.item.is("attributeElement"))));if(I){const H=p.viewPositionToDom(L);v?b.collapse(H.parent,H.offset):b.extend(H.parent,H.offset)}}}}(0,s,c.domConverter),{priority:"low"})}function dv(){return null}Gd.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Jg extends ps{constructor(e,s,a,d){super(e,s,a,d),this.getFillerOffset=uv}_insertChild(e,s){if(s&&(s instanceof hl||Array.from(s).length>0))throw new B("view-rawelement-cannot-add",[this,s]);return 0}render(e,s){}}function uv(){return null}Jg.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Vr extends te(aa){constructor(e,s){super(),this._children=[],this._customProperties=new Map,this.document=e,s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,s){this._fireChange("children",this);let a=0;const d=function(p,b){return typeof b=="string"?[new xr(p,b)]:(Dr(b)||(b=[b]),Array.from(b).map(v=>typeof v=="string"?new xr(p,v):v instanceof ti?new xr(p,v.data):v))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,this._children.splice(e,0,p),e++,a++;return a}_removeChildren(e,s=1){this._fireChange("children",this);for(let a=e;a<e+s;a++)this._children[a].parent=null;return this._children.splice(e,s)}_fireChange(e,s){this.fire("change:"+e,s)}_setCustomProperty(e,s){this._customProperties.set(e,s)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Vr.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class zn{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,s){this.document.selection._setFocus(e,s)}createDocumentFragment(e){return new Vr(this.document,e)}createText(e){return new xr(this.document,e)}createAttributeElement(e,s,a={}){const d=new gl(this.document,e,s);return typeof a.priority=="number"&&(d._priority=a.priority),a.id&&(d._id=a.id),a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createContainerElement(e,s,a={},d={}){let p=null;mn(a)?d=a:p=a;const b=new fl(this.document,e,s,p);return d.renderUnsafeAttributes&&b._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),b}createEditableElement(e,s,a={}){const d=new Ch(this.document,e,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createEmptyElement(e,s,a={}){const d=new Ud(this.document,e,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createUIElement(e,s,a){const d=new Gd(this.document,e,s);return a&&(d.render=a),d}createRawElement(e,s,a,d={}){const p=new Jg(this.document,e,s);return a&&(p.render=a),d.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),p}setAttribute(e,s,a){a._setAttribute(e,s)}removeAttribute(e,s){s._removeAttribute(e)}addClass(e,s){s._addClass(e)}removeClass(e,s){s._removeClass(e)}setStyle(e,s,a){mn(e)&&a===void 0?s._setStyle(e):a._setStyle(e,s)}removeStyle(e,s){s._removeStyle(e)}setCustomProperty(e,s,a){a._setCustomProperty(e,s)}removeCustomProperty(e,s){return s._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ke?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const s=e.parent;if(!s.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!s.parent)throw new B("view-writer-break-root",this.document);if(e.isAtStart)return Ke._createBefore(s);if(!e.isAtEnd){const a=s._clone(!1);this.insert(Ke._createAfter(s),a);const d=new dt(e,Ke._createAt(s,"end")),p=new Ke(a,0);this.move(d,p)}return Ke._createAfter(s)}mergeAttributes(e){const s=e.offset,a=e.parent;if(a.is("$text"))return e;if(a.is("attributeElement")&&a.childCount===0){const b=a.parent,v=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Ke(b,v))}const d=a.getChild(s-1),p=a.getChild(s);if(!d||!p)return e;if(d.is("$text")&&p.is("$text"))return Zg(d,p);if(d.is("attributeElement")&&p.is("attributeElement")&&d.isSimilar(p)){const b=d.childCount;return d._appendChild(p.getChildren()),p._remove(),this._removeFromClonedElementsGroup(p),this.mergeAttributes(new Ke(d,b))}return e}mergeContainers(e){const s=e.nodeBefore,a=e.nodeAfter;if(!(s&&a&&s.is("containerElement")&&a.is("containerElement")))throw new B("view-writer-merge-containers-invalid-position",this.document);const d=s.getChild(s.childCount-1),p=d instanceof xr?Ke._createAt(d,"end"):Ke._createAt(s,"end");return this.move(dt._createIn(a),Ke._createAt(s,"end")),this.remove(dt._createOn(a)),p}insert(e,s){Ep(s=Dr(s)?[...s]:[s],this.document);const a=s.reduce((b,v)=>{const C=b[b.length-1],j=!v.is("uiElement");return C&&C.breakAttributes==j?C.nodes.push(v):b.push({breakAttributes:j,nodes:[v]}),b},[]);let d=null,p=e;for(const{nodes:b,breakAttributes:v}of a){const C=this._insertNodes(p,b,v);d||(d=C.start),p=C.end}return d?new dt(d,p):new dt(e)}remove(e){const s=e instanceof dt?e:dt._createOn(e);if(Hd(s,this.document),s.isCollapsed)return new Vr(this.document);const{start:a,end:d}=this._breakAttributesRange(s,!0),p=a.parent,b=d.offset-a.offset,v=p._removeChildren(a.offset,b);for(const j of v)this._removeFromClonedElementsGroup(j);const C=this.mergeAttributes(a);return s.start=C,s.end=C.clone(),new Vr(this.document,v)}clear(e,s){Hd(e,this.document);const a=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const p=d.item;let b;if(p.is("element")&&s.isSimilar(p))b=dt._createOn(p);else if(!d.nextPosition.isAfter(e.start)&&p.is("$textProxy")){const v=p.getAncestors().find(C=>C.is("element")&&s.isSimilar(C));v&&(b=dt._createIn(v))}b&&(b.end.isAfter(e.end)&&(b.end=e.end),b.start.isBefore(e.start)&&(b.start=e.start),this.remove(b))}}move(e,s){let a;if(s.isAfter(e.end)){const d=(s=this._breakAttributes(s,!0)).parent,p=d.childCount;e=this._breakAttributesRange(e,!0),a=this.remove(e),s.offset+=d.childCount-p}else a=this.remove(e);return this.insert(s,a)}wrap(e,s){if(!(s instanceof gl))throw new B("view-writer-wrap-invalid-attribute",this.document);if(Hd(e,this.document),e.isCollapsed){let d=e.start;d.parent.is("element")&&(a=d.parent,!Array.from(a.getChildren()).some(b=>!b.is("uiElement")))&&(d=d.getLastMatchingPosition(b=>b.item.is("uiElement"))),d=this._wrapPosition(d,s);const p=this.document.selection;return p.isCollapsed&&p.getFirstPosition().isEqual(e.start)&&this.setSelection(d),new dt(d)}return this._wrapRange(e,s);var a}unwrap(e,s){if(!(s instanceof gl))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(Hd(e,this.document),e.isCollapsed)return e;const{start:a,end:d}=this._breakAttributesRange(e,!0),p=a.parent,b=this._unwrapChildren(p,a.offset,d.offset,s),v=this.mergeAttributes(b.start);v.isEqual(b.start)||b.end.offset--;const C=this.mergeAttributes(b.end);return new dt(v,C)}rename(e,s){const a=new fl(this.document,e,s.getAttributes());return this.insert(Ke._createAfter(s),a),this.move(dt._createIn(s),Ke._createAt(a,0)),this.remove(dt._createOn(s)),a}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,s){return Ke._createAt(e,s)}createPositionAfter(e){return Ke._createAfter(e)}createPositionBefore(e){return Ke._createBefore(e)}createRange(e,s){return new dt(e,s)}createRangeOn(e){return dt._createOn(e)}createRangeIn(e){return dt._createIn(e)}createSelection(...e){return new $n(...e)}createSlot(e="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,s,a){let d,p;if(d=a?Np(e):e.parent.is("$text")?e.parent.parent:e.parent,!d)throw new B("view-writer-invalid-position-container",this.document);p=a?this._breakAttributes(e,!0):e.parent.is("$text")?jp(e):e;const b=d._insertChild(p.offset,s);for(const E of s)this._addToClonedElementsGroup(E);const v=p.getShiftedBy(b),C=this.mergeAttributes(p);C.isEqual(p)||v.offset--;const j=this.mergeAttributes(v);return new dt(C,j)}_wrapChildren(e,s,a,d){let p=s;const b=[];for(;p<a;){const C=e.getChild(p),j=C.is("$text"),E=C.is("attributeElement");if(E&&this._wrapAttributeElement(d,C))b.push(new Ke(e,p));else if(j||!E||hv(d,C)){const I=d._clone();C._remove(),I._appendChild(C),e._insertChild(p,I),this._addToClonedElementsGroup(I),b.push(new Ke(e,p))}else this._wrapChildren(C,0,C.childCount,d);p++}let v=0;for(const C of b)C.offset-=v,C.offset!=s&&(this.mergeAttributes(C).isEqual(C)||(v++,a--));return dt._createFromParentsAndOffsets(e,s,e,a)}_unwrapChildren(e,s,a,d){let p=s;const b=[];for(;p<a;){const C=e.getChild(p);if(C.is("attributeElement"))if(C.isSimilar(d)){const j=C.getChildren(),E=C.childCount;C._remove(),e._insertChild(p,j),this._removeFromClonedElementsGroup(C),b.push(new Ke(e,p),new Ke(e,p+E)),p+=E,a+=E-1}else this._unwrapAttributeElement(d,C)?(b.push(new Ke(e,p),new Ke(e,p+1)),p++):(this._unwrapChildren(C,0,C.childCount,d),p++);else p++}let v=0;for(const C of b)C.offset-=v,!(C.offset==s||C.offset==a)&&(this.mergeAttributes(C).isEqual(C)||(v++,a--));return dt._createFromParentsAndOffsets(e,s,e,a)}_wrapRange(e,s){const{start:a,end:d}=this._breakAttributesRange(e,!0),p=a.parent,b=this._wrapChildren(p,a.offset,d.offset,s),v=this.mergeAttributes(b.start);v.isEqual(b.start)||b.end.offset--;const C=this.mergeAttributes(b.end);return new dt(v,C)}_wrapPosition(e,s){if(s.isSimilar(e.parent))return Xg(e.clone());e.parent.is("$text")&&(e=jp(e));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,e.parent._insertChild(e.offset,a);const d=new dt(e,e.getShiftedBy(1));this.wrap(d,s);const p=new Ke(a.parent,a.index);a._remove();const b=p.nodeBefore,v=p.nodeAfter;return b instanceof xr&&v instanceof xr?Zg(b,v):Xg(p)}_wrapAttributeElement(e,s){if(!$g(e,s)||e.name!==s.name||e.priority!==s.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&s.hasAttribute(a)&&s.getAttribute(a)!==e.getAttribute(a))return!1;for(const a of e.getStyleNames())if(s.hasStyle(a)&&s.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&(s.hasAttribute(a)||this.setAttribute(a,e.getAttribute(a),s));for(const a of e.getStyleNames())s.hasStyle(a)||this.setStyle(a,e.getStyle(a),s);for(const a of e.getClassNames())s.hasClass(a)||this.addClass(a,s);return!0}_unwrapAttributeElement(e,s){if(!$g(e,s)||e.name!==s.name||e.priority!==s.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!s.hasAttribute(a)||s.getAttribute(a)!==e.getAttribute(a)))return!1;if(!s.hasClass(...e.getClassNames()))return!1;for(const a of e.getStyleNames())if(!s.hasStyle(a)||s.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,s);return this.removeClass(Array.from(e.getClassNames()),s),this.removeStyle(Array.from(e.getStyleNames()),s),!0}_breakAttributesRange(e,s=!1){const a=e.start,d=e.end;if(Hd(e,this.document),e.isCollapsed){const C=this._breakAttributes(e.start,s);return new dt(C,C)}const p=this._breakAttributes(d,s),b=p.parent.childCount,v=this._breakAttributes(a,s);return p.offset+=p.parent.childCount-b,new dt(v,p)}_breakAttributes(e,s=!1){const a=e.offset,d=e.parent;if(e.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!s&&d.is("$text")&&Dp(d.parent)||Dp(d))return e.clone();if(d.is("$text"))return this._breakAttributes(jp(e),s);if(a==d.childCount){const p=new Ke(d.parent,d.index+1);return this._breakAttributes(p,s)}if(a===0){const p=new Ke(d.parent,d.index);return this._breakAttributes(p,s)}{const p=d.index+1,b=d._clone();d.parent._insertChild(p,b),this._addToClonedElementsGroup(b);const v=d.childCount-a,C=d._removeChildren(a,v);b._appendChild(C);const j=new Ke(d.parent,p);return this._breakAttributes(j,s)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const d of e.getChildren())this._addToClonedElementsGroup(d);const s=e.id;if(!s)return;let a=this._cloneGroups.get(s);a||(a=new Set,this._cloneGroups.set(s,a)),a.add(e),e._clonesGroup=a}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const d of e.getChildren())this._removeFromClonedElementsGroup(d);const s=e.id;if(!s)return;const a=this._cloneGroups.get(s);a&&a.delete(e)}}function Np(c){let e=c.parent;for(;!Dp(e);){if(!e)return;e=e.parent}return e}function hv(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function Xg(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new Ke(e,e.data.length);const s=c.nodeAfter;return s&&s.is("$text")?new Ke(s,0):c}function jp(c){if(c.offset==c.parent.data.length)return new Ke(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Ke(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new xr(c.root.document,e)),new Ke(c.parent.parent,c.parent.index+1)}function Zg(c,e){const s=c.data.length;return c._data+=e.data,e._remove(),new Ke(c,s)}const Sp=[xr,gl,fl,Ud,Jg,Gd];function Ep(c,e){for(const s of c){if(!Sp.some(a=>s instanceof a))throw new B("view-writer-insert-invalid-node-type",e);s.is("$text")||Ep(s.getChildren(),e)}}function Dp(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function Hd(c,e){const s=Np(c.start),a=Np(c.end);if(!s||!a||s!==a)throw new B("view-writer-invalid-range-container",e)}function $g(c,e){return c.id===null&&e.id===null}const Mp=c=>c.createTextNode(""),Tp=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Ip=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},Ao=7,gc="".repeat(Ao);function fs(c){return typeof c=="string"?c.substr(0,Ao)===gc:hr(c)&&c.data.substr(0,Ao)===gc}function yc(c){return c.data.length==Ao&&fs(c)}function ey(c){const e=typeof c=="string"?c:c.data;return fs(c)?e.slice(Ao):e}function ty(c,e){if(e.keyCode==Wt.arrowleft){const s=e.domTarget.ownerDocument.defaultView.getSelection();if(s.rangeCount==1&&s.getRangeAt(0).collapsed){const a=s.getRangeAt(0).startContainer,d=s.getRangeAt(0).startOffset;fs(a)&&d<=Ao&&s.collapse(a,0)}}}var ry=l(9315),ca={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(ry.Z,ca),ry.Z.locals;class ny extends st(){constructor(e,s){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),_.isBlink&&!_.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,s){if(e==="text")this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if(e==="attributes")this.markedAttributes.add(s);else{if(e!=="children")throw new B("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!_.isAndroid)return;let e=null;const s=!(_.isBlink&&!_.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ke._createBefore(e.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:e});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:e});if(s)if(e){const a=this.domConverter.viewPositionToDom(e),d=a.parent.ownerDocument;fs(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=mv(d,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const s=Array.from(this.domConverter.mapViewToDom(e).childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),d=this._diffNodeLists(s,a),p=this._findUpdateActions(d,s,a,pv);if(p.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const v of p)if(v==="update"){const C=b.equal+b.insert,j=b.equal+b.delete,E=e.getChild(C);!E||E.is("uiElement")||E.is("rawElement")||this._updateElementMappings(E,s[j]),sc(a[C]),b.equal++}else b[v]++}}_updateElementMappings(e,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ke._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(e);return!!(s&&hr(s.parent)&&fs(s.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!fs(e))throw new B("view-renderer-filler-was-lost",this);yc(e)?e.remove():e.data=e.data.substr(Ao),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),s=e.parent,a=e.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!function(b){if(b.getAttribute("contenteditable")=="false")return!1;const v=b.findAncestor(C=>C.hasAttribute("contenteditable"));return!v||v.getAttribute("contenteditable")=="true"}(s)||a===s.getFillerOffset())return!1;const d=e.nodeBefore,p=e.nodeAfter;return!(d instanceof xr||p instanceof xr)&&(!_.isAndroid||!d&&!p)}_updateText(e,s){const a=this.domConverter.findCorrespondingDomText(e);let d=this.domConverter.viewToDom(e).data;const p=s.inlineFillerPosition;p&&p.parent==e.parent&&p.offset==e.index&&(d=gc+d),Nh(a,d)}_updateAttrs(e){const s=this.domConverter.mapViewToDom(e);if(!s)return;const a=Array.from(s.attributes).map(p=>p.name),d=e.getAttributeKeys();for(const p of d)this.domConverter.setDomElementAttribute(s,p,e.getAttribute(p),e);for(const p of a)e.hasAttribute(p)||this.domConverter.removeDomElementAttribute(s,p)}_updateChildren(e,s){const a=this.domConverter.mapViewToDom(e);if(!a)return;if(_.isAndroid){let I=null;for(const L of Array.from(a.childNodes)){if(I&&hr(I)&&hr(L)){a.normalize();break}I=L}}const d=s.inlineFillerPosition,p=a.childNodes,b=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));d&&d.parent===e&&mv(a.ownerDocument,b,d.offset);const v=this._diffNodeLists(p,b),C=this._findUpdateActions(v,p,b,da);let j=0;const E=new Set;for(const I of C)I==="delete"?(E.add(p[j]),sc(p[j])):I!=="equal"&&I!=="update"||j++;j=0;for(const I of C)I==="insert"?(np(a,j,b[j]),j++):I==="update"?(Nh(p[j],b[j].data),j++):I==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(b[j])),j++);for(const I of E)I.parentNode||this.domConverter.unbindDomElement(I)}_diffNodeLists(e,s){return e=function(a,d){const p=Array.from(a);return p.length==0||!d||p[p.length-1]==d&&p.pop(),p}(e,this._fakeSelectionContainer),P(e,s,fv.bind(null,this.domConverter))}_findUpdateActions(e,s,a,d){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let p=[],b=[],v=[];const C={equal:0,insert:0,delete:0};for(const j of e)j==="insert"?v.push(a[C.equal+C.insert]):j==="delete"?b.push(s[C.equal+C.delete]):(p=p.concat(P(b,v,d).map(E=>E==="equal"?"update":E)),p.push("equal"),b=[],v=[]),C[j]++;return p.concat(P(b,v,d).map(j=>j==="equal"?"update":j))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const s of e.getChildren())this._markDescendantTextToSync(s)}}_updateSelection(){if(_.isBlink&&!_.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&_.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const s=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(b){const v=b.createElement("div");return v.className="ck-fake-selection-container",Object.assign(v.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),v.textContent="",v}(s));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(e))return;a.parentElement&&a.parentElement==e||e.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"";const d=s.getSelection(),p=s.createRange();d.removeAllRanges(),p.selectNodeContents(a),d.addRange(p)}_updateDomSelection(e){const s=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);s.setBaseAndExtent(a.parent,a.offset,d.parent,d.offset),_.isGecko&&function(p,b){const v=p.parent;if(v.nodeType!=Node.ELEMENT_NODE||p.offset!=v.childNodes.length-1)return;const C=v.childNodes[p.offset];C&&C.tagName=="BR"&&b.addRange(b.getRangeAt(0))}(d,s)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const s=e&&this.domConverter.domSelectionToView(e);return(!s||!this.selection.isEqual(s))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(e){const s=this._fakeSelectionContainer,a=e.ownerDocument.getSelection();return!s||s.parentElement!==e||a.anchorNode!==s&&!s.contains(a.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const s=e.getSelection();if(s.rangeCount){const a=e.activeElement,d=this.domConverter.mapDomToView(a);a&&d&&s.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function mv(c,e,s){const a=e instanceof Array?e:e.childNodes,d=a[s];if(hr(d))return d.data=gc+d.data,d;{const p=c.createTextNode(gc);return Array.isArray(e)?a.splice(s,0,p):np(e,s,p),p}}function pv(c,e){return na(c)&&na(e)&&!hr(c)&&!hr(e)&&!to(c)&&!to(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function da(c,e){return na(c)&&na(e)&&hr(c)&&hr(e)}function fv(c,e,s){return e===s||(hr(e)&&hr(s)?e.data===s.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(s)))}function Nh(c,e){const s=c.data;if(s==e)return;const a=D(s,e);for(const d of a)d.type==="insert"?c.insertData(d.index,d.values.join("")):c.deleteData(d.index,d.howMany)}const jh=Ip(At.document),qr=Mp(At.document),c1=Tp(At.document),Rp="data-ck-unsafe-attribute-",sy="data-ck-unsafe-element";class yl{constructor(e,{blockFillerMode:s,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new _o,this._inlineObjectElementMatcher=new _o,this.document=e,this.renderingMode=a,this.blockFillerMode=s||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?At.document:At.document.implementation.createHTMLDocument("")}bindFakeSelection(e,s){this._fakeSelectionMapping.set(e,new $n(s))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,s){this._domToViewMapping.set(e,s),this._viewToDomMapping.set(s,e)}unbindDomElement(e){const s=this._domToViewMapping.get(e);if(s){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(s);for(const a of Array.from(e.children))this.unbindDomElement(a)}}bindDocumentFragments(e,s){this._domToViewMapping.set(e,s),this._viewToDomMapping.set(s,e)}shouldRenderAttribute(e,s,a){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(e==="src"||e==="srcset")||a==="source"&&e==="srcset"||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,s){if(this.renderingMode==="data")return void(e.innerHTML=s);const a=new DOMParser().parseFromString(s,"text/html"),d=a.createDocumentFragment(),p=a.body.childNodes;for(;p.length>0;)d.appendChild(p[0]);const b=a.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),v=[];let C;for(;C=b.nextNode();)v.push(C);for(const j of v){for(const I of j.getAttributeNames())this.setDomElementAttribute(j,I,j.getAttribute(I));const E=j.tagName.toLowerCase();this._shouldRenameElement(E)&&(qd(E),j.replaceWith(this._createReplacementDomElement(E,j)))}for(;e.firstChild;)e.firstChild.remove();e.append(d)}viewToDom(e,s={}){if(e.is("$text")){const a=this._processDataFromViewText(e);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let a;if(e.is("documentFragment"))a=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(a,e);else{if(e.is("uiElement"))return a=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),s.bind&&this.bindElements(a,e),a;this._shouldRenameElement(e.name)?(qd(e.name),a=this._createReplacementDomElement(e.name)):a=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(a,this),s.bind&&this.bindElements(a,e);for(const d of e.getAttributeKeys())this.setDomElementAttribute(a,d,e.getAttribute(d),e)}if(s.withChildren!==!1)for(const d of this.viewChildrenToDom(e,s))a.appendChild(d);return a}}setDomElementAttribute(e,s,a,d){const p=this.shouldRenderAttribute(s,a,e.tagName.toLowerCase())||d&&d.shouldRenderUnsafeAttribute(s);p||W("domconverter-unsafe-attribute-detected",{domElement:e,key:s,value:a}),function(b){try{At.document.createAttribute(b)}catch{return!1}return!0}(s)?(e.hasAttribute(s)&&!p?e.removeAttribute(s):e.hasAttribute(Rp+s)&&p&&e.removeAttribute(Rp+s),e.setAttribute(p?s:Rp+s,a)):W("domconverter-invalid-attribute-detected",{domElement:e,key:s,value:a})}removeDomElementAttribute(e,s){s!=sy&&(e.removeAttribute(s),e.removeAttribute(Rp+s))}*viewChildrenToDom(e,s={}){const a=e.getFillerOffset&&e.getFillerOffset();let d=0;for(const p of e.getChildren()){a===d&&(yield this._getBlockFiller());const b=p.is("element")&&!!p.getCustomProperty("dataPipeline:transparentRendering")&&!en(p.getAttributes());b&&this.renderingMode=="data"?yield*this.viewChildrenToDom(p,s):(b&&W("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,s)),d++}a===d&&(yield this._getBlockFiller())}viewRangeToDom(e){const s=this.viewPositionToDom(e.start),a=this.viewPositionToDom(e.end),d=this._domDocument.createRange();return d.setStart(s.parent,s.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(e){const s=e.parent;if(s.is("$text")){const a=this.findCorrespondingDomText(s);if(!a)return null;let d=e.offset;return fs(a)&&(d+=Ao),{parent:a,offset:d}}{let a,d,p;if(e.offset===0){if(a=this.mapViewToDom(s),!a)return null;p=a.childNodes[0]}else{const b=e.nodeBefore;if(d=b.is("$text")?this.findCorrespondingDomText(b):this.mapViewToDom(b),!d)return null;a=d.parentNode,p=d.nextSibling}return hr(p)&&fs(p)?{parent:p,offset:Ao}:{parent:a,offset:d?us(d)+1:0}}}domToView(e,s={}){const a=[],d=this._domToView(e,s,a),p=d.next().value;return p?(d.next(),this._processDomInlineNodes(null,a,s),p.is("$text")&&p.data.length==0?null:p):null}*domChildrenToView(e,s={},a=[]){for(let d=0;d<e.childNodes.length;d++){const p=e.childNodes[d],b=this._domToView(p,s,a),v=b.next().value;v!==null&&(this._isBlockViewElement(v)&&this._processDomInlineNodes(e,a,s),yield v,b.next())}this._processDomInlineNodes(e,a,s)}domSelectionToView(e){if(e.rangeCount===1){let d=e.getRangeAt(0).startContainer;hr(d)&&(d=d.parentNode);const p=this.fakeSelectionToView(d);if(p)return p}const s=this.isDomSelectionBackward(e),a=[];for(let d=0;d<e.rangeCount;d++){const p=e.getRangeAt(d),b=this.domRangeToView(p);b&&a.push(b)}return new $n(a,{backward:s})}domRangeToView(e){const s=this.domPositionToView(e.startContainer,e.startOffset),a=this.domPositionToView(e.endContainer,e.endOffset);return s&&a?new dt(s,a):null}domPositionToView(e,s=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,us(e));const a=this.mapDomToView(e);if(a&&(a.is("uiElement")||a.is("rawElement")))return Ke._createBefore(a);if(hr(e)){if(yc(e))return this.domPositionToView(e.parentNode,us(e));const d=this.findCorrespondingViewText(e);let p=s;return d?(fs(e)&&(p-=Ao,p=p<0?0:p),new Ke(d,p)):null}if(s===0){const d=this.mapDomToView(e);if(d)return new Ke(d,0)}else{const d=e.childNodes[s-1];if(hr(d)&&yc(d)||d&&this.isBlockFiller(d))return this.domPositionToView(d.parentNode,us(d));const p=hr(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(p&&p.parent)return new Ke(p.parent,p.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(yc(e))return null;const s=this.getHostViewElement(e);if(s)return s;const a=e.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d){const p=d.nextSibling;return p instanceof xr?p:null}}else{const d=this.mapDomToView(e.parentNode);if(d){const p=d.getChild(0);return p instanceof xr?p:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const s=e.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const s=this.mapViewToDom(e);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:a,scrollY:d}=At.window,p=[];oy(s,b=>{const{scrollLeft:v,scrollTop:C}=b;p.push([v,C])}),s.focus(),oy(s,b=>{const[v,C]=p.shift();b.scrollLeft=v,b.scrollTop=C}),At.window.scrollTo(a,d)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const s=e.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(s);a&&a.rangeCount>0&&s.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(jh):!(e.tagName!=="BR"||!iy(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(c1)||function(s,a){return s.isEqualNode(qr)&&iy(s,a)&&s.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(e.anchorNode,e.anchorOffset),s.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const a=s.collapsed;return s.detach(),a}getHostViewElement(e){const s=function(a){const d=[];let p=a;for(;p&&p.nodeType!=Node.DOCUMENT_NODE;)d.unshift(p),p=p.parentNode;return d}(e);for(s.pop();s.length;){const a=s.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Mp(this._domDocument);case"markedNbsp":return Tp(this._domDocument);case"br":return Ip(this._domDocument)}}_isDomSelectionPositionCorrect(e,s){if(hr(e)&&fs(e)&&s<Ao||this.isElement(e)&&fs(e.childNodes[s]))return!1;const a=this.mapDomToView(e);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(e,s,a){if(this.isBlockFiller(e))return null;const d=this.getHostViewElement(e);if(d)return d;if(to(e)&&s.skipComments)return null;if(hr(e)){if(yc(e))return null;{const p=e.data;if(p==="")return null;const b=new xr(this.document,p);return a.push(b),b}}{let p=this.mapDomToView(e);if(p)return this._isInlineObjectElement(p)&&a.push(p),p;if(this.isDocumentFragment(e))p=new Vr(this.document),s.bind&&this.bindDocumentFragments(e,p);else{p=this._createViewElement(e,s),s.bind&&this.bindElements(e,p);const v=e.attributes;if(v)for(let C=v.length,j=0;j<C;j++)p._setAttribute(v[j].name,v[j].value);if(this._isViewElementWithRawContent(p,s))return p._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(p)||a.push(p),p;if(to(e))return p._setCustomProperty("$rawContent",e.data),p}yield p;const b=[];if(s.withChildren!==!1)for(const v of this.domChildrenToView(e,s,b))p._appendChild(v);if(this._isInlineObjectElement(p))a.push(p);else for(const v of b)a.push(v)}}_processDomInlineNodes(e,s,a){if(!s.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let d=!1;for(let p=0;p<s.length;p++){const b=s[p];if(!b.is("$text")){d=!1;continue}let v,C=!1;if(bl(b,this.preElements))v=ey(b.data);else{v=b.data.replace(/[ \n\t\r]{1,}/g," "),C=/[^\S\u00A0]/.test(v.charAt(v.length-1));const j=p>0?s[p-1]:null,E=p+1<s.length?s[p+1]:null,I=!j||j.is("element")&&j.name=="br"||d,L=!E&&!fs(b.data);a.withChildren!==!1&&(I&&(v=v.replace(/^ /,"")),L&&(v=v.replace(/ $/,""))),v=ey(v),v=v.replace(/ \u00A0/g,"  ");const H=E&&E.is("element")&&E.name!="br",K=E&&E.is("$text")&&E.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(v)||!E||H||K)&&(v=v.replace(/\u00A0$/," ")),(I||j&&j.is("element")&&j.name!="br")&&(v=v.replace(/^\u00A0/," "))}v.length==0&&b.parent?(b._remove(),s.splice(p,1),p--):(b._data=v,d=C)}s.length=0}_processDataFromViewText(e){let s=e.data;if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return s;if(s.charAt(0)==" "){const a=this._getTouchingInlineViewNode(e,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(s=""+s.substr(1))}if(s.charAt(s.length-1)==" "){const a=this._getTouchingInlineViewNode(e,!0),d=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";s.charAt(s.length-2)!=" "&&a&&!d||(s=s.substr(0,s.length-1)+"")}return s.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const s=this._processDataFromViewText(e);return s.charAt(s.length-1)==" "}_getTouchingInlineViewNode(e,s){const a=new Ln({startPosition:s?Ke._createAfter(e):Ke._createBefore(e),direction:s?"forward":"backward"});for(const d of a){if(d.item.is("element","br"))return null;if(this._isInlineObjectElement(d.item))return d.item;if(d.item.is("containerElement"))return null;if(d.item.is("$textProxy"))return d.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,s){if(to(e))return new Gd(this.document,"$comment");const a=s.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ps(this.document,a)}_isViewElementWithRawContent(e,s){return s.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const s=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(s)}_createReplacementDomElement(e,s){const a=this._domDocument.createElement("span");if(a.setAttribute(sy,e),s){for(;s.firstChild;)a.appendChild(s.firstChild);for(const d of s.getAttributeNames())a.setAttribute(d,s.getAttribute(d))}return a}}function bl(c,e){return c.getAncestors().some(s=>s.is("element")&&e.includes(s.name))}function oy(c,e){let s=c;for(;s;)e(s),s=s.parentElement}function iy(c,e){const s=c.parentNode;return!!s&&!!s.tagName&&e.includes(s.tagName.toLowerCase())}function qd(c){c==="script"&&W("domconverter-unsafe-script-element-detected"),c==="style"&&W("domconverter-unsafe-style-element-detected")}class En extends sl(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const ay=qg(function(c,e){Jn(e,bo(e),c)});class xl{constructor(e,s,a){this.view=e,this.document=e.document,this.domEvent=s,this.domTarget=s.target,ay(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ua extends En{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(e,s,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,s,a){this.isEnabled&&this.document.fire(e,new xl(this.view,s,a))}}class ly extends ua{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const s={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Tr(this)}};this.fire(e.type,e,s)}}const Sh=function(){return Yt.Date.now()};var Pp=/\s/;const gv=function(c){for(var e=c.length;e--&&Pp.test(c.charAt(e)););return e};var ha=/^\s+/;const tn=function(c){return c&&c.slice(0,gv(c)+1).replace(ha,"")};var cy=/^[-+]0x[0-9a-f]+$/i,yv=/^0b[01]+$/i,Fn=/^0o[0-7]+$/i,d1=parseInt;const dy=function(c){if(typeof c=="number")return c;if(vh(c))return NaN;if(Ye(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=Ye(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=tn(c);var s=yv.test(c);return s||Fn.test(c)?d1(c.slice(2),s?2:8):cy.test(c)?NaN:+c};var bv=Math.max,Ur=Math.min;const Vn=function(c,e,s){var a,d,p,b,v,C,j=0,E=!1,I=!1,L=!0;if(typeof c!="function")throw new TypeError("Expected a function");function H(ve){var Pe=a,et=d;return a=d=void 0,j=ve,b=c.apply(et,Pe)}function K(ve){var Pe=ve-C;return C===void 0||Pe>=e||Pe<0||I&&ve-j>=p}function $(){var ve=Sh();if(K(ve))return ce(ve);v=setTimeout($,function(Pe){var et=e-(Pe-C);return I?Ur(et,p-(Pe-j)):et}(ve))}function ce(ve){return v=void 0,L&&a?H(ve):(a=d=void 0,b)}function fe(){var ve=Sh(),Pe=K(ve);if(a=arguments,d=this,C=ve,Pe){if(v===void 0)return function(et){return j=et,v=setTimeout($,e),E?H(et):b}(C);if(I)return clearTimeout(v),v=setTimeout($,e),H(C)}return v===void 0&&(v=setTimeout($,e)),b}return e=dy(e)||0,Ye(s)&&(E=!!s.leading,p=(I="maxWait"in s)?bv(dy(s.maxWait)||0,e):p,L="trailing"in s?!!s.trailing:L),fe.cancel=function(){v!==void 0&&clearTimeout(v),j=0,a=C=d=v=void 0},fe.flush=function(){return v===void 0?b:ce(Sh())},fe};class ma extends En{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Vn(s=>{this.document.fire("selectionChangeDone",s)},200)}observe(){const e=this.document;e.on("arrowKey",(s,a)=>{e.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),e.on("arrowKey",(s,a)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const s=this.document.selection,a=new $n(s.getRanges(),{backward:s.isBackward,fake:!1});e!=Wt.arrowleft&&e!=Wt.arrowup||a.setTo(a.getFirstPosition()),e!=Wt.arrowright&&e!=Wt.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:s,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}const xv=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},vv=function(c){return this.__data__.has(c)};function Op(c){var e=-1,s=c==null?0:c.length;for(this.__data__=new Cs;++e<s;)this.add(c[e])}Op.prototype.add=Op.prototype.push=xv,Op.prototype.has=vv;const uy=Op,so=function(c,e){for(var s=-1,a=c==null?0:c.length;++s<a;)if(e(c[s],s,c))return!0;return!1},ni=function(c,e){return c.has(e)},hy=function(c,e,s,a,d,p){var b=1&s,v=c.length,C=e.length;if(v!=C&&!(b&&C>v))return!1;var j=p.get(c),E=p.get(e);if(j&&E)return j==e&&E==c;var I=-1,L=!0,H=2&s?new uy:void 0;for(p.set(c,e),p.set(e,c);++I<v;){var K=c[I],$=e[I];if(a)var ce=b?a($,K,I,e,c,p):a(K,$,I,c,e,p);if(ce!==void 0){if(ce)continue;L=!1;break}if(H){if(!so(e,function(fe,ve){if(!ni(H,ve)&&(K===fe||d(K,fe,s,a,p)))return H.push(ve)})){L=!1;break}}else if(K!==$&&!d(K,$,s,a,p)){L=!1;break}}return p.delete(c),p.delete(e),L},oo=function(c){var e=-1,s=Array(c.size);return c.forEach(function(a,d){s[++e]=[d,a]}),s},wv=function(c){var e=-1,s=Array(c.size);return c.forEach(function(a){s[++e]=a}),s};var pa=Et?Et.prototype:void 0,fa=pa?pa.valueOf:void 0;const vl=function(c,e,s,a,d,p,b){switch(s){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!p(new wd(c),new wd(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _r(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var v=oo;case"[object Set]":var C=1&a;if(v||(v=wv),c.size!=e.size&&!C)return!1;var j=b.get(c);if(j)return j==e;a|=2,b.set(c,e);var E=hy(v(c),v(e),a,d,p,b);return b.delete(c),E;case"[object Symbol]":if(fa)return fa.call(c)==fa.call(e)}return!1};var my=Object.prototype.hasOwnProperty;const py=function(c,e,s,a,d,p){var b=1&s,v=xo(c),C=v.length;if(C!=xo(e).length&&!b)return!1;for(var j=C;j--;){var E=v[j];if(!(b?E in e:my.call(e,E)))return!1}var I=p.get(c),L=p.get(e);if(I&&L)return I==e&&L==c;var H=!0;p.set(c,e),p.set(e,c);for(var K=b;++j<C;){var $=c[E=v[j]],ce=e[E];if(a)var fe=b?a(ce,$,E,e,c,p):a($,ce,E,c,e,p);if(!(fe===void 0?$===ce||d($,ce,s,a,p):fe)){H=!1;break}K||(K=E=="constructor")}if(H&&!K){var ve=c.constructor,Pe=e.constructor;ve==Pe||!("constructor"in c)||!("constructor"in e)||typeof ve=="function"&&ve instanceof ve&&typeof Pe=="function"&&Pe instanceof Pe||(H=!1)}return p.delete(c),p.delete(e),H};var si="[object Arguments]",fy="[object Array]",ga="[object Object]",Yd=Object.prototype.hasOwnProperty;const Eh=function(c,e,s,a,d,p){var b=Cr(c),v=Cr(e),C=b?fy:tl(c),j=v?fy:tl(e),E=(C=C==si?ga:C)==ga,I=(j=j==si?ga:j)==ga,L=C==j;if(L&&go(c)){if(!go(e))return!1;b=!0,E=!1}if(L&&!E)return p||(p=new Ki),b||Ja(c)?hy(c,e,s,a,d,p):vl(c,e,C,s,a,d,p);if(!(1&s)){var H=E&&Yd.call(c,"__wrapped__"),K=I&&Yd.call(e,"__wrapped__");if(H||K){var $=H?c.value():c,ce=K?e.value():e;return p||(p=new Ki),d($,ce,s,a,p)}}return!!L&&(p||(p=new Ki),py(c,e,s,a,d,p))},bc=function c(e,s,a,d,p){return e===s||(e==null||s==null||!jn(e)&&!jn(s)?e!=e&&s!=s:Eh(e,s,a,d,c,p))},kv=function(c,e,s){var a=(s=typeof s=="function"?s:void 0)?s(c,e):void 0;return a===void 0?bc(c,e,void 0,s):!!a};class gy extends En{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const s of this._domElements)this._mutationObserver.observe(s,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const s=this.domConverter,a=new Set,d=new Set;for(const b of e){const v=s.mapDomToView(b.target);v&&(v.is("uiElement")||v.is("rawElement")||b.type!=="childList"||this._isBogusBrMutation(b)||d.add(v))}for(const b of e){const v=s.mapDomToView(b.target);if((!v||!v.is("uiElement")&&!v.is("rawElement"))&&b.type==="characterData"){const C=s.findCorrespondingViewText(b.target);C&&!d.has(C.parent)?a.add(C):!C&&fs(b.target)&&d.add(s.mapDomToView(b.target.parentNode))}}let p=!1;for(const b of a)p=!0,this.renderer.markToSync("text",b);for(const b of d){const v=s.mapViewToDom(b),C=Array.from(b.getChildren()),j=Array.from(s.domChildrenToView(v,{withChildren:!1}));kv(C,j,Dh)||(p=!0,this.renderer.markToSync("children",b))}p&&this.view.forceRender()}_isBogusBrMutation(e){let s=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(s=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function Dh(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class Mh extends ua{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),s.on("blur",(a,d)=>{const p=s.selection.editableElement;p!==null&&p!==d.target||(s.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Bp extends En{constructor(e){super(e),this.mutationObserver=e.getObserver(gy),this.focusObserver=e.getObserver(Mh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Vn(s=>{this.document.fire("selectionChangeDone",s)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Vn(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const s=e.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",(d,p)=>{this.document.isComposing&&!_.isAndroid||(this._handleSelectionChange(p,s),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(s))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,s){if(!this.isEnabled)return;const a=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const p={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",p),this._fireSelectionChangeDoneDebounced(p)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Cv extends ua{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",()=>{s.isComposing=!0},{priority:"low"}),s.on("compositionend",()=>{s.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class _v{constructor(e,s={}){this._files=s.cacheFiles?Av(e):null,this._native=e}get files(){return this._files||(this._files=Av(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,s){this._native.setData(e,s)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,s,a){this._native.setDragImage(e,s,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Av(c){const e=Array.from(c.files||[]),s=Array.from(c.items||[]);return e.length?e:s.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class vr extends ua{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const s=e.getTargetRanges(),a=this.view,d=a.document;let p=null,b=null,v=[];if(e.dataTransfer&&(p=new _v(e.dataTransfer)),e.data!==null?b=e.data:p&&(b=p.getData("text/plain")),d.selection.isFake)v=Array.from(d.selection.getRanges());else if(s.length)v=s.map(C=>{const j=a.domConverter.domPositionToView(C.startContainer,C.startOffset),E=a.domConverter.domPositionToView(C.endContainer,C.endOffset);return j?a.createRange(j,E):E?a.createRange(E):void 0}).filter(C=>!!C);else if(_.isAndroid){const C=e.target.ownerDocument.defaultView.getSelection();v=Array.from(a.domConverter.domSelectionToView(C).getRanges())}if(_.isAndroid&&e.inputType=="insertCompositionText"&&b&&b.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[a.createRange(v[0].end)]});else if(e.inputType=="insertText"&&b&&b.includes(`
`)){const C=b.split(/\n{1,2}/g);let j=v;for(let E=0;E<C.length;E++){const I=C[E];I!=""&&(this.fire(e.type,e,{data:I,dataTransfer:p,targetRanges:j,inputType:e.inputType,isComposing:e.isComposing}),j=[d.selection.getFirstRange()]),E+1<C.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:j}),j=[d.selection.getFirstRange()])}}else this.fire(e.type,e,{data:b,dataTransfer:p,targetRanges:v,inputType:e.inputType,isComposing:e.isComposing})}}class Or extends En{constructor(e){super(e),this.document.on("keydown",(s,a)=>{if(this.isEnabled&&((d=a.keyCode)==Wt.arrowright||d==Wt.arrowleft||d==Wt.arrowup||d==Wt.arrowdown)){const p=new Fr(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(p,a),p.stop.called&&s.stop()}var d})}observe(){}stopObserving(){}}class Ut extends En{constructor(e){super(e);const s=this.document;s.on("keydown",(a,d)=>{if(!this.isEnabled||d.keyCode!=Wt.tab||d.ctrlKey)return;const p=new Fr(s,"tab",s.selection.getFirstRange());s.fire(p,d),p.stop.called&&a.stop()})}observe(){}stopObserving(){}}const Mt=function(c){return ta(c,5)};class wr extends st(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new fc(e),this.domConverter=new yl(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ny(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new zn(this.document),this.addObserver(gy),this.addObserver(Mh),this.addObserver(Bp),this.addObserver(ly),this.addObserver(ma),this.addObserver(Cv),this.addObserver(Or),this.addObserver(vr),this.addObserver(Ut),this.document.on("arrowKey",ty,{priority:"low"}),cv(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_.isiOS&&this.listenTo(this.document,"blur",(s,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,s="main"){const a=this.document.getRoot(s);a._name=e.tagName.toLowerCase();const d={};for(const{name:b,value:v}of Array.from(e.attributes))d[b]=v,b==="class"?this._writer.addClass(v.split(" "),a):this._writer.setAttribute(b,v,a);this._initialDomRootAttributes.set(e,d);const p=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};p(),this.domRoots.set(s,e),this.domConverter.bindElements(e,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(e.ownerDocument),a.on("change:children",(b,v)=>this._renderer.markToSync("children",v)),a.on("change:attributes",(b,v)=>this._renderer.markToSync("attributes",v)),a.on("change:text",(b,v)=>this._renderer.markToSync("text",v)),a.on("change:isReadOnly",()=>this.change(p)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const b of this._observers.values())b.observe(e,s)}detachDomRoot(e){const s=this.domRoots.get(e);Array.from(s.attributes).forEach(({name:d})=>s.removeAttribute(d));const a=this._initialDomRootAttributes.get(s);for(const d in a)s.setAttribute(d,a[d]);this.domRoots.delete(e),this.domConverter.unbindDomElement(s);for(const d of this._observers.values())d.stopObserving(s)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let s=this._observers.get(e);if(s)return s;s=new e(this),this._observers.set(e,s);for(const[a,d]of this.domRoots)s.observe(d,a);return s.enable(),s}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:s,viewportOffset:a=20,ancestorOffset:d=20}={}){const p=this.document.selection.getFirstRange();if(!p)return;const b=Mt({alignToTop:e,forceScroll:s,viewportOffset:a,ancestorOffset:d});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const v={target:this.domConverter.viewRangeToDom(p),viewportOffset:a,ancestorOffset:d,alignToTop:e,forceScroll:s};this.fire("scrollToTheSelection",v,b),function({target:C,viewportOffset:j=0,ancestorOffset:E=0,alignToTop:I,forceScroll:L}){const H=Qo(C);let K=H,$=null;for(j=function(ce){return typeof ce=="number"?{top:ce,bottom:ce,left:ce,right:ce}:ce}(j);K;){let ce;ce=sa(K==H?C:$),op({parent:ce,getRect:()=>ll(C,K),alignToTop:I,ancestorOffset:E,forceScroll:L});const fe=ll(C,K);if(Ad({window:K,rect:fe,viewportOffset:j,alignToTop:I,forceScroll:L}),K.parent!=K){if($=K.frameElement,K=K.parent,!$)return}else K=null}}(v)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const s=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){B.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Mh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,s){return Ke._createAt(e,s)}createPositionAfter(e){return Ke._createAfter(e)}createPositionBefore(e){return Ke._createBefore(e)}createRange(e,s){return new dt(e,s)}createRangeOn(e){return dt._createOn(e)}createRangeIn(e){return dt._createIn(e)}createSelection(...e){return new $n(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class wn{is(){throw new Error("is() method is abstract")}}class Ps extends wn{constructor(e){super(),this.parent=null,this._attrs=ms(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let s=this;for(;s.parent;)e.unshift(s.startOffset),s=s.parent;return e}getAncestors(e={}){const s=[];let a=e.includeSelf?this:this.parent;for(;a;)s[e.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(e,s={}){const a=this.getAncestors(s),d=e.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const s=this.getPath(),a=e.getPath(),d=zr(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((s,a)=>(s[a[0]]=a[1],s),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,s){this._attrs.set(e,s)}_setAttributesTo(e){this._attrs=ms(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Ps.prototype.is=function(c){return c==="node"||c==="model:node"};class Mi{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,s)=>e+s.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const s=this._nodes.indexOf(e);return s==-1?null:s}getNodeStartOffset(e){const s=this.getNodeIndex(e);return s===null?null:this._nodes.slice(0,s).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const s=this._nodes[e];if(!s)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(e){let s=0;for(const a of this._nodes){if(e>=s&&e<s+a.offsetSize)return this.getNodeIndex(a);s+=a.offsetSize}if(s!=e)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,s){for(const a of s)if(!(a instanceof Ps))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,d,p,b){if(Math.max(d.length,a.length)>1e4)return a.slice(0,p).concat(d).concat(a.slice(p+b,a.length));{const v=Array.from(a);return v.splice(p,b,...d),v}}(this._nodes,Array.from(s),e,0)}_removeNodes(e,s=1){return this._nodes.splice(e,s)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class yr extends Ps{constructor(e,s){super(s),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new yr(this.data,this.getAttributes())}static fromJSON(e){return new yr(e.data,e.attributes)}}yr.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class Dn extends wn{constructor(e,s,a){if(super(),this.textNode=e,s<0||s>e.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(a<0||s+a>e.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=e.data.substring(s,s+a),this.offsetInText=s}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const s=[];let a=e.includeSelf?this:this.parent;for(;a;)s[e.parentFirst?"push":"unshift"](a),a=a.parent;return s}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Dn.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class yt extends Ps{constructor(e,s,a){super(s),this._children=new Mi,this.name=e,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let s=this;for(const a of e)s=s.getChild(s.offsetToIndex(a));return s}findAncestor(e,s={}){let a=s.includeSelf?this:this.parent;for(;a;){if(a.name===e)return a;a=a.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const s of this._children)e.children.push(s.toJSON())}return e}_clone(e=!1){const s=e?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new yt(this.name,this.getAttributes(),s)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,s){const a=function(d){return typeof d=="string"?[new yr(d)]:(Dr(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new yr(p):p instanceof Dn?new yr(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,s=1){const a=this._children._removeNodes(e,s);for(const d of a)d.parent=null;return a}static fromJSON(e){let s;if(e.children){s=[];for(const a of e.children)a.name?s.push(yt.fromJSON(a)):s.push(yr.fromJSON(a))}return new yt(e.name,e.attributes,s)}}yt.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class es{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new B("model-tree-walker-no-start-position",null);const s=e.direction||"forward";if(s!="forward"&&s!="backward")throw new B("model-tree-walker-unknown-direction",e,{direction:s});this.direction=s,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=qe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let s,a,d,p;do d=this.position,p=this._visitedParent,{done:s,value:a}=this.next();while(!s&&e(a));s||(this._position=d,this._visitedParent=p)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const d=gs(s,a),p=d||xc(s,a,d);if(p instanceof yt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(s))return{done:!0,value:void 0};s.offset++}else s.path.push(0),this._visitedParent=p;return this._position=s,io("elementStart",p,e,s,1)}if(p instanceof yr){let b;if(this.singleCharacters)b=1;else{let j=p.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<j&&(j=this.boundaries.end.offset),b=j-s.offset}const v=s.offset-p.startOffset,C=new Dn(p,v,b);return s.offset+=b,this._position=s,io("text",C,e,s,b)}return s.path.pop(),s.offset++,this._position=s,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():io("elementEnd",a,e,s)}_previous(){const e=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const d=s.parent,p=gs(s,d),b=p||Wd(s,d,p);if(b instanceof yt)return s.offset--,this.shallow?(this._position=s,io("elementStart",b,e,s,1)):(s.path.push(b.maxOffset),this._position=s,this._visitedParent=b,this.ignoreElementEnd?this._previous():io("elementEnd",b,e,s));if(b instanceof yr){let v;if(this.singleCharacters)v=1;else{let E=b.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>E&&(E=this.boundaries.start.offset),v=s.offset-E}const C=s.offset-b.startOffset,j=new Dn(b,C-v,v);return s.offset-=v,this._position=s,io("text",j,e,s,v)}return s.path.pop(),this._position=s,this._visitedParent=a.parent,io("elementStart",a,e,s,1)}}function io(c,e,s,a,d){return{done:!1,value:{type:c,item:e,previousPosition:s,nextPosition:a,length:d}}}class qe extends wn{constructor(e,s,a="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new B("model-position-root-invalid",e);if(!(s instanceof Array)||s.length===0)throw new B("model-position-path-incorrect-format",e,{path:s});e.is("rootElement")?s=s.slice():(s=[...e.getPath(),...s],e=e.root),this.root=e,this.path=s,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let s=0;s<this.path.length-1;s++)if(e=e.getChild(e.offsetToIndex(this.path[s])),!e)throw new B("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return gs(this,this.parent)}get nodeAfter(){const e=this.parent;return xc(this,e,gs(this,e))}get nodeBefore(){const e=this.parent;return Wd(this,e,gs(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const s=zr(this.path,e.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<e.path[s]?"before":"after"}}getLastMatchingPosition(e,s={}){s.startPosition=this;const a=new es(s);return a.skip(e),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const s=this.parent;return s.is("element")?s.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const s=zr(this.path,e.path),a=typeof s=="string"?Math.min(this.path.length,e.path.length):s;return this.path.slice(0,a)}getCommonAncestor(e){const s=this.getAncestors(),a=e.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}getShiftedBy(e){const s=this.clone(),a=s.offset+e;return s.offset=a<0?0:a,s}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const s=Math.min(this.path.length,e.path.length);for(let a=0;a<s;a++){const d=this.path[a]-e.path[a];if(d<-1||d>1)return!1;if(d===1)return js(e,this,a);if(d===-1)return js(this,e,a)}return this.path.length===e.path.length||(this.path.length>e.path.length?Th(this.path,s):Th(e.path,s))}hasSameParentAs(e){return this.root!==e.root?!1:zr(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let s;switch(e.type){case"insert":s=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(e);break;case"split":s=this._getTransformedBySplitOperation(e);break;case"merge":s=this._getTransformedByMergeOperation(e);break;default:s=qe._createAt(this)}return s}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const s=e.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const s=e.movedRange;let a;return s.containsPosition(this)||s.start.isEqual(this)?(a=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(a=a._getTransformedByDeletion(e.deletionPosition,1))):a=this.isEqual(e.deletionPosition)?qe._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),a}_getTransformedByDeletion(e,s){const a=qe._createAt(this);if(this.root!=e.root)return a;if(zr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+s>this.offset)return null;a.offset-=s}}else if(zr(e.getParentPath(),this.getParentPath())=="prefix"){const d=e.path.length-1;if(e.offset<=this.path[d]){if(e.offset+s>this.path[d])return null;a.path[d]-=s}}return a}_getTransformedByInsertion(e,s){const a=qe._createAt(this);if(this.root!=e.root)return a;if(zr(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=s);else if(zr(e.getParentPath(),this.getParentPath())=="prefix"){const d=e.path.length-1;e.offset<=this.path[d]&&(a.path[d]+=s)}return a}_getTransformedByMove(e,s,a){if(s=s._getTransformedByDeletion(e,a),e.isEqual(s))return qe._createAt(this);const d=this._getTransformedByDeletion(e,a);return d===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,s):d._getTransformedByInsertion(s,a)}_getCombined(e,s){const a=e.path.length-1,d=qe._createAt(s);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-e.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,s,a="toNone"){if(e instanceof qe)return new qe(e.root,e.path,e.stickiness);{const d=e;if(s=="end")s=d.maxOffset;else{if(s=="before")return this._createBefore(d,a);if(s=="after")return this._createAfter(d,a);if(s!==0&&!s)throw new B("model-createpositionat-offset-required",[this,e])}if(!d.is("element")&&!d.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,e]);const p=d.getPath();return p.push(s),new this(d.root,p,a)}}static _createAfter(e,s){if(!e.parent)throw new B("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,s)}static _createBefore(e,s){if(!e.parent)throw new B("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,s)}static fromJSON(e,s){if(e.root==="$graveyard"){const a=new qe(s.graveyard,e.path);return a.stickiness=e.stickiness,a}if(!s.getRoot(e.root))throw new B("model-position-fromjson-no-root",s,{rootName:e.root});return new qe(s.getRoot(e.root),e.path,e.stickiness)}}function gs(c,e){const s=e.getChild(e.offsetToIndex(c.offset));return s&&s.is("$text")&&s.startOffset<c.offset?s:null}function xc(c,e,s){return s!==null?null:e.getChild(e.offsetToIndex(c.offset))}function Wd(c,e,s){return s!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function js(c,e,s){return s+1!==c.path.length&&!!Th(e.path,s+1)&&!!function(a,d){let p=a.parent,b=a.path.length-1,v=0;for(;b>=d;){if(a.path[b]+v!==p.maxOffset)return!1;v=1,b--,p=p.parent}return!0}(c,s+1)}function Th(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}qe.prototype.is=function(c){return c==="position"||c==="model:position"};class De extends wn{constructor(e,s){super(),this.start=qe._createAt(e),this.end=s?qe._createAt(s):qe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new es({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return zr(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,s=!1){e.isCollapsed&&(s=!1);const a=this.containsPosition(e.start)||s&&this.start.isEqual(e.start),d=this.containsPosition(e.end)||s&&this.end.isEqual(e.end);return a&&d}containsItem(e){const s=qe._createBefore(e);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const s=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&s.push(new De(this.start,e.start)),this.containsPosition(e.end)&&s.push(new De(e.end,this.end))):s.push(new De(this.start,this.end)),s}getIntersection(e){if(this.isIntersecting(e)){let s=this.start,a=this.end;return this.containsPosition(e.start)&&(s=e.start),this.containsPosition(e.end)&&(a=e.end),new De(s,a)}return null}getJoined(e,s=!1){let a=this.isIntersecting(e);if(a||(a=this.start.isBefore(e.start)?s?this.end.isTouching(e.start):this.end.isEqual(e.start):s?e.end.isTouching(this.start):e.end.isEqual(this.start)),!a)return null;let d=this.start,p=this.end;return e.start.isBefore(d)&&(d=e.start),e.end.isAfter(p)&&(p=e.end),new De(d,p)}getMinimalFlatRanges(){const e=[],s=this.start.getCommonPath(this.end).length,a=qe._createAt(this.start);let d=a.parent;for(;a.path.length>s+1;){const p=d.maxOffset-a.offset;p!==0&&e.push(new De(a,a.getShiftedBy(p))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const p=this.end.path[a.path.length-1],b=p-a.offset;b!==0&&e.push(new De(a,a.getShiftedBy(b))),a.offset=p,a.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new es(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const s=new es(e);for(const a of s)yield a.item}*getPositions(e={}){e.boundaries=this;const s=new es(e);yield s.position;for(const a of s)yield a.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new De(this.start,this.end)]}getTransformedByOperations(e){const s=[new De(this.start,this.end)];for(const a of e)for(let d=0;d<s.length;d++){const p=s[d].getTransformedByOperation(a);s.splice(d,1,...p),d+=p.length-1}for(let a=0;a<s.length;a++){const d=s[a];for(let p=a+1;p<s.length;p++){const b=s[p];(d.containsRange(b)||b.containsRange(d)||d.isEqual(b))&&s.splice(p,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,s=this.end.nodeBefore;return e&&e.is("element")&&e===s?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,s=!1){return this._getTransformedByInsertion(e.position,e.howMany,s)}_getTransformedByMoveOperation(e,s=!1){const a=e.sourcePosition,d=e.howMany,p=e.targetPosition;return this._getTransformedByMove(a,p,d,s)}_getTransformedBySplitOperation(e){const s=this.start._getTransformedBySplitOperation(e);let a=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(a=this.end.getShiftedBy(1)),s.root!=a.root&&(a=this.end.getShiftedBy(-1)),new De(s,a)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new De(this.start);let s=this.start._getTransformedByMergeOperation(e),a=this.end._getTransformedByMergeOperation(e);return s.root!=a.root&&(a=this.end.getShiftedBy(-1)),s.isAfter(a)?(e.sourcePosition.isBefore(e.targetPosition)?(s=qe._createAt(a),s.offset=0):(e.deletionPosition.isEqual(s)||(a=e.deletionPosition),s=e.targetPosition),new De(s,a)):new De(s,a)}_getTransformedByInsertion(e,s,a=!1){if(a&&this.containsPosition(e))return[new De(this.start,e),new De(e.getShiftedBy(s),this.end._getTransformedByInsertion(e,s))];{const d=new De(this.start,this.end);return d.start=d.start._getTransformedByInsertion(e,s),d.end=d.end._getTransformedByInsertion(e,s),[d]}}_getTransformedByMove(e,s,a,d=!1){if(this.isCollapsed){const I=this.start._getTransformedByMove(e,s,a);return[new De(I)]}const p=De._createFromPositionAndShift(e,a),b=s._getTransformedByDeletion(e,a);if(this.containsPosition(s)&&!d&&(p.containsPosition(this.start)||p.containsPosition(this.end))){const I=this.start._getTransformedByMove(e,s,a),L=this.end._getTransformedByMove(e,s,a);return[new De(I,L)]}let v;const C=this.getDifference(p);let j=null;const E=this.getIntersection(p);if(C.length==1?j=new De(C[0].start._getTransformedByDeletion(e,a),C[0].end._getTransformedByDeletion(e,a)):C.length==2&&(j=new De(this.start,this.end._getTransformedByDeletion(e,a))),v=j?j._getTransformedByInsertion(b,a,E!==null||d):[],E){const I=new De(E.start._getCombined(p.start,b),E.end._getCombined(p.start,b));v.length==2?v.splice(1,0,I):v.push(I)}return v}_getTransformedByDeletion(e,s){let a=this.start._getTransformedByDeletion(e,s),d=this.end._getTransformedByDeletion(e,s);return a==null&&d==null?null:(a==null&&(a=e),d==null&&(d=e),new De(a,d))}static _createFromPositionAndShift(e,s){const a=e,d=e.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(e){return new this(qe._createAt(e,0),qe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(qe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new B("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const s=e[0];e.sort((p,b)=>p.start.isAfter(b.start)?1:-1);const a=e.indexOf(s),d=new this(s.start,s.end);if(a>0)for(let p=a-1;e[p].end.isEqual(d.start);p++)d.start=qe._createAt(e[p].start);for(let p=a+1;p<e.length&&e[p].start.isEqual(d.end);p++)d.end=qe._createAt(e[p].end);return d}static fromJSON(e,s){return new this(qe.fromJSON(e.start,s),qe.fromJSON(e.end,s))}}De.prototype.is=function(c){return c==="range"||c==="model:range"};class Ih extends te(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,s)=>{if(s.viewPosition)return;const a=this._modelToViewMapping.get(s.modelPosition.parent);if(!a)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(a,s.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,s)=>{if(s.modelPosition)return;const a=this.findMappedViewAncestor(s.viewPosition),d=this._viewToModelMapping.get(a),p=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,a);s.modelPosition=qe._createAt(d,p)},{priority:"low"})}bindElements(e,s){this._modelToViewMapping.set(e,s),this._viewToModelMapping.set(s,e)}unbindViewElement(e,s={}){const a=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const d of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(d);s.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(a)==e&&this._modelToViewMapping.delete(a))}unbindModelElement(e){const s=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(s)==e&&this._viewToModelMapping.delete(s)}bindElementToMarker(e,s){const a=this._markerNameToElements.get(s)||new Set;a.add(e);const d=this._elementToMarkerNames.get(e)||new Set;d.add(s),this._markerNameToElements.set(s,a),this._elementToMarkerNames.set(e,d)}unbindElementFromMarkerName(e,s){const a=this._markerNameToElements.get(s);a&&(a.delete(e),a.size==0&&this._markerNameToElements.delete(s));const d=this._elementToMarkerNames.get(e);d&&(d.delete(s),d.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,s]of this._deferredBindingRemovals)e.root==s&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new De(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new dt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const s={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(e,s={}){const a={modelPosition:e,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(e){const s=this._markerNameToElements.get(e);if(!s)return null;const a=new Set;for(const d of s)if(d.is("attributeElement"))for(const p of d.getElementsWithSameId())a.add(p);else a.add(d);return a}registerViewToModelLength(e,s){this._viewToModelLengthCallbacks.set(e,s)}findMappedViewAncestor(e){let s=e.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(e,s,a){if(a!=e)return this._toModelOffset(e.parent,e.index,a)+this._toModelOffset(e,s,e);if(e.is("$text"))return s;let d=0;for(let p=0;p<s;p++)d+=this.getModelLength(e.getChild(p));return d}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let s=0;for(const a of e.getChildren())s+=this.getModelLength(a);return s}}findPositionIn(e,s){let a,d=0,p=0,b=0;if(e.is("$text"))return new Ke(e,s);for(;p<s;)a=e.getChild(b),d=this.getModelLength(a),p+=d,b++;return p==s?this._moveViewPositionToTextNode(new Ke(e,b)):this.findPositionIn(a,s-(p-d))}_moveViewPositionToTextNode(e){const s=e.nodeBefore,a=e.nodeAfter;return s instanceof xr?new Ke(s,s.data.length):a instanceof xr?new Ke(a,0):e}}class Lp{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,s){s=oi(s),e instanceof Dn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(s,!0)}consume(e,s){return s=oi(s),e instanceof Dn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,s)&&(this._consumable.get(e).set(s,!1),!0)}test(e,s){s=oi(s),e instanceof Dn&&(e=this._getSymbolForTextProxy(e));const a=this._consumable.get(e);if(a===void 0)return null;const d=a.get(s);return d===void 0?null:d}revert(e,s){s=oi(s),e instanceof Dn&&(e=this._getSymbolForTextProxy(e));const a=this.test(e,s);return a===!1?(this._consumable.get(e).set(s,!0),!0):a!==!0&&null}verifyAllConsumed(e){const s=[];for(const[a,d]of this._consumable)for(const[p,b]of d){const v=p.split(":")[0];b&&e==v&&s.push({event:p,item:a.name||a.description})}if(s.length)throw new B("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(e){let s=null;const a=this._textProxyRegistry.get(e.startOffset);if(a){const d=a.get(e.endOffset);d&&(s=d.get(e.parent))}return s||(s=this._addSymbolForTextProxy(e)),s}_addSymbolForTextProxy(e){const s=e.startOffset,a=e.endOffset,d=e.parent,p=Symbol("$textProxy:"+e.data);let b,v;return b=this._textProxyRegistry.get(s),b||(b=new Map,this._textProxyRegistry.set(s,b)),v=b.get(a),v||(v=new Map,b.set(a,v)),v.set(d,p),p}}function oi(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var ts=Object.defineProperty,wl=Object.defineProperties,Kd=Object.getOwnPropertyDescriptors,vc=Object.getOwnPropertySymbols,yy=Object.prototype.hasOwnProperty,by=Object.prototype.propertyIsEnumerable,xy=(c,e,s)=>e in c?ts(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,wc=(c,e)=>{for(var s in e||(e={}))yy.call(e,s)&&xy(c,s,e[s]);if(vc)for(var s of vc(e))by.call(e,s)&&xy(c,s,e[s]);return c},zp=(c,e)=>wl(c,Kd(e));class Os extends te(){constructor(e){super(),this._conversionApi=wc({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,s,a){const d=this._createConversionApi(a,e.getRefreshedItems());for(const b of e.getMarkersToRemove())this._convertMarkerRemove(b.name,b.range,d);const p=this._reduceChanges(e.getChanges());for(const b of p)b.type==="insert"?this._convertInsert(De._createFromPositionAndShift(b.position,b.length),d):b.type==="reinsert"?this._convertReinsert(De._createFromPositionAndShift(b.position,b.length),d):b.type==="remove"?this._convertRemove(b.position,b.length,b.name,d):this._convertAttribute(b.range,b.attributeKey,b.attributeOldValue,b.attributeNewValue,d);for(const b of d.mapper.flushUnboundMarkerNames()){const v=s.get(b).getRange();this._convertMarkerRemove(b,v,d),this._convertMarkerAdd(b,v,d)}for(const b of e.getMarkersToAdd())this._convertMarkerAdd(b.name,b.range,d);d.mapper.flushDeferredBindings(),d.consumable.verifyAllConsumed("insert")}convert(e,s,a,d={}){const p=this._createConversionApi(a,void 0,d);this._convertInsert(e,p);for(const[b,v]of s)this._convertMarkerAdd(b,v,p);p.consumable.verifyAllConsumed("insert")}convertSelection(e,s,a){const d=this._createConversionApi(a);this.fire("cleanSelection",{selection:e},d);const p=e.getFirstPosition().root;if(!d.mapper.toViewElement(p))return;const b=Array.from(s.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(d.consumable,e,b),this.fire("selection",{selection:e},d),e.isCollapsed){for(const v of b)if(d.consumable.test(e,"addMarker:"+v.name)){const C=v.getRange();if(!Nv(e.getFirstPosition(),v,d.mapper))continue;const j={item:e,markerName:v.name,markerRange:C};this.fire(`addMarker:${v.name}`,j,d)}for(const v of e.getAttributeKeys())if(d.consumable.test(e,"attribute:"+v)){const C={item:e,range:e.getFirstRange(),attributeKey:v,attributeOldValue:null,attributeNewValue:e.getAttribute(v)};this.fire(`attribute:${v}:$text`,C,d)}}}_convertInsert(e,s,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,Array.from(e));for(const d of Array.from(e.getWalker({shallow:!0})).map(Bs))this._testAndFire("insert",d,s)}_convertRemove(e,s,a,d){this.fire(`remove:${a}`,{position:e,length:s},d)}_convertAttribute(e,s,a,d,p){this._addConsumablesForRange(p.consumable,e,`attribute:${s}`);for(const b of e){const v={item:b.item,range:De._createFromPositionAndShift(b.previousPosition,b.length),attributeKey:s,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${s}`,v,p)}}_convertReinsert(e,s){const a=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,a);for(const d of a.map(Bs))this._testAndFire("insert",zp(wc({},d),{reconversion:!0}),s)}_convertMarkerAdd(e,s,a){if(s.root.rootName=="$graveyard")return;const d=`addMarker:${e}`;if(a.consumable.add(s,d),this.fire(d,{markerName:e,markerRange:s},a),a.consumable.consume(s,d)){this._addConsumablesForRange(a.consumable,s,d);for(const p of s.getItems()){if(!a.consumable.test(p,d))continue;const b={item:p,range:De._createOn(p),markerName:e,markerRange:s};this.fire(d,b,a)}}}_convertMarkerRemove(e,s,a){s.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:s},a)}_reduceChanges(e){const s={changes:e};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(e,s){for(const a of s){const d=a.item;if(e.test(d,"insert")===null){e.add(d,"insert");for(const p of d.getAttributeKeys())e.add(d,"attribute:"+p)}}return e}_addConsumablesForRange(e,s,a){for(const d of s.getItems())e.add(d,a);return e}_addConsumablesForSelection(e,s,a){e.add(s,"selection");for(const d of a)e.add(s,"addMarker:"+d.name);for(const d of s.getAttributeKeys())e.add(s,"attribute:"+d);return e}_testAndFire(e,s,a){const d=function(C,j){const E=j.item.is("element")?j.item.name:"$text";return`${C}:${E}`}(e,s),p=s.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(s.item):s.item,b=this._firedEventsMap.get(a),v=b.get(p);if(v){if(v.has(d))return;v.add(d)}else b.set(p,new Set([d]));this.fire(d,s,a)}_testAndFireAddAttributes(e,s){const a={item:e,range:De._createOn(e)};for(const d of a.item.getAttributeKeys())a.attributeKey=d,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(d),this._testAndFire(`attribute:${d}`,a,s)}_createConversionApi(e,s=new Set,a={}){const d=zp(wc({},this._conversionApi),{consumable:new Lp,writer:e,options:a,convertItem:p=>this._convertInsert(De._createOn(p),d),convertChildren:p=>this._convertInsert(De._createIn(p),d,{doNotAddConsumables:!0}),convertAttributes:p=>this._testAndFireAddAttributes(p,d),canReuseView:p=>!s.has(d.mapper.toModelElement(p))});return this._firedEventsMap.set(d,new Map),d}}function Nv(c,e,s){const a=e.getRange(),d=Array.from(c.getAncestors());return d.shift(),d.reverse(),!d.some(p=>{if(a.containsItem(p))return!!s.toViewElement(p).getCustomProperty("addHighlight")})}function Bs(c){return{item:c.item,range:De._createFromPositionAndShift(c.previousPosition,c.length)}}class Ls extends te(wn){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of e._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new De(e.start,e.end)}getFirstRange(){let e=null;for(const s of this._ranges)e&&!s.start.isBefore(e.start)||(e=s);return e?new De(e.start,e.end):null}getLastRange(){let e=null;for(const s of this._ranges)e&&!s.end.isAfter(e.end)||(e=s);return e?new De(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[s,a,d]=e;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]);else if(s instanceof Ls)this._setRanges(s.getRanges(),s.isBackward);else if(s&&typeof s.getRanges=="function")this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof De)this._setRanges([s],!!d&&!!d.backward);else if(s instanceof qe)this._setRanges([new De(s)]);else if(s instanceof Ps){const p=!!d&&!!d.backward;let b;if(a=="in")b=De._createIn(s);else if(a=="on")b=De._createOn(s);else{if(a===void 0)throw new B("model-selection-setto-required-second-parameter",[this,s]);b=new De(qe._createAt(s,a))}this._setRanges([b],p)}else{if(!Dr(s))throw new B("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,d&&!!d.backward)}}_setRanges(e,s=!1){const a=Array.from(e),d=a.some(p=>{if(!(p instanceof De))throw new B("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(b=>!b.isEqual(p))});(a.length!==this._ranges.length||d)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(e,s){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,e]);const a=qe._createAt(e,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(d)=="before"?(this._pushRange(new De(a,d)),this._lastRangeBackward=!0):(this._pushRange(new De(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,s){this.getAttribute(e)!==s&&(this._attrs.set(e,s),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const s of this.getRanges()){const a=ya(s.start,e);wy(a,s)&&(yield a);for(const p of s.getWalker()){const b=p.item;p.type=="elementEnd"&&u1(b,e,s)&&(yield b)}const d=ya(s.end,e);Jd(d,s)&&(yield d)}}containsEntireContent(e=this.anchor.root){const s=qe._createAt(e,0),a=qe._createAt(e,"end");return s.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new De(e.start,e.end))}_checkRange(e){for(let s=0;s<this._ranges.length;s++)if(e.isIntersecting(this._ranges[s]))throw new B("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[s]})}_replaceAllRanges(e){this._removeAllRanges();for(const s of e)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function vy(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function u1(c,e,s){return vy(c,e)&&Qd(c,s)}function ya(c,e){const s=c.parent.root.document.model.schema,a=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const p=a.find(b=>!d&&(d=s.isLimit(b),!d&&vy(b,e)));return a.forEach(b=>e.add(b)),p}function Qd(c,e){const s=function(a){const d=a.root.document.model.schema;let p=a.parent;for(;p;){if(d.isBlock(p))return p;p=p.parent}}(c);return s?!e.containsRange(De._createOn(s),!0):!0}function wy(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(qe._createAt(c,c.maxOffset))&&Qd(c,e))}function Jd(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(qe._createAt(c,0))&&Qd(c,e))}Ls.prototype.is=function(c){return c==="selection"||c==="model:selection"};class No extends te(De){constructor(e,s){super(e,s),jv.call(this)}detach(){this.stopListening()}toRange(){return new De(this.start,this.end)}static fromRange(e){return new No(e.start,e.end)}}function jv(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const s=e[0];s.isDocumentOperation&&Sv.call(this,s)},{priority:"low"})}function Sv(c){const e=this.getTransformedByOperation(c),s=De._createFromRanges(e),a=!s.isEqual(this),d=function(b,v){switch(v.type){case"insert":return b.containsPosition(v.position);case"move":case"remove":case"reinsert":case"merge":return b.containsPosition(v.sourcePosition)||b.start.isEqual(v.sourcePosition)||b.containsPosition(v.targetPosition);case"split":return b.containsPosition(v.splitPosition)||b.containsPosition(v.insertionPosition)}return!1}(this,c);let p=null;if(a){s.root.rootName=="$graveyard"&&(p=c.type=="remove"?c.sourcePosition:c.deletionPosition);const b=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",b,{deletionPosition:p})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:p})}No.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const Xd="selection:";class ao extends te(wn){constructor(e){super(),this._selection=new h1(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,s){this._selection.setFocus(e,s)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,s){this._selection.setAttribute(e,s)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Xd+e}static _isStoreAttributeKey(e){return e.startsWith(Xd)}}ao.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class h1 extends Ls{constructor(e){super(),this.markers=new As({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&d.type!="marker"&&d.type!="rename"&&d.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(s,a,d,p)=>{this._updateMarker(a,p)}),this.listenTo(this._document,"change",(s,a)=>{(function(d,p){const b=d.document.differ;for(const v of b.getChanges()){if(v.type!="insert")continue;const C=v.position.parent;v.length===C.maxOffset&&d.enqueueChange(p,j=>{const E=Array.from(C.getAttributeKeys()).filter(I=>I.startsWith(Xd));for(const I of E)j.removeAttribute(I,C)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,s){super.setFocus(e,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,s){if(this._setAttribute(e,s)){const a=[e];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}overrideGravity(){const e=Y();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new B("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const s=this._prepareRange(e);s&&this._ranges.push(s)}_validateSelectionRanges(e){for(const s of e)if(!this._document._validateSelectionRange(s))throw new B("document-selection-wrong-position",this,{range:s})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const s=No.fromRange(e);return s.on("change:range",(a,d,p)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=p.deletionPosition;const b=this._ranges.indexOf(s);this._ranges.splice(b,1),s.detach()}}),s}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let s=!1;for(const d of this._model.markers){const p=d.name.split(":",1)[0];if(!this._observedMarkers.has(p))continue;const b=d.getRange();for(const v of this.getRanges())b.containsRange(v,!v.isCollapsed)&&e.push(d)}const a=Array.from(this.markers);for(const d of e)this.markers.has(d)||(this.markers.add(d),s=!0);for(const d of Array.from(this.markers))e.includes(d)||(this.markers.remove(d),s=!0);s&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(e,s){const a=e.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const p=Array.from(this.markers),b=this.markers.has(e);if(s){let v=!1;for(const C of this.getRanges())if(s.containsRange(C,!C.isCollapsed)){v=!0;break}v&&!b?(this.markers.add(e),d=!0):!v&&b&&(this.markers.remove(e),d=!0)}else b&&(this.markers.remove(e),d=!0);d&&this.fire("change:marker",{oldMarkers:p,directChange:!1})}_updateAttributes(e){const s=ms(this._getSurroundingAttributes()),a=ms(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[p,b]of this._attributePriority)b=="low"&&(this._attrs.delete(p),this._attributePriority.delete(p));this._setAttributesTo(s);const d=[];for(const[p,b]of this.getAttributes())a.has(p)&&a.get(p)===b||d.push(p);for(const[p]of a)this.hasAttribute(p)||d.push(p);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(e,s,a=!0){const d=a?"normal":"low";return d=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==s&&(this._attrs.set(e,s),this._attributePriority.set(e,d),!0)}_removeAttribute(e,s=!0){const a=s?"normal":"low";return(a!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,a),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const s=new Set;for(const[a,d]of this.getAttributes())e.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of e)this._setAttribute(a,d,!1)&&s.add(a);return s}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const s of e.getAttributeKeys())s.startsWith(Xd)&&(yield[s.substr(10),e.getAttribute(s)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),s=this._model.schema;if(e.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const d=e.textNode?e.textNode:e.nodeBefore,p=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(a=Rh(d,s)),a||(a=Rh(p,s)),!this.isGravityOverridden&&!a){let b=d;for(;b&&!a;)b=b.previousSibling,a=Rh(b,s)}if(!a){let b=p;for(;b&&!a;)b=b.nextSibling,a=Rh(b,s)}a||(a=this.getStoredAttributes())}else{const d=this.getFirstRange();for(const p of d){if(p.item.is("element")&&s.isObject(p.item)){a=Rh(p.item,s);break}if(p.type=="text"){a=p.item.getAttributes();break}}}return a}_fixGraveyardSelection(e){const s=this._model.schema.getNearestSelectionRange(e);s&&this._pushRange(s)}}function Rh(c,e){if(!c)return null;if(c instanceof Dn||c instanceof yr)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const s=[];for(const[a,d]of c.getAttributes())e.checkAttribute("$text",a)&&e.getAttributeProperties(a).copyFromObject!==!1&&s.push([a,d]);return s}class Ev{constructor(e){this._dispatchers=e}add(e){for(const s of this._dispatchers)e(s);return this}}class Dv extends Ev{elementToElement(e){return this.add(function(s){const a=Ph(s.model),d=Zd(s.view,"container");return a.attributes.length&&(a.children=!0),p=>{p.on(`insert:${a.name}`,function(b,v=Tv){return(C,j,E)=>{if(!v(j.item,E.consumable,{preflight:!0}))return;const I=b(j.item,E,j);if(!I)return;v(j.item,E.consumable);const L=E.mapper.toViewPosition(j.range.start);E.mapper.bindElements(j.item,I),E.writer.insert(L,I),E.convertAttributes(j.item),Oh(I,j.item.getChildren(),E,{reconversion:j.reconversion})}}(d,Ny(a)),{priority:s.converterPriority||"normal"}),(a.children||a.attributes.length)&&p.on("reduceChanges",Ay(a),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(s){const a=Ph(s.model),d=Zd(s.view,"container");return a.children=!0,p=>{if(p._conversionApi.schema.checkChild(a.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",p,{elementName:a.name});var b,v;p.on(`insert:${a.name}`,(b=d,v=Ny(a),(C,j,E)=>{if(!v(j.item,E.consumable,{preflight:!0}))return;const I=new Map;E.writer._registerSlotFactory(function(K,$,ce){return(fe,ve)=>{const Pe=fe.createContainerElement("$slot");let et=null;if(ve==="children")et=Array.from(K.getChildren());else{if(typeof ve!="function")throw new B("conversion-slot-mode-unknown",ce.dispatcher,{modeOrFilter:ve});et=Array.from(K.getChildren()).filter(vt=>ve(vt))}return $.set(Pe,et),Pe}}(j.item,I,E));const L=b(j.item,E,j);if(E.writer._clearSlotFactory(),!L)return;(function(K,$,ce){const fe=Array.from($.values()).flat(),ve=new Set(fe);if(ve.size!=fe.length)throw new B("conversion-slot-filter-overlap",ce.dispatcher,{element:K});if(ve.size!=K.childCount)throw new B("conversion-slot-filter-incomplete",ce.dispatcher,{element:K})})(j.item,I,E),v(j.item,E.consumable);const H=E.mapper.toViewPosition(j.range.start);E.mapper.bindElements(j.item,L),E.writer.insert(H,L),E.convertAttributes(j.item),function(K,$,ce,fe){ce.mapper.on("modelToViewPosition",et,{priority:"highest"});let ve=null,Pe=null;for([ve,Pe]of $)Oh(K,Pe,ce,fe),ce.writer.move(ce.writer.createRangeIn(ve),ce.writer.createPositionBefore(ve)),ce.writer.remove(ve);function et(vt,Rr){const nr=Rr.modelPosition.nodeAfter,ss=Pe.indexOf(nr);ss<0||(Rr.viewPosition=Rr.mapper.findPositionIn(ve,ss))}ce.mapper.off("modelToViewPosition",et)}(L,I,E,{reconversion:j.reconversion})}),{priority:s.converterPriority||"normal"}),p.on("reduceChanges",Ay(a),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(s){s=Mt(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const b of a.values)s.view[b]=Zd(s.view[b],"attribute");else s.view=Zd(s.view,"attribute");const p=Cy(s);return b=>{b.on(d,function(v){return(C,j,E)=>{if(!E.consumable.test(j.item,C.name))return;const I=v(j.attributeOldValue,E,j),L=v(j.attributeNewValue,E,j);if(!I&&!L)return;E.consumable.consume(j.item,C.name);const H=E.writer,K=H.document.selection;if(j.item instanceof Ls||j.item instanceof ao)H.wrap(K.getFirstRange(),L);else{let $=E.mapper.toViewRange(j.range);j.attributeOldValue!==null&&I&&($=H.unwrap($,I)),j.attributeNewValue!==null&&L&&H.wrap($,L)}}}(p),{priority:s.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(s){s=Mt(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const b of a.values)s.view[b]=_y(s.view[b]);else s.view=_y(s.view);const p=Cy(s);return b=>{var v;b.on(d,(v=p,(C,j,E)=>{if(!E.consumable.test(j.item,C.name))return;const I=v(j.attributeOldValue,E,j),L=v(j.attributeNewValue,E,j);if(!I&&!L)return;E.consumable.consume(j.item,C.name);const H=E.mapper.toViewElement(j.item),K=E.writer;if(!H)throw new B("conversion-attribute-to-attribute-on-text",E.dispatcher,j);if(j.attributeOldValue!==null&&I)if(I.key=="class"){const $=bn(I.value);for(const ce of $)K.removeClass(ce,H)}else if(I.key=="style"){const $=Object.keys(I.value);for(const ce of $)K.removeStyle(ce,H)}else K.removeAttribute(I.key,H);if(j.attributeNewValue!==null&&L)if(L.key=="class"){const $=bn(L.value);for(const ce of $)K.addClass(ce,H)}else if(L.key=="style"){const $=Object.keys(L.value);for(const ce of $)K.setStyle(ce,L.value[ce],H)}else K.setAttribute(L.key,L.value,H)}),{priority:s.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(s){const a=Zd(s.view,"ui");return d=>{var p;d.on(`addMarker:${s.model}`,(p=a,(b,v,C)=>{v.isOpening=!0;const j=p(v,C);v.isOpening=!1;const E=p(v,C);if(!j||!E)return;const I=v.markerRange;if(I.isCollapsed&&!C.consumable.consume(I,b.name))return;for(const K of I)if(!C.consumable.consume(K.item,b.name))return;const L=C.mapper,H=C.writer;H.insert(L.toViewPosition(I.start),j),C.mapper.bindElementToMarker(j,v.markerName),I.isCollapsed||(H.insert(L.toViewPosition(I.end),E),C.mapper.bindElementToMarker(E,v.markerName)),b.stop()}),{priority:s.converterPriority||"normal"}),d.on(`removeMarker:${s.model}`,(b,v,C)=>{const j=C.mapper.markerNameToElements(v.markerName);if(j){for(const E of j)C.mapper.unbindElementFromMarkerName(E,v.markerName),C.writer.clear(C.writer.createRangeOn(E),E);C.writer.clearClonedElementsGroup(v.markerName),b.stop()}},{priority:s.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(s){return a=>{var d;a.on(`addMarker:${s.model}`,(d=s.view,(p,b,v)=>{if(!b.item||!(b.item instanceof Ls||b.item instanceof ao||b.item.is("$textProxy")))return;const C=Fp(d,b,v);if(!C||!v.consumable.consume(b.item,p.name))return;const j=v.writer,E=ky(j,C),I=j.document.selection;if(b.item instanceof Ls||b.item instanceof ao)j.wrap(I.getFirstRange(),E);else{const L=v.mapper.toViewRange(b.range),H=j.wrap(L,E);for(const K of H.getItems())if(K.is("attributeElement")&&K.isSimilar(E)){v.mapper.bindElementToMarker(K,b.markerName);break}}}),{priority:s.converterPriority||"normal"}),a.on(`addMarker:${s.model}`,function(p){return(b,v,C)=>{if(!v.item||!(v.item instanceof yt))return;const j=Fp(p,v,C);if(!j||!C.consumable.test(v.item,b.name))return;const E=C.mapper.toViewElement(v.item);if(E&&E.getCustomProperty("addHighlight")){C.consumable.consume(v.item,b.name);for(const I of De._createIn(v.item))C.consumable.consume(I.item,b.name);E.getCustomProperty("addHighlight")(E,j,C.writer),C.mapper.bindElementToMarker(E,v.markerName)}}}(s.view),{priority:s.converterPriority||"normal"}),a.on(`removeMarker:${s.model}`,function(p){return(b,v,C)=>{if(v.markerRange.isCollapsed)return;const j=Fp(p,v,C);if(!j)return;const E=ky(C.writer,j),I=C.mapper.markerNameToElements(v.markerName);if(I){for(const L of I)C.mapper.unbindElementFromMarkerName(L,v.markerName),L.is("attributeElement")?C.writer.unwrap(C.writer.createRangeOn(L),E):L.getCustomProperty("removeHighlight")(L,j.id,C.writer);C.writer.clearClonedElementsGroup(v.markerName),b.stop()}}}(s.view),{priority:s.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(s){s=Mt(s);const a=s.model;let d=s.view;return d||(d=p=>({group:a,name:p.substr(s.model.length+1)})),p=>{var b;p.on(`addMarker:${a}`,(b=d,(v,C,j)=>{const E=b(C.markerName,j);if(!E)return;const I=C.markerRange;j.consumable.consume(I,v.name)&&(kc(I,!1,j,C,E),kc(I,!0,j,C,E),v.stop())}),{priority:s.converterPriority||"normal"}),p.on(`removeMarker:${a}`,function(v){return(C,j,E)=>{const I=v(j.markerName,E);if(!I)return;const L=E.mapper.markerNameToElements(j.markerName);if(L){for(const K of L)E.mapper.unbindElementFromMarkerName(K,j.markerName),K.is("containerElement")?(H(`data-${I.group}-start-before`,K),H(`data-${I.group}-start-after`,K),H(`data-${I.group}-end-before`,K),H(`data-${I.group}-end-after`,K)):E.writer.clear(E.writer.createRangeOn(K),K);E.writer.clearClonedElementsGroup(j.markerName),C.stop()}function H(K,$){if($.hasAttribute(K)){const ce=new Set($.getAttribute(K).split(","));ce.delete(I.name),ce.size==0?E.writer.removeAttribute(K,$):E.writer.setAttribute(K,Array.from(ce).join(","),$)}}}}(d),{priority:s.converterPriority||"normal"})}}(e))}}function ky(c,e){const s=c.createAttributeElement("span",e.attributes);return e.classes&&s._addClass(e.classes),typeof e.priority=="number"&&(s._priority=e.priority),s._id=e.id,s}function kc(c,e,s,a,d){const p=e?c.start:c.end,b=p.nodeAfter&&p.nodeAfter.is("element")?p.nodeAfter:null,v=p.nodeBefore&&p.nodeBefore.is("element")?p.nodeBefore:null;if(b||v){let C,j;e&&b||!e&&!v?(C=b,j=!0):(C=v,j=!1);const E=s.mapper.toViewElement(C);if(E)return void function(I,L,H,K,$,ce){const fe=`data-${ce.group}-${L?"start":"end"}-${H?"before":"after"}`,ve=I.hasAttribute(fe)?I.getAttribute(fe).split(","):[];ve.unshift(ce.name),K.writer.setAttribute(fe,ve.join(","),I),K.mapper.bindElementToMarker(I,$.markerName)}(E,e,j,s,a,d)}(function(C,j,E,I,L){const H=`${L.group}-${j?"start":"end"}`,K=L.name?{name:L.name}:null,$=E.writer.createUIElement(H,K);E.writer.insert(C,$),E.mapper.bindElementToMarker($,I.markerName)})(s.mapper.toViewPosition(p),e,s,a,d)}function Ph(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function Zd(c,e){return typeof c=="function"?c:(s,a)=>function(d,p,b){typeof d=="string"&&(d={name:d});let v;const C=p.writer,j=Object.assign({},d.attributes);if(b=="container")v=C.createContainerElement(d.name,j);else if(b=="attribute"){const E={priority:d.priority||gl.DEFAULT_PRIORITY};v=C.createAttributeElement(d.name,j,E)}else v=C.createUIElement(d.name,j);if(d.styles){const E=Object.keys(d.styles);for(const I of E)C.setStyle(I,d.styles[I],v)}if(d.classes){const E=d.classes;if(typeof E=="string")C.addClass(E,v);else for(const I of E)C.addClass(I,v)}return v}(c,a,e)}function Cy(c){return c.model.values?(e,s,a)=>{const d=c.view[e];return d?d(e,s,a):null}:c.view}function _y(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function Fp(c,e,s){const a=typeof c=="function"?c(e,s):c;return a?(a.priority||(a.priority=10),a.id||(a.id=e.markerName),a):null}function Ay(c){const e=function(s){return(a,d)=>{if(!a.is("element",s.name))return!1;if(d.type=="attribute"){if(s.attributes.includes(d.attributeKey))return!0}else if(s.children)return!0;return!1}}(c);return(s,a)=>{const d=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const p of a.changes){const b=p.type=="attribute"?p.range.start.nodeAfter:p.position.parent;if(b&&e(b,p)){if(!a.reconvertedElements.has(b)){a.reconvertedElements.add(b);const v=qe._createBefore(b);let C=d.length;for(let j=d.length-1;j>=0;j--){const E=d[j],I=(E.type=="attribute"?E.range.start:E.position).compareWith(v);if(I=="before"||E.type=="remove"&&I=="same")break;C=j}d.splice(C,0,{type:"remove",name:b.name,position:v,length:1},{type:"reinsert",name:b.name,position:v,length:1})}}else d.push(p)}a.changes=d}}function Ny(c){return(e,s,a={})=>{const d=["insert"];for(const p of c.attributes)e.hasAttribute(p)&&d.push(`attribute:${p}`);return!!d.every(p=>s.test(e,p))&&(a.preflight||d.forEach(p=>s.consume(e,p)),!0)}}function Oh(c,e,s,a){for(const d of e)Mv(c.root,d,s,a)||s.convertItem(d)}function Mv(c,e,s,a){const{writer:d,mapper:p}=s;if(!a.reconversion)return!1;const b=p.toViewElement(e);return!(!b||b.root==c)&&!!s.canReuseView(b)&&(d.move(d.createRangeOn(b),p.toViewPosition(qe._createBefore(e))),!0)}function Tv(c,e,{preflight:s}={}){return s?e.test(c,"insert"):e.consume(c,"insert")}function Nr(c){const{schema:e,document:s}=c.model;for(const a of s.getRoots())if(a.isEmpty&&!e.checkChild(a,"$text")&&e.checkChild(a,"paragraph"))return c.insertElement("paragraph",a),!0;return!1}function Vp(c,e,s){const a=s.createContext(c);return!!s.checkChild(a,"paragraph")&&!!s.checkChild(a.push("paragraph"),e)}function Iv(c,e){const s=e.createElement("paragraph");return e.insert(s,c),e.createPositionAt(s,0)}var Rv=Object.defineProperty,m1=Object.defineProperties,p1=Object.getOwnPropertyDescriptors,Pv=Object.getOwnPropertySymbols,Up=Object.prototype.hasOwnProperty,$d=Object.prototype.propertyIsEnumerable,Gp=(c,e,s)=>e in c?Rv(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;class Hp extends Ev{elementToElement(e){return this.add(qp(e))}elementToAttribute(e){return this.add(function(s){s=Mt(s),eu(s);const a=Ov(s,!1),d=ba(s.view),p=d?`element:${d}`:"element";return b=>{b.on(p,a,{priority:s.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(s){s=Mt(s);let a=null;(typeof s.view=="string"||s.view.key)&&(a=function(p){typeof p.view=="string"&&(p.view={key:p.view});const b=p.view.key;let v;return b=="class"||b=="style"?v={[b=="class"?"classes":"styles"]:p.view.value}:v={attributes:{[b]:p.view.value===void 0?/[\s\S]*/:p.view.value}},p.view.name&&(v.name=p.view.name),p.view=v,b}(s)),eu(s,a);const d=Ov(s,!0);return p=>{p.on("element",d,{priority:s.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(s){const a=function(b){return(v,C)=>{const j=typeof b=="string"?b:b(v,C);return C.writer.createElement("$marker",{"data-name":j})}}(s.model);return qp((d=((b,v)=>{for(var C in v||(v={}))Up.call(v,C)&&Gp(b,C,v[C]);if(Pv)for(var C of Pv(v))$d.call(v,C)&&Gp(b,C,v[C]);return b})({},s),p={model:a},m1(d,p1(p))));var d,p}(e))}dataToMarker(e){return this.add(function(s){s=Mt(s),s.model||(s.model=b=>b?s.view+":"+b:s.view);const a={view:s.view,model:s.model},d=jo(jy(a,"start")),p=jo(jy(a,"end"));return b=>{b.on(`element:${s.view}-start`,d,{priority:s.converterPriority||"normal"}),b.on(`element:${s.view}-end`,p,{priority:s.converterPriority||"normal"});const v=ee.low,C=ee.highest,j=ee.get(s.converterPriority)/C;b.on("element",function(E){return(I,L,H)=>{const K=`data-${E.view}`;function $(ce,fe){for(const ve of fe){const Pe=E.model(ve,H),et=H.writer.createElement("$marker",{"data-name":Pe});H.writer.insert(et,ce),L.modelCursor.isEqual(ce)?L.modelCursor=L.modelCursor.getShiftedBy(1):L.modelCursor=L.modelCursor._getTransformedByInsertion(ce,1),L.modelRange=L.modelRange._getTransformedByInsertion(ce,1)[0]}}(H.consumable.test(L.viewItem,{attributes:K+"-end-after"})||H.consumable.test(L.viewItem,{attributes:K+"-start-after"})||H.consumable.test(L.viewItem,{attributes:K+"-end-before"})||H.consumable.test(L.viewItem,{attributes:K+"-start-before"}))&&(L.modelRange||Object.assign(L,H.convertChildren(L.viewItem,L.modelCursor)),H.consumable.consume(L.viewItem,{attributes:K+"-end-after"})&&$(L.modelRange.end,L.viewItem.getAttribute(K+"-end-after").split(",")),H.consumable.consume(L.viewItem,{attributes:K+"-start-after"})&&$(L.modelRange.end,L.viewItem.getAttribute(K+"-start-after").split(",")),H.consumable.consume(L.viewItem,{attributes:K+"-end-before"})&&$(L.modelRange.start,L.viewItem.getAttribute(K+"-end-before").split(",")),H.consumable.consume(L.viewItem,{attributes:K+"-start-before"})&&$(L.modelRange.start,L.viewItem.getAttribute(K+"-start-before").split(",")))}}(a),{priority:v+j})}}(e))}}function qp(c){const e=jo(c=Mt(c)),s=ba(c.view),a=s?`element:${s}`:"element";return d=>{d.on(a,e,{priority:c.converterPriority||"normal"})}}function ba(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function jo(c){const e=new _o(c.view);return(s,a,d)=>{const p=e.match(a.viewItem);if(!p)return;const b=p.match;if(b.name=!0,!d.consumable.test(a.viewItem,b))return;const v=function(C,j,E){return C instanceof Function?C(j,E):E.writer.createElement(C)}(c.model,a.viewItem,d);v&&d.safeInsert(v,a.modelCursor)&&(d.consumable.consume(a.viewItem,b),d.convertChildren(a.viewItem,v),d.updateConversionResult(v,a))}}function eu(c,e=null){const s=e===null||(p=>p.getAttribute(e)),a=typeof c.model!="object"?c.model:c.model.key,d=typeof c.model!="object"||c.model.value===void 0?s:c.model.value;c.model={key:a,value:d}}function Ov(c,e){const s=new _o(c.view);return(a,d,p)=>{if(!d.modelRange&&e)return;const b=s.match(d.viewItem);if(!b||(function(E,I){const L=typeof E=="function"?E(I):E;return typeof L=="object"&&!ba(L)?!1:!L.classes&&!L.attributes&&!L.styles}(c.view,d.viewItem)?b.match.name=!0:delete b.match.name,!p.consumable.test(d.viewItem,b.match)))return;const v=c.model.key,C=typeof c.model.value=="function"?c.model.value(d.viewItem,p):c.model.value;if(C===null)return;d.modelRange||Object.assign(d,p.convertChildren(d.viewItem,d.modelCursor)),function(E,I,L,H){let K=!1;for(const $ of Array.from(E.getItems({shallow:L})))H.schema.checkAttribute($,I.key)&&(K=!0,$.hasAttribute(I.key)||H.writer.setAttribute(I.key,I.value,$));return K}(d.modelRange,{key:v,value:C},e,p)&&(p.consumable.test(d.viewItem,{name:!0})&&(b.match.name=!0),p.consumable.consume(d.viewItem,b.match))}}function jy(c,e){return{view:`${c.view}-${e}`,model:(s,a)=>{const d=s.getAttribute("name"),p=c.model(d,a);return a.writer.createElement("$marker",{"data-name":p})}}}function Bv(c){c.document.registerPostFixer(e=>function(s,a){const d=a.document.selection,p=a.schema,b=[];let v=!1;for(const C of d.getRanges()){const j=Sy(C,p);j&&!j.isEqual(C)?(b.push(j),v=!0):b.push(C)}return v&&s.setSelection(function(C){const j=[...C],E=new Set;let I=1;for(;I<j.length;){const L=j[I],H=j.slice(0,I);for(const[K,$]of H.entries())if(!E.has(K)){if(L.isEqual($))E.add(K);else if(L.isIntersecting($)){E.add(K),E.add(I);const ce=L.getJoined($);j.push(ce)}}I++}return j.filter((L,H)=>!E.has(H))}(b),{backward:d.isBackward}),!1}(e,c))}function Sy(c,e){return c.isCollapsed?function(s,a){const d=s.start,p=a.getNearestSelectionRange(d);if(!p){const v=d.getAncestors().reverse().find(C=>a.isObject(C));return v?De._createOn(v):null}if(!p.isCollapsed)return p;const b=p.start;return d.isEqual(b)?null:new De(b)}(c,e):function(s,a){const{start:d,end:p}=s,b=a.checkChild(d,"$text"),v=a.checkChild(p,"$text"),C=a.getLimitElement(d),j=a.getLimitElement(p);if(C===j){if(b&&v)return null;if(function(L,H,K){const $=L.nodeAfter&&!K.isLimit(L.nodeAfter)||K.checkChild(L,"$text"),ce=H.nodeBefore&&!K.isLimit(H.nodeBefore)||K.checkChild(H,"$text");return $||ce}(d,p,a)){const L=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),H=p.nodeBefore&&a.isSelectable(p.nodeBefore)?null:a.getNearestSelectionRange(p,"backward"),K=L?L.start:d,$=H?H.end:p;return new De(K,$)}}const E=C&&!C.is("rootElement"),I=j&&!j.is("rootElement");if(E||I){const L=d.nodeAfter&&p.nodeBefore&&d.nodeAfter.parent===p.nodeBefore.parent,H=E&&(!L||!Lv(d.nodeAfter,a)),K=I&&(!L||!Lv(p.nodeBefore,a));let $=d,ce=p;return H&&($=qe._createBefore(Ey(C,a))),K&&(ce=qe._createAfter(Ey(j,a))),new De($,ce)}return null}(c,e)}function Ey(c,e){let s=c,a=s;for(;e.isLimit(a)&&a.parent;)s=a,a=a.parent;return s}function Lv(c,e){return c&&e.isSelectable(c)}class Dy extends st(){constructor(e,s){super(),this.model=e,this.view=new wr(s),this.mapper=new Ih,this.downcastDispatcher=new Os({mapper:this.mapper,schema:e.schema});const a=this.model.document,d=a.selection,p=this.model.markers;var b,v,C;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(j=>{this.downcastDispatcher.convertChanges(a.differ,p,j),this.downcastDispatcher.convertSelection(d,p,j)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(j,E){return(I,L)=>{const H=L.newSelection,K=[];for(const ce of H.getRanges())K.push(E.toModelRange(ce));const $=j.createSelection(K,{backward:H.isBackward});$.isEqual(j.document.selection)||j.change(ce=>{ce.setSelection($)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(b=this.mapper,v=this.model.schema,C=this.view,(j,E)=>{if(!C.document.isComposing||_.isAndroid)for(let I=0;I<E.targetRanges.length;I++){const L=E.targetRanges[I],H=b.toModelRange(L),K=Sy(H,v);K&&!K.isEqual(H)&&(E.targetRanges[I]=b.toViewRange(K))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(j,E,I)=>{if(!I.consumable.consume(E.item,j.name))return;const L=I.writer,H=I.mapper.toViewPosition(E.range.start),K=L.createText(E.item.data);L.insert(H,K)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(j,E,I)=>{I.convertAttributes(E.item),E.reconversion||!E.item.is("element")||E.item.isEmpty||I.convertChildren(E.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(j,E,I)=>{const L=I.mapper.toViewPosition(E.position),H=E.position.getShiftedBy(E.length),K=I.mapper.toViewPosition(H,{isPhantom:!0}),$=I.writer.createRange(L,K),ce=I.writer.remove($.getTrimmed());for(const fe of I.writer.createRangeIn(ce).getItems())I.mapper.unbindViewElement(fe,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(j,E,I)=>{const L=I.writer,H=L.document.selection;for(const K of H.getRanges())K.isCollapsed&&K.end.parent.isAttached()&&I.writer.mergeAttributes(K.start);L.setSelection(null)}),this.downcastDispatcher.on("selection",(j,E,I)=>{const L=E.selection;if(L.isCollapsed||!I.consumable.consume(L,"selection"))return;const H=[];for(const K of L.getRanges())H.push(I.mapper.toViewRange(K));I.writer.setSelection(H,{backward:L.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(j,E,I)=>{const L=E.selection;if(!L.isCollapsed||!I.consumable.consume(L,"selection"))return;const H=I.writer,K=L.getFirstPosition(),$=I.mapper.toViewPosition(K),ce=H.breakAttributes($);H.setSelection(ce)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(j=>{if(j.rootName=="$graveyard")return null;const E=new Kg(this.view.document,j.name);return E.rootName=j.rootName,this.mapper.bindElements(j,E),E})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const s=typeof e=="string"?e:e.name,a=this.model.markers.get(s);if(!a)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class tu{constructor(){this._consumables=new Map}add(e,s){let a;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?a=this._consumables.get(e):(a=new f1(e),this._consumables.set(e,a)),a.add(s))}test(e,s){const a=this._consumables.get(e);return a===void 0?null:e.is("$text")||e.is("documentFragment")?a:a.test(s)}consume(e,s){return!!this.test(e,s)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(s),!0)}revert(e,s){const a=this._consumables.get(e);a!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):a.revert(s))}static consumablesFromElement(e){const s={element:e,name:!0,attributes:[],classes:[],styles:[]},a=e.getAttributeKeys();for(const b of a)b!="style"&&b!="class"&&s.attributes.push(b);const d=e.getClassNames();for(const b of d)s.classes.push(b);const p=e.getStyleNames();for(const b of p)s.styles.push(b);return s}static createFrom(e,s){if(s||(s=new tu),e.is("$text"))return s.add(e),s;e.is("element")&&s.add(e,tu.consumablesFromElement(e)),e.is("documentFragment")&&s.add(e);for(const a of e.getChildren())s=tu.createFrom(a,s);return s}}const Bh=["attributes","classes","styles"];class f1{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const s of Bh)s in e&&this._add(s,e[s])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const s of Bh)if(s in e){const a=this._test(s,e[s]);if(a!==!0)return a}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const s of Bh)s in e&&this._consume(s,e[s])}revert(e){e.name&&(this._canConsumeName=!0);for(const s of Bh)s in e&&this._revert(s,e[s])}_add(e,s){const a=Cr(s)?s:[s],d=this._consumables[e];for(const p of a){if(e==="attributes"&&(p==="class"||p==="style"))throw new B("viewconsumable-invalid-attribute",this);if(d.set(p,!0),e==="styles")for(const b of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(b,!0)}}_test(e,s){const a=Cr(s)?s:[s],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style"){const b=d.get(p);if(b===void 0)return null;if(!b)return!1}else{const b=p=="class"?"classes":"styles",v=this._test(b,[...this._consumables[b].keys()]);if(v!==!0)return v}return!0}_consume(e,s){const a=Cr(s)?s:[s],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style"){if(d.set(p,!1),e=="styles")for(const b of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(b,!1)}else{const b=p=="class"?"classes":"styles";this._consume(b,[...this._consumables[b].keys()])}}_revert(e,s){const a=Cr(s)?s:[s],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style")d.get(p)===!1&&d.set(p,!0);else{const b=p=="class"?"classes":"styles";this._revert(b,[...this._consumables[b].keys()])}}}class My extends st(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,s)=>{s[0]=new xa(s[0])},{priority:"highest"}),this.on("checkChild",(e,s)=>{s[0]=new xa(s[0]),s[1]=this.getDefinition(s[1])},{priority:"highest"})}register(e,s){if(this._sourceDefinitions[e])throw new B("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},s)],this._clearCache()}extend(e,s){if(!this._sourceDefinitions[e])throw new B("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let s;return s=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[s]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const s=this.getDefinition(e);return!(!s||!s.isBlock)}isLimit(e){const s=this.getDefinition(e);return!!s&&!(!s.isLimit&&!s.isObject)}isObject(e){const s=this.getDefinition(e);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(e){const s=this.getDefinition(e);return!(!s||!s.isInline)}isSelectable(e){const s=this.getDefinition(e);return!!s&&!(!s.isSelectable&&!s.isObject)}isContent(e){const s=this.getDefinition(e);return!!s&&!(!s.isContent&&!s.isObject)}checkChild(e,s){return!!s&&this._checkContextMatch(s,e)}checkAttribute(e,s){const a=this.getDefinition(e.last);return!!a&&a.allowAttributes.includes(s)}checkMerge(e,s){if(e instanceof qe){const a=e.nodeBefore,d=e.nodeAfter;if(!(a instanceof yt))throw new B("schema-check-merge-no-element-before",this);if(!(d instanceof yt))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of s.getChildren())if(!this.checkChild(e,a))return!1;return!0}addChildCheck(e){this.on("checkChild",(s,[a,d])=>{if(!d)return;const p=e(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(s,[a,d])=>{const p=e(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}setAttributeProperties(e,s){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),s)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let s;for(e instanceof qe?s=e.parent:s=(e instanceof De?[e]:Array.from(e.getRanges())).reduce((a,d)=>{const p=d.getCommonAncestor();return a?a.getCommonAncestor(p,{includeSelf:!0}):p},null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(e,s){if(e.isCollapsed){const a=[...e.getFirstPosition().getAncestors(),new yr("",e.getAttributes())];return this.checkAttribute(a,s)}{const a=e.getRanges();for(const d of a)for(const p of d)if(this.checkAttribute(p.item,s))return!0}return!1}*getValidRanges(e,s){e=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(e);for(const a of e)yield*this._getValidRangesForRange(a,s)}getNearestSelectionRange(e,s="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new De(e);let a,d;const p=e.getAncestors().reverse().find(b=>this.isLimit(b))||e.root;s!="both"&&s!="backward"||(a=new es({boundaries:De._createIn(p),startPosition:e,direction:"backward"})),s!="both"&&s!="forward"||(d=new es({boundaries:De._createIn(p),startPosition:e}));for(const b of function*(v,C){let j=!1;for(;!j;){if(j=!0,v){const E=v.next();E.done||(j=!1,yield{walker:v,value:E.value})}if(C){const E=C.next();E.done||(j=!1,yield{walker:C,value:E.value})}}}(a,d)){const v=b.walker==a?"elementEnd":"elementStart",C=b.value;if(C.type==v&&this.isObject(C.item))return De._createOn(C.item);if(this.checkChild(C.nextPosition,"$text"))return new De(C.nextPosition)}return null}findAllowedParent(e,s){let a=e.parent;for(;a;){if(this.checkChild(a,s))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(e,s,a){const d=a.model;for(const[p,b]of Object.entries(s))d.schema.checkAttribute(e,p)&&a.setAttribute(p,b,e)}removeDisallowedAttributes(e,s){for(const a of e)if(a.is("$text"))Fh(this,a,s);else{const d=De._createIn(a).getPositions();for(const p of d)Fh(this,p.nodeBefore||p.parent,s)}}getAttributesWithProperty(e,s,a){const d={};for(const[p,b]of e.getAttributes()){const v=this.getAttributeProperties(p);v[s]!==void 0&&(a!==void 0&&a!==v[s]||(d[p]=b))}return d}createContext(e){return new xa(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},s=this._sourceDefinitions,a=Object.keys(s);for(const d of a)e[d]=g1(s[d],d);for(const d of a)y1(e,d);for(const d of a)Lh(e,d);for(const d of a)b1(e,d);for(const d of a)zv(e,d),Gt(e,d);for(const d of a)Ty(e,d),Yp(e,d),Iy(e,d);this._compiledDefinitions=e}_checkContextMatch(e,s,a=s.length-1){const d=s.getItem(a);if(e.allowIn.includes(d.name)){if(a==0)return!0;{const p=this.getDefinition(d);return this._checkContextMatch(p,s,a-1)}}return!1}*_getValidRangesForRange(e,s){let a=e.start,d=e.start;for(const p of e.getItems({shallow:!0}))p.is("element")&&(yield*this._getValidRangesForRange(De._createIn(p),s)),this.checkAttribute(p,s)||(a.isEqual(d)||(yield new De(a,d)),a=qe._createAfter(p)),d=qe._createAfter(p);a.isEqual(d)||(yield new De(a,d))}}class xa{constructor(e){if(e instanceof xa)return e;let s;s=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=s.map(zh)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const s=new xa([e]);return s._items=[...this._items,...s._items],s}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function g1(c,e){const s={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,d){for(const p of a){const b=Object.keys(p).filter(v=>v.startsWith("is"));for(const v of b)d[v]=!!p[v]}}(c,s),kl(c,s,"allowIn"),kl(c,s,"allowContentOf"),kl(c,s,"allowWhere"),kl(c,s,"allowAttributes"),kl(c,s,"allowAttributesOf"),kl(c,s,"allowChildren"),kl(c,s,"inheritTypesFrom"),function(a,d){for(const p of a){const b=p.inheritAllFrom;b&&(d.allowContentOf.push(b),d.allowWhere.push(b),d.allowAttributesOf.push(b),d.inheritTypesFrom.push(b))}}(c,s),s}function y1(c,e){const s=c[e];for(const a of s.allowChildren){const d=c[a];d&&d.allowIn.push(e)}s.allowChildren.length=0}function Lh(c,e){for(const s of c[e].allowContentOf)c[s]&&Ry(c,s).forEach(a=>{a.allowIn.push(e)});delete c[e].allowContentOf}function b1(c,e){for(const s of c[e].allowWhere){const a=c[s];if(a){const d=a.allowIn;c[e].allowIn.push(...d)}}delete c[e].allowWhere}function zv(c,e){for(const s of c[e].allowAttributesOf){const a=c[s];if(a){const d=a.allowAttributes;c[e].allowAttributes.push(...d)}}delete c[e].allowAttributesOf}function Gt(c,e){const s=c[e];for(const a of s.inheritTypesFrom){const d=c[a];if(d){const p=Object.keys(d).filter(b=>b.startsWith("is"));for(const b of p)b in s||(s[b]=d[b])}}delete s.inheritTypesFrom}function Ty(c,e){const s=c[e],a=s.allowIn.filter(d=>c[d]);s.allowIn=Array.from(new Set(a))}function Yp(c,e){const s=c[e];for(const a of s.allowIn)c[a].allowChildren.push(e)}function Iy(c,e){const s=c[e];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function kl(c,e,s){for(const a of c){const d=a[s];typeof d=="string"?e[s].push(d):Array.isArray(d)&&e[s].push(...d)}}function Ry(c,e){const s=c[e];return(a=c,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(s.name));var a}function zh(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function Fh(c,e,s){for(const a of e.getAttributeKeys())c.checkAttribute(e,a)||s.removeAttribute(a,e)}var ru=Object.defineProperty,Fv=Object.defineProperties,x1=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertySymbols,Uv=Object.prototype.hasOwnProperty,Gv=Object.prototype.propertyIsEnumerable,Vh=(c,e,s)=>e in c?ru(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;class jr extends te(){constructor(e){var s;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(s=((a,d)=>{for(var p in d||(d={}))Uv.call(d,p)&&Vh(a,p,d[p]);if(Vv)for(var p of Vv(d))Gv.call(d,p)&&Vh(a,p,d[p]);return a})({},e),Fv(s,x1({consumable:null,writer:null,store:null,convertItem:(a,d)=>this._convertItem(a,d),convertChildren:(a,d)=>this._convertChildren(a,d),safeInsert:(a,d)=>this._safeInsert(a,d),updateConversionResult:(a,d)=>this._updateConversionResult(a,d),splitToAllowedParent:(a,d)=>this._splitToAllowedParent(a,d),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(e,s,a=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(b,v){let C;for(const j of new xa(b)){const E={};for(const L of j.getAttributeKeys())E[L]=j.getAttribute(L);const I=v.createElement(j.name,E);C&&v.insert(I,C),C=qe._createAt(I,0)}return C}(a,s),this.conversionApi.writer=s,this.conversionApi.consumable=tu.createFrom(e),this.conversionApi.store={};const{modelRange:d}=this._convertItem(e,this._modelCursor),p=s.createDocumentFragment();if(d){this._removeEmptyElements();for(const b of Array.from(this._modelCursor.parent.getChildren()))s.append(b,p);p.markers=function(b,v){const C=new Set,j=new Map,E=De._createIn(b).getItems();for(const I of E)I.is("element","$marker")&&C.add(I);for(const I of C){const L=I.getAttribute("data-name"),H=v.createPositionBefore(I);j.has(L)?j.get(L).end=H.clone():j.set(L,new De(H.clone())),v.remove(I)}return j}(p,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,p}_convertItem(e,s){const a={viewItem:e,modelCursor:s,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,a,this.conversionApi):e.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof De))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(e,s){let a=s.is("position")?s:qe._createAt(s,0);const d=new De(a);for(const p of Array.from(e.getChildren())){const b=this._convertItem(p,a);b.modelRange instanceof De&&(d.end=b.modelRange.end,a=b.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(e,s){const a=this._splitToAllowedParent(e,s);return!!a&&(this.conversionApi.writer.insert(e,a.position),!0)}_updateConversionResult(e,s){const a=this._getSplitParts(e),d=this.conversionApi.writer;s.modelRange||(s.modelRange=d.createRange(d.createPositionBefore(e),d.createPositionAfter(a[a.length-1])));const p=this._cursorParents.get(e);s.modelCursor=p?d.createPositionAt(p,0):s.modelRange.end}_splitToAllowedParent(e,s){const{schema:a,writer:d}=this.conversionApi;let p=a.findAllowedParent(s,e);if(p){if(p===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(p)&&(p=null)}if(!p)return Vp(s,e,a)?{position:Iv(s,d)}:null;const b=this.conversionApi.writer.split(s,p),v=[];for(const j of b.range.getWalker())if(j.type=="elementEnd")v.push(j.item);else{const E=v.pop(),I=j.item;this._registerSplitPair(E,I)}const C=b.range.end.parent;return this._cursorParents.set(e,C),{position:b.position,cursorParent:C}}_registerSplitPair(e,s){this._splitParts.has(e)||this._splitParts.set(e,[e]);const a=this._splitParts.get(e);this._splitParts.set(s,a),a.push(s)}_getSplitParts(e){let s;return s=this._splitParts.has(e)?this._splitParts.get(e):[e],s}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),e=!0);e&&this._removeEmptyElements()}}class Py{getHtml(e){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(e),s.innerHTML}}class rs{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new yl(e,{renderingMode:"data"}),this.htmlWriter=new Py}toData(e){const s=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(s)}toView(e){const s=this._toDom(e);return this.domConverter.domToView(s,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const s=this.domParser.parseFromString(e,"text/html"),a=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class v1 extends te(){constructor(e,s){super(),this.model=e,this.mapper=new Ih,this.downcastDispatcher=new Os({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const b=p.writer,v=p.mapper.toViewPosition(d.range.start),C=b.createText(d.item.data);b.insert(v,C)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,d,p)=>{p.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||p.convertChildren(d.item)},{priority:"lowest"}),this.upcastDispatcher=new jr({schema:e.schema}),this.viewDocument=new fc(s),this.stylesProcessor=s,this.htmlProcessor=new rs(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new zn(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:p,consumable:b,writer:v})=>{let C=d.modelCursor;if(!b.test(d.viewItem))return;if(!p.checkChild(C,"$text")){if(!Vp(C,"$text",p)||d.viewItem.data.trim().length==0)return;const E=C.nodeBefore;C=Iv(C,v),E&&E.is("element","$marker")&&(v.move(v.createRangeOn(E),C),C=v.createPositionAfter(E))}b.consume(d.viewItem);const j=v.createText(d.viewItem.data);v.insert(j,C),d.modelRange=v.createRange(C,C.getShiftedBy(j.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:b,modelCursor:v}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=b,d.modelCursor=v}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:b,modelCursor:v}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=b,d.modelCursor=v}},{priority:"lowest"}),st().prototype.decorate.call(this,"init"),st().prototype.decorate.call(this,"set"),st().prototype.decorate.call(this,"get"),st().prototype.decorate.call(this,"toView"),st().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Nr)},{priority:"lowest"})}get(e={}){const{rootName:s="main",trim:a="empty"}=e;if(!this._checkIfRootsExists([s]))throw new B("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(s);return d.isAttached()||W("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,e):""}stringify(e,s={}){const a=this.toView(e,s);return this.processor.toData(a)}toView(e,s={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const p=De._createIn(e),b=new Vr(a);this.mapper.bindElements(e,b);const v=e.is("documentFragment")?e.markers:function(C){const j=[],E=C.root.document;if(!E)return new Map;const I=De._createIn(C);for(const L of E.model.markers){const H=L.getRange(),K=H.isCollapsed,$=H.start.isEqual(I.start)||H.end.isEqual(I.end);if(K&&$)j.push([L.name,H]);else{const ce=I.getIntersection(H);ce&&j.push([L.name,ce])}}return j.sort(([L,H],[K,$])=>{if(H.end.compareWith($.start)!=="after")return 1;if(H.start.compareWith($.end)!=="before")return-1;switch(H.start.compareWith($.start)){case"before":return 1;case"after":return-1;default:switch(H.end.compareWith($.end)){case"before":return 1;case"after":return-1;default:return K.localeCompare(L)}}}),new Map(j)}(e);return this.downcastDispatcher.convert(p,v,d,s),b}init(e){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const d of Object.keys(s)){const p=this.model.document.getRoot(d);a.insert(this.parse(s[d],p),p,0)}}),Promise.resolve()}set(e,s={}){let a={};if(typeof e=="string"?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},d=>{d.setSelection(null),d.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const p of Object.keys(a)){const b=this.model.document.getRoot(p);d.remove(d.createRangeIn(b)),d.insert(this.parse(a[p],b),b,0)}})}parse(e,s="$root"){const a=this.processor.toView(e);return this.toModel(a,s)}toModel(e,s="$root"){return this.model.change(a=>this.upcastDispatcher.convert(e,a,s))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const s of e)if(!this.model.document.getRoot(s))return!1;return!0}}class Oy{constructor(e,s){this._helpers=new Map,this._downcast=bn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=bn(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,s){const a=this._downcast.includes(s);if(!this._upcast.includes(s)&&!a)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[s],isDowncast:a})}for(e){if(!this._helpers.has(e))throw new B("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:s,view:a}of Uh(e))this.for("upcast").elementToElement({model:s,view:a,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:s,view:a}of Uh(e))this.for("upcast").elementToAttribute({view:a,model:s,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:s,view:a}of Uh(e))this.for("upcast").attributeToAttribute({view:a,model:s})}_createConversionHelpers({name:e,dispatchers:s,isDowncast:a}){if(this._helpers.has(e))throw new B("conversion-group-exists",this);const d=a?new Dv(s):new Hp(s);this._helpers.set(e,d)}}function*Uh(c){if(c.model.values)for(const e of c.model.values){const s={key:c.model.key,value:e},a=c.view[e],d=c.upcastAlso?c.upcastAlso[e]:void 0;yield*Gh(s,a,d)}else yield*Gh(c.model,c.view,c.upcastAlso)}function*Gh(c,e,s){if(yield{model:c,view:e},s)for(const a of bn(s))yield{model:c,view:a}}class zs{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,s){return new this(e.baseVersion)}}function Wp(c,e){const s=Hv(e),a=s.reduce((b,v)=>b+v.offsetSize,0),d=c.parent;Hh(c);const p=c.index;return d._insertChild(p,s),nu(d,p+s.length),nu(d,p),new De(c,c.getShiftedBy(a))}function Kp(c){if(!c.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const e=c.start.parent;Hh(c.start),Hh(c.end);const s=e._removeChildren(c.start.index,c.end.index-c.start.index);return nu(e,c.start.index),s}function Cc(c,e){if(!c.isFlat)throw new B("operation-utils-move-range-not-flat",this);const s=Kp(c);return Wp(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),s)}function Hv(c){const e=[];(function s(a){if(typeof a=="string")e.push(new yr(a));else if(a instanceof Dn)e.push(new yr(a.data,a.getAttributes()));else if(a instanceof Ps)e.push(a);else if(Dr(a))for(const d of a)s(d)})(c);for(let s=1;s<e.length;s++){const a=e[s],d=e[s-1];a instanceof yr&&d instanceof yr&&By(a,d)&&(e.splice(s-1,2,new yr(d.data+a.data,d.getAttributes())),s--)}return e}function nu(c,e){const s=c.getChild(e-1),a=c.getChild(e);if(s&&a&&s.is("$text")&&a.is("$text")&&By(s,a)){const d=new yr(s.data+a.data,s.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,d)}}function Hh(c){const e=c.textNode,s=c.parent;if(e){const a=c.offset-e.startOffset,d=e.index;s._removeChildren(d,1);const p=new yr(e.data.substr(0,a),e.getAttributes()),b=new yr(e.data.substr(a),e.getAttributes());s._insertChild(d,[p,b])}}function By(c,e){const s=c.getAttributes(),a=e.getAttributes();for(const d of s){if(d[1]!==e.getAttribute(d[0]))return!1;a.next()}return a.next().done}class lr extends zs{constructor(e,s,a,d){super(d),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[De._createFromPositionAndShift(this.sourcePosition,this.howMany),De._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new lr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new lr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,s=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>e.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(e===s&&a<d&&d<a+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&zr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const p=this.sourcePosition.path.length-1;if(this.targetPosition.path[p]>=a&&this.targetPosition.path[p]<a+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){Cc(De._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,s){const a=qe.fromJSON(e.sourcePosition,s),d=qe.fromJSON(e.targetPosition,s);return new this(a,e.howMany,d,e.baseVersion)}}class Un extends zs{constructor(e,s,a){super(a),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Mi(Hv(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Mi([...this.nodes].map(a=>a._clone(!0))),s=new Un(this.position,e,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const e=this.position.root.document.graveyard,s=new qe(e,[0]);return new lr(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Mi([...e].map(s=>s._clone(!0))),Wp(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,s){const a=[];for(const p of e.nodes)p.name?a.push(yt.fromJSON(p)):a.push(yr.fromJSON(p));const d=new Un(qe.fromJSON(e.position,s),a,e.baseVersion);return d.shouldReceiveAttributes=e.shouldReceiveAttributes,d}}class Xt extends zs{constructor(e,s,a,d,p){super(p),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new qe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new De(this.splitPosition,e)}get affectedSelectable(){const e=[De._createFromPositionAndShift(this.splitPosition,0),De._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(De._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Xt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,s=new qe(e,[0]);return new Yr(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,s=this.splitPosition.offset;if(!e||e.maxOffset<s)throw new B("split-operation-position-invalid",this);if(!e.parent)throw new B("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Cc(De._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=e._clone();Wp(this.insertionPosition,s)}Cc(new De(qe._createAt(e,this.splitPosition.offset),qe._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const s=e.path.slice(0,-1);return s[s.length-1]++,new qe(e.root,s,"toPrevious")}static fromJSON(e,s){const a=qe.fromJSON(e.splitPosition,s),d=qe.fromJSON(e.insertionPosition,s),p=e.graveyardPosition?qe.fromJSON(e.graveyardPosition,s):null;return new this(a,e.howMany,d,p,e.baseVersion)}}class Yr extends zs{constructor(e,s,a,d,p){super(p),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new qe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new De(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[De._createOn(e),De._createFromPositionAndShift(this.targetPosition,0),De._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Yr(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),a=new qe(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new Xt(e,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,s=this.targetPosition.parent;if(!e.parent)throw new B("merge-operation-source-position-invalid",this);if(!s.parent)throw new B("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new B("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Cc(De._createIn(e),this.targetPosition),Cc(De._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,s){const a=qe.fromJSON(e.sourcePosition,s),d=qe.fromJSON(e.targetPosition,s),p=qe.fromJSON(e.graveyardPosition,s);return new this(a,e.howMany,d,p,e.baseVersion)}}class ys extends zs{constructor(e,s,a,d,p,b){super(b),this.name=e,this.oldRange=s?s.clone():null,this.newRange=a?a.clone():null,this.affectsData=p,this._markers=d}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new ys(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ys(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,s){return new ys(e.name,e.oldRange?De.fromJSON(e.oldRange,s):null,e.newRange?De.fromJSON(e.newRange,s):null,s.model.markers,e.affectsData,e.baseVersion)}}const qv=function(c,e){return bc(c,e)};class rn extends zs{constructor(e,s,a,d,p){super(p),this.range=e.clone(),this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new rn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new rn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!qv(e.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){qv(this.oldValue,this.newValue)||function(e,s,a){Hh(e.start),Hh(e.end);for(const d of e.getItems({shallow:!0})){const p=d.is("$textProxy")?d.textNode:d;a!==null?p._setAttribute(s,a):p._removeAttribute(s),nu(p.parent,p.index)}nu(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,s){return new rn(De.fromJSON(e.range,s),e.key,e.oldValue,e.newValue,e.baseVersion)}}class nn extends zs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new nn(this.baseVersion)}getReversed(){return new nn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Fs extends zs{constructor(e,s,a,d){super(d),this.position=e,this.position.stickiness="toNext",this.oldName=s,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Fs(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Fs(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof yt))throw new B("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,s){return new Fs(qe.fromJSON(e.position,s),e.oldName,e.newName,e.baseVersion)}}class Mn extends zs{constructor(e,s,a,d,p){super(p),this.root=e,this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Mn(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Mn(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,s){if(!s.getRoot(e.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Mn(s.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class So extends zs{constructor(e,s,a,d,p){super(p),this.rootName=e,this.elementName=s,this.isAdd=a,this._document=d,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new So(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new So(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,s){return new So(e.rootName,e.elementName,e.isAdd,s,e.baseVersion)}}const lo={};lo[rn.className]=rn,lo[Un.className]=Un,lo[ys.className]=ys,lo[lr.className]=lr,lo[nn.className]=nn,lo[zs.className]=zs,lo[Fs.className]=Fs,lo[Mn.className]=Mn,lo[So.className]=So,lo[Xt.className]=Xt,lo[Yr.className]=Yr;class Yv{static fromJSON(e,s){return lo[e.__className].fromJSON(e,s)}}const _c=new Map;function Nt(c,e,s){let a=_c.get(c);a||(a=new Map,_c.set(c,a)),a.set(e,s)}function Wv(c){return[c]}function qh(c,e,s={}){const a=function(d,p){const b=_c.get(d);return b&&b.has(p)?b.get(p):Wv}(c.constructor,e.constructor);try{return a(c=c.clone(),e,s)}catch(d){throw d}}function va(c,e,s){c=c.slice(),e=e.slice();const a=new w1(s.document,s.useRelations,s.forceWeakRemove);a.setOriginalOperations(c),a.setOriginalOperations(e);const d=a.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:d};const p=new WeakMap;for(const C of c)p.set(C,0);const b={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let v=0;for(;v<c.length;){const C=c[v],j=p.get(C);if(j==e.length){v++;continue}const E=e[j],I=qh(C,E,a.getContext(C,E,!0)),L=qh(E,C,a.getContext(E,C,!1));a.updateRelation(C,E),a.setOriginalOperations(I,C),a.setOriginalOperations(L,E);for(const H of I)p.set(H,j+L.length);c.splice(v,1,...I),e.splice(j,1,...L)}return Kv(c,b.nextBaseVersionB),Kv(e,b.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:d}}class w1{constructor(e,s,a=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=s,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(e,s=null){const a=s?this.originalOperations.get(s):null;for(const d of e)this.originalOperations.set(d,a||d)}updateRelation(e,s){if(e instanceof lr)s instanceof Yr?e.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,s,"insertAtSource"):e.targetPosition.isEqual(s.deletionPosition)?this._setRelation(e,s,"insertBetween"):e.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(e,s,"moveTargetAfter"):s instanceof lr&&(e.targetPosition.isEqual(s.sourcePosition)||e.targetPosition.isBefore(s.sourcePosition)?this._setRelation(e,s,"insertBefore"):this._setRelation(e,s,"insertAfter"));else if(e instanceof Xt){if(s instanceof Yr)e.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(e,s,"splitBefore");else if(s instanceof lr)if(e.splitPosition.isEqual(s.sourcePosition)||e.splitPosition.isBefore(s.sourcePosition))this._setRelation(e,s,"splitBefore");else{const a=De._createFromPositionAndShift(s.sourcePosition,s.howMany);if(e.splitPosition.hasSameParentAs(s.sourcePosition)&&a.containsPosition(e.splitPosition)){const d=a.end.offset-e.splitPosition.offset,p=e.splitPosition.offset-a.start.offset;this._setRelation(e,s,{howMany:d,offset:p})}}}else if(e instanceof Yr)s instanceof Yr?(e.targetPosition.isEqual(s.sourcePosition)||this._setRelation(e,s,"mergeTargetNotMoved"),e.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(e,s,"mergeSourceNotMoved"),e.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(e,s,"mergeSameElement")):s instanceof Xt&&e.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(e,s,"splitAtSource");else if(e instanceof ys){const a=e.newRange;if(!a)return;if(s instanceof lr){const d=De._createFromPositionAndShift(s.sourcePosition,s.howMany),p=d.containsPosition(a.start)||d.start.isEqual(a.start),b=d.containsPosition(a.end)||d.end.isEqual(a.end);!p&&!b||d.containsRange(a)||this._setRelation(e,s,{side:p?"left":"right",path:p?a.start.path.slice():a.end.path.slice()})}else if(s instanceof Yr){const d=a.start.isEqual(s.targetPosition),p=a.start.isEqual(s.deletionPosition),b=a.end.isEqual(s.deletionPosition),v=a.end.isEqual(s.sourcePosition);(d||p||b||v)&&this._setRelation(e,s,{wasInLeftElement:d,wasStartBeforeMergedElement:p,wasEndBeforeMergedElement:b,wasInRightElement:v})}}}getContext(e,s,a){return{aIsStrong:a,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(e,s):null,baRelation:this._useRelations?this._getRelation(s,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const s=this.originalOperations.get(e);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(e,s){const a=this.originalOperations.get(s),d=this._history.getUndoneOperation(a);if(!d)return null;const p=this.originalOperations.get(e),b=this._relations.get(p);return b&&b.get(d)||null}_setRelation(e,s,a){const d=this.originalOperations.get(e),p=this.originalOperations.get(s);let b=this._relations.get(d);b||(b=new Map,this._relations.set(d,b)),b.set(p,a)}}function Kv(c,e){for(const s of c)s.baseVersion=e++}function Ac(c,e,s){const a=c.nodes.getNode(0).getAttribute(e);if(a==s)return null;const d=new De(c.position,c.position.getShiftedBy(c.howMany));return new rn(d,e,a,s,0)}function Ly(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function su(c,e){const s=[];for(let a=0;a<c.length;a++){const d=c[a],p=new lr(d.start,d.end.offset-d.start.offset,e,0);s.push(p);for(let b=a+1;b<c.length;b++)c[b]=c[b]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)[0];e=e._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)}return s}Nt(rn,rn,(c,e,s)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const a=c.range.getDifference(e.range).map(p=>new rn(p,c.key,c.oldValue,c.newValue,0)),d=c.range.getIntersection(e.range);return d&&s.aIsStrong&&a.push(new rn(d,e.key,e.newValue,c.newValue,0)),a.length==0?[new nn(0)]:a}return[c]}),Nt(rn,Un,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const s=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(a=>new rn(a,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const a=Ac(e,c.key,c.oldValue);a&&s.unshift(a)}return s}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),Nt(rn,Yr,(c,e)=>{const s=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&s.push(De._createFromPositionAndShift(e.graveyardPosition,1));const a=c.range._getTransformedByMergeOperation(e);return a.isCollapsed||s.push(a),s.map(d=>new rn(d,c.key,c.oldValue,c.newValue,c.baseVersion))}),Nt(rn,lr,(c,e)=>function(a,d){const p=De._createFromPositionAndShift(d.sourcePosition,d.howMany);let b=null,v=[];p.containsRange(a,!0)?b=a:a.start.hasSameParentAs(p.start)?(v=a.getDifference(p),b=a.getIntersection(p)):v=[a];const C=[];for(let j of v){j=j._getTransformedByDeletion(d.sourcePosition,d.howMany);const E=d.getMovedRangeStart(),I=j.start.hasSameParentAs(E),L=j._getTransformedByInsertion(E,d.howMany,I);C.push(...L)}return b&&C.push(b._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany,!1)[0]),C}(c.range,e).map(a=>new rn(a,c.key,c.oldValue,c.newValue,c.baseVersion))),Nt(rn,Xt,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const s=c.clone();return s.range=new De(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,s]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),Nt(Un,rn,(c,e)=>{const s=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const a=Ac(c,e.key,e.newValue);a&&s.push(a)}return s}),Nt(Un,Un,(c,e,s)=>(c.position.isEqual(e.position)&&s.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),Nt(Un,lr,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Nt(Un,Xt,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),Nt(Un,Yr,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),Nt(ys,Un,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),Nt(ys,ys,(c,e,s)=>{if(c.name==e.name){if(!s.aIsStrong)return[new nn(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),Nt(ys,Yr,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),Nt(ys,lr,(c,e,s)=>{if(c.oldRange&&(c.oldRange=De._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(s.abRelation){const a=De._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(s.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=a.end,c.newRange.start.path=s.abRelation.path,[c];if(s.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=a.start,c.newRange.end.path=s.abRelation.path,[c]}c.newRange=De._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),Nt(ys,Xt,(c,e,s)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(s.abRelation){const a=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?c.newRange.start=qe._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!s.abRelation.wasInLeftElement&&(c.newRange.start=qe._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&s.abRelation.wasInRightElement?c.newRange.end=qe._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?c.newRange.end=qe._createAt(e.insertionPosition):c.newRange.end=a.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),Nt(Yr,Un,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),Nt(Yr,Yr,(c,e,s)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(s.bWasUndone){const a=e.graveyardPosition.path.slice();return a.push(0),c.sourcePosition=new qe(e.graveyardPosition.root,a),c.howMany=0,[c]}return[new nn(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!s.bWasUndone&&s.abRelation!="splitAtSource"){const a=c.targetPosition.root.rootName=="$graveyard",d=e.targetPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=e.targetPosition._getTransformedByMergeOperation(e),b=c.targetPosition._getTransformedByMergeOperation(e);return[new lr(p,c.howMany,b,0)]}return[new nn(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&s.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Nt(Yr,lr,(c,e,s)=>{const a=De._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!s.bWasUndone&&!s.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.sourcePosition)?[new nn(0)]:(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),Nt(Yr,Xt,(c,e,s)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const a=e.howMany!=0,d=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(a||d||s.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(s.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(s.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),Nt(lr,Un,(c,e)=>{const s=De._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=s.start,c.howMany=s.end.offset-s.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),Nt(lr,lr,(c,e,s)=>{const a=De._createFromPositionAndShift(c.sourcePosition,c.howMany),d=De._createFromPositionAndShift(e.sourcePosition,e.howMany);let p,b=s.aIsStrong,v=!s.aIsStrong;if(s.abRelation=="insertBefore"||s.baRelation=="insertAfter"?v=!0:s.abRelation!="insertAfter"&&s.baRelation!="insertBefore"||(v=!1),p=c.targetPosition.isEqual(e.targetPosition)&&v?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ly(c,e)&&Ly(e,c))return[e.getReversed()];if(a.containsPosition(e.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),su([a],p);if(d.containsPosition(c.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),a.end=a.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),su([a],p);const C=zr(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(C=="prefix"||C=="extension")return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),su([a],p);c.type!="remove"||e.type=="remove"||s.aWasUndone||s.forceWeakRemove?c.type=="remove"||e.type!="remove"||s.bWasUndone||s.forceWeakRemove||(b=!1):b=!0;const j=[],E=a.getDifference(d);for(const L of E){L.start=L.start._getTransformedByDeletion(e.sourcePosition,e.howMany),L.end=L.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const H=zr(L.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",K=L._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,H);j.push(...K)}const I=a.getIntersection(d);return I!==null&&b&&(I.start=I.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),I.end=I.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),j.length===0?j.push(I):j.length==1?d.start.isBefore(a.start)||d.start.isEqual(a.start)?j.unshift(I):j.push(I):j.splice(1,0,I)),j.length===0?[new nn(c.baseVersion)]:su(j,p)}),Nt(lr,Xt,(c,e,s)=>{let a=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&s.abRelation!="moveTargetAfter"||(a=c.targetPosition._getTransformedBySplitOperation(e));const d=De._createFromPositionAndShift(c.sourcePosition,c.howMany);if(d.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=a,[c];if(d.start.hasSameParentAs(e.splitPosition)&&d.containsPosition(e.splitPosition)){let b=new De(e.splitPosition,d.end);return b=b._getTransformedBySplitOperation(e),su([new De(d.start,e.splitPosition),b],a)}c.targetPosition.isEqual(e.splitPosition)&&s.abRelation=="insertAtSource"&&(a=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&s.abRelation=="insertBetween"&&(a=c.targetPosition);const p=[d._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const b=d.start.isEqual(e.graveyardPosition)||d.containsPosition(e.graveyardPosition);c.howMany>1&&b&&!s.aWasUndone&&p.push(De._createFromPositionAndShift(e.insertionPosition,1))}return su(p,a)}),Nt(lr,Yr,(c,e,s)=>{const a=De._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&a.containsPosition(e.sourcePosition)){if(c.type!="remove"||s.forceWeakRemove){if(c.howMany==1)return s.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new nn(0)]}else if(!s.aWasUndone){const p=[];let b=e.graveyardPosition.clone(),v=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(p.push(new lr(c.sourcePosition,c.howMany-1,c.targetPosition,0)),b=b._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),v=v._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const C=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),j=new lr(b,1,C,0),E=j.getMovedRangeStart().path.slice();E.push(0);const I=new qe(j.targetPosition.root,E);v=v._getTransformedByMove(b,C,1);const L=new lr(v,e.howMany,I,0);return p.push(j),p.push(L),p}}const d=De._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=d.start,c.howMany=d.end.offset-d.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),Nt(Fs,Un,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),Nt(Fs,Yr,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),Nt(Fs,lr,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Nt(Fs,Fs,(c,e,s)=>{if(c.position.isEqual(e.position)){if(!s.aIsStrong)return[new nn(0)];c.oldName=e.newName}return[c]}),Nt(Fs,Xt,(c,e)=>{if(zr(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const s=new Fs(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,s]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),Nt(Mn,Mn,(c,e,s)=>{if(c.root===e.root&&c.key===e.key){if(!s.aIsStrong||c.newValue===e.newValue)return[new nn(0)];c.oldValue=e.newValue}return[c]}),Nt(So,So,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new nn(0)]:[c]),Nt(Xt,Un,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),Nt(Xt,Yr,(c,e,s)=>{if(!c.graveyardPosition&&!s.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const a=e.graveyardPosition.path.slice();a.push(0);const d=new qe(e.graveyardPosition.root,a),p=Xt.getInsertionPosition(new qe(e.graveyardPosition.root,a)),b=new Xt(d,0,p,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=Xt.getInsertionPosition(c.splitPosition),c.graveyardPosition=b.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[b,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=Xt.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Nt(Xt,lr,(c,e,s)=>{const a=De._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const p=a.start.isEqual(c.graveyardPosition)||a.containsPosition(c.graveyardPosition);if(!s.bWasUndone&&p){const b=c.splitPosition._getTransformedByMoveOperation(e),v=c.graveyardPosition._getTransformedByMoveOperation(e),C=v.path.slice();C.push(0);const j=new qe(v.root,C);return[new lr(b,c.howMany,j,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const d=c.splitPosition.isEqual(e.targetPosition);if(d&&(s.baRelation=="insertAtSource"||s.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=Xt.getInsertionPosition(c.splitPosition),[c];if(d&&s.abRelation&&s.abRelation.howMany){const{howMany:p,offset:b}=s.abRelation;return c.howMany+=p,c.splitPosition=c.splitPosition.getShiftedBy(b),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.splitPosition)){const p=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=p,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=Xt.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=Xt.getInsertionPosition(c.splitPosition),[c]}),Nt(Xt,Xt,(c,e,s)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new nn(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new nn(0)];if(s.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const a=c.splitPosition.root.rootName=="$graveyard",d=e.splitPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=[];return e.howMany&&p.push(new lr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&p.push(new lr(c.splitPosition,c.howMany,c.moveTargetPosition,0)),p}return[new nn(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&s.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&s.baRelation=="splitBefore"){const a=e.insertionPosition.path.slice();a.push(0);const d=new qe(e.insertionPosition.root,a);return[c,new lr(c.insertionPosition,1,d,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=Xt.getInsertionPosition(c.splitPosition),[c]});class ns extends te(qe){constructor(e,s,a="toNone"){if(super(e,s,a),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",e);k1.call(this)}detach(){this.stopListening()}toPosition(){return new qe(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,s){return new this(e.root,e.path.slice(),s||e.stickiness)}}function k1(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const s=e[0];s.isDocumentOperation&&C1.call(this,s)},{priority:"low"})}function C1(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const s=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",s)}}ns.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class ou{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},W("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:a=!0,isUndo:d=!1,isTyping:p=!1}=e;this.operations=[],this.isUndoable=s,this.isLocal=a,this.isUndo=d,this.isTyping=p}get type(){return W("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var _1=Object.defineProperty,A1=Object.defineProperties,Qv=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,Yh=Object.prototype.hasOwnProperty,Jv=Object.prototype.propertyIsEnumerable,Xv=(c,e,s)=>e in c?_1(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,jc=(c,e)=>{for(var s in e||(e={}))Yh.call(e,s)&&Xv(c,s,e[s]);if(Nc)for(var s of Nc(e))Jv.call(e,s)&&Xv(c,s,e[s]);return c};class Wh{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const s=e;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of s.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const a=this._isInInsertedElement(s.sourcePosition.parent),d=this._isInInsertedElement(s.targetPosition.parent);a||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),d||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const a=De._createFromPositionAndShift(s.position,1);for(const d of this._markerCollection.getMarkersIntersectingRange(a)){const p=d.getData();this.bufferMarkerChange(d.name,p,p)}break}case"split":{const a=s.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const a=s.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const d=s.graveyardPosition.parent;this._markInsert(d,s.graveyardPosition.offset,1);const p=s.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,s.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=s.affectedSelectable;if(!a._isLoaded||a.isAttached()==s.isAdd)return;this._bufferRootStateChange(s.rootName,s.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!s.root._isLoaded)return;const a=s.root.rootName;this._bufferRootAttributeChange(a,s.key,s.oldValue,s.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,s,a){s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let d=this._changedMarkers.get(e);d?d.newMarkerData=a:(d={newMarkerData:a,oldMarkerData:s},this._changedMarkers.set(e,d)),d.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[s,a]of this._changedMarkers)a.oldMarkerData.range!=null&&e.push({name:s,range:a.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[s,a]of this._changedMarkers)a.newMarkerData.range!=null&&e.push({name:s,range:a.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,s])=>({name:e,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:s}of this._changedMarkers.values()){if(e.affectsData!==s.affectsData)return!0;if(e.affectsData){const a=e.range&&!s.range,d=!e.range&&s.range,p=e.range&&s.range&&!e.range.isEqual(s.range);if(a||d||p)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((E,I)=>E.offset===I.offset?E.type!=I.type?E.type=="remove"?-1:1:0:E.offset<I.offset?-1:1),p=this._elementSnapshots.get(a),b=zy(a.getChildren()),v=Qp(p.length,d);let C=0,j=0;for(const E of v)if(E==="i")s.push(this._getInsertDiff(a,C,b[C])),C++;else if(E==="r")s.push(this._getRemoveDiff(a,C,p[j])),j++;else if(E==="a"){const I=b[C].attributes,L=p[j].attributes;let H;if(b[C].name=="$text")H=new De(qe._createAt(a,C),qe._createAt(a,C+1));else{const K=a.offsetToIndex(C);H=new De(qe._createAt(a,C),qe._createAt(a.getChild(K),0))}s.push(...this._getAttributesDiff(H,L,I)),C++,j++}else C++,j++}s.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<s.length;a++){const p=s[d],b=s[a],v=p.type=="remove"&&b.type=="remove"&&p.name=="$text"&&b.name=="$text"&&p.position.isEqual(b.position),C=p.type=="insert"&&b.type=="insert"&&p.name=="$text"&&b.name=="$text"&&p.position.parent==b.position.parent&&p.position.offset+p.length==b.position.offset,j=p.type=="attribute"&&b.type=="attribute"&&p.position.parent==b.position.parent&&p.range.isFlat&&b.range.isFlat&&p.position.offset+p.length==b.position.offset&&p.attributeKey==b.attributeKey&&p.attributeOldValue==b.attributeOldValue&&p.attributeNewValue==b.attributeNewValue;v||C||j?(p.length++,j&&(p.range.end=p.range.end.getShiftedBy(1)),s[a]=null):d=a}s=s.filter(a=>a);for(const a of s)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(Fy),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const s=jc({},e);return s.state!==void 0&&delete s.attributes,s})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,s){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:s?"attached":"detached"});const a=this._changedRoots.get(e);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(e)):a.state=s?"attached":"detached"}_bufferRootAttributeChange(e,s,a,d){const p=this._changedRoots.get(e)||{name:e},b=p.attributes||{};if(b[s]){const v=b[s];d===v.oldValue?delete b[s]:v.newValue=d}else b[s]={oldValue:a,newValue:d};Object.entries(b).length===0?(delete p.attributes,p.state===void 0&&this._changedRoots.delete(e)):(p.attributes=b,this._changedRoots.set(e,p))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const s=De._createOn(e);for(const a of this._markerCollection.getMarkersIntersectingRange(s)){const d=a.getData();this.bufferMarkerChange(a.name,d,d)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const a of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,a,null,e.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==e){const d=a.getData();this.bufferMarkerChange(a.name,(s=jc({},d),A1(s,Qv({range:null}))),d)}var s}}_markInsert(e,s,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const d={type:"insert",offset:s,howMany:a,count:this._changeCount++};this._markChange(e,d)}_markRemove(e,s,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const d={type:"remove",offset:s,howMany:a,count:this._changeCount++};this._markChange(e,d),this._removeAllNestedChanges(e,s,a)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,s)}_markChange(e,s){this._makeSnapshot(e);const a=this._getChangesForElement(e);this._handleChange(s,a),a.push(s);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(e){let s;return this._changesInElement.has(e)?s=this._changesInElement.get(e):(s=[],this._changesInElement.set(e,s)),s}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,zy(e.getChildren()))}_handleChange(e,s){e.nodesToHandle=e.howMany;for(const a of s){const d=e.offset+e.howMany,p=a.offset+a.howMany;if(e.type=="insert"&&(a.type=="insert"&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<p&&(a.howMany+=e.nodesToHandle,e.nodesToHandle=0)),a.type=="remove"&&e.offset<a.offset&&(a.offset+=e.howMany),a.type=="attribute")){if(e.offset<=a.offset)a.offset+=e.howMany;else if(e.offset<p){const b=a.howMany;a.howMany=e.offset-a.offset,s.unshift({type:"attribute",offset:d,howMany:b-a.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(a.type=="insert"){if(d<=a.offset)a.offset-=e.howMany;else if(d<=p)if(e.offset<a.offset){const b=d-a.offset;a.offset=e.offset,a.howMany-=b,e.nodesToHandle-=b}else a.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=a.offset)e.nodesToHandle-=a.howMany,a.howMany=0;else if(e.offset<p){const b=p-e.offset;a.howMany-=b,e.nodesToHandle-=b}}if(a.type=="remove"&&(d<=a.offset?a.offset-=e.howMany:e.offset<a.offset&&(e.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(d<=a.offset)a.offset-=e.howMany;else if(e.offset<a.offset){const b=d-a.offset;a.offset=e.offset,a.howMany-=b}else if(e.offset<p)if(d<=p){const b=a.howMany;a.howMany=e.offset-a.offset;const v=b-a.howMany-e.nodesToHandle;s.unshift({type:"attribute",offset:e.offset,howMany:v,count:this._changeCount++})}else a.howMany-=p-e.offset}}if(e.type=="attribute"){if(a.type=="insert")if(e.offset<a.offset&&d>a.offset){if(d>p){const b={type:"attribute",offset:p,howMany:d-p,count:this._changeCount++};this._handleChange(b,s),s.push(b)}e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=a.offset&&e.offset<p&&(d>p?(e.nodesToHandle=d-p,e.offset=p):e.nodesToHandle=0);if(a.type=="remove"&&e.offset<a.offset&&d>a.offset){const b={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(b,s),s.push(b),e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}a.type=="attribute"&&(e.offset>=a.offset&&d<=p?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=a.offset&&d>=p&&(a.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,s,a){return{type:"insert",position:qe._createAt(e,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,s,a){return{type:"remove",position:qe._createAt(e,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,s,a){const d=[];a=new Map(a);for(const[p,b]of s){const v=a.has(p)?a.get(p):null;v!==b&&d.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:b,attributeNewValue:v,changeCount:this._changeCount++}),a.delete(p)}for(const[p,b]of a)d.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:b,changeCount:this._changeCount++});return d}_isInInsertedElement(e){const s=e.parent;if(!s)return!1;const a=this._changesInElement.get(s),d=e.startOffset;if(a){for(const p of a)if(p.type=="insert"&&d>=p.offset&&d<p.offset+p.howMany)return!0}return this._isInInsertedElement(s)}_removeAllNestedChanges(e,s,a){const d=new De(qe._createAt(e,s),qe._createAt(e,s+a));for(const p of d.getItems({shallow:!0}))p.is("element")&&(this._elementSnapshots.delete(p),this._changesInElement.delete(p),this._removeAllNestedChanges(p,0,p.maxOffset))}}function zy(c){const e=[];for(const s of c)if(s.is("$text"))for(let a=0;a<s.data.length;a++)e.push({name:"$text",attributes:new Map(s.getAttributes())});else e.push({name:s.name,attributes:new Map(s.getAttributes())});return e}function Qp(c,e){const s=[];let a=0,d=0;for(const p of e){if(p.offset>a){for(let b=0;b<p.offset-a;b++)s.push("e");d+=p.offset-a}if(p.type=="insert"){for(let b=0;b<p.howMany;b++)s.push("i");a=p.offset+p.howMany}else if(p.type=="remove"){for(let b=0;b<p.howMany;b++)s.push("r");a=p.offset,d+=p.howMany}else s.push(..."a".repeat(p.howMany).split("")),a=p.offset+p.howMany,d+=p.howMany}if(d<c)for(let p=0;p<c-d-a;p++)s.push("e");return s}function Fy(c){const e="position"in c&&c.position.root.rootName=="$graveyard",s="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!s}class Vy{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,s=this.version){if(!this._operations.length)return[];const a=this._operations[0];e===void 0&&(e=a.baseVersion);let d=s-1;for(const[v,C]of this._gaps)e>v&&e<C&&(e=C),d>v&&d<C&&(d=v-1);if(d<a.baseVersion||e>this.lastOperation.baseVersion)return[];let p=this._baseVersionToOperationIndex.get(e);p===void 0&&(p=0);let b=this._baseVersionToOperationIndex.get(d);return b===void 0&&(b=this._operations.length-1),this._operations.slice(p,b+1)}getOperation(e){const s=this._baseVersionToOperationIndex.get(e);if(s!==void 0)return this._operations[s]}setOperationAsUndone(e,s){this._undoPairs.set(s,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Sc extends yt{constructor(e,s,a="main"){super(s),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Sc.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var Zv=Object.defineProperty,$v=Object.defineProperties,N1=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,Kh=Object.prototype.hasOwnProperty,j1=Object.prototype.propertyIsEnumerable,e0=(c,e,s)=>e in c?Zv(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,t0=(c,e)=>{for(var s in e||(e={}))Kh.call(e,s)&&e0(c,s,e[s]);if(Uy)for(var s of Uy(e))j1.call(e,s)&&e0(c,s,e[s]);return c},Qh=(c,e)=>$v(c,N1(e));const Jh="$graveyard";class Gy extends te(){constructor(e){super(),this.model=e,this.history=new Vy,this.selection=new ao(this),this.roots=new As({idProperty:"rootName"}),this.differ=new Wh(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Jh),this.listenTo(e,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(e,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.history.addOperation(d)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(s,a,d,p,b)=>{const v=Qh(t0({},a.getData()),{range:p});this.differ.bufferMarkerChange(a.name,b,v),d===null&&a.on("change",(C,j)=>{const E=a.getData();this.differ.bufferMarkerChange(a.name,Qh(t0({},E),{range:j}),E)})}),this.registerPostFixer(s=>{let a=!1;for(const d of this.roots)d.isAttached()||d.isEmpty||(s.remove(s.createRangeIn(d)),a=!0);for(const d of this.model.markers)d.getRange().root.isAttached()||(s.removeMarker(d),a=!0);return a})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Jh)}createRoot(e="$root",s="main"){if(this.roots.get(s))throw new B("model-document-createroot-name-exists",this,{name:s});const a=new Sc(this,e,s);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(s=>s.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(s=>s!=this.graveyard&&(e||s.isAttached())&&s._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Pg(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),s=this.model,a=s.schema,d=s.createPositionFromPath(e,[0]);return a.getNearestSelectionRange(d)||s.createRange(d)}_validateSelectionRange(e){return r0(e.start)&&r0(e.end)}_callPostFixers(e){let s=!1;do for(const a of this._postFixers)if(this.selection.refresh(),s=a(e),s)break;while(s)}}function r0(c){const e=c.textNode;if(e){const s=e.data,a=c.offset-e.startOffset;return!Ei(s,a)&&!Xo(s,a)}return!0}var Xh=Object.defineProperty,S1=Object.defineProperties,n0=Object.getOwnPropertyDescriptors,Hy=Object.getOwnPropertySymbols,s0=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,Jp=(c,e,s)=>e in c?Xh(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;class i0 extends te(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const s=e instanceof wa?e.name:e;return this._markers.has(s)}get(e){return this._markers.get(e)||null}_set(e,s,a=!1,d=!1){const p=e instanceof wa?e.name:e;if(p.includes(","))throw new B("markercollection-incorrect-marker-name",this);const b=this._markers.get(p);if(b){const E=b.getData(),I=b.getRange();let L=!1;return I.isEqual(s)||(b._attachLiveRange(No.fromRange(s)),L=!0),a!=b.managedUsingOperations&&(b._managedUsingOperations=a,L=!0),typeof d=="boolean"&&d!=b.affectsData&&(b._affectsData=d,L=!0),L&&this.fire(`update:${p}`,b,I,s,E),b}const v=No.fromRange(s),C=new wa(p,v,a,d);var j;return this._markers.set(p,C),this.fire(`update:${p}`,C,null,s,(j=((E,I)=>{for(var L in I||(I={}))s0.call(I,L)&&Jp(E,L,I[L]);if(Hy)for(var L of Hy(I))o0.call(I,L)&&Jp(E,L,I[L]);return E})({},C.getData()),S1(j,n0({range:null})))),C}_remove(e){const s=e instanceof wa?e.name:e,a=this._markers.get(s);return!!a&&(this._markers.delete(s),this.fire(`update:${s}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(e){const s=e instanceof wa?e.name:e,a=this._markers.get(s);if(!a)throw new B("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire(`update:${s}`,a,d,d,a.getData())}*getMarkersAtPosition(e){for(const s of this)s.getRange().containsPosition(e)&&(yield s)}*getMarkersIntersectingRange(e){for(const s of this)s.getRange().getIntersection(e)!==null&&(yield s)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const s of this._markers.values())s.name.startsWith(e+":")&&(yield s)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class wa extends te(wn){constructor(e,s,a,d){super(),this.name=e,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}wa.prototype.is=function(c){return c==="marker"||c==="model:marker"};class E1 extends zs{constructor(e,s){super(null),this.sourcePosition=e.clone(),this.howMany=s}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){Kp(De._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ka extends wn{constructor(e){super(),this.markers=new Map,this._children=new Mi,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let s=this;for(const a of e)s=s.getChild(s.offsetToIndex(a));return s}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const s of this._children)e.push(s.toJSON());return e}static fromJSON(e){const s=[];for(const a of e)a.name?s.push(yt.fromJSON(a)):s.push(yr.fromJSON(a));return new ka(s)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,s){const a=function(d){return typeof d=="string"?[new yr(d)]:(Dr(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new yr(p):p instanceof Dn?new yr(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,s=1){const a=this._children._removeNodes(e,s);for(const d of a)d.parent=null;return a}}ka.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class qy{constructor(e,s){this.model=e,this.batch=s}createText(e,s){return new yr(e,s)}createElement(e,s){return new yt(e,s)}createDocumentFragment(){return new ka}cloneElement(e,s=!0){return e._clone(s)}insert(e,s,a=0){if(this._assertWriterUsedCorrectly(),e instanceof yr&&e.data=="")return;const d=qe._createAt(s,a);if(e.parent){if(Zp(e.root,d.root))return void this.move(De._createOn(e),d);if(e.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(e)}const p=d.root.document?d.root.document.version:null,b=new Un(d,e,p);if(e instanceof yr&&(b.shouldReceiveAttributes=!0),this.batch.addOperation(b),this.model.applyOperation(b),e instanceof ka)for(const[v,C]of e.markers){const j=qe._createAt(C.root,0),E={range:new De(C.start._getCombined(j,d),C.end._getCombined(j,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(v)?this.updateMarker(v,E):this.addMarker(v,E)}}insertText(e,s,a,d){s instanceof ka||s instanceof yt||s instanceof qe?this.insert(this.createText(e),s,a):this.insert(this.createText(e,s),a,d)}insertElement(e,s,a,d){s instanceof ka||s instanceof yt||s instanceof qe?this.insert(this.createElement(e),s,a):this.insert(this.createElement(e,s),a,d)}append(e,s){this.insert(e,s,"end")}appendText(e,s,a){s instanceof ka||s instanceof yt?this.insert(this.createText(e),s,"end"):this.insert(this.createText(e,s),a,"end")}appendElement(e,s,a){s instanceof ka||s instanceof yt?this.insert(this.createElement(e),s,"end"):this.insert(this.createElement(e,s),a,"end")}setAttribute(e,s,a){if(this._assertWriterUsedCorrectly(),a instanceof De){const d=a.getMinimalFlatRanges();for(const p of d)Xp(this,e,s,p)}else Zh(this,e,s,a)}setAttributes(e,s){for(const[a,d]of ms(e))this.setAttribute(a,d,s)}removeAttribute(e,s){if(this._assertWriterUsedCorrectly(),s instanceof De){const a=s.getMinimalFlatRanges();for(const d of a)Xp(this,e,null,d)}else Zh(this,e,null,s)}clearAttributes(e){this._assertWriterUsedCorrectly();const s=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(e instanceof De)for(const a of e.getItems())s(a);else s(e)}move(e,s,a){if(this._assertWriterUsedCorrectly(),!(e instanceof De))throw new B("writer-move-invalid-range",this);if(!e.isFlat)throw new B("writer-move-range-not-flat",this);const d=qe._createAt(s,a);if(d.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Zp(e.root,d.root))throw new B("writer-move-different-document",this);const p=e.root.document?e.root.document.version:null,b=new lr(e.start,e.end.offset-e.start.offset,d,p);this.batch.addOperation(b),this.model.applyOperation(b)}remove(e){this._assertWriterUsedCorrectly();const s=(e instanceof De?e:De._createOn(e)).getMinimalFlatRanges().reverse();for(const a of s)this._addOperationForAffectedMarkers("move",a),a0(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const s=e.nodeBefore,a=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(s instanceof yt))throw new B("writer-merge-no-element-before",this);if(!(a instanceof yt))throw new B("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,s,a){return this.model.createPositionFromPath(e,s,a)}createPositionAt(e,s){return this.model.createPositionAt(e,s)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,s){return this.model.createRange(e,s)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const s=e.nodeBefore,a=e.nodeAfter;this.move(De._createIn(a),qe._createAt(s,"end")),this.remove(a)}_merge(e){const s=qe._createAt(e.nodeBefore,"end"),a=qe._createAt(e.nodeAfter,0),d=e.root.document.graveyard,p=new qe(d,[0]),b=e.root.document.version,v=new Yr(a,e.nodeAfter.maxOffset,s,p,b);this.batch.addOperation(v),this.model.applyOperation(v)}rename(e,s){if(this._assertWriterUsedCorrectly(),!(e instanceof yt))throw new B("writer-rename-not-element-instance",this);const a=e.root.document?e.root.document.version:null,d=new Fs(qe._createBefore(e),e.name,s,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(e,s){this._assertWriterUsedCorrectly();let a,d,p=e.parent;if(!p.parent)throw new B("writer-split-element-no-parent",this);if(s||(s=p.parent),!e.parent.getAncestors({includeSelf:!0}).includes(s))throw new B("writer-split-invalid-limit-element",this);do{const b=p.root.document?p.root.document.version:null,v=p.maxOffset-e.offset,C=Xt.getInsertionPosition(e),j=new Xt(e,v,C,null,b);this.batch.addOperation(j),this.model.applyOperation(j),a||d||(a=p,d=e.parent.nextSibling),p=(e=this.createPositionAfter(e.parent)).parent}while(p!==s);return{position:e,range:new De(qe._createAt(a,"end"),qe._createAt(d,0))}}wrap(e,s){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new B("writer-wrap-range-not-flat",this);const a=s instanceof yt?s:new yt(s);if(a.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(a,e.start);const d=new De(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(d,qe._createAt(a,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(De._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,s){if(this._assertWriterUsedCorrectly(),!s||typeof s.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const a=s.usingOperation,d=s.range,p=s.affectsData!==void 0&&s.affectsData;if(this.model.markers.has(e))throw new B("writer-addmarker-marker-exists",this);if(!d)throw new B("writer-addmarker-no-range",this);return a?(Ec(this,e,null,d,p),this.model.markers.get(e)):this.model.markers._set(e,d,a,p)}updateMarker(e,s){this._assertWriterUsedCorrectly();const a=typeof e=="string"?e:e.name,d=this.model.markers.get(a);if(!d)throw new B("writer-updatemarker-marker-not-exists",this);if(!s)return W("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(d);const p=typeof s.usingOperation=="boolean",b=typeof s.affectsData=="boolean",v=b?s.affectsData:d.affectsData;if(!p&&!s.range&&!b)throw new B("writer-updatemarker-wrong-options",this);const C=d.getRange(),j=s.range?s.range:C;p&&s.usingOperation!==d.managedUsingOperations?s.usingOperation?Ec(this,a,null,j,v):(Ec(this,a,C,null,v),this.model.markers._set(a,j,void 0,v)):d.managedUsingOperations?Ec(this,a,C,j,v):this.model.markers._set(a,j,void 0,v)}removeMarker(e){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name;if(!this.model.markers.has(s))throw new B("writer-removemarker-no-marker",this);const a=this.model.markers.get(s);if(!a.managedUsingOperations)return void this.model.markers._remove(s);Ec(this,s,a.getRange(),null,a.affectsData)}addRoot(e,s="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(e);if(a&&a.isAttached())throw new B("writer-addroot-root-exists",this);const d=this.model.document,p=new So(e,s,!0,d,d.version);return this.batch.addOperation(p),this.model.applyOperation(p),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const s=typeof e=="string"?this.model.document.getRoot(e):e;if(!s||!s.isAttached())throw new B("writer-detachroot-no-root",this);for(const p of this.model.markers)p.getRange().root===s&&this.removeMarker(p);for(const p of s.getAttributeKeys())this.removeAttribute(p,s);this.remove(this.createRangeIn(s));const a=this.model.document,d=new So(s.rootName,s.name,!1,a,a.version);this.batch.addOperation(d),this.model.applyOperation(d)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,s)}setSelectionAttribute(e,s){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,s);else for(const[a,d]of ms(e))this._setSelectionAttribute(a,d)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const s of e)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,s){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=ao._getStoreAttributeKey(e);this.setAttribute(d,s,a.anchor.parent)}a._setAttribute(e,s)}_removeSelectionAttribute(e){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const a=ao._getStoreAttributeKey(e);this.removeAttribute(a,s.anchor.parent)}s._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,s){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let p=!1;if(e==="move"){const b=s;p=b.containsPosition(d.start)||b.start.isEqual(d.start)||b.containsPosition(d.end)||b.end.isEqual(d.end)}else{const b=s,v=b.nodeBefore,C=b.nodeAfter,j=d.start.parent==v&&d.start.isAtEnd,E=d.end.parent==C&&d.end.offset==0,I=d.end.nodeAfter==C,L=d.start.nodeAfter==C;p=j||E||I||L}p&&this.updateMarker(a.name,{range:d})}}}function Xp(c,e,s,a){const d=c.model,p=d.document;let b,v,C,j=a.start;for(const I of a.getWalker({shallow:!0}))C=I.item.getAttribute(e),b&&v!=C&&(v!=s&&E(),j=b),b=I.nextPosition,v=C;function E(){const I=new De(j,b),L=I.root.document?p.version:null,H=new rn(I,e,v,s,L);c.batch.addOperation(H),d.applyOperation(H)}b instanceof qe&&b!=j&&v!=s&&E()}function Zh(c,e,s,a){const d=c.model,p=d.document,b=a.getAttribute(e);let v,C;if(b!=s){if(a.root===a){const j=a.document?p.version:null;C=new Mn(a,e,b,s,j)}else{v=new De(qe._createBefore(a),c.createPositionAfter(a));const j=v.root.document?p.version:null;C=new rn(v,e,b,s,j)}c.batch.addOperation(C),d.applyOperation(C)}}function Ec(c,e,s,a,d){const p=c.model,b=p.document,v=new ys(e,s,a,p.markers,!!d,b.version);c.batch.addOperation(v),p.applyOperation(v)}function a0(c,e,s,a){let d;if(c.root.document){const p=a.document,b=new qe(p.graveyard,[0]);d=new lr(c,e,b,p.version)}else d=new E1(c,e);s.addOperation(d),a.applyOperation(d)}function Zp(c,e){return c===e||c instanceof Sc&&e instanceof Sc}function Cl(c,e,s={}){if(e.isCollapsed)return;const a=e.getFirstRange();if(a.root.rootName=="$graveyard")return;const d=c.schema;c.change(p=>{if(!s.doNotResetEntireContent&&function(j,E){const I=j.getLimitElement(E);if(!E.containsEntireContent(I))return!1;const L=E.getFirstRange();return L.start.parent==L.end.parent?!1:j.checkChild(I,"paragraph")}(d,e))return void function(j,E){const I=j.model.schema.getLimitElement(E);j.remove(j.createRangeIn(I)),iu(j,j.createPositionAt(I,0),E)}(p,e);const b={};if(!s.doNotAutoparagraph){const j=e.getSelectedElement();j&&Object.assign(b,d.getAttributesWithProperty(j,"copyOnReplace",!0))}const[v,C]=function(j){const E=j.root.document.model,I=j.start;let L=j.end;if(E.hasContent(j,{ignoreMarkers:!0})){const H=function(K){const $=K.parent,ce=$.root.document.model.schema,fe=$.getAncestors({parentFirst:!0,includeSelf:!0});for(const ve of fe){if(ce.isLimit(ve))return null;if(ce.isBlock(ve))return ve}}(L);if(H&&L.isTouching(E.createPositionAt(H,0))){const K=E.createSelection(j);E.modifySelection(K,{direction:"backward"});const $=K.getLastPosition(),ce=E.createRange($,L);E.hasContent(ce,{ignoreMarkers:!0})||(L=$)}}return[ns.fromPosition(I,"toPrevious"),ns.fromPosition(L,"toNext")]}(a);v.isTouching(C)||p.remove(p.createRange(v,C)),s.leaveUnmerged||(function(j,E,I){const L=j.model;if(!Dc(j.model.schema,E,I))return;const[H,K]=function($,ce){const fe=$.getAncestors(),ve=ce.getAncestors();let Pe=0;for(;fe[Pe]&&fe[Pe]==ve[Pe];)Pe++;return[fe[Pe],ve[Pe]]}(E,I);!H||!K||(!L.hasContent(H,{ignoreMarkers:!0})&&L.hasContent(K,{ignoreMarkers:!0})?_a(j,E,I,H.parent):Ca(j,E,I,H.parent))}(p,v,C),d.removeDisallowedAttributes(v.parent.getChildren(),p)),Aa(p,e,v),!s.doNotAutoparagraph&&function(j,E){const I=j.checkChild(E,"$text"),L=j.checkChild(E,"paragraph");return!I&&L}(d,v)&&iu(p,v,e,b),v.detach(),C.detach()})}function Ca(c,e,s,a){const d=e.parent,p=s.parent;if(d!=a&&p!=a){for(e=c.createPositionAfter(d),(s=c.createPositionBefore(p)).isEqual(e)||c.insert(p,e),c.merge(e);s.parent.isEmpty;){const b=s.parent;s=c.createPositionBefore(b),c.remove(b)}Dc(c.model.schema,e,s)&&Ca(c,e,s,a)}}function _a(c,e,s,a){const d=e.parent,p=s.parent;if(d!=a&&p!=a){for(e=c.createPositionAfter(d),(s=c.createPositionBefore(p)).isEqual(e)||c.insert(d,s);e.parent.isEmpty;){const b=e.parent;e=c.createPositionBefore(b),c.remove(b)}s=c.createPositionBefore(p),function(b,v){const C=v.nodeBefore,j=v.nodeAfter;C.name!=j.name&&b.rename(C,j.name),b.clearAttributes(C),b.setAttributes(Object.fromEntries(j.getAttributes()),C),b.merge(v)}(c,s),Dc(c.model.schema,e,s)&&_a(c,e,s,a)}}function Dc(c,e,s){const a=e.parent,d=s.parent;return a!=d&&!c.isLimit(a)&&!c.isLimit(d)&&function(p,b,v){const C=new De(p,b);for(const j of C.getWalker())if(v.isLimit(j.item))return!1;return!0}(e,s,c)}function iu(c,e,s,a={}){const d=c.createElement("paragraph");c.model.schema.setAllowedAttributes(d,a,c),c.insert(d,e),Aa(c,s,c.createPositionAt(d,0))}function Aa(c,e,s){e instanceof ao?c.setSelection(s):e.setTo(s)}function l0(c,e){const s=[];Array.from(c.getItems({direction:"backward"})).map(a=>e.createRangeOn(a)).filter(a=>(a.start.isAfter(c.start)||a.start.isEqual(c.start))&&(a.end.isBefore(c.end)||a.end.isEqual(c.end))).forEach(a=>{s.push(a.start.parent),e.remove(a)}),s.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const p=e.createRangeOn(d);d=d.parent,e.remove(p)}})}class c0{constructor(e,s,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=s,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const s of Array.from(e))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const s=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(e);if(a.isAfter(s)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?De._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new De(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let s=this._checkAndAutoParagraphToAllowedPosition(e);s||(s=this._checkAndSplitToAllowedPosition(e),s)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ns.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new B("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ns.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ns.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof yt)||!this._canMergeLeft(e))return;const s=ns._createBefore(e);s.stickiness="toNext";const a=ns.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=ns._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ns._createAt(s.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof yt)||!this._canMergeRight(e))return;const s=ns._createAfter(e);if(s.stickiness="toNext",!this.position.isEqual(s))throw new B("insertcontent-invalid-insertion-position",this);this.position=qe._createAt(s.nodeBefore,"end");const a=ns.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=ns._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ns._createAt(s.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(e){const s=e.previousSibling;return s instanceof yt&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,e)}_canMergeRight(e){const s=e.nextSibling;return s instanceof yt&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(e,s)}_tryAutoparagraphing(e){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,e)&&(s._appendChild(e),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(e){const s=this._getAllowedIn(this.position.parent,e);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===s&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,s){return this.schema.checkChild(e,s)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,s)}}function au(c,e,s="auto"){const a=c.getSelectedElement();if(a&&e.schema.isObject(a)&&!e.schema.isInline(a))return s=="before"||s=="after"?e.createRange(e.createPositionAt(a,s)):e.createRangeOn(a);const d=en(c.getSelectedBlocks());if(!d)return e.createRange(c.focus);if(d.isEmpty)return e.createRange(e.createPositionAt(d,0));const p=e.createPositionAfter(d);return c.focus.isTouching(p)?e.createRange(p):e.createRange(e.createPositionBefore(d))}function D1(c,e,s,a={}){if(!c.schema.isObject(e))throw new B("insertobject-element-not-an-object",c,{object:e});const d=s||c.document.selection;let p=d;a.findOptimalPosition&&c.schema.isBlock(e)&&(p=c.createSelection(au(d,c,a.findOptimalPosition)));const b=en(d.getSelectedBlocks()),v={};return b&&Object.assign(v,c.schema.getAttributesWithProperty(b,"copyOnReplace",!0)),c.change(C=>{p.isCollapsed||c.deleteContent(p,{doNotAutoparagraph:!0});let j=e;const E=p.anchor.parent;!c.schema.checkChild(E,e)&&c.schema.checkChild(E,"paragraph")&&c.schema.checkChild("paragraph",e)&&(j=C.createElement("paragraph"),C.insert(e,j)),c.schema.setAllowedAttributes(j,v,C);const I=c.insertContent(j,p);return I.isCollapsed||a.setSelection&&function(L,H,K,$){const ce=L.model;if(K=="on")return void L.setSelection(H,"on");if(K!="after")throw new B("insertobject-invalid-place-parameter-value",ce);let fe=H.nextSibling;if(ce.schema.isInline(H))return void L.setSelection(H,"after");!(fe&&ce.schema.checkChild(fe,"$text"))&&ce.schema.checkChild(H.parent,"paragraph")&&(fe=L.createElement("paragraph"),ce.schema.setAllowedAttributes(fe,$,L),ce.insertContent(fe,L.createPositionAfter(H))),fe&&L.setSelection(fe,0)}(C,e,a.setSelection,v),I})}const d0=' ,.?!:;"-()';function $p(c,e){const{isForward:s,walker:a,unit:d,schema:p,treatEmojiAsSingleUnit:b}=c,{type:v,item:C,nextPosition:j}=e;if(v=="text")return c.unit==="word"?function(E,I){let L=E.position.textNode;for(L||(L=I?E.position.nodeAfter:E.position.nodeBefore);L&&L.is("$text");){const H=E.position.offset-L.startOffset;if(ef(L,H,I))L=I?E.position.nodeAfter:E.position.nodeBefore;else{if(M1(L.data,H,I))break;E.next()}}return E.position}(a,s):function(E,I,L){const H=E.position.textNode;if(H){const K=H.data;let $=E.position.offset-H.startOffset;for(;Ei(K,$)||I=="character"&&Xo(K,$)||L&&ip(K,$);)E.next(),$=E.position.offset-H.startOffset}return E.position}(a,d,b);if(v==(s?"elementStart":"elementEnd")){if(p.isSelectable(C))return qe._createAt(C,s?"after":"before");if(p.checkChild(j,"$text"))return j}else{if(p.isLimit(C))return void a.skip(()=>!0);if(p.checkChild(j,"$text"))return j}}function u0(c,e){const s=c.root,a=qe._createAt(s,e?"end":0);return e?new De(c,a):new De(a,c)}function M1(c,e,s){const a=e+(s?0:-1);return d0.includes(c.charAt(a))}function ef(c,e,s){return e===(s?c.offsetSize:0)}class tf extends st(){constructor(){super(),this.markers=new i0,this.document=new Gy(this),this.schema=new My,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,s)=>{s[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,s)=>{if(s.name==="$marker")return!0}),Bv(this),this.document.registerPostFixer(Nr),this.on("insertContent",(e,[s,a])=>{e.return=function(d,p,b){return d.change(v=>{const C=b||d.document.selection;C.isCollapsed||d.deleteContent(C,{doNotAutoparagraph:!0});const j=new c0(d,v,C.anchor),E=[];let I;if(p.is("documentFragment")){if(p.markers.size){const K=[];for(const[$,ce]of p.markers){const{start:fe,end:ve}=ce,Pe=fe.isEqual(ve);K.push({position:fe,name:$,isCollapsed:Pe},{position:ve,name:$,isCollapsed:Pe})}K.sort(({position:$},{position:ce})=>$.isBefore(ce)?1:-1);for(const{position:$,name:ce,isCollapsed:fe}of K){let ve=null,Pe=null;const et=$.parent===p&&$.isAtStart,vt=$.parent===p&&$.isAtEnd;et||vt?fe&&(Pe=et?"start":"end"):(ve=v.createElement("$marker"),v.insert(ve,$)),E.push({name:ce,element:ve,collapsed:Pe})}}I=p.getChildren()}else I=[p];j.handleNodes(I);let L=j.getSelectionRange();if(p.is("documentFragment")&&E.length){const K=L?No.fromRange(L):null,$={};for(let ce=E.length-1;ce>=0;ce--){const{name:fe,element:ve,collapsed:Pe}=E[ce],et=!$[fe];if(et&&($[fe]=[]),ve){const vt=v.createPositionAt(ve,"before");$[fe].push(vt),v.remove(ve)}else{const vt=j.getAffectedRange();if(!vt){Pe&&$[fe].push(j.position);continue}Pe?$[fe].push(vt[Pe]):$[fe].push(et?vt.start:vt.end)}}for(const[ce,[fe,ve]]of Object.entries($))fe&&ve&&fe.root===ve.root&&v.addMarker(ce,{usingOperation:!0,affectsData:!0,range:new De(fe,ve)});K&&(L=K.toRange(),K.detach())}L&&(C instanceof ao?v.setSelection(L):C.setTo(L));const H=j.getAffectedRange()||d.createRange(C.anchor);return j.destroy(),H})}(this,s,a)}),this.on("insertObject",(e,[s,a,d])=>{e.return=D1(this,s,a,d)}),this.on("canEditAt",e=>{const s=!this.document.isReadOnly;e.return=s,s||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ou,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(s){B.rethrowUnexpectedError(s,this)}}enqueueChange(e,s){try{e?typeof e=="function"?(s=e,e=new ou):e instanceof ou||(e=new ou(e)):e=new ou,this._pendingChanges.push({batch:e,callback:s}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){B.rethrowUnexpectedError(a,this)}}applyOperation(e){e._execute()}insertContent(e,s,a,...d){const p=rf(s,a);return this.fire("insertContent",[e,p,a,...d])}insertObject(e,s,a,d,...p){const b=rf(s,a);return this.fire("insertObject",[e,b,d,d,...p])}deleteContent(e,s){Cl(this,e,s)}modifySelection(e,s){(function(a,d,p={}){const b=a.schema,v=p.direction!="backward",C=p.unit?p.unit:"character",j=!!p.treatEmojiAsSingleUnit,E=d.focus,I=new es({boundaries:u0(E,v),singleCharacters:!0,direction:v?"forward":"backward"}),L={walker:I,schema:b,isForward:v,unit:C,treatEmojiAsSingleUnit:j};let H;for(;H=I.next();){if(H.done)return;const K=$p(L,H.value);if(K)return void(d instanceof ao?a.change($=>{$.setSelectionFocus(K)}):d.setFocus(K))}})(this,e,s)}getSelectedContent(e){return function(s,a){return s.change(d=>{const p=d.createDocumentFragment(),b=a.getFirstRange();if(!b||b.isCollapsed)return p;const v=b.start.root,C=b.start.getCommonPath(b.end),j=v.getNodeByPath(C);let E;E=b.start.parent==b.end.parent?b:d.createRange(d.createPositionAt(j,b.start.path[C.length]),d.createPositionAt(j,b.end.path[C.length]+1));const I=E.end.offset-E.start.offset;for(const L of E.getItems({shallow:!0}))L.is("$textProxy")?d.appendText(L.data,L.getAttributes(),p):d.append(d.cloneElement(L,!0),p);if(E!=b){const L=b._getTransformedByMove(E.start,d.createPositionAt(p,0),I)[0],H=d.createRange(d.createPositionAt(p,0),L.start);l0(d.createRange(L.end,d.createPositionAt(p,"end")),d),l0(H,d)}return p})}(this,e)}hasContent(e,s={}){const a=e instanceof De?e:De._createIn(e);if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:p=!1}=s;if(!p){for(const b of this.markers.getMarkersIntersectingRange(a))if(b.affectsData)return!0}for(const b of a.getItems())if(this.schema.isContent(b)&&(!b.is("$textProxy")||!d||b.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const s=rf(e);return this.fire("canEditAt",[s])}createPositionFromPath(e,s,a){return new qe(e,s,a)}createPositionAt(e,s){return qe._createAt(e,s)}createPositionAfter(e){return qe._createAfter(e)}createPositionBefore(e){return qe._createBefore(e)}createRange(e,s){return new De(e,s)}createRangeIn(e){return De._createIn(e)}createRangeOn(e){return De._createOn(e)}createSelection(...e){return new Ls(...e)}createBatch(e){return new ou(e)}createOperationFromJSON(e){return Yv.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const s=this._pendingChanges[0].batch;this._currentWriter=new qy(this,s);const a=this._pendingChanges[0].callback(this._currentWriter);e.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function rf(c,e){if(c)return c instanceof Ls||c instanceof ao?c:c instanceof Ps?e||e===0?new Ls(c,e):c.is("rootElement")?new Ls(c,"in"):new Ls(c,"on"):new Ls(c)}class $h extends ua{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class em extends ua{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Ti{constructor(e){this.document=e}createDocumentFragment(e){return new Vr(this.document,e)}createElement(e,s,a){return new ps(this.document,e,s,a)}createText(e){return new xr(this.document,e)}clone(e,s=!1){return e._clone(s)}appendChild(e,s){return s._appendChild(e)}insertChild(e,s,a){return a._insertChild(e,s)}removeChildren(e,s,a){return a._removeChildren(e,s)}remove(e){const s=e.parent;return s?this.removeChildren(s.getChildIndex(e),1,s):[]}replace(e,s){const a=e.parent;if(a){const d=a.getChildIndex(e);return this.removeChildren(d,1,a),this.insertChild(d,s,a),!0}return!1}unwrapElement(e){const s=e.parent;if(s){const a=s.getChildIndex(e);this.remove(e),this.insertChild(a,e.getChildren(),s)}}rename(e,s){const a=new ps(this.document,e,s.getAttributes(),s.getChildren());return this.replace(s,a)?a:null}setAttribute(e,s,a){a._setAttribute(e,s)}removeAttribute(e,s){s._removeAttribute(e)}addClass(e,s){s._addClass(e)}removeClass(e,s){s._removeClass(e)}setStyle(e,s,a){mn(e)&&a===void 0?s._setStyle(e):a._setStyle(e,s)}removeStyle(e,s){s._removeStyle(e)}setCustomProperty(e,s,a){a._setCustomProperty(e,s)}removeCustomProperty(e,s){return s._removeCustomProperty(e)}createPositionAt(e,s){return Ke._createAt(e,s)}createPositionAfter(e){return Ke._createAfter(e)}createPositionBefore(e){return Ke._createBefore(e)}createRange(e,s){return new dt(e,s)}createRangeOn(e){return dt._createOn(e)}createRangeIn(e){return dt._createIn(e)}createSelection(...e){return new $n(...e)}}class h0{constructor(){this._commands=new Map}add(e,s){this._commands.set(e,s)}get(e){return this._commands.get(e)}execute(e,...s){const a=this.get(e);if(!a)throw new B("commandcollection-command-not-found",this,{commandName:e});return a.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class T1 extends st(){constructor(e={}){super();const s=this.constructor,a=e.language||s.defaultConfig&&s.defaultConfig.language;this._context=e.context||new gp({language:a}),this._context._addEditor(this,!e.context);const d=Array.from(s.builtinPlugins||[]);this.config=new hg(e,s.defaultConfig),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new Gx(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new h0,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new tf,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new l1;this.data=new v1(this.model,p),this.editing=new Dy(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Oy([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Tg(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,s=e.get("plugins"),a=e.get("removePlugins")||[],d=e.get("extraPlugins")||[],p=e.get("substitutePlugins")||[];return this.plugins.init(s.concat(d),a,p)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(s=>this.once("ready",s))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...s){try{return this.commands.execute(e,...s)}catch(a){B.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Mc(c){return class extends c{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const c=Mc(Object);Mc.setData=c.prototype.setData,Mc.getData=c.prototype.getData}function u(c){return class extends c{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;_d(this.sourceElement,s||a?e:"")}}}u.updateSourceElement=u(Object).prototype.updateSourceElement;class f extends Pd{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new As({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new B("pendingactions-add-invalid-message",this);const s=new(st());return s.set("message",e),this._actions.add(s),this.hasAny=!0,s}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const x={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var A=l(5542),M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(A.Z,M),A.Z.locals;const{threeVerticalDots:O}=x,X={alignLeft:x.alignLeft,bold:x.bold,importExport:x.importExport,paragraph:x.paragraph,plus:x.plus,text:x.text,threeVerticalDots:x.threeVerticalDots};class ie extends Ft{constructor(e,s){super(e);const a=this.bindTemplate,d=this.t;this.options=s||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new hs,this.keystrokes=new wo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new ye(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const p=e.uiLanguageDirection==="rtl";this._focusCycler=new Co({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[p?"arrowright":"arrowleft","arrowup"],focusNext:[p?"arrowleft":"arrowright","arrowdown"]}});const b=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var v;this.options.shouldGroupWhenFull&&this.options.isFloating&&b.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:b,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(v=this,v.bindTemplate.to(C=>{C.target===v.element&&C.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Be(this):new Ae(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(e,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,s,a){this.items.addMany(this._buildItemsFromConfig(e,s,a))}_buildItemsFromConfig(e,s,a){const d=Ux(e),p=a||d.removeItems;return this._cleanItemsConfiguration(d.items,s,p).map(b=>Ye(b)?this._createNestedToolbarDropdown(b,s,p):b==="|"?new Id:b==="-"?new Rd:s.create(b)).filter(b=>!!b)}_cleanItemsConfiguration(e,s,a){const d=e.filter((p,b,v)=>p==="|"||a.indexOf(p)===-1&&(p==="-"?!this.options.shouldGroupWhenFull||(W("toolbarview-line-break-ignored-when-grouping-items",v),!1):!(!Ye(p)&&!s.has(p))||(W("toolbarview-item-unavailable",{item:p}),!1)));return this._cleanSeparatorsAndLineBreaks(d)}_cleanSeparatorsAndLineBreaks(e){const s=b=>b!=="-"&&b!=="|",a=e.length,d=e.findIndex(s);if(d===-1)return[];const p=a-e.slice().reverse().findIndex(s);return e.slice(d,p).filter((b,v,C)=>s(b)?!0:!(v>0&&C[v-1]===b))}_createNestedToolbarDropdown(e,s,a){let{label:d,icon:p,items:b,tooltip:v=!0,withText:C=!1}=e;if(b=this._cleanItemsConfiguration(b,s,a),!b.length)return null;const j=ct(this.locale);return d||W("toolbarview-nested-toolbar-dropdown-missing-label",e),j.class="ck-toolbar__nested-toolbar-dropdown",j.buttonView.set({label:d,tooltip:v,withText:!!C}),p!==!1?j.buttonView.icon=X[p]||p||O:j.buttonView.withText=!0,mt(j,()=>j.toolbarView._buildItemsFromConfig(b,s,a)),j}}class ye extends Ft{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Ae{constructor(e){const s=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(a=>a),e.focusables.bindTo(e.items).using(a=>a),e.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Be{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(s=>s),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(s,a)=>{const d=a.index,p=Array.from(a.added);for(const b of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(b):this.ungroupedItems.remove(b);for(let b=d;b<d+p.length;b++){const v=p[b-d];b>this.ungroupedItems.length?this.groupedItems.add(v,b-this.ungroupedItems.length):this.ungroupedItems.add(v,b)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ol(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,s=this.viewLocale.uiLanguageDirection,a=new fr(e.lastChild),d=new fr(e);if(!this.cachedPadding){const p=At.window.getComputedStyle(e),b=s==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(p[b])}return s==="ltr"?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new nc(this.viewElement,s=>{e&&e===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=s.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Id),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,s=e.t,a=ct(e);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",mt(a,this.groupedItems),a.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:O}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Ue=l(1046),Se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Ue.Z,Se),Ue.Z.locals;class Ee extends Ft{constructor(e){super(e);const s=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new hs,this.keystrokes=new wo,this._focusCycler=new Co({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:s.to("role"),"aria-label":s.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(e,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class xt extends Ft{constructor(e){super(e);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class ft extends Ft{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var kr=l(7686),we={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(kr.Z,we),kr.Z.locals;class xe extends Ft{constructor(e){super(e);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new wo,this.focusTracker=new hs,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())}),this.keystrokes.set("arrowleft",(e,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new ir;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new ir,s=e.bindTemplate;return e.icon=gh,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",a=>String(a))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var _e=l(7339),Le={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(_e.Z,Le),_e.Z.locals;var at=l(3949),Vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(at.Z,Vt),at.Z.locals;function ct(c,e=Md){const s=new e(c),a=new Eg(c),d=new Jr(c,s,a);return s.bind("isEnabled").to(d),s instanceof xe?s.arrowView.bind("isOn").to(d,"isOpen"):s.bind("isOn").to(d,"isOpen"),function(p){(function(b){b.on("render",()=>{m({emitter:b,activator:()=>b.isOpen,callback:()=>{b.isOpen=!1},contextElements:()=>[b.element,...b.focusTracker._elements]})})})(p),function(b){b.on("execute",v=>{v.source instanceof $o||(b.isOpen=!1)})}(p),function(b){b.focusTracker.on("change:isFocused",(v,C,j)=>{b.isOpen&&!j&&(b.isOpen=!1)})}(p),function(b){b.keystrokes.set("arrowdown",(v,C)=>{b.isOpen&&(b.panelView.focus(),C())}),b.keystrokes.set("arrowup",(v,C)=>{b.isOpen&&(b.panelView.focusLast(),C())})}(p),function(b){b.on("change:isOpen",(v,C,j)=>{if(j)return;const E=b.panelView.element;E&&E.contains(At.document.activeElement)&&b.buttonView.focus()})}(p),function(b){b.on("change:isOpen",(v,C,j)=>{j&&b.panelView.focus()},{priority:"low"})}(p)}(d),d}function mt(c,e,s={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?Tn(c,e,s):c.once("change:isOpen",()=>Tn(c,e,s),{priority:"highest"}),s.enableActiveItemFocusOnDropdownOpen&&m0(c,()=>c.toolbarView.items.find(a=>a.isOn))}function Tn(c,e,s){const a=c.locale,d=a.t,p=c.toolbarView=new ie(a),b=typeof e=="function"?e():e;p.ariaLabel=s.ariaLabel||d("Dropdown toolbar"),s.maxWidth&&(p.maxWidth=s.maxWidth),s.class&&(p.class=s.class),s.isCompact&&(p.isCompact=s.isCompact),s.isVertical&&(p.isVertical=!0),b instanceof ko?p.items.bindTo(b).using(v=>v):p.items.addMany(b),c.panelView.children.add(p),p.items.delegate("execute").to(c)}function ar(c,e,s={}){c.isOpen?Na(c,e,s):c.once("change:isOpen",()=>Na(c,e,s),{priority:"highest"}),m0(c,()=>c.listView.items.find(a=>a instanceof xt&&a.children.first.isOn))}function Na(c,e,s){const a=c.locale,d=c.listView=new Ee(a),p=typeof e=="function"?e():e;d.ariaLabel=s.ariaLabel,d.role=s.role,d.items.bindTo(p).using(b=>{if(b.type==="separator")return new ft(a);if(b.type==="button"||b.type==="switchbutton"){const v=new xt(a);let C;return C=b.type==="button"?new ir(a):new $o(a),C.bind(...Object.keys(b.model)).to(b.model),C.delegate("execute").to(v),v.children.add(C),v}return null}),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function m0(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const s=e();s&&(typeof s.focus=="function"?s.focus():W("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))},{priority:ee.low-10})}function I1(c,e,s){const a=new Sg(c.locale);return a.set({id:e,ariaDescribedById:s}),a.bind("isReadOnly").to(c,"isEnabled",d=>!d),a.bind("hasError").to(c,"errorText",d=>!!d),a.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(a),a}const Yy=(c,e=0,s=1)=>c>s?s:c<e?e:c,Ss=(c,e=0,s=Math.pow(10,e))=>Math.round(s*c)/s,R1=c=>(c[0]==="#"&&(c=c.substring(1)),c.length<6?{r:parseInt(c[0]+c[0],16),g:parseInt(c[1]+c[1],16),b:parseInt(c[2]+c[2],16),a:c.length===4?Ss(parseInt(c[3]+c[3],16)/255,2):1}:{r:parseInt(c.substring(0,2),16),g:parseInt(c.substring(2,4),16),b:parseInt(c.substring(4,6),16),a:c.length===8?Ss(parseInt(c.substring(6,8),16)/255,2):1}),lB=({h:c,s:e,v:s,a})=>{const d=(200-e)*s/100;return{h:Ss(c),s:Ss(d>0&&d<200?e*s/100/(d<=100?d:200-d)*100:0),l:Ss(d/2),a:Ss(a,2)}},P1=c=>{const{h:e,s,l:a}=lB(c);return`hsl(${e}, ${s}%, ${a}%)`},cB=({h:c,s:e,v:s,a})=>{c=c/360*6,e/=100,s/=100;const d=Math.floor(c),p=s*(1-e),b=s*(1-(c-d)*e),v=s*(1-(1-c+d)*e),C=d%6;return{r:Ss(255*[s,b,p,p,v,s][C]),g:Ss(255*[v,s,s,b,p,p][C]),b:Ss(255*[p,p,v,s,s,b][C]),a:Ss(a,2)}},p0=c=>{const e=c.toString(16);return e.length<2?"0"+e:e},dB=({r:c,g:e,b:s,a})=>{const d=a<1?p0(Ss(255*a)):"";return"#"+p0(c)+p0(e)+p0(s)+d},uB=({r:c,g:e,b:s,a})=>{const d=Math.max(c,e,s),p=d-Math.min(c,e,s),b=p?d===c?(e-s)/p:d===e?2+(s-c)/p:4+(c-e)/p:0;return{h:Ss(60*(b<0?b+6:b)),s:Ss(d?p/d*100:0),v:Ss(d/255*100),a}},BN=(c,e)=>{if(c===e)return!0;for(const s in c)if(c[s]!==e[s])return!1;return!0},LN={},zN=c=>{let e=LN[c];return e||(e=document.createElement("template"),e.innerHTML=c,LN[c]=e),e},O1=(c,e,s)=>{c.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:s}))};let nf=!1;const B1=c=>"touches"in c,FN=(c,e)=>{const s=B1(e)?e.touches[0]:e,a=c.el.getBoundingClientRect();O1(c.el,"move",c.getMove({x:Yy((s.pageX-(a.left+window.pageXOffset))/a.width),y:Yy((s.pageY-(a.top+window.pageYOffset))/a.height)}))};class VN{constructor(e,s,a,d){const p=zN(`<div role="slider" tabindex="0" part="${s}" ${a}><div part="${s}-pointer"></div></div>`);e.appendChild(p.content.cloneNode(!0));const b=e.querySelector(`[part=${s}]`);b.addEventListener("mousedown",this),b.addEventListener("touchstart",this),b.addEventListener("keydown",this),this.el=b,this.xy=d,this.nodes=[b.firstChild,b]}set dragging(e){const s=e?document.addEventListener:document.removeEventListener;s(nf?"touchmove":"mousemove",this),s(nf?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(s=>!(nf&&!B1(s)||(nf||(nf=B1(s)),0)))(e)||!nf&&e.button!=0)return;this.el.focus(),FN(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),FN(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((s,a)=>{const d=a.keyCode;d>40||s.xy&&d<37||d<33||(a.preventDefault(),O1(s.el,"move",s.getMove({x:d===39?.01:d===37?-.01:d===34?.05:d===33?-.05:d===35?1:d===36?-1:0,y:d===40?.01:d===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((s,a)=>{for(const d in s)this.nodes[a].style.setProperty(d,s[d])})}}class hB extends VN{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:P1({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Ss(e)}`)}getMove(e,s){return{h:s?Yy(this.h+360*e.x,0,360):360*e.x}}}class mB extends VN{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:P1(e)},{"background-color":P1({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Ss(e.s)}%, Brightness ${Ss(e.v)}%`)}getMove(e,s){return{s:s?Yy(this.hsva.s+100*e.x,0,100):100*e.x,v:s?Yy(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const f0=Symbol("same"),L1=Symbol("color"),UN=Symbol("hsva"),z1=Symbol("update"),GN=Symbol("parts"),HN=Symbol("css"),qN=Symbol("sliders");class pB extends HTMLElement{static get observedAttributes(){return["color"]}get[HN](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[qN](){return[mB,hB]}get color(){return this[L1]}set color(e){if(!this[f0](e)){const s=this.colorModel.toHsva(e);this[z1](s),this[L1]=e}}constructor(){super();const e=zN(`<style>${this[HN].join("")}</style>`),s=this.attachShadow({mode:"open"});s.appendChild(e.content.cloneNode(!0)),s.addEventListener("move",this),this[GN]=this[qN].map(a=>new a(s))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,s,a){const d=this.colorModel.fromAttr(a);this[f0](d)||(this.color=d)}handleEvent(e){const s=this[UN],a={...s,...e.detail};let d;this[z1](a),BN(a,s)||this[f0](d=this.colorModel.fromHsva(a))||(this[L1]=d,O1(this,"color-changed",{value:d}))}[f0](e){return this.color&&this.colorModel.equal(e,this.color)}[z1](e){this[UN]=e,this[GN].forEach(s=>s.update(e))}}const fB={defaultColor:"#000",toHsva:c=>uB(R1(c)),fromHsva:({h:c,s:e,v:s})=>dB(cB({h:c,s:e,v:s,a:1})),equal:(c,e)=>c.toLowerCase()===e.toLowerCase()||BN(R1(c),R1(e)),fromAttr:c=>c};class gB extends pB{get colorModel(){return fB}}customElements.define("hex-color-picker",class extends gB{});var YN=l(3398),yB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(YN.Z,yB),YN.Z.locals;var WN=l(4157),bB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(WN.Z,bB),WN.Z.locals;class xB{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,s){this._components.set(F1(e),{callback:s,originalName:e})}create(e){if(!this.has(e))throw new B("componentfactory-item-missing",this,{name:e});return this._components.get(F1(e)).callback(this.editor.locale)}has(e){return this._components.has(F1(e))}}function F1(c){return String(c).toLowerCase()}var KN=l(8793),vB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(KN.Z,vB),KN.Z.locals;var wB=Object.defineProperty,QN=Object.getOwnPropertySymbols,kB=Object.prototype.hasOwnProperty,CB=Object.prototype.propertyIsEnumerable,JN=(c,e,s)=>e in c?wB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,mr=(c,e)=>{for(var s in e||(e={}))kB.call(e,s)&&JN(c,s,e[s]);if(QN)for(var s of QN(e))CB.call(e,s)&&JN(c,s,e[s]);return c};const XN=pg("px"),ZN=At.document.body,V1=class extends Ft{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",s=>`ck-balloon-panel_${s}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",XN),left:e.to("left",XN)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=V1.defaultPositions,s=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:ZN,fitInViewport:!0},c),a=V1._getOptimalPosition(s),d=parseInt(a.left),p=parseInt(a.top),b=a.name,v=a.config||{},{withArrow:C=!0}=v;this.top=p,this.left=d,this.position=b,this.withArrow=C}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=U1(c.target),s=c.limiter?U1(c.limiter):ZN;this.listenTo(At.document,"scroll",(a,d)=>{const p=d.target,b=e&&p.contains(e),v=s&&p.contains(s);!b&&!v&&e&&s||this.attachTo(c)},{useCapture:!0}),this.listenTo(At.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(At.document,"scroll"),this.stopListening(At.window,"resize")}};let Eo=V1;function U1(c){return ra(c)?c:ih(c)?c.commonAncestorContainer:typeof c=="function"?U1(c()):null}function $N(c={}){const{sideOffset:e=Eo.arrowSideOffset,heightOffset:s=Eo.arrowHeightOffset,stickyVerticalOffset:a=Eo.stickyVerticalOffset,config:d}=c;return{northWestArrowSouthWest:(v,C)=>mr({top:p(v,C),left:v.left-e,name:"arrow_sw"},d&&{config:d}),northWestArrowSouthMiddleWest:(v,C)=>mr({top:p(v,C),left:v.left-.25*C.width-e,name:"arrow_smw"},d&&{config:d}),northWestArrowSouth:(v,C)=>mr({top:p(v,C),left:v.left-C.width/2,name:"arrow_s"},d&&{config:d}),northWestArrowSouthMiddleEast:(v,C)=>mr({top:p(v,C),left:v.left-.75*C.width+e,name:"arrow_sme"},d&&{config:d}),northWestArrowSouthEast:(v,C)=>mr({top:p(v,C),left:v.left-C.width+e,name:"arrow_se"},d&&{config:d}),northArrowSouthWest:(v,C)=>mr({top:p(v,C),left:v.left+v.width/2-e,name:"arrow_sw"},d&&{config:d}),northArrowSouthMiddleWest:(v,C)=>mr({top:p(v,C),left:v.left+v.width/2-.25*C.width-e,name:"arrow_smw"},d&&{config:d}),northArrowSouth:(v,C)=>mr({top:p(v,C),left:v.left+v.width/2-C.width/2,name:"arrow_s"},d&&{config:d}),northArrowSouthMiddleEast:(v,C)=>mr({top:p(v,C),left:v.left+v.width/2-.75*C.width+e,name:"arrow_sme"},d&&{config:d}),northArrowSouthEast:(v,C)=>mr({top:p(v,C),left:v.left+v.width/2-C.width+e,name:"arrow_se"},d&&{config:d}),northEastArrowSouthWest:(v,C)=>mr({top:p(v,C),left:v.right-e,name:"arrow_sw"},d&&{config:d}),northEastArrowSouthMiddleWest:(v,C)=>mr({top:p(v,C),left:v.right-.25*C.width-e,name:"arrow_smw"},d&&{config:d}),northEastArrowSouth:(v,C)=>mr({top:p(v,C),left:v.right-C.width/2,name:"arrow_s"},d&&{config:d}),northEastArrowSouthMiddleEast:(v,C)=>mr({top:p(v,C),left:v.right-.75*C.width+e,name:"arrow_sme"},d&&{config:d}),northEastArrowSouthEast:(v,C)=>mr({top:p(v,C),left:v.right-C.width+e,name:"arrow_se"},d&&{config:d}),southWestArrowNorthWest:v=>mr({top:b(v),left:v.left-e,name:"arrow_nw"},d&&{config:d}),southWestArrowNorthMiddleWest:(v,C)=>mr({top:b(v),left:v.left-.25*C.width-e,name:"arrow_nmw"},d&&{config:d}),southWestArrowNorth:(v,C)=>mr({top:b(v),left:v.left-C.width/2,name:"arrow_n"},d&&{config:d}),southWestArrowNorthMiddleEast:(v,C)=>mr({top:b(v),left:v.left-.75*C.width+e,name:"arrow_nme"},d&&{config:d}),southWestArrowNorthEast:(v,C)=>mr({top:b(v),left:v.left-C.width+e,name:"arrow_ne"},d&&{config:d}),southArrowNorthWest:v=>mr({top:b(v),left:v.left+v.width/2-e,name:"arrow_nw"},d&&{config:d}),southArrowNorthMiddleWest:(v,C)=>mr({top:b(v),left:v.left+v.width/2-.25*C.width-e,name:"arrow_nmw"},d&&{config:d}),southArrowNorth:(v,C)=>mr({top:b(v),left:v.left+v.width/2-C.width/2,name:"arrow_n"},d&&{config:d}),southArrowNorthMiddleEast:(v,C)=>mr({top:b(v),left:v.left+v.width/2-.75*C.width+e,name:"arrow_nme"},d&&{config:d}),southArrowNorthEast:(v,C)=>mr({top:b(v),left:v.left+v.width/2-C.width+e,name:"arrow_ne"},d&&{config:d}),southEastArrowNorthWest:v=>mr({top:b(v),left:v.right-e,name:"arrow_nw"},d&&{config:d}),southEastArrowNorthMiddleWest:(v,C)=>mr({top:b(v),left:v.right-.25*C.width-e,name:"arrow_nmw"},d&&{config:d}),southEastArrowNorth:(v,C)=>mr({top:b(v),left:v.right-C.width/2,name:"arrow_n"},d&&{config:d}),southEastArrowNorthMiddleEast:(v,C)=>mr({top:b(v),left:v.right-.75*C.width+e,name:"arrow_nme"},d&&{config:d}),southEastArrowNorthEast:(v,C)=>mr({top:b(v),left:v.right-C.width+e,name:"arrow_ne"},d&&{config:d}),westArrowEast:(v,C)=>mr({top:v.top+v.height/2-C.height/2,left:v.left-C.width-s,name:"arrow_e"},d&&{config:d}),eastArrowWest:(v,C)=>mr({top:v.top+v.height/2-C.height/2,left:v.right+s,name:"arrow_w"},d&&{config:d}),viewportStickyNorth:(v,C,j)=>v.getIntersection(j)?{top:j.top+a,left:v.left+v.width/2-C.width/2,name:"arrowless",config:mr({withArrow:!1},d)}:null};function p(v,C){return v.top-C.height-s}function b(v){return v.bottom+s}}Eo.arrowSideOffset=25,Eo.arrowHeightOffset=10,Eo.stickyVerticalOffset=20,Eo._getOptimalPosition=il,Eo.defaultPositions=$N();var ej=l(3332),_B={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(ej.Z,_B),ej.Z.locals;const tj="ck-tooltip",Do=class extends sl(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Do._editors.add(c),Do._instance)return Do._instance;Do._instance=this,this.tooltipTextView=new Ft(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Eo(c.locale),this.balloonPanelView.class=tj,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Vn(this._pinTooltip,600),this.listenTo(At.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(At.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(At.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(At.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(At.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;Do._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Do._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Do._instance=null)}static getPositioningFunctions(c){const e=Do.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onEnterOrFocus(c,{target:e}){const s=G1(e);var a;s&&s!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(s,{text:(a=s).dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(c,{target:e,relatedTarget:s}){if(c.name==="mouseleave"){if(!ra(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const a=G1(e),d=G1(s);a&&a!==d&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:s,cssClass:a}){const d=en(Do._editors.values()).ui.view.body;d.has(this.balloonPanelView)||d.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:Do.getPositioningFunctions(s)}),this._resizeObserver=new nc(c,()=>{ol(c)||this._unpinTooltip()}),this.balloonPanelView.class=[tj,a].filter(p=>p).join(" ");for(const p of Do._editors)this.listenTo(p.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=s}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of Do._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){ol(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Do.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let g0=Do;function G1(c){return ra(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}g0.defaultBalloonPositions=$N({heightOffset:5,sideOffset:13}),g0._editors=new Set,g0._instance=null;const H1=function(c,e,s){var a=!0,d=!0;if(typeof c!="function")throw new TypeError("Expected a function");return Ye(s)&&(a="leading"in s?!!s.leading:a,d="trailing"in s?!!s.trailing:d),Vn(c,e,{leading:a,maxWait:e,trailing:d})};var AB=Object.defineProperty,rj=Object.getOwnPropertySymbols,NB=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,nj=(c,e,s)=>e in c?AB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,SB=(c,e)=>{for(var s in e||(e={}))NB.call(e,s)&&nj(c,s,e[s]);if(rj)for(var s of rj(e))jB.call(e,s)&&nj(c,s,e[s]);return c};const EB=50,DB=350,MB="Powered by",y0={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class TB extends sl(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=H1(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(s){function a(H){return H.length>=40&&H.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let d="";try{d=atob(s)}catch{return"INVALID"}const p=d.split("-"),b=p[0],v=p[1];if(!v)return a(s);try{atob(v)}catch{try{if(atob(b),!atob(b).length)return a(s)}catch{return a(s)}}if(b.length<40||b.length>255)return"INVALID";let C="";try{atob(b),C=atob(v)}catch{return"INVALID"}if(C.length!==8)return"INVALID";const j=Number(C.substring(0,4)),E=Number(C.substring(4,6))-1,I=Number(C.substring(6,8)),L=new Date(j,E,I);return L<ge||isNaN(Number(L))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(s,a,d)=>{this._updateLastFocusedEditableElement(),d?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(s,a,d)=>{this._updateLastFocusedEditableElement(),d&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,s=this._balloonView=new Eo,a=oj(e),d=new IB(e.locale,a.label);s.content.add(d),s.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(s),e.ui.focusTracker.add(s.element),this._balloonView=s}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(s,a){const d=oj(s),p=d.side==="right"?function(b,v){return sj(b,v,(C,j)=>C.left+C.width-j.width-v.horizontalOffset)}(a,d):function(b,v){return sj(b,v,C=>C.left+v.horizontalOffset)}(a,d);return{target:a,positions:[p]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,s=e.ui.focusTracker.isFocused,a=e.ui.focusTracker.focusedElement;if(!s||!a)return void(this._lastFocusedEditableElement=null);const d=Array.from(e.ui.getEditableElementsNames()).map(p=>e.ui.getEditableElement(p));d.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=d[0]}}class IB extends Ft{constructor(e,s){super(e);const a=new Di,d=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...s?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[s]}]:[],a],on:{dragstart:d.to(p=>p.preventDefault())}}]})}}function sj(c,e,s){return(a,d)=>{const p=a.getVisible();if(!p||a.width<DB||a.height<EB)return y0;let b;b=e.position==="inside"?a.bottom-d.height:a.bottom-d.height/2,b-=e.verticalOffset;const v=s(a,d);if(e.position==="inside"){const C=d.clone().moveTo(v,b);if(C.getIntersectionArea(p)<C.getArea())return y0}else{const C=$s(c);if(C){const j=new fr(C),E=p.bottom+d.height/2>j.bottom,I=e.side==="left"?a.left<j.left:a.right>j.right;if(E||I)return y0}}return{top:b,left:v,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function oj(c){const e=c.config.get("ui.poweredBy"),s=e&&e.position||"border";return SB({position:s,label:MB,verticalOffset:s==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var RB=Object.defineProperty,ij=Object.getOwnPropertySymbols,PB=Object.prototype.hasOwnProperty,OB=Object.prototype.propertyIsEnumerable,aj=(c,e,s)=>e in c?RB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;class BB extends st(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const s=e.editing.view;this.editor=e,this.componentFactory=new xB(e),this.focusTracker=new hs,this.tooltipManager=new g0(e),this.poweredBy=new TB(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(s.document,"layoutChanged",this.update.bind(this)),this.listenTo(s,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,s){this._editableElementsMap.set(e,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const a=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(s)};this.isReady?a():this.once("ready",a)}removeEditableElement(e){const s=this._editableElementsMap.get(e);s&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(s),this.focusTracker.remove(s),s.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,s={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,s=e.config.get("ui.viewportOffset");if(s)return s;const a=e.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const e=this.editor,s=e.editing.view;let a,d;e.keystrokes.set("Alt+F10",(p,b)=>{const v=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(v)&&!Array.from(s.domRoots.values()).includes(v)&&(a=v);const C=this._getCurrentFocusedToolbarDefinition();C&&d||(d=this._getFocusableCandidateToolbarDefinitions());for(let j=0;j<d.length;j++){const E=d.shift();if(d.push(E),E!==C&&this._focusFocusableCandidateToolbar(E)){C&&C.options.afterBlur&&C.options.afterBlur();break}}b()}),e.keystrokes.set("Esc",(p,b)=>{const v=this._getCurrentFocusedToolbarDefinition();v&&(a?(a.focus(),a=null):e.editing.view.focus(),v.options.afterBlur&&v.options.afterBlur(),b())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:a,options:d}=s;(ol(a.element)||d.beforeFocus)&&e.push(s)}return e.sort((s,a)=>lj(s)-lj(a)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:s,options:{beforeFocus:a}}=e;return a&&a(),!!ol(s.element)&&(s.focus(),!0)}_handleScrollToTheSelection(e,s){const a=((d,p)=>{for(var b in p||(p={}))PB.call(p,b)&&aj(d,b,p[b]);if(ij)for(var b of ij(p))OB.call(p,b)&&aj(d,b,p[b]);return d})({top:0,bottom:0,left:0,right:0},this.viewportOffset);s.viewportOffset.top+=a.top,s.viewportOffset.bottom+=a.bottom,s.viewportOffset.left+=a.left,s.viewportOffset.right+=a.right}}function lj(c){const{toolbarView:e,options:s}=c;let a=10;return ol(e.element)&&a--,s.isContextual&&a--,a}var cj=l(9688),LB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(cj.Z,LB),cj.Z.locals;class zB extends Ft{constructor(e){super(e),this.body=new kg(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class FB extends zB{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,s=new Ed;return s.text=e("Rich Text Editor"),s.extendTemplate({attributes:{class:"ck-voice-label"}}),s}}class VB extends Ft{constructor(e,s,a){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function s(a){e.change(d=>{const p=e.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",p),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",p)})}e.isRenderingInProgress?function a(d){e.once("change:isRenderingInProgress",(p,b,v)=>{v?a(d):s(d)})}(this):s(this)}}class UB extends VB{constructor(e,s,a,d={}){super(e,s,a);const p=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=d.label||(()=>p("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(s=>{const a=e.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),a)})}}var dj=l(8847),GB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(dj.Z,GB),dj.Z.locals;class q1 extends Pd{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,s)=>{window.alert(s.message)},{priority:"lowest"})}showSuccess(e,s={}){this._showNotification({message:e,type:"success",namespace:s.namespace,title:s.title})}showInfo(e,s={}){this._showNotification({message:e,type:"info",namespace:s.namespace,title:s.title})}showWarning(e,s={}){this._showNotification({message:e,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(e){const s=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(s,{message:e.message,type:e.type,title:e.title||""})}}class uj extends st(){constructor(e,s){super(),s&&ay(this,s),e&&this.set(e)}}var hj=l(4650),HB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(hj.Z,HB),hj.Z.locals;var mj=l(7676),qB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(mj.Z,qB),mj.Z.locals;const b0=pg("px");class x0 extends Fe{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const s=this.editor.editing.view,a=s.document.selection.editableElement;return a?s.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new B("contextualballoon-add-view-exist",[this,e]);const s=e.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(s));const a=this._idToStack.get(s);e.singleViewMode&&this.showStack(s),a.set(e.view,e),this._viewToStack.set(e.view,a),a===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new B("contextualballoon-remove-view-not-exist",[this,e]);const s=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(s.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),s.size===1?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const s=this._idToStack.get(e);if(!s)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}_createPanelView(){this._view=new Eo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(s=>s[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let s=e.indexOf(this._visibleStack)+1;e[s]||(s=0),this.showStack(this._getStackId(e[s]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let s=e.indexOf(this._visibleStack)-1;e[s]||(s=e.length-1),this.showStack(this._getStackId(e[s]))}_createRotatorView(){const e=new YB(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const p=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[p,d])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new WB(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(s,a)=>!a&&s>=2?Math.min(s-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:s="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=s,this.view.withArrow=a,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class YB extends Ft{constructor(e){super(e);const s=e.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new hs,this.buttonPrevView=this._createButtonView(s("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(s("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,s){const a=new ir(this.locale);return a.set({label:e,icon:s,tooltip:!0}),a}}class WB extends Ft{constructor(e,s){super(e);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",b0),left:a.to("left",b0),width:a.to("width",b0),height:a.to("height",b0)}},children:this.content}),this.on("change:numberOfPanels",(d,p,b,v)=>{b>v?this._addPanels(b-v):this._removePanels(v-b),this.updatePosition()})}_addPanels(e){for(;e--;){const s=new Ft;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(e){for(;e--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:s}=this._balloonPanelView,{width:a,height:d}=new fr(this._balloonPanelView.element);Object.assign(this,{top:e,left:s,width:a,height:d})}}}var pj=l(5868),KB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(pj.Z,KB),pj.Z.locals;const sf=pg("px");class QB extends Ft{constructor(e){super(e);const s=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Zo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:s.to("isSticky",a=>a?"block":"none"),height:s.to("isSticky",a=>a?sf(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new Zo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",s.if("isSticky","ck-sticky-panel__content_sticky"),s.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:s.to("isSticky",a=>a?sf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:s.to("_stickyTopOffset",a=>a&&sf(a)),bottom:s.to("_stickyBottomOffset",a=>a&&sf(a)),marginLeft:s.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(At.document,"scroll",(e,s)=>{this.checkIfShouldBeSticky(s.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(e){if(!this.limiterElement||!this.isActive)return void this._unstick();const s=function(p){const b=[];let v=$s(p);for(;v&&v!==At.document.body;)b.push(v),v=$s(v);return b.push(At.document),b}(this.limiterElement);if(e&&!s.includes(e))return;const a=function(p,b=0){const v=p.map(j=>{if(j instanceof Document){const E=new fr(At.window);return E.top+=b,E.height-=b,E}return new fr(j)});let C=v[0];for(const j of v.slice(1))C&&(C=C.getIntersection(j));return C}(s,this.viewportTopOffset),d=new fr(this.limiterElement);if(a&&d.top<a.top){const p=d.getIntersection(a);if(p){const b=a.top;if(b+this._contentPanelRect.height+this.limiterBottomOffset>p.bottom){const v=Math.max(d.bottom-a.bottom,0)+this.limiterBottomOffset;d.bottom-v>d.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(v):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<d.height?this._stickToTopOfAncestors(b):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=sf(-At.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=sf(-At.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new fr(this._contentPanel)}}var fj=l(9695),JB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(fj.Z,JB),fj.Z.locals;class XB extends BB{constructor(e,s){super(e),this.view=s,this._toolbarConfig=Ux(e.config.get("toolbar")),this._elementReplacer=new Js,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const s=this.editor,a=this.view,d=s.editing.view,p=a.editable,b=d.document.getRoot();p.name=b.rootName,a.render();const v=p.element;this.setEditableElement(p.name,v),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(v),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,s=this.editor.editing.view;this._elementReplacer.restore(),s.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:s})=>s||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,s=e.editing.view,a=s.document.getRoot(),d=e.sourceElement;let p;const b=e.config.get("placeholder");b&&(p=typeof b=="string"?b:b[this.view.editable.name]),!p&&d&&d.tagName.toLowerCase()==="textarea"&&(p=d.getAttribute("placeholder")),p&&(a.placeholder=p),yh({view:s,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,s,a){const d=this.view.stickyPanel;if(d.isSticky){const p=new fr(d.element).height;s.viewportOffset.top+=p}else{const p=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(d,"change:isSticky",p),setTimeout(()=>{this.stopListening(d,"change:isSticky",p)},20)}}}var gj=l(3143),ZB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(gj.Z,ZB),gj.Z.locals;class $B extends FB{constructor(e,s,a={}){super(e),this.stickyPanel=new QB(e),this.toolbar=new ie(e,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new UB(e,s)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class yj{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const a="error"in s?s.error:s.reason;a instanceof Error&&this._handleError(a,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,s){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(s)}off(e,s){this._listeners[e]=this._listeners[e].filter(a=>a!==s)}_fire(e,...s){const a=this._listeners[e]||[];for(const d of a)d.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,s){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:s instanceof ErrorEvent?s.filename:void 0,lineno:s instanceof ErrorEvent?s.lineno:void 0,colno:s instanceof ErrorEvent?s.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Y1(c,e=new Set){const s=[c],a=new Set;let d=0;for(;s.length>d;){const p=s[d++];if(!a.has(p)&&e6(p)&&!e.has(p))if(a.add(p),Symbol.iterator in p)try{for(const b of p)s.push(b)}catch{}else for(const b in p)b!=="defaultValue"&&s.push(p[b])}return a}function e6(c){const e=Object.prototype.toString.call(c),s=typeof c;return!(s==="number"||s==="boolean"||s==="string"||s==="symbol"||s==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function bj(c,e,s=new Set){if(c===e&&typeof(a=c)=="object"&&a!==null)return!0;var a;const d=Y1(c,s),p=Y1(e,s);for(const b of d)if(p.has(b))return!0;return!1}var t6=Object.defineProperty,r6=Object.defineProperties,n6=Object.getOwnPropertyDescriptors,v0=Object.getOwnPropertySymbols,xj=Object.prototype.hasOwnProperty,vj=Object.prototype.propertyIsEnumerable,wj=(c,e,s)=>e in c?t6(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,W1=(c,e)=>{for(var s in e||(e={}))xj.call(e,s)&&wj(c,s,e[s]);if(v0)for(var s of v0(e))vj.call(e,s)&&wj(c,s,e[s]);return c};class kj extends yj{constructor(e,s={}){super(s),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=H1(this._save.bind(this),typeof s.saveInterval=="number"?s.saveInterval:5e3),e&&(this._creator=(a,d)=>e.create(a,d)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},s=[],a=this._config.rootsAttributes||{},d={};for(const[C,j]of Object.entries(this._data.roots))j.isLoaded?(e[C]="",d[C]=a[C]||{}):s.push(C);const p=(b=W1({},this._config),v={extraPlugins:this._config.extraPlugins||[],lazyRoots:s,rootsAttributes:d,_watchdogInitialData:this._data},r6(b,n6(v)));var b,v;return delete p.initialData,p.extraPlugins.push(s6),this._initUsingData?this.create(e,p,p.context):ra(this._elementOrData)?this.create(this._elementOrData,p,p.context):this.create(this._editables,p,p.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,s=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(s)||{},this._config.context=a,this._creator(e,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,s=e.model.document.roots.filter(v=>v.isAttached()&&v.rootName!="$graveyard"),{plugins:a}=e,d=a.has("CommentsRepository")&&a.get("CommentsRepository"),p=a.has("TrackChanges")&&a.get("TrackChanges"),b={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};s.forEach(v=>{b.roots[v.rootName]={content:JSON.stringify(Array.from(v.getChildren())),attributes:JSON.stringify(Array.from(v.getAttributes())),isLoaded:v._isLoaded}});for(const v of e.model.markers)v._affectsData&&(b.markers[v.name]={rangeJSON:v.getRange().toJSON(),usingOperation:v._managedUsingOperations,affectsData:v._affectsData});return d&&(b.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),p&&(b.suggestions=JSON.stringify(p.getSuggestions({toJSON:!0,skipNotAttached:!0}))),b}_getEditables(){const e={};for(const s of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(s);a&&(e[s]=a)}return e}_isErrorComingFromThisItem(e){return bj(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return rl(e,(s,a)=>ra(s)||a==="context"?s:void 0)}}class s6{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},s=>{this._restoreCollaborationData(),this._restoreEditorData(s)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,s){if("name"in s){const a=e.createElement(s.name,s.attributes);if(s.children)for(const d of s.children)a._appendChild(this._createNode(e,d));return a}return e.createText(s.data,s.attributes)}_restoreEditorData(e){const s=this.editor;Object.entries(this._data.roots).forEach(([a,{content:d,attributes:p}])=>{const b=JSON.parse(d),v=JSON.parse(p),C=s.model.document.getRoot(a);for(const[j,E]of v)e.setAttribute(j,E,C);for(const j of b){const E=this._createNode(e,j);e.insert(E,C,"end")}}),Object.entries(this._data.markers).forEach(([a,d])=>{const{document:p}=s.model,b=d,{rangeJSON:{start:v,end:C}}=b,j=((K,$)=>{var ce={};for(var fe in K)xj.call(K,fe)&&$.indexOf(fe)<0&&(ce[fe]=K[fe]);if(K!=null&&v0)for(var fe of v0(K))$.indexOf(fe)<0&&vj.call(K,fe)&&(ce[fe]=K[fe]);return ce})(b,["rangeJSON"]),E=p.getRoot(v.root),I=e.createPositionFromPath(E,v.path,v.stickiness),L=e.createPositionFromPath(E,C.path,C.stickiness),H=e.createRange(I,L);e.addMarker(a,W1({range:H},j))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),s=JSON.parse(this._data.suggestions);e.forEach(a=>{const d=this.editor.config.get("collaboration.channelId"),p=this.editor.plugins.get("CommentsRepository");p.hasCommentThread(a.threadId)&&p.getCommentThread(a.threadId).remove(),p.addCommentThread(W1({channelId:d},a))}),s.forEach(a=>{const d=this.editor.plugins.get("TrackChangesEditing");d.hasSuggestion(a.id)?d.getSuggestion(a.id).attributes=a.attributes:d.addSuggestionData(a)})}}const Wy=Symbol("MainQueueId");class o6{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,s){const a=e===Wy;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const d=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(Wy),this._queues.get(e)])).then(s),p=d.catch(()=>{});return this._queues.set(e,p),d.finally(()=>{this._activeActions--,this._queues.get(e)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(b=>b())})}}function Cj(c){return Array.isArray(c)?c:[c]}class w0 extends Mc(u(T1)){constructor(e,s={}){if(!k0(e)&&s.initialData!==void 0)throw new B("editor-create-initial-data",null);super(s),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return k0(p)?(b=p,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):p;var b}(e)),k0(e)&&(this.sourceElement=e),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new $B(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new XB(this,d),function(p){if(!$r(p.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",p);const b=p.sourceElement;if(function(v){return!!v&&v.tagName.toLowerCase()==="textarea"}(b)&&b.form){let v;const C=b.form,j=()=>p.updateSourceElement();$r(C.submit)&&(v=C.submit,C.submit=()=>{j(),v.apply(C)}),C.addEventListener("submit",j),p.on("destroy",()=>{C.removeEventListener("submit",j),v&&(C.submit=v)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,s={}){return new Promise(a=>{const d=new this(e,s);a(d.initPlugins().then(()=>d.ui.init(k0(e)?e:null)).then(()=>d.data.init(d.config.get("initialData"))).then(()=>d.fire("ready")).then(()=>d))})}}function k0(c){return ra(c)}w0.Context=gp,w0.EditorWatchdog=kj,w0.ContextWatchdog=class extends yj{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new o6,this._watchdogConfig=e,this._creator=s=>c.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(Wy,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=Cj(c);return Promise.all(e.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return a=new kj(null,this._watchdogConfig),a.setCreator(s.creator),a._setExcludedProperties(this._contextProps),s.destructor&&a.setDestructor(s.destructor),this._watchdogs.set(s.id,a),a.on("error",(d,{error:p,causesRestart:b})=>{this._fire("itemError",{itemId:s.id,error:p}),b&&this._actionQueues.enqueue(s.id,()=>new Promise(v=>{const C=()=>{a.off("restart",C),this._fire("itemRestart",{itemId:s.id}),v()};a.on("restart",C)}))}),a.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(c){const e=Cj(c);return Promise.all(e.map(s=>this._actionQueues.enqueue(s,()=>{const a=this._getWatchdog(s);return this._watchdogs.delete(s),a.destroy()})))}destroy(){return this._actionQueues.enqueue(Wy,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Wy,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=Y1(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return bj(this._context,c.context)}};class K1 extends ua{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const s=this.document;function a(d){return(p,b)=>{b.preventDefault();const v=b.dropRange?[b.dropRange]:null,C=new V(s,d);s.fire(C,{dataTransfer:b.dataTransfer,method:p.name,targetRanges:v,target:b.target,domEvent:b.domEvent}),C.stop.called&&b.stopPropagation()}}this.listenTo(s,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",a("dragging"),{priority:"low"})}onDomEvent(e){const s="clipboardData"in e?e.clipboardData:e.dataTransfer,a=e.type=="drop"||e.type=="paste",d={dataTransfer:new _v(s,{cacheFiles:a})};e.type!="drop"&&e.type!="dragover"||(d.dropRange=function(p,b){const v=b.target.ownerDocument,C=b.clientX,j=b.clientY;let E;return v.caretRangeFromPoint&&v.caretRangeFromPoint(C,j)?E=v.caretRangeFromPoint(C,j):b.rangeParent&&(E=v.createRange(),E.setStart(b.rangeParent,b.rangeOffset),E.collapse(!0)),E?p.domConverter.domRangeToView(E):null}(this.view,e)),this.fire(e.type,e,d)}}const _j=["figcaption","li"];function Aj(c){let e="";if(c.is("$text")||c.is("$textProxy"))e=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))e=c.getAttribute("alt");else if(c.is("element","br"))e=`
`;else{let s=null;for(const a of c.getChildren()){const d=Aj(a);s&&(s.is("containerElement")||a.is("containerElement"))&&(_j.includes(s.name)||_j.includes(a.name)?e+=`
`:e+=`

`),e+=d,s=a}}return e}class _l extends Fe{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(K1),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,s=e.model,a=e.editing.view,d=a.document;this.listenTo(d,"clipboardInput",(p,b)=>{b.method!="paste"||e.model.canEditAt(e.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,b)=>{const v=b.dataTransfer;let C;if(b.content)C=b.content;else{let I="";v.getData("text/html")?I=function(L){return L.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(H,K)=>K.length==1?" ":K).replace(/<!--[\s\S]*?-->/g,"")}(v.getData("text/html")):v.getData("text/plain")&&(((j=(j=v.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||j.includes("<br>"))&&(j=`<p>${j}</p>`),I=j),C=this.editor.data.htmlProcessor.toView(I)}var j;const E=new V(this,"inputTransformation");this.fire(E,{content:C,dataTransfer:v,targetRanges:b.targetRanges,method:b.method}),E.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,b)=>{if(b.content.isEmpty)return;const v=this.editor.data.toModel(b.content,"$clipboardHolder");v.childCount!=0&&(p.stop(),s.change(()=>{this.fire("contentInsertion",{content:v,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,b)=>{b.resultRange=s.insertContent(b.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,s=e.model.document,a=e.editing.view.document,d=(p,b)=>{const v=b.dataTransfer;b.preventDefault();const C=e.data.toView(e.model.getSelectedContent(s.selection));a.fire("clipboardOutput",{dataTransfer:v,content:C,method:p.name})};this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(p,b)=>{e.model.canEditAt(e.model.document.selection)?d(p,b):b.preventDefault()},{priority:"low"}),this.listenTo(a,"clipboardOutput",(p,b)=>{b.content.isEmpty||(b.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(b.content)),b.dataTransfer.setData("text/plain",Aj(b.content))),b.method=="cut"&&e.model.deleteContent(s.selection)},{priority:"low"})}}class Nj{constructor(e,s=20){this._batch=null,this.model=e,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(a,d)=>{d.isLocal&&d.isUndoable&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class i6 extends Rt{constructor(e,s){super(e),this._buffer=new Nj(e.model,s),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const s=this.editor.model,a=s.document,d=e.text||"",p=d.length;let b=a.selection;if(e.selection?b=e.selection:e.range&&(b=s.createSelection(e.range)),!s.canEditAt(b))return;const v=e.resultRange;s.enqueueChange(this._buffer.batch,C=>{this._buffer.lock(),s.deleteContent(b),d&&s.insertContent(C.createText(d,a.selection.getAttributes()),b),v?C.setSelection(v):b.is("documentSelection")||C.setSelection(b),this._buffer.unlock(),this._buffer.input(p)})}}const jj=["insertText","insertReplacementText"];class a6 extends En{constructor(e){super(e),this.focusObserver=e.getObserver(Mh),_.isAndroid&&jj.push("insertCompositionText");const s=e.document;s.on("beforeinput",(a,d)=>{if(!this.isEnabled)return;const{data:p,targetRanges:b,inputType:v,domEvent:C}=d;if(!jj.includes(v))return;this.focusObserver.flush();const j=new V(s,"insertText");s.fire(j,new xl(e,C,{text:p,selection:e.createSelection(b)})),j.stop.called&&a.stop()}),s.on("compositionend",(a,{data:d,domEvent:p})=>{this.isEnabled&&!_.isAndroid&&d&&s.fire("insertText",new xl(e,p,{text:d,selection:s.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Sj extends Fe{static get pluginName(){return"Input"}init(){const e=this.editor,s=e.model,a=e.editing.view,d=s.document.selection;a.addObserver(a6);const p=new i6(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",p),e.commands.add("input",p),this.listenTo(a.document,"insertText",(b,v)=>{a.document.isComposing||v.preventDefault();const{text:C,selection:j,resultRange:E}=v,I=Array.from(j.getRanges()).map(K=>e.editing.mapper.toModelRange(K));let L=C;if(_.isAndroid){const K=Array.from(I[0].getItems()).reduce(($,ce)=>$+(ce.is("$textProxy")?ce.data:""),"");K&&(K.length<=L.length?L.startsWith(K)&&(L=L.substring(K.length),I[0].start=I[0].start.getShiftedBy(K.length)):K.startsWith(L)&&(I[0].start=I[0].start.getShiftedBy(L.length),L=""))}const H={text:L,selection:s.createSelection(I)};E&&(H.resultRange=e.editing.mapper.toModelRange(E)),e.execute("insertText",H),a.scrollToTheSelection()}),_.isAndroid?this.listenTo(a.document,"keydown",(b,v)=>{!d.isCollapsed&&v.keyCode==229&&a.document.isComposing&&Ej(s,p)}):this.listenTo(a.document,"compositionstart",()=>{d.isCollapsed||Ej(s,p)})}}function Ej(c,e){if(!e.isEnabled)return;const s=e.buffer;s.lock(),c.enqueueChange(s.batch,()=>{c.deleteContent(c.document.selection)}),s.unlock()}class Dj extends Rt{constructor(e,s){super(e),this.direction=s,this._buffer=new Nj(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const s=this.editor.model,a=s.document;s.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const p=d.createSelection(e.selection||a.selection);if(!s.canEditAt(p))return;const b=e.sequence||1,v=p.isCollapsed;if(p.isCollapsed&&s.modifySelection(p,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(b))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(p,b))return void this.editor.execute("paragraph",{selection:p});if(p.isCollapsed)return;let C=0;p.getFirstRange().getMinimalFlatRanges().forEach(j=>{C+=hn(j.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(p,{doNotResetEntireContent:v,direction:this.direction}),this._buffer.input(C),d.setSelection(p),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(d))||!s.schema.checkChild(d,"paragraph"))return!1;const p=d.getChild(0);return!p||!p.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a),p=e.createElement("paragraph");e.remove(e.createRangeIn(d)),e.insert(p,d),e.setSelection(p,0)}_shouldReplaceFirstBlockWithParagraph(e,s){const a=this.editor.model;if(s>1||this.direction!="backward"||!e.isCollapsed)return!1;const d=e.getFirstPosition(),p=a.schema.getLimitElement(d),b=p.getChild(0);return d.parent==b&&!!e.containsEntireContent(b)&&!!a.schema.checkChild(p,"paragraph")&&b.name!="paragraph"}}const Mj="word",lu="selection",of="backward",Ky="forward",Tj={deleteContent:{unit:lu,direction:of},deleteContentBackward:{unit:"codePoint",direction:of},deleteWordBackward:{unit:Mj,direction:of},deleteHardLineBackward:{unit:lu,direction:of},deleteSoftLineBackward:{unit:lu,direction:of},deleteContentForward:{unit:"character",direction:Ky},deleteWordForward:{unit:Mj,direction:Ky},deleteHardLineForward:{unit:lu,direction:Ky},deleteSoftLineForward:{unit:lu,direction:Ky}};class l6 extends En{constructor(e){super(e);const s=e.document;let a=0;s.on("keydown",()=>{a++}),s.on("keyup",()=>{a=0}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;const{targetRanges:b,domEvent:v,inputType:C}=p,j=Tj[C];if(!j)return;const E={direction:j.direction,unit:j.unit,sequence:a};E.unit==lu&&(E.selectionToRemove=e.createSelection(b[0])),C==="deleteContentBackward"&&(_.isAndroid&&(E.sequence=1),function(L){if(L.length!=1||L[0].isCollapsed)return!1;const H=L[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let K=0;for(const{nextPosition:$}of H){if($.parent.is("$text")){const ce=$.parent.data,fe=$.offset;if(Ei(ce,fe)||Xo(ce,fe)||ip(ce,fe))continue;K++}else K++;if(K>1)return!0}return!1}(b)&&(E.unit=lu,E.selectionToRemove=e.createSelection(b)));const I=new Fr(s,"delete",b[0]);s.fire(I,new xl(e,v,E)),I.stop.called&&d.stop()}),_.isBlink&&function(d){const p=d.view,b=p.document;let v=null,C=!1;function j(I){return I==Wt.backspace||I==Wt.delete}function E(I){return I==Wt.backspace?of:Ky}b.on("keydown",(I,{keyCode:L})=>{v=L,C=!1}),b.on("keyup",(I,{keyCode:L,domEvent:H})=>{const K=b.selection,$=d.isEnabled&&L==v&&j(L)&&!K.isCollapsed&&!C;if(v=null,$){const ce=K.getFirstRange(),fe=new Fr(b,"delete",ce),ve={unit:lu,direction:E(L),selectionToRemove:K};b.fire(fe,new xl(p,H,ve))}}),b.on("beforeinput",(I,{inputType:L})=>{const H=Tj[L];j(v)&&H&&H.direction==E(v)&&(C=!0)},{priority:"high"}),b.on("beforeinput",(I,{inputType:L,data:H})=>{v==Wt.delete&&L=="insertText"&&H==""&&I.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Tc extends Fe{static get pluginName(){return"Delete"}init(){const e=this.editor,s=e.editing.view,a=s.document,d=e.model.document;s.addObserver(l6),this._undoOnBackspace=!1;const p=new Dj(e,"forward");e.commands.add("deleteForward",p),e.commands.add("forwardDelete",p),e.commands.add("delete",new Dj(e,"backward")),this.listenTo(a,"delete",(b,v)=>{a.isComposing||v.preventDefault();const{direction:C,sequence:j,selectionToRemove:E,unit:I}=v,L=C==="forward"?"deleteForward":"delete",H={sequence:j};if(I=="selection"){const K=Array.from(E.getRanges()).map($=>e.editing.mapper.toModelRange($));H.selection=e.model.createSelection(K)}else H.unit=I;e.execute(L,H),s.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(b,v)=>{this._undoOnBackspace&&v.direction=="backward"&&v.sequence==1&&v.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),v.preventDefault(),b.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class c6 extends Fe{static get requires(){return[Sj,Tc]}static get pluginName(){return"Typing"}}function Ij(c,e){let s=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((a,{item:d})=>d.is("$text")||d.is("$textProxy")?a+d.data:(s=e.createPositionAfter(d),""),""),range:e.createRange(s,c.end)}}class Rj extends st(){constructor(e,s){super(),this.model=e,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(s,{directChange:a})=>{a&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(s,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(e,s={}){const a=this.model,d=a.document.selection,p=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:b,range:v}=Ij(p,a),C=this.testCallback(b);if(!C&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!C,C){const j=Object.assign(s,{text:b,range:v});typeof C=="object"&&Object.assign(j,C),this.fire(`matched:${e}`,j)}}}class Pj extends Fe{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,s=e.model,a=e.editing.view,d=e.locale,p=s.document.selection;this.listenTo(a.document,"arrowKey",(b,v)=>{if(!p.isCollapsed||v.shiftKey||v.altKey||v.ctrlKey)return;const C=v.keyCode==Wt.arrowright,j=v.keyCode==Wt.arrowleft;if(!C&&!j)return;const E=d.contentLanguageDirection;let I=!1;I=E==="ltr"&&C||E==="rtl"&&j?this._handleForwardMovement(v):this._handleBackwardMovement(v),I===!0&&b.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(p,"change:range",(b,v)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!v.directChange&&_0(p.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const s=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!Q1(a,s))&&!!_0(d,s)&&(C0(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const s=this.attributes,a=this.editor.model,d=a.document.selection,p=d.getFirstPosition();return this._isGravityOverridden?(C0(e),this._restoreGravity(),J1(a,s,p),!0):p.isAtStart?!!Q1(d,s)&&(C0(e),J1(a,s,p),!0):!!function(b,v){const C=b.getShiftedBy(-1);return _0(C,v)}(p,s)&&(p.isAtEnd&&!Q1(d,s)&&_0(p,s)?(C0(e),J1(a,s,p),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Q1(c,e){for(const s of e)if(c.hasAttribute(s))return!0;return!1}function J1(c,e,s){const a=s.nodeBefore;c.change(d=>{if(a){const p=[],b=c.schema.isObject(a)&&c.schema.isInline(a);for(const[v,C]of a.getAttributes())!c.schema.checkAttribute("$text",v)||b&&c.schema.getAttributeProperties(v).copyFromObject===!1||p.push([v,C]);d.setSelectionAttribute(p)}else d.removeSelectionAttribute(e)})}function C0(c){c.preventDefault()}function _0(c,e){const{nodeBefore:s,nodeAfter:a}=c;for(const d of e){const p=s?s.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==p)return!0}return!1}var Oj=/[\\^$.*+?()[\]{}|]/g,d6=RegExp(Oj.source);const u6=function(c){return(c=xp(c))&&d6.test(c)?c.replace(Oj,"\\$&"):c},Bj={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:af('"'),to:[null,"",null,""]},quotesSecondary:{from:af("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:af("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:af('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:af('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:af("'"),to:[null,"",null,""]}},Lj={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},h6=["symbols","mathematical","typography","quotes"];function m6(c){return typeof c=="string"?new RegExp(`(${u6(c)})$`):c}function p6(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function f6(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function af(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function lf(c,e,s,a){return a.createRange(zj(c,e,s,!0,a),zj(c,e,s,!1,a))}function zj(c,e,s,a,d){let p=c.textNode||(a?c.nodeBefore:c.nodeAfter),b=null;for(;p&&p.getAttribute(e)==s;)b=p,p=a?p.previousSibling:p.nextSibling;return b?d.createPositionAt(b,a?"before":"after"):c}function*Fj(c,e){for(const s of e)s&&c.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class g6 extends Rt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const s=this.editor.model,a=s.document.selection,d=s.schema,p=a.isCollapsed,b=a.getFirstRange(),v=b.start.parent,C=b.end.parent;if(d.isLimit(v)||d.isLimit(C))return p||v!=C||s.deleteContent(a),!1;if(p){const j=Fj(e.model.schema,a.getAttributes());return Vj(e,b.start),e.setSelectionAttribute(j),!0}{const j=!(b.start.isAtStart&&b.end.isAtEnd),E=v==C;if(s.deleteContent(a,{leaveUnmerged:j}),j){if(E)return Vj(e,a.focus),!0;e.setSelection(C,0)}}return!1}}function Vj(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const y6={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Uj extends En{constructor(e){super(e);const s=this.document;let a=!1;s.on("keydown",(d,p)=>{a=p.shiftKey}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;let b=p.inputType;_.isSafari&&a&&b=="insertParagraph"&&(b="insertLineBreak");const v=p.domEvent,C=y6[b];if(!C)return;const j=new Fr(s,"enter",p.targetRanges[0]);s.fire(j,new xl(e,v,{isSoft:C.isSoft})),j.stop.called&&d.stop()})}observe(){}stopObserving(){}}class A0 extends Fe{static get pluginName(){return"Enter"}init(){const e=this.editor,s=e.editing.view,a=s.document;s.addObserver(Uj),e.commands.add("enter",new g6(e)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(e.execute("enter"),s.scrollToTheSelection())},{priority:"low"})}}class b6 extends Rt{execute(){const e=this.editor.model,s=e.document;e.change(a=>{(function(d,p,b){const v=b.isCollapsed,C=b.getFirstRange(),j=C.start.parent,E=C.end.parent,I=j==E;if(v){const L=Fj(d.schema,b.getAttributes());Gj(d,p,C.end),p.removeSelectionAttribute(b.getAttributeKeys()),p.setSelectionAttribute(L)}else{const L=!(C.start.isAtStart&&C.end.isAtEnd);d.deleteContent(b,{leaveUnmerged:L}),I?Gj(d,p,b.focus):L&&p.setSelection(E,0)}})(e,a,s.selection),this.fire("afterExecute",{writer:a})})}refresh(){const e=this.editor.model,s=e.document;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const p=d.anchor;if(!p||!a.checkChild(p,"softBreak"))return!1;const b=d.getFirstRange(),v=b.start.parent,C=b.end.parent;return!((X1(v,a)||X1(C,a))&&v!==C)}(e.schema,s.selection)}}function Gj(c,e,s){const a=e.createElement("softBreak");c.insertContent(a,s),e.setSelection(a,"after")}function X1(c,e){return!c.is("rootElement")&&(e.isLimit(c)||X1(c.parent,e))}class x6 extends Fe{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,s=e.model.schema,a=e.conversion,d=e.editing.view,p=d.document;s.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:v})=>v.createEmptyElement("br")}),d.addObserver(Uj),e.commands.add("shiftEnter",new b6(e)),this.listenTo(p,"enter",(b,v)=>{p.isComposing||v.preventDefault(),v.isSoft&&(e.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class v6 extends te(){constructor(){super(...arguments),this._stack=[]}add(e,s){const a=this._stack,d=a[0];this._insertDescriptor(e);const p=a[0];d===p||Z1(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}remove(e,s){const a=this._stack,d=a[0];this._removeDescriptor(e);const p=a[0];d===p||Z1(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}_insertDescriptor(e){const s=this._stack,a=s.findIndex(p=>p.id===e.id);if(Z1(e,s[a]))return;a>-1&&s.splice(a,1);let d=0;for(;s[d]&&w6(s[d],e);)d++;s.splice(d,0,e)}_removeDescriptor(e){const s=this._stack,a=s.findIndex(d=>d.id===e);a>-1&&s.splice(a,1)}}function Z1(c,e){return c&&e&&c.priority==e.priority&&N0(c.classes)==N0(e.classes)}function w6(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&N0(c.classes)>N0(e.classes)}function N0(c){return Array.isArray(c)?c.sort().join(","):c}const k6='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',C6="ck-widget",Hj="ck-widget_selected";function sn(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function $1(c,e,s={}){if(!c.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(C6,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=N6,e.setCustomProperty("widgetLabel",[],c),s.label&&function(a,d){a.getCustomProperty("widgetLabel").push(d)}(c,s.label),s.hasSelectionHandle&&function(a,d){const p=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(b){const v=this.toDomElement(b),C=new Di;return C.set("content",k6),C.render(),v.appendChild(C.element),v});d.insert(d.createPositionAt(a,0),p),d.addClass(["ck-widget_with-selection-handle"],a)}(c,e),qj(c,e),c}function _6(c,e,s){if(e.classes&&s.addClass(bn(e.classes),c),e.attributes)for(const a in e.attributes)s.setAttribute(a,e.attributes[a],c)}function A6(c,e,s){if(e.classes&&s.removeClass(bn(e.classes),c),e.attributes)for(const a in e.attributes)s.removeAttribute(a,c)}function qj(c,e,s=_6,a=A6){const d=new v6;d.on("change:top",(p,b)=>{b.oldDescriptor&&a(c,b.oldDescriptor,b.writer),b.newDescriptor&&s(c,b.newDescriptor,b.writer)}),e.setCustomProperty("addHighlight",(p,b,v)=>d.add(b,v),c),e.setCustomProperty("removeHighlight",(p,b,v)=>d.remove(b,v),c)}function Yj(c,e,s={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),s.label&&e.setAttribute("aria-label",s.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(a,d,p)=>{e.setAttribute("contenteditable",p?"false":"true",c)}),c.on("change:isFocused",(a,d,p)=>{p?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),qj(c,e),c}function Wj(c,e){const s=c.getSelectedElement();if(s){const a=cu(c);if(a)return e.createRange(e.createPositionAt(s,a))}return au(c,e)}function N6(){return null}const Ic="widget-type-around";function tm(c,e,s){return!!c&&sn(c)&&!s.isInline(e)}function cu(c){return c.getAttribute(Ic)}var Kj=l(4921),j6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Kj.Z,j6),Kj.Z.locals;const Qj=["before","after"],S6=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Jj="ck-widget__type-around_disabled";class E6 extends Fe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[A0,Tc]}init(){const e=this.editor,s=e.editing.view;this.on("change:isEnabled",(a,d,p)=>{s.change(b=>{for(const v of s.document.roots)p?b.removeClass(Jj,v):b.addClass(Jj,v)}),p||e.model.change(b=>{b.removeSelectionAttribute(Ic)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,s){const a=this.editor,d=a.editing.view,p=a.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(e,s),attributes:p}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(e,s,a,d){this.listenTo(e,s,(...p)=>{this.isEnabled&&a(...p)},d)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,s=cu(e);if(!s)return!1;const a=e.getSelectedElement();return this._insertParagraph(a,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,s=e.model.schema,a=e.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(p,b,v)=>{const C=v.mapper.toViewElement(b.item);C&&tm(C,b.item,s)&&(function(j,E,I){const L=j.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(H){const K=this.toDomElement(H);return function($,ce){for(const fe of Qj){const ve=new Zo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${fe}`],title:ce[fe],"aria-hidden":"true"},children:[$.ownerDocument.importNode(S6,!0)]});$.appendChild(ve.render())}}(K,E),function($){const ce=new Zo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});$.appendChild(ce.render())}(K),K});j.insert(j.createPositionAt(I,"end"),L)}(v.writer,d,C),C.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,s=e.model,a=s.document.selection,d=s.schema,p=e.editing.view;function b(v){return`ck-widget_type-around_show-fake-caret_${v}`}this._listenToIfEnabled(p.document,"arrowKey",(v,C)=>{this._handleArrowKeyPress(v,C)},{context:[sn,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(v,C)=>{C.directChange&&e.model.change(j=>{j.removeSelectionAttribute(Ic)})}),this._listenToIfEnabled(s.document,"change:data",()=>{const v=a.getSelectedElement();v&&tm(e.editing.mapper.toViewElement(v),v,d)||e.model.change(C=>{C.removeSelectionAttribute(Ic)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(v,C,j)=>{const E=j.writer;if(this._currentFakeCaretModelElement){const K=j.mapper.toViewElement(this._currentFakeCaretModelElement);K&&(E.removeClass(Qj.map(b),K),this._currentFakeCaretModelElement=null)}const I=C.selection.getSelectedElement();if(!I)return;const L=j.mapper.toViewElement(I);if(!tm(L,I,d))return;const H=cu(C.selection);H&&(E.addClass(b(H),L),this._currentFakeCaretModelElement=I)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(v,C,j)=>{j||e.model.change(E=>{E.removeSelectionAttribute(Ic)})})}_handleArrowKeyPress(e,s){const a=this.editor,d=a.model,p=d.document.selection,b=d.schema,v=a.editing.view,C=function(I,L){const H=vo(I,L);return H==="down"||H==="right"}(s.keyCode,a.locale.contentLanguageDirection),j=v.document.selection.getSelectedElement();let E;tm(j,a.editing.mapper.toModelElement(j),b)?E=this._handleArrowKeyPressOnSelectedWidget(C):p.isCollapsed?E=this._handleArrowKeyPressWhenSelectionNextToAWidget(C):s.shiftKey||(E=this._handleArrowKeyPressWhenNonCollapsedSelection(C)),E&&(s.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const s=this.editor.model,a=cu(s.document.selection);return s.change(d=>a?a!==(e?"after":"before")?(d.removeSelectionAttribute(Ic),!0):!1:(d.setSelectionAttribute(Ic,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const s=this.editor,a=s.model,d=a.schema,p=s.plugins.get("Widget"),b=p._getObjectElementNextToSelection(e);return!!tm(s.editing.mapper.toViewElement(b),b,d)&&(a.change(v=>{p._setSelectionOverElement(b),v.setSelectionAttribute(Ic,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const s=this.editor,a=s.model,d=a.schema,p=s.editing.mapper,b=a.document.selection,v=e?b.getLastPosition().nodeBefore:b.getFirstPosition().nodeAfter;return!!tm(p.toViewElement(v),v,d)&&(a.change(C=>{C.setSelection(v,"on"),C.setSelectionAttribute(Ic,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,s=e.editing.view;this._listenToIfEnabled(s.document,"mousedown",(a,d)=>{const p=d.domTarget.closest(".ck-widget__type-around__button");if(!p)return;const b=function(j){return j.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(p),v=function(j,E){const I=j.closest(".ck-widget");return E.mapDomToView(I)}(p,s.domConverter),C=e.editing.mapper.toModelElement(v);this._insertParagraph(C,b),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,s=e.model.document.selection,a=e.editing.view;this._listenToIfEnabled(a.document,"enter",(d,p)=>{if(d.eventPhase!="atTarget")return;const b=s.getSelectedElement(),v=e.editing.mapper.toViewElement(b),C=e.model.schema;let j;this._insertParagraphAccordingToFakeCaretPosition()?j=!0:tm(v,b,C)&&(this._insertParagraph(b,p.isSoft?"before":"after"),j=!0),j&&(p.preventDefault(),d.stop())},{context:sn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(s,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=e.selection)},{priority:"high"}),_.isAndroid?this._listenToIfEnabled(e,"keydown",(s,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,s=e.editing.view,a=e.model,d=a.schema;this._listenToIfEnabled(s.document,"delete",(p,b)=>{if(p.eventPhase!="atTarget")return;const v=cu(a.document.selection);if(!v)return;const C=b.direction,j=a.document.selection.getSelectedElement(),E=C=="forward";if(v==="before"===E)e.execute("delete",{selection:a.createSelection(j,"on")});else{const I=d.getNearestSelectionRange(a.createPositionAt(j,v),C);if(I)if(I.isCollapsed){const L=a.createSelection(I.start);if(a.modifySelection(L,{direction:C}),L.focus.isEqual(I.start)){const H=function(K,$){let ce=$;for(const fe of $.getAncestors({parentFirst:!0})){if(fe.childCount>1||K.isLimit(fe))break;ce=fe}return ce}(d,I.start.parent);a.deleteContent(a.createSelection(H,"on"),{doNotAutoparagraph:!0})}else a.change(H=>{H.setSelection(I),e.execute(E?"deleteForward":"delete")})}else a.change(L=>{L.setSelection(I),e.execute(E?"deleteForward":"delete")})}b.preventDefault(),p.stop()},{context:sn})}_enableInsertContentIntegration(){const e=this.editor,s=this.editor.model,a=s.document.selection;this._listenToIfEnabled(e.model,"insertContent",(d,[p,b])=>{if(b&&!b.is("documentSelection"))return;const v=cu(a);return v?(d.stop(),s.change(C=>{const j=a.getSelectedElement(),E=s.createPositionAt(j,v),I=C.createSelection(E),L=s.insertContent(p,I);return C.setSelection(I),L})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(a,d)=>{const[,p,b={}]=d;if(p&&!p.is("documentSelection"))return;const v=cu(s);v&&(b.findOptimalPosition=v,d[3]=b)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(a,[d])=>{d&&!d.is("documentSelection")||cu(s)&&a.stop()},{priority:"high"})}}function D6(c){const e=c.model;return(s,a)=>{const d=a.keyCode==Wt.arrowup,p=a.keyCode==Wt.arrowdown,b=a.shiftKey,v=e.document.selection;if(!d&&!p)return;const C=p;if(b&&function(E,I){return!E.isCollapsed&&E.isBackward==I}(v,C))return;const j=function(E,I,L){const H=E.model;if(L){const K=I.isCollapsed?I.focus:I.getLastPosition(),$=Xj(H,K,"forward");if(!$)return null;const ce=H.createRange(K,$),fe=Zj(H.schema,ce,"backward");return fe?H.createRange(K,fe):null}{const K=I.isCollapsed?I.focus:I.getFirstPosition(),$=Xj(H,K,"backward");if(!$)return null;const ce=H.createRange($,K),fe=Zj(H.schema,ce,"forward");return fe?H.createRange(fe,K):null}}(c,v,C);if(j){if(j.isCollapsed&&(v.isCollapsed||b))return;(j.isCollapsed||function(E,I,L){const H=E.model,K=E.view.domConverter;if(L){const Pe=H.createSelection(I.start);H.modifySelection(Pe),Pe.focus.isAtEnd||I.start.isEqual(Pe.focus)||(I=H.createRange(Pe.focus,I.end))}const $=E.mapper.toViewRange(I),ce=K.viewRangeToDom($),fe=fr.getDomRangeRects(ce);let ve;for(const Pe of fe)if(ve!==void 0){if(Math.round(Pe.top)>=ve)return!1;ve=Math.max(ve,Math.round(Pe.bottom))}else ve=Math.round(Pe.bottom);return!0}(c,j,C))&&(e.change(E=>{const I=C?j.end:j.start;if(b){const L=e.createSelection(v.anchor);L.setFocus(I),E.setSelection(L)}else E.setSelection(I)}),s.stop(),a.preventDefault(),a.stopPropagation())}}}function Xj(c,e,s){const a=c.schema,d=c.createRangeIn(e.root),p=s=="forward"?"elementStart":"elementEnd";for(const{previousPosition:b,item:v,type:C}of d.getWalker({startPosition:e,direction:s})){if(a.isLimit(v)&&!a.isInline(v))return b;if(C==p&&a.isBlock(v))return null}return null}function Zj(c,e,s){const a=s=="backward"?e.end:e.start;if(c.checkChild(a,"$text"))return a;for(const{nextPosition:d}of e.getWalker({direction:s}))if(c.checkChild(d,"$text"))return d;return null}var $j=l(3488),M6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()($j.Z,M6),$j.Z.locals;class Qy extends Fe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[E6,Tc]}init(){const e=this.editor,s=e.editing.view,a=s.document;this.editor.editing.downcastDispatcher.on("selection",(d,p,b)=>{const v=b.writer,C=p.selection;if(C.isCollapsed)return;const j=C.getSelectedElement();if(!j)return;const E=e.editing.mapper.toViewElement(j);var I;sn(E)&&b.consumable.consume(C,"selection")&&v.setSelection(v.createRangeOn(E),{fake:!0,label:(I=E,I.getCustomProperty("widgetLabel").reduce((L,H)=>typeof H=="function"?L?L+". "+H():H():L?L+". "+H:H,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const v=b.writer,C=v.document.selection;let j=null;for(const E of C.getRanges())for(const I of E){const L=I.item;sn(L)&&!T6(L,j)&&(v.addClass(Hj,L),this._previouslySelected.add(L),j=L)}},{priority:"low"}),s.addObserver(em),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[sn,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",D6(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(e,s){const a=this.editor,d=a.editing.view,p=d.document;let b=s.target;if(function(C){let j=C;for(;j;){if(j.is("editableElement")&&!j.is("rootElement"))return!0;if(sn(j))return!1;j=j.parent}return!1}(b)){if((_.isSafari||_.isGecko)&&s.domEvent.detail>=3){const C=a.editing.mapper,j=b.is("attributeElement")?b.findAncestor(I=>!I.is("attributeElement")):b,E=C.toModelElement(j);s.preventDefault(),this.editor.model.change(I=>{I.setSelection(E,"in")})}return}if(!sn(b)&&(b=b.findAncestor(sn),!b))return;_.isAndroid&&s.preventDefault(),p.isFocused||d.focus();const v=a.editing.mapper.toModelElement(b);this._setSelectionOverElement(v)}_handleSelectionChangeOnArrowKeyPress(e,s){const a=s.keyCode,d=this.editor.model,p=d.schema,b=d.document.selection,v=b.getSelectedElement(),C=vo(a,this.editor.locale.contentLanguageDirection),j=C=="down"||C=="right",E=C=="up"||C=="down";if(v&&p.isObject(v)){const L=j?b.getLastPosition():b.getFirstPosition(),H=p.getNearestSelectionRange(L,j?"forward":"backward");return void(H&&(d.change(K=>{K.setSelection(H)}),s.preventDefault(),e.stop()))}if(!b.isCollapsed&&!s.shiftKey){const L=b.getFirstPosition(),H=b.getLastPosition(),K=L.nodeAfter,$=H.nodeBefore;return void((K&&p.isObject(K)||$&&p.isObject($))&&(d.change(ce=>{ce.setSelection(j?H:L)}),s.preventDefault(),e.stop()))}if(!b.isCollapsed)return;const I=this._getObjectElementNextToSelection(j);if(I&&p.isObject(I)){if(p.isInline(I)&&E)return;this._setSelectionOverElement(I),s.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,s){const a=this.editor.model,d=a.schema,p=a.document.selection.getSelectedElement();p&&d.isObject(p)&&(s.preventDefault(),e.stop())}_handleDelete(e){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const a=this._getObjectElementNextToSelection(e);return a?(this.editor.model.change(d=>{let p=s.anchor.parent;for(;p.isEmpty;){const b=p;p=b.parent,d.remove(b)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(s=>{s.setSelection(s.createRangeOn(e))})}_getObjectElementNextToSelection(e){const s=this.editor.model,a=s.schema,d=s.document.selection,p=s.createSelection(d);if(s.modifySelection(p,{direction:e?"forward":"backward"}),p.isEqual(d))return null;const b=e?p.focus.nodeBefore:p.focus.nodeAfter;return b&&a.isObject(b)?b:null}_clearPreviouslySelectedWidgets(e){for(const s of this._previouslySelected)e.removeClass(Hj,s);this._previouslySelected.clear()}}function T6(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class j0 extends Fe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[x0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const s=e.plugins.get("BalloonToolbar");this.listenTo(s,"show",a=>{(function(d){const p=d.getSelectedElement();return!(!p||!sn(p))})(e.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:s,items:a,getRelatedElement:d,balloonClassName:p="ck-toolbar-container"}){if(!a.length)return void W("widget-toolbar-no-items",{toolbarId:e});const b=this.editor,v=b.t,C=new ie(b.locale);if(C.ariaLabel=s||v("Widget toolbar"),this._toolbarDefinitions.has(e))throw new B("widget-toolbar-duplicated",this,{toolbarId:e});const j={view:C,getRelatedElement:d,balloonClassName:p,itemsConfig:a,initialized:!1};b.ui.addToolbar(C,{isContextual:!0,beforeFocus:()=>{const E=d(b.editing.view.document.selection);E&&this._showToolbar(j,E)},afterBlur:()=>{this._hideToolbar(j)}}),this._toolbarDefinitions.set(e,j)}_updateToolbarsVisibility(){let e=0,s=null,a=null;for(const d of this._toolbarDefinitions.values()){const p=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&p)if(this.editor.ui.focusTracker.isFocused){const b=p.getAncestors().length;b>e&&(e=b,s=p,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,s)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,s){this._isToolbarVisible(e)?eS(this.editor,s):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:tS(this.editor,s),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);eS(this.editor,d)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function eS(c,e){const s=c.plugins.get("ContextualBalloon"),a=tS(c,e);s.updatePosition(a)}function tS(c,e){const s=c.editing.view,a=Eo.defaultPositions;return{target:s.domConverter.mapViewToDom(e),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var rS=l(8506),I6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(rS.Z,I6),rS.Z.locals;var nS=l(903),R6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(nS.Z,R6),nS.Z.locals;class P6 extends Fe{static get pluginName(){return"DragDrop"}static get requires(){return[_l,Qy]}init(){const e=this.editor,s=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=H1(a=>this._updateDropMarker(a),40),this._removeDropMarkerDelayed=Jo(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Jo(()=>this._clearDraggableAttributes(),40),e.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(s.addObserver(K1),s.addObserver(em),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(a,d,p)=>{p?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,p)=>{p||this._finalizeDragging(!1)}),_.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,s=e.model,a=s.document,d=e.editing.view,p=d.document;this.listenTo(p,"dragstart",(b,v)=>{const C=a.selection;if(v.target&&v.target.is("editableElement"))return void v.preventDefault();const j=v.target?iS(v.target):null;if(j){const H=e.editing.mapper.toModelElement(j);this._draggedRange=No.fromRange(s.createRangeOn(H)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!p.selection.isCollapsed){const H=p.selection.getSelectedElement();H&&sn(H)||(this._draggedRange=No.fromRange(C.getFirstRange()))}if(!this._draggedRange)return void v.preventDefault();this._draggingUid=Y();const E=this.isEnabled&&e.model.canEditAt(this._draggedRange);v.dataTransfer.effectAllowed=E?"copyMove":"copy",v.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const I=s.createSelection(this._draggedRange.toRange()),L=e.data.toView(s.getSelectedContent(I));p.fire("clipboardOutput",{dataTransfer:v.dataTransfer,content:L,method:"dragstart"}),E||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(p,"dragend",(b,v)=>{this._finalizeDragging(!v.dataTransfer.isCanceled&&v.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(p,"dragenter",()=>{this.isEnabled&&d.focus()}),this.listenTo(p,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(p,"dragging",(b,v)=>{if(!this.isEnabled)return void(v.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const C=sS(e,v.targetRanges,v.target);e.model.canEditAt(C)?(this._draggedRange||(v.dataTransfer.dropEffect="copy"),_.isGecko||(v.dataTransfer.effectAllowed=="copy"?v.dataTransfer.dropEffect="copy":["all","copyMove"].includes(v.dataTransfer.effectAllowed)&&(v.dataTransfer.dropEffect="move")),C&&this._updateDropMarkerThrottled(C)):v.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,s=e.editing.view.document;this.listenTo(s,"clipboardInput",(a,d)=>{if(d.method!="drop")return;const p=sS(e,d.targetRanges,d.target);if(this._removeDropMarker(),!p||!e.model.canEditAt(p))return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),oS(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(p,!0))return this._finalizeDragging(!1),void a.stop();d.targetRanges=[e.editing.mapper.toViewRange(p)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(_l);e.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=a.targetRanges.map(p=>this.editor.editing.mapper.toModelRange(p));this.editor.model.change(p=>p.setSelection(d))},{priority:"high"}),e.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=oS(a.dataTransfer)=="move",p=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(p&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,s=e.editing.view,a=s.document;this.listenTo(a,"mousedown",(d,p)=>{if(_.isAndroid||!p)return;this._clearDraggableAttributesDelayed.cancel();let b=iS(p.target);if(_.isBlink&&!b&&!a.selection.isCollapsed){const v=a.selection.getSelectedElement();if(!v||!sn(v)){const C=a.selection.editableElement;C&&!C.isReadOnly&&(b=C)}}b&&(s.change(v=>{v.setAttribute("draggable","true",b)}),this._draggableElement=e.editing.mapper.toModelElement(b))}),this.listenTo(a,"mouseup",()=>{_.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(s=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&s.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:a})=>{if(e.model.schema.checkChild(s.markerRange.start,"$text"))return a.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const p=this.toDomElement(d);return p.append("",d.createElement("span"),""),p})}})}_updateDropMarker(e){const s=this.editor,a=s.model.markers;s.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(e)||d.updateMarker("drop-target",{range:e}):d.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(s=>{s.removeMarker("drop-target")})}_finalizeDragging(e){const s=this.editor,a=s.model;this._removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&a.deleteContent(a.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function sS(c,e,s){const a=c.model,d=c.editing.mapper;let p=null;const b=e?e[0].start:null;if(s.is("uiElement")&&(s=s.parent),p=function(j,E){const I=j.model,L=j.editing.mapper;if(sn(E))return I.createRangeOn(L.toModelElement(E));if(!E.is("editableElement")){const H=E.findAncestor(K=>sn(K)||K.is("editableElement"));if(sn(H))return I.createRangeOn(L.toModelElement(H))}return null}(c,s),p)return p;const v=function(j,E){const I=j.editing.mapper,L=j.editing.view,H=I.toModelElement(E);if(H)return H;const K=L.createPositionBefore(E),$=I.findMappedViewAncestor(K);return I.toModelElement($)}(c,s),C=b?d.toModelPosition(b):null;return C?(p=function(j,E,I){const L=j.model;if(!L.schema.checkChild(I,"$block"))return null;const H=L.createPositionAt(I,0),K=E.path.slice(0,H.path.length),$=L.createPositionFromPath(E.root,K),ce=$.nodeAfter;return ce&&L.schema.isObject(ce)?L.createRangeOn(ce):null}(c,C,v),p||(p=a.schema.getNearestSelectionRange(C,_.isGecko?"forward":"backward"),p||function(j,E){const I=j.model;let L=E;for(;L;){if(I.schema.isObject(L))return I.createRangeOn(L);L=L.parent}return null}(c,C.parent))):function(j,E){const I=j.model,L=I.schema,H=I.createPositionAt(E,0);return L.getNearestSelectionRange(H,"forward")}(c,v)}function oS(c){return _.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function iS(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(sn);if(sn(c))return c;const e=c.findAncestor(s=>sn(s)||s.is("editableElement"));return sn(e)?e:null}class O6 extends Fe{static get pluginName(){return"PastePlainText"}static get requires(){return[_l]}init(){const e=this.editor,s=e.model,a=e.editing.view,d=a.document,p=s.document.selection;let b=!1;a.addObserver(K1),this.listenTo(d,"keydown",(v,C)=>{b=C.shiftKey}),e.plugins.get(_l).on("contentInsertion",(v,C)=>{(b||function(j,E){if(j.childCount>1)return!1;const I=j.getChild(0);return E.isObject(I)?!1:Array.from(I.getAttributeKeys()).length==0}(C.content,s.schema))&&s.change(j=>{const E=Array.from(p.getAttributes()).filter(([L])=>s.schema.getAttributeProperties(L).isFormatting);p.isCollapsed||s.deleteContent(p,{doNotAutoparagraph:!0}),E.push(...p.getAttributes());const I=j.createRangeIn(C.content);for(const L of I.getItems())L.is("$textProxy")&&j.setAttributes(E,L)})})}}class aS extends Fe{static get pluginName(){return"Clipboard"}static get requires(){return[_l,P6,O6]}}class B6 extends Rt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,s=e.document.selection;let a=e.schema.getLimitElement(s);if(s.containsEntireContent(a)||!lS(e.schema,a))do if(a=a.parent,!a)return;while(!lS(e.schema,a));e.change(d=>{d.setSelection(a,"in")})}}function lS(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const L6=rr("Ctrl+A");class z6 extends Fe{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,s=e.editing.view.document;e.commands.add("selectAll",new B6(e)),this.listenTo(s,"keydown",(a,d)=>{Tr(d)===L6&&(e.execute("selectAll"),d.preventDefault())})}}class F6 extends Fe{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",s=>{const a=e.commands.get("selectAll"),d=new ir(s),p=s.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isEnabled").to(a,"isEnabled"),this.listenTo(d,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),d})}}class V6 extends Fe{static get requires(){return[z6,F6]}static get pluginName(){return"SelectAll"}}var U6=Object.defineProperty,cS=Object.getOwnPropertySymbols,G6=Object.prototype.hasOwnProperty,H6=Object.prototype.propertyIsEnumerable,dS=(c,e,s)=>e in c?U6(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;class uS extends Rt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(s,a)=>{a[1]=((p,b)=>{for(var v in b||(b={}))G6.call(b,v)&&dS(p,v,b[v]);if(cS)for(var v of cS(b))H6.call(b,v)&&dS(p,v,b[v]);return p})({},a[1]);const d=a[1];d.batchType||(d.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(s,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const s=this.editor.model.document.selection,a={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:e,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,s,a){const d=this.editor.model,p=d.document,b=[],v=e.map(j=>j.getTransformedByOperations(a)),C=v.flat();for(const j of v){const E=j.filter(I=>I.root!=p.graveyard).filter(I=>!Y6(I,C));E.length&&(q6(E),b.push(E[0]))}b.length&&d.change(j=>{j.setSelection(b,{backward:s})})}_undo(e,s){const a=this.editor.model,d=a.document;this._createdBatches.add(s);const p=e.operations.slice().filter(b=>b.isDocumentOperation);p.reverse();for(const b of p){const v=b.baseVersion+1,C=Array.from(d.history.getOperations(v)),j=va([b.getReversed()],C,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let E of j){const I=E.affectedSelectable;I&&!a.canEditAt(I)&&(E=new nn(E.baseVersion)),s.addOperation(E),a.applyOperation(E),d.history.setOperationAsUndone(b,E)}}}}function q6(c){c.sort((e,s)=>e.start.isBefore(s.start)?-1:1);for(let e=1;e<c.length;e++){const s=c[e-1].getJoined(c[e],!0);s&&(e--,c.splice(e,2,s))}}function Y6(c,e){return e.some(s=>s!==c&&s.containsRange(c,!0))}class W6 extends uS{execute(e=null){const s=e?this._stack.findIndex(p=>p.batch==e):this._stack.length-1,a=this._stack.splice(s,1)[0],d=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const p=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,p)}),this.fire("revert",a.batch,d),this.refresh()}}class K6 extends uS{execute(){const e=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{const a=e.batch.operations[e.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(a);this._restoreSelection(e.selection.ranges,e.selection.isBackward,d),this._undo(e.batch,s)}),this.refresh()}}class Q6 extends Fe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new W6(e),this._redoCommand=new K6(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const p=d.batch,b=this._redoCommand.createdBatches.has(p),v=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(b?this._undoCommand.addBatch(p):v||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,a,d)=>{this._redoCommand.addBatch(d)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const hS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',mS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class J6 extends Fe{static get pluginName(){return"UndoUI"}init(){const e=this.editor,s=e.locale,a=e.t,d=s.uiLanguageDirection=="ltr"?hS:mS,p=s.uiLanguageDirection=="ltr"?mS:hS;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",p)}_addButton(e,s,a,d){const p=this.editor;p.ui.componentFactory.add(e,b=>{const v=p.commands.get(e),C=new ir(b);return C.set({label:s,icon:d,keystroke:a,tooltip:!0}),C.bind("isEnabled").to(v,"isEnabled"),this.listenTo(C,"execute",()=>{p.execute(e),p.editing.view.focus()}),C})}}class pS extends Fe{static get requires(){return[Q6,J6]}static get pluginName(){return"Undo"}}class X6 extends st(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const s=this._reader;return this.total=e.size,new Promise((a,d)=>{s.onload=()=>{const p=s.result;this._data=p,a(p)},s.onerror=()=>{d("error")},s.onabort=()=>{d("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class ja extends Fe{constructor(){super(...arguments),this.loaders=new As,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[f]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,s)=>s?e/s*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return W("filerepository-no-upload-adapter"),null;const s=new fS(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(e,s),e instanceof Promise&&s.file.then(a=>{this._loadersMap.set(a,s)}).catch(()=>{}),s.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),s.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),s}destroyLoader(e){const s=e instanceof fS?e:this.getLoader(e);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach((a,d)=>{a===s&&this._loadersMap.delete(d)})}_updatePendingAction(){const e=this.editor.plugins.get(f);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,a=d=>`${s("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=e.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else e.remove(this._pendingAction),this._pendingAction=null}}class fS extends st(){constructor(e,s){super(),this.id=Y(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=s(this),this._reader=new X6,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new B("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new B("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const s={};return s.promise=new Promise((a,d)=>{s.rejecter=d,s.isFulfilled=!1,e.then(p=>{s.isFulfilled=!0,a(p)}).catch(p=>{s.isFulfilled=!0,d(p)})}),s}}class Z6 extends Ft{constructor(e){super(e),this.buttonView=new ir(e),this._fileInputView=new $6(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class $6 extends Ft{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const gS="ckCsrfToken",yS="abcdefghijklmnopqrstuvwxyz0123456789";function eL(){let c=function(a){a=a.toLowerCase();const d=document.cookie.split(";");for(const p of d){const b=p.split("=");if(decodeURIComponent(b[0].trim().toLowerCase())===a)return decodeURIComponent(b[1])}return null}(gS);var e,s;return c&&c.length==40||(c=function(a){let d="";const p=new Uint8Array(a);window.crypto.getRandomValues(p);for(let b=0;b<p.length;b++){const v=yS.charAt(p[b]%yS.length);d+=Math.random()>.5?v.toUpperCase():v}return d}(40),e=gS,s=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(s)+";path=/"),c}class tL{constructor(e,s,a){this.loader=e,this.url=s,this.t=a}upload(){return this.loader.file.then(e=>new Promise((s,a)=>{this._initRequest(),this._initListeners(s,a,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,s,a){const d=this.xhr,p=this.loader,b=(0,this.t)("Cannot upload file:")+` ${a.name}.`;d.addEventListener("error",()=>s(b)),d.addEventListener("abort",()=>s()),d.addEventListener("load",()=>{const v=d.response;if(!v||!v.uploaded)return s(v&&v.error&&v.error.message?v.error.message:b);e({default:v.url})}),d.upload&&d.upload.addEventListener("progress",v=>{v.lengthComputable&&(p.uploadTotal=v.total,p.uploaded=v.loaded)})}_sendRequest(e){const s=new FormData;s.append("upload",e),s.append("ckCsrfToken",eL()),this.xhr.send(s)}}function du(c,e,s,a){let d,p=null;typeof a=="function"?d=a:(p=c.commands.get(a),d=()=>{c.execute(a)}),c.model.document.on("change:data",(b,v)=>{if(p&&!p.isEnabled||!e.isEnabled)return;const C=en(c.model.document.selection.getRanges());if(!C.isCollapsed||v.isUndo||!v.isLocal)return;const j=Array.from(c.model.document.differ.getChanges()),E=j[0];if(j.length!=1||E.type!=="insert"||E.name!="$text"||E.length!=1)return;const I=E.position.parent;if(I.is("element","codeBlock")||I.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||p&&p.value===!0)return;const L=I.getChild(0),H=c.model.createRangeOn(L);if(!H.containsRange(C)&&!C.end.isEqual(H.end))return;const K=s.exec(L.data.substr(0,C.end.offset));K&&c.model.enqueueChange($=>{const ce=$.createPositionAt(I,0),fe=$.createPositionAt(I,K[0].length),ve=new No(ce,fe);if(d({match:K})!==!1){$.remove(ve);const Pe=c.model.document.selection.getFirstRange(),et=$.createRangeIn(I);!I.isEmpty||et.isEqual(Pe)||et.containsRange(Pe,!0)||$.remove(I)}ve.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function cf(c,e,s,a){let d,p;s instanceof RegExp?d=s:p=s,p=p||(b=>{let v;const C=[],j=[];for(;(v=d.exec(b))!==null&&!(v&&v.length<4);){let{index:E,1:I,2:L,3:H}=v;const K=I+L+H;E+=v[0].length-K.length;const $=[E,E+I.length],ce=[E+I.length+L.length,E+I.length+L.length+H.length];C.push($),C.push(ce),j.push([E+I.length,E+I.length+L.length])}return{remove:C,format:j}}),c.model.document.on("change:data",(b,v)=>{if(v.isUndo||!v.isLocal||!e.isEnabled)return;const C=c.model,j=C.document.selection;if(!j.isCollapsed)return;const E=Array.from(C.document.differ.getChanges()),I=E[0];if(E.length!=1||I.type!=="insert"||I.name!="$text"||I.length!=1)return;const L=j.focus,H=L.parent,{text:K,range:$}=function(Pe,et){let vt=Pe.start;return{text:Array.from(Pe.getItems()).reduce((nr,ss)=>!ss.is("$text")&&!ss.is("$textProxy")||ss.getAttribute("code")?(vt=et.createPositionAfter(ss),""):nr+ss.data,""),range:et.createRange(vt,Pe.end)}}(C.createRange(C.createPositionAt(H,0),L),C),ce=p(K),fe=bS($.start,ce.format,C),ve=bS($.start,ce.remove,C);fe.length&&ve.length&&C.enqueueChange(Pe=>{if(a(Pe,fe)!==!1){for(const et of ve.reverse())Pe.remove(et);C.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function bS(c,e,s){return e.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>s.createRange(c.getShiftedBy(a[0]),c.getShiftedBy(a[1])))}function S0(c,e){return(s,a)=>{if(!c.commands.get(e).isEnabled)return!1;const d=c.model.schema.getValidRanges(a,e);for(const p of d)s.setAttribute(e,!0,p);s.removeSelectionAttribute(e)}}class xS extends Rt{constructor(e,s){super(e),this.attributeKey=s}refresh(){const e=this.editor.model,s=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(e={}){const s=this.editor.model,a=s.document.selection,d=e.forceValue===void 0?!this.value:e.forceValue;s.change(p=>{if(a.isCollapsed)d?p.setSelectionAttribute(this.attributeKey,!0):p.removeSelectionAttribute(this.attributeKey);else{const b=s.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const v of b)d?p.setAttribute(this.attributeKey,d,v):p.removeAttribute(this.attributeKey,v)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,s=e.schema,a=e.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const p of d.getItems())if(s.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey);return!1}}const df="bold";class rL extends Fe{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:df}),e.model.schema.setAttributeProperties(df,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:df,view:"strong",upcastAlso:["b",s=>{const a=s.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(df,new xS(e,df)),e.keystrokes.set("CTRL+B",df)}}const eC="bold";class nL extends Fe{static get pluginName(){return"BoldUI"}init(){const e=this.editor,s=e.t;e.ui.componentFactory.add(eC,a=>{const d=e.commands.get(eC),p=new ir(a);return p.set({label:s("Bold"),icon:x.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute(eC),e.editing.view.focus()}),p})}}var vS=l(8603),sL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(vS.Z,sL),vS.Z.locals;const uf="italic";class oL extends Fe{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:uf}),e.model.schema.setAttributeProperties(uf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:uf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(uf,new xS(e,uf)),e.keystrokes.set("CTRL+I",uf)}}const tC="italic";class iL extends Fe{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,s=e.t;e.ui.componentFactory.add(tC,a=>{const d=e.commands.get(tC),p=new ir(a);return p.set({label:s("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute(tC),e.editing.view.focus()}),p})}}class aL extends Rt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const s=this.editor.model,a=s.schema,d=s.document.selection,p=Array.from(d.getSelectedBlocks()),b=e.forceValue===void 0?!this.value:e.forceValue;s.change(v=>{if(b){const C=p.filter(j=>E0(j)||kS(a,j));this._applyQuote(v,C)}else this._removeQuote(v,p.filter(E0))})}_getValue(){const e=en(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!E0(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,s=this.editor.model.schema,a=en(e.getSelectedBlocks());return!!a&&kS(s,a)}_removeQuote(e,s){wS(e,s).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void e.unwrap(a.start.parent);if(a.start.isAtStart){const p=e.createPositionBefore(a.start.parent);return void e.move(a,p)}a.end.isAtEnd||e.split(a.end);const d=e.createPositionAfter(a.end.parent);e.move(a,d)})}_applyQuote(e,s){const a=[];wS(e,s).reverse().forEach(d=>{let p=E0(d.start);p||(p=e.createElement("blockQuote"),e.wrap(d,p)),a.push(p)}),a.reverse().reduce((d,p)=>d.nextSibling==p?(e.merge(e.createPositionAfter(d)),d):p)}}function E0(c){return c.parent.name=="blockQuote"?c.parent:null}function wS(c,e){let s,a=0;const d=[];for(;a<e.length;){const p=e[a],b=e[a+1];s||(s=c.createPositionBefore(p)),b&&p.nextSibling==b||(d.push(c.createRange(s,c.createPositionAfter(p))),s=null),a++}return d}function kS(c,e){const s=c.checkChild(e.parent,"blockQuote"),a=c.checkChild(["$root","blockQuote"],e);return s&&a}class lL extends Fe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[A0,Tc]}init(){const e=this.editor,s=e.model.schema;e.commands.add("blockQuote",new aL(e)),s.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(b=>{const v=e.model.document.differ.getChanges();for(const C of v)if(C.type=="insert"){const j=C.position.nodeAfter;if(!j)continue;if(j.is("element","blockQuote")&&j.isEmpty)return b.remove(j),!0;if(j.is("element","blockQuote")&&!s.checkChild(C.position,j))return b.unwrap(j),!0;if(j.is("element")){const E=b.createRangeIn(j);for(const I of E.getItems())if(I.is("element","blockQuote")&&!s.checkChild(b.createPositionBefore(I),I))return b.unwrap(I),!0}}else if(C.type=="remove"){const j=C.position.parent;if(j.is("element","blockQuote")&&j.isEmpty)return b.remove(j),!0}return!1});const a=this.editor.editing.view.document,d=e.model.document.selection,p=e.commands.get("blockQuote");this.listenTo(a,"enter",(b,v)=>{!d.isCollapsed||!p.value||d.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),v.preventDefault(),b.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(b,v)=>{if(v.direction!="backward"||!d.isCollapsed||!p.value)return;const C=d.getLastPosition().parent;C.isEmpty&&!C.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),v.preventDefault(),b.stop())},{context:"blockquote"})}}var CS=l(3062),cL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(CS.Z,cL),CS.Z.locals;class dL extends Fe{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,s=e.t;e.ui.componentFactory.add("blockQuote",a=>{const d=e.commands.get("blockQuote"),p=new ir(a);return p.set({label:s("Block quote"),icon:x.quote,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),p})}}class uL extends Fe{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,s=e.commands.get("ckbox");if(!s)return;const a=e.t;e.ui.componentFactory.add("ckbox",d=>{const p=new ir(d);return p.set({label:a("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),p.bind("isOn","isEnabled").to(s,"value","isEnabled"),p.on("execute",()=>{e.execute("ckbox")}),p})}}function _S(c){const e=[];let s=0;for(const d in c){const p=parseInt(d,10);isNaN(p)||(p>s&&(s=p),e.push(`${c[d]} ${d}w`))}const a=[{srcset:e.join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:a}}class hL extends Rt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");return!(!e.isEnabled&&!s.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:s=>this.fire("ckbox:choose",s)}}}_initListeners(){const e=this.editor,s=e.model,a=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{!this.isEnabled||this.value||(this._wrapper=od(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()),AS(50))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(d,p)=>{if(!this.isEnabled)return;const b=e.commands.get("insertImage"),v=e.commands.get("link"),C=function({assets:j,isImageAllowed:E,isLinkAllowed:I}){return j.map(L=>function(H){const K=H.data.metadata;return K?K.width&&K.height:!1}(L)?{id:L.data.id,type:"image",attributes:mL(L)}:{id:L.data.id,type:"link",attributes:pL(L)}).filter(L=>L.type==="image"?E:I)}({assets:p,isImageAllowed:b.isEnabled,isLinkAllowed:v.isEnabled});C.length!==0&&s.change(j=>{for(const E of C){const I=E===C[C.length-1];this._insertAsset(E,I,j),a&&(setTimeout(()=>this._chosenAssets.delete(E),1e3),this._chosenAssets.add(E))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,s,a){const d=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,a),s||a.setSelection(d.getLastPosition())}_insertImage(e){const s=this.editor,{imageFallbackUrl:a,imageSources:d,imageTextAlternative:p}=e.attributes;s.execute("insertImage",{source:{src:a,sources:d,alt:p}})}_insertLink(e,s){const a=this.editor,d=a.model,p=d.document.selection,{linkName:b,linkHref:v}=e.attributes;if(p.isCollapsed){const C=ms(p.getAttributes()),j=s.createText(b,C),E=d.insertContent(j);s.setSelection(E)}a.execute("link",v)}}function mL(c){const{imageFallbackUrl:e,imageSources:s}=_S(c.data.imageUrls);return{imageFallbackUrl:e,imageSources:s,imageTextAlternative:c.data.metadata.description||""}}function pL(c){return{linkName:c.data.name,linkHref:fL(c)}}function fL(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}function AS(c){setTimeout(()=>{if(c===0)return;const e=document.querySelector(".ckbox-gallery .ckbox-gallery-item"),s=document.querySelector(".ckbox-empty-view .ckbox-btn");s&&s instanceof HTMLElement?s.focus():e&&e instanceof HTMLElement?e.focus():AS(c-1)},100)}var rm=(c,e,s)=>new Promise((a,d)=>{var p=C=>{try{v(s.next(C))}catch(j){d(j)}},b=C=>{try{v(s.throw(C))}catch(j){d(j)}},v=C=>C.done?a(C.value):Promise.resolve(C.value).then(p,b);v((s=s.apply(c,e)).next())});class gL extends Fe{static get requires(){return["ImageUploadEditing","ImageUploadProgress",ja,rC]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return rm(this,null,function*(){const e=this.editor,s=!!e.config.get("ckbox"),a=!!window.CKBox;if(!s&&!a)return;const d=e.plugins.get(ja),p=e.plugins.get(rC);d.createUploadAdapter=C=>new yL(C,p.getToken(),e);const b=!e.config.get("ckbox.ignoreDataId"),v=e.plugins.get("ImageUploadEditing");b&&v.on("uploadComplete",(C,{imageElement:j,data:E})=>{e.model.change(I=>{I.setAttribute("ckboxImageId",E.ckboxImageId,j)})})})}}class yL{constructor(e,s,a){this.loader=e,this.token=s,this.editor=a,this.controller=new AbortController,this.serviceOrigin=a.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),s=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(d,p){const[,b]=d.value.split("."),v=JSON.parse(atob(b)),C=v.auth&&v.auth.ckbox&&v.auth.ckbox.workspaces||[v.aud];return p?(v.auth&&v.auth.ckbox&&v.auth.ckbox.role)=="superadmin"||C.includes(p)?p:null:C[0]}(this.token,s);if(a==null)throw Z("ckbox-access-default-workspace-error"),e;return a}getAvailableCategories(e=0){return rm(this,null,function*(){const s=new URL("categories",this.serviceOrigin);return s.searchParams.set("limit","50"),s.searchParams.set("offset",e.toString()),s.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:s}).then(a=>rm(this,null,function*(){if(a.totalCount-(e+50)>0){const d=yield this.getAvailableCategories(e+50);return[...a.items,...d]}return a.items})).catch(()=>{this.controller.signal.throwIfAborted(),Z("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return rm(this,null,function*(){const s=function(b){const v=new RegExp("\\.(?<ext>[^.]+)$");return b.match(v).groups.ext.toLowerCase()}(e.name),a=yield this.getAvailableCategories();if(!a)return null;const d=this.editor.config.get("ckbox.defaultUploadCategories");if(d){const b=Object.keys(d).find(v=>d[v].find(C=>C.toLowerCase()==s));if(b){const v=a.find(C=>C.id===b||C.name===b);return v?v.id:null}}const p=a.find(b=>b.extensions.find(v=>v.toLowerCase()==s));return p?p.id:null})}upload(){return rm(this,null,function*(){const e=this.editor.t,s=e("Cannot determine a category for the uploaded file."),a=yield this.loader.file,d=yield this.getCategoryIdForFile(a);if(!d)return Promise.reject(s);const p=new URL("assets",this.serviceOrigin),b=new FormData;p.searchParams.set("workspaceId",this.getWorkspaceId()),b.append("categoryId",d),b.append("file",a);const v={method:"POST",url:p,data:b,onUploadProgress:C=>{C.lengthComputable&&(this.loader.uploadTotal=C.total,this.loader.uploaded=C.loaded)}};return this._sendHttpRequest(v).then(C=>rm(this,null,function*(){const j=_S(C.imageUrls);return{ckboxImageId:C.id,default:j.imageFallbackUrl,sources:j.imageSources}})).catch(()=>{const C=e("Cannot upload file:")+` ${a.name}.`;return Promise.reject(C)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:s="GET",data:a,onUploadProgress:d}){const p=this.controller.signal,b=new XMLHttpRequest;b.open(s,e.toString(),!0),b.setRequestHeader("Authorization",this.token.value),b.setRequestHeader("CKBox-Version","CKEditor 5"),b.responseType="json";const v=()=>{b.abort()};return new Promise((C,j)=>{p.addEventListener("abort",v),b.addEventListener("loadstart",()=>{p.addEventListener("abort",v)}),b.addEventListener("loadend",()=>{p.removeEventListener("abort",v)}),b.addEventListener("error",()=>{j()}),b.addEventListener("abort",()=>{j()}),b.addEventListener("load",()=>rm(this,null,function*(){const E=b.response;return!E||E.statusCode>=400?j(E&&E.message):C(E)})),d&&b.upload.addEventListener("progress",E=>{d(E)}),b.send(a)})}}class rC extends Fe{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",gL]}init(){return e=this,s=null,a=function*(){const d=this.editor,p=!!d.config.get("ckbox"),b=!!window.CKBox;if(!p&&!b)return;this._initConfig();const v=d.plugins.get("CloudServicesCore"),C=d.config.get("ckbox.tokenUrl");if(C===d.config.get("cloudServices.tokenUrl")){const j=d.plugins.get("CloudServices");this._token=j.token}else this._token=yield v.createToken(C).init();d.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),b&&d.commands.add("ckbox",new hL(d))},new Promise((d,p)=>{var b=j=>{try{C(a.next(j))}catch(E){p(E)}},v=j=>{try{C(a.throw(j))}catch(E){p(E)}},C=j=>j.done?d(j.value):Promise.resolve(j.value).then(b,v);C((a=a.apply(e,s)).next())});var e,s,a}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new B("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||Z("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((s,a)=>{if(!s.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(a,d,p)=>{const{writer:b,mapper:v,consumable:C}=p;if(!C.consume(d.item,a.name))return;const j=[...v.toViewElement(d.item).getChildren()].find(E=>E.name==="a");j&&(d.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",d.item.getAttribute("ckboxLinkId"),j):b.removeAttribute("data-ckbox-resource-id",j))},{priority:"low"}),s.on("attribute:ckboxLinkId",(a,d,p)=>{const{writer:b,mapper:v,consumable:C}=p;if(C.consume(d.item,a.name)){if(d.attributeOldValue){const j=NS(b,d.attributeOldValue);b.unwrap(v.toViewRange(d.range),j)}if(d.attributeNewValue){const j=NS(b,d.attributeNewValue);if(d.item.is("selection")){const E=b.document.selection;b.wrap(E.getFirstRange(),j)}else b.wrap(v.toViewRange(d.range),j)}}},{priority:"low"})}),e.conversion.for("upcast").add(s=>{s.on("element:a",(a,d,p)=>{const{writer:b,consumable:v}=p;if(!d.viewItem.getAttribute("href")||!v.consume(d.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const C=d.viewItem.getAttribute("data-ckbox-resource-id");if(C)if(d.modelRange)for(let j of d.modelRange.getItems())j.is("$textProxy")&&(j=j.textNode),xL(j)&&b.setAttribute("ckboxLinkId",C,j);else{const j=d.modelCursor.nodeBefore||d.modelCursor.parent;b.setAttribute("ckboxLinkId",C,j)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,s=e.model,a=s.document.selection;s.document.registerPostFixer(function(d){return p=>{let b=!1;const v=d.model,C=d.commands.get("ckbox");if(!C)return b;for(const j of v.document.differ.getChanges()){if(j.type!=="insert"&&j.type!=="attribute")continue;const E=j.type==="insert"?new De(j.position,j.position.getShiftedBy(j.length)):j.range,I=j.type==="attribute"&&j.attributeKey==="linkHref"&&j.attributeNewValue===null;for(const L of E.getItems()){if(I&&L.hasAttribute("ckboxLinkId")){p.removeAttribute("ckboxLinkId",L),b=!0;continue}const H=bL(L,C._chosenAssets);for(const K of H){const $=K.type==="image"?"ckboxImageId":"ckboxLinkId";K.id!==L.getAttribute($)&&(p.setAttribute($,K.id,L),b=!0)}}}return b}}(e)),s.document.registerPostFixer(function(d){return p=>!(d.hasAttribute("linkHref")||!d.hasAttribute("ckboxLinkId"))&&(p.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function bL(c,e){const s=c.is("element","imageInline")||c.is("element","imageBlock"),a=c.hasAttribute("linkHref");return[...e].filter(d=>d.type==="image"&&s?d.attributes.imageFallbackUrl===c.getAttribute("src"):d.type==="link"&&a?d.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function NS(c,e){const s=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,s),s}function xL(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}class vL extends Fe{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,s=e.ui.componentFactory,a=e.t;s.add("ckfinder",d=>{const p=e.commands.get("ckfinder"),b=new ir(d);return b.set({label:a("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),b.bind("isEnabled").to(p),b.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),b})}}class wL extends Rt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");this.isEnabled=e.isEnabled||s.isEnabled}execute(){const e=this.editor,s=this.editor.config.get("ckfinder.openerMethod")||"modal";if(s!="popup"&&s!="modal")throw new B("ckfinder-unknown-openermethod",e);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const d=a.onInit;a.language||(a.language=e.locale.uiLanguage),a.onInit=p=>{d&&d(p),p.on("files:choose",b=>{const v=b.data.files.toArray(),C=v.filter(I=>!I.isImage()),j=v.filter(I=>I.isImage());for(const I of C)e.execute("link",I.getUrl());const E=[];for(const I of j){const L=I.getUrl();E.push(L||p.request("file:getProxyUrl",{file:I}))}E.length&&jS(e,E)}),p.on("file:choose:resizedImage",b=>{const v=b.data.resizedUrl;if(v)jS(e,[v]);else{const C=e.plugins.get("Notification"),j=e.locale.t;C.showWarning(j("Could not obtain resized image URL."),{title:j("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[s](a)}}function jS(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const s=c.plugins.get("Notification"),a=c.locale.t;s.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class kL extends Fe{static get pluginName(){return"CKFinderEditing"}static get requires(){return[q1,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new B("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new wL(e))}}class CL extends Fe{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",ja]}init(){const e=this.editor,s=e.plugins.get("CloudServices"),a=s.token,d=s.uploadUrl;if(!a)return;const p=e.plugins.get("CloudServicesCore");this._uploadGateway=p.createUploadGateway(a,d),e.plugins.get(ja).createUploadAdapter=b=>new _L(this._uploadGateway,b)}}class _L{constructor(e,s){this.uploadGateway=e,this.loader=s}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(s,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class AL extends Rt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,s=en(e.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&SS(s,e.schema)}execute(e={}){const s=this.editor.model,a=s.document,d=e.selection||a.selection;s.canEditAt(d)&&s.change(p=>{const b=d.getSelectedBlocks();for(const v of b)!v.is("element","paragraph")&&SS(v,s.schema)&&p.rename(v,"paragraph")})}}function SS(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class NL extends Rt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const s=this.editor.model,a=e.attributes;let d=e.position;s.canEditAt(d)&&s.change(p=>{if(d=this._findPositionToInsertParagraph(d,p),!d)return;const b=p.createElement("paragraph");a&&s.schema.setAllowedAttributes(b,a,p),s.insertContent(b,d),p.setSelection(b,"in")})}_findPositionToInsertParagraph(e,s){const a=this.editor.model;if(a.schema.checkChild(e,"paragraph"))return e;const d=a.schema.findAllowedParent(e,"paragraph");if(!d)return null;const p=e.parent,b=a.schema.checkChild(p,"$text");return p.isEmpty||b&&e.isAtEnd?a.createPositionAfter(p):!p.isEmpty&&b&&e.isAtStart?a.createPositionBefore(p):s.split(e,d).position}}const ES=class extends Fe{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new AL(c)),c.commands.add("insertParagraph",new NL(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(s,{writer:a})=>ES.paragraphLikeElements.has(s.name)?s.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let nC=ES;nC.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class jL extends Rt{constructor(e,s){super(e),this.modelElements=s}refresh(){const e=en(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(s=>DS(e,s,this.editor.model.schema))}execute(e){const s=this.editor.model,a=s.document,d=e.value;s.change(p=>{const b=Array.from(a.selection.getSelectedBlocks()).filter(v=>DS(v,d,s.schema));for(const v of b)v.is("element",d)||p.rename(v,d)})}}function DS(c,e,s){return s.checkChild(c.parent,e)&&!s.isObject(c)}const MS="paragraph";class SL extends Fe{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[nC]}init(){const e=this.editor,s=e.config.get("heading.options"),a=[];for(const d of s)d.model!=="paragraph"&&(e.model.schema.register(d.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new jL(e,a))}afterInit(){const e=this.editor,s=e.commands.get("enter"),a=e.config.get("heading.options");s&&this.listenTo(s,"afterExecute",(d,p)=>{const b=e.model.document.selection.getFirstPosition().parent;a.some(v=>b.is("element",v.model))&&!b.is("element",MS)&&b.childCount===0&&p.writer.rename(b,MS)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ee.low+1})}}var TS=l(8733),EL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(TS.Z,EL),TS.Z.locals;class DL extends Fe{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,s=e.t,a=function(b){const v=b.t,C={Paragraph:v("Paragraph"),"Heading 1":v("Heading 1"),"Heading 2":v("Heading 2"),"Heading 3":v("Heading 3"),"Heading 4":v("Heading 4"),"Heading 5":v("Heading 5"),"Heading 6":v("Heading 6")};return b.config.get("heading.options").map(j=>{const E=C[j.title];return E&&E!=j.title&&(j.title=E),j})}(e),d=s("Choose heading"),p=s("Heading");e.ui.componentFactory.add("heading",b=>{const v={},C=new As,j=e.commands.get("heading"),E=e.commands.get("paragraph"),I=[j];for(const H of a){const K={type:"button",model:new uj({label:H.title,class:H.class,role:"menuitemradio",withText:!0})};H.model==="paragraph"?(K.model.bind("isOn").to(E,"value"),K.model.set("commandName","paragraph"),I.push(E)):(K.model.bind("isOn").to(j,"value",$=>$===H.model),K.model.set({commandName:"heading",commandValue:H.model})),C.add(K),v[H.model]=H.title}const L=ct(b);return ar(L,C,{ariaLabel:p,role:"menu"}),L.buttonView.set({ariaLabel:p,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:p}),L.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),L.bind("isEnabled").toMany(I,"isEnabled",(...H)=>H.some(K=>K)),L.buttonView.bind("label").to(j,"value",E,"value",(H,K)=>{const $=H||K&&"paragraph";return typeof $=="boolean"?d:v[$]?v[$]:d}),this.listenTo(L,"execute",H=>{const{commandName:K,commandValue:$}=H.source;e.execute(K,$?{value:$}:void 0),e.editing.view.focus()}),L})}}function IS(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function RS(c,e){const s=c.plugins.get("ImageUtils"),a=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return p=>s.isInlineImageView(p)?a&&(p.getStyle("display")=="block"||p.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==e?null:d(p):null;function d(p){const b={name:!0};return p.hasAttribute("src")&&(b.attributes=["src"]),b}}function sC(c,e){const s=en(e.getSelectedBlocks());return!s||c.isObject(s)||s.isEmpty&&s.name!="listItem"?"imageBlock":"imageInline"}var ML=Object.defineProperty,PS=Object.getOwnPropertySymbols,TL=Object.prototype.hasOwnProperty,IL=Object.prototype.propertyIsEnumerable,OS=(c,e,s)=>e in c?ML(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,BS=(c,e)=>{for(var s in e||(e={}))TL.call(e,s)&&OS(c,s,e[s]);if(PS)for(var s of PS(e))IL.call(e,s)&&OS(c,s,e[s]);return c};class Sa extends Fe{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},s=null,a=null){const d=this.editor,p=d.model,b=p.document.selection;a=LS(d,s||b,a),e=BS(BS({},Object.fromEntries(b.getAttributes())),e);for(const v in e)p.schema.checkAttribute(a,v)||delete e[v];return p.change(v=>{const C=v.createElement(a,e);return p.insertObject(C,s,null,{setSelection:"on",findOptimalPosition:s||a=="imageInline"?void 0:"auto"}),C.parent?C:null})}getClosestSelectedImageWidget(e){const s=e.getFirstPosition();if(!s)return null;const a=e.getSelectedElement();if(a&&this.isImageWidget(a))return a;let d=s.parent;for(;d;){if(d.is("element")&&this.isImageWidget(d))return d;d=d.parent}return null}getClosestSelectedImageElement(e){const s=e.getSelectedElement();return this.isImage(s)?s:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(s,a){if(LS(s,a,null)=="imageBlock"){const p=function(b,v){const C=Wj(b,v),j=C.start.parent;return j.isEmpty&&!j.is("element","$root")?j.parent:j}(a,s.model);if(s.model.schema.checkChild(p,"imageBlock"))return!0}else if(s.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(s){return[...s.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(e)}toImageWidget(e,s,a){return s.setCustomProperty("image",!0,e),$1(e,s,{label:()=>{const d=this.findViewImgElement(e).getAttribute("alt");return d?`${d} ${a}`:a}})}isImageWidget(e){return!!e.getCustomProperty("image")&&sn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const s=this.editor.editing.view;for(const{item:a}of s.createRangeIn(e))if(this.isInlineImageView(a))return a}}function LS(c,e,s){const a=c.model.schema,d=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?s||(d==="inline"?"imageInline":d==="block"?"imageBlock":e.is("selection")?sC(a,e):a.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class RL extends Rt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const s=this.editor,a=s.plugins.get("ImageUtils"),d=s.model,p=a.getClosestSelectedImageElement(d.document.selection);d.change(b=>{b.setAttribute("alt",e.newValue,p)})}}class PL extends Fe{static get requires(){return[Sa]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new RL(this.editor))}}var zS=l(1905),OL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(zS.Z,OL),zS.Z.locals;var FS=l(6764),BL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(FS.Z,BL),FS.Z.locals;class LL extends Ft{constructor(e){super(e);const s=this.locale.t;this.focusTracker=new hs,this.keystrokes=new wo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._focusables=new ko,this._focusCycler=new Co({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),y({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,s,a,d){const p=new ir(this.locale);return p.set({label:e,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createLabeledInputView(){const e=this.locale.t,s=new mp(this.locale,I1);return s.label=e("Text alternative"),s}}function VS(c){const e=c.editing.view,s=Eo.defaultPositions,a=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(e.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class zL extends Fe{static get requires(){return[x0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,s=e.t;e.ui.componentFactory.add("imageTextAlternative",a=>{const d=e.commands.get("imageTextAlternative"),p=new ir(a);return p.set({label:s("Change image text alternative"),icon:x.lowVision,tooltip:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",b=>!!b),this.listenTo(p,"execute",()=>{this._showForm()}),p})}_createForm(){const e=this.editor,s=e.editing.view.document,a=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(g(LL))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,p)=>{this._hideForm(!0),p()}),this.listenTo(e.ui,"update",()=>{a.getClosestSelectedImageWidget(s.selection)?this._isVisible&&function(d){const p=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const b=VS(d);p.updatePosition(b)}}(e):this._hideForm(!0)}),m({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,s=e.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:VS(e)}),a.fieldView.value=a.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class US extends Fe{static get requires(){return[PL,zL]}static get pluginName(){return"ImageTextAlternative"}}function GS(c,e){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const b=p.writer,v=p.mapper.toViewElement(d.item),C=c.findViewImgElement(v);if(d.attributeNewValue===null){const j=d.attributeOldValue;j&&j.data&&(b.removeAttribute("srcset",C),b.removeAttribute("sizes",C),j.width&&b.removeAttribute("width",C))}else{const j=d.attributeNewValue;j&&j.data&&(b.setAttribute("srcset",j.data,C),b.setAttribute("sizes","100vw",C),j.width&&b.setAttribute("width",j.width,C))}};return a=>{a.on(`attribute:srcset:${e}`,s)}}function D0(c,e,s){const a=(d,p,b)=>{if(!b.consumable.consume(p.item,d.name))return;const v=b.writer,C=b.mapper.toViewElement(p.item),j=c.findViewImgElement(C);v.setAttribute(p.attributeKey,p.attributeNewValue||"",j)};return d=>{d.on(`attribute:${s}:${e}`,a)}}class FL extends En{observe(e){this.listenTo(e,"load",(s,a)=>{const d=a.target;this.checkShouldIgnoreEventFromTarget(d)||d.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var VL=Object.defineProperty,HS=Object.getOwnPropertySymbols,UL=Object.prototype.hasOwnProperty,GL=Object.prototype.propertyIsEnumerable,qS=(c,e,s)=>e in c?VL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,M0=(c,e)=>{for(var s in e||(e={}))UL.call(e,s)&&qS(c,s,e[s]);if(HS)for(var s of HS(e))GL.call(e,s)&&qS(c,s,e[s]);return c};class HL extends Rt{constructor(e){super(e);const s=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||s==="block"&&W("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||s==="inline"&&W("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const s=bn(e.source),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((b,v)=>{const C=a.getSelectedElement();if(typeof b=="string"&&(b={src:b}),v&&C&&d.isImage(C)){const j=this.editor.model.createPositionAfter(C);d.insertImage(M0(M0({},b),p),j)}else d.insertImage(M0(M0({},b),p))})}}class qL extends Rt{refresh(){const e=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(e){const s=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",e.source,s),a.removeAttribute("srcset",s),a.removeAttribute("sizes",s)})}}class oC extends Fe{static get requires(){return[Sa]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,s=e.conversion;e.editing.view.addObserver(FL),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:p=>{const b={data:p.getAttribute("srcset")};return p.hasAttribute("width")&&(b.width=p.getAttribute("width")),b}}});const a=new HL(e),d=new qL(e);e.commands.add("insertImage",a),e.commands.add("replaceImageSource",d),e.commands.add("imageInsert",a)}}class YS extends Rt{constructor(e,s){super(e),this._modelElementName=s}refresh(){const e=this.editor.plugins.get("ImageUtils"),s=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(s):this.isEnabled=e.isBlockImage(s)}execute(){const e=this.editor,s=this.editor.model,a=e.plugins.get("ImageUtils"),d=a.getClosestSelectedImageElement(s.document.selection),p=Object.fromEntries(d.getAttributes());return p.src||p.uploadId?s.change(b=>{const v=Array.from(s.markers).filter(E=>E.getRange().containsItem(d)),C=a.insertImage(p,s.createSelection(d,"on"),this._modelElementName);if(!C)return null;const j=b.createRangeOn(C);for(const E of v){const I=E.getRange(),L=I.root.rootName!="$graveyard"?I.getJoined(j,!0):j;b.updateMarker(E,{range:L})}return{oldElement:d,newElement:C}}):null}}class WS extends Fe{static get requires(){return[oC,Sa,_l]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new YS(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,s=e.t,a=e.conversion,d=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:b})=>IS(b)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:b})=>d.toImageWidget(IS(b),b,s("image widget"))}),a.for("downcast").add(D0(d,"imageBlock","src")).add(D0(d,"imageBlock","alt")).add(GS(d,"imageBlock")),a.for("upcast").elementToElement({view:RS(e,"imageBlock"),model:(p,{writer:b})=>b.createElement("imageBlock",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)}).add(function(p){const b=(v,C,j)=>{if(!j.consumable.test(C.viewItem,{name:!0,classes:"image"}))return;const E=p.findViewImgElement(C.viewItem);if(!E||!j.consumable.test(E,{name:!0}))return;j.consumable.consume(C.viewItem,{name:!0,classes:"image"});const I=en(j.convertItem(E,C.modelCursor).modelRange.getItems());I?(j.convertChildren(C.viewItem,I),j.updateConversionResult(I,C)):j.consumable.revert(C.viewItem,{name:!0,classes:"image"})};return v=>{v.on("element:figure",b)}}(d))}_setupClipboardIntegration(){const e=this.editor,s=e.model,a=e.editing.view,d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(b,v)=>{const C=Array.from(v.content.getChildren());let j;if(!C.every(d.isInlineImageView))return;j=v.targetRanges?e.editing.mapper.toModelRange(v.targetRanges[0]):s.document.selection.getFirstRange();const E=s.createSelection(j);if(sC(s.schema,E)==="imageBlock"){const I=new Ti(a.document),L=C.map(H=>I.createElement("figure",{class:"image"},H));v.content=I.createDocumentFragment(L)}})}}var KS=l(3508),YL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(KS.Z,YL),KS.Z.locals;class WL extends Fe{static get requires(){return[WS,Qy,US]}static get pluginName(){return"ImageBlock"}}class KL extends Fe{static get requires(){return[oC,Sa,_l]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,s=e.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck((a,d)=>{if(a.endsWith("caption")&&d.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new YS(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,s=e.t,a=e.conversion,d=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(p,{writer:b})=>b.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(p,{writer:b})=>d.toImageWidget(function(v){return v.createContainerElement("span",{class:"image-inline"},v.createEmptyElement("img"))}(b),b,s("image widget"))}),a.for("downcast").add(D0(d,"imageInline","src")).add(D0(d,"imageInline","alt")).add(GS(d,"imageInline")),a.for("upcast").elementToElement({view:RS(e,"imageInline"),model:(p,{writer:b})=>b.createElement("imageInline",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,s=e.model,a=e.editing.view,d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(b,v)=>{const C=Array.from(v.content.getChildren());let j;if(!C.every(d.isBlockImageView))return;j=v.targetRanges?e.editing.mapper.toModelRange(v.targetRanges[0]):s.document.selection.getFirstRange();const E=s.createSelection(j);if(sC(s.schema,E)==="imageInline"){const I=new Ti(a.document),L=C.map(H=>H.childCount===1?(Array.from(H.getAttributes()).forEach(K=>I.setAttribute(...K,d.findViewImgElement(H))),H.getChild(0)):H);v.content=I.createDocumentFragment(L)}})}}class QL extends Fe{static get requires(){return[KL,Qy,US]}static get pluginName(){return"ImageInline"}}class QS extends Fe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Sa]}getCaptionFromImageModelElement(e){for(const s of e.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(e){const s=this.editor.plugins.get("ImageUtils"),a=e.getFirstPosition().findAncestor("caption");return a&&s.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(e){const s=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&s.isBlockImageView(e.parent)?{name:!0}:null}}class JL extends Rt{refresh(){const e=this.editor,s=e.plugins.get("ImageCaptionUtils"),a=e.plugins.get("ImageUtils");if(!e.plugins.has(WS))return this.isEnabled=!1,void(this.value=!1);const d=e.model.document.selection,p=d.getSelectedElement();if(!p){const b=s.getCaptionFromModelSelection(d);return this.isEnabled=!!b,void(this.value=!!b)}this.isEnabled=a.isImage(p),this.isEnabled?this.value=!!s.getCaptionFromImageModelElement(p):this.value=!1}execute(e={}){const{focusCaptionOnShow:s}=e;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,s)})}_showImageCaption(e,s){const a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing"),p=this.editor.plugins.get("ImageUtils");let b=a.getSelectedElement();const v=d._getSavedCaption(b);p.isInlineImage(b)&&(this.editor.execute("imageTypeBlock"),b=a.getSelectedElement());const C=v||e.createElement("caption");e.append(C,b),s&&e.setSelection(C,"in")}_hideImageCaption(e){const s=this.editor,a=s.model.document.selection,d=s.plugins.get("ImageCaptionEditing"),p=s.plugins.get("ImageCaptionUtils");let b,v=a.getSelectedElement();v?b=p.getCaptionFromImageModelElement(v):(b=p.getCaptionFromModelSelection(a),v=b.parent),d._saveCaption(v,b),e.setSelection(v,"on"),e.remove(b)}}class XL extends Fe{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Sa,QS]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,s=e.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new JL(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,s=e.editing.view,a=e.plugins.get("ImageUtils"),d=e.plugins.get("ImageCaptionUtils"),p=e.t;e.conversion.for("upcast").elementToElement({view:b=>d.matchImageCaptionViewElement(b),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(b,{writer:v})=>a.isBlockImage(b.parent)?v.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(b,{writer:v})=>{if(!a.isBlockImage(b.parent))return null;const C=v.createEditableElement("figcaption");v.setCustomProperty("imageCaption",!0,C),C.placeholder=p("Enter image caption"),yh({view:s,element:C,keepOnFocus:!0});const j=b.parent.getAttribute("alt");return Yj(C,v,{label:j?p("Caption for image: %0",[j]):p("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,s=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),d=e.commands.get("imageTypeInline"),p=e.commands.get("imageTypeBlock"),b=v=>{if(!v.return)return;const{oldElement:C,newElement:j}=v.return;if(!C)return;if(s.isBlockImage(C)){const I=a.getCaptionFromImageModelElement(C);if(I)return void this._saveCaption(j,I)}const E=this._getSavedCaption(C);E&&this._saveCaption(j,E)};d&&this.listenTo(d,"execute",b,{priority:"low"}),p&&this.listenTo(p,"execute",b,{priority:"low"})}_getSavedCaption(e){const s=this._savedCaptionsMap.get(e);return s?yt.fromJSON(s):null}_saveCaption(e,s){this._savedCaptionsMap.set(e,s.toJSON())}_registerCaptionReconversion(){const e=this.editor,s=e.model,a=e.plugins.get("ImageUtils"),d=e.plugins.get("ImageCaptionUtils");s.document.on("change:data",()=>{const p=s.document.differ.getChanges();for(const b of p){if(b.attributeKey!=="alt")continue;const v=b.range.start.nodeAfter;if(a.isBlockImage(v)){const C=d.getCaptionFromImageModelElement(v);if(!C)return;e.editing.reconvertItem(C)}}})}}class ZL extends Fe{static get requires(){return[QS]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,s=e.editing.view,a=e.plugins.get("ImageCaptionUtils"),d=e.t;e.ui.componentFactory.add("toggleImageCaption",p=>{const b=e.commands.get("toggleImageCaption"),v=new ir(p);return v.set({icon:x.caption,tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(b,"value","isEnabled"),v.bind("label").to(b,"value",C=>d(C?"Toggle caption off":"Toggle caption on")),this.listenTo(v,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const C=a.getCaptionFromModelSelection(e.model.document.selection);if(C){const j=e.editing.mapper.toViewElement(C);s.scrollToTheSelection(),s.change(E=>{E.addClass("image__caption_highlighted",j)})}e.editing.view.focus()}),v})}}var JS=l(2640),$L={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(JS.Z,$L),JS.Z.locals;function XS(c){const e=c.map(s=>s.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function e8(c){return new Promise((e,s)=>{const a=c.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const p=ZS(d,a),b=p.replace("image/",""),v=new File([d],`image.${b}`,{type:p});e(v)}).catch(d=>d&&d.name==="TypeError"?function(p){return function(b){return new Promise((v,C)=>{const j=At.document.createElement("img");j.addEventListener("load",()=>{const E=At.document.createElement("canvas");E.width=j.width,E.height=j.height,E.getContext("2d").drawImage(j,0,0),E.toBlob(I=>I?v(I):C())}),j.addEventListener("error",()=>C()),j.src=b})}(p).then(b=>{const v=ZS(b,p),C=v.replace("image/","");return new File([b],`image.${C}`,{type:v})})}(a).then(e).catch(s):s(d))})}function ZS(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class t8 extends Fe{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,s=e.t,a=d=>{const p=new Z6(d),b=e.commands.get("uploadImage"),v=e.config.get("image.upload.types"),C=XS(v);return p.set({acceptedType:v.map(j=>`image/${j}`).join(","),allowMultipleFiles:!0}),p.buttonView.set({label:s("Insert image"),icon:x.image,tooltip:!0}),p.buttonView.bind("isEnabled").to(b),p.on("done",(j,E)=>{const I=Array.from(E).filter(L=>C.test(L.type));I.length&&(e.execute("uploadImage",{file:I}),e.editing.view.focus())}),p};e.ui.componentFactory.add("uploadImage",a),e.ui.componentFactory.add("imageUpload",a)}}var $S=l(3689),r8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()($S.Z,r8),$S.Z.locals;var eE=l(4036),n8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(eE.Z,n8),eE.Z.locals;var tE=l(3773),s8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(tE.Z,s8),tE.Z.locals;class o8 extends Fe{constructor(e){super(e),this.uploadStatusChange=(s,a,d)=>{const p=this.editor,b=a.item,v=b.getAttribute("uploadId");if(!d.consumable.consume(a.item,s.name))return;const C=p.plugins.get("ImageUtils"),j=p.plugins.get(ja),E=v?a.attributeNewValue:null,I=this.placeholder,L=p.editing.mapper.toViewElement(b),H=d.writer;if(E=="reading")return rE(L,H),void nE(C,I,L,H);if(E=="uploading"){const K=j.loaders.get(v);return rE(L,H),void(K?(sE(L,H),function($,ce,fe,ve){const Pe=function(et){const vt=et.createUIElement("div",{class:"ck-progress-bar"});return et.setCustomProperty("progressBar",!0,vt),vt}(ce);ce.insert(ce.createPositionAt($,"end"),Pe),fe.on("change:uploadedPercent",(et,vt,Rr)=>{ve.change(nr=>{nr.setStyle("width",Rr+"%",Pe)})})}(L,H,K,p.editing.view),function($,ce,fe,ve){if(ve.data){const Pe=$.findViewImgElement(ce);fe.setAttribute("src",ve.data,Pe)}}(C,L,H,K)):nE(C,I,L,H))}E=="complete"&&j.loaders.get(v)&&function(K,$,ce){const fe=$.createUIElement("div",{class:"ck-image-upload-complete-icon"});$.insert($.createPositionAt(K,"end"),fe),setTimeout(()=>{ce.change(ve=>ve.remove(ve.createRangeOn(fe)))},3e3)}(L,H,p.editing.view),function(K,$){iE(K,$,"progressBar")}(L,H),sE(L,H),function(K,$){$.removeClass("ck-appear",K)}(L,H)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function rE(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function nE(c,e,s,a){s.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",s);const d=c.findViewImgElement(s);d.getAttribute("src")!==e&&a.setAttribute("src",e,d),oE(s,"placeholder")||a.insert(a.createPositionAfter(d),function(p){const b=p.createUIElement("div",{class:"ck-upload-placeholder-loader"});return p.setCustomProperty("placeholder",!0,b),b}(a))}function sE(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),iE(c,e,"placeholder")}function oE(c,e){for(const s of c.getChildren())if(s.getCustomProperty(e))return s}function iE(c,e,s){const a=oE(c,s);a&&e.remove(e.createRangeOn(a))}var i8=Object.defineProperty,a8=Object.defineProperties,l8=Object.getOwnPropertyDescriptors,aE=Object.getOwnPropertySymbols,c8=Object.prototype.hasOwnProperty,d8=Object.prototype.propertyIsEnumerable,lE=(c,e,s)=>e in c?i8(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;class u8 extends Rt{refresh(){const e=this.editor,s=e.plugins.get("ImageUtils"),a=e.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(a)}execute(e){const s=bn(e.file),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((b,v)=>{const C=a.getSelectedElement();if(v&&C&&d.isImage(C)){const j=this.editor.model.createPositionAfter(C);this._uploadImage(b,p,j)}else this._uploadImage(b,p)})}_uploadImage(e,s,a){const d=this.editor,p=d.plugins.get(ja).createLoader(e),b=d.plugins.get("ImageUtils");var v,C;p&&b.insertImage((v=((j,E)=>{for(var I in E||(E={}))c8.call(E,I)&&lE(j,I,E[I]);if(aE)for(var I of aE(E))d8.call(E,I)&&lE(j,I,E[I]);return j})({},s),C={uploadId:p.id},a8(v,l8(C))),a)}}class h8 extends Fe{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[ja,q1,_l,Sa]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,s=e.model.document,a=e.conversion,d=e.plugins.get(ja),p=e.plugins.get("ImageUtils"),b=e.plugins.get("ClipboardPipeline"),v=XS(e.config.get("image.upload.types")),C=new u8(e);e.commands.add("uploadImage",C),e.commands.add("imageUpload",C),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(j,E)=>{if(I=E.dataTransfer,Array.from(I.types).includes("text/html")&&I.getData("text/html")!=="")return;var I;const L=Array.from(E.dataTransfer.files).filter(H=>!!H&&v.test(H.type));L.length&&(j.stop(),e.model.change(H=>{E.targetRanges&&H.setSelection(E.targetRanges.map(K=>e.editing.mapper.toModelRange(K))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:L})})}))}),this.listenTo(b,"inputTransformation",(j,E)=>{const I=Array.from(e.editing.view.createRangeIn(E.content)).map(H=>H.item).filter(H=>function(K,$){return!(!K.isInlineImageView($)||!$.getAttribute("src")||!$.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!$.getAttribute("src").match(/^blob:/g))}(p,H)&&!H.getAttribute("uploadProcessed")).map(H=>({promise:e8(H),imageElement:H}));if(!I.length)return;const L=new Ti(e.editing.view.document);for(const H of I){L.setAttribute("uploadProcessed",!0,H.imageElement);const K=d.createLoader(H.promise);K&&(L.setAttribute("src","",H.imageElement),L.setAttribute("uploadId",K.id,H.imageElement))}}),e.editing.view.document.on("dragover",(j,E)=>{E.preventDefault()}),s.on("change",()=>{const j=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),E=new Set;for(const I of j)if(I.type=="insert"&&I.name!="$text"){const L=I.position.nodeAfter,H=I.position.root.rootName=="$graveyard";for(const K of m8(e,L)){const $=K.getAttribute("uploadId");if(!$)continue;const ce=d.loaders.get($);ce&&(H?E.has($)||ce.abort():(E.add($),this._uploadImageElements.set($,K),ce.status=="idle"&&this._readAndUpload(ce)))}}}),this.on("uploadComplete",(j,{imageElement:E,data:I})=>{const L=I.urls?I.urls:I;this.editor.model.change(H=>{H.setAttribute("src",L.default,E),this._parseAndSetSrcsetAttributeOnImage(L,E,H)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const s=this.editor,a=s.model,d=s.locale.t,p=s.plugins.get(ja),b=s.plugins.get(q1),v=s.plugins.get("ImageUtils"),C=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","reading",C.get(e.id))}),e.read().then(()=>{const E=e.upload(),I=C.get(e.id);if(_.isSafari){const L=s.editing.mapper.toViewElement(I),H=v.findViewImgElement(L);s.editing.view.once("render",()=>{if(!H.parent)return;const K=s.editing.view.domConverter.mapViewToDom(H.parent);if(!K)return;const $=K.style.display;K.style.display="none",K._ckHack=K.offsetHeight,K.style.display=$})}return a.enqueueChange({isUndoable:!1},L=>{L.setAttribute("uploadStatus","uploading",I)}),E}).then(E=>{a.enqueueChange({isUndoable:!1},I=>{const L=C.get(e.id);I.setAttribute("uploadStatus","complete",L),this.fire("uploadComplete",{data:E,imageElement:L})}),j()}).catch(E=>{if(e.status!=="error"&&e.status!=="aborted")throw E;e.status=="error"&&E&&b.showWarning(E,{title:d("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},I=>{I.remove(C.get(e.id))}),j()});function j(){a.enqueueChange({isUndoable:!1},E=>{const I=C.get(e.id);E.removeAttribute("uploadId",I),E.removeAttribute("uploadStatus",I),C.delete(e.id)}),p.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,s,a){let d=0;const p=Object.keys(e).filter(b=>{const v=parseInt(b,10);if(!isNaN(v))return d=Math.max(d,v),!0}).map(b=>`${e[b]} ${b}w`).join(", ");p!=""&&a.setAttribute("srcset",{data:p,width:d},s)}}function m8(c,e){const s=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(a=>s.isImage(a.item)).map(a=>a.item)}var cE=l(1568),p8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(cE.Z,p8),cE.Z.locals;var dE=l(3535),f8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(dE.Z,f8),dE.Z.locals;var uE=l(6270),g8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(uE.Z,g8),uE.Z.locals;class y8 extends Rt{constructor(e,s){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map(a=>{if(a.isDefault)for(const d of a.modelElements)this._defaultStyles[d]=a.name;return[a.name,a]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils");a.change(p=>{const b=e.value;let v=d.getClosestSelectedImageElement(a.document.selection);b&&this.shouldConvertImageType(b,v)&&(this.editor.execute(d.isBlockImage(v)?"imageTypeInline":"imageTypeBlock"),v=d.getClosestSelectedImageElement(a.document.selection)),!b||this._styles.get(b).isDefault?p.removeAttribute("imageStyle",v):p.setAttribute("imageStyle",b,v)})}shouldConvertImageType(e,s){return!this._styles.get(e).modelElements.includes(s.name)}}var b8=Object.defineProperty,hE=Object.getOwnPropertySymbols,x8=Object.prototype.hasOwnProperty,v8=Object.prototype.propertyIsEnumerable,mE=(c,e,s)=>e in c?b8(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,pE=(c,e)=>{for(var s in e||(e={}))x8.call(e,s)&&mE(c,s,e[s]);if(hE)for(var s of hE(e))v8.call(e,s)&&mE(c,s,e[s]);return c};const{objectFullWidth:w8,objectInline:fE,objectLeft:gE,objectRight:iC,objectCenter:aC,objectBlockLeft:yE,objectBlockRight:bE}=x,T0={get inline(){return{name:"inline",title:"In line",icon:fE,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:gE,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:yE,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:aC,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:iC,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:bE,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:aC,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:iC,modelElements:["imageBlock"],className:"image-style-side"}}},xE={full:w8,left:yE,right:bE,center:aC,inlineLeft:gE,inlineRight:iC,inline:fE},vE=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function wE(c){W("image-style-configuration-definition-invalid",c)}const lC={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(s){return s=typeof s=="string"?T0[s]?pE({},T0[s]):{name:s}:function(a,d){const p=pE({},d);for(const b in a)Object.prototype.hasOwnProperty.call(d,b)||(p[b]=a[b]);return p}(T0[s.name],s),typeof s.icon=="string"&&(s.icon=xE[s.icon]||s.icon),s}(e)).filter(e=>function(s,{isBlockPluginLoaded:a,isInlinePluginLoaded:d}){const{modelElements:p,name:b}=s;if(!(p&&p.length&&b))return wE({style:s}),!1;{const v=[a?"imageBlock":null,d?"imageInline":null];if(!p.some(C=>v.includes(C)))return W("image-style-missing-dependency",{style:s,missingPlugins:p.map(C=>C==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...vE]:[]},warnInvalidStyle:wE,DEFAULT_OPTIONS:T0,DEFAULT_ICONS:xE,DEFAULT_DROPDOWN_DEFINITIONS:vE};function kE(c,e){for(const s of e)if(s.name===c)return s}class CE extends Fe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Sa]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:s}=lC,a=this.editor,d=a.plugins.has("ImageBlockEditing"),p=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",s(d,p)),this.normalizedStyles=e({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:p}),this._setupConversion(d,p),this._setupPostFixer(),a.commands.add("imageStyle",new y8(a,this.normalizedStyles))}_setupConversion(e,s){const a=this.editor,d=a.model.schema,p=(b=this.normalizedStyles,(C,j,E)=>{if(!E.consumable.consume(j.item,C.name))return;const I=kE(j.attributeNewValue,b),L=kE(j.attributeOldValue,b),H=E.mapper.toViewElement(j.item),K=E.writer;L&&K.removeClass(L.className,H),I&&K.addClass(I.className,H)});var b;const v=function(C){const j={imageInline:C.filter(E=>!E.isDefault&&E.modelElements.includes("imageInline")),imageBlock:C.filter(E=>!E.isDefault&&E.modelElements.includes("imageBlock"))};return(E,I,L)=>{if(!I.modelRange)return;const H=I.viewItem,K=en(I.modelRange.getItems());if(K&&L.schema.checkAttribute(K,"imageStyle"))for(const $ of j[K.name])L.consumable.consume(H,{classes:$.className})&&L.writer.setAttribute("imageStyle",$.name,K)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",p),a.data.downcastDispatcher.on("attribute:imageStyle",p),e&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",v,{priority:"low"})),s&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",v,{priority:"low"}))}_setupPostFixer(){const e=this.editor,s=e.model.document,a=e.plugins.get(Sa),d=new Map(this.normalizedStyles.map(p=>[p.name,p]));s.registerPostFixer(p=>{let b=!1;for(const v of s.differ.getChanges())if(v.type=="insert"||v.type=="attribute"&&v.attributeKey=="imageStyle"){let C=v.type=="insert"?v.position.nodeAfter:v.range.start.nodeAfter;if(C&&C.is("element","paragraph")&&C.childCount>0&&(C=C.getChild(0)),!a.isImage(C))continue;const j=C.getAttribute("imageStyle");if(!j)continue;const E=d.get(j);E&&E.modelElements.includes(C.name)||(p.removeAttribute("imageStyle",C),b=!0)}return b})}}var _E=l(5083),k8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(_E.Z,k8),_E.Z.locals;class C8 extends Fe{static get requires(){return[CE]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],a=AE(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const p of a)this._createButton(p);const d=AE([...s.filter(Ye),...lC.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const p of d)this._createDropdown(p,a)}_createDropdown(e,s){const a=this.editor.ui.componentFactory;a.add(e.name,d=>{let p;const{defaultItem:b,items:v,title:C}=e,j=v.filter(H=>s.find(({name:K})=>NE(K)===H)).map(H=>{const K=a.create(H);return H===b&&(p=K),K});v.length!==j.length&&lC.warnInvalidStyle({dropdown:e});const E=ct(d,xe),I=E.buttonView,L=I.arrowView;return mt(E,j,{enableActiveItemFocusOnDropdownOpen:!0}),I.set({label:jE(C,p.label),class:null,tooltip:!0}),L.unbind("label"),L.set({label:C}),I.bind("icon").toMany(j,"isOn",(...H)=>{const K=H.findIndex(ml);return K<0?p.icon:j[K].icon}),I.bind("label").toMany(j,"isOn",(...H)=>{const K=H.findIndex(ml);return jE(C,K<0?p.label:j[K].label)}),I.bind("isOn").toMany(j,"isOn",(...H)=>H.some(ml)),I.bind("class").toMany(j,"isOn",(...H)=>H.some(ml)?"ck-splitbutton_flatten":void 0),I.on("execute",()=>{j.some(({isOn:H})=>H)?E.isOpen=!E.isOpen:p.fire("execute")}),E.bind("isEnabled").toMany(j,"isEnabled",(...H)=>H.some(ml)),this.listenTo(E,"execute",()=>{this.editor.editing.view.focus()}),E})}_createButton(e){const s=e.name;this.editor.ui.componentFactory.add(NE(s),a=>{const d=this.editor.commands.get("imageStyle"),p=new ir(a);return p.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",b=>b===s),p.on("execute",this._executeCommand.bind(this,s)),p})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function AE(c,e){for(const s of c)e[s.title]&&(s.title=e[s.title]);return c}function NE(c){return`imageStyle:${c}`}function jE(c,e){return(c?c+": ":"")+e}class _8 extends Fe{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Mg(e)),e.commands.add("outdent",new Mg(e))}}const SE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',EE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class A8 extends Fe{static get pluginName(){return"IndentUI"}init(){const e=this.editor,s=e.locale,a=e.t,d=s.uiLanguageDirection=="ltr"?SE:EE,p=s.uiLanguageDirection=="ltr"?EE:SE;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),p)}_defineButton(e,s,a){const d=this.editor;d.ui.componentFactory.add(e,p=>{const b=d.commands.get(e),v=new ir(p);return v.set({label:s,icon:a,tooltip:!0}),v.bind("isEnabled").to(b,"isEnabled"),this.listenTo(v,"execute",()=>{d.execute(e),d.editing.view.focus()}),v})}}class N8{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(s=>this._definitions.add(s)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(s,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!d.schema.isInline(a.item))return;const p=d.writer,b=p.document.selection;for(const v of this._definitions){const C=p.createAttributeElement("a",v.attributes,{priority:5});v.classes&&p.addClass(v.classes,C);for(const j in v.styles)p.setStyle(j,v.styles[j],C);p.setCustomProperty("link",!0,C),v.callback(a.attributeNewValue)?a.item.is("selection")?p.wrap(b.getFirstRange(),C):p.wrap(d.mapper.toViewRange(a.range),C):p.unwrap(d.mapper.toViewRange(a.range),C)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(s,a,{writer:d,mapper:p})=>{const b=p.toViewElement(a.item),v=Array.from(b.getChildren()).find(C=>C.is("element","a"));for(const C of this._definitions){const j=ms(C.attributes);if(C.callback(a.attributeNewValue)){for(const[E,I]of j)E==="class"?d.addClass(I,v):d.setAttribute(E,I,v);C.classes&&d.addClass(C.classes,v);for(const E in C.styles)d.setStyle(E,C.styles[E],v)}else{for(const[E,I]of j)E==="class"?d.removeClass(I,v):d.removeAttribute(E,v);C.classes&&d.removeClass(C.classes,v);for(const E in C.styles)d.removeStyle(E,v)}}})}}}const j8=function(c,e,s){var a=c.length;return s=s===void 0?a:s,!e&&s>=a?c:Fg(c,e,s)};var S8=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const DE=function(c){return S8.test(c)},E8=function(c){return c.split("")};var ME="\\ud800-\\udfff",D8="["+ME+"]",cC="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",dC="\\ud83c[\\udffb-\\udfff]",TE="[^"+ME+"]",IE="(?:\\ud83c[\\udde6-\\uddff]){2}",RE="[\\ud800-\\udbff][\\udc00-\\udfff]",PE="(?:"+cC+"|"+dC+")?",OE="[\\ufe0e\\ufe0f]?",M8=OE+PE+("(?:\\u200d(?:"+[TE,IE,RE].join("|")+")"+OE+PE+")*"),T8="(?:"+[TE+cC+"?",cC,IE,RE,D8].join("|")+")",I8=RegExp(dC+"(?="+dC+")|"+T8+M8,"g");const R8=function(c){return c.match(I8)||[]},P8=function(c){return DE(c)?R8(c):E8(c)},O8=function(c){return function(e){e=xp(e);var s=DE(e)?P8(e):void 0,a=s?s[0]:e.charAt(0),d=s?j8(s,1).join(""):e.slice(1);return a[c]()+d}}("toUpperCase"),B8=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,L8=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,z8=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,F8=/^((\w+:(\/{2,})?)|(\W))/i,uC="Ctrl+K";function BE(c,{writer:e}){const s=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,s),s}function LE(c){const e=String(c);return function(s){return!!s.replace(B8,"").match(L8)}(e)?e:"#"}function hC(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function mC(c,e){const s=(a=c,z8.test(a)?"mailto:":e);var a;const d=!!s&&!zE(c);return c&&d?s+c:c}function zE(c){return F8.test(c)}function FE(c){window.open(c,"_blank","noopener")}class V8 extends Rt{constructor(){super(...arguments),this.manualDecorators=new As,this.automaticDecorators=new N8}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,s=e.document.selection,a=s.getSelectedElement()||en(s.getSelectedBlocks());hC(a,e.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(a,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(s,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(e,s={}){const a=this.editor.model,d=a.document.selection,p=[],b=[];for(const v in s)s[v]?p.push(v):b.push(v);a.change(v=>{if(d.isCollapsed){const C=d.getFirstPosition();if(d.hasAttribute("linkHref")){const j=VE(d);let E=lf(C,"linkHref",d.getAttribute("linkHref"),a);d.getAttribute("linkHref")===j&&(E=this._updateLinkContent(a,v,E,e)),v.setAttribute("linkHref",e,E),p.forEach(I=>{v.setAttribute(I,!0,E)}),b.forEach(I=>{v.removeAttribute(I,E)}),v.setSelection(v.createPositionAfter(E.end.nodeBefore))}else if(e!==""){const j=ms(d.getAttributes());j.set("linkHref",e),p.forEach(I=>{j.set(I,!0)});const{end:E}=a.insertContent(v.createText(e,j),C);v.setSelection(E)}["linkHref",...p,...b].forEach(j=>{v.removeSelectionAttribute(j)})}else{const C=a.schema.getValidRanges(d.getRanges(),"linkHref"),j=[];for(const I of d.getSelectedBlocks())a.schema.checkAttribute(I,"linkHref")&&j.push(v.createRangeOn(I));const E=j.slice();for(const I of C)this._isRangeToUpdate(I,j)&&E.push(I);for(const I of E){let L=I;if(E.length===1){const H=VE(d);d.getAttribute("linkHref")===H&&(L=this._updateLinkContent(a,v,I,e),v.setSelection(v.createSelection(L)))}v.setAttribute("linkHref",e,L),p.forEach(H=>{v.setAttribute(H,!0,L)}),b.forEach(H=>{v.removeAttribute(H,L)})}}})}_getDecoratorStateFromModel(e){const s=this.editor.model,a=s.document.selection,d=a.getSelectedElement();return hC(d,s.schema)?d.getAttribute(e):a.getAttribute(e)}_isRangeToUpdate(e,s){for(const a of s)if(a.containsRange(e))return!1;return!0}_updateLinkContent(e,s,a,d){const p=s.createText(d,{linkHref:d});return e.insertContent(p,a)}}function VE(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const s=e[0];return s.is("$text")||s.is("$textProxy")?s.data:null}}class U8 extends Rt{refresh(){const e=this.editor.model,s=e.document.selection,a=s.getSelectedElement();hC(a,e.schema)?this.isEnabled=e.schema.checkAttribute(a,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(s,"linkHref")}execute(){const e=this.editor,s=this.editor.model,a=s.document.selection,d=e.commands.get("link");s.change(p=>{const b=a.isCollapsed?[lf(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),s)]:s.schema.getValidRanges(a.getRanges(),"linkHref");for(const v of b)if(p.removeAttribute("linkHref",v),d)for(const C of d.manualDecorators)p.removeAttribute(C.id,v)})}}class G8 extends st(){constructor({id:e,label:s,attributes:a,classes:d,styles:p,defaultValue:b}){super(),this.id=e,this.set("value",void 0),this.defaultValue=b,this.label=s,this.attributes=a,this.classes=d,this.styles=p}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var UE=l(9773),H8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(UE.Z,H8),UE.Z.locals;var q8=Object.defineProperty,GE=Object.getOwnPropertySymbols,Y8=Object.prototype.hasOwnProperty,W8=Object.prototype.propertyIsEnumerable,HE=(c,e,s)=>e in c?q8(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,K8=(c,e)=>{for(var s in e||(e={}))Y8.call(e,s)&&HE(c,s,e[s]);if(GE)for(var s of GE(e))W8.call(e,s)&&HE(c,s,e[s]);return c};const qE="automatic",Q8=/^(https?:)?\/\//;class J8 extends Fe{static get pluginName(){return"LinkEditing"}static get requires(){return[Pj,Sj,_l]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:BE}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>BE(LE(a),d)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new V8(e)),e.commands.add("unlink",new U8(e));const s=function(a,d){const p={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(b=>("label"in b&&p[b.label]&&(b.label=p[b.label]),b)),d}(e.t,function(a){const d=[];if(a)for(const[p,b]of Object.entries(a)){const v=Object.assign({},b,{id:`link${O8(p)}`});d.push(v)}return d}(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(a=>a.mode===qE)),this._enableManualDecorators(s.filter(a=>a.mode==="manual")),e.plugins.get(Pj).registerAttribute("linkHref"),function(a,d,p,b){const v=a.editing.view,C=new Set;v.document.registerPostFixer(j=>{const E=a.model.document.selection;let I=!1;if(E.hasAttribute(d)){const L=lf(E.getFirstPosition(),d,E.getAttribute(d),a.model),H=a.editing.mapper.toViewRange(L);for(const K of H.getItems())K.is("element",p)&&!K.hasClass(b)&&(j.addClass(b,K),C.add(K),I=!0)}return I}),a.conversion.for("editingDowncast").add(j=>{function E(){v.change(I=>{for(const L of C.values())I.removeClass(b,L),C.delete(L)})}j.on("insert",E,{priority:"highest"}),j.on("remove",E,{priority:"highest"}),j.on("attribute",E,{priority:"highest"}),j.on("selection",E,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const s=this.editor,a=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:qE,callback:d=>!!d&&Q8.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(e),a.length&&s.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const s=this.editor,a=s.commands.get("link").manualDecorators;e.forEach(d=>{s.model.schema.extend("$text",{allowAttributes:d.id});const p=new G8(d);a.add(p),s.conversion.for("downcast").attributeToElement({model:p.id,view:(b,{writer:v,schema:C},{item:j})=>{if((j.is("selection")||C.isInline(j))&&b){const E=v.createAttributeElement("a",p.attributes,{priority:5});p.classes&&v.addClass(p.classes,E);for(const I in p.styles)v.setStyle(I,p.styles[I],E);return v.setCustomProperty("link",!0,E),E}}}),s.conversion.for("upcast").elementToAttribute({view:K8({name:"a"},p._createPattern()),model:{key:p.id}})})}_enableLinkOpen(){const e=this.editor,s=e.editing.view.document;this.listenTo(s,"click",(a,d)=>{if(!(_.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let p=d.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const b=p.getAttribute("href");b&&(a.stop(),d.preventDefault(),FE(b))},{context:"$capture"}),this.listenTo(s,"keydown",(a,d)=>{const p=e.commands.get("link").value;p&&d.keyCode===Wt.enter&&d.altKey&&(a.stop(),FE(p))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,s=e.document.selection;this.listenTo(e,"insertContent",()=>{const a=s.anchor.nodeBefore,d=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||e.change(p=>{pC(p,fC(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,s=e.model;e.editing.view.addObserver(em);let a=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=s.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const p=d.getFirstPosition(),b=lf(p,"linkHref",d.getAttribute("linkHref"),s);(p.isTouching(b.start)||p.isTouching(b.end))&&s.change(v=>{pC(v,fC(s.schema))})})}_enableTypingOverLink(){const e=this.editor,s=e.editing.view;let a=null,d=!1;this.listenTo(s.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const p=e.model.document.selection;p.isCollapsed||(d?d=!1:YE(e)&&function(b){const v=b.document.selection,C=v.getFirstPosition(),j=v.getLastPosition(),E=C.nodeAfter;if(!E||!E.is("$text")||!E.hasAttribute("linkHref"))return!1;const I=j.textNode||j.nodeBefore;return E===I?!0:lf(C,"linkHref",E.getAttribute("linkHref"),b).containsRange(b.createRange(C,j),!0)}(e.model)&&(a=p.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(p,[b])=>{d=!1,YE(e)&&a&&(e.model.change(v=>{for(const[C,j]of a)v.setAttribute(C,j,b)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,s=e.model,a=s.document.selection,d=e.editing.view;let p=!1,b=!1;this.listenTo(d.document,"delete",(v,C)=>{b=C.direction==="backward"},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{p=!1;const v=a.getFirstPosition(),C=a.getAttribute("linkHref");if(!C)return;const j=lf(v,"linkHref",C,s);p=j.containsPosition(v)||j.end.isEqual(v)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{b&&(b=!1,p||e.model.enqueueChange(v=>{pC(v,fC(s.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,s=e.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(d,p)=>{s.change(b=>{const v=b.createRangeIn(p.content);for(const C of v.getItems())if(C.hasAttribute("linkHref")){const j=mC(C.getAttribute("linkHref"),a);b.setAttribute("linkHref",j,C)}})})}}function pC(c,e){c.removeSelectionAttribute("linkHref");for(const s of e)c.removeSelectionAttribute(s)}function YE(c){return c.model.change(e=>e.batch).isTyping}function fC(c){return c.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var WE=l(7754),X8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(WE.Z,X8),WE.Z.locals;class Z8 extends Ft{constructor(e,s){super(e),this.focusTracker=new hs,this.keystrokes=new wo,this._focusables=new ko;const a=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusCycler=new Co({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,s)=>(e[s.name]=s.isOn,e),{})}render(){super.render(),y({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,s=new mp(this.locale,I1);return s.label=e("Link URL"),s}_createButton(e,s,a,d){const p=new ir(this.locale);return p.set({label:e,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createManualDecoratorSwitches(e){const s=this.createCollection();for(const a of e.manualDecorators){const d=new $o(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,e],"value",(p,b)=>b===void 0&&p===void 0?!!a.defaultValue:!!p),d.on("execute",()=>{a.set("value",!d.isOn)}),s.add(d)}return s}_createFormChildren(e){const s=this.createCollection();if(s.add(this.urlInputView),e.length){const a=new Ft;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(a)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}}var KE=l(2347),$8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(KE.Z,$8),KE.Z.locals;class e7 extends Ft{constructor(e){super(e),this.focusTracker=new hs,this.keystrokes=new wo,this._focusables=new ko;const s=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),x.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Co({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,s,a){const d=new ir(this.locale);return d.set({label:e,icon:s,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const e=new ir(this.locale),s=this.bindTemplate,a=this.t;return e.set({withText:!0,tooltip:a("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",d=>d&&LE(d)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",d=>d||a("This link has no URL")),e.bind("isEnabled").to(this,"href",d=>!!d),e.template.tag="a",e.template.eventListeners={},e}}const Al="link-ui";class t7 extends Fe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[x0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver($h),this._balloon=e.plugins.get(x0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Al,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Al,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,s=new e7(e.locale),a=e.commands.get("link"),d=e.commands.get("unlink");return s.bind("href").to(a,"value"),s.editButtonView.bind("isEnabled").to(a),s.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(s,"edit",()=>{this._addFormView()}),this.listenTo(s,"unlink",()=>{e.execute("unlink"),this._hideUI()}),s.keystrokes.set("Esc",(p,b)=>{this._hideUI(),b()}),s.keystrokes.set(uC,(p,b)=>{this._addFormView(),b()}),s}_createFormView(){const e=this.editor,s=e.commands.get("link"),a=e.config.get("link.defaultProtocol"),d=new(g(Z8))(e.locale,s);return d.urlInputView.fieldView.bind("value").to(s,"value"),d.urlInputView.bind("isEnabled").to(s,"isEnabled"),d.saveButtonView.bind("isEnabled").to(s),this.listenTo(d,"submit",()=>{const{value:p}=d.urlInputView.fieldView.element,b=mC(p,a);e.execute("link",b,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(p,b)=>{this._closeFormView(),b()}),d}_createToolbarLinkButton(){const e=this.editor,s=e.commands.get("link"),a=e.t;e.ui.componentFactory.add("link",d=>{const p=new ir(d);return p.isEnabled=!0,p.label=a("Link"),p.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',p.keystroke=uC,p.tooltip=!0,p.isToggleable=!0,p.bind("isEnabled").to(s,"isEnabled"),p.bind("isOn").to(s,"value",b=>!!b),this.listenTo(p,"execute",()=>this._showUI(!0)),p})}_enableBalloonActivators(){const e=this.editor,s=e.editing.view.document;this.listenTo(s,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(uC,(a,d)=>{d(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,s)=>{this._isUIVisible&&(this._hideUI(),s())}),m({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,s=e.editing.view.document;let a=this._getSelectedLinkElement(),d=b();const p=()=>{const v=this._getSelectedLinkElement(),C=b();a&&!v||!a&&C!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=v,d=C};function b(){return s.selection.focus.getAncestors().reverse().find(v=>v.is("element"))}this.listenTo(e.ui,"update",p),this.listenTo(this._balloon,"change:visibleView",p)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,s=this.editor.model,a=e.document;let d;if(s.markers.has(Al)){const p=Array.from(this.editor.editing.mapper.markerNameToElements(Al)),b=e.createRange(e.createPositionBefore(p[0]),e.createPositionAfter(p[p.length-1]));d=e.domConverter.viewRangeToDom(b)}else d=()=>{const p=this._getSelectedLinkElement();return p?e.domConverter.mapViewToDom(p):e.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const e=this.editor.editing.view,s=e.document.selection,a=s.getSelectedElement();if(s.isCollapsed||a&&sn(a))return gC(s.getFirstPosition());{const d=s.getFirstRange().getTrimmed(),p=gC(d.start),b=gC(d.end);return p&&p==b&&e.createRangeIn(p).getTrimmed().isEqual(d)?p:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(s=>{const a=e.document.selection.getFirstRange();if(e.markers.has(Al))s.updateMarker(Al,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:p})=>!e.schema.isContent(p),{boundaries:a});s.addMarker(Al,{usingOperation:!1,affectsData:!1,range:s.createRange(d,a.end)})}else s.addMarker(Al,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Al)&&e.change(s=>{s.removeMarker(Al)})}}function gC(c){return c.getAncestors().find(e=>{return(s=e).is("attributeElement")&&!!s.getCustomProperty("link");var s})||null}const r7=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class n7 extends Fe{static get requires(){return[Tc]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,s=new Rj(e.model,a=>{if(!function(p){return p.length>4&&p[p.length-1]===" "&&p[p.length-2]!==" "}(a))return;const d=QE(a.substr(0,a.length-1));return d?{url:d}:void 0});s.on("matched:data",(a,d)=>{const{batch:p,range:b,url:v}=d;if(!p.isTyping)return;const C=b.end.getShiftedBy(-1),j=C.getShiftedBy(-v.length),E=e.model.createRange(j,C);this._applyAutoLink(v,E)}),s.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,s=e.model,a=e.commands.get("enter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const p=s.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(p)})}_enableShiftEnterHandling(){const e=this.editor,s=e.model,a=e.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition(),p=s.createRange(s.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(p)})}_checkAndApplyAutoLinkOnRange(e){const s=this.editor.model,{text:a,range:d}=Ij(e,s),p=QE(a);if(p){const b=s.createRange(d.end.getShiftedBy(-p.length),d.end);this._applyAutoLink(p,b)}}_applyAutoLink(e,s){const a=this.editor.model,d=mC(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(p,b){return b.schema.checkAttributeInSelection(b.createSelection(p),"linkHref")}(s,a)&&zE(d)&&!function(p){const b=p.start.nodeAfter;return!!b&&b.hasAttribute("linkHref")}(s)&&this._persistAutoLink(d,s)}_persistAutoLink(e,s){const a=this.editor.model,d=this.editor.plugins.get("Delete");a.enqueueChange(p=>{p.setAttribute("linkHref",e,s),a.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function QE(c){const e=r7.exec(c);return e?e[2]:null}var JE=l(111),s7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(JE.Z,s7),JE.Z.locals;var XE=l(5730),o7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(XE.Z,o7),XE.Z.locals;var ZE=l(4564),i7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(ZE.Z,i7),ZE.Z.locals;function a7(c,e){const s=e.mapper,a=e.writer,d=c.getAttribute("listType")=="numbered"?"ol":"ul",p=function(v){const C=v.createContainerElement("li");return C.getFillerOffset=d7,C}(a),b=a.createContainerElement(d,null);return a.insert(a.createPositionAt(b,0),p),s.bindElements(c,p),p}function $E(c,e,s,a){const d=e.parent,p=s.mapper,b=s.writer;let v=p.toViewPosition(a.createPositionBefore(c));const C=t4(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),j=c.previousSibling;if(C&&C.getAttribute("listIndent")==c.getAttribute("listIndent")){const E=p.toViewElement(C);v=b.breakContainer(b.createPositionAfter(E))}else if(j&&j.name=="listItem"){v=p.toViewPosition(a.createPositionAt(j,"end"));const E=p.findMappedViewAncestor(v),I=function(L){for(const H of L.getChildren())if(H.name=="ul"||H.name=="ol")return H;return null}(E);v=I?b.createPositionBefore(I):b.createPositionAt(E,"end")}else v=p.toViewPosition(a.createPositionBefore(c));if(v=e4(v),b.insert(v,d),j&&j.name=="listItem"){const E=p.toViewElement(j),I=b.createRange(b.createPositionAt(E,0),v).getWalker({ignoreElementEnd:!0});for(const L of I)if(L.item.is("element","li")){const H=b.breakContainer(b.createPositionBefore(L.item)),K=L.item.parent,$=b.createPositionAt(e,"end");Ii(b,$.nodeBefore,$.nodeAfter),b.move(b.createRangeOn(K),$),I._position=H}}else{const E=d.nextSibling;if(E&&(E.is("element","ul")||E.is("element","ol"))){let I=null;for(const L of E.getChildren()){const H=p.toModelElement(L);if(!(H&&H.getAttribute("listIndent")>c.getAttribute("listIndent")))break;I=L}I&&(b.breakContainer(b.createPositionAfter(I)),b.move(b.createRangeOn(I.parent),b.createPositionAt(e,"end")))}}Ii(b,d,d.nextSibling),Ii(b,d.previousSibling,d)}function Ii(c,e,s){return!e||!s||e.name!="ul"&&e.name!="ol"||e.name!=s.name||e.getAttribute("class")!==s.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(e))}function e4(c){return c.getLastMatchingPosition(e=>e.item.is("uiElement"))}function t4(c,e){const s=!!e.sameIndent,a=!!e.smallerIndent,d=e.listIndent;let p=c;for(;p&&p.name=="listItem";){const b=p.getAttribute("listIndent");if(s&&d==b||a&&d>b)return p;p=e.direction==="forward"?p.nextSibling:p.previousSibling}return null}function r4(c,e,s,a){c.ui.componentFactory.add(e,d=>{const p=c.commands.get(e),b=new ir(d);return b.set({label:s,icon:a,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(p,"value","isEnabled"),b.on("execute",()=>{c.execute(e),c.editing.view.focus()}),b})}function yC(c,e){const s=[],a=c.parent,d={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:e},p=a.getAttribute("listIndent"),b=[...new es(d)].filter(v=>v.item.is("element")).map(v=>v.item);for(const v of b){if(!v.is("element","listItem")||v.getAttribute("listIndent")<p)break;if(!(v.getAttribute("listIndent")>p)){if(v.getAttribute("listType")!==a.getAttribute("listType")||v.getAttribute("listStyle")!==a.getAttribute("listStyle")||v.getAttribute("listReversed")!==a.getAttribute("listReversed")||v.getAttribute("listStart")!==a.getAttribute("listStart"))break;e==="backward"?s.unshift(v):s.push(v)}}return s}const l7=["disc","circle","square"],c7=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function d7(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:Wg.call(this)}class u7 extends Fe{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;r4(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),r4(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const h7=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:s}of h7);var n4=l(4721),m7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(n4.Z,m7),n4.Z.locals;var s4=l(6082),p7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(s4.Z,p7),s4.Z.locals;var o4=l(2417),f7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(o4.Z,f7),o4.Z.locals;class i4 extends Rt{constructor(e,s){super(e),this._indentBy=s=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,s=e.document;let a=Array.from(s.selection.getSelectedBlocks());e.change(d=>{const p=a[a.length-1];let b=p.nextSibling;for(;b&&b.name=="listItem"&&b.getAttribute("listIndent")>p.getAttribute("listIndent");)a.push(b),b=b.nextSibling;this._indentBy<0&&(a=a.reverse());for(const v of a){const C=v.getAttribute("listIndent")+this._indentBy;C<0?d.rename(v,"paragraph"):d.setAttribute("listIndent",C,v)}this.fire("_executeCleanup",a)})}_checkEnabled(){const e=en(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const s=e.getAttribute("listIndent"),a=e.getAttribute("listType");let d=e.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;){if(d.getAttribute("listIndent")==s)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}class a4 extends Rt{constructor(e,s){super(e),this.type=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const s=this.editor.model,a=s.document,d=Array.from(a.selection.getSelectedBlocks()).filter(b=>c4(b,s.schema)),p=e.forceValue!==void 0?!e.forceValue:this.value;s.change(b=>{if(p){let v=d[d.length-1].nextSibling,C=Number.POSITIVE_INFINITY,j=[];for(;v&&v.name=="listItem"&&v.getAttribute("listIndent")!==0;){const E=v.getAttribute("listIndent");E<C&&(C=E);const I=E-C;j.push({element:v,listIndent:I}),v=v.nextSibling}j=j.reverse();for(const E of j)b.setAttribute("listIndent",E.listIndent,E.element)}if(!p){let v=Number.POSITIVE_INFINITY;for(const C of d)C.is("element","listItem")&&C.getAttribute("listIndent")<v&&(v=C.getAttribute("listIndent"));v=v===0?1:v,l4(d,!0,v),l4(d,!1,v)}for(const v of d.reverse())p&&v.name=="listItem"?b.rename(v,"paragraph"):p||v.name=="listItem"?p||v.name!="listItem"||v.getAttribute("listType")==this.type||b.setAttribute("listType",this.type,v):(b.setAttributes({listType:this.type,listIndent:0},v),b.rename(v,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const e=en(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,s=this.editor.model.schema,a=en(e.getSelectedBlocks());return!!a&&c4(a,s)}}function l4(c,e,s){const a=e?c[0]:c[c.length-1];if(a.is("element","listItem")){let d=a[e?"previousSibling":"nextSibling"],p=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;)p>d.getAttribute("listIndent")&&(p=d.getAttribute("listIndent")),d.getAttribute("listIndent")==p&&c[e?"unshift":"push"](d),d=d[e?"previousSibling":"nextSibling"]}}function c4(c,e){return e.checkChild(c.parent,"listItem")&&!e.isObject(c)}class g7 extends Fe{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(s){return l7.includes(s)?"bulleted":c7.includes(s)?"numbered":null}(e)}getSelectedListItems(e){return function(s){let a=[...s.document.selection.getSelectedBlocks()].filter(d=>d.is("element","listItem")).map(d=>{const p=s.change(b=>b.createPositionAt(d,0));return[...yC(p,"backward"),...yC(p,"forward")]}).flat();return a=[...new Set(a)],a}(e)}getSiblingNodes(e,s){return yC(e,s)}}function d4(c){return(e,s,a)=>{const d=a.consumable;if(!d.test(s.item,"insert")||!d.test(s.item,"attribute:listType")||!d.test(s.item,"attribute:listIndent"))return;d.consume(s.item,"insert"),d.consume(s.item,"attribute:listType"),d.consume(s.item,"attribute:listIndent");const p=s.item;$E(p,a7(p,a),a,c)}}const y7=(c,e,s)=>{if(!s.consumable.test(e.item,c.name))return;const a=s.mapper.toViewElement(e.item),d=s.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a));const p=a.parent,b=e.attributeNewValue=="numbered"?"ol":"ul";d.rename(b,p)},b7=(c,e,s)=>{s.consumable.consume(e.item,c.name);const a=s.mapper.toViewElement(e.item).parent,d=s.writer;Ii(d,a,a.nextSibling),Ii(d,a.previousSibling,a)},u4=(c,e,s)=>{if(s.consumable.test(e.item,c.name)&&e.item.name!="listItem"){let a=s.mapper.toViewPosition(e.range.start);const d=s.writer,p=[];for(;(a.parent.name=="ul"||a.parent.name=="ol")&&(a=d.breakContainer(a),a.parent.name=="li");){const b=a,v=d.createPositionAt(a.parent,"end");if(!b.isEqual(v)){const C=d.remove(d.createRange(b,v));p.push(C)}a=d.createPositionAfter(a.parent)}if(p.length>0){for(let b=0;b<p.length;b++){const v=a.nodeBefore;if(a=d.insert(a,p[b]).end,b>0){const C=Ii(d,v,v.nextSibling);C&&C.parent==v&&a.offset--}}Ii(d,a.nodeBefore,a.nodeAfter)}}},x7=(c,e,s)=>{const a=s.mapper.toViewPosition(e.position),d=a.nodeBefore,p=a.nodeAfter;Ii(s.writer,d,p)},v7=(c,e,s)=>{if(s.consumable.consume(e.viewItem,{name:!0})){const a=s.writer,d=a.createElement("listItem"),p=function(C){let j=0,E=C.parent;for(;E;){if(E.is("element","li"))j++;else{const I=E.previousSibling;I&&I.is("element","li")&&j++}E=E.parent}return j}(e.viewItem);a.setAttribute("listIndent",p,d);const b=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(a.setAttribute("listType",b,d),!s.safeInsert(d,e.modelCursor))return;const v=function(C,j,E){const{writer:I,schema:L}=E;let H=I.createPositionAfter(C);for(const K of j)if(K.name=="ul"||K.name=="ol")H=E.convertItem(K,H).modelCursor;else{const $=E.convertItem(K,I.createPositionAt(C,"end")),ce=$.modelRange.start.nodeAfter;ce&&ce.is("element")&&!L.checkChild(C,ce.name)&&(C=$.modelCursor.parent.is("element","listItem")?$.modelCursor.parent:C7($.modelCursor),H=I.createPositionAfter(C))}return H}(d,e.viewItem.getChildren(),s);e.modelRange=a.createRange(e.modelCursor,v),s.updateConversionResult(d,e)}},h4=(c,e,s)=>{if(s.consumable.test(e.viewItem,{name:!0})){const a=Array.from(e.viewItem.getChildren());for(const d of a)!(d.is("element","li")||hf(d))&&d._remove()}},w7=(c,e,s)=>{if(s.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const a=[...e.viewItem.getChildren()];let d=!1;for(const p of a)d&&!hf(p)&&p._remove(),hf(p)&&(d=!0)}};function m4(c){return(e,s)=>{if(s.isPhantom)return;const a=s.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=s.mapper.toViewElement(a),p=d.getAncestors().find(hf),b=c.createPositionAt(d,0).getWalker();for(const v of b){if(v.type=="elementStart"&&v.item.is("element","li")){s.viewPosition=v.previousPosition;break}if(v.type=="elementEnd"&&v.item==p){s.viewPosition=v.nextPosition;break}}}}}const k7=function(c,[e,s]){const a=this;let d,p=e.is("documentFragment")?e.getChild(0):e;if(d=s?a.createSelection(s):a.document.selection,p&&p.is("element","listItem")){const b=d.getFirstPosition();let v=null;if(b.parent.is("element","listItem")?v=b.parent:b.nodeBefore&&b.nodeBefore.is("element","listItem")&&(v=b.nodeBefore),v){const C=v.getAttribute("listIndent");if(C>0)for(;p&&p.is("element","listItem");)p._setAttribute("listIndent",p.getAttribute("listIndent")+C),p=p.nextSibling}}};function C7(c){const e=new es({startPosition:c});let s;do s=e.next();while(!s.value.item.is("element","listItem"));return s.value.item}function p4(c,e,s,a,d,p){const b=t4(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),v=d.mapper,C=d.writer,j=b?b.getAttribute("listIndent"):null;let E;if(b)if(j==c){const I=v.toViewElement(b).parent;E=C.createPositionAfter(I)}else{const I=p.createPositionAt(b,"end");E=v.toViewPosition(I)}else E=s;E=e4(E);for(const I of[...a.getChildren()])hf(I)&&(E=C.move(C.createRangeOn(I),E).end,Ii(C,I,I.nextSibling),Ii(C,I.previousSibling,I))}function hf(c){return c.is("element","ol")||c.is("element","ul")}class _7 extends Fe{static get pluginName(){return"ListEditing"}static get requires(){return[A0,Tc,g7]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const s=e.data,a=e.editing;var d;e.model.document.registerPostFixer(b=>function(v,C){const j=v.document.differ.getChanges(),E=new Map;let I=!1;for(const $ of j)if($.type=="insert"&&$.name=="listItem")L($.position);else if($.type=="insert"&&$.name!="listItem"){if($.name!="$text"){const ce=$.position.nodeAfter;ce.hasAttribute("listIndent")&&(C.removeAttribute("listIndent",ce),I=!0),ce.hasAttribute("listType")&&(C.removeAttribute("listType",ce),I=!0),ce.hasAttribute("listStyle")&&(C.removeAttribute("listStyle",ce),I=!0),ce.hasAttribute("listReversed")&&(C.removeAttribute("listReversed",ce),I=!0),ce.hasAttribute("listStart")&&(C.removeAttribute("listStart",ce),I=!0);for(const fe of Array.from(v.createRangeIn(ce)).filter(ve=>ve.item.is("element","listItem")))L(fe.previousPosition)}L($.position.getShiftedBy($.length))}else $.type=="remove"&&$.name=="listItem"?L($.position):($.type=="attribute"&&$.attributeKey=="listIndent"||$.type=="attribute"&&$.attributeKey=="listType")&&L($.range.start);for(const $ of E.values())H($),K($);return I;function L($){const ce=$.nodeBefore;if(ce&&ce.is("element","listItem")){let fe=ce;if(E.has(fe))return;for(let ve=fe.previousSibling;ve&&ve.is("element","listItem");ve=fe.previousSibling)if(fe=ve,E.has(fe))return;E.set(ce,fe)}else{const fe=$.nodeAfter;fe&&fe.is("element","listItem")&&E.set(fe,fe)}}function H($){let ce=0,fe=null;for(;$&&$.is("element","listItem");){const ve=$.getAttribute("listIndent");if(ve>ce){let Pe;fe===null?(fe=ve-ce,Pe=ce):(fe>ve&&(fe=ve),Pe=ve-fe),C.setAttribute("listIndent",Pe,$),I=!0}else fe=null,ce=$.getAttribute("listIndent")+1;$=$.nextSibling}}function K($){let ce=[],fe=null;for(;$&&$.is("element","listItem");){const ve=$.getAttribute("listIndent");if(fe&&fe.getAttribute("listIndent")>ve&&(ce=ce.slice(0,ve+1)),ve!=0)if(ce[ve]){const Pe=ce[ve];$.getAttribute("listType")!=Pe&&(C.setAttribute("listType",Pe,$),I=!0)}else ce[ve]=$.getAttribute("listType");fe=$,$=$.nextSibling}}}(e.model,b)),a.mapper.registerViewToModelLength("li",bC),s.mapper.registerViewToModelLength("li",bC),a.mapper.on("modelToViewPosition",m4(a.view)),a.mapper.on("viewToModelPosition",(d=e.model,(b,v)=>{const C=v.viewPosition,j=C.parent,E=v.mapper;if(j.name=="ul"||j.name=="ol"){if(C.isAtEnd){const I=E.toModelElement(C.nodeBefore),L=E.getModelLength(C.nodeBefore);v.modelPosition=d.createPositionBefore(I).getShiftedBy(L)}else{const I=E.toModelElement(C.nodeAfter);v.modelPosition=d.createPositionBefore(I)}b.stop()}else if(j.name=="li"&&C.nodeBefore&&(C.nodeBefore.name=="ul"||C.nodeBefore.name=="ol")){const I=E.toModelElement(j);let L=1,H=C.nodeBefore;for(;H&&hf(H);)L+=E.getModelLength(H),H=H.previousSibling;v.modelPosition=d.createPositionBefore(I).getShiftedBy(L),b.stop()}})),s.mapper.on("modelToViewPosition",m4(a.view)),e.conversion.for("editingDowncast").add(b=>{b.on("insert",u4,{priority:"high"}),b.on("insert:listItem",d4(e.model)),b.on("attribute:listType:listItem",y7,{priority:"high"}),b.on("attribute:listType:listItem",b7,{priority:"low"}),b.on("attribute:listIndent:listItem",function(v){return(C,j,E)=>{if(!E.consumable.consume(j.item,"attribute:listIndent"))return;const I=E.mapper.toViewElement(j.item),L=E.writer;L.breakContainer(L.createPositionBefore(I)),L.breakContainer(L.createPositionAfter(I));const H=I.parent,K=H.previousSibling,$=L.createRangeOn(H);L.remove($),K&&K.nextSibling&&Ii(L,K,K.nextSibling),p4(j.attributeOldValue+1,j.range.start,$.start,I,E,v),$E(j.item,I,E,v);for(const ce of j.item.getChildren())E.consumable.consume(ce,"insert")}}(e.model)),b.on("remove:listItem",function(v){return(C,j,E)=>{const I=E.mapper.toViewPosition(j.position).getLastMatchingPosition(fe=>!fe.item.is("element","li")).nodeAfter,L=E.writer;L.breakContainer(L.createPositionBefore(I)),L.breakContainer(L.createPositionAfter(I));const H=I.parent,K=H.previousSibling,$=L.createRangeOn(H),ce=L.remove($);K&&K.nextSibling&&Ii(L,K,K.nextSibling),p4(E.mapper.toModelElement(I).getAttribute("listIndent")+1,j.position,$.start,I,E,v);for(const fe of L.createRangeIn(ce).getItems())E.mapper.unbindViewElement(fe);C.stop()}}(e.model)),b.on("remove",x7,{priority:"low"})}),e.conversion.for("dataDowncast").add(b=>{b.on("insert",u4,{priority:"high"}),b.on("insert:listItem",d4(e.model))}),e.conversion.for("upcast").add(b=>{b.on("element:ul",h4,{priority:"high"}),b.on("element:ol",h4,{priority:"high"}),b.on("element:li",w7,{priority:"high"}),b.on("element:li",v7)}),e.model.on("insertContent",k7,{priority:"high"}),e.commands.add("numberedList",new a4(e,"numbered")),e.commands.add("bulletedList",new a4(e,"bulleted")),e.commands.add("indentList",new i4(e,"forward")),e.commands.add("outdentList",new i4(e,"backward"));const p=a.view.document;this.listenTo(p,"enter",(b,v)=>{const C=this.editor.model.document,j=C.selection.getLastPosition().parent;C.selection.isCollapsed&&j.name=="listItem"&&j.isEmpty&&(this.editor.execute("outdentList"),v.preventDefault(),b.stop())},{context:"li"}),this.listenTo(p,"delete",(b,v)=>{if(v.direction!=="backward")return;const C=this.editor.model.document.selection;if(!C.isCollapsed)return;const j=C.getFirstPosition();if(!j.isAtStart)return;const E=j.parent;E.name==="listItem"&&(E.previousSibling&&E.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),v.preventDefault(),b.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(b,v)=>{const C=v.shiftKey?"outdentList":"indentList";this.editor.commands.get(C).isEnabled&&(e.execute(C),v.stopPropagation(),v.preventDefault(),b.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,s=e.get("indent"),a=e.get("outdent");s&&s.registerChildCommand(e.get("indentList")),a&&a.registerChildCommand(e.get("outdentList"))}}function bC(c){let e=1;for(const s of c.getChildren())if(s.name=="ul"||s.name=="ol")for(const a of s.getChildren())e+=bC(a);return e}rr("Ctrl+Enter");var f4=l(1199),A7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(f4.Z,A7),f4.Z.locals;function g4(c,e){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const b=d.attributeNewValue,v=p.writer,C=p.mapper.toViewElement(d.item),j=[...C.getChildren()].find(I=>I.getCustomProperty("media-content"));v.remove(j);const E=c.getMediaViewElement(v,b,e);v.insert(v.createPositionAt(C,0),E)};return a=>{a.on("attribute:url:media",s)}}function y4(c,e,s,a){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,s,a),c.createSlot()])}function b4(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function x4(c,e,s,a){c.change(d=>{const p=d.createElement("media",{url:e});c.insertObject(p,s,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class N7 extends Rt{refresh(){const e=this.editor.model,s=e.document.selection,a=b4(s);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(d){const p=d.getSelectedElement();return!!p&&p.name==="media"}(s)||function(d,p){let v=Wj(d,p).start.parent;return v.isEmpty&&!p.schema.isLimit(v)&&(v=v.parent),p.schema.checkChild(v,"media")}(s,e)}execute(e){const s=this.editor.model,a=s.document.selection,d=b4(a);d?s.change(p=>{p.setAttribute("url",e,d)}):x4(s,e,a,!0)}}class j7{constructor(e,s){const a=s.providers,d=s.extraProviders||[],p=new Set(s.removeProviders),b=a.concat(d).filter(v=>{const C=v.name;return C?!p.has(C):(W("media-embed-no-provider-name",{provider:v}),!1)});this.locale=e,this.providerDefinitions=b}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,s,a){return this._getMedia(s).getViewElement(e,a)}_getMedia(e){if(!e)return new v4(this.locale);e=e.trim();for(const s of this.providerDefinitions){const a=s.html,d=bn(s.url);for(const p of d){const b=this._getUrlMatches(e,p);if(b)return new v4(this.locale,e,b,a)}}return null}_getUrlMatches(e,s){let a=e.match(s);if(a)return a;let d=e.replace(/^https?:\/\//,"");return a=d.match(s),a||(d=d.replace(/^www\./,""),a=d.match(s),a||null)}}class v4{constructor(e,s,a,d){this.url=this._getValidUrl(s),this._locale=e,this._match=a,this._previewRenderer=d}getViewElement(e,s){const a={};let d;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),s.renderForEditingView&&(a.class="ck-media__wrapper");const p=this._getPreviewHtml(s);d=e.createRawElement("div",a,(b,v)=>{v.setContentOf(b,p)})}else this.url&&(a.url=this.url),d=e.createEmptyElement(s.elementName,a);return e.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Di,s=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Zo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var w4=l(7442),S7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(w4.Z,S7),w4.Z.locals;class I0 extends Fe{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const a=s[1],d=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${d?`?start=${d}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new j7(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,s=e.model.schema,a=e.t,d=e.conversion,p=e.config.get("mediaEmbed.previewsInData"),b=e.config.get("mediaEmbed.elementName"),v=this.registry;e.commands.add("mediaEmbed",new N7(e)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),d.for("dataDowncast").elementToStructure({model:"media",view:(C,{writer:j})=>{const E=C.getAttribute("url");return y4(j,v,E,{elementName:b,renderMediaPreview:!!E&&p})}}),d.for("dataDowncast").add(g4(v,{elementName:b,renderMediaPreview:p})),d.for("editingDowncast").elementToStructure({model:"media",view:(C,{writer:j})=>{const E=C.getAttribute("url");return function(I,L,H){return L.setCustomProperty("media",!0,I),$1(I,L,{label:H})}(y4(j,v,E,{elementName:b,renderForEditingView:!0}),j,a("media widget"))}}),d.for("editingDowncast").add(g4(v,{elementName:b,renderForEditingView:!0})),d.for("upcast").elementToElement({view:C=>["oembed",b].includes(C.name)&&C.getAttribute("url")?{name:!0}:null,model:(C,{writer:j})=>{const E=C.getAttribute("url");return v.hasMedia(E)?j.createElement("media",{url:E}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(C,{writer:j})=>{const E=C.getAttribute("data-oembed-url");return v.hasMedia(E)?j.createElement("media",{url:E}):null}}).add(C=>{C.on("element:figure",(j,E,I)=>{if(!I.consumable.consume(E.viewItem,{name:!0,classes:"media"}))return;const{modelRange:L,modelCursor:H}=I.convertChildren(E.viewItem,E.modelCursor);E.modelRange=L,E.modelCursor=H,en(L.getItems())||I.consumable.revert(E.viewItem,{name:!0,classes:"media"})})})}}const E7=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class D7 extends Fe{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[aS,Tc,pS]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,s=e.model.document,a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const d=s.selection.getFirstRange(),p=ns.fromPosition(d.start);p.stickiness="toPrevious";const b=ns.fromPosition(d.end);b.stickiness="toNext",s.once("change:data",()=>{this._embedMediaBetweenPositions(p,b),p.detach(),b.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(At.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,s){const a=this.editor,d=a.plugins.get(I0).registry,p=new No(e,s),b=p.getWalker({ignoreElementEnd:!0});let v="";for(const C of b)C.item.is("$textProxy")&&(v+=C.item.data);if(v=v.trim(),!v.match(E7)||!d.hasMedia(v))return void p.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ns.fromPosition(e),this._timeoutId=At.window.setTimeout(()=>{a.model.change(C=>{this._timeoutId=null,C.remove(p),p.detach();let j=null;this._positionToInsert.root.rootName!=="$graveyard"&&(j=this._positionToInsert),x4(a.model,v,j,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Tc).requestUndoOnBackspace()},100)):p.detach()}}var k4=l(9292),M7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(k4.Z,M7),k4.Z.locals;class T7 extends Ft{constructor(e,s){super(s);const a=s.t;this.focusTracker=new hs,this.keystrokes=new wo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(a("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._focusables=new ko,this._focusCycler=new Co({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),y({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const e=s=>s.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const s=e(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,s=new mp(this.locale,I1),a=s.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),s.label=e("Media URL"),s.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{s.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),s}_createButton(e,s,a,d){const p=new ir(this.locale);return p.set({label:e,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}}class I7 extends Fe{static get requires(){return[I0]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,s=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",a=>{const d=ct(a);return this._setUpDropdown(d,s),d})}_setUpDropdown(e,s){const a=this.editor,d=a.t,p=e.buttonView,b=a.plugins.get(I0).registry;e.once("change:isOpen",()=>{const v=new(g(T7))(function(C,j){return[E=>{if(!E.url.length)return C("The URL must not be empty.")},E=>{if(!j.hasMedia(E.url))return C("This media URL is not supported.")}]}(a.t,b),a.locale);e.panelView.children.add(v),p.on("open",()=>{v.disableCssTransitions(),v.url=s.value||"",v.urlInputView.fieldView.select(),v.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{v.isValid()&&(a.execute("mediaEmbed",v.url),a.editing.view.focus())}),e.on("change:isOpen",()=>v.resetFormStatus()),e.on("cancel",()=>{a.editing.view.focus()}),v.delegate("submit","cancel").to(e),v.urlInputView.fieldView.bind("value").to(s,"value"),v.urlInputView.bind("isEnabled").to(s,"isEnabled")}),e.bind("isEnabled").to(s),p.set({label:d("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var C4=l(4652),R7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(C4.Z,R7),C4.Z.locals;function P7(c,e){if(!c.childCount)return;const s=new Ti(c.document),a=function(b,v){const C=v.createRangeIn(b),j=new _o({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),E=[];for(const I of C)if(I.type==="elementStart"&&j.match(I.item)){const L=B7(I.item);E.push({element:I.item,id:L.id,order:L.order,indent:L.indent})}return E}(c,s);if(!a.length)return;let d=null,p=1;a.forEach((b,v)=>{const C=function(K,$){if(!K)return!0;if(K.id!==$.id)return $.indent-K.indent!=1;const ce=$.element.previousSibling;if(!ce)return!0;return fe=ce,!(fe.is("element","ol")||fe.is("element","ul"));var fe}(a[v-1],b),j=C?null:a[v-1],E=(L=b,(I=j)?L.indent-I.indent:L.indent-1);var I,L;if(C&&(d=null,p=1),!d||E!==0){const K=function($,ce){const fe=new RegExp(`@list l${$.id}:level${$.indent}\\s*({[^}]*)`,"gi"),ve=/mso-level-number-format:([^;]{0,100});/gi,Pe=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,et=fe.exec(ce);let vt="decimal",Rr="ol",nr=null;if(et&&et[1]){const ss=ve.exec(et[1]);if(ss&&ss[1]&&(vt=ss[1].trim(),Rr=vt!=="bullet"&&vt!=="image"?"ol":"ul"),vt==="bullet"){const Gn=function(pf){const Nl=function(Rc){if(Rc.getChild(0).is("$text"))return null;for(const Pc of Rc.getChildren()){if(!Pc.is("element","span"))continue;const im=Pc.getChild(0);if(im)return im.is("$text")?im:im.getChild(0)}return null}(pf);if(!Nl)return null;const Ri=Nl._data;return Ri==="o"?"circle":Ri===""?"disc":Ri===""?"square":null}($.element);Gn&&(vt=Gn)}else{const Gn=Pe.exec(et[1]);Gn&&Gn[1]&&(nr=parseInt(Gn[1]))}}return{type:Rr,startIndex:nr,style:O7(vt)}}(b,e);if(d){if(b.indent>p){const $=d.getChild(d.childCount-1),ce=$.getChild($.childCount-1);d=_4(K,ce,s),p+=1}else if(b.indent<p){const $=p-b.indent;d=function(ce,fe){const ve=ce.getAncestors({parentFirst:!0});let Pe=null,et=0;for(const vt of ve)if((vt.is("element","ul")||vt.is("element","ol"))&&et++,et===fe){Pe=vt;break}return Pe}(d,$),p=b.indent}}else d=_4(K,b.element,s);b.indent<=p&&(d.is("element",K.type)||(d=s.rename(K.type,d)))}const H=function(K,$){return function(ce,fe){const ve=new _o({name:"span",styles:{"mso-list":"Ignore"}}),Pe=fe.createRangeIn(ce);for(const et of Pe)et.type==="elementStart"&&ve.match(et.item)&&fe.remove(et.item)}(K,$),$.removeStyle("text-indent",K),$.rename("li",K)}(b.element,s);s.appendChild(H,d)})}function O7(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function _4(c,e,s){const a=e.parent,d=s.createElement(c.type),p=a.getChildIndex(e)+1;return s.insertChild(p,d,a),c.style&&s.setStyle("list-style-type",c.style,d),c.startIndex&&c.startIndex>1&&s.setAttribute("start",c.startIndex,d),d}function B7(c){const e={},s=c.getStyle("mso-list");if(s){const a=s.match(/(^|\s{1,100})l(\d+)/i),d=s.match(/\s{0,100}lfo(\d+)/i),p=s.match(/\s{0,100}level(\d+)/i);a&&d&&p&&(e.id=a[2],e.order=d[1],e.indent=parseInt(p[1]))}return e}function L7(c,e){if(!c.childCount)return;const s=new Ti(c.document),a=function(p,b){const v=b.createRangeIn(p),C=new _o({name:/v:(.+)/}),j=[];for(const E of v){if(E.type!="elementStart")continue;const I=E.item,L=I.previousSibling,H=L&&L.is("element")?L.name:null;C.match(I)&&I.getAttribute("o:gfxdata")&&H!=="v:shapetype"&&j.push(E.item.getAttribute("id"))}return j}(c,s);(function(p,b,v){const C=v.createRangeIn(b),j=new _o({name:"img"}),E=[];for(const I of C)if(I.item.is("element")&&j.match(I.item)){const L=I.item,H=L.getAttribute("v:shapes")?L.getAttribute("v:shapes").split(" "):[];H.length&&H.every(K=>p.indexOf(K)>-1)?E.push(L):L.getAttribute("src")||E.push(L)}for(const I of E)v.remove(I)})(a,c,s),function(p,b,v){const C=v.createRangeIn(b),j=[];for(const L of C)if(L.type=="elementStart"&&L.item.is("element","v:shape")){const H=L.item.getAttribute("id");if(p.includes(H))continue;E(L.item.parent.getChildren(),H)||j.push(L.item)}for(const L of j){const H={src:I(L)};L.hasAttribute("alt")&&(H.alt=L.getAttribute("alt"));const K=v.createElement("img",H);v.insertChild(L.index+1,K,L.parent)}function E(L,H){for(const K of L)if(K.is("element")&&(K.name=="img"&&K.getAttribute("v:shapes")==H||E(K.getChildren(),H)))return!0;return!1}function I(L){for(const H of L.getChildren())if(H.is("element")&&H.getAttribute("src"))return H.getAttribute("src")}}(a,c,s),function(p,b){const v=b.createRangeIn(p),C=new _o({name:/v:(.+)/}),j=[];for(const E of v)E.type=="elementStart"&&C.match(E.item)&&j.push(E.item);for(const E of j)b.remove(E)}(c,s);const d=function(p,b){const v=b.createRangeIn(p),C=new _o({name:"img"}),j=[];for(const E of v)E.item.is("element")&&C.match(E.item)&&E.item.getAttribute("src").startsWith("file://")&&j.push(E.item);return j}(c,s);d.length&&function(p,b,v){if(p.length===b.length)for(let C=0;C<p.length;C++){const j=`data:${b[C].type};base64,${z7(b[C].hex)}`;v.setAttribute("src",j,p[C])}}(d,function(p){if(!p)return[];const b=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,v=new RegExp("(?:("+b.source+"))([\\da-fA-F\\s]+)\\}","g"),C=p.match(v),j=[];if(C)for(const E of C){let I=!1;E.includes("\\pngblip")?I="image/png":E.includes("\\jpegblip")&&(I="image/jpeg"),I&&j.push({hex:E.replace(b,"").replace(/[^\da-fA-F]/g,""),type:I})}return j}(e),s)}function z7(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const F7=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,V7=/xmlns:o="urn:schemas-microsoft-com/i;class U7{constructor(e){this.document=e}isActive(e){return F7.test(e)||V7.test(e)}execute(e){const{body:s,stylesString:a}=e._parsedData;P7(s,a),L7(s,e.dataTransfer.getData("text/rtf")),e.content=s}}function A4(c,e,s,{blockElements:a,inlineObjectElements:d}){let p=s.createPositionAt(c,e=="forward"?"after":"before");return p=p.getLastMatchingPosition(({item:b})=>b.is("element")&&!a.includes(b.name)&&!d.includes(b.name),{direction:e}),e=="forward"?p.nodeAfter:p.nodeBefore}function N4(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const G7=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class H7{constructor(e){this.document=e}isActive(e){return G7.test(e)}execute(e){const s=new Ti(this.document),{body:a}=e._parsedData;(function(d,p){for(const b of d.getChildren())if(b.is("element","b")&&b.getStyle("font-weight")==="normal"){const v=d.getChildIndex(b);p.remove(b),p.insertChild(v,b.getChildren(),d)}})(a,s),function(d,p){for(const b of p.createRangeIn(d)){const v=b.item;if(v.is("element","li")){const C=v.getChild(0);C&&C.is("element","p")&&p.unwrapElement(C)}}}(a,s),function(d,p){const b=new fc(p.document.stylesProcessor),v=new yl(b,{renderingMode:"data"}),C=v.blockElements,j=v.inlineObjectElements,E=[];for(const I of p.createRangeIn(d)){const L=I.item;if(L.is("element","br")){const H=A4(L,"forward",p,{blockElements:C,inlineObjectElements:j}),K=A4(L,"backward",p,{blockElements:C,inlineObjectElements:j}),$=N4(H,C);(N4(K,C)||$)&&E.push(L)}}for(const I of E)I.hasClass("Apple-interchange-newline")?p.remove(I):p.replace(I,p.createElement("p"))}(a,s),e.content=a}}const q7=/<google-sheets-html-origin/i;class Y7{constructor(e){this.document=e}isActive(e){return q7.test(e)}execute(e){const s=new Ti(this.document),{body:a}=e._parsedData;(function(d,p){for(const b of d.getChildren())if(b.is("element","google-sheets-html-origin")){const v=d.getChildIndex(b);p.remove(b),p.insertChild(v,b.getChildren(),d)}})(a,s),function(d,p){for(const b of d.getChildren())b.is("element","table")&&b.hasAttribute("xmlns")&&p.removeAttribute("xmlns",b)}(a,s),function(d,p){for(const b of d.getChildren())b.is("element","table")&&b.getStyle("width")==="0px"&&p.removeStyle("width",b)}(a,s),function(d,p){for(const b of Array.from(d.getChildren()))b.is("element","style")&&p.remove(b)}(a,s),e.content=a}}function j4(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,s)=>s.length===1?" ":Array(s.length+1).join(" ").substr(0,s.length))}function W7(c,e){const s=new DOMParser,a=function(C){return j4(j4(C)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(C){const j="</body>",E="</html>",I=C.indexOf(j);if(I<0)return C;const L=C.indexOf(E,I+j.length);return C.substring(0,I+j.length)+(L>=0?C.substring(L):"")}(c=c.replace(/<!--\[if gte vml 1]>/g,""))),d=s.parseFromString(a,"text/html");(function(C){C.querySelectorAll("span[style*=spacerun]").forEach(j=>{const E=j,I=E.innerText.length||0;E.innerText=Array(I+1).join(" ").substr(0,I)})})(d);const p=d.body.innerHTML,b=function(C,j){const E=new fc(j),I=new yl(E,{renderingMode:"data"}),L=C.createDocumentFragment(),H=C.body.childNodes;for(;H.length>0;)L.appendChild(H[0]);return I.domToView(L,{skipComments:!0})}(d,e),v=function(C){const j=[],E=[],I=Array.from(C.getElementsByTagName("style"));for(const L of I)L.sheet&&L.sheet.cssRules&&L.sheet.cssRules.length&&(j.push(L.sheet),E.push(L.innerHTML));return{styles:j,stylesString:E.join(" ")}}(d);return{body:b,bodyString:p,styles:v.styles,stylesString:v.stylesString}}function kn(c,e,s,a,d=1){e!=null&&d!=null&&e>d?a.setAttribute(c,e,s):a.removeAttribute(c,s)}function nm(c,e,s={}){const a=c.createElement("tableCell",s);return c.insertElement("paragraph",a),c.insert(a,e),a}function xC(c,e){const s=e.parent.parent,a=parseInt(s.getAttribute("headingColumns")||"0"),{column:d}=c.getCellLocation(e);return!!a&&d<a}function K7(){return c=>{c.on("element:table",(e,s,a)=>{const d=s.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:p,headingRows:b,headingColumns:v}=function(E){let I,L=0;const H=[],K=[];let $;for(const ce of Array.from(E.getChildren())){if(ce.name!=="tbody"&&ce.name!=="thead"&&ce.name!=="tfoot")continue;ce.name!=="thead"||$||($=ce);const fe=Array.from(ce.getChildren()).filter(ve=>ve.is("element","tr"));for(const ve of fe)if($&&ce===$||ce.name==="tbody"&&Array.from(ve.getChildren()).length&&Array.from(ve.getChildren()).every(Pe=>Pe.is("element","th")))L++,H.push(ve);else{K.push(ve);const Pe=Q7(ve);(!I||Pe<I)&&(I=Pe)}}return{headingRows:L,headingColumns:I||0,rows:[...H,...K]}}(d),C={};v&&(C.headingColumns=v),b&&(C.headingRows=b);const j=a.writer.createElement("table",C);if(a.safeInsert(j,s.modelCursor)){if(a.consumable.consume(d,{name:!0}),p.forEach(E=>a.convertItem(E,a.writer.createPositionAt(j,"end"))),a.convertChildren(d,a.writer.createPositionAt(j,"end")),j.isEmpty){const E=a.writer.createElement("tableRow");a.writer.insert(E,a.writer.createPositionAt(j,"end")),nm(a.writer,a.writer.createPositionAt(E,"end"))}a.updateConversionResult(j,s)}})}}function S4(c){return e=>{e.on(`element:${c}`,(s,a,{writer:d})=>{if(!a.modelRange)return;const p=a.modelRange.start.nodeAfter,b=d.createPositionAt(p,0);if(a.viewItem.isEmpty)return void d.insertElement("paragraph",b);const v=Array.from(p.getChildren());if(v.every(C=>C.is("element","$marker"))){const C=d.createElement("paragraph");d.insert(C,d.createPositionAt(p,0));for(const j of v)d.move(d.createRangeOn(j),d.createPositionAt(C,"end"))}},{priority:"low"})}}function Q7(c){let e=0,s=0;const a=Array.from(c.getChildren()).filter(d=>d.name==="th"||d.name==="td");for(;s<a.length&&a[s].name==="th";){const d=a[s];e+=parseInt(d.getAttribute("colspan")||"1"),s++}return e}class Ir{constructor(e,s={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=s.row!==void 0?s.row:s.startRow||0,this._endRow=s.row!==void 0?s.row:s.endRow,this._startColumn=s.column!==void 0?s.column:s.startColumn||0,this._endColumn=s.column!==void 0?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(a.cell,a.row,a.column));else{const d=e.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const p=parseInt(d.getAttribute("colspan")||"1"),b=parseInt(d.getAttribute("rowspan")||"1");(p>1||b>1)&&this._recordSpans(d,b,p),this._shouldSkipSlot()||(s=this._formatOutValue(d)),this._nextCellAtColumn=this._column+p}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,s=this._row,a=this._column){return{done:!1,value:new J7(this,e,s,a)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),s=this._row<this._startRow,a=this._column<this._startColumn,d=this._endColumn!==void 0&&this._column>this._endColumn;return e||s||a||d}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,s,a){const d={cell:e,row:this._row,column:this._column};for(let p=this._row;p<this._row+s;p++)for(let b=this._column;b<this._column+a;b++)p==this._row&&b==this._column||this._markSpannedCell(p,b,d)}_markSpannedCell(e,s,a){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(s,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let s=this._startRow;!this._jumpedToStartRow;s--)e===this._getRowLength(s)&&(this._row=s,this._rowIndex=s,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}}class J7{constructor(e,s,a,d){this.cell=s,this.row=e._row,this.column=e._column,this.cellAnchorRow=a,this.cellAnchorColumn=d,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function E4(c,e){return(s,{writer:a})=>{const d=s.getAttribute("headingRows")||0,p=a.createContainerElement("table",null,[]),b=a.createContainerElement("figure",{class:"table"},p);d>0&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("thead",null,a.createSlot(v=>v.is("element","tableRow")&&v.index<d))),d<c.getRows(s)&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("tbody",null,a.createSlot(v=>v.is("element","tableRow")&&v.index>=d)));for(const{positionOffset:v,filter:C}of e.additionalSlots)a.insert(a.createPositionAt(p,v),a.createSlot(C));return a.insert(a.createPositionAt(p,"after"),a.createSlot(v=>!v.is("element","tableRow")&&!e.additionalSlots.some(({filter:C})=>C(v)))),e.asWidget?function(v,C){return C.setCustomProperty("table",!0,v),$1(v,C,{hasSelectionHandle:!0})}(b,a):b}}function D4(c={}){return(e,{writer:s})=>{const a=e.parent,d=a.parent,p=d.getChildIndex(a),b=new Ir(d,{row:p}),v=d.getAttribute("headingRows")||0,C=d.getAttribute("headingColumns")||0;let j=null;for(const E of b)if(E.cell==e){const I=E.row<v||E.column<C?"th":"td";j=c.asWidget?Yj(s.createEditableElement(I),s):s.createContainerElement(I);break}return j}}function M4(c={}){return(e,{writer:s})=>{if(!e.parent.is("element","tableCell")||!T4(e))return null;if(c.asWidget)return s.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function T4(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class X7 extends Rt{refresh(){const e=this.editor.model,s=e.document.selection,a=e.schema;this.isEnabled=function(d,p){const b=d.getFirstPosition().parent,v=b===b.root?b:b.parent;return p.checkChild(v,"table")}(s,a)}execute(e={}){const s=this.editor,a=s.model,d=s.plugins.get("TableUtils"),p=s.config.get("table.defaultHeadings.rows"),b=s.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&p&&(e.headingRows=p),e.headingColumns===void 0&&b&&(e.headingColumns=b),a.change(v=>{const C=d.createTable(v,e);a.insertObject(C,null,null,{findOptimalPosition:"auto"}),v.setSelection(v.createPositionAt(C.getNodeByPath([0,0,0]),0))})}}class I4 extends Rt{constructor(e,s={}){super(e),this.order=s.order||"below"}refresh(){const e=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=s}execute(){const e=this.editor,s=e.model.document.selection,a=e.plugins.get("TableUtils"),d=this.order==="above",p=a.getSelectionAffectedTableCells(s),b=a.getRowIndexes(p),v=d?b.first:b.last,C=p[0].findAncestor("table");a.insertRows(C,{at:d?v:v+1,copyStructureFromAbove:!d})}}class R4 extends Rt{constructor(e,s={}){super(e),this.order=s.order||"right"}refresh(){const e=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=s}execute(){const e=this.editor,s=e.model.document.selection,a=e.plugins.get("TableUtils"),d=this.order==="left",p=a.getSelectionAffectedTableCells(s),b=a.getColumnIndexes(p),v=d?b.first:b.last,C=p[0].findAncestor("table");a.insertColumns(C,{columns:1,at:d?v:v+1})}}class P4 extends Rt{constructor(e,s={}){super(e),this.direction=s.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),s=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(s,2):e.splitCellVertically(s,2)}}function O4(c,e,s){const{startRow:a,startColumn:d,endRow:p,endColumn:b}=e,v=s.createElement("table"),C=p-a+1;for(let E=0;E<C;E++)s.insertElement("tableRow",v,"end");const j=[...new Ir(c,{startRow:a,endRow:p,startColumn:d,endColumn:b,includeAllSlots:!0})];for(const{row:E,column:I,cell:L,isAnchor:H,cellAnchorRow:K,cellAnchorColumn:$}of j){const ce=E-a,fe=v.getChild(ce);if(H){const ve=s.cloneElement(L);s.append(ve,fe),V4(ve,E,I,p,b,s)}else(K<a||$<d)&&nm(s,s.createPositionAt(fe,"end"))}return function(E,I,L,H,K){const $=parseInt(I.getAttribute("headingRows")||"0");$>0&&kn("headingRows",$-L,E,K,0);const ce=parseInt(I.getAttribute("headingColumns")||"0");ce>0&&kn("headingColumns",ce-H,E,K,0)}(v,c,a,d,s),v}function B4(c,e,s=0){const a=[],d=new Ir(c,{startRow:s,endRow:e-1});for(const p of d){const{row:b,cellHeight:v}=p;b<e&&e<=b+v-1&&a.push(p)}return a}function L4(c,e,s){const a=c.parent,d=a.parent,p=a.index,b=e-p,v={},C=parseInt(c.getAttribute("rowspan"))-b;C>1&&(v.rowspan=C);const j=parseInt(c.getAttribute("colspan")||"1");j>1&&(v.colspan=j);const E=p+b,I=[...new Ir(d,{startRow:p,endRow:E,includeAllSlots:!0})];let L,H=null;for(const K of I){const{row:$,column:ce,cell:fe}=K;fe===c&&L===void 0&&(L=ce),L!==void 0&&L===ce&&$===E&&(H=nm(s,K.getPositionBefore(),v))}return kn("rowspan",b,c,s),H}function z4(c,e){const s=[],a=new Ir(c);for(const d of a){const{column:p,cellWidth:b}=d;p<e&&e<=p+b-1&&s.push(d)}return s}function F4(c,e,s,a){const d=s-e,p={},b=parseInt(c.getAttribute("colspan"))-d;b>1&&(p.colspan=b);const v=parseInt(c.getAttribute("rowspan")||"1");v>1&&(p.rowspan=v);const C=nm(a,a.createPositionAfter(c),p);return kn("colspan",d,c,a),C}function V4(c,e,s,a,d,p){const b=parseInt(c.getAttribute("colspan")||"1"),v=parseInt(c.getAttribute("rowspan")||"1");s+b-1>d&&kn("colspan",d-s+1,c,p,1),e+v-1>a&&kn("rowspan",a-e+1,c,p,1)}function vC(c,e){const s=e.getColumns(c),a=new Array(s).fill(0);for(const{column:p}of new Ir(c))a[p]++;const d=a.reduce((p,b,v)=>b?p:[...p,v],[]);if(d.length>0){const p=d[d.length-1];return e.removeColumns(c,{at:p}),!0}return!1}function wC(c,e){const s=[],a=e.getRows(c);for(let d=0;d<a;d++)c.getChild(d).isEmpty&&s.push(d);if(s.length>0){const d=s[s.length-1];return e.removeRows(c,{at:d}),!0}return!1}function kC(c,e){vC(c,e)||wC(c,e)}function U4(c,e){const s=Array.from(new Ir(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(s.every(({cellHeight:d})=>d===1))return e.lastRow;const a=s[0].cellHeight-1;return e.lastRow+a}function G4(c,e){const s=Array.from(new Ir(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(s.every(({cellWidth:d})=>d===1))return e.lastColumn;const a=s[0].cellWidth-1;return e.lastColumn+a}class R0 extends Rt{constructor(e,s){super(e),this.direction=s.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,s=e.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],d=this.value,p=this.direction;e.change(b=>{const v=p=="right"||p=="down",C=v?a:d,j=v?d:a,E=j.parent;(function($,ce,fe){H4($)||(H4(ce)&&fe.remove(fe.createRangeIn(ce)),fe.move(fe.createRangeIn($),fe.createPositionAt(ce,"end"))),fe.remove($)})(j,C,b);const I=this.isHorizontal?"colspan":"rowspan",L=parseInt(a.getAttribute(I)||"1"),H=parseInt(d.getAttribute(I)||"1");b.setAttribute(I,L+H,C),b.setSelection(b.createRangeIn(C));const K=this.editor.plugins.get("TableUtils");kC(E.findAncestor("table"),K)})}_getMergeableCell(){const e=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),a=s.getTableCellsContainingSelection(e.selection)[0];if(!a)return;const d=this.isHorizontal?function(v,C,j){const E=v.parent,I=E.parent,L=C=="right"?v.nextSibling:v.previousSibling,H=(I.getAttribute("headingColumns")||0)>0;if(!L)return;const K=C=="right"?v:L,$=C=="right"?L:v,{column:ce}=j.getCellLocation(K),{column:fe}=j.getCellLocation($),ve=parseInt(K.getAttribute("colspan")||"1"),Pe=xC(j,K),et=xC(j,$);if(!(H&&Pe!=et))return ce+ve===fe?L:void 0}(a,this.direction,s):function(v,C,j){const E=v.parent,I=E.parent,L=I.getChildIndex(E);if(C=="down"&&L===j.getRows(I)-1||C=="up"&&L===0)return null;const H=parseInt(v.getAttribute("rowspan")||"1"),K=I.getAttribute("headingRows")||0,$=C=="down"&&L+H===K,ce=C=="up"&&L===K;if(K&&($||ce))return null;const fe=parseInt(v.getAttribute("rowspan")||"1"),ve=C=="down"?L+fe:L,Pe=[...new Ir(I,{endRow:ve})],et=Pe.find(nr=>nr.cell===v),vt=et.column,Rr=Pe.find(({row:nr,cellHeight:ss,column:Gn})=>Gn===vt&&(C=="down"?nr===ve:ve===nr+ss));return Rr&&Rr.cell?Rr.cell:null}(a,this.direction,s);if(!d)return;const p=this.isHorizontal?"rowspan":"colspan",b=parseInt(a.getAttribute(p)||"1");return parseInt(d.getAttribute(p)||"1")===b?d:void 0}}function H4(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class Z7 extends Rt{refresh(){const e=this.editor.plugins.get("TableUtils"),s=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=e.getRows(d)-1,b=e.getRowIndexes(s),v=b.first===0&&b.last===p;this.isEnabled=!v}else this.isEnabled=!1}execute(){const e=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(e.document.selection),d=s.getRowIndexes(a),p=a[0],b=p.findAncestor("table"),v=s.getCellLocation(p).column;e.change(C=>{const j=d.last-d.first+1;s.removeRows(b,{at:d.first,rows:j});const E=function(I,L,H,K){const $=I.getChild(Math.min(L,K-1));let ce=$.getChild(0),fe=0;for(const ve of $.getChildren()){if(fe>H)return ce;ce=ve,fe+=parseInt(ve.getAttribute("colspan")||"1")}return ce}(b,d.first,v,s.getRows(b));C.setSelection(C.createPositionAt(E,0))})}}class $7 extends Rt{refresh(){const e=this.editor.plugins.get("TableUtils"),s=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=e.getColumns(d),{first:b,last:v}=e.getColumnIndexes(s);this.isEnabled=v-b<p-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[s,a]=function(C,j){const E=j.getSelectionAffectedTableCells(C),I=E[0],L=E.pop(),H=[I,L];return I.isBefore(L)?H:H.reverse()}(this.editor.model.document.selection,e),d=s.parent.parent,p=[...new Ir(d)],b={first:p.find(C=>C.cell===s).column,last:p.find(C=>C.cell===a).column},v=function(C,j,E,I){return parseInt(E.getAttribute("colspan")||"1")>1?E:j.previousSibling||E.nextSibling?E.nextSibling||j.previousSibling:I.first?C.reverse().find(({column:H})=>H<I.first).cell:C.reverse().find(({column:H})=>H>I.last).cell}(p,s,a,b);this.editor.model.change(C=>{const j=b.last-b.first+1;e.removeColumns(d,{at:b.first,columns:j}),C.setSelection(C.createPositionAt(v,0))})}}class ez extends Rt{refresh(){const e=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=e.getSelectionAffectedTableCells(s.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>this._isInHeading(p,p.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:b,last:v}=s.getRowIndexes(d),C=this.value?b:v+1,j=p.getAttribute("headingRows")||0;a.change(E=>{if(C){const I=B4(p,C,C>j?j:0);for(const{cell:L}of I)L4(L,C,E)}kn("headingRows",C,p,E,0)})}_isInHeading(e,s){const a=parseInt(s.getAttribute("headingRows")||"0");return!!a&&e.parent.index<a}}class tz extends Rt{refresh(){const e=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(e.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>xC(s,p))}execute(e={}){if(e.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:b,last:v}=s.getColumnIndexes(d),C=this.value?b:v+1;a.change(j=>{if(C){const E=z4(p,C);for(const{cell:I,column:L}of E)F4(I,L,C,j)}kn("headingColumns",C,p,j,0)})}}function rz(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(s=>s.is("element","tableColumnGroup"))}function nz(c){const e=rz(c);return e?Array.from(e.getChildren()):[]}class Vs extends Fe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const s=e.parent,a=s.parent,d=a.getChildIndex(s),p=new Ir(a,{row:d});for(const{cell:b,row:v,column:C}of p)if(b===e)return{row:v,column:C}}createTable(e,s){const a=e.createElement("table"),d=s.rows||2,p=s.columns||2;return CC(e,a,0,d,p),s.headingRows&&kn("headingRows",Math.min(s.headingRows,d),a,e,0),s.headingColumns&&kn("headingColumns",Math.min(s.headingColumns,p),a,e,0),a}insertRows(e,s={}){const a=this.editor.model,d=s.at||0,p=s.rows||1,b=s.copyStructureFromAbove!==void 0,v=s.copyStructureFromAbove?d-1:d,C=this.getRows(e),j=this.getColumns(e);if(d>C)throw new B("tableutils-insertrows-insert-out-of-range",this,{options:s});a.change(E=>{const I=e.getAttribute("headingRows")||0;if(I>d&&kn("headingRows",I+p,e,E,0),!b&&(d===0||d===C))return void CC(E,e,d,p,j);const L=b?Math.max(d,v):d,H=new Ir(e,{endRow:L}),K=new Array(j).fill(1);for(const{row:$,column:ce,cellHeight:fe,cellWidth:ve,cell:Pe}of H){const et=$+fe-1,vt=$<=v&&v<=et;$<d&&d<=et?(E.setAttribute("rowspan",fe+p,Pe),K[ce]=-ve):b&&vt&&(K[ce]=ve)}for(let $=0;$<p;$++){const ce=E.createElement("tableRow");E.insert(ce,e,d);for(let fe=0;fe<K.length;fe++){const ve=K[fe],Pe=E.createPositionAt(ce,"end");ve>0&&nm(E,Pe,ve>1?{colspan:ve}:void 0),fe+=Math.abs(ve)-1}}})}insertColumns(e,s={}){const a=this.editor.model,d=s.at||0,p=s.columns||1;a.change(b=>{const v=e.getAttribute("headingColumns");d<v&&b.setAttribute("headingColumns",v+p,e);const C=this.getColumns(e);if(d===0||C===d){for(const E of e.getChildren())E.is("element","tableRow")&&mf(p,b,b.createPositionAt(E,d?"end":0));return}const j=new Ir(e,{column:d,includeAllSlots:!0});for(const E of j){const{row:I,cell:L,cellAnchorColumn:H,cellAnchorRow:K,cellWidth:$,cellHeight:ce}=E;if(H<d){b.setAttribute("colspan",$+p,L);const fe=K+ce-1;for(let ve=I;ve<=fe;ve++)j.skipRow(ve)}else mf(p,b,E.getPositionBefore())}})}removeRows(e,s){const a=this.editor.model,d=s.rows||1,p=this.getRows(e),b=s.at,v=b+d-1;if(v>p-1)throw new B("tableutils-removerows-row-index-out-of-range",this,{table:e,options:s});a.change(C=>{const j={first:b,last:v},{cellsToMove:E,cellsToTrim:I}=function(L,{first:H,last:K}){const $=new Map,ce=[];for(const{row:fe,column:ve,cellHeight:Pe,cell:et}of new Ir(L,{endRow:K})){const vt=fe+Pe-1;if(fe>=H&&fe<=K&&vt>K){const Rr=Pe-(K-fe+1);$.set(ve,{cell:et,rowspan:Rr})}if(fe<H&&vt>=H){let Rr;Rr=vt>=K?K-H+1:vt-H+1,ce.push({cell:et,rowspan:Pe-Rr})}}return{cellsToMove:$,cellsToTrim:ce}}(e,j);E.size&&function(L,H,K,$){const ce=new Ir(L,{includeAllSlots:!0,row:H}),fe=[...ce],ve=L.getChild(H);let Pe;for(const{column:et,cell:vt,isAnchor:Rr}of fe)if(K.has(et)){const{cell:nr,rowspan:ss}=K.get(et),Gn=Pe?$.createPositionAfter(Pe):$.createPositionAt(ve,0);$.move($.createRangeOn(nr),Gn),kn("rowspan",ss,nr,$),Pe=nr}else Rr&&(Pe=vt)}(e,v+1,E,C);for(let L=v;L>=b;L--)C.remove(e.getChild(L));for(const{rowspan:L,cell:H}of I)kn("rowspan",L,H,C);(function(L,{first:H,last:K},$){const ce=L.getAttribute("headingRows")||0;H<ce&&kn("headingRows",K<ce?ce-(K-H+1):H,L,$,0)})(e,j,C),vC(e,this)||wC(e,this)})}removeColumns(e,s){const a=this.editor.model,d=s.at,p=s.columns||1,b=s.at+p-1;a.change(v=>{(function(j,E,I){const L=j.getAttribute("headingColumns")||0;if(L&&E.first<L){const H=Math.min(L-1,E.last)-E.first+1;I.setAttribute("headingColumns",L-H,j)}})(e,{first:d,last:b},v);const C=nz(e);for(let j=b;j>=d;j--){for(const{cell:E,column:I,cellWidth:L}of[...new Ir(e)])I<=j&&L>1&&I+L>j?kn("colspan",L-1,E,v):I===j&&v.remove(E);if(C[j]){const E=j===0?C[1]:C[j-1],I=parseFloat(C[j].getAttribute("columnWidth")),L=parseFloat(E.getAttribute("columnWidth"));v.remove(C[j]),v.setAttribute("columnWidth",I+L+"%",E)}}wC(e,this)||vC(e,this)})}splitCellVertically(e,s=2){const a=this.editor.model,d=e.parent.parent,p=parseInt(e.getAttribute("rowspan")||"1"),b=parseInt(e.getAttribute("colspan")||"1");a.change(v=>{if(b>1){const{newCellsSpan:C,updatedSpan:j}=q4(b,s);kn("colspan",j,e,v);const E={};C>1&&(E.colspan=C),p>1&&(E.rowspan=p),mf(b>s?s-1:b-1,v,v.createPositionAfter(e),E)}if(b<s){const C=s-b,j=[...new Ir(d)],{column:E}=j.find(({cell:K})=>K===e),I=j.filter(({cell:K,cellWidth:$,column:ce})=>K!==e&&ce===E||ce<E&&ce+$>E);for(const{cell:K,cellWidth:$}of I)v.setAttribute("colspan",$+C,K);const L={};p>1&&(L.rowspan=p),mf(C,v,v.createPositionAfter(e),L);const H=d.getAttribute("headingColumns")||0;H>E&&kn("headingColumns",H+C,d,v)}})}splitCellHorizontally(e,s=2){const a=this.editor.model,d=e.parent,p=d.parent,b=p.getChildIndex(d),v=parseInt(e.getAttribute("rowspan")||"1"),C=parseInt(e.getAttribute("colspan")||"1");a.change(j=>{if(v>1){const E=[...new Ir(p,{startRow:b,endRow:b+v-1,includeAllSlots:!0})],{newCellsSpan:I,updatedSpan:L}=q4(v,s);kn("rowspan",L,e,j);const{column:H}=E.find(({cell:$})=>$===e),K={};I>1&&(K.rowspan=I),C>1&&(K.colspan=C);for(const $ of E){const{column:ce,row:fe}=$;fe>=b+L&&ce===H&&(fe+b+L)%I==0&&mf(1,j,$.getPositionBefore(),K)}}if(v<s){const E=s-v,I=[...new Ir(p,{startRow:0,endRow:b})];for(const{cell:K,cellHeight:$,row:ce}of I)if(K!==e&&ce+$>b){const fe=$+E;j.setAttribute("rowspan",fe,K)}const L={};C>1&&(L.colspan=C),CC(j,p,b+1,E,1,L);const H=p.getAttribute("headingRows")||0;H>b&&kn("headingRows",H+E,p,j)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((s,a)=>a.is("element","tableRow")?s+1:s,0)}createTableWalker(e,s={}){return new Ir(e,s)}getSelectedTableCells(e){const s=[];for(const a of this.sortRanges(e.getRanges())){const d=a.getContainedElement();d&&d.is("element","tableCell")&&s.push(d)}return s}getTableCellsContainingSelection(e){const s=[];for(const a of e.getRanges()){const d=a.start.findAncestor("tableCell");d&&s.push(d)}return s}getSelectionAffectedTableCells(e){const s=this.getSelectedTableCells(e);return s.length?s:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const s=e.map(a=>a.parent.index);return this._getFirstLastIndexesObject(s)}getColumnIndexes(e){const s=e[0].findAncestor("table"),a=[...new Ir(s)].filter(d=>e.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const s=new Set,a=new Set;let d=0;for(const b of e){const{row:v,column:C}=this.getCellLocation(b),j=parseInt(b.getAttribute("rowspan"))||1,E=parseInt(b.getAttribute("colspan"))||1;s.add(v),a.add(C),j>1&&s.add(v+j-1),E>1&&a.add(C+E-1),d+=j*E}return function(b,v){const C=Array.from(b.values()),j=Array.from(v.values()),E=Math.max(...C),I=Math.min(...C),L=Math.max(...j),H=Math.min(...j);return(E-I+1)*(L-H+1)}(s,a)==d}sortRanges(e){return Array.from(e).sort(sz)}_getFirstLastIndexesObject(e){const s=e.sort((a,d)=>a-d);return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(e){const s=e[0].findAncestor("table"),a=this.getRowIndexes(e),d=parseInt(s.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,d))return!1;const p=this.getColumnIndexes(e),b=parseInt(s.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(p,b)}_areIndexesInSameSection({first:e,last:s},a){return e<a==s<a}}function CC(c,e,s,a,d,p={}){for(let b=0;b<a;b++){const v=c.createElement("tableRow");c.insert(v,e,s),mf(d,c,c.createPositionAt(v,"end"),p)}}function mf(c,e,s,a={}){for(let d=0;d<c;d++)nm(e,s,a)}function q4(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(c/e);return{newCellsSpan:s,updatedSpan:c-s*e+s}}function sz(c,e){const s=c.start,a=e.start;return s.isBefore(a)?-1:1}class oz extends Rt{refresh(){const e=this.editor.plugins.get(Vs),s=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(s)}execute(){const e=this.editor.model,s=this.editor.plugins.get(Vs);e.change(a=>{const d=s.getSelectedTableCells(e.document.selection),p=d.shift(),{mergeWidth:b,mergeHeight:v}=function(C,j,E){let I=0,L=0;for(const fe of j){const{row:ve,column:Pe}=E.getCellLocation(fe);I=W4(fe,Pe,I,"colspan"),L=W4(fe,ve,L,"rowspan")}const{row:H,column:K}=E.getCellLocation(C),$=I-K,ce=L-H;return{mergeWidth:$,mergeHeight:ce}}(p,d,s);kn("colspan",b,p,a),kn("rowspan",v,p,a);for(const C of d)iz(C,p,a);kC(p.findAncestor("table"),s),a.setSelection(p,"in")})}}function iz(c,e,s){Y4(c)||(Y4(e)&&s.remove(s.createRangeIn(e)),s.move(s.createRangeIn(c),s.createPositionAt(e,"end"))),s.remove(c)}function Y4(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function W4(c,e,s,a){const d=parseInt(c.getAttribute(a)||"1");return Math.max(s,e+d)}class az extends Rt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(e.document.selection),d=s.getRowIndexes(a),p=a[0].findAncestor("table"),b=[];for(let v=d.first;v<=d.last;v++)for(const C of p.getChild(v).getChildren())b.push(e.createRangeOn(C));e.change(v=>{v.setSelection(b)})}}class lz extends Rt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=e.getSelectionAffectedTableCells(s.document.selection),d=a[0],p=a.pop(),b=d.findAncestor("table"),v=e.getCellLocation(d),C=e.getCellLocation(p),j=Math.min(v.column,C.column),E=Math.max(v.column,C.column),I=[];for(const L of new Ir(b,{startColumn:j,endColumn:E}))I.push(s.createRangeOn(L.cell));s.change(L=>{L.setSelection(I)})}}function cz(c){c.document.registerPostFixer(e=>function(s,a){const d=a.document.differ.getChanges();let p=!1;const b=new Set;for(const v of d){let C=null;v.type=="insert"&&v.name=="table"&&(C=v.position.nodeAfter),v.type!="insert"&&v.type!="remove"||v.name!="tableRow"&&v.name!="tableCell"||(C=v.position.findAncestor("table")),hz(v)&&(C=v.range.start.findAncestor("table")),C&&!b.has(C)&&(p=dz(C,s)||p,p=uz(C,s)||p,b.add(C))}return p}(e,c))}function dz(c,e){let s=!1;const a=function(d){const p=parseInt(d.getAttribute("headingRows")||"0"),b=Array.from(d.getChildren()).reduce((C,j)=>j.is("element","tableRow")?C+1:C,0),v=[];for(const{row:C,cell:j,cellHeight:E}of new Ir(d)){if(E<2)continue;const I=C<p?p:b;if(C+E>I){const L=I-C;v.push({cell:j,rowspan:L})}}return v}(c);if(a.length){s=!0;for(const d of a)kn("rowspan",d.rowspan,d.cell,e,1)}return s}function uz(c,e){let s=!1;const a=function(v){const C=new Array(v.childCount).fill(0);for(const{rowIndex:j}of new Ir(v,{includeAllSlots:!0}))C[j]++;return C}(c),d=[];for(const[v,C]of a.entries())!C&&c.getChild(v).is("element","tableRow")&&d.push(v);if(d.length){s=!0;for(const v of d.reverse())e.remove(c.getChild(v)),a.splice(v,1)}const p=a.filter((v,C)=>c.getChild(C).is("element","tableRow")),b=p[0];if(!p.every(v=>v===b)){const v=p.reduce((C,j)=>j>C?j:C,0);for(const[C,j]of p.entries()){const E=v-j;if(E){for(let I=0;I<E;I++)nm(e,e.createPositionAt(c.getChild(C),"end"));s=!0}}}return s}function hz(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function mz(c){c.document.registerPostFixer(e=>function(s,a){const d=a.document.differ.getChanges();let p=!1;for(const b of d)b.type=="insert"&&b.name=="table"&&(p=pz(b.position.nodeAfter,s)||p),b.type=="insert"&&b.name=="tableRow"&&(p=K4(b.position.nodeAfter,s)||p),b.type=="insert"&&b.name=="tableCell"&&(p=_C(b.position.nodeAfter,s)||p),b.type!="remove"&&b.type!="insert"||!fz(b)||(p=_C(b.position.parent,s)||p);return p}(e,c))}function pz(c,e){let s=!1;for(const a of c.getChildren())a.is("element","tableRow")&&(s=K4(a,e)||s);return s}function K4(c,e){let s=!1;for(const a of c.getChildren())s=_C(a,e)||s;return s}function _C(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const s=Array.from(c.getChildren()).filter(a=>a.is("$text"));for(const a of s)e.wrap(e.createRangeOn(a),"paragraph");return!!s.length}function fz(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function gz(c,e){if(!c.is("element","paragraph"))return!1;const s=e.toViewElement(c);return!!s&&T4(c)!==s.is("element","span")}var Q4=l(3881),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Q4.Z,yz),Q4.Z.locals;class bz extends Fe{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Vs]}init(){const e=this.editor,s=e.model,a=s.schema,d=e.conversion,p=e.plugins.get(Vs);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(b=>{b.on("element:figure",(v,C,j)=>{if(!j.consumable.test(C.viewItem,{name:!0,classes:"table"}))return;const E=function(L){for(const H of L.getChildren())if(H.is("element","table"))return H}(C.viewItem);if(!E||!j.consumable.test(E,{name:!0}))return;j.consumable.consume(C.viewItem,{name:!0,classes:"table"});const I=en(j.convertItem(E,C.modelCursor).modelRange.getItems());I?(j.convertChildren(C.viewItem,j.writer.createPositionAt(I,"end")),j.updateConversionResult(I,C)):j.consumable.revert(C.viewItem,{name:!0,classes:"table"})})}),d.for("upcast").add(K7()),d.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:E4(p,{asWidget:!0,additionalSlots:this._additionalSlots})}),d.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:E4(p,{additionalSlots:this._additionalSlots})}),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(b=>{b.on("element:tr",(v,C)=>{C.viewItem.isEmpty&&C.modelCursor.index==0&&v.stop()},{priority:"high"})}),d.for("downcast").elementToElement({model:"tableRow",view:(b,{writer:v})=>b.isEmpty?v.createEmptyElement("tr"):v.createContainerElement("tr")}),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(S4("td")),d.for("upcast").add(S4("th")),d.for("editingDowncast").elementToElement({model:"tableCell",view:D4({asWidget:!0})}),d.for("dataDowncast").elementToElement({model:"tableCell",view:D4()}),d.for("editingDowncast").elementToElement({model:"paragraph",view:M4({asWidget:!0}),converterPriority:"high"}),d.for("dataDowncast").elementToElement({model:"paragraph",view:M4(),converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:J4("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:J4("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new X7(e)),e.commands.add("insertTableRowAbove",new I4(e,{order:"above"})),e.commands.add("insertTableRowBelow",new I4(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new R4(e,{order:"left"})),e.commands.add("insertTableColumnRight",new R4(e,{order:"right"})),e.commands.add("removeTableRow",new Z7(e)),e.commands.add("removeTableColumn",new $7(e)),e.commands.add("splitTableCellVertically",new P4(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new P4(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new oz(e)),e.commands.add("mergeTableCellRight",new R0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new R0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new R0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new R0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new tz(e)),e.commands.add("setTableRowHeader",new ez(e)),e.commands.add("selectTableRow",new az(e)),e.commands.add("selectTableColumn",new lz(e)),cz(s),mz(s),this.listenTo(s.document,"change:data",()=>{(function(b,v){const C=b.document.differ;for(const j of C.getChanges()){let E,I=!1;if(j.type=="attribute"){const $=j.range.start.nodeAfter;if(!$||!$.is("element","table")||j.attributeKey!="headingRows"&&j.attributeKey!="headingColumns")continue;E=$,I=j.attributeKey=="headingRows"}else j.name!="tableRow"&&j.name!="tableCell"||(E=j.position.findAncestor("table"),I=j.name=="tableRow");if(!E)continue;const L=E.getAttribute("headingRows")||0,H=E.getAttribute("headingColumns")||0,K=new Ir(E);for(const $ of K){const ce=$.row<L||$.column<H?"th":"td",fe=v.mapper.toViewElement($.cell);fe&&fe.is("element")&&fe.name!=ce&&v.reconvertItem(I?$.cell.parent:$.cell)}}})(s,e.editing),function(b,v){const C=b.document.differ,j=new Set;for(const E of C.getChanges()){const I=E.type=="attribute"?E.range.start.parent:E.position.parent;I.is("element","tableCell")&&j.add(I)}for(const E of j.values()){const I=Array.from(E.getChildren()).filter(L=>gz(L,v.mapper));for(const L of I)v.reconvertItem(L)}}(s,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function J4(c){return e=>{const s=parseInt(e.getAttribute(c));return Number.isNaN(s)||s<=0?null:s}}var X4=l(1613),xz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(X4.Z,xz),X4.Z.locals;class vz extends Ft{constructor(e){super(e);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new wo,this.focusTracker=new hs,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d}  ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to(a=>{a.preventDefault()}),click:s.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,d)=>{const{row:p,column:b}=d.target.dataset;this.items.get(10*(parseInt(p,10)-1)+(parseInt(b,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,d,p)=>{if(!p)return;const{row:b,column:v}=p.dataset;this.set({rows:parseInt(b),columns:parseInt(v)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:s,gridItems:a,numberOfColumns:d,uiLanguageDirection:p}){const b=()=>d;function v(E){return I=>{const L=a.find($=>$.element===s.focusedElement),H=a.getIndex(L),K=E(H,a);a.get(K).focus(),I.stopPropagation(),I.preventDefault()}}function C(E,I){return E===I-1?0:E+1}function j(E,I){return E===0?I-1:E-1}e.set("arrowright",v((E,I)=>p==="rtl"?j(E,I.length):C(E,I.length))),e.set("arrowleft",v((E,I)=>p==="rtl"?C(E,I.length):j(E,I.length))),e.set("arrowup",v((E,I)=>{let L=E-b();return L<0&&(L=E+b()*Math.floor(I.length/b()),L>I.length-1&&(L-=b())),L})),e.set("arrowdown",v((E,I)=>{let L=E+b();return L>I.length-1&&(L=E%b()),L}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,s=this.columns;this.items.map((a,d)=>{const p=Math.floor(d/10)<e&&d%10<s;a.set("isOn",p)})}_createGridButton(e,s,a,d){const p=new ir(e);return p.set({label:d,class:"ck-insert-table-dropdown-grid-box"}),p.extendTemplate({attributes:{"data-row":s,"data-column":a}}),p}_createGridCollection(){const e=[];for(let s=0;s<100;s++){const a=Math.floor(s/10),d=s%10,p=`${a+1}  ${d+1}`;e.push(this._createGridButton(this.locale,a+1,d+1,p))}return this.createCollection(e)}}class wz extends Fe{static get pluginName(){return"TableUI"}init(){const e=this.editor,s=this.editor.t,a=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",d=>{const p=e.commands.get("insertTable"),b=ct(d);let v;return b.bind("isEnabled").to(p),b.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:s("Insert table"),tooltip:!0}),b.on("change:isOpen",()=>{v||(v=new vz(d),b.panelView.children.add(v),v.delegate("execute").to(b),b.on("execute",()=>{e.execute("insertTable",{rows:v.rows,columns:v.columns}),e.editing.view.focus()}))}),b}),e.ui.componentFactory.add("tableColumn",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',p,d)}),e.ui.componentFactory.add("tableRow",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',p,d)}),e.ui.componentFactory.add("mergeTableCells",d=>{const p=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',p,d)})}_prepareDropdown(e,s,a,d){const p=this.editor,b=ct(d),v=this._fillDropdownWithListOptions(b,a);return b.buttonView.set({label:e,icon:s,tooltip:!0}),b.bind("isEnabled").toMany(v,"isEnabled",(...C)=>C.some(j=>j)),this.listenTo(b,"execute",C=>{p.execute(C.source.commandName),C.source instanceof $o||p.editing.view.focus()}),b}_prepareMergeSplitButtonDropdown(e,s,a,d){const p=this.editor,b=ct(d,xe),v="mergeTableCells",C=p.commands.get(v),j=this._fillDropdownWithListOptions(b,a);return b.buttonView.set({label:e,icon:s,tooltip:!0,isEnabled:!0}),b.bind("isEnabled").toMany([C,...j],"isEnabled",(...E)=>E.some(I=>I)),this.listenTo(b.buttonView,"execute",()=>{p.execute(v),p.editing.view.focus()}),this.listenTo(b,"execute",E=>{p.execute(E.source.commandName),p.editing.view.focus()}),b}_fillDropdownWithListOptions(e,s){const a=this.editor,d=[],p=new As;for(const b of s)kz(b,a,d,p);return ar(e,p),d}}function kz(c,e,s,a){if(c.type==="button"||c.type==="switchbutton"){const d=c.model=new uj(c.model),{commandName:p,bindIsOn:b}=c.model,v=e.commands.get(p);s.push(v),d.set({commandName:p}),d.bind("isEnabled").to(v),b&&d.bind("isOn").to(v,"value"),d.set({withText:!0})}a.add(c)}var Z4=l(6945),Cz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(Z4.Z,Cz),Z4.Z.locals;class sm extends Fe{static get pluginName(){return"TableSelection"}static get requires(){return[Vs,Vs]}init(){const e=this.editor,s=e.model,a=e.editing.view;this.listenTo(s,"deleteContent",(d,p)=>this._handleDeleteContent(d,p),{priority:"high"}),this.listenTo(a.document,"insertText",(d,p)=>this._handleInsertTextEvent(d,p),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Vs),s=this.editor.model.document.selection,a=e.getSelectedTableCells(s);return a.length==0?null:a}getSelectionAsFragment(){const e=this.editor.plugins.get(Vs),s=this.getSelectedTableCells();return s?this.editor.model.change(a=>{const d=a.createDocumentFragment(),{first:p,last:b}=e.getColumnIndexes(s),{first:v,last:C}=e.getRowIndexes(s),j=s[0].findAncestor("table");let E=C,I=b;if(e.isSelectionRectangular(s)){const H={firstColumn:p,lastColumn:b,firstRow:v,lastRow:C};E=U4(j,H),I=G4(j,H)}const L=O4(j,{startRow:v,startColumn:p,endRow:E,endColumn:I},a);return a.insert(L,d,0),d}):null}setCellSelection(e,s){const a=this._getCellsToSelect(e,s);this.editor.model.change(d=>{d.setSelection(a.cells.map(p=>d.createRangeOn(p)),{backward:a.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=en(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,s=new Set;e.conversion.for("editingDowncast").add(a=>a.on("selection",(d,p,b)=>{const v=b.writer;(function(E){for(const I of s)E.removeClass("ck-editor__editable_selected",I);s.clear()})(v);const C=this.getSelectedTableCells();if(!C)return;for(const E of C){const I=b.mapper.toViewElement(E);v.addClass("ck-editor__editable_selected",I),s.add(I)}const j=b.mapper.toViewElement(C[C.length-1]);v.setSelection(j,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;e.model.change(a=>{const d=a.createPositionAt(s[0],0),p=e.model.schema.getNearestSelectionRange(d);a.setSelection(p)})}})}_handleDeleteContent(e,s){const a=this.editor.plugins.get(Vs),d=s[0],p=s[1],b=this.editor.model,v=!p||p.direction=="backward",C=a.getSelectedTableCells(d);C.length&&(e.stop(),b.change(j=>{const E=C[v?C.length-1:0];b.change(L=>{for(const H of C)b.deleteContent(L.createSelection(H,"in"))});const I=b.schema.getNearestSelectionRange(j.createPositionAt(E,0));d.is("documentSelection")?j.setSelection(I):d.setTo(I)}))}_handleInsertTextEvent(e,s){const a=this.editor,d=this.getSelectedTableCells();if(!d)return;const p=a.editing.view,b=a.editing.mapper,v=d.map(C=>p.createRangeOn(b.toViewElement(C)));s.selection=p.createSelection(v)}_getCellsToSelect(e,s){const a=this.editor.plugins.get("TableUtils"),d=a.getCellLocation(e),p=a.getCellLocation(s),b=Math.min(d.row,p.row),v=Math.max(d.row,p.row),C=Math.min(d.column,p.column),j=Math.max(d.column,p.column),E=new Array(v-b+1).fill(null).map(()=>[]),I={startRow:b,endRow:v,startColumn:C,endColumn:j};for(const{row:K,cell:$}of new Ir(e.findAncestor("table"),I))E[K-b].push($);const L=p.row<d.row,H=p.column<d.column;return L&&E.reverse(),H&&E.forEach(K=>K.reverse()),{cells:E.flat(),backward:L||H}}}class _z extends Fe{static get pluginName(){return"TableClipboard"}static get requires(){return[sm,Vs]}init(){const e=this.editor,s=e.editing.view.document;this.listenTo(s,"copy",(a,d)=>this._onCopyCut(a,d)),this.listenTo(s,"cut",(a,d)=>this._onCopyCut(a,d)),this.listenTo(e.model,"insertContent",(a,[d,p])=>this._onInsertContent(a,d,p),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,s){const a=this.editor.plugins.get(sm);if(!a.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;s.preventDefault(),e.stop();const d=this.editor.data,p=this.editor.editing.view.document,b=d.toView(a.getSelectionAsFragment());p.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:b,method:e.name})}_onInsertContent(e,s,a){if(a&&!a.is("documentSelection"))return;const d=this.editor.model,p=this.editor.plugins.get(Vs);let b=this.getTableIfOnlyTableInContent(s,d);if(!b)return;const v=p.getSelectionAffectedTableCells(d.document.selection);v.length?(e.stop(),d.change(C=>{const j={width:p.getColumns(b),height:p.getRows(b)},E=function(ce,fe,ve,Pe){const et=ce[0].findAncestor("table"),vt=Pe.getColumnIndexes(ce),Rr=Pe.getRowIndexes(ce),nr={firstColumn:vt.first,lastColumn:vt.last,firstRow:Rr.first,lastRow:Rr.last},ss=ce.length===1;return ss&&(nr.lastRow+=fe.height-1,nr.lastColumn+=fe.width-1,function(Gn,pf,Nl,Ri){const Rc=Ri.getColumns(Gn),Pc=Ri.getRows(Gn);Nl>Rc&&Ri.insertColumns(Gn,{at:Rc,columns:Nl-Rc}),pf>Pc&&Ri.insertRows(Gn,{at:Pc,rows:pf-Pc})}(et,nr.lastRow+1,nr.lastColumn+1,Pe)),ss||!Pe.isSelectionRectangular(ce)?function(Gn,pf,Nl){const{firstRow:Ri,lastRow:Rc,firstColumn:Pc,lastColumn:im}=pf,g5={first:Ri,last:Rc},y5={first:Pc,last:im};NC(Gn,Pc,g5,Nl),NC(Gn,im+1,g5,Nl),AC(Gn,Ri,y5,Nl),AC(Gn,Rc+1,y5,Nl,Ri)}(et,nr,ve):(nr.lastRow=U4(et,nr),nr.lastColumn=G4(et,nr)),nr}(v,j,C,p),I=E.lastRow-E.firstRow+1,L=E.lastColumn-E.firstColumn+1,H={startRow:0,startColumn:0,endRow:Math.min(I,j.height)-1,endColumn:Math.min(L,j.width)-1};b=O4(b,H,C);const K=v[0].findAncestor("table"),$=this._replaceSelectedCellsWithPasted(b,j,K,E,C);if(this.editor.plugins.get("TableSelection").isEnabled){const ce=p.sortRanges($.map(fe=>C.createRangeOn(fe)));C.setSelection(ce)}else C.setSelection($[0],0)})):kC(b,p)}_replaceSelectedCellsWithPasted(e,s,a,d,p){const{width:b,height:v}=s,C=function(ce,fe,ve){const Pe=new Array(ve).fill(null).map(()=>new Array(fe).fill(null));for(const{column:et,row:vt,cell:Rr}of new Ir(ce))Pe[vt][et]=Rr;return Pe}(e,b,v),j=[...new Ir(a,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],E=[];let I;for(const ce of j){const{row:fe,column:ve}=ce;ve===d.firstColumn&&(I=ce.getPositionBefore());const Pe=fe-d.firstRow,et=ve-d.firstColumn,vt=C[Pe%v][et%b],Rr=vt?p.cloneElement(vt):null,nr=this._replaceTableSlotCell(ce,Rr,I,p);nr&&(V4(nr,fe,ve,d.lastRow,d.lastColumn,p),E.push(nr),I=p.createPositionAfter(nr))}const L=parseInt(a.getAttribute("headingRows")||"0"),H=parseInt(a.getAttribute("headingColumns")||"0"),K=d.firstRow<L&&L<=d.lastRow,$=d.firstColumn<H&&H<=d.lastColumn;if(K){const ce=AC(a,L,{first:d.firstColumn,last:d.lastColumn},p,d.firstRow);E.push(...ce)}if($){const ce=NC(a,H,{first:d.firstRow,last:d.lastRow},p);E.push(...ce)}return E}_replaceTableSlotCell(e,s,a,d){const{cell:p,isAnchor:b}=e;return b&&d.remove(p),s?(d.insert(s,a),s):null}getTableIfOnlyTableInContent(e,s){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const a=s.createRangeIn(e);for(const d of a.getItems())if(d.is("element","table")){const p=s.createRange(a.start,s.createPositionBefore(d));if(s.hasContent(p,{ignoreWhitespaces:!0}))return null;const b=s.createRange(s.createPositionAfter(d),a.end);return s.hasContent(b,{ignoreWhitespaces:!0})?null:d}return null}}function AC(c,e,s,a,d=0){if(!(e<1))return B4(c,e,d).filter(({column:p,cellWidth:b})=>$4(p,b,s)).map(({cell:p})=>L4(p,e,a))}function NC(c,e,s,a){if(!(e<1))return z4(c,e).filter(({row:d,cellHeight:p})=>$4(d,p,s)).map(({cell:d,column:p})=>F4(d,p,e,a))}function $4(c,e,s){const a=c+e-1,{first:d,last:p}=s;return c>=d&&c<=p||c<d&&a>=d}class Az extends Fe{static get pluginName(){return"TableKeyboard"}static get requires(){return[sm,Vs]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(e,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(e,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(e,s){const a=this.editor,d=a.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(s.preventDefault(),s.stopPropagation(),e.stop(),a.model.change(p=>{p.setSelection(p.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(e,s){const a=this.editor,d=this.editor.plugins.get(Vs),p=this.editor.plugins.get("TableSelection"),b=a.model.document.selection,v=!s.shiftKey;let C=d.getTableCellsContainingSelection(b)[0];if(C||(C=p.getFocusCell()),!C)return;s.preventDefault(),s.stopPropagation(),e.stop();const j=C.parent,E=j.parent,I=E.getChildIndex(j),L=j.getChildIndex(C),H=L===0;if(!v&&H&&I===0)return void a.model.change(fe=>{fe.setSelection(fe.createRangeOn(E))});const K=L===j.childCount-1,$=I===d.getRows(E)-1;if(v&&$&&K&&(a.execute("insertTableRowBelow"),I===d.getRows(E)-1))return void a.model.change(fe=>{fe.setSelection(fe.createRangeOn(E))});let ce;if(v&&K)ce=E.getChild(I+1).getChild(0);else if(!v&&H){const fe=E.getChild(I-1);ce=fe.getChild(fe.childCount-1)}else ce=j.getChild(L+(v?1:-1));a.model.change(fe=>{fe.setSelection(fe.createRangeIn(ce))})}_onArrowKey(e,s){const a=this.editor,d=vo(s.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(d,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),e.stop())}_handleArrowKeys(e,s){const a=this.editor.plugins.get(Vs),d=this.editor.plugins.get("TableSelection"),p=this.editor.model,b=p.document.selection,v=["right","down"].includes(e),C=a.getSelectedTableCells(b);if(C.length){let E;return E=s?d.getFocusCell():v?C[C.length-1]:C[0],this._navigateFromCellInDirection(E,e,s),!0}const j=b.focus.findAncestor("tableCell");if(!j)return!1;if(!b.isCollapsed)if(s){if(b.isBackward==v&&!b.containsEntireContent(j))return!1}else{const E=b.getSelectedElement();if(!E||!p.schema.isObject(E))return!1}return!!this._isSelectionAtCellEdge(b,j,v)&&(this._navigateFromCellInDirection(j,e,s),!0)}_isSelectionAtCellEdge(e,s,a){const d=this.editor.model,p=this.editor.model.schema,b=a?e.getLastPosition():e.getFirstPosition();if(!p.getLimitElement(b).is("element","tableCell"))return d.createPositionAt(s,a?"end":0).isTouching(b);const v=d.createSelection(b);return d.modifySelection(v,{direction:a?"forward":"backward"}),b.isEqual(v.focus)}_navigateFromCellInDirection(e,s,a=!1){const d=this.editor.model,p=e.findAncestor("table"),b=[...new Ir(p,{includeAllSlots:!0})],{row:v,column:C}=b[b.length-1],j=b.find(({cell:$})=>$==e);let{row:E,column:I}=j;switch(s){case"left":I--;break;case"up":E--;break;case"right":I+=j.cellWidth;break;case"down":E+=j.cellHeight}if(E<0||E>v||I<0&&E<=0||I>C&&E>=v)return void d.change($=>{$.setSelection($.createRangeOn(p))});I<0?(I=a?0:C,E--):I>C&&(I=a?C:0,E++);const L=b.find($=>$.row==E&&$.column==I).cell,H=["right","down"].includes(s),K=this.editor.plugins.get("TableSelection");if(a&&K.isEnabled){const $=K.getAnchorCell()||e;K.setCellSelection($,L)}else{const $=d.createPositionAt(L,H?0:"end");d.change(ce=>{ce.setSelection($)})}}}class Nz extends ua{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class jz extends Fe{static get pluginName(){return"TableMouse"}static get requires(){return[sm,Vs]}init(){this.editor.editing.view.addObserver(Nz),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,s=e.plugins.get(Vs);let a=!1;const d=e.plugins.get(sm);this.listenTo(e.editing.view.document,"mousedown",(p,b)=>{const v=e.model.document.selection;if(!this.isEnabled||!d.isEnabled||!b.domEvent.shiftKey)return;const C=d.getAnchorCell()||s.getTableCellsContainingSelection(v)[0];if(!C)return;const j=this._getModelTableCellFromDomEvent(b);j&&e5(C,j)&&(a=!0,d.setCellSelection(C,j),b.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(e.editing.view.document,"selectionChange",p=>{a&&p.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let s,a,d=!1,p=!1;const b=e.plugins.get(sm);this.listenTo(e.editing.view.document,"mousedown",(v,C)=>{this.isEnabled&&b.isEnabled&&(C.domEvent.shiftKey||C.domEvent.ctrlKey||C.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(C)))}),this.listenTo(e.editing.view.document,"mousemove",(v,C)=>{if(!C.domEvent.buttons||!s)return;const j=this._getModelTableCellFromDomEvent(C);j&&e5(s,j)&&(a=j,d||a==s||(d=!0)),d&&(p=!0,b.setCellSelection(s,a),C.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{d=!1,p=!1,s=null,a=null}),this.listenTo(e.editing.view.document,"selectionChange",v=>{p&&v.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const s=e.target,a=this.editor.editing.view.createPositionAt(s,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function e5(c,e){return c.parent.parent==e.parent.parent}var t5=l(6306),Sz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(t5.Z,Sz),t5.Z.locals;function Ez(c){const e=c.getSelectedElement();return e&&r5(e)?e:null}function Dz(c){const e=c.getFirstPosition();if(!e)return null;let s=e.parent;for(;s;){if(s.is("element")&&r5(s))return s;s=s.parent}return null}function r5(c){return!!c.getCustomProperty("table")&&sn(c)}var n5=l(7368),Mz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(n5.Z,Mz),n5.Z.locals;var s5=l(9247),Tz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(s5.Z,Tz),s5.Z.locals;var o5=l(4070),Iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(o5.Z,Iz),o5.Z.locals;var i5=l(6237),Rz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(i5.Z,Rz),i5.Z.locals;var a5=l(5087),Pz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(a5.Z,Pz),a5.Z.locals;const om=Eo.defaultPositions;om.northArrowSouth,om.northArrowSouthWest,om.northArrowSouthEast,om.southArrowNorth,om.southArrowNorthWest,om.southArrowNorthEast,om.viewportStickyNorth;var l5=l(7341),Oz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(l5.Z,Oz),l5.Z.locals;var c5=l(2128),Bz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(c5.Z,Bz),c5.Z.locals;var d5=l(4101),Lz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};rt()(d5.Z,Lz),d5.Z.locals;var zz=Object.defineProperty,u5=Object.getOwnPropertySymbols,Fz=Object.prototype.hasOwnProperty,Vz=Object.prototype.propertyIsEnumerable,h5=(c,e,s)=>e in c?zz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,m5=(c,e)=>{for(var s in e||(e={}))Fz.call(e,s)&&h5(c,s,e[s]);if(u5)for(var s of u5(e))Vz.call(e,s)&&h5(c,s,e[s]);return c};const Uz={autoRefresh:!0},p5=36e5;class jC extends st(){constructor(e,s={}){if(super(),!e)throw new B("token-missing-token-url",this);s.initValue&&this._validateTokenValue(s.initValue),this.set("value",s.initValue),this._refresh=typeof e=="function"?e:()=>{return a=e,new Promise((d,p)=>{const b=new XMLHttpRequest;b.open("GET",a),b.addEventListener("load",()=>{const v=b.status,C=b.response;return v<200||v>299?p(new B("token-cannot-download-new-token",null)):d(C)}),b.addEventListener("error",()=>p(new Error("Network Error"))),b.addEventListener("abort",()=>p(new Error("Abort"))),b.send()});var a},this._options=m5(m5({},Uz),s)}init(){return new Promise((e,s)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(s)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const s=typeof e=="string",a=!/^".*"$/.test(e),d=s&&e.split(".").length===3;if(!a||!d)throw new B("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:s}=JSON.parse(atob(e));return s?Math.floor((1e3*s-Date.now())/2):p5}catch{return p5}}static create(e,s={}){return new jC(e,s).init()}}const SC=/^data:(\S*?);base64,/;class Gz extends te(){constructor(e,s,a){if(super(),!e)throw new B("fileuploader-missing-file",null);if(!s)throw new B("fileuploader-missing-token",null);if(!a)throw new B("fileuploader-missing-api-address",null);this.file=function(d){if(typeof d!="string")return!1;const p=d.match(SC);return!(!p||!p.length)}(e)?function(d,p=512){try{const b=d.match(SC)[1],v=atob(d.replace(SC,"")),C=[];for(let j=0;j<v.length;j+=p){const E=v.slice(j,j+p),I=new Array(E.length);for(let L=0;L<E.length;L++)I[L]=E.charCodeAt(L);C.push(new Uint8Array(I))}return new Blob(C,{type:b})}catch{throw new B("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=s,this._apiAddress=a}onProgress(e){return this.on("progress",(s,a)=>e(a)),this}onError(e){return this.once("error",(s,a)=>e(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,s=a=>()=>this.fire("error",a);e.addEventListener("error",s("Network Error")),e.addEventListener("abort",s("Abort")),e.upload&&e.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),e.addEventListener("load",()=>{const a=e.status,d=e.response;if(a<200||a>299)return this.fire("error",d.message||d.error)})}_sendRequest(){const e=new FormData,s=this.xhr;return e.append("file",this.file),new Promise((a,d)=>{s.addEventListener("load",()=>{const p=s.status,b=s.response;return p<200||p>299?b.message?d(new B("fileuploader-uploading-data-failed",this,{message:b.message})):d(b.error):a(b)}),s.addEventListener("error",()=>d(new Error("Network Error"))),s.addEventListener("abort",()=>d(new Error("Abort"))),s.send(e)})}}class Hz{constructor(e,s){if(!e)throw new B("uploadgateway-missing-token",null);if(!s)throw new B("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=s}upload(e){return new Gz(e,this._token,this._apiAddress)}}class qz extends Pd{static get pluginName(){return"CloudServicesCore"}createToken(e,s){return new jC(e,s)}createUploadGateway(e,s){return new Hz(e,s)}}var f5=(c,e,s)=>new Promise((a,d)=>{var p=C=>{try{v(s.next(C))}catch(j){d(j)}},b=C=>{try{v(s.throw(C))}catch(j){d(j)}},v=C=>C.done?a(C.value):Promise.resolve(C.value).then(p,b);v((s=s.apply(c,e)).next())});class EC extends w0{}EC.builtinPlugins=[class extends Fe{static get requires(){return[aS,A0,V6,x6,c6,pS]}static get pluginName(){return"Essentials"}},class extends Fe{static get requires(){return[ja]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(ja).createUploadAdapter=e=>new tL(e,c,this.editor.t))}},class extends Fe{static get requires(){return[Tc]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&du(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&du(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&du(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&du(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=S0(this.editor,"bold");cf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),cf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=S0(this.editor,"italic");cf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),cf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=S0(this.editor,"code");cf(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=S0(this.editor,"strikethrough");cf(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const s=e[7],a=new RegExp(`^(#{${s}})\\s$`);du(this.editor,this,a,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&du(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&du(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&du(this.editor,this,/^---$/,"horizontalLine")}},class extends Fe{static get requires(){return[rL,nL]}static get pluginName(){return"Bold"}},class extends Fe{static get requires(){return[oL,iL]}static get pluginName(){return"Italic"}},class extends Fe{static get requires(){return[lL,dL]}static get pluginName(){return"BlockQuote"}},class extends Fe{static get pluginName(){return"CKBox"}static get requires(){return[rC,uL]}},class extends Fe{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",kL,vL]}},class extends Pd{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[qz]}init(){return f5(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[s,a]of Object.entries(c))this[s]=a;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return f5(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),s=yield e.createToken(c).init();return this._tokens.set(c,s),s})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new B("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends Fe{static get pluginName(){return"EasyImage"}static get requires(){return[CL,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||W("easy-image-image-feature-missing",c)}},class extends Fe{static get requires(){return[SL,DL]}static get pluginName(){return"Heading"}},class extends Fe{static get requires(){return[WL,QL]}static get pluginName(){return"Image"}},class extends Fe{static get requires(){return[XL,ZL]}static get pluginName(){return"ImageCaption"}},class extends Fe{static get requires(){return[CE,C8]}static get pluginName(){return"ImageStyle"}},class extends Fe{static get requires(){return[j0,Sa]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,s=c.plugins.get(j0),a=c.plugins.get("ImageUtils");var d;s.register("image",{ariaLabel:e("Image toolbar"),items:(d=c.config.get("image.toolbar")||[],d.map(p=>Ye(p)?p.name:p)),getRelatedElement:p=>a.getClosestSelectedImageWidget(p)})}},class extends Fe{static get pluginName(){return"ImageUpload"}static get requires(){return[h8,t8,o8]}},class extends Fe{static get pluginName(){return"Indent"}static get requires(){return[_8,A8]}},class extends Fe{static get requires(){return[J8,t7,n7]}static get pluginName(){return"Link"}},class extends Fe{static get requires(){return[_7,u7]}static get pluginName(){return"List"}},class extends Fe{static get requires(){return[I0,I7,D7,Qy]}static get pluginName(){return"MediaEmbed"}},nC,class extends Fe{static get pluginName(){return"PasteFromOffice"}static get requires(){return[_l]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),s=c.editing.view.document,a=[];a.push(new U7(s)),a.push(new H7(s)),a.push(new Y7(s)),e.on("inputTransformation",(d,p)=>{if(p._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=p.dataTransfer.getData("text/html"),v=a.find(C=>C.isActive(b));v&&(p._parsedData||(p._parsedData=W7(b,s.stylesProcessor)),v.execute(p),p._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Fe{static get requires(){return[oC,Sa]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,s=c.plugins.get("ImageUtils");e.for("upcast").add(function(a){const d=["srcset","media","type","sizes"],p=(b,v,C)=>{const j=v.viewItem;if(!C.consumable.test(j,{name:!0}))return;const E=new Map;for(const H of j.getChildren())if(H.is("element","source")){const K={};for(const $ of d)H.hasAttribute($)&&C.consumable.test(H,{attributes:$})&&(K[$]=H.getAttribute($));Object.keys(K).length&&E.set(H,K)}const I=a.findViewImgElement(j);if(!I)return;let L=v.modelCursor.parent;if(!L.is("element","imageBlock")){const H=C.convertItem(I,v.modelCursor);v.modelRange=H.modelRange,v.modelCursor=H.modelCursor,L=en(H.modelRange.getItems())}C.consumable.consume(j,{name:!0});for(const[H,K]of E)C.consumable.consume(H,{attributes:Object.keys(K)});E.size&&C.writer.setAttribute("sources",Array.from(E.values()),L),C.convertChildren(j,L)};return b=>{b.on("element:picture",p)}}(s)),e.for("downcast").add(function(a){const d=(p,b,v)=>{if(!v.consumable.consume(b.item,p.name))return;const C=v.writer,j=v.mapper.toViewElement(b.item),E=a.findViewImgElement(j),I=b.attributeNewValue;if(I&&I.length){const L=C.createContainerElement("picture",null,I.map($=>C.createEmptyElement("source",$))),H=[];let K=E.parent;for(;K&&K.is("attributeElement");){const $=K.parent;C.unwrap(C.createRangeOn(E),K),H.unshift(K),K=$}C.insert(C.createPositionBefore(E),L),C.move(C.createRangeOn(E),C.createPositionAt(L,"end"));for(const $ of H)C.wrap(C.createRangeOn(L),$)}else if(E.parent.is("element","picture")){const L=E.parent;C.move(C.createRangeOn(E),C.createPositionBefore(L)),C.remove(L)}};return p=>{p.on("attribute:sources:imageBlock",d),p.on("attribute:sources:imageInline",d)}}(s))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(s,{imageElement:a,data:d})=>{const p=d.sources;p&&c.model.change(b=>{b.setAttributes({sources:p},a)})})}},class extends Fe{static get requires(){return[bz,wz,sm,jz,Az,_z,Qy]}static get pluginName(){return"Table"}},class extends Fe{static get requires(){return[j0]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,s=c.plugins.get(j0),a=c.config.get("table.contentToolbar"),d=c.config.get("table.tableToolbar");a&&s.register("tableContent",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:Dz}),d&&s.register("table",{ariaLabel:e("Table toolbar"),items:d,getRelatedElement:Ez})}},class extends Fe{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:h6}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,s=c.plugins.get("Delete"),a=function(p){const b=p.extra||[],v=p.remove||[],C=j=>!v.includes(j);return function(j){const E=new Set;for(const I of j)if(typeof I=="string"&&Lj[I])for(const L of Lj[I])E.add(L);else E.add(I);return Array.from(E)}(p.include.concat(b).filter(C)).filter(C).map(j=>typeof j=="string"&&Bj[j]?Bj[j]:j).filter(j=>typeof j=="object").map(j=>({from:m6(j.from),to:p6(j.to)}))}(c.config.get("typing.transformations")),d=new Rj(c.model,p=>{for(const b of a)if(b.from.test(p))return{normalizedTransformation:b}});d.on("matched:data",(p,b)=>{if(!b.batch.isTyping)return;const{from:v,to:C}=b.normalizedTransformation,j=v.exec(b.text),E=C(j.slice(1)),I=b.range;let L=j.index;e.enqueueChange(H=>{for(let K=1;K<j.length;K++){const $=j[K],ce=E[K-1];if(ce==null){L+=$.length;continue}const fe=I.start.getShiftedBy(L),ve=e.createRange(fe,fe.getShiftedBy($.length)),Pe=f6(fe);e.insertContent(H.createText(ce,Pe),ve),L+=ce.length}e.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}}],EC.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),h=h.default})())}(mb,mb.exports)),mb.exports}var Nie=Aie();const jie=ik(Nie),Sie=un(Gf(n=>({pages:[{path:"terms-conditions",title:"Terms & Conditions"},{path:"privacy-policy",title:"Privacy Policy"},{path:"cancellation-refund-policy",title:"Cancellation & Refund Policy"},{path:"shipping-policy",title:"Shipping Policy"},{path:"about-us",title:"About Us"},{path:"contact-us",title:"Contact Us"},{path:"faq",title:"FAQ"},{path:"careers",title:"Careers"}],content:null,loading:!1,error:null,savingPage:!1,setLoading:t=>n({loading:t}),setError:t=>n({error:t}),setSavingPage:t=>n({savingPage:t}),setContent:t=>n({content:t}),clearContent:()=>n({content:null,loading:!1,error:null}),clearError:()=>n({error:null}),fetchPageContent:async t=>{var o,i;if(t){n({loading:!0,error:null});try{const l=await $e.get(`/admin/page-content/${t}/`);if(l.status===200)return n({content:l.data.content||"",loading:!1}),l.data.content}catch(l){throw console.error("Error fetching page content:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch page content",loading:!1}),l}}},updatePageContent:async(t,o)=>{var i,l;if(t){n({savingPage:!0,error:null});try{if((await $e.put(`/admin/page-content/update/${t}/`,{content:o})).status===200)return n({content:o,savingPage:!1}),!0}catch(h){throw console.error("Error updating page content:",h),n({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update page content",savingPage:!1}),h}}},addCustomPage:async(t,o)=>{const i=o.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");n(l=>{if(l.pages.some(m=>m.path===i))throw new Error("A page with this path already exists");return{pages:[...l.pages,{path:i,title:t,isCustom:!0}]}});try{return await $e.put(`/admin/page-content/update/${i}/`,{content:""}),i}catch(l){throw console.error("Error creating custom page:",l),n(h=>{var m,g;return{pages:h.pages.filter(y=>y.path!==i),error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to create custom page"}}),l}},deleteCustomPage:async t=>{var o,i;n(l=>{const h=l.pages.find(m=>m.path===t);if(!h||!h.isCustom)throw new Error("Only custom pages can be deleted");return l});try{return await $e.delete(`/admin/page-content/${t}/`),n(l=>({pages:l.pages.filter(h=>h.path!==t)})),!0}catch(l){throw console.error("Error deleting custom page:",l),n({error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to delete custom page"}),l}}}))),Eie=()=>{const[n,t]=z.useState(null),[o,i]=z.useState(!1),[l,h]=z.useState(!1),[m,g]=z.useState({title:"",path:""}),y=z.useRef(null),{pages:w,content:k,loading:_,savingPage:N,fetchPageContent:D,updatePageContent:T,addCustomPage:R,deleteCustomPage:P,setContent:F,clearContent:V,error:G}=Sie();z.useEffect(()=>(n&&D(n.path).catch(()=>{ze.error("Failed to load page content")}),()=>{V()}),[n,D,V]),z.useEffect(()=>{G&&ze.error(G)},[G]);const Y=W=>{t(W),i(!1)},ee=async()=>{if(n)try{await T(n.path,k),ze.success(`${n.title} content updated successfully`)}catch{ze.error("Failed to update page content")}},le=()=>{i(!o)},J=async W=>{if(W.preventDefault(),!m.title||!m.path){ze.error("Title and URL path are required");return}try{const Z=await R(m.title,m.path);g({title:"",path:""}),h(!1),ze.success("Custom page created successfully");const de=w.find(ne=>ne.path===Z);de&&Y(de)}catch(Z){ze.error(Z.message||"Failed to create custom page")}},B=async(W,Z)=>{if(Z.stopPropagation(),!W.isCustom){ze.error("Only custom pages can be deleted");return}if(confirm(`Are you sure you want to delete the page "${W.title}"? This cannot be undone.`))try{await P(W.path),ze.success("Page deleted successfully"),(n==null?void 0:n.path)===W.path&&t(null)}catch(de){ze.error(de.message||"Failed to delete page")}};return z.useEffect(()=>{if(n&&!o){const W=setTimeout(()=>{k||F("")},100);return()=>clearTimeout(W)}},[n,o,k,F]),r.jsxs("div",{className:"page-manager",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"w-full md:w-1/4",children:[" ",r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h3",{className:"font-medium text-lg",children:"Website Pages"})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"System Pages"}),r.jsx("ul",{className:"space-y-2",children:w.filter(W=>!W.isCustom).map(W=>r.jsx("li",{children:r.jsx("button",{className:`w-full text-left px-4 py-2 rounded-md transition ${(n==null?void 0:n.path)===W.path?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>Y(W),children:W.title})},W.path))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Custom Pages"}),w.filter(W=>W.isCustom).length>0?r.jsx("ul",{className:"space-y-2",children:w.filter(W=>W.isCustom).map(W=>r.jsx("li",{className:"relative group",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{className:`w-full text-left px-4 py-2 rounded-md transition ${(n==null?void 0:n.path)===W.path?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>Y(W),children:W.title}),r.jsx("button",{onClick:Z=>B(W,Z),className:"text-red-500 hover:text-red-700 ml-2",children:r.jsx(on,{})})]})},W.path))}):r.jsx("p",{className:"text-sm text-gray-500 italic px-4 py-2",children:"No custom pages created"})," "]})]})]}),r.jsx("div",{className:"w-full md:w-3/4",children:n?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[" ",r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"font-medium text-xl",children:[o?"Previewing: ":"Editing: ",n.title]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(tt,{onClick:le,type:"secondary",children:o?"Back to Edit":"Preview"}),r.jsx(tt,{onClick:ee,disabled:_||N||o,type:"primary",children:N?"Saving...":"Save Changes"})]})]}),_?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o?r.jsx("div",{className:"preview-mode border rounded-md p-4 prose max-w-none min-h-[400px] overflow-auto bg-gray-50",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:k||"No content available to preview."}})}):r.jsx("div",{className:"editor-container",children:r.jsx(rB,{editor:jie,data:k||"",onReady:W=>{y.current=W},onChange:(W,Z)=>{const de=Z.getData();F(de)},config:{height:"500px",toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"]}},(n==null?void 0:n.path)||"editor")})]}):r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:r.jsx("p",{className:"text-gray-500",children:"Select a page from the sidebar to edit its content"})})})]}),l&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-xl font-medium mb-4",children:"Create New Page"}),r.jsxs("form",{onSubmit:J,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Title"}),r.jsx("input",{type:"text",value:m.title,onChange:W=>g({...m,title:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Path"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-500 mr-1",children:"/"}),r.jsx("input",{type:"text",value:m.path,onChange:W=>g({...m,path:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"my-custom-page",required:!0})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use lowercase letters, numbers, and hyphens only. No spaces."})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Page"})]})]})]})})]})},Die=()=>{const[n,t]=z.useState({primary:"#3b82f6",secondary:"#10b981",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#f59e0b"}),[o,i]=z.useState({}),[l,h]=z.useState(!1),[m,g]=z.useState(!1);z.useEffect(()=>{(()=>{const R=Q9();if(R){t(R),i(R);return}const P=document.documentElement,F=getComputedStyle(P),V={primary:F.getPropertyValue("--brand-primary").trim()||"#3b82f6",secondary:F.getPropertyValue("--brand-secondary").trim()||"#10b981",success:F.getPropertyValue("--success-color").trim()||"#10b981",error:F.getPropertyValue("--error-color").trim()||"#ef4444",warning:F.getPropertyValue("--warning-color").trim()||"#f59e0b",info:F.getPropertyValue("--accent-color").trim()||"#f59e0b"};t(V),i(V)})()},[]);const y=T=>{PN(T)},w=(T,R)=>{const P={...n,[T]:R};t(P),m&&y(P)},k=()=>{g(!m),y(m?o:n)},_=async()=>{h(!0);try{if(zse(n))i(n),alert("Colors saved successfully!");else throw new Error("Failed to save colors")}catch(T){console.error("Error saving colors:",T),alert("Error saving colors. Please try again.")}finally{h(!1)}},N=()=>{const T=Lse();t(T),y(T),g(!1),localStorage.removeItem("customColors")},D={primary:"Brand Primary",secondary:"Brand Secondary",success:"Success",error:"Error",warning:"Warning",info:"Accent/Info"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Color Theme Settings"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Customize the application's color scheme"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(tt,{variant:m?"primary":"outline",size:"sm",onClick:k,icon:r.jsx(Gi,{size:16}),children:m?"Previewing":"Preview"})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(n).map(([T,R])=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:D[T]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-sm",style:{backgroundColor:R}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"color",value:R,onChange:P=>w(T,P.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer"}),r.jsx("input",{type:"text",value:R,onChange:P=>w(T,P.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-mono bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"#000000"})]})]})]},T))}),m&&r.jsxs("div",{className:"mt-8 p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[r.jsx(aO,{className:"mr-2"}),"Color Preview"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(n).map(([T,R])=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg mx-auto mb-2 shadow-md",style:{backgroundColor:R}}),r.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:D[T]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 font-mono",children:R})]},T))})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx(tt,{variant:"outline",size:"md",onClick:N,icon:r.jsx(oO,{size:16}),children:"Reset to Default"}),r.jsx("div",{className:"flex gap-3",children:r.jsx(tt,{variant:"primary",size:"md",onClick:_,isLoading:l,icon:r.jsx(Tm,{size:16}),children:l?"Saving...":"Save Changes"})})]}),r.jsxs("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Usage Instructions"}),r.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsx("li",{children:" Use the color pickers or enter hex values directly"}),r.jsx("li",{children:' Click "Preview" to see changes in real-time'}),r.jsx("li",{children:' "Save Changes" will apply colors across the application'}),r.jsx("li",{children:' "Reset to Default" will restore original theme colors'})]})]})]})},Mie=[{value:"hero",label:"Hero Banner (Top)"},{value:"carousel",label:"Banner Carousel"},{value:"dropdown",label:"Navigation Dropdown"},{value:"home-middle",label:"Home Middle Section"},{value:"home-bottom",label:"Home Bottom Section"},{value:"category-top",label:"Category Page Top"},{value:"sidebar",label:"Sidebar"}],Tie=()=>{const[n,t]=z.useState("logo");return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Content Management"})}),r.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"flex border-b overflow-x-auto",children:[r.jsx("button",{className:`px-6 py-3 font-medium ${n==="logo"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("logo"),children:"Logo"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="banners"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("banners"),children:"Banners"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="categories"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("categories"),children:"Categories"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="footer"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("footer"),children:"Footer"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="pages"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("pages"),children:"Pages"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="colors"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("colors"),children:"Theme Colors"})]}),r.jsxs("div",{className:"p-6",children:[n==="banners"&&r.jsx(Qoe,{positionOptions:Mie}),n==="logo"&&r.jsx(Joe,{}),n==="categories"&&r.jsx(Xoe,{}),n==="footer"&&r.jsx($oe,{}),n==="pages"&&r.jsx(Eie,{}),n==="colors"&&r.jsx(Die,{})]})]})]})},Iie=()=>{const n=as(),{adminLogin:t,devModeLogin:o,testServerConnection:i,error:l,clearError:h,isLoading:m}=RN(),[g,y]=z.useState({username:"",password:""}),[w,k]=z.useState({}),[_,N]=z.useState(!1),[D,T]=z.useState(null),R=G=>{const{name:Y,value:ee}=G.target;y(le=>({...le,[Y]:ee})),w[Y]&&k(le=>({...le,[Y]:""})),l&&h()},P=()=>{const G={};return g.username.trim()||(G.username="Username is required"),g.password||(G.password="Password is required"),k(G),Object.keys(G).length===0},F=async G=>{if(G.preventDefault(),!!P())try{if(_&&o(g)){n("/admin/dashboard");return}await t(g),n("/admin/dashboard")}catch(Y){console.error("Admin login failed:",Y)}},V=async()=>{const G=await i();T(G)};return r.jsxs(Rm,{title:"Admin Portal Login",children:[r.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Sign in to manage the application."}),!1,r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"text-center mb-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Backend Server Test"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check if production server is accessible (optional)"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"button",onClick:V,disabled:m,className:"px-4 py-2 text-sm bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors disabled:opacity-50",children:m?"Testing...":"Test Server Connection"})})]}),D&&r.jsxs("div",{className:`mt-3 p-4 rounded-lg text-sm border ${D.success?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-800"}`,children:[r.jsx("div",{className:"font-medium text-center mb-2",children:D.success?" Backend Server Online":" Backend Server Test Results"}),r.jsx("div",{className:"text-center mb-2",children:D.message}),D.status&&r.jsxs("div",{className:"text-center text-xs mb-2",children:["HTTP Status: ",D.status]}),D.troubleshooting&&D.troubleshooting.length>0&&r.jsx("div",{className:"mt-3 text-xs",children:r.jsx("div",{className:"space-y-1",children:D.troubleshooting.map((G,Y)=>r.jsx("div",{className:`${G.startsWith("")||G.startsWith("")?"font-medium":""} ${G===""?"h-1":""}`,children:G},Y))})})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:F,children:[r.jsxs("div",{className:"rounded-md space-y-5",children:[r.jsx(Br,{label:"Username",type:"text",name:"username",value:g.username,onChange:R,required:!0,error:w.username,placeholder:"admin",icon:"user"}),r.jsx(Br,{label:"Password",type:"password",name:"password",value:g.password,onChange:R,required:!0,error:w.password,placeholder:"",icon:"lock"})]}),l&&r.jsxs("div",{className:"text-red-500 text-sm bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 rounded-md",children:[r.jsx("div",{className:"font-medium mb-1",children:"Login Failed"}),r.jsx("div",{children:l}),l.includes("502")&&r.jsxs("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:[r.jsx("strong",{children:"Troubleshooting:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[r.jsx("li",{children:"Check if the backend server is running"}),r.jsx("li",{children:"Verify the API URL in constants.js"}),r.jsx("li",{children:"Contact your system administrator"}),!1]})]})]}),r.jsx("div",{className:"pt-2",children:r.jsx(tt,{type:"submit",isLoading:m,variant:"primary",size:"lg",fullWidth:!0,children:m?"Signing in...":"Sign in"})}),r.jsx("div",{className:"text-sm text-center mt-4",children:r.jsx(nt,{to:"/admin/register",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Create an admin account"})})]})]})},Rie=()=>{const n=as(),{adminRegister:t,error:o,clearError:i,isLoading:l}=RN(),[h,m]=z.useState({username:"",password:"",secretKey:""}),[g,y]=z.useState({}),w=N=>{const{name:D,value:T}=N.target;m(R=>({...R,[D]:T})),g[D]&&y(R=>({...R,[D]:""})),o&&i()},k=()=>{const N={};return h.username.trim()||(N.username="Username is required"),h.password?h.password.length<6&&(N.password="Password must be at least 6 characters"):N.password="Password is required",h.secretKey.trim()||(N.secretKey="Secret Key is required"),y(N),Object.keys(N).length===0},_=async N=>{if(N.preventDefault(),!!k())try{await t({username:h.username,password:h.password,secretKey:h.secretKey}),n("/admin/login")}catch(D){console.error("Admin registration failed:",D)}};return r.jsxs(Rm,{title:"Create Admin Account",children:[r.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Register to gain administrative access."}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[r.jsxs("div",{className:"rounded-md space-y-5",children:[r.jsx(Br,{label:"Username",type:"text",name:"username",value:h.username,onChange:w,required:!0,error:g.username,placeholder:"admin",icon:"user"}),r.jsx(Br,{label:"Password",type:"password",name:"password",value:h.password,onChange:w,required:!0,error:g.password,placeholder:"",icon:"lock"}),r.jsx(Br,{label:"Secret Key",type:"password",name:"secretKey",value:h.secretKey,onChange:w,required:!0,error:g.secretKey,placeholder:"Enter your secret key",icon:"key"})]}),o&&r.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:o}),r.jsx("div",{className:"pt-2",children:r.jsx(tt,{type:"submit",isLoading:l,variant:"primary",size:"lg",fullWidth:!0,children:l?"Creating Account...":"Create Account"})}),r.jsxs("div",{className:"text-sm text-center mt-4",children:["Already have an admin account?",r.jsx(nt,{to:"/admin/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Sign in"})]})]})]})},Pie=()=>{const{deliveryPartners:n,fetchDeliveryPartners:t,verifyDeliveryPartner:o}=zo(),[i,l]=z.useState(""),[h,m]=z.useState("all"),[g,y]=z.useState(!1),[w,k]=z.useState(null),[_,N]=z.useState(!1),[D,T]=z.useState(null),[R,P]=z.useState(1),F=10;z.useEffect(()=>{t().catch(ne=>{Zt.error("Failed to load delivery partners"),console.error("Error fetching delivery partners:",ne)})},[t]);const V=ne=>{k(ne),y(!0)},G=ne=>{T(ne),N(!0)},Y=async()=>{w&&(Zt.promise(o(w.partner_id),{loading:`Verifying ${w.name}...`,success:`${w.name} has been verified successfully!`,error:`Failed to verify ${w.name}`}),y(!1))},ee=n.list.filter(ne=>{const re=ne.name.toLowerCase().includes(i.toLowerCase())||ne.email.toLowerCase().includes(i.toLowerCase())||ne.phone.includes(i);return h==="all"?re:h==="verified"?re&&ne.is_verified:h==="unverified"?re&&!ne.is_verified:re}),le=ee.length,J=Math.ceil(le/F),B=(R-1)*F,W=B+F,Z=ee.slice(B,W),de=ne=>{P(ne),window.scrollTo({top:0,behavior:"smooth"})};return z.useEffect(()=>{P(1)},[i,h]),r.jsxs("div",{className:"animate-fadeIn",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Partners"}),r.jsxs("button",{onClick:()=>{Zt.promise(t(),{loading:"Refreshing partners list...",success:"Partners list updated!",error:"Failed to refresh partners"})},className:"flex items-center bg-brand-primary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all duration-200",children:[r.jsx(Va,{className:"mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:r.jsx(xs,{className:"text-blue-500",size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Partners"}),r.jsx("p",{className:"text-2xl font-bold",children:n.list.length})]})]})}),r.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:r.jsx(Kn,{className:"text-green-500",size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Verified Partners"}),r.jsx("p",{className:"text-2xl font-bold",children:n.list.filter(ne=>ne.is_verified).length})]})]})}),r.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:r.jsx(qt,{className:"text-yellow-500",size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pending Verification"}),r.jsx("p",{className:"text-2xl font-bold",children:n.list.filter(ne=>!ne.is_verified).length})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search partners...",value:i,onChange:ne=>l(ne.target.value),className:"pl-10 p-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})}),r.jsx("div",{className:"w-auto",children:r.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-md px-3",children:[r.jsx(nd,{className:"text-gray-400"}),r.jsxs("select",{value:h,onChange:ne=>m(ne.target.value),className:"bg-transparent py-2 focus:outline-none",children:[r.jsx("option",{value:"all",children:"All Partners"}),r.jsx("option",{value:"verified",children:"Verified"}),r.jsx("option",{value:"unverified",children:"Unverified"})]})]})})]}),n.loading?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):n.error?r.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-500 flex items-center",children:[r.jsx(xm,{className:"mr-2",size:20}),r.jsx("span",{children:n.error})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full table-auto",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 text-left",children:[r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.length>0?Z.map(ne=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"font-medium text-gray-900",children:ne.name})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:ne.email}),r.jsx("div",{className:"text-sm text-gray-500",children:ne.phone})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne.is_verified?r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending Verification"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(ne.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!ne.is_verified&&r.jsx("button",{onClick:()=>V(ne),className:"text-brand-primary hover:text-brand-primary-dark mr-3",children:"Verify"}),r.jsxs("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>G(ne),children:[r.jsx(Gi,{className:"inline mr-1"}),"Details"]})]})]},ne.partner_id)):r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No delivery partners found."})})})]})}),le>0&&r.jsx(Ia,{currentPage:R,totalPages:J,onPageChange:de,totalItems:le,itemsPerPage:F,showItemCount:!0}),g&&w&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 transform transition-all duration-200 scale-100",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start mb-4",children:[r.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:r.jsx(Kn,{className:"text-green-500",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Verify Delivery Partner"}),r.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:["Are you sure you want to verify",r.jsx("span",{className:"font-semibold",children:w.name}),"as a delivery partner?"]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-color)",color:"var(--text-secondary)",backgroundColor:"transparent"},children:"Cancel"}),r.jsx("button",{onClick:Y,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Verify Partner"})]})]})})}),_&&D&&r.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-90vh overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",maxHeight:"90vh"},children:[r.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",style:{borderColor:"var(--border-primary)"},children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(xs,{className:"mr-2"}),"Delivery Partner Details"]}),r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Complete information for ",D.name]})]}),r.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 rounded-md",style:{borderRadius:"var(--rounded-md)"},children:r.jsx(qt,{size:20,style:{color:"var(--text-secondary)"}})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Status:"}),D.is_verified?r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 flex items-center",children:[r.jsx(Kn,{className:"mr-1",size:16}),"Verified"]}):r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800 flex items-center",children:[r.jsx(Zr,{className:"mr-1",size:16}),"Pending Verification"]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(xs,{className:"mr-2"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Full Name:"}),r.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-primary)"},children:D.name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Partner ID:"}),r.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:D.partner_id})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Ba,{className:"mr-2"}),"Contact Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[r.jsx(sd,{className:"inline mr-1"}),"Email Address:"]}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.email})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[r.jsx(Ba,{className:"inline mr-1"}),"Phone Number:"]}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.phone})]})]})]}),(D.address||D.city||D.state||D.pincode)&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(An,{className:"mr-2"}),"Address Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.address&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Address:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.address})]}),D.city&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"City:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.city})]}),D.state&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"State:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.state})]}),D.pincode&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Pincode:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.pincode})]})]})]}),(D.vehicle_type||D.vehicle_number||D.license_number)&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Er,{className:"mr-2"}),"Vehicle Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.vehicle_type&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Vehicle Type:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:D.vehicle_type})]}),D.vehicle_number&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Vehicle Number:"}),r.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:D.vehicle_number})]}),D.license_number&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"License Number:"}),r.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:D.license_number})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[r.jsx(Lo,{className:"mr-2"}),"Registration Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Registration Date:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(D.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Registration Time:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(D.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]}),D.updated_at&&D.updated_at!==D.created_at&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Last Updated:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(D.updated_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Update Time:"}),r.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(D.updated_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[!D.is_verified&&r.jsxs("button",{onClick:()=>{N(!1),V(D)},className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--success-color)",color:"white",borderRadius:"var(--rounded-md)"},children:[r.jsx(Kn,{className:"inline mr-1",size:16}),"Verify Partner"]}),r.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:"Close"})]})]})})]})]})},wx=un(qA((n,t)=>({inquiries:{list:[],loading:!1,error:null},catalogs:{data:null,loading:!1,error:null},faq:{data:[],loading:!1,error:null},selectedInquiry:null,selectedCatalog:null,fetchInquiries:async()=>{var o,i;n(l=>({inquiries:{...l.inquiries,loading:!0,error:null}}));try{const h=(await $e.get("/sell-mobile/inquiries/")).data.data;return n({inquiries:{list:h,loading:!1,error:null}}),{success:!0,data:h}}catch(l){return n(h=>{var m,g;return{inquiries:{...h.inquiries,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to fetch inquiries"}}}),{success:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch inquiries"}}},setSelectedInquiry:o=>{n({selectedInquiry:o})},clearSelectedInquiry:()=>{n({selectedInquiry:null})},updateInquiryStatus:async(o,i)=>{var l,h;n(m=>({inquiries:{...m.inquiries,loading:!0,error:null}}));try{const m=await $e.put(`/sell-mobile/listings/${o}/status/`,{status:i});if(m.status===200)return n(g=>{const y=g.inquiries.list.map(w=>w.id===o?{...w,status:i}:w);return{inquiries:{...g.inquiries,list:y,loading:!1,error:null}}}),{success:!0,message:m.data.message||"Inquiry status updated successfully"}}catch(m){return n(g=>{var y,w;return{inquiries:{...g.inquiries,loading:!1,error:((w=(y=m.response)==null?void 0:y.data)==null?void 0:w.error)||"Failed to update inquiry status"}}}),{success:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update inquiry status"}}},deleteInquiry:async o=>{var i,l;n(h=>({inquiries:{...h.inquiries,loading:!0,error:null}}));try{const h=await $e.delete(`/sell-mobile/inquiries/${o}/delete/`);if(h.status===200)return n(m=>({inquiries:{...m.inquiries,list:m.inquiries.list.filter(g=>g.id!==o),loading:!1,error:null}})),{success:!0,message:h.data.message||"Inquiry deleted successfully"}}catch(h){return n(m=>{var g,y;return{inquiries:{...m.inquiries,loading:!1,error:((y=(g=h.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to delete inquiry"}}}),{success:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete inquiry"}}},fetchCatalogs:async()=>{var o,i;n(l=>({catalogs:{...l.catalogs,loading:!0,error:null}}));try{const h=(await $e.get("/sell-mobile/catalog/all/")).data.data.brands;return n({catalogs:{data:h,loading:!1,error:null}}),{success:!0,data:h}}catch(l){return n(h=>{var m,g;return{catalogs:{...h.catalogs,data:null,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to fetch phone catalogs"}}}),{success:!1,error:((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.error)||"Failed to fetch phone catalogs"}}},addBrand:async o=>{var i,l,h;n(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await $e.post("/sell-mobile/catalog/brands/",o);if(m.status===201||m.status===200)return n(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Brand added successfully"),{success:!0,data:m.data};throw new Error(((i=m.data)==null?void 0:i.error)||"Failed to add brand")}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to add brand";return n(y=>({catalogs:{...y.catalogs,loading:!1,error:g}})),We.error(g),{success:!1,error:g}}},updateBrand:async(o,i)=>{var l,h,m;n(g=>({catalogs:{...g.catalogs,loading:!0,error:null}}));try{const g=await $e.put(`/sell-mobile/catalog/brands/${o}/`,i);if(g.status===200)return n(y=>({catalogs:{...y.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Brand updated successfully"),{success:!0,data:g.data};throw new Error(((l=g.data)==null?void 0:l.error)||"Failed to update brand")}catch(g){const y=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||g.message||"Failed to update brand";return n(w=>({catalogs:{...w.catalogs,loading:!1,error:y}})),We.error(y),{success:!1,error:y}}},deleteBrand:async o=>{var i,l,h;n(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await $e.delete(`/sell-mobile/catalog/brands/${o}/`);if(m.status===200||m.status===204)return n(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Brand deleted successfully"),{success:!0};throw new Error(((i=m.data)==null?void 0:i.error)||"Failed to delete brand")}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to delete brand";return n(y=>({catalogs:{...y.catalogs,loading:!1,error:g}})),We.error(g),{success:!1,error:g}}},addSeries:async(o,i)=>{var l,h;n(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await $e.post(`/sell-mobile/catalog/brands/${o}/series/`,i);if(m.status===201||m.status===200)return n(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Series added successfully"),{success:!0,data:m.data}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to add series";throw n(y=>({catalogs:{...y.catalogs,loading:!1,error:g}})),We.error(g),m}},updateSeries:async(o,i,l)=>{var h,m;n(g=>({catalogs:{...g.catalogs,loading:!0,error:null}}));try{const g=await $e.put(`/sell-mobile/catalog/brands/${o}/series/${i}/`,l);if(g.status===200)return n(y=>({catalogs:{...y.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Series updated successfully"),{success:!0,data:g.data}}catch(g){const y=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||g.message||"Failed to update series";throw n(w=>({catalogs:{...w.catalogs,loading:!1,error:y}})),We.error(y),g}},deleteSeries:async(o,i)=>{var l,h;n(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await $e.delete(`/sell-mobile/catalog/brands/${o}/series/${i}/`);if(m.status===204||m.status===200)return n(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Series deleted successfully"),{success:!0}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to delete series";throw n(y=>({catalogs:{...y.catalogs,loading:!1,error:g}})),We.error(g),m}},addModel:async(o,i)=>{var l,h;n(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await $e.post(`/sell-mobile/catalog/series/${o}/models/`,i);if(m.status===201||m.status===200)return n(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Model added successfully"),{success:!0,data:m.data}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to add model";throw n(y=>({catalogs:{...y.catalogs,loading:!1,error:g}})),We.error(g),m}},updateModel:async(o,i,l)=>{var h,m;n(g=>({catalogs:{...g.catalogs,loading:!0,error:null}}));try{const g=await $e.put(`/sell-mobile/catalog/series/${o}/models/${i}/`,l);if(g.status===200)return n(y=>({catalogs:{...y.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Model updated successfully"),{success:!0,data:g.data}}catch(g){const y=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||g.message||"Failed to update model";throw n(w=>({catalogs:{...w.catalogs,loading:!1,error:y}})),We.error(y),g}},deleteModel:async(o,i)=>{var l,h;n(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await $e.delete(`/sell-mobile/catalog/series/${o}/models/${i}/`);if(m.status===204||m.status===200)return n(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),We.success("Model deleted successfully"),{success:!0}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to delete model";throw n(y=>({catalogs:{...y.catalogs,loading:!1,error:g}})),We.error(g),m}},fetchFaq:async()=>{var o,i,l,h;n(m=>({faq:{...m.faq,loading:!0,error:null}}));try{const m=await $e.get("/sell-mobile/faqs/");let g=[];return m.data.faqs?g=m.data.faqs:Array.isArray(m.data)?g=m.data:m.data.results?g=m.data.results:m.data.data&&(g=m.data.data),n({faq:{data:g,loading:!1,error:null}}),{success:!0,data:g}}catch(m){const g=((i=(o=m.response)==null?void 0:o.data)==null?void 0:i.message)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to fetch FAQs";return n(y=>({faq:{...y.faq,loading:!1,error:g}})),We.error(g),{success:!1,error:g}}},addFaq:async o=>{var i,l,h,m,g,y;n(w=>({faq:{...w.faq,loading:!0,error:null}}));try{const w=await $e.post("/sell-mobile/faqs/",o);if(w.status===201||w.status===200){await t().fetchFaq();const k=w.data.message||w.data.detail||"FAQ added successfully";return We.success(k),{success:!0,data:w.data}}else throw new Error("Unexpected response status")}catch(w){const k=((l=(i=w.response)==null?void 0:i.data)==null?void 0:l.message)||((m=(h=w.response)==null?void 0:h.data)==null?void 0:m.error)||((y=(g=w.response)==null?void 0:g.data)==null?void 0:y.detail)||w.message||"Failed to add FAQ";throw n(_=>({faq:{..._.faq,loading:!1,error:k}})),We.error(k),w}},updateFaq:async(o,i)=>{var l,h,m,g,y,w;n(k=>({faq:{...k.faq,loading:!0,error:null}}));try{const k=await $e.put(`/sell-mobile/faqs/${o}/`,i);if(k.status===200){await t().fetchFaq();const _=k.data.message||k.data.detail||"FAQ updated successfully";return We.success(_),{success:!0,data:k.data}}else throw new Error("Unexpected response status")}catch(k){const _=((h=(l=k.response)==null?void 0:l.data)==null?void 0:h.message)||((g=(m=k.response)==null?void 0:m.data)==null?void 0:g.error)||((w=(y=k.response)==null?void 0:y.data)==null?void 0:w.detail)||k.message||"Failed to update FAQ";throw n(N=>({faq:{...N.faq,loading:!1,error:_}})),We.error(_),k}},deleteFaq:async o=>{var i,l,h,m,g,y,w,k;n(_=>({faq:{..._.faq,loading:!0,error:null}}));try{const _=await $e.delete(`/sell-mobile/faqs/${o}/`);if(_.status===204||_.status===200){await t().fetchFaq();const N=((i=_.data)==null?void 0:i.message)||((l=_.data)==null?void 0:l.detail)||"FAQ deleted successfully";return We.success(N),{success:!0}}else throw new Error("Unexpected response status")}catch(_){const N=((m=(h=_.response)==null?void 0:h.data)==null?void 0:m.message)||((y=(g=_.response)==null?void 0:g.data)==null?void 0:y.error)||((k=(w=_.response)==null?void 0:w.data)==null?void 0:k.detail)||_.message||"Failed to delete FAQ";throw n(D=>({faq:{...D.faq,loading:!1,error:N}})),We.error(N),_}}}),{name:"admin-sell-phone-store"}));var A_={exports:{}},N_,kI;function Oie(){if(kI)return N_;kI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N_=n,N_}var j_,CI;function Bie(){if(CI)return j_;CI=1;var n=Oie();function t(){}function o(){}return o.resetWarningCache=t,j_=function(){function i(m,g,y,w,k,_){if(_!==n){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}i.isRequired=i;function l(){return i}var h={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:l,element:i,elementType:i,instanceOf:l,node:i,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:o,resetWarningCache:t};return h.PropTypes=h,h},j_}var _I;function Lie(){return _I||(_I=1,A_.exports=Bie()()),A_.exports}var zie=Lie();const St=ik(zie),sB=({brandToEdit:n,onClose:t,open:o})=>{const{addBrand:i,updateBrand:l}=wx(),[h,m]=z.useState({id:"",logo_url:""}),[g,y]=z.useState(!1),[w,k]=z.useState({});z.useEffect(()=>{m(n?{id:n.id||"",logo_url:n.logo_url||""}:{id:"",logo_url:""}),k({})},[n,o]);const _=()=>{const P={};return h.id.trim()?/^[a-z0-9_-]+$/.test(h.id)||(P.id="Brand ID must contain only lowercase letters, numbers, hyphens, and underscores"):P.id="Brand ID is required",h.logo_url&&!N(h.logo_url)&&(P.logo_url="Please enter a valid URL"),k(P),Object.keys(P).length===0},N=P=>{try{return new URL(P),!0}catch{return!1}},D=P=>{const{name:F,value:V}=P.target;m(G=>({...G,[F]:V})),w[F]&&k(G=>({...G,[F]:""}))},T=async P=>{if(P.preventDefault(),!!_()){y(!0);try{n?await l(n.id,h):await i(h),t()}catch(F){console.error("Form submission error:",F)}y(!1)}},R=()=>{m({id:"",logo_url:""}),k({}),t()};return o?r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:["        ",r.jsxs("div",{className:"w-full max-w-lg mx-auto transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:n?"Edit Brand":"Add New Brand"}),"          ",r.jsx("button",{onClick:R,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:g,style:{color:"var(--text-secondary)"},children:r.jsx(qt,{className:"w-5 h-5"})})]}),"        ",r.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Brand ID *"}),r.jsx("input",{type:"text",id:"id",name:"id",value:h.id,onChange:D,placeholder:"e.g., apple, samsung",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:w.id?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:n||g}),n&&r.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Brand ID cannot be changed"}),w.id&&r.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:w.id})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"logo_url",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo URL"}),r.jsx("input",{type:"url",id:"logo_url",name:"logo_url",value:h.logo_url,onChange:D,placeholder:"https://example.com/logo.png",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:w.logo_url?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},disabled:g}),w.logo_url&&r.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:w.logo_url})]}),"          ",h.logo_url&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo Preview"}),r.jsxs("div",{className:"flex items-center justify-center p-4 rounded-md border-2 border-dashed",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[r.jsx("img",{src:h.logo_url,alt:"Logo preview",className:"max-w-20 max-h-20 object-contain",onError:P=>{P.target.style.display="none",P.target.nextSibling.style.display="block"}}),r.jsx("div",{className:"text-sm hidden",style:{color:"var(--text-secondary)"},children:"Failed to load image"})]})]}),"          ",r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("button",{type:"button",onClick:R,disabled:g,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:g,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[g&&r.jsx(hi,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:g?n?"Updating...":"Adding...":n?"Update Brand":"Add Brand"})]})]})]})]})]}):null};sB.propTypes={brandToEdit:St.shape({id:St.string,logo_url:St.string}),onClose:St.func.isRequired,open:St.bool.isRequired};St.arrayOf(St.shape({id:St.string.isRequired,name:St.string.isRequired,logo_url:St.string,seriesCount:St.number})).isRequired,St.func.isRequired,St.string;const oB=({open:n,onClose:t,seriesToEdit:o,brandId:i})=>{const{addSeries:l,updateSeries:h}=wx(),[m,g]=z.useState({name:"",description:""}),[y,w]=z.useState(!1),[k,_]=z.useState({});z.useEffect(()=>{g(o?{name:o.name||"",description:o.description||""}:{name:"",description:""}),_({})},[o,n]);const N=P=>{const{name:F,value:V}=P.target;g(G=>({...G,[F]:V})),k[F]&&_(G=>({...G,[F]:""}))},D=()=>{const P={};return m.name.trim()||(P.name="Series name is required"),m.description.trim()||(P.description="Description is required"),_(P),Object.keys(P).length===0},T=async P=>{if(P.preventDefault(),!!D()){w(!0);try{o?await h(i,o.id,m):await l(i,m),t()}catch(F){console.error("Series form submission error:",F)}finally{w(!1)}}},R=()=>{g({name:"",description:""}),_({}),t()};return n?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"w-full max-w-lg transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:o?"Edit Series":"Add New Series"}),r.jsx("button",{onClick:R,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:y,style:{color:"var(--text-secondary)"},children:r.jsx(qt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Series Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:N,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:k.name?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Enter series name (e.g., iPhone 15)",disabled:y}),k.name&&r.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:k.name})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Description *"}),r.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:N,rows:4,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200 resize-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:k.description?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Enter series description",disabled:y}),k.description&&r.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:k.description})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("button",{type:"button",onClick:R,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},disabled:y,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},disabled:y,children:[y&&r.jsx(hi,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:y?o?"Updating...":"Adding...":o?"Update Series":"Add Series"})]})]})]})]})}):null};oB.propTypes={open:St.bool.isRequired,onClose:St.func.isRequired,seriesToEdit:St.object,brandId:St.string.isRequired};St.string.isRequired,St.arrayOf(St.shape({id:St.string.isRequired,name:St.string.isRequired,models:St.array})).isRequired,St.func.isRequired,St.string;const iB=({open:n,onClose:t,brandId:o,seriesId:i,modelToEdit:l})=>{const{addModel:h,updateModel:m}=wx(),[g,y]=z.useState({id:"",display_name:"",image_url:"",launch_year:new Date().getFullYear(),demand_score:5,variant_options:{ram:[""],storage:[""],color:[""]},variant_prices:{}}),[w,k]=z.useState(!1);z.useEffect(()=>{var V,G,Y;y(l?{id:l.id||"",display_name:l.display_name||"",image_url:l.image_url||"",launch_year:l.launch_year||new Date().getFullYear(),demand_score:l.demand_score||5,variant_options:{ram:((V=l.variant_options)==null?void 0:V.ram)||[""],storage:((G=l.variant_options)==null?void 0:G.storage)||[""],color:((Y=l.variant_options)==null?void 0:Y.color)||[""]},variant_prices:l.variant_prices||{}}:{id:"",display_name:"",image_url:"",launch_year:new Date().getFullYear(),demand_score:5,variant_options:{ram:[""],storage:[""],color:[""]},variant_prices:{}})},[l]);const _=(V,G)=>{y(Y=>({...Y,[V]:G}))},N=(V,G,Y)=>{y(ee=>({...ee,variant_options:{...ee.variant_options,[V]:ee.variant_options[V].map((le,J)=>J===G?Y:le)}}))},D=V=>{y(G=>({...G,variant_options:{...G.variant_options,[V]:[...G.variant_options[V],""]}}))},T=(V,G)=>{y(Y=>({...Y,variant_options:{...Y.variant_options,[V]:Y.variant_options[V].filter((ee,le)=>le!==G)}}))},R=(V,G,Y)=>{y(ee=>({...ee,variant_prices:{...ee.variant_prices,[V]:{...ee.variant_prices[V],[G]:parseInt(Y)||0}}}))},P=()=>{const V=g.variant_options.storage.filter(Y=>Y.trim()),G=g.variant_options.ram.filter(Y=>Y.trim());return V.map(Y=>r.jsxs("div",{className:"mb-4 p-4 border rounded",children:[r.jsxs("h4",{className:"font-medium mb-2",children:[Y," Storage"]}),G.map(ee=>{var le;return r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsxs("label",{className:"w-16 text-sm",children:[ee,":"]}),r.jsx("input",{type:"number",placeholder:"Price",value:((le=g.variant_prices[Y])==null?void 0:le[ee])||"",onChange:J=>R(Y,ee,J.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded text-sm"})]},`${Y}-${ee}`)})]},Y))},F=async V=>{V.preventDefault(),k(!0);try{const G={...g,variant_options:{ram:g.variant_options.ram.filter(Y=>Y.trim()),storage:g.variant_options.storage.filter(Y=>Y.trim()),color:g.variant_options.color.filter(Y=>Y.trim())}};l?await m(i,l.id,G):await h(i,G),t()}catch(G){console.error("Model form submission error:",G)}k(!1)};return n?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:r.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:r.jsxs("div",{className:"w-full max-w-4xl transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:l?"Edit Model":"Add New Model"}),"            ",r.jsx("button",{onClick:t,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{color:"var(--text-secondary)"},children:r.jsx(qt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model ID"}),r.jsx("input",{type:"text",value:g.id,onChange:V=>_("id",V.target.value),placeholder:"e.g., iphone_14_pro",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,disabled:l}),l&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Model ID cannot be changed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),r.jsx("input",{type:"text",value:g.display_name,onChange:V=>_("display_name",V.target.value),placeholder:"e.g., iPhone 14 Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),r.jsx("input",{type:"url",value:g.image_url,onChange:V=>_("image_url",V.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Launch Year"}),r.jsx("input",{type:"number",value:g.launch_year,onChange:V=>_("launch_year",parseInt(V.target.value)),min:"2000",max:"2030",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Demand Score (1-10)"}),r.jsx("input",{type:"number",value:g.demand_score,onChange:V=>_("demand_score",parseInt(V.target.value)),min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-medium",children:"Variant Options"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RAM Options"}),g.variant_options.ram.map((V,G)=>r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("input",{type:"text",value:V,onChange:Y=>N("ram",G,Y.target.value),placeholder:"e.g., 6GB",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),r.jsx("button",{type:"button",onClick:()=>T("ram",G),className:"text-red-500 hover:text-red-700",disabled:g.variant_options.ram.length===1,children:r.jsx(FaTrash,{})})]},G)),r.jsxs("button",{type:"button",onClick:()=>D("ram"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[r.jsx(FaPlus,{className:"mr-1"})," Add RAM Option"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Options"}),g.variant_options.storage.map((V,G)=>r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("input",{type:"text",value:V,onChange:Y=>N("storage",G,Y.target.value),placeholder:"e.g., 128GB",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),r.jsx("button",{type:"button",onClick:()=>T("storage",G),className:"text-red-500 hover:text-red-700",disabled:g.variant_options.storage.length===1,children:r.jsx(FaTrash,{})})]},G)),r.jsxs("button",{type:"button",onClick:()=>D("storage"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[r.jsx(FaPlus,{className:"mr-1"})," Add Storage Option"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Options"}),g.variant_options.color.map((V,G)=>r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("input",{type:"text",value:V,onChange:Y=>N("color",G,Y.target.value),placeholder:"e.g., Deep Purple",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),r.jsx("button",{type:"button",onClick:()=>T("color",G),className:"text-red-500 hover:text-red-700",disabled:g.variant_options.color.length===1,children:r.jsx(FaTrash,{})})]},G)),r.jsxs("button",{type:"button",onClick:()=>D("color"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[r.jsx(FaPlus,{className:"mr-1"})," Add Color Option"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium mb-4",children:"Variant Pricing"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:P()})]}),g.image_url&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Preview"}),r.jsx("img",{src:g.image_url,alt:"Model preview",className:"w-32 h-32 object-contain border rounded",onError:V=>{V.target.style.display="none"}})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[r.jsx("button",{type:"button",onClick:t,disabled:w,className:"px-6 py-2 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:w,className:"px-6 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[w&&r.jsx(hi,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:w?l?"Updating...":"Adding...":l?"Update Model":"Add Model"})]})]})]})]})})}):null};iB.propTypes={open:St.bool.isRequired,onClose:St.func.isRequired,brandId:St.string.isRequired,seriesId:St.string.isRequired,modelToEdit:St.object};St.string.isRequired,St.string.isRequired,St.arrayOf(St.shape({id:St.string.isRequired,name:St.string.isRequired,image:St.string,variantOptions:St.array,questionGroups:St.array})).isRequired;const aB=({open:n,onClose:t,faqToEdit:o})=>{const{addFaq:i,updateFaq:l}=wx(),[h,m]=z.useState({question:"",answer:""}),[g,y]=z.useState(!1),[w,k]=z.useState({});z.useEffect(()=>{m(o?{question:o.question||"",answer:o.answer||""}:{question:"",answer:""}),k({})},[o]);const _=()=>{const T={};return h.question.trim()||(T.question="Question is required"),h.answer.trim()||(T.answer="Answer is required"),k(T),Object.keys(T).length===0},N=T=>{const{name:R,value:P}=T.target;m(F=>({...F,[R]:P}))},D=async T=>{if(T.preventDefault(),!!_()){y(!0);try{o?await l(o.id,h):await i(h),t()}catch(R){console.error("FAQ form submission error:",R)}finally{y(!1)}}};return n?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:r.jsxs("div",{className:"w-full max-w-2xl transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:o?"Edit FAQ":"Add New FAQ"}),"          ",r.jsx("button",{onClick:t,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:g,style:{color:"var(--text-secondary)"},children:r.jsx(qt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:["          ",r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"question",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Question *"}),r.jsx("input",{type:"text",id:"question",name:"question",value:h.question,onChange:N,placeholder:"Enter the FAQ question",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:w.question?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:g}),w.question&&r.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:w.question})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Answer *"}),r.jsx("textarea",{id:"answer",name:"answer",value:h.answer,onChange:N,placeholder:"Enter the FAQ answer",rows:6,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200 resize-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:w.answer?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:g}),w.answer&&r.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:w.answer})]}),"          ",r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[r.jsx("button",{type:"button",onClick:t,disabled:g,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:g,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[g&&r.jsx(hi,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:g?o?"Updating...":"Adding...":o?"Update FAQ":"Add FAQ"})]})]})]})]})}):null};aB.propTypes={open:St.bool.isRequired,onClose:St.func.isRequired,faqToEdit:St.shape({id:St.string,question:St.string,answer:St.string})};const Fie=()=>{const[n,t]=z.useState("catalog"),[o,i]=z.useState("overview"),[l,h]=z.useState(null),[m,g]=z.useState(null),[y,w]=z.useState(null),[k,_]=z.useState(!1),[N,D]=z.useState(!1),[T,R]=z.useState(!1),[P,F]=z.useState(!1),[V,G]=z.useState(null),[Y,ee]=z.useState(1),le=10,{catalogs:J,inquiries:B,faq:W,fetchCatalogs:Z,fetchInquiries:de,fetchFaq:ne,updateInquiryStatus:re,deleteInquiry:ge,addBrand:ke,updateBrand:se,deleteBrand:oe,addSeries:ue,updateSeries:te,deleteSeries:q,addModel:ae,updateModel:pe,deleteModel:me,addFaq:be,updateFaq:Te,deleteFaq:je}=wx();z.useEffect(()=>{n==="catalog"?Z():n==="inquiries"?de():n==="faqs"&&ne()},[n,Z,de,ne]);const Ye=()=>!J.data||typeof J.data!="object"?[]:Object.keys(J.data).map(Re=>({id:Re,name:Re.charAt(0).toUpperCase()+Re.slice(1),logo_url:J.data[Re].logo_url,seriesCount:J.data[Re].phone_series?Object.keys(J.data[Re].phone_series).length:0,...J.data[Re]})),Ve=Re=>{if(!J.data||!J.data[Re]||!J.data[Re].phone_series)return[];const dr=J.data[Re].phone_series;return Object.keys(dr).map(pr=>({id:pr,display_name:dr[pr].display_name,modelCount:dr[pr].phones?Object.keys(dr[pr].phones).length:0,...dr[pr]}))},Je=(Re,dr)=>{if(!J.data||!J.data[Re]||!J.data[Re].phone_series||!J.data[Re].phone_series[dr]||!J.data[Re].phone_series[dr].phones)return[];const pr=J.data[Re].phone_series[dr].phones;return Object.keys(pr).map(Pr=>({id:Pr,display_name:pr[Pr].display_name,image_url:pr[Pr].image_url,launch_year:pr[Pr].launch_year,demand_score:pr[Pr].demand_score,...pr[Pr]}))},Ot=(()=>{if(n==="catalog"){const Re=J.data;if(!Re||typeof Re!="object"||Array.isArray(Re))return[];const dr=[];return Object.keys(Re).forEach(pr=>{const Pr=Re[pr];Pr&&Pr.phone_series&&typeof Pr.phone_series=="object"&&Object.keys(Pr.phone_series).forEach(ls=>{const Cr=Pr.phone_series[ls];Cr&&Cr.phones&&typeof Cr.phones=="object"&&Object.keys(Cr.phones).forEach(jn=>{const mo=Cr.phones[jn];mo&&dr.push({id:`${pr}-${ls}-${jn}`,name:mo.display_name,image:mo.image_url||Pr.logo_url,brand:pr,series:Cr.display_name,launch_year:mo.launch_year,demand_score:mo.demand_score})})})}),dr}else{if(n==="inquiries")return B.list||[];if(n==="faqs")return W.data||[]}return[]})(),Tt=Ot.length,Ze=Math.ceil(Tt/le),st=(Y-1)*le,Kt=st+le,Ne=Ot.slice(st,Kt),ot=Re=>{ee(Re),window.scrollTo({top:0,behavior:"smooth"})};z.useEffect(()=>{ee(1),i("overview"),h(null),g(null),w(null)},[n]);const er=()=>{h(null),g(null),w(null)},Lr=()=>{g(null),w(null)},Js=Re=>{h(Re),g(null),w(null)},hn=Re=>{g(Re),w(null)},zr=(Re=null)=>{G(Re),_(!0)},Dr=(Re=null)=>{G(Re),D(!0)},Fo=(Re=null)=>{G(Re),R(!0)},Vo=()=>{_(!1),D(!1),R(!1),F(!1),G(null)},Yt=async Re=>{window.confirm("Are you sure you want to delete this brand and all its series and models?")&&(await oe(Re),l===Re&&(h(null),g(null)))},Et=async Re=>{window.confirm("Are you sure you want to delete this series and all its models?")&&(await q(l,Re),m===Re&&g(null))},Nn=async Re=>{window.confirm("Are you sure you want to delete this model?")&&await me(m,Re)},ut=()=>{if(o==="overview")return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Phone Catalog Overview"}),r.jsx("p",{className:"text-gray-500",children:"Overview of all phone models in the catalog"})]}),"            ",r.jsxs("button",{onClick:()=>i("manageCatalog"),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(rb,{className:"w-4 h-4"}),r.jsx("span",{children:"Manage Catalog"})]})]}),J.loading?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"Loading catalog overview..."})}):J.error?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-red-500",children:J.error})}):Ne.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"No phone listings found."})}):r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Series"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Launch Year"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demand Score"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.map(Re=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[Re.image&&r.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:r.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:Re.image,alt:Re.name})}),r.jsx("div",{className:Re.image?"ml-4":"",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Re.name})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:Re.brand})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:Re.series})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:Re.launch_year})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[Re.demand_score,"/10"]})})]},Re.id))})]}),Tt>0&&r.jsx("div",{className:"pt-4",children:r.jsx(Ia,{currentPage:Y,totalPages:Ze,onPageChange:ot,totalItems:Tt,itemsPerPage:le,showItemCount:!0})})]})]});if(o==="manageCatalog")return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:["            ",r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>i("overview"),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(y_,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Overview"})]}),l&&r.jsxs("button",{onClick:er,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(y_,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Brands"})]}),m&&r.jsxs("button",{onClick:Lr,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(y_,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Series"})]})]}),r.jsx("h2",{className:"text-lg font-semibold",children:l?m?`Manage ${m} Models`:`Manage ${l} Series`:"Manage Brands"})]}),J.loading?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"Loading catalog..."})}):J.error?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-red-500",children:J.error})}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[!l&&r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Brands"}),"                      ",r.jsxs("button",{onClick:()=>zr(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(J0,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Brand"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ye().map(Re=>r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[Re.logo_url&&r.jsx("img",{src:Re.logo_url,alt:Re.name,className:"w-8 h-8 rounded-full mr-2"}),r.jsx("h4",{className:"font-semibold",children:Re.name})]}),"                            ",r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>zr(Re),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:r.jsx(rb,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>Yt(Re.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:r.jsx(X0,{className:"w-3 h-3"})})]})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[Re.seriesCount," series"]}),"                          ",r.jsxs("button",{onClick:()=>Js(Re.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center justify-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[r.jsx(oI,{className:"w-3 h-3"}),r.jsx("span",{children:"Manage Series"})]})]},Re.id))})]})}),l&&!m&&r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-semibold",children:["Series for ",l]}),"                      ",r.jsxs("button",{onClick:()=>Dr(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(J0,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Series"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ve(l).map(Re=>r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:Re.display_name}),"                            ",r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Dr(Re),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:r.jsx(rb,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>Et(Re.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:r.jsx(X0,{className:"w-3 h-3"})})]})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[Re.modelCount," models"]}),"                          ",r.jsxs("button",{onClick:()=>hn(Re.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center justify-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[r.jsx(oI,{className:"w-3 h-3"}),r.jsx("span",{children:"Manage Models"})]})]},Re.id))})]})}),l&&m&&r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-semibold",children:["Models for ",m]}),"                      ",r.jsxs("button",{onClick:()=>Fo(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(J0,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Model"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Je(l,m).map(Re=>r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[Re.image_url&&r.jsx("img",{src:Re.image_url,alt:Re.display_name,className:"w-12 h-12 rounded mr-2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:Re.display_name}),r.jsx("p",{className:"text-xs text-gray-500",children:Re.launch_year})]})]}),"                            ",r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Fo(Re),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:r.jsx(rb,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>Nn(Re.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:r.jsx(X0,{className:"w-3 h-3"})})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Demand Score: ",Re.demand_score,"/10"]})]},Re.id))})]})})]})]})},It=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Phone Sell Inquiries"}),r.jsx("p",{className:"text-gray-500",children:"Manage customer inquiries for selling phones"}),B.loading?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"Loading inquiries..."})}):B.error?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-red-500",children:B.error})}):Ne.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"No inquiries found."})}):r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Variant"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condition"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.map(Re=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Re.user_name}),r.jsx("div",{className:"text-sm text-gray-500",children:Re.user_email})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:Re.selected_variant})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:Re.selected_condition})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                        ${Re.status==="pending"?"bg-yellow-100 text-yellow-800":Re.status==="approved"?"bg-green-100 text-green-800":Re.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Re.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Re.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[Re.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>re(Re.id,"approved"),className:"text-green-600 hover:text-green-900 mr-3",children:"Approve"}),r.jsx("button",{onClick:()=>re(Re.id,"rejected"),className:"text-red-600 hover:text-red-900 mr-3",children:"Reject"})]}),r.jsx("button",{onClick:()=>ge(Re.id),className:"text-gray-600 hover:text-gray-900",children:"Delete"})]})]},Re.id))})]}),Tt>0&&r.jsx("div",{className:"pt-4",children:r.jsx(Ia,{currentPage:Y,totalPages:Ze,onPageChange:ot,totalItems:Tt,itemsPerPage:le,showItemCount:!0})})]})]}),zt=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-500",children:"Manage FAQs related to phone selling"})]}),"          ",r.jsxs("button",{onClick:()=>F(!0),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[r.jsx(J0,{className:"w-4 h-4"}),r.jsx("span",{children:"Add FAQ"})]})]}),W.loading?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"Loading FAQs..."})}):W.error?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-red-500",children:W.error})}):Ne.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"No FAQs found."})}):r.jsxs("div",{className:"space-y-4",children:[Ne.map(Re=>r.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:Re.question}),r.jsx("p",{className:"text-gray-600",children:Re.answer})]}),r.jsxs("div",{className:"flex space-x-2 ml-4",children:[r.jsx("button",{onClick:()=>{G(Re),F(!0)},className:"text-blue-500 hover:text-blue-700",children:r.jsx(rb,{})}),r.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this FAQ?")&&je(Re.id)},className:"text-red-500 hover:text-red-700",children:r.jsx(X0,{})})]})]})},Re.id)),Tt>0&&r.jsx("div",{className:"pt-4",children:r.jsx(Ia,{currentPage:Y,totalPages:Ze,onPageChange:ot,totalItems:Tt,itemsPerPage:le,showItemCount:!0})})]})]});return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Phone Selling Management"})}),r.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"flex border-b",children:[r.jsx("button",{className:`px-6 py-3 font-medium ${n==="catalog"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("catalog"),children:"Catalog"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="inquiries"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("inquiries"),children:"Inquiries"}),r.jsx("button",{className:`px-6 py-3 font-medium ${n==="faqs"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("faqs"),children:"FAQs"})]}),r.jsxs("div",{className:"p-6",children:[n==="catalog"&&ut(),n==="inquiries"&&It(),n==="faqs"&&zt()]})]}),k&&r.jsx(sB,{open:k,onClose:Vo,brandToEdit:V}),N&&r.jsx(oB,{open:N,onClose:Vo,brandId:l,seriesToEdit:V}),T&&r.jsx(iB,{open:T,onClose:Vo,seriesId:m,brandId:l,modelToEdit:V}),P&&r.jsx(aB,{open:P,onClose:Vo,faqToEdit:V})]})},Vie={getProducts:async(n={})=>{try{let t=uA(bu,"products");return n.category&&(t=$C(t,DM("category","==",n.category))),n.brand&&(t=$C(t,DM("brand","==",n.brand))),n.limit&&(t=$C(t,jX(n.limit))),(await qP(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},getProduct:async n=>{try{const t=Ef(bu,"products",n),o=await MX(t);if(o.exists())return{id:o.id,...o.data()};throw new Error("Product not found")}catch(t){throw console.error("Error fetching product:",t),t}},addProduct:async n=>{try{return(await RX(uA(bu,"products"),{...n,createdAt:new Date})).id}catch(t){throw console.error("Error adding product:",t),t}},updateProduct:async(n,t)=>{try{const o=Ef(bu,"products",n);await TX(o,{...t,updatedAt:new Date})}catch(o){throw console.error("Error updating product:",o),o}},deleteProduct:async n=>{try{await IX(Ef(bu,"products",n))}catch(t){throw console.error("Error deleting product:",t),t}}},Uie=JSON.parse('[{"Category":"Mobile","Brand":"Samsung","Model Name":"Galaxy A15","Specs (RAM/ROM/Display/etc)":"6GB/128GB, 6.6\\" FHD+ AMOLED","Price":"13,999","Offer Price":"12,999","Stock":10,"Product Image URL":"[URL]","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4 GB 64GB 4G BLACK","Price":11999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/4eKjhPS","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4 GB 64GB 4G GOLD","Price":11999,"Offer Price":8999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4GB 128GB 5G LIGHT GREEN","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://amzn.in/d/91iG423","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4GB 128GB 5G GREY","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://amzn.in/d/91iG423","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 6GB 128GB 5G BLACK","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 6GB 128GB 5G GREY","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15 ","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G JAZZY GREEN","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15 ","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G GROOVY VIOLET","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G ASH BLACK","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G JAZZY GREEN","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G GROOVY VIOLET","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G ASH BLACK","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G JAZZY GREEN","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G GROOVY VIOLET","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G ASH BLACK","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G GOLD ","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G BLUE BLACK","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G LIGHT GREEN","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G GOLD","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G BLUE BLACK","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G LIGHT GREEN","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G GOLD","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G BLUE BLACK","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G LIGHT GREEN","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME WHITE","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME BLACK","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME LAVENDER","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G  AWESOME WHITE","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G  AWESOME BLACK","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G AWESOME LAVENDER","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME WHITE ","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME BLACK","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME LAVENDER","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME LIGHT GRAY","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME GRAPHITE","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME OLIVE","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"","Price":44999,"Offer Price":43999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME LIGHT GRAY","Price":48999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME GRAPHITE","Price":48999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME OLIVE","Price":48899,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME LIGHT GRAY","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME GRAPHITE","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME OLIVE","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F55","Specs (RAM/ROM/Display/etc)":"F55 8GB 128GB 5G BLACK","Price":28999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/6JmGSSr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F55","Specs (RAM/ROM/Display/etc)":"F55 8GB 128GB 5G ORANGE","Price":28999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/6JmGSSr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G BLUE ","Price":59999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G GRAPHITE","Price":59999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G MINT","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G BLUE ","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G GRAPHITE","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G MINT","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G MARBLE GREY","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G ONXY BLACK","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G YELLOW","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G VIOLET","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G MARBLE GREY","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G ONXY BLACK","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G YELLOW","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G VIOLET","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G MARBLE GREY","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G ONXY BLACK","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G YELLOW","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G VIOLET","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM GREY","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM VIOLET","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM BLACK","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G YELLOW","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM GREY","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM VIOLET","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM BLACK","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM YELLOW","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G ICY BLUE","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G MINT","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G SILVER SHADOW","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G NAVY","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G ICY BLUE ","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G MINT","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G SILVER SHADOW","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G NAVY","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM BLUE ","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM BLACK","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM GRAY","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM SILVER","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM BLUE ","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM BLACK","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM GRAY","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM SILVER","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM BLUE","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM BLACK","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM GRAY","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM SILVER","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP4","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G MINT ","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G SILVER SHADOW","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G BLUE","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G MINT","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G SILVER SHADOW","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G BLUE","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G SILVER SHADOW","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G NAVY ","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G PINK","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G SILVER SHADOW","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G NAVY ","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G PINK","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year ","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64GB Starry Purple","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64GB Nebula Red,","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64G Sparkle Black","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB STARRY PURPLE","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB NEBULA RED","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB SPARKLE BLACK","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 5G ","Specs (RAM/ROM/Display/etc)":"A3 5G 6GB 128GB NEBULA RED ","Price":19999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://amzn.in/d/755XU2A","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 5G ","Specs (RAM/ROM/Display/etc)":"A3 5G 6GB 128GB OCEAN BLUE","Price":19999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://amzn.in/d/755XU2A","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 128GB MOONLIGHT PURPLE","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/2BoF2CG","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 128GB STARRY BLACK","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/2BoF2CG","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 256GB MOONLIGHT PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://amzn.in/d/dfdKHeC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 256GB STARRY BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://amzn.in/d/dfdKHeC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 128GB MOCHA BROWN","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://amzn.in/d/i5LqBce","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 128GB FEATHER BLUE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://amzn.in/d/i5LqBce","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 256GB MOCHA BROWN","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://amzn.in/d/gqq4yKH","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 256GB FEATHER BLUE","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://amzn.in/d/gqq4yKH","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 128GB EMERALD GREEN","Price":26999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://amzn.in/d/dc49bBv","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 128GB ORANGE","Price":26999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://amzn.in/d/dc49bBv","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 256GB EMERALD GREEN","Price":28999,"Offer Price":22999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 256GB ORANGE","Price":28999,"Offer Price":22999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 128GB MIDNIGHT NAVY","Price":32999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/6HcjLXy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 128GB DUSK PINK","Price":32999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/6HcjLXy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 256GB MIDNIGHT NAVY","Price":34999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/aTDjwgE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 256GB DUSK PINK","Price":34999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/aTDjwgE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 128GB SOLID PURPLE","Price":28999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://amzn.in/d/9hGCEnz","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29 ","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 128GB GLACIER BLUE","Price":28999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://amzn.in/d/9hGCEnz","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 256GB SOLID PURPLE","Price":30999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/2NiO8cp","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 256GB GLACIER BLUE","Price":30999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/2NiO8cp","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 128GB GRANITE BLACK","Price":32999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/2VU32WF","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 128GB MARBLE WHITE","Price":32999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/2VU32WF","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 256GB GRANITE BLACK","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://amzn.in/d/6U5seOn","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 256GB MARBLE WHITE","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://amzn.in/d/6U5seOn","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29 ","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 12GB 256GB GRANITE BLACK","Price":36999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://amzn.in/d/0rCw1Dr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 12GB 256GB MARBLE WHITE","Price":36999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://amzn.in/d/0rCw1Dr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 5G 8GB 256GB MATTE BROWN","Price":43999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Matte-Brown-256/dp/B0DB6B6NB6/ref=sr_1_2?crid=1UJ8PCRATL089&dib=eyJ2IjoiMSJ9.y2Q0sXcnUDRAgK7QkzLbsGNuYYbgJrwbYJ-X3ZZQSVS1cPhFABptWd3fiEx0ZuML9Da3IsiBQyFLV6m_Cb3OX6x5aHeiFp1ikZKSqiguRWF-z1MM_Flunkw4ycAs8hxsDoHDSuL5iyiHAof-XJFbQU6-bjn5rd2xHi3qQSSQV43IiOSH7zBWykQjDIhy8MvqJBv4gdbKZQQiGbyEtS391UPy72WkOFf7gjmcZ_TEbXM.-Im1Yt63CiFNrpJkmB1ovACbJBluFvMq9E2QtExFlzI&dib_tag=se&keywords=reno+12+5g&qid=1745834723&sprefix=RENO+12%2Caps%2C272&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 5G 8GB 256GB SUNSET PEACH","Price":43999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Matte-Brown-256/dp/B0DB6B6NB6/ref=sr_1_2?crid=1UJ8PCRATL089&dib=eyJ2IjoiMSJ9.y2Q0sXcnUDRAgK7QkzLbsGNuYYbgJrwbYJ-X3ZZQSVS1cPhFABptWd3fiEx0ZuML9Da3IsiBQyFLV6m_Cb3OX6x5aHeiFp1ikZKSqiguRWF-z1MM_Flunkw4ycAs8hxsDoHDSuL5iyiHAof-XJFbQU6-bjn5rd2xHi3qQSSQV43IiOSH7zBWykQjDIhy8MvqJBv4gdbKZQQiGbyEtS391UPy72WkOFf7gjmcZ_TEbXM.-Im1Yt63CiFNrpJkmB1ovACbJBluFvMq9E2QtExFlzI&dib_tag=se&keywords=reno+12+5g&qid=1745834723&sprefix=RENO+12%2Caps%2C272&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB SPACE BROWN","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB SUNSET GOLD","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB MANISH MALHOTRA","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 512GB SPACE BROWN ","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 512GB SUNSET GOLD","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB MANISH MALHOTRA","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB LUMINOUS BLUE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB IVORY WHITE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB SKY BLUE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB LUMINOUS BLUE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB IVORY WHITE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB SKY BLUE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB LUMINOUS BLUE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"REBO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB IVORY WHITE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB SKY BLUE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 256GB GRAPHITE GREY","Price":54999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_7?crid=2VDP7ZPPYAQ1W&dib=eyJ2IjoiMSJ9.2qu2XugoNPEtwec2lgM2XbDpBS4KMuFDgMBxGzbtOZkDqbm2GUGcTK2gg711EbPgCQb4dSee59XwHkEI-NmrYfhWDPck9v9EPXATHFkMaRK1a7nmTzi91a3yaLh1j7VKcVq27gCL7cY7snzRC35cC4Ktm1GTjWIiO2_Gu4QSEJBX5dqryjky2IXHwy9YX40qKoKY88TnY6C9EVeMmUmNswq6T4d6mu2LP3BTfPvQXsI.dIU6wc1uLmcBCx8RS6qUVXnW_tceZ77bd41-9xNPvV0&dib_tag=se&keywords=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256&nsdOptOutParam=true&qid=1745835054&sprefix=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256%2Caps%2C253&sr=8-7&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 256GB MIST LAVENDER","Price":54999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_7?crid=2VDP7ZPPYAQ1W&dib=eyJ2IjoiMSJ9.2qu2XugoNPEtwec2lgM2XbDpBS4KMuFDgMBxGzbtOZkDqbm2GUGcTK2gg711EbPgCQb4dSee59XwHkEI-NmrYfhWDPck9v9EPXATHFkMaRK1a7nmTzi91a3yaLh1j7VKcVq27gCL7cY7snzRC35cC4Ktm1GTjWIiO2_Gu4QSEJBX5dqryjky2IXHwy9YX40qKoKY88TnY6C9EVeMmUmNswq6T4d6mu2LP3BTfPvQXsI.dIU6wc1uLmcBCx8RS6qUVXnW_tceZ77bd41-9xNPvV0&dib_tag=se&keywords=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256&nsdOptOutParam=true&qid=1745835054&sprefix=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256%2Caps%2C253&sr=8-7&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 512GB GRAPHITE GREY","Price":60999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13Pro-Graphite-512GB-Storage/dp/B0F1G42K9M/ref=sr_1_2?crid=2Q2DDQ61CZYUA&dib=eyJ2IjoiMSJ9.-KxNQlDd7hGyxFotD4xbNZRvhX2rDf_gdqRd0fdOawkVdc_tIqSrpNaPdrecxNxACE4b17ElijRjh8QpeaKt-kSyIiCerNIiWYDHm1vZCQL-dgDzhxkXjiGcpp-6KqY8S6OR2remDtZLn2v3DFEvmjypnMq9OSvCo3IcsvuDfZwwN1weDnM4LvOstaQlc7sHZHIT4eiUHNh71gGCCZrWBLqkp0eyNUnLj4xpry05GJs.J3unGvTLOxfoVRM7QAI8h9X0U9rAbVoT6CfRqPdWayk&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+512&nsdOptOutParam=true&qid=1745835097&sprefix=oppo+reno+13+5%2Bg+12+512%2Caps%2C347&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 512GB MIST LAVENDER","Price":60999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13Pro-Graphite-512GB-Storage/dp/B0F1G42K9M/ref=sr_1_2?crid=2Q2DDQ61CZYUA&dib=eyJ2IjoiMSJ9.-KxNQlDd7hGyxFotD4xbNZRvhX2rDf_gdqRd0fdOawkVdc_tIqSrpNaPdrecxNxACE4b17ElijRjh8QpeaKt-kSyIiCerNIiWYDHm1vZCQL-dgDzhxkXjiGcpp-6KqY8S6OR2remDtZLn2v3DFEvmjypnMq9OSvCo3IcsvuDfZwwN1weDnM4LvOstaQlc7sHZHIT4eiUHNh71gGCCZrWBLqkp0eyNUnLj4xpry05GJs.J3unGvTLOxfoVRM7QAI8h9X0U9rAbVoT6CfRqPdWayk&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+512&nsdOptOutParam=true&qid=1745835097&sprefix=oppo+reno+13+5%2Bg+12+512%2Caps%2C347&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"N3 FLIP","Specs (RAM/ROM/Display/etc)":"FIND N3 FLIP 5G 12GB 256GB CREAM GOLD","Price":99999,"Offer Price":85999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB MIDNIGHT VIOLET","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB BOX FEATHER PINK","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB BREEZE BLUE","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB MIDNIGHT VIOLET","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB BOX FEATHER PINK","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB BREEZE BLUE","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 12GB 256GB STAR GREY","Price":69999,"Offer Price":69999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 12GB 256GB SPACE BLACK","Price":69999,"Offer Price":69999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 16GB 512GB STAR GREY","Price":74999,"Offer Price":79999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 16GB 512GB SPACE BLACK","Price":74999,"Offer Price":79999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 PRO 5G 16GB 512GB SPACE BLACK","Price":109999,"Offer Price":94999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Find-X8-Pro-Smartphone/dp/B0DMP3T6QW/ref=sr_1_4?crid=UO8ZQI92KJ4I&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923941&sprefix=oppo+find+x%2Caps%2C254&sr=8-4","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 64GB VINTAGE RED","Price":14999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXKLJMQ3/ref=sr_1_3?crid=1LU9QHNWWXX52&dib=eyJ2IjoiMSJ9.JpotSLR7d0mUdhyXZz5m5ra377_dR4Mx59SUnY8CTXXV7jhnG5qLmmr1HS_S7e5yzxbGk458QSskkXBvtftJHssr6stulMY9t1l_zbkXPc_2oha9vT_iBcDfrbEplMIYuiCzz89AQPf-9DTi6JFxzFVcyHXb5M7oT8UY0tgBDfkzGyhCLq-s2jhlHhzaVFS0sLDsWpEmBUwe7k452llvv82HiJ3w2XEG0__TjCIOZA4.T1CgaMCVhn57Jxz3t9miItHhfzPmsFlhMQ8PyRmS7Vs&dib_tag=se&keywords=y28e&qid=1745924327&sprefix=y28%2Caps%2C246&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 64GB BREEZE GREEN","Price":14999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXKLJMQ3/ref=sr_1_3?crid=1LU9QHNWWXX52&dib=eyJ2IjoiMSJ9.JpotSLR7d0mUdhyXZz5m5ra377_dR4Mx59SUnY8CTXXV7jhnG5qLmmr1HS_S7e5yzxbGk458QSskkXBvtftJHssr6stulMY9t1l_zbkXPc_2oha9vT_iBcDfrbEplMIYuiCzz89AQPf-9DTi6JFxzFVcyHXb5M7oT8UY0tgBDfkzGyhCLq-s2jhlHhzaVFS0sLDsWpEmBUwe7k452llvv82HiJ3w2XEG0__TjCIOZA4.T1CgaMCVhn57Jxz3t9miItHhfzPmsFlhMQ8PyRmS7Vs&dib_tag=se&keywords=y28e&qid=1745924327&sprefix=y28%2Caps%2C246&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 128GB VINTAGE RED","Price":15999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXK9MCQ1/ref=sr_1_3?crid=Q0HOPL0A66WE&dib=eyJ2IjoiMSJ9.DJCibWaOc7C6Rlu9LBAGE1_cCNUbxIlZYY83dfdJr7HFS7nfs1XobN6M5e6z0GBpqn6rYrHhXTkrSiFJNser2Gldhr74xA6gu-5j44xpvxVdzjL0LJRt5SwL7jyMPpK3FcKIzzj7ljYHWGUIb8BjGu3Tm5iMlzGBhHfH1uOd4uOPQadttlLik-cjehSMaL0ehVqy9ZLrLS6Uz6WEzZSRHDM2plpeaINSiSmMCocPtvY.YoJRp9Saezlbr-6vScem2gDEL1O0ekpNiu6R7k7G7x8&dib_tag=se&keywords=y28e+128gb&qid=1745924389&sprefix=y28e+128gb%2Caps%2C270&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 128GB BREEZE GREEN","Price":15999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXK9MCQ1/ref=sr_1_3?crid=Q0HOPL0A66WE&dib=eyJ2IjoiMSJ9.DJCibWaOc7C6Rlu9LBAGE1_cCNUbxIlZYY83dfdJr7HFS7nfs1XobN6M5e6z0GBpqn6rYrHhXTkrSiFJNser2Gldhr74xA6gu-5j44xpvxVdzjL0LJRt5SwL7jyMPpK3FcKIzzj7ljYHWGUIb8BjGu3Tm5iMlzGBhHfH1uOd4uOPQadttlLik-cjehSMaL0ehVqy9ZLrLS6Uz6WEzZSRHDM2plpeaINSiSmMCocPtvY.YoJRp9Saezlbr-6vScem2gDEL1O0ekpNiu6R7k7G7x8&dib_tag=se&keywords=y28e+128gb&qid=1745924389&sprefix=y28e+128gb%2Caps%2C270&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB GLACIER BLUE","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WGPJWQL/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB DAIMOND BLACK","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WHQQW74/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB TITANIUM GOLD","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WGN696J/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB GLACIER BLUE ","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB DAIMOND BLUE ","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WHQQW74?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB TITANIUM GOLD","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGN696J?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB GLACIER BLUE ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB DAIMOND BLACK","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB TITANIUM GOLD ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGN696J?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB GLACIER BLUE","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-glacier-blue-128-gb/p/itm2795be01d3dcc?pid=MOBH7JWEHAMNY6EF&lid=LSTMOBH7JWEHAMNY6EFZHI79Y&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&sattr[]=ram&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB DAIMOND BLUE","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-diamond-black-256-gb/p/itm2795be01d3dcc?pid=MOBH7JWEGA52DYYD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB TITANIUM GOLD ","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-titanium-gold-256-gb/p/itm2795be01d3dcc?pid=MOBH7JWECZBYZMHQ&lid=LSTMOBH7JWECZBYZMHQRD1OG4&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&sattr[]=ram&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 128GB LOTUS PURPLE","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-lotus-purple-128-gb/p/itm378912b5322d2?pid=MOBHAFRHXZFXDW93&lid=LSTMOBHAFRHXZFXDW93S66GZD&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 128GB OCEAN BLUE ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-ocean-blue-128-gb/p/itm378912b5322d2?pid=MOBHAFRHRRDYUQ5E&lid=LSTMOBHAFRHRRDYUQ5ETUDQUN&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 256GB LOTUS PURPLE","Price":23999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-lotus-purple-256-gb/p/itm378912b5322d2?pid=MOBHAFRHAZFHYHX6&lid=LSTMOBHAFRHAZFHYHX6T7IVDT&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 256GB OCEAB BLUE ","Price":23999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-ocean-blue-256-gb/p/itm378912b5322d2?pid=MOBHAFRH2N5SH35X&lid=LSTMOBHAFRH2N5SH35XAN2S7H&marketplace=FLIPKART","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 12GB 256GB COSMOS BLACK","Price":71999,"Offer Price":65999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-natural-green-256-gb/p/itm8a4d46ac97f57?pid=MOBH7443UHDKDZRJ&lid=LSTMOBH7443UHDKDZRJQ02NKQ&marketplace=FLIPKART&q=vivo+x200&store=tyy%2F4io&srno=s_1_1&otracker=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&otracker1=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&fm=search-autosuggest&iid=fabdbf7e-cd04-4c02-8c60-5c95702556dc.MOBH7443UHDKDZRJ.SEARCH&ppt=sp&ppn=sp&ssid=03n38y2z400000001745925602702&qH=260782e1c82122f0","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 12GB 256GB NATURAL GREEN","Price":71999,"Offer Price":65999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-natural-green-256-gb/p/itm8a4d46ac97f57?pid=MOBH7443UHDKDZRJ&lid=LSTMOBH7443UHDKDZRJQ02NKQ&marketplace=FLIPKART&q=vivo+x200&store=tyy%2F4io&srno=s_1_1&otracker=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&otracker1=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&fm=search-autosuggest&iid=fabdbf7e-cd04-4c02-8c60-5c95702556dc.MOBH7443UHDKDZRJ.SEARCH&ppt=sp&ppn=sp&ssid=03n38y2z400000001745925602702&qH=260782e1c82122f0","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 16GB 512GB COSMOS BLACK","Price":71999,"Offer Price":78999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-cosmos-black-512-gb/p/itm8a4d46ac97f57?pid=MOBH7443NCRZ7TVZ&lid=LSTMOBH7443NCRZ7TVZJ0DZIC&marketplace=FLIPKART&q=vivo%20x200&sattr[]=color&sattr[]=storage&sattr[]=ram&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 16GB 512GB NATURAL GREEN ","Price":71999,"Offer Price":78999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-cosmos-black-512-gb/p/itm8a4d46ac97f57?pid=MOBH7443NCRZ7TVZ&lid=LSTMOBH7443NCRZ7TVZJ0DZIC&marketplace=FLIPKART&q=vivo%20x200&sattr[]=color&sattr[]=storage&sattr[]=ram&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 PRO 5G 16GB 512GB TITANIUM GREY","Price":94999,"Offer Price":99999,"Stock":8,"Product Image URL":"https://www.amazon.in/Titanium-Storage-Additional-Exchange-Offers/dp/B07WDJMX16/ref=sr_1_3?adgrpid=60072919918&dib=eyJ2IjoiMSJ9.RW_o5BJcY4Y9WG3FGpJDNVjBJdyUcw7FDDpBFarvvl_CwAOXF32vc0-_TE4SIYqIBeA9rEImuw2LszxnbTV5v_xhRZE8gVeCIiR3V6zFaE6EI5NS0JuQ_wgnUT9ilu4wf2-N-AwEQ5JthbYcmRq91zing97Ce6ZjwbZaLudIfJHU5k_7gMYB_aMmkGxZVBO-4XxxKruXgZDVc3kMjlUF56xoJ0MzHddEj_2uclwenWo.CziC5rnovpcQJEE8dII9493X359qZGNFh-mJhPgGcNM&dib_tag=se&ext_vrnc=hi&hvadid=398121804443&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=332903811455969308&hvtargid=kwd-26725506&hydadcr=29298_1997155&keywords=x200&mcid=11cb2b0deaba3791986742ae26d5ff51&qid=1745925176&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 PRO 5G 16GB 516GB COSMOS BLACK","Price":94999,"Offer Price":99999,"Stock":8,"Product Image URL":"https://www.amazon.in/Titanium-Storage-Additional-Exchange-Offers/dp/B07WDJMX16/ref=sr_1_3?adgrpid=60072919918&dib=eyJ2IjoiMSJ9.RW_o5BJcY4Y9WG3FGpJDNVjBJdyUcw7FDDpBFarvvl_CwAOXF32vc0-_TE4SIYqIBeA9rEImuw2LszxnbTV5v_xhRZE8gVeCIiR3V6zFaE6EI5NS0JuQ_wgnUT9ilu4wf2-N-AwEQ5JthbYcmRq91zing97Ce6ZjwbZaLudIfJHU5k_7gMYB_aMmkGxZVBO-4XxxKruXgZDVc3kMjlUF56xoJ0MzHddEj_2uclwenWo.CziC5rnovpcQJEE8dII9493X359qZGNFh-mJhPgGcNM&dib_tag=se&ext_vrnc=hi&hvadid=398121804443&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=332903811455969308&hvtargid=kwd-26725506&hydadcr=29298_1997155&keywords=x200&mcid=11cb2b0deaba3791986742ae26d5ff51&qid=1745925176&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB MIDNIGHT BLACK","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB MOONLIGHT WHITE","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB AURORA  GREEN","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB MIDNIGHT BLACK","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VSVGS/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi+a3x+4%2F64&qid=1745925755&sprefix=mi+a3x+%2Caps%2C304&sr=8-9","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128G MOONLIGHT WHITE","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VSVGS/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi+a3x+4%2F64&qid=1745925755&sprefix=mi+a3x+%2Caps%2C304&sr=8-9","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB AURORA GREEN","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VJQ93/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi%2Ba3x%2B4%2F64&qid=1745925755&sprefix=mi%2Ba3x%2B%2Caps%2C304&sr=8-9&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 64GB SPARKLE PURPLE","Price":10999,"Offer Price":8499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 64GB STARRY BLACK","Price":10999,"Offer Price":8499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW1L5PR/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 128GB SPARKLE PURPLE","Price":11999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 128GB STARRY BLACK ","Price":11999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB BLACK","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB GREEN","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB SILVER","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB BLACK ","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX7BZ7R/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB GREEN","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB SILVER","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB BLACK","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB GREEN","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB SILVER","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB HAWAIIAN BLACK","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB BLACK DAIMOND","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB ORCHID PINK","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB HAWAIIAH BLACK","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB BLACK DAIMOND","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB ORCHID PINK ","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB ARCTIC WHITE","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB CHROMATIC PURPLE","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB PRISM GOLD","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB STEALTH BLACK","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB ARCTIC WHITE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB CHROMATIC PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB PRISM GOLD","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB STEALTH BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB ARCTIC WHITE","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB CHROMATIC PURPLE","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB PRISM GOLD","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13 ","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB STEALTH BLACK","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB MIDNIGHT BLACK","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB AURORA PURPLE","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB OCEAN TEAL","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB OLIVE GREEN","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB MIDNIGHT BLACK","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB AURORA PURPLE","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB OCEAN TEAL","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB OLIVE GREEN","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB MIDNIGHT BLACK","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB AURORA PURPLE","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB OCEAN TEAL","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB OLIVE GREEN","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB MIDNIGHT BLACK","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB MOONLIGHT WHITE","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB AURORA PURPLE","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB MIDNIGHT BLACK","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB MOONLIGHT WHITE","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB AURORA PURPLE","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB MIDNIGHT BLACK","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB MOONLIGHT WHIRE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB AURORA PURPLE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB WCE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARGAZE BLACK","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARDUST PURPLE","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARLIGHT BLUE","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARGAZE BLACK","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARDUST PURPLE","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARLIGHT BLUE","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARGAZE BLACK","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARDUST PURPLE","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARLIGHT BLUE","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB MYSTIQUE WHITE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB PHANTOM PURPLE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB TITAN BLACK","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB MYSTIQUE WHITE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB PHANTOM PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB TITAN BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB MYSTIQUE WHITE ","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB PHANTOM PURPLE","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB TITAN BLACK","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB IVY GREEN","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB TITAN BLACK","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB PHANTOM PURPLE ","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB IVY GREEN ","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB TITAN BLACK","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB PHANTOM PURPLE","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB PHANTOM PURPLE","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB SPECTRE BLUE ","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB TITAN BLACK","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB PHANTOM PURPLE","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB SPECTRE BLUE","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB TITAN BLACK","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB PHANTOM PURPLE","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB SPECTRE BLUE","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB TITAN BLACK","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB SHADOW BLACK","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB MATCHA GREEN","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB CRUISE BLUE","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB SHADOW BLACK","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB MATCHA GREEN","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB CRUISE BLUE","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB PANDA WHITE","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB AQUA BLUE","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB HOT PINK","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB BLACK","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB GREEN","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB WHITE","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 ULTRA 5G 16GB 512GB SILVER CHROME","Price":109999,"Offer Price":109999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Silver-Chrome-Leica-Quad-Camera/dp/B0DYV4177R/ref=sr_1_1?crid=27LH747RKSZBR&dib=eyJ2IjoiMSJ9.SIwGDtLsGB9zcjOAi-WPna8OoNbV1ZjtaKLSccrPQif6k-a7td03dhP3WOhN008KS4vh8hANmvookUS0cUg5iV6-PCLkL4rpdJuiEEYiWVHQMPCsCXM-ZnoKYlF_OAQYHwZgSJdqvVGPSdJG15BiboOqwQQVZlXVv2h9tgcvd3ZxSnbj90B5n29NYrkBqwOzS8XT7imDJIbw8dlxLHnWIBaeAAihDrRs6SWFzRtB0mw.VQaPPgmdfe9bipPhcwGiyxfsZTRklcLngChmCZm3Tq8&dib_tag=se&keywords=redmi+15+civi+ultra&qid=1745931336&sprefix=redmi+15+civi+ultra%2Caps%2C204&sr=8-1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB BLACK","Price":19999,"Offer Price":1999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB LIGHT GREEN","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB BLUE","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB ORANGE","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB BLACK","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB LIGHT GREEN","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB BLUE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB ORANGE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB BLACK","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB WHITE","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB BLUE","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB BLACK","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB WHITE","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB BLUE","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB BLACK","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB WHITE","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB BLUE","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 8GB 256GB BLACK","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Storage-Dimensity-Processor-Display/dp/B0DC8F2X6T/ref=sr_1_3?crid=KOE3SUWYIDYT&dib=eyJ2IjoiMSJ9.Tpn5Njn9GFpNybo9ccg_g82xFHGR2XAQy3DHQy8KkH4rVc8o-EmMhOlQcHe1Mt68rprcuTRJEXLzdiJ1AOfTvnC2t8Y_4wIscEjoYec43cSeFKA6gQoNQ7mHh46Hm0jJCe6V4-qFK0OKO-HuUqSkMUlk52TuAHywK6F-nMUenVYLTijsMAQ6Iry7A15CVxFv8OftLWtPAv9DrBsycQhyTSniE8-A8gGF0zwXfQ7Rfr4.qUm136bU50fqtqo2Df7qRz4Lu62OVPjisW8bj9gJXyY&dib_tag=se&keywords=nothing+phone+2a+plus+8gb+256gb&qid=1745931637&sprefix=nothing+2a+plus+phone+8gb+256gb%2Caps%2C218&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 8GB 256GB GREY","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Storage-Dimensity-Processor-Display/dp/B0DC8F2X6T/ref=sr_1_3?crid=KOE3SUWYIDYT&dib=eyJ2IjoiMSJ9.Tpn5Njn9GFpNybo9ccg_g82xFHGR2XAQy3DHQy8KkH4rVc8o-EmMhOlQcHe1Mt68rprcuTRJEXLzdiJ1AOfTvnC2t8Y_4wIscEjoYec43cSeFKA6gQoNQ7mHh46Hm0jJCe6V4-qFK0OKO-HuUqSkMUlk52TuAHywK6F-nMUenVYLTijsMAQ6Iry7A15CVxFv8OftLWtPAv9DrBsycQhyTSniE8-A8gGF0zwXfQ7Rfr4.qUm136bU50fqtqo2Df7qRz4Lu62OVPjisW8bj9gJXyY&dib_tag=se&keywords=nothing+phone+2a+plus+8gb+256gb&qid=1745931637&sprefix=nothing+2a+plus+phone+8gb+256gb%2Caps%2C218&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 12GB 256GB BLACK","Price":31999,"Offer Price":29999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 12GB 256GB GREY","Price":31999,"Offer Price":29999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB BLACK","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB WHITE","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB BLUE","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256G BLACK","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256GB WHITE","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256GB BLUE","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 128GB BLACK","Price":32999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0DZTNQKX7/ref=sr_1_3?crid=33SWKWSZ9GTQJ&dib=eyJ2IjoiMSJ9.TxcznIk0GGFd6LoTuw117uqeBtHBzE5TVnLQgqpxugOOjradX5lWQd6M_ulfQT-j7dPRjImSYss0BYOTeHCAlk6luPpDRF90QhVAzgDCVZ-4pDREGFUoIzFjaLE4F1PpWfo5b1scqdiFpPnw4vEFz2_Mt1YejoJbi4SPw8RYLQuJyxM_67B9pmfkrmiPNAU5Tnm740mORECGVeWWtv3z1-5aFgRvhmu2hW86Fdmk2a4.FXvyVABvxZNlV3wmxLDTKmmLbURN6raHSzHTXaVTe2g&dib_tag=se&keywords=nothing+phone+3a+pro+128gb&nsdOptOutParam=true&qid=1745931832&sprefix=nothing+phone+3a+pro+128gb%2Caps%2C214&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 128GB GREY","Price":32999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0DZTNQKX7/ref=sr_1_3?crid=33SWKWSZ9GTQJ&dib=eyJ2IjoiMSJ9.TxcznIk0GGFd6LoTuw117uqeBtHBzE5TVnLQgqpxugOOjradX5lWQd6M_ulfQT-j7dPRjImSYss0BYOTeHCAlk6luPpDRF90QhVAzgDCVZ-4pDREGFUoIzFjaLE4F1PpWfo5b1scqdiFpPnw4vEFz2_Mt1YejoJbi4SPw8RYLQuJyxM_67B9pmfkrmiPNAU5Tnm740mORECGVeWWtv3z1-5aFgRvhmu2hW86Fdmk2a4.FXvyVABvxZNlV3wmxLDTKmmLbURN6raHSzHTXaVTe2g&dib_tag=se&keywords=nothing+phone+3a+pro+128gb&nsdOptOutParam=true&qid=1745931832&sprefix=nothing+phone+3a+pro+128gb%2Caps%2C214&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 256GB BLACK","Price":34999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQ44FC/ref=sr_1_3?crid=1JSACW6YXGL4&dib=eyJ2IjoiMSJ9.YG0c3Rre36d_u73AroztUyXT1EtHjc2en2OBGY-uxgXOokQ4x4fPensGGE7slufnhmqLjfrpeIcOmJgDmWfcZbwMWwRNHvvXcBQwMkt2H1ijT3WKygSRXEz_jyr3EkTSBwAzU3orRj5Bv15Tm7O85p421wi7ZYniTu8OQCJBY-8Oqo8EItGXILUfZ3mCslkD4xVHyAS6rHiHDOgtFK1Jlg186LTQt59sWzS39nQ1nrE.tfOofDAsUy-JJj9YOA8H-TMhPzD2hJNFQCTr2EW8Xto&dib_tag=se&keywords=nothing+phone+3a+pro+8+256&qid=1745931887&sprefix=nothing+phone+3a+pro+8+256%2Caps%2C211&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 256GB GREY","Price":34999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQ44FC/ref=sr_1_3?crid=1JSACW6YXGL4&dib=eyJ2IjoiMSJ9.YG0c3Rre36d_u73AroztUyXT1EtHjc2en2OBGY-uxgXOokQ4x4fPensGGE7slufnhmqLjfrpeIcOmJgDmWfcZbwMWwRNHvvXcBQwMkt2H1ijT3WKygSRXEz_jyr3EkTSBwAzU3orRj5Bv15Tm7O85p421wi7ZYniTu8OQCJBY-8Oqo8EItGXILUfZ3mCslkD4xVHyAS6rHiHDOgtFK1Jlg186LTQt59sWzS39nQ1nrE.tfOofDAsUy-JJj9YOA8H-TMhPzD2hJNFQCTr2EW8Xto&dib_tag=se&keywords=nothing+phone+3a+pro+8+256&qid=1745931887&sprefix=nothing+phone+3a+pro+8+256%2Caps%2C211&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 12GB 256GB BLACK","Price":36999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQBWXB/ref=sr_1_3?crid=2GYPVCWG1HT3S&dib=eyJ2IjoiMSJ9.s83CYwh5SkXZculdp5pAGGgT93i4NebU4u954L6NSO4_iSHnh9d-uuS5yoMSgMGYGbl_nG1fQbtY8BdUxfb--ExV68k8P1WJlJJnDvPlIRFTVFnNVmL5_kNUPz9giHOutZy8bV_i7HuMHDOor9pfD56EOcyf4TlkHuxbvRxytugvLNp3IFV1Hr3qQPRN-JU2Cf1bl4YVJ_qgVZrcB3f7imto_krTTGa3xHQw2gQqA8E.5uQ_Yfj0q0-LcDhMdukmh77cJWrFatzHQGwxFDzgKhc&dib_tag=se&keywords=nothing+phone+3a+pro+12+256&qid=1745931863&sprefix=nothing+phone+3a+pro+%2Caps%2C220&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 12GB 256GB GREY","Price":36999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQBWXB/ref=sr_1_3?crid=2GYPVCWG1HT3S&dib=eyJ2IjoiMSJ9.s83CYwh5SkXZculdp5pAGGgT93i4NebU4u954L6NSO4_iSHnh9d-uuS5yoMSgMGYGbl_nG1fQbtY8BdUxfb--ExV68k8P1WJlJJnDvPlIRFTVFnNVmL5_kNUPz9giHOutZy8bV_i7HuMHDOor9pfD56EOcyf4TlkHuxbvRxytugvLNp3IFV1Hr3qQPRN-JU2Cf1bl4YVJ_qgVZrcB3f7imto_krTTGa3xHQw2gQqA8E.5uQ_Yfj0q0-LcDhMdukmh77cJWrFatzHQGwxFDzgKhc&dib_tag=se&keywords=nothing+phone+3a+pro+12+256&qid=1745931863&sprefix=nothing+phone+3a+pro+%2Caps%2C220&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"}]'),Gie=async()=>{var n,t,o,i,l,h,m;console.log("Starting product migration to Firebase...");try{let g=0,y=0;for(const w of Uie)try{const k={category:((n=w.Category)==null?void 0:n.toLowerCase())||"general",brand:((t=w.Brand)==null?void 0:t.trim())||"Unknown",name:w["Model Name"]||"Unknown Product",model:w["Model Name"]||"",specifications:w["Specs (RAM/ROM/Display/etc)"]||"",price:parseFloat((o=w.Price)==null?void 0:o.toString().replace(/[,]/g,""))||0,offerPrice:parseFloat((i=w["Offer Price"])==null?void 0:i.toString().replace(/[,]/g,""))||0,stock:parseInt(w.Stock)||0,imageUrl:w["Product Image URL"]||"",description:w.Description||"",warranty:w.Warranty||"",emiOptions:w["EMI Options"]==="Yes",isActive:!0,featured:Math.random()>.8,rating:Math.floor(Math.random()*2)+3,totalReviews:Math.floor(Math.random()*100),searchTags:[(l=w.Brand)==null?void 0:l.toLowerCase(),(h=w["Model Name"])==null?void 0:h.toLowerCase(),(m=w.Category)==null?void 0:m.toLowerCase()].filter(Boolean),createdAt:new Date,updatedAt:new Date};k.price>0&&k.offerPrice>0&&(k.discountPercentage=Math.round((k.price-k.offerPrice)/k.price*100));const _=await Vie.addProduct(k);console.log(` Added product: ${k.name} (ID: ${_})`),g++,await new Promise(N=>setTimeout(N,100))}catch(k){console.error(` Error adding product ${w["Model Name"]}:`,k),y++}return console.log(`
 Migration completed!`),console.log(` Successfully added: ${g} products`),console.log(` Failed: ${y} products`),{success:g,errors:y}}catch(g){throw console.error("Migration failed:",g),g}},Hie=()=>{const[n,t]=z.useState({auth:!1,firestore:!1,storage:!1,products:!1}),[o,i]=z.useState(!1),[l,h]=z.useState({}),m=async()=>{try{i(!0);const N="test@anandmobiles.com",D="test123456";try{await(await kD(db,N,D)).user.delete(),h(R=>({...R,auth:{success:!0,message:"Firebase Auth is working properly"}})),t(R=>({...R,auth:!0}))}catch(T){if(T.code==="auth/email-already-in-use")await oW(db,N,D),await lW(db),h(R=>({...R,auth:{success:!0,message:"Firebase Auth is working (test user exists)"}})),t(R=>({...R,auth:!0}));else throw T}}catch(N){h(D=>({...D,auth:{success:!1,message:`Auth test failed: ${N.message}`}}))}finally{i(!1)}},g=async()=>{try{i(!0);const N=Ef(bu,"test_collection","test_doc");await IM(N,{message:"Firebase setup test",timestamp:new Date,success:!0});const D=await qP(uA(bu,"test_collection"));h(T=>({...T,firestore:{success:!0,message:`Firestore is working (${D.size} test documents)`}})),t(T=>({...T,firestore:!0}))}catch(N){h(D=>({...D,firestore:{success:!1,message:`Firestore test failed: ${N.message}`}}))}finally{i(!1)}},y=async()=>{try{i(!0),h(N=>({...N,storage:{success:!0,message:"Firebase Storage is configured and accessible"}})),t(N=>({...N,storage:!0}))}catch(N){h(D=>({...D,storage:{success:!1,message:`Storage test failed: ${N.message}`}}))}finally{i(!1)}},w=async()=>{try{i(!0),ze.loading("Migrating products to Firebase...",{id:"migration"});const N=await Gie();h(D=>({...D,products:{success:!0,message:`Successfully migrated ${N.success} products, ${N.errors} errors`}})),t(D=>({...D,products:!0})),ze.success(`Migration completed! ${N.success} products added`,{id:"migration"})}catch(N){h(D=>({...D,products:{success:!1,message:`Migration failed: ${N.message}`}})),ze.error("Migration failed",{id:"migration"})}finally{i(!1)}},k=async()=>{try{i(!0);const N="admin@anandmobiles.com",D="admin123456",R=(await kD(db,N,D)).user;await IM(Ef(bu,"users",R.uid),{uid:R.uid,email:R.email,firstName:"Admin",lastName:"User",role:"admin",permissions:["read","write","delete","manage_orders","manage_users"],createdAt:new Date,isActive:!0}),ze.success(`Admin user created: ${N} / ${D}`)}catch(N){N.code==="auth/email-already-in-use"?ze.info("Admin user already exists"):ze.error(`Failed to create admin: ${N.message}`)}finally{i(!1)}},_=async()=>{await m(),await g(),await y()};return r.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[r.jsx("h1",{children:"Firebase Setup & Configuration"}),r.jsx("p",{children:"Use this page to test and configure your Firebase integration."}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("h2",{children:"Setup Status"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:Object.entries(n).map(([N,D])=>r.jsxs("div",{style:{padding:"10px",border:`2px solid ${D?"#10B981":"#EF4444"}`,borderRadius:"8px",backgroundColor:D?"#F0FDF4":"#FEF2F2",textAlign:"center"},children:[r.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize"},children:N==="firestore"?"Database":N}),r.jsx("div",{style:{color:D?"#047857":"#DC2626"},children:D?" Ready":" Not Ready"})]},N))})]}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("h2",{children:"Firebase Tests"}),r.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[r.jsx("button",{onClick:m,disabled:o,style:{padding:"10px 20px",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:"Test Authentication"}),r.jsx("button",{onClick:g,disabled:o,style:{padding:"10px 20px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:"Test Database"}),r.jsx("button",{onClick:y,disabled:o,style:{padding:"10px 20px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:"Test Storage"}),r.jsx("button",{onClick:_,disabled:o,style:{padding:"10px 20px",backgroundColor:"#7C3AED",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:"Run All Tests"})]})]}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("h2",{children:"Data Migration"}),r.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[r.jsx("button",{onClick:w,disabled:o,style:{padding:"10px 20px",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:"Migrate Products to Firebase"}),r.jsx("button",{onClick:k,disabled:o,style:{padding:"10px 20px",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:"Create Admin User"})]}),r.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Note:"})," Product migration will import all products from the JSON file to Firebase."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Admin credentials:"})," admin@anandmobiles.com / admin123456"]})]})]}),Object.keys(l).length>0&&r.jsxs("div",{children:[r.jsx("h2",{children:"Test Results"}),Object.entries(l).map(([N,D])=>r.jsxs("div",{style:{margin:"10px 0",padding:"15px",border:`2px solid ${D.success?"#10B981":"#EF4444"}`,borderRadius:"8px",backgroundColor:D.success?"#F0FDF4":"#FEF2F2"},children:[r.jsxs("h4",{style:{margin:"0 0 10px 0",color:D.success?"#047857":"#DC2626",textTransform:"capitalize"},children:[N,": ",D.success?" PASS":" FAIL"]}),r.jsx("p",{style:{margin:"0"},children:D.message})]},N))]}),r.jsxs("div",{style:{marginTop:"40px",padding:"20px",backgroundColor:"#FEF3C7",borderRadius:"8px"},children:[r.jsx("h2",{children:" Firebase Console Configuration Required"}),r.jsx("p",{children:"Before running tests, make sure you've configured the following in Firebase Console:"}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Authentication:"})," Enable Email/Password and Google sign-in methods"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Firestore:"})," Create database and set up security rules"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Storage:"})," Set up storage bucket and rules"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Hosting:"})," Add your domain to authorized domains"]})]}),r.jsxs("p",{children:["See ",r.jsx("code",{children:"FIREBASE_SETUP_GUIDE.md"})," for detailed instructions."]})]})]})},qie=()=>r.jsxs(r.Fragment,{children:[r.jsx(Vse,{}),r.jsx(UA,{}),r.jsx(Gse,{})]}),Yie=()=>{const{isAuthenticated:n,checkAuthStatus:t}=br(),{isAuthenticated:o,checkAdminAuthStatus:i}=RN(),{initializeTheme:l}=Qb();return gt.useEffect(()=>{(async()=>{l(),Q9(),t(),i();const{useProductStore:m}=await E5(async()=>{const{useProductStore:y}=await Promise.resolve().then(()=>Fne);return{useProductStore:y}},[]);m.getState().fetchProducts();const{usePageContentStore:g}=await E5(async()=>{const{usePageContentStore:y}=await Promise.resolve().then(()=>_se);return{usePageContentStore:y}},void 0);g.getState().fetchAvailablePages()})()},[t,i]),z.useEffect(()=>{l()},[l]),r.jsxs(kV,{children:[r.jsx(kU,{position:"top-right",toastOptions:{duration:3e3}}),r.jsxs(XF,{children:[r.jsx(ht,{path:"/signup",element:n?r.jsx(Es,{to:"/"}):r.jsx(BZ,{})}),r.jsx(ht,{path:"/login",element:n?r.jsx(Es,{to:"/"}):r.jsx(LZ,{})}),r.jsx(ht,{path:"/firebase-setup",element:r.jsx(Hie,{})}),r.jsxs(ht,{path:"/delivery",children:[r.jsx(ht,{path:"login",element:r.jsx($se,{})}),r.jsx(ht,{path:"register",element:r.jsx(eoe,{})}),r.jsx(ht,{path:"admin-verify",element:r.jsx(mI,{})}),r.jsx(ht,{path:"dashboard",element:r.jsx(ff,{children:r.jsx(noe,{})})}),r.jsx(ht,{path:"assignments",element:r.jsx(ff,{children:r.jsx(toe,{})})}),r.jsx(ht,{path:"update/:id",element:r.jsx(ff,{children:r.jsx(pI,{})})}),r.jsx(ht,{path:"status-update",element:r.jsx(ff,{children:r.jsx(pI,{})})}),r.jsx(ht,{path:"history",element:r.jsx(ff,{children:r.jsx(roe,{})})}),r.jsx(ht,{path:"settings",element:r.jsx(ff,{children:r.jsx(soe,{})})}),r.jsx(ht,{path:"verification",element:o?r.jsx(mI,{}):r.jsx(Es,{to:"/admin/login"})})]}),r.jsxs(ht,{element:r.jsx(qie,{}),children:[r.jsx(ht,{path:"/",element:r.jsx(Vne,{})}),r.jsx(ht,{path:"/products",element:r.jsx(x_,{})}),r.jsx(ht,{path:"/products/:category",element:r.jsx(x_,{})}),r.jsx(ht,{path:"/products/:category/:id",element:r.jsx(aI,{})}),r.jsx(ht,{path:"/product/:id",element:r.jsx(aI,{})}),r.jsx(ht,{path:"/category/:category",element:r.jsx(x_,{})}),r.jsx(ht,{path:"/cart",element:r.jsx(ose,{})}),r.jsx(ht,{path:"/wishlist",element:r.jsx(ise,{})}),r.jsx(ht,{path:"/orders",element:r.jsx(fse,{})}),r.jsx(ht,{path:"/order-tracking",element:r.jsx(yse,{})}),r.jsx(ht,{path:"/order-tracking/:id",element:r.jsx(bse,{})}),r.jsx(ht,{path:"/search",element:r.jsx($ne,{})}),r.jsx(ht,{path:"/dynamic-page",element:r.jsx(dI,{})}),r.jsx(ht,{path:"/about",element:r.jsx(Ase,{})}),r.jsx(ht,{path:"/contact",element:r.jsx(Nse,{})}),r.jsx(ht,{path:"/track-order",element:r.jsx(jse,{})}),r.jsx(ht,{path:"/bulk-order",element:r.jsx(Sse,{})}),r.jsx(ht,{path:"/terms-conditions",element:r.jsx(Dse,{})}),r.jsx(ht,{path:"/cancellation-refund-policy",element:r.jsx(Mse,{})})," ",r.jsx(ht,{path:"/privacy-policy",element:r.jsx(Tse,{})}),r.jsx(ht,{path:"/shipping-delivery-policy",element:r.jsx(Ise,{})}),r.jsx(ht,{path:"/our-stores",element:r.jsx(Ese,{})}),r.jsx(ht,{path:"/warranty-policy",element:r.jsx(Rse,{})}),r.jsx(ht,{path:"/profile",element:r.jsx(cI,{})}),r.jsx(ht,{path:"/profile/:section",element:r.jsx(cI,{})}),r.jsx(ht,{path:"/:pagePath",element:r.jsx(dI,{})})]}),r.jsx(ht,{path:"/admin",element:r.jsx(Es,{to:o?"/admin/dashboard":"/admin/login"})}),r.jsx(ht,{path:"/admin/login",element:o?r.jsx(Es,{to:"/admin/dashboard"}):r.jsx(Iie,{})}),r.jsx(ht,{path:"/admin/register",element:o?r.jsx(Es,{to:"/admin/dashboard"}):r.jsx(Rie,{})}),r.jsxs(ht,{element:r.jsx(Yse,{}),children:[r.jsx(ht,{path:"/admin/dashboard",element:o?r.jsx(yoe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/products",element:o?r.jsx(_oe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/inventory",element:o?r.jsx(Soe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/orders",element:o?r.jsx(Poe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/users",element:o?r.jsx(Foe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/returns",element:o?r.jsx(qoe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/content",element:o?r.jsx(Tie,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/sell-phones",element:o?r.jsx(Fie,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/reviews",element:o?r.jsx(Koe,{}):r.jsx(Es,{to:"/admin/login"})}),r.jsx(ht,{path:"/admin/delivery-partners",element:o?r.jsx(Pie,{}):r.jsx(Es,{to:"/admin/login"})})]})]})]})};rF.createRoot(document.getElementById("root")).render(r.jsx(gt.StrictMode,{children:r.jsx(Yie,{})}));
