(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(l){if(l.ep)return;l.ep=!0;const h=s(l);fetch(l.href,h)}})();var aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zk(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var h_={exports:{}},cy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kM;function UV(){if(kM)return cy;kM=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:r,type:i,key:m,ref:l!==void 0?l:null,props:h}}return cy.Fragment=t,cy.jsx=s,cy.jsxs=s,cy}var CM;function GV(){return CM||(CM=1,h_.exports=UV()),h_.exports}var n=GV(),m_={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M;function HV(){if(_M)return Ht;_M=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=C&&G[C]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function P(G,ue,pe){this.props=G,this.context=ue,this.refs=R,this.updater=pe||S}P.prototype.isReactComponent={},P.prototype.setState=function(G,ue){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ue,"setState")},P.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function V(){}V.prototype=P.prototype;function U(G,ue,pe){this.props=G,this.context=ue,this.refs=R,this.updater=pe||S}var F=U.prototype=new V;F.constructor=U,T(F,P.prototype),F.isPureReactComponent=!0;var q=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function Q(G,ue,pe,me,ye,Se){return pe=Se.ref,{$$typeof:r,type:G,key:ue,ref:pe!==void 0?pe:null,props:Se}}function B(G,ue){return Q(G.type,ue,void 0,void 0,void 0,G.props)}function Y(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function J(G){var ue={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return ue[pe]})}var K=/\/+/g;function Z(G,ue){return typeof G=="object"&&G!==null&&G.key!=null?J(""+G.key):ue.toString(36)}function ee(){}function be(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ee,ee):(G.status="pending",G.then(function(ue){G.status==="pending"&&(G.status="fulfilled",G.value=ue)},function(ue){G.status==="pending"&&(G.status="rejected",G.reason=ue)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function xe(G,ue,pe,me,ye){var Se=typeof G;(Se==="undefined"||Se==="boolean")&&(G=null);var _e=!1;if(G===null)_e=!0;else switch(Se){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(G.$$typeof){case r:case t:_e=!0;break;case k:return _e=G._init,xe(_e(G._payload),ue,pe,me,ye)}}if(_e)return ye=ye(G),_e=me===""?"."+Z(G,0):me,q(ye)?(pe="",_e!=null&&(pe=_e.replace(K,"$&/")+"/"),xe(ye,ue,pe,"",function(Ye){return Ye})):ye!=null&&(Y(ye)&&(ye=B(ye,pe+(ye.key==null||G&&G.key===ye.key?"":(""+ye.key).replace(K,"$&/")+"/")+_e)),ue.push(ye)),1;_e=0;var qe=me===""?".":me+":";if(q(G))for(var Oe=0;Oe<G.length;Oe++)me=G[Oe],Se=qe+Z(me,Oe),_e+=xe(me,ue,pe,Se,ye);else if(Oe=_(G),typeof Oe=="function")for(G=Oe.call(G),Oe=0;!(me=G.next()).done;)me=me.value,Se=qe+Z(me,Oe++),_e+=xe(me,ue,pe,Se,ye);else if(Se==="object"){if(typeof G.then=="function")return xe(be(G),ue,pe,me,ye);throw ue=String(G),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ie(G,ue,pe){if(G==null)return G;var me=[],ye=0;return xe(G,me,"","",function(Se){return ue.call(pe,Se,ye++)}),me}function ae(G){if(G._status===-1){var ue=G._result;ue=ue(),ue.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=ue)}if(G._status===1)return G._result.default;throw G._result}var le=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function oe(){}return Ht.Children={map:ie,forEach:function(G,ue,pe){ie(G,function(){ue.apply(this,arguments)},pe)},count:function(G){var ue=0;return ie(G,function(){ue++}),ue},toArray:function(G){return ie(G,function(ue){return ue})||[]},only:function(G){if(!Y(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ht.Component=P,Ht.Fragment=s,Ht.Profiler=l,Ht.PureComponent=U,Ht.StrictMode=i,Ht.Suspense=b,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(G){return ne.H.useMemoCache(G)}},Ht.cache=function(G){return function(){return G.apply(null,arguments)}},Ht.cloneElement=function(G,ue,pe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var me=T({},G.props),ye=G.key,Se=void 0;if(ue!=null)for(_e in ue.ref!==void 0&&(Se=void 0),ue.key!==void 0&&(ye=""+ue.key),ue)!se.call(ue,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ue.ref===void 0||(me[_e]=ue[_e]);var _e=arguments.length-2;if(_e===1)me.children=pe;else if(1<_e){for(var qe=Array(_e),Oe=0;Oe<_e;Oe++)qe[Oe]=arguments[Oe+2];me.children=qe}return Q(G.type,ye,void 0,void 0,Se,me)},Ht.createContext=function(G){return G={$$typeof:m,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:h,_context:G},G},Ht.createElement=function(G,ue,pe){var me,ye={},Se=null;if(ue!=null)for(me in ue.key!==void 0&&(Se=""+ue.key),ue)se.call(ue,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ye[me]=ue[me]);var _e=arguments.length-2;if(_e===1)ye.children=pe;else if(1<_e){for(var qe=Array(_e),Oe=0;Oe<_e;Oe++)qe[Oe]=arguments[Oe+2];ye.children=qe}if(G&&G.defaultProps)for(me in _e=G.defaultProps,_e)ye[me]===void 0&&(ye[me]=_e[me]);return Q(G,Se,void 0,void 0,null,ye)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(G){return{$$typeof:g,render:G}},Ht.isValidElement=Y,Ht.lazy=function(G){return{$$typeof:k,_payload:{_status:-1,_result:G},_init:ae}},Ht.memo=function(G,ue){return{$$typeof:v,type:G,compare:ue===void 0?null:ue}},Ht.startTransition=function(G){var ue=ne.T,pe={};ne.T=pe;try{var me=G(),ye=ne.S;ye!==null&&ye(pe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(oe,le)}catch(Se){le(Se)}finally{ne.T=ue}},Ht.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Ht.use=function(G){return ne.H.use(G)},Ht.useActionState=function(G,ue,pe){return ne.H.useActionState(G,ue,pe)},Ht.useCallback=function(G,ue){return ne.H.useCallback(G,ue)},Ht.useContext=function(G){return ne.H.useContext(G)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(G,ue){return ne.H.useDeferredValue(G,ue)},Ht.useEffect=function(G,ue,pe){var me=ne.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(G,ue)},Ht.useId=function(){return ne.H.useId()},Ht.useImperativeHandle=function(G,ue,pe){return ne.H.useImperativeHandle(G,ue,pe)},Ht.useInsertionEffect=function(G,ue){return ne.H.useInsertionEffect(G,ue)},Ht.useLayoutEffect=function(G,ue){return ne.H.useLayoutEffect(G,ue)},Ht.useMemo=function(G,ue){return ne.H.useMemo(G,ue)},Ht.useOptimistic=function(G,ue){return ne.H.useOptimistic(G,ue)},Ht.useReducer=function(G,ue,pe){return ne.H.useReducer(G,ue,pe)},Ht.useRef=function(G){return ne.H.useRef(G)},Ht.useState=function(G){return ne.H.useState(G)},Ht.useSyncExternalStore=function(G,ue,pe){return ne.H.useSyncExternalStore(G,ue,pe)},Ht.useTransition=function(){return ne.H.useTransition()},Ht.version="19.1.0",Ht}var AM;function j2(){return AM||(AM=1,m_.exports=HV()),m_.exports}var O=j2();const mt=zk(O);var p_={exports:{}},dy={},f_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function qV(){return NM||(NM=1,function(r){function t(ie,ae){var le=ie.length;ie.push(ae);e:for(;0<le;){var oe=le-1>>>1,G=ie[oe];if(0<l(G,ae))ie[oe]=ae,ie[le]=G,le=oe;else break e}}function s(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ae=ie[0],le=ie.pop();if(le!==ae){ie[0]=le;e:for(var oe=0,G=ie.length,ue=G>>>1;oe<ue;){var pe=2*(oe+1)-1,me=ie[pe],ye=pe+1,Se=ie[ye];if(0>l(me,le))ye<G&&0>l(Se,me)?(ie[oe]=Se,ie[ye]=le,oe=ye):(ie[oe]=me,ie[pe]=le,oe=pe);else if(ye<G&&0>l(Se,le))ie[oe]=Se,ie[ye]=le,oe=ye;else break e}}return ae}function l(ie,ae){var le=ie.sortIndex-ae.sortIndex;return le!==0?le:ie.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();r.unstable_now=function(){return m.now()-g}}var b=[],v=[],k=1,C=null,_=3,S=!1,T=!1,R=!1,P=!1,V=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(ie){for(var ae=s(v);ae!==null;){if(ae.callback===null)i(v);else if(ae.startTime<=ie)i(v),ae.sortIndex=ae.expirationTime,t(b,ae);else break;ae=s(v)}}function ne(ie){if(R=!1,q(ie),!T)if(s(b)!==null)T=!0,se||(se=!0,Z());else{var ae=s(v);ae!==null&&xe(ne,ae.startTime-ie)}}var se=!1,Q=-1,B=5,Y=-1;function J(){return P?!0:!(r.unstable_now()-Y<B)}function K(){if(P=!1,se){var ie=r.unstable_now();Y=ie;var ae=!0;try{e:{T=!1,R&&(R=!1,U(Q),Q=-1),S=!0;var le=_;try{t:{for(q(ie),C=s(b);C!==null&&!(C.expirationTime>ie&&J());){var oe=C.callback;if(typeof oe=="function"){C.callback=null,_=C.priorityLevel;var G=oe(C.expirationTime<=ie);if(ie=r.unstable_now(),typeof G=="function"){C.callback=G,q(ie),ae=!0;break t}C===s(b)&&i(b),q(ie)}else i(b);C=s(b)}if(C!==null)ae=!0;else{var ue=s(v);ue!==null&&xe(ne,ue.startTime-ie),ae=!1}}break e}finally{C=null,_=le,S=!1}ae=void 0}}finally{ae?Z():se=!1}}}var Z;if(typeof F=="function")Z=function(){F(K)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,be=ee.port2;ee.port1.onmessage=K,Z=function(){be.postMessage(null)}}else Z=function(){V(K,0)};function xe(ie,ae){Q=V(function(){ie(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var le=_;_=ae;try{return ie()}finally{_=le}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(ie,ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=_;_=ie;try{return ae()}finally{_=le}},r.unstable_scheduleCallback=function(ie,ae,le){var oe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?oe+le:oe):le=oe,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,ie={id:k++,callback:ae,priorityLevel:ie,startTime:le,expirationTime:G,sortIndex:-1},le>oe?(ie.sortIndex=le,t(v,ie),s(b)===null&&ie===s(v)&&(R?(U(Q),Q=-1):R=!0,xe(ne,le-oe))):(ie.sortIndex=G,t(b,ie),T||S||(T=!0,se||(se=!0,Z()))),ie},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(ie){var ae=_;return function(){var le=_;_=ae;try{return ie.apply(this,arguments)}finally{_=le}}}}(g_)),g_}var jM;function YV(){return jM||(jM=1,f_.exports=qV()),f_.exports}var b_={exports:{}},io={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SM;function WV(){if(SM)return io;SM=1;var r=j2();function t(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)v+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(b,v,k){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:b,containerInfo:v,implementation:k}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return io.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,io.createPortal=function(b,v){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(b,v,null,k)},io.flushSync=function(b){var v=m.T,k=i.p;try{if(m.T=null,i.p=2,b)return b()}finally{m.T=v,i.p=k,i.d.f()}},io.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(b,v))},io.prefetchDNS=function(b){typeof b=="string"&&i.d.D(b)},io.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var k=v.as,C=g(k,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;k==="style"?i.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:S}):k==="script"&&i.d.X(b,{crossOrigin:C,integrity:_,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},io.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var k=g(v.as,v.crossOrigin);i.d.M(b,{crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(b)},io.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var k=v.as,C=g(k,v.crossOrigin);i.d.L(b,k,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},io.preloadModule=function(b,v){if(typeof b=="string")if(v){var k=g(v.as,v.crossOrigin);i.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(b)},io.requestFormReset=function(b){i.d.r(b)},io.unstable_batchedUpdates=function(b,v){return b(v)},io.useFormState=function(b,v,k){return m.H.useFormState(b,v,k)},io.useFormStatus=function(){return m.H.useHostTransitionStatus()},io.version="19.1.0",io}var EM;function XR(){if(EM)return b_.exports;EM=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),b_.exports=WV(),b_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DM;function KV(){if(DM)return dy;DM=1;var r=YV(),t=j2(),s=XR();function i(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function h(u){var f=u,x=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(x=f.return),u=f.return;while(u)}return f.tag===3?x:null}function m(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function g(u){if(h(u)!==u)throw Error(i(188))}function b(u){var f=u.alternate;if(!f){if(f=h(u),f===null)throw Error(i(188));return f!==u?null:u}for(var x=u,N=f;;){var M=x.return;if(M===null)break;var L=M.alternate;if(L===null){if(N=M.return,N!==null){x=N;continue}break}if(M.child===L.child){for(L=M.child;L;){if(L===x)return g(M),u;if(L===N)return g(M),f;L=L.sibling}throw Error(i(188))}if(x.return!==N.return)x=M,N=L;else{for(var te=!1,ce=M.child;ce;){if(ce===x){te=!0,x=M,N=L;break}if(ce===N){te=!0,N=M,x=L;break}ce=ce.sibling}if(!te){for(ce=L.child;ce;){if(ce===x){te=!0,x=L,N=M;break}if(ce===N){te=!0,N=L,x=M;break}ce=ce.sibling}if(!te)throw Error(i(189))}}if(x.alternate!==N)throw Error(i(190))}if(x.tag!==3)throw Error(i(188));return x.stateNode.current===x?u:f}function v(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=v(u),f!==null)return f;u=u.sibling}return null}var k=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Z(u){return u===null||typeof u!="object"?null:(u=K&&u[K]||u["@@iterator"],typeof u=="function"?u:null)}var ee=Symbol.for("react.client.reference");function be(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===ee?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case T:return"Fragment";case P:return"Profiler";case R:return"StrictMode";case ne:return"Suspense";case se:return"SuspenseList";case Y:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case S:return"Portal";case F:return(u.displayName||"Context")+".Provider";case U:return(u._context.displayName||"Context")+".Consumer";case q:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Q:return f=u.displayName||null,f!==null?f:be(u.type)||"Memo";case B:f=u._payload,u=u._init;try{return be(u(f))}catch{}}return null}var xe=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},oe=[],G=-1;function ue(u){return{current:u}}function pe(u){0>G||(u.current=oe[G],oe[G]=null,G--)}function me(u,f){G++,oe[G]=u.current,u.current=f}var ye=ue(null),Se=ue(null),_e=ue(null),qe=ue(null);function Oe(u,f){switch(me(_e,f),me(Se,u),me(ye,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?no(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=no(f),u=nf(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}pe(ye),me(ye,u)}function Ye(){pe(ye),pe(Se),pe(_e)}function Be(u){u.memoizedState!==null&&me(qe,u);var f=ye.current,x=nf(f,u.type);f!==x&&(me(Se,u),me(ye,x))}function Ce(u){Se.current===u&&(pe(ye),pe(Se)),qe.current===u&&(pe(qe),lm._currentValue=le)}var ot=Object.prototype.hasOwnProperty,Je=r.unstable_scheduleCallback,nt=r.unstable_cancelCallback,Lt=r.unstable_shouldYield,Ne=r.unstable_requestPaint,at=r.unstable_now,Qt=r.unstable_getCurrentPriorityLevel,Sr=r.unstable_ImmediatePriority,nn=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,Er=r.unstable_LowPriority,Cr=r.unstable_IdlePriority,Qs=r.log,fo=r.unstable_setDisableYieldValue,Yt=null,wt=null;function Gr(u){if(typeof Qs=="function"&&fo(u),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Yt,u)}catch{}}var lt=Math.clz32?Math.clz32:er,It=Math.log,kt=Math.LN2;function er(u){return u>>>=0,u===0?32:31-(It(u)/kt|0)|0}var sn=256,ss=4194304;function ze(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Jt(u,f,x){var N=u.pendingLanes;if(N===0)return 0;var M=0,L=u.suspendedLanes,te=u.pingedLanes;u=u.warmLanes;var ce=N&134217727;return ce!==0?(N=ce&~L,N!==0?M=ze(N):(te&=ce,te!==0?M=ze(te):x||(x=ce&~u,x!==0&&(M=ze(x))))):(ce=N&~L,ce!==0?M=ze(ce):te!==0?M=ze(te):x||(x=N&~u,x!==0&&(M=ze(x)))),M===0?0:f!==0&&f!==M&&(f&L)===0&&(L=M&-M,x=f&-f,L>=x||L===32&&(x&4194048)!==0)?f:M}function Pt(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function Dt(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var u=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),u}function Ts(){var u=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),u}function Is(u){for(var f=[],x=0;31>x;x++)f.push(u);return f}function ir(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function On(u,f,x,N,M,L){var te=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var ce=u.entanglements,ge=u.expirationTimes,Ee=u.hiddenUpdates;for(x=te&~x;0<x;){var Ve=31-lt(x),He=1<<Ve;ce[Ve]=0,ge[Ve]=-1;var De=Ee[Ve];if(De!==null)for(Ee[Ve]=null,Ve=0;Ve<De.length;Ve++){var Me=De[Ve];Me!==null&&(Me.lane&=-536870913)}x&=~He}N!==0&&Wr(u,N,0),L!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=L&~(te&~f))}function Wr(u,f,x){u.pendingLanes|=f,u.suspendedLanes&=~f;var N=31-lt(f);u.entangledLanes|=f,u.entanglements[N]=u.entanglements[N]|1073741824|x&4194090}function Rs(u,f){var x=u.entangledLanes|=f;for(u=u.entanglements;x;){var N=31-lt(x),M=1<<N;M&f|u[N]&f&&(u[N]|=f),x&=~M}}function hn(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function _n(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function br(){var u=ae.p;return u!==0?u:(u=window.event,u===void 0?32:I0(u.type))}function ni(u,f){var x=ae.p;try{return ae.p=u,f()}finally{ae.p=x}}var jt=Math.random().toString(36).slice(2),yr="__reactFiber$"+jt,xr="__reactProps$"+jt,on="__reactContainer$"+jt,si="__reactEvents$"+jt,ia="__reactListeners$"+jt,os="__reactHandles$"+jt,Ps="__reactResources$"+jt,Xs="__reactMarker$"+jt;function ol(u){delete u[yr],delete u[xr],delete u[si],delete u[ia],delete u[os]}function aa(u){var f=u[yr];if(f)return f;for(var x=u.parentNode;x;){if(f=x[on]||x[yr]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(u=jo(u);u!==null;){if(x=u[yr])return x;u=jo(u)}return f}u=x,x=u.parentNode}return null}function Ti(u){if(u=u[yr]||u[on]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function Ii(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(i(33))}function mn(u){var f=u[Ps];return f||(f=u[Ps]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function $r(u){u[Xs]=!0}var xd=new Set,vd={};function oi(u,f){Os(u,f),Os(u+"Capture",f)}function Os(u,f){for(vd[u]=f,u=0;u<f.length;u++)xd.add(f[u])}var ep=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tp={},ic={};function rp(u){return ot.call(ic,u)?!0:ot.call(tp,u)?!1:ep.test(u)?ic[u]=!0:(tp[u]=!0,!1)}function il(u,f,x){if(rp(f))if(x===null)u.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var N=f.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+x)}}function Ri(u,f,x){if(x===null)u.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+x)}}function is(u,f,x,N){if(N===null)u.removeAttribute(x);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(f,x,""+N)}}var ac,Pi;function go(u){if(ac===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);ac=f&&f[1]||"",Pi=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ac+u+Pi}var Oi=!1;function wd(u,f){if(!u||Oi)return"";Oi=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(f){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Me){var De=Me}Reflect.construct(u,[],He)}else{try{He.call()}catch(Me){De=Me}u.call(He.prototype)}}else{try{throw Error()}catch(Me){De=Me}(He=u())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Me){if(Me&&De&&typeof Me.stack=="string")return[Me.stack,De.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=N.DetermineComponentFrameRoot(),te=L[0],ce=L[1];if(te&&ce){var ge=te.split(`
`),Ee=ce.split(`
`);for(M=N=0;N<ge.length&&!ge[N].includes("DetermineComponentFrameRoot");)N++;for(;M<Ee.length&&!Ee[M].includes("DetermineComponentFrameRoot");)M++;if(N===ge.length||M===Ee.length)for(N=ge.length-1,M=Ee.length-1;1<=N&&0<=M&&ge[N]!==Ee[M];)M--;for(;1<=N&&0<=M;N--,M--)if(ge[N]!==Ee[M]){if(N!==1||M!==1)do if(N--,M--,0>M||ge[N]!==Ee[M]){var Ve=`
`+ge[N].replace(" at new "," at ");return u.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",u.displayName)),Ve}while(1<=N&&0<=M);break}}}finally{Oi=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?go(x):""}function rh(u){switch(u.tag){case 26:case 27:case 5:return go(u.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 15:return wd(u.type,!1);case 11:return wd(u.type.render,!1);case 1:return wd(u.type,!0);case 31:return go("Activity");default:return""}}function kd(u){try{var f="";do f+=rh(u),u=u.return;while(u);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Bs(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function nh(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function yg(u){var f=nh(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),N=""+u[f];if(!u.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var M=x.get,L=x.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return M.call(this)},set:function(te){N=""+te,L.call(this,te)}}),Object.defineProperty(u,f,{enumerable:x.enumerable}),{getValue:function(){return N},setValue:function(te){N=""+te},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Cd(u){u._valueTracker||(u._valueTracker=yg(u))}function Bi(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var x=f.getValue(),N="";return u&&(N=nh(u)?u.checked?"true":"false":u.value),u=N,u!==x?(f.setValue(u),!0):!1}function al(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var xg=/[\n"\\]/g;function An(u){return u.replace(xg,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function xs(u,f,x,N,M,L,te,ce){u.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?u.type=te:u.removeAttribute("type"),f!=null?te==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+Bs(f)):u.value!==""+Bs(f)&&(u.value=""+Bs(f)):te!=="submit"&&te!=="reset"||u.removeAttribute("value"),f!=null?ll(u,te,Bs(f)):x!=null?ll(u,te,Bs(x)):N!=null&&u.removeAttribute("value"),M==null&&L!=null&&(u.defaultChecked=!!L),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?u.name=""+Bs(ce):u.removeAttribute("name")}function lc(u,f,x,N,M,L,te,ce){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(u.type=L),f!=null||x!=null){if(!(L!=="submit"&&L!=="reset"||f!=null))return;x=x!=null?""+Bs(x):"",f=f!=null?""+Bs(f):x,ce||f===u.value||(u.value=f),u.defaultValue=f}N=N??M,N=typeof N!="function"&&typeof N!="symbol"&&!!N,u.checked=ce?u.checked:!!N,u.defaultChecked=!!N,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(u.name=te)}function ll(u,f,x){f==="number"&&al(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function la(u,f,x,N){if(u=u.options,f){f={};for(var M=0;M<x.length;M++)f["$"+x[M]]=!0;for(x=0;x<u.length;x++)M=f.hasOwnProperty("$"+u[x].value),u[x].selected!==M&&(u[x].selected=M),M&&N&&(u[x].defaultSelected=!0)}else{for(x=""+Bs(x),f=null,M=0;M<u.length;M++){if(u[M].value===x){u[M].selected=!0,N&&(u[M].defaultSelected=!0);return}f!==null||u[M].disabled||(f=u[M])}f!==null&&(f.selected=!0)}}function Rr(u,f,x){if(f!=null&&(f=""+Bs(f),f!==u.value&&(u.value=f),x==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=x!=null?""+Bs(x):""}function Mo(u,f,x,N){if(f==null){if(N!=null){if(x!=null)throw Error(i(92));if(xe(N)){if(1<N.length)throw Error(i(93));N=N[0]}x=N}x==null&&(x=""),f=x}x=Bs(f),u.defaultValue=x,N=u.textContent,N===x&&N!==""&&N!==null&&(u.value=N)}function Ls(u,f){if(f){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=f;return}}u.textContent=f}var cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ca(u,f,x){var N=f.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?N?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":N?u.setProperty(f,x):typeof x!="number"||x===0||cc.has(f)?f==="float"?u.cssFloat=x:u[f]=(""+x).trim():u[f]=x+"px"}function da(u,f,x){if(f!=null&&typeof f!="object")throw Error(i(62));if(u=u.style,x!=null){for(var N in x)!x.hasOwnProperty(N)||f!=null&&f.hasOwnProperty(N)||(N.indexOf("--")===0?u.setProperty(N,""):N==="float"?u.cssFloat="":u[N]="");for(var M in f)N=f[M],f.hasOwnProperty(M)&&x[M]!==N&&ca(u,M,N)}else for(var L in f)f.hasOwnProperty(L)&&ca(u,L,f[L])}function sh(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ad(u){return oh.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var ii=null;function as(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var ua=null,Li=null;function Nd(u){var f=Ti(u);if(f&&(u=f.stateNode)){var x=u[xr]||null;e:switch(u=f.stateNode,f.type){case"input":if(xs(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),f=x.name,x.type==="radio"&&f!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+An(""+f)+'"][type="radio"]'),f=0;f<x.length;f++){var N=x[f];if(N!==u&&N.form===u.form){var M=N[xr]||null;if(!M)throw Error(i(90));xs(N,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<x.length;f++)N=x[f],N.form===u.form&&Bi(N)}break e;case"textarea":Rr(u,x.value,x.defaultValue);break e;case"select":f=x.value,f!=null&&la(u,!!x.multiple,f,!1)}}}var zi=!1;function np(u,f,x){if(zi)return u(f,x);zi=!0;try{var N=u(f);return N}finally{if(zi=!1,(ua!==null||Li!==null)&&(iu(),ua&&(f=ua,u=Li,Li=ua=null,Nd(f),u)))for(f=0;f<u.length;f++)Nd(u[f])}}function ha(u,f){var x=u.stateNode;if(x===null)return null;var N=x[xr]||null;if(N===null)return null;x=N[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(i(231,f,typeof x));return x}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(ai)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){bo=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{bo=!1}var li=null,To=null,ma=null;function dc(){if(ma)return ma;var u,f=To,x=f.length,N,M="value"in li?li.value:li.textContent,L=M.length;for(u=0;u<x&&f[u]===M[u];u++);var te=x-u;for(N=1;N<=te&&f[x-N]===M[L-N];N++);return ma=M.slice(u,1<N?1-N:void 0)}function ci(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function ar(){return!0}function ih(){return!1}function Nn(u){function f(x,N,M,L,te){this._reactName=x,this._targetInst=M,this.type=N,this.nativeEvent=L,this.target=te,this.currentTarget=null;for(var ce in u)u.hasOwnProperty(ce)&&(x=u[ce],this[ce]=x?x(L):L[ce]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ar:ih,this.isPropagationStopped=ih,this}return k(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),f}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Nn(vr),pa=k({},vr,{view:0,detail:0}),fa=Nn(pa),uc,dl,Vi,ul=k({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Vi&&(Vi&&u.type==="mousemove"?(uc=u.screenX-Vi.screenX,dl=u.screenY-Vi.screenY):dl=uc=0,Vi=u),uc)},movementY:function(u){return"movementY"in u?u.movementY:dl}}),Io=Nn(ul),jd=k({},ul,{dataTransfer:0}),vg=Nn(jd),hc=k({},pa,{relatedTarget:0}),Sd=Nn(hc),hl=k({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),ml=Nn(hl),sp=k({},vr,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ed=Nn(sp),wg=k({},vr,{data:0}),ah=Nn(wg),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dd(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=lh[u])?!!f[u]:!1}function pl(){return Dd}var ch=k({},pa,{key:function(u){if(u.key){var f=Ro[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=ci(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?op[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(u){return u.type==="keypress"?ci(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ci(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),mc=Nn(ch),dh=k({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=Nn(dh),Ui=k({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),ip=Nn(Ui),hh=k({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Md=Nn(hh),ap=k({},ul,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),pc=Nn(ap),vs=k({},vr,{newState:0,oldState:0}),lp=Nn(vs),mh=[9,13,27,32],Po=ai&&"CompositionEvent"in window,E=null;ai&&"documentMode"in document&&(E=document.documentMode);var H=ai&&"TextEvent"in window&&!E,$=ai&&(!Po||E&&8<E&&11>=E),he=" ",Ae=!1;function Ie(u,f){switch(u){case"keyup":return mh.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var rr=!1;function jn(u,f){switch(u){case"compositionend":return et(f);case"keypress":return f.which!==32?null:(Ae=!0,he);case"textInput":return u=f.data,u===he&&Ae?null:u;default:return null}}function nr(u,f){if(rr)return u==="compositionend"||!Po&&Ie(u,f)?(u=dc(),ma=To=li=null,rr=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return $&&f.locale!=="ko"?null:f.data;default:return null}}var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Yn[u.type]:f==="textarea"}function ga(u,f,x,N){ua?Li?Li.push(N):Li=[N]:ua=N,f=Xh(f,"onChange"),0<f.length&&(x=new Fi("onChange","change",null,x,N),u.push({event:x,listeners:f}))}var ls=null,Gi=null;function di(u){u0(u,0)}function fl(u){var f=Ii(u);if(Bi(f))return u}function Kx(u,f){if(u==="change")return f}var Qx=!1;if(ai){var Td;if(ai){var ph="oninput"in document;if(!ph){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),ph=typeof Jx.oninput=="function"}Td=ph}else Td=!1;Qx=Td&&(!document.documentMode||9<document.documentMode)}function Xx(){ls&&(ls.detachEvent("onpropertychange",$x),Gi=ls=null)}function $x(u){if(u.propertyName==="value"&&fl(Gi)){var f=[];ga(f,Gi,u,as(u)),np(di,f)}}function Zx(u,f,x){u==="focusin"?(Xx(),ls=f,Gi=x,ls.attachEvent("onpropertychange",$x)):u==="focusout"&&Xx()}function ev(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return fl(Gi)}function R1(u,f){if(u==="click")return fl(f)}function tv(u,f){if(u==="input"||u==="change")return fl(f)}function P1(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var $s=typeof Object.is=="function"?Object.is:P1;function fh(u,f){if($s(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var x=Object.keys(u),N=Object.keys(f);if(x.length!==N.length)return!1;for(N=0;N<x.length;N++){var M=x[N];if(!ot.call(f,M)||!$s(u[M],f[M]))return!1}return!0}function kg(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function rv(u,f){var x=kg(u);u=0;for(var N;x;){if(x.nodeType===3){if(N=u+x.textContent.length,u<=f&&N>=f)return{node:x,offset:f-u};u=N}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=kg(x)}}function Cg(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?Cg(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function nv(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=al(u.document);f instanceof u.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)u=f.contentWindow;else break;f=al(u.document)}return f}function _g(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var sv=ai&&"documentMode"in document&&11>=document.documentMode,Id=null,cp=null,Rd=null,dp=!1;function zr(u,f,x){var N=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;dp||Id==null||Id!==al(N)||(N=Id,"selectionStart"in N&&_g(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Rd&&fh(Rd,N)||(Rd=N,N=Xh(cp,"onSelect"),0<N.length&&(f=new Fi("onSelect","select",null,f,x),u.push({event:f,listeners:N}),f.target=Id)))}function ba(u,f){var x={};return x[u.toLowerCase()]=f.toLowerCase(),x["Webkit"+u]="webkit"+f,x["Moz"+u]="moz"+f,x}var gl={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},ya={},Ag={};ai&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function bl(u){if(ya[u])return ya[u];if(!gl[u])return u;var f=gl[u],x;for(x in f)if(f.hasOwnProperty(x)&&x in Ag)return ya[u]=f[x];return u}var ov=bl("animationend"),xa=bl("animationiteration"),gh=bl("animationstart"),iv=bl("transitionrun"),yl=bl("transitionstart"),O1=bl("transitioncancel"),Ng=bl("transitionend"),up=new Map,Mt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mt.push("scrollEnd");function yo(u,f){up.set(u,f),oi(f,[u])}var bh=new WeakMap;function xo(u,f){if(typeof u=="object"&&u!==null){var x=bh.get(u);return x!==void 0?x:(f={value:u,source:f,stack:kd(f)},bh.set(u,f),f)}return{value:u,source:f,stack:kd(f)}}var wr=[],fc=0,_r=0;function gc(){for(var u=fc,f=_r=fc=0;f<u;){var x=wr[f];wr[f++]=null;var N=wr[f];wr[f++]=null;var M=wr[f];wr[f++]=null;var L=wr[f];if(wr[f++]=null,N!==null&&M!==null){var te=N.pending;te===null?M.next=M:(M.next=te.next,te.next=M),N.pending=M}L!==0&&an(x,M,L)}}function yh(u,f,x,N){wr[fc++]=u,wr[fc++]=f,wr[fc++]=x,wr[fc++]=N,_r|=N,u.lanes|=N,u=u.alternate,u!==null&&(u.lanes|=N)}function hp(u,f,x,N){return yh(u,f,x,N),yc(u)}function bc(u,f){return yh(u,null,null,f),yc(u)}function an(u,f,x){u.lanes|=x;var N=u.alternate;N!==null&&(N.lanes|=x);for(var M=!1,L=u.return;L!==null;)L.childLanes|=x,N=L.alternate,N!==null&&(N.childLanes|=x),L.tag===22&&(u=L.stateNode,u===null||u._visibility&1||(M=!0)),u=L,L=L.return;return u.tag===3?(L=u.stateNode,M&&f!==null&&(M=31-lt(x),u=L.hiddenUpdates,N=u[M],N===null?u[M]=[f]:N.push(f),f.lane=x|536870912),L):null}function yc(u){if(50<Oc)throw Oc=0,Qp=null,Error(i(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var Pd={};function jg(u,f,x,N){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(u,f,x,N){return new jg(u,f,x,N)}function mp(u){return u=u.prototype,!(!u||!u.isReactComponent)}function vo(u,f){var x=u.alternate;return x===null?(x=ws(u.tag,f,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=f,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&65011712,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,f=u.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function xl(u,f){u.flags&=65011714;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,f=x.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function xh(u,f,x,N,M,L){var te=0;if(N=u,typeof u=="function")mp(u)&&(te=1);else if(typeof u=="string")te=lC(u,x,ye.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case Y:return u=ws(31,x,f,M),u.elementType=Y,u.lanes=L,u;case T:return vl(x.children,M,L,f);case R:te=8,M|=24;break;case P:return u=ws(12,x,f,M|2),u.elementType=P,u.lanes=L,u;case ne:return u=ws(13,x,f,M),u.elementType=ne,u.lanes=L,u;case se:return u=ws(19,x,f,M),u.elementType=se,u.lanes=L,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case V:case F:te=10;break e;case U:te=9;break e;case q:te=11;break e;case Q:te=14;break e;case B:te=16,N=null;break e}te=29,x=Error(i(130,u===null?"null":typeof u,"")),N=null}return f=ws(te,x,f,M),f.elementType=u,f.type=N,f.lanes=L,f}function vl(u,f,x,N){return u=ws(7,u,N,f),u.lanes=x,u}function pp(u,f,x){return u=ws(6,u,null,f),u.lanes=x,u}function vh(u,f,x){return f=ws(4,u.children!==null?u.children:[],u.key,f),f.lanes=x,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var xc=[],Od=0,fp=null,wh=0,wo=[],ko=0,wl=null,ui=1,va="";function kl(u,f){xc[Od++]=wh,xc[Od++]=fp,fp=u,wh=f}function av(u,f,x){wo[ko++]=ui,wo[ko++]=va,wo[ko++]=wl,wl=u;var N=ui;u=va;var M=32-lt(N)-1;N&=~(1<<M),x+=1;var L=32-lt(f)+M;if(30<L){var te=M-M%5;L=(N&(1<<te)-1).toString(32),N>>=te,M-=te,ui=1<<32-lt(f)+M|x<<M|N,va=L+u}else ui=1<<L|x<<M|N,va=u}function Sg(u){u.return!==null&&(kl(u,1),av(u,1,0))}function tr(u){for(;u===fp;)fp=xc[--Od],xc[Od]=null,wh=xc[--Od],xc[Od]=null;for(;u===wl;)wl=wo[--ko],wo[ko]=null,va=wo[--ko],wo[ko]=null,ui=wo[--ko],wo[ko]=null}var zs=null,Fr=null,lr=!1,Cl=null,Oo=!1,Sn=Error(i(519));function vc(u){var f=Error(i(418,""));throw ks(xo(f,u)),Sn}function lv(u){var f=u.stateNode,x=u.type,N=u.memoizedProps;switch(f[yr]=u,f[xr]=N,x){case"dialog":$t("cancel",f),$t("close",f);break;case"iframe":case"object":case"embed":$t("load",f);break;case"video":case"audio":for(x=0;x<Qh.length;x++)$t(Qh[x],f);break;case"source":$t("error",f);break;case"img":case"image":case"link":$t("error",f),$t("load",f);break;case"details":$t("toggle",f);break;case"input":$t("invalid",f),lc(f,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0),Cd(f);break;case"select":$t("invalid",f);break;case"textarea":$t("invalid",f),Mo(f,N.value,N.defaultValue,N.children),Cd(f)}x=N.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||f.textContent===""+x||N.suppressHydrationWarning===!0||f0(f.textContent,x)?(N.popover!=null&&($t("beforetoggle",f),$t("toggle",f)),N.onScroll!=null&&$t("scroll",f),N.onScrollEnd!=null&&$t("scrollend",f),N.onClick!=null&&(f.onclick=$h),f=!0):f=!1,f||vc(u)}function Eg(u){for(zs=u.return;zs;)switch(zs.tag){case 5:case 13:Oo=!1;return;case 27:case 3:Oo=!0;return;default:zs=zs.return}}function kh(u){if(u!==zs)return!1;if(!lr)return Eg(u),lr=!0,!1;var f=u.tag,x;if((x=f!==3&&f!==27)&&((x=f===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||sf(u.type,u.memoizedProps)),x=!x),x&&Fr&&vc(u),Eg(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(x=u.data,x==="/$"){if(f===0){Fr=Fn(u.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++;u=u.nextSibling}Fr=null}}else f===27?(f=Fr,sr(u.type)?(u=Ho,Ho=null,Fr=u):Fr=f):Fr=zs?Fn(u.stateNode.nextSibling):null;return!0}function Fs(){Fr=zs=null,lr=!1}function pn(){var u=Cl;return u!==null&&(Us===null?Us=u:Us.push.apply(Us,u),Cl=null),u}function ks(u){Cl===null?Cl=[u]:Cl.push(u)}var Bo=ue(null),Cs=null,hi=null;function Hi(u,f,x){me(Bo,f._currentValue),f._currentValue=x}function mi(u){u._currentValue=Bo.current,pe(Bo)}function Dg(u,f,x){for(;u!==null;){var N=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,N!==null&&(N.childLanes|=f)):N!==null&&(N.childLanes&f)!==f&&(N.childLanes|=f),u===x)break;u=u.return}}function gp(u,f,x,N){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var L=M.dependencies;if(L!==null){var te=M.child;L=L.firstContext;e:for(;L!==null;){var ce=L;L=M;for(var ge=0;ge<f.length;ge++)if(ce.context===f[ge]){L.lanes|=x,ce=L.alternate,ce!==null&&(ce.lanes|=x),Dg(L.return,x,u),N||(te=null);break e}L=ce.next}}else if(M.tag===18){if(te=M.return,te===null)throw Error(i(341));te.lanes|=x,L=te.alternate,L!==null&&(L.lanes|=x),Dg(te,x,u),te=null}else te=M.child;if(te!==null)te.return=M;else for(te=M;te!==null;){if(te===u){te=null;break}if(M=te.sibling,M!==null){M.return=te.return,te=M;break}te=te.return}M=te}}function Lo(u,f,x,N){u=null;for(var M=f,L=!1;M!==null;){if(!L){if((M.flags&524288)!==0)L=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var te=M.alternate;if(te===null)throw Error(i(387));if(te=te.memoizedProps,te!==null){var ce=M.type;$s(M.pendingProps.value,te.value)||(u!==null?u.push(ce):u=[ce])}}else if(M===qe.current){if(te=M.alternate,te===null)throw Error(i(387));te.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(lm):u=[lm])}M=M.return}u!==null&&gp(f,u,x,N),f.flags|=262144}function bp(u){for(u=u.firstContext;u!==null;){if(!$s(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function it(u){Cs=u,hi=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function cs(u){return Wt(Cs,u)}function yp(u,f){return Cs===null&&it(u),Wt(u,f)}function Wt(u,f){var x=f._currentValue;if(f={context:f,memoizedValue:x,next:null},hi===null){if(u===null)throw Error(i(308));hi=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else hi=hi.next=f;return x}var pi=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(x,N){u.push(N)}};this.abort=function(){f.aborted=!0,u.forEach(function(x){return x()})}},Ch=r.unstable_scheduleCallback,B1=r.unstable_NormalPriority,En={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new pi,data:new Map,refCount:0}}function Ld(u){u.refCount--,u.refCount===0&&Ch(B1,function(){u.controller.abort()})}var _h=null,Mg=0,zd=0,wc=null;function cv(u,f){if(_h===null){var x=_h=[];Mg=0,zd=Gb(),wc={status:"pending",value:void 0,then:function(N){x.push(N)}}}return Mg++,f.then(Tg,Tg),f}function Tg(){if(--Mg===0&&_h!==null){wc!==null&&(wc.status="fulfilled");var u=_h;_h=null,zd=0,wc=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function dv(u,f){var x=[],N={status:"pending",value:null,reason:null,then:function(M){x.push(M)}};return u.then(function(){N.status="fulfilled",N.value=f;for(var M=0;M<x.length;M++)(0,x[M])(f)},function(M){for(N.status="rejected",N.reason=M,M=0;M<x.length;M++)(0,x[M])(void 0)}),N}var Ig=ie.S;ie.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&cv(u,f),Ig!==null&&Ig(u,f)};var _l=ue(null);function Al(){var u=_l.current;return u!==null?u:Hr.pooledCache}function kc(u,f){f===null?me(_l,_l.current):me(_l,f.pool)}function xp(){var u=Al();return u===null?null:{parent:En._currentValue,pool:u}}var Cc=Error(i(460)),Rg=Error(i(474)),Ah=Error(i(542)),Pg={then:function(){}};function Og(u){return u=u.status,u==="fulfilled"||u==="rejected"}function vp(){}function Bg(u,f,x){switch(x=u[x],x===void 0?u.push(f):x!==f&&(f.then(vp,vp),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,uv(u),u;default:if(typeof f.status=="string")f.then(vp,vp);else{if(u=Hr,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=f,u.status="pending",u.then(function(N){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=N}},function(N){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=N}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,uv(u),u}throw qi=f,Cc}}var qi=null;function Lg(){if(qi===null)throw Error(i(459));var u=qi;return qi=null,u}function uv(u){if(u===Cc||u===Ah)throw Error(i(483))}var hr=!1;function wp(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zg(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function fi(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function wa(u,f,x){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(Mr&2)!==0){var M=N.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),N.pending=f,f=yc(u),an(u,null,x),f}return yh(u,N,f,x),yc(u)}function Nh(u,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194048)!==0)){var N=f.lanes;N&=u.pendingLanes,x|=N,f.lanes=x,Rs(u,x)}}function kp(u,f){var x=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,x===N)){var M=null,L=null;if(x=x.firstBaseUpdate,x!==null){do{var te={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};L===null?M=L=te:L=L.next=te,x=x.next}while(x!==null);L===null?M=L=f:L=L.next=f}else M=L=f;x={baseState:N.baseState,firstBaseUpdate:M,lastBaseUpdate:L,shared:N.shared,callbacks:N.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=f}var Fg=!1;function Fd(){if(Fg){var u=wc;if(u!==null)throw u}}function Vd(u,f,x,N){Fg=!1;var M=u.updateQueue;hr=!1;var L=M.firstBaseUpdate,te=M.lastBaseUpdate,ce=M.shared.pending;if(ce!==null){M.shared.pending=null;var ge=ce,Ee=ge.next;ge.next=null,te===null?L=Ee:te.next=Ee,te=ge;var Ve=u.alternate;Ve!==null&&(Ve=Ve.updateQueue,ce=Ve.lastBaseUpdate,ce!==te&&(ce===null?Ve.firstBaseUpdate=Ee:ce.next=Ee,Ve.lastBaseUpdate=ge))}if(L!==null){var He=M.baseState;te=0,Ve=Ee=ge=null,ce=L;do{var De=ce.lane&-536870913,Me=De!==ce.lane;if(Me?(Ft&De)===De:(N&De)===De){De!==0&&De===zd&&(Fg=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Ct=u,yt=ce;De=f;var Ir=x;switch(yt.tag){case 1:if(Ct=yt.payload,typeof Ct=="function"){He=Ct.call(Ir,He,De);break e}He=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=yt.payload,De=typeof Ct=="function"?Ct.call(Ir,He,De):Ct,De==null)break e;He=k({},He,De);break e;case 2:hr=!0}}De=ce.callback,De!==null&&(u.flags|=64,Me&&(u.flags|=8192),Me=M.callbacks,Me===null?M.callbacks=[De]:Me.push(De))}else Me={lane:De,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Ve===null?(Ee=Ve=Me,ge=He):Ve=Ve.next=Me,te|=De;if(ce=ce.next,ce===null){if(ce=M.shared.pending,ce===null)break;Me=ce,ce=Me.next,Me.next=null,M.lastBaseUpdate=Me,M.shared.pending=null}}while(!0);Ve===null&&(ge=He),M.baseState=ge,M.firstBaseUpdate=Ee,M.lastBaseUpdate=Ve,L===null&&(M.shared.lanes=0),us|=te,u.lanes=te,u.memoizedState=He}}function hv(u,f){if(typeof u!="function")throw Error(i(191,u));u.call(f)}function Cp(u,f){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)hv(x[u],f)}var _c=ue(null),_p=ue(0);function mv(u,f){u=zn,me(_p,u),me(_c,f),zn=u|f.baseLanes}function Vg(){me(_p,zn),me(_c,_c.current)}function Ug(){zn=_p.current,pe(_c),pe(_p)}var ka=0,Gt=null,Ar=null,ln=null,jh=!1,Ud=!1,zo=!1,Gd=0,Hd=0,qd=null,pv=0;function Ge(){throw Error(i(321))}function Ap(u,f){if(f===null)return!1;for(var x=0;x<f.length&&x<u.length;x++)if(!$s(u[x],f[x]))return!1;return!0}function Vt(u,f,x,N,M,L){return ka=L,Gt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ie.H=u===null||u.memoizedState===null?Mv:Tv,zo=!1,L=x(N,M),zo=!1,Ud&&(L=Hg(f,x,N,M)),Gg(u),L}function Gg(u){ie.H=Rp;var f=Ar!==null&&Ar.next!==null;if(ka=0,ln=Ar=Gt=null,jh=!1,Hd=0,qd=null,f)throw Error(i(300));u===null||Qr||(u=u.dependencies,u!==null&&bp(u)&&(Qr=!0))}function Hg(u,f,x,N){Gt=u;var M=0;do{if(Ud&&(qd=null),Hd=0,Ud=!1,25<=M)throw Error(i(301));if(M+=1,ln=Ar=null,u.updateQueue!=null){var L=u.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}ie.H=H1,L=f(x,N)}while(Ud);return L}function fv(){var u=ie.H,f=u.useState()[0];return f=typeof f.then=="function"?Kd(f):f,u=u.useState()[0],(Ar!==null?Ar.memoizedState:null)!==u&&(Gt.flags|=1024),f}function Np(){var u=Gd!==0;return Gd=0,u}function Yd(u,f,x){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~x}function qg(u){if(jh){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}jh=!1}ka=0,ln=Ar=Gt=null,Ud=!1,Hd=Gd=0,qd=null}function Vs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Gt.memoizedState=ln=u:ln=ln.next=u,ln}function Dn(){if(Ar===null){var u=Gt.alternate;u=u!==null?u.memoizedState:null}else u=Ar.next;var f=ln===null?Gt.memoizedState:ln.next;if(f!==null)ln=f,Ar=u;else{if(u===null)throw Gt.alternate===null?Error(i(467)):Error(i(310));Ar=u,u={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},ln===null?Gt.memoizedState=ln=u:ln=ln.next=u}return ln}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kd(u){var f=Hd;return Hd+=1,qd===null&&(qd=[]),u=Bg(qd,u,f),f=Gt,(ln===null?f.memoizedState:ln.next)===null&&(f=f.alternate,ie.H=f===null||f.memoizedState===null?Mv:Tv),u}function Sh(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Kd(u);if(u.$$typeof===F)return cs(u)}throw Error(i(438,String(u)))}function Yg(u){var f=null,x=Gt.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var N=Gt.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(f={data:N.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=Wd(),Gt.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(u),N=0;N<u;N++)x[N]=J;return f.index++,x}function gi(u,f){return typeof f=="function"?f(u):f}function Eh(u){var f=Dn();return Wg(f,Ar,u)}function Wg(u,f,x){var N=u.queue;if(N===null)throw Error(i(311));N.lastRenderedReducer=x;var M=u.baseQueue,L=N.pending;if(L!==null){if(M!==null){var te=M.next;M.next=L.next,L.next=te}f.baseQueue=M=L,N.pending=null}if(L=u.baseState,M===null)u.memoizedState=L;else{f=M.next;var ce=te=null,ge=null,Ee=f,Ve=!1;do{var He=Ee.lane&-536870913;if(He!==Ee.lane?(Ft&He)===He:(ka&He)===He){var De=Ee.revertLane;if(De===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),He===zd&&(Ve=!0);else if((ka&De)===De){Ee=Ee.next,De===zd&&(Ve=!0);continue}else He={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ge===null?(ce=ge=He,te=L):ge=ge.next=He,Gt.lanes|=De,us|=De;He=Ee.action,zo&&x(L,He),L=Ee.hasEagerState?Ee.eagerState:x(L,He)}else De={lane:He,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ge===null?(ce=ge=De,te=L):ge=ge.next=De,Gt.lanes|=He,us|=He;Ee=Ee.next}while(Ee!==null&&Ee!==f);if(ge===null?te=L:ge.next=ce,!$s(L,u.memoizedState)&&(Qr=!0,Ve&&(x=wc,x!==null)))throw x;u.memoizedState=L,u.baseState=te,u.baseQueue=ge,N.lastRenderedState=L}return M===null&&(N.lanes=0),[u.memoizedState,N.dispatch]}function Ca(u){var f=Dn(),x=f.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=u;var N=x.dispatch,M=x.pending,L=f.memoizedState;if(M!==null){x.pending=null;var te=M=M.next;do L=u(L,te.action),te=te.next;while(te!==M);$s(L,f.memoizedState)||(Qr=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),x.lastRenderedState=L}return[L,N]}function Kg(u,f,x){var N=Gt,M=Dn(),L=lr;if(L){if(x===void 0)throw Error(i(407));x=x()}else x=f();var te=!$s((Ar||M).memoizedState,x);te&&(M.memoizedState=x,Qr=!0),M=M.queue;var ce=bi.bind(null,N,M,u);if(Th(2048,8,ce,[u]),M.getSnapshot!==f||te||ln!==null&&ln.memoizedState.tag&1){if(N.flags|=2048,Ac(9,Sp(),Dr.bind(null,N,M,x,f),null),Hr===null)throw Error(i(349));L||(ka&124)!==0||Nl(N,f,x)}return x}function Nl(u,f,x){u.flags|=16384,u={getSnapshot:f,value:x},f=Gt.updateQueue,f===null?(f=Wd(),Gt.updateQueue=f,f.stores=[u]):(x=f.stores,x===null?f.stores=[u]:x.push(u))}function Dr(u,f,x,N){f.value=x,f.getSnapshot=N,Fo(f)&&Qg(u)}function bi(u,f,x){return x(function(){Fo(f)&&Qg(u)})}function Fo(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!$s(u,x)}catch{return!0}}function Qg(u){var f=bc(u,2);f!==null&&to(f,u,2)}function Dh(u){var f=Vs();if(typeof u=="function"){var x=u;if(u=x(),zo){Gr(!0);try{x()}finally{Gr(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:u},f}function Mh(u,f,x,N){return u.baseState=x,Wg(u,Ar,typeof N=="function"?N:gi)}function L1(u,f,x,N,M){if(Ip(u))throw Error(i(485));if(u=f.action,u!==null){var L={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){L.listeners.push(te)}};ie.T!==null?x(!0):L.isTransition=!1,N(L),x=f.pending,x===null?(L.next=f.pending=L,gv(f,L)):(L.next=x.next,f.pending=x.next=L)}}function gv(u,f){var x=f.action,N=f.payload,M=u.state;if(f.isTransition){var L=ie.T,te={};ie.T=te;try{var ce=x(M,N),ge=ie.S;ge!==null&&ge(te,ce),bv(u,f,ce)}catch(Ee){Jg(u,f,Ee)}finally{ie.T=L}}else try{L=x(M,N),bv(u,f,L)}catch(Ee){Jg(u,f,Ee)}}function bv(u,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(N){jp(u,f,N)},function(N){return Jg(u,f,N)}):jp(u,f,x)}function jp(u,f,x){f.status="fulfilled",f.value=x,yv(f),u.state=x,f=u.pending,f!==null&&(x=f.next,x===f?u.pending=null:(x=x.next,f.next=x,gv(u,x)))}function Jg(u,f,x){var N=u.pending;if(u.pending=null,N!==null){N=N.next;do f.status="rejected",f.reason=x,yv(f),f=f.next;while(f!==N)}u.action=null}function yv(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function xv(u,f){return f}function vv(u,f){if(lr){var x=Hr.formState;if(x!==null){e:{var N=Gt;if(lr){if(Fr){t:{for(var M=Fr,L=Oo;M.nodeType!==8;){if(!L){M=null;break t}if(M=Fn(M.nextSibling),M===null){M=null;break t}}L=M.data,M=L==="F!"||L==="F"?M:null}if(M){Fr=Fn(M.nextSibling),N=M.data==="F!";break e}}vc(N)}N=!1}N&&(f=x[0])}}return x=Vs(),x.memoizedState=x.baseState=f,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:f},x.queue=N,x=G1.bind(null,Gt,N),N.dispatch=x,N=Dh(!1),L=nb.bind(null,Gt,!1,N.queue),N=Vs(),M={state:f,dispatch:null,action:u,pending:null},N.queue=M,x=L1.bind(null,Gt,M,L,x),M.dispatch=x,N.memoizedState=u,[f,x,!1]}function wv(u){var f=Dn();return kv(f,Ar,u)}function kv(u,f,x){if(f=Wg(u,f,xv)[0],u=Eh(gi)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var N=Kd(f)}catch(te){throw te===Cc?Ah:te}else N=f;f=Dn();var M=f.queue,L=M.dispatch;return x!==f.memoizedState&&(Gt.flags|=2048,Ac(9,Sp(),z1.bind(null,M,x),null)),[N,L,u]}function z1(u,f){u.action=f}function Xg(u){var f=Dn(),x=Ar;if(x!==null)return kv(f,x,u);Dn(),f=f.memoizedState,x=Dn();var N=x.queue.dispatch;return x.memoizedState=u,[f,N,!1]}function Ac(u,f,x,N){return u={tag:u,create:x,deps:N,inst:f,next:null},f=Gt.updateQueue,f===null&&(f=Wd(),Gt.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=u.next=u:(N=x.next,x.next=u,u.next=N,f.lastEffect=u),u}function Sp(){return{destroy:void 0,resource:void 0}}function Ep(){return Dn().memoizedState}function Qd(u,f,x,N){var M=Vs();N=N===void 0?null:N,Gt.flags|=u,M.memoizedState=Ac(1|f,Sp(),x,N)}function Th(u,f,x,N){var M=Dn();N=N===void 0?null:N;var L=M.memoizedState.inst;Ar!==null&&N!==null&&Ap(N,Ar.memoizedState.deps)?M.memoizedState=Ac(f,L,x,N):(Gt.flags|=u,M.memoizedState=Ac(1|f,L,x,N))}function Dp(u,f){Qd(8390656,8,u,f)}function $g(u,f){Th(2048,8,u,f)}function Zg(u,f){return Th(4,2,u,f)}function Cv(u,f){return Th(4,4,u,f)}function _v(u,f){if(typeof f=="function"){u=u();var x=f(u);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Av(u,f,x){x=x!=null?x.concat([u]):null,Th(4,4,_v.bind(null,f,u),x)}function Jd(){}function Mp(u,f){var x=Dn();f=f===void 0?null:f;var N=x.memoizedState;return f!==null&&Ap(f,N[1])?N[0]:(x.memoizedState=[u,f],u)}function Nv(u,f){var x=Dn();f=f===void 0?null:f;var N=x.memoizedState;if(f!==null&&Ap(f,N[1]))return N[0];if(N=u(),zo){Gr(!0);try{u()}finally{Gr(!1)}}return x.memoizedState=[N,f],N}function eb(u,f,x){return x===void 0||(ka&1073741824)!==0?u.memoizedState=f:(u.memoizedState=x,u=$v(),Gt.lanes|=u,us|=u,x)}function tb(u,f,x,N){return $s(x,f)?x:_c.current!==null?(u=eb(u,x,N),$s(u,f)||(Qr=!0),u):(ka&42)===0?(Qr=!0,u.memoizedState=x):(u=$v(),Gt.lanes|=u,us|=u,f)}function jv(u,f,x,N,M){var L=ae.p;ae.p=L!==0&&8>L?L:8;var te=ie.T,ce={};ie.T=ce,nb(u,!1,f,x);try{var ge=M(),Ee=ie.S;if(Ee!==null&&Ee(ce,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ve=dv(ge,N);Ih(u,f,Ve,eo(u))}else Ih(u,f,N,eo(u))}catch(He){Ih(u,f,{then:function(){},status:"rejected",reason:He},eo())}finally{ae.p=L,ie.T=te}}function F1(){}function rb(u,f,x,N){if(u.tag!==5)throw Error(i(476));var M=jl(u).queue;jv(u,M,f,le,x===null?F1:function(){return Sv(u),x(N)})}function jl(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:le},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:x},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function Sv(u){var f=jl(u).next.queue;Ih(u,f,{},eo())}function Tp(){return cs(lm)}function Ev(){return Dn().memoizedState}function Dv(){return Dn().memoizedState}function V1(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var x=eo();u=fi(x);var N=wa(f,u,x);N!==null&&(to(N,f,x),Nh(N,f,x)),f={cache:Bd()},u.payload=f;return}f=f.return}}function U1(u,f,x){var N=eo();x={lane:N,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Ip(u)?sb(f,x):(x=hp(u,f,x,N),x!==null&&(to(x,u,N),ob(x,f,N)))}function G1(u,f,x){var N=eo();Ih(u,f,x,N)}function Ih(u,f,x,N){var M={lane:N,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Ip(u))sb(f,M);else{var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var te=f.lastRenderedState,ce=L(te,x);if(M.hasEagerState=!0,M.eagerState=ce,$s(ce,te))return yh(u,f,M,0),Hr===null&&gc(),!1}catch{}finally{}if(x=hp(u,f,M,N),x!==null)return to(x,u,N),ob(x,f,N),!0}return!1}function nb(u,f,x,N){if(N={lane:2,revertLane:Gb(),action:N,hasEagerState:!1,eagerState:null,next:null},Ip(u)){if(f)throw Error(i(479))}else f=hp(u,x,N,2),f!==null&&to(f,u,2)}function Ip(u){var f=u.alternate;return u===Gt||f!==null&&f===Gt}function sb(u,f){Ud=jh=!0;var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}function ob(u,f,x){if((x&4194048)!==0){var N=f.lanes;N&=u.pendingLanes,x|=N,f.lanes=x,Rs(u,x)}}var Rp={readContext:cs,use:Sh,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Mv={readContext:cs,use:Sh,useCallback:function(u,f){return Vs().memoizedState=[u,f===void 0?null:f],u},useContext:cs,useEffect:Dp,useImperativeHandle:function(u,f,x){x=x!=null?x.concat([u]):null,Qd(4194308,4,_v.bind(null,f,u),x)},useLayoutEffect:function(u,f){return Qd(4194308,4,u,f)},useInsertionEffect:function(u,f){Qd(4,2,u,f)},useMemo:function(u,f){var x=Vs();f=f===void 0?null:f;var N=u();if(zo){Gr(!0);try{u()}finally{Gr(!1)}}return x.memoizedState=[N,f],N},useReducer:function(u,f,x){var N=Vs();if(x!==void 0){var M=x(f);if(zo){Gr(!0);try{x(f)}finally{Gr(!1)}}}else M=f;return N.memoizedState=N.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},N.queue=u,u=u.dispatch=U1.bind(null,Gt,u),[N.memoizedState,u]},useRef:function(u){var f=Vs();return u={current:u},f.memoizedState=u},useState:function(u){u=Dh(u);var f=u.queue,x=G1.bind(null,Gt,f);return f.dispatch=x,[u.memoizedState,x]},useDebugValue:Jd,useDeferredValue:function(u,f){var x=Vs();return eb(x,u,f)},useTransition:function(){var u=Dh(!1);return u=jv.bind(null,Gt,u.queue,!0,!1),Vs().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,x){var N=Gt,M=Vs();if(lr){if(x===void 0)throw Error(i(407));x=x()}else{if(x=f(),Hr===null)throw Error(i(349));(Ft&124)!==0||Nl(N,f,x)}M.memoizedState=x;var L={value:x,getSnapshot:f};return M.queue=L,Dp(bi.bind(null,N,L,u),[u]),N.flags|=2048,Ac(9,Sp(),Dr.bind(null,N,L,x,f),null),x},useId:function(){var u=Vs(),f=Hr.identifierPrefix;if(lr){var x=va,N=ui;x=(N&~(1<<32-lt(N)-1)).toString(32)+x,f=""+f+"R"+x,x=Gd++,0<x&&(f+="H"+x.toString(32)),f+=""}else x=pv++,f=""+f+"r"+x.toString(32)+"";return u.memoizedState=f},useHostTransitionStatus:Tp,useFormState:vv,useActionState:vv,useOptimistic:function(u){var f=Vs();f.memoizedState=f.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=nb.bind(null,Gt,!0,x),x.dispatch=f,[u,f]},useMemoCache:Yg,useCacheRefresh:function(){return Vs().memoizedState=V1.bind(null,Gt)}},Tv={readContext:cs,use:Sh,useCallback:Mp,useContext:cs,useEffect:$g,useImperativeHandle:Av,useInsertionEffect:Zg,useLayoutEffect:Cv,useMemo:Nv,useReducer:Eh,useRef:Ep,useState:function(){return Eh(gi)},useDebugValue:Jd,useDeferredValue:function(u,f){var x=Dn();return tb(x,Ar.memoizedState,u,f)},useTransition:function(){var u=Eh(gi)[0],f=Dn().memoizedState;return[typeof u=="boolean"?u:Kd(u),f]},useSyncExternalStore:Kg,useId:Ev,useHostTransitionStatus:Tp,useFormState:wv,useActionState:wv,useOptimistic:function(u,f){var x=Dn();return Mh(x,Ar,u,f)},useMemoCache:Yg,useCacheRefresh:Dv},H1={readContext:cs,use:Sh,useCallback:Mp,useContext:cs,useEffect:$g,useImperativeHandle:Av,useInsertionEffect:Zg,useLayoutEffect:Cv,useMemo:Nv,useReducer:Ca,useRef:Ep,useState:function(){return Ca(gi)},useDebugValue:Jd,useDeferredValue:function(u,f){var x=Dn();return Ar===null?eb(x,u,f):tb(x,Ar.memoizedState,u,f)},useTransition:function(){var u=Ca(gi)[0],f=Dn().memoizedState;return[typeof u=="boolean"?u:Kd(u),f]},useSyncExternalStore:Kg,useId:Ev,useHostTransitionStatus:Tp,useFormState:Xg,useActionState:Xg,useOptimistic:function(u,f){var x=Dn();return Ar!==null?Mh(x,Ar,u,f):(x.baseState=u,[u,x.queue.dispatch])},useMemoCache:Yg,useCacheRefresh:Dv},Sl=null,Nc=0;function _s(u){var f=Nc;return Nc+=1,Sl===null&&(Sl=[]),Bg(Sl,u,f)}function Xd(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function El(u,f){throw f.$$typeof===C?Error(i(525)):(u=Object.prototype.toString.call(f),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function ib(u){var f=u._init;return f(u._payload)}function Rh(u){function f(ke,ve){if(u){var je=ke.deletions;je===null?(ke.deletions=[ve],ke.flags|=16):je.push(ve)}}function x(ke,ve){if(!u)return null;for(;ve!==null;)f(ke,ve),ve=ve.sibling;return null}function N(ke){for(var ve=new Map;ke!==null;)ke.key!==null?ve.set(ke.key,ke):ve.set(ke.index,ke),ke=ke.sibling;return ve}function M(ke,ve){return ke=vo(ke,ve),ke.index=0,ke.sibling=null,ke}function L(ke,ve,je){return ke.index=je,u?(je=ke.alternate,je!==null?(je=je.index,je<ve?(ke.flags|=67108866,ve):je):(ke.flags|=67108866,ve)):(ke.flags|=1048576,ve)}function te(ke){return u&&ke.alternate===null&&(ke.flags|=67108866),ke}function ce(ke,ve,je,Ue){return ve===null||ve.tag!==6?(ve=pp(je,ke.mode,Ue),ve.return=ke,ve):(ve=M(ve,je),ve.return=ke,ve)}function ge(ke,ve,je,Ue){var dt=je.type;return dt===T?Ve(ke,ve,je.props.children,Ue,je.key):ve!==null&&(ve.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===B&&ib(dt)===ve.type)?(ve=M(ve,je.props),Xd(ve,je),ve.return=ke,ve):(ve=xh(je.type,je.key,je.props,null,ke.mode,Ue),Xd(ve,je),ve.return=ke,ve)}function Ee(ke,ve,je,Ue){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==je.containerInfo||ve.stateNode.implementation!==je.implementation?(ve=vh(je,ke.mode,Ue),ve.return=ke,ve):(ve=M(ve,je.children||[]),ve.return=ke,ve)}function Ve(ke,ve,je,Ue,dt){return ve===null||ve.tag!==7?(ve=vl(je,ke.mode,Ue,dt),ve.return=ke,ve):(ve=M(ve,je),ve.return=ke,ve)}function He(ke,ve,je){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=pp(""+ve,ke.mode,je),ve.return=ke,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return je=xh(ve.type,ve.key,ve.props,null,ke.mode,je),Xd(je,ve),je.return=ke,je;case S:return ve=vh(ve,ke.mode,je),ve.return=ke,ve;case B:var Ue=ve._init;return ve=Ue(ve._payload),He(ke,ve,je)}if(xe(ve)||Z(ve))return ve=vl(ve,ke.mode,je,null),ve.return=ke,ve;if(typeof ve.then=="function")return He(ke,_s(ve),je);if(ve.$$typeof===F)return He(ke,yp(ke,ve),je);El(ke,ve)}return null}function De(ke,ve,je,Ue){var dt=ve!==null?ve.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return dt!==null?null:ce(ke,ve,""+je,Ue);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case _:return je.key===dt?ge(ke,ve,je,Ue):null;case S:return je.key===dt?Ee(ke,ve,je,Ue):null;case B:return dt=je._init,je=dt(je._payload),De(ke,ve,je,Ue)}if(xe(je)||Z(je))return dt!==null?null:Ve(ke,ve,je,Ue,null);if(typeof je.then=="function")return De(ke,ve,_s(je),Ue);if(je.$$typeof===F)return De(ke,ve,yp(ke,je),Ue);El(ke,je)}return null}function Me(ke,ve,je,Ue,dt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return ke=ke.get(je)||null,ce(ve,ke,""+Ue,dt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case _:return ke=ke.get(Ue.key===null?je:Ue.key)||null,ge(ve,ke,Ue,dt);case S:return ke=ke.get(Ue.key===null?je:Ue.key)||null,Ee(ve,ke,Ue,dt);case B:var Kt=Ue._init;return Ue=Kt(Ue._payload),Me(ke,ve,je,Ue,dt)}if(xe(Ue)||Z(Ue))return ke=ke.get(je)||null,Ve(ve,ke,Ue,dt,null);if(typeof Ue.then=="function")return Me(ke,ve,je,_s(Ue),dt);if(Ue.$$typeof===F)return Me(ke,ve,je,yp(ve,Ue),dt);El(ve,Ue)}return null}function Ct(ke,ve,je,Ue){for(var dt=null,Kt=null,ht=ve,ft=ve=0,Vn=null;ht!==null&&ft<je.length;ft++){ht.index>ft?(Vn=ht,ht=null):Vn=ht.sibling;var mr=De(ke,ht,je[ft],Ue);if(mr===null){ht===null&&(ht=Vn);break}u&&ht&&mr.alternate===null&&f(ke,ht),ve=L(mr,ve,ft),Kt===null?dt=mr:Kt.sibling=mr,Kt=mr,ht=Vn}if(ft===je.length)return x(ke,ht),lr&&kl(ke,ft),dt;if(ht===null){for(;ft<je.length;ft++)ht=He(ke,je[ft],Ue),ht!==null&&(ve=L(ht,ve,ft),Kt===null?dt=ht:Kt.sibling=ht,Kt=ht);return lr&&kl(ke,ft),dt}for(ht=N(ht);ft<je.length;ft++)Vn=Me(ht,ke,ft,je[ft],Ue),Vn!==null&&(u&&Vn.alternate!==null&&ht.delete(Vn.key===null?ft:Vn.key),ve=L(Vn,ve,ft),Kt===null?dt=Vn:Kt.sibling=Vn,Kt=Vn);return u&&ht.forEach(function(Ua){return f(ke,Ua)}),lr&&kl(ke,ft),dt}function yt(ke,ve,je,Ue){if(je==null)throw Error(i(151));for(var dt=null,Kt=null,ht=ve,ft=ve=0,Vn=null,mr=je.next();ht!==null&&!mr.done;ft++,mr=je.next()){ht.index>ft?(Vn=ht,ht=null):Vn=ht.sibling;var Ua=De(ke,ht,mr.value,Ue);if(Ua===null){ht===null&&(ht=Vn);break}u&&ht&&Ua.alternate===null&&f(ke,ht),ve=L(Ua,ve,ft),Kt===null?dt=Ua:Kt.sibling=Ua,Kt=Ua,ht=Vn}if(mr.done)return x(ke,ht),lr&&kl(ke,ft),dt;if(ht===null){for(;!mr.done;ft++,mr=je.next())mr=He(ke,mr.value,Ue),mr!==null&&(ve=L(mr,ve,ft),Kt===null?dt=mr:Kt.sibling=mr,Kt=mr);return lr&&kl(ke,ft),dt}for(ht=N(ht);!mr.done;ft++,mr=je.next())mr=Me(ht,ke,ft,mr.value,Ue),mr!==null&&(u&&mr.alternate!==null&&ht.delete(mr.key===null?ft:mr.key),ve=L(mr,ve,ft),Kt===null?dt=mr:Kt.sibling=mr,Kt=mr);return u&&ht.forEach(function(z0){return f(ke,z0)}),lr&&kl(ke,ft),dt}function Ir(ke,ve,je,Ue){if(typeof je=="object"&&je!==null&&je.type===T&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case _:e:{for(var dt=je.key;ve!==null;){if(ve.key===dt){if(dt=je.type,dt===T){if(ve.tag===7){x(ke,ve.sibling),Ue=M(ve,je.props.children),Ue.return=ke,ke=Ue;break e}}else if(ve.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===B&&ib(dt)===ve.type){x(ke,ve.sibling),Ue=M(ve,je.props),Xd(Ue,je),Ue.return=ke,ke=Ue;break e}x(ke,ve);break}else f(ke,ve);ve=ve.sibling}je.type===T?(Ue=vl(je.props.children,ke.mode,Ue,je.key),Ue.return=ke,ke=Ue):(Ue=xh(je.type,je.key,je.props,null,ke.mode,Ue),Xd(Ue,je),Ue.return=ke,ke=Ue)}return te(ke);case S:e:{for(dt=je.key;ve!==null;){if(ve.key===dt)if(ve.tag===4&&ve.stateNode.containerInfo===je.containerInfo&&ve.stateNode.implementation===je.implementation){x(ke,ve.sibling),Ue=M(ve,je.children||[]),Ue.return=ke,ke=Ue;break e}else{x(ke,ve);break}else f(ke,ve);ve=ve.sibling}Ue=vh(je,ke.mode,Ue),Ue.return=ke,ke=Ue}return te(ke);case B:return dt=je._init,je=dt(je._payload),Ir(ke,ve,je,Ue)}if(xe(je))return Ct(ke,ve,je,Ue);if(Z(je)){if(dt=Z(je),typeof dt!="function")throw Error(i(150));return je=dt.call(je),yt(ke,ve,je,Ue)}if(typeof je.then=="function")return Ir(ke,ve,_s(je),Ue);if(je.$$typeof===F)return Ir(ke,ve,yp(ke,je),Ue);El(ke,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,ve!==null&&ve.tag===6?(x(ke,ve.sibling),Ue=M(ve,je),Ue.return=ke,ke=Ue):(x(ke,ve),Ue=pp(je,ke.mode,Ue),Ue.return=ke,ke=Ue),te(ke)):x(ke,ve)}return function(ke,ve,je,Ue){try{Nc=0;var dt=Ir(ke,ve,je,Ue);return Sl=null,dt}catch(ht){if(ht===Cc||ht===Ah)throw ht;var Kt=ws(29,ht,null,ke.mode);return Kt.lanes=Ue,Kt.return=ke,Kt}finally{}}}var jc=Rh(!0),ab=Rh(!1),Wn=ue(null),$e=null;function pt(u){var f=u.alternate;me(Kr,Kr.current&1),me(Wn,u),$e===null&&(f===null||_c.current!==null||f.memoizedState!==null)&&($e=u)}function Ph(u){if(u.tag===22){if(me(Kr,Kr.current),me(Wn,u),$e===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&($e=u)}}else ds()}function ds(){me(Kr,Kr.current),me(Wn,Wn.current)}function yi(u){pe(Wn),$e===u&&($e=null),pe(Kr)}var Kr=ue(0);function $d(u){for(var f=u;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||bn(x)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Oh(u,f,x,N){f=u.memoizedState,x=x(N,f),x=x==null?f:k({},f,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var Sc={enqueueSetState:function(u,f,x){u=u._reactInternals;var N=eo(),M=fi(N);M.payload=f,x!=null&&(M.callback=x),f=wa(u,M,N),f!==null&&(to(f,u,N),Nh(f,u,N))},enqueueReplaceState:function(u,f,x){u=u._reactInternals;var N=eo(),M=fi(N);M.tag=1,M.payload=f,x!=null&&(M.callback=x),f=wa(u,M,N),f!==null&&(to(f,u,N),Nh(f,u,N))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var x=eo(),N=fi(x);N.tag=2,f!=null&&(N.callback=f),f=wa(u,N,x),f!==null&&(to(f,u,x),Nh(f,u,x))}};function Ec(u,f,x,N,M,L,te){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,L,te):f.prototype&&f.prototype.isPureReactComponent?!fh(x,N)||!fh(M,L):!0}function lb(u,f,x,N){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,N),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,N),f.state!==u&&Sc.enqueueReplaceState(f,f.state,null)}function _a(u,f){var x=f;if("ref"in f){x={};for(var N in f)N!=="ref"&&(x[N]=f[N])}if(u=u.defaultProps){x===f&&(x=k({},x));for(var M in u)x[M]===void 0&&(x[M]=u[M])}return x}var Dc=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function Dl(u){Dc(u)}function Iv(u){console.error(u)}function Pp(u){Dc(u)}function Zd(u,f){try{var x=u.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(N){setTimeout(function(){throw N})}}function Rv(u,f,x){try{var N=u.onCaughtError;N(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function eu(u,f,x){return x=fi(x),x.tag=3,x.payload={element:null},x.callback=function(){Zd(u,f)},x}function Pv(u){return u=fi(u),u.tag=3,u}function Ov(u,f,x,N){var M=x.type.getDerivedStateFromError;if(typeof M=="function"){var L=N.value;u.payload=function(){return M(L)},u.callback=function(){Rv(f,x,N)}}var te=x.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(u.callback=function(){Rv(f,x,N),typeof M!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var ce=N.stack;this.componentDidCatch(N.value,{componentStack:ce!==null?ce:""})})}function cb(u,f,x,N,M){if(x.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(f=x.alternate,f!==null&&Lo(f,x,M,!0),x=Wn.current,x!==null){switch(x.tag){case 13:return $e===null?lu():x.alternate===null&&xt===0&&(xt=3),x.flags&=-257,x.flags|=65536,x.lanes=M,N===Pg?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([N]):f.add(N),Xp(u,N,M)),!1;case 22:return x.flags|=65536,N===Pg?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([N])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([N]):x.add(N)),Xp(u,N,M)),!1}throw Error(i(435,x.tag))}return Xp(u,N,M),lu(),!1}if(lr)return f=Wn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=M,N!==Sn&&(u=Error(i(422),{cause:N}),ks(xo(u,x)))):(N!==Sn&&(f=Error(i(423),{cause:N}),ks(xo(f,x))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,N=xo(N,x),M=eu(u.stateNode,N,M),kp(u,M),xt!==4&&(xt=2)),!1;var L=Error(i(520),{cause:N});if(L=xo(L,x),su===null?su=[L]:su.push(L),xt!==4&&(xt=2),f===null)return!0;N=xo(N,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,u=M&-M,x.lanes|=u,u=eu(x.stateNode,N,u),kp(x,u),!1;case 1:if(f=x.type,L=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(wi===null||!wi.has(L))))return x.flags|=65536,M&=-M,x.lanes|=M,M=Pv(M),Ov(M,u,x,N),kp(x,M),!1}x=x.return}while(x!==null);return!1}var Bv=Error(i(461)),Qr=!1;function Kn(u,f,x,N){f.child=u===null?ab(f,null,x,N):jc(f,u.child,x,N)}function Op(u,f,x,N,M){x=x.render;var L=f.ref;if("ref"in N){var te={};for(var ce in N)ce!=="ref"&&(te[ce]=N[ce])}else te=N;return it(f),N=Vt(u,f,x,te,L,M),ce=Np(),u!==null&&!Qr?(Yd(u,f,M),Aa(u,f,M)):(lr&&ce&&Sg(f),f.flags|=1,Kn(u,f,N,M),f.child)}function Lv(u,f,x,N,M){if(u===null){var L=x.type;return typeof L=="function"&&!mp(L)&&L.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=L,db(u,f,L,N,M)):(u=xh(x.type,null,N,f,f.mode,M),u.ref=f.ref,u.return=f,f.child=u)}if(L=u.child,!gb(u,M)){var te=L.memoizedProps;if(x=x.compare,x=x!==null?x:fh,x(te,N)&&u.ref===f.ref)return Aa(u,f,M)}return f.flags|=1,u=vo(L,N),u.ref=f.ref,u.return=f,f.child=u}function db(u,f,x,N,M){if(u!==null){var L=u.memoizedProps;if(fh(L,N)&&u.ref===f.ref)if(Qr=!1,f.pendingProps=N=L,gb(u,M))(u.flags&131072)!==0&&(Qr=!0);else return f.lanes=u.lanes,Aa(u,f,M)}return zp(u,f,x,N,M)}function Bp(u,f,x){var N=f.pendingProps,M=N.children,L=u!==null?u.memoizedState:null;if(N.mode==="hidden"){if((f.flags&128)!==0){if(N=L!==null?L.baseLanes|x:x,u!==null){for(M=f.child=u.child,L=0;M!==null;)L=L|M.lanes|M.childLanes,M=M.sibling;f.childLanes=L&~N}else f.childLanes=0,f.child=null;return ub(u,f,N,x)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&kc(f,L!==null?L.cachePool:null),L!==null?mv(f,L):Vg(),Ph(f);else return f.lanes=f.childLanes=536870912,ub(u,f,L!==null?L.baseLanes|x:x,x)}else L!==null?(kc(f,L.cachePool),mv(f,L),ds(),f.memoizedState=null):(u!==null&&kc(f,null),Vg(),ds());return Kn(u,f,M,x),f.child}function ub(u,f,x,N){var M=Al();return M=M===null?null:{parent:En._currentValue,pool:M},f.memoizedState={baseLanes:x,cachePool:M},u!==null&&kc(f,null),Vg(),Ph(f),u!==null&&Lo(u,f,N,!0),null}function Lp(u,f){var x=f.ref;if(x===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(i(284));(u===null||u.ref!==x)&&(f.flags|=4194816)}}function zp(u,f,x,N,M){return it(f),x=Vt(u,f,x,N,void 0,M),N=Np(),u!==null&&!Qr?(Yd(u,f,M),Aa(u,f,M)):(lr&&N&&Sg(f),f.flags|=1,Kn(u,f,x,M),f.child)}function Fp(u,f,x,N,M,L){return it(f),f.updateQueue=null,x=Hg(f,N,x,M),Gg(u),N=Np(),u!==null&&!Qr?(Yd(u,f,L),Aa(u,f,L)):(lr&&N&&Sg(f),f.flags|=1,Kn(u,f,x,L),f.child)}function tu(u,f,x,N,M){if(it(f),f.stateNode===null){var L=Pd,te=x.contextType;typeof te=="object"&&te!==null&&(L=cs(te)),L=new x(N,L),f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Sc,f.stateNode=L,L._reactInternals=f,L=f.stateNode,L.props=N,L.state=f.memoizedState,L.refs={},wp(f),te=x.contextType,L.context=typeof te=="object"&&te!==null?cs(te):Pd,L.state=f.memoizedState,te=x.getDerivedStateFromProps,typeof te=="function"&&(Oh(f,x,te,N),L.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(te=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),te!==L.state&&Sc.enqueueReplaceState(L,L.state,null),Vd(f,N,L,M),Fd(),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308),N=!0}else if(u===null){L=f.stateNode;var ce=f.memoizedProps,ge=_a(x,ce);L.props=ge;var Ee=L.context,Ve=x.contextType;te=Pd,typeof Ve=="object"&&Ve!==null&&(te=cs(Ve));var He=x.getDerivedStateFromProps;Ve=typeof He=="function"||typeof L.getSnapshotBeforeUpdate=="function",ce=f.pendingProps!==ce,Ve||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ce||Ee!==te)&&lb(f,L,N,te),hr=!1;var De=f.memoizedState;L.state=De,Vd(f,N,L,M),Fd(),Ee=f.memoizedState,ce||De!==Ee||hr?(typeof He=="function"&&(Oh(f,x,He,N),Ee=f.memoizedState),(ge=hr||Ec(f,x,ge,N,De,Ee,te))?(Ve||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(f.flags|=4194308)):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=N,f.memoizedState=Ee),L.props=N,L.state=Ee,L.context=te,N=ge):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),N=!1)}else{L=f.stateNode,zg(u,f),te=f.memoizedProps,Ve=_a(x,te),L.props=Ve,He=f.pendingProps,De=L.context,Ee=x.contextType,ge=Pd,typeof Ee=="object"&&Ee!==null&&(ge=cs(Ee)),ce=x.getDerivedStateFromProps,(Ee=typeof ce=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te!==He||De!==ge)&&lb(f,L,N,ge),hr=!1,De=f.memoizedState,L.state=De,Vd(f,N,L,M),Fd();var Me=f.memoizedState;te!==He||De!==Me||hr||u!==null&&u.dependencies!==null&&bp(u.dependencies)?(typeof ce=="function"&&(Oh(f,x,ce,N),Me=f.memoizedState),(Ve=hr||Ec(f,x,Ve,N,De,Me,ge)||u!==null&&u.dependencies!==null&&bp(u.dependencies))?(Ee||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(N,Me,ge),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(N,Me,ge)),typeof L.componentDidUpdate=="function"&&(f.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof L.componentDidUpdate!="function"||te===u.memoizedProps&&De===u.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&De===u.memoizedState||(f.flags|=1024),f.memoizedProps=N,f.memoizedState=Me),L.props=N,L.state=Me,L.context=ge,N=Ve):(typeof L.componentDidUpdate!="function"||te===u.memoizedProps&&De===u.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&De===u.memoizedState||(f.flags|=1024),N=!1)}return L=N,Lp(u,f),N=(f.flags&128)!==0,L||N?(L=f.stateNode,x=N&&typeof x.getDerivedStateFromError!="function"?null:L.render(),f.flags|=1,u!==null&&N?(f.child=jc(f,u.child,null,M),f.child=jc(f,null,x,M)):Kn(u,f,x,M),f.memoizedState=L.state,u=f.child):u=Aa(u,f,M),u}function hb(u,f,x,N){return Fs(),f.flags|=256,Kn(u,f,x,N),f.child}var Vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Up(u){return{baseLanes:u,cachePool:xp()}}function Gp(u,f,x){return u=u!==null?u.childLanes&~x:0,f&&(u|=Ns),u}function Vo(u,f,x){var N=f.pendingProps,M=!1,L=(f.flags&128)!==0,te;if((te=L)||(te=u!==null&&u.memoizedState===null?!1:(Kr.current&2)!==0),te&&(M=!0,f.flags&=-129),te=(f.flags&32)!==0,f.flags&=-33,u===null){if(lr){if(M?pt(f):ds(),lr){var ce=Fr,ge;if(ge=ce){e:{for(ge=ce,ce=Oo;ge.nodeType!==8;){if(!ce){ce=null;break e}if(ge=Fn(ge.nextSibling),ge===null){ce=null;break e}}ce=ge}ce!==null?(f.memoizedState={dehydrated:ce,treeContext:wl!==null?{id:ui,overflow:va}:null,retryLane:536870912,hydrationErrors:null},ge=ws(18,null,null,0),ge.stateNode=ce,ge.return=f,f.child=ge,zs=f,Fr=null,ge=!0):ge=!1}ge||vc(f)}if(ce=f.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return bn(ce)?f.lanes=32:f.lanes=536870912,null;yi(f)}return ce=N.children,N=N.fallback,M?(ds(),M=f.mode,ce=As({mode:"hidden",children:ce},M),N=vl(N,M,x,null),ce.return=f,N.return=f,ce.sibling=N,f.child=ce,M=f.child,M.memoizedState=Up(x),M.childLanes=Gp(u,te,x),f.memoizedState=Vp,N):(pt(f),Mc(f,ce))}if(ge=u.memoizedState,ge!==null&&(ce=ge.dehydrated,ce!==null)){if(L)f.flags&256?(pt(f),f.flags&=-257,f=Tc(u,f,x)):f.memoizedState!==null?(ds(),f.child=u.child,f.flags|=128,f=null):(ds(),M=N.fallback,ce=f.mode,N=As({mode:"visible",children:N.children},ce),M=vl(M,ce,x,null),M.flags|=2,N.return=f,M.return=f,N.sibling=M,f.child=N,jc(f,u.child,null,x),N=f.child,N.memoizedState=Up(x),N.childLanes=Gp(u,te,x),f.memoizedState=Vp,f=M);else if(pt(f),bn(ce)){if(te=ce.nextSibling&&ce.nextSibling.dataset,te)var Ee=te.dgst;te=Ee,N=Error(i(419)),N.stack="",N.digest=te,ks({value:N,source:null,stack:null}),f=Tc(u,f,x)}else if(Qr||Lo(u,f,x,!1),te=(x&u.childLanes)!==0,Qr||te){if(te=Hr,te!==null&&(N=x&-x,N=(N&42)!==0?1:hn(N),N=(N&(te.suspendedLanes|x))!==0?0:N,N!==0&&N!==ge.retryLane))throw ge.retryLane=N,bc(u,N),to(te,u,N),Bv;ce.data==="$?"||lu(),f=Tc(u,f,x)}else ce.data==="$?"?(f.flags|=192,f.child=u.child,f=null):(u=ge.treeContext,Fr=Fn(ce.nextSibling),zs=f,lr=!0,Cl=null,Oo=!1,u!==null&&(wo[ko++]=ui,wo[ko++]=va,wo[ko++]=wl,ui=u.id,va=u.overflow,wl=f),f=Mc(f,N.children),f.flags|=4096);return f}return M?(ds(),M=N.fallback,ce=f.mode,ge=u.child,Ee=ge.sibling,N=vo(ge,{mode:"hidden",children:N.children}),N.subtreeFlags=ge.subtreeFlags&65011712,Ee!==null?M=vo(Ee,M):(M=vl(M,ce,x,null),M.flags|=2),M.return=f,N.return=f,N.sibling=M,f.child=N,N=M,M=f.child,ce=u.child.memoizedState,ce===null?ce=Up(x):(ge=ce.cachePool,ge!==null?(Ee=En._currentValue,ge=ge.parent!==Ee?{parent:Ee,pool:Ee}:ge):ge=xp(),ce={baseLanes:ce.baseLanes|x,cachePool:ge}),M.memoizedState=ce,M.childLanes=Gp(u,te,x),f.memoizedState=Vp,N):(pt(f),x=u.child,u=x.sibling,x=vo(x,{mode:"visible",children:N.children}),x.return=f,x.sibling=null,u!==null&&(te=f.deletions,te===null?(f.deletions=[u],f.flags|=16):te.push(u)),f.child=x,f.memoizedState=null,x)}function Mc(u,f){return f=As({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function As(u,f){return u=ws(22,u,null,f),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function Tc(u,f,x){return jc(f,u.child,null,x),u=Mc(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function mb(u,f,x){u.lanes|=f;var N=u.alternate;N!==null&&(N.lanes|=f),Dg(u.return,f,x)}function pb(u,f,x,N,M){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:N,tail:x,tailMode:M}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=N,L.tail=x,L.tailMode=M)}function fb(u,f,x){var N=f.pendingProps,M=N.revealOrder,L=N.tail;if(Kn(u,f,N.children,x),N=Kr.current,(N&2)!==0)N=N&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&mb(u,x,f);else if(u.tag===19)mb(u,x,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}switch(me(Kr,N),M){case"forwards":for(x=f.child,M=null;x!==null;)u=x.alternate,u!==null&&$d(u)===null&&(M=x),x=x.sibling;x=M,x===null?(M=f.child,f.child=null):(M=x.sibling,x.sibling=null),pb(f,!1,M,x,L);break;case"backwards":for(x=null,M=f.child,f.child=null;M!==null;){if(u=M.alternate,u!==null&&$d(u)===null){f.child=M;break}u=M.sibling,M.sibling=x,x=M,M=u}pb(f,!0,x,null,L);break;case"together":pb(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Aa(u,f,x){if(u!==null&&(f.dependencies=u.dependencies),us|=f.lanes,(x&f.childLanes)===0)if(u!==null){if(Lo(u,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(i(153));if(f.child!==null){for(u=f.child,x=vo(u,u.pendingProps),f.child=x,x.return=f;u.sibling!==null;)u=u.sibling,x=x.sibling=vo(u,u.pendingProps),x.return=f;x.sibling=null}return f.child}function gb(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&bp(u)))}function zv(u,f,x){switch(f.tag){case 3:Oe(f,f.stateNode.containerInfo),Hi(f,En,u.memoizedState.cache),Fs();break;case 27:case 5:Be(f);break;case 4:Oe(f,f.stateNode.containerInfo);break;case 10:Hi(f,f.type,f.memoizedProps.value);break;case 13:var N=f.memoizedState;if(N!==null)return N.dehydrated!==null?(pt(f),f.flags|=128,null):(x&f.child.childLanes)!==0?Vo(u,f,x):(pt(f),u=Aa(u,f,x),u!==null?u.sibling:null);pt(f);break;case 19:var M=(u.flags&128)!==0;if(N=(x&f.childLanes)!==0,N||(Lo(u,f,x,!1),N=(x&f.childLanes)!==0),M){if(N)return fb(u,f,x);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),me(Kr,Kr.current),N)break;return null;case 22:case 23:return f.lanes=0,Bp(u,f,x);case 24:Hi(f,En,u.memoizedState.cache)}return Aa(u,f,x)}function Fv(u,f,x){if(u!==null)if(u.memoizedProps!==f.pendingProps)Qr=!0;else{if(!gb(u,x)&&(f.flags&128)===0)return Qr=!1,zv(u,f,x);Qr=(u.flags&131072)!==0}else Qr=!1,lr&&(f.flags&1048576)!==0&&av(f,wh,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var N=f.elementType,M=N._init;if(N=M(N._payload),f.type=N,typeof N=="function")mp(N)?(u=_a(N,u),f.tag=1,f=tu(null,f,N,u,x)):(f.tag=0,f=zp(null,f,N,u,x));else{if(N!=null){if(M=N.$$typeof,M===q){f.tag=11,f=Op(null,f,N,u,x);break e}else if(M===Q){f.tag=14,f=Lv(null,f,N,u,x);break e}}throw f=be(N)||N,Error(i(306,f,""))}}return f;case 0:return zp(u,f,f.type,f.pendingProps,x);case 1:return N=f.type,M=_a(N,f.pendingProps),tu(u,f,N,M,x);case 3:e:{if(Oe(f,f.stateNode.containerInfo),u===null)throw Error(i(387));N=f.pendingProps;var L=f.memoizedState;M=L.element,zg(u,f),Vd(f,N,null,x);var te=f.memoizedState;if(N=te.cache,Hi(f,En,N),N!==L.cache&&gp(f,[En],x,!0),Fd(),N=te.element,L.isDehydrated)if(L={element:N,isDehydrated:!1,cache:te.cache},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){f=hb(u,f,N,x);break e}else if(N!==M){M=xo(Error(i(424)),f),ks(M),f=hb(u,f,N,x);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Fr=Fn(u.firstChild),zs=f,lr=!0,Cl=null,Oo=!0,x=ab(f,null,N,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Fs(),N===M){f=Aa(u,f,x);break e}Kn(u,f,N,x)}f=f.child}return f;case 26:return Lp(u,f),u===null?(x=w0(f.type,null,f.pendingProps,null))?f.memoizedState=x:lr||(x=f.type,u=f.pendingProps,N=em(_e.current).createElement(x),N[yr]=f,N[xr]=u,ms(N,x,u),$r(N),f.stateNode=N):f.memoizedState=w0(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Be(f),u===null&&lr&&(N=f.stateNode=y0(f.type,f.pendingProps,_e.current),zs=f,Oo=!0,M=Fr,sr(f.type)?(Ho=M,Fr=Fn(N.firstChild)):Fr=M),Kn(u,f,f.pendingProps.children,x),Lp(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&lr&&((M=N=Fr)&&(N=b0(N,f.type,f.pendingProps,Oo),N!==null?(f.stateNode=N,zs=f,Fr=Fn(N.firstChild),Oo=!1,M=!0):M=!1),M||vc(f)),Be(f),M=f.type,L=f.pendingProps,te=u!==null?u.memoizedProps:null,N=L.children,sf(M,L)?N=null:te!==null&&sf(M,te)&&(f.flags|=32),f.memoizedState!==null&&(M=Vt(u,f,fv,null,null,x),lm._currentValue=M),Lp(u,f),Kn(u,f,N,x),f.child;case 6:return u===null&&lr&&((u=x=Fr)&&(x=gn(x,f.pendingProps,Oo),x!==null?(f.stateNode=x,zs=f,Fr=null,u=!0):u=!1),u||vc(f)),null;case 13:return Vo(u,f,x);case 4:return Oe(f,f.stateNode.containerInfo),N=f.pendingProps,u===null?f.child=jc(f,null,N,x):Kn(u,f,N,x),f.child;case 11:return Op(u,f,f.type,f.pendingProps,x);case 7:return Kn(u,f,f.pendingProps,x),f.child;case 8:return Kn(u,f,f.pendingProps.children,x),f.child;case 12:return Kn(u,f,f.pendingProps.children,x),f.child;case 10:return N=f.pendingProps,Hi(f,f.type,N.value),Kn(u,f,N.children,x),f.child;case 9:return M=f.type._context,N=f.pendingProps.children,it(f),M=cs(M),N=N(M),f.flags|=1,Kn(u,f,N,x),f.child;case 14:return Lv(u,f,f.type,f.pendingProps,x);case 15:return db(u,f,f.type,f.pendingProps,x);case 19:return fb(u,f,x);case 31:return N=f.pendingProps,x=f.mode,N={mode:N.mode,children:N.children},u===null?(x=As(N,x),x.ref=f.ref,f.child=x,x.return=f,f=x):(x=vo(u.child,N),x.ref=f.ref,f.child=x,x.return=f,f=x),f;case 22:return Bp(u,f,x);case 24:return it(f),N=cs(En),u===null?(M=Al(),M===null&&(M=Hr,L=Bd(),M.pooledCache=L,L.refCount++,L!==null&&(M.pooledCacheLanes|=x),M=L),f.memoizedState={parent:N,cache:M},wp(f),Hi(f,En,M)):((u.lanes&x)!==0&&(zg(u,f),Vd(f,null,null,x),Fd()),M=u.memoizedState,L=f.memoizedState,M.parent!==N?(M={parent:N,cache:N},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),Hi(f,En,N)):(N=L.cache,Hi(f,En,N),N!==M.cache&&gp(f,[En],x,!0))),Kn(u,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Na(u){u.flags|=4}function Vv(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!ty(f)){if(f=Wn.current,f!==null&&((Ft&4194048)===Ft?$e!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||f!==$e))throw qi=Pg,Rg;u.flags|=8192}}function Bh(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?Ts():536870912,u.lanes|=f,Rc|=f)}function Lh(u,f){if(!lr)switch(u.tailMode){case"hidden":f=u.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function Zr(u){var f=u.alternate!==null&&u.alternate.child===u.child,x=0,N=0;if(f)for(var M=u.child;M!==null;)x|=M.lanes|M.childLanes,N|=M.subtreeFlags&65011712,N|=M.flags&65011712,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)x|=M.lanes|M.childLanes,N|=M.subtreeFlags,N|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=N,u.childLanes=x,f}function q1(u,f,x){var N=f.pendingProps;switch(tr(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(f),null;case 1:return Zr(f),null;case 3:return x=f.stateNode,N=null,u!==null&&(N=u.memoizedState.cache),f.memoizedState.cache!==N&&(f.flags|=2048),mi(En),Ye(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(kh(f)?Na(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,pn())),Zr(f),null;case 26:return x=f.memoizedState,u===null?(Na(f),x!==null?(Zr(f),Vv(f,x)):(Zr(f),f.flags&=-16777217)):x?x!==u.memoizedState?(Na(f),Zr(f),Vv(f,x)):(Zr(f),f.flags&=-16777217):(u.memoizedProps!==N&&Na(f),Zr(f),f.flags&=-16777217),null;case 27:Ce(f),x=_e.current;var M=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==N&&Na(f);else{if(!N){if(f.stateNode===null)throw Error(i(166));return Zr(f),null}u=ye.current,kh(f)?lv(f):(u=y0(M,N,x),f.stateNode=u,Na(f))}return Zr(f),null;case 5:if(Ce(f),x=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==N&&Na(f);else{if(!N){if(f.stateNode===null)throw Error(i(166));return Zr(f),null}if(u=ye.current,kh(f))lv(f);else{switch(M=em(_e.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof N.is=="string"?M.createElement("select",{is:N.is}):M.createElement("select"),N.multiple?u.multiple=!0:N.size&&(u.size=N.size);break;default:u=typeof N.is=="string"?M.createElement(x,{is:N.is}):M.createElement(x)}}u[yr]=f,u[xr]=N;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=u;e:switch(ms(u,x,N),x){case"button":case"input":case"select":case"textarea":u=!!N.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Na(f)}}return Zr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==N&&Na(f);else{if(typeof N!="string"&&f.stateNode===null)throw Error(i(166));if(u=_e.current,kh(f)){if(u=f.stateNode,x=f.memoizedProps,N=null,M=zs,M!==null)switch(M.tag){case 27:case 5:N=M.memoizedProps}u[yr]=f,u=!!(u.nodeValue===x||N!==null&&N.suppressHydrationWarning===!0||f0(u.nodeValue,x)),u||vc(f)}else u=em(u).createTextNode(N),u[yr]=f,f.stateNode=u}return Zr(f),null;case 13:if(N=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=kh(f),N!==null&&N.dehydrated!==null){if(u===null){if(!M)throw Error(i(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));M[yr]=f}else Fs(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zr(f),M=!1}else M=pn(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=M),M=!0;if(!M)return f.flags&256?(yi(f),f):(yi(f),null)}if(yi(f),(f.flags&128)!==0)return f.lanes=x,f;if(x=N!==null,u=u!==null&&u.memoizedState!==null,x){N=f.child,M=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(M=N.alternate.memoizedState.cachePool.pool);var L=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(L=N.memoizedState.cachePool.pool),L!==M&&(N.flags|=2048)}return x!==u&&x&&(f.child.flags|=8192),Bh(f,f.updateQueue),Zr(f),null;case 4:return Ye(),u===null&&Yb(f.stateNode.containerInfo),Zr(f),null;case 10:return mi(f.type),Zr(f),null;case 19:if(pe(Kr),M=f.memoizedState,M===null)return Zr(f),null;if(N=(f.flags&128)!==0,L=M.rendering,L===null)if(N)Lh(M,!1);else{if(xt!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(L=$d(u),L!==null){for(f.flags|=128,Lh(M,!1),u=L.updateQueue,f.updateQueue=u,Bh(f,u),f.subtreeFlags=0,u=x,x=f.child;x!==null;)xl(x,u),x=x.sibling;return me(Kr,Kr.current&1|2),f.child}u=u.sibling}M.tail!==null&&at()>Hh&&(f.flags|=128,N=!0,Lh(M,!1),f.lanes=4194304)}else{if(!N)if(u=$d(L),u!==null){if(f.flags|=128,N=!0,u=u.updateQueue,f.updateQueue=u,Bh(f,u),Lh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!L.alternate&&!lr)return Zr(f),null}else 2*at()-M.renderingStartTime>Hh&&x!==536870912&&(f.flags|=128,N=!0,Lh(M,!1),f.lanes=4194304);M.isBackwards?(L.sibling=f.child,f.child=L):(u=M.last,u!==null?u.sibling=L:f.child=L,M.last=L)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=at(),f.sibling=null,u=Kr.current,me(Kr,N?u&1|2:u&1),f):(Zr(f),null);case 22:case 23:return yi(f),Ug(),N=f.memoizedState!==null,u!==null?u.memoizedState!==null!==N&&(f.flags|=8192):N&&(f.flags|=8192),N?(x&536870912)!==0&&(f.flags&128)===0&&(Zr(f),f.subtreeFlags&6&&(f.flags|=8192)):Zr(f),x=f.updateQueue,x!==null&&Bh(f,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),N=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(N=f.memoizedState.cachePool.pool),N!==x&&(f.flags|=2048),u!==null&&pe(_l),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),mi(En),Zr(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Hp(u,f){switch(tr(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return mi(En),Ye(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Ce(f),null;case 13:if(yi(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Fs()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return pe(Kr),null;case 4:return Ye(),null;case 10:return mi(f.type),null;case 22:case 23:return yi(f),Ug(),u!==null&&pe(_l),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return mi(En),null;case 25:return null;default:return null}}function bb(u,f){switch(tr(f),f.tag){case 3:mi(En),Ye();break;case 26:case 27:case 5:Ce(f);break;case 4:Ye();break;case 13:yi(f);break;case 19:pe(Kr);break;case 10:mi(f.type);break;case 22:case 23:yi(f),Ug(),u!==null&&pe(_l);break;case 24:mi(En)}}function Ml(u,f){try{var x=f.updateQueue,N=x!==null?x.lastEffect:null;if(N!==null){var M=N.next;x=M;do{if((x.tag&u)===u){N=void 0;var L=x.create,te=x.inst;N=L(),te.destroy=N}x=x.next}while(x!==M)}}catch(ce){Pr(f,f.return,ce)}}function Tl(u,f,x){try{var N=f.updateQueue,M=N!==null?N.lastEffect:null;if(M!==null){var L=M.next;N=L;do{if((N.tag&u)===u){var te=N.inst,ce=te.destroy;if(ce!==void 0){te.destroy=void 0,M=f;var ge=x,Ee=ce;try{Ee()}catch(Ve){Pr(M,ge,Ve)}}}N=N.next}while(N!==L)}}catch(Ve){Pr(f,f.return,Ve)}}function yb(u){var f=u.updateQueue;if(f!==null){var x=u.stateNode;try{Cp(f,x)}catch(N){Pr(u,u.return,N)}}}function xb(u,f,x){x.props=_a(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(N){Pr(u,f,N)}}function ru(u,f){try{var x=u.ref;if(x!==null){switch(u.tag){case 26:case 27:case 5:var N=u.stateNode;break;case 30:N=u.stateNode;break;default:N=u.stateNode}typeof x=="function"?u.refCleanup=x(N):x.current=N}}catch(M){Pr(u,f,M)}}function Ln(u,f){var x=u.ref,N=u.refCleanup;if(x!==null)if(typeof N=="function")try{N()}catch(M){Pr(u,f,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(M){Pr(u,f,M)}else x.current=null}function vb(u){var f=u.type,x=u.memoizedProps,N=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":x.autoFocus&&N.focus();break e;case"img":x.src?N.src=x.src:x.srcSet&&(N.srcset=x.srcSet)}}catch(M){Pr(u,u.return,M)}}function Il(u,f,x){try{var N=u.stateNode;rC(N,u.type,x,f),N[xr]=f}catch(M){Pr(u,u.return,M)}}function ja(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&sr(u.type)||u.tag===4}function wb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||ja(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&sr(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function zh(u,f,x){var N=u.tag;if(N===5||N===6)u=u.stateNode,f?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(u,f):(f=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,f.appendChild(u),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=$h));else if(N!==4&&(N===27&&sr(u.type)&&(x=u.stateNode,f=null),u=u.child,u!==null))for(zh(u,f,x),u=u.sibling;u!==null;)zh(u,f,x),u=u.sibling}function qp(u,f,x){var N=u.tag;if(N===5||N===6)u=u.stateNode,f?x.insertBefore(u,f):x.appendChild(u);else if(N!==4&&(N===27&&sr(u.type)&&(x=u.stateNode),u=u.child,u!==null))for(qp(u,f,x),u=u.sibling;u!==null;)qp(u,f,x),u=u.sibling}function Uv(u){var f=u.stateNode,x=u.memoizedProps;try{for(var N=u.type,M=f.attributes;M.length;)f.removeAttributeNode(M[0]);ms(f,N,x),f[yr]=u,f[xr]=x}catch(L){Pr(u,u.return,L)}}var Sa=!1,fn=!1,kb=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function Y1(u,f){if(u=u.containerInfo,Qb=Ba,u=nv(u),_g(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var N=x.getSelection&&x.getSelection();if(N&&N.rangeCount!==0){x=N.anchorNode;var M=N.anchorOffset,L=N.focusNode;N=N.focusOffset;try{x.nodeType,L.nodeType}catch{x=null;break e}var te=0,ce=-1,ge=-1,Ee=0,Ve=0,He=u,De=null;t:for(;;){for(var Me;He!==x||M!==0&&He.nodeType!==3||(ce=te+M),He!==L||N!==0&&He.nodeType!==3||(ge=te+N),He.nodeType===3&&(te+=He.nodeValue.length),(Me=He.firstChild)!==null;)De=He,He=Me;for(;;){if(He===u)break t;if(De===x&&++Ee===M&&(ce=te),De===L&&++Ve===N&&(ge=te),(Me=He.nextSibling)!==null)break;He=De,De=He.parentNode}He=Me}x=ce===-1||ge===-1?null:{start:ce,end:ge}}else x=null}x=x||{start:0,end:0}}else x=null;for(Zh={focusedElem:u,selectionRange:x},Ba=!1,Qn=f;Qn!==null;)if(f=Qn,u=f.child,(f.subtreeFlags&1024)!==0&&u!==null)u.return=f,Qn=u;else for(;Qn!==null;){switch(f=Qn,L=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&L!==null){u=void 0,x=f,M=L.memoizedProps,L=L.memoizedState,N=x.stateNode;try{var Ct=_a(x.type,M,x.elementType===x.type);u=N.getSnapshotBeforeUpdate(Ct,L),N.__reactInternalSnapshotBeforeUpdate=u}catch(yt){Pr(x,x.return,yt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,x=u.nodeType,x===9)js(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":js(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=f.sibling,u!==null){u.return=f.return,Qn=u;break}Qn=f.return}}function Cb(u,f,x){var N=x.flags;switch(x.tag){case 0:case 11:case 15:Da(u,x),N&4&&Ml(5,x);break;case 1:if(Da(u,x),N&4)if(u=x.stateNode,f===null)try{u.componentDidMount()}catch(te){Pr(x,x.return,te)}else{var M=_a(x.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(M,f,u.__reactInternalSnapshotBeforeUpdate)}catch(te){Pr(x,x.return,te)}}N&64&&yb(x),N&512&&ru(x,x.return);break;case 3:if(Da(u,x),N&64&&(u=x.updateQueue,u!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=x.child.stateNode;break;case 1:f=x.child.stateNode}try{Cp(u,f)}catch(te){Pr(x,x.return,te)}}break;case 27:f===null&&N&4&&Uv(x);case 26:case 5:Da(u,x),f===null&&N&4&&vb(x),N&512&&ru(x,x.return);break;case 12:Da(u,x);break;case 13:Da(u,x),N&4&&Yv(u,x),N&64&&(u=x.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(x=Q1.bind(null,x),so(u,x))));break;case 22:if(N=x.memoizedState!==null||Sa,!N){f=f!==null&&f.memoizedState!==null||fn,M=Sa;var L=fn;Sa=N,(fn=f)&&!L?Rl(u,x,(x.subtreeFlags&8772)!==0):Da(u,x),Sa=M,fn=L}break;case 30:break;default:Da(u,x)}}function Hv(u){var f=u.alternate;f!==null&&(u.alternate=null,Hv(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&ol(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Jr=null,Jn=!1;function Ea(u,f,x){for(x=x.child;x!==null;)qv(u,f,x),x=x.sibling}function qv(u,f,x){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Yt,x)}catch{}switch(x.tag){case 26:fn||Ln(x,f),Ea(u,f,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:fn||Ln(x,f);var N=Jr,M=Jn;sr(x.type)&&(Jr=x.stateNode,Jn=!1),Ea(u,f,x),zc(x.stateNode),Jr=N,Jn=M;break;case 5:fn||Ln(x,f);case 6:if(N=Jr,M=Jn,Jr=null,Ea(u,f,x),Jr=N,Jn=M,Jr!==null)if(Jn)try{(Jr.nodeType===9?Jr.body:Jr.nodeName==="HTML"?Jr.ownerDocument.body:Jr).removeChild(x.stateNode)}catch(L){Pr(x,f,L)}else try{Jr.removeChild(x.stateNode)}catch(L){Pr(x,f,L)}break;case 18:Jr!==null&&(Jn?(u=Jr,en(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,x.stateNode),dm(u)):en(Jr,x.stateNode));break;case 4:N=Jr,M=Jn,Jr=x.stateNode.containerInfo,Jn=!0,Ea(u,f,x),Jr=N,Jn=M;break;case 0:case 11:case 14:case 15:fn||Tl(2,x,f),fn||Tl(4,x,f),Ea(u,f,x);break;case 1:fn||(Ln(x,f),N=x.stateNode,typeof N.componentWillUnmount=="function"&&xb(x,f,N)),Ea(u,f,x);break;case 21:Ea(u,f,x);break;case 22:fn=(N=fn)||x.memoizedState!==null,Ea(u,f,x),fn=N;break;default:Ea(u,f,x)}}function Yv(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{dm(u)}catch(x){Pr(f,f.return,x)}}function Yp(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new Gv),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new Gv),f;default:throw Error(i(435,u.tag))}}function _b(u,f){var x=Yp(u);f.forEach(function(N){var M=J1.bind(null,u,N);x.has(N)||(x.add(N),N.then(M,M))})}function Co(u,f){var x=f.deletions;if(x!==null)for(var N=0;N<x.length;N++){var M=x[N],L=u,te=f,ce=te;e:for(;ce!==null;){switch(ce.tag){case 27:if(sr(ce.type)){Jr=ce.stateNode,Jn=!1;break e}break;case 5:Jr=ce.stateNode,Jn=!1;break e;case 3:case 4:Jr=ce.stateNode.containerInfo,Jn=!0;break e}ce=ce.return}if(Jr===null)throw Error(i(160));qv(L,te,M),Jr=null,Jn=!1,L=M.alternate,L!==null&&(L.return=null),M.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Ab(f,u),f=f.sibling}var xi=null;function Ab(u,f){var x=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Co(f,u),_o(u),N&4&&(Tl(3,u,u.return),Ml(3,u),Tl(5,u,u.return));break;case 1:Co(f,u),_o(u),N&512&&(fn||x===null||Ln(x,x.return)),N&64&&Sa&&(u=u.updateQueue,u!==null&&(N=u.callbacks,N!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?N:x.concat(N))));break;case 26:var M=xi;if(Co(f,u),_o(u),N&512&&(fn||x===null||Ln(x,x.return)),N&4){var L=x!==null?x.memoizedState:null;if(N=u.memoizedState,x===null)if(N===null)if(u.stateNode===null){e:{N=u.type,x=u.memoizedProps,M=M.ownerDocument||M;t:switch(N){case"title":L=M.getElementsByTagName("title")[0],(!L||L[Xs]||L[yr]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=M.createElement(N),M.head.insertBefore(L,M.querySelector("head > title"))),ms(L,N,x),L[yr]=u,$r(L),N=L;break e;case"link":var te=_0("link","href",M).get(N+(x.href||""));if(te){for(var ce=0;ce<te.length;ce++)if(L=te[ce],L.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&L.getAttribute("rel")===(x.rel==null?null:x.rel)&&L.getAttribute("title")===(x.title==null?null:x.title)&&L.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){te.splice(ce,1);break t}}L=M.createElement(N),ms(L,N,x),M.head.appendChild(L);break;case"meta":if(te=_0("meta","content",M).get(N+(x.content||""))){for(ce=0;ce<te.length;ce++)if(L=te[ce],L.getAttribute("content")===(x.content==null?null:""+x.content)&&L.getAttribute("name")===(x.name==null?null:x.name)&&L.getAttribute("property")===(x.property==null?null:x.property)&&L.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&L.getAttribute("charset")===(x.charSet==null?null:x.charSet)){te.splice(ce,1);break t}}L=M.createElement(N),ms(L,N,x),M.head.appendChild(L);break;default:throw Error(i(468,N))}L[yr]=u,$r(L),N=L}u.stateNode=N}else A0(M,u.type,u.stateNode);else u.stateNode=$b(M,N,u.memoizedProps);else L!==N?(L===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):L.count--,N===null?A0(M,u.type,u.stateNode):$b(M,N,u.memoizedProps)):N===null&&u.stateNode!==null&&Il(u,u.memoizedProps,x.memoizedProps)}break;case 27:Co(f,u),_o(u),N&512&&(fn||x===null||Ln(x,x.return)),x!==null&&N&4&&Il(u,u.memoizedProps,x.memoizedProps);break;case 5:if(Co(f,u),_o(u),N&512&&(fn||x===null||Ln(x,x.return)),u.flags&32){M=u.stateNode;try{Ls(M,"")}catch(Me){Pr(u,u.return,Me)}}N&4&&u.stateNode!=null&&(M=u.memoizedProps,Il(u,M,x!==null?x.memoizedProps:M)),N&1024&&(kb=!0);break;case 6:if(Co(f,u),_o(u),N&4){if(u.stateNode===null)throw Error(i(162));N=u.memoizedProps,x=u.stateNode;try{x.nodeValue=N}catch(Me){Pr(u,u.return,Me)}}break;case 3:if(Gc=null,M=xi,xi=rm(f.containerInfo),Co(f,u),xi=M,_o(u),N&4&&x!==null&&x.memoizedState.isDehydrated)try{dm(f.containerInfo)}catch(Me){Pr(u,u.return,Me)}kb&&(kb=!1,Wv(u));break;case 4:N=xi,xi=rm(u.stateNode.containerInfo),Co(f,u),_o(u),xi=N;break;case 12:Co(f,u),_o(u);break;case 13:Co(f,u),_o(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Te=at()),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,_b(u,N)));break;case 22:M=u.memoizedState!==null;var ge=x!==null&&x.memoizedState!==null,Ee=Sa,Ve=fn;if(Sa=Ee||M,fn=Ve||ge,Co(f,u),fn=Ve,Sa=Ee,_o(u),N&8192)e:for(f=u.stateNode,f._visibility=M?f._visibility&-2:f._visibility|1,M&&(x===null||ge||Sa||fn||Ma(u)),x=null,f=u;;){if(f.tag===5||f.tag===26){if(x===null){ge=x=f;try{if(L=ge.stateNode,M)te=L.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{ce=ge.stateNode;var He=ge.memoizedProps.style,De=He!=null&&He.hasOwnProperty("display")?He.display:null;ce.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Me){Pr(ge,ge.return,Me)}}}else if(f.tag===6){if(x===null){ge=f;try{ge.stateNode.nodeValue=M?"":ge.memoizedProps}catch(Me){Pr(ge,ge.return,Me)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}N&4&&(N=u.updateQueue,N!==null&&(x=N.retryQueue,x!==null&&(N.retryQueue=null,_b(u,x))));break;case 19:Co(f,u),_o(u),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,_b(u,N)));break;case 30:break;case 21:break;default:Co(f,u),_o(u)}}function _o(u){var f=u.flags;if(f&2){try{for(var x,N=u.return;N!==null;){if(ja(N)){x=N;break}N=N.return}if(x==null)throw Error(i(160));switch(x.tag){case 27:var M=x.stateNode,L=wb(u);qp(u,L,M);break;case 5:var te=x.stateNode;x.flags&32&&(Ls(te,""),x.flags&=-33);var ce=wb(u);qp(u,ce,te);break;case 3:case 4:var ge=x.stateNode.containerInfo,Ee=wb(u);zh(u,Ee,ge);break;default:throw Error(i(161))}}catch(Ve){Pr(u,u.return,Ve)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function Wv(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;Wv(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Da(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Cb(u,f.alternate,f),f=f.sibling}function Ma(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Tl(4,f,f.return),Ma(f);break;case 1:Ln(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&xb(f,f.return,x),Ma(f);break;case 27:zc(f.stateNode);case 26:case 5:Ln(f,f.return),Ma(f);break;case 22:f.memoizedState===null&&Ma(f);break;case 30:Ma(f);break;default:Ma(f)}u=u.sibling}}function Rl(u,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var N=f.alternate,M=u,L=f,te=L.flags;switch(L.tag){case 0:case 11:case 15:Rl(M,L,x),Ml(4,L);break;case 1:if(Rl(M,L,x),N=L,M=N.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Ee){Pr(N,N.return,Ee)}if(N=L,M=N.updateQueue,M!==null){var ce=N.stateNode;try{var ge=M.shared.hiddenCallbacks;if(ge!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ge.length;M++)hv(ge[M],ce)}catch(Ee){Pr(N,N.return,Ee)}}x&&te&64&&yb(L),ru(L,L.return);break;case 27:Uv(L);case 26:case 5:Rl(M,L,x),x&&N===null&&te&4&&vb(L),ru(L,L.return);break;case 12:Rl(M,L,x);break;case 13:Rl(M,L,x),x&&te&4&&Yv(M,L);break;case 22:L.memoizedState===null&&Rl(M,L,x),ru(L,L.return);break;case 30:break;default:Rl(M,L,x)}f=f.sibling}}function Nb(u,f){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&Ld(x))}function jb(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ld(u))}function vi(u,f,x,N){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Sb(u,f,x,N),f=f.sibling}function Sb(u,f,x,N){var M=f.flags;switch(f.tag){case 0:case 11:case 15:vi(u,f,x,N),M&2048&&Ml(9,f);break;case 1:vi(u,f,x,N);break;case 3:vi(u,f,x,N),M&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ld(u)));break;case 12:if(M&2048){vi(u,f,x,N),u=f.stateNode;try{var L=f.memoizedProps,te=L.id,ce=L.onPostCommit;typeof ce=="function"&&ce(te,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ge){Pr(f,f.return,ge)}}else vi(u,f,x,N);break;case 13:vi(u,f,x,N);break;case 23:break;case 22:L=f.stateNode,te=f.alternate,f.memoizedState!==null?L._visibility&2?vi(u,f,x,N):nu(u,f):L._visibility&2?vi(u,f,x,N):(L._visibility|=2,Ta(u,f,x,N,(f.subtreeFlags&10256)!==0)),M&2048&&Nb(te,f);break;case 24:vi(u,f,x,N),M&2048&&jb(f.alternate,f);break;default:vi(u,f,x,N)}}function Ta(u,f,x,N,M){for(M=M&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var L=u,te=f,ce=x,ge=N,Ee=te.flags;switch(te.tag){case 0:case 11:case 15:Ta(L,te,ce,ge,M),Ml(8,te);break;case 23:break;case 22:var Ve=te.stateNode;te.memoizedState!==null?Ve._visibility&2?Ta(L,te,ce,ge,M):nu(L,te):(Ve._visibility|=2,Ta(L,te,ce,ge,M)),M&&Ee&2048&&Nb(te.alternate,te);break;case 24:Ta(L,te,ce,ge,M),M&&Ee&2048&&jb(te.alternate,te);break;default:Ta(L,te,ce,ge,M)}f=f.sibling}}function nu(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=u,N=f,M=N.flags;switch(N.tag){case 22:nu(x,N),M&2048&&Nb(N.alternate,N);break;case 24:nu(x,N),M&2048&&jb(N.alternate,N);break;default:nu(x,N)}f=f.sibling}}var Fh=8192;function Ic(u){if(u.subtreeFlags&Fh)for(u=u.child;u!==null;)Kv(u),u=u.sibling}function Kv(u){switch(u.tag){case 26:Ic(u),u.flags&Fh&&u.memoizedState!==null&&N0(xi,u.memoizedState,u.memoizedProps);break;case 5:Ic(u);break;case 3:case 4:var f=xi;xi=rm(u.stateNode.containerInfo),Ic(u),xi=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Fh,Fh=16777216,Ic(u),Fh=f):Ic(u));break;default:Ic(u)}}function Eb(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Vh(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var N=f[x];Qn=N,Qv(N,u)}Eb(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Uh(u),u=u.sibling}function Uh(u){switch(u.tag){case 0:case 11:case 15:Vh(u),u.flags&2048&&Tl(9,u,u.return);break;case 3:Vh(u);break;case 12:Vh(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,Wp(u)):Vh(u);break;default:Vh(u)}}function Wp(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var N=f[x];Qn=N,Qv(N,u)}Eb(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Tl(8,f,f.return),Wp(f);break;case 22:x=f.stateNode,x._visibility&2&&(x._visibility&=-3,Wp(f));break;default:Wp(f)}u=u.sibling}}function Qv(u,f){for(;Qn!==null;){var x=Qn;switch(x.tag){case 0:case 11:case 15:Tl(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var N=x.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:Ld(x.memoizedState.cache)}if(N=x.child,N!==null)N.return=x,Qn=N;else e:for(x=u;Qn!==null;){N=Qn;var M=N.sibling,L=N.return;if(Hv(N),N===x){Qn=null;break e}if(M!==null){M.return=L,Qn=M;break e}Qn=L}}}var Jv={getCacheForType:function(u){var f=cs(En),x=f.data.get(u);return x===void 0&&(x=u(),f.data.set(u,x)),x}},Xv=typeof WeakMap=="function"?WeakMap:Map,Mr=0,Hr=null,Xt=null,Ft=0,Tr=0,Mn=null,Zs=!1,Yi=!1,Nr=!1,zn=0,xt=0,us=0,Ao=0,Qe=0,Ns=0,Rc=0,su=null,Us=null,Gh=!1,Te=0,Hh=1/0,Kp=null,wi=null,hs=0,Pl=null,ou=null,Pc=0,Db=0,Mb=null,Tb=null,Oc=0,Qp=null;function eo(){if((Mr&2)!==0&&Ft!==0)return Ft&-Ft;if(ie.T!==null){var u=zd;return u!==0?u:Gb()}return br()}function $v(){Ns===0&&(Ns=(Ft&536870912)===0||lr?Js():536870912);var u=Wn.current;return u!==null&&(u.flags|=32),Ns}function to(u,f,x){(u===Hr&&(Tr===2||Tr===9)||u.cancelPendingCommit!==null)&&(au(u,0),Ia(u,Ft,Ns,!1)),ir(u,x),((Mr&2)===0||u!==Hr)&&(u===Hr&&((Mr&2)===0&&(Ao|=x),xt===4&&Ia(u,Ft,Ns,!1)),Go(u))}function ro(u,f,x){if((Mr&6)!==0)throw Error(i(327));var N=!x&&(f&124)===0&&(f&u.expiredLanes)===0||Pt(u,f),M=N?qh(u,f):No(u,f,!0),L=N;do{if(M===0){Yi&&!N&&Ia(u,f,0,!1);break}else{if(x=u.current.alternate,L&&!W1(x)){M=No(u,f,!1),L=!1;continue}if(M===2){if(L=f,u.errorRecoveryDisabledLanes&L)var te=0;else te=u.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){f=te;e:{var ce=u;M=su;var ge=ce.current.memoizedState.isDehydrated;if(ge&&(au(ce,te).flags|=256),te=No(ce,te,!1),te!==2){if(Nr&&!ge){ce.errorRecoveryDisabledLanes|=L,Ao|=L,M=4;break e}L=Us,Us=M,L!==null&&(Us===null?Us=L:Us.push.apply(Us,L))}M=te}if(L=!1,M!==2)continue}}if(M===1){au(u,0),Ia(u,f,0,!0);break}e:{switch(N=u,L=M,L){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Ia(N,f,Ns,!Zs);break e;case 2:Us=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(M=Te+300-at(),10<M)){if(Ia(N,f,Ns,!Zs),Jt(N,0,!0)!==0)break e;N.timeoutHandle=pu(Ib.bind(null,N,x,Us,Kp,Gh,f,Ns,Ao,Rc,Zs,L,2,-0,0),M);break e}Ib(N,x,Us,Kp,Gh,f,Ns,Ao,Rc,Zs,L,0,-0,0)}}break}while(!0);Go(u)}function Ib(u,f,x,N,M,L,te,ce,ge,Ee,Ve,He,De,Me){if(u.timeoutHandle=-1,He=f.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(om={stylesheets:null,count:0,unsuspend:cC},Kv(f),He=j0(),He!==null)){u.cancelPendingCommit=He(Ob.bind(null,u,f,L,x,N,M,te,ce,ge,Ve,1,De,Me)),Ia(u,L,te,!Ee);return}Ob(u,f,L,x,N,M,te,ce,ge)}function W1(u){for(var f=u;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var N=0;N<x.length;N++){var M=x[N],L=M.getSnapshot;M=M.value;try{if(!$s(L(),M))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ia(u,f,x,N){f&=~Qe,f&=~Ao,u.suspendedLanes|=f,u.pingedLanes&=~f,N&&(u.warmLanes|=f),N=u.expirationTimes;for(var M=f;0<M;){var L=31-lt(M),te=1<<L;N[L]=-1,M&=~te}x!==0&&Wr(u,x,f)}function iu(){return(Mr&6)===0?(uu(0),!1):!0}function Rb(){if(Xt!==null){if(Tr===0)var u=Xt.return;else u=Xt,hi=Cs=null,qg(u),Sl=null,Nc=0,u=Xt;for(;u!==null;)bb(u.alternate,u),u=u.return;Xt=null}}function au(u,f){var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,tm(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),Rb(),Hr=u,Xt=x=vo(u.current,null),Ft=f,Tr=0,Mn=null,Zs=!1,Yi=Pt(u,f),Nr=!1,Rc=Ns=Qe=Ao=us=xt=0,Us=su=null,Gh=!1,(f&8)!==0&&(f|=f&32);var N=u.entangledLanes;if(N!==0)for(u=u.entanglements,N&=f;0<N;){var M=31-lt(N),L=1<<M;f|=u[M],N&=~L}return zn=f,gc(),x}function Uo(u,f){Gt=null,ie.H=Rp,f===Cc||f===Ah?(f=Lg(),Tr=3):f===Rg?(f=Lg(),Tr=4):Tr=f===Bv?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Mn=f,Xt===null&&(xt=1,Zd(u,xo(f,u.current)))}function Zv(){var u=ie.H;return ie.H=Rp,u===null?Rp:u}function e0(){var u=ie.A;return ie.A=Jv,u}function lu(){xt=4,Zs||(Ft&4194048)!==Ft&&Wn.current!==null||(Yi=!0),(us&134217727)===0&&(Ao&134217727)===0||Hr===null||Ia(Hr,Ft,Ns,!1)}function No(u,f,x){var N=Mr;Mr|=2;var M=Zv(),L=e0();(Hr!==u||Ft!==f)&&(Kp=null,au(u,f)),f=!1;var te=xt;e:do try{if(Tr!==0&&Xt!==null){var ce=Xt,ge=Mn;switch(Tr){case 8:Rb(),te=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(f=!0);var Ee=Tr;if(Tr=0,Mn=null,Bc(u,ce,ge,Ee),x&&Yi){te=0;break e}break;default:Ee=Tr,Tr=0,Mn=null,Bc(u,ce,ge,Ee)}}K1(),te=xt;break}catch(Ve){Uo(u,Ve)}while(!0);return f&&u.shellSuspendCounter++,hi=Cs=null,Mr=N,ie.H=M,ie.A=L,Xt===null&&(Hr=null,Ft=0,gc()),te}function K1(){for(;Xt!==null;)r0(Xt)}function qh(u,f){var x=Mr;Mr|=2;var N=Zv(),M=e0();Hr!==u||Ft!==f?(Kp=null,Hh=at()+500,au(u,f)):Yi=Pt(u,f);e:do try{if(Tr!==0&&Xt!==null){f=Xt;var L=Mn;t:switch(Tr){case 1:Tr=0,Mn=null,Bc(u,f,L,1);break;case 2:case 9:if(Og(L)){Tr=0,Mn=null,Pb(f);break}f=function(){Tr!==2&&Tr!==9||Hr!==u||(Tr=7),Go(u)},L.then(f,f);break e;case 3:Tr=7;break e;case 4:Tr=5;break e;case 7:Og(L)?(Tr=0,Mn=null,Pb(f)):(Tr=0,Mn=null,Bc(u,f,L,7));break;case 5:var te=null;switch(Xt.tag){case 26:te=Xt.memoizedState;case 5:case 27:var ce=Xt;if(!te||ty(te)){Tr=0,Mn=null;var ge=ce.sibling;if(ge!==null)Xt=ge;else{var Ee=ce.return;Ee!==null?(Xt=Ee,Yh(Ee)):Xt=null}break t}}Tr=0,Mn=null,Bc(u,f,L,5);break;case 6:Tr=0,Mn=null,Bc(u,f,L,6);break;case 8:Rb(),xt=6;break e;default:throw Error(i(462))}}t0();break}catch(Ve){Uo(u,Ve)}while(!0);return hi=Cs=null,ie.H=N,ie.A=M,Mr=x,Xt!==null?0:(Hr=null,Ft=0,gc(),xt)}function t0(){for(;Xt!==null&&!Lt();)r0(Xt)}function r0(u){var f=Fv(u.alternate,u,zn);u.memoizedProps=u.pendingProps,f===null?Yh(u):Xt=f}function Pb(u){var f=u,x=f.alternate;switch(f.tag){case 15:case 0:f=Fp(x,f,f.pendingProps,f.type,void 0,Ft);break;case 11:f=Fp(x,f,f.pendingProps,f.type.render,f.ref,Ft);break;case 5:qg(f);default:bb(x,f),f=Xt=xl(f,zn),f=Fv(x,f,zn)}u.memoizedProps=u.pendingProps,f===null?Yh(u):Xt=f}function Bc(u,f,x,N){hi=Cs=null,qg(f),Sl=null,Nc=0;var M=f.return;try{if(cb(u,M,f,x,Ft)){xt=1,Zd(u,xo(x,u.current)),Xt=null;return}}catch(L){if(M!==null)throw Xt=M,L;xt=1,Zd(u,xo(x,u.current)),Xt=null;return}f.flags&32768?(lr||N===1?u=!0:Yi||(Ft&536870912)!==0?u=!1:(Zs=u=!0,(N===2||N===9||N===3||N===6)&&(N=Wn.current,N!==null&&N.tag===13&&(N.flags|=16384))),cu(f,u)):Yh(f)}function Yh(u){var f=u;do{if((f.flags&32768)!==0){cu(f,Zs);return}u=f.return;var x=q1(f.alternate,f,zn);if(x!==null){Xt=x;return}if(f=f.sibling,f!==null){Xt=f;return}Xt=f=u}while(f!==null);xt===0&&(xt=5)}function cu(u,f){do{var x=Hp(u.alternate,u);if(x!==null){x.flags&=32767,Xt=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(u=u.sibling,u!==null)){Xt=u;return}Xt=u=x}while(u!==null);xt=6,Xt=null}function Ob(u,f,x,N,M,L,te,ce,ge){u.cancelPendingCommit=null;do Wh();while(hs!==0);if((Mr&6)!==0)throw Error(i(327));if(f!==null){if(f===u.current)throw Error(i(177));if(L=f.lanes|f.childLanes,L|=_r,On(u,x,L,te,ce,ge),u===Hr&&(Xt=Hr=null,Ft=0),ou=f,Pl=u,Pc=x,Db=L,Mb=M,Tb=N,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,a0(Yr,function(){return n0(),null})):(u.callbackNode=null,u.callbackPriority=0),N=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||N){N=ie.T,ie.T=null,M=ae.p,ae.p=2,te=Mr,Mr|=4;try{Y1(u,f,x)}finally{Mr=te,ae.p=M,ie.T=N}}hs=1,Bb(),Jp(),Lb()}}function Bb(){if(hs===1){hs=0;var u=Pl,f=ou,x=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||x){x=ie.T,ie.T=null;var N=ae.p;ae.p=2;var M=Mr;Mr|=4;try{Ab(f,u);var L=Zh,te=nv(u.containerInfo),ce=L.focusedElem,ge=L.selectionRange;if(te!==ce&&ce&&ce.ownerDocument&&Cg(ce.ownerDocument.documentElement,ce)){if(ge!==null&&_g(ce)){var Ee=ge.start,Ve=ge.end;if(Ve===void 0&&(Ve=Ee),"selectionStart"in ce)ce.selectionStart=Ee,ce.selectionEnd=Math.min(Ve,ce.value.length);else{var He=ce.ownerDocument||document,De=He&&He.defaultView||window;if(De.getSelection){var Me=De.getSelection(),Ct=ce.textContent.length,yt=Math.min(ge.start,Ct),Ir=ge.end===void 0?yt:Math.min(ge.end,Ct);!Me.extend&&yt>Ir&&(te=Ir,Ir=yt,yt=te);var ke=rv(ce,yt),ve=rv(ce,Ir);if(ke&&ve&&(Me.rangeCount!==1||Me.anchorNode!==ke.node||Me.anchorOffset!==ke.offset||Me.focusNode!==ve.node||Me.focusOffset!==ve.offset)){var je=He.createRange();je.setStart(ke.node,ke.offset),Me.removeAllRanges(),yt>Ir?(Me.addRange(je),Me.extend(ve.node,ve.offset)):(je.setEnd(ve.node,ve.offset),Me.addRange(je))}}}}for(He=[],Me=ce;Me=Me.parentNode;)Me.nodeType===1&&He.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<He.length;ce++){var Ue=He[ce];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Ba=!!Qb,Zh=Qb=null}finally{Mr=M,ae.p=N,ie.T=x}}u.current=f,hs=2}}function Jp(){if(hs===2){hs=0;var u=Pl,f=ou,x=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||x){x=ie.T,ie.T=null;var N=ae.p;ae.p=2;var M=Mr;Mr|=4;try{Cb(u,f.alternate,f)}finally{Mr=M,ae.p=N,ie.T=x}}hs=3}}function Lb(){if(hs===4||hs===3){hs=0,Ne();var u=Pl,f=ou,x=Pc,N=Tb;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?hs=5:(hs=0,ou=Pl=null,zb(u,u.pendingLanes));var M=u.pendingLanes;if(M===0&&(wi=null),_n(x),f=f.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Yt,f,void 0,(f.current.flags&128)===128)}catch{}if(N!==null){f=ie.T,M=ae.p,ae.p=2,ie.T=null;try{for(var L=u.onRecoverableError,te=0;te<N.length;te++){var ce=N[te];L(ce.value,{componentStack:ce.stack})}}finally{ie.T=f,ae.p=M}}(Pc&3)!==0&&Wh(),Go(u),M=u.pendingLanes,(x&4194090)!==0&&(M&42)!==0?u===Qp?Oc++:(Oc=0,Qp=u):Oc=0,uu(0)}}function zb(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Ld(f)))}function Wh(u){return Bb(),Jp(),Lb(),n0()}function n0(){if(hs!==5)return!1;var u=Pl,f=Db;Db=0;var x=_n(Pc),N=ie.T,M=ae.p;try{ae.p=32>x?32:x,ie.T=null,x=Mb,Mb=null;var L=Pl,te=Pc;if(hs=0,ou=Pl=null,Pc=0,(Mr&6)!==0)throw Error(i(331));var ce=Mr;if(Mr|=4,Uh(L.current),Sb(L,L.current,te,x),Mr=ce,uu(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Yt,L)}catch{}return!0}finally{ae.p=M,ie.T=N,zb(u,f)}}function s0(u,f,x){f=xo(x,f),f=eu(u.stateNode,f,2),u=wa(u,f,2),u!==null&&(ir(u,2),Go(u))}function Pr(u,f,x){if(u.tag===3)s0(u,u,x);else for(;f!==null;){if(f.tag===3){s0(f,u,x);break}else if(f.tag===1){var N=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(wi===null||!wi.has(N))){u=xo(x,u),x=Pv(2),N=wa(f,x,2),N!==null&&(Ov(x,N,f,u),ir(N,2),Go(N));break}}f=f.return}}function Xp(u,f,x){var N=u.pingCache;if(N===null){N=u.pingCache=new Xv;var M=new Set;N.set(f,M)}else M=N.get(f),M===void 0&&(M=new Set,N.set(f,M));M.has(x)||(Nr=!0,M.add(x),u=o0.bind(null,u,f,x),f.then(u,u))}function o0(u,f,x){var N=u.pingCache;N!==null&&N.delete(f),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,Hr===u&&(Ft&x)===x&&(xt===4||xt===3&&(Ft&62914560)===Ft&&300>at()-Te?(Mr&2)===0&&au(u,0):Qe|=x,Rc===Ft&&(Rc=0)),Go(u)}function i0(u,f){f===0&&(f=Ts()),u=bc(u,f),u!==null&&(ir(u,f),Go(u))}function Q1(u){var f=u.memoizedState,x=0;f!==null&&(x=f.retryLane),i0(u,x)}function J1(u,f){var x=0;switch(u.tag){case 13:var N=u.stateNode,M=u.memoizedState;M!==null&&(x=M.retryLane);break;case 19:N=u.stateNode;break;case 22:N=u.stateNode._retryCache;break;default:throw Error(i(314))}N!==null&&N.delete(f),i0(u,x)}function a0(u,f){return Je(u,f)}var $p=null,du=null,Zp=!1,ef=!1,tf=!1,Ra=0;function Go(u){u!==du&&u.next===null&&(du===null?$p=du=u:du=du.next=u),ef=!0,Zp||(Zp=!0,d0())}function uu(u,f){if(!tf&&ef){tf=!0;do for(var x=!1,N=$p;N!==null;){if(u!==0){var M=N.pendingLanes;if(M===0)var L=0;else{var te=N.suspendedLanes,ce=N.pingedLanes;L=(1<<31-lt(42|u)+1)-1,L&=M&~(te&~ce),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(x=!0,Ub(N,L))}else L=Ft,L=Jt(N,N===Hr?L:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(L&3)===0||Pt(N,L)||(x=!0,Ub(N,L));N=N.next}while(x);tf=!1}}function l0(){Fb()}function Fb(){ef=Zp=!1;var u=0;Ra!==0&&(g0()&&(u=Ra),Ra=0);for(var f=at(),x=null,N=$p;N!==null;){var M=N.next,L=c0(N,f);L===0?(N.next=null,x===null?$p=M:x.next=M,M===null&&(du=x)):(x=N,(u!==0||(L&3)!==0)&&(ef=!0)),N=M}uu(u)}function c0(u,f){for(var x=u.suspendedLanes,N=u.pingedLanes,M=u.expirationTimes,L=u.pendingLanes&-62914561;0<L;){var te=31-lt(L),ce=1<<te,ge=M[te];ge===-1?((ce&x)===0||(ce&N)!==0)&&(M[te]=Dt(ce,f)):ge<=f&&(u.expiredLanes|=ce),L&=~ce}if(f=Hr,x=Ft,x=Jt(u,u===f?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),N=u.callbackNode,x===0||u===f&&(Tr===2||Tr===9)||u.cancelPendingCommit!==null)return N!==null&&N!==null&&nt(N),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||Pt(u,x)){if(f=x&-x,f===u.callbackPriority)return f;switch(N!==null&&nt(N),_n(x)){case 2:case 8:x=nn;break;case 32:x=Yr;break;case 268435456:x=Cr;break;default:x=Yr}return N=Vb.bind(null,u),x=Je(x,N),u.callbackPriority=f,u.callbackNode=x,f}return N!==null&&N!==null&&nt(N),u.callbackPriority=2,u.callbackNode=null,2}function Vb(u,f){if(hs!==0&&hs!==5)return u.callbackNode=null,u.callbackPriority=0,null;var x=u.callbackNode;if(Wh()&&u.callbackNode!==x)return null;var N=Ft;return N=Jt(u,u===Hr?N:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),N===0?null:(ro(u,N,f),c0(u,at()),u.callbackNode!=null&&u.callbackNode===x?Vb.bind(null,u):null)}function Ub(u,f){if(Wh())return null;ro(u,f,!0)}function d0(){fr(function(){(Mr&6)!==0?Je(Sr,l0):Fb()})}function Gb(){return Ra===0&&(Ra=Js()),Ra}function hu(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ad(""+u)}function Kh(u,f){var x=f.ownerDocument.createElement("input");return x.name=f.name,x.value=f.value,u.id&&x.setAttribute("form",u.id),f.parentNode.insertBefore(x,f),u=new FormData(u),x.parentNode.removeChild(x),u}function X1(u,f,x,N,M){if(f==="submit"&&x&&x.stateNode===M){var L=hu((M[xr]||null).action),te=N.submitter;te&&(f=(f=te[xr]||null)?hu(f.formAction):te.getAttribute("formAction"),f!==null&&(L=f,te=null));var ce=new Fi("action","action",null,N,M);u.push({event:ce,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(Ra!==0){var ge=te?Kh(M,te):new FormData(M);rb(x,{pending:!0,data:ge,method:M.method,action:L},null,ge)}}else typeof L=="function"&&(ce.preventDefault(),ge=te?Kh(M,te):new FormData(M),rb(x,{pending:!0,data:ge,method:M.method,action:L},L,ge))},currentTarget:M}]})}}for(var Hb=0;Hb<Mt.length;Hb++){var Pa=Mt[Hb],$1=Pa.toLowerCase(),Z1=Pa[0].toUpperCase()+Pa.slice(1);yo($1,"on"+Z1)}yo(ov,"onAnimationEnd"),yo(xa,"onAnimationIteration"),yo(gh,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(iv,"onTransitionRun"),yo(yl,"onTransitionStart"),yo(O1,"onTransitionCancel"),yo(Ng,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qh));function u0(u,f){f=(f&4)!==0;for(var x=0;x<u.length;x++){var N=u[x],M=N.event;N=N.listeners;e:{var L=void 0;if(f)for(var te=N.length-1;0<=te;te--){var ce=N[te],ge=ce.instance,Ee=ce.currentTarget;if(ce=ce.listener,ge!==L&&M.isPropagationStopped())break e;L=ce,M.currentTarget=Ee;try{L(M)}catch(Ve){Dc(Ve)}M.currentTarget=null,L=ge}else for(te=0;te<N.length;te++){if(ce=N[te],ge=ce.instance,Ee=ce.currentTarget,ce=ce.listener,ge!==L&&M.isPropagationStopped())break e;L=ce,M.currentTarget=Ee;try{L(M)}catch(Ve){Dc(Ve)}M.currentTarget=null,L=ge}}}}function $t(u,f){var x=f[si];x===void 0&&(x=f[si]=new Set);var N=u+"__bubble";x.has(N)||(Ol(f,u,2,!1),x.add(N))}function qb(u,f,x){var N=0;f&&(N|=4),Ol(x,u,N,f)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Yb(u){if(!u[rf]){u[rf]=!0,xd.forEach(function(x){x!=="selectionchange"&&(eC.has(x)||qb(x,!1,u),qb(x,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[rf]||(f[rf]=!0,qb("selectionchange",!1,f))}}function Ol(u,f,x,N){switch(I0(f)){case 2:var M=uC;break;case 8:M=La;break;default:M=sy}x=M.bind(null,f,x,u),M=void 0,!bo||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),N?M!==void 0?u.addEventListener(f,x,{capture:!0,passive:M}):u.addEventListener(f,x,!0):M!==void 0?u.addEventListener(f,x,{passive:M}):u.addEventListener(f,x,!1)}function Wb(u,f,x,N,M){var L=N;if((f&1)===0&&(f&2)===0&&N!==null)e:for(;;){if(N===null)return;var te=N.tag;if(te===3||te===4){var ce=N.stateNode.containerInfo;if(ce===M)break;if(te===4)for(te=N.return;te!==null;){var ge=te.tag;if((ge===3||ge===4)&&te.stateNode.containerInfo===M)return;te=te.return}for(;ce!==null;){if(te=aa(ce),te===null)return;if(ge=te.tag,ge===5||ge===6||ge===26||ge===27){N=L=te;continue e}ce=ce.parentNode}}N=N.return}np(function(){var Ee=L,Ve=as(x),He=[];e:{var De=up.get(u);if(De!==void 0){var Me=Fi,Ct=u;switch(u){case"keypress":if(ci(x)===0)break e;case"keydown":case"keyup":Me=mc;break;case"focusin":Ct="focus",Me=Sd;break;case"focusout":Ct="blur",Me=Sd;break;case"beforeblur":case"afterblur":Me=Sd;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=ip;break;case ov:case xa:case gh:Me=ml;break;case Ng:Me=Md;break;case"scroll":case"scrollend":Me=fa;break;case"wheel":Me=pc;break;case"copy":case"cut":case"paste":Me=Ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=uh;break;case"toggle":case"beforetoggle":Me=lp}var yt=(f&4)!==0,Ir=!yt&&(u==="scroll"||u==="scrollend"),ke=yt?De!==null?De+"Capture":null:De;yt=[];for(var ve=Ee,je;ve!==null;){var Ue=ve;if(je=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||je===null||ke===null||(Ue=ha(ve,ke),Ue!=null&&yt.push(Jh(ve,Ue,je))),Ir)break;ve=ve.return}0<yt.length&&(De=new Me(De,Ct,null,x,Ve),He.push({event:De,listeners:yt}))}}if((f&7)===0){e:{if(De=u==="mouseover"||u==="pointerover",Me=u==="mouseout"||u==="pointerout",De&&x!==ii&&(Ct=x.relatedTarget||x.fromElement)&&(aa(Ct)||Ct[on]))break e;if((Me||De)&&(De=Ve.window===Ve?Ve:(De=Ve.ownerDocument)?De.defaultView||De.parentWindow:window,Me?(Ct=x.relatedTarget||x.toElement,Me=Ee,Ct=Ct?aa(Ct):null,Ct!==null&&(Ir=h(Ct),yt=Ct.tag,Ct!==Ir||yt!==5&&yt!==27&&yt!==6)&&(Ct=null)):(Me=null,Ct=Ee),Me!==Ct)){if(yt=Io,Ue="onMouseLeave",ke="onMouseEnter",ve="mouse",(u==="pointerout"||u==="pointerover")&&(yt=uh,Ue="onPointerLeave",ke="onPointerEnter",ve="pointer"),Ir=Me==null?De:Ii(Me),je=Ct==null?De:Ii(Ct),De=new yt(Ue,ve+"leave",Me,x,Ve),De.target=Ir,De.relatedTarget=je,Ue=null,aa(Ve)===Ee&&(yt=new yt(ke,ve+"enter",Ct,x,Ve),yt.target=je,yt.relatedTarget=Ir,Ue=yt),Ir=Ue,Me&&Ct)t:{for(yt=Me,ke=Ct,ve=0,je=yt;je;je=mu(je))ve++;for(je=0,Ue=ke;Ue;Ue=mu(Ue))je++;for(;0<ve-je;)yt=mu(yt),ve--;for(;0<je-ve;)ke=mu(ke),je--;for(;ve--;){if(yt===ke||ke!==null&&yt===ke.alternate)break t;yt=mu(yt),ke=mu(ke)}yt=null}else yt=null;Me!==null&&h0(He,De,Me,yt,!1),Ct!==null&&Ir!==null&&h0(He,Ir,Ct,yt,!0)}}e:{if(De=Ee?Ii(Ee):window,Me=De.nodeName&&De.nodeName.toLowerCase(),Me==="select"||Me==="input"&&De.type==="file")var dt=Kx;else if(Bn(De))if(Qx)dt=tv;else{dt=ev;var Kt=Zx}else Me=De.nodeName,!Me||Me.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ee&&sh(Ee.elementType)&&(dt=Kx):dt=R1;if(dt&&(dt=dt(u,Ee))){ga(He,dt,x,Ve);break e}Kt&&Kt(u,De,Ee),u==="focusout"&&Ee&&De.type==="number"&&Ee.memoizedProps.value!=null&&ll(De,"number",De.value)}switch(Kt=Ee?Ii(Ee):window,u){case"focusin":(Bn(Kt)||Kt.contentEditable==="true")&&(Id=Kt,cp=Ee,Rd=null);break;case"focusout":Rd=cp=Id=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,zr(He,x,Ve);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":zr(He,x,Ve)}var ht;if(Po)e:{switch(u){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else rr?Ie(u,x)&&(ft="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(ft="onCompositionStart");ft&&($&&x.locale!=="ko"&&(rr||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&rr&&(ht=dc()):(li=Ve,To="value"in li?li.value:li.textContent,rr=!0)),Kt=Xh(Ee,ft),0<Kt.length&&(ft=new ah(ft,u,null,x,Ve),He.push({event:ft,listeners:Kt}),ht?ft.data=ht:(ht=et(x),ht!==null&&(ft.data=ht)))),(ht=H?jn(u,x):nr(u,x))&&(ft=Xh(Ee,"onBeforeInput"),0<ft.length&&(Kt=new ah("onBeforeInput","beforeinput",null,x,Ve),He.push({event:Kt,listeners:ft}),Kt.data=ht)),X1(He,u,Ee,x,Ve)}u0(He,f)})}function Jh(u,f,x){return{instance:u,listener:f,currentTarget:x}}function Xh(u,f){for(var x=f+"Capture",N=[];u!==null;){var M=u,L=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||L===null||(M=ha(u,x),M!=null&&N.unshift(Jh(u,M,L)),M=ha(u,f),M!=null&&N.push(Jh(u,M,L))),u.tag===3)return N;u=u.return}return[]}function mu(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function h0(u,f,x,N,M){for(var L=f._reactName,te=[];x!==null&&x!==N;){var ce=x,ge=ce.alternate,Ee=ce.stateNode;if(ce=ce.tag,ge!==null&&ge===N)break;ce!==5&&ce!==26&&ce!==27||Ee===null||(ge=Ee,M?(Ee=ha(x,L),Ee!=null&&te.unshift(Jh(x,Ee,ge))):M||(Ee=ha(x,L),Ee!=null&&te.push(Jh(x,Ee,ge)))),x=x.return}te.length!==0&&u.push({event:f,listeners:te})}var tC=/\r\n?/g,m0=/\u0000|\uFFFD/g;function p0(u){return(typeof u=="string"?u:""+u).replace(tC,`
`).replace(m0,"")}function f0(u,f){return f=p0(f),p0(u)===f}function $h(){}function Or(u,f,x,N,M,L){switch(x){case"children":typeof N=="string"?f==="body"||f==="textarea"&&N===""||Ls(u,N):(typeof N=="number"||typeof N=="bigint")&&f!=="body"&&Ls(u,""+N);break;case"className":Ri(u,"class",N);break;case"tabIndex":Ri(u,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(u,x,N);break;case"style":da(u,N,L);break;case"data":if(f!=="object"){Ri(u,"data",N);break}case"src":case"href":if(N===""&&(f!=="a"||x!=="href")){u.removeAttribute(x);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){u.removeAttribute(x);break}N=Ad(""+N),u.setAttribute(x,N);break;case"action":case"formAction":if(typeof N=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(x==="formAction"?(f!=="input"&&Or(u,f,"name",M.name,M,null),Or(u,f,"formEncType",M.formEncType,M,null),Or(u,f,"formMethod",M.formMethod,M,null),Or(u,f,"formTarget",M.formTarget,M,null)):(Or(u,f,"encType",M.encType,M,null),Or(u,f,"method",M.method,M,null),Or(u,f,"target",M.target,M,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){u.removeAttribute(x);break}N=Ad(""+N),u.setAttribute(x,N);break;case"onClick":N!=null&&(u.onclick=$h);break;case"onScroll":N!=null&&$t("scroll",u);break;case"onScrollEnd":N!=null&&$t("scrollend",u);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(i(61));if(x=N.__html,x!=null){if(M.children!=null)throw Error(i(60));u.innerHTML=x}}break;case"multiple":u.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":u.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){u.removeAttribute("xlink:href");break}x=Ad(""+N),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(x,""+N):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":N===!0?u.setAttribute(x,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(x,N):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?u.setAttribute(x,N):u.removeAttribute(x);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?u.removeAttribute(x):u.setAttribute(x,N);break;case"popover":$t("beforetoggle",u),$t("toggle",u),il(u,"popover",N);break;case"xlinkActuate":is(u,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":is(u,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":is(u,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":is(u,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":is(u,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":is(u,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":is(u,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":is(u,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":is(u,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":il(u,"is",N);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=_d.get(x)||x,il(u,x,N))}}function Kb(u,f,x,N,M,L){switch(x){case"style":da(u,N,L);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(i(61));if(x=N.__html,x!=null){if(M.children!=null)throw Error(i(60));u.innerHTML=x}}break;case"children":typeof N=="string"?Ls(u,N):(typeof N=="number"||typeof N=="bigint")&&Ls(u,""+N);break;case"onScroll":N!=null&&$t("scroll",u);break;case"onScrollEnd":N!=null&&$t("scrollend",u);break;case"onClick":N!=null&&(u.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(M=x.endsWith("Capture"),f=x.slice(2,M?x.length-7:void 0),L=u[xr]||null,L=L!=null?L[x]:null,typeof L=="function"&&u.removeEventListener(f,L,M),typeof N=="function")){typeof L!="function"&&L!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(f,N,M);break e}x in u?u[x]=N:N===!0?u.setAttribute(x,""):il(u,x,N)}}}function ms(u,f,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",u),$t("load",u);var N=!1,M=!1,L;for(L in x)if(x.hasOwnProperty(L)){var te=x[L];if(te!=null)switch(L){case"src":N=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Or(u,f,L,te,x,null)}}M&&Or(u,f,"srcSet",x.srcSet,x,null),N&&Or(u,f,"src",x.src,x,null);return;case"input":$t("invalid",u);var ce=L=te=M=null,ge=null,Ee=null;for(N in x)if(x.hasOwnProperty(N)){var Ve=x[N];if(Ve!=null)switch(N){case"name":M=Ve;break;case"type":te=Ve;break;case"checked":ge=Ve;break;case"defaultChecked":Ee=Ve;break;case"value":L=Ve;break;case"defaultValue":ce=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,f));break;default:Or(u,f,N,Ve,x,null)}}lc(u,L,ce,ge,Ee,te,M,!1),Cd(u);return;case"select":$t("invalid",u),N=te=L=null;for(M in x)if(x.hasOwnProperty(M)&&(ce=x[M],ce!=null))switch(M){case"value":L=ce;break;case"defaultValue":te=ce;break;case"multiple":N=ce;default:Or(u,f,M,ce,x,null)}f=L,x=te,u.multiple=!!N,f!=null?la(u,!!N,f,!1):x!=null&&la(u,!!N,x,!0);return;case"textarea":$t("invalid",u),L=M=N=null;for(te in x)if(x.hasOwnProperty(te)&&(ce=x[te],ce!=null))switch(te){case"value":N=ce;break;case"defaultValue":M=ce;break;case"children":L=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(91));break;default:Or(u,f,te,ce,x,null)}Mo(u,N,M,L),Cd(u);return;case"option":for(ge in x)if(x.hasOwnProperty(ge)&&(N=x[ge],N!=null))switch(ge){case"selected":u.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Or(u,f,ge,N,x,null)}return;case"dialog":$t("beforetoggle",u),$t("toggle",u),$t("cancel",u),$t("close",u);break;case"iframe":case"object":$t("load",u);break;case"video":case"audio":for(N=0;N<Qh.length;N++)$t(Qh[N],u);break;case"image":$t("error",u),$t("load",u);break;case"details":$t("toggle",u);break;case"embed":case"source":case"link":$t("error",u),$t("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in x)if(x.hasOwnProperty(Ee)&&(N=x[Ee],N!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Or(u,f,Ee,N,x,null)}return;default:if(sh(f)){for(Ve in x)x.hasOwnProperty(Ve)&&(N=x[Ve],N!==void 0&&Kb(u,f,Ve,N,x,void 0));return}}for(ce in x)x.hasOwnProperty(ce)&&(N=x[ce],N!=null&&Or(u,f,ce,N,x,null))}function rC(u,f,x,N){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,L=null,te=null,ce=null,ge=null,Ee=null,Ve=null;for(Me in x){var He=x[Me];if(x.hasOwnProperty(Me)&&He!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":ge=He;default:N.hasOwnProperty(Me)||Or(u,f,Me,null,N,He)}}for(var De in N){var Me=N[De];if(He=x[De],N.hasOwnProperty(De)&&(Me!=null||He!=null))switch(De){case"type":L=Me;break;case"name":M=Me;break;case"checked":Ee=Me;break;case"defaultChecked":Ve=Me;break;case"value":te=Me;break;case"defaultValue":ce=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,f));break;default:Me!==He&&Or(u,f,De,Me,N,He)}}xs(u,te,ce,ge,Ee,Ve,L,M);return;case"select":Me=te=ce=De=null;for(L in x)if(ge=x[L],x.hasOwnProperty(L)&&ge!=null)switch(L){case"value":break;case"multiple":Me=ge;default:N.hasOwnProperty(L)||Or(u,f,L,null,N,ge)}for(M in N)if(L=N[M],ge=x[M],N.hasOwnProperty(M)&&(L!=null||ge!=null))switch(M){case"value":De=L;break;case"defaultValue":ce=L;break;case"multiple":te=L;default:L!==ge&&Or(u,f,M,L,N,ge)}f=ce,x=te,N=Me,De!=null?la(u,!!x,De,!1):!!N!=!!x&&(f!=null?la(u,!!x,f,!0):la(u,!!x,x?[]:"",!1));return;case"textarea":Me=De=null;for(ce in x)if(M=x[ce],x.hasOwnProperty(ce)&&M!=null&&!N.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Or(u,f,ce,null,N,M)}for(te in N)if(M=N[te],L=x[te],N.hasOwnProperty(te)&&(M!=null||L!=null))switch(te){case"value":De=M;break;case"defaultValue":Me=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:M!==L&&Or(u,f,te,M,N,L)}Rr(u,De,Me);return;case"option":for(var Ct in x)if(De=x[Ct],x.hasOwnProperty(Ct)&&De!=null&&!N.hasOwnProperty(Ct))switch(Ct){case"selected":u.selected=!1;break;default:Or(u,f,Ct,null,N,De)}for(ge in N)if(De=N[ge],Me=x[ge],N.hasOwnProperty(ge)&&De!==Me&&(De!=null||Me!=null))switch(ge){case"selected":u.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Or(u,f,ge,De,N,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in x)De=x[yt],x.hasOwnProperty(yt)&&De!=null&&!N.hasOwnProperty(yt)&&Or(u,f,yt,null,N,De);for(Ee in N)if(De=N[Ee],Me=x[Ee],N.hasOwnProperty(Ee)&&De!==Me&&(De!=null||Me!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,f));break;default:Or(u,f,Ee,De,N,Me)}return;default:if(sh(f)){for(var Ir in x)De=x[Ir],x.hasOwnProperty(Ir)&&De!==void 0&&!N.hasOwnProperty(Ir)&&Kb(u,f,Ir,void 0,N,De);for(Ve in N)De=N[Ve],Me=x[Ve],!N.hasOwnProperty(Ve)||De===Me||De===void 0&&Me===void 0||Kb(u,f,Ve,De,N,Me);return}}for(var ke in x)De=x[ke],x.hasOwnProperty(ke)&&De!=null&&!N.hasOwnProperty(ke)&&Or(u,f,ke,null,N,De);for(He in N)De=N[He],Me=x[He],!N.hasOwnProperty(He)||De===Me||De==null&&Me==null||Or(u,f,He,De,N,Me)}var Qb=null,Zh=null;function em(u){return u.nodeType===9?u:u.ownerDocument}function no(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nf(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function sf(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Lc=null;function g0(){var u=window.event;return u&&u.type==="popstate"?u===Lc?!1:(Lc=u,!0):(Lc=null,!1)}var pu=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,fr=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(u){return Jb.resolve(null).then(u).catch(Xn)}:pu;function Xn(u){setTimeout(function(){throw u})}function sr(u){return u==="head"}function en(u,f){var x=f,N=0,M=0;do{var L=x.nextSibling;if(u.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(0<N&&8>N){x=N;var te=u.ownerDocument;if(x&1&&zc(te.documentElement),x&2&&zc(te.body),x&4)for(x=te.head,zc(x),te=x.firstChild;te;){var ce=te.nextSibling,ge=te.nodeName;te[Xs]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&te.rel.toLowerCase()==="stylesheet"||x.removeChild(te),te=ce}}if(M===0){u.removeChild(L),dm(f);return}M--}else x==="$"||x==="$?"||x==="$!"?M++:N=x.charCodeAt(0)-48;else N=0;x=L}while(x);dm(f)}function js(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var x=f;switch(f=f.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":js(x),ol(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function b0(u,f,x,N){for(;u.nodeType===1;){var M=x;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!N&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(N){if(!u[Xs])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(L=u.getAttribute("rel"),L==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(L!==M.rel||u.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(L=u.getAttribute("src"),(L!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&L&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var L=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===L)return u}else return u;if(u=Fn(u.nextSibling),u===null)break}return null}function gn(u,f,x){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=Fn(u.nextSibling),u===null))return null;return u}function bn(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function so(u,f){var x=u.ownerDocument;if(u.data!=="$?"||x.readyState==="complete")f();else{var N=function(){f(),x.removeEventListener("DOMContentLoaded",N)};x.addEventListener("DOMContentLoaded",N),u._reactRetry=N}}function Fn(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}var Ho=null;function jo(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return u;f--}else x==="/$"&&f++}u=u.previousSibling}return null}function y0(u,f,x){switch(f=em(x),u){case"html":if(u=f.documentElement,!u)throw Error(i(452));return u;case"head":if(u=f.head,!u)throw Error(i(453));return u;case"body":if(u=f.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function zc(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);ol(u)}var Tt=new Map,x0=new Set;function rm(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Oa=ae.d;ae.d={f:nC,r:v0,D:fu,C:ps,L:sC,m:oC,X:iC,S:gu,M:aC};function nC(){var u=Oa.f(),f=iu();return u||f}function v0(u){var f=Ti(u);f!==null&&f.tag===5&&f.type==="form"?Sv(f):Oa.r(u)}var Fc=typeof document>"u"?null:document;function Xb(u,f,x){var N=Fc;if(N&&typeof f=="string"&&f){var M=An(f);M='link[rel="'+u+'"][href="'+M+'"]',typeof x=="string"&&(M+='[crossorigin="'+x+'"]'),x0.has(M)||(x0.add(M),u={rel:u,crossOrigin:x,href:f},N.querySelector(M)===null&&(f=N.createElement("link"),ms(f,"link",u),$r(f),N.head.appendChild(f)))}}function fu(u){Oa.D(u),Xb("dns-prefetch",u,null)}function ps(u,f){Oa.C(u,f),Xb("preconnect",u,f)}function sC(u,f,x){Oa.L(u,f,x);var N=Fc;if(N&&u&&f){var M='link[rel="preload"][as="'+An(f)+'"]';f==="image"&&x&&x.imageSrcSet?(M+='[imagesrcset="'+An(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(M+='[imagesizes="'+An(x.imageSizes)+'"]')):M+='[href="'+An(u)+'"]';var L=M;switch(f){case"style":L=Vc(u);break;case"script":L=Uc(u)}Tt.has(L)||(u=k({rel:"preload",href:f==="image"&&x&&x.imageSrcSet?void 0:u,as:f},x),Tt.set(L,u),N.querySelector(M)!==null||f==="style"&&N.querySelector(nm(L))||f==="script"&&N.querySelector(sm(L))||(f=N.createElement("link"),ms(f,"link",u),$r(f),N.head.appendChild(f)))}}function oC(u,f){Oa.m(u,f);var x=Fc;if(x&&u){var N=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+An(N)+'"][href="'+An(u)+'"]',L=M;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Uc(u)}if(!Tt.has(L)&&(u=k({rel:"modulepreload",href:u},f),Tt.set(L,u),x.querySelector(M)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(sm(L)))return}N=x.createElement("link"),ms(N,"link",u),$r(N),x.head.appendChild(N)}}}function gu(u,f,x){Oa.S(u,f,x);var N=Fc;if(N&&u){var M=mn(N).hoistableStyles,L=Vc(u);f=f||"default";var te=M.get(L);if(!te){var ce={loading:0,preload:null};if(te=N.querySelector(nm(L)))ce.loading=5;else{u=k({rel:"stylesheet",href:u,"data-precedence":f},x),(x=Tt.get(L))&&Zb(u,x);var ge=te=N.createElement("link");$r(ge),ms(ge,"link",u),ge._p=new Promise(function(Ee,Ve){ge.onload=Ee,ge.onerror=Ve}),ge.addEventListener("load",function(){ce.loading|=1}),ge.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,of(te,f,N)}te={type:"stylesheet",instance:te,count:1,state:ce},M.set(L,te)}}}function iC(u,f){Oa.X(u,f);var x=Fc;if(x&&u){var N=mn(x).hoistableScripts,M=Uc(u),L=N.get(M);L||(L=x.querySelector(sm(M)),L||(u=k({src:u,async:!0},f),(f=Tt.get(M))&&ey(u,f),L=x.createElement("script"),$r(L),ms(L,"link",u),x.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},N.set(M,L))}}function aC(u,f){Oa.M(u,f);var x=Fc;if(x&&u){var N=mn(x).hoistableScripts,M=Uc(u),L=N.get(M);L||(L=x.querySelector(sm(M)),L||(u=k({src:u,async:!0,type:"module"},f),(f=Tt.get(M))&&ey(u,f),L=x.createElement("script"),$r(L),ms(L,"link",u),x.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},N.set(M,L))}}function w0(u,f,x,N){var M=(M=_e.current)?rm(M):null;if(!M)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(f=Vc(x.href),x=mn(M).hoistableStyles,N=x.get(f),N||(N={type:"style",instance:null,count:0,state:null},x.set(f,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=Vc(x.href);var L=mn(M).hoistableStyles,te=L.get(u);if(te||(M=M.ownerDocument||M,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(u,te),(L=M.querySelector(nm(u)))&&!L._p&&(te.instance=L,te.state.loading=5),Tt.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Tt.set(u,x),L||C0(M,u,x,te.state))),f&&N===null)throw Error(i(528,""));return te}if(f&&N!==null)throw Error(i(529,""));return null;case"script":return f=x.async,x=x.src,typeof x=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Uc(x),x=mn(M).hoistableScripts,N=x.get(f),N||(N={type:"script",instance:null,count:0,state:null},x.set(f,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function Vc(u){return'href="'+An(u)+'"'}function nm(u){return'link[rel="stylesheet"]['+u+"]"}function k0(u){return k({},u,{"data-precedence":u.precedence,precedence:null})}function C0(u,f,x,N){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?N.loading=1:(f=u.createElement("link"),N.preload=f,f.addEventListener("load",function(){return N.loading|=1}),f.addEventListener("error",function(){return N.loading|=2}),ms(f,"link",x),$r(f),u.head.appendChild(f))}function Uc(u){return'[src="'+An(u)+'"]'}function sm(u){return"script[async]"+u}function $b(u,f,x){if(f.count++,f.instance===null)switch(f.type){case"style":var N=u.querySelector('style[data-href~="'+An(x.href)+'"]');if(N)return f.instance=N,$r(N),N;var M=k({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return N=(u.ownerDocument||u).createElement("style"),$r(N),ms(N,"style",M),of(N,x.precedence,u),f.instance=N;case"stylesheet":M=Vc(x.href);var L=u.querySelector(nm(M));if(L)return f.state.loading|=4,f.instance=L,$r(L),L;N=k0(x),(M=Tt.get(M))&&Zb(N,M),L=(u.ownerDocument||u).createElement("link"),$r(L);var te=L;return te._p=new Promise(function(ce,ge){te.onload=ce,te.onerror=ge}),ms(L,"link",N),f.state.loading|=4,of(L,x.precedence,u),f.instance=L;case"script":return L=Uc(x.src),(M=u.querySelector(sm(L)))?(f.instance=M,$r(M),M):(N=x,(M=Tt.get(L))&&(N=k({},x),ey(N,M)),u=u.ownerDocument||u,M=u.createElement("script"),$r(M),ms(M,"link",N),u.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(N=f.instance,f.state.loading|=4,of(N,x.precedence,u));return f.instance}function of(u,f,x){for(var N=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=N.length?N[N.length-1]:null,L=M,te=0;te<N.length;te++){var ce=N[te];if(ce.dataset.precedence===f)L=ce;else if(L!==M)break}L?L.parentNode.insertBefore(u,L.nextSibling):(f=x.nodeType===9?x.head:x,f.insertBefore(u,f.firstChild))}function Zb(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function ey(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Gc=null;function _0(u,f,x){if(Gc===null){var N=new Map,M=Gc=new Map;M.set(x,N)}else M=Gc,N=M.get(x),N||(N=new Map,M.set(x,N));if(N.has(u))return N;for(N.set(u,null),x=x.getElementsByTagName(u),M=0;M<x.length;M++){var L=x[M];if(!(L[Xs]||L[yr]||u==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var te=L.getAttribute(f)||"";te=u+te;var ce=N.get(te);ce?ce.push(L):N.set(te,[L])}}return N}function A0(u,f,x){u=u.ownerDocument||u,u.head.insertBefore(x,f==="title"?u.querySelector("head > title"):null)}function lC(u,f,x){if(x===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function ty(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var om=null;function cC(){}function N0(u,f,x){if(om===null)throw Error(i(475));var N=om;if(f.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var M=Vc(x.href),L=u.querySelector(nm(M));if(L){u=L._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(N.count++,N=im.bind(N),u.then(N,N)),f.state.loading|=4,f.instance=L,$r(L);return}L=u.ownerDocument||u,x=k0(x),(M=Tt.get(M))&&Zb(x,M),L=L.createElement("link"),$r(L);var te=L;te._p=new Promise(function(ce,ge){te.onload=ce,te.onerror=ge}),ms(L,"link",x),f.instance=L}N.stylesheets===null&&(N.stylesheets=new Map),N.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(N.count++,f=im.bind(N),u.addEventListener("load",f),u.addEventListener("error",f))}}function j0(){if(om===null)throw Error(i(475));var u=om;return u.stylesheets&&u.count===0&&ry(u,u.stylesheets),0<u.count?function(f){var x=setTimeout(function(){if(u.stylesheets&&ry(u,u.stylesheets),u.unsuspend){var N=u.unsuspend;u.unsuspend=null,N()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(x)}}:null}function im(){if(this.count--,this.count===0){if(this.stylesheets)ry(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var am=null;function ry(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,am=new Map,f.forEach(S0,u),am=null,im.call(u))}function S0(u,f){if(!(f.state.loading&4)){var x=am.get(u);if(x)var N=x.get(null);else{x=new Map,am.set(u,x);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<M.length;L++){var te=M[L];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(x.set(te.dataset.precedence,te),N=te)}N&&x.set(null,N)}M=f.instance,te=M.getAttribute("data-precedence"),L=x.get(te)||N,L===N&&x.set(null,M),x.set(te,M),this.count++,N=im.bind(this),M.addEventListener("load",N),M.addEventListener("error",N),L?L.parentNode.insertBefore(M,L.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),f.state.loading|=4}}var lm={$$typeof:F,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function dC(u,f,x,N,M,L,te,ce){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=N,this.onUncaughtError=M,this.onCaughtError=L,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function E0(u,f,x,N,M,L,te,ce,ge,Ee,Ve,He){return u=new dC(u,f,x,te,ce,ge,Ee,He),f=1,L===!0&&(f|=24),L=ws(3,null,null,f),u.current=L,L.stateNode=u,f=Bd(),f.refCount++,u.pooledCache=f,f.refCount++,L.memoizedState={element:N,isDehydrated:x,cache:f},wp(L),u}function ny(u){return u?(u=Pd,u):Pd}function D0(u,f,x,N,M,L){M=ny(M),N.context===null?N.context=M:N.pendingContext=M,N=fi(f),N.payload={element:x},L=L===void 0?null:L,L!==null&&(N.callback=L),x=wa(u,N,f),x!==null&&(to(x,u,f),Nh(x,u,f))}function M0(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<f?x:f}}function af(u,f){M0(u,f),(u=u.alternate)&&M0(u,f)}function T0(u){if(u.tag===13){var f=bc(u,67108864);f!==null&&to(f,u,67108864),af(u,67108864)}}var Ba=!0;function uC(u,f,x,N){var M=ie.T;ie.T=null;var L=ae.p;try{ae.p=2,sy(u,f,x,N)}finally{ae.p=L,ie.T=M}}function La(u,f,x,N){var M=ie.T;ie.T=null;var L=ae.p;try{ae.p=8,sy(u,f,x,N)}finally{ae.p=L,ie.T=M}}function sy(u,f,x,N){if(Ba){var M=lf(N);if(M===null)Wb(u,f,N,cm,x),P0(u,N);else if(hC(M,u,f,x,N))N.stopPropagation();else if(P0(u,N),f&4&&-1<R0.indexOf(u)){for(;M!==null;){var L=Ti(M);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var te=ze(L.pendingLanes);if(te!==0){var ce=L;for(ce.pendingLanes|=2,ce.entangledLanes|=2;te;){var ge=1<<31-lt(te);ce.entanglements[1]|=ge,te&=~ge}Go(L),(Mr&6)===0&&(Hh=at()+500,uu(0))}}break;case 13:ce=bc(L,2),ce!==null&&to(ce,L,2),iu(),af(L,2)}if(L=lf(N),L===null&&Wb(u,f,N,cm,x),L===M)break;M=L}M!==null&&N.stopPropagation()}else Wb(u,f,N,null,x)}}function lf(u){return u=as(u),Hc(u)}var cm=null;function Hc(u){if(cm=null,u=aa(u),u!==null){var f=h(u);if(f===null)u=null;else{var x=f.tag;if(x===13){if(u=m(f),u!==null)return u;u=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return cm=u,null}function I0(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Sr:return 2;case nn:return 8;case Yr:case Er:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var cf=!1,Bl=null,za=null,Fa=null,qc=new Map,bu=new Map,Va=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(u,f){switch(u){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":qc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(f.pointerId)}}function yu(u,f,x,N,M,L){return u===null||u.nativeEvent!==L?(u={blockedOn:f,domEventName:x,eventSystemFlags:N,nativeEvent:L,targetContainers:[M]},f!==null&&(f=Ti(f),f!==null&&T0(f)),u):(u.eventSystemFlags|=N,f=u.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),u)}function hC(u,f,x,N,M){switch(f){case"focusin":return Bl=yu(Bl,u,f,x,N,M),!0;case"dragenter":return za=yu(za,u,f,x,N,M),!0;case"mouseover":return Fa=yu(Fa,u,f,x,N,M),!0;case"pointerover":var L=M.pointerId;return qc.set(L,yu(qc.get(L)||null,u,f,x,N,M)),!0;case"gotpointercapture":return L=M.pointerId,bu.set(L,yu(bu.get(L)||null,u,f,x,N,M)),!0}return!1}function O0(u){var f=aa(u.target);if(f!==null){var x=h(f);if(x!==null){if(f=x.tag,f===13){if(f=m(x),f!==null){u.blockedOn=f,ni(u.priority,function(){if(x.tag===13){var N=eo();N=hn(N);var M=bc(x,N);M!==null&&to(M,x,N),af(x,N)}});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function df(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var x=lf(u.nativeEvent);if(x===null){x=u.nativeEvent;var N=new x.constructor(x.type,x);ii=N,x.target.dispatchEvent(N),ii=null}else return f=Ti(x),f!==null&&T0(f),u.blockedOn=x,!1;f.shift()}return!0}function B0(u,f,x){df(u)&&x.delete(f)}function mC(){cf=!1,Bl!==null&&df(Bl)&&(Bl=null),za!==null&&df(za)&&(za=null),Fa!==null&&df(Fa)&&(Fa=null),qc.forEach(B0),bu.forEach(B0)}function uf(u,f){u.blockedOn===f&&(u.blockedOn=null,cf||(cf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mC)))}var hf=null;function mf(u){hf!==u&&(hf=u,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hf===u&&(hf=null);for(var f=0;f<u.length;f+=3){var x=u[f],N=u[f+1],M=u[f+2];if(typeof N!="function"){if(Hc(N||x)===null)continue;break}var L=Ti(x);L!==null&&(u.splice(f,3),f-=3,rb(L,{pending:!0,data:M,method:x.method,action:N},N,M))}}))}function dm(u){function f(ge){return uf(ge,u)}Bl!==null&&uf(Bl,u),za!==null&&uf(za,u),Fa!==null&&uf(Fa,u),qc.forEach(f),bu.forEach(f);for(var x=0;x<Va.length;x++){var N=Va[x];N.blockedOn===u&&(N.blockedOn=null)}for(;0<Va.length&&(x=Va[0],x.blockedOn===null);)O0(x),x.blockedOn===null&&Va.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(N=0;N<x.length;N+=3){var M=x[N],L=x[N+1],te=M[xr]||null;if(typeof L=="function")te||mf(x);else if(te){var ce=null;if(L&&L.hasAttribute("formAction")){if(M=L,te=L[xr]||null)ce=te.formAction;else if(Hc(M)!==null)continue}else ce=te.action;typeof ce=="function"?x[N+1]=ce:(x.splice(N,3),N-=3),mf(x)}}}function um(u){this._internalRoot=u}Wi.prototype.render=um.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(i(409));var x=f.current,N=eo();D0(x,N,u,f,null,null)},Wi.prototype.unmount=um.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;D0(u.current,2,null,u,null,null),iu(),f[on]=null}};function Wi(u){this._internalRoot=u}Wi.prototype.unstable_scheduleHydration=function(u){if(u){var f=br();u={blockedOn:null,target:u,priority:f};for(var x=0;x<Va.length&&f!==0&&f<Va[x].priority;x++);Va.splice(x,0,u),x===0&&O0(u)}};var L0=t.version;if(L0!=="19.1.0")throw Error(i(527,L0,"19.1.0"));ae.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=b(f),u=u!==null?v(u):null,u=u===null?null:u.stateNode,u};var pC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Yt=Yc.inject(pC),wt=Yc}catch{}}return dy.createRoot=function(u,f){if(!l(u))throw Error(i(299));var x=!1,N="",M=Dl,L=Iv,te=Pp,ce=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(te=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ce=f.unstable_transitionCallbacks)),f=E0(u,1,!1,null,null,x,N,M,L,te,ce,null),u[on]=f.current,Yb(u),new um(f)},dy.hydrateRoot=function(u,f,x){if(!l(u))throw Error(i(299));var N=!1,M="",L=Dl,te=Iv,ce=Pp,ge=null,Ee=null;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onUncaughtError!==void 0&&(L=x.onUncaughtError),x.onCaughtError!==void 0&&(te=x.onCaughtError),x.onRecoverableError!==void 0&&(ce=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(ge=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ee=x.formState)),f=E0(u,1,!0,f,x??null,N,M,L,te,ce,ge,Ee),f.context=ny(null),x=f.current,N=eo(),N=hn(N),M=fi(N),M.callback=null,wa(x,M,N),x=N,f.current.lanes=x,ir(f,x),Go(f),u[on]=f.current,Yb(u),new Wi(f)},dy.version="19.1.0",dy}var MM;function QV(){if(MM)return p_.exports;MM=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),p_.exports=KV(),p_.exports}var JV=QV();const XV=zk(JV),$V="modulepreload",ZV=function(r){return"/"+r},TM={},IM=function(t,s,i){let l=Promise.resolve();if(s&&s.length>0){let m=function(v){return Promise.all(v.map(k=>Promise.resolve(k).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),b=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));l=m(s.map(v=>{if(v=ZV(v),v in TM)return;TM[v]=!0;const k=v.endsWith(".css"),C=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${C}`))return;const _=document.createElement("link");if(_.rel=k?"stylesheet":$V,k||(_.as="script"),_.crossOrigin="",_.href=v,b&&_.setAttribute("nonce",b),document.head.appendChild(_),k)return new Promise((S,T)=>{_.addEventListener("load",S),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return l.then(m=>{for(const g of m||[])g.status==="rejected"&&h(g.reason);return t().catch(h)})};var uy={},RM;function eU(){if(RM)return uy;RM=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.parse=m,uy.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function m(_,S){const T=new h,R=_.length;if(R<2)return T;const P=(S==null?void 0:S.decode)||k;let V=0;do{const U=_.indexOf("=",V);if(U===-1)break;const F=_.indexOf(";",V),q=F===-1?R:F;if(U>q){V=_.lastIndexOf(";",U-1)+1;continue}const ne=g(_,V,U),se=b(_,U,ne),Q=_.slice(ne,se);if(T[Q]===void 0){let B=g(_,U+1,q),Y=b(_,q,B);const J=P(_.slice(B,Y));T[Q]=J}V=q+1}while(V<R);return T}function g(_,S,T){do{const R=_.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<T);return T}function b(_,S,T){for(;S>T;){const R=_.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return T}function v(_,S,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const P=R(S);if(!t.test(P))throw new TypeError(`argument val is invalid: ${S}`);let V=_+"="+P;if(!T)return V;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);V+="; Max-Age="+T.maxAge}if(T.domain){if(!s.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);V+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);V+="; Path="+T.path}if(T.expires){if(!C(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);V+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(V+="; HttpOnly"),T.secure&&(V+="; Secure"),T.partitioned&&(V+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return V}function k(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function C(_){return l.call(_)==="[object Date]"}return uy}eU();var PM="popstate";function tU(r={}){function t(i,l){let{pathname:h,search:m,hash:g}=i.location;return pA("",{pathname:h,search:m,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){return typeof l=="string"?l:qy(l)}return nU(t,s,null,r)}function dn(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ta(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rU(){return Math.random().toString(36).substring(2,10)}function OM(r,t){return{usr:r.state,key:r.key,idx:t}}function pA(r,t,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Jf(t):t,state:s,key:t&&t.key||i||rU()}}function qy({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Jf(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function nU(r,t,s,i={}){let{window:l=document.defaultView,v5Compat:h=!1}=i,m=l.history,g="POP",b=null,v=k();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function k(){return(m.state||{idx:null}).idx}function C(){g="POP";let P=k(),V=P==null?null:P-v;v=P,b&&b({action:g,location:R.location,delta:V})}function _(P,V){g="PUSH";let U=pA(R.location,P,V);v=k()+1;let F=OM(U,v),q=R.createHref(U);try{m.pushState(F,"",q)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;l.location.assign(q)}h&&b&&b({action:g,location:R.location,delta:1})}function S(P,V){g="REPLACE";let U=pA(R.location,P,V);v=k();let F=OM(U,v),q=R.createHref(U);m.replaceState(F,"",q),h&&b&&b({action:g,location:R.location,delta:0})}function T(P){return sU(P)}let R={get action(){return g},get location(){return r(l,m)},listen(P){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(PM,C),b=P,()=>{l.removeEventListener(PM,C),b=null}},createHref(P){return t(l,P)},createURL:T,encodeLocation(P){let V=T(P);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:S,go(P){return m.go(P)}};return R}function sU(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),dn(s,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:qy(r);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function $R(r,t,s="/"){return oU(r,t,s,!1)}function oU(r,t,s,i){let l=typeof t=="string"?Jf(t):t,h=cd(l.pathname||"/",s);if(h==null)return null;let m=ZR(r);iU(m);let g=null;for(let b=0;g==null&&b<m.length;++b){let v=bU(h);g=fU(m[b],v,i)}return g}function ZR(r,t=[],s=[],i=""){let l=(h,m,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};b.relativePath.startsWith("/")&&(dn(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length));let v=nd([i,b.relativePath]),k=s.concat(b);h.children&&h.children.length>0&&(dn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ZR(h.children,t,k,v)),!(h.path==null&&!h.index)&&t.push({path:v,score:mU(v,h.index),routesMeta:k})};return r.forEach((h,m)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))l(h,m);else for(let b of eP(h.path))l(h,m,b)}),t}function eP(r){let t=r.split("/");if(t.length===0)return[];let[s,...i]=t,l=s.endsWith("?"),h=s.replace(/\?$/,"");if(i.length===0)return l?[h,""]:[h];let m=eP(i.join("/")),g=[];return g.push(...m.map(b=>b===""?h:[h,b].join("/"))),l&&g.push(...m),g.map(b=>r.startsWith("/")&&b===""?"/":b)}function iU(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:pU(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var aU=/^:[\w-]+$/,lU=3,cU=2,dU=1,uU=10,hU=-2,BM=r=>r==="*";function mU(r,t){let s=r.split("/"),i=s.length;return s.some(BM)&&(i+=hU),t&&(i+=cU),s.filter(l=>!BM(l)).reduce((l,h)=>l+(aU.test(h)?lU:h===""?dU:uU),i)}function pU(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function fU(r,t,s=!1){let{routesMeta:i}=r,l={},h="/",m=[];for(let g=0;g<i.length;++g){let b=i[g],v=g===i.length-1,k=h==="/"?t:t.slice(h.length)||"/",C=$w({path:b.relativePath,caseSensitive:b.caseSensitive,end:v},k),_=b.route;if(!C&&v&&s&&!i[i.length-1].route.index&&(C=$w({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},k)),!C)return null;Object.assign(l,C.params),m.push({params:l,pathname:nd([h,C.pathname]),pathnameBase:wU(nd([h,C.pathnameBase])),route:_}),C.pathnameBase!=="/"&&(h=nd([h,C.pathnameBase]))}return m}function $w(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=gU(r.path,r.caseSensitive,r.end),l=t.match(s);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((v,{paramName:k,isOptional:C},_)=>{if(k==="*"){let T=g[_]||"";m=h.slice(0,h.length-T.length).replace(/(.)\/+$/,"$1")}const S=g[_];return C&&!S?v[k]=void 0:v[k]=(S||"").replace(/%2F/g,"/"),v},{}),pathname:h,pathnameBase:m,pattern:r}}function gU(r,t=!1,s=!0){ta(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,b)=>(i.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function bU(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ta(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function cd(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}function yU(r,t="/"){let{pathname:s,search:i="",hash:l=""}=typeof r=="string"?Jf(r):r;return{pathname:s?s.startsWith("/")?s:xU(s,t):t,search:kU(i),hash:CU(l)}}function xU(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function y_(r,t,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vU(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function S2(r){let t=vU(r);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function E2(r,t,s,i=!1){let l;typeof r=="string"?l=Jf(r):(l={...r},dn(!l.pathname||!l.pathname.includes("?"),y_("?","pathname","search",l)),dn(!l.pathname||!l.pathname.includes("#"),y_("#","pathname","hash",l)),dn(!l.search||!l.search.includes("#"),y_("#","search","hash",l)));let h=r===""||l.pathname==="",m=h?"/":l.pathname,g;if(m==null)g=s;else{let C=t.length-1;if(!i&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),C-=1;l.pathname=_.join("/")}g=C>=0?t[C]:"/"}let b=yU(l,g),v=m&&m!=="/"&&m.endsWith("/"),k=(h||m===".")&&s.endsWith("/");return!b.pathname.endsWith("/")&&(v||k)&&(b.pathname+="/"),b}var nd=r=>r.join("/").replace(/\/\/+/g,"/"),wU=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kU=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CU=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function _U(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tP=["POST","PUT","PATCH","DELETE"];new Set(tP);var AU=["GET",...tP];new Set(AU);var Xf=O.createContext(null);Xf.displayName="DataRouter";var Fk=O.createContext(null);Fk.displayName="DataRouterState";var rP=O.createContext({isTransitioning:!1});rP.displayName="ViewTransition";var NU=O.createContext(new Map);NU.displayName="Fetchers";var jU=O.createContext(null);jU.displayName="Await";var rl=O.createContext(null);rl.displayName="Navigation";var vx=O.createContext(null);vx.displayName="Location";var oa=O.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var D2=O.createContext(null);D2.displayName="RouteError";function SU(r,{relative:t}={}){dn($f(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=O.useContext(rl),{hash:l,pathname:h,search:m}=wx(r,{relative:t}),g=h;return s!=="/"&&(g=h==="/"?s:nd([s,h])),i.createHref({pathname:g,search:m,hash:l})}function $f(){return O.useContext(vx)!=null}function Do(){return dn($f(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(vx).location}var nP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sP(r){O.useContext(rl).static||O.useLayoutEffect(r)}function ns(){let{isDataRoute:r}=O.useContext(oa);return r?GU():EU()}function EU(){dn($f(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(Xf),{basename:t,navigator:s}=O.useContext(rl),{matches:i}=O.useContext(oa),{pathname:l}=Do(),h=JSON.stringify(S2(i)),m=O.useRef(!1);return sP(()=>{m.current=!0}),O.useCallback((b,v={})=>{if(ta(m.current,nP),!m.current)return;if(typeof b=="number"){s.go(b);return}let k=E2(b,JSON.parse(h),l,v.relative==="path");r==null&&t!=="/"&&(k.pathname=k.pathname==="/"?t:nd([t,k.pathname])),(v.replace?s.replace:s.push)(k,v.state,v)},[t,s,h,l,r])}var DU=O.createContext(null);function MU(r){let t=O.useContext(oa).outlet;return t&&O.createElement(DU.Provider,{value:r},t)}function Zf(){let{matches:r}=O.useContext(oa),t=r[r.length-1];return t?t.params:{}}function wx(r,{relative:t}={}){let{matches:s}=O.useContext(oa),{pathname:i}=Do(),l=JSON.stringify(S2(s));return O.useMemo(()=>E2(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function TU(r,t){return oP(r,t)}function oP(r,t,s,i){var V;dn($f(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(rl),{matches:h}=O.useContext(oa),m=h[h.length-1],g=m?m.params:{},b=m?m.pathname:"/",v=m?m.pathnameBase:"/",k=m&&m.route;{let U=k&&k.path||"";iP(b,!k||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let C=Do(),_;if(t){let U=typeof t=="string"?Jf(t):t;dn(v==="/"||((V=U.pathname)==null?void 0:V.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=C;let S=_.pathname||"/",T=S;if(v!=="/"){let U=v.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let R=$R(r,{pathname:T});ta(k||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ta(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=BU(R&&R.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:nd([v,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:nd([v,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),h,s,i);return t&&P?O.createElement(vx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},P):P}function IU(){let r=UU(),t=_U(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},h={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:h},"ErrorBoundary")," or"," ",O.createElement("code",{style:h},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),s?O.createElement("pre",{style:l},s):null,m)}var RU=O.createElement(IU,null),PU=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?O.createElement(oa.Provider,{value:this.props.routeContext},O.createElement(D2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OU({routeContext:r,match:t,children:s}){let i=O.useContext(Xf);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(oa.Provider,{value:r},s)}function BU(r,t=[],s=null,i=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let l=r,h=s==null?void 0:s.errors;if(h!=null){let b=l.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);dn(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let m=!1,g=-1;if(s)for(let b=0;b<l.length;b++){let v=l[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=b),v.route.id){let{loaderData:k,errors:C}=s,_=v.route.loader&&!k.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||_){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((b,v,k)=>{let C,_=!1,S=null,T=null;s&&(C=h&&v.route.id?h[v.route.id]:void 0,S=v.route.errorElement||RU,m&&(g<0&&k===0?(iP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):g===k&&(_=!0,T=v.route.hydrateFallbackElement||null)));let R=t.concat(l.slice(0,k+1)),P=()=>{let V;return C?V=S:_?V=T:v.route.Component?V=O.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=b,O.createElement(OU,{match:v,routeContext:{outlet:b,matches:R,isDataRoute:s!=null},children:V})};return s&&(v.route.ErrorBoundary||v.route.errorElement||k===0)?O.createElement(PU,{location:s.location,revalidation:s.revalidation,component:S,error:C,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):P()},null)}function M2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LU(r){let t=O.useContext(Xf);return dn(t,M2(r)),t}function zU(r){let t=O.useContext(Fk);return dn(t,M2(r)),t}function FU(r){let t=O.useContext(oa);return dn(t,M2(r)),t}function T2(r){let t=FU(r),s=t.matches[t.matches.length-1];return dn(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function VU(){return T2("useRouteId")}function UU(){var i;let r=O.useContext(D2),t=zU("useRouteError"),s=T2("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[s]}function GU(){let{router:r}=LU("useNavigate"),t=T2("useNavigate"),s=O.useRef(!1);return sP(()=>{s.current=!0}),O.useCallback(async(l,h={})=>{ta(s.current,nP),s.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var LM={};function iP(r,t,s){!t&&!LM[r]&&(LM[r]=!0,ta(!1,s))}O.memo(HU);function HU({routes:r,future:t,state:s}){return oP(r,void 0,s,t)}function Hs({to:r,replace:t,state:s,relative:i}){dn($f(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=O.useContext(rl);ta(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=O.useContext(oa),{pathname:m}=Do(),g=ns(),b=E2(r,S2(h),m,i==="path"),v=JSON.stringify(b);return O.useEffect(()=>{g(JSON.parse(v),{replace:t,state:s,relative:i})},[g,v,i,t,s]),null}function I2(r){return MU(r.context)}function gt(r){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qU({basename:r="/",children:t=null,location:s,navigationType:i="POP",navigator:l,static:h=!1}){dn(!$f(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof s=="string"&&(s=Jf(s));let{pathname:b="/",search:v="",hash:k="",state:C=null,key:_="default"}=s,S=O.useMemo(()=>{let T=cd(b,m);return T==null?null:{location:{pathname:T,search:v,hash:k,state:C,key:_},navigationType:i}},[m,b,v,k,C,_,i]);return ta(S!=null,`<Router basename="${m}"> is not able to match the URL "${b}${v}${k}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(rl.Provider,{value:g},O.createElement(vx.Provider,{children:t,value:S}))}function YU({children:r,location:t}){return TU(fA(r),t)}function fA(r,t=[]){let s=[];return O.Children.forEach(r,(i,l)=>{if(!O.isValidElement(i))return;let h=[...t,l];if(i.type===O.Fragment){s.push.apply(s,fA(i.props.children,h));return}dn(i.type===gt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||h.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=fA(i.props.children,h)),s.push(m)}),s}var Ew="get",Dw="application/x-www-form-urlencoded";function Vk(r){return r!=null&&typeof r.tagName=="string"}function WU(r){return Vk(r)&&r.tagName.toLowerCase()==="button"}function KU(r){return Vk(r)&&r.tagName.toLowerCase()==="form"}function QU(r){return Vk(r)&&r.tagName.toLowerCase()==="input"}function JU(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function XU(r,t){return r.button===0&&(!t||t==="_self")&&!JU(r)}function gA(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,s)=>{let i=r[s];return t.concat(Array.isArray(i)?i.map(l=>[s,l]):[[s,i]])},[]))}function $U(r,t){let s=gA(r);return t&&t.forEach((i,l)=>{s.has(l)||t.getAll(l).forEach(h=>{s.append(l,h)})}),s}var lw=null;function ZU(){if(lw===null)try{new FormData(document.createElement("form"),0),lw=!1}catch{lw=!0}return lw}var eG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x_(r){return r!=null&&!eG.has(r)?(ta(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dw}"`),null):r}function tG(r,t){let s,i,l,h,m;if(KU(r)){let g=r.getAttribute("action");i=g?cd(g,t):null,s=r.getAttribute("method")||Ew,l=x_(r.getAttribute("enctype"))||Dw,h=new FormData(r)}else if(WU(r)||QU(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=r.getAttribute("formaction")||g.getAttribute("action");if(i=b?cd(b,t):null,s=r.getAttribute("formmethod")||g.getAttribute("method")||Ew,l=x_(r.getAttribute("formenctype"))||x_(g.getAttribute("enctype"))||Dw,h=new FormData(g,r),!ZU()){let{name:v,type:k,value:C}=r;if(k==="image"){let _=v?`${v}.`:"";h.append(`${_}x`,"0"),h.append(`${_}y`,"0")}else v&&h.append(v,C)}}else{if(Vk(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ew,i=null,l=Dw,m=r}return h&&l==="text/plain"&&(m=h,h=void 0),{action:i,method:s.toLowerCase(),encType:l,formData:h,body:m}}function R2(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function rG(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nG(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sG(r,t,s){let i=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await rG(h,s);return m.links?m.links():[]}return[]}));return lG(i.flat(1).filter(nG).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function zM(r,t,s,i,l,h){let m=(b,v)=>s[v]?b.route.id!==s[v].route.id:!0,g=(b,v)=>{var k;return s[v].pathname!==b.pathname||((k=s[v].route.path)==null?void 0:k.endsWith("*"))&&s[v].params["*"]!==b.params["*"]};return h==="assets"?t.filter((b,v)=>m(b,v)||g(b,v)):h==="data"?t.filter((b,v)=>{var C;let k=i.routes[b.route.id];if(!k||!k.hasLoader)return!1;if(m(b,v)||g(b,v))return!0;if(b.route.shouldRevalidate){let _=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((C=s[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function oG(r,t,{includeHydrateFallback:s}={}){return iG(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function iG(r){return[...new Set(r)]}function aG(r){let t={},s=Object.keys(r).sort();for(let i of s)t[i]=r[i];return t}function lG(r,t){let s=new Set;return new Set(t),r.reduce((i,l)=>{let h=JSON.stringify(aG(l));return s.has(h)||(s.add(h),i.push({key:h,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cG=new Set([100,101,204,205]);function dG(r,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname="_root.data":t&&cd(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function aP(){let r=O.useContext(Xf);return R2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uG(){let r=O.useContext(Fk);return R2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var P2=O.createContext(void 0);P2.displayName="FrameworkContext";function lP(){let r=O.useContext(P2);return R2(r,"You must render this element inside a <HydratedRouter> element"),r}function hG(r,t){let s=O.useContext(P2),[i,l]=O.useState(!1),[h,m]=O.useState(!1),{onFocus:g,onBlur:b,onMouseEnter:v,onMouseLeave:k,onTouchStart:C}=t,_=O.useRef(null);O.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let R=V=>{V.forEach(U=>{m(U.isIntersecting)})},P=new IntersectionObserver(R,{threshold:.5});return _.current&&P.observe(_.current),()=>{P.disconnect()}}},[r]),O.useEffect(()=>{if(i){let R=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{l(!0)},T=()=>{l(!1),m(!1)};return s?r!=="intent"?[h,_,{}]:[h,_,{onFocus:hy(g,S),onBlur:hy(b,T),onMouseEnter:hy(v,S),onMouseLeave:hy(k,T),onTouchStart:hy(C,S)}]:[!1,_,{}]}function hy(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function mG({page:r,...t}){let{router:s}=aP(),i=O.useMemo(()=>$R(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?O.createElement(fG,{page:r,matches:i,...t}):null}function pG(r){let{manifest:t,routeModules:s}=lP(),[i,l]=O.useState([]);return O.useEffect(()=>{let h=!1;return sG(r,t,s).then(m=>{h||l(m)}),()=>{h=!0}},[r,t,s]),i}function fG({page:r,matches:t,...s}){let i=Do(),{manifest:l,routeModules:h}=lP(),{basename:m}=aP(),{loaderData:g,matches:b}=uG(),v=O.useMemo(()=>zM(r,t,b,l,i,"data"),[r,t,b,l,i]),k=O.useMemo(()=>zM(r,t,b,l,i,"assets"),[r,t,b,l,i]),C=O.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let T=new Set,R=!1;if(t.forEach(V=>{var F;let U=l.routes[V.route.id];!U||!U.hasLoader||(!v.some(q=>q.route.id===V.route.id)&&V.route.id in g&&((F=h[V.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?R=!0:T.add(V.route.id))}),T.size===0)return[];let P=dG(r,m);return R&&T.size>0&&P.searchParams.set("_routes",t.filter(V=>T.has(V.route.id)).map(V=>V.route.id).join(",")),[P.pathname+P.search]},[m,g,i,l,v,t,r,h]),_=O.useMemo(()=>oG(k,l),[k,l]),S=pG(k);return O.createElement(O.Fragment,null,C.map(T=>O.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...s})),_.map(T=>O.createElement("link",{key:T,rel:"modulepreload",href:T,...s})),S.map(({key:T,link:R})=>O.createElement("link",{key:T,...R})))}function gG(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var cP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cP&&(window.__reactRouterVersion="7.6.3")}catch{}function bG({basename:r,children:t,window:s}){let i=O.useRef();i.current==null&&(i.current=tU({window:s,v5Compat:!0}));let l=i.current,[h,m]=O.useState({action:l.action,location:l.location}),g=O.useCallback(b=>{O.startTransition(()=>m(b))},[m]);return O.useLayoutEffect(()=>l.listen(g),[l,g]),O.createElement(qU,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:l})}var dP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=O.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:l,reloadDocument:h,replace:m,state:g,target:b,to:v,preventScrollReset:k,viewTransition:C,..._},S){let{basename:T}=O.useContext(rl),R=typeof v=="string"&&dP.test(v),P,V=!1;if(typeof v=="string"&&R&&(P=v,cP))try{let Y=new URL(window.location.href),J=v.startsWith("//")?new URL(Y.protocol+v):new URL(v),K=cd(J.pathname,T);J.origin===Y.origin&&K!=null?v=K+J.search+J.hash:V=!0}catch{ta(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=SU(v,{relative:l}),[F,q,ne]=hG(i,_),se=wG(v,{replace:m,state:g,target:b,preventScrollReset:k,relative:l,viewTransition:C});function Q(Y){t&&t(Y),Y.defaultPrevented||se(Y)}let B=O.createElement("a",{..._,...ne,href:P||U,onClick:V||h?t:Q,ref:gG(S,q),target:b,"data-discover":!R&&s==="render"?"true":void 0});return F&&!R?O.createElement(O.Fragment,null,B,O.createElement(mG,{page:U})):B});rt.displayName="Link";var yG=O.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:l=!1,style:h,to:m,viewTransition:g,children:b,...v},k){let C=wx(m,{relative:v.relative}),_=Do(),S=O.useContext(Fk),{navigator:T,basename:R}=O.useContext(rl),P=S!=null&&jG(C)&&g===!0,V=T.encodeLocation?T.encodeLocation(C).pathname:C.pathname,U=_.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(U=U.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&R&&(F=cd(F,R)||F);const q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ne=U===V||!l&&U.startsWith(V)&&U.charAt(q)==="/",se=F!=null&&(F===V||!l&&F.startsWith(V)&&F.charAt(V.length)==="/"),Q={isActive:ne,isPending:se,isTransitioning:P},B=ne?t:void 0,Y;typeof i=="function"?Y=i(Q):Y=[i,ne?"active":null,se?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let J=typeof h=="function"?h(Q):h;return O.createElement(rt,{...v,"aria-current":B,className:Y,ref:k,style:J,to:m,viewTransition:g},typeof b=="function"?b(Q):b)});yG.displayName="NavLink";var xG=O.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:l,state:h,method:m=Ew,action:g,onSubmit:b,relative:v,preventScrollReset:k,viewTransition:C,..._},S)=>{let T=AG(),R=NG(g,{relative:v}),P=m.toLowerCase()==="get"?"get":"post",V=typeof g=="string"&&dP.test(g),U=F=>{if(b&&b(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,ne=(q==null?void 0:q.getAttribute("formmethod"))||m;T(q||F.currentTarget,{fetcherKey:t,method:ne,navigate:s,replace:l,state:h,relative:v,preventScrollReset:k,viewTransition:C})};return O.createElement("form",{ref:S,method:P,action:R,onSubmit:i?b:U,..._,"data-discover":!V&&r==="render"?"true":void 0})});xG.displayName="Form";function vG(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uP(r){let t=O.useContext(Xf);return dn(t,vG(r)),t}function wG(r,{target:t,replace:s,state:i,preventScrollReset:l,relative:h,viewTransition:m}={}){let g=ns(),b=Do(),v=wx(r,{relative:h});return O.useCallback(k=>{if(XU(k,t)){k.preventDefault();let C=s!==void 0?s:qy(b)===qy(v);g(r,{replace:C,state:i,preventScrollReset:l,relative:h,viewTransition:m})}},[b,g,v,s,i,t,r,l,h,m])}function kG(r){ta(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(gA(r)),s=O.useRef(!1),i=Do(),l=O.useMemo(()=>$U(i.search,s.current?null:t.current),[i.search]),h=ns(),m=O.useCallback((g,b)=>{const v=gA(typeof g=="function"?g(l):g);s.current=!0,h("?"+v,b)},[h,l]);return[l,m]}var CG=0,_G=()=>`__${String(++CG)}__`;function AG(){let{router:r}=uP("useSubmit"),{basename:t}=O.useContext(rl),s=VU();return O.useCallback(async(i,l={})=>{let{action:h,method:m,encType:g,formData:b,body:v}=tG(i,t);if(l.navigate===!1){let k=l.fetcherKey||_G();await r.fetch(k,s,l.action||h,{preventScrollReset:l.preventScrollReset,formData:b,body:v,formMethod:l.method||m,formEncType:l.encType||g,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:b,body:v,formMethod:l.method||m,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,s])}function NG(r,{relative:t}={}){let{basename:s}=O.useContext(rl),i=O.useContext(oa);dn(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),h={...wx(r||".",{relative:t})},m=Do();if(r==null){h.search=m.search;let g=new URLSearchParams(h.search),b=g.getAll("index");if(b.some(k=>k==="")){g.delete("index"),b.filter(C=>C).forEach(C=>g.append("index",C));let k=g.toString();h.search=k?`?${k}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(h.pathname=h.pathname==="/"?s:nd([s,h.pathname])),qy(h)}function jG(r,t={}){let s=O.useContext(rP);dn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uP("useViewTransitionState"),l=wx(r,{relative:t.relative});if(!s.isTransitioning)return!1;let h=cd(s.currentLocation.pathname,i)||s.currentLocation.pathname,m=cd(s.nextLocation.pathname,i)||s.nextLocation.pathname;return $w(l.pathname,m)!=null||$w(l.pathname,h)!=null}[...cG];var by=XR();let SG={data:""},EG=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||SG,DG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,MG=/\/\*[^]*?\*\/|  +/g,FM=/\n+/g,Nu=(r,t)=>{let s="",i="",l="";for(let h in r){let m=r[h];h[0]=="@"?h[1]=="i"?s=h+" "+m+";":i+=h[1]=="f"?Nu(m,h):h+"{"+Nu(m,h[1]=="k"?"":t)+"}":typeof m=="object"?i+=Nu(m,t?t.replace(/([^,])+/g,g=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,g):g?g+" "+b:b)):h):m!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Nu.p?Nu.p(h,m):h+":"+m+";")}return s+(t&&l?t+"{"+l+"}":l)+i},Xc={},hP=r=>{if(typeof r=="object"){let t="";for(let s in r)t+=s+hP(r[s]);return t}return r},TG=(r,t,s,i,l)=>{let h=hP(r),m=Xc[h]||(Xc[h]=(b=>{let v=0,k=11;for(;v<b.length;)k=101*k+b.charCodeAt(v++)>>>0;return"go"+k})(h));if(!Xc[m]){let b=h!==r?r:(v=>{let k,C,_=[{}];for(;k=DG.exec(v.replace(MG,""));)k[4]?_.shift():k[3]?(C=k[3].replace(FM," ").trim(),_.unshift(_[0][C]=_[0][C]||{})):_[0][k[1]]=k[2].replace(FM," ").trim();return _[0]})(r);Xc[m]=Nu(l?{["@keyframes "+m]:b}:b,s?"":"."+m)}let g=s&&Xc.g?Xc.g:null;return s&&(Xc.g=Xc[m]),((b,v,k,C)=>{C?v.data=v.data.replace(C,b):v.data.indexOf(b)===-1&&(v.data=k?b+v.data:v.data+b)})(Xc[m],t,i,g),m},IG=(r,t,s)=>r.reduce((i,l,h)=>{let m=t[h];if(m&&m.call){let g=m(s),b=g&&g.props&&g.props.className||/^go/.test(g)&&g;m=b?"."+b:g&&typeof g=="object"?g.props?"":Nu(g,""):g===!1?"":g}return i+l+(m??"")},"");function Uk(r){let t=this||{},s=r.call?r(t.p):r;return TG(s.unshift?s.raw?IG(s,[].slice.call(arguments,1),t.p):s.reduce((i,l)=>Object.assign(i,l&&l.call?l(t.p):l),{}):s,EG(t.target),t.g,t.o,t.k)}let mP,bA,yA;Uk.bind({g:1});let dd=Uk.bind({k:1});function RG(r,t,s,i){Nu.p=t,mP=r,bA=s,yA=i}function Wu(r,t){let s=this||{};return function(){let i=arguments;function l(h,m){let g=Object.assign({},h),b=g.className||l.className;s.p=Object.assign({theme:bA&&bA()},g),s.o=/ *go\d+/.test(b),g.className=Uk.apply(s,i)+(b?" "+b:"");let v=r;return r[0]&&(v=g.as||r,delete g.as),yA&&v[0]&&yA(g),mP(v,g)}return l}}var PG=r=>typeof r=="function",Zw=(r,t)=>PG(r)?r(t):r,OG=(()=>{let r=0;return()=>(++r).toString()})(),pP=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),BG=20,fP=(r,t)=>{switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,BG)};case 1:return{...r,toasts:r.toasts.map(h=>h.id===t.toast.id?{...h,...t.toast}:h)};case 2:let{toast:s}=t;return fP(r,{type:r.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...r,toasts:r.toasts.map(h=>h.id===i||i===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(h=>h.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let l=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+l}))}}},Mw=[],wm={toasts:[],pausedAt:void 0},Hm=r=>{wm=fP(wm,r),Mw.forEach(t=>{t(wm)})},LG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zG=(r={})=>{let[t,s]=O.useState(wm),i=O.useRef(wm);O.useEffect(()=>(i.current!==wm&&s(wm),Mw.push(s),()=>{let h=Mw.indexOf(s);h>-1&&Mw.splice(h,1)}),[]);let l=t.toasts.map(h=>{var m,g,b;return{...r,...r[h.type],...h,removeDelay:h.removeDelay||((m=r[h.type])==null?void 0:m.removeDelay)||(r==null?void 0:r.removeDelay),duration:h.duration||((g=r[h.type])==null?void 0:g.duration)||(r==null?void 0:r.duration)||LG[h.type],style:{...r.style,...(b=r[h.type])==null?void 0:b.style,...h.style}}});return{...t,toasts:l}},FG=(r,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...s,id:(s==null?void 0:s.id)||OG()}),kx=r=>(t,s)=>{let i=FG(t,r,s);return Hm({type:2,toast:i}),i.id},Rt=(r,t)=>kx("blank")(r,t);Rt.error=kx("error");Rt.success=kx("success");Rt.loading=kx("loading");Rt.custom=kx("custom");Rt.dismiss=r=>{Hm({type:3,toastId:r})};Rt.remove=r=>Hm({type:4,toastId:r});Rt.promise=(r,t,s)=>{let i=Rt.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof r=="function"&&(r=r()),r.then(l=>{let h=t.success?Zw(t.success,l):void 0;return h?Rt.success(h,{id:i,...s,...s==null?void 0:s.success}):Rt.dismiss(i),l}).catch(l=>{let h=t.error?Zw(t.error,l):void 0;h?Rt.error(h,{id:i,...s,...s==null?void 0:s.error}):Rt.dismiss(i)}),r};var VG=(r,t)=>{Hm({type:1,toast:{id:r,height:t}})},UG=()=>{Hm({type:5,time:Date.now()})},Ey=new Map,GG=1e3,HG=(r,t=GG)=>{if(Ey.has(r))return;let s=setTimeout(()=>{Ey.delete(r),Hm({type:4,toastId:r})},t);Ey.set(r,s)},qG=r=>{let{toasts:t,pausedAt:s}=zG(r);O.useEffect(()=>{if(s)return;let h=Date.now(),m=t.map(g=>{if(g.duration===1/0)return;let b=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(b<0){g.visible&&Rt.dismiss(g.id);return}return setTimeout(()=>Rt.dismiss(g.id),b)});return()=>{m.forEach(g=>g&&clearTimeout(g))}},[t,s]);let i=O.useCallback(()=>{s&&Hm({type:6,time:Date.now()})},[s]),l=O.useCallback((h,m)=>{let{reverseOrder:g=!1,gutter:b=8,defaultPosition:v}=m||{},k=t.filter(S=>(S.position||v)===(h.position||v)&&S.height),C=k.findIndex(S=>S.id===h.id),_=k.filter((S,T)=>T<C&&S.visible).length;return k.filter(S=>S.visible).slice(...g?[_+1]:[0,_]).reduce((S,T)=>S+(T.height||0)+b,0)},[t]);return O.useEffect(()=>{t.forEach(h=>{if(h.dismissed)HG(h.id,h.removeDelay);else{let m=Ey.get(h.id);m&&(clearTimeout(m),Ey.delete(h.id))}})},[t]),{toasts:t,handlers:{updateHeight:VG,startPause:UG,endPause:i,calculateOffset:l}}},YG=dd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WG=dd`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KG=dd`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QG=Wu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JG=dd`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XG=Wu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${JG} 1s linear infinite;
`,$G=dd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZG=dd`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eH=Wu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$G} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tH=Wu("div")`
  position: absolute;
`,rH=Wu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nH=dd`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sH=Wu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,oH=({toast:r})=>{let{icon:t,type:s,iconTheme:i}=r;return t!==void 0?typeof t=="string"?O.createElement(sH,null,t):t:s==="blank"?null:O.createElement(rH,null,O.createElement(XG,{...i}),s!=="loading"&&O.createElement(tH,null,s==="error"?O.createElement(QG,{...i}):O.createElement(eH,{...i})))},iH=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aH=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,lH="0%{opacity:0;} 100%{opacity:1;}",cH="0%{opacity:1;} 100%{opacity:0;}",dH=Wu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uH=Wu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hH=(r,t)=>{let s=r.includes("top")?1:-1,[i,l]=pP()?[lH,cH]:[iH(s),aH(s)];return{animation:t?`${dd(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dd(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mH=O.memo(({toast:r,position:t,style:s,children:i})=>{let l=r.height?hH(r.position||t||"top-center",r.visible):{opacity:0},h=O.createElement(oH,{toast:r}),m=O.createElement(uH,{...r.ariaProps},Zw(r.message,r));return O.createElement(dH,{className:r.className,style:{...l,...s,...r.style}},typeof i=="function"?i({icon:h,message:m}):O.createElement(O.Fragment,null,h,m))});RG(O.createElement);var pH=({id:r,className:t,style:s,onHeightUpdate:i,children:l})=>{let h=O.useCallback(m=>{if(m){let g=()=>{let b=m.getBoundingClientRect().height;i(r,b)};g(),new MutationObserver(g).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[r,i]);return O.createElement("div",{ref:h,className:t,style:s},l)},fH=(r,t)=>{let s=r.includes("top"),i=s?{top:0}:{bottom:0},l=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...i,...l}},gH=Uk`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cw=16,bH=({reverseOrder:r,position:t="top-center",toastOptions:s,gutter:i,children:l,containerStyle:h,containerClassName:m})=>{let{toasts:g,handlers:b}=qG(s);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:cw,left:cw,right:cw,bottom:cw,pointerEvents:"none",...h},className:m,onMouseEnter:b.startPause,onMouseLeave:b.endPause},g.map(v=>{let k=v.position||t,C=b.calculateOffset(v,{reverseOrder:r,gutter:i,defaultPosition:t}),_=fH(k,C);return O.createElement(pH,{id:v.id,key:v.id,onHeightUpdate:b.updateHeight,className:v.visible?gH:"",style:_},v.type==="custom"?Zw(v.message,v):l?l(v):O.createElement(mH,{toast:v,position:k}))}))},Re=Rt;const VM=r=>{let t;const s=new Set,i=(v,k)=>{const C=typeof v=="function"?v(t):v;if(!Object.is(C,t)){const _=t;t=k??(typeof C!="object"||C===null)?C:Object.assign({},t,C),s.forEach(S=>S(t,_))}},l=()=>t,g={setState:i,getState:l,getInitialState:()=>b,subscribe:v=>(s.add(v),()=>s.delete(v))},b=t=r(i,l,g);return g},yH=r=>r?VM(r):VM,xH=r=>r;function vH(r,t=xH){const s=mt.useSyncExternalStore(r.subscribe,()=>t(r.getState()),()=>t(r.getInitialState()));return mt.useDebugValue(s),s}const UM=r=>{const t=yH(r),s=i=>vH(t,i);return Object.assign(s,t),s},un=r=>r?UM(r):UM,GM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Yy=new Map,dw=r=>{const t=Yy.get(r);return t?Object.fromEntries(Object.entries(t.stores).map(([s,i])=>[s,i.getState()])):{}},wH=(r,t,s)=>{if(r===void 0)return{type:"untracked",connection:t.connect(s)};const i=Yy.get(s.name);if(i)return{type:"tracked",store:r,...i};const l={connection:t.connect(s),stores:{}};return Yy.set(s.name,l),{type:"tracked",store:r,...l}},kH=(r,t)=>{if(t===void 0)return;const s=Yy.get(r);s&&(delete s.stores[t],Object.keys(s.stores).length===0&&Yy.delete(r))},CH=r=>{var t,s;if(!r)return;const i=r.split(`
`),l=i.findIndex(m=>m.includes("api.setState"));if(l<0)return;const h=((t=i[l+1])==null?void 0:t.trim())||"";return(s=/.+ (.+) .+/.exec(h))==null?void 0:s[1]},_H=(r,t={})=>(s,i,l)=>{const{enabled:h,anonymousActionType:m,store:g,...b}=t;let v;try{v=(h??(GM?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!v)return r(s,i,l);const{connection:k,...C}=wH(g,v,b);let _=!0;l.setState=(R,P,V)=>{const U=s(R,P);if(!_)return U;const F=V===void 0?{type:m||CH(new Error().stack)||"anonymous"}:typeof V=="string"?{type:V}:V;return g===void 0?(k==null||k.send(F,i()),U):(k==null||k.send({...F,type:`${g}/${F.type}`},{...dw(b.name),[g]:l.getState()}),U)},l.devtools={cleanup:()=>{k&&typeof k.unsubscribe=="function"&&k.unsubscribe(),kH(b.name,g)}};const S=(...R)=>{const P=_;_=!1,s(...R),_=P},T=r(l.setState,i,l);if(C.type==="untracked"?k==null||k.init(T):(C.stores[C.store]=l,k==null||k.init(Object.fromEntries(Object.entries(C.stores).map(([R,P])=>[R,R===C.store?T:P.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let R=!1;const P=l.dispatch;l.dispatch=(...V)=>{(GM?"production":void 0)!=="production"&&V[0].type==="__setState"&&!R&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),R=!0),P(...V)}}return k.subscribe(R=>{var P;switch(R.type){case"ACTION":if(typeof R.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return v_(R.payload,V=>{if(V.type==="__setState"){if(g===void 0){S(V.state);return}Object.keys(V.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const U=V.state[g];if(U==null)return;JSON.stringify(l.getState())!==JSON.stringify(U)&&S(U);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(V)});case"DISPATCH":switch(R.payload.type){case"RESET":return S(T),g===void 0?k==null?void 0:k.init(l.getState()):k==null?void 0:k.init(dw(b.name));case"COMMIT":if(g===void 0){k==null||k.init(l.getState());return}return k==null?void 0:k.init(dw(b.name));case"ROLLBACK":return v_(R.state,V=>{if(g===void 0){S(V),k==null||k.init(l.getState());return}S(V[g]),k==null||k.init(dw(b.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return v_(R.state,V=>{if(g===void 0){S(V);return}JSON.stringify(l.getState())!==JSON.stringify(V[g])&&S(V[g])});case"IMPORT_STATE":{const{nextLiftedState:V}=R.payload,U=(P=V.computedStates.slice(-1)[0])==null?void 0:P.state;if(!U)return;S(g===void 0?U:U[g]),k==null||k.send(null,V);return}case"PAUSE_RECORDING":return _=!_}return}}),T},qm=_H,v_=(r,t)=>{let s;try{s=JSON.parse(r)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}s!==void 0&&t(s)};function AH(r,t){let s;try{s=r()}catch{return}return{getItem:l=>{var h;const m=b=>b===null?null:JSON.parse(b,void 0),g=(h=s.getItem(l))!=null?h:null;return g instanceof Promise?g.then(m):m(g)},setItem:(l,h)=>s.setItem(l,JSON.stringify(h,void 0)),removeItem:l=>s.removeItem(l)}}const xA=r=>t=>{try{const s=r(t);return s instanceof Promise?s:{then(i){return xA(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return xA(i)(s)}}}},NH=(r,t)=>(s,i,l)=>{let h={storage:AH(()=>localStorage),partialize:R=>R,version:0,merge:(R,P)=>({...P,...R}),...t},m=!1;const g=new Set,b=new Set;let v=h.storage;if(!v)return r((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),s(...R)},i,l);const k=()=>{const R=h.partialize({...i()});return v.setItem(h.name,{state:R,version:h.version})},C=l.setState;l.setState=(R,P)=>{C(R,P),k()};const _=r((...R)=>{s(...R),k()},i,l);l.getInitialState=()=>_;let S;const T=()=>{var R,P;if(!v)return;m=!1,g.forEach(U=>{var F;return U((F=i())!=null?F:_)});const V=((P=h.onRehydrateStorage)==null?void 0:P.call(h,(R=i())!=null?R:_))||void 0;return xA(v.getItem.bind(v))(h.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==h.version){if(h.migrate){const F=h.migrate(U.state,U.version);return F instanceof Promise?F.then(q=>[!0,q]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var F;const[q,ne]=U;if(S=h.merge(ne,(F=i())!=null?F:_),s(S,!0),q)return k()}).then(()=>{V==null||V(S,void 0),S=i(),m=!0,b.forEach(U=>U(S))}).catch(U=>{V==null||V(void 0,U)})};return l.persist={setOptions:R=>{h={...h,...R},R.storage&&(v=R.storage)},clearStorage:()=>{v==null||v.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>T(),hasHydrated:()=>m,onHydrate:R=>(g.add(R),()=>{g.delete(R)}),onFinishHydration:R=>(b.add(R),()=>{b.delete(R)})},h.skipHydration||T(),S||_},O2=NH;function gP(r,t){return function(){return r.apply(t,arguments)}}const{toString:jH}=Object.prototype,{getPrototypeOf:B2}=Object,{iterator:Gk,toStringTag:bP}=Symbol,Hk=(r=>t=>{const s=jH.call(t);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),nl=r=>(r=r.toLowerCase(),t=>Hk(t)===r),qk=r=>t=>typeof t===r,{isArray:eg}=Array,Wy=qk("undefined");function SH(r){return r!==null&&!Wy(r)&&r.constructor!==null&&!Wy(r.constructor)&&$o(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const yP=nl("ArrayBuffer");function EH(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&yP(r.buffer),t}const DH=qk("string"),$o=qk("function"),xP=qk("number"),Yk=r=>r!==null&&typeof r=="object",MH=r=>r===!0||r===!1,Tw=r=>{if(Hk(r)!=="object")return!1;const t=B2(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bP in r)&&!(Gk in r)},TH=nl("Date"),IH=nl("File"),RH=nl("Blob"),PH=nl("FileList"),OH=r=>Yk(r)&&$o(r.pipe),BH=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||$o(r.append)&&((t=Hk(r))==="formdata"||t==="object"&&$o(r.toString)&&r.toString()==="[object FormData]"))},LH=nl("URLSearchParams"),[zH,FH,VH,UH]=["ReadableStream","Request","Response","Headers"].map(nl),GH=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cx(r,t,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let i,l;if(typeof r!="object"&&(r=[r]),eg(r))for(i=0,l=r.length;i<l;i++)t.call(null,r[i],i,r);else{const h=s?Object.getOwnPropertyNames(r):Object.keys(r),m=h.length;let g;for(i=0;i<m;i++)g=h[i],t.call(null,r[g],g,r)}}function vP(r,t){t=t.toLowerCase();const s=Object.keys(r);let i=s.length,l;for(;i-- >0;)if(l=s[i],t===l.toLowerCase())return l;return null}const km=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wP=r=>!Wy(r)&&r!==km;function vA(){const{caseless:r}=wP(this)&&this||{},t={},s=(i,l)=>{const h=r&&vP(t,l)||l;Tw(t[h])&&Tw(i)?t[h]=vA(t[h],i):Tw(i)?t[h]=vA({},i):eg(i)?t[h]=i.slice():t[h]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&Cx(arguments[i],s);return t}const HH=(r,t,s,{allOwnKeys:i}={})=>(Cx(t,(l,h)=>{s&&$o(l)?r[h]=gP(l,s):r[h]=l},{allOwnKeys:i}),r),qH=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),YH=(r,t,s,i)=>{r.prototype=Object.create(t.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),s&&Object.assign(r.prototype,s)},WH=(r,t,s,i)=>{let l,h,m;const g={};if(t=t||{},r==null)return t;do{for(l=Object.getOwnPropertyNames(r),h=l.length;h-- >0;)m=l[h],(!i||i(m,r,t))&&!g[m]&&(t[m]=r[m],g[m]=!0);r=s!==!1&&B2(r)}while(r&&(!s||s(r,t))&&r!==Object.prototype);return t},KH=(r,t,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=t.length;const i=r.indexOf(t,s);return i!==-1&&i===s},QH=r=>{if(!r)return null;if(eg(r))return r;let t=r.length;if(!xP(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=r[t];return s},JH=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&B2(Uint8Array)),XH=(r,t)=>{const i=(r&&r[Gk]).call(r);let l;for(;(l=i.next())&&!l.done;){const h=l.value;t.call(r,h[0],h[1])}},$H=(r,t)=>{let s;const i=[];for(;(s=r.exec(t))!==null;)i.push(s);return i},ZH=nl("HTMLFormElement"),eq=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,l){return i.toUpperCase()+l}),HM=(({hasOwnProperty:r})=>(t,s)=>r.call(t,s))(Object.prototype),tq=nl("RegExp"),kP=(r,t)=>{const s=Object.getOwnPropertyDescriptors(r),i={};Cx(s,(l,h)=>{let m;(m=t(l,h,r))!==!1&&(i[h]=m||l)}),Object.defineProperties(r,i)},rq=r=>{kP(r,(t,s)=>{if($o(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=r[s];if($o(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},nq=(r,t)=>{const s={},i=l=>{l.forEach(h=>{s[h]=!0})};return eg(r)?i(r):i(String(r).split(t)),s},sq=()=>{},oq=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function iq(r){return!!(r&&$o(r.append)&&r[bP]==="FormData"&&r[Gk])}const aq=r=>{const t=new Array(10),s=(i,l)=>{if(Yk(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[l]=i;const h=eg(i)?[]:{};return Cx(i,(m,g)=>{const b=s(m,l+1);!Wy(b)&&(h[g]=b)}),t[l]=void 0,h}}return i};return s(r,0)},lq=nl("AsyncFunction"),cq=r=>r&&(Yk(r)||$o(r))&&$o(r.then)&&$o(r.catch),CP=((r,t)=>r?setImmediate:t?((s,i)=>(km.addEventListener("message",({source:l,data:h})=>{l===km&&h===s&&i.length&&i.shift()()},!1),l=>{i.push(l),km.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",$o(km.postMessage)),dq=typeof queueMicrotask<"u"?queueMicrotask.bind(km):typeof process<"u"&&process.nextTick||CP,uq=r=>r!=null&&$o(r[Gk]),Pe={isArray:eg,isArrayBuffer:yP,isBuffer:SH,isFormData:BH,isArrayBufferView:EH,isString:DH,isNumber:xP,isBoolean:MH,isObject:Yk,isPlainObject:Tw,isReadableStream:zH,isRequest:FH,isResponse:VH,isHeaders:UH,isUndefined:Wy,isDate:TH,isFile:IH,isBlob:RH,isRegExp:tq,isFunction:$o,isStream:OH,isURLSearchParams:LH,isTypedArray:JH,isFileList:PH,forEach:Cx,merge:vA,extend:HH,trim:GH,stripBOM:qH,inherits:YH,toFlatObject:WH,kindOf:Hk,kindOfTest:nl,endsWith:KH,toArray:QH,forEachEntry:XH,matchAll:$H,isHTMLForm:ZH,hasOwnProperty:HM,hasOwnProp:HM,reduceDescriptors:kP,freezeMethods:rq,toObjectSet:nq,toCamelCase:eq,noop:sq,toFiniteNumber:oq,findKey:vP,global:km,isContextDefined:wP,isSpecCompliantForm:iq,toJSONObject:aq,isAsyncFn:lq,isThenable:cq,setImmediate:CP,asap:dq,isIterable:uq};function Ut(r,t,s,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}Pe.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const _P=Ut.prototype,AP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{AP[r]={value:r}});Object.defineProperties(Ut,AP);Object.defineProperty(_P,"isAxiosError",{value:!0});Ut.from=(r,t,s,i,l,h)=>{const m=Object.create(_P);return Pe.toFlatObject(r,m,function(b){return b!==Error.prototype},g=>g!=="isAxiosError"),Ut.call(m,r.message,t,s,i,l),m.cause=r,m.name=r.name,h&&Object.assign(m,h),m};const hq=null;function wA(r){return Pe.isPlainObject(r)||Pe.isArray(r)}function NP(r){return Pe.endsWith(r,"[]")?r.slice(0,-2):r}function qM(r,t,s){return r?r.concat(t).map(function(l,h){return l=NP(l),!s&&h?"["+l+"]":l}).join(s?".":""):t}function mq(r){return Pe.isArray(r)&&!r.some(wA)}const pq=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Wk(r,t,s){if(!Pe.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,s=Pe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,P){return!Pe.isUndefined(P[R])});const i=s.metaTokens,l=s.visitor||k,h=s.dots,m=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(l))throw new TypeError("visitor must be a function");function v(T){if(T===null)return"";if(Pe.isDate(T))return T.toISOString();if(Pe.isBoolean(T))return T.toString();if(!b&&Pe.isBlob(T))throw new Ut("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(T)||Pe.isTypedArray(T)?b&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function k(T,R,P){let V=T;if(T&&!P&&typeof T=="object"){if(Pe.endsWith(R,"{}"))R=i?R:R.slice(0,-2),T=JSON.stringify(T);else if(Pe.isArray(T)&&mq(T)||(Pe.isFileList(T)||Pe.endsWith(R,"[]"))&&(V=Pe.toArray(T)))return R=NP(R),V.forEach(function(F,q){!(Pe.isUndefined(F)||F===null)&&t.append(m===!0?qM([R],q,h):m===null?R:R+"[]",v(F))}),!1}return wA(T)?!0:(t.append(qM(P,R,h),v(T)),!1)}const C=[],_=Object.assign(pq,{defaultVisitor:k,convertValue:v,isVisitable:wA});function S(T,R){if(!Pe.isUndefined(T)){if(C.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));C.push(T),Pe.forEach(T,function(V,U){(!(Pe.isUndefined(V)||V===null)&&l.call(t,V,Pe.isString(U)?U.trim():U,R,_))===!0&&S(V,R?R.concat(U):[U])}),C.pop()}}if(!Pe.isObject(r))throw new TypeError("data must be an object");return S(r),t}function YM(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function L2(r,t){this._pairs=[],r&&Wk(r,this,t)}const jP=L2.prototype;jP.append=function(t,s){this._pairs.push([t,s])};jP.toString=function(t){const s=t?function(i){return t.call(this,i,YM)}:YM;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function fq(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SP(r,t,s){if(!t)return r;const i=s&&s.encode||fq;Pe.isFunction(s)&&(s={serialize:s});const l=s&&s.serialize;let h;if(l?h=l(t,s):h=Pe.isURLSearchParams(t)?t.toString():new L2(t,s).toString(i),h){const m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class WM{constructor(){this.handlers=[]}use(t,s,i){return this.handlers.push({fulfilled:t,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(i){i!==null&&t(i)})}}const EP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gq=typeof URLSearchParams<"u"?URLSearchParams:L2,bq=typeof FormData<"u"?FormData:null,yq=typeof Blob<"u"?Blob:null,xq={isBrowser:!0,classes:{URLSearchParams:gq,FormData:bq,Blob:yq},protocols:["http","https","file","blob","url","data"]},z2=typeof window<"u"&&typeof document<"u",kA=typeof navigator=="object"&&navigator||void 0,vq=z2&&(!kA||["ReactNative","NativeScript","NS"].indexOf(kA.product)<0),wq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kq=z2&&window.location.href||"http://localhost",Cq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:z2,hasStandardBrowserEnv:vq,hasStandardBrowserWebWorkerEnv:wq,navigator:kA,origin:kq},Symbol.toStringTag,{value:"Module"})),ho={...Cq,...xq};function _q(r,t){return Wk(r,new ho.classes.URLSearchParams,Object.assign({visitor:function(s,i,l,h){return ho.isNode&&Pe.isBuffer(s)?(this.append(i,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function Aq(r){return Pe.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nq(r){const t={},s=Object.keys(r);let i;const l=s.length;let h;for(i=0;i<l;i++)h=s[i],t[h]=r[h];return t}function DP(r){function t(s,i,l,h){let m=s[h++];if(m==="__proto__")return!0;const g=Number.isFinite(+m),b=h>=s.length;return m=!m&&Pe.isArray(l)?l.length:m,b?(Pe.hasOwnProp(l,m)?l[m]=[l[m],i]:l[m]=i,!g):((!l[m]||!Pe.isObject(l[m]))&&(l[m]=[]),t(s,i,l[m],h)&&Pe.isArray(l[m])&&(l[m]=Nq(l[m])),!g)}if(Pe.isFormData(r)&&Pe.isFunction(r.entries)){const s={};return Pe.forEachEntry(r,(i,l)=>{t(Aq(i),l,s,0)}),s}return null}function jq(r,t,s){if(Pe.isString(r))try{return(t||JSON.parse)(r),Pe.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(r)}const _x={transitional:EP,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const i=s.getContentType()||"",l=i.indexOf("application/json")>-1,h=Pe.isObject(t);if(h&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return l?JSON.stringify(DP(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(h){if(i.indexOf("application/x-www-form-urlencoded")>-1)return _q(t,this.formSerializer).toString();if((g=Pe.isFileList(t))||i.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Wk(g?{"files[]":t}:t,b&&new b,this.formSerializer)}}return h||l?(s.setContentType("application/json",!1),jq(t)):t}],transformResponse:[function(t){const s=this.transitional||_x.transitional,i=s&&s.forcedJSONParsing,l=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(i&&!this.responseType||l)){const m=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(g){if(m)throw g.name==="SyntaxError"?Ut.from(g,Ut.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ho.classes.FormData,Blob:ho.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],r=>{_x.headers[r]={}});const Sq=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eq=r=>{const t={};let s,i,l;return r&&r.split(`
`).forEach(function(m){l=m.indexOf(":"),s=m.substring(0,l).trim().toLowerCase(),i=m.substring(l+1).trim(),!(!s||t[s]&&Sq[s])&&(s==="set-cookie"?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t},KM=Symbol("internals");function my(r){return r&&String(r).trim().toLowerCase()}function Iw(r){return r===!1||r==null?r:Pe.isArray(r)?r.map(Iw):String(r)}function Dq(r){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(r);)t[i[1]]=i[2];return t}const Mq=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function w_(r,t,s,i,l){if(Pe.isFunction(i))return i.call(this,t,s);if(l&&(t=s),!!Pe.isString(t)){if(Pe.isString(i))return t.indexOf(i)!==-1;if(Pe.isRegExp(i))return i.test(t)}}function Tq(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,i)=>s.toUpperCase()+i)}function Iq(r,t){const s=Pe.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+s,{value:function(l,h,m){return this[i].call(this,t,l,h,m)},configurable:!0})})}let Zo=class{constructor(t){t&&this.set(t)}set(t,s,i){const l=this;function h(g,b,v){const k=my(b);if(!k)throw new Error("header name must be a non-empty string");const C=Pe.findKey(l,k);(!C||l[C]===void 0||v===!0||v===void 0&&l[C]!==!1)&&(l[C||b]=Iw(g))}const m=(g,b)=>Pe.forEach(g,(v,k)=>h(v,k,b));if(Pe.isPlainObject(t)||t instanceof this.constructor)m(t,s);else if(Pe.isString(t)&&(t=t.trim())&&!Mq(t))m(Eq(t),s);else if(Pe.isObject(t)&&Pe.isIterable(t)){let g={},b,v;for(const k of t){if(!Pe.isArray(k))throw TypeError("Object iterator must return a key-value pair");g[v=k[0]]=(b=g[v])?Pe.isArray(b)?[...b,k[1]]:[b,k[1]]:k[1]}m(g,s)}else t!=null&&h(s,t,i);return this}get(t,s){if(t=my(t),t){const i=Pe.findKey(this,t);if(i){const l=this[i];if(!s)return l;if(s===!0)return Dq(l);if(Pe.isFunction(s))return s.call(this,l,i);if(Pe.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=my(t),t){const i=Pe.findKey(this,t);return!!(i&&this[i]!==void 0&&(!s||w_(this,this[i],i,s)))}return!1}delete(t,s){const i=this;let l=!1;function h(m){if(m=my(m),m){const g=Pe.findKey(i,m);g&&(!s||w_(i,i[g],g,s))&&(delete i[g],l=!0)}}return Pe.isArray(t)?t.forEach(h):h(t),l}clear(t){const s=Object.keys(this);let i=s.length,l=!1;for(;i--;){const h=s[i];(!t||w_(this,this[h],h,t,!0))&&(delete this[h],l=!0)}return l}normalize(t){const s=this,i={};return Pe.forEach(this,(l,h)=>{const m=Pe.findKey(i,h);if(m){s[m]=Iw(l),delete s[h];return}const g=t?Tq(h):String(h).trim();g!==h&&delete s[h],s[g]=Iw(l),i[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Pe.forEach(this,(i,l)=>{i!=null&&i!==!1&&(s[l]=t&&Pe.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const i=new this(t);return s.forEach(l=>i.set(l)),i}static accessor(t){const i=(this[KM]=this[KM]={accessors:{}}).accessors,l=this.prototype;function h(m){const g=my(m);i[g]||(Iq(l,m),i[g]=!0)}return Pe.isArray(t)?t.forEach(h):h(t),this}};Zo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Zo.prototype,({value:r},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(i){this[s]=i}}});Pe.freezeMethods(Zo);function k_(r,t){const s=this||_x,i=t||s,l=Zo.from(i.headers);let h=i.data;return Pe.forEach(r,function(g){h=g.call(s,h,l.normalize(),t?t.status:void 0)}),l.normalize(),h}function MP(r){return!!(r&&r.__CANCEL__)}function tg(r,t,s){Ut.call(this,r??"canceled",Ut.ERR_CANCELED,t,s),this.name="CanceledError"}Pe.inherits(tg,Ut,{__CANCEL__:!0});function TP(r,t,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?r(s):t(new Ut("Request failed with status code "+s.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Rq(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function Pq(r,t){r=r||10;const s=new Array(r),i=new Array(r);let l=0,h=0,m;return t=t!==void 0?t:1e3,function(b){const v=Date.now(),k=i[h];m||(m=v),s[l]=b,i[l]=v;let C=h,_=0;for(;C!==l;)_+=s[C++],C=C%r;if(l=(l+1)%r,l===h&&(h=(h+1)%r),v-m<t)return;const S=k&&v-k;return S?Math.round(_*1e3/S):void 0}}function Oq(r,t){let s=0,i=1e3/t,l,h;const m=(v,k=Date.now())=>{s=k,l=null,h&&(clearTimeout(h),h=null),r.apply(null,v)};return[(...v)=>{const k=Date.now(),C=k-s;C>=i?m(v,k):(l=v,h||(h=setTimeout(()=>{h=null,m(l)},i-C)))},()=>l&&m(l)]}const ek=(r,t,s=3)=>{let i=0;const l=Pq(50,250);return Oq(h=>{const m=h.loaded,g=h.lengthComputable?h.total:void 0,b=m-i,v=l(b),k=m<=g;i=m;const C={loaded:m,total:g,progress:g?m/g:void 0,bytes:b,rate:v||void 0,estimated:v&&g&&k?(g-m)/v:void 0,event:h,lengthComputable:g!=null,[t?"download":"upload"]:!0};r(C)},s)},QM=(r,t)=>{const s=r!=null;return[i=>t[0]({lengthComputable:s,total:r,loaded:i}),t[1]]},JM=r=>(...t)=>Pe.asap(()=>r(...t)),Bq=ho.hasStandardBrowserEnv?((r,t)=>s=>(s=new URL(s,ho.origin),r.protocol===s.protocol&&r.host===s.host&&(t||r.port===s.port)))(new URL(ho.origin),ho.navigator&&/(msie|trident)/i.test(ho.navigator.userAgent)):()=>!0,Lq=ho.hasStandardBrowserEnv?{write(r,t,s,i,l,h){const m=[r+"="+encodeURIComponent(t)];Pe.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),Pe.isString(i)&&m.push("path="+i),Pe.isString(l)&&m.push("domain="+l),h===!0&&m.push("secure"),document.cookie=m.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zq(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Fq(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function IP(r,t,s){let i=!zq(t);return r&&(i||s==!1)?Fq(r,t):t}const XM=r=>r instanceof Zo?{...r}:r;function Rm(r,t){t=t||{};const s={};function i(v,k,C,_){return Pe.isPlainObject(v)&&Pe.isPlainObject(k)?Pe.merge.call({caseless:_},v,k):Pe.isPlainObject(k)?Pe.merge({},k):Pe.isArray(k)?k.slice():k}function l(v,k,C,_){if(Pe.isUndefined(k)){if(!Pe.isUndefined(v))return i(void 0,v,C,_)}else return i(v,k,C,_)}function h(v,k){if(!Pe.isUndefined(k))return i(void 0,k)}function m(v,k){if(Pe.isUndefined(k)){if(!Pe.isUndefined(v))return i(void 0,v)}else return i(void 0,k)}function g(v,k,C){if(C in t)return i(v,k);if(C in r)return i(void 0,v)}const b={url:h,method:h,data:h,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:g,headers:(v,k,C)=>l(XM(v),XM(k),C,!0)};return Pe.forEach(Object.keys(Object.assign({},r,t)),function(k){const C=b[k]||l,_=C(r[k],t[k],k);Pe.isUndefined(_)&&C!==g||(s[k]=_)}),s}const RP=r=>{const t=Rm({},r);let{data:s,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:h,headers:m,auth:g}=t;t.headers=m=Zo.from(m),t.url=SP(IP(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),g&&m.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let b;if(Pe.isFormData(s)){if(ho.hasStandardBrowserEnv||ho.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((b=m.getContentType())!==!1){const[v,...k]=b?b.split(";").map(C=>C.trim()).filter(Boolean):[];m.setContentType([v||"multipart/form-data",...k].join("; "))}}if(ho.hasStandardBrowserEnv&&(i&&Pe.isFunction(i)&&(i=i(t)),i||i!==!1&&Bq(t.url))){const v=l&&h&&Lq.read(h);v&&m.set(l,v)}return t},Vq=typeof XMLHttpRequest<"u",Uq=Vq&&function(r){return new Promise(function(s,i){const l=RP(r);let h=l.data;const m=Zo.from(l.headers).normalize();let{responseType:g,onUploadProgress:b,onDownloadProgress:v}=l,k,C,_,S,T;function R(){S&&S(),T&&T(),l.cancelToken&&l.cancelToken.unsubscribe(k),l.signal&&l.signal.removeEventListener("abort",k)}let P=new XMLHttpRequest;P.open(l.method.toUpperCase(),l.url,!0),P.timeout=l.timeout;function V(){if(!P)return;const F=Zo.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ne={data:!g||g==="text"||g==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:F,config:r,request:P};TP(function(Q){s(Q),R()},function(Q){i(Q),R()},ne),P=null}"onloadend"in P?P.onloadend=V:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(V)},P.onabort=function(){P&&(i(new Ut("Request aborted",Ut.ECONNABORTED,r,P)),P=null)},P.onerror=function(){i(new Ut("Network Error",Ut.ERR_NETWORK,r,P)),P=null},P.ontimeout=function(){let q=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const ne=l.transitional||EP;l.timeoutErrorMessage&&(q=l.timeoutErrorMessage),i(new Ut(q,ne.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,r,P)),P=null},h===void 0&&m.setContentType(null),"setRequestHeader"in P&&Pe.forEach(m.toJSON(),function(q,ne){P.setRequestHeader(ne,q)}),Pe.isUndefined(l.withCredentials)||(P.withCredentials=!!l.withCredentials),g&&g!=="json"&&(P.responseType=l.responseType),v&&([_,T]=ek(v,!0),P.addEventListener("progress",_)),b&&P.upload&&([C,S]=ek(b),P.upload.addEventListener("progress",C),P.upload.addEventListener("loadend",S)),(l.cancelToken||l.signal)&&(k=F=>{P&&(i(!F||F.type?new tg(null,r,P):F),P.abort(),P=null)},l.cancelToken&&l.cancelToken.subscribe(k),l.signal&&(l.signal.aborted?k():l.signal.addEventListener("abort",k)));const U=Rq(l.url);if(U&&ho.protocols.indexOf(U)===-1){i(new Ut("Unsupported protocol "+U+":",Ut.ERR_BAD_REQUEST,r));return}P.send(h||null)})},Gq=(r,t)=>{const{length:s}=r=r?r.filter(Boolean):[];if(t||s){let i=new AbortController,l;const h=function(v){if(!l){l=!0,g();const k=v instanceof Error?v:this.reason;i.abort(k instanceof Ut?k:new tg(k instanceof Error?k.message:k))}};let m=t&&setTimeout(()=>{m=null,h(new Ut(`timeout ${t} of ms exceeded`,Ut.ETIMEDOUT))},t);const g=()=>{r&&(m&&clearTimeout(m),m=null,r.forEach(v=>{v.unsubscribe?v.unsubscribe(h):v.removeEventListener("abort",h)}),r=null)};r.forEach(v=>v.addEventListener("abort",h));const{signal:b}=i;return b.unsubscribe=()=>Pe.asap(g),b}},Hq=function*(r,t){let s=r.byteLength;if(s<t){yield r;return}let i=0,l;for(;i<s;)l=i+t,yield r.slice(i,l),i=l},qq=async function*(r,t){for await(const s of Yq(r))yield*Hq(s,t)},Yq=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)break;yield i}}finally{await t.cancel()}},$M=(r,t,s,i)=>{const l=qq(r,t);let h=0,m,g=b=>{m||(m=!0,i&&i(b))};return new ReadableStream({async pull(b){try{const{done:v,value:k}=await l.next();if(v){g(),b.close();return}let C=k.byteLength;if(s){let _=h+=C;s(_)}b.enqueue(new Uint8Array(k))}catch(v){throw g(v),v}},cancel(b){return g(b),l.return()}},{highWaterMark:2})},Kk=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",PP=Kk&&typeof ReadableStream=="function",Wq=Kk&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),OP=(r,...t)=>{try{return!!r(...t)}catch{return!1}},Kq=PP&&OP(()=>{let r=!1;const t=new Request(ho.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),ZM=64*1024,CA=PP&&OP(()=>Pe.isReadableStream(new Response("").body)),tk={stream:CA&&(r=>r.body)};Kk&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!tk[t]&&(tk[t]=Pe.isFunction(r[t])?s=>s[t]():(s,i)=>{throw new Ut(`Response type '${t}' is not supported`,Ut.ERR_NOT_SUPPORT,i)})})})(new Response);const Qq=async r=>{if(r==null)return 0;if(Pe.isBlob(r))return r.size;if(Pe.isSpecCompliantForm(r))return(await new Request(ho.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(r)||Pe.isArrayBuffer(r))return r.byteLength;if(Pe.isURLSearchParams(r)&&(r=r+""),Pe.isString(r))return(await Wq(r)).byteLength},Jq=async(r,t)=>{const s=Pe.toFiniteNumber(r.getContentLength());return s??Qq(t)},Xq=Kk&&(async r=>{let{url:t,method:s,data:i,signal:l,cancelToken:h,timeout:m,onDownloadProgress:g,onUploadProgress:b,responseType:v,headers:k,withCredentials:C="same-origin",fetchOptions:_}=RP(r);v=v?(v+"").toLowerCase():"text";let S=Gq([l,h&&h.toAbortSignal()],m),T;const R=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let P;try{if(b&&Kq&&s!=="get"&&s!=="head"&&(P=await Jq(k,i))!==0){let ne=new Request(t,{method:"POST",body:i,duplex:"half"}),se;if(Pe.isFormData(i)&&(se=ne.headers.get("content-type"))&&k.setContentType(se),ne.body){const[Q,B]=QM(P,ek(JM(b)));i=$M(ne.body,ZM,Q,B)}}Pe.isString(C)||(C=C?"include":"omit");const V="credentials"in Request.prototype;T=new Request(t,{..._,signal:S,method:s.toUpperCase(),headers:k.normalize().toJSON(),body:i,duplex:"half",credentials:V?C:void 0});let U=await fetch(T,_);const F=CA&&(v==="stream"||v==="response");if(CA&&(g||F&&R)){const ne={};["status","statusText","headers"].forEach(Y=>{ne[Y]=U[Y]});const se=Pe.toFiniteNumber(U.headers.get("content-length")),[Q,B]=g&&QM(se,ek(JM(g),!0))||[];U=new Response($M(U.body,ZM,Q,()=>{B&&B(),R&&R()}),ne)}v=v||"text";let q=await tk[Pe.findKey(tk,v)||"text"](U,r);return!F&&R&&R(),await new Promise((ne,se)=>{TP(ne,se,{data:q,headers:Zo.from(U.headers),status:U.status,statusText:U.statusText,config:r,request:T})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,r,T),{cause:V.cause||V}):Ut.from(V,V&&V.code,r,T)}}),_A={http:hq,xhr:Uq,fetch:Xq};Pe.forEach(_A,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const e5=r=>`- ${r}`,$q=r=>Pe.isFunction(r)||r===null||r===!1,BP={getAdapter:r=>{r=Pe.isArray(r)?r:[r];const{length:t}=r;let s,i;const l={};for(let h=0;h<t;h++){s=r[h];let m;if(i=s,!$q(s)&&(i=_A[(m=String(s)).toLowerCase()],i===void 0))throw new Ut(`Unknown adapter '${m}'`);if(i)break;l[m||"#"+h]=i}if(!i){const h=Object.entries(l).map(([g,b])=>`adapter ${g} `+(b===!1?"is not supported by the environment":"is not available in the build"));let m=t?h.length>1?`since :
`+h.map(e5).join(`
`):" "+e5(h[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return i},adapters:_A};function C_(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new tg(null,r)}function t5(r){return C_(r),r.headers=Zo.from(r.headers),r.data=k_.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),BP.getAdapter(r.adapter||_x.adapter)(r).then(function(i){return C_(r),i.data=k_.call(r,r.transformResponse,i),i.headers=Zo.from(i.headers),i},function(i){return MP(i)||(C_(r),i&&i.response&&(i.response.data=k_.call(r,r.transformResponse,i.response),i.response.headers=Zo.from(i.response.headers))),Promise.reject(i)})}const LP="1.10.0",Qk={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{Qk[r]=function(i){return typeof i===r||"a"+(t<1?"n ":" ")+r}});const r5={};Qk.transitional=function(t,s,i){function l(h,m){return"[Axios v"+LP+"] Transitional option '"+h+"'"+m+(i?". "+i:"")}return(h,m,g)=>{if(t===!1)throw new Ut(l(m," has been removed"+(s?" in "+s:"")),Ut.ERR_DEPRECATED);return s&&!r5[m]&&(r5[m]=!0,console.warn(l(m," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(h,m,g):!0}};Qk.spelling=function(t){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Zq(r,t,s){if(typeof r!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let l=i.length;for(;l-- >0;){const h=i[l],m=t[h];if(m){const g=r[h],b=g===void 0||m(g,h,r);if(b!==!0)throw new Ut("option "+h+" must be "+b,Ut.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ut("Unknown option "+h,Ut.ERR_BAD_OPTION)}}const Rw={assertOptions:Zq,validators:Qk},Vl=Rw.validators;let Em=class{constructor(t){this.defaults=t||{},this.interceptors={request:new WM,response:new WM}}async request(t,s){try{return await this._request(t,s)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const h=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?h&&!String(i.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+h):i.stack=h}catch{}}throw i}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Rm(this.defaults,s);const{transitional:i,paramsSerializer:l,headers:h}=s;i!==void 0&&Rw.assertOptions(i,{silentJSONParsing:Vl.transitional(Vl.boolean),forcedJSONParsing:Vl.transitional(Vl.boolean),clarifyTimeoutError:Vl.transitional(Vl.boolean)},!1),l!=null&&(Pe.isFunction(l)?s.paramsSerializer={serialize:l}:Rw.assertOptions(l,{encode:Vl.function,serialize:Vl.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Rw.assertOptions(s,{baseUrl:Vl.spelling("baseURL"),withXsrfToken:Vl.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=h&&Pe.merge(h.common,h[s.method]);h&&Pe.forEach(["delete","get","head","post","put","patch","common"],T=>{delete h[T]}),s.headers=Zo.concat(m,h);const g=[];let b=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(b=b&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const v=[];this.interceptors.response.forEach(function(R){v.push(R.fulfilled,R.rejected)});let k,C=0,_;if(!b){const T=[t5.bind(this),void 0];for(T.unshift.apply(T,g),T.push.apply(T,v),_=T.length,k=Promise.resolve(s);C<_;)k=k.then(T[C++],T[C++]);return k}_=g.length;let S=s;for(C=0;C<_;){const T=g[C++],R=g[C++];try{S=T(S)}catch(P){R.call(this,P);break}}try{k=t5.call(this,S)}catch(T){return Promise.reject(T)}for(C=0,_=v.length;C<_;)k=k.then(v[C++],v[C++]);return k}getUri(t){t=Rm(this.defaults,t);const s=IP(t.baseURL,t.url,t.allowAbsoluteUrls);return SP(s,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){Em.prototype[t]=function(s,i){return this.request(Rm(i||{},{method:t,url:s,data:(i||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function s(i){return function(h,m,g){return this.request(Rm(g||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:h,data:m}))}}Em.prototype[t]=s(),Em.prototype[t+"Form"]=s(!0)});let eY=class zP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const i=this;this.promise.then(l=>{if(!i._listeners)return;let h=i._listeners.length;for(;h-- >0;)i._listeners[h](l);i._listeners=null}),this.promise.then=l=>{let h;const m=new Promise(g=>{i.subscribe(g),h=g}).then(l);return m.cancel=function(){i.unsubscribe(h)},m},t(function(h,m,g){i.reason||(i.reason=new tg(h,m,g),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=i=>{t.abort(i)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new zP(function(l){t=l}),cancel:t}}};function tY(r){return function(s){return r.apply(null,s)}}function rY(r){return Pe.isObject(r)&&r.isAxiosError===!0}const AA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(AA).forEach(([r,t])=>{AA[t]=r});function FP(r){const t=new Em(r),s=gP(Em.prototype.request,t);return Pe.extend(s,Em.prototype,t,{allOwnKeys:!0}),Pe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(l){return FP(Rm(r,l))},s}const kn=FP(_x);kn.Axios=Em;kn.CanceledError=tg;kn.CancelToken=eY;kn.isCancel=MP;kn.VERSION=LP;kn.toFormData=Wk;kn.AxiosError=Ut;kn.Cancel=kn.CanceledError;kn.all=function(t){return Promise.all(t)};kn.spread=tY;kn.isAxiosError=rY;kn.mergeConfig=Rm;kn.AxiosHeaders=Zo;kn.formToJSON=r=>DP(Pe.isHTMLForm(r)?new FormData(r):r);kn.getAdapter=BP.getAdapter;kn.HttpStatusCode=AA;kn.default=kn;const{Axios:Sde,AxiosError:Ede,CanceledError:Dde,isCancel:Mde,CancelToken:Tde,VERSION:Ide,all:Rde,Cancel:Pde,isAxiosError:Ode,spread:Bde,toFormData:Lde,AxiosHeaders:zde,HttpStatusCode:Fde,formToJSON:Vde,getAdapter:Ude,mergeConfig:Gde}=kn,Cm="http://127.0.0.1:8000/api",Pm="anand_mobiles_token",Zc="anand_mobiles_user",Dy="delivery_partner_token",Et={HOME:"/",LOGIN:"/login",PRODUCTS:"/products",CART:"/cart",ORDERS:"/orders",WISHLIST:"/wishlist",ABOUT:"/about",CONTACT:"/contact",TRACK_ORDER:"/track-order",BULK_ORDER:"/bulk-order",TERMS_CONDITIONS:"/terms-conditions",CANCELLATION_REFUND_POLICY:"/cancellation-refund-policy",PRIVACY_POLICY:"/privacy-policy",SHIPPING_DELIVERY_POLICY:"/shipping-delivery-policy",OUR_STORES:"/our-stores",WARRANTY_POLICY:"/warranty-policy"},or=kn.create({baseURL:Cm,headers:{"Content-Type":"application/json"}});or.interceptors.request.use(r=>{const t=localStorage.getItem(Pm);return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r));or.interceptors.response.use(r=>r,r=>{var t;return((t=r.response)==null?void 0:t.status)===401&&(localStorage.removeItem(Pm),localStorage.removeItem(Zc)),Promise.reject(r)});const Ze=kn.create({baseURL:Cm,headers:{"Content-Type":"application/json"}});Ze.interceptors.request.use(r=>{const t=localStorage.getItem("admin_token");return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r));Ze.interceptors.response.use(r=>r,r=>{var t;return((t=r.response)==null?void 0:t.status)===401&&localStorage.removeItem("admin_token"),Promise.reject(r)});const $c=kn.create({baseURL:Cm,headers:{"Content-Type":"application/json"}});$c.interceptors.request.use(r=>{const t=localStorage.getItem(Dy);return t&&(r.headers.Authorization=`Bearer ${t}`),r},r=>Promise.reject(r));$c.interceptors.response.use(r=>r,r=>{var t;return((t=r.response)==null?void 0:t.status)===401&&localStorage.removeItem(Dy),Promise.reject(r)});const VP=un(qm((r,t)=>({logo:null,loading:!1,error:null,setLogo:s=>r({logo:s}),setLoading:s=>r({loading:s}),setError:s=>r({error:s}),fetchLogo:async()=>{var i,l;const s=t();if(s.loading||s.logo)return s.logo;r({loading:!0,error:null});try{const h=await Ze.get("/admin/content/logo");if(h.status===200)return r({logo:h.data.logo_url,loading:!1}),h.data.logo_url}catch(h){throw console.error("Error fetching logo:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch logo",loading:!1}),h}},uploadLogo:async s=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.post("/admin/content/logo/upload",s,{headers:{"Content-Type":"multipart/form-data"}});if(h.status===200)return r({logo:h.data.logo_url,loading:!1}),h.data}catch(h){throw console.error("Error uploading logo:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to upload logo",loading:!1}),h}},deleteLogo:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.delete("/admin/content/logo");if(l.status===200)return r({logo:null,loading:!1}),l.data}catch(l){throw console.error("Error deleting logo:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to delete logo",loading:!1}),l}},clearError:()=>r({error:null})}))),rk=({size:r="medium",linkWrapper:t=!0,titleColor:s})=>{const{logo:i,loading:l,fetchLogo:h}=VP(),m=O.useRef(!1);O.useEffect(()=>{!i&&!l&&!m.current&&(m.current=!0,h())},[]);const g={small:"h-8 w-auto",medium:"h-12 w-auto",large:"h-16 w-auto"},b=s||"var(--brand-primary)",v=n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"relative",children:n.jsx("img",{src:i||"/logo.jpg",alt:"Anand Mobiles",className:`${g[r]} rounded-md transition-transform duration-300 hover:scale-105`,style:{borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"}})}),n.jsxs("span",{className:"ml-2.5 text-xl font-bold hidden sm:inline-block transition-colors duration-300",style:{color:b},children:[n.jsx("span",{children:"Anand"})," Mobiles"]})]});return t?n.jsx(rt,{to:"/",className:"flex items-center hover:opacity-90 transition-opacity duration-300","aria-label":"Anand Mobiles Home",children:v}):n.jsx("div",{className:"flex items-center",children:v})},Ym=({children:r,title:t,titleColor:s})=>n.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full opacity-10 transform translate-x-1/3 -translate-y-1/3",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 rounded-full opacity-10 transform -translate-x-1/3 translate-y-1/3",style:{backgroundColor:"var(--brand-secondary)"}}),n.jsxs("div",{className:"max-w-md w-full space-y-7 p-8 rounded-xl animate-fadeIn relative z-10",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-xl)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(rk,{size:"large",titleColor:s}),n.jsx("h2",{className:"mt-6 text-center text-2xl font-bold",style:{color:"var(--text-primary)"},children:t}),n.jsx("div",{className:"h-1.5 w-20 mt-4 rounded-full",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}})]}),n.jsx("div",{className:"mt-8 relative",children:r})]})]});var UP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n5=mt.createContext&&mt.createContext(UP),nY=["attr","size","title"];function sY(r,t){if(r==null)return{};var s=oY(r,t),i,l;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);for(l=0;l<h.length;l++)i=h[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(s[i]=r[i])}return s}function oY(r,t){if(r==null)return{};var s={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(t.indexOf(i)>=0)continue;s[i]=r[i]}return s}function nk(){return nk=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},nk.apply(this,arguments)}function s5(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),s.push.apply(s,i)}return s}function sk(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(s),!0).forEach(function(i){iY(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):s5(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}function iY(r,t,s){return t=aY(t),t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function aY(r){var t=lY(r,"string");return typeof t=="symbol"?t:t+""}function lY(r,t){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function GP(r){return r&&r.map((t,s)=>mt.createElement(t.tag,sk({key:s},t.attr),GP(t.child)))}function Le(r){return t=>mt.createElement(cY,nk({attr:sk({},r.attr)},t),GP(r.child))}function cY(r){var t=s=>{var{attr:i,size:l,title:h}=r,m=sY(r,nY),g=l||s.size||"1em",b;return s.className&&(b=s.className),r.className&&(b=(b?b+" ":"")+r.className),mt.createElement("svg",nk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,i,m,{className:b,style:sk(sk({color:r.color||s.color},s.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&mt.createElement("title",null,h),r.children)};return n5!==void 0?mt.createElement(n5.Consumer,null,s=>t(s)):t(UP)}function dY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(r)}function uY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(r)}function hY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(r)}function mY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(r)}function F2(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(r)}function V2(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(r)}function pY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(r)}function fY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"},child:[]}]})(r)}function gY(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(r)}const qr=({label:r,type:t="text",name:s,value:i,onChange:l,required:h=!1,error:m,placeholder:g,icon:b=null})=>{const v=S=>{const T={color:"var(--text-secondary)"};switch(S){case"email":return n.jsx(hY,{style:T,className:"h-5 w-5"});case"lock":return n.jsx(dY,{style:T,className:"h-5 w-5"});case"user":return n.jsx(gY,{style:T,className:"h-5 w-5"});case"phone":return n.jsx(mY,{style:T,className:"h-5 w-5"});default:return null}},k={borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-primary)",borderColor:m?"var(--error-color)":"var(--border-primary)",transition:"all 0.3s ease-in-out"},C={color:"var(--text-primary)"},_={color:"var(--error-color)"};return n.jsxs("div",{className:"mb-4 group",children:[n.jsxs("label",{htmlFor:s,className:"block text-sm font-medium mb-1.5 transition-colors duration-200",style:C,children:[r," ",h&&n.jsx("span",{style:_,children:"*"})]}),n.jsxs("div",{className:"relative rounded-md",children:[b&&n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-all duration-200",children:typeof b=="string"?v(b):mt.cloneElement(b,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:t,name:s,id:s,value:i,onChange:l,required:h,placeholder:g,className:`block w-full ${b?"pl-10":"px-4"} py-3 border shadow-sm focus:outline-none focus:ring-2 sm:text-sm transition-all duration-300 ${m?"focus:ring-red-500 border-red-300":"focus:ring-opacity-50 focus:border-transparent focus:ring-opacity-50 group-hover:border-opacity-70"}`,style:{...k,boxShadow:m?"0 0 0 1px var(--error-color)":"var(--shadow-small)",...m?{}:{focusBorderColor:"var(--brand-primary)",focusRing:"var(--brand-primary)"}}}),n.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 transform scale-x-0 transition-transform duration-300 ease-out ${m?"bg-red-500":""}`,style:{backgroundColor:m?"var(--error-color)":"var(--brand-primary)",transformOrigin:"left",width:"100%"}})]}),m&&n.jsxs("p",{className:"mt-2 text-sm flex items-center animate-fadeIn",style:_,children:[n.jsx(uY,{className:"h-4 w-4 mr-1.5"}),m]})]})},tt=({children:r,type:t="button",onClick:s,disabled:i=!1,className:l="",variant:h="primary",isLoading:m=!1,fullWidth:g=!0,size:b="md",icon:v=null})=>{const k="flex justify-center items-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 ",C={primary:"text-white bg-teal-600 hover:bg-teal-700 focus:ring-teal-500 border-transparent",secondary:"text-teal-700 bg-white hover:bg-gray-50 focus:ring-teal-500 border border-teal-600",outline:"text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 focus:ring-teal-500",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 border-transparent"},_={primary:"text-white hover:shadow-lg focus:ring-offset-1",secondary:"hover:shadow-md focus:ring-offset-1 border",outline:"hover:shadow-md focus:ring-offset-1 border",danger:"text-white hover:shadow-md focus:ring-offset-1"},S={sm:"py-2 px-4 text-xs",md:"py-2.5 px-5 text-sm",lg:"py-3.5 px-7 text-base"},T=g?"w-full":"",R=()=>{switch(h){case"primary":return{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"secondary":return{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",borderColor:"var(--brand-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"outline":return{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"danger":return{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||m?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};default:return{}}},P=()=>n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return n.jsxs("button",{type:t,onClick:s,disabled:i||m,className:`${k} ${C[h]} ${_[h]} ${S[b]} ${T} ${l} ${i||m?"opacity-60 cursor-not-allowed":""} transform hover:-translate-y-1 active:translate-y-0 relative overflow-hidden group`,style:R(),children:[n.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:n.jsx("span",{className:"absolute -inset-[100%] bg-white/20 transform rotate-45 transition-all origin-left scale-0 group-hover:scale-100 duration-500 group-active:duration-100"})}),n.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[m&&n.jsx(P,{}),v&&!m&&n.jsx("span",{className:"mr-2 flex items-center justify-center",children:v}),r]})]})},bY=()=>{};var o5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=function(r){const t=[];let s=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[s++]=l:l<2048?(t[s++]=l>>6|192,t[s++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[s++]=l>>18|240,t[s++]=l>>12&63|128,t[s++]=l>>6&63|128,t[s++]=l&63|128):(t[s++]=l>>12|224,t[s++]=l>>6&63|128,t[s++]=l&63|128)}return t},yY=function(r){const t=[];let s=0,i=0;for(;s<r.length;){const l=r[s++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[s++];t[i++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[s++],m=r[s++],g=r[s++],b=((l&7)<<18|(h&63)<<12|(m&63)<<6|g&63)-65536;t[i++]=String.fromCharCode(55296+(b>>10)),t[i++]=String.fromCharCode(56320+(b&1023))}else{const h=r[s++],m=r[s++];t[i++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},qP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const h=r[l],m=l+1<r.length,g=m?r[l+1]:0,b=l+2<r.length,v=b?r[l+2]:0,k=h>>2,C=(h&3)<<4|g>>4;let _=(g&15)<<2|v>>6,S=v&63;b||(S=64,m||(_=64)),i.push(s[k],s[C],s[_],s[S])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(HP(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yY(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const h=s[r.charAt(l++)],g=l<r.length?s[r.charAt(l)]:0;++l;const v=l<r.length?s[r.charAt(l)]:64;++l;const C=l<r.length?s[r.charAt(l)]:64;if(++l,h==null||g==null||v==null||C==null)throw new xY;const _=h<<2|g>>4;if(i.push(_),v!==64){const S=g<<4&240|v>>2;if(i.push(S),C!==64){const T=v<<6&192|C;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vY=function(r){const t=HP(r);return qP.encodeByteArray(t,!0)},ok=function(r){return vY(r).replace(/\./g,"")},YP=function(r){try{return qP.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=()=>wY().__FIREBASE_DEFAULTS__,CY=()=>{if(typeof process>"u"||typeof o5>"u")return;const r=o5.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_Y=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&YP(r[1]);return t&&JSON.parse(t)},Jk=()=>{try{return bY()||kY()||CY()||_Y()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WP=r=>{var t,s;return(s=(t=Jk())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[r]},KP=r=>{const t=WP(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),i]:[t.substring(0,s),i]},QP=()=>{var r;return(r=Jk())===null||r===void 0?void 0:r.config},JP=r=>{var t;return(t=Jk())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,i)=>{s?this.reject(s):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r){return r.endsWith(".cloudworkstations.dev")}async function U2(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ok(JSON.stringify(s)),ok(JSON.stringify(m)),""].join(".")}const My={};function NY(){const r={prod:[],emulator:[]};for(const t of Object.keys(My))My[t]?r.emulator.push(t):r.prod.push(t);return r}function jY(r){let t=document.getElementById(r),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),s=!0),{created:s,element:t}}let i5=!1;function G2(r,t){if(typeof window>"u"||typeof document>"u"||!Wm(window.location.host)||My[r]===t||My[r]||i5)return;My[r]=t;function s(_){return`__firebase__banner__${_}`}const i="__firebase__banner",h=NY().prod.length>0;function m(){const _=document.getElementById(i);_&&_.remove()}function g(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function b(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function v(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{i5=!0,m()},_}function k(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function C(){const _=jY(i),S=s("text"),T=document.getElementById(S)||document.createElement("span"),R=s("learnmore"),P=document.getElementById(R)||document.createElement("a"),V=s("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;g(F),k(P,R);const q=v();b(U,V),F.append(U,T,P,q),document.body.appendChild(F)}h?(T.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(po())}function EY(){var r;const t=(r=Jk())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MY(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function TY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IY(){const r=po();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RY(){return!EY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PY(){try{return typeof indexedDB=="object"}catch{return!1}}function OY(){return new Promise((r,t)=>{try{let s=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),s||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{s=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="FirebaseError";class rc extends Error{constructor(t,s,i){super(s),this.code=t,this.customData=i,this.name=BY,Object.setPrototypeOf(this,rc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ax.prototype.create)}}class Ax{constructor(t,s,i){this.service=t,this.serviceName=s,this.errors=i}create(t,...s){const i=s[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?LY(h,i):"Error",g=`${this.serviceName}: ${m} (${l}).`;return new rc(l,g,i)}}function LY(r,t){return r.replace(zY,(s,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const zY=/\{\$([^}]+)}/g;function FY(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Om(r,t){if(r===t)return!0;const s=Object.keys(r),i=Object.keys(t);for(const l of s){if(!i.includes(l))return!1;const h=r[l],m=t[l];if(a5(h)&&a5(m)){if(!Om(h,m))return!1}else if(h!==m)return!1}for(const l of i)if(!s.includes(l))return!1;return!0}function a5(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(r){const t=[];for(const[s,i]of Object.entries(r))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function yy(r){const t={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,h]=i.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function xy(r){const t=r.indexOf("?");if(!t)return"";const s=r.indexOf("#",t);return r.substring(t,s>0?s:void 0)}function VY(r,t){const s=new UY(r,t);return s.subscribe.bind(s)}class UY{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,i){let l;if(t===void 0&&s===void 0&&i===void 0)throw new Error("Missing Observer.");GY(t,["next","error","complete"])?l=t:l={next:t,error:s,complete:i},l.next===void 0&&(l.next=__),l.error===void 0&&(l.error=__),l.complete===void 0&&(l.complete=__);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GY(r,t){if(typeof r!="object"||r===null)return!1;for(const s of t)if(s in r&&typeof r[s]=="function")return!0;return!1}function __(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(r){return r&&r._delegate?r._delegate:r}class Bu{constructor(t,s,i){this.name=t,this.instanceFactory=s,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const i=new AY;if(this.instancesDeferred.set(s,i),this.isInitialized(s)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:s});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(s=t==null?void 0:t.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YY(t))try{this.getOrInitializeService({instanceIdentifier:xm})}catch{}for(const[s,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:l});i.resolve(h)}catch{}}}}clearInstance(t=xm){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xm){return this.instances.has(t)}getOptions(t=xm){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:s});for(const[h,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);i===g&&m.resolve(l)}return l}onInit(t,s){var i;const l=this.normalizeInstanceIdentifier(s),h=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;h.add(t),this.onInitCallbacks.set(l,h);const m=this.instances.get(l);return m&&t(m,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,s){const i=this.onInitCallbacks.get(s);if(i)for(const l of i)try{l(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qY(t),options:s}),this.instances.set(t,i),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=xm){return this.component?this.component.multipleInstances?t:xm:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qY(r){return r===xm?void 0:r}function YY(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new HY(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(dr||(dr={}));const KY={debug:dr.DEBUG,verbose:dr.VERBOSE,info:dr.INFO,warn:dr.WARN,error:dr.ERROR,silent:dr.SILENT},QY=dr.INFO,JY={[dr.DEBUG]:"log",[dr.VERBOSE]:"log",[dr.INFO]:"info",[dr.WARN]:"warn",[dr.ERROR]:"error"},XY=(r,t,...s)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=JY[t];if(l)console[l](`[${i}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class H2{constructor(t){this.name=t,this._logLevel=QY,this._logHandler=XY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KY[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dr.DEBUG,...t),this._logHandler(this,dr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dr.VERBOSE,...t),this._logHandler(this,dr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dr.INFO,...t),this._logHandler(this,dr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dr.WARN,...t),this._logHandler(this,dr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dr.ERROR,...t),this._logHandler(this,dr.ERROR,...t)}}const $Y=(r,t)=>t.some(s=>r instanceof s);let l5,c5;function ZY(){return l5||(l5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eW(){return c5||(c5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $P=new WeakMap,NA=new WeakMap,ZP=new WeakMap,A_=new WeakMap,q2=new WeakMap;function tW(r){const t=new Promise((s,i)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{s(Tu(r.result)),l()},m=()=>{i(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",m)});return t.then(s=>{s instanceof IDBCursor&&$P.set(s,r)}).catch(()=>{}),q2.set(t,r),t}function rW(r){if(NA.has(r))return;const t=new Promise((s,i)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{s(),l()},m=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});NA.set(r,t)}let jA={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return NA.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ZP.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Tu(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function nW(r){jA=r(jA)}function sW(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const i=r.call(N_(this),t,...s);return ZP.set(i,t.sort?t.sort():[t]),Tu(i)}:eW().includes(r)?function(...t){return r.apply(N_(this),t),Tu($P.get(this))}:function(...t){return Tu(r.apply(N_(this),t))}}function oW(r){return typeof r=="function"?sW(r):(r instanceof IDBTransaction&&rW(r),$Y(r,ZY())?new Proxy(r,jA):r)}function Tu(r){if(r instanceof IDBRequest)return tW(r);if(A_.has(r))return A_.get(r);const t=oW(r);return t!==r&&(A_.set(r,t),q2.set(t,r)),t}const N_=r=>q2.get(r);function iW(r,t,{blocked:s,upgrade:i,blocking:l,terminated:h}={}){const m=indexedDB.open(r,t),g=Tu(m);return i&&m.addEventListener("upgradeneeded",b=>{i(Tu(m.result),b.oldVersion,b.newVersion,Tu(m.transaction),b)}),s&&m.addEventListener("blocked",b=>s(b.oldVersion,b.newVersion,b)),g.then(b=>{h&&b.addEventListener("close",()=>h()),l&&b.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const aW=["get","getKey","getAll","getAllKeys","count"],lW=["put","add","delete","clear"],j_=new Map;function d5(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(j_.get(t))return j_.get(t);const s=t.replace(/FromIndex$/,""),i=t!==s,l=lW.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!(l||aW.includes(s)))return;const h=async function(m,...g){const b=this.transaction(m,l?"readwrite":"readonly");let v=b.store;return i&&(v=v.index(g.shift())),(await Promise.all([v[s](...g),l&&b.done]))[0]};return j_.set(t,h),h}nW(r=>({...r,get:(t,s,i)=>d5(t,s)||r.get(t,s,i),has:(t,s)=>!!d5(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(dW(s)){const i=s.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(s=>s).join(" ")}}function dW(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const SA="@firebase/app",u5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new H2("@firebase/app"),uW="@firebase/app-compat",hW="@firebase/analytics-compat",mW="@firebase/analytics",pW="@firebase/app-check-compat",fW="@firebase/app-check",gW="@firebase/auth",bW="@firebase/auth-compat",yW="@firebase/database",xW="@firebase/data-connect",vW="@firebase/database-compat",wW="@firebase/functions",kW="@firebase/functions-compat",CW="@firebase/installations",_W="@firebase/installations-compat",AW="@firebase/messaging",NW="@firebase/messaging-compat",jW="@firebase/performance",SW="@firebase/performance-compat",EW="@firebase/remote-config",DW="@firebase/remote-config-compat",MW="@firebase/storage",TW="@firebase/storage-compat",IW="@firebase/firestore",RW="@firebase/ai",PW="@firebase/firestore-compat",OW="firebase",BW="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="[DEFAULT]",LW={[SA]:"fire-core",[uW]:"fire-core-compat",[mW]:"fire-analytics",[hW]:"fire-analytics-compat",[fW]:"fire-app-check",[pW]:"fire-app-check-compat",[gW]:"fire-auth",[bW]:"fire-auth-compat",[yW]:"fire-rtdb",[xW]:"fire-data-connect",[vW]:"fire-rtdb-compat",[wW]:"fire-fn",[kW]:"fire-fn-compat",[CW]:"fire-iid",[_W]:"fire-iid-compat",[AW]:"fire-fcm",[NW]:"fire-fcm-compat",[jW]:"fire-perf",[SW]:"fire-perf-compat",[EW]:"fire-rc",[DW]:"fire-rc-compat",[MW]:"fire-gcs",[TW]:"fire-gcs-compat",[IW]:"fire-fst",[PW]:"fire-fst-compat",[RW]:"fire-vertex","fire-js":"fire-js",[OW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new Map,zW=new Map,DA=new Map;function h5(r,t){try{r.container.addComponent(t)}catch(s){ud.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function Bm(r){const t=r.name;if(DA.has(t))return ud.debug(`There were multiple attempts to register component ${t}.`),!1;DA.set(t,r);for(const s of ik.values())h5(s,r);for(const s of zW.values())h5(s,r);return!0}function Xk(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function Qo(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Iu=new Ax("app","Firebase",FW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(t,s,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Iu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=BW;function e3(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:EA,automaticDataCollectionEnabled:!0},t),l=i.name;if(typeof l!="string"||!l)throw Iu.create("bad-app-name",{appName:String(l)});if(s||(s=QP()),!s)throw Iu.create("no-options");const h=ik.get(l);if(h){if(Om(s,h.options)&&Om(i,h.config))return h;throw Iu.create("duplicate-app",{appName:l})}const m=new WY(l);for(const b of DA.values())m.addComponent(b);const g=new VW(s,i,m);return ik.set(l,g),g}function Y2(r=EA){const t=ik.get(r);if(!t&&r===EA&&QP())return e3();if(!t)throw Iu.create("no-app",{appName:r});return t}function ql(r,t,s){var i;let l=(i=LW[r])!==null&&i!==void 0?i:r;s&&(l+=`-${s}`);const h=l.match(/\s|\//),m=t.match(/\s|\//);if(h||m){const g=[`Unable to register library "${l}" with version "${t}":`];h&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&m&&g.push("and"),m&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ud.warn(g.join(" "));return}Bm(new Bu(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="firebase-heartbeat-database",GW=1,Ky="firebase-heartbeat-store";let S_=null;function t3(){return S_||(S_=iW(UW,GW,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ky)}catch(s){console.warn(s)}}}}).catch(r=>{throw Iu.create("idb-open",{originalErrorMessage:r.message})})),S_}async function HW(r){try{const s=(await t3()).transaction(Ky),i=await s.objectStore(Ky).get(r3(r));return await s.done,i}catch(t){if(t instanceof rc)ud.warn(t.message);else{const s=Iu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ud.warn(s.message)}}}async function m5(r,t){try{const i=(await t3()).transaction(Ky,"readwrite");await i.objectStore(Ky).put(t,r3(r)),await i.done}catch(s){if(s instanceof rc)ud.warn(s.message);else{const i=Iu.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ud.warn(i.message)}}}function r3(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=1024,YW=30;class WW{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new QW(s),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,s;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=p5();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>YW){const m=JW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ud.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=p5(),{heartbeatsToSend:i,unsentEntries:l}=KW(this._heartbeatsCache.heartbeats),h=ok(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=s,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(s){return ud.warn(s),""}}}function p5(){return new Date().toISOString().substring(0,10)}function KW(r,t=qW){const s=[];let i=r.slice();for(const l of r){const h=s.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),f5(s)>t){h.dates.pop();break}}else if(s.push({agent:l.agent,dates:[l.date]}),f5(s)>t){s.pop();break}i=i.slice(1)}return{heartbeatsToSend:s,unsentEntries:i}}class QW{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PY()?OY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await HW(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return m5(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return m5(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function f5(r){return ok(JSON.stringify({version:2,heartbeats:r})).length}function JW(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let i=1;i<r.length;i++)r[i].date<s&&(s=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(r){Bm(new Bu("platform-logger",t=>new cW(t),"PRIVATE")),Bm(new Bu("heartbeat",t=>new WW(t),"PRIVATE")),ql(SA,u5,r),ql(SA,u5,"esm2017"),ql("fire-js","")}XW("");var $W="firebase",ZW="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ql($W,ZW,"app");function W2(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(s[i[l]]=r[i[l]]);return s}function n3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eK=n3,s3=new Ax("auth","Firebase",n3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new H2("@firebase/auth");function tK(r,...t){ak.logLevel<=dr.WARN&&ak.warn(`Auth (${Km}): ${r}`,...t)}function Pw(r,...t){ak.logLevel<=dr.ERROR&&ak.error(`Auth (${Km}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(r,...t){throw Q2(r,...t)}function Ka(r,...t){return Q2(r,...t)}function K2(r,t,s){const i=Object.assign(Object.assign({},eK()),{[t]:s});return new Ax("auth","Firebase",i).create(t,{appName:r.name})}function sd(r){return K2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rK(r,t,s){const i=s;if(!(t instanceof i))throw i.name!==t.constructor.name&&ra(r,"argument-error"),K2(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Q2(r,...t){if(typeof r!="string"){const s=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(s,...i)}return s3.create(r,...t)}function At(r,t,...s){if(!r)throw Q2(t,...s)}function td(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Pw(t),new Error(t)}function hd(r,t){r||td(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function nK(){return g5()==="http:"||g5()==="https:"}function g5(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nK()||MY()||"connection"in navigator)?navigator.onLine:!0}function oK(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,s){this.shortDelay=t,this.longDelay=s,hd(s>t,"Short delay should be less than long delay!"),this.isMobile=SY()||TY()}get(){return sK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r,t){hd(r.emulator,"Emulator should always be set here");const{url:s}=r.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{static initialize(t,s,i){this.fetchImpl=t,s&&(this.headersImpl=s),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;td("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;td("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;td("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lK=new jx(3e4,6e4);function Ku(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Qu(r,t,s,i,l={}){return i3(r,l,async()=>{let h={},m={};i&&(t==="GET"?m=i:h={body:JSON.stringify(i)});const g=Nx(Object.assign({key:r.config.apiKey},m)).slice(1),b=await r._getAdditionalHeaders();b["Content-Type"]="application/json",r.languageCode&&(b["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:b},h);return DY()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Wm(r.emulatorConfig.host)&&(v.credentials="include"),o3.fetch()(await a3(r,r.config.apiHost,s,g),v)})}async function i3(r,t,s){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},iK),t);try{const l=new dK(r),h=await Promise.race([s(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw uw(r,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const g=h.ok?m.errorMessage:m.error.message,[b,v]=g.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw uw(r,"credential-already-in-use",m);if(b==="EMAIL_EXISTS")throw uw(r,"email-already-in-use",m);if(b==="USER_DISABLED")throw uw(r,"user-disabled",m);const k=i[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw K2(r,k,v);ra(r,k)}}catch(l){if(l instanceof rc)throw l;ra(r,"network-request-failed",{message:String(l)})}}async function Sx(r,t,s,i,l={}){const h=await Qu(r,t,s,i,l);return"mfaPendingCredential"in h&&ra(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function a3(r,t,s,i){const l=`${t}${s}?${i}`,h=r,m=h.config.emulator?J2(r.config,l):`${r.config.apiScheme}://${l}`;return aK.includes(s)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function cK(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,i)=>{this.timer=setTimeout(()=>i(Ka(this.auth,"network-request-failed")),lK.get())})}}function uw(r,t,s){const i={appName:r.name};s.email&&(i.email=s.email),s.phoneNumber&&(i.phoneNumber=s.phoneNumber);const l=Ka(r,t,i);return l.customData._tokenResponse=s,l}function b5(r){return r!==void 0&&r.enterprise!==void 0}class uK{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===t)return cK(s.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hK(r,t){return Qu(r,"GET","/v2/recaptchaConfig",Ku(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mK(r,t){return Qu(r,"POST","/v1/accounts:delete",t)}async function lk(r,t){return Qu(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pK(r,t=!1){const s=Ms(r),i=await s.getIdToken(t),l=X2(i);At(l&&l.exp&&l.auth_time&&l.iat,s.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h==null?void 0:h.sign_in_provider;return{claims:l,token:i,authTime:Ty(E_(l.auth_time)),issuedAtTime:Ty(E_(l.iat)),expirationTime:Ty(E_(l.exp)),signInProvider:m||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function E_(r){return Number(r)*1e3}function X2(r){const[t,s,i]=r.split(".");if(t===void 0||s===void 0||i===void 0)return Pw("JWT malformed, contained fewer than 3 sections"),null;try{const l=YP(s);return l?JSON.parse(l):(Pw("Failed to decode base64 JWT payload"),null)}catch(l){return Pw("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function y5(r){const t=X2(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qy(r,t,s=!1){if(s)return t;try{return await t}catch(i){throw i instanceof rc&&fK(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function fK({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ty(this.lastLoginAt),this.creationTime=Ty(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(r){var t;const s=r.auth,i=await r.getIdToken(),l=await Qy(r,lk(s,{idToken:i}));At(l==null?void 0:l.users.length,s,"internal-error");const h=l.users[0];r._notifyReloadListener(h);const m=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?l3(h.providerUserInfo):[],g=yK(r.providerData,m),b=r.isAnonymous,v=!(r.email&&h.passwordHash)&&!(g!=null&&g.length),k=b?v:!1,C={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new TA(h.createdAt,h.lastLoginAt),isAnonymous:k};Object.assign(r,C)}async function bK(r){const t=Ms(r);await ck(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yK(r,t){return[...r.filter(i=>!t.some(l=>l.providerId===i.providerId)),...t]}function l3(r){return r.map(t=>{var{providerId:s}=t,i=W2(t,["providerId"]);return{providerId:s,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xK(r,t){const s=await i3(r,{},async()=>{const i=Nx({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,m=await a3(r,l,"/v1/token",`key=${h}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:g,body:i};return r.emulatorConfig&&Wm(r.emulatorConfig.host)&&(b.credentials="include"),o3.fetch()(m,b)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function vK(r,t){return Qu(r,"POST","/v2/accounts:revokeToken",Ku(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):y5(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){At(t.length!==0,"internal-error");const s=y5(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:i,refreshToken:l,expiresIn:h}=await xK(t,s);this.updateTokensAndExpiration(i,l,Number(h))}updateTokensAndExpiration(t,s,i){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,s){const{refreshToken:i,accessToken:l,expirationTime:h}=s,m=new Pf;return i&&(At(typeof i=="string","internal-error",{appName:t}),m.refreshToken=i),l&&(At(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(At(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return td("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ya{constructor(t){var{uid:s,auth:i,stsTokenManager:l}=t,h=W2(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new TA(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const s=await Qy(this,this.stsTokenManager.getToken(this.auth,t));return At(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return pK(this,t)}reload(){return bK(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new Ya(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),s&&await ck(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qo(this.auth.app))return Promise.reject(sd(this.auth));const t=await this.getIdToken();return await Qy(this,mK(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var i,l,h,m,g,b,v,k;const C=(i=s.displayName)!==null&&i!==void 0?i:void 0,_=(l=s.email)!==null&&l!==void 0?l:void 0,S=(h=s.phoneNumber)!==null&&h!==void 0?h:void 0,T=(m=s.photoURL)!==null&&m!==void 0?m:void 0,R=(g=s.tenantId)!==null&&g!==void 0?g:void 0,P=(b=s._redirectEventId)!==null&&b!==void 0?b:void 0,V=(v=s.createdAt)!==null&&v!==void 0?v:void 0,U=(k=s.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:F,emailVerified:q,isAnonymous:ne,providerData:se,stsTokenManager:Q}=s;At(F&&Q,t,"internal-error");const B=Pf.fromJSON(this.name,Q);At(typeof F=="string",t,"internal-error"),ku(C,t.name),ku(_,t.name),At(typeof q=="boolean",t,"internal-error"),At(typeof ne=="boolean",t,"internal-error"),ku(S,t.name),ku(T,t.name),ku(R,t.name),ku(P,t.name),ku(V,t.name),ku(U,t.name);const Y=new Ya({uid:F,auth:t,email:_,emailVerified:q,displayName:C,isAnonymous:ne,photoURL:T,phoneNumber:S,tenantId:R,stsTokenManager:B,createdAt:V,lastLoginAt:U});return se&&Array.isArray(se)&&(Y.providerData=se.map(J=>Object.assign({},J))),P&&(Y._redirectEventId=P),Y}static async _fromIdTokenResponse(t,s,i=!1){const l=new Pf;l.updateFromServerResponse(s);const h=new Ya({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:i});return await ck(h),h}static async _fromGetAccountInfoResponse(t,s,i){const l=s.users[0];At(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?l3(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),g=new Pf;g.updateFromIdToken(i);const b=new Ya({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:m}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new TA(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(b,v),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Map;function rd(r){hd(r instanceof Function,"Expected a class definition");let t=x5.get(r);return t?(hd(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,x5.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}c3.type="NONE";const v5=c3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,t,s){return`firebase:${r}:${t}:${s}`}class Of{constructor(t,s,i){this.persistence=t,this.auth=s,this.userKey=i;const{config:l,name:h}=this.auth;this.fullUserKey=Ow(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ow("persistence",l.apiKey,h),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await lk(this.auth,{idToken:t}).catch(()=>{});return s?Ya._fromGetAccountInfoResponse(this.auth,s,t):null}return Ya._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,i="authUser"){if(!s.length)return new Of(rd(v5),t,i);const l=(await Promise.all(s.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||rd(v5);const m=Ow(i,t.config.apiKey,t.name);let g=null;for(const v of s)try{const k=await v._get(m);if(k){let C;if(typeof k=="string"){const _=await lk(t,{idToken:k}).catch(()=>{});if(!_)break;C=await Ya._fromGetAccountInfoResponse(t,_,k)}else C=Ya._fromJSON(t,k);v!==h&&(g=C),h=v;break}}catch{}const b=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!b.length?new Of(h,t,i):(h=b[0],g&&await h._set(m,g.toJSON()),await Promise.all(s.map(async v=>{if(v!==h)try{await v._remove(m)}catch{}})),new Of(h,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(m3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(f3(t))return"Blackberry";if(g3(t))return"Webos";if(u3(t))return"Safari";if((t.includes("chrome/")||h3(t))&&!t.includes("edge/"))return"Chrome";if(p3(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(s);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function d3(r=po()){return/firefox\//i.test(r)}function u3(r=po()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function h3(r=po()){return/crios\//i.test(r)}function m3(r=po()){return/iemobile/i.test(r)}function p3(r=po()){return/android/i.test(r)}function f3(r=po()){return/blackberry/i.test(r)}function g3(r=po()){return/webos/i.test(r)}function $2(r=po()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wK(r=po()){var t;return $2(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function kK(){return IY()&&document.documentMode===10}function b3(r=po()){return $2(r)||p3(r)||g3(r)||f3(r)||/windows phone/i.test(r)||m3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(r,t=[]){let s;switch(r){case"Browser":s=w5(po());break;case"Worker":s=`${w5(po())}-${r}`;break;default:s=r}const i=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${Km}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const i=h=>new Promise((m,g)=>{try{const b=t(h);m(b)}catch(b){g(b)}});i.onAbort=s,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const i of this.queue)await i(t),i.onAbort&&s.push(i.onAbort)}catch(i){s.reverse();for(const l of s)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(r,t={}){return Qu(r,"GET","/v2/passwordPolicy",Ku(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=6;class NK{constructor(t){var s,i,l,h;const m=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=m.minPasswordLength)!==null&&s!==void 0?s:AK,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var s,i,l,h,m,g;const b={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,b),this.validatePasswordCharacterOptions(t,b),b.isValid&&(b.isValid=(s=b.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),b.isValid&&(b.isValid=(i=b.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),b.isValid&&(b.isValid=(l=b.containsLowercaseLetter)!==null&&l!==void 0?l:!0),b.isValid&&(b.isValid=(h=b.containsUppercaseLetter)!==null&&h!==void 0?h:!0),b.isValid&&(b.isValid=(m=b.containsNumericCharacter)!==null&&m!==void 0?m:!0),b.isValid&&(b.isValid=(g=b.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),b}validatePasswordLengthOptions(t,s){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(s.meetsMinPasswordLength=t.length>=i),l&&(s.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let i;for(let l=0;l<t.length;l++)i=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(s,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,s,i,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(t,s,i,l){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k5(this),this.idTokenSubscription=new k5(this),this.beforeStateQueue=new CK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=rd(s)),this._initializationPromise=this.queue(async()=>{var i,l,h;if(!this._deleted&&(this.persistenceManager=await Of.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await lk(this,{idToken:t}),i=await Ya._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(i)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Qo(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,g=l==null?void 0:l._redirectEventId,b=await this.tryRedirectSignIn(t);(!m||m===g)&&(b!=null&&b.user)&&(l=b.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(m){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await ck(t)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oK()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qo(this.app))return Promise.reject(sd(this));const s=t?Ms(t):null;return s&&At(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qo(this.app)?Promise.reject(sd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qo(this.app)?Promise.reject(sd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _K(this),s=new NK(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ax("auth","Firebase",t())}onAuthStateChanged(t,s,i){return this.registerStateListener(this.authStateSubscription,t,s,i)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,i){return this.registerStateListener(this.idTokenSubscription,t,s,i)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(i.tenantId=this.tenantId),await vK(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const i=await this.getOrInitRedirectPersistenceManager(s);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&rd(t)||this._popupRedirectResolver;At(s,this,"argument-error"),this.redirectPersistenceManager=await Of.create(this,[rd(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,i;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,i,l){if(this._deleted)return()=>{};const h=typeof s=="function"?s:s.next.bind(s);let m=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(g,this,"internal-error"),g.then(()=>{m||h(this.currentUser)}),typeof s=="function"){const b=t.addObserver(s,i,l);return()=>{m=!0,b()}}else{const b=t.addObserver(s);return()=>{m=!0,b()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=y3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(s["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(s["X-Firebase-AppCheck"]=l),s}async _getAppCheckToken(){var t;if(Qo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return s!=null&&s.error&&tK(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Ju(r){return Ms(r)}class k5{constructor(t){this.auth=t,this.observer=null,this.addObserver=VY(s=>this.observer=s)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $k={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SK(r){$k=r}function x3(r){return $k.loadJS(r)}function EK(){return $k.recaptchaEnterpriseScript}function DK(){return $k.gapiScript}function MK(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TK{constructor(){this.enterprise=new IK}ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}class IK{ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}const RK="recaptcha-enterprise",v3="NO_RECAPTCHA";class PK{constructor(t){this.type=RK,this.auth=Ju(t)}async verify(t="verify",s=!1){async function i(h){if(!s){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,g)=>{hK(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new uK(b);return h.tenantId==null?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,m(v.siteKey)}}).catch(b=>{g(b)})})}function l(h,m,g){const b=window.grecaptcha;b5(b)?b.enterprise.ready(()=>{b.enterprise.execute(h,{action:t}).then(v=>{m(v)}).catch(()=>{m(v3)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TK().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{i(this.auth).then(g=>{if(!s&&b5(window.grecaptcha))l(g,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let b=EK();b.length!==0&&(b+=g),x3(b).then(()=>{l(g,h,m)}).catch(v=>{m(v)})}}).catch(g=>{m(g)})})}}async function C5(r,t,s,i=!1,l=!1){const h=new PK(r);let m;if(l)m=v3;else try{m=await h.verify(s)}catch{m=await h.verify(s,!0)}const g=Object.assign({},t);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const b=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:v,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const b=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return i?Object.assign(g,{captchaResp:m}):Object.assign(g,{captchaResponse:m}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function IA(r,t,s,i,l){var h;if(!((h=r._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await C5(r,t,s,s==="getOobCode");return i(r,m)}else return i(r,t).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await C5(r,t,s,s==="getOobCode");return i(r,g)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(r,t){const s=Xk(r,"auth");if(s.isInitialized()){const l=s.getImmediate(),h=s.getOptions();if(Om(h,t??{}))return l;ra(l,"already-initialized")}return s.initialize({options:t})}function BK(r,t){const s=(t==null?void 0:t.persistence)||[],i=(Array.isArray(s)?s:[s]).map(rd);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function LK(r,t,s){const i=Ju(r);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const l=!1,h=w3(t),{host:m,port:g}=zK(t),b=g===null?"":`:${g}`,v={url:`${h}//${m}${b}/`},k=Object.freeze({host:m,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(Om(v,i.config.emulator)&&Om(k,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=k,i.settings.appVerificationDisabledForTesting=!0,Wm(m)?(U2(`${h}//${m}${b}`),G2("Auth",!0)):FK()}function w3(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zK(r){const t=w3(r),s=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!s)return{host:"",port:null};const i=s[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const h=l[1];return{host:h,port:_5(i.substr(h.length+1))}}else{const[h,m]=i.split(":");return{host:h,port:_5(m)}}}function _5(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function FK(){function r(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return td("not implemented")}_getIdTokenResponse(t){return td("not implemented")}_linkToIdToken(t,s){return td("not implemented")}_getReauthenticationResolver(t){return td("not implemented")}}async function VK(r,t){return Qu(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UK(r,t){return Sx(r,"POST","/v1/accounts:signInWithPassword",Ku(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GK(r,t){return Sx(r,"POST","/v1/accounts:signInWithEmailLink",Ku(r,t))}async function HK(r,t){return Sx(r,"POST","/v1/accounts:signInWithEmailLink",Ku(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Z2{constructor(t,s,i,l=null){super("password",i),this._email=t,this._password=s,this._tenantId=l}static _fromEmailAndPassword(t,s){return new Jy(t,s,"password")}static _fromEmailAndCode(t,s,i=null){return new Jy(t,s,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IA(t,s,"signInWithPassword",UK);case"emailLink":return GK(t,{email:this._email,oobCode:this._password});default:ra(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":const i={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IA(t,i,"signUpPassword",VK);case"emailLink":return HK(t,{idToken:s,email:this._email,oobCode:this._password});default:ra(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(r,t){return Sx(r,"POST","/v1/accounts:signInWithIdp",Ku(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK="http://localhost";class Lm extends Z2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new Lm(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):ra("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:l}=s,h=W2(s,["providerId","signInMethod"]);if(!i||!l)return null;const m=new Lm(i,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const s=this.buildRequest();return Bf(t,s)}_linkToIdToken(t,s){const i=this.buildRequest();return i.idToken=s,Bf(t,i)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Bf(t,s)}buildRequest(){const t={requestUri:qK,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=Nx(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WK(r){const t=yy(xy(r)).link,s=t?yy(xy(t)).deep_link_id:null,i=yy(xy(r)).deep_link_id;return(i?yy(xy(i)).link:null)||i||s||t||r}class eN{constructor(t){var s,i,l,h,m,g;const b=yy(xy(t)),v=(s=b.apiKey)!==null&&s!==void 0?s:null,k=(i=b.oobCode)!==null&&i!==void 0?i:null,C=YK((l=b.mode)!==null&&l!==void 0?l:null);At(v&&k&&C,"argument-error"),this.apiKey=v,this.operation=C,this.code=k,this.continueUrl=(h=b.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(m=b.lang)!==null&&m!==void 0?m:null,this.tenantId=(g=b.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const s=WK(t);try{return new eN(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.providerId=rg.PROVIDER_ID}static credential(t,s){return Jy._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const i=eN.parseLink(s);return At(i,"argument-error"),Jy._fromEmailAndCode(t,i.code,i.tenantId)}}rg.PROVIDER_ID="password";rg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends tN{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Ex{constructor(){super("facebook.com")}static credential(t){return Lm._fromParams({providerId:ju.PROVIDER_ID,signInMethod:ju.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ju.credentialFromTaggedObject(t)}static credentialFromError(t){return ju.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ju.credential(t.oauthAccessToken)}catch{return null}}}ju.FACEBOOK_SIGN_IN_METHOD="facebook.com";ju.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Ex{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return Lm._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return ed.credentialFromTaggedObject(t)}static credentialFromError(t){return ed.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:i}=t;if(!s&&!i)return null;try{return ed.credential(s,i)}catch{return null}}}ed.GOOGLE_SIGN_IN_METHOD="google.com";ed.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Ex{constructor(){super("github.com")}static credential(t){return Lm._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Su.credentialFromTaggedObject(t)}static credentialFromError(t){return Su.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Su.credential(t.oauthAccessToken)}catch{return null}}}Su.GITHUB_SIGN_IN_METHOD="github.com";Su.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Ex{constructor(){super("twitter.com")}static credential(t,s){return Lm._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return Eu.credentialFromTaggedObject(t)}static credentialFromError(t){return Eu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:i}=t;if(!s||!i)return null;try{return Eu.credential(s,i)}catch{return null}}}Eu.TWITTER_SIGN_IN_METHOD="twitter.com";Eu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(r,t){return Sx(r,"POST","/v1/accounts:signUp",Ku(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,i,l=!1){const h=await Ya._fromIdTokenResponse(t,i,l),m=A5(i);return new zm({user:h,providerId:m,_tokenResponse:i,operationType:s})}static async _forOperation(t,s,i){await t._updateTokensIfNecessary(i,!0);const l=A5(i);return new zm({user:t,providerId:l,_tokenResponse:i,operationType:s})}}function A5(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends rc{constructor(t,s,i,l){var h;super(s.code,s.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,dk.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:s.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,s,i,l){return new dk(t,s,i,l)}}function k3(r,t,s,i){return(t==="reauthenticate"?s._getReauthenticationResolver(r):s._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?dk._fromErrorAndOperation(r,h,t,i):h})}async function QK(r,t,s=!1){const i=await Qy(r,t._linkToIdToken(r.auth,await r.getIdToken()),s);return zm._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JK(r,t,s=!1){const{auth:i}=r;if(Qo(i.app))return Promise.reject(sd(i));const l="reauthenticate";try{const h=await Qy(r,k3(i,l,t,r),s);At(h.idToken,i,"internal-error");const m=X2(h.idToken);At(m,i,"internal-error");const{sub:g}=m;return At(r.uid===g,i,"user-mismatch"),zm._forOperation(r,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&ra(i,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(r,t,s=!1){if(Qo(r.app))return Promise.reject(sd(r));const i="signIn",l=await k3(r,i,t),h=await zm._fromIdTokenResponse(r,i,l);return s||await r._updateCurrentUser(h.user),h}async function XK(r,t){return C3(Ju(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(r){const t=Ju(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function N5(r,t,s){if(Qo(r.app))return Promise.reject(sd(r));const i=Ju(r),m=await IA(i,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KK).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&_3(r),b}),g=await zm._fromIdTokenResponse(i,"signIn",m);return await i._updateCurrentUser(g.user),g}function $K(r,t,s){return Qo(r.app)?Promise.reject(sd(r)):XK(Ms(r),rg.credential(t,s)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_3(r),i})}function ZK(r,t,s,i){return Ms(r).onIdTokenChanged(t,s,i)}function eQ(r,t,s){return Ms(r).beforeAuthStateChanged(t,s)}function tQ(r){return Ms(r).signOut()}const uk="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(uk,"1"),this.storage.removeItem(uk),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=1e3,nQ=10;class N3 extends A3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const i=this.storage.getItem(s),l=this.localCache[s];i!==l&&t(s,l,i)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((m,g,b)=>{this.notifyListeners(m,b)});return}const i=t.key;s?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(i);!s&&this.localCache[i]===m||this.notifyListeners(i,m)},h=this.storage.getItem(i);kK()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,nQ):l()}notifyListeners(t,s){this.localCache[t]=s;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:i}),!0)})},rQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}N3.type="LOCAL";const sQ=N3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3 extends A3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}j3.type="SESSION";const S3=j3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(l=>l.isListeningto(t));if(s)return s;const i=new Zk(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:i,eventType:l,data:h}=s.data,m=this.handlersMap[l];if(!(m!=null&&m.size))return;s.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const g=Array.from(m).map(async v=>v(s.origin,h)),b=await oQ(g);s.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:b})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r="",t=10){let s="";for(let i=0;i<t;i++)s+=Math.floor(Math.random()*10);return r+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((g,b)=>{const v=rN("",20);l.port1.start();const k=setTimeout(()=>{b(new Error("unsupported_event"))},i);m={messageChannel:l,onMessage(C){const _=C;if(_.data.eventId===v)switch(_.data.status){case"ack":clearTimeout(k),h=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(_.data.response);break;default:clearTimeout(k),clearTimeout(h),b(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:v,data:s},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(){return window}function aQ(r){Yl().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){return typeof Yl().WorkerGlobalScope<"u"&&typeof Yl().importScripts=="function"}async function lQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cQ(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function dQ(){return E3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="firebaseLocalStorageDb",uQ=1,hk="firebaseLocalStorage",M3="fbase_key";class Dx{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function e1(r,t){return r.transaction([hk],t?"readwrite":"readonly").objectStore(hk)}function hQ(){const r=indexedDB.deleteDatabase(D3);return new Dx(r).toPromise()}function RA(){const r=indexedDB.open(D3,uQ);return new Promise((t,s)=>{r.addEventListener("error",()=>{s(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(hk,{keyPath:M3})}catch(l){s(l)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(hk)?t(i):(i.close(),await hQ(),t(await RA()))})})}async function j5(r,t,s){const i=e1(r,!0).put({[M3]:t,value:s});return new Dx(i).toPromise()}async function mQ(r,t){const s=e1(r,!1).get(t),i=await new Dx(s).toPromise();return i===void 0?null:i.value}function S5(r,t){const s=e1(r,!0).delete(t);return new Dx(s).toPromise()}const pQ=800,fQ=3;class T3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await RA(),this.db)}async _withRetries(t){let s=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(s++>fQ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zk._getInstance(dQ()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await lQ(),!this.activeServiceWorker)return;this.sender=new iQ(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((s=i[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await RA();return await j5(t,uk,"1"),await S5(t,uk),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(i=>j5(i,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(i=>mQ(i,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>S5(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=e1(l,!1).getAll();return new Dx(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],i=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),s.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),s.push(l));return s}notifyListeners(t,s){this.localCache[t]=s;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T3.type="LOCAL";const gQ=T3;new jx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(r,t){return t?rd(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends Z2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bf(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Bf(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Bf(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function bQ(r){return C3(r.auth,new nN(r),r.bypassAuthState)}function yQ(r){const{auth:t,user:s}=r;return At(s,t,"internal-error"),JK(s,new nN(r),r.bypassAuthState)}async function xQ(r){const{auth:t,user:s}=r;return At(s,t,"internal-error"),QK(s,new nN(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(t,s,i,l,h=!1){this.auth=t,this.resolver=i,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:i,postBody:l,tenantId:h,error:m,type:g}=t;if(m){this.reject(m);return}const b={auth:this.auth,requestUri:s,sessionId:i,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(b))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bQ;case"linkViaPopup":case"linkViaRedirect":return xQ;case"reauthViaPopup":case"reauthViaRedirect":return yQ;default:ra(this.auth,"internal-error")}}resolve(t){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=new jx(2e3,1e4);async function wQ(r,t,s){if(Qo(r.app))return Promise.reject(Ka(r,"operation-not-supported-in-this-environment"));const i=Ju(r);rK(r,t,tN);const l=I3(i,s);return new _m(i,"signInViaPopup",t,l).executeNotNull()}class _m extends R3{constructor(t,s,i,l,h){super(t,s,l,h),this.provider=i,this.authWindow=null,this.pollId=null,_m.currentPopupAction&&_m.currentPopupAction.cancel(),_m.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){hd(this.filter.length===1,"Popup operations only handle one event");const t=rN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_m.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,i;if(!((i=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vQ.get())};t()}}_m.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ="pendingRedirect",Bw=new Map;class CQ extends R3{constructor(t,s,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,i),this.eventId=null}async execute(){let t=Bw.get(this.auth._key());if(!t){try{const i=await _Q(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(s){t=()=>Promise.reject(s)}Bw.set(this.auth._key(),t)}return this.bypassAuthState||Bw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _Q(r,t){const s=jQ(t),i=NQ(r);if(!await i._isAvailable())return!1;const l=await i._get(s)==="true";return await i._remove(s),l}function AQ(r,t){Bw.set(r._key(),t)}function NQ(r){return rd(r._redirectPersistence)}function jQ(r){return Ow(kQ,r.config.apiKey,r.name)}async function SQ(r,t,s=!1){if(Qo(r.app))return Promise.reject(sd(r));const i=Ju(r),l=I3(i,t),m=await new CQ(i,l,s).execute();return m&&!s&&(delete m.user._redirectEventId,await i._persistUserIfCurrent(m.user),await i._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=10*60*1e3;class DQ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(s=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MQ(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var i;if(t.error&&!P3(t)){const l=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";s.onError(Ka(this.auth,l))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const i=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(E5(t))}saveEventToCache(t){this.cachedEventUids.add(E5(t)),this.lastProcessedEventTime=Date.now()}}function E5(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function P3({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function MQ(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P3(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TQ(r,t={}){return Qu(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RQ=/^https?/;async function PQ(r){if(r.config.emulator)return;const{authorizedDomains:t}=await TQ(r);for(const s of t)try{if(OQ(s))return}catch{}ra(r,"unauthorized-domain")}function OQ(r){const t=MA(),{protocol:s,hostname:i}=new URL(t);if(r.startsWith("chrome-extension://")){const m=new URL(r);return m.hostname===""&&i===""?s==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&m.hostname===i}if(!RQ.test(s))return!1;if(IQ.test(r))return i===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=new jx(3e4,6e4);function D5(){const r=Yl().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let s=0;s<r.CP.length;s++)r.CP[s]=null}}function LQ(r){return new Promise((t,s)=>{var i,l,h;function m(){D5(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{D5(),s(Ka(r,"network-request-failed"))},timeout:BQ.get()})}if(!((l=(i=Yl().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Yl().gapi)===null||h===void 0)&&h.load)m();else{const g=MK("iframefcb");return Yl()[g]=()=>{gapi.load?m():s(Ka(r,"network-request-failed"))},x3(`${DK()}?onload=${g}`).catch(b=>s(b))}}).catch(t=>{throw Lw=null,t})}let Lw=null;function zQ(r){return Lw=Lw||LQ(r),Lw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=new jx(5e3,15e3),VQ="__/auth/iframe",UQ="emulator/auth/iframe",GQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qQ(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const s=t.emulator?J2(t,UQ):`https://${r.config.authDomain}/${VQ}`,i={apiKey:t.apiKey,appName:r.name,v:Km},l=HQ.get(r.config.apiHost);l&&(i.eid=l);const h=r._getFrameworks();return h.length&&(i.fw=h.join(",")),`${s}?${Nx(i).slice(1)}`}async function YQ(r){const t=await zQ(r),s=Yl().gapi;return At(s,r,"internal-error"),t.open({where:document.body,url:qQ(r),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GQ,dontclear:!0},i=>new Promise(async(l,h)=>{await i.restyle({setHideOnLeave:!1});const m=Ka(r,"network-request-failed"),g=Yl().setTimeout(()=>{h(m)},FQ.get());function b(){Yl().clearTimeout(g),l(i)}i.ping(b).then(b,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KQ=500,QQ=600,JQ="_blank",XQ="http://localhost";class M5{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $Q(r,t,s,i=KQ,l=QQ){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const b=Object.assign(Object.assign({},WQ),{width:i.toString(),height:l.toString(),top:h,left:m}),v=po().toLowerCase();s&&(g=h3(v)?JQ:s),d3(v)&&(t=t||XQ,b.scrollbars="yes");const k=Object.entries(b).reduce((_,[S,T])=>`${_}${S}=${T},`,"");if(wK(v)&&g!=="_self")return ZQ(t||"",g),new M5(null);const C=window.open(t||"",g,k);At(C,r,"popup-blocked");try{C.focus()}catch{}return new M5(C)}function ZQ(r,t){const s=document.createElement("a");s.href=r,s.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ="__/auth/handler",tJ="emulator/auth/handler",rJ=encodeURIComponent("fac");async function T5(r,t,s,i,l,h){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const m={apiKey:r.config.apiKey,appName:r.name,authType:s,redirectUrl:i,v:Km,eventId:l};if(t instanceof tN){t.setDefaultLanguage(r.languageCode),m.providerId=t.providerId||"",FY(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[k,C]of Object.entries({}))m[k]=C}if(t instanceof Ex){const k=t.getScopes().filter(C=>C!=="");k.length>0&&(m.scopes=k.join(","))}r.tenantId&&(m.tid=r.tenantId);const g=m;for(const k of Object.keys(g))g[k]===void 0&&delete g[k];const b=await r._getAppCheckToken(),v=b?`#${rJ}=${encodeURIComponent(b)}`:"";return`${nJ(r)}?${Nx(g).slice(1)}${v}`}function nJ({config:r}){return r.emulator?J2(r,tJ):`https://${r.authDomain}/${eJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="webStorageSupport";class sJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S3,this._completeRedirectFn=SQ,this._overrideRedirectResult=AQ}async _openPopup(t,s,i,l){var h;hd((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const m=await T5(t,s,i,MA(),l);return $Q(t,m,rN())}async _openRedirect(t,s,i,l){await this._originValidation(t);const h=await T5(t,s,i,MA(),l);return aQ(h),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:l,promise:h}=this.eventManagers[s];return l?Promise.resolve(l):(hd(h,"If manager is not set, promise should be"),h)}const i=this.initAndGetManager(t);return this.eventManagers[s]={promise:i},i.catch(()=>{delete this.eventManagers[s]}),i}async initAndGetManager(t){const s=await YQ(t),i=new DQ(t);return s.register("authEvent",l=>(At(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=s,i}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(D_,{type:D_},l=>{var h;const m=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[D_];m!==void 0&&s(!!m),ra(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=PQ(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return b3()||u3()||$2()}}const oJ=sJ;var I5="@firebase/auth",R5="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lJ(r){Bm(new Bu("auth",(t,{options:s})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=i.options;At(m&&!m.includes(":"),"invalid-api-key",{appName:i.name});const b={apiKey:m,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y3(r)},v=new jK(i,l,h,b);return BK(v,s),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,i)=>{t.getProvider("auth-internal").initialize()})),Bm(new Bu("auth-internal",t=>{const s=Ju(t.getProvider("auth").getImmediate());return(i=>new iJ(i))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),ql(I5,R5,aJ(r)),ql(I5,R5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJ=5*60,dJ=JP("authIdTokenMaxAge")||cJ;let P5=null;const uJ=r=>async t=>{const s=t&&await t.getIdTokenResult(),i=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(i&&i>dJ)return;const l=s==null?void 0:s.token;P5!==l&&(P5=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function hJ(r=Y2()){const t=Xk(r,"auth");if(t.isInitialized())return t.getImmediate();const s=OK(r,{popupRedirectResolver:oJ,persistence:[gQ,sQ,S3]}),i=JP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(i,location.origin);if(location.origin===h.origin){const m=uJ(h.toString());eQ(s,m,()=>m(s.currentUser)),ZK(s,g=>m(g))}}const l=WP("auth");return l&&LK(s,`http://${l}`),s}function mJ(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}SK({loadJS(r){return new Promise((t,s)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=t,i.onerror=l=>{const h=Ka("internal-error");h.customData=l,s(h)},i.type="text/javascript",i.charset="UTF-8",mJ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lJ("Browser");var O5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ru,O3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(Q,B){function Y(){}Y.prototype=B.prototype,Q.D=B.prototype,Q.prototype=new Y,Q.prototype.constructor=Q,Q.C=function(J,K,Z){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return B.prototype[K].apply(J,ee)}}function s(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,s),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Q,B,Y){Y||(Y=0);var J=Array(16);if(typeof B=="string")for(var K=0;16>K;++K)J[K]=B.charCodeAt(Y++)|B.charCodeAt(Y++)<<8|B.charCodeAt(Y++)<<16|B.charCodeAt(Y++)<<24;else for(K=0;16>K;++K)J[K]=B[Y++]|B[Y++]<<8|B[Y++]<<16|B[Y++]<<24;B=Q.g[0],Y=Q.g[1],K=Q.g[2];var Z=Q.g[3],ee=B+(Z^Y&(K^Z))+J[0]+3614090360&4294967295;B=Y+(ee<<7&4294967295|ee>>>25),ee=Z+(K^B&(Y^K))+J[1]+3905402710&4294967295,Z=B+(ee<<12&4294967295|ee>>>20),ee=K+(Y^Z&(B^Y))+J[2]+606105819&4294967295,K=Z+(ee<<17&4294967295|ee>>>15),ee=Y+(B^K&(Z^B))+J[3]+3250441966&4294967295,Y=K+(ee<<22&4294967295|ee>>>10),ee=B+(Z^Y&(K^Z))+J[4]+4118548399&4294967295,B=Y+(ee<<7&4294967295|ee>>>25),ee=Z+(K^B&(Y^K))+J[5]+1200080426&4294967295,Z=B+(ee<<12&4294967295|ee>>>20),ee=K+(Y^Z&(B^Y))+J[6]+2821735955&4294967295,K=Z+(ee<<17&4294967295|ee>>>15),ee=Y+(B^K&(Z^B))+J[7]+4249261313&4294967295,Y=K+(ee<<22&4294967295|ee>>>10),ee=B+(Z^Y&(K^Z))+J[8]+1770035416&4294967295,B=Y+(ee<<7&4294967295|ee>>>25),ee=Z+(K^B&(Y^K))+J[9]+2336552879&4294967295,Z=B+(ee<<12&4294967295|ee>>>20),ee=K+(Y^Z&(B^Y))+J[10]+4294925233&4294967295,K=Z+(ee<<17&4294967295|ee>>>15),ee=Y+(B^K&(Z^B))+J[11]+2304563134&4294967295,Y=K+(ee<<22&4294967295|ee>>>10),ee=B+(Z^Y&(K^Z))+J[12]+1804603682&4294967295,B=Y+(ee<<7&4294967295|ee>>>25),ee=Z+(K^B&(Y^K))+J[13]+4254626195&4294967295,Z=B+(ee<<12&4294967295|ee>>>20),ee=K+(Y^Z&(B^Y))+J[14]+2792965006&4294967295,K=Z+(ee<<17&4294967295|ee>>>15),ee=Y+(B^K&(Z^B))+J[15]+1236535329&4294967295,Y=K+(ee<<22&4294967295|ee>>>10),ee=B+(K^Z&(Y^K))+J[1]+4129170786&4294967295,B=Y+(ee<<5&4294967295|ee>>>27),ee=Z+(Y^K&(B^Y))+J[6]+3225465664&4294967295,Z=B+(ee<<9&4294967295|ee>>>23),ee=K+(B^Y&(Z^B))+J[11]+643717713&4294967295,K=Z+(ee<<14&4294967295|ee>>>18),ee=Y+(Z^B&(K^Z))+J[0]+3921069994&4294967295,Y=K+(ee<<20&4294967295|ee>>>12),ee=B+(K^Z&(Y^K))+J[5]+3593408605&4294967295,B=Y+(ee<<5&4294967295|ee>>>27),ee=Z+(Y^K&(B^Y))+J[10]+38016083&4294967295,Z=B+(ee<<9&4294967295|ee>>>23),ee=K+(B^Y&(Z^B))+J[15]+3634488961&4294967295,K=Z+(ee<<14&4294967295|ee>>>18),ee=Y+(Z^B&(K^Z))+J[4]+3889429448&4294967295,Y=K+(ee<<20&4294967295|ee>>>12),ee=B+(K^Z&(Y^K))+J[9]+568446438&4294967295,B=Y+(ee<<5&4294967295|ee>>>27),ee=Z+(Y^K&(B^Y))+J[14]+3275163606&4294967295,Z=B+(ee<<9&4294967295|ee>>>23),ee=K+(B^Y&(Z^B))+J[3]+4107603335&4294967295,K=Z+(ee<<14&4294967295|ee>>>18),ee=Y+(Z^B&(K^Z))+J[8]+1163531501&4294967295,Y=K+(ee<<20&4294967295|ee>>>12),ee=B+(K^Z&(Y^K))+J[13]+2850285829&4294967295,B=Y+(ee<<5&4294967295|ee>>>27),ee=Z+(Y^K&(B^Y))+J[2]+4243563512&4294967295,Z=B+(ee<<9&4294967295|ee>>>23),ee=K+(B^Y&(Z^B))+J[7]+1735328473&4294967295,K=Z+(ee<<14&4294967295|ee>>>18),ee=Y+(Z^B&(K^Z))+J[12]+2368359562&4294967295,Y=K+(ee<<20&4294967295|ee>>>12),ee=B+(Y^K^Z)+J[5]+4294588738&4294967295,B=Y+(ee<<4&4294967295|ee>>>28),ee=Z+(B^Y^K)+J[8]+2272392833&4294967295,Z=B+(ee<<11&4294967295|ee>>>21),ee=K+(Z^B^Y)+J[11]+1839030562&4294967295,K=Z+(ee<<16&4294967295|ee>>>16),ee=Y+(K^Z^B)+J[14]+4259657740&4294967295,Y=K+(ee<<23&4294967295|ee>>>9),ee=B+(Y^K^Z)+J[1]+2763975236&4294967295,B=Y+(ee<<4&4294967295|ee>>>28),ee=Z+(B^Y^K)+J[4]+1272893353&4294967295,Z=B+(ee<<11&4294967295|ee>>>21),ee=K+(Z^B^Y)+J[7]+4139469664&4294967295,K=Z+(ee<<16&4294967295|ee>>>16),ee=Y+(K^Z^B)+J[10]+3200236656&4294967295,Y=K+(ee<<23&4294967295|ee>>>9),ee=B+(Y^K^Z)+J[13]+681279174&4294967295,B=Y+(ee<<4&4294967295|ee>>>28),ee=Z+(B^Y^K)+J[0]+3936430074&4294967295,Z=B+(ee<<11&4294967295|ee>>>21),ee=K+(Z^B^Y)+J[3]+3572445317&4294967295,K=Z+(ee<<16&4294967295|ee>>>16),ee=Y+(K^Z^B)+J[6]+76029189&4294967295,Y=K+(ee<<23&4294967295|ee>>>9),ee=B+(Y^K^Z)+J[9]+3654602809&4294967295,B=Y+(ee<<4&4294967295|ee>>>28),ee=Z+(B^Y^K)+J[12]+3873151461&4294967295,Z=B+(ee<<11&4294967295|ee>>>21),ee=K+(Z^B^Y)+J[15]+530742520&4294967295,K=Z+(ee<<16&4294967295|ee>>>16),ee=Y+(K^Z^B)+J[2]+3299628645&4294967295,Y=K+(ee<<23&4294967295|ee>>>9),ee=B+(K^(Y|~Z))+J[0]+4096336452&4294967295,B=Y+(ee<<6&4294967295|ee>>>26),ee=Z+(Y^(B|~K))+J[7]+1126891415&4294967295,Z=B+(ee<<10&4294967295|ee>>>22),ee=K+(B^(Z|~Y))+J[14]+2878612391&4294967295,K=Z+(ee<<15&4294967295|ee>>>17),ee=Y+(Z^(K|~B))+J[5]+4237533241&4294967295,Y=K+(ee<<21&4294967295|ee>>>11),ee=B+(K^(Y|~Z))+J[12]+1700485571&4294967295,B=Y+(ee<<6&4294967295|ee>>>26),ee=Z+(Y^(B|~K))+J[3]+2399980690&4294967295,Z=B+(ee<<10&4294967295|ee>>>22),ee=K+(B^(Z|~Y))+J[10]+4293915773&4294967295,K=Z+(ee<<15&4294967295|ee>>>17),ee=Y+(Z^(K|~B))+J[1]+2240044497&4294967295,Y=K+(ee<<21&4294967295|ee>>>11),ee=B+(K^(Y|~Z))+J[8]+1873313359&4294967295,B=Y+(ee<<6&4294967295|ee>>>26),ee=Z+(Y^(B|~K))+J[15]+4264355552&4294967295,Z=B+(ee<<10&4294967295|ee>>>22),ee=K+(B^(Z|~Y))+J[6]+2734768916&4294967295,K=Z+(ee<<15&4294967295|ee>>>17),ee=Y+(Z^(K|~B))+J[13]+1309151649&4294967295,Y=K+(ee<<21&4294967295|ee>>>11),ee=B+(K^(Y|~Z))+J[4]+4149444226&4294967295,B=Y+(ee<<6&4294967295|ee>>>26),ee=Z+(Y^(B|~K))+J[11]+3174756917&4294967295,Z=B+(ee<<10&4294967295|ee>>>22),ee=K+(B^(Z|~Y))+J[2]+718787259&4294967295,K=Z+(ee<<15&4294967295|ee>>>17),ee=Y+(Z^(K|~B))+J[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+B&4294967295,Q.g[1]=Q.g[1]+(K+(ee<<21&4294967295|ee>>>11))&4294967295,Q.g[2]=Q.g[2]+K&4294967295,Q.g[3]=Q.g[3]+Z&4294967295}i.prototype.u=function(Q,B){B===void 0&&(B=Q.length);for(var Y=B-this.blockSize,J=this.B,K=this.h,Z=0;Z<B;){if(K==0)for(;Z<=Y;)l(this,Q,Z),Z+=this.blockSize;if(typeof Q=="string"){for(;Z<B;)if(J[K++]=Q.charCodeAt(Z++),K==this.blockSize){l(this,J),K=0;break}}else for(;Z<B;)if(J[K++]=Q[Z++],K==this.blockSize){l(this,J),K=0;break}}this.h=K,this.o+=B},i.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var B=1;B<Q.length-8;++B)Q[B]=0;var Y=8*this.o;for(B=Q.length-8;B<Q.length;++B)Q[B]=Y&255,Y/=256;for(this.u(Q),Q=Array(16),B=Y=0;4>B;++B)for(var J=0;32>J;J+=8)Q[Y++]=this.g[B]>>>J&255;return Q};function h(Q,B){var Y=g;return Object.prototype.hasOwnProperty.call(Y,Q)?Y[Q]:Y[Q]=B(Q)}function m(Q,B){this.h=B;for(var Y=[],J=!0,K=Q.length-1;0<=K;K--){var Z=Q[K]|0;J&&Z==B||(Y[K]=Z,J=!1)}this.g=Y}var g={};function b(Q){return-128<=Q&&128>Q?h(Q,function(B){return new m([B|0],0>B?-1:0)}):new m([Q|0],0>Q?-1:0)}function v(Q){if(isNaN(Q)||!isFinite(Q))return C;if(0>Q)return P(v(-Q));for(var B=[],Y=1,J=0;Q>=Y;J++)B[J]=Q/Y|0,Y*=4294967296;return new m(B,0)}function k(Q,B){if(Q.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(Q.charAt(0)=="-")return P(k(Q.substring(1),B));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var Y=v(Math.pow(B,8)),J=C,K=0;K<Q.length;K+=8){var Z=Math.min(8,Q.length-K),ee=parseInt(Q.substring(K,K+Z),B);8>Z?(Z=v(Math.pow(B,Z)),J=J.j(Z).add(v(ee))):(J=J.j(Y),J=J.add(v(ee)))}return J}var C=b(0),_=b(1),S=b(16777216);r=m.prototype,r.m=function(){if(R(this))return-P(this).m();for(var Q=0,B=1,Y=0;Y<this.g.length;Y++){var J=this.i(Y);Q+=(0<=J?J:4294967296+J)*B,B*=4294967296}return Q},r.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(T(this))return"0";if(R(this))return"-"+P(this).toString(Q);for(var B=v(Math.pow(Q,6)),Y=this,J="";;){var K=q(Y,B).g;Y=V(Y,K.j(B));var Z=((0<Y.g.length?Y.g[0]:Y.h)>>>0).toString(Q);if(Y=K,T(Y))return Z+J;for(;6>Z.length;)Z="0"+Z;J=Z+J}},r.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function T(Q){if(Q.h!=0)return!1;for(var B=0;B<Q.g.length;B++)if(Q.g[B]!=0)return!1;return!0}function R(Q){return Q.h==-1}r.l=function(Q){return Q=V(this,Q),R(Q)?-1:T(Q)?0:1};function P(Q){for(var B=Q.g.length,Y=[],J=0;J<B;J++)Y[J]=~Q.g[J];return new m(Y,~Q.h).add(_)}r.abs=function(){return R(this)?P(this):this},r.add=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0,K=0;K<=B;K++){var Z=J+(this.i(K)&65535)+(Q.i(K)&65535),ee=(Z>>>16)+(this.i(K)>>>16)+(Q.i(K)>>>16);J=ee>>>16,Z&=65535,ee&=65535,Y[K]=ee<<16|Z}return new m(Y,Y[Y.length-1]&-2147483648?-1:0)};function V(Q,B){return Q.add(P(B))}r.j=function(Q){if(T(this)||T(Q))return C;if(R(this))return R(Q)?P(this).j(P(Q)):P(P(this).j(Q));if(R(Q))return P(this.j(P(Q)));if(0>this.l(S)&&0>Q.l(S))return v(this.m()*Q.m());for(var B=this.g.length+Q.g.length,Y=[],J=0;J<2*B;J++)Y[J]=0;for(J=0;J<this.g.length;J++)for(var K=0;K<Q.g.length;K++){var Z=this.i(J)>>>16,ee=this.i(J)&65535,be=Q.i(K)>>>16,xe=Q.i(K)&65535;Y[2*J+2*K]+=ee*xe,U(Y,2*J+2*K),Y[2*J+2*K+1]+=Z*xe,U(Y,2*J+2*K+1),Y[2*J+2*K+1]+=ee*be,U(Y,2*J+2*K+1),Y[2*J+2*K+2]+=Z*be,U(Y,2*J+2*K+2)}for(J=0;J<B;J++)Y[J]=Y[2*J+1]<<16|Y[2*J];for(J=B;J<2*B;J++)Y[J]=0;return new m(Y,0)};function U(Q,B){for(;(Q[B]&65535)!=Q[B];)Q[B+1]+=Q[B]>>>16,Q[B]&=65535,B++}function F(Q,B){this.g=Q,this.h=B}function q(Q,B){if(T(B))throw Error("division by zero");if(T(Q))return new F(C,C);if(R(Q))return B=q(P(Q),B),new F(P(B.g),P(B.h));if(R(B))return B=q(Q,P(B)),new F(P(B.g),B.h);if(30<Q.g.length){if(R(Q)||R(B))throw Error("slowDivide_ only works with positive integers.");for(var Y=_,J=B;0>=J.l(Q);)Y=ne(Y),J=ne(J);var K=se(Y,1),Z=se(J,1);for(J=se(J,2),Y=se(Y,2);!T(J);){var ee=Z.add(J);0>=ee.l(Q)&&(K=K.add(Y),Z=ee),J=se(J,1),Y=se(Y,1)}return B=V(Q,K.j(B)),new F(K,B)}for(K=C;0<=Q.l(B);){for(Y=Math.max(1,Math.floor(Q.m()/B.m())),J=Math.ceil(Math.log(Y)/Math.LN2),J=48>=J?1:Math.pow(2,J-48),Z=v(Y),ee=Z.j(B);R(ee)||0<ee.l(Q);)Y-=J,Z=v(Y),ee=Z.j(B);T(Z)&&(Z=_),K=K.add(Z),Q=V(Q,ee)}return new F(K,Q)}r.A=function(Q){return q(this,Q).h},r.and=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0;J<B;J++)Y[J]=this.i(J)&Q.i(J);return new m(Y,this.h&Q.h)},r.or=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0;J<B;J++)Y[J]=this.i(J)|Q.i(J);return new m(Y,this.h|Q.h)},r.xor=function(Q){for(var B=Math.max(this.g.length,Q.g.length),Y=[],J=0;J<B;J++)Y[J]=this.i(J)^Q.i(J);return new m(Y,this.h^Q.h)};function ne(Q){for(var B=Q.g.length+1,Y=[],J=0;J<B;J++)Y[J]=Q.i(J)<<1|Q.i(J-1)>>>31;return new m(Y,Q.h)}function se(Q,B){var Y=B>>5;B%=32;for(var J=Q.g.length-Y,K=[],Z=0;Z<J;Z++)K[Z]=0<B?Q.i(Z+Y)>>>B|Q.i(Z+Y+1)<<32-B:Q.i(Z+Y);return new m(K,Q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,O3=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=v,m.fromString=k,Ru=m}).apply(typeof O5<"u"?O5:typeof self<"u"?self:typeof window<"u"?window:{});var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B3,vy,L3,zw,PA,z3,F3,V3;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,H,$){return E==Array.prototype||E==Object.prototype||(E[H]=$.value),E};function s(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof hw=="object"&&hw];for(var H=0;H<E.length;++H){var $=E[H];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var i=s(this);function l(E,H){if(H)e:{var $=i;E=E.split(".");for(var he=0;he<E.length-1;he++){var Ae=E[he];if(!(Ae in $))break e;$=$[Ae]}E=E[E.length-1],he=$[E],H=H(he),H!=he&&H!=null&&t($,E,{configurable:!0,writable:!0,value:H})}}function h(E,H){E instanceof String&&(E+="");var $=0,he=!1,Ae={next:function(){if(!he&&$<E.length){var Ie=$++;return{value:H(Ie,E[Ie]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}l("Array.prototype.values",function(E){return E||function(){return h(this,function(H,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},g=this||self;function b(E){var H=typeof E;return H=H!="object"?H:E?Array.isArray(E)?"array":H:"null",H=="array"||H=="object"&&typeof E.length=="number"}function v(E){var H=typeof E;return H=="object"&&E!=null||H=="function"}function k(E,H,$){return E.call.apply(E.bind,arguments)}function C(E,H,$){if(!E)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,he),E.apply(H,Ae)}}return function(){return E.apply(H,arguments)}}function _(E,H,$){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:C,_.apply(null,arguments)}function S(E,H){var $=Array.prototype.slice.call(arguments,1);return function(){var he=$.slice();return he.push.apply(he,arguments),E.apply(this,he)}}function T(E,H){function $(){}$.prototype=H.prototype,E.aa=H.prototype,E.prototype=new $,E.prototype.constructor=E,E.Qb=function(he,Ae,Ie){for(var et=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)et[rr-2]=arguments[rr];return H.prototype[Ae].apply(he,et)}}function R(E){const H=E.length;if(0<H){const $=Array(H);for(let he=0;he<H;he++)$[he]=E[he];return $}return[]}function P(E,H){for(let $=1;$<arguments.length;$++){const he=arguments[$];if(b(he)){const Ae=E.length||0,Ie=he.length||0;E.length=Ae+Ie;for(let et=0;et<Ie;et++)E[Ae+et]=he[et]}else E.push(he)}}class V{constructor(H,$){this.i=H,this.j=$,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function U(E){return/^[\s\xa0]*$/.test(E)}function F(){var E=g.navigator;return E&&(E=E.userAgent)?E:""}function q(E){return q[" "](E),E}q[" "]=function(){};var ne=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function se(E,H,$){for(const he in E)H.call($,E[he],he,E)}function Q(E,H){for(const $ in E)H.call(void 0,E[$],$,E)}function B(E){const H={};for(const $ in E)H[$]=E[$];return H}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(E,H){let $,he;for(let Ae=1;Ae<arguments.length;Ae++){he=arguments[Ae];for($ in he)E[$]=he[$];for(let Ie=0;Ie<Y.length;Ie++)$=Y[Ie],Object.prototype.hasOwnProperty.call(he,$)&&(E[$]=he[$])}}function K(E){var H=1;E=E.split(":");const $=[];for(;0<H&&E.length;)$.push(E.shift()),H--;return E.length&&$.push(E.join(":")),$}function Z(E){g.setTimeout(()=>{throw E},0)}function ee(){var E=oe;let H=null;return E.g&&(H=E.g,E.g=E.g.next,E.g||(E.h=null),H.next=null),H}class be{constructor(){this.h=this.g=null}add(H,$){const he=xe.get();he.set(H,$),this.h?this.h.next=he:this.g=he,this.h=he}}var xe=new V(()=>new ie,E=>E.reset());class ie{constructor(){this.next=this.g=this.h=null}set(H,$){this.h=H,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,oe=new be,G=()=>{const E=g.Promise.resolve(void 0);ae=()=>{E.then(ue)}};var ue=()=>{for(var E;E=ee();){try{E.h.call(E.g)}catch($){Z($)}var H=xe;H.j(E),100>H.h&&(H.h++,E.next=H.g,H.g=E)}le=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(E,H){this.type=E,this.g=this.target=H,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var E=!1,H=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const $=()=>{};g.addEventListener("test",$,H),g.removeEventListener("test",$,H)}catch{}return E}();function Se(E,H){if(me.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var $=this.type=E.type,he=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=H,H=E.relatedTarget){if(ne){e:{try{q(H.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(H=null)}}else $=="mouseover"?H=E.fromElement:$=="mouseout"&&(H=E.toElement);this.relatedTarget=H,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:_e[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Se.aa.h.call(this)}}T(Se,me);var _e={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ye(E,H,$,he,Ae){this.listener=E,this.proxy=null,this.src=H,this.type=$,this.capture=!!he,this.ha=Ae,this.key=++Oe,this.da=this.fa=!1}function Be(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Ce(E){this.src=E,this.g={},this.h=0}Ce.prototype.add=function(E,H,$,he,Ae){var Ie=E.toString();E=this.g[Ie],E||(E=this.g[Ie]=[],this.h++);var et=Je(E,H,he,Ae);return-1<et?(H=E[et],$||(H.fa=!1)):(H=new Ye(H,this.src,Ie,!!he,Ae),H.fa=$,E.push(H)),H};function ot(E,H){var $=H.type;if($ in E.g){var he=E.g[$],Ae=Array.prototype.indexOf.call(he,H,void 0),Ie;(Ie=0<=Ae)&&Array.prototype.splice.call(he,Ae,1),Ie&&(Be(H),E.g[$].length==0&&(delete E.g[$],E.h--))}}function Je(E,H,$,he){for(var Ae=0;Ae<E.length;++Ae){var Ie=E[Ae];if(!Ie.da&&Ie.listener==H&&Ie.capture==!!$&&Ie.ha==he)return Ae}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),Lt={};function Ne(E,H,$,he,Ae){if(Array.isArray(H)){for(var Ie=0;Ie<H.length;Ie++)Ne(E,H[Ie],$,he,Ae);return null}return $=fo($),E&&E[qe]?E.K(H,$,v(he)?!!he.capture:!1,Ae):at(E,H,$,!1,he,Ae)}function at(E,H,$,he,Ae,Ie){if(!H)throw Error("Invalid event type");var et=v(Ae)?!!Ae.capture:!!Ae,rr=Cr(E);if(rr||(E[nt]=rr=new Ce(E)),$=rr.add(H,$,he,et,Ie),$.proxy)return $;if(he=Qt(),$.proxy=he,he.src=E,he.listener=$,E.addEventListener)ye||(Ae=et),Ae===void 0&&(Ae=!1),E.addEventListener(H.toString(),he,Ae);else if(E.attachEvent)E.attachEvent(Yr(H.toString()),he);else if(E.addListener&&E.removeListener)E.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return $}function Qt(){function E($){return H.call(E.src,E.listener,$)}const H=Er;return E}function Sr(E,H,$,he,Ae){if(Array.isArray(H))for(var Ie=0;Ie<H.length;Ie++)Sr(E,H[Ie],$,he,Ae);else he=v(he)?!!he.capture:!!he,$=fo($),E&&E[qe]?(E=E.i,H=String(H).toString(),H in E.g&&(Ie=E.g[H],$=Je(Ie,$,he,Ae),-1<$&&(Be(Ie[$]),Array.prototype.splice.call(Ie,$,1),Ie.length==0&&(delete E.g[H],E.h--)))):E&&(E=Cr(E))&&(H=E.g[H.toString()],E=-1,H&&(E=Je(H,$,he,Ae)),($=-1<E?H[E]:null)&&nn($))}function nn(E){if(typeof E!="number"&&E&&!E.da){var H=E.src;if(H&&H[qe])ot(H.i,E);else{var $=E.type,he=E.proxy;H.removeEventListener?H.removeEventListener($,he,E.capture):H.detachEvent?H.detachEvent(Yr($),he):H.addListener&&H.removeListener&&H.removeListener(he),($=Cr(H))?(ot($,E),$.h==0&&($.src=null,H[nt]=null)):Be(E)}}}function Yr(E){return E in Lt?Lt[E]:Lt[E]="on"+E}function Er(E,H){if(E.da)E=!0;else{H=new Se(H,this);var $=E.listener,he=E.ha||E.src;E.fa&&nn(E),E=$.call(he,H)}return E}function Cr(E){return E=E[nt],E instanceof Ce?E:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function fo(E){return typeof E=="function"?E:(E[Qs]||(E[Qs]=function(H){return E.handleEvent(H)}),E[Qs])}function Yt(){pe.call(this),this.i=new Ce(this),this.M=this,this.F=null}T(Yt,pe),Yt.prototype[qe]=!0,Yt.prototype.removeEventListener=function(E,H,$,he){Sr(this,E,H,$,he)};function wt(E,H){var $,he=E.F;if(he)for($=[];he;he=he.F)$.push(he);if(E=E.M,he=H.type||H,typeof H=="string")H=new me(H,E);else if(H instanceof me)H.target=H.target||E;else{var Ae=H;H=new me(he,E),J(H,Ae)}if(Ae=!0,$)for(var Ie=$.length-1;0<=Ie;Ie--){var et=H.g=$[Ie];Ae=Gr(et,he,!0,H)&&Ae}if(et=H.g=E,Ae=Gr(et,he,!0,H)&&Ae,Ae=Gr(et,he,!1,H)&&Ae,$)for(Ie=0;Ie<$.length;Ie++)et=H.g=$[Ie],Ae=Gr(et,he,!1,H)&&Ae}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var E=this.i,H;for(H in E.g){for(var $=E.g[H],he=0;he<$.length;he++)Be($[he]);delete E.g[H],E.h--}}this.F=null},Yt.prototype.K=function(E,H,$,he){return this.i.add(String(E),H,!1,$,he)},Yt.prototype.L=function(E,H,$,he){return this.i.add(String(E),H,!0,$,he)};function Gr(E,H,$,he){if(H=E.i.g[String(H)],!H)return!0;H=H.concat();for(var Ae=!0,Ie=0;Ie<H.length;++Ie){var et=H[Ie];if(et&&!et.da&&et.capture==$){var rr=et.listener,jn=et.ha||et.src;et.fa&&ot(E.i,et),Ae=rr.call(jn,he)!==!1&&Ae}}return Ae&&!he.defaultPrevented}function lt(E,H,$){if(typeof E=="function")$&&(E=_(E,$));else if(E&&typeof E.handleEvent=="function")E=_(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:g.setTimeout(E,H||0)}function It(E){E.g=lt(()=>{E.g=null,E.i&&(E.i=!1,It(E))},E.l);const H=E.h;E.h=null,E.m.apply(null,H)}class kt extends pe{constructor(H,$){super(),this.m=H,this.l=$,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(E){pe.call(this),this.h=E,this.g={}}T(er,pe);var sn=[];function ss(E){se(E.g,function(H,$){this.g.hasOwnProperty($)&&nn(H)},E),E.g={}}er.prototype.N=function(){er.aa.N.call(this),ss(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=g.JSON.stringify,Jt=g.JSON.parse,Pt=class{stringify(E){return g.JSON.stringify(E,void 0)}parse(E){return g.JSON.parse(E,void 0)}};function Dt(){}Dt.prototype.h=null;function Js(E){return E.h||(E.h=E.i())}function Ts(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){me.call(this,"d")}T(ir,me);function On(){me.call(this,"c")}T(On,me);var Wr={},Rs=null;function hn(){return Rs=Rs||new Yt}Wr.La="serverreachability";function _n(E){me.call(this,Wr.La,E)}T(_n,me);function br(E){const H=hn();wt(H,new _n(H))}Wr.STAT_EVENT="statevent";function ni(E,H){me.call(this,Wr.STAT_EVENT,E),this.stat=H}T(ni,me);function jt(E){const H=hn();wt(H,new ni(H,E))}Wr.Ma="timingevent";function yr(E,H){me.call(this,Wr.Ma,E),this.size=H}T(yr,me);function xr(E,H){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){E()},H)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function si(E,H,$,he,Ae,Ie){E.info(function(){if(E.g)if(Ie)for(var et="",rr=Ie.split("&"),jn=0;jn<rr.length;jn++){var nr=rr[jn].split("=");if(1<nr.length){var Yn=nr[0];nr=nr[1];var Bn=Yn.split("_");et=2<=Bn.length&&Bn[1]=="type"?et+(Yn+"="+nr+"&"):et+(Yn+"=redacted&")}}else et=null;else et=Ie;return"XMLHTTP REQ ("+he+") [attempt "+Ae+"]: "+H+`
`+$+`
`+et})}function ia(E,H,$,he,Ae,Ie,et){E.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Ae+"]: "+H+`
`+$+`
`+Ie+" "+et})}function os(E,H,$,he){E.info(function(){return"XMLHTTP TEXT ("+H+"): "+Xs(E,$)+(he?" "+he:"")})}function Ps(E,H){E.info(function(){return"TIMEOUT: "+H})}on.prototype.info=function(){};function Xs(E,H){if(!E.g)return H;if(!H)return null;try{var $=JSON.parse(H);if($){for(E=0;E<$.length;E++)if(Array.isArray($[E])){var he=$[E];if(!(2>he.length)){var Ae=he[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Ie=Ae[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var et=1;et<Ae.length;et++)Ae[et]=""}}}}return ze($)}catch{return H}}var ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function Ii(){}T(Ii,Dt),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},Ti=new Ii;function mn(E,H,$,he){this.j=E,this.i=H,this.l=$,this.R=he||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var xd={},vd={};function oi(E,H,$){E.L=1,E.v=Mo(xs(H)),E.m=$,E.P=!0,Os(E,null)}function Os(E,H){E.F=Date.now(),ic(E),E.A=xs(E.v);var $=E.A,he=E.R;Array.isArray(he)||(he=[String(he)]),Nd($.i,"t",he),E.C=0,$=E.j.J,E.h=new $r,E.g=Md(E.j,$?H:null,!E.m),0<E.O&&(E.M=new kt(_(E.Y,E,E.g),E.O)),H=E.U,$=E.g,he=E.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(sn[0]=Ae.toString()),Ae=sn);for(var Ie=0;Ie<Ae.length;Ie++){var et=Ne($,Ae[Ie],he||H.handleEvent,!1,H.h||H);if(!et)break;H.g[et.key]=et}H=E.H?B(E.H):{},E.m?(E.u||(E.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,H)):(E.u="GET",E.g.ea(E.A,E.u,null,H)),br(),si(E.i,E.u,E.A,E.l,E.R,E.m)}mn.prototype.ca=function(E){E=E.target;const H=this.M;H&&Io(E)==3?H.j():this.Y(E)},mn.prototype.Y=function(E){try{if(E==this.g)e:{const Bn=Io(this.g);var H=this.g.Ba();const ga=this.g.Z();if(!(3>Bn)&&(Bn!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||Bn!=4||H==7||(H==8||0>=ga?br(3):br(2)),il(this);var $=this.g.Z();this.X=$;t:if(ep(this)){var he=jd(this.g);E="";var Ae=he.length,Ie=Io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Ri(this);var et="";break t}this.h.i=new g.TextDecoder}for(H=0;H<Ae;H++)this.h.h=!0,E+=this.h.i.decode(he[H],{stream:!(Ie&&H==Ae-1)});he.length=0,this.h.g+=E,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=$==200,ia(this.i,this.u,this.A,this.l,this.R,Bn,$),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,jn=this.g;if((rr=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(rr)){var nr=rr;break t}}nr=null}if($=nr)os(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ac(this,$);else{this.o=!1,this.s=3,jt(12),is(this),Ri(this);break e}}if(this.P){$=!0;let ls;for(;!this.J&&this.C<et.length;)if(ls=tp(this,et),ls==vd){Bn==4&&(this.s=4,jt(14),$=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(ls==xd){this.s=4,jt(15),os(this.i,this.l,et,"[Invalid Chunk]"),$=!1;break}else os(this.i,this.l,ls,null),ac(this,ls);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bn!=4||et.length!=0||this.h.h||(this.s=1,jt(16),$=!1),this.o=this.o&&$,!$)os(this.i,this.l,et,"[Invalid Chunked Response]"),is(this),Ri(this);else if(0<et.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),pl(Yn),Yn.M=!0,jt(11))}}else os(this.i,this.l,et,null),ac(this,et);Bn==4&&is(this),this.o&&!this.J&&(Bn==4?dh(this.j,this):(this.o=!1,ic(this)))}else vg(this.g),$==400&&0<et.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),is(this),Ri(this)}}}catch{}finally{}};function ep(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function tp(E,H){var $=E.C,he=H.indexOf(`
`,$);return he==-1?vd:($=Number(H.substring($,he)),isNaN($)?xd:(he+=1,he+$>H.length?vd:(H=H.slice(he,he+$),E.C=he+$,H)))}mn.prototype.cancel=function(){this.J=!0,is(this)};function ic(E){E.S=Date.now()+E.I,rp(E,E.I)}function rp(E,H){if(E.B!=null)throw Error("WatchDog timer not null");E.B=xr(_(E.ba,E),H)}function il(E){E.B&&(g.clearTimeout(E.B),E.B=null)}mn.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(Ps(this.i,this.A),this.L!=2&&(br(),jt(17)),is(this),this.s=2,Ri(this)):rp(this,this.S-E)};function Ri(E){E.j.G==0||E.J||dh(E.j,E)}function is(E){il(E);var H=E.M;H&&typeof H.ma=="function"&&H.ma(),E.M=null,ss(E.U),E.g&&(H=E.g,E.g=null,H.abort(),H.ma())}function ac(E,H){try{var $=E.j;if($.G!=0&&($.g==E||rh($.h,E))){if(!E.K&&rh($.h,E)&&$.G==3){try{var he=$.Da.g.parse(H)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Ae=he;if(Ae[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<E.F)mc($),ml($);else break e;Dd($),jt(18)}}else $.za=Ae[1],0<$.za-$.T&&37500>Ae[2]&&$.F&&$.v==0&&!$.C&&($.C=xr(_($.Za,$),6e3));if(1>=wd($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else Ui($,11)}else if((E.K||$.g==E)&&mc($),!U(H))for(Ae=$.Da.g.parse(H),H=0;H<Ae.length;H++){let nr=Ae[H];if($.T=nr[0],nr=nr[1],$.G==2)if(nr[0]=="c"){$.K=nr[1],$.ia=nr[2];const Yn=nr[3];Yn!=null&&($.la=Yn,$.j.info("VER="+$.la));const Bn=nr[4];Bn!=null&&($.Aa=Bn,$.j.info("SVER="+$.Aa));const ga=nr[5];ga!=null&&typeof ga=="number"&&0<ga&&(he=1.5*ga,$.L=he,$.j.info("backChannelRequestTimeoutMs_="+he)),he=$;const ls=E.g;if(ls){const Gi=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var Ie=he.h;Ie.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(kd(Ie,Ie.h),Ie.h=null))}if(he.D){const di=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;di&&(he.ya=di,Rr(he.I,he.D,di))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-E.F,$.j.info("Handshake RTT: "+$.R+"ms")),he=$;var et=E;if(he.qa=hh(he,he.J?he.ia:null,he.W),et.K){Bs(he.h,et);var rr=et,jn=he.L;jn&&(rr.I=jn),rr.B&&(il(rr),ic(rr)),he.g=et}else lh(he);0<$.i.length&&Ed($)}else nr[0]!="stop"&&nr[0]!="close"||Ui($,7);else $.G==3&&(nr[0]=="stop"||nr[0]=="close"?nr[0]=="stop"?Ui($,7):hl($):nr[0]!="noop"&&$.l&&$.l.ta(nr),$.v=0)}}br(4)}catch{}}var Pi=class{constructor(E,H){this.g=E,this.map=H}};function go(E){this.l=E||10,g.PerformanceNavigationTiming?(E=g.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oi(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function wd(E){return E.h?1:E.g?E.g.size:0}function rh(E,H){return E.h?E.h==H:E.g?E.g.has(H):!1}function kd(E,H){E.g?E.g.add(H):E.h=H}function Bs(E,H){E.h&&E.h==H?E.h=null:E.g&&E.g.has(H)&&E.g.delete(H)}go.prototype.cancel=function(){if(this.i=nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function nh(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let H=E.i;for(const $ of E.g.values())H=H.concat($.D);return H}return R(E.i)}function yg(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(b(E)){for(var H=[],$=E.length,he=0;he<$;he++)H.push(E[he]);return H}H=[],$=0;for(he in E)H[$++]=E[he];return H}function Cd(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(b(E)||typeof E=="string"){var H=[];E=E.length;for(var $=0;$<E;$++)H.push($);return H}H=[],$=0;for(const he in E)H[$++]=he;return H}}}function Bi(E,H){if(E.forEach&&typeof E.forEach=="function")E.forEach(H,void 0);else if(b(E)||typeof E=="string")Array.prototype.forEach.call(E,H,void 0);else for(var $=Cd(E),he=yg(E),Ae=he.length,Ie=0;Ie<Ae;Ie++)H.call(void 0,he[Ie],$&&$[Ie],E)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xg(E,H){if(E){E=E.split("&");for(var $=0;$<E.length;$++){var he=E[$].indexOf("="),Ae=null;if(0<=he){var Ie=E[$].substring(0,he);Ae=E[$].substring(he+1)}else Ie=E[$];H(Ie,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function An(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof An){this.h=E.h,lc(this,E.j),this.o=E.o,this.g=E.g,ll(this,E.s),this.l=E.l;var H=E.i,$=new ii;$.i=H.i,H.g&&($.g=new Map(H.g),$.h=H.h),la(this,$),this.m=E.m}else E&&(H=String(E).match(al))?(this.h=!1,lc(this,H[1]||"",!0),this.o=Ls(H[2]||""),this.g=Ls(H[3]||"",!0),ll(this,H[4]),this.l=Ls(H[5]||"",!0),la(this,H[6]||"",!0),this.m=Ls(H[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}An.prototype.toString=function(){var E=[],H=this.j;H&&E.push(cc(H,da,!0),":");var $=this.g;return($||H=="file")&&(E.push("//"),(H=this.o)&&E.push(cc(H,da,!0),"@"),E.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&E.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&E.push("/"),E.push(cc($,$.charAt(0)=="/"?_d:sh,!0))),($=this.i.toString())&&E.push("?",$),($=this.m)&&E.push("#",cc($,Ad)),E.join("")};function xs(E){return new An(E)}function lc(E,H,$){E.j=$?Ls(H,!0):H,E.j&&(E.j=E.j.replace(/:$/,""))}function ll(E,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);E.s=H}else E.s=null}function la(E,H,$){H instanceof ii?(E.i=H,np(E.i,E.h)):($||(H=cc(H,oh)),E.i=new ii(H,E.h))}function Rr(E,H,$){E.i.set(H,$)}function Mo(E){return Rr(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ls(E,H){return E?H?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function cc(E,H,$){return typeof E=="string"?(E=encodeURI(E).replace(H,ca),$&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ca(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var da=/[#\/\?@]/g,sh=/[#\?:]/g,_d=/[#\?]/g,oh=/[#\?@]/g,Ad=/#/g;function ii(E,H){this.h=this.g=null,this.i=E||null,this.j=!!H}function as(E){E.g||(E.g=new Map,E.h=0,E.i&&xg(E.i,function(H,$){E.add(decodeURIComponent(H.replace(/\+/g," ")),$)}))}r=ii.prototype,r.add=function(E,H){as(this),this.i=null,E=zi(this,E);var $=this.g.get(E);return $||this.g.set(E,$=[]),$.push(H),this.h+=1,this};function ua(E,H){as(E),H=zi(E,H),E.g.has(H)&&(E.i=null,E.h-=E.g.get(H).length,E.g.delete(H))}function Li(E,H){return as(E),H=zi(E,H),E.g.has(H)}r.forEach=function(E,H){as(this),this.g.forEach(function($,he){$.forEach(function(Ae){E.call(H,Ae,he,this)},this)},this)},r.na=function(){as(this);const E=Array.from(this.g.values()),H=Array.from(this.g.keys()),$=[];for(let he=0;he<H.length;he++){const Ae=E[he];for(let Ie=0;Ie<Ae.length;Ie++)$.push(H[he])}return $},r.V=function(E){as(this);let H=[];if(typeof E=="string")Li(this,E)&&(H=H.concat(this.g.get(zi(this,E))));else{E=Array.from(this.g.values());for(let $=0;$<E.length;$++)H=H.concat(E[$])}return H},r.set=function(E,H){return as(this),this.i=null,E=zi(this,E),Li(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[H]),this.h+=1,this},r.get=function(E,H){return E?(E=this.V(E),0<E.length?String(E[0]):H):H};function Nd(E,H,$){ua(E,H),0<$.length&&(E.i=null,E.g.set(zi(E,H),R($)),E.h+=$.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],H=Array.from(this.g.keys());for(var $=0;$<H.length;$++){var he=H[$];const Ie=encodeURIComponent(String(he)),et=this.V(he);for(he=0;he<et.length;he++){var Ae=Ie;et[he]!==""&&(Ae+="="+encodeURIComponent(String(et[he]))),E.push(Ae)}}return this.i=E.join("&")};function zi(E,H){return H=String(H),E.j&&(H=H.toLowerCase()),H}function np(E,H){H&&!E.j&&(as(E),E.i=null,E.g.forEach(function($,he){var Ae=he.toLowerCase();he!=Ae&&(ua(this,he),Nd(this,Ae,$))},E)),E.j=H}function ha(E,H){const $=new on;if(g.Image){const he=new Image;he.onload=S(bo,$,"TestLoadImage: loaded",!0,H,he),he.onerror=S(bo,$,"TestLoadImage: error",!1,H,he),he.onabort=S(bo,$,"TestLoadImage: abort",!1,H,he),he.ontimeout=S(bo,$,"TestLoadImage: timeout",!1,H,he),g.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=E}else H(!1)}function ai(E,H){const $=new on,he=new AbortController,Ae=setTimeout(()=>{he.abort(),bo($,"TestPingServer: timeout",!1,H)},1e4);fetch(E,{signal:he.signal}).then(Ie=>{clearTimeout(Ae),Ie.ok?bo($,"TestPingServer: ok",!0,H):bo($,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Ae),bo($,"TestPingServer: error",!1,H)})}function bo(E,H,$,he,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),he($)}catch{}}function cl(){this.g=new Pt}function li(E,H,$){const he=$||"";try{Bi(E,function(Ae,Ie){let et=Ae;v(Ae)&&(et=ze(Ae)),H.push(he+Ie+"="+encodeURIComponent(et))})}catch(Ae){throw H.push(he+"type="+encodeURIComponent("_badmap")),Ae}}function To(E){this.l=E.Ub||null,this.j=E.eb||!1}T(To,Dt),To.prototype.g=function(){return new ma(this.l,this.j)},To.prototype.i=function(E){return function(){return E}}({});function ma(E,H){Yt.call(this),this.D=E,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ma,Yt),r=ma.prototype,r.open=function(E,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=H,this.readyState=1,ar(this)},r.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(H.body=E),(this.D||g).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},r.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dc(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function dc(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}r.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var H=E.value?E.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!E.done}))&&(this.response=this.responseText+=H)}E.done?ci(this):ar(this),this.readyState==3&&dc(this)}},r.Ra=function(E){this.g&&(this.response=this.responseText=E,ci(this))},r.Qa=function(E){this.g&&(this.response=E,ci(this))},r.ga=function(){this.g&&ci(this)};function ci(E){E.readyState=4,E.l=null,E.j=null,E.v=null,ar(E)}r.setRequestHeader=function(E,H){this.u.append(E,H)},r.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],H=this.h.entries();for(var $=H.next();!$.done;)$=$.value,E.push($[0]+": "+$[1]),$=H.next();return E.join(`\r
`)};function ar(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function ih(E){let H="";return se(E,function($,he){H+=he,H+=":",H+=$,H+=`\r
`}),H}function Nn(E,H,$){e:{for(he in $){var he=!1;break e}he=!0}he||($=ih($),typeof E=="string"?$!=null&&encodeURIComponent(String($)):Rr(E,H,$))}function vr(E){Yt.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(vr,Yt);var Fi=/^https?$/i,pa=["POST","PUT"];r=vr.prototype,r.Ha=function(E){this.J=E},r.ea=function(E,H,$,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);H=H?H.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?Js(this.o):Js(Ti),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(H,String(E),!0),this.B=!1}catch(Ie){fa(this,Ie);return}if(E=$||"",$=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Ae in he)$.set(Ae,he[Ae]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const Ie of he.keys())$.set(Ie,he.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from($.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Ae=g.FormData&&E instanceof g.FormData,!(0<=Array.prototype.indexOf.call(pa,H,void 0))||he||Ae||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,et]of $)this.g.setRequestHeader(Ie,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ul(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ie){fa(this,Ie)}};function fa(E,H){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=H,E.m=5,uc(E),Vi(E)}function uc(E){E.A||(E.A=!0,wt(E,"complete"),wt(E,"error"))}r.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,wt(this,"complete"),wt(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),vr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?dl(this):this.bb())},r.bb=function(){dl(this)};function dl(E){if(E.h&&typeof m<"u"&&(!E.v[1]||Io(E)!=4||E.Z()!=2)){if(E.u&&Io(E)==4)lt(E.Ea,0,E);else if(wt(E,"readystatechange"),Io(E)==4){E.h=!1;try{const et=E.Z();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var $;if(!($=H)){var he;if(he=et===0){var Ae=String(E.D).match(al)[1]||null;!Ae&&g.self&&g.self.location&&(Ae=g.self.location.protocol.slice(0,-1)),he=!Fi.test(Ae?Ae.toLowerCase():"")}$=he}if($)wt(E,"complete"),wt(E,"success");else{E.m=6;try{var Ie=2<Io(E)?E.g.statusText:""}catch{Ie=""}E.l=Ie+" ["+E.Z()+"]",uc(E)}}finally{Vi(E)}}}}function Vi(E,H){if(E.g){ul(E);const $=E.g,he=E.v[0]?()=>{}:null;E.g=null,E.v=null,H||wt(E,"ready");try{$.onreadystatechange=he}catch{}}}function ul(E){E.I&&(g.clearTimeout(E.I),E.I=null)}r.isActive=function(){return!!this.g};function Io(E){return E.g?E.g.readyState:0}r.Z=function(){try{return 2<Io(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(E){if(this.g){var H=this.g.responseText;return E&&H.indexOf(E)==0&&(H=H.substring(E.length)),Jt(H)}};function jd(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function vg(E){const H={};E=(E.g&&2<=Io(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<E.length;he++){if(U(E[he]))continue;var $=K(E[he]);const Ae=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const Ie=H[Ae]||[];H[Ae]=Ie,Ie.push($)}Q(H,function(he){return he.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hc(E,H,$){return $&&$.internalChannelParams&&$.internalChannelParams[E]||H}function Sd(E){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hc("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hc("baseRetryDelayMs",5e3,E),this.cb=hc("retryDelaySeedMs",1e4,E),this.Wa=hc("forwardChannelMaxRetries",2,E),this.wa=hc("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new go(E&&E.concurrentRequestLimit),this.Da=new cl,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sd.prototype,r.la=8,r.G=1,r.connect=function(E,H,$,he){jt(0),this.W=E,this.H=H||{},$&&he!==void 0&&(this.H.OSID=$,this.H.OAID=he),this.F=this.X,this.I=hh(this,null,this.W),Ed(this)};function hl(E){if(sp(E),E.G==3){var H=E.U++,$=xs(E.I);if(Rr($,"SID",E.K),Rr($,"RID",H),Rr($,"TYPE","terminate"),Ro(E,$),H=new mn(E,E.j,H),H.L=2,H.v=Mo(xs($)),$=!1,g.navigator&&g.navigator.sendBeacon)try{$=g.navigator.sendBeacon(H.v.toString(),"")}catch{}!$&&g.Image&&(new Image().src=H.v,$=!0),$||(H.g=Md(H.j,null),H.g.ea(H.v)),H.F=Date.now(),ic(H)}ip(E)}function ml(E){E.g&&(pl(E),E.g.cancel(),E.g=null)}function sp(E){ml(E),E.u&&(g.clearTimeout(E.u),E.u=null),mc(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&g.clearTimeout(E.s),E.s=null)}function Ed(E){if(!Oi(E.h)&&!E.s){E.s=!0;var H=E.Ga;ae||G(),le||(ae(),le=!0),oe.add(H,E),E.B=0}}function wg(E,H){return wd(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=H.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=xr(_(E.Ga,E,H),uh(E,E.B)),E.B++,!0)}r.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Ae=new mn(this,this.j,E);let Ie=this.o;if(this.S&&(Ie?(Ie=B(Ie),J(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(Ae.H=Ie,Ie=null),this.P)e:{for(var H=0,$=0;$<this.i.length;$++){t:{var he=this.i[$];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(H+=he,4096<H){H=$;break e}if(H===4096||$===this.i.length-1){H=$+1;break e}}H=1e3}else H=1e3;H=op(this,Ae,H),$=xs(this.I),Rr($,"RID",E),Rr($,"CVER",22),this.D&&Rr($,"X-HTTP-Session-Id",this.D),Ro(this,$),Ie&&(this.O?H="headers="+encodeURIComponent(String(ih(Ie)))+"&"+H:this.m&&Nn($,this.m,Ie)),kd(this.h,Ae),this.Ua&&Rr($,"TYPE","init"),this.P?(Rr($,"$req",H),Rr($,"SID","null"),Ae.T=!0,oi(Ae,$,null)):oi(Ae,$,H),this.G=2}}else this.G==3&&(E?ah(this,E):this.i.length==0||Oi(this.h)||ah(this))};function ah(E,H){var $;H?$=H.l:$=E.U++;const he=xs(E.I);Rr(he,"SID",E.K),Rr(he,"RID",$),Rr(he,"AID",E.T),Ro(E,he),E.m&&E.o&&Nn(he,E.m,E.o),$=new mn(E,E.j,$,E.B+1),E.m===null&&($.H=E.o),H&&(E.i=H.D.concat(E.i)),H=op(E,$,1e3),$.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),kd(E.h,$),oi($,he,H)}function Ro(E,H){E.H&&se(E.H,function($,he){Rr(H,he,$)}),E.l&&Bi({},function($,he){Rr(H,he,$)})}function op(E,H,$){$=Math.min(E.i.length,$);var he=E.l?_(E.l.Na,E.l,E):null;e:{var Ae=E.i;let Ie=-1;for(;;){const et=["count="+$];Ie==-1?0<$?(Ie=Ae[0].g,et.push("ofs="+Ie)):Ie=0:et.push("ofs="+Ie);let rr=!0;for(let jn=0;jn<$;jn++){let nr=Ae[jn].g;const Yn=Ae[jn].map;if(nr-=Ie,0>nr)Ie=Math.max(0,Ae[jn].g-100),rr=!1;else try{li(Yn,et,"req"+nr+"_")}catch{he&&he(Yn)}}if(rr){he=et.join("&");break e}}}return E=E.i.splice(0,$),H.D=E,he}function lh(E){if(!E.g&&!E.u){E.Y=1;var H=E.Fa;ae||G(),le||(ae(),le=!0),oe.add(H,E),E.v=0}}function Dd(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=xr(_(E.Fa,E),uh(E,E.v)),E.v++,!0)}r.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=xr(_(this.ab,this),E)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),ml(this),ch(this))};function pl(E){E.A!=null&&(g.clearTimeout(E.A),E.A=null)}function ch(E){E.g=new mn(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var H=xs(E.qa);Rr(H,"RID","rpc"),Rr(H,"SID",E.K),Rr(H,"AID",E.T),Rr(H,"CI",E.F?"0":"1"),!E.F&&E.ja&&Rr(H,"TO",E.ja),Rr(H,"TYPE","xmlhttp"),Ro(E,H),E.m&&E.o&&Nn(H,E.m,E.o),E.L&&(E.g.I=E.L);var $=E.g;E=E.ia,$.L=1,$.v=Mo(xs(H)),$.m=null,$.P=!0,Os($,E)}r.Za=function(){this.C!=null&&(this.C=null,ml(this),Dd(this),jt(19))};function mc(E){E.C!=null&&(g.clearTimeout(E.C),E.C=null)}function dh(E,H){var $=null;if(E.g==H){mc(E),pl(E),E.g=null;var he=2}else if(rh(E.h,H))$=H.D,Bs(E.h,H),he=1;else return;if(E.G!=0){if(H.o)if(he==1){$=H.m?H.m.length:0,H=Date.now()-H.F;var Ae=E.B;he=hn(),wt(he,new yr(he,$)),Ed(E)}else lh(E);else if(Ae=H.s,Ae==3||Ae==0&&0<H.X||!(he==1&&wg(E,H)||he==2&&Dd(E)))switch($&&0<$.length&&(H=E.h,H.i=H.i.concat($)),Ae){case 1:Ui(E,5);break;case 4:Ui(E,10);break;case 3:Ui(E,6);break;default:Ui(E,2)}}}function uh(E,H){let $=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||($*=2),$*H}function Ui(E,H){if(E.j.info("Error code "+H),H==2){var $=_(E.fb,E),he=E.Xa;const Ae=!he;he=new An(he||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||lc(he,"https"),Mo(he),Ae?ha(he.toString(),$):ai(he.toString(),$)}else jt(2);E.G=0,E.l&&E.l.sa(H),ip(E),sp(E)}r.fb=function(E){E?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function ip(E){if(E.G=0,E.ka=[],E.l){const H=nh(E.h);(H.length!=0||E.i.length!=0)&&(P(E.ka,H),P(E.ka,E.i),E.h.i.length=0,R(E.i),E.i.length=0),E.l.ra()}}function hh(E,H,$){var he=$ instanceof An?xs($):new An($);if(he.g!="")H&&(he.g=H+"."+he.g),ll(he,he.s);else{var Ae=g.location;he=Ae.protocol,H=H?H+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Ie=new An(null);he&&lc(Ie,he),H&&(Ie.g=H),Ae&&ll(Ie,Ae),$&&(Ie.l=$),he=Ie}return $=E.D,H=E.ya,$&&H&&Rr(he,$,H),Rr(he,"VER",E.la),Ro(E,he),he}function Md(E,H,$){if(H&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=E.Ca&&!E.pa?new vr(new To({eb:$})):new vr(E.pa),H.Ha(E.J),H}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ap(){}r=ap.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pc(){}pc.prototype.g=function(E,H){return new vs(E,H)};function vs(E,H){Yt.call(this),this.g=new Sd(H),this.l=E,this.h=H&&H.messageUrlParams||null,E=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(E?E["X-WebChannel-Content-Type"]=H.messageContentType:E={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(E?E["X-WebChannel-Client-Profile"]=H.va:E={"X-WebChannel-Client-Profile":H.va}),this.g.S=E,(E=H&&H.Sb)&&!U(E)&&(this.g.m=E),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!U(H)&&(this.g.D=H,E=this.h,E!==null&&H in E&&(E=this.h,H in E&&delete E[H])),this.j=new Po(this)}T(vs,Yt),vs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vs.prototype.close=function(){hl(this.g)},vs.prototype.o=function(E){var H=this.g;if(typeof E=="string"){var $={};$.__data__=E,E=$}else this.u&&($={},$.__data__=ze(E),E=$);H.i.push(new Pi(H.Ya++,E)),H.G==3&&Ed(H)},vs.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,vs.aa.N.call(this)};function lp(E){ir.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var H=E.__sm__;if(H){e:{for(const $ in H){E=$;break e}E=void 0}(this.i=E)&&(E=this.i,H=H!==null&&E in H?H[E]:void 0),this.data=H}else this.data=E}T(lp,ir);function mh(){On.call(this),this.status=1}T(mh,On);function Po(E){this.g=E}T(Po,ap),Po.prototype.ua=function(){wt(this.g,"a")},Po.prototype.ta=function(E){wt(this.g,new lp(E))},Po.prototype.sa=function(E){wt(this.g,new mh)},Po.prototype.ra=function(){wt(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,vs.prototype.send=vs.prototype.o,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,V3=function(){return new pc},F3=function(){return hn()},z3=Wr,PA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,zw=ol,aa.COMPLETE="complete",L3=aa,Ts.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,vy=Ts,vr.prototype.listenOnce=vr.prototype.L,vr.prototype.getLastError=vr.prototype.Ka,vr.prototype.getLastErrorCode=vr.prototype.Ba,vr.prototype.getStatus=vr.prototype.Z,vr.prototype.getResponseJson=vr.prototype.Oa,vr.prototype.getResponseText=vr.prototype.oa,vr.prototype.send=vr.prototype.ea,vr.prototype.setWithCredentials=vr.prototype.Ha,B3=vr}).apply(typeof hw<"u"?hw:typeof self<"u"?self:typeof window<"u"?window:{});const B5="@firebase/firestore",L5="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new H2("@firebase/firestore");function Nf(){return Fm.logLevel}function ct(r,...t){if(Fm.logLevel<=dr.DEBUG){const s=t.map(sN);Fm.debug(`Firestore (${ng}): ${r}`,...s)}}function md(r,...t){if(Fm.logLevel<=dr.ERROR){const s=t.map(sN);Fm.error(`Firestore (${ng}): ${r}`,...s)}}function Vf(r,...t){if(Fm.logLevel<=dr.WARN){const s=t.map(sN);Fm.warn(`Firestore (${ng}): ${r}`,...s)}}function sN(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,U3(r,i,s)}function U3(r,t,s){let i=`FIRESTORE (${ng}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(s!==void 0)try{i+=" CONTEXT: "+JSON.stringify(s)}catch{i+=" CONTEXT: "+s}throw md(i),new Error(i)}function Br(r,t,s,i){let l="Unexpected state";typeof s=="string"?l=s:i=s,r||U3(t,l,i)}function zt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends rc{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(co.UNAUTHENTICATED))}shutdown(){}}class fJ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class gJ{constructor(t){this.t=t,this.currentUser=co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){Br(this.o===void 0,42304);let i=this.i;const l=b=>this.i!==i?(i=this.i,s(b)):Promise.resolve();let h=new od;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new od,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const b=h;t.enqueueRetryable(async()=>{await b.promise,await l(this.currentUser)})},g=b=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(b=>g(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new od)}},0),m()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(i=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Br(typeof i.accessToken=="string",31837,{l:i}),new G3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Br(t===null||typeof t=="string",2055,{h:t}),new co(t)}}class bJ{constructor(t,s,i){this.P=t,this.T=s,this.I=i,this.type="FirstParty",this.user=co.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yJ{constructor(t,s,i){this.P=t,this.T=s,this.I=i}getToken(){return Promise.resolve(new bJ(this.P,this.T,this.I))}start(t,s){t.enqueueRetryable(()=>s(co.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xJ{constructor(t,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,s){Br(this.o===void 0,3512);const i=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>i(h))};const l=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z5(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(Br(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new z5(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let i=0;i<r;i++)s[i]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=vJ(40);for(let h=0;h<l.length;++h)i.length<20&&l[h]<s&&(i+=t.charAt(l[h]%62))}return i}}function Zt(r,t){return r<t?-1:r>t?1:0}function OA(r,t){let s=0;for(;s<r.length&&s<t.length;){const i=r.codePointAt(s),l=t.codePointAt(s);if(i!==l){if(i<128&&l<128)return Zt(i,l);{const h=H3(),m=wJ(h.encode(F5(r,s)),h.encode(F5(t,s)));return m!==0?m:Zt(i,l)}}s+=i>65535?2:1}return Zt(r.length,t.length)}function F5(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function wJ(r,t){for(let s=0;s<r.length&&s<t.length;++s)if(r[s]!==t[s])return Zt(r[s],t[s]);return Zt(r.length,t.length)}function Uf(r,t,s){return r.length===t.length&&r.every((i,l)=>s(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=-62135596800,U5=1e6;class bs{static now(){return bs.fromMillis(Date.now())}static fromDate(t){return bs.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),i=Math.floor((t-1e3*s)*U5);return new bs(s,i)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new ut(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ut(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<V5)throw new ut(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U5}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-V5;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new bs(0,0))}static max(){return new Ot(new bs(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="__name__";class Gl{constructor(t,s,i){s===void 0?s=0:s>t.length&&Nt(637,{offset:s,range:t.length}),i===void 0?i=t.length-s:i>t.length-s&&Nt(1746,{length:i,range:t.length-s}),this.segments=t,this.offset=s,this.len=i}get length(){return this.len}isEqual(t){return Gl.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Gl?t.forEach(i=>{s.push(i)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,i=this.limit();s<i;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const i=Math.min(t.length,s.length);for(let l=0;l<i;l++){const h=Gl.compareSegments(t.get(l),s.get(l));if(h!==0)return h}return Zt(t.length,s.length)}static compareSegments(t,s){const i=Gl.isNumericId(t),l=Gl.isNumericId(s);return i&&!l?-1:!i&&l?1:i&&l?Gl.extractNumericId(t).compare(Gl.extractNumericId(s)):OA(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ru.fromString(t.substring(4,t.length-2))}}class tn extends Gl{construct(t,s,i){return new tn(t,s,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(We.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);s.push(...i.split("/").filter(l=>l.length>0))}return new tn(s)}static emptyPath(){return new tn([])}}const kJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ws extends Gl{construct(t,s,i){return new Ws(t,s,i)}static isValidIdentifier(t){return kJ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ws.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G5}static keyField(){return new Ws([G5])}static fromServerFormat(t){const s=[];let i="",l=0;const h=()=>{if(i.length===0)throw new ut(We.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(i),i=""};let m=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(We.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[l+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new ut(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=b,l+=2}else g==="`"?(m=!m,l++):g!=="."||m?(i+=g,l++):(h(),l++)}if(h(),m)throw new ut(We.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ws(s)}static emptyPath(){return new Ws([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(tn.fromString(t))}static fromName(t){return new bt(tn.fromString(t).popFirst(5))}static empty(){return new bt(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&tn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return tn.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new tn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function CJ(r,t){const s=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=Ot.fromTimestamp(i===1e9?new bs(s+1,0):new bs(s,i));return new Lu(l,bt.empty(),t)}function _J(r){return new Lu(r.readTime,r.key,Xy)}class Lu{constructor(t,s,i){this.readTime=t,this.documentKey=s,this.largestBatchId=i}static min(){return new Lu(Ot.min(),bt.empty(),Xy)}static max(){return new Lu(Ot.max(),bt.empty(),Xy)}}function AJ(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=bt.comparator(r.documentKey,t.documentKey),s!==0?s:Zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(r){if(r.code!==We.FAILED_PRECONDITION||r.message!==NJ)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new Ke((i,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(i,l)},this.catchCallback=h=>{this.wrapFailure(s,h).next(i,l)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof Ke?s:Ke.resolve(s)}catch(s){return Ke.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):Ke.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):Ke.reject(s)}static resolve(t){return new Ke((s,i)=>{s(t)})}static reject(t){return new Ke((s,i)=>{i(t)})}static waitFor(t){return new Ke((s,i)=>{let l=0,h=0,m=!1;t.forEach(g=>{++l,g.next(()=>{++h,m&&h===l&&s()},b=>i(b))}),m=!0,h===l&&s()})}static or(t){let s=Ke.resolve(!1);for(const i of t)s=s.next(l=>l?Ke.resolve(l):i());return s}static forEach(t,s){const i=[];return t.forEach((l,h)=>{i.push(s.call(this,l,h))}),this.waitFor(i)}static mapArray(t,s){return new Ke((i,l)=>{const h=t.length,m=new Array(h);let g=0;for(let b=0;b<h;b++){const v=b;s(t[v]).next(k=>{m[v]=k,++g,g===h&&i(m)},k=>l(k))}})}static doWhile(t,s){return new Ke((i,l)=>{const h=()=>{t()===!0?s().next(()=>{h()},l):i()};h()})}}function SJ(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function og(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>s.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}t1.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=-1;function r1(r){return r==null}function mk(r){return r===0&&1/r==-1/0}function EJ(r){return typeof r=="number"&&Number.isInteger(r)&&!mk(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="";function DJ(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=H5(t)),t=MJ(r.get(s),t);return H5(t)}function MJ(r,t){let s=t;const i=r.length;for(let l=0;l<i;l++){const h=r.charAt(l);switch(h){case"\0":s+="";break;case Y3:s+="";break;default:s+=h}}return s}function H5(r){return r+Y3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function Xu(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function W3(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t,s){this.comparator=t,this.root=s||Ys.EMPTY}insert(t,s){return new Cn(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(t){return new Cn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}indexOf(t){let s=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return s+i.left.size;l<0?i=i.left:(s+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,i)=>(t(s,i),!1))}toString(){const t=[];return this.inorderTraversal((s,i)=>(t.push(`${s}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mw(this.root,t,this.comparator,!1)}getReverseIterator(){return new mw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mw(this.root,t,this.comparator,!0)}}class mw{constructor(t,s,i,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=s?i(t.key,s):1,s&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ys{constructor(t,s,i,l,h){this.key=t,this.value=s,this.color=i??Ys.RED,this.left=l??Ys.EMPTY,this.right=h??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,i,l,h){return new Ys(t??this.key,s??this.value,i??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,i){let l=this;const h=i(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,s,i),null):h===0?l.copy(null,s,null,null,null):l.copy(null,null,null,null,l.right.insert(t,s,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let i,l=this;if(s(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,s),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),s(t,l.key)===0){if(l.right.isEmpty())return Ys.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,s))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1;Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,s,i,l,h){return this}insert(t,s,i){return new Ys(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.comparator=t,this.data=new Cn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,i)=>(t(s),!1))}forEachInRange(t,s){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;s(l.key)}}forEachWhile(t,s){let i;for(i=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new Y5(this.data.getIterator())}getIteratorFrom(t){return new Y5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(i=>{s=s.add(i)}),s}isEqual(t){if(!(t instanceof ys)||this.size!==t.size)return!1;const s=this.data.getIterator(),i=t.data.getIterator();for(;s.hasNext();){const l=s.getNext().key,h=i.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new ys(this.comparator);return s.data=t,s}}class Y5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.fields=t,t.sort(Ws.comparator)}static empty(){return new Ni([])}unionWith(t){let s=new ys(Ws.comparator);for(const i of this.fields)s=s.add(i);for(const i of t)s=s.add(i);return new Ni(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Uf(this.fields,t.fields,(s,i)=>s.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.binaryString=t}static fromBase64String(t){const s=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new K3("Invalid base64 string: "+h):h}}(t);return new Ks(s)}static fromUint8Array(t){const s=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(t);return new Ks(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const i=new Uint8Array(s.length);for(let l=0;l<s.length;l++)i[l]=s.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ks.EMPTY_BYTE_STRING=new Ks("");const TJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zu(r){if(Br(!!r,39018),typeof r=="string"){let t=0;const s=TJ.exec(r);if(Br(!!s,46558,{timestamp:r}),s[1]){let l=s[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gn(r.seconds),nanos:Gn(r.nanos)}}function Gn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fu(r){return typeof r=="string"?Ks.fromBase64String(r):Ks.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="server_timestamp",J3="__type__",X3="__previous_value__",$3="__local_write_time__";function iN(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[J3])===null||s===void 0?void 0:s.stringValue)===Q3}function n1(r){const t=r.mapValue.fields[X3];return iN(t)?n1(t):t}function $y(r){const t=zu(r.mapValue.fields[$3].timestampValue);return new bs(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(t,s,i,l,h,m,g,b,v,k){this.databaseId=t,this.appId=s,this.persistenceKey=i,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=g,this.longPollingOptions=b,this.useFetchStreams=v,this.isUsingEmulator=k}}const pk="(default)";class Zy{constructor(t,s){this.projectId=t,this.database=s||pk}static empty(){return new Zy("","")}get isDefaultDatabase(){return this.database===pk}isEqual(t){return t instanceof Zy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="__type__",RJ="__max__",pw={mapValue:{}},eO="__vector__",fk="value";function Vu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?iN(r)?4:OJ(r)?9007199254740991:PJ(r)?10:11:Nt(28295,{value:r})}function $l(r,t){if(r===t)return!0;const s=Vu(r);if(s!==Vu(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return $y(r).isEqual($y(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=zu(l.timestampValue),g=zu(h.timestampValue);return m.seconds===g.seconds&&m.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,h){return Fu(l.bytesValue).isEqual(Fu(h.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,h){return Gn(l.geoPointValue.latitude)===Gn(h.geoPointValue.latitude)&&Gn(l.geoPointValue.longitude)===Gn(h.geoPointValue.longitude)}(r,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Gn(l.integerValue)===Gn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=Gn(l.doubleValue),g=Gn(h.doubleValue);return m===g?mk(m)===mk(g):isNaN(m)&&isNaN(g)}return!1}(r,t);case 9:return Uf(r.arrayValue.values||[],t.arrayValue.values||[],$l);case 10:case 11:return function(l,h){const m=l.mapValue.fields||{},g=h.mapValue.fields||{};if(q5(m)!==q5(g))return!1;for(const b in m)if(m.hasOwnProperty(b)&&(g[b]===void 0||!$l(m[b],g[b])))return!1;return!0}(r,t);default:return Nt(52216,{left:r})}}function ex(r,t){return(r.values||[]).find(s=>$l(s,t))!==void 0}function Gf(r,t){if(r===t)return 0;const s=Vu(r),i=Vu(t);if(s!==i)return Zt(s,i);switch(s){case 0:case 9007199254740991:return 0;case 1:return Zt(r.booleanValue,t.booleanValue);case 2:return function(h,m){const g=Gn(h.integerValue||h.doubleValue),b=Gn(m.integerValue||m.doubleValue);return g<b?-1:g>b?1:g===b?0:isNaN(g)?isNaN(b)?0:-1:1}(r,t);case 3:return W5(r.timestampValue,t.timestampValue);case 4:return W5($y(r),$y(t));case 5:return OA(r.stringValue,t.stringValue);case 6:return function(h,m){const g=Fu(h),b=Fu(m);return g.compareTo(b)}(r.bytesValue,t.bytesValue);case 7:return function(h,m){const g=h.split("/"),b=m.split("/");for(let v=0;v<g.length&&v<b.length;v++){const k=Zt(g[v],b[v]);if(k!==0)return k}return Zt(g.length,b.length)}(r.referenceValue,t.referenceValue);case 8:return function(h,m){const g=Zt(Gn(h.latitude),Gn(m.latitude));return g!==0?g:Zt(Gn(h.longitude),Gn(m.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return K5(r.arrayValue,t.arrayValue);case 10:return function(h,m){var g,b,v,k;const C=h.fields||{},_=m.fields||{},S=(g=C[fk])===null||g===void 0?void 0:g.arrayValue,T=(b=_[fk])===null||b===void 0?void 0:b.arrayValue,R=Zt(((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0,((k=T==null?void 0:T.values)===null||k===void 0?void 0:k.length)||0);return R!==0?R:K5(S,T)}(r.mapValue,t.mapValue);case 11:return function(h,m){if(h===pw.mapValue&&m===pw.mapValue)return 0;if(h===pw.mapValue)return 1;if(m===pw.mapValue)return-1;const g=h.fields||{},b=Object.keys(g),v=m.fields||{},k=Object.keys(v);b.sort(),k.sort();for(let C=0;C<b.length&&C<k.length;++C){const _=OA(b[C],k[C]);if(_!==0)return _;const S=Gf(g[b[C]],v[k[C]]);if(S!==0)return S}return Zt(b.length,k.length)}(r.mapValue,t.mapValue);default:throw Nt(23264,{Pe:s})}}function W5(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Zt(r,t);const s=zu(r),i=zu(t),l=Zt(s.seconds,i.seconds);return l!==0?l:Zt(s.nanos,i.nanos)}function K5(r,t){const s=r.values||[],i=t.values||[];for(let l=0;l<s.length&&l<i.length;++l){const h=Gf(s[l],i[l]);if(h)return h}return Zt(s.length,i.length)}function Hf(r){return BA(r)}function BA(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const i=zu(s);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(s){return Fu(s).toBase64()}(r.bytesValue):"referenceValue"in r?function(s){return bt.fromName(s).toString()}(r.referenceValue):"geoPointValue"in r?function(s){return`geo(${s.latitude},${s.longitude})`}(r.geoPointValue):"arrayValue"in r?function(s){let i="[",l=!0;for(const h of s.values||[])l?l=!1:i+=",",i+=BA(h);return i+"]"}(r.arrayValue):"mapValue"in r?function(s){const i=Object.keys(s.fields||{}).sort();let l="{",h=!0;for(const m of i)h?h=!1:l+=",",l+=`${m}:${BA(s.fields[m])}`;return l+"}"}(r.mapValue):Nt(61005,{value:r})}function Fw(r){switch(Vu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=n1(r);return t?16+Fw(t):16;case 5:return 2*r.stringValue.length;case 6:return Fu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,h)=>l+Fw(h),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return Xu(i.fields,(h,m)=>{l+=h.length+Fw(m)}),l}(r.mapValue);default:throw Nt(13486,{value:r})}}function Q5(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function LA(r){return!!r&&"integerValue"in r}function aN(r){return!!r&&"arrayValue"in r}function J5(r){return!!r&&"nullValue"in r}function X5(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vw(r){return!!r&&"mapValue"in r}function PJ(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Z3])===null||s===void 0?void 0:s.stringValue)===eO}function Iy(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Xu(r.mapValue.fields,(s,i)=>t.mapValue.fields[s]=Iy(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=Iy(r.arrayValue.values[s]);return t}return Object.assign({},r)}function OJ(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t){this.value=t}static empty(){return new Jo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let i=0;i<t.length-1;++i)if(s=(s.mapValue.fields||{})[t.get(i)],!Vw(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=Iy(s)}setAll(t){let s=Ws.emptyPath(),i={},l=[];t.forEach((m,g)=>{if(!s.isImmediateParentOf(g)){const b=this.getFieldsMap(s);this.applyChanges(b,i,l),i={},l=[],s=g.popLast()}m?i[g.lastSegment()]=Iy(m):l.push(g.lastSegment())});const h=this.getFieldsMap(s);this.applyChanges(h,i,l)}delete(t){const s=this.field(t.popLast());Vw(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return $l(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=s.mapValue.fields[t.get(i)];Vw(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},s.mapValue.fields[t.get(i)]=l),s=l}return s.mapValue.fields}applyChanges(t,s,i){Xu(s,(l,h)=>t[l]=h);for(const l of i)delete t[l]}clone(){return new Jo(Iy(this.value))}}function tO(r){const t=[];return Xu(r.fields,(s,i)=>{const l=new Ws([s]);if(Vw(i)){const h=tO(i.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)}),new Ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,s,i,l,h,m,g){this.key=t,this.documentType=s,this.version=i,this.readTime=l,this.createTime=h,this.data=m,this.documentState=g}static newInvalidDocument(t){return new uo(t,0,Ot.min(),Ot.min(),Ot.min(),Jo.empty(),0)}static newFoundDocument(t,s,i,l){return new uo(t,1,s,Ot.min(),i,l,0)}static newNoDocument(t,s){return new uo(t,2,s,Ot.min(),Ot.min(),Jo.empty(),0)}static newUnknownDocument(t,s){return new uo(t,3,s,Ot.min(),Ot.min(),Jo.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof uo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new uo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(t,s){this.position=t,this.inclusive=s}}function $5(r,t,s){let i=0;for(let l=0;l<r.position.length;l++){const h=t[l],m=r.position[l];if(h.field.isKeyField()?i=bt.comparator(bt.fromName(m.referenceValue),s.key):i=Gf(m,s.data.field(h.field)),h.dir==="desc"&&(i*=-1),i!==0)break}return i}function Z5(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!$l(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t,s="asc"){this.field=t,this.dir=s}}function BJ(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class ts extends rO{constructor(t,s,i){super(),this.field=t,this.op=s,this.value=i}static create(t,s,i){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,i):new zJ(t,s,i):s==="array-contains"?new UJ(t,i):s==="in"?new GJ(t,i):s==="not-in"?new HJ(t,i):s==="array-contains-any"?new qJ(t,i):new ts(t,s,i)}static createKeyFieldInFilter(t,s,i){return s==="in"?new FJ(t,i):new VJ(t,i)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Gf(s,this.value)):s!==null&&Vu(this.value)===Vu(s)&&this.matchesComparison(Gf(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ja extends rO{constructor(t,s){super(),this.filters=t,this.op=s,this.Te=null}static create(t,s){return new Ja(t,s)}matches(t){return nO(this)?this.filters.find(s=>!s.matches(t))===void 0:this.filters.find(s=>s.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nO(r){return r.op==="and"}function sO(r){return LJ(r)&&nO(r)}function LJ(r){for(const t of r.filters)if(t instanceof Ja)return!1;return!0}function zA(r){if(r instanceof ts)return r.field.canonicalString()+r.op.toString()+Hf(r.value);if(sO(r))return r.filters.map(t=>zA(t)).join(",");{const t=r.filters.map(s=>zA(s)).join(",");return`${r.op}(${t})`}}function oO(r,t){return r instanceof ts?function(i,l){return l instanceof ts&&i.op===l.op&&i.field.isEqual(l.field)&&$l(i.value,l.value)}(r,t):r instanceof Ja?function(i,l){return l instanceof Ja&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((h,m,g)=>h&&oO(m,l.filters[g]),!0):!1}(r,t):void Nt(19439)}function iO(r){return r instanceof ts?function(s){return`${s.field.canonicalString()} ${s.op} ${Hf(s.value)}`}(r):r instanceof Ja?function(s){return s.op.toString()+" {"+s.getFilters().map(iO).join(" ,")+"}"}(r):"Filter"}class zJ extends ts{constructor(t,s,i){super(t,s,i),this.key=bt.fromName(i.referenceValue)}matches(t){const s=bt.comparator(t.key,this.key);return this.matchesComparison(s)}}class FJ extends ts{constructor(t,s){super(t,"in",s),this.keys=aO("in",s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class VJ extends ts{constructor(t,s){super(t,"not-in",s),this.keys=aO("not-in",s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function aO(r,t){var s;return(((s=t.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(i=>bt.fromName(i.referenceValue))}class UJ extends ts{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return aN(s)&&ex(s.arrayValue,this.value)}}class GJ extends ts{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&ex(this.value.arrayValue,s)}}class HJ extends ts{constructor(t,s){super(t,"not-in",s)}matches(t){if(ex(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&s.nullValue===void 0&&!ex(this.value.arrayValue,s)}}class qJ extends ts{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!aN(s)||!s.arrayValue.values)&&s.arrayValue.values.some(i=>ex(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(t,s=null,i=[],l=[],h=null,m=null,g=null){this.path=t,this.collectionGroup=s,this.orderBy=i,this.filters=l,this.limit=h,this.startAt=m,this.endAt=g,this.Ie=null}}function eT(r,t=null,s=[],i=[],l=null,h=null,m=null){return new YJ(r,t,s,i,l,h,m)}function lN(r){const t=zt(r);if(t.Ie===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(i=>zA(i)).join(","),s+="|ob:",s+=t.orderBy.map(i=>function(h){return h.field.canonicalString()+h.dir}(i)).join(","),r1(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>Hf(i)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>Hf(i)).join(",")),t.Ie=s}return t.Ie}function cN(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!BJ(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!oO(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Z5(r.startAt,t.startAt)&&Z5(r.endAt,t.endAt)}function FA(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,s=null,i=[],l=[],h=null,m="F",g=null,b=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=i,this.filters=l,this.limit=h,this.limitType=m,this.startAt=g,this.endAt=b,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WJ(r,t,s,i,l,h,m,g){return new Mx(r,t,s,i,l,h,m,g)}function dN(r){return new Mx(r)}function tT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lO(r){return r.collectionGroup!==null}function Ry(r){const t=zt(r);if(t.Ee===null){t.Ee=[];const s=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),s.add(h.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let g=new ys(Ws.comparator);return m.filters.forEach(b=>{b.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{s.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new bk(h,i))}),s.has(Ws.keyField().canonicalString())||t.Ee.push(new bk(Ws.keyField(),i))}return t.Ee}function Wl(r){const t=zt(r);return t.de||(t.de=KJ(t,Ry(r))),t.de}function KJ(r,t){if(r.limitType==="F")return eT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new bk(l.field,h)});const s=r.endAt?new gk(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new gk(r.startAt.position,r.startAt.inclusive):null;return eT(r.path,r.collectionGroup,t,r.filters,r.limit,s,i)}}function VA(r,t){const s=r.filters.concat([t]);return new Mx(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function yk(r,t,s){return new Mx(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function s1(r,t){return cN(Wl(r),Wl(t))&&r.limitType===t.limitType}function cO(r){return`${lN(Wl(r))}|lt:${r.limitType}`}function jf(r){return`Query(target=${function(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map(l=>iO(l)).join(", ")}]`),r1(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map(l=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(l)).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map(l=>Hf(l)).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map(l=>Hf(l)).join(",")),`Target(${i})`}(Wl(r))}; limitType=${r.limitType})`}function o1(r,t){return t.isFoundDocument()&&function(i,l){const h=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(h):bt.isDocumentKey(i.path)?i.path.isEqual(h):i.path.isImmediateParentOf(h)}(r,t)&&function(i,l){for(const h of Ry(i))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const h of i.filters)if(!h.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(m,g,b){const v=$5(m,g,b);return m.inclusive?v<=0:v<0}(i.startAt,Ry(i),l)||i.endAt&&!function(m,g,b){const v=$5(m,g,b);return m.inclusive?v>=0:v>0}(i.endAt,Ry(i),l))}(r,t)}function QJ(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dO(r){return(t,s)=>{let i=!1;for(const l of Ry(r)){const h=JJ(l,t,s);if(h!==0)return h;i=i||l.field.isKeyField()}return 0}}function JJ(r,t,s){const i=r.field.isKeyField()?bt.comparator(t.key,s.key):function(h,m,g){const b=m.data.field(h),v=g.data.field(h);return b!==null&&v!==null?Gf(b,v):Nt(42886)}(r.field,t,s);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Nt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i!==void 0){for(const[l,h]of i)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,s){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,s]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,s]);l.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[s]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Xu(this.inner,(s,i)=>{for(const[l,h]of i)t(l,h)})}isEmpty(){return W3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=new Cn(bt.comparator);function pd(){return XJ}const uO=new Cn(bt.comparator);function wy(...r){let t=uO;for(const s of r)t=t.insert(s.key,s);return t}function hO(r){let t=uO;return r.forEach((s,i)=>t=t.insert(s,i.overlayedDocument)),t}function Am(){return Py()}function mO(){return Py()}function Py(){return new Qm(r=>r.toString(),(r,t)=>r.isEqual(t))}const $J=new Cn(bt.comparator),ZJ=new ys(bt.comparator);function ur(...r){let t=ZJ;for(const s of r)t=t.add(s);return t}const eX=new ys(Zt);function tX(){return eX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mk(t)?"-0":t}}function pO(r){return{integerValue:""+r}}function rX(r,t){return EJ(t)?pO(t):uN(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this._=void 0}}function nX(r,t,s){return r instanceof xk?function(l,h){const m={fields:{[J3]:{stringValue:Q3},[$3]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&iN(h)&&(h=n1(h)),h&&(m.fields[X3]=h),{mapValue:m}}(s,t):r instanceof tx?gO(r,t):r instanceof rx?bO(r,t):function(l,h){const m=fO(l,h),g=rT(m)+rT(l.Re);return LA(m)&&LA(l.Re)?pO(g):uN(l.serializer,g)}(r,t)}function sX(r,t,s){return r instanceof tx?gO(r,t):r instanceof rx?bO(r,t):s}function fO(r,t){return r instanceof vk?function(i){return LA(i)||function(h){return!!h&&"doubleValue"in h}(i)}(t)?t:{integerValue:0}:null}class xk extends i1{}class tx extends i1{constructor(t){super(),this.elements=t}}function gO(r,t){const s=yO(t);for(const i of r.elements)s.some(l=>$l(l,i))||s.push(i);return{arrayValue:{values:s}}}class rx extends i1{constructor(t){super(),this.elements=t}}function bO(r,t){let s=yO(t);for(const i of r.elements)s=s.filter(l=>!$l(l,i));return{arrayValue:{values:s}}}class vk extends i1{constructor(t,s){super(),this.serializer=t,this.Re=s}}function rT(r){return Gn(r.integerValue||r.doubleValue)}function yO(r){return aN(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function oX(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof tx&&l instanceof tx||i instanceof rx&&l instanceof rx?Uf(i.elements,l.elements,$l):i instanceof vk&&l instanceof vk?$l(i.Re,l.Re):i instanceof xk&&l instanceof xk}(r.transform,t.transform)}class iX{constructor(t,s){this.version=t,this.transformResults=s}}class Zi{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uw(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class a1{}function xO(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new hN(r.key,Zi.none()):new Tx(r.key,r.data,Zi.none());{const s=r.data,i=Jo.empty();let l=new ys(Ws.comparator);for(let h of t.fields)if(!l.has(h)){let m=s.field(h);m===null&&h.length>1&&(h=h.popLast(),m=s.field(h)),m===null?i.delete(h):i.set(h,m),l=l.add(h)}return new $u(r.key,i,new Ni(l.toArray()),Zi.none())}}function aX(r,t,s){r instanceof Tx?function(l,h,m){const g=l.value.clone(),b=sT(l.fieldTransforms,h,m.transformResults);g.setAll(b),h.convertToFoundDocument(m.version,g).setHasCommittedMutations()}(r,t,s):r instanceof $u?function(l,h,m){if(!Uw(l.precondition,h))return void h.convertToUnknownDocument(m.version);const g=sT(l.fieldTransforms,h,m.transformResults),b=h.data;b.setAll(vO(l)),b.setAll(g),h.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(r,t,s):function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,s)}function Oy(r,t,s,i){return r instanceof Tx?function(h,m,g,b){if(!Uw(h.precondition,m))return g;const v=h.value.clone(),k=oT(h.fieldTransforms,b,m);return v.setAll(k),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),null}(r,t,s,i):r instanceof $u?function(h,m,g,b){if(!Uw(h.precondition,m))return g;const v=oT(h.fieldTransforms,b,m),k=m.data;return k.setAll(vO(h)),k.setAll(v),m.convertToFoundDocument(m.version,k).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(r,t,s,i):function(h,m,g){return Uw(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):g}(r,t,s)}function lX(r,t){let s=null;for(const i of r.fieldTransforms){const l=t.data.field(i.field),h=fO(i.transform,l||null);h!=null&&(s===null&&(s=Jo.empty()),s.set(i.field,h))}return s||null}function nT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Uf(i,l,(h,m)=>oX(h,m))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Tx extends a1{constructor(t,s,i,l=[]){super(),this.key=t,this.value=s,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $u extends a1{constructor(t,s,i,l,h=[]){super(),this.key=t,this.data=s,this.fieldMask=i,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function vO(r){const t=new Map;return r.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const i=r.data.field(s);t.set(s,i)}}),t}function sT(r,t,s){const i=new Map;Br(r.length===s.length,32656,{Ve:s.length,me:r.length});for(let l=0;l<s.length;l++){const h=r[l],m=h.transform,g=t.data.field(h.field);i.set(h.field,sX(m,g,s[l]))}return i}function oT(r,t,s){const i=new Map;for(const l of r){const h=l.transform,m=s.data.field(l.field);i.set(l.field,nX(h,m,t))}return i}class hN extends a1{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cX extends a1{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(t,s,i,l){this.batchId=t,this.localWriteTime=s,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,s){const i=s.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&aX(h,t,i[l])}}applyToLocalView(t,s){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(s=Oy(i,t,s,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(s=Oy(i,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const i=mO();return this.mutations.forEach(l=>{const h=t.get(l.key),m=h.overlayedDocument;let g=this.applyToLocalView(m,h.mutatedFields);g=s.has(l.key)?null:g;const b=xO(m,g);b!==null&&i.set(l.key,b),m.isValidDocument()||m.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),ur())}isEqual(t){return this.batchId===t.batchId&&Uf(this.mutations,t.mutations,(s,i)=>nT(s,i))&&Uf(this.baseMutations,t.baseMutations,(s,i)=>nT(s,i))}}class mN{constructor(t,s,i,l){this.batch=t,this.commitVersion=s,this.mutationResults=i,this.docVersions=l}static from(t,s,i){Br(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let l=function(){return $J}();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,i[m].version);return new mN(t,s,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,gr;function mX(r){switch(r){case We.OK:return Nt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Nt(15467,{code:r})}}function wO(r){if(r===void 0)return md("GRPC error has no .code"),We.UNKNOWN;switch(r){case Zn.OK:return We.OK;case Zn.CANCELLED:return We.CANCELLED;case Zn.UNKNOWN:return We.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return We.INTERNAL;case Zn.UNAVAILABLE:return We.UNAVAILABLE;case Zn.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Zn.NOT_FOUND:return We.NOT_FOUND;case Zn.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Zn.ABORTED:return We.ABORTED;case Zn.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Zn.DATA_LOSS:return We.DATA_LOSS;default:return Nt(39323,{code:r})}}(gr=Zn||(Zn={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=new Ru([4294967295,4294967295],0);function iT(r){const t=H3().encode(r),s=new O3;return s.update(t),new Uint8Array(s.digest())}function aT(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ru([s,i],0),new Ru([l,h],0)]}class pN{constructor(t,s,i){if(this.bitmap=t,this.padding=s,this.hashCount=i,s<0||s>=8)throw new ky(`Invalid padding: ${s}`);if(i<0)throw new ky(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ky(`Invalid hash count: ${i}`);if(t.length===0&&s!==0)throw new ky(`Invalid padding when bitmap length is 0: ${s}`);this.pe=8*t.length-s,this.ye=Ru.fromNumber(this.pe)}we(t,s,i){let l=t.add(s.multiply(Ru.fromNumber(i)));return l.compare(pX)===1&&(l=new Ru([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const s=iT(t),[i,l]=aT(s);for(let h=0;h<this.hashCount;h++){const m=this.we(i,l,h);if(!this.be(m))return!1}return!0}static create(t,s,i){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new pN(h,l,s);return i.forEach(g=>m.insert(g)),m}insert(t){if(this.pe===0)return;const s=iT(t),[i,l]=aT(s);for(let h=0;h<this.hashCount;h++){const m=this.we(i,l,h);this.Se(m)}}Se(t){const s=Math.floor(t/8),i=t%8;this.bitmap[s]|=1<<i}}class ky extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,s,i,l,h){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,s,i){const l=new Map;return l.set(t,Ix.createSynthesizedTargetChangeForCurrentChange(t,s,i)),new l1(Ot.min(),l,new Cn(Zt),pd(),ur())}}class Ix{constructor(t,s,i,l,h){this.resumeToken=t,this.current=s,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,s,i){return new Ix(i,s,ur(),ur(),ur())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,s,i,l){this.De=t,this.removedTargetIds=s,this.key=i,this.ve=l}}class kO{constructor(t,s){this.targetId=t,this.Ce=s}}class CO{constructor(t,s,i=Ks.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=s,this.resumeToken=i,this.cause=l}}class lT{constructor(){this.Fe=0,this.Me=cT(),this.xe=Ks.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ur(),s=ur(),i=ur();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:s=s.add(l);break;case 1:i=i.add(l);break;default:Nt(38017,{changeType:h})}}),new Ix(this.xe,this.Oe,t,s,i)}Qe(){this.Ne=!1,this.Me=cT()}$e(t,s){this.Ne=!0,this.Me=this.Me.insert(t,s)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Br(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fX{constructor(t){this.ze=t,this.je=new Map,this.He=pd(),this.Je=fw(),this.Ye=fw(),this.Ze=new Cn(Zt)}Xe(t){for(const s of t.De)t.ve&&t.ve.isFoundDocument()?this.et(s,t.ve):this.tt(s,t.key,t.ve);for(const s of t.removedTargetIds)this.tt(s,t.key,t.ve)}nt(t){this.forEachTarget(t,s=>{const i=this.rt(s);switch(t.state){case 0:this.it(s)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(s);break;case 3:this.it(s)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(s)&&(this.st(s),i.ke(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.je.forEach((i,l)=>{this.it(l)&&s(l)})}ot(t){const s=t.targetId,i=t.Ce.count,l=this._t(s);if(l){const h=l.target;if(FA(h))if(i===0){const m=new bt(h.path);this.tt(s,m,uo.newNoDocument(m,Ot.min()))}else Br(i===1,20013,{expectedCount:i});else{const m=this.ut(s);if(m!==i){const g=this.ct(t),b=g?this.lt(g,t,m):1;if(b!==0){this.st(s);const v=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,v)}}}}}ct(t){const s=t.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:h=0}=s;let m,g;try{m=Fu(i).toUint8Array()}catch(b){if(b instanceof K3)return Vf("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{g=new pN(m,l,h)}catch(b){return Vf(b instanceof ky?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return g.pe===0?null:g}lt(t,s,i){return s.Ce.count===i-this.Tt(t,s.targetId)?0:2}Tt(t,s){const i=this.ze.getRemoteKeysForTarget(s);let l=0;return i.forEach(h=>{const m=this.ze.Pt(),g=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.tt(s,h,null),l++)}),l}It(t){const s=new Map;this.je.forEach((h,m)=>{const g=this._t(m);if(g){if(h.current&&FA(g.target)){const b=new bt(g.target.path);this.Et(b).has(m)||this.dt(m,b)||this.tt(m,b,uo.newNoDocument(b,t))}h.Le&&(s.set(m,h.qe()),h.Qe())}});let i=ur();this.Ye.forEach((h,m)=>{let g=!0;m.forEachWhile(b=>{const v=this._t(b);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(i=i.add(h))}),this.He.forEach((h,m)=>m.setReadTime(t));const l=new l1(t,s,this.Ze,this.He,i);return this.He=pd(),this.Je=fw(),this.Ye=fw(),this.Ze=new Cn(Zt),l}et(t,s){if(!this.it(t))return;const i=this.dt(t,s.key)?2:0;this.rt(t).$e(s.key,i),this.He=this.He.insert(s.key,s),this.Je=this.Je.insert(s.key,this.Et(s.key).add(t)),this.Ye=this.Ye.insert(s.key,this.At(s.key).add(t))}tt(t,s,i){if(!this.it(t))return;const l=this.rt(t);this.dt(t,s)?l.$e(s,1):l.Ue(s),this.Ye=this.Ye.insert(s,this.At(s).delete(t)),this.Ye=this.Ye.insert(s,this.At(s).add(t)),i&&(this.He=this.He.insert(s,i))}removeTarget(t){this.je.delete(t)}ut(t){const s=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let s=this.je.get(t);return s||(s=new lT,this.je.set(t,s)),s}At(t){let s=this.Ye.get(t);return s||(s=new ys(Zt),this.Ye=this.Ye.insert(t,s)),s}Et(t){let s=this.Je.get(t);return s||(s=new ys(Zt),this.Je=this.Je.insert(t,s)),s}it(t){const s=this._t(t)!==null;return s||ct("WatchChangeAggregator","Detected inactive target",t),s}_t(t){const s=this.je.get(t);return s&&s.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new lT),this.ze.getRemoteKeysForTarget(t).forEach(s=>{this.tt(t,s,null)})}dt(t,s){return this.ze.getRemoteKeysForTarget(t).has(s)}}function fw(){return new Cn(bt.comparator)}function cT(){return new Cn(bt.comparator)}const gX={asc:"ASCENDING",desc:"DESCENDING"},bX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yX={and:"AND",or:"OR"};class xX{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function UA(r,t){return r.useProto3Json||r1(t)?t:{value:t}}function wk(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _O(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vX(r,t){return wk(r,t.toTimestamp())}function Kl(r){return Br(!!r,49232),Ot.fromTimestamp(function(s){const i=zu(s);return new bs(i.seconds,i.nanos)}(r))}function fN(r,t){return GA(r,t).canonicalString()}function GA(r,t){const s=function(l){return new tn(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?s:s.child(t)}function AO(r){const t=tn.fromString(r);return Br(DO(t),10190,{key:t.toString()}),t}function HA(r,t){return fN(r.databaseId,t.path)}function M_(r,t){const s=AO(t);if(s.get(1)!==r.databaseId.projectId)throw new ut(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new ut(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new bt(jO(s))}function NO(r,t){return fN(r.databaseId,t)}function wX(r){const t=AO(r);return t.length===4?tn.emptyPath():jO(t)}function qA(r){return new tn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jO(r){return Br(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dT(r,t,s){return{name:HA(r,t),fields:s.value.mapValue.fields}}function kX(r,t){let s;if("targetChange"in t){t.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Nt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,k){return v.useProto3Json?(Br(k===void 0||typeof k=="string",58123),Ks.fromBase64String(k||"")):(Br(k===void 0||k instanceof Buffer||k instanceof Uint8Array,16193),Ks.fromUint8Array(k||new Uint8Array))}(r,t.targetChange.resumeToken),m=t.targetChange.cause,g=m&&function(v){const k=v.code===void 0?We.UNKNOWN:wO(v.code);return new ut(k,v.message||"")}(m);s=new CO(i,l,h,g||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=M_(r,i.document.name),h=Kl(i.document.updateTime),m=i.document.createTime?Kl(i.document.createTime):Ot.min(),g=new Jo({mapValue:{fields:i.document.fields}}),b=uo.newFoundDocument(l,h,m,g),v=i.targetIds||[],k=i.removedTargetIds||[];s=new Gw(v,k,b.key,b)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=M_(r,i.document),h=i.readTime?Kl(i.readTime):Ot.min(),m=uo.newNoDocument(l,h),g=i.removedTargetIds||[];s=new Gw([],g,m.key,m)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=M_(r,i.document),h=i.removedTargetIds||[];s=new Gw([],h,l,null)}else{if(!("filter"in t))return Nt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:h}=i,m=new hX(l,h),g=i.targetId;s=new kO(g,m)}}return s}function CX(r,t){let s;if(t instanceof Tx)s={update:dT(r,t.key,t.value)};else if(t instanceof hN)s={delete:HA(r,t.key)};else if(t instanceof $u)s={update:dT(r,t.key,t.data),updateMask:TX(t.fieldMask)};else{if(!(t instanceof cX))return Nt(16599,{ft:t.type});s={verify:HA(r,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(i=>function(h,m){const g=m.transform;if(g instanceof xk)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tx)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof rx)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof vk)return{fieldPath:m.field.canonicalString(),increment:g.Re};throw Nt(20930,{transform:m.transform})}(0,i))),t.precondition.isNone||(s.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:vX(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Nt(27497)}(r,t.precondition)),s}function _X(r,t){return r&&r.length>0?(Br(t!==void 0,14353),r.map(s=>function(l,h){let m=l.updateTime?Kl(l.updateTime):Kl(h);return m.isEqual(Ot.min())&&(m=Kl(h)),new iX(m,l.transformResults||[])}(s,t))):[]}function AX(r,t){return{documents:[NO(r,t.path)]}}function NX(r,t){const s={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),s.structuredQuery.from=[{collectionId:i.lastSegment()}]),s.parent=NO(r,l);const h=function(v){if(v.length!==0)return EO(Ja.create(v,"and"))}(t.filters);h&&(s.structuredQuery.where=h);const m=function(v){if(v.length!==0)return v.map(k=>function(_){return{field:Sf(_.field),direction:EX(_.dir)}}(k))}(t.orderBy);m&&(s.structuredQuery.orderBy=m);const g=UA(r,t.limit);return g!==null&&(s.structuredQuery.limit=g),t.startAt&&(s.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(s.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:s,parent:l}}function jX(r){let t=wX(r.parent);const s=r.structuredQuery,i=s.from?s.from.length:0;let l=null;if(i>0){Br(i===1,65062);const k=s.from[0];k.allDescendants?l=k.collectionId:t=t.child(k.collectionId)}let h=[];s.where&&(h=function(C){const _=SO(C);return _ instanceof Ja&&sO(_)?_.getFilters():[_]}(s.where));let m=[];s.orderBy&&(m=function(C){return C.map(_=>function(T){return new bk(Ef(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(s.orderBy));let g=null;s.limit&&(g=function(C){let _;return _=typeof C=="object"?C.value:C,r1(_)?null:_}(s.limit));let b=null;s.startAt&&(b=function(C){const _=!!C.before,S=C.values||[];return new gk(S,_)}(s.startAt));let v=null;return s.endAt&&(v=function(C){const _=!C.before,S=C.values||[];return new gk(S,_)}(s.endAt)),WJ(t,l,m,h,g,"F",b,v)}function SX(r,t){const s=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:l})}}(t.purpose);return s==null?null:{"goog-listen-tags":s}}function SO(r){return r.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const i=Ef(s.unaryFilter.field);return ts.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=Ef(s.unaryFilter.field);return ts.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ef(s.unaryFilter.field);return ts.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ef(s.unaryFilter.field);return ts.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(r):r.fieldFilter!==void 0?function(s){return ts.create(Ef(s.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(s){return Ja.create(s.compositeFilter.filters.map(i=>SO(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(s.compositeFilter.op))}(r):Nt(30097,{filter:r})}function EX(r){return gX[r]}function DX(r){return bX[r]}function MX(r){return yX[r]}function Sf(r){return{fieldPath:r.canonicalString()}}function Ef(r){return Ws.fromServerFormat(r.fieldPath)}function EO(r){return r instanceof ts?function(s){if(s.op==="=="){if(X5(s.value))return{unaryFilter:{field:Sf(s.field),op:"IS_NAN"}};if(J5(s.value))return{unaryFilter:{field:Sf(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(X5(s.value))return{unaryFilter:{field:Sf(s.field),op:"IS_NOT_NAN"}};if(J5(s.value))return{unaryFilter:{field:Sf(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sf(s.field),op:DX(s.op),value:s.value}}}(r):r instanceof Ja?function(s){const i=s.getFilters().map(l=>EO(l));return i.length===1?i[0]:{compositeFilter:{op:MX(s.op),filters:i}}}(r):Nt(54877,{filter:r})}function TX(r){const t=[];return r.fields.forEach(s=>t.push(s.canonicalString())),{fieldPaths:t}}function DO(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,s,i,l,h=Ot.min(),m=Ot.min(),g=Ks.EMPTY_BYTE_STRING,b=null){this.target=t,this.targetId=s,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=g,this.expectedCount=b}withSequenceNumber(t){return new Mu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(t){this.wt=t}}function RX(r){const t=jX({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yk(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(){this.Cn=new OX}addToCollectionParentIndex(t,s){return this.Cn.add(s),Ke.resolve()}getCollectionParents(t,s){return Ke.resolve(this.Cn.getEntries(s))}addFieldIndex(t,s){return Ke.resolve()}deleteFieldIndex(t,s){return Ke.resolve()}deleteAllFieldIndexes(t){return Ke.resolve()}createTargetIndexes(t,s){return Ke.resolve()}getDocumentsMatchingTarget(t,s){return Ke.resolve(null)}getIndexType(t,s){return Ke.resolve(0)}getFieldIndexes(t,s){return Ke.resolve([])}getNextCollectionGroupToUpdate(t){return Ke.resolve(null)}getMinOffset(t,s){return Ke.resolve(Lu.min())}getMinOffsetFromCollectionGroup(t,s){return Ke.resolve(Lu.min())}updateCollectionGroup(t,s,i){return Ke.resolve()}updateIndexEntries(t,s){return Ke.resolve()}}class OX{constructor(){this.index={}}add(t){const s=t.lastSegment(),i=t.popLast(),l=this.index[s]||new ys(tn.comparator),h=!l.has(i);return this.index[s]=l.add(i),h}has(t){const s=t.lastSegment(),i=t.popLast(),l=this.index[s];return l&&l.has(i)}getEntries(t){return(this.index[t]||new ys(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MO=41943040;class Wo{static withCacheSize(t){return new Wo(t,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(MO,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new qf(0)}static lr(){return new qf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",BX=1048576;function mT([r,t],[s,i]){const l=Zt(r,s);return l===0?Zt(t,i):l}class LX{constructor(t){this.Er=t,this.buffer=new ys(mT),this.dr=0}Ar(){return++this.dr}Rr(t){const s=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(s);else{const i=this.buffer.last();mT(s,i)<0&&(this.buffer=this.buffer.delete(i).add(s))}}get maxValue(){return this.buffer.last()[0]}}class zX{constructor(t,s,i){this.garbageCollector=t,this.asyncQueue=s,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ct(hT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){og(s)?ct(hT,"Ignoring IndexedDB error during garbage collection: ",s):await sg(s)}await this.mr(3e5)})}}class FX{constructor(t,s){this.gr=t,this.params=s}calculateTargetCount(t,s){return this.gr.pr(t).next(i=>Math.floor(s/100*i))}nthSequenceNumber(t,s){if(s===0)return Ke.resolve(t1.le);const i=new LX(s);return this.gr.forEachTarget(t,l=>i.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>i.Rr(l))).next(()=>i.maxValue)}removeTargets(t,s,i){return this.gr.removeTargets(t,s,i)}removeOrphanedDocuments(t,s){return this.gr.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(uT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.wr(t,s))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,s){let i,l,h,m,g,b,v;const k=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(i=C,g=Date.now(),this.removeTargets(t,i,s))).next(C=>(h=C,b=Date.now(),this.removeOrphanedDocuments(t,i))).next(C=>(v=Date.now(),Nf()<=dr.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-k}ms
	Determined least recently used ${l} in `+(g-m)+`ms
	Removed ${h} targets in `+(b-g)+`ms
	Removed ${C} documents in `+(v-b)+`ms
Total Duration: ${v-k}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C})))}}function VX(r,t){return new FX(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(){this.changes=new Qm(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,uo.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const i=this.changes.get(s);return i!==void 0?Ke.resolve(i):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(t,s,i,l){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,s){let i=null;return this.documentOverlayCache.getOverlay(t,s).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,s))).next(l=>(i!==null&&Oy(i.mutation,l,Ni.empty(),bs.now()),l))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(i=>this.getLocalViewOfDocuments(t,i,ur()).next(()=>i))}getLocalViewOfDocuments(t,s,i=ur()){const l=Am();return this.populateOverlays(t,l,s).next(()=>this.computeViews(t,s,l,i).next(h=>{let m=wy();return h.forEach((g,b)=>{m=m.insert(g,b.overlayedDocument)}),m}))}getOverlayedDocuments(t,s){const i=Am();return this.populateOverlays(t,i,s).next(()=>this.computeViews(t,s,i,ur()))}populateOverlays(t,s,i){const l=[];return i.forEach(h=>{s.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((m,g)=>{s.set(m,g)})})}computeViews(t,s,i,l){let h=pd();const m=Py(),g=function(){return Py()}();return s.forEach((b,v)=>{const k=i.get(v.key);l.has(v.key)&&(k===void 0||k.mutation instanceof $u)?h=h.insert(v.key,v):k!==void 0?(m.set(v.key,k.mutation.getFieldMask()),Oy(k.mutation,v,k.mutation.getFieldMask(),bs.now())):m.set(v.key,Ni.empty())}),this.recalculateAndSaveOverlays(t,h).next(b=>(b.forEach((v,k)=>m.set(v,k)),s.forEach((v,k)=>{var C;return g.set(v,new GX(k,(C=m.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,s){const i=Py();let l=new Cn((m,g)=>m-g),h=ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(m=>{for(const g of m)g.keys().forEach(b=>{const v=s.get(b);if(v===null)return;let k=i.get(b)||Ni.empty();k=g.applyToLocalView(v,k),i.set(b,k);const C=(l.get(g.batchId)||ur()).add(b);l=l.insert(g.batchId,C)})}).next(()=>{const m=[],g=l.getReverseIterator();for(;g.hasNext();){const b=g.getNext(),v=b.key,k=b.value,C=mO();k.forEach(_=>{if(!h.has(_)){const S=xO(s.get(_),i.get(_));S!==null&&C.set(_,S),h=h.add(_)}}),m.push(this.documentOverlayCache.saveOverlays(t,v,C))}return Ke.waitFor(m)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,s,i,l){return function(m){return bt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):lO(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,i,l):this.getDocumentsMatchingCollectionQuery(t,s,i,l)}getNextDocuments(t,s,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,i,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,i.largestBatchId,l-h.size):Ke.resolve(Am());let g=Xy,b=h;return m.next(v=>Ke.forEach(v,(k,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(k)?Ke.resolve():this.remoteDocumentCache.getEntry(t,k).next(_=>{b=b.insert(k,_)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,b,v,ur())).next(k=>({batchId:g,changes:hO(k)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new bt(s)).next(i=>{let l=wy();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,s,i,l){const h=s.collectionGroup;let m=wy();return this.indexManager.getCollectionParents(t,h).next(g=>Ke.forEach(g,b=>{const v=function(C,_){return new Mx(_,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(s,b.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,i,l).next(k=>{k.forEach((C,_)=>{m=m.insert(C,_)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,s,i,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,i.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,i,h,l))).next(m=>{h.forEach((b,v)=>{const k=v.getKey();m.get(k)===null&&(m=m.insert(k,uo.newInvalidDocument(k)))});let g=wy();return m.forEach((b,v)=>{const k=h.get(b);k!==void 0&&Oy(k.mutation,v,Ni.empty(),bs.now()),o1(s,v)&&(g=g.insert(b,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,s){return Ke.resolve(this.kr.get(s))}saveBundleMetadata(t,s){return this.kr.set(s.id,function(l){return{id:l.id,version:l.version,createTime:Kl(l.createTime)}}(s)),Ke.resolve()}getNamedQuery(t,s){return Ke.resolve(this.qr.get(s))}saveNamedQuery(t,s){return this.qr.set(s.name,function(l){return{name:l.name,query:RX(l.bundledQuery),readTime:Kl(l.readTime)}}(s)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(){this.overlays=new Cn(bt.comparator),this.Qr=new Map}getOverlay(t,s){return Ke.resolve(this.overlays.get(s))}getOverlays(t,s){const i=Am();return Ke.forEach(s,l=>this.getOverlay(t,l).next(h=>{h!==null&&i.set(l,h)})).next(()=>i)}saveOverlays(t,s,i){return i.forEach((l,h)=>{this.St(t,s,h)}),Ke.resolve()}removeOverlaysForBatchId(t,s,i){const l=this.Qr.get(i);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(i)),Ke.resolve()}getOverlaysForCollection(t,s,i){const l=Am(),h=s.length+1,m=new bt(s.child("")),g=this.overlays.getIteratorFrom(m);for(;g.hasNext();){const b=g.getNext().value,v=b.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===h&&b.largestBatchId>i&&l.set(b.getKey(),b)}return Ke.resolve(l)}getOverlaysForCollectionGroup(t,s,i,l){let h=new Cn((v,k)=>v-k);const m=this.overlays.getIterator();for(;m.hasNext();){const v=m.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>i){let k=h.get(v.largestBatchId);k===null&&(k=Am(),h=h.insert(v.largestBatchId,k)),k.set(v.getKey(),v)}}const g=Am(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((v,k)=>g.set(v,k)),!(g.size()>=l)););return Ke.resolve(g)}St(t,s,i){const l=this.overlays.get(i.key);if(l!==null){const m=this.Qr.get(l.largestBatchId).delete(i.key);this.Qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new uX(s,i));let h=this.Qr.get(s);h===void 0&&(h=ur(),this.Qr.set(s,h)),this.Qr.set(s,h.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(){this.sessionToken=Ks.EMPTY_BYTE_STRING}getSessionToken(t){return Ke.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.$r=new ys(Ss.Ur),this.Kr=new ys(Ss.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,s){const i=new Ss(t,s);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,s){t.forEach(i=>this.addReference(i,s))}removeReference(t,s){this.zr(new Ss(t,s))}jr(t,s){t.forEach(i=>this.removeReference(i,s))}Hr(t){const s=new bt(new tn([])),i=new Ss(s,t),l=new Ss(s,t+1),h=[];return this.Kr.forEachInRange([i,l],m=>{this.zr(m),h.push(m.key)}),h}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const s=new bt(new tn([])),i=new Ss(s,t),l=new Ss(s,t+1);let h=ur();return this.Kr.forEachInRange([i,l],m=>{h=h.add(m.key)}),h}containsKey(t){const s=new Ss(t,0),i=this.$r.firstAfterOrEqual(s);return i!==null&&t.isEqual(i.key)}}class Ss{constructor(t,s){this.key=t,this.Zr=s}static Ur(t,s){return bt.comparator(t.key,s.key)||Zt(t.Zr,s.Zr)}static Wr(t,s){return Zt(t.Zr,s.Zr)||bt.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.nr=1,this.Xr=new ys(Ss.Ur)}checkEmpty(t){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,i,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new dX(h,s,i,l);this.mutationQueue.push(m);for(const g of l)this.Xr=this.Xr.add(new Ss(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Ke.resolve(m)}lookupMutationBatch(t,s){return Ke.resolve(this.ei(s))}getNextMutationBatchAfterBatchId(t,s){const i=s+1,l=this.ti(i),h=l<0?0:l;return Ke.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?oN:this.nr-1)}getAllMutationBatches(t){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const i=new Ss(s,0),l=new Ss(s,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([i,l],m=>{const g=this.ei(m.Zr);h.push(g)}),Ke.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,s){let i=new ys(Zt);return s.forEach(l=>{const h=new Ss(l,0),m=new Ss(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,m],g=>{i=i.add(g.Zr)})}),Ke.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,s){const i=s.path,l=i.length+1;let h=i;bt.isDocumentKey(h)||(h=h.child(""));const m=new Ss(new bt(h),0);let g=new ys(Zt);return this.Xr.forEachWhile(b=>{const v=b.key.path;return!!i.isPrefixOf(v)&&(v.length===l&&(g=g.add(b.Zr)),!0)},m),Ke.resolve(this.ni(g))}ni(t){const s=[];return t.forEach(i=>{const l=this.ei(i);l!==null&&s.push(l)}),s}removeMutationBatch(t,s){Br(this.ri(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Ke.forEach(s.mutations,l=>{const h=new Ss(l.key,s.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,s){const i=new Ss(s,0),l=this.Xr.firstAfterOrEqual(i);return Ke.resolve(s.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ke.resolve()}ri(t,s){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const s=this.ti(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(t){this.ii=t,this.docs=function(){return new Cn(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const i=s.key,l=this.docs.get(i),h=l?l.size:0,m=this.ii(s);return this.docs=this.docs.insert(i,{document:s.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const i=this.docs.get(s);return Ke.resolve(i?i.document.mutableCopy():uo.newInvalidDocument(s))}getEntries(t,s){let i=pd();return s.forEach(l=>{const h=this.docs.get(l);i=i.insert(l,h?h.document.mutableCopy():uo.newInvalidDocument(l))}),Ke.resolve(i)}getDocumentsMatchingQuery(t,s,i,l){let h=pd();const m=s.path,g=new bt(m.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(g);for(;b.hasNext();){const{key:v,value:{document:k}}=b.getNext();if(!m.isPrefixOf(v.path))break;v.path.length>m.length+1||AJ(_J(k),i)<=0||(l.has(k.key)||o1(s,k))&&(h=h.insert(k.key,k.mutableCopy()))}return Ke.resolve(h)}getAllFromCollectionGroup(t,s,i,l){Nt(9500)}si(t,s){return Ke.forEach(this.docs,i=>s(i))}newChangeBuffer(t){return new JX(this)}getSize(t){return Ke.resolve(this.size)}}class JX extends UX{constructor(t){super(),this.Br=t}applyChanges(t){const s=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?s.push(this.Br.addEntry(t,l)):this.Br.removeEntry(i)}),Ke.waitFor(s)}getFromCache(t,s){return this.Br.getEntry(t,s)}getAllFromCache(t,s){return this.Br.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(t){this.persistence=t,this.oi=new Qm(s=>lN(s),cN),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this._i=0,this.ai=new gN,this.targetCount=0,this.ui=qf.cr()}forEachTarget(t,s){return this.oi.forEach((i,l)=>s(l)),Ke.resolve()}getLastRemoteSnapshotVersion(t){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ke.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(t,s,i){return i&&(this.lastRemoteSnapshotVersion=i),s>this._i&&(this._i=s),Ke.resolve()}Tr(t){this.oi.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.ui=new qf(s),this.highestTargetId=s),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,s){return this.Tr(s),this.targetCount+=1,Ke.resolve()}updateTargetData(t,s){return this.Tr(s),Ke.resolve()}removeTargetData(t,s){return this.oi.delete(s.target),this.ai.Hr(s.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(t,s,i){let l=0;const h=[];return this.oi.forEach((m,g)=>{g.sequenceNumber<=s&&i.get(g.targetId)===null&&(this.oi.delete(m),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Ke.waitFor(h).next(()=>l)}getTargetCount(t){return Ke.resolve(this.targetCount)}getTargetData(t,s){const i=this.oi.get(s)||null;return Ke.resolve(i)}addMatchingKeys(t,s,i){return this.ai.Gr(s,i),Ke.resolve()}removeMatchingKeys(t,s,i){this.ai.jr(s,i);const l=this.persistence.referenceDelegate,h=[];return l&&s.forEach(m=>{h.push(l.markPotentiallyOrphaned(t,m))}),Ke.waitFor(h)}removeMatchingKeysForTargetId(t,s){return this.ai.Hr(s),Ke.resolve()}getMatchingKeysForTargetId(t,s){const i=this.ai.Yr(s);return Ke.resolve(i)}containsKey(t,s){return Ke.resolve(this.ai.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,s){this.ci={},this.overlays={},this.li=new t1(0),this.hi=!1,this.hi=!0,this.Pi=new WX,this.referenceDelegate=t(this),this.Ti=new XX(this),this.indexManager=new PX,this.remoteDocumentCache=function(l){return new QX(l)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new IX(s),this.Ei=new qX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new YX,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let i=this.ci[t.toKey()];return i||(i=new KX(s,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,s,i){ct("MemoryPersistence","Starting transaction:",t);const l=new $X(this.li.next());return this.referenceDelegate.di(),i(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(t,s){return Ke.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,s)))}}class $X extends jJ{constructor(t){super(),this.currentSequenceNumber=t}}class bN{constructor(t){this.persistence=t,this.Vi=new gN,this.mi=null}static fi(t){return new bN(t)}get gi(){if(this.mi)return this.mi;throw Nt(60996)}addReference(t,s,i){return this.Vi.addReference(i,s),this.gi.delete(i.toString()),Ke.resolve()}removeReference(t,s,i){return this.Vi.removeReference(i,s),this.gi.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(t,s){return this.gi.add(s.toString()),Ke.resolve()}removeTarget(t,s){this.Vi.Hr(s.targetId).forEach(l=>this.gi.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,s.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>i.removeTargetData(t,s))}di(){this.mi=new Set}Ai(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.gi,i=>{const l=bt.fromPath(i);return this.pi(t,l).next(h=>{h||s.removeEntry(l,Ot.min())})}).next(()=>(this.mi=null,s.apply(t)))}updateLimboDocument(t,s){return this.pi(t,s).next(i=>{i?this.gi.delete(s.toString()):this.gi.add(s.toString())})}Ii(t){return 0}pi(t,s){return Ke.or([()=>Ke.resolve(this.Vi.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Ri(t,s)])}}class kk{constructor(t,s){this.persistence=t,this.yi=new Qm(i=>DJ(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=VX(this,s)}static fi(t,s){return new kk(t,s)}di(){}Ai(t){return Ke.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}pr(t){const s=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>s.next(l=>i+l))}br(t){let s=0;return this.yr(t,i=>{s++}).next(()=>s)}yr(t,s){return Ke.forEach(this.yi,(i,l)=>this.Dr(t,i,l).next(h=>h?Ke.resolve():s(l)))}removeTargets(t,s,i){return this.persistence.getTargetCache().removeTargets(t,s,i)}removeOrphanedDocuments(t,s){let i=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(t,m=>this.Dr(t,m,s).next(g=>{g||(i++,h.removeEntry(m,Ot.min()))})).next(()=>h.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,s){return this.yi.set(s,t.currentSequenceNumber),Ke.resolve()}removeTarget(t,s){const i=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,s,i){return this.yi.set(i,t.currentSequenceNumber),Ke.resolve()}removeReference(t,s,i){return this.yi.set(i,t.currentSequenceNumber),Ke.resolve()}updateLimboDocument(t,s){return this.yi.set(s,t.currentSequenceNumber),Ke.resolve()}Ii(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=Fw(t.data.value)),s}Dr(t,s,i){return Ke.or([()=>this.persistence.Ri(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const l=this.yi.get(s);return Ke.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,s,i,l){this.targetId=t,this.fromCache=s,this.ds=i,this.As=l}static Rs(t,s){let i=ur(),l=ur();for(const h of s.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new yN(t,s.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return RY()?8:SJ(po())>0?6:4}()}initialize(t,s){this.ys=t,this.indexManager=s,this.Vs=!0}getDocumentsMatchingQuery(t,s,i,l){const h={result:null};return this.ws(t,s).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.bs(t,s,l,i).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new ZX;return this.Ss(t,s,m).next(g=>{if(h.result=g,this.fs)return this.Ds(t,s,m,g.size)})}).next(()=>h.result)}Ds(t,s,i,l){return i.documentReadCount<this.gs?(Nf()<=dr.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",jf(s),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ke.resolve()):(Nf()<=dr.DEBUG&&ct("QueryEngine","Query:",jf(s),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ps*l?(Nf()<=dr.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",jf(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wl(s))):Ke.resolve())}ws(t,s){if(tT(s))return Ke.resolve(null);let i=Wl(s);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(s.limit!==null&&l===1&&(s=yk(s,null,"F"),i=Wl(s)),this.indexManager.getDocumentsMatchingTarget(t,i).next(h=>{const m=ur(...h);return this.ys.getDocuments(t,m).next(g=>this.indexManager.getMinOffset(t,i).next(b=>{const v=this.vs(s,g);return this.Cs(s,v,m,b.readTime)?this.ws(t,yk(s,null,"F")):this.Fs(t,v,s,b)}))})))}bs(t,s,i,l){return tT(s)||l.isEqual(Ot.min())?Ke.resolve(null):this.ys.getDocuments(t,i).next(h=>{const m=this.vs(s,h);return this.Cs(s,m,i,l)?Ke.resolve(null):(Nf()<=dr.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),jf(s)),this.Fs(t,m,s,CJ(l,Xy)).next(g=>g))})}vs(t,s){let i=new ys(dO(t));return s.forEach((l,h)=>{o1(t,h)&&(i=i.add(h))}),i}Cs(t,s,i,l){if(t.limit===null)return!1;if(i.size!==s.size)return!0;const h=t.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,s,i){return Nf()<=dr.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",jf(s)),this.ys.getDocumentsMatchingQuery(t,s,Lu.min(),i)}Fs(t,s,i,l){return this.ys.getDocumentsMatchingQuery(t,i,l).next(h=>(s.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="LocalStore",t$=3e8;class r${constructor(t,s,i,l){this.persistence=t,this.Ms=s,this.serializer=l,this.xs=new Cn(Zt),this.Os=new Qm(h=>lN(h),cN),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HX(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.xs))}}function n$(r,t,s,i){return new r$(r,t,s,i)}async function IO(r,t){const s=zt(r);return await s.persistence.runTransaction("Handle user change","readonly",i=>{let l;return s.mutationQueue.getAllMutationBatches(i).next(h=>(l=h,s.Ls(t),s.mutationQueue.getAllMutationBatches(i))).next(h=>{const m=[],g=[];let b=ur();for(const v of l){m.push(v.batchId);for(const k of v.mutations)b=b.add(k.key)}for(const v of h){g.push(v.batchId);for(const k of v.mutations)b=b.add(k.key)}return s.localDocuments.getDocuments(i,b).next(v=>({ks:v,removedBatchIds:m,addedBatchIds:g}))})})}function s$(r,t){const s=zt(r);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),h=s.Bs.newChangeBuffer({trackRemovals:!0});return function(g,b,v,k){const C=v.batch,_=C.keys();let S=Ke.resolve();return _.forEach(T=>{S=S.next(()=>k.getEntry(b,T)).next(R=>{const P=v.docVersions.get(T);Br(P!==null,48541),R.version.compareTo(P)<0&&(C.applyToRemoteDocument(R,v),R.isValidDocument()&&(R.setReadTime(v.commitVersion),k.addEntry(R)))})}),S.next(()=>g.mutationQueue.removeMutationBatch(b,C))}(s,i,t,h).next(()=>h.apply(i)).next(()=>s.mutationQueue.performConsistencyCheck(i)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let b=ur();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(b=b.add(g.batch.mutations[v].key));return b}(t))).next(()=>s.localDocuments.getDocuments(i,l))})}function RO(r){const t=zt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.Ti.getLastRemoteSnapshotVersion(s))}function o$(r,t){const s=zt(r),i=t.snapshotVersion;let l=s.xs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=s.Bs.newChangeBuffer({trackRemovals:!0});l=s.xs;const g=[];t.targetChanges.forEach((k,C)=>{const _=l.get(C);if(!_)return;g.push(s.Ti.removeMatchingKeys(h,k.removedDocuments,C).next(()=>s.Ti.addMatchingKeys(h,k.addedDocuments,C)));let S=_.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?S=S.withResumeToken(Ks.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):k.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(k.resumeToken,i)),l=l.insert(C,S),function(R,P,V){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=t$?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,S,k)&&g.push(s.Ti.updateTargetData(h,S))});let b=pd(),v=ur();if(t.documentUpdates.forEach(k=>{t.resolvedLimboDocuments.has(k)&&g.push(s.persistence.referenceDelegate.updateLimboDocument(h,k))}),g.push(i$(h,m,t.documentUpdates).next(k=>{b=k.qs,v=k.Qs})),!i.isEqual(Ot.min())){const k=s.Ti.getLastRemoteSnapshotVersion(h).next(C=>s.Ti.setTargetsMetadata(h,h.currentSequenceNumber,i));g.push(k)}return Ke.waitFor(g).next(()=>m.apply(h)).next(()=>s.localDocuments.getLocalViewOfDocuments(h,b,v)).next(()=>b)}).then(h=>(s.xs=l,h))}function i$(r,t,s){let i=ur(),l=ur();return s.forEach(h=>i=i.add(h)),t.getEntries(r,i).next(h=>{let m=pd();return s.forEach((g,b)=>{const v=h.get(g);b.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),b.isNoDocument()&&b.version.isEqual(Ot.min())?(t.removeEntry(g,b.readTime),m=m.insert(g,b)):!v.isValidDocument()||b.version.compareTo(v.version)>0||b.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(b),m=m.insert(g,b)):ct(xN,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",b.version)}),{qs:m,Qs:l}})}function a$(r,t){const s=zt(r);return s.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=oN),s.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function l$(r,t){const s=zt(r);return s.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return s.Ti.getTargetData(i,t).next(h=>h?(l=h,Ke.resolve(l)):s.Ti.allocateTargetId(i).next(m=>(l=new Mu(t,m,"TargetPurposeListen",i.currentSequenceNumber),s.Ti.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=s.xs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(s.xs=s.xs.insert(i.targetId,i),s.Os.set(t,i.targetId)),i})}async function YA(r,t,s){const i=zt(r),l=i.xs.get(t),h=s?"readwrite":"readwrite-primary";try{s||await i.persistence.runTransaction("Release target",h,m=>i.persistence.referenceDelegate.removeTarget(m,l))}catch(m){if(!og(m))throw m;ct(xN,`Failed to update sequence numbers for target ${t}: ${m}`)}i.xs=i.xs.remove(t),i.Os.delete(l.target)}function pT(r,t,s){const i=zt(r);let l=Ot.min(),h=ur();return i.persistence.runTransaction("Execute query","readwrite",m=>function(b,v,k){const C=zt(b),_=C.Os.get(k);return _!==void 0?Ke.resolve(C.xs.get(_)):C.Ti.getTargetData(v,k)}(i,m,Wl(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(m,g.targetId).next(b=>{h=b})}).next(()=>i.Ms.getDocumentsMatchingQuery(m,t,s?l:Ot.min(),s?h:ur())).next(g=>(c$(i,QJ(t),g),{documents:g,$s:h})))}function c$(r,t,s){let i=r.Ns.get(t)||Ot.min();s.forEach((l,h)=>{h.readTime.compareTo(i)>0&&(i=h.readTime)}),r.Ns.set(t,i)}class fT{constructor(){this.activeTargetIds=tX()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d${constructor(){this.xo=new fT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,i){}addLocalQueryTarget(t,s=!0){return s&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,s,i){this.Oo[t]=s}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new fT,Promise.resolve()}handleUserChange(t,s,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="ConnectivityMonitor";class bT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(gT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ct(gT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gw=null;function WA(){return gw===null?gw=function(){return 268435456+Math.round(2147483648*Math.random())}():gw++,"0x"+gw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="RestConnection",h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m${get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=s+"://"+t.host,this.Wo=`projects/${i}/databases/${l}`,this.Go=this.databaseId.database===pk?`project_id=${i}`:`project_id=${i}&database_id=${l}`}zo(t,s,i,l,h){const m=WA(),g=this.jo(t,s.toUriEncodedString());ct(T_,`Sending RPC '${t}' ${m}:`,g,i);const b={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(b,l,h);const{host:v}=new URL(g),k=Wm(v);return this.Jo(t,g,b,i,k).then(C=>(ct(T_,`Received RPC '${t}' ${m}: `,C),C),C=>{throw Vf(T_,`RPC '${t}' ${m} failed with error: `,C,"url: ",g,"request:",i),C})}Yo(t,s,i,l,h,m){return this.zo(t,s,i,l,h)}Ho(t,s,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ng}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),i&&i.headers.forEach((l,h)=>t[h]=l)}jo(t,s){const i=h$[t];return`${this.Ko}/v1/${s}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="WebChannelConnection";class f$ extends m${constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,s,i,l,h){const m=WA();return new Promise((g,b)=>{const v=new B3;v.setWithCredentials(!0),v.listenOnce(L3.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case zw.NO_ERROR:const C=v.getResponseJson();ct(ao,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(C)),g(C);break;case zw.TIMEOUT:ct(ao,`RPC '${t}' ${m} timed out`),b(new ut(We.DEADLINE_EXCEEDED,"Request time out"));break;case zw.HTTP_ERROR:const _=v.getStatus();if(ct(ao,`RPC '${t}' ${m} failed with status:`,_,"response text:",v.getResponseText()),_>0){let S=v.getResponseJson();Array.isArray(S)&&(S=S[0]);const T=S==null?void 0:S.error;if(T&&T.status&&T.message){const R=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(U)>=0?U:We.UNKNOWN}(T.status);b(new ut(R,T.message))}else b(new ut(We.UNKNOWN,"Server responded with status "+v.getStatus()))}else b(new ut(We.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{h_:t,streamId:m,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{ct(ao,`RPC '${t}' ${m} completed.`)}});const k=JSON.stringify(l);ct(ao,`RPC '${t}' ${m} sending request:`,l),v.send(s,"POST",k,i,15)})}I_(t,s,i){const l=WA(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=V3(),g=F3(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Ho(b.initMessageHeaders,s,i),b.encodeInitMessageHeaders=!0;const k=h.join("");ct(ao,`Creating RPC '${t}' stream ${l}: ${k}`,b);const C=m.createWebChannel(k,b);this.E_(C);let _=!1,S=!1;const T=new p$({Zo:P=>{S?ct(ao,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(_||(ct(ao,`Opening RPC '${t}' stream ${l} transport.`),C.open(),_=!0),ct(ao,`RPC '${t}' stream ${l} sending:`,P),C.send(P))},Xo:()=>C.close()}),R=(P,V,U)=>{P.listen(V,F=>{try{U(F)}catch(q){setTimeout(()=>{throw q},0)}})};return R(C,vy.EventType.OPEN,()=>{S||(ct(ao,`RPC '${t}' stream ${l} transport opened.`),T.__())}),R(C,vy.EventType.CLOSE,()=>{S||(S=!0,ct(ao,`RPC '${t}' stream ${l} transport closed`),T.u_(),this.d_(C))}),R(C,vy.EventType.ERROR,P=>{S||(S=!0,Vf(ao,`RPC '${t}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),T.u_(new ut(We.UNAVAILABLE,"The operation could not be completed")))}),R(C,vy.EventType.MESSAGE,P=>{var V;if(!S){const U=P.data[0];Br(!!U,16349);const F=U,q=(F==null?void 0:F.error)||((V=F[0])===null||V===void 0?void 0:V.error);if(q){ct(ao,`RPC '${t}' stream ${l} received error:`,q);const ne=q.status;let se=function(Y){const J=Zn[Y];if(J!==void 0)return wO(J)}(ne),Q=q.message;se===void 0&&(se=We.INTERNAL,Q="Unknown error status: "+ne+" with message "+q.message),S=!0,T.u_(new ut(se,Q)),C.close()}else ct(ao,`RPC '${t}' stream ${l} received:`,U),T.c_(U)}}),R(g,z3.STAT_EVENT,P=>{P.stat===PA.PROXY?ct(ao,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===PA.NOPROXY&&ct(ao,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(s=>s===t)}}function I_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){return new xX(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,s,i=1e3,l=1.5,h=6e4){this.xi=t,this.timerId=s,this.A_=i,this.R_=l,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const s=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),l=Math.max(0,s-i);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${s} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class OO{constructor(t,s,i,l,h,m,g,b){this.xi=t,this.S_=i,this.D_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=g,this.listener=b,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new PO(t,s)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,s){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():s&&s.code===We.RESOURCE_EXHAUSTED?(md(s.toString()),md("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):s&&s.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(s)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),s=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.v_===s&&this.z_(i,l)},i=>{t(()=>{const l=new ut(We.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(l)})})}z_(t,s){const i=this.G_(this.v_);this.stream=this.H_(t,s),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{i(()=>this.j_(l))}),this.stream.onMessage(l=>{i(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ct(yT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return s=>{this.xi.enqueueAndForget(()=>this.v_===t?s():(ct(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g$ extends OO{constructor(t,s,i,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,i,l,m),this.serializer=h}H_(t,s){return this.connection.I_("Listen",t,s)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const s=kX(this.serializer,t),i=function(h){if(!("targetChange"in h))return Ot.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Ot.min():m.readTime?Kl(m.readTime):Ot.min()}(t);return this.listener.Y_(s,i)}Z_(t){const s={};s.database=qA(this.serializer),s.addTarget=function(h,m){let g;const b=m.target;if(g=FA(b)?{documents:AX(h,b)}:{query:NX(h,b).gt},g.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){g.resumeToken=_O(h,m.resumeToken);const v=UA(h,m.expectedCount);v!==null&&(g.expectedCount=v)}else if(m.snapshotVersion.compareTo(Ot.min())>0){g.readTime=wk(h,m.snapshotVersion.toTimestamp());const v=UA(h,m.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const i=SX(this.serializer,t);i&&(s.labels=i),this.Q_(s)}X_(t){const s={};s.database=qA(this.serializer),s.removeTarget=t,this.Q_(s)}}class b$ extends OO{constructor(t,s,i,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,i,l,m),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,s){return this.connection.I_("Write",t,s)}J_(t){return Br(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Br(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Br(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const s=_X(t.writeResults,t.commitTime),i=Kl(t.commitTime);return this.listener.ra(i,s)}ia(){const t={};t.database=qA(this.serializer),this.Q_(t)}ta(t){const s={streamToken:this.lastStreamToken,writes:t.map(i=>CX(this.serializer,i))};this.Q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${}class x$ extends y${constructor(t,s,i,l){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=i,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ut(We.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,s,i,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.zo(t,GA(s,i),l,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(We.UNKNOWN,h.toString())})}Yo(t,s,i,l,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,g])=>this.connection.Yo(t,GA(s,i),l,m,g,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ut(We.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class v${constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(md(s),this.ua=!1):ct("OnlineStateTracker",s)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RemoteStore";class w${constructor(t,s,i,l,h){this.localStore=t,this.datastore=s,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(m=>{i.enqueueAndForget(async()=>{Jm(this)&&(ct(Vm,"Restarting streams for network reachability change."),await async function(b){const v=zt(b);v.da.add(4),await Rx(v),v.Va.set("Unknown"),v.da.delete(4),await d1(v)}(this))})}),this.Va=new v$(i,l)}}async function d1(r){if(Jm(r))for(const t of r.Aa)await t(!0)}async function Rx(r){for(const t of r.Aa)await t(!1)}function BO(r,t){const s=zt(r);s.Ea.has(t.targetId)||(s.Ea.set(t.targetId,t),CN(s)?kN(s):ig(s).N_()&&wN(s,t))}function vN(r,t){const s=zt(r),i=ig(s);s.Ea.delete(t),i.N_()&&LO(s,t),s.Ea.size===0&&(i.N_()?i.k_():Jm(s)&&s.Va.set("Unknown"))}function wN(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}ig(r).Z_(t)}function LO(r,t){r.ma.Ke(t),ig(r).X_(t)}function kN(r){r.ma=new fX({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),ig(r).start(),r.Va.ca()}function CN(r){return Jm(r)&&!ig(r).O_()&&r.Ea.size>0}function Jm(r){return zt(r).da.size===0}function zO(r){r.ma=void 0}async function k$(r){r.Va.set("Online")}async function C$(r){r.Ea.forEach((t,s)=>{wN(r,t)})}async function _$(r,t){zO(r),CN(r)?(r.Va.Pa(t),kN(r)):r.Va.set("Unknown")}async function A$(r,t,s){if(r.Va.set("Online"),t instanceof CO&&t.state===2&&t.cause)try{await async function(l,h){const m=h.cause;for(const g of h.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,m),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(i){ct(Vm,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ck(r,i)}else if(t instanceof Gw?r.ma.Xe(t):t instanceof kO?r.ma.ot(t):r.ma.nt(t),!s.isEqual(Ot.min()))try{const i=await RO(r.localStore);s.compareTo(i)>=0&&await function(h,m){const g=h.ma.It(m);return g.targetChanges.forEach((b,v)=>{if(b.resumeToken.approximateByteSize()>0){const k=h.Ea.get(v);k&&h.Ea.set(v,k.withResumeToken(b.resumeToken,m))}}),g.targetMismatches.forEach((b,v)=>{const k=h.Ea.get(b);if(!k)return;h.Ea.set(b,k.withResumeToken(Ks.EMPTY_BYTE_STRING,k.snapshotVersion)),LO(h,b);const C=new Mu(k.target,b,v,k.sequenceNumber);wN(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(r,s)}catch(i){ct(Vm,"Failed to raise snapshot:",i),await Ck(r,i)}}async function Ck(r,t,s){if(!og(t))throw t;r.da.add(1),await Rx(r),r.Va.set("Offline"),s||(s=()=>RO(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Vm,"Retrying IndexedDB access"),await s(),r.da.delete(1),await d1(r)})}function FO(r,t){return t().catch(s=>Ck(r,s,t))}async function u1(r){const t=zt(r),s=Uu(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:oN;for(;N$(t);)try{const l=await a$(t.localStore,i);if(l===null){t.Ia.length===0&&s.k_();break}i=l.batchId,j$(t,l)}catch(l){await Ck(t,l)}VO(t)&&UO(t)}function N$(r){return Jm(r)&&r.Ia.length<10}function j$(r,t){r.Ia.push(t);const s=Uu(r);s.N_()&&s.ea&&s.ta(t.mutations)}function VO(r){return Jm(r)&&!Uu(r).O_()&&r.Ia.length>0}function UO(r){Uu(r).start()}async function S$(r){Uu(r).ia()}async function E$(r){const t=Uu(r);for(const s of r.Ia)t.ta(s.mutations)}async function D$(r,t,s){const i=r.Ia.shift(),l=mN.from(i,t,s);await FO(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await u1(r)}async function M$(r,t){t&&Uu(r).ea&&await async function(i,l){if(function(m){return mX(m)&&m!==We.ABORTED}(l.code)){const h=i.Ia.shift();Uu(i).L_(),await FO(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,l)),await u1(i)}}(r,t),VO(r)&&UO(r)}async function xT(r,t){const s=zt(r);s.asyncQueue.verifyOperationInProgress(),ct(Vm,"RemoteStore received new credentials");const i=Jm(s);s.da.add(3),await Rx(s),i&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.da.delete(3),await d1(s)}async function T$(r,t){const s=zt(r);t?(s.da.delete(2),await d1(s)):t||(s.da.add(2),await Rx(s),s.Va.set("Unknown"))}function ig(r){return r.fa||(r.fa=function(s,i,l){const h=zt(s);return h.oa(),new g$(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{e_:k$.bind(null,r),n_:C$.bind(null,r),i_:_$.bind(null,r),Y_:A$.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),CN(r)?kN(r):r.Va.set("Unknown")):(await r.fa.stop(),zO(r))})),r.fa}function Uu(r){return r.ga||(r.ga=function(s,i,l){const h=zt(s);return h.oa(),new b$(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:S$.bind(null,r),i_:M$.bind(null,r),na:E$.bind(null,r),ra:D$.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await u1(r)):(await r.ga.stop(),r.Ia.length>0&&(ct(Vm,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,s,i,l,h){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=i,this.op=l,this.removalCallback=h,this.deferred=new od,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,s,i,l,h){const m=Date.now()+i,g=new _N(t,s,m,l,h);return g.start(i),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(We.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AN(r,t){if(md("AsyncQueue",`${t}: ${r}`),og(r))return new ut(We.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{static emptySet(t){return new Lf(t.comparator)}constructor(t){this.comparator=t?(s,i)=>t(s,i)||bt.comparator(s.key,i.key):(s,i)=>bt.comparator(s.key,i.key),this.keyedMap=wy(),this.sortedSet=new Cn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,i)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Lf)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;s.hasNext();){const l=s.getNext().key,h=i.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const i=new Lf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=s,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.pa=new Cn(bt.comparator)}track(t){const s=t.doc.key,i=this.pa.get(s);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(s,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(s,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(s,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(s,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(s):t.type===1&&i.type===2?this.pa=this.pa.insert(s,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(s,{type:2,doc:t.doc}):Nt(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(s,t)}wa(){const t=[];return this.pa.inorderTraversal((s,i)=>{t.push(i)}),t}}class Yf{constructor(t,s,i,l,h,m,g,b,v){this.query=t,this.docs=s,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=g,this.excludesMetadataChanges=b,this.hasCachedResults=v}static fromInitialDocuments(t,s,i,l,h){const m=[];return s.forEach(g=>{m.push({type:0,doc:g})}),new Yf(t,s,Lf.emptySet(s),m,i,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&s1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,i=t.docChanges;if(s.length!==i.length)return!1;for(let l=0;l<s.length;l++)if(s[l].type!==i[l].type||!s[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class R${constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,i){const l=zt(s),h=l.queries;l.queries=wT(),h.forEach((m,g)=>{for(const b of g.Sa)b.onError(i)})})(this,new ut(We.ABORTED,"Firestore shutting down"))}}function wT(){return new Qm(r=>cO(r),s1)}async function GO(r,t){const s=zt(r);let i=3;const l=t.query;let h=s.queries.get(l);h?!h.Da()&&t.va()&&(i=2):(h=new I$,i=t.va()?0:1);try{switch(i){case 0:h.ba=await s.onListen(l,!0);break;case 1:h.ba=await s.onListen(l,!1);break;case 2:await s.onFirstRemoteStoreListen(l)}}catch(m){const g=AN(m,`Initialization of query '${jf(t.query)}' failed`);return void t.onError(g)}s.queries.set(l,h),h.Sa.push(t),t.Fa(s.onlineState),h.ba&&t.Ma(h.ba)&&NN(s)}async function HO(r,t){const s=zt(r),i=t.query;let l=3;const h=s.queries.get(i);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.va()?0:1:!h.Da()&&t.va()&&(l=2))}switch(l){case 0:return s.queries.delete(i),s.onUnlisten(i,!0);case 1:return s.queries.delete(i),s.onUnlisten(i,!1);case 2:return s.onLastRemoteStoreUnlisten(i);default:return}}function P$(r,t){const s=zt(r);let i=!1;for(const l of t){const h=l.query,m=s.queries.get(h);if(m){for(const g of m.Sa)g.Ma(l)&&(i=!0);m.ba=l}}i&&NN(s)}function O$(r,t,s){const i=zt(r),l=i.queries.get(t);if(l)for(const h of l.Sa)h.onError(s);i.queries.delete(t)}function NN(r){r.Ca.forEach(t=>{t.next()})}var KA,kT;(kT=KA||(KA={})).xa="default",kT.Cache="cache";class qO{constructor(t,s,i){this.query=t,this.Oa=s,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new Yf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Na?this.La(t)&&(this.Oa.next(t),s=!0):this.ka(t,this.onlineState)&&(this.qa(t),s=!0),this.Ba=t,s}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let s=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),s=!0),s}ka(t,s){if(!t.fromCache||!this.va())return!0;const i=s!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}La(t){if(t.docChanges.length>0)return!0;const s=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}qa(t){t=Yf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==KA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t){this.key=t}}class WO{constructor(t){this.key=t}}class B${constructor(t,s){this.query=t,this.Ha=s,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ur(),this.mutatedKeys=ur(),this.Za=dO(t),this.Xa=new Lf(this.Za)}get eu(){return this.Ha}tu(t,s){const i=s?s.nu:new vT,l=s?s.Xa:this.Xa;let h=s?s.mutatedKeys:this.mutatedKeys,m=l,g=!1;const b=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((k,C)=>{const _=l.get(k),S=o1(this.query,C)?C:null,T=!!_&&this.mutatedKeys.has(_.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;_&&S?_.data.isEqual(S.data)?T!==R&&(i.track({type:3,doc:S}),P=!0):this.ru(_,S)||(i.track({type:2,doc:S}),P=!0,(b&&this.Za(S,b)>0||v&&this.Za(S,v)<0)&&(g=!0)):!_&&S?(i.track({type:0,doc:S}),P=!0):_&&!S&&(i.track({type:1,doc:_}),P=!0,(b||v)&&(g=!0)),P&&(S?(m=m.add(S),h=R?h.add(k):h.delete(k)):(m=m.delete(k),h=h.delete(k)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const k=this.query.limitType==="F"?m.last():m.first();m=m.delete(k.key),h=h.delete(k.key),i.track({type:1,doc:k})}return{Xa:m,nu:i,Cs:g,mutatedKeys:h}}ru(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,i,l){const h=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const m=t.nu.wa();m.sort((k,C)=>function(S,T){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:P})}};return R(S)-R(T)}(k.type,C.type)||this.Za(k.doc,C.doc)),this.iu(i),l=l!=null&&l;const g=s&&!l?this.su():[],b=this.Ya.size===0&&this.current&&!l?1:0,v=b!==this.Ja;return this.Ja=b,m.length!==0||v?{snapshot:new Yf(this.query,t.Xa,h,m,t.mutatedKeys,b===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(s=>this.Ha=this.Ha.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.Ha=this.Ha.delete(s)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ur(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const s=[];return t.forEach(i=>{this.Ya.has(i)||s.push(new WO(i))}),this.Ya.forEach(i=>{t.has(i)||s.push(new YO(i))}),s}au(t){this.Ha=t.$s,this.Ya=ur();const s=this.tu(t.documents);return this.applyChanges(s,!0)}uu(){return Yf.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jN="SyncEngine";class L${constructor(t,s,i){this.query=t,this.targetId=s,this.view=i}}class z${constructor(t){this.key=t,this.cu=!1}}class F${constructor(t,s,i,l,h,m){this.localStore=t,this.remoteStore=s,this.eventManager=i,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new Qm(g=>cO(g),s1),this.Pu=new Map,this.Tu=new Set,this.Iu=new Cn(bt.comparator),this.Eu=new Map,this.du=new gN,this.Au={},this.Ru=new Map,this.Vu=qf.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function V$(r,t,s=!0){const i=ZO(r);let l;const h=i.hu.get(t);return h?(i.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.uu()):l=await KO(i,t,s,!0),l}async function U$(r,t){const s=ZO(r);await KO(s,t,!0,!1)}async function KO(r,t,s,i){const l=await l$(r.localStore,Wl(t)),h=l.targetId,m=r.sharedClientState.addLocalQueryTarget(h,s);let g;return i&&(g=await G$(r,t,h,m==="current",l.resumeToken)),r.isPrimaryClient&&s&&BO(r.remoteStore,l),g}async function G$(r,t,s,i,l){r.fu=(C,_,S)=>async function(R,P,V,U){let F=P.view.tu(V);F.Cs&&(F=await pT(R.localStore,P.query,!1).then(({documents:Q})=>P.view.tu(Q,F)));const q=U&&U.targetChanges.get(P.targetId),ne=U&&U.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(F,R.isPrimaryClient,q,ne);return _T(R,P.targetId,se.ou),se.snapshot}(r,C,_,S);const h=await pT(r.localStore,t,!0),m=new B$(t,h.$s),g=m.tu(h.documents),b=Ix.createSynthesizedTargetChangeForCurrentChange(s,i&&r.onlineState!=="Offline",l),v=m.applyChanges(g,r.isPrimaryClient,b);_T(r,s,v.ou);const k=new L$(t,s,m);return r.hu.set(t,k),r.Pu.has(s)?r.Pu.get(s).push(t):r.Pu.set(s,[t]),v.snapshot}async function H$(r,t,s){const i=zt(r),l=i.hu.get(t),h=i.Pu.get(l.targetId);if(h.length>1)return i.Pu.set(l.targetId,h.filter(m=>!s1(m,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await YA(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),s&&vN(i.remoteStore,l.targetId),QA(i,l.targetId)}).catch(sg)):(QA(i,l.targetId),await YA(i.localStore,l.targetId,!0))}async function q$(r,t){const s=zt(r),i=s.hu.get(t),l=s.Pu.get(i.targetId);s.isPrimaryClient&&l.length===1&&(s.sharedClientState.removeLocalQueryTarget(i.targetId),vN(s.remoteStore,i.targetId))}async function Y$(r,t,s){const i=Z$(r);try{const l=await function(m,g){const b=zt(m),v=bs.now(),k=g.reduce((S,T)=>S.add(T.key),ur());let C,_;return b.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=pd(),R=ur();return b.Bs.getEntries(S,k).next(P=>{T=P,T.forEach((V,U)=>{U.isValidDocument()||(R=R.add(V))})}).next(()=>b.localDocuments.getOverlayedDocuments(S,T)).next(P=>{C=P;const V=[];for(const U of g){const F=lX(U,C.get(U.key).overlayedDocument);F!=null&&V.push(new $u(U.key,F,tO(F.value.mapValue),Zi.exists(!0)))}return b.mutationQueue.addMutationBatch(S,v,V,g)}).next(P=>{_=P;const V=P.applyToLocalDocumentSet(C,R);return b.documentOverlayCache.saveOverlays(S,P.batchId,V)})}).then(()=>({batchId:_.batchId,changes:hO(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(m,g,b){let v=m.Au[m.currentUser.toKey()];v||(v=new Cn(Zt)),v=v.insert(g,b),m.Au[m.currentUser.toKey()]=v}(i,l.batchId,s),await Px(i,l.changes),await u1(i.remoteStore)}catch(l){const h=AN(l,"Failed to persist write");s.reject(h)}}async function QO(r,t){const s=zt(r);try{const i=await o$(s.localStore,t);t.targetChanges.forEach((l,h)=>{const m=s.Eu.get(h);m&&(Br(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.cu=!0:l.modifiedDocuments.size>0?Br(m.cu,14607):l.removedDocuments.size>0&&(Br(m.cu,42227),m.cu=!1))}),await Px(s,i,t)}catch(i){await sg(i)}}function CT(r,t,s){const i=zt(r);if(i.isPrimaryClient&&s===0||!i.isPrimaryClient&&s===1){const l=[];i.hu.forEach((h,m)=>{const g=m.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(m,g){const b=zt(m);b.onlineState=g;let v=!1;b.queries.forEach((k,C)=>{for(const _ of C.Sa)_.Fa(g)&&(v=!0)}),v&&NN(b)}(i.eventManager,t),l.length&&i.lu.Y_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function W$(r,t,s){const i=zt(r);i.sharedClientState.updateQueryState(t,"rejected",s);const l=i.Eu.get(t),h=l&&l.key;if(h){let m=new Cn(bt.comparator);m=m.insert(h,uo.newNoDocument(h,Ot.min()));const g=ur().add(h),b=new l1(Ot.min(),new Map,new Cn(Zt),m,g);await QO(i,b),i.Iu=i.Iu.remove(h),i.Eu.delete(t),SN(i)}else await YA(i.localStore,t,!1).then(()=>QA(i,t,s)).catch(sg)}async function K$(r,t){const s=zt(r),i=t.batch.batchId;try{const l=await s$(s.localStore,t);XO(s,i,null),JO(s,i),s.sharedClientState.updateMutationState(i,"acknowledged"),await Px(s,l)}catch(l){await sg(l)}}async function Q$(r,t,s){const i=zt(r);try{const l=await function(m,g){const b=zt(m);return b.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let k;return b.mutationQueue.lookupMutationBatch(v,g).next(C=>(Br(C!==null,37113),k=C.keys(),b.mutationQueue.removeMutationBatch(v,C))).next(()=>b.mutationQueue.performConsistencyCheck(v)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(v,k,g)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,k)).next(()=>b.localDocuments.getDocuments(v,k))})}(i.localStore,t);XO(i,t,s),JO(i,t),i.sharedClientState.updateMutationState(t,"rejected",s),await Px(i,l)}catch(l){await sg(l)}}function JO(r,t){(r.Ru.get(t)||[]).forEach(s=>{s.resolve()}),r.Ru.delete(t)}function XO(r,t,s){const i=zt(r);let l=i.Au[i.currentUser.toKey()];if(l){const h=l.get(t);h&&(s?h.reject(s):h.resolve(),l=l.remove(t)),i.Au[i.currentUser.toKey()]=l}}function QA(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.Pu.get(t))r.hu.delete(i),s&&r.lu.gu(i,s);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(i=>{r.du.containsKey(i)||$O(r,i)})}function $O(r,t){r.Tu.delete(t.path.canonicalString());const s=r.Iu.get(t);s!==null&&(vN(r.remoteStore,s),r.Iu=r.Iu.remove(t),r.Eu.delete(s),SN(r))}function _T(r,t,s){for(const i of s)i instanceof YO?(r.du.addReference(i.key,t),J$(r,i)):i instanceof WO?(ct(jN,"Document no longer in limbo: "+i.key),r.du.removeReference(i.key,t),r.du.containsKey(i.key)||$O(r,i.key)):Nt(19791,{pu:i})}function J$(r,t){const s=t.key,i=s.path.canonicalString();r.Iu.get(s)||r.Tu.has(i)||(ct(jN,"New document in limbo: "+s),r.Tu.add(i),SN(r))}function SN(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const s=new bt(tn.fromString(t)),i=r.Vu.next();r.Eu.set(i,new z$(s)),r.Iu=r.Iu.insert(s,i),BO(r.remoteStore,new Mu(Wl(dN(s.path)),i,"TargetPurposeLimboResolution",t1.le))}}async function Px(r,t,s){const i=zt(r),l=[],h=[],m=[];i.hu.isEmpty()||(i.hu.forEach((g,b)=>{m.push(i.fu(b,t,s).then(v=>{var k;if((v||s)&&i.isPrimaryClient){const C=v?!v.fromCache:(k=s==null?void 0:s.targetChanges.get(b.targetId))===null||k===void 0?void 0:k.current;i.sharedClientState.updateQueryState(b.targetId,C?"current":"not-current")}if(v){l.push(v);const C=yN.Rs(b.targetId,v);h.push(C)}}))}),await Promise.all(m),i.lu.Y_(l),await async function(b,v){const k=zt(b);try{await k.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Ke.forEach(v,_=>Ke.forEach(_.ds,S=>k.persistence.referenceDelegate.addReference(C,_.targetId,S)).next(()=>Ke.forEach(_.As,S=>k.persistence.referenceDelegate.removeReference(C,_.targetId,S)))))}catch(C){if(!og(C))throw C;ct(xN,"Failed to update sequence numbers: "+C)}for(const C of v){const _=C.targetId;if(!C.fromCache){const S=k.xs.get(_),T=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(T);k.xs=k.xs.insert(_,R)}}}(i.localStore,h))}async function X$(r,t){const s=zt(r);if(!s.currentUser.isEqual(t)){ct(jN,"User change. New user:",t.toKey());const i=await IO(s.localStore,t);s.currentUser=t,function(h,m){h.Ru.forEach(g=>{g.forEach(b=>{b.reject(new ut(We.CANCELLED,m))})}),h.Ru.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Px(s,i.ks)}}function $$(r,t){const s=zt(r),i=s.Eu.get(t);if(i&&i.cu)return ur().add(i.key);{let l=ur();const h=s.Pu.get(t);if(!h)return l;for(const m of h){const g=s.hu.get(m);l=l.unionWith(g.view.eu)}return l}}function ZO(r){const t=zt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=W$.bind(null,t),t.lu.Y_=P$.bind(null,t.eventManager),t.lu.gu=O$.bind(null,t.eventManager),t}function Z$(r){const t=zt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q$.bind(null,t),t}class _k{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=c1(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,s){return null}Cu(t,s){return null}Du(t){return n$(this.persistence,new e$,t.initialUser,this.serializer)}Su(t){return new TO(bN.fi,this.serializer)}bu(t){return new d$}async terminate(){var t,s;(t=this.gcScheduler)===null||t===void 0||t.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_k.provider={build:()=>new _k};class eZ extends _k{constructor(t){super(),this.cacheSizeBytes=t}vu(t,s){Br(this.persistence.referenceDelegate instanceof kk,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zX(i,t.asyncQueue,s)}Su(t){const s=this.cacheSizeBytes!==void 0?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new TO(i=>kk.fi(i,s),this.serializer)}}class JA{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=X$.bind(null,this.syncEngine),await T$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new R$}()}createDatastore(t){const s=c1(t.databaseInfo.databaseId),i=function(h){return new f$(h)}(t.databaseInfo);return function(h,m,g,b){return new x$(h,m,g,b)}(t.authCredentials,t.appCheckCredentials,i,s)}createRemoteStore(t){return function(i,l,h,m,g){return new w$(i,l,h,m,g)}(this.localStore,this.datastore,t.asyncQueue,s=>CT(this.syncEngine,s,0),function(){return bT.C()?new bT:new u$}())}createSyncEngine(t,s){return function(l,h,m,g,b,v,k){const C=new F$(l,h,m,g,b,v);return k&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await async function(l){const h=zt(l);ct(Vm,"RemoteStore shutting down."),h.da.add(5),await Rx(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}JA.provider={build:()=>new JA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):md("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,s){setTimeout(()=>{this.muted||t(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="FirestoreClient";class tZ{constructor(t,s,i,l,h){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=i,this.databaseInfo=l,this.user=co.UNAUTHENTICATED,this.clientId=q3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(i,async m=>{ct(Gu,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(i,m=>(ct(Gu,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new od;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const i=AN(s,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function R_(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Gu,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let i=s.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await IO(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function AT(r,t){r.asyncQueue.verifyOperationInProgress();const s=await rZ(r);ct(Gu,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener(i=>xT(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>xT(t.remoteStore,l)),r._onlineComponents=t}async function rZ(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Gu,"Using user provided OfflineComponentProvider");try{await R_(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!function(l){return l.name==="FirebaseError"?l.code===We.FAILED_PRECONDITION||l.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s))throw s;Vf("Error using user provided cache. Falling back to memory cache: "+s),await R_(r,new _k)}}else ct(Gu,"Using default OfflineComponentProvider"),await R_(r,new eZ(void 0));return r._offlineComponents}async function t9(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Gu,"Using user provided OnlineComponentProvider"),await AT(r,r._uninitializedComponentsProvider._online)):(ct(Gu,"Using default OnlineComponentProvider"),await AT(r,new JA))),r._onlineComponents}function nZ(r){return t9(r).then(t=>t.syncEngine)}async function r9(r){const t=await t9(r),s=t.eventManager;return s.onListen=V$.bind(null,t.syncEngine),s.onUnlisten=H$.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=U$.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=q$.bind(null,t.syncEngine),s}function sZ(r,t,s={}){const i=new od;return r.asyncQueue.enqueueAndForget(async()=>function(h,m,g,b,v){const k=new e9({next:_=>{k.xu(),m.enqueueAndForget(()=>HO(h,C));const S=_.docs.has(g);!S&&_.fromCache?v.reject(new ut(We.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&b&&b.source==="server"?v.reject(new ut(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:_=>v.reject(_)}),C=new qO(dN(g.path),k,{includeMetadataChanges:!0,Qa:!0});return GO(h,C)}(await r9(r),r.asyncQueue,t,s,i)),i.promise}function oZ(r,t,s={}){const i=new od;return r.asyncQueue.enqueueAndForget(async()=>function(h,m,g,b,v){const k=new e9({next:_=>{k.xu(),m.enqueueAndForget(()=>HO(h,C)),_.fromCache&&b.source==="server"?v.reject(new ut(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:_=>v.reject(_)}),C=new qO(g,k,{includeMetadataChanges:!0,Qa:!0});return GO(h,C)}(await r9(r),r.asyncQueue,t,s,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(r,t,s){if(!s)throw new ut(We.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function iZ(r,t,s,i){if(t===!0&&i===!0)throw new ut(We.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function jT(r){if(!bt.isDocumentKey(r))throw new ut(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ST(r){if(bt.isDocumentKey(r))throw new ut(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function h1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Nt(12329,{type:typeof r})}function Xa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=h1(r);throw new ut(We.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}function aZ(r,t){if(t<=0)throw new ut(We.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="firestore.googleapis.com",ET=!0;class DT{constructor(t){var s,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o9,this.ssl=ET}else this.host=t.host,this.ssl=(s=t.ssl)!==null&&s!==void 0?s:ET;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=MO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BX)throw new ut(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iZ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n9((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(We.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(We.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(We.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m1{constructor(t,s,i,l){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pJ;switch(i.type){case"firstParty":return new yJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const i=NT.get(s);i&&(ct("ComponentProvider","Removing Datastore"),NT.delete(s),i.terminate())}(this),Promise.resolve()}}function lZ(r,t,s,i={}){var l;r=Xa(r,m1);const h=Wm(t),m=r._getSettings(),g=Object.assign(Object.assign({},m),{emulatorOptions:r._getEmulatorOptions()}),b=`${t}:${s}`;h&&(U2(`https://${b}`),G2("Firestore",!0)),m.host!==o9&&m.host!==b&&Vf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},m),{host:b,ssl:h,emulatorOptions:i});if(!Om(v,g)&&(r._setSettings(v),i.mockUserToken)){let k,C;if(typeof i.mockUserToken=="string")k=i.mockUserToken,C=co.MOCK_USER;else{k=XP(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ut(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new co(_)}r._authCredentials=new fJ(new G3(k,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,s,i){this.converter=s,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xm(this.firestore,t,this._query)}}class Eo{constructor(t,s,i){this.converter=s,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Eo(this.firestore,t,this._key)}}class Pu extends Xm{constructor(t,s,i){super(t,s,dN(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Eo(this.firestore,null,new bt(t))}withConverter(t){return new Pu(this.firestore,t,this._path)}}function XA(r,t,...s){if(r=Ms(r),s9("collection","path",t),r instanceof m1){const i=tn.fromString(t,...s);return ST(i),new Pu(r,null,i)}{if(!(r instanceof Eo||r instanceof Pu))throw new ut(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(tn.fromString(t,...s));return ST(i),new Pu(r.firestore,null,i)}}function zf(r,t,...s){if(r=Ms(r),arguments.length===1&&(t=q3.newId()),s9("doc","path",t),r instanceof m1){const i=tn.fromString(t,...s);return jT(i),new Eo(r,null,new bt(i))}{if(!(r instanceof Eo||r instanceof Pu))throw new ut(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(tn.fromString(t,...s));return jT(i),new Eo(r.firestore,r instanceof Pu?r.converter:null,new bt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="AsyncQueue";class TT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new PO(this,"async_queue_retry"),this.rc=()=>{const i=I_();i&&ct(MT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const s=I_();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const s=I_();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const s=new od;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!og(t))throw t;ct(MT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const s=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,md("INTERNAL UNHANDLED ERROR: ",IT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=s,s}enqueueAfterDelay(t,s,i){this.oc(),this.nc.indexOf(t)>-1&&(s=0);const l=_N.createAndSchedule(this,t,s,i,h=>this.uc(h));return this.Zu.push(l),l}oc(){this.Xu&&Nt(47125,{cc:IT(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const s of this.Zu)if(s.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((s,i)=>s.targetTimeMs-i.targetTimeMs);for(const s of this.Zu)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const s=this.Zu.indexOf(t);this.Zu.splice(s,1)}}function IT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class $m extends m1{constructor(t,s,i,l){super(t,s,i,l),this.type="firestore",this._queue=new TT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new TT(t),this._firestoreClient=void 0,await t}}}function cZ(r,t){const s=typeof r=="object"?r:Y2(),i=typeof r=="string"?r:pk,l=Xk(s,"firestore").getImmediate({identifier:i});if(!l._initialized){const h=KP("firestore");h&&lZ(l,...h)}return l}function EN(r){if(r._terminated)throw new ut(We.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dZ(r),r._firestoreClient}function dZ(r){var t,s,i;const l=r._freezeSettings(),h=function(g,b,v,k){return new IJ(g,b,v,k.host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,n9(k.experimentalLongPollingOptions),k.useFetchStreams,k.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((s=l.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new tZ(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const b=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(b),_online:b}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wf(Ks.fromBase64String(t))}catch(s){throw new ut(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new Wf(Ks.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new ut(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ws(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new ut(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new ut(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this._values=(t||[]).map(s=>s)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let h=0;h<i.length;++h)if(i[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ=/^__.*__$/;class hZ{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return this.fieldMask!==null?new $u(t,this.data,this.fieldMask,s,this.fieldTransforms):new Tx(t,this.data,s,this.fieldTransforms)}}class i9{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return new $u(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function a9(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ic:r})}}class IN{constructor(t,s,i,l,h,m){this.settings=t,this.databaseId=s,this.serializer=i,this.ignoreUndefinedProperties=l,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new IN(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var s;const i=(s=this.path)===null||s===void 0?void 0:s.child(t),l=this.dc({path:i,Rc:!1});return l.Vc(t),l}mc(t){var s;const i=(s=this.path)===null||s===void 0?void 0:s.child(t),l=this.dc({path:i,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Ak(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(s=>t.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>t.isPrefixOf(s.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(a9(this.Ic)&&uZ.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class mZ{constructor(t,s,i){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=i||c1(t)}bc(t,s,i,l=!1){return new IN({Ic:t,methodName:s,wc:i,path:Ws.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f1(r){const t=r._freezeSettings(),s=c1(r._databaseId);return new mZ(r._databaseId,!!t.ignoreUndefinedProperties,s)}function l9(r,t,s,i,l,h={}){const m=r.bc(h.merge||h.mergeFields?2:0,t,s,l);RN("Data must be an object, but it was:",m,i);const g=c9(i,m);let b,v;if(h.merge)b=new Ni(m.fieldMask),v=m.fieldTransforms;else if(h.mergeFields){const k=[];for(const C of h.mergeFields){const _=$A(t,C,s);if(!m.contains(_))throw new ut(We.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);u9(k,_)||k.push(_)}b=new Ni(k),v=m.fieldTransforms.filter(C=>b.covers(C.field))}else b=null,v=m.fieldTransforms;return new hZ(new Jo(g),b,v)}class g1 extends DN{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof g1}}function pZ(r,t,s,i){const l=r.bc(1,t,s);RN("Data must be an object, but it was:",l,i);const h=[],m=Jo.empty();Xu(i,(b,v)=>{const k=PN(t,b,s);v=Ms(v);const C=l.mc(k);if(v instanceof g1)h.push(k);else{const _=Ox(v,C);_!=null&&(h.push(k),m.set(k,_))}});const g=new Ni(h);return new i9(m,g,l.fieldTransforms)}function fZ(r,t,s,i,l,h){const m=r.bc(1,t,s),g=[$A(t,i,s)],b=[l];if(h.length%2!=0)throw new ut(We.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<h.length;_+=2)g.push($A(t,h[_])),b.push(h[_+1]);const v=[],k=Jo.empty();for(let _=g.length-1;_>=0;--_)if(!u9(v,g[_])){const S=g[_];let T=b[_];T=Ms(T);const R=m.mc(S);if(T instanceof g1)v.push(S);else{const P=Ox(T,R);P!=null&&(v.push(S),k.set(S,P))}}const C=new Ni(v);return new i9(k,C,m.fieldTransforms)}function gZ(r,t,s,i=!1){return Ox(s,r.bc(i?4:3,t))}function Ox(r,t){if(d9(r=Ms(r)))return RN("Unsupported field value:",t,r),c9(r,t);if(r instanceof DN)return function(i,l){if(!a9(l.Ic))throw l.gc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${i._methodName}() is not currently supported inside arrays`);const h=i._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,l){const h=[];let m=0;for(const g of i){let b=Ox(g,l.fc(m));b==null&&(b={nullValue:"NULL_VALUE"}),h.push(b),m++}return{arrayValue:{values:h}}}(r,t)}return function(i,l){if((i=Ms(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rX(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const h=bs.fromDate(i);return{timestampValue:wk(l.serializer,h)}}if(i instanceof bs){const h=new bs(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wk(l.serializer,h)}}if(i instanceof MN)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wf)return{bytesValue:_O(l.serializer,i._byteString)};if(i instanceof Eo){const h=l.databaseId,m=i.firestore._databaseId;if(!m.isEqual(h))throw l.gc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:fN(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof TN)return function(m,g){return{mapValue:{fields:{[Z3]:{stringValue:eO},[fk]:{arrayValue:{values:m.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return uN(g.serializer,v)})}}}}}}(i,l);throw l.gc(`Unsupported field value: ${h1(i)}`)}(r,t)}function c9(r,t){const s={};return W3(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xu(r,(i,l)=>{const h=Ox(l,t.Ac(i));h!=null&&(s[i]=h)}),{mapValue:{fields:s}}}function d9(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bs||r instanceof MN||r instanceof Wf||r instanceof Eo||r instanceof DN||r instanceof TN)}function RN(r,t,s){if(!d9(s)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(s)){const i=h1(s);throw i==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+i)}}function $A(r,t,s){if((t=Ms(t))instanceof p1)return t._internalPath;if(typeof t=="string")return PN(r,t);throw Ak("Field path arguments must be of type string or ",r,!1,void 0,s)}const bZ=new RegExp("[~\\*/\\[\\]]");function PN(r,t,s){if(t.search(bZ)>=0)throw Ak(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new p1(...t.split("."))._internalPath}catch{throw Ak(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function Ak(r,t,s,i,l){const h=i&&!i.isEmpty(),m=l!==void 0;let g=`Function ${t}() called with invalid data`;s&&(g+=" (via `toFirestore()`)"),g+=". ";let b="";return(h||m)&&(b+=" (found",h&&(b+=` in field ${i}`),m&&(b+=` in document ${l}`),b+=")"),new ut(We.INVALID_ARGUMENT,g+r+b)}function u9(r,t){return r.some(s=>s.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(t,s,i,l,h){this._firestore=t,this._userDataWriter=s,this._key=i,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Eo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(ON("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class yZ extends h9{data(){return super.data()}}function ON(r,t){return typeof t=="string"?PN(r,t):t instanceof p1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BN{}class m9 extends BN{}function P_(r,t,...s){let i=[];t instanceof BN&&i.push(t),i=i.concat(s),function(h){const m=h.filter(b=>b instanceof LN).length,g=h.filter(b=>b instanceof b1).length;if(m>1||m>0&&g>0)throw new ut(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class b1 extends m9{constructor(t,s,i){super(),this._field=t,this._op=s,this._value=i,this.type="where"}static _create(t,s,i){return new b1(t,s,i)}_apply(t){const s=this._parse(t);return p9(t._query,s),new Xm(t.firestore,t.converter,VA(t._query,s))}_parse(t){const s=f1(t.firestore);return function(h,m,g,b,v,k,C){let _;if(v.isKeyField()){if(k==="array-contains"||k==="array-contains-any")throw new ut(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if(k==="in"||k==="not-in"){OT(C,k);const T=[];for(const R of C)T.push(PT(b,h,R));_={arrayValue:{values:T}}}else _=PT(b,h,C)}else k!=="in"&&k!=="not-in"&&k!=="array-contains-any"||OT(C,k),_=gZ(g,m,C,k==="in"||k==="not-in");return ts.create(v,k,_)}(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}function RT(r,t,s){const i=t,l=ON("where",r);return b1._create(l,i,s)}class LN extends BN{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new LN(t,s)}_parse(t){const s=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return s.length===1?s[0]:Ja.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:(function(l,h){let m=l;const g=h.getFlattenedFilters();for(const b of g)p9(m,b),m=VA(m,b)}(t._query,s),new Xm(t.firestore,t.converter,VA(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zN extends m9{constructor(t,s,i){super(),this.type=t,this._limit=s,this._limitType=i}static _create(t,s,i){return new zN(t,s,i)}_apply(t){return new Xm(t.firestore,t.converter,yk(t._query,this._limit,this._limitType))}}function vZ(r){return aZ("limit",r),zN._create("limit",r,"F")}function PT(r,t,s){if(typeof(s=Ms(s))=="string"){if(s==="")throw new ut(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lO(t)&&s.indexOf("/")!==-1)throw new ut(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const i=t.path.child(tn.fromString(s));if(!bt.isDocumentKey(i))throw new ut(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Q5(r,new bt(i))}if(s instanceof Eo)return Q5(r,s._key);throw new ut(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h1(s)}.`)}function OT(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function p9(r,t){const s=function(l,h){for(const m of l)for(const g of m.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(s!==null)throw s===t.op?new ut(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}class wZ{convertValue(t,s="none"){switch(Vu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Fu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const i={};return Xu(t,(l,h)=>{i[l]=this.convertValue(h,s)}),i}convertVectorValue(t){var s,i,l;const h=(l=(i=(s=t.fields)===null||s===void 0?void 0:s[fk].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(m=>Gn(m.doubleValue));return new TN(h)}convertGeoPoint(t){return new MN(Gn(t.latitude),Gn(t.longitude))}convertArray(t,s){return(t.values||[]).map(i=>this.convertValue(i,s))}convertServerTimestamp(t,s){switch(s){case"previous":const i=n1(t);return i==null?null:this.convertValue(i,s);case"estimate":return this.convertTimestamp($y(t));default:return null}}convertTimestamp(t){const s=zu(t);return new bs(s.seconds,s.nanos)}convertDocumentKey(t,s){const i=tn.fromString(t);Br(DO(i),9688,{name:t});const l=new Zy(i.get(1),i.get(3)),h=new bt(i.popFirst(5));return l.isEqual(s)||md(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(r,t,s){let i;return i=r?r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class g9 extends h9{constructor(t,s,i,l,h,m){super(t,s,i,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new Hw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const i=this._document.data.field(ON("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,s.serverTimestamps)}}}class Hw extends g9{data(t={}){return super.data(t)}}class kZ{constructor(t,s,i,l){this._firestore=t,this._userDataWriter=s,this._snapshot=l,this.metadata=new Cy(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach(i=>{t.call(s,new Hw(this._firestore,this._userDataWriter,i.key,i,new Cy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ut(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(g=>{const b=new Hw(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cy(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:b,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const b=new Hw(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cy(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,k=-1;return g.type!==0&&(v=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),k=m.indexOf(g.doc.key)),{type:CZ(g.type),doc:b,oldIndex:v,newIndex:k}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function CZ(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(r){r=Xa(r,Eo);const t=Xa(r.firestore,$m);return sZ(EN(t),r._key).then(s=>SZ(t,r,s))}class b9 extends wZ{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wf(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new Eo(this.firestore,null,s)}}function y9(r){r=Xa(r,Xm);const t=Xa(r.firestore,$m),s=EN(t),i=new b9(t);return xZ(r._query),oZ(s,r._query).then(l=>new kZ(t,i,r,l))}function BT(r,t,s){r=Xa(r,Eo);const i=Xa(r.firestore,$m),l=f9(r.converter,t);return y1(i,[l9(f1(i),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,Zi.none())])}function AZ(r,t,s,...i){r=Xa(r,Eo);const l=Xa(r.firestore,$m),h=f1(l);let m;return m=typeof(t=Ms(t))=="string"||t instanceof p1?fZ(h,"updateDoc",r._key,t,s,i):pZ(h,"updateDoc",r._key,t),y1(l,[m.toMutation(r._key,Zi.exists(!0))])}function NZ(r){return y1(Xa(r.firestore,$m),[new hN(r._key,Zi.none())])}function jZ(r,t){const s=Xa(r.firestore,$m),i=zf(r),l=f9(r.converter,t);return y1(s,[l9(f1(r.firestore),"addDoc",i._key,l,r.converter!==null,{}).toMutation(i._key,Zi.exists(!1))]).then(()=>i)}function y1(r,t){return function(i,l){const h=new od;return i.asyncQueue.enqueueAndForget(async()=>Y$(await nZ(i),l,h)),h.promise}(EN(r),t)}function SZ(r,t,s){const i=s.docs.get(t._key),l=new b9(r);return new g9(r,l,t._key,i,new Cy(s.hasPendingWrites,s.fromCache),t.converter)}(function(t,s=!0){(function(l){ng=l})(Km),Bm(new Bu("firestore",(i,{instanceIdentifier:l,options:h})=>{const m=i.getProvider("app").getImmediate(),g=new $m(new gJ(i.getProvider("auth-internal")),new xJ(m,i.getProvider("app-check-internal")),function(v,k){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zy(v.options.projectId,k)}(m,l),m);return h=Object.assign({useFetchStreams:s},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ql(B5,L5,t),ql(B5,L5,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="firebasestorage.googleapis.com",EZ="storageBucket",DZ=2*60*1e3,MZ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends rc{constructor(t,s,i=0){super(O_(t),`Firebase Storage: ${s} (${O_(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nc.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return O_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zl;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zl||(Zl={}));function O_(r){return"storage/"+r}function TZ(){const r="An unknown error occurred, please check the error payload for server response.";return new nc(Zl.UNKNOWN,r)}function IZ(){return new nc(Zl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RZ(){return new nc(Zl.CANCELED,"User canceled the upload/download.")}function PZ(r){return new nc(Zl.INVALID_URL,"Invalid URL '"+r+"'.")}function OZ(r){return new nc(Zl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function LT(r){return new nc(Zl.INVALID_ARGUMENT,r)}function v9(){return new nc(Zl.APP_DELETED,"The Firebase app was deleted.")}function BZ(r){return new nc(Zl.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let i;try{i=Wa.makeFromUrl(t,s)}catch{return new Wa(t,"")}if(i.path==="")return i;throw OZ(t)}static makeFromUrl(t,s){let i=null;const l="([A-Za-z0-9.\\-_]+)";function h(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const m="(/(.*))?$",g=new RegExp("^gs://"+l+m,"i"),b={bucket:1,path:3};function v(q){q.path_=decodeURIComponent(q.path)}const k="v[A-Za-z0-9_]+",C=s.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${C}/${k}/b/${l}/o${_}`,"i"),T={bucket:1,path:3},R=s===x9?"(?:storage.googleapis.com|storage.cloud.google.com)":s,P="([^?#]*)",V=new RegExp(`^https?://${R}/${l}/${P}`,"i"),F=[{regex:g,indices:b,postModify:h},{regex:S,indices:T,postModify:v},{regex:V,indices:{bucket:1,path:2},postModify:v}];for(let q=0;q<F.length;q++){const ne=F[q],se=ne.regex.exec(t);if(se){const Q=se[ne.indices.bucket];let B=se[ne.indices.path];B||(B=""),i=new Wa(Q,B),ne.postModify(i);break}}if(i==null)throw PZ(t);return i}}class LZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(r,t,s){let i=1,l=null,h=null,m=!1,g=0;function b(){return g===2}let v=!1;function k(...P){v||(v=!0,t.apply(null,P))}function C(P){l=setTimeout(()=>{l=null,r(S,b())},P)}function _(){h&&clearTimeout(h)}function S(P,...V){if(v){_();return}if(P){_(),k.call(null,P,...V);return}if(b()||m){_(),k.call(null,P,...V);return}i<64&&(i*=2);let F;g===1?(g=2,F=0):F=(i+Math.random())*1e3,C(F)}let T=!1;function R(P){T||(T=!0,_(),!v&&(l!==null?(P||(g=2),clearTimeout(l),C(0)):P||(g=1)))}return C(0),h=setTimeout(()=>{m=!0,R(!0)},s),R}function FZ(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZ(r){return r!==void 0}function zT(r,t,s,i){if(i<t)throw LT(`Invalid value for '${r}'. Expected ${t} or greater.`);if(i>s)throw LT(`Invalid value for '${r}'. Expected ${s} or less.`)}function UZ(r){const t=encodeURIComponent;let s="?";for(const i in r)if(r.hasOwnProperty(i)){const l=t(i)+"="+t(r[i]);s=s+l+"&"}return s=s.slice(0,-1),s}var Nk;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Nk||(Nk={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(r,t){const s=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,h=t.indexOf(r)!==-1;return s||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(t,s,i,l,h,m,g,b,v,k,C,_=!0,S=!1){this.url_=t,this.method_=s,this.headers_=i,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=g,this.errorCallback_=b,this.timeout_=v,this.progressCallback_=k,this.connectionFactory_=C,this.retry=_,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,R)=>{this.resolve_=T,this.reject_=R,this.start_()})}start_(){const t=(i,l)=>{if(l){i(!1,new bw(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=g=>{const b=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(b,v)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const g=h.getErrorCode()===Nk.NO_ERROR,b=h.getStatus();if(!g||GZ(b,this.additionalRetryCodes_)&&this.retry){const k=h.getErrorCode()===Nk.ABORT;i(!1,new bw(!1,null,k));return}const v=this.successCodes_.indexOf(b)!==-1;i(!0,new bw(v,h))})},s=(i,l)=>{const h=this.resolve_,m=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const b=this.callback_(g,g.getResponse());VZ(b)?h(b):h()}catch(b){m(b)}else if(g!==null){const b=TZ();b.serverResponse=g.getErrorText(),this.errorCallback_?m(this.errorCallback_(g,b)):m(b)}else if(l.canceled){const b=this.appDelete_?v9():RZ();m(b)}else{const b=IZ();m(b)}};this.canceled_?s(!1,new bw(!1,null,!0)):this.backoffId_=zZ(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&FZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bw{constructor(t,s,i){this.wasSuccessCode=t,this.connection=s,this.canceled=!!i}}function qZ(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function YZ(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function WZ(r,t){t&&(r["X-Firebase-GMPID"]=t)}function KZ(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function QZ(r,t,s,i,l,h,m=!0,g=!1){const b=UZ(r.urlParams),v=r.url+b,k=Object.assign({},r.headers);return WZ(k,t),qZ(k,s),YZ(k,h),KZ(k,i),new HZ(v,r.method,k,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,m,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function XZ(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,s){this._service=t,s instanceof Wa?this._location=s:this._location=Wa.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new jk(t,s)}get root(){const t=new Wa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XZ(this._location.path)}get storage(){return this._service}get parent(){const t=JZ(this._location.path);if(t===null)return null;const s=new Wa(this._location.bucket,t);return new jk(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw BZ(t)}}function FT(r,t){const s=t==null?void 0:t[EZ];return s==null?null:Wa.makeFromBucketSpec(s,r)}function $Z(r,t,s,i={}){r.host=`${t}:${s}`;const l=Wm(t);l&&(U2(`https://${r.host}/b`),G2("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:h}=i;h&&(r._overrideAuthToken=typeof h=="string"?h:XP(h,r.app.options.projectId))}class ZZ{constructor(t,s,i,l,h,m=!1){this.app=t,this._authProvider=s,this._appCheckProvider=i,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=x9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DZ,this._maxUploadRetryTime=MZ,this._requests=new Set,l!=null?this._bucket=Wa.makeFromBucketSpec(l,this._host):this._bucket=FT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Wa.makeFromBucketSpec(this._url,t):this._bucket=FT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Qo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jk(this,t)}_makeRequest(t,s,i,l,h=!0){if(this._deleted)return new LZ(v9());{const m=QZ(t,this._appId,i,l,s,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,s){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,i,l).getPromise()}}const VT="@firebase/storage",UT="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="storage";function eee(r=Y2(),t){r=Ms(r);const i=Xk(r,w9).getImmediate({identifier:t}),l=KP("storage");return l&&tee(i,...l),i}function tee(r,t,s,i={}){$Z(r,t,s,i)}function ree(r,{instanceIdentifier:t}){const s=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new ZZ(s,i,l,t,Km)}function nee(){Bm(new Bu(w9,ree,"PUBLIC").setMultipleInstances(!0)),ql(VT,UT,""),ql(VT,UT,"esm2017")}nee();const see={apiKey:"AIzaSyDsPZsRwk4uFh7r-IN8NCzAca_mxPe67OE",authDomain:"anandmobiles-daa8b.firebaseapp.com",projectId:"anandmobiles-daa8b",storageBucket:"anandmobiles-daa8b.firebasestorage.app",messagingSenderId:"403268549781",appId:"1:403268549781:web:4aa820dddb7db1fa076f9c",measurementId:"G-PQSMJKJFFS"},FN=e3(see),_y=hJ(FN),oee=new ed,Du=cZ(FN);eee(FN);const k9=r=>{try{const t=localStorage.getItem(r);return t?JSON.parse(t):null}catch(t){return console.error(`Error parsing stored data for key ${r}:`,t),null}},Ay=(r,t)=>{try{return localStorage.setItem(r,JSON.stringify(t)),!0}catch(s){return console.error(`Error storing data for key ${r}:`,s),!1}},B_=(r,t)=>{try{return r&&localStorage.setItem(Pm,r),t&&Ay(Zc,t),!0}catch(s){return console.error("Error persisting auth data:",s),!1}},L_=()=>{try{localStorage.removeItem(Pm),localStorage.removeItem(Zc)}catch(r){console.error("Error clearing auth data:",r)}},iee=()=>{const r=localStorage.getItem(Pm),t=k9(Zc);return{user:t,isAuthenticated:!!(r&&t),isLoading:!1,error:null}},jr=un(r=>({...iee(),login:async t=>{var s,i,l,h;try{r({isLoading:!0,error:null});const g=(await or.post("/users/login",{email:t.email,password:t.password})).data,b={uid:g.user_id,email:g.email,first_name:g.first_name,last_name:g.last_name,phone:g.phone_number||g.phone||""};return B_(g.token,b),r({user:b,isAuthenticated:!0,isLoading:!1}),g}catch(m){throw r({error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Login failed. Please check your credentials.",isLoading:!1}),m}},signup:async t=>{var s,i,l,h;try{if(r({isLoading:!0,error:null}),t.idToken){const C=(await or.post("/users/signup",{idToken:t.idToken})).data,_={uid:C.user_id,email:C.email,first_name:C.first_name,last_name:C.last_name,phone:C.phone_number||""};return B_(C.token,_),r({user:_,isAuthenticated:!0,isLoading:!1}),C}const m={email:t.email,password:t.password,first_name:t.firstName||t.first_name||"",last_name:t.lastName||t.last_name||"",phone_number:t.phone||t.phone_number||""};t.metadata&&(m.metadata=t.metadata);const b=(await or.post("/users/signup",m)).data,v={uid:b.user_id,email:b.email,first_name:b.first_name,last_name:b.last_name,phone:b.phone_number||m.phone_number||""};return B_(b.token,v),r({user:v,isAuthenticated:!0,isLoading:!1}),b}catch(m){throw r({error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Signup failed. Please try again.",isLoading:!1}),m}},googleSignup:async()=>{var t,s,i,l;try{r({isLoading:!0,error:null});const g=await(await wQ(_y,oee)).user.getIdToken();return await jr.getState().signup({idToken:g})}catch(h){throw r({error:((s=(t=h.response)==null?void 0:t.data)==null?void 0:s.detail)||((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Google signup failed. Please try again.",isLoading:!1}),h}},logout:()=>{L_(),r({user:null,isAuthenticated:!1,error:null,isLoading:!1})},checkAuthStatus:async()=>{try{if(r({isLoading:!0}),localStorage.getItem(Pm))try{let s=k9(Zc);if(!s){const i=await or.get("/users/profile/");s={uid:i.data.user_id||i.data.uid,email:i.data.email,first_name:i.data.first_name,last_name:i.data.last_name,phone:i.data.phone_number||i.data.phone||""},Ay(Zc,s)}return r({user:s,isAuthenticated:!0,isLoading:!1}),s}catch(s){return L_(),r({user:null,isAuthenticated:!1,isLoading:!1,error:s.message||"Session expired"}),null}else return r({user:null,isAuthenticated:!1,isLoading:!1}),null}catch(t){return L_(),r({user:null,isAuthenticated:!1,isLoading:!1,error:t.message||"Session expired"}),null}},updateUserProfile:t=>{const s=jr.getState().user;if(!s)return;const i={...s,...t};Ay(Zc,i),r({user:i})},fetchUserProfile:async()=>{var t,s;try{r({isLoading:!0,error:null});const l=(await or.get("/users/profile/")).data,h={uid:l.user_id||l.uid,email:l.email,first_name:l.first_name,last_name:l.last_name,phone:l.phone_number||l.phone||"",auth_provider:l.auth_provider};return Ay(Zc,h),r({user:h,isLoading:!1}),h}catch(i){throw r({error:((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch profile",isLoading:!1}),i}},updateUserProfileAPI:async t=>{var s,i,l,h;try{r({isLoading:!0,error:null});const m=await or.post("/users/profile/update/",t),g=m.data.user,b={uid:g.user_id||((s=jr.getState().user)==null?void 0:s.uid),email:g.email,first_name:g.first_name,last_name:g.last_name,phone:g.phone_number||g.phone||"",auth_provider:(i=jr.getState().user)==null?void 0:i.auth_provider};return Ay(Zc,b),r({user:b,isLoading:!1}),{success:!0,message:m.data.message,user:b}}catch(m){throw r({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update profile",isLoading:!1}),m}},getToken:()=>{try{return localStorage.getItem(Pm)}catch(t){return console.error("Error getting token:",t),null}},clearError:()=>r({error:null})}));function nx(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(r)}function $a(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(r)}function Dm(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function x1(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(r)}function id(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function C9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(r)}function v1(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(r)}function aee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(r)}function Ou(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(r)}function _9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function Hu(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(r)}function ei(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function VN(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(r)}function qn(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function rs(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function ki(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function Za(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(r)}function Pn(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function Ul(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(r)}function rn(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function na(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function GT(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6.13 1L6 16a2 2 0 0 0 2 2h15"},child:[]},{tag:"path",attr:{d:"M1 6.13L16 6a2 2 0 0 1 2 2v15"},child:[]}]})(r)}function Mm(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function ji(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function Zm(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function sx(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(r)}function ox(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(r)}function lee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function Di(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function cee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(r)}function dee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"},child:[]}]})(r)}function A9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function yd(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(r)}function UN(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(r)}function N9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(r)}function GN(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function ag(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function HN(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function j9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(r)}function Um(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function uee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(r)}function hee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(r)}function mee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(r)}function pee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(r)}function fee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(r)}function Si(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(r)}function ad(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function S9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function ec(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function vn(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function z_(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(r)}function gee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function bee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function E9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function yee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(r)}function xee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(r)}function D9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(r)}function qw(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"},child:[]},{tag:"polyline",attr:{points:"9 5 12 2 15 5"},child:[]},{tag:"polyline",attr:{points:"15 19 12 22 9 19"},child:[]},{tag:"polyline",attr:{points:"19 9 22 12 19 15"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"},child:[]}]})(r)}function vee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(r)}function vt(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(r)}function wee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(r)}function sa(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(r)}function M9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(r)}function Yw(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(r)}function Hn(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Mi(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function T9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(r)}function Gm(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function Ei(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function I9(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(r)}function qN(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function kee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(r)}function Sk(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function el(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(r)}function lg(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(r)}function Cee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(r)}function Xr(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(r)}function HT(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(r)}function _ee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(r)}function Aee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(r)}function Ci(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(r)}function _i(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(r)}function cn(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function Nee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(r)}function Bx(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(r)}function Lr(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(r)}function jee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(r)}function Ek(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(r)}function ix(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(r)}function qT(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(r)}function w1(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(r)}function Ds(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function fd(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function Lx(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(r)}function qt(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function See(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(r)}function Eee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(r)}function Dee(r){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(r)}function R9(r){return Le({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}const Mee=()=>{const r=ns(),{signup:t,googleSignup:s,error:i,clearError:l,isLoading:h}=jr(),[m,g]=O.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[b,v]=O.useState({}),[k,C]=O.useState({}),_=U=>{const{name:F,value:q}=U.target;g(ne=>({...ne,[F]:q})),b[F]&&v(ne=>({...ne,[F]:""})),i&&l()},S=()=>{const U={};return m.firstName.trim()||(U.firstName="First name is required"),m.lastName.trim()||(U.lastName="Last name is required"),m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(U.email="Invalid email address"):U.email="Email is required",m.password?m.password.length<6&&(U.password="Password must be at least 6 characters long"):U.password="Password is required",m.password!==m.confirmPassword&&(U.confirmPassword="Passwords do not match"),m.phone.trim()?/^\d{10}$/.test(m.phone)||(U.phone="Invalid phone number"):U.phone="Phone number is required",v(U),Object.keys(U).length===0},T=O.useCallback(()=>{const U={};k.firstName&&!m.firstName.trim()&&(U.firstName="First name is required"),k.lastName&&!m.lastName.trim()&&(U.lastName="Last name is required"),k.email&&(m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(U.email="Invalid email address"):U.email="Email is required"),k.password&&(m.password?m.password.length<6&&(U.password="Password must be at least 6 characters long"):U.password="Password is required"),k.confirmPassword&&m.password!==m.confirmPassword&&(U.confirmPassword="Passwords do not match"),k.phone&&(m.phone.trim()?/^\d{10}$/.test(m.phone)||(U.phone="Invalid phone number"):U.phone="Phone number is required"),v(U)},[m,k]);O.useEffect(()=>{T()},[m,k,T]);const R=U=>{const{name:F}=U.target;C(q=>({...q,[F]:!0}))},P=async U=>{if(U.preventDefault(),!!S())try{const F={email:m.email,password:m.password,first_name:m.firstName,last_name:m.lastName,phone_number:m.phone},q=await t(F);console.log("Signup successful:",q),r("/")}catch(F){console.error("Signup error:",F)}},V=async()=>{try{const U=await s();console.log("Google signup successful:",U),r("/")}catch(U){console.error("Google signup error:",U)}};return n.jsxs(Ym,{title:"Join Anand Mobiles",titleColor:"var(--brand-primary)",children:[n.jsx("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Create an account to enjoy a personalized shopping experience"}),n.jsxs("form",{className:"mt-7 space-y-5",onSubmit:P,children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mr-12 -mt-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 -ml-12 -mb-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-secondary)"}}),n.jsxs("div",{className:"space-y-4 relative z-10",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(qr,{label:"First Name",name:"firstName",value:m.firstName,onChange:_,onBlur:R,required:!0,error:b.firstName,placeholder:"John",icon:n.jsx(Ds,{})}),n.jsx(qr,{label:"Last Name",name:"lastName",value:m.lastName,onChange:_,onBlur:R,required:!0,error:b.lastName,placeholder:"Doe",icon:n.jsx(Ds,{})})]}),n.jsx(qr,{label:"Email Address",type:"email",name:"email",value:m.email,onChange:_,onBlur:R,required:!0,error:b.email,placeholder:"you@example.com",icon:n.jsx(ec,{})}),n.jsx(qr,{label:"Phone Number",type:"tel",name:"phone",value:m.phone,onChange:_,onBlur:R,required:!0,error:b.phone,placeholder:"1234567890",icon:n.jsx(sa,{})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(qr,{label:"Password",type:"password",name:"password",value:m.password,onChange:_,onBlur:R,required:!0,error:b.password,placeholder:"",icon:n.jsx(ad,{})}),n.jsx(qr,{label:"Confirm Password",type:"password",name:"confirmPassword",value:m.confirmPassword,onChange:_,onBlur:R,required:!0,error:b.confirmPassword,placeholder:"",icon:n.jsx(ad,{})})]})]}),i&&n.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)",borderRadius:"var(--rounded-md)"},children:[n.jsx($a,{className:"h-5 w-5 mr-2"}),i]}),n.jsx("div",{className:"pt-2 mt-2",children:n.jsx(tt,{type:"submit",isLoading:h,variant:"primary",size:"lg",fullWidth:!0,children:h?"Creating account...":"Create account"})}),n.jsxs("div",{className:"relative my-5",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:"or continue with"})})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{type:"button",onClick:V,className:"flex items-center justify-center py-3 px-6 border rounded-md hover:shadow-md transition-all duration-300",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx(R9,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})}),n.jsxs("div",{className:"text-sm text-center mt-6",style:{color:"var(--text-secondary)"},children:["Already have an account?",n.jsx(rt,{to:"/login",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Sign in"})]}),n.jsxs("div",{className:"text-xs text-center mt-4",style:{color:"var(--text-secondary)"},children:["By creating an account, you agree to our",n.jsx("br",{}),n.jsx(rt,{to:"/terms",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Terms of Service"}),"&",n.jsx(rt,{to:"/privacy",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Privacy Policy"})]})]})]})},Tee=()=>{const r=ns(),{login:t,googleSignup:s,error:i,clearError:l,isLoading:h}=jr(),[m,g]=O.useState({email:"",password:""}),[b,v]=O.useState({}),[k,C]=O.useState({email:!1,password:!1}),_=O.useCallback(()=>{const U={};k.email&&(m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(U.email="Invalid email address"):U.email="Email is required"),k.password&&!m.password&&(U.password="Password is required"),v(U)},[m.email,m.password,k]);O.useEffect(()=>{_()},[m,k,_]);const S=U=>{const{name:F,value:q}=U.target;g(ne=>({...ne,[F]:q})),b[F]&&v(ne=>({...ne,[F]:""})),i&&l()},T=U=>{const{name:F}=U.target;C(q=>({...q,[F]:!0}))},R=()=>{const U={};return m.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(U.email="Invalid email address"):U.email="Email is required",m.password||(U.password="Password is required"),v(U),Object.keys(U).length===0},P=async U=>{if(U.preventDefault(),!!R())try{const F=await t({email:m.email,password:m.password});console.log("Login successful:",F),r("/")}catch(F){console.error("Login error:",F)}},V=async()=>{try{const U=await s();console.log("Google login successful:",U),r("/")}catch(U){console.error("Google login error:",U)}};return n.jsxs(Ym,{title:"Welcome back",titleColor:"var(--brand-primary)",children:[n.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Sign in to access your account, track orders, and explore our latest products"}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"bg-white rounded-lg p-6",style:{boxShadow:"var(--shadow-small)",borderRadius:"var(--rounded-lg)"},children:n.jsxs("form",{className:"space-y-6",onSubmit:P,children:[n.jsxs("div",{className:"space-y-5",children:[n.jsx(qr,{label:"Email Address",type:"email",name:"email",value:m.email,onChange:S,onBlur:T,required:!0,error:b.email,placeholder:"you@example.com",icon:n.jsx(ec,{})}),n.jsx(qr,{label:"Password",type:"password",name:"password",value:m.password,onChange:S,onBlur:T,required:!0,error:b.password,placeholder:"",icon:n.jsx(ad,{})})]}),i&&n.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:[n.jsx($a,{className:"h-5 w-5 mr-2"}),i]}),n.jsx("div",{className:"pt-2",children:n.jsx(tt,{type:"submit",isLoading:h,variant:"primary",size:"lg",fullWidth:!0,children:h?"Signing in...":"Sign in"})})]})}),n.jsxs("div",{className:"relative my-8",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white rounded",style:{color:"var(--text-secondary)"},children:"or continue with"})})]}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("button",{type:"button",onClick:V,className:"flex justify-center items-center py-3 px-6 border rounded-md shadow-sm text-sm font-medium transition-colors duration-200",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx(R9,{className:"h-5 w-5 mr-2"}),"Google"]})}),n.jsxs("div",{className:"text-sm text-center mt-8 pb-4",children:["Don't have an account ? ",n.jsx("br",{}),n.jsx(rt,{to:"/signup",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Create an account"})]})]})]})},YN=O.createContext({});function WN(r){const t=O.useRef(null);return t.current===null&&(t.current=r()),t.current}const KN=typeof window<"u",P9=KN?O.useLayoutEffect:O.useEffect,k1=O.createContext(null);function QN(r,t){r.indexOf(t)===-1&&r.push(t)}function JN(r,t){const s=r.indexOf(t);s>-1&&r.splice(s,1)}const gd=(r,t,s)=>s>t?t:s<r?r:s;let XN=()=>{};const bd={},O9=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function B9(r){return typeof r=="object"&&r!==null}const L9=r=>/^0[^.\s]+$/u.test(r);function $N(r){let t;return()=>(t===void 0&&(t=r()),t)}const ea=r=>r,Iee=(r,t)=>s=>t(r(s)),zx=(...r)=>r.reduce(Iee),ax=(r,t,s)=>{const i=t-r;return i===0?1:(s-r)/i};class ZN{constructor(){this.subscriptions=[]}add(t){return QN(this.subscriptions,t),()=>JN(this.subscriptions,t)}notify(t,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,i);else for(let h=0;h<l;h++){const m=this.subscriptions[h];m&&m(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ql=r=>r*1e3,Jl=r=>r/1e3;function z9(r,t){return t?r*(1e3/t):0}const F9=(r,t,s)=>(((1-3*s+3*t)*r+(3*s-6*t))*r+3*t)*r,Ree=1e-7,Pee=12;function Oee(r,t,s,i,l){let h,m,g=0;do m=t+(s-t)/2,h=F9(m,i,l)-r,h>0?s=m:t=m;while(Math.abs(h)>Ree&&++g<Pee);return m}function Fx(r,t,s,i){if(r===t&&s===i)return ea;const l=h=>Oee(h,0,1,r,s);return h=>h===0||h===1?h:F9(l(h),t,i)}const V9=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,U9=r=>t=>1-r(1-t),G9=Fx(.33,1.53,.69,.99),ej=U9(G9),H9=V9(ej),q9=r=>(r*=2)<1?.5*ej(r):.5*(2-Math.pow(2,-10*(r-1))),tj=r=>1-Math.sin(Math.acos(r)),Y9=U9(tj),W9=V9(tj),Bee=Fx(.42,0,1,1),Lee=Fx(0,0,.58,1),K9=Fx(.42,0,.58,1),zee=r=>Array.isArray(r)&&typeof r[0]!="number",Q9=r=>Array.isArray(r)&&typeof r[0]=="number",Fee={linear:ea,easeIn:Bee,easeInOut:K9,easeOut:Lee,circIn:tj,circInOut:W9,circOut:Y9,backIn:ej,backInOut:H9,backOut:G9,anticipate:q9},Vee=r=>typeof r=="string",YT=r=>{if(Q9(r)){XN(r.length===4);const[t,s,i,l]=r;return Fx(t,s,i,l)}else if(Vee(r))return Fee[r];return r},yw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],WT={value:null};function Uee(r,t){let s=new Set,i=new Set,l=!1,h=!1;const m=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1},b=0;function v(C){m.has(C)&&(k.schedule(C),r()),b++,C(g)}const k={schedule:(C,_=!1,S=!1)=>{const R=S&&l?s:i;return _&&m.add(C),R.has(C)||R.add(C),C},cancel:C=>{i.delete(C),m.delete(C)},process:C=>{if(g=C,l){h=!0;return}l=!0,[s,i]=[i,s],s.forEach(v),t&&WT.value&&WT.value.frameloop[t].push(b),b=0,s.clear(),l=!1,h&&(h=!1,k.process(C))}};return k}const Gee=40;function J9(r,t){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},h=()=>s=!0,m=yw.reduce((F,q)=>(F[q]=Uee(h,t?q:void 0),F),{}),{setup:g,read:b,resolveKeyframes:v,preUpdate:k,update:C,preRender:_,render:S,postRender:T}=m,R=()=>{const F=bd.useManualTiming?l.timestamp:performance.now();s=!1,bd.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(F-l.timestamp,Gee),1)),l.timestamp=F,l.isProcessing=!0,g.process(l),b.process(l),v.process(l),k.process(l),C.process(l),_.process(l),S.process(l),T.process(l),l.isProcessing=!1,s&&t&&(i=!1,r(R))},P=()=>{s=!0,i=!0,l.isProcessing||r(R)};return{schedule:yw.reduce((F,q)=>{const ne=m[q];return F[q]=(se,Q=!1,B=!1)=>(s||P(),ne.schedule(se,Q,B)),F},{}),cancel:F=>{for(let q=0;q<yw.length;q++)m[yw[q]].cancel(F)},state:l,steps:m}}const{schedule:wn,cancel:qu,state:qs,steps:F_}=J9(typeof requestAnimationFrame<"u"?requestAnimationFrame:ea,!0);let Ww;function Hee(){Ww=void 0}const Xo={now:()=>(Ww===void 0&&Xo.set(qs.isProcessing||bd.useManualTiming?qs.timestamp:performance.now()),Ww),set:r=>{Ww=r,queueMicrotask(Hee)}},X9=r=>t=>typeof t=="string"&&t.startsWith(r),rj=X9("--"),qee=X9("var(--"),nj=r=>qee(r)?Yee.test(r.split("/*")[0].trim()):!1,Yee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cg={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},lx={...cg,transform:r=>gd(0,1,r)},xw={...cg,default:1},By=r=>Math.round(r*1e5)/1e5,sj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wee(r){return r==null}const Kee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oj=(r,t)=>s=>!!(typeof s=="string"&&Kee.test(s)&&s.startsWith(r)||t&&!Wee(s)&&Object.prototype.hasOwnProperty.call(s,t)),$9=(r,t,s)=>i=>{if(typeof i!="string")return i;const[l,h,m,g]=i.match(sj);return{[r]:parseFloat(l),[t]:parseFloat(h),[s]:parseFloat(m),alpha:g!==void 0?parseFloat(g):1}},Qee=r=>gd(0,255,r),V_={...cg,transform:r=>Math.round(Qee(r))},Nm={test:oj("rgb","red"),parse:$9("red","green","blue"),transform:({red:r,green:t,blue:s,alpha:i=1})=>"rgba("+V_.transform(r)+", "+V_.transform(t)+", "+V_.transform(s)+", "+By(lx.transform(i))+")"};function Jee(r){let t="",s="",i="",l="";return r.length>5?(t=r.substring(1,3),s=r.substring(3,5),i=r.substring(5,7),l=r.substring(7,9)):(t=r.substring(1,2),s=r.substring(2,3),i=r.substring(3,4),l=r.substring(4,5),t+=t,s+=s,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const ZA={test:oj("#"),parse:Jee,transform:Nm.transform},Vx=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),_u=Vx("deg"),Xl=Vx("%"),St=Vx("px"),Xee=Vx("vh"),$ee=Vx("vw"),KT={...Xl,parse:r=>Xl.parse(r)/100,transform:r=>Xl.transform(r*100)},Df={test:oj("hsl","hue"),parse:$9("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(r)+", "+Xl.transform(By(t))+", "+Xl.transform(By(s))+", "+By(lx.transform(i))+")"},es={test:r=>Nm.test(r)||ZA.test(r)||Df.test(r),parse:r=>Nm.test(r)?Nm.parse(r):Df.test(r)?Df.parse(r):ZA.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Nm.transform(r):Df.transform(r),getAnimatableNone:r=>{const t=es.parse(r);return t.alpha=0,es.transform(t)}},Zee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ete(r){var t,s;return isNaN(r)&&typeof r=="string"&&(((t=r.match(sj))==null?void 0:t.length)||0)+(((s=r.match(Zee))==null?void 0:s.length)||0)>0}const Z9="number",eB="color",tte="var",rte="var(",QT="${}",nte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cx(r){const t=r.toString(),s=[],i={color:[],number:[],var:[]},l=[];let h=0;const g=t.replace(nte,b=>(es.test(b)?(i.color.push(h),l.push(eB),s.push(es.parse(b))):b.startsWith(rte)?(i.var.push(h),l.push(tte),s.push(b)):(i.number.push(h),l.push(Z9),s.push(parseFloat(b))),++h,QT)).split(QT);return{values:s,split:g,indexes:i,types:l}}function tB(r){return cx(r).values}function rB(r){const{split:t,types:s}=cx(r),i=t.length;return l=>{let h="";for(let m=0;m<i;m++)if(h+=t[m],l[m]!==void 0){const g=s[m];g===Z9?h+=By(l[m]):g===eB?h+=es.transform(l[m]):h+=l[m]}return h}}const ste=r=>typeof r=="number"?0:es.test(r)?es.getAnimatableNone(r):r;function ote(r){const t=tB(r);return rB(r)(t.map(ste))}const Yu={test:ete,parse:tB,createTransformer:rB,getAnimatableNone:ote};function U_(r,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(t-r)*6*s:s<1/2?t:s<2/3?r+(t-r)*(2/3-s)*6:r}function ite({hue:r,saturation:t,lightness:s,alpha:i}){r/=360,t/=100,s/=100;let l=0,h=0,m=0;if(!t)l=h=m=s;else{const g=s<.5?s*(1+t):s+t-s*t,b=2*s-g;l=U_(b,g,r+1/3),h=U_(b,g,r),m=U_(b,g,r-1/3)}return{red:Math.round(l*255),green:Math.round(h*255),blue:Math.round(m*255),alpha:i}}function Dk(r,t){return s=>s>0?t:r}const xn=(r,t,s)=>r+(t-r)*s,G_=(r,t,s)=>{const i=r*r,l=s*(t*t-i)+i;return l<0?0:Math.sqrt(l)},ate=[ZA,Nm,Df],lte=r=>ate.find(t=>t.test(r));function JT(r){const t=lte(r);if(!t)return!1;let s=t.parse(r);return t===Df&&(s=ite(s)),s}const XT=(r,t)=>{const s=JT(r),i=JT(t);if(!s||!i)return Dk(r,t);const l={...s};return h=>(l.red=G_(s.red,i.red,h),l.green=G_(s.green,i.green,h),l.blue=G_(s.blue,i.blue,h),l.alpha=xn(s.alpha,i.alpha,h),Nm.transform(l))},e2=new Set(["none","hidden"]);function cte(r,t){return e2.has(r)?s=>s<=0?r:t:s=>s>=1?t:r}function dte(r,t){return s=>xn(r,t,s)}function ij(r){return typeof r=="number"?dte:typeof r=="string"?nj(r)?Dk:es.test(r)?XT:mte:Array.isArray(r)?nB:typeof r=="object"?es.test(r)?XT:ute:Dk}function nB(r,t){const s=[...r],i=s.length,l=r.map((h,m)=>ij(h)(h,t[m]));return h=>{for(let m=0;m<i;m++)s[m]=l[m](h);return s}}function ute(r,t){const s={...r,...t},i={};for(const l in s)r[l]!==void 0&&t[l]!==void 0&&(i[l]=ij(r[l])(r[l],t[l]));return l=>{for(const h in i)s[h]=i[h](l);return s}}function hte(r,t){const s=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const h=t.types[l],m=r.indexes[h][i[h]],g=r.values[m]??0;s[l]=g,i[h]++}return s}const mte=(r,t)=>{const s=Yu.createTransformer(t),i=cx(r),l=cx(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?e2.has(r)&&!l.values.length||e2.has(t)&&!i.values.length?cte(r,t):zx(nB(hte(i,l),l.values),s):Dk(r,t)};function sB(r,t,s){return typeof r=="number"&&typeof t=="number"&&typeof s=="number"?xn(r,t,s):ij(r)(r,t)}const pte=r=>{const t=({timestamp:s})=>r(s);return{start:(s=!0)=>wn.update(t,s),stop:()=>qu(t),now:()=>qs.isProcessing?qs.timestamp:Xo.now()}},oB=(r,t,s=10)=>{let i="";const l=Math.max(Math.round(t/s),2);for(let h=0;h<l;h++)i+=Math.round(r(h/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Mk=2e4;function aj(r){let t=0;const s=50;let i=r.next(t);for(;!i.done&&t<Mk;)t+=s,i=r.next(t);return t>=Mk?1/0:t}function fte(r,t=100,s){const i=s({...r,keyframes:[0,t]}),l=Math.min(aj(i),Mk);return{type:"keyframes",ease:h=>i.next(l*h).value/t,duration:Jl(l)}}const gte=5;function iB(r,t,s){const i=Math.max(t-gte,0);return z9(s-r(i),t-i)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},H_=.001;function bte({duration:r=In.duration,bounce:t=In.bounce,velocity:s=In.velocity,mass:i=In.mass}){let l,h,m=1-t;m=gd(In.minDamping,In.maxDamping,m),r=gd(In.minDuration,In.maxDuration,Jl(r)),m<1?(l=v=>{const k=v*m,C=k*r,_=k-s,S=t2(v,m),T=Math.exp(-C);return H_-_/S*T},h=v=>{const C=v*m*r,_=C*s+s,S=Math.pow(m,2)*Math.pow(v,2)*r,T=Math.exp(-C),R=t2(Math.pow(v,2),m);return(-l(v)+H_>0?-1:1)*((_-S)*T)/R}):(l=v=>{const k=Math.exp(-v*r),C=(v-s)*r+1;return-H_+k*C},h=v=>{const k=Math.exp(-v*r),C=(s-v)*(r*r);return k*C});const g=5/r,b=xte(l,h,g);if(r=Ql(r),isNaN(b))return{stiffness:In.stiffness,damping:In.damping,duration:r};{const v=Math.pow(b,2)*i;return{stiffness:v,damping:m*2*Math.sqrt(i*v),duration:r}}}const yte=12;function xte(r,t,s){let i=s;for(let l=1;l<yte;l++)i=i-r(i)/t(i);return i}function t2(r,t){return r*Math.sqrt(1-t*t)}const vte=["duration","bounce"],wte=["stiffness","damping","mass"];function $T(r,t){return t.some(s=>r[s]!==void 0)}function kte(r){let t={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...r};if(!$T(r,wte)&&$T(r,vte))if(r.visualDuration){const s=r.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,h=2*gd(.05,1,1-(r.bounce||0))*Math.sqrt(l);t={...t,mass:In.mass,stiffness:l,damping:h}}else{const s=bte(r);t={...t,...s,mass:In.mass},t.isResolvedFromDuration=!0}return t}function Tk(r=In.visualDuration,t=In.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:i,restDelta:l}=s;const h=s.keyframes[0],m=s.keyframes[s.keyframes.length-1],g={done:!1,value:h},{stiffness:b,damping:v,mass:k,duration:C,velocity:_,isResolvedFromDuration:S}=kte({...s,velocity:-Jl(s.velocity||0)}),T=_||0,R=v/(2*Math.sqrt(b*k)),P=m-h,V=Jl(Math.sqrt(b/k)),U=Math.abs(P)<5;i||(i=U?In.restSpeed.granular:In.restSpeed.default),l||(l=U?In.restDelta.granular:In.restDelta.default);let F;if(R<1){const ne=t2(V,R);F=se=>{const Q=Math.exp(-R*V*se);return m-Q*((T+R*V*P)/ne*Math.sin(ne*se)+P*Math.cos(ne*se))}}else if(R===1)F=ne=>m-Math.exp(-V*ne)*(P+(T+V*P)*ne);else{const ne=V*Math.sqrt(R*R-1);F=se=>{const Q=Math.exp(-R*V*se),B=Math.min(ne*se,300);return m-Q*((T+R*V*P)*Math.sinh(B)+ne*P*Math.cosh(B))/ne}}const q={calculatedDuration:S&&C||null,next:ne=>{const se=F(ne);if(S)g.done=ne>=C;else{let Q=ne===0?T:0;R<1&&(Q=ne===0?Ql(T):iB(F,ne,se));const B=Math.abs(Q)<=i,Y=Math.abs(m-se)<=l;g.done=B&&Y}return g.value=g.done?m:se,g},toString:()=>{const ne=Math.min(aj(q),Mk),se=oB(Q=>q.next(ne*Q).value,ne,30);return ne+"ms "+se},toTransition:()=>{}};return q}Tk.applyToOptions=r=>{const t=fte(r,100,Tk);return r.ease=t.ease,r.duration=Ql(t.duration),r.type="keyframes",r};function r2({keyframes:r,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:h=500,modifyTarget:m,min:g,max:b,restDelta:v=.5,restSpeed:k}){const C=r[0],_={done:!1,value:C},S=B=>g!==void 0&&B<g||b!==void 0&&B>b,T=B=>g===void 0?b:b===void 0||Math.abs(g-B)<Math.abs(b-B)?g:b;let R=s*t;const P=C+R,V=m===void 0?P:m(P);V!==P&&(R=V-C);const U=B=>-R*Math.exp(-B/i),F=B=>V+U(B),q=B=>{const Y=U(B),J=F(B);_.done=Math.abs(Y)<=v,_.value=_.done?V:J};let ne,se;const Q=B=>{S(_.value)&&(ne=B,se=Tk({keyframes:[_.value,T(_.value)],velocity:iB(F,B,_.value),damping:l,stiffness:h,restDelta:v,restSpeed:k}))};return Q(0),{calculatedDuration:null,next:B=>{let Y=!1;return!se&&ne===void 0&&(Y=!0,q(B),Q(B)),ne!==void 0&&B>=ne?se.next(B-ne):(!Y&&q(B),_)}}}function Cte(r,t,s){const i=[],l=s||bd.mix||sB,h=r.length-1;for(let m=0;m<h;m++){let g=l(r[m],r[m+1]);if(t){const b=Array.isArray(t)?t[m]||ea:t;g=zx(b,g)}i.push(g)}return i}function _te(r,t,{clamp:s=!0,ease:i,mixer:l}={}){const h=r.length;if(XN(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const m=r[0]===r[1];r[0]>r[h-1]&&(r=[...r].reverse(),t=[...t].reverse());const g=Cte(t,i,l),b=g.length,v=k=>{if(m&&k<r[0])return t[0];let C=0;if(b>1)for(;C<r.length-2&&!(k<r[C+1]);C++);const _=ax(r[C],r[C+1],k);return g[C](_)};return s?k=>v(gd(r[0],r[h-1],k)):v}function Ate(r,t){const s=r[r.length-1];for(let i=1;i<=t;i++){const l=ax(0,t,i);r.push(xn(s,1,l))}}function Nte(r){const t=[0];return Ate(t,r.length-1),t}function jte(r,t){return r.map(s=>s*t)}function Ste(r,t){return r.map(()=>t||K9).splice(0,r.length-1)}function Ly({duration:r=300,keyframes:t,times:s,ease:i="easeInOut"}){const l=zee(i)?i.map(YT):YT(i),h={done:!1,value:t[0]},m=jte(s&&s.length===t.length?s:Nte(t),r),g=_te(m,t,{ease:Array.isArray(l)?l:Ste(t,l)});return{calculatedDuration:r,next:b=>(h.value=g(b),h.done=b>=r,h)}}const Ete=r=>r!==null;function lj(r,{repeat:t,repeatType:s="loop"},i,l=1){const h=r.filter(Ete),g=l<0||t&&s!=="loop"&&t%2===1?0:h.length-1;return!g||i===void 0?h[g]:i}const Dte={decay:r2,inertia:r2,tween:Ly,keyframes:Ly,spring:Tk};function aB(r){typeof r.type=="string"&&(r.type=Dte[r.type])}class cj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Mte=r=>r/100;class dj extends cj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,l;const{motionValue:s}=this.options;s&&s.updatedAt!==Xo.now()&&this.tick(Xo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(i=this.options).onStop)==null||l.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aB(t);const{type:s=Ly,repeat:i=0,repeatDelay:l=0,repeatType:h,velocity:m=0}=t;let{keyframes:g}=t;const b=s||Ly;b!==Ly&&typeof g[0]!="number"&&(this.mixKeyframes=zx(Mte,sB(g[0],g[1])),g=[0,100]);const v=b({...t,keyframes:g});h==="mirror"&&(this.mirroredGenerator=b({...t,keyframes:[...g].reverse(),velocity:-m})),v.calculatedDuration===null&&(v.calculatedDuration=aj(v));const{calculatedDuration:k}=v;this.calculatedDuration=k,this.resolvedDuration=k+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=v}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:l,mixKeyframes:h,mirroredGenerator:m,resolvedDuration:g,calculatedDuration:b}=this;if(this.startTime===null)return i.next(0);const{delay:v=0,keyframes:k,repeat:C,repeatType:_,repeatDelay:S,type:T,onUpdate:R,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const V=this.currentTime-v*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?V<0:V>l;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let F=this.currentTime,q=i;if(C){const B=Math.min(this.currentTime,l)/g;let Y=Math.floor(B),J=B%1;!J&&B>=1&&(J=1),J===1&&Y--,Y=Math.min(Y,C+1),!!(Y%2)&&(_==="reverse"?(J=1-J,S&&(J-=S/g)):_==="mirror"&&(q=m)),F=gd(0,1,J)*g}const ne=U?{done:!1,value:k[0]}:q.next(F);h&&(ne.value=h(ne.value));let{done:se}=ne;!U&&b!==null&&(se=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return Q&&T!==r2&&(ne.value=lj(k,this.options,P,this.speed)),R&&R(ne.value),Q&&this.finish(),ne}then(t,s){return this.finished.then(t,s)}get duration(){return Jl(this.calculatedDuration)}get time(){return Jl(this.currentTime)}set time(t){var s;t=Ql(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xo.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Jl(this.currentTime))}play(){var l,h;if(this.isStopped)return;const{driver:t=pte,startTime:s}=this.options;this.driver||(this.driver=t(m=>this.tick(m))),(h=(l=this.options).onPlay)==null||h.call(l);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Tte(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const jm=r=>r*180/Math.PI,n2=r=>{const t=jm(Math.atan2(r[1],r[0]));return s2(t)},Ite={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:n2,rotateZ:n2,skewX:r=>jm(Math.atan(r[1])),skewY:r=>jm(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},s2=r=>(r=r%360,r<0&&(r+=360),r),ZT=n2,eI=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),tI=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),Rte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eI,scaleY:tI,scale:r=>(eI(r)+tI(r))/2,rotateX:r=>s2(jm(Math.atan2(r[6],r[5]))),rotateY:r=>s2(jm(Math.atan2(-r[2],r[0]))),rotateZ:ZT,rotate:ZT,skewX:r=>jm(Math.atan(r[4])),skewY:r=>jm(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function o2(r){return r.includes("scale")?1:0}function i2(r,t){if(!r||r==="none")return o2(t);const s=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=Rte,l=s;else{const g=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Ite,l=g}if(!l)return o2(t);const h=i[t],m=l[1].split(",").map(Ote);return typeof h=="function"?h(m):m[h]}const Pte=(r,t)=>{const{transform:s="none"}=getComputedStyle(r);return i2(s,t)};function Ote(r){return parseFloat(r.trim())}const dg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ug=new Set(dg),rI=r=>r===cg||r===St,Bte=new Set(["x","y","z"]),Lte=dg.filter(r=>!Bte.has(r));function zte(r){const t=[];return Lte.forEach(s=>{const i=r.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const Tm={width:({x:r},{paddingLeft:t="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),height:({y:r},{paddingTop:t="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>i2(t,"x"),y:(r,{transform:t})=>i2(t,"y")};Tm.translateX=Tm.x;Tm.translateY=Tm.y;const Im=new Set;let a2=!1,l2=!1,c2=!1;function lB(){if(l2){const r=Array.from(Im).filter(i=>i.needsMeasurement),t=new Set(r.map(i=>i.element)),s=new Map;t.forEach(i=>{const l=zte(i);l.length&&(s.set(i,l),i.render())}),r.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([h,m])=>{var g;(g=i.getValue(h))==null||g.set(m)})}),r.forEach(i=>i.measureEndState()),r.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}l2=!1,a2=!1,Im.forEach(r=>r.complete(c2)),Im.clear()}function cB(){Im.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(l2=!0)})}function Fte(){c2=!0,cB(),lB(),c2=!1}class uj{constructor(t,s,i,l,h,m=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=l,this.element=h,this.isAsync=m}scheduleResolve(){this.state="scheduled",this.isAsync?(Im.add(this),a2||(a2=!0,wn.read(cB),wn.resolveKeyframes(lB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:l}=this;if(t[0]===null){const h=l==null?void 0:l.get(),m=t[t.length-1];if(h!==void 0)t[0]=h;else if(i&&s){const g=i.readValue(s,m);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=m),l&&h===void 0&&l.set(t[0])}Tte(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Im.delete(this)}cancel(){this.state==="scheduled"&&(Im.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vte=r=>r.startsWith("--");function Ute(r,t,s){Vte(t)?r.style.setProperty(t,s):r.style[t]=s}const Gte=$N(()=>window.ScrollTimeline!==void 0),Hte={};function qte(r,t){const s=$N(r);return()=>Hte[t]??s()}const dB=qte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ny=([r,t,s,i])=>`cubic-bezier(${r}, ${t}, ${s}, ${i})`,nI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ny([0,.65,.55,1]),circOut:Ny([.55,0,1,.45]),backIn:Ny([.31,.01,.66,-.59]),backOut:Ny([.33,1.53,.69,.99])};function uB(r,t){if(r)return typeof r=="function"?dB()?oB(r,t):"ease-out":Q9(r)?Ny(r):Array.isArray(r)?r.map(s=>uB(s,t)||nI.easeOut):nI[r]}function Yte(r,t,s,{delay:i=0,duration:l=300,repeat:h=0,repeatType:m="loop",ease:g="easeOut",times:b}={},v=void 0){const k={[t]:s};b&&(k.offset=b);const C=uB(g,l);Array.isArray(C)&&(k.easing=C);const _={delay:i,duration:l,easing:Array.isArray(C)?"linear":C,fill:"both",iterations:h+1,direction:m==="reverse"?"alternate":"normal"};return v&&(_.pseudoElement=v),r.animate(k,_)}function hB(r){return typeof r=="function"&&"applyToOptions"in r}function Wte({type:r,...t}){return hB(r)&&dB()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Kte extends cj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:i,keyframes:l,pseudoElement:h,allowFlatten:m=!1,finalKeyframe:g,onComplete:b}=t;this.isPseudoElement=!!h,this.allowFlatten=m,this.options=t,XN(typeof t.type!="string");const v=Wte(t);this.animation=Yte(s,i,l,v,h),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const k=lj(l,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(k):Ute(s,i,k),this.animation.cancel()}b==null||b(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,i;const t=((i=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:i.call(s).duration)||0;return Jl(Number(t))}get time(){return Jl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ql(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Gte()?(this.animation.timeline=t,ea):s(this)}}const mB={anticipate:q9,backInOut:H9,circInOut:W9};function Qte(r){return r in mB}function Jte(r){typeof r.ease=="string"&&Qte(r.ease)&&(r.ease=mB[r.ease])}const sI=10;class Xte extends Kte{constructor(t){Jte(t),aB(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:l,element:h,...m}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const g=new dj({...m,autoplay:!1}),b=Ql(this.finishedTime??this.time);s.setWithVelocity(g.sample(b-sI).value,g.sample(b).value,sI),g.stop()}}const oI=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Yu.test(r)||r==="0")&&!r.startsWith("url("));function $te(r){const t=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==t)return!0}function Zte(r,t,s,i){const l=r[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const h=r[r.length-1],m=oI(l,t),g=oI(h,t);return!m||!g?!1:$te(r)||(s==="spring"||hB(s))&&i}function hj(r){return B9(r)&&"offsetHeight"in r}const ere=new Set(["opacity","clipPath","filter","transform"]),tre=$N(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rre(r){var v;const{motionValue:t,name:s,repeatDelay:i,repeatType:l,damping:h,type:m}=r;if(!hj((v=t==null?void 0:t.owner)==null?void 0:v.current))return!1;const{onUpdate:g,transformTemplate:b}=t.owner.getProps();return tre()&&s&&ere.has(s)&&(s!=="transform"||!b)&&!g&&!i&&l!=="mirror"&&h!==0&&m!=="inertia"}const nre=40;class sre extends cj{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:h=0,repeatType:m="loop",keyframes:g,name:b,motionValue:v,element:k,...C}){var T;super(),this.stop=()=>{var R,P;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Xo.now();const _={autoplay:t,delay:s,type:i,repeat:l,repeatDelay:h,repeatType:m,name:b,motionValue:v,element:k,...C},S=(k==null?void 0:k.KeyframeResolver)||uj;this.keyframeResolver=new S(g,(R,P,V)=>this.onKeyframesResolved(R,P,_,!V),b,v,k),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,s,i,l){this.keyframeResolver=void 0;const{name:h,type:m,velocity:g,delay:b,isHandoff:v,onUpdate:k}=i;this.resolvedAt=Xo.now(),Zte(t,h,m,g)||((bd.instantAnimations||!b)&&(k==null||k(lj(t,i,s))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const _={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>nre?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},S=!v&&rre(_)?new Xte({..._,element:_.motionValue.owner.current}):new dj(_);S.finished.then(()=>this.notifyFinished()).catch(ea),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Fte()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const ore=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ire(r){const t=ore.exec(r);if(!t)return[,];const[,s,i,l]=t;return[`--${s??i}`,l]}function pB(r,t,s=1){const[i,l]=ire(r);if(!i)return;const h=window.getComputedStyle(t).getPropertyValue(i);if(h){const m=h.trim();return O9(m)?parseFloat(m):m}return nj(l)?pB(l,t,s+1):l}function mj(r,t){return(r==null?void 0:r[t])??(r==null?void 0:r.default)??r}const fB=new Set(["width","height","top","left","right","bottom",...dg]),are={test:r=>r==="auto",parse:r=>r},gB=r=>t=>t.test(r),bB=[cg,St,Xl,_u,$ee,Xee,are],iI=r=>bB.find(gB(r));function lre(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||L9(r):!0}const cre=new Set(["brightness","contrast","saturate","opacity"]);function dre(r){const[t,s]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[i]=s.match(sj)||[];if(!i)return r;const l=s.replace(i,"");let h=cre.has(t)?1:0;return i!==s&&(h*=100),t+"("+h+l+")"}const ure=/\b([a-z-]*)\(.*?\)/gu,d2={...Yu,getAnimatableNone:r=>{const t=r.match(ure);return t?t.map(dre).join(" "):r}},aI={...cg,transform:Math.round},hre={rotate:_u,rotateX:_u,rotateY:_u,rotateZ:_u,scale:xw,scaleX:xw,scaleY:xw,scaleZ:xw,skew:_u,skewX:_u,skewY:_u,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:lx,originX:KT,originY:KT,originZ:St},pj={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...hre,zIndex:aI,fillOpacity:lx,strokeOpacity:lx,numOctaves:aI},mre={...pj,color:es,backgroundColor:es,outlineColor:es,fill:es,stroke:es,borderColor:es,borderTopColor:es,borderRightColor:es,borderBottomColor:es,borderLeftColor:es,filter:d2,WebkitFilter:d2},yB=r=>mre[r];function xB(r,t){let s=yB(r);return s!==d2&&(s=Yu),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const pre=new Set(["auto","none","0"]);function fre(r,t,s){let i=0,l;for(;i<r.length&&!l;){const h=r[i];typeof h=="string"&&!pre.has(h)&&cx(h).values.length&&(l=r[i]),i++}if(l&&s)for(const h of t)r[h]=xB(s,l)}class gre extends uj{constructor(t,s,i,l,h){super(t,s,i,l,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let b=0;b<t.length;b++){let v=t[b];if(typeof v=="string"&&(v=v.trim(),nj(v))){const k=pB(v,s.current);k!==void 0&&(t[b]=k),b===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!fB.has(i)||t.length!==2)return;const[l,h]=t,m=iI(l),g=iI(h);if(m!==g)if(rI(m)&&rI(g))for(let b=0;b<t.length;b++){const v=t[b];typeof v=="string"&&(t[b]=parseFloat(v))}else Tm[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let l=0;l<t.length;l++)(t[l]===null||lre(t[l]))&&i.push(l);i.length&&fre(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tm[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var g;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const h=i.length-1,m=i[h];i[h]=Tm[s](t.measureViewportBox(),window.getComputedStyle(t.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),(g=this.removedTransforms)!=null&&g.length&&this.removedTransforms.forEach(([b,v])=>{t.getValue(b).set(v)}),this.resolveNoneKeyframes()}}function bre(r,t,s){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let i=document;const l=(s==null?void 0:s[r])??i.querySelectorAll(r);return l?Array.from(l):[]}return Array.from(r)}const vB=(r,t)=>t&&typeof r=="number"?t.transform(r):r,lI=30,yre=r=>!isNaN(parseFloat(r));class xre{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{var m,g;const h=Xo.now();if(this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((m=this.events.change)==null||m.notify(this.current),this.dependents))for(const b of this.dependents)b.dirty();l&&((g=this.events.renderRequest)==null||g.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Xo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yre(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new ZN);const i=this.events[t].add(s);return t==="change"?()=>{i(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lI)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,lI);return z9(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kf(r,t){return new xre(r,t)}const{schedule:fj}=J9(queueMicrotask,!1),qa={x:!1,y:!1};function wB(){return qa.x||qa.y}function vre(r){return r==="x"||r==="y"?qa[r]?null:(qa[r]=!0,()=>{qa[r]=!1}):qa.x||qa.y?null:(qa.x=qa.y=!0,()=>{qa.x=qa.y=!1})}function kB(r,t){const s=bre(r),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[s,l,()=>i.abort()]}function cI(r){return!(r.pointerType==="touch"||wB())}function wre(r,t,s={}){const[i,l,h]=kB(r,s),m=g=>{if(!cI(g))return;const{target:b}=g,v=t(b,g);if(typeof v!="function"||!b)return;const k=C=>{cI(C)&&(v(C),b.removeEventListener("pointerleave",k))};b.addEventListener("pointerleave",k,l)};return i.forEach(g=>{g.addEventListener("pointerenter",m,l)}),h}const CB=(r,t)=>t?r===t?!0:CB(r,t.parentElement):!1,gj=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,kre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cre(r){return kre.has(r.tagName)||r.tabIndex!==-1}const Kw=new WeakSet;function dI(r){return t=>{t.key==="Enter"&&r(t)}}function q_(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _re=(r,t)=>{const s=r.currentTarget;if(!s)return;const i=dI(()=>{if(Kw.has(s))return;q_(s,"down");const l=dI(()=>{q_(s,"up")}),h=()=>q_(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",h,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function uI(r){return gj(r)&&!wB()}function Are(r,t,s={}){const[i,l,h]=kB(r,s),m=g=>{const b=g.currentTarget;if(!uI(g))return;Kw.add(b);const v=t(b,g),k=(S,T)=>{window.removeEventListener("pointerup",C),window.removeEventListener("pointercancel",_),Kw.has(b)&&Kw.delete(b),uI(S)&&typeof v=="function"&&v(S,{success:T})},C=S=>{k(S,b===window||b===document||s.useGlobalTarget||CB(b,S.target))},_=S=>{k(S,!1)};window.addEventListener("pointerup",C,l),window.addEventListener("pointercancel",_,l)};return i.forEach(g=>{(s.useGlobalTarget?window:g).addEventListener("pointerdown",m,l),hj(g)&&(g.addEventListener("focus",v=>_re(v,l)),!Cre(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),h}function _B(r){return B9(r)&&"ownerSVGElement"in r}function Nre(r){return _B(r)&&r.tagName==="svg"}const mo=r=>!!(r&&r.getVelocity),jre=[...bB,es,Yu],Sre=r=>jre.find(gB(r)),bj=O.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Ere extends O.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=s.offsetParent,l=hj(i)&&i.offsetWidth||0,h=this.props.sizeRef.current;h.height=s.offsetHeight||0,h.width=s.offsetWidth||0,h.top=s.offsetTop,h.left=s.offsetLeft,h.right=l-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Dre({children:r,isPresent:t,anchorX:s}){const i=O.useId(),l=O.useRef(null),h=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=O.useContext(bj);return O.useInsertionEffect(()=>{const{width:g,height:b,top:v,left:k,right:C}=h.current;if(t||!l.current||!g||!b)return;const _=s==="left"?`left: ${k}`:`right: ${C}`;l.current.dataset.motionPopId=i;const S=document.createElement("style");return m&&(S.nonce=m),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${_}px !important;
            top: ${v}px !important;
          }
        `),()=>{document.head.contains(S)&&document.head.removeChild(S)}},[t]),n.jsx(Ere,{isPresent:t,childRef:l,sizeRef:h,children:O.cloneElement(r,{ref:l})})}const Mre=({children:r,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:h,mode:m,anchorX:g})=>{const b=WN(Tre),v=O.useId();let k=!0,C=O.useMemo(()=>(k=!1,{id:v,initial:t,isPresent:s,custom:l,onExitComplete:_=>{b.set(_,!0);for(const S of b.values())if(!S)return;i&&i()},register:_=>(b.set(_,!1),()=>b.delete(_))}),[s,b,i]);return h&&k&&(C={...C}),O.useMemo(()=>{b.forEach((_,S)=>b.set(S,!1))},[s]),O.useEffect(()=>{!s&&!b.size&&i&&i()},[s]),m==="popLayout"&&(r=n.jsx(Dre,{isPresent:s,anchorX:g,children:r})),n.jsx(k1.Provider,{value:C,children:r})};function Tre(){return new Map}function AB(r=!0){const t=O.useContext(k1);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=t,h=O.useId();O.useEffect(()=>{if(r)return l(h)},[r]);const m=O.useCallback(()=>r&&i&&i(h),[h,i,r]);return!s&&i?[!1,m]:[!0]}const vw=r=>r.key||"";function hI(r){const t=[];return O.Children.forEach(r,s=>{O.isValidElement(s)&&t.push(s)}),t}const yj=({children:r,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:h="sync",propagate:m=!1,anchorX:g="left"})=>{const[b,v]=AB(m),k=O.useMemo(()=>hI(r),[r]),C=m&&!b?[]:k.map(vw),_=O.useRef(!0),S=O.useRef(k),T=WN(()=>new Map),[R,P]=O.useState(k),[V,U]=O.useState(k);P9(()=>{_.current=!1,S.current=k;for(let ne=0;ne<V.length;ne++){const se=vw(V[ne]);C.includes(se)?T.delete(se):T.get(se)!==!0&&T.set(se,!1)}},[V,C.length,C.join("-")]);const F=[];if(k!==R){let ne=[...k];for(let se=0;se<V.length;se++){const Q=V[se],B=vw(Q);C.includes(B)||(ne.splice(se,0,Q),F.push(Q))}return h==="wait"&&F.length&&(ne=F),U(hI(ne)),P(k),null}const{forceRender:q}=O.useContext(YN);return n.jsx(n.Fragment,{children:V.map(ne=>{const se=vw(ne),Q=m&&!b?!1:k===V||C.includes(se),B=()=>{if(T.has(se))T.set(se,!0);else return;let Y=!0;T.forEach(J=>{J||(Y=!1)}),Y&&(q==null||q(),U(S.current),m&&(v==null||v()),i&&i())};return n.jsx(Mre,{isPresent:Q,initial:!_.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:h,onExitComplete:Q?void 0:B,anchorX:g,children:ne},se)})})},NB=O.createContext({strict:!1}),mI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qf={};for(const r in mI)Qf[r]={isEnabled:t=>mI[r].some(s=>!!t[s])};function Ire(r){for(const t in r)Qf[t]={...Qf[t],...r[t]}}const Rre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ik(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||Rre.has(r)}let jB=r=>!Ik(r);function Pre(r){typeof r=="function"&&(jB=t=>t.startsWith("on")?!Ik(t):r(t))}try{Pre(require("@emotion/is-prop-valid").default)}catch{}function Ore(r,t,s){const i={};for(const l in r)l==="values"&&typeof r.values=="object"||(jB(l)||s===!0&&Ik(l)||!t&&!Ik(l)||r.draggable&&l.startsWith("onDrag"))&&(i[l]=r[l]);return i}function Bre(r){if(typeof Proxy>"u")return r;const t=new Map,s=(...i)=>r(...i);return new Proxy(s,{get:(i,l)=>l==="create"?r:(t.has(l)||t.set(l,r(l)),t.get(l))})}const C1=O.createContext({});function _1(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function dx(r){return typeof r=="string"||Array.isArray(r)}const xj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vj=["initial",...xj];function A1(r){return _1(r.animate)||vj.some(t=>dx(r[t]))}function SB(r){return!!(A1(r)||r.variants)}function Lre(r,t){if(A1(r)){const{initial:s,animate:i}=r;return{initial:s===!1||dx(s)?s:void 0,animate:dx(i)?i:void 0}}return r.inherit!==!1?t:{}}function zre(r){const{initial:t,animate:s}=Lre(r,O.useContext(C1));return O.useMemo(()=>({initial:t,animate:s}),[pI(t),pI(s)])}function pI(r){return Array.isArray(r)?r.join(" "):r}const Fre=Symbol.for("motionComponentSymbol");function Mf(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Vre(r,t,s){return O.useCallback(i=>{i&&r.onMount&&r.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):Mf(s)&&(s.current=i))},[t])}const wj=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ure="framerAppearId",EB="data-"+wj(Ure),DB=O.createContext({});function Gre(r,t,s,i,l){var R,P;const{visualElement:h}=O.useContext(C1),m=O.useContext(NB),g=O.useContext(k1),b=O.useContext(bj).reducedMotion,v=O.useRef(null);i=i||m.renderer,!v.current&&i&&(v.current=i(r,{visualState:t,parent:h,props:s,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:b}));const k=v.current,C=O.useContext(DB);k&&!k.projection&&l&&(k.type==="html"||k.type==="svg")&&Hre(v.current,s,l,C);const _=O.useRef(!1);O.useInsertionEffect(()=>{k&&_.current&&k.update(s,g)});const S=s[EB],T=O.useRef(!!S&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,S))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,S)));return P9(()=>{k&&(_.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),fj.render(k.render),T.current&&k.animationState&&k.animationState.animateChanges())}),O.useEffect(()=>{k&&(!T.current&&k.animationState&&k.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,S)}),T.current=!1))}),k}function Hre(r,t,s,i){const{layoutId:l,layout:h,drag:m,dragConstraints:g,layoutScroll:b,layoutRoot:v,layoutCrossfade:k}=t;r.projection=new s(r.latestValues,t["data-framer-portal-id"]?void 0:MB(r.parent)),r.projection.setOptions({layoutId:l,layout:h,alwaysMeasureLayout:!!m||g&&Mf(g),visualElement:r,animationType:typeof h=="string"?h:"both",initialPromotionConfig:i,crossfade:k,layoutScroll:b,layoutRoot:v})}function MB(r){if(r)return r.options.allowProjection!==!1?r.projection:MB(r.parent)}function qre({preloadedFeatures:r,createVisualElement:t,useRender:s,useVisualState:i,Component:l}){r&&Ire(r);function h(g,b){let v;const k={...O.useContext(bj),...g,layoutId:Yre(g)},{isStatic:C}=k,_=zre(g),S=i(g,C);if(!C&&KN){Wre();const T=Kre(k);v=T.MeasureLayout,_.visualElement=Gre(l,S,k,t,T.ProjectionNode)}return n.jsxs(C1.Provider,{value:_,children:[v&&_.visualElement?n.jsx(v,{visualElement:_.visualElement,...k}):null,s(l,g,Vre(S,_.visualElement,b),S,C,_.visualElement)]})}h.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const m=O.forwardRef(h);return m[Fre]=l,m}function Yre({layoutId:r}){const t=O.useContext(YN).id;return t&&r!==void 0?t+"-"+r:r}function Wre(r,t){O.useContext(NB).strict}function Kre(r){const{drag:t,layout:s}=Qf;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(r)||s!=null&&s.isEnabled(r)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ux={};function Qre(r){for(const t in r)ux[t]=r[t],rj(t)&&(ux[t].isCSSVariable=!0)}function TB(r,{layout:t,layoutId:s}){return ug.has(r)||r.startsWith("origin")||(t||s!==void 0)&&(!!ux[r]||r==="opacity")}const Jre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xre=dg.length;function $re(r,t,s){let i="",l=!0;for(let h=0;h<Xre;h++){const m=dg[h],g=r[m];if(g===void 0)continue;let b=!0;if(typeof g=="number"?b=g===(m.startsWith("scale")?1:0):b=parseFloat(g)===0,!b||s){const v=vB(g,pj[m]);if(!b){l=!1;const k=Jre[m]||m;i+=`${k}(${v}) `}s&&(t[m]=v)}}return i=i.trim(),s?i=s(t,l?"":i):l&&(i="none"),i}function kj(r,t,s){const{style:i,vars:l,transformOrigin:h}=r;let m=!1,g=!1;for(const b in t){const v=t[b];if(ug.has(b)){m=!0;continue}else if(rj(b)){l[b]=v;continue}else{const k=vB(v,pj[b]);b.startsWith("origin")?(g=!0,h[b]=k):i[b]=k}}if(t.transform||(m||s?i.transform=$re(t,r.transform,s):i.transform&&(i.transform="none")),g){const{originX:b="50%",originY:v="50%",originZ:k=0}=h;i.transformOrigin=`${b} ${v} ${k}`}}const Cj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IB(r,t,s){for(const i in t)!mo(t[i])&&!TB(i,s)&&(r[i]=t[i])}function Zre({transformTemplate:r},t){return O.useMemo(()=>{const s=Cj();return kj(s,t,r),Object.assign({},s.vars,s.style)},[t])}function ene(r,t){const s=r.style||{},i={};return IB(i,s,r),Object.assign(i,Zre(r,t)),i}function tne(r,t){const s={},i=ene(r,t);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=i,s}const rne={offset:"stroke-dashoffset",array:"stroke-dasharray"},nne={offset:"strokeDashoffset",array:"strokeDasharray"};function sne(r,t,s=1,i=0,l=!0){r.pathLength=1;const h=l?rne:nne;r[h.offset]=St.transform(-i);const m=St.transform(t),g=St.transform(s);r[h.array]=`${m} ${g}`}function RB(r,{attrX:t,attrY:s,attrScale:i,pathLength:l,pathSpacing:h=1,pathOffset:m=0,...g},b,v,k){if(kj(r,g,v),b){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:C,style:_}=r;C.transform&&(_.transform=C.transform,delete C.transform),(_.transform||C.transformOrigin)&&(_.transformOrigin=C.transformOrigin??"50% 50%",delete C.transformOrigin),_.transform&&(_.transformBox=(k==null?void 0:k.transformBox)??"fill-box",delete C.transformBox),t!==void 0&&(C.x=t),s!==void 0&&(C.y=s),i!==void 0&&(C.scale=i),l!==void 0&&sne(C,l,h,m,!1)}const PB=()=>({...Cj(),attrs:{}}),OB=r=>typeof r=="string"&&r.toLowerCase()==="svg";function one(r,t,s,i){const l=O.useMemo(()=>{const h=PB();return RB(h,t,OB(i),r.transformTemplate,r.style),{...h.attrs,style:{...h.style}}},[t]);if(r.style){const h={};IB(h,r.style,r),l.style={...h,...l.style}}return l}const ine=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _j(r){return typeof r!="string"||r.includes("-")?!1:!!(ine.indexOf(r)>-1||/[A-Z]/u.test(r))}function ane(r=!1){return(s,i,l,{latestValues:h},m)=>{const b=(_j(s)?one:tne)(i,h,m,s),v=Ore(i,typeof s=="string",r),k=s!==O.Fragment?{...v,...b,ref:l}:{},{children:C}=i,_=O.useMemo(()=>mo(C)?C.get():C,[C]);return O.createElement(s,{...k,children:_})}}function fI(r){const t=[{},{}];return r==null||r.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function Aj(r,t,s,i){if(typeof t=="function"){const[l,h]=fI(i);t=t(s!==void 0?s:r.custom,l,h)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[l,h]=fI(i);t=t(s!==void 0?s:r.custom,l,h)}return t}function Qw(r){return mo(r)?r.get():r}function lne({scrapeMotionValuesFromProps:r,createRenderState:t},s,i,l){return{latestValues:cne(s,i,l,r),renderState:t()}}const BB=r=>(t,s)=>{const i=O.useContext(C1),l=O.useContext(k1),h=()=>lne(r,t,i,l);return s?h():WN(h)};function cne(r,t,s,i){const l={},h=i(r,{});for(const _ in h)l[_]=Qw(h[_]);let{initial:m,animate:g}=r;const b=A1(r),v=SB(r);t&&v&&!b&&r.inherit!==!1&&(m===void 0&&(m=t.initial),g===void 0&&(g=t.animate));let k=s?s.initial===!1:!1;k=k||m===!1;const C=k?g:m;if(C&&typeof C!="boolean"&&!_1(C)){const _=Array.isArray(C)?C:[C];for(let S=0;S<_.length;S++){const T=Aj(r,_[S]);if(T){const{transitionEnd:R,transition:P,...V}=T;for(const U in V){let F=V[U];if(Array.isArray(F)){const q=k?F.length-1:0;F=F[q]}F!==null&&(l[U]=F)}for(const U in R)l[U]=R[U]}}}return l}function Nj(r,t,s){var h;const{style:i}=r,l={};for(const m in i)(mo(i[m])||t.style&&mo(t.style[m])||TB(m,r)||((h=s==null?void 0:s.getValue(m))==null?void 0:h.liveStyle)!==void 0)&&(l[m]=i[m]);return l}const dne={useVisualState:BB({scrapeMotionValuesFromProps:Nj,createRenderState:Cj})};function LB(r,t,s){const i=Nj(r,t,s);for(const l in r)if(mo(r[l])||mo(t[l])){const h=dg.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[h]=r[l]}return i}const une={useVisualState:BB({scrapeMotionValuesFromProps:LB,createRenderState:PB})};function hne(r,t){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const m={..._j(i)?une:dne,preloadedFeatures:r,useRender:ane(l),createVisualElement:t,Component:i};return qre(m)}}function hx(r,t,s){const i=r.getProps();return Aj(i,t,s!==void 0?s:i.custom,r)}const u2=r=>Array.isArray(r);function mne(r,t,s){r.hasValue(t)?r.getValue(t).set(s):r.addValue(t,Kf(s))}function pne(r){return u2(r)?r[r.length-1]||0:r}function fne(r,t){const s=hx(r,t);let{transitionEnd:i={},transition:l={},...h}=s||{};h={...h,...i};for(const m in h){const g=pne(h[m]);mne(r,m,g)}}function gne(r){return!!(mo(r)&&r.add)}function h2(r,t){const s=r.getValue("willChange");if(gne(s))return s.add(t);if(!s&&bd.WillChange){const i=new bd.WillChange("auto");r.addValue("willChange",i),i.add(t)}}function zB(r){return r.props[EB]}const bne=r=>r!==null;function yne(r,{repeat:t,repeatType:s="loop"},i){const l=r.filter(bne),h=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[h]}const xne={type:"spring",stiffness:500,damping:25,restSpeed:10},vne=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),wne={type:"keyframes",duration:.8},kne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cne=(r,{keyframes:t})=>t.length>2?wne:ug.has(r)?r.startsWith("scale")?vne(t[1]):xne:kne;function _ne({when:r,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:h,repeatType:m,repeatDelay:g,from:b,elapsed:v,...k}){return!!Object.keys(k).length}const jj=(r,t,s,i={},l,h)=>m=>{const g=mj(i,r)||{},b=g.delay||i.delay||0;let{elapsed:v=0}=i;v=v-Ql(b);const k={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...g,delay:-v,onUpdate:_=>{t.set(_),g.onUpdate&&g.onUpdate(_)},onComplete:()=>{m(),g.onComplete&&g.onComplete()},name:r,motionValue:t,element:h?void 0:l};_ne(g)||Object.assign(k,Cne(r,k)),k.duration&&(k.duration=Ql(k.duration)),k.repeatDelay&&(k.repeatDelay=Ql(k.repeatDelay)),k.from!==void 0&&(k.keyframes[0]=k.from);let C=!1;if((k.type===!1||k.duration===0&&!k.repeatDelay)&&(k.duration=0,k.delay===0&&(C=!0)),(bd.instantAnimations||bd.skipAnimations)&&(C=!0,k.duration=0,k.delay=0),k.allowFlatten=!g.type&&!g.ease,C&&!h&&t.get()!==void 0){const _=yne(k.keyframes,g);if(_!==void 0){wn.update(()=>{k.onUpdate(_),k.onComplete()});return}}return g.isSync?new dj(k):new sre(k)};function Ane({protectedKeys:r,needsAnimating:t},s){const i=r.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function FB(r,t,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:h=r.getDefaultTransition(),transitionEnd:m,...g}=t;i&&(h=i);const b=[],v=l&&r.animationState&&r.animationState.getState()[l];for(const k in g){const C=r.getValue(k,r.latestValues[k]??null),_=g[k];if(_===void 0||v&&Ane(v,k))continue;const S={delay:s,...mj(h||{},k)},T=C.get();if(T!==void 0&&!C.isAnimating&&!Array.isArray(_)&&_===T&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const V=zB(r);if(V){const U=window.MotionHandoffAnimation(V,k,wn);U!==null&&(S.startTime=U,R=!0)}}h2(r,k),C.start(jj(k,C,_,r.shouldReduceMotion&&fB.has(k)?{type:!1}:S,r,R));const P=C.animation;P&&b.push(P)}return m&&Promise.all(b).then(()=>{wn.update(()=>{m&&fne(r,m)})}),b}function m2(r,t,s={}){var b;const i=hx(r,t,s.type==="exit"?(b=r.presenceContext)==null?void 0:b.custom:void 0);let{transition:l=r.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const h=i?()=>Promise.all(FB(r,i,s)):()=>Promise.resolve(),m=r.variantChildren&&r.variantChildren.size?(v=0)=>{const{delayChildren:k=0,staggerChildren:C,staggerDirection:_}=l;return Nne(r,t,k+v,C,_,s)}:()=>Promise.resolve(),{when:g}=l;if(g){const[v,k]=g==="beforeChildren"?[h,m]:[m,h];return v().then(()=>k())}else return Promise.all([h(),m(s.delay)])}function Nne(r,t,s=0,i=0,l=1,h){const m=[],g=(r.variantChildren.size-1)*i,b=l===1?(v=0)=>v*i:(v=0)=>g-v*i;return Array.from(r.variantChildren).sort(jne).forEach((v,k)=>{v.notify("AnimationStart",t),m.push(m2(v,t,{...h,delay:s+b(k)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(m)}function jne(r,t){return r.sortNodePosition(t)}function Sne(r,t,s={}){r.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(h=>m2(r,h,s));i=Promise.all(l)}else if(typeof t=="string")i=m2(r,t,s);else{const l=typeof t=="function"?hx(r,t,s.custom):t;i=Promise.all(FB(r,l,s))}return i.then(()=>{r.notify("AnimationComplete",t)})}function VB(r,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==r.length)return!1;for(let i=0;i<s;i++)if(t[i]!==r[i])return!1;return!0}const Ene=vj.length;function UB(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?UB(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const t={};for(let s=0;s<Ene;s++){const i=vj[s],l=r.props[i];(dx(l)||l===!1)&&(t[i]=l)}return t}const Dne=[...xj].reverse(),Mne=xj.length;function Tne(r){return t=>Promise.all(t.map(({animation:s,options:i})=>Sne(r,s,i)))}function Ine(r){let t=Tne(r),s=gI(),i=!0;const l=b=>(v,k)=>{var _;const C=hx(r,k,b==="exit"?(_=r.presenceContext)==null?void 0:_.custom:void 0);if(C){const{transition:S,transitionEnd:T,...R}=C;v={...v,...R,...T}}return v};function h(b){t=b(r)}function m(b){const{props:v}=r,k=UB(r.parent)||{},C=[],_=new Set;let S={},T=1/0;for(let P=0;P<Mne;P++){const V=Dne[P],U=s[V],F=v[V]!==void 0?v[V]:k[V],q=dx(F),ne=V===b?U.isActive:null;ne===!1&&(T=P);let se=F===k[V]&&F!==v[V]&&q;if(se&&i&&r.manuallyAnimateOnMount&&(se=!1),U.protectedKeys={...S},!U.isActive&&ne===null||!F&&!U.prevProp||_1(F)||typeof F=="boolean")continue;const Q=Rne(U.prevProp,F);let B=Q||V===b&&U.isActive&&!se&&q||P>T&&q,Y=!1;const J=Array.isArray(F)?F:[F];let K=J.reduce(l(V),{});ne===!1&&(K={});const{prevResolvedValues:Z={}}=U,ee={...Z,...K},be=ae=>{B=!0,_.has(ae)&&(Y=!0,_.delete(ae)),U.needsAnimating[ae]=!0;const le=r.getValue(ae);le&&(le.liveStyle=!1)};for(const ae in ee){const le=K[ae],oe=Z[ae];if(S.hasOwnProperty(ae))continue;let G=!1;u2(le)&&u2(oe)?G=!VB(le,oe):G=le!==oe,G?le!=null?be(ae):_.add(ae):le!==void 0&&_.has(ae)?be(ae):U.protectedKeys[ae]=!0}U.prevProp=F,U.prevResolvedValues=K,U.isActive&&(S={...S,...K}),i&&r.blockInitialAnimation&&(B=!1),B&&(!(se&&Q)||Y)&&C.push(...J.map(ae=>({animation:ae,options:{type:V}})))}if(_.size){const P={};if(typeof v.initial!="boolean"){const V=hx(r,Array.isArray(v.initial)?v.initial[0]:v.initial);V&&V.transition&&(P.transition=V.transition)}_.forEach(V=>{const U=r.getBaseTarget(V),F=r.getValue(V);F&&(F.liveStyle=!0),P[V]=U??null}),C.push({animation:P})}let R=!!C.length;return i&&(v.initial===!1||v.initial===v.animate)&&!r.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(C):Promise.resolve()}function g(b,v){var C;if(s[b].isActive===v)return Promise.resolve();(C=r.variantChildren)==null||C.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(b,v)}),s[b].isActive=v;const k=m(b);for(const _ in s)s[_].protectedKeys={};return k}return{animateChanges:m,setActive:g,setAnimateFunction:h,getState:()=>s,reset:()=>{s=gI(),i=!0}}}function Rne(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!VB(t,r):!1}function ym(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gI(){return{animate:ym(!0),whileInView:ym(),whileHover:ym(),whileTap:ym(),whileDrag:ym(),whileFocus:ym(),exit:ym()}}class Zu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Pne extends Zu{constructor(t){super(t),t.animationState||(t.animationState=Ine(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let One=0;class Bne extends Zu{constructor(){super(...arguments),this.id=One++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Lne={animation:{Feature:Pne},exit:{Feature:Bne}};function mx(r,t,s,i={passive:!0}){return r.addEventListener(t,s,i),()=>r.removeEventListener(t,s)}function Ux(r){return{point:{x:r.pageX,y:r.pageY}}}const zne=r=>t=>gj(t)&&r(t,Ux(t));function zy(r,t,s,i){return mx(r,t,zne(s),i)}function GB({top:r,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:r,max:i}}}function Fne({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function Vne(r,t){if(!t)return r;const s=t({x:r.left,y:r.top}),i=t({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}const HB=1e-4,Une=1-HB,Gne=1+HB,qB=.01,Hne=0-qB,qne=0+qB;function So(r){return r.max-r.min}function Yne(r,t,s){return Math.abs(r-t)<=s}function bI(r,t,s,i=.5){r.origin=i,r.originPoint=xn(t.min,t.max,r.origin),r.scale=So(s)/So(t),r.translate=xn(s.min,s.max,r.origin)-r.originPoint,(r.scale>=Une&&r.scale<=Gne||isNaN(r.scale))&&(r.scale=1),(r.translate>=Hne&&r.translate<=qne||isNaN(r.translate))&&(r.translate=0)}function Fy(r,t,s,i){bI(r.x,t.x,s.x,i?i.originX:void 0),bI(r.y,t.y,s.y,i?i.originY:void 0)}function yI(r,t,s){r.min=s.min+t.min,r.max=r.min+So(t)}function Wne(r,t,s){yI(r.x,t.x,s.x),yI(r.y,t.y,s.y)}function xI(r,t,s){r.min=t.min-s.min,r.max=r.min+So(t)}function Vy(r,t,s){xI(r.x,t.x,s.x),xI(r.y,t.y,s.y)}const vI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tf=()=>({x:vI(),y:vI()}),wI=()=>({min:0,max:0}),Un=()=>({x:wI(),y:wI()});function Xi(r){return[r("x"),r("y")]}function Y_(r){return r===void 0||r===1}function p2({scale:r,scaleX:t,scaleY:s}){return!Y_(r)||!Y_(t)||!Y_(s)}function vm(r){return p2(r)||YB(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function YB(r){return kI(r.x)||kI(r.y)}function kI(r){return r&&r!=="0%"}function Rk(r,t,s){const i=r-s,l=t*i;return s+l}function CI(r,t,s,i,l){return l!==void 0&&(r=Rk(r,l,i)),Rk(r,s,i)+t}function f2(r,t=0,s=1,i,l){r.min=CI(r.min,t,s,i,l),r.max=CI(r.max,t,s,i,l)}function WB(r,{x:t,y:s}){f2(r.x,t.translate,t.scale,t.originPoint),f2(r.y,s.translate,s.scale,s.originPoint)}const _I=.999999999999,AI=1.0000000000001;function Kne(r,t,s,i=!1){const l=s.length;if(!l)return;t.x=t.y=1;let h,m;for(let g=0;g<l;g++){h=s[g],m=h.projectionDelta;const{visualElement:b}=h.options;b&&b.props.style&&b.props.style.display==="contents"||(i&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Rf(r,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),m&&(t.x*=m.x.scale,t.y*=m.y.scale,WB(r,m)),i&&vm(h.latestValues)&&Rf(r,h.latestValues))}t.x<AI&&t.x>_I&&(t.x=1),t.y<AI&&t.y>_I&&(t.y=1)}function If(r,t){r.min=r.min+t,r.max=r.max+t}function NI(r,t,s,i,l=.5){const h=xn(r.min,r.max,l);f2(r,t,s,h,i)}function Rf(r,t){NI(r.x,t.x,t.scaleX,t.scale,t.originX),NI(r.y,t.y,t.scaleY,t.scale,t.originY)}function KB(r,t){return GB(Vne(r.getBoundingClientRect(),t))}function Qne(r,t,s){const i=KB(r,s),{scroll:l}=t;return l&&(If(i.x,l.offset.x),If(i.y,l.offset.y)),i}const QB=({current:r})=>r?r.ownerDocument.defaultView:null,jI=(r,t)=>Math.abs(r-t);function Jne(r,t){const s=jI(r.x,t.x),i=jI(r.y,t.y);return Math.sqrt(s**2+i**2)}class JB{constructor(t,s,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=K_(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=Jne(C.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:T}=C,{timestamp:R}=qs;this.history.push({...T,timestamp:R});const{onStart:P,onMove:V}=this.handlers;_||(P&&P(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,C)},this.handlePointerMove=(C,_)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=W_(_,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(C,_)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=K_(C.type==="pointercancel"?this.lastMoveEventInfo:W_(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(C,P),T&&T(C,P)},!gj(t))return;this.dragSnapToOrigin=h,this.handlers=s,this.transformPagePoint=i,this.contextWindow=l||window;const m=Ux(t),g=W_(m,this.transformPagePoint),{point:b}=g,{timestamp:v}=qs;this.history=[{...b,timestamp:v}];const{onSessionStart:k}=s;k&&k(t,K_(g,this.history)),this.removeListeners=zx(zy(this.contextWindow,"pointermove",this.handlePointerMove),zy(this.contextWindow,"pointerup",this.handlePointerUp),zy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qu(this.updatePoint)}}function W_(r,t){return t?{point:t(r.point)}:r}function SI(r,t){return{x:r.x-t.x,y:r.y-t.y}}function K_({point:r},t){return{point:r,delta:SI(r,XB(t)),offset:SI(r,Xne(t)),velocity:$ne(t,.1)}}function Xne(r){return r[0]}function XB(r){return r[r.length-1]}function $ne(r,t){if(r.length<2)return{x:0,y:0};let s=r.length-1,i=null;const l=XB(r);for(;s>=0&&(i=r[s],!(l.timestamp-i.timestamp>Ql(t)));)s--;if(!i)return{x:0,y:0};const h=Jl(l.timestamp-i.timestamp);if(h===0)return{x:0,y:0};const m={x:(l.x-i.x)/h,y:(l.y-i.y)/h};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}function Zne(r,{min:t,max:s},i){return t!==void 0&&r<t?r=i?xn(t,r,i.min):Math.max(r,t):s!==void 0&&r>s&&(r=i?xn(s,r,i.max):Math.min(r,s)),r}function EI(r,t,s){return{min:t!==void 0?r.min+t:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function ese(r,{top:t,left:s,bottom:i,right:l}){return{x:EI(r.x,s,l),y:EI(r.y,t,i)}}function DI(r,t){let s=t.min-r.min,i=t.max-r.max;return t.max-t.min<r.max-r.min&&([s,i]=[i,s]),{min:s,max:i}}function tse(r,t){return{x:DI(r.x,t.x),y:DI(r.y,t.y)}}function rse(r,t){let s=.5;const i=So(r),l=So(t);return l>i?s=ax(t.min,t.max-i,r.min):i>l&&(s=ax(r.min,r.max-l,t.min)),gd(0,1,s)}function nse(r,t){const s={};return t.min!==void 0&&(s.min=t.min-r.min),t.max!==void 0&&(s.max=t.max-r.min),s}const g2=.35;function sse(r=g2){return r===!1?r=0:r===!0&&(r=g2),{x:MI(r,"left","right"),y:MI(r,"top","bottom")}}function MI(r,t,s){return{min:TI(r,t),max:TI(r,s)}}function TI(r,t){return typeof r=="number"?r:r[t]||0}const ose=new WeakMap;class ise{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=k=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ux(k).point)},h=(k,C)=>{const{drag:_,dragPropagation:S,onDragStart:T}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vre(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xi(P=>{let V=this.getAxisMotionValue(P).get()||0;if(Xl.test(V)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[P];F&&(V=So(F)*(parseFloat(V)/100))}}this.originPoint[P]=V}),T&&wn.postRender(()=>T(k,C)),h2(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},m=(k,C)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:T,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:P}=C;if(S&&this.currentDirection===null){this.currentDirection=ase(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",C.point,P),this.updateAxis("y",C.point,P),this.visualElement.render(),R&&R(k,C)},g=(k,C)=>this.stop(k,C),b=()=>Xi(k=>{var C;return this.getAnimationState(k)==="paused"&&((C=this.getAxisMotionValue(k).animation)==null?void 0:C.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new JB(t,{onSessionStart:l,onStart:h,onMove:m,onSessionEnd:g,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,contextWindow:QB(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&wn.postRender(()=>h(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:l}=this.getProps();if(!i||!ww(t,l,this.currentDirection))return;const h=this.getAxisMotionValue(t);let m=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(m=Zne(m,this.constraints[t],this.elastic[t])),h.set(m)}resolveConstraints(){var h;const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,l=this.constraints;t&&Mf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=ese(i.layoutBox,t):this.constraints=!1,this.elastic=sse(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xi(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=nse(i.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Mf(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const h=Qne(i,l.root,this.visualElement.getTransformPagePoint());let m=tse(l.layout.layoutBox,h);if(s){const g=s(Fne(m));this.hasMutatedConstraints=!!g,g&&(m=GB(g))}return m}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:h,dragSnapToOrigin:m,onDragTransitionEnd:g}=this.getProps(),b=this.constraints||{},v=Xi(k=>{if(!ww(k,s,this.currentDirection))return;let C=b&&b[k]||{};m&&(C={min:0,max:0});const _=l?200:1e6,S=l?40:1e7,T={type:"inertia",velocity:i?t[k]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...h,...C};return this.startAxisValueAnimation(k,T)});return Promise.all(v).then(g)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return h2(this.visualElement,t),i.start(jj(t,i,0,s,this.visualElement,!1))}stopAnimation(){Xi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xi(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Xi(s=>{const{drag:i}=this.getProps();if(!ww(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,h=this.getAxisMotionValue(s);if(l&&l.layout){const{min:m,max:g}=l.layout.layoutBox[s];h.set(t[s]-xn(m,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Mf(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Xi(m=>{const g=this.getAxisMotionValue(m);if(g&&this.constraints!==!1){const b=g.get();l[m]=rse({min:b,max:b},this.constraints[m])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Xi(m=>{if(!ww(m,t,null))return;const g=this.getAxisMotionValue(m),{min:b,max:v}=this.constraints[m];g.set(xn(b,v,l[m]))})}addListeners(){if(!this.visualElement.current)return;ose.set(this.visualElement,this);const t=this.visualElement.current,s=zy(t,"pointerdown",b=>{const{drag:v,dragListener:k=!0}=this.getProps();v&&k&&this.start(b)}),i=()=>{const{dragConstraints:b}=this.getProps();Mf(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,h=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),wn.read(i);const m=mx(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",({delta:b,hasLayoutChanged:v})=>{this.isDragging&&v&&(Xi(k=>{const C=this.getAxisMotionValue(k);C&&(this.originPoint[k]+=b[k].translate,C.set(C.get()+b[k].translate))}),this.visualElement.render())});return()=>{m(),s(),h(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:h=!1,dragElastic:m=g2,dragMomentum:g=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:h,dragElastic:m,dragMomentum:g}}}function ww(r,t,s){return(t===!0||t===r)&&(s===null||s===r)}function ase(r,t=10){let s=null;return Math.abs(r.y)>t?s="y":Math.abs(r.x)>t&&(s="x"),s}class lse extends Zu{constructor(t){super(t),this.removeGroupControls=ea,this.removeListeners=ea,this.controls=new ise(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ea}unmount(){this.removeGroupControls(),this.removeListeners()}}const II=r=>(t,s)=>{r&&wn.postRender(()=>r(t,s))};class cse extends Zu{constructor(){super(...arguments),this.removePointerDownListener=ea}onPointerDown(t){this.session=new JB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:II(t),onStart:II(s),onMove:i,onEnd:(h,m)=>{delete this.session,l&&wn.postRender(()=>l(h,m))}}}mount(){this.removePointerDownListener=zy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RI(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const py={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(St.test(r))r=parseFloat(r);else return r;const s=RI(r,t.target.x),i=RI(r,t.target.y);return`${s}% ${i}%`}},dse={correct:(r,{treeScale:t,projectionDelta:s})=>{const i=r,l=Yu.parse(r);if(l.length>5)return i;const h=Yu.createTransformer(r),m=typeof l[0]!="number"?1:0,g=s.x.scale*t.x,b=s.y.scale*t.y;l[0+m]/=g,l[1+m]/=b;const v=xn(g,b,.5);return typeof l[2+m]=="number"&&(l[2+m]/=v),typeof l[3+m]=="number"&&(l[3+m]/=v),h(l)}};class use extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:h}=t;Qre(hse),h&&(s.group&&s.group.add(h),i&&i.register&&l&&i.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Jw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:l,isPresent:h}=this.props,{projection:m}=i;return m&&(m.isPresent=h,l||t.layoutDependency!==s||s===void 0||t.isPresent!==h?m.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?m.promote():m.relegate()||wn.postRender(()=>{const g=m.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $B(r){const[t,s]=AB(),i=O.useContext(YN);return n.jsx(use,{...r,layoutGroup:i,switchLayoutGroup:O.useContext(DB),isPresent:t,safeToRemove:s})}const hse={borderRadius:{...py,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:py,borderTopRightRadius:py,borderBottomLeftRadius:py,borderBottomRightRadius:py,boxShadow:dse};function mse(r,t,s){const i=mo(r)?r:Kf(r);return i.start(jj("",i,t,s)),i.animation}const pse=(r,t)=>r.depth-t.depth;class fse{constructor(){this.children=[],this.isDirty=!1}add(t){QN(this.children,t),this.isDirty=!0}remove(t){JN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pse),this.isDirty=!1,this.children.forEach(t)}}function gse(r,t){const s=Xo.now(),i=({timestamp:l})=>{const h=l-s;h>=t&&(qu(i),r(h-t))};return wn.setup(i,!0),()=>qu(i)}const ZB=["TopLeft","TopRight","BottomLeft","BottomRight"],bse=ZB.length,PI=r=>typeof r=="string"?parseFloat(r):r,OI=r=>typeof r=="number"||St.test(r);function yse(r,t,s,i,l,h){l?(r.opacity=xn(0,s.opacity??1,xse(i)),r.opacityExit=xn(t.opacity??1,0,vse(i))):h&&(r.opacity=xn(t.opacity??1,s.opacity??1,i));for(let m=0;m<bse;m++){const g=`border${ZB[m]}Radius`;let b=BI(t,g),v=BI(s,g);if(b===void 0&&v===void 0)continue;b||(b=0),v||(v=0),b===0||v===0||OI(b)===OI(v)?(r[g]=Math.max(xn(PI(b),PI(v),i),0),(Xl.test(v)||Xl.test(b))&&(r[g]+="%")):r[g]=v}(t.rotate||s.rotate)&&(r.rotate=xn(t.rotate||0,s.rotate||0,i))}function BI(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const xse=e6(0,.5,Y9),vse=e6(.5,.95,ea);function e6(r,t,s){return i=>i<r?0:i>t?1:s(ax(r,t,i))}function LI(r,t){r.min=t.min,r.max=t.max}function Ji(r,t){LI(r.x,t.x),LI(r.y,t.y)}function zI(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function FI(r,t,s,i,l){return r-=t,r=Rk(r,1/s,i),l!==void 0&&(r=Rk(r,1/l,i)),r}function wse(r,t=0,s=1,i=.5,l,h=r,m=r){if(Xl.test(t)&&(t=parseFloat(t),t=xn(m.min,m.max,t/100)-m.min),typeof t!="number")return;let g=xn(h.min,h.max,i);r===h&&(g-=t),r.min=FI(r.min,t,s,g,l),r.max=FI(r.max,t,s,g,l)}function VI(r,t,[s,i,l],h,m){wse(r,t[s],t[i],t[l],t.scale,h,m)}const kse=["x","scaleX","originX"],Cse=["y","scaleY","originY"];function UI(r,t,s,i){VI(r.x,t,kse,s?s.x:void 0,i?i.x:void 0),VI(r.y,t,Cse,s?s.y:void 0,i?i.y:void 0)}function GI(r){return r.translate===0&&r.scale===1}function t6(r){return GI(r.x)&&GI(r.y)}function HI(r,t){return r.min===t.min&&r.max===t.max}function _se(r,t){return HI(r.x,t.x)&&HI(r.y,t.y)}function qI(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function r6(r,t){return qI(r.x,t.x)&&qI(r.y,t.y)}function YI(r){return So(r.x)/So(r.y)}function WI(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class Ase{constructor(){this.members=[]}add(t){QN(this.members,t),t.scheduleRender()}remove(t){if(JN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const h=this.members[l];if(h.isPresent!==!1){i=h;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nse(r,t,s){let i="";const l=r.x.translate/t.x,h=r.y.translate/t.y,m=(s==null?void 0:s.z)||0;if((l||h||m)&&(i=`translate3d(${l}px, ${h}px, ${m}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:v,rotate:k,rotateX:C,rotateY:_,skewX:S,skewY:T}=s;v&&(i=`perspective(${v}px) ${i}`),k&&(i+=`rotate(${k}deg) `),C&&(i+=`rotateX(${C}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),T&&(i+=`skewY(${T}deg) `)}const g=r.x.scale*t.x,b=r.y.scale*t.y;return(g!==1||b!==1)&&(i+=`scale(${g}, ${b})`),i||"none"}const Q_=["","X","Y","Z"],jse={visibility:"hidden"},Sse=1e3;let Ese=0;function J_(r,t,s,i){const{latestValues:l}=t;l[r]&&(s[r]=l[r],t.setStaticValue(r,0),i&&(i[r]=0))}function n6(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const s=zB(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:h}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",wn,!(l||h))}const{parent:i}=r;i&&!i.hasCheckedOptimisedAppear&&n6(i)}function s6({attachResizeListener:r,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(m={},g=t==null?void 0:t()){this.id=Ese++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tse),this.nodes.forEach(Ose),this.nodes.forEach(Bse),this.nodes.forEach(Ise)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new fse)}addEventListener(m,g){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new ZN),this.eventHandlers.get(m).add(g)}notifyListeners(m,...g){const b=this.eventHandlers.get(m);b&&b.notify(...g)}hasListeners(m){return this.eventHandlers.has(m)}mount(m){if(this.instance)return;this.isSVG=_B(m)&&!Nre(m),this.instance=m;const{layoutId:g,layout:b,visualElement:v}=this.options;if(v&&!v.current&&v.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(b||g)&&(this.isLayoutDirty=!0),r){let k;const C=()=>this.root.updateBlockedByResize=!1;r(m,()=>{this.root.updateBlockedByResize=!0,k&&k(),k=gse(C,250),Jw.hasAnimatedSinceResize&&(Jw.hasAnimatedSinceResize=!1,this.nodes.forEach(JI))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&v&&(g||b)&&this.addEventListener("didUpdate",({delta:k,hasLayoutChanged:C,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||v.getDefaultTransition()||Use,{onLayoutAnimationStart:R,onLayoutAnimationComplete:P}=v.getProps(),V=!this.targetLayout||!r6(this.targetLayout,S),U=!C&&_;if(this.options.layoutRoot||this.resumeFrom||U||C&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...mj(T,"layout"),onPlay:R,onComplete:P};(v.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(k,U)}else C||JI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lse),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&n6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let k=0;k<this.path.length;k++){const C=this.path[k];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:g,layout:b}=this.options;if(g===void 0&&!b)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QI);return}this.isUpdating||this.nodes.forEach(QI),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(Pse),this.nodes.forEach(Dse),this.nodes.forEach(Mse),this.clearAllSnapshots();const g=Xo.now();qs.delta=gd(0,1e3/60,g-qs.timestamp),qs.timestamp=g,qs.isProcessing=!0,F_.update.process(qs),F_.preRender.process(qs),F_.render.process(qs),qs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rse),this.sharedNodes.forEach(zse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!So(this.snapshot.measuredBox.x)&&!So(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(g=!1),g&&this.instance){const b=i(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:b,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!l)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!t6(this.projectionDelta),b=this.getTransformTemplate(),v=b?b(this.latestValues,""):void 0,k=v!==this.prevTransformTemplateValue;m&&this.instance&&(g||vm(this.latestValues)||k)&&(l(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const g=this.measurePageBox();let b=this.removeElementScroll(g);return m&&(b=this.removeTransform(b)),Gse(b),{animationId:this.root.animationId,measuredBox:g,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var v;const{visualElement:m}=this.options;if(!m)return Un();const g=m.measureViewportBox();if(!(((v=this.scroll)==null?void 0:v.wasRoot)||this.path.some(Hse))){const{scroll:k}=this.root;k&&(If(g.x,k.offset.x),If(g.y,k.offset.y))}return g}removeElementScroll(m){var b;const g=Un();if(Ji(g,m),(b=this.scroll)!=null&&b.wasRoot)return g;for(let v=0;v<this.path.length;v++){const k=this.path[v],{scroll:C,options:_}=k;k!==this.root&&C&&_.layoutScroll&&(C.wasRoot&&Ji(g,m),If(g.x,C.offset.x),If(g.y,C.offset.y))}return g}applyTransform(m,g=!1){const b=Un();Ji(b,m);for(let v=0;v<this.path.length;v++){const k=this.path[v];!g&&k.options.layoutScroll&&k.scroll&&k!==k.root&&Rf(b,{x:-k.scroll.offset.x,y:-k.scroll.offset.y}),vm(k.latestValues)&&Rf(b,k.latestValues)}return vm(this.latestValues)&&Rf(b,this.latestValues),b}removeTransform(m){const g=Un();Ji(g,m);for(let b=0;b<this.path.length;b++){const v=this.path[b];if(!v.instance||!vm(v.latestValues))continue;p2(v.latestValues)&&v.updateSnapshot();const k=Un(),C=v.measurePageBox();Ji(k,C),UI(g,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,k)}return vm(this.latestValues)&&UI(g,this.latestValues),g}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){var _;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==g;if(!(m||b&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:k,layoutId:C}=this.options;if(!(!this.layout||!(k||C))){if(this.resolvedRelativeTargetAt=qs.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Vy(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ji(this.target,this.layout.layoutBox),WB(this.target,this.targetDelta)):Ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Vy(this.relativeTargetOrigin,this.target,S.target),Ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||p2(this.parent.latestValues)||YB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const m=this.getLead(),g=!!this.resumingFrom||this!==m;let b=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(b=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===qs.timestamp&&(b=!1),b)return;const{layout:v,layoutId:k}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||k))return;Ji(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,_=this.treeScale.y;Kne(this.layoutCorrected,this.treeScale,this.path,g),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Un());const{target:S}=m;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zI(this.prevProjectionDelta.x,this.projectionDelta.x),zI(this.prevProjectionDelta.y,this.projectionDelta.y)),Fy(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==C||this.treeScale.y!==_||!WI(this.projectionDelta.x,this.prevProjectionDelta.x)||!WI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){var g;if((g=this.options.visualElement)==null||g.scheduleRender(),m){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tf(),this.projectionDelta=Tf(),this.projectionDeltaWithTransform=Tf()}setAnimationOrigin(m,g=!1){const b=this.snapshot,v=b?b.latestValues:{},k={...this.latestValues},C=Tf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const _=Un(),S=b?b.source:void 0,T=this.layout?this.layout.source:void 0,R=S!==T,P=this.getStack(),V=!P||P.members.length<=1,U=!!(R&&!V&&this.options.crossfade===!0&&!this.path.some(Vse));this.animationProgress=0;let F;this.mixTargetDelta=q=>{const ne=q/1e3;XI(C.x,m.x,ne),XI(C.y,m.y,ne),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vy(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fse(this.relativeTarget,this.relativeTargetOrigin,_,ne),F&&_se(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Un()),Ji(F,this.relativeTarget)),R&&(this.animationValues=k,yse(k,v,this.latestValues,ne,U,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){var g,b,v;this.notifyListeners("animationStart"),(g=this.currentAnimation)==null||g.stop(),(v=(b=this.resumingFrom)==null?void 0:b.currentAnimation)==null||v.stop(),this.pendingAnimation&&(qu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{Jw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kf(0)),this.currentAnimation=mse(this.motionValue,[0,1e3],{...m,velocity:0,isSync:!0,onUpdate:k=>{this.mixTargetDelta(k),m.onUpdate&&m.onUpdate(k)},onStop:()=>{},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sse),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:g,target:b,layout:v,latestValues:k}=m;if(!(!g||!b||!v)){if(this!==m&&this.layout&&v&&o6(this.options.animationType,this.layout.layoutBox,v.layoutBox)){b=this.target||Un();const C=So(this.layout.layoutBox.x);b.x.min=m.target.x.min,b.x.max=b.x.min+C;const _=So(this.layout.layoutBox.y);b.y.min=m.target.y.min,b.y.max=b.y.min+_}Ji(g,b),Rf(g,k),Fy(this.projectionDeltaWithTransform,this.layoutCorrected,g,k)}}registerSharedNode(m,g){this.sharedNodes.has(m)||this.sharedNodes.set(m,new Ase),this.sharedNodes.get(m).add(g);const v=g.options.initialPromotionConfig;g.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(g):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){var g;const{layoutId:m}=this.options;return m?((g=this.getStack())==null?void 0:g.lead)||this:this}getPrevLead(){var g;const{layoutId:m}=this.options;return m?(g=this.getStack())==null?void 0:g.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:g,preserveFollowOpacity:b}={}){const v=this.getStack();v&&v.promote(this,b),m&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let g=!1;const{latestValues:b}=m;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(g=!0),!g)return;const v={};b.z&&J_("z",m,v,this.animationValues);for(let k=0;k<Q_.length;k++)J_(`rotate${Q_[k]}`,m,v,this.animationValues),J_(`skew${Q_[k]}`,m,v,this.animationValues);m.render();for(const k in v)m.setStaticValue(k,v[k]),this.animationValues&&(this.animationValues[k]=v[k]);m.scheduleRender()}getProjectionStyles(m){if(!this.instance||this.isSVG)return;if(!this.isVisible)return jse;const g={visibility:""},b=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Qw(m==null?void 0:m.pointerEvents)||"",g.transform=b?b(this.latestValues,""):"none",g;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Qw(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!vm(this.latestValues)&&(S.transform=b?b({},""):"none",this.hasProjected=!1),S}const k=v.animationValues||v.latestValues;this.applyTransformsToTarget(),g.transform=Nse(this.projectionDeltaWithTransform,this.treeScale,k),b&&(g.transform=b(k,g.transform));const{x:C,y:_}=this.projectionDelta;g.transformOrigin=`${C.origin*100}% ${_.origin*100}% 0`,v.animationValues?g.opacity=v===this?k.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:k.opacityExit:g.opacity=v===this?k.opacity!==void 0?k.opacity:"":k.opacityExit!==void 0?k.opacityExit:0;for(const S in ux){if(k[S]===void 0)continue;const{correct:T,applyTo:R,isCSSVariable:P}=ux[S],V=g.transform==="none"?k[S]:T(k[S],v);if(R){const U=R.length;for(let F=0;F<U;F++)g[R[F]]=V}else P?this.options.visualElement.renderState.vars[S]=V:g[S]=V}return this.options.layoutId&&(g.pointerEvents=v===this?Qw(m==null?void 0:m.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>{var g;return(g=m.currentAnimation)==null?void 0:g.stop()}),this.root.nodes.forEach(KI),this.root.sharedNodes.clear()}}}function Dse(r){r.updateLayout()}function Mse(r){var s;const t=((s=r.resumeFrom)==null?void 0:s.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=r.layout,{animationType:h}=r.options,m=t.source!==r.layout.source;h==="size"?Xi(C=>{const _=m?t.measuredBox[C]:t.layoutBox[C],S=So(_);_.min=i[C].min,_.max=_.min+S}):o6(h,t.layoutBox,i)&&Xi(C=>{const _=m?t.measuredBox[C]:t.layoutBox[C],S=So(i[C]);_.max=_.min+S,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[C].max=r.relativeTarget[C].min+S)});const g=Tf();Fy(g,i,t.layoutBox);const b=Tf();m?Fy(b,r.applyTransform(l,!0),t.measuredBox):Fy(b,i,t.layoutBox);const v=!t6(g);let k=!1;if(!r.resumeFrom){const C=r.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:_,layout:S}=C;if(_&&S){const T=Un();Vy(T,t.layoutBox,_.layoutBox);const R=Un();Vy(R,i,S.layoutBox),r6(T,R)||(k=!0),C.options.layoutRoot&&(r.relativeTarget=R,r.relativeTargetOrigin=T,r.relativeParent=C)}}}r.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:b,layoutDelta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:k})}else if(r.isLead()){const{onExitComplete:i}=r.options;i&&i()}r.options.transition=void 0}function Tse(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Ise(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Rse(r){r.clearSnapshot()}function KI(r){r.clearMeasurements()}function QI(r){r.isLayoutDirty=!1}function Pse(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function JI(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function Ose(r){r.resolveTargetDelta()}function Bse(r){r.calcProjection()}function Lse(r){r.resetSkewAndRotation()}function zse(r){r.removeLeadSnapshot()}function XI(r,t,s){r.translate=xn(t.translate,0,s),r.scale=xn(t.scale,1,s),r.origin=t.origin,r.originPoint=t.originPoint}function $I(r,t,s,i){r.min=xn(t.min,s.min,i),r.max=xn(t.max,s.max,i)}function Fse(r,t,s,i){$I(r.x,t.x,s.x,i),$I(r.y,t.y,s.y,i)}function Vse(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Use={duration:.45,ease:[.4,0,.1,1]},ZI=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),eR=ZI("applewebkit/")&&!ZI("chrome/")?Math.round:ea;function tR(r){r.min=eR(r.min),r.max=eR(r.max)}function Gse(r){tR(r.x),tR(r.y)}function o6(r,t,s){return r==="position"||r==="preserve-aspect"&&!Yne(YI(t),YI(s),.2)}function Hse(r){var t;return r!==r.root&&((t=r.scroll)==null?void 0:t.wasRoot)}const qse=s6({attachResizeListener:(r,t)=>mx(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),X_={current:void 0},i6=s6({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!X_.current){const r=new qse({});r.mount(window),r.setOptions({layoutScroll:!0}),X_.current=r}return X_.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),Yse={pan:{Feature:cse},drag:{Feature:lse,ProjectionNode:i6,MeasureLayout:$B}};function rR(r,t,s){const{props:i}=r;r.animationState&&i.whileHover&&r.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,h=i[l];h&&wn.postRender(()=>h(t,Ux(t)))}class Wse extends Zu{mount(){const{current:t}=this.node;t&&(this.unmount=wre(t,(s,i)=>(rR(this.node,i,"Start"),l=>rR(this.node,l,"End"))))}unmount(){}}class Kse extends Zu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zx(mx(this.node.current,"focus",()=>this.onFocus()),mx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nR(r,t,s){const{props:i}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&i.whileTap&&r.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),h=i[l];h&&wn.postRender(()=>h(t,Ux(t)))}class Qse extends Zu{mount(){const{current:t}=this.node;t&&(this.unmount=Are(t,(s,i)=>(nR(this.node,i,"Start"),(l,{success:h})=>nR(this.node,l,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const b2=new WeakMap,$_=new WeakMap,Jse=r=>{const t=b2.get(r.target);t&&t(r)},Xse=r=>{r.forEach(Jse)};function $se({root:r,...t}){const s=r||document;$_.has(s)||$_.set(s,{});const i=$_.get(s),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(Xse,{root:r,...t})),i[l]}function Zse(r,t,s){const i=$se(t);return b2.set(r,s),i.observe(r),()=>{b2.delete(r),i.unobserve(r)}}const eoe={some:0,all:1};class toe extends Zu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:h}=t,m={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:eoe[l]},g=b=>{const{isIntersecting:v}=b;if(this.isInView===v||(this.isInView=v,h&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:k,onViewportLeave:C}=this.node.getProps(),_=v?k:C;_&&_(b)};return Zse(this.node.current,m,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(roe(t,s))&&this.startObserver()}unmount(){}}function roe({viewport:r={}},{viewport:t={}}={}){return s=>r[s]!==t[s]}const noe={inView:{Feature:toe},tap:{Feature:Qse},focus:{Feature:Kse},hover:{Feature:Wse}},soe={layout:{ProjectionNode:i6,MeasureLayout:$B}},y2={current:null},a6={current:!1};function ooe(){if(a6.current=!0,!!KN)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>y2.current=r.matches;r.addListener(t),t()}else y2.current=!1}const ioe=new WeakMap;function aoe(r,t,s){for(const i in t){const l=t[i],h=s[i];if(mo(l))r.addValue(i,l);else if(mo(h))r.addValue(i,Kf(l,{owner:r}));else if(h!==l)if(r.hasValue(i)){const m=r.getValue(i);m.liveStyle===!0?m.jump(l):m.hasAnimated||m.set(l)}else{const m=r.getStaticValue(i);r.addValue(i,Kf(m!==void 0?m:l,{owner:r}))}}for(const i in s)t[i]===void 0&&r.removeValue(i);return t}const sR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class loe{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:h,visualState:m},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Xo.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,wn.render(this.render,!1,!0))};const{latestValues:b,renderState:v}=m;this.latestValues=b,this.baseTarget={...b},this.initialValues=s.initial?{...b}:{},this.renderState=v,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=g,this.blockInitialAnimation=!!h,this.isControllingVariants=A1(s),this.isVariantNode=SB(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:k,...C}=this.scrapeMotionValuesFromProps(s,{},this);for(const _ in C){const S=C[_];b[_]!==void 0&&mo(S)&&S.set(b[_],!1)}}mount(t){this.current=t,ioe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),a6.current||ooe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qu(this.notifyUpdate),qu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ug.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",g=>{this.latestValues[t]=g,this.props.onUpdate&&wn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),h=s.on("renderRequest",this.scheduleRender);let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),h(),m&&m(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Qf){const s=Qf[t];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<sR.length;i++){const l=sR[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const h="on"+l,m=t[h];m&&(this.propEventSubscriptions[l]=this.on(l,m))}this.prevMotionValues=aoe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Kf(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(O9(i)||L9(i))?i=parseFloat(i):!Sre(i)&&Yu.test(s)&&(i=xB(t,s)),this.setBaseTarget(t,mo(i)?i.get():i)),mo(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var h;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const m=Aj(this.props,s,(h=this.presenceContext)==null?void 0:h.custom);m&&(i=m[t])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!mo(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new ZN),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class l6 extends loe{constructor(){super(...arguments),this.KeyframeResolver=gre}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mo(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function c6(r,{style:t,vars:s},i,l){Object.assign(r.style,t,l&&l.getProjectionStyles(i));for(const h in s)r.style.setProperty(h,s[h])}function coe(r){return window.getComputedStyle(r)}class doe extends l6{constructor(){super(...arguments),this.type="html",this.renderInstance=c6}readValueFromInstance(t,s){var i;if(ug.has(s))return(i=this.projection)!=null&&i.isProjecting?o2(s):Pte(t,s);{const l=coe(t),h=(rj(s)?l.getPropertyValue(s):l[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(t,{transformPagePoint:s}){return KB(t,s)}build(t,s,i){kj(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return Nj(t,s,i)}}const d6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uoe(r,t,s,i){c6(r,t,void 0,i);for(const l in t.attrs)r.setAttribute(d6.has(l)?l:wj(l),t.attrs[l])}class hoe extends l6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Un}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ug.has(s)){const i=yB(s);return i&&i.default||0}return s=d6.has(s)?s:wj(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return LB(t,s,i)}build(t,s,i){RB(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,l){uoe(t,s,i,l)}mount(t){this.isSVGTag=OB(t.tagName),super.mount(t)}}const moe=(r,t)=>_j(r)?new hoe(t):new doe(t,{allowProjection:r!==O.Fragment}),poe=hne({...Lne,...noe,...Yse,...soe},moe),Rn=Bre(poe),Gx=un(qm((r,t)=>({banners:[],loading:!1,error:null,setBanners:s=>r({banners:s}),setLoading:s=>r({loading:s}),setError:s=>r({error:s}),fetchBanners:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.get("/admin/banners/");if(l.status===200)return r({banners:l.data.banners||[],loading:!1}),l.data.banners}catch(l){throw console.error("Error fetching banners:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch banners",loading:!1}),l}},fetchPublicBanners:async()=>{var i,l;const s=t();if(s.loading||s.banners.length>0)return s.banners;r({loading:!0,error:null});try{const h=await Ze.get("/admin/banners/public/");if(h.status===200)return r({banners:h.data.banners||[],loading:!1}),h.data.banners}catch(h){throw console.error("Error fetching public banners:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch public banners",loading:!1}),h}},addBanner:async s=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.post("/admin/banners/add/",s,{headers:{"Content-Type":"multipart/form-data"}});if(h.status===201)return await t().fetchBanners(),r({loading:!1}),h.data}catch(h){throw console.error("Error adding banner:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add banner",loading:!1}),h}},editBanner:async(s,i)=>{var l,h;r({loading:!0,error:null});try{const m=i instanceof FormData;let g={};m&&(g={"Content-Type":"multipart/form-data"});const b=await Ze.patch(`/admin/banners/edit/${s}/`,i,{headers:g});if(b.status===200)return await t().fetchBanners(),r({loading:!1}),b.data}catch(m){throw console.error("Error editing banner:",m),r({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to edit banner",loading:!1}),m}},deleteBanner:async s=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.delete(`/admin/banners/delete/${s}/`);if(h.status===200){const{banners:m}=t(),g=m.filter(b=>b.id!==s);return r({banners:g,loading:!1}),h.data}}catch(h){throw console.error("Error deleting banner:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete banner",loading:!1}),h}},toggleBannerActive:async s=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.patch(`/admin/banners/toggle/${s}/`);if(h.status===200){const{banners:m}=t(),g=m.map(b=>b.id===s?{...b,active:h.data.active}:b);return r({banners:g,loading:!1}),h.data}}catch(h){throw console.error("Error toggling banner:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle banner",loading:!1}),h}},getBannersByPosition:s=>{const{banners:i}=t();return i.filter(l=>l.position===s&&l.active)},getHeroBanners:()=>{const{banners:s}=t();return s.filter(i=>i.position==="hero"&&i.active).sort((i,l)=>new Date(i.created_at)-new Date(l.created_at))},getCarouselBanners:()=>{const{banners:s}=t();return s.filter(l=>["home-middle","home-bottom","carousel"].includes(l.position)&&l.active).sort((l,h)=>new Date(l.created_at)-new Date(h.created_at))},getDropdownBanners:s=>{const{banners:i}=t();return i.filter(l=>l.position==="dropdown"&&l.active&&l.category===s).sort((l,h)=>new Date(l.created_at)-new Date(h.created_at)).slice(0,2)},clearError:()=>r({error:null})}))),foe=[{id:1,image:"/mobile1.png",backgroundColor:"#f8fafc"},{id:2,image:"/laptops.png",backgroundColor:"#f1f5f9"},{id:3,image:"/tv1.png",backgroundColor:"#e2e8f0"},{id:4,image:"/tablets1.png",backgroundColor:"#f1f5f9"},{id:5,image:"/accessories.png",backgroundColor:"#f8fafc"}],oR=()=>{const{getCarouselBanners:r}=Gx(),[t,s]=O.useState(0),[[i,l],h]=O.useState([0,0]),m=r(),g=m.length>0?m:foe;O.useEffect(()=>{const _=setTimeout(()=>{const S=(t+1)%g.length;h([S,1]),s(S)},5e3);return()=>clearTimeout(_)},[t,g.length]);const b=()=>{const _=(t-1+g.length)%g.length;h([_,-1]),s(_)},v=()=>{const _=(t+1)%g.length;h([_,1]),s(_)},k={enter:_=>({x:_>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:_=>({x:_<0?1e3:-1e3,opacity:0})},C={duration:.6,ease:"easeInOut"};return n.jsxs("div",{className:"relative overflow-hidden w-full",style:{boxShadow:"var(--shadow-large)",height:"500px"},children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 h-1.5 bg-white bg-opacity-20",children:n.jsx("div",{className:"h-full",style:{width:`${(t+1)/g.length*100}%`,backgroundColor:"var(--brand-primary)",transition:"width 5s linear"}})}),n.jsx("div",{className:"relative w-full h-full overflow-hidden",children:n.jsx(yj,{initial:!1,custom:l,children:n.jsxs(Rn.div,{custom:l,variants:k,initial:"enter",animate:"center",exit:"exit",transition:C,className:"absolute inset-0 w-full",children:[n.jsx(Rn.img,{src:g[t].image,alt:g[t].title||"Banner",className:"w-full h-full object-cover",style:{backgroundColor:g[t].backgroundColor||"#f1f5f9"},initial:{scale:.95},animate:{scale:1},transition:{duration:.5},loading:"eager"}),n.jsx(Rn.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20",animate:{rotate:[45,55,45],opacity:[.2,.25,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),n.jsx(Rn.div,{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})})]},i)})}),n.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Previous slide",children:n.jsx(Za,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),n.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Next slide",children:n.jsx(Pn,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),n.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:g.map((_,S)=>n.jsx(Rn.button,{onClick:()=>{const T=S>t?1:-1;h([S,T]),s(S)},className:`h-2.5 rounded-full ${S===t?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${S+1}`},S))})]})};function goe(r){return Le({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(r)}function boe(r){return Le({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V20H17V4H7ZM6 2H18C18.5523 2 19 2.44772 19 3V21C19 21.5523 18.5523 22 18 22H6C5.44772 22 5 21.5523 5 21V3C5 2.44772 5.44772 2 6 2ZM12 17C12.5523 17 13 17.4477 13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17Z"},child:[]}]})(r)}function yoe(r){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 12v-1.707c0-4.442-3.479-8.161-7.755-8.29-2.204-.051-4.251.736-5.816 2.256A7.933 7.933 0 0 0 4 10v2c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h2V10a5.95 5.95 0 0 1 1.821-4.306 5.977 5.977 0 0 1 4.363-1.691C15.392 4.099 18 6.921 18 10.293V20h2c1.103 0 2-.897 2-2v-4c0-1.103-.897-2-2-2z"},child:[]},{tag:"path",attr:{d:"M7 12h2v8H7zm8 0h2v8h-2z"},child:[]}]})(r)}function xoe(r){return Le({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"},child:[]}]})(r)}const u6=un(r=>({categories:{list:[],loading:!1,error:null},fetchCategories:async()=>{var t,s;r(i=>({categories:{...i.categories,loading:!0,error:null}}));try{const l=(await Ze.get("/admin/categories/")).data.categories;return r({categories:{list:l,loading:!1,error:null}}),{success:!0,categories:l}}catch(i){const l=((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch categories";return r(h=>({categories:{...h.categories,loading:!1,error:l}})),{success:!1,error:l}}},addCategory:async t=>{var s,i;r(l=>({categories:{...l.categories,loading:!0,error:null}}));try{const l={...t,order:t.order||0},h=await Ze.post("/admin/categories/add/",l);if(h.data.category)return r(m=>({categories:{...m.categories,list:[...m.categories.list,h.data.category],loading:!1,error:null}})),{success:!0,message:h.data.message||"Category added successfully",category:h.data.category}}catch(l){const h=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to add category";return r(m=>({categories:{...m.categories,loading:!1,error:h}})),{success:!1,error:h}}},editCategory:async(t,s)=>{var i,l;r(h=>({categories:{...h.categories,loading:!0,error:null}}));try{const h={...s,order:s.order!==void 0?s.order:0},m=await Ze.put(`/admin/categories/edit/${t}/`,h);if(m.data.category)return r(g=>({categories:{...g.categories,list:g.categories.list.map(b=>b.id===t?m.data.category:b),loading:!1,error:null}})),{success:!0,message:m.data.message||"Category updated successfully",category:m.data.category}}catch(h){const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update category";return r(g=>({categories:{...g.categories,loading:!1,error:m}})),{success:!1,error:m}}},uploadCategoryImage:async t=>{var s,i;try{const l=new FormData;l.append("image",t);const h=await Ze.post("/admin/categories/upload-image/",l,{headers:{"Content-Type":"multipart/form-data"}});return h.data.success?{success:!0,imageUrl:h.data.image_url,message:h.data.message||"Image uploaded successfully"}:{success:!1,message:h.data.error||"Failed to upload image"}}catch(l){return{success:!1,message:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||l.message||"Failed to upload image"}}}})),voe={scrollbarWidth:"none",msOverflowStyle:"none"},iR=()=>{const{categories:r,fetchCategories:t}=u6(),[s,i]=O.useState([]),l=O.useRef();O.useEffect(()=>{t()},[]),O.useEffect(()=>{if(r&&r.length>0){const b=[...r].sort((v,k)=>(v.order||0)-(k.order||0));i(b)}else if(r.list&&r.list.length>0){const b=[...r.list].sort((v,k)=>(v.order||0)-(k.order||0));i(b)}},[r.list,r]);const h={Smartphones:n.jsx(boe,{className:"w-full h-full"}),Laptops:n.jsx(pY,{className:"w-full h-full"}),Tablets:n.jsx(fY,{className:"w-full h-full"}),"Mobile Accessories":n.jsx(vt,{className:"w-full h-full"}),"Laptop Accessories":n.jsx(xoe,{className:"w-full h-full"}),"Audio Devices":n.jsx(yoe,{className:"w-full h-full"})},m=b=>{b.preventDefault(),l.current&&l.current.scrollBy({left:-300,behavior:"smooth"})},g=b=>{b.preventDefault(),l.current&&l.current.scrollBy({left:300,behavior:"smooth"})};return n.jsx("div",{className:"py-6",children:n.jsxs("div",{className:"relative px-2",onKeyDown:b=>{b.key==="ArrowLeft"&&m(b),b.key==="ArrowRight"&&g(b)},children:[n.jsx("button",{onClick:m,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(-5px)",cursor:"pointer"},"aria-label":"Scroll left",type:"button",children:n.jsx(F2,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),n.jsx("button",{onClick:g,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(5px)",cursor:"pointer"},"aria-label":"Scroll right",type:"button",children:n.jsx(V2,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),n.jsx("div",{ref:l,className:"overflow-x-auto relative z-10 scrollbar-hide",style:voe,tabIndex:"0",children:n.jsxs("div",{className:"flex gap-6 py-4 px-8",children:[r.loading&&n.jsx("div",{className:"flex justify-center w-full py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}),r.error&&n.jsxs("div",{className:"flex justify-center w-full py-8 text-red-500",children:["Error loading categories: ",r.error]}),s.map(b=>n.jsxs(rt,{to:`${b.redirect_url}`,className:"flex-shrink-0 flex flex-col items-center transition-transform duration-300 hover:-translate-y-2 group",style:{width:"300px"},children:[n.jsx("div",{className:"flex items-center justify-center mb-6 relative overflow-hidden transition-all duration-500 hover:shadow-2xl bg-white rounded-3xl border group-hover:border-orange-300 group-hover:bg-gradient-to-br group-hover:from-orange-50 group-hover:to-red-50 group-hover:scale-105",style:{width:"160px",height:"160px",padding:"16px",border:"3px solid var(--border-primary)",boxShadow:"0 8px 25px rgba(0,0,0,0.12), 0 4px 10px rgba(0,0,0,0.08)",background:"linear-gradient(135deg, #ffffff 0%, #fafafa 100%)"},children:b.image_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-full object-contain transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3",style:{maxWidth:"100%",maxHeight:"100%",backgroundColor:"transparent",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.1))"},onError:v=>{v.target.onerror=null,v.target.style.display="none",v.target.nextSibling&&(v.target.nextSibling.style.display="flex")}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-100/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-3xl"})]}):n.jsx("div",{className:"w-full h-full flex items-center justify-center transition-all duration-500 group-hover:scale-110 group-hover:rotate-3",style:{color:"var(--brand-primary)",background:"linear-gradient(135deg, var(--brand-primary) 0%, #ff8a65 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:h[b.name]||n.jsx(goe,{className:"w-16 h-16",style:{color:"var(--brand-primary)"}})})}),n.jsx("h3",{className:"text-center transition-all duration-500 group-hover:text-orange-600 group-hover:scale-105 px-3 py-2 rounded-xl font-bold bg-gradient-to-r from-white to-gray-50 group-hover:from-orange-50 group-hover:to-red-50 shadow-sm group-hover:shadow-md",style:{color:"var(--text-primary)",lineHeight:"1.4",fontSize:"15px",fontWeight:"700",letterSpacing:"0.3px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:b.name})]},b.id))]})})]})})};function woe(r){return Le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(r)}function koe(r){return Le({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(r)}function Z_(r){return Le({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(r)}function aR(r){return Le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function lR(r){return Le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(r)}function cR(r){return Le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(r)}function jy(r){return Le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function dR(r){return Le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function eA(r){return Le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(r)}function Coe(r){return Le({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(r)}function _oe(r){return Le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function uR(r){return Le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(r)}function fy(r){return Le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function hR(r){return Le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function Aoe(r){return Le({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(r)}function kw(r){return Le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function h6(r){return Le({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(r)}function x2(r){return Le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function Cw(r){return Le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function Noe(r){return Le({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(r)}function v2(r){return Le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(r)}const eh=un(O2((r,t)=>({items:[],itemCount:0,totalAmount:0,isLoading:!1,error:null,fetchCart:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),jr.getState().isAuthenticated){const m=(await or.get("/users/cart/")).data.cart.map(g=>({id:g.product_id,item_id:g.item_id,name:g.name,price:g.price,image:g.image_url,quantity:g.quantity,stock:g.stock||10,category:g.category||"Product",added_at:g.added_at,variant_id:g.variant_id,variant:g.variant}));return r({items:m,isLoading:!1}),gy(),m}else return gy(),r({isLoading:!1}),t().items}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch cart"}),t().items}},addItem:async(s,i=1)=>{var l,h;try{r({isLoading:!0,error:null}),jr.getState().isAuthenticated&&await or.post(`/users/cart/add/${s.id}/`,{quantity:i,variant_id:s.variant_id||null});const{items:g}=t(),b=s.variant_id?`${s.id}_${s.variant_id}`:s.id,v=g.find(k=>(k.variant_id?`${k.id}_${k.variant_id}`:k.id)===b);return r(v?{items:g.map(k=>(k.variant_id?`${k.id}_${k.variant_id}`:k.id)===b?{...k,quantity:k.quantity+i}:k),isLoading:!1}:{items:[...g,{...s,quantity:i}],isLoading:!1}),gy(),Re.success("Item added to cart"),!0}catch(m){return r({isLoading:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to add item to cart"}),!1}},removeItem:async s=>{var i,l;try{r({isLoading:!0,error:null});const h=jr.getState().isAuthenticated;if(h){const b=await or.delete(`/users/cart/remove/${s}/`);b.data.message&&Re.success(b.data.message)}const{items:m}=t(),g=m.find(b=>b.item_id===s);return r({items:m.filter(b=>b.item_id!==s),isLoading:!1}),gy(),!h&&g&&Re.success(`${g.name} removed from cart`),!0}catch(h){const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to remove item from cart";return r({isLoading:!1,error:m}),Re.error(m),!1}},updateQuantity:async(s,i)=>{var l,h;try{r({isLoading:!0,error:null});const m=jr.getState().isAuthenticated;if(i<=0)return t().removeItem(s);if(m){const{items:b}=t(),v=b.find(k=>k.item_id===s);v&&(await or.delete(`/users/cart/remove/${s}/`),await or.post(`/users/cart/add/${v.id}/`,{quantity:i,variant_id:v.variant_id||null}))}const{items:g}=t();return r({items:g.map(b=>b.item_id===s?{...b,quantity:i}:b),isLoading:!1}),gy(),!0}catch(m){return r({isLoading:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update item quantity"}),!1}},clearCart:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),jr.getState().isAuthenticated){const{items:h}=t(),m=h.map(g=>or.delete(`/users/cart/remove/${g.item_id}/`));await Promise.all(m)}return r({items:[],itemCount:0,totalAmount:0,isLoading:!1}),!0}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to clear cart"}),!1}},updateTotals:()=>{const{items:s}=t(),i=s.reduce((h,m)=>h+m.quantity,0),l=s.reduce((h,m)=>h+m.price*m.quantity,0);r({itemCount:i,totalAmount:l})},clearError:()=>r({error:null})}),{name:"cart-storage"})),gy=()=>{eh.getState().updateTotals()},N1=un(O2((r,t)=>({items:[],isLoading:!1,error:null,fetchWishlist:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),jr.getState().isAuthenticated){const m=(await or.get("/users/wishlist/")).data.wishlist.map(g=>({id:g.product_id,item_id:g.item_id,name:g.name,price:g.price,image:g.image_url,stock:g.stock||1,category:g.category||"Product",added_at:g.added_at,variant_id:g.variant_id,variant:g.variant}));return r({items:m,isLoading:!1}),m}else return r({isLoading:!1}),t().items}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch wishlist"}),t().items}},addItem:async s=>{var i,l;try{r({isLoading:!0,error:null});const h=jr.getState().isAuthenticated,{items:m}=t();return m.find(b=>b.id===s.id)?(r({isLoading:!1}),!0):(h&&await or.post(`/users/wishlist/add/${s.id}/`,{variant_id:s.variant_id||null}),r({items:[...m,s],isLoading:!1}),Re.success("Item added to wishlist"),!0)}catch(h){return r({isLoading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add item to wishlist"}),!1}},removeItem:async s=>{var i,l;try{r({isLoading:!0,error:null});const h=jr.getState().isAuthenticated;if(h){const b=await or.delete(`/users/wishlist/remove/${s}/`);b.data.message&&Re.success(b.data.message)}const{items:m}=t(),g=m.find(b=>b.item_id===s);return r({items:m.filter(b=>b.item_id!==s),isLoading:!1}),!h&&g&&Re.success(`${g.name} removed from wishlist`),!0}catch(h){const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to remove item from wishlist";return r({isLoading:!1,error:m}),Re.error(m),!1}},isInWishlist:s=>{const{items:i}=t();return i.some(l=>l.id===s)},clearWishlist:async()=>{var s,i;try{if(r({isLoading:!0,error:null}),jr.getState().isAuthenticated){const{items:h}=t(),m=h.map(g=>or.delete(`/users/wishlist/remove/${g.item_id}/`));await Promise.all(m)}return r({items:[],isLoading:!1}),!0}catch(l){return r({isLoading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to clear wishlist"}),!1}},clearError:()=>r({error:null})}),{name:"wishlist-storage"})),hg=({product:r})=>{var S;const{addItem:t}=eh(),{addItem:s,isInWishlist:i,removeItem:l,items:h}=N1(),m=i(r.id),g=(S=r.valid_options)==null?void 0:S[0],b=(g==null?void 0:g.discounted_price)||(g==null?void 0:g.price)||r.discount_price||r.discountPrice||r.discounted_price||r.sale_price||r.price||0,v=(g==null?void 0:g.price)||r.price||r.original_price||0,k=()=>{var P;const T=((P=r.valid_options)==null?void 0:P[0])||null,R={...r,price:b,variant_id:(T==null?void 0:T.id)||null,variant:T?{id:T.id,color:T.colors,storage:T.storage,ram:T.ram,price:T.discounted_price||T.price}:null};t(R,1),Rt.success(`${r.name} added to cart!`)},C=()=>{var T;if(m){const R=h.find(P=>P.id===r.id);R&&(l(R.item_id),Rt.success(`${r.name} removed from wishlist!`))}else{const R=((T=r.valid_options)==null?void 0:T[0])||null,P={...r,price:b,variant_id:(R==null?void 0:R.id)||null,variant:R?{id:R.id,color:R.colors,storage:R.storage,ram:R.ram,price:R.discounted_price||R.price}:null};s(P),Rt.success(`${r.name} added to wishlist!`)}},_=T=>{const R=[],P=Math.floor(T),V=T%1!==0;for(let U=0;U<5;U++)U<P?R.push(n.jsx(x2,{className:"text-yellow-400"},U)):U===P&&V?R.push(n.jsx(h6,{className:"text-yellow-400"},U)):R.push(n.jsx(v2,{className:"text-yellow-400"},U));return R};return n.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs(rt,{to:`/products/${r.id}`,className:"block relative group",children:[n.jsx("div",{className:"bg-white p-4 flex items-center justify-center h-56",children:n.jsx("img",{src:r.image,alt:r.name,className:"max-h-48 w-auto object-contain transform transition-transform duration-300 group-hover:scale-110"})}),b<v&&n.jsxs("span",{className:"absolute top-3 left-3 text-xs font-medium px-2.5 py-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:[Math.round((v-b)/v*100),"% OFF"]})]}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1 pr-3",children:[n.jsxs("p",{className:"text-xs mb-1.5",style:{color:"var(--text-secondary)"},children:[r.brand,"  ",r.category]}),n.jsx("h3",{className:"font-medium mb-1.5 line-clamp-2 min-h-[2.5rem]",style:{color:"var(--text-primary)"},children:n.jsx(rt,{to:`/products/${r.id}`,children:r.name})}),n.jsxs("div",{className:"flex items-center mb-2.5",children:[n.jsx("div",{className:"flex items-center",children:_(r.rating)}),n.jsx("span",{className:"text-xs ml-1.5",style:{color:"var(--text-secondary)"},children:r.rating})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("p",{className:"font-bold text-lg",style:{color:"var(--text-accent)"},children:["",b.toLocaleString()]}),b<v&&n.jsxs("p",{className:"text-sm line-through ml-2",style:{color:"var(--text-secondary)"},children:["",v.toLocaleString()]})]})]}),n.jsx("button",{onClick:C,className:"flex items-center justify-center h-8 w-8 rounded-full transition-colors",style:{backgroundColor:m?"var(--brand-primary)":"var(--bg-accent-light)",color:m?"white":"var(--brand-primary)"},children:n.jsx(ag,{className:`text-lg ${m?"fill-current":""}`})})]}),n.jsx("div",{className:"mt-3",children:n.jsx(tt,{onClick:k,fullWidth:!0,className:"flex items-center justify-center",icon:n.jsx(lg,{className:"mr-1.5"}),children:"Add to Cart"})})]})]})},mR=({products:r})=>{const t=(r||[]).map(s=>({...s,id:s.id||s._id,name:s.name||`${s.brand} ${s.model||""}`.trim(),image:s.images&&s.images.length>0?s.images[0]:s.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:s.discount_price||s.offer_price||s.price,price:s.price,discount:s.discount||(s.price&&s.discount_price?`${Math.round((s.price-(s.discount_price||s.offer_price))/s.price*100)}%`:null),rating:s.rating||4,reviews:s.reviews||s.reviews_count||0,brand:s.brand||"Unknown",category:s.category||"General",stock:s.stock||0}));return n.jsx("div",{className:"featured-products",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(s=>n.jsx(hg,{product:s},s.id))}),t.length===0&&n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{style:{color:"var(--text-secondary)"},children:"No featured products available at the moment."})})]})})},joe=[{image:"/mobile1.png",title:"Latest Smartphones",subtitle:"Discover the newest technology at unbeatable prices",tag:"New Arrivals",cta:"Shop Phones",backgroundColor:"#f8fafc"},{image:"/laptops.png",title:"Premium Laptops",subtitle:"Powerful devices for work and play",tag:"Best Sellers",cta:"Shop Laptops",backgroundColor:"#f1f5f9"},{image:"/tv1.png",title:"Smart TVs",subtitle:"Immersive entertainment for your home",tag:"Featured",cta:"Shop TVs",backgroundColor:"#e2e8f0"}],pR=()=>{const{getHeroBanners:r}=Gx(),t=ns(),[s,i]=O.useState(0),[[l,h],m]=O.useState([0,0]),g=r();console.log("Hero Banners:",g);const b=g.length>0?g:joe;O.useEffect(()=>{if(b.length===0)return;const T=setTimeout(()=>{const R=(s+1)%b.length;m([R,1]),i(R)},5e3);return()=>clearTimeout(T)},[s,b.length]);const v=()=>{const T=(s-1+b.length)%b.length;m([T,-1]),i(T)},k=()=>{const T=(s+1)%b.length;m([T,1]),i(T)},C=T=>{T&&t(`/category/${T}`)},_={enter:T=>({x:T>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:T=>({x:T<0?1e3:-1e3,opacity:0})},S={duration:.6,ease:"easeInOut"};return n.jsx("section",{className:"relative overflow-hidden",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl transform hover:scale-[1.01] transition-all duration-700 ease-in-out animate-fadeIn",style:{boxShadow:"var(--shadow-large), 0 15px 30px -10px rgba(245, 158, 11, 0.2)",height:"clamp(250px, 40vh, 500px)",width:"100%",maxHeight:"500px",minHeight:"250px"},children:[n.jsx(yj,{initial:!1,custom:h,children:n.jsxs(Rn.div,{custom:h,variants:_,initial:"enter",animate:"center",exit:"exit",transition:S,className:"absolute inset-0",children:[n.jsx("img",{src:b[s].image,alt:b[s].title,className:"w-full h-full object-cover object-center",style:{backgroundColor:b[s].backgroundColor,objectFit:"cover",objectPosition:"center center"},loading:"eager"}),n.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-4 sm:px-6 md:px-8 lg:px-14",children:n.jsxs("div",{className:"max-w-lg lg:max-w-xl relative",children:[b[s].tag&&n.jsx(Rn.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"inline-block px-5 py-2 mb-5 rounded-full text-sm font-medium shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.5)"},children:b[s].tag}),n.jsx(Rn.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 sm:mb-4 leading-tight drop-shadow-lg",style:{color:"var(--text-on-brand)",textShadow:"0 2px 10px rgba(0,0,0,0.4)",letterSpacing:"-0.02em"},children:b[s].title}),b[s].subtitle&&n.jsx(Rn.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl mb-4 sm:mb-6 md:mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:b[s].subtitle}),b[s].description&&n.jsx(Rn.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-sm sm:text-base mb-4 sm:mb-6 md:mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:b[s].description}),n.jsx(Rn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4",children:n.jsxs(Rn.button,{onClick:()=>C(b[s].link),className:"group relative overflow-hidden px-6 py-3 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-105 hover:shadow-2xl",style:{backgroundColor:"var(--brand-primary)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.5)"},whileHover:{y:-4},whileTap:{scale:.95},children:[n.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[b[s].cta||"Shop Now",n.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),n.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-30 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})})]})})]},l)}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:n.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:v,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-r-lg ml-2","aria-label":"Previous slide",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:n.jsx(Rn.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:k,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-l-lg mr-2","aria-label":"Next slide",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),n.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:b.map((T,R)=>n.jsx(Rn.button,{onClick:()=>{const P=R>s?1:-1;m([R,P]),i(R)},className:`h-2.5 rounded-full ${R===s?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${R+1}`},R))}),n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20 animate-pulse",style:{animationDuration:"5s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),n.jsx("div",{className:"absolute top-1/2 right-1/3 w-40 h-40 opacity-15 rotate-12 animate-pulse",style:{animationDuration:"8s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-secondary) 0%, transparent 70%)",filter:"blur(30px)"}})}),n.jsx("div",{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10 animate-pulse",style:{animationDuration:"12s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})}),n.jsx("div",{className:"absolute bottom-0 left-1/4 w-20 h-20 opacity-10 rotate-90 animate-pulse",style:{animationDuration:"10s"},children:n.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(15px)"}})})]})})})},fR=({products:r,title:t="Best Selling Smartphones",description:s="Discover our top-selling devices"})=>{const i=O.useRef(),l=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},h=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:300,behavior:"smooth"})},m=[{id:1,name:"Apple iPhone 15 Pro Max",image:"/mobile1.png",discountPrice:134999,price:159999,discount:"16%",rating:4.8,reviews:1234,brand:"Apple",category:"Smartphones"},{id:2,name:"Samsung Galaxy S24 Ultra",image:"/mobile1.png",discountPrice:124999,price:139999,discount:"11%",rating:4.7,reviews:892,brand:"Samsung",category:"Smartphones"},{id:3,name:"Google Pixel 8 Pro",image:"/mobile1.png",discountPrice:84999,price:99999,discount:"15%",rating:4.6,reviews:567,brand:"Google",category:"Smartphones"},{id:4,name:"OnePlus 12",image:"/mobile1.png",discountPrice:64999,price:69999,discount:"7%",rating:4.5,reviews:423,brand:"OnePlus",category:"Smartphones"},{id:5,name:"Xiaomi 14 Ultra",image:"/mobile1.png",discountPrice:89999,price:99999,discount:"10%",rating:4.4,reviews:345,brand:"Xiaomi",category:"Smartphones"},{id:6,name:"Nothing Phone (2a)",image:"/mobile1.png",discountPrice:23999,price:25999,discount:"8%",rating:4.3,reviews:289,brand:"Nothing",category:"Smartphones"}],g=r&&r.length>0?r:m;return n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:t}),n.jsx("div",{className:"h-1 w-24 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:s})]}),n.jsx(rt,{to:"/products/smartphones",className:"text-lg font-semibold hover:underline transition-all duration-300",style:{color:"var(--brand-primary)"},children:"View All "})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(-20px)"},"aria-label":"Scroll left",type:"button",children:n.jsx(F2,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("button",{onClick:h,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(20px)"},"aria-label":"Scroll right",type:"button",children:n.jsx(V2,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("div",{ref:i,className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.jsx("div",{className:"flex gap-6 py-4 px-4",children:g.map((b,v)=>n.jsx("div",{className:"flex-shrink-0",style:{width:"280px"},children:n.jsx(hg,{product:b})},b.id||v))})})]})]})})},gR=({products:r,title:t="New Releases",description:s="Latest products just arrived"})=>{const i=O.useRef(),l=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},h=b=>{b.preventDefault(),i.current&&i.current.scrollBy({left:300,behavior:"smooth"})},m=[{id:1,name:"Samsung Galaxy Z Flip6",image:"/mobile1.png",discountPrice:112999,price:119999,discount:"6%",rating:4.9,reviews:156,brand:"Samsung",category:"Smartphones",isNew:!0},{id:2,name:"iPhone 16 Pro",image:"/mobile1.png",discountPrice:119900,price:119900,discount:null,rating:5,reviews:89,brand:"Apple",category:"Smartphones",isNew:!0},{id:3,name:"Pixel 9 Pro XL",image:"/mobile1.png",discountPrice:124999,price:129999,discount:"4%",rating:4.8,reviews:67,brand:"Google",category:"Smartphones",isNew:!0},{id:4,name:"OnePlus 13",image:"/mobile1.png",discountPrice:69999,price:74999,discount:"7%",rating:4.7,reviews:234,brand:"OnePlus",category:"Smartphones",isNew:!0},{id:5,name:"Xiaomi 15 Pro",image:"/mobile1.png",discountPrice:79999,price:84999,discount:"6%",rating:4.6,reviews:123,brand:"Xiaomi",category:"Smartphones",isNew:!0},{id:6,name:"Vivo X200 Pro",image:"/mobile1.png",discountPrice:84999,price:89999,discount:"6%",rating:4.5,reviews:98,brand:"Vivo",category:"Smartphones",isNew:!0}],g=r&&r.length>0?r:m;return n.jsx("section",{className:"py-12",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:t}),n.jsx("div",{className:"h-1 w-24 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:s})]}),n.jsx(rt,{to:"/products",className:"text-lg font-semibold hover:underline transition-all duration-300",style:{color:"var(--brand-primary)"},children:"View All "})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(-20px)"},"aria-label":"Scroll left",type:"button",children:n.jsx(F2,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("button",{onClick:h,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-50%) translateX(20px)"},"aria-label":"Scroll right",type:"button",children:n.jsx(V2,{className:"w-7 h-7",style:{color:"var(--brand-primary)"}})}),n.jsx("div",{ref:i,className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.jsx("div",{className:"flex gap-6 py-4 px-4",children:g.map((b,v)=>n.jsx("div",{className:"flex-shrink-0",style:{width:"280px"},children:n.jsx(hg,{product:b})},b.id||v))})})]})]})})},bR=()=>{const r=[{id:1,title:"Wireless Charging",subtitle:"Fast & Efficient",image:"/accessories.png",link:"/products/accessories?category=wireless-charging",bgColor:"from-blue-400 to-blue-600",textColor:"text-white"},{id:2,title:"Smart Watches",subtitle:"Health & Fitness",image:"/accessories.png",link:"/products/smartwatches",bgColor:"from-purple-400 to-purple-600",textColor:"text-white"},{id:3,title:"Headphones",subtitle:"Premium Audio",image:"/accessories.png",link:"/products/headphones",bgColor:"from-green-400 to-green-600",textColor:"text-white"},{id:4,title:"Keyboards",subtitle:"Gaming & Work",image:"/accessories.png",link:"/products/keyboards",bgColor:"from-red-400 to-red-600",textColor:"text-white"},{id:5,title:"Gaming Mouse",subtitle:"Precision Control",image:"/accessories.png",link:"/products/gaming-mouse",bgColor:"from-indigo-400 to-indigo-600",textColor:"text-white"}],t=[{id:"wired",title:"Wired",subtitle:"Reliable Connection",bgColor:"bg-blue-100",textColor:"text-blue-800",link:"/products/wired-accessories"},{id:"wireless",title:"Wireless",subtitle:"Freedom to Move",bgColor:"bg-pink-100",textColor:"text-pink-800",link:"/products/wireless-accessories"},{id:"true-wireless",title:"True Wireless",subtitle:"Ultimate Freedom",bgColor:"bg-yellow-100",textColor:"text-yellow-800",link:"/products/true-wireless"}],s={title:"The Edge of Innovation,",subtitle:"In Your Hands...",bgColor:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white",link:"/products/latest-tech"},i={title:"Apple Accessories",subtitle:"Premium Quality",bgColor:"bg-gradient-to-r from-gray-100 to-gray-200",textColor:"text-gray-800",link:"/products/apple-accessories"};return n.jsx("section",{className:"py-12",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Browse by Category"}),n.jsx("div",{className:"h-1 w-32 rounded-full",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:r.map(l=>n.jsxs(rt,{to:l.link,className:`bg-gradient-to-br ${l.bgColor} rounded-xl p-6 text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1`,children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-white/40 rounded"})}),n.jsx("h3",{className:`font-bold text-lg mb-1 ${l.textColor}`,children:l.title}),n.jsx("p",{className:`text-sm opacity-90 ${l.textColor}`,children:l.subtitle})]},l.id))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:t.map(l=>n.jsxs(rt,{to:l.link,className:`${l.bgColor} rounded-xl p-8 text-center hover:shadow-md transition-all duration-300`,children:[n.jsx("h3",{className:`font-bold text-xl mb-2 ${l.textColor}`,children:l.title}),n.jsx("p",{className:`${l.textColor} opacity-80`,children:l.subtitle})]},l.id))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs(rt,{to:s.link,className:`${s.bgColor} rounded-xl p-8 text-center hover:shadow-lg transition-all duration-300`,children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mr-4",children:n.jsx("div",{className:"w-10 h-10 bg-white/40 rounded"})}),n.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-white/40 rounded"})})]}),n.jsx("h3",{className:`font-bold text-2xl mb-2 ${s.textColor}`,children:s.title}),n.jsx("p",{className:`text-lg ${s.textColor} opacity-90`,children:s.subtitle})]}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"w-32 h-32 bg-white/60 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-20 h-20 bg-white/80 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"})})})})]}),n.jsxs(rt,{to:i.link,className:`${i.bgColor} rounded-xl p-8 text-center hover:shadow-md transition-all duration-300 block`,children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg mr-4"}),n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"})]}),n.jsx("h3",{className:`font-bold text-2xl mb-2 ${i.textColor}`,children:i.title}),n.jsx("p",{className:`${i.textColor} opacity-80`,children:i.subtitle})]})]})})},yR={markReviewHelpful:async(r,t)=>{var s,i,l,h,m,g,b;try{return{success:!0,data:(await or.post(`/products/${r}/reviews/${t}/helpful/`)).data}}catch(v){let k="Failed to mark review as helpful";return((s=v.response)==null?void 0:s.status)===401?k="Please log in to mark reviews as helpful":((i=v.response)==null?void 0:i.status)===404?k="Review not found":((l=v.response)==null?void 0:l.status)===409?k="You have already marked this review as helpful":(m=(h=v.response)==null?void 0:h.data)!=null&&m.error?k=v.response.data.error:(b=(g=v.response)==null?void 0:g.data)!=null&&b.message&&(k=v.response.data.message),{success:!1,error:k}}},reportReview:async(r,t)=>{var s,i,l,h,m,g,b;try{const v=await or.post(`/products/${r}/reviews/${t}/report/`);return{success:!0,data:v.data,message:v.data.message||"Review reported successfully"}}catch(v){let k="Failed to report review";return((s=v.response)==null?void 0:s.status)===401?k="Please log in to report reviews":((i=v.response)==null?void 0:i.status)===404?k="Review not found":((l=v.response)==null?void 0:l.status)===409?k="You have already reported this review":(m=(h=v.response)==null?void 0:h.data)!=null&&m.error?k=v.response.data.error:(b=(g=v.response)==null?void 0:g.data)!=null&&b.message&&(k=v.response.data.message),{success:!1,error:k}}}},sc=un((r,t)=>({products:[],categories:[],brands:[],featuredProducts:[],currentProduct:null,loading:!1,error:null,reviewLoading:!1,reviewError:null,fetchProducts:async()=>{const s=t();if(s.loading||s.products.length>0)return s.products;r({loading:!0});try{const i=await or.get(`${Cm}/products/products/`),l=Array.from(new Set(i.data.products.map(g=>g.category))),h=Array.from(new Set(i.data.products.map(g=>g.brand))),m=i.data.products.filter(g=>g.featured===!0||g.rating>=4.5).sort((g,b)=>g.featured&&!b.featured?-1:!g.featured&&b.featured?1:(b.rating||0)-(g.rating||0)).slice(0,8);r({products:i.data.products,categories:l,brands:h,featuredProducts:m,loading:!1})}catch(i){console.error("Error fetching products:",i),r({error:"Failed to fetch products. Please try again later.",loading:!1})}},fetchCategories:async()=>{r({loading:!0});try{const s=await or.get(`${Cm}/products/categories`);r({categories:s.data.categories,loading:!1})}catch(s){r({error:s.message,loading:!1})}},getProduct:s=>{const{products:i}=t();return i.find(l=>l.id===parseInt(s,10))},fetchProduct:async s=>{r({loading:!0,error:null});try{const i=await or.get(`${Cm}/products/products/${s}/`);return r({currentProduct:i.data.product,loading:!1}),i.data.product}catch(i){return console.error("Error fetching product:",i),r({error:"Failed to fetch product. Please try again later.",loading:!1}),null}},clearCurrentProduct:()=>{r({currentProduct:null})},getProductsByCategory:s=>{const{products:i}=t();return i.filter(l=>l.category.toLowerCase()===s.toLowerCase())},getProductsByBrand:s=>{const{products:i}=t();return i.filter(l=>l.brand.toLowerCase()===s.toLowerCase())},searchProducts:s=>{const{products:i}=t();if(!s||s.trim()==="")return[];const l=s.toLowerCase().trim(),h=l.split(/\s+/);return i.map(g=>{var v,k,C;let b=0;return g.name.toLowerCase().includes(l)&&(b+=100),h.forEach(_=>{g.name.toLowerCase().includes(_)&&(b+=50)}),(v=g.brand)!=null&&v.toLowerCase().includes(l)&&(b+=40),(k=g.category)!=null&&k.toLowerCase().includes(l)&&(b+=30),(C=g.description)!=null&&C.toLowerCase().includes(l)&&(b+=20),h.forEach(_=>{var S;(S=g.description)!=null&&S.toLowerCase().includes(_)&&(b+=10)}),{product:g,score:b}}).filter(g=>g.score>0).sort((g,b)=>b.score-g.score).map(g=>g.product)},addReview:async(s,i)=>{var l,h,m,g,b;r({reviewLoading:!0,reviewError:null});try{const v=await or.post(`/users/add-review/${s}/`,i,{headers:{"Content-Type":"application/json"}}),k=t();return k.currentProduct&&k.currentProduct.id===Number(s)&&await k.fetchProduct(s),r({reviewLoading:!1}),{success:!0,data:v.data,message:v.data.message||"Review added successfully"}}catch(v){console.error("Error adding review:",v);let k="Failed to add review. Please try again later.";return(h=(l=v.response)==null?void 0:l.data)!=null&&h.error?k=v.response.data.error:((m=v.response)==null?void 0:m.status)===400?k="Invalid review data. Please check your input.":((g=v.response)==null?void 0:g.status)===404?k="Product not found.":((b=v.response)==null?void 0:b.status)===401&&(k="Please log in to add a review."),r({reviewError:k,reviewLoading:!1}),{success:!1,error:k}}},clearReviewError:()=>{r({reviewError:null})},checkExistingReview:async s=>{var i,l;try{return{success:!0,has_reviewed:(await or.get(`/users/product/${s}/check_review/`)).data.has_reviewed||!1}}catch(h){return console.error("Error checking existing review:",h),{success:!1,has_reviewed:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to check existing review"}}},markReviewHelpful:async(s,i)=>{try{const l=await yR.markReviewHelpful(s,i);if(l.success){const{currentProduct:h}=t();if(h&&h.id===s){const m=h.reviewsData.map(g=>g.id===i?{...g,helpful_count:l.data.helpful_count,is_marked_helpful:l.data.is_marked_helpful}:g);r({currentProduct:{...h,reviewsData:m}})}return l}return l}catch(l){return console.error("Error marking review as helpful:",l),{success:!1,error:"Failed to mark review as helpful"}}},reportReview:async(s,i)=>{try{return await yR.reportReview(s,i)}catch(l){return console.error("Error reporting review:",l),{success:!1,error:"Failed to report review"}}},fetchFeaturedProducts:async()=>{r({loading:!0});try{const i=(await or.get(`${Cm}/products/products/`)).data.products.filter(l=>l.featured===!0||l.rating>=4.5).sort((l,h)=>l.featured&&!h.featured?-1:!l.featured&&h.featured?1:(h.rating||0)-(l.rating||0)).slice(0,8);r({featuredProducts:i,loading:!1})}catch(s){console.error("Error fetching featured products:",s),r({error:"Failed to fetch featured products. Please try again later.",loading:!1})}}})),Soe=Object.freeze(Object.defineProperty({__proto__:null,useProductStore:sc},Symbol.toStringTag,{value:"Module"})),m6=un(qm((r,t)=>({sections:[],loading:!1,error:null,selectedSection:null,sectionTypes:["hero_banner","category_list","featured_products","banner_carousel","best_selling","new_releases","static_promo_banners","newsletter","testimonials"],designTemplates:{category_list:["grid","carousel","list","cards"],featured_products:["grid","carousel","list"],banner_carousel:["auto","manual","fade","slide"],hero_banner:["single","slideshow","video"],best_selling:["grid","carousel","compact"],new_releases:["grid","carousel","featured"],static_promo_banners:["horizontal","vertical","mixed"],newsletter:["minimal","detailed","popup"],testimonials:["carousel","grid","masonry"]},fetchSections:async(s=!1)=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.get(`/admin/homepage/sections/?enabled_only=${s}`);if(h.status===200)return r({sections:h.data.sections||[],loading:!1}),h.data.sections}catch(h){console.error("Error fetching homepage sections:",h);const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch homepage sections";throw r({error:m,loading:!1}),Re.error(m),h}},addSection:async s=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.post("/admin/homepage/sections/add/",s);if(h.status===201){const m=h.data.section,{sections:g}=t();return r({sections:[...g,m],loading:!1}),Re.success("Homepage section created successfully"),m}}catch(h){console.error("Error creating homepage section:",h);const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to create homepage section";throw r({error:m,loading:!1}),Re.error(m),h}},editSection:async(s,i)=>{var l,h;r({loading:!0,error:null});try{const m=await Ze.put(`/admin/homepage/sections/${s}/edit/`,i);if(m.status===200){const g=m.data.section,{sections:b}=t(),v=b.map(k=>k.section_id===s?g:k);return r({sections:v,loading:!1}),Re.success("Homepage section updated successfully"),g}}catch(m){console.error("Error updating homepage section:",m);const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update homepage section";throw r({error:g,loading:!1}),Re.error(g),m}},deleteSection:async s=>{var i,l;r({loading:!0,error:null});try{if((await Ze.delete(`/admin/homepage/sections/${s}/delete/`)).status===200){const{sections:m}=t(),g=m.filter(b=>b.section_id!==s);return r({sections:g,loading:!1}),Re.success("Homepage section deleted successfully"),!0}}catch(h){console.error("Error deleting homepage section:",h);const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete homepage section";throw r({error:m,loading:!1}),Re.error(m),h}},toggleSection:async s=>{var i,l;r({loading:!0,error:null});try{const h=await Ze.post(`/admin/homepage/sections/${s}/toggle/`);if(h.status===200){const m=h.data.section,{sections:g}=t(),b=g.map(v=>v.section_id===s?m:v);return r({sections:b,loading:!1}),Re.success(`Section ${m.enabled?"enabled":"disabled"} successfully`),m}}catch(h){console.error("Error toggling homepage section:",h);const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle homepage section";throw r({error:m,loading:!1}),Re.error(m),h}},reorderSections:async s=>{var i,l;r({loading:!0,error:null});try{if((await Ze.post("/admin/homepage/sections/reorder/",{section_orders:s})).status===200)return await t().fetchSections(),Re.success("Sections reordered successfully"),!0}catch(h){console.error("Error reordering homepage sections:",h);const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to reorder homepage sections";throw r({error:m,loading:!1}),Re.error(m),h}},getSectionTemplates:async s=>{var i,l;try{const h=await Ze.get(`/admin/homepage/templates/${s}/`);if(h.status===200)return h.data.templates}catch(h){console.error("Error fetching section templates:",h);const m=((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch section templates";throw Re.error(m),h}},initializeDefaultSections:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.post("/admin/homepage/initialize/");if(l.status===201)return r({sections:l.data.sections||[],loading:!1}),Re.success("Default homepage sections initialized successfully"),l.data.sections;if(l.status===200)return Re.info("Homepage sections already exist"),await t().fetchSections(),l.data.sections}catch(l){console.error("Error initializing default sections:",l);const h=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to initialize default sections";throw r({error:h,loading:!1}),Re.error(h),l}},getSectionTypeDisplayName:s=>({hero_banner:"Hero Banner",category_list:"Category List",featured_products:"Featured Products",banner_carousel:"Banner Carousel",best_selling:"Best Selling",new_releases:"New Releases",static_promo_banners:"Promotional Banners",newsletter:"Newsletter",testimonials:"Testimonials"})[s]||s,setSelectedSection:s=>{r({selectedSection:s})},clearError:()=>{r({error:null})},getSortedSections:()=>{const{sections:s}=t();return[...s].sort((i,l)=>(i.order||0)-(l.order||0))},getEnabledSections:()=>{const{sections:s}=t();return s.filter(i=>i.enabled)},getSectionsByType:s=>{const{sections:i}=t();return i.filter(l=>l.section_type===s)},updateSectionOrderLocally:(s,i)=>{const{sections:l}=t(),h=l.map(m=>m.section_id===s?{...m,order:i}:m);r({sections:h})}}),{name:"homepage-section-store"})),Qa=({currentPage:r,totalPages:t,onPageChange:s,totalItems:i,itemsPerPage:l=10,showItemCount:h=!0})=>{if(t<=1)return null;const g=(()=>{const C=[],_=[];for(let S=Math.max(2,r-2);S<=Math.min(t-1,r+2);S++)C.push(S);return r-2>2?_.push(1,"..."):_.push(1),_.push(...C),r+2<t-1?_.push("...",t):_.push(t),_})(),b=(r-1)*l+1,v=Math.min(r*l,i);return n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8",children:[h&&n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",b," to ",v," of ",i," products"]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>s(r-1),disabled:r===1,className:"flex items-center justify-center w-10 h-10 rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},"aria-label":"Previous page",children:n.jsx(Za,{size:18})}),g.map((k,C)=>n.jsx(mt.Fragment,{children:k==="..."?n.jsx("span",{className:"flex items-center justify-center w-10 h-10",style:{color:"var(--text-secondary)"},children:"..."}):n.jsx("button",{onClick:()=>s(k),className:`flex items-center justify-center w-10 h-10 rounded-md border transition-colors ${r===k?"font-semibold":"hover:bg-opacity-50"}`,style:{backgroundColor:r===k?"var(--brand-primary)":"var(--bg-primary)",borderColor:r===k?"var(--brand-primary)":"var(--border-primary)",color:r===k?"var(--text-on-brand)":"var(--text-primary)"},children:k})},C)),n.jsx("button",{onClick:()=>s(r+1),disabled:r===t,className:"flex items-center justify-center w-10 h-10 rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},"aria-label":"Next page",children:n.jsx(Pn,{size:18})})]})]})},Eoe=()=>{const{products:r,featuredProducts:t,fetchProducts:s}=sc(),{fetchPublicBanners:i}=Gx(),{sections:l,fetchSections:h,loading:m}=m6(),[g,b]=O.useState(1),v=10;O.useEffect(()=>{r.length===0&&s(),i(),h(!0)},[]);const k=(r==null?void 0:r.length)||0,C=Math.ceil(k/v),_=(g-1)*v,S=_+v,T=(r==null?void 0:r.slice(_,S))||[],R=F=>{b(F)},P=F=>{if(!F.enabled)return null;const q={backgroundColor:"var(--bg-primary)",...F.background_color&&{backgroundColor:F.background_color}};switch(F.section_type){case"hero_banner":return n.jsx("div",{style:q,children:n.jsx(pR,{})},F.section_id);case"category_list":return n.jsx("section",{style:q,className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-left",style:{color:"var(--text-primary)"},children:F.title||"Shop by Category"}),n.jsx("div",{className:"h-1 w-32 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg text-left",style:{color:"var(--text-secondary)"},children:F.description||"Discover our wide range of products across different categories"})]}),n.jsx(iR,{categories:U})]})},F.section_id);case"featured_products":return n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:F.title||"Featured Products"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:F.description||"Discover our best-selling items handpicked for you"})]}),n.jsx(mR,{products:t})]})},F.section_id);case"best_selling":return n.jsx(fR,{products:r.filter(ne=>{var se;return(se=ne.category)==null?void 0:se.toLowerCase().includes("smartphone")}).slice(0,8),title:F.title,description:F.description},F.section_id);case"new_releases":return n.jsx(gR,{products:r.filter(ne=>ne.isNew||ne.featured).slice(0,8),title:F.title,description:F.description},F.section_id);case"banner_carousel":return n.jsx("section",{style:q,className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-3xl font-bold mb-3 text-left",children:F.title||"Special Offers"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:F.description||"Don't miss out on these amazing deals"})]}),n.jsx(oR,{})]})},F.section_id);case"static_promo_banners":return n.jsx(bR,{},F.section_id);case"newsletter":return n.jsx("section",{style:q,className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--text-primary)"},children:F.title||"Stay Updated"}),n.jsx("p",{className:"text-lg mb-6",style:{color:"var(--text-secondary)"},children:F.description||"Subscribe to our newsletter for the latest updates and exclusive offers"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{className:"px-6 py-2 text-white rounded-md font-medium transition-colors",style:{backgroundColor:"var(--brand-primary)"},children:"Subscribe"})]})]})})},F.section_id);case"testimonials":return n.jsx("section",{style:q,className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--text-primary)"},children:F.title||"What Our Customers Say"}),n.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:F.description||"Real reviews from satisfied customers"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{name:"John Doe",rating:5,review:"Excellent service and quality products. Highly recommended!",avatar:"https://via.placeholder.com/64x64"},{name:"Jane Smith",rating:5,review:"Fast delivery and great customer support. Will shop again!",avatar:"https://via.placeholder.com/64x64"},{name:"Mike Johnson",rating:5,review:"Best prices in the market with genuine products.",avatar:"https://via.placeholder.com/64x64"}].map((ne,se)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:ne.avatar,alt:ne.name,className:"w-12 h-12 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:ne.name}),n.jsx("div",{className:"flex text-yellow-400",children:[...Array(ne.rating)].map((Q,B)=>n.jsx("span",{children:""},B))})]})]}),n.jsxs("p",{style:{color:"var(--text-secondary)"},children:['"',ne.review,'"']})]},se))})]})},F.section_id);default:return null}},V=l.filter(F=>F.enabled).sort((F,q)=>(F.display_order||0)-(q.display_order||0)),U=[];return n.jsx("div",{style:{backgroundColor:"var(--bg-secondary)"},className:"min-h-screen",children:m?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):V.length>0?V.map(F=>P(F)):n.jsxs(n.Fragment,{children:[n.jsx(pR,{}),n.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-left",style:{color:"var(--text-primary)"},children:"Shop by Category"}),n.jsx("div",{className:"h-1 w-32 rounded-full mb-2",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-lg text-left",style:{color:"var(--text-secondary)"},children:"Discover our wide range of products across different categories"})]}),n.jsx(iR,{categories:U})]})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:"Featured Products"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Discover our best-selling items handpicked for you"})]}),n.jsx(mR,{products:t})]})}),n.jsx(fR,{products:r.filter(F=>{var q;return(q=F.category)==null?void 0:q.toLowerCase().includes("smartphone")}).slice(0,8)}),n.jsx(gR,{products:r.filter(F=>F.isNew||F.featured).slice(0,8)}),n.jsx(bR,{}),n.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-3xl font-bold mb-3 text-left",children:"Special Offers"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Don't miss out on these amazing deals"})]}),n.jsx(oR,{})]})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold mb-3 text-left",style:{color:"var(--text-primary)"},children:"Our Products"}),n.jsx("div",{className:"h-1 w-24 rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg text-left",style:{color:"var(--text-secondary)"},children:"Explore our complete collection"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:T.map(F=>n.jsx(hg,{product:{...F,id:F.id||F._id,name:F.name||`${F.brand} ${F.model||""}`.trim(),image:F.images&&F.images.length>0?F.images[0]:F.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:F.discount_price||F.offer_price||F.price,price:F.price,discount:F.discount||(F.price&&F.discount_price?`${Math.round((F.price-(F.discount_price||F.offer_price))/F.price*100)}%`:null),rating:F.rating||4,reviews:F.reviews||F.reviews_count||0,brand:F.brand||"Unknown",category:F.category||"General",stock:F.stock||0}},F.id))}),k>0&&n.jsx(Qa,{currentPage:g,totalPages:C,onPageChange:R,totalItems:k,itemsPerPage:v})]})})]})})},Sm=(r,t="info")=>{const s=document.createElement("div");s.className=`toast toast-${t}`,s.textContent=r,document.body.appendChild(s),setTimeout(()=>{s.classList.add("toast-show")},100),setTimeout(()=>{s.classList.add("toast-hide"),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},300)},3e3)},Xe={success:r=>Sm(r,"success"),error:r=>Sm(r,"error"),warning:r=>Sm(r,"warning"),info:r=>Sm(r,"info")},w2=r=>{Sm(`${r} added to your cart!`,"success")},_w=r=>{Sm(r||"Error updating cart","error")},Doe=()=>{Sm("Item removed from your wishlist","info")},j1=({items:r})=>n.jsx("nav",{className:"flex items-center text-sm mb-6 font-medium py-2 px-3 rounded-lg overflow-x-auto no-scrollbar",style:{backgroundColor:"var(--bg-accent-light)",boxShadow:"var(--shadow-small)"},children:r.map((t,s)=>n.jsxs(mt.Fragment,{children:[s===0&&n.jsx(HN,{className:"mr-1.5",size:14,style:{color:"var(--brand-primary)"}}),s>0&&n.jsx(Pn,{className:"mx-2",size:14,style:{color:"var(--text-secondary)"}}),t.link?n.jsx(rt,{to:t.link,className:"transition-colors duration-200 hover:underline flex items-center",style:{color:"var(--text-secondary)"},children:t.label}):n.jsx("span",{className:"font-semibold flex items-center truncate max-w-[200px]",style:{color:"var(--brand-primary)"},children:t.label})]},s))}),Moe=({isOpen:r,onClose:t,media:s,currentIndex:i,setCurrentIndex:l})=>{O.useEffect(()=>{const C=_=>{_.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",C),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",C),document.body.style.overflow="unset"}},[r,t]);const h=C=>{C.target===C.currentTarget&&t()},m=()=>{l(C=>C===s.length-1?0:C+1)},g=()=>{l(C=>C===0?s.length-1:C-1)},b=C=>C.includes("youtube.com")||C.includes("youtu.be")||C.includes("vimeo.com"),v=C=>{let _="";return C.includes("youtube.com/watch?v=")?_=C.split("v=")[1].split("&")[0]:C.includes("youtu.be/")&&(_=C.split("youtu.be/")[1].split("?")[0]),`https://www.youtube.com/embed/${_}?autoplay=1&rel=0`};if(!r||!s||s.length===0)return null;const k=s[i];return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-90 backdrop-blur-sm",onClick:h,children:n.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors p-2 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:n.jsx(qt,{size:24})}),s.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:n.jsx(Za,{size:24})}),n.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 z-10",children:n.jsx(Pn,{size:24})})]}),n.jsx("div",{className:"max-w-6xl max-h-full w-full h-full flex items-center justify-center",children:b(k)?n.jsx("div",{className:"w-full h-full max-w-4xl max-h-[80vh] aspect-video",children:n.jsx("iframe",{src:v(k),className:"w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):n.jsx("img",{src:k,alt:`Media ${i+1}`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:C=>C.stopPropagation()})}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full",children:[i+1," / ",s.length]}),s.length>1&&n.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 flex space-x-2 max-w-sm overflow-x-auto px-4 py-2 bg-black bg-opacity-50 rounded-lg",children:s.map((C,_)=>n.jsx("button",{onClick:()=>l(_),className:`flex-shrink-0 w-12 h-12 rounded-md overflow-hidden border-2 transition-all ${_===i?"border-orange-500 opacity-100":"border-transparent opacity-60 hover:opacity-80"}`,children:b(C)?n.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:n.jsx(Yw,{className:"text-white",size:16})}):n.jsx("img",{src:C,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]})})},Toe=({images:r=[],videos:t=[],activeImage:s=0,setActiveImage:i})=>{const[l,h]=O.useState(!1),m=[...r,...t],g=_=>_.includes("youtube.com")||_.includes("youtu.be")||_.includes("vimeo.com"),b=_=>{let S="";return _.includes("youtube.com/watch?v=")?S=_.split("v=")[1].split("&")[0]:_.includes("youtu.be/")&&(S=_.split("youtu.be/")[1].split("?")[0]),`https://img.youtube.com/vi/${S}/maxresdefault.jpg`},v=()=>{i(_=>_===m.length-1?0:_+1)},k=()=>{i(_=>_===0?m.length-1:_-1)},C=()=>{h(!0)};return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 rounded-lg overflow-hidden relative group cursor-pointer",style:{boxShadow:"var(--shadow-medium)"},onClick:C,children:[n.jsx("div",{className:"relative overflow-hidden",children:g(m[s])?n.jsxs("div",{className:"relative w-full aspect-square bg-gray-100 flex items-center justify-center",children:[n.jsx("img",{src:b(m[s]),alt:`Video thumbnail ${s+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:n.jsx("div",{className:"bg-red-600 text-white p-4 rounded-full hover:bg-red-700 transition-colors",children:n.jsx(Yw,{size:24})})})]}):n.jsx("img",{src:m[s],alt:`Product view ${s+1}`,className:"w-full h-auto object-contain aspect-square"})}),n.jsx("button",{className:"absolute bottom-3 right-3 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:_=>{_.stopPropagation(),C()},style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:g(m[s])?n.jsx(Yw,{}):n.jsx(Dee,{})}),m.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:_=>{_.stopPropagation(),k()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:n.jsx(Za,{size:20})}),n.jsx("button",{onClick:_=>{_.stopPropagation(),v()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:n.jsx(Pn,{size:20})})]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:m.map((_,S)=>n.jsx("button",{onClick:()=>i(S),className:`rounded-md overflow-hidden transition-all duration-300 relative ${s===S?"ring-2 ring-offset-1 transform scale-105":"opacity-80 hover:opacity-100"}`,style:{ringColor:"var(--brand-primary)",transform:s===S?"scale(1.05)":"scale(1)"},children:g(_)?n.jsxs("div",{className:"relative w-full aspect-square bg-gray-100",children:[n.jsx("img",{src:b(_),alt:`Video thumbnail ${S+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40",children:n.jsx(Yw,{className:"text-white",size:16})})]}):n.jsx("img",{src:_,alt:`Product thumbnail ${S+1}`,className:"w-full h-auto object-cover aspect-square"})},S))}),n.jsx(Moe,{isOpen:l,onClose:()=>h(!1),media:m,currentIndex:s,setCurrentIndex:i})]})},Ioe=({product:r,selectedVariant:t})=>{var b,v,k,C,_,S;const s=r.reviews||0,i=(t==null?void 0:t.discounted_price)||(t==null?void 0:t.price)||r.discountPrice||r.price||0,l=(t==null?void 0:t.price)||r.price||0,h=(t==null?void 0:t.stock)||r.stock||0,m=i&&l&&i<l,g=m?Math.round((l-i)/l*100):0;return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.brand}),n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:r.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[...Array(5)].map((T,R)=>n.jsx(Xr,{className:`${R<Math.floor(r.rating)?"fill-current":""} ${R===Math.floor(r.rating)&&r.rating%1>0?"fill-current opacity-50":""}`,size:18},R))}),n.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[r.rating," (",s," ratings)"]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-baseline flex-wrap gap-2",children:[n.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:["",i.toLocaleString()]}),m&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg line-through",style:{color:"var(--text-secondary)"},children:["",l.toLocaleString()]}),n.jsxs("span",{className:"px-2 py-1 text-xs font-bold rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:[g,"% off"]})]})]}),n.jsxs("div",{className:"flex items-center mt-3",children:[n.jsxs("div",{className:`flex items-center ${h>0?"text-green-600":"text-red-600"}`,children:[n.jsx(rs,{className:"mr-1"}),n.jsx("span",{className:"font-medium",children:h>0?`In Stock (${h} available)`:"Out of Stock"})]}),n.jsxs("span",{className:"text-sm ml-2",style:{color:"var(--text-secondary)"},children:["(",h," available)"]})]}),t&&n.jsx("div",{className:"mt-3 p-2 rounded-md",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["Selected: ",t.colors]})})]}),(((b=r.colors)==null?void 0:b.length)>0||((v=r.ramOptions)==null?void 0:v.length)>0||((k=r.storageOptions)==null?void 0:k.length)>0)&&n.jsxs("div",{className:"space-y-4",children:[((C=r.colors)==null?void 0:C.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Colors:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.colors.map((T,R)=>n.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:T},R))})]}),((_=r.ramOptions)==null?void 0:_.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"RAM Options:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.ramOptions.map((T,R)=>n.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:T},R))})]}),((S=r.storageOptions)==null?void 0:S.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Storage Options:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.storageOptions.map((T,R)=>n.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:T},R))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(aee,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",children:"Authentic Product"})]}),n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Lr,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",children:"Fast Delivery"})]}),n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Sk,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",children:"Secure Payment"})]})]})]})},Roe=({quantity:r,stock:t,handleQuantityChange:s,incrementQuantity:i,decrementQuantity:l})=>n.jsxs("div",{className:"flex flex-wrap items-center mb-6",children:[n.jsx("span",{className:"font-medium mr-4 text-sm",style:{color:"var(--text-primary)"},children:"Quantity:"}),n.jsxs("div",{className:"flex items-center rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsx("button",{onClick:l,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:r<=1,style:{backgroundColor:r<=1?"#f5f5f5":"var(--bg-accent-light)",color:r<=1?"var(--text-secondary)":"var(--brand-primary)",opacity:r<=1?.7:1},"aria-label":"Decrease quantity",children:n.jsx(E9,{size:16})}),n.jsx("input",{type:"number",min:"1",max:t,value:r,onChange:s,className:"w-14 text-center py-2 focus:outline-none font-medium text-sm",style:{borderLeft:"1px solid var(--border-primary)",borderRight:"1px solid var(--border-primary)",color:"var(--text-primary)"}}),n.jsx("button",{onClick:i,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:r>=t,style:{backgroundColor:r>=t?"#f5f5f5":"var(--bg-accent-light)",color:r>=t?"var(--text-secondary)":"var(--brand-primary)",opacity:r>=t?.7:1},"aria-label":"Increase quantity",children:n.jsx(Hn,{size:16})})]}),t&&n.jsxs("span",{className:"text-xs ml-4 mt-1 md:mt-0",style:{color:"var(--text-secondary)"},children:[t," items available"]})]}),Poe=({addToCart:r,addToWishlist:t,price:s})=>{const i=s>5e4?0:99,l=s+i;return n.jsxs("div",{className:"rounded-lg p-4 space-y-6",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"p-4 rounded-lg mb-2",style:{backgroundColor:"var(--bg-accent-light)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Price:"}),n.jsxs("span",{style:{color:"var(--text-primary)"},children:["",s.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Delivery:"}),n.jsx("span",{style:i===0?{color:"var(--success-color)"}:{color:"var(--text-primary)"},children:i>0?`${i.toLocaleString()}`:"Free"})]}),n.jsx("hr",{style:{borderColor:"var(--border-primary)",margin:"8px 0"}}),n.jsxs("div",{className:"flex justify-between items-center font-bold",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Total:"}),n.jsxs("span",{style:{color:"var(--brand-primary)"},children:["",l.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs(tt,{onClick:r,className:"transition-transform hover:scale-105 duration-300",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(lg,{className:"mr-2"}),"Add to Cart"]}),n.jsxs(tt,{onClick:t,variant:"outline",className:"transition-transform hover:scale-105 duration-300",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:[n.jsx(ag,{className:"mr-2"}),"Add to Wishlist"]})]}),n.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Delivery & Payment Options"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[n.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Lr,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Free & Fast Delivery"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Orders ship within 24 hours"})]})]}),n.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[n.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(na,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Easy EMI Options"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"3, 6, 9 & 12 months available"})]})]}),n.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[n.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Sk,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Warranty Protection"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"All products come with warranty"})]})]})]})]})]})},tA=({rating:r=0,readOnly:t=!1,onRatingChange:s=()=>{},reviewText:i="",onReviewTextChange:l=()=>{},onSubmit:h=()=>{},isVerifiedPurchase:m=!1})=>{const[g,b]=O.useState(0),v=(C,_=!1)=>{const S=[],T=Math.floor(C),R=C%1!==0;for(let P=0;P<5;P++)_?S.push(n.jsx("span",{className:"cursor-pointer text-xl",onClick:()=>!t&&s(P+1),onMouseEnter:()=>!t&&b(P+1),onMouseLeave:()=>!t&&b(0),children:(g||C)>P?n.jsx(x2,{className:"text-yellow-400"}):n.jsx(v2,{className:"text-yellow-400"})},P)):P<T?S.push(n.jsx(x2,{className:"text-yellow-400"},P)):P===T&&R?S.push(n.jsx(h6,{className:"text-yellow-400"},P)):S.push(n.jsx(v2,{className:"text-yellow-400"},P));return S},k=C=>{if(C.preventDefault(),r===0){Xe.warning("Please select a rating");return}h({rating:r,reviewText:i})};return n.jsx("div",{className:"w-full animate-fadeIn",children:t?n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex mr-2",children:v(r)}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:r.toFixed(1)}),m&&n.jsxs("div",{className:"ml-3 flex items-center text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--success-color)",color:"white"},children:[n.jsx(_oe,{className:"mr-1",size:10}),n.jsx("span",{children:"Verified Purchase"})]})]})}):n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Rating"}),n.jsx("div",{className:"flex gap-1",children:v(r,!0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:i,onChange:C=>l(C.target.value),className:"w-full px-4 py-2 rounded-lg min-h-[120px]",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},placeholder:"Share your experience with this product..."})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Submit Review"})})]})})},Sj=({isOpen:r,onClose:t,title:s,children:i,size:l="md",showCloseButton:h=!0,closeOnBackdropClick:m=!0,className:g=""})=>{if(O.useEffect(()=>{const k=C=>{C.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",k),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",k),document.body.style.overflow="unset"}},[r,t]),!r)return null;const b={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},v=k=>{m&&k.target===k.currentTarget&&t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:v,children:n.jsxs("div",{className:`w-full ${b[l]} max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all ${g}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:k=>k.stopPropagation(),children:[(s||h)&&n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[s&&n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s}),h&&n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-md",style:{color:"var(--text-secondary)"},"aria-label":"Close modal",children:n.jsx(qt,{size:24})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:i})]})})},th=({isOpen:r,onClose:t,onConfirm:s,title:i="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:h="Confirm",cancelText:m="Cancel",type:g="warning",isLoading:b=!1})=>{const v=()=>{s()},k=()=>{switch(g){case"danger":return n.jsx(qt,{className:"text-red-500",size:24});case"info":return n.jsx(Um,{className:"text-blue-500",size:24});case"success":return n.jsx(qn,{className:"text-green-500",size:24});case"warning":default:return n.jsx(Dm,{className:"text-yellow-500",size:24})}},C=()=>{switch(g){case"danger":return"danger";case"success":return"primary";case"info":return"primary";case"warning":default:return"primary"}};return n.jsx(Sj,{isOpen:r,onClose:t,size:"sm",closeOnBackdropClick:!b,children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start mb-4",children:[n.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:k()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i}),n.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:l})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(tt,{variant:"outline",onClick:t,disabled:b,fullWidth:!1,size:"sm",children:m}),n.jsx(tt,{variant:C(),onClick:v,isLoading:b,fullWidth:!1,size:"sm",children:h})]})]})})},mg=()=>{const[r,t]=O.useState(!1),[s,i]=O.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",type:"warning",onConfirm:()=>{}}),[l,h]=O.useState(!1),m=O.useCallback(v=>{i({title:v.title||"Confirm Action",message:v.message||"Are you sure you want to proceed?",confirmText:v.confirmText||"Confirm",cancelText:v.cancelText||"Cancel",type:v.type||"warning",onConfirm:v.onConfirm||(()=>{})}),t(!0),h(!1)},[]),g=O.useCallback(()=>{t(!1),h(!1)},[]),b=O.useCallback(async()=>{h(!0);try{await s.onConfirm(),g()}catch(v){console.error("Error in confirm action:",v),h(!1)}},[s,g]);return{isOpen:r,modalConfig:s,isLoading:l,showConfirm:m,hideConfirm:g,handleConfirm:b}},Ooe=({productId:r,reviews:t=[],onAddReview:s=()=>{},canAddReview:i=!1,showFilters:l=!0,onMarkHelpful:h=null,onReportReview:m=null,currentUser:g=null})=>{const[b,v]=O.useState(t),[k,C]=O.useState(0),[_,S]=O.useState(!1),[T,R]=O.useState({rating:0,reviewText:""}),[P,V]=O.useState("newest"),[U,F]=O.useState({}),{isOpen:q,modalConfig:ne,isLoading:se,showConfirm:Q,hideConfirm:B,handleConfirm:Y}=mg(),J=t.length>0?(t.reduce((ae,le)=>ae+le.rating,0)/t.length).toFixed(1):"0.0",K=ae=>{C(ae),v(ae===0?t:t.filter(le=>le.rating===ae))},Z=ae=>{V(ae);let le=[...b];switch(ae){case"newest":le.sort((oe,G)=>new Date(G.date||G.created_at)-new Date(oe.date||oe.created_at));break;case"highest":le.sort((oe,G)=>G.rating-oe.rating);break;case"lowest":le.sort((oe,G)=>oe.rating-G.rating);break;case"helpful":le.sort((oe,G)=>(G.helpful||0)-(oe.helpful||0));break}v(le)},ee=ae=>{s({...ae,productId:r,date:new Date().toISOString(),verified:!0,helpful:0}),S(!1),R({rating:0,reviewText:""})},be=async ae=>{if(!g){Xe.warning("Please log in to mark reviews as helpful");return}if(h){F(le=>({...le,[ae]:"helpful"}));try{const le=await h(r,ae);le.success?v(oe=>oe.map(G=>G.id===ae?{...G,helpful:le.data.helpful_count,userMarkedHelpful:le.data.is_marked_helpful}:G)):Xe.error(le.error||"Failed to mark review as helpful")}catch(le){console.error("Error marking review as helpful:",le),Xe.error("Failed to mark review as helpful. Please try again.")}finally{F(le=>{const oe={...le};return delete oe[ae],oe})}}else v(b.map(le=>le.id===ae?{...le,helpful:(le.helpful||0)+1}:le)),Xe.success("Review marked as helpful!")},xe=async ae=>{if(!g){Xe.warning("Please log in to report reviews");return}Q({title:"Report Review",message:"Are you sure you want to report this review? This action will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{if(m){F(le=>({...le,[ae]:"report"}));try{const le=await m(r,ae);le.success?Xe.success(le.message||"Review reported successfully"):Xe.error(le.error||"Failed to report review")}catch(le){console.error("Error reporting review:",le),Xe.error("Failed to report review. Please try again.")}finally{F(le=>{const oe={...le};return delete oe[ae],oe})}}else Xe.success("Review reported successfully")}})},ie=[5,4,3,2,1].map(ae=>{const le=t.filter(G=>G.rating===ae).length,oe=t.length>0?le/t.length*100:0;return{rating:ae,count:le,percentage:oe}});return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 p-5 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[n.jsx("div",{className:"text-center md:text-left",children:n.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[n.jsx("span",{className:"text-4xl font-bold mr-2",style:{color:"var(--text-primary)"},children:J}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"flex",children:n.jsx(tA,{rating:parseFloat(J),readOnly:!0})}),n.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Based on ",t.length,t.length===1?"review":"reviews"]})]})]})}),n.jsx("div",{className:"w-full max-w-xs",children:ie.map(ae=>n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("div",{className:"flex items-center w-16",children:n.jsxs("span",{className:"text-xs font-medium mr-2",style:{color:"var(--text-secondary)"},children:[ae.rating,n.jsx(Xr,{className:"inline-block ml-1",size:12})]})}),n.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full",style:{width:`${ae.percentage}%`,backgroundColor:"var(--brand-primary)"}})}),n.jsx("span",{className:"text-xs ml-2 w-8",style:{color:"var(--text-secondary)"},children:ae.count})]},ae.rating))})]}),i&&n.jsx("div",{className:"flex justify-center md:justify-end",children:n.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-3 rounded-lg font-medium flex items-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(Xr,{className:"mr-2"}),"Write a Review"]})})]}),_&&n.jsxs("div",{className:"p-5 rounded-lg animate-fadeIn",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Write Your Review"}),n.jsx(tA,{rating:T.rating,readOnly:!1,reviewText:T.reviewText,onRatingChange:ae=>R({...T,rating:ae}),onReviewTextChange:ae=>R({...T,reviewText:ae}),onSubmit:ee}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 mr-2 rounded-lg font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Cancel"})})]}),l&&t.length>0&&n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pb-4 border-b",style:{borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(yd,{className:"mr-2",style:{color:"var(--text-secondary)"}}),n.jsx("span",{className:"mr-3 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Filter:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,5,4,3,2,1].map(ae=>n.jsx("button",{onClick:()=>K(ae),className:`px-3 py-1 text-xs rounded-full transition-colors ${k===ae?"font-semibold":""}`,style:{backgroundColor:k===ae?"var(--brand-primary)":"var(--bg-secondary)",color:k===ae?"var(--text-on-brand)":"var(--text-secondary)"},children:ae===0?"All Ratings":`${ae} Stars`},ae))})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:P,onChange:ae=>Z(ae.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-secondary)"},children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"highest",children:"Highest Rated"}),n.jsx("option",{value:"lowest",children:"Lowest Rated"}),n.jsx("option",{value:"helpful",children:"Most Helpful"})]}),n.jsx(ki,{className:"absolute right-2 top-1/2 transform -translate-y-1/2",style:{color:"var(--text-secondary)"}})]})]}),n.jsx("div",{className:"space-y-6",children:b.length>0?b.map(ae=>n.jsxs("div",{className:"p-5 rounded-lg transition-shadow hover:shadow-md",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",style:{color:"var(--text-primary)"},children:ae.title||"Review"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(tA,{rating:ae.rating,readOnly:!0}),n.jsx("span",{className:"ml-2 text-xs",style:{color:"var(--text-secondary)"},children:(()=>{const le=ae.date||ae.created_at;return typeof le=="string"?new Date(le).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):le})()})]})]}),ae.is_verified&&n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--success-color)"},children:"Verified Purchase"})})]}),n.jsx("p",{className:"my-3 text-sm",style:{color:"var(--text-secondary)"},children:ae.comment||ae.reviewText}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsx("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:ae.user||"Anonymous"})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>be(ae.id),disabled:U[ae.id]==="helpful"||ae.userMarkedHelpful||ae.is_marked_helpful||g&&ae.userEmail===g.email,className:`flex items-center text-xs transition-colors disabled:opacity-50 ${ae.userMarkedHelpful||ae.is_marked_helpful?"text-blue-600":"hover:text-blue-600"}`,style:{color:ae.userMarkedHelpful||ae.is_marked_helpful?"#2563eb":"var(--text-secondary)"},title:g&&ae.userEmail===g.email?"You cannot mark your own review as helpful":ae.userMarkedHelpful||ae.is_marked_helpful?"You marked this review as helpful":"Mark this review as helpful",children:[n.jsx(Aee,{className:"mr-1"}),U[ae.id]==="helpful"?"Loading...":`Helpful (${ae.helpful_count||ae.helpful||0})`]}),n.jsxs("button",{onClick:()=>xe(ae.id),disabled:U[ae.id]==="report"||g&&ae.userEmail===g.email,className:"flex items-center text-xs transition-colors hover:text-red-600 disabled:opacity-50",style:{color:"var(--text-secondary)"},title:g&&ae.userEmail===g.email?"You cannot report your own review":"Report review",children:[n.jsx(UN,{className:"mr-1"}),U[ae.id]==="report"?"Reporting...":"Report"]})]})]})]},ae.id)):n.jsxs("div",{className:"p-8 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx("div",{className:"text-lg font-medium mb-2",children:"No reviews yet"}),n.jsx("p",{children:"Be the first to share your experience with this product"})]})}),n.jsx(th,{isOpen:q,onClose:B,onConfirm:Y,title:ne.title,message:ne.message,confirmText:ne.confirmText,cancelText:ne.cancelText,type:ne.type,isLoading:se})]})},p6=un(r=>({reviews:[],productReviews:{},pendingReviews:[],flaggedReviews:[],addReview:t=>r(s=>{const i=[...s.reviews,{...t,status:"pending"}];let l={...s.productReviews};return l[t.productId]||(l[t.productId]=[]),l[t.productId]=[...l[t.productId],{...t,status:"pending"}],{reviews:i,productReviews:l,pendingReviews:[...s.pendingReviews,{...t,status:"pending"}]}}),updateReviewStatus:(t,s)=>r(i=>{const l=i.reviews.map(b=>b.id===t?{...b,status:s}:b);let h={...i.productReviews};Object.keys(h).forEach(b=>{h[b]=h[b].map(v=>v.id===t?{...v,status:s}:v)});const m=s==="pending"?i.pendingReviews:i.pendingReviews.filter(b=>b.id!==t),g=s==="flagged"?[...i.flaggedReviews,l.find(b=>b.id===t)]:i.flaggedReviews.filter(b=>b.id!==t);return{reviews:l,productReviews:h,pendingReviews:m,flaggedReviews:g}}),deleteReview:t=>r(s=>{const i=s.reviews.filter(g=>g.id!==t);let l={...s.productReviews};Object.keys(l).forEach(g=>{l[g]=l[g].filter(b=>b.id!==t)});const h=s.pendingReviews.filter(g=>g.id!==t),m=s.flaggedReviews.filter(g=>g.id!==t);return{reviews:i,productReviews:l,pendingReviews:h,flaggedReviews:m}}),toggleFlaggedStatus:t=>r(s=>{const i=s.reviews.find(b=>b.id===t);if(!i)return s;const l=s.flaggedReviews.some(b=>b.id===t),h=s.reviews.map(b=>b.id===t?{...b,flagged:!l}:b);let m={...s.productReviews};Object.keys(m).forEach(b=>{m[b]=m[b].map(v=>v.id===t?{...v,flagged:!l}:v)});const g=l?s.flaggedReviews.filter(b=>b.id!==t):[...s.flaggedReviews,{...i,flagged:!0}];return{reviews:h,productReviews:m,flaggedReviews:g}}),markReviewAsHelpful:t=>r(s=>{const i=s.reviews.map(h=>h.id===t?{...h,helpful:(h.helpful||0)+1}:h);let l={...s.productReviews};return Object.keys(l).forEach(h=>{l[h]=l[h].map(m=>m.id===t?{...m,helpful:(m.helpful||0)+1}:m)}),{reviews:i,productReviews:l}}),getProductReviews:t=>p6.getState().productReviews[t]||[],fetchReviews:()=>{const t=[{id:1,productId:1,productName:"iPhone 13 Pro Max",user:"Sanjay Mehta",userEmail:"sanjay@example.com",rating:4,title:"Great phone but battery could be better",comment:"I've been using this phone for 2 months now and it's really good. Camera is excellent and performance is smooth. Battery life could be a bit better though.",date:"2023-11-15T10:30:00",helpful:12,verified:!0,status:"approved",flagged:!1},{id:2,productId:1,user:"Priya Sharma",userEmail:"priya.s@example.com",rating:5,title:"Best phone I've ever owned!",comment:"This phone exceeded all my expectations. The display is beautiful and the camera is outstanding. Very happy with my purchase.",date:"2023-11-10T14:22:00",helpful:8,verified:!0,status:"approved",flagged:!1},{id:3,productId:2,productName:"Samsung Galaxy S22 Ultra",user:"Rahul Gupta",userEmail:"rahul.g@example.com",rating:2,title:"Disappointing Experience",comment:"The phone heats up frequently and the battery drains too fast. Not what I expected from a premium phone.",date:"2023-11-12T09:15:00",helpful:4,verified:!0,status:"approved",flagged:!0},{id:4,productId:3,productName:"Apple MacBook Pro M1",user:"Vikram Singh",userEmail:"vikram@example.com",rating:5,title:"Best laptop I've ever owned",comment:"This is an amazing laptop. The M1 chip is incredibly fast and the battery life is phenomenal. I can work all day without needing to charge.",date:"2023-11-08T16:45:00",helpful:15,verified:!0,status:"approved",flagged:!1},{id:5,productId:6,productName:"Apple AirPods Pro",user:"Sneha Patel",userEmail:"sneha.p@example.com",rating:4,title:"Great sound quality",comment:"The noise cancellation is excellent and they fit comfortably. The only downside is the battery life could be better.",date:"2023-11-05T11:30:00",helpful:9,verified:!1,status:"pending",flagged:!1}],s={};t.forEach(h=>{s[h.productId]||(s[h.productId]=[]),s[h.productId].push(h)});const i=t.filter(h=>h.status==="pending"),l=t.filter(h=>h.flagged);r({reviews:t,productReviews:s,pendingReviews:i,flaggedReviews:l})}})),Boe=({productId:r,product:t})=>{const{reviews:s,productReviews:i,addReview:l,fetchReviews:h}=p6(),{user:m}=jr(),{markReviewHelpful:g,reportReview:b}=sc(),{isOpen:v,modalConfig:k,isLoading:C,showConfirm:_,hideConfirm:S,handleConfirm:T}=mg();O.useEffect(()=>{s.length===0&&h()},[]);const R=q=>{l({productId:r,productName:t.name,user:(m==null?void 0:m.name)||"Anonymous User",userEmail:(m==null?void 0:m.email)||"anonymous@example.com",...q})},P=!1,V=t.reviewsData&&t.reviewsData.length>0?t.reviewsData:i[r]||[],U=async q=>{if(!m){Xe.warning("Please log in to mark reviews as helpful");return}const ne=V.find(se=>se.id===q);if(ne&&ne.userEmail===m.email){Xe.warning("You cannot mark your own review as helpful");return}if(ne&&(ne.userMarkedHelpful||ne.is_marked_helpful)){Xe.info("You have already marked this review as helpful");return}try{const se=await g(r,q);se.success?(Xe.success("Review marked as helpful!"),console.log("Review marked as helpful successfully")):Xe.error(se.error||"Failed to mark review as helpful")}catch(se){console.error("Error marking review as helpful:",se),Xe.error("Failed to mark review as helpful")}},F=async q=>{if(!m){Xe.warning("Please log in to report reviews");return}const ne=V.find(se=>se.id===q);if(ne&&ne.userEmail===m.email){Xe.warning("You cannot report your own review");return}_({title:"Report Review",message:"Are you sure you want to report this review? This will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const se=await b(r,q);se.success?Xe.success("Review reported successfully. Thank you for helping us maintain quality."):Xe.error(se.error||"Failed to report review")}catch(se){console.error("Error reporting review:",se),Xe.error("Failed to report review")}}})};return n.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Customer Reviews"}),n.jsx(Ooe,{productId:r,reviews:V,onAddReview:R,canAddReview:P,showFilters:!0,onMarkHelpful:U,onReportReview:F,currentUser:m,isAuthenticated:!!m}),n.jsx(th,{isOpen:v,onClose:S,onConfirm:T,title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,type:k.type,isLoading:C})]})},Loe=({product:r,activeTab:t,setActiveTab:s})=>{const i=r.reviews||0,l=Object.keys(r.attributes||{});return n.jsxs("div",{className:"mt-10 rounded-lg overflow-hidden",style:{boxShadow:"var(--shadow-medium)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-nowrap overflow-x-auto",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(Aw,{id:"description",activeTab:t,setActiveTab:s,icon:n.jsx(Um,{}),label:"Description"}),n.jsx(Aw,{id:"specifications",activeTab:t,setActiveTab:s,label:"Specifications"}),l.map(h=>n.jsx(Aw,{id:`attribute-${h}`,activeTab:t,setActiveTab:s,label:h.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())},h)),n.jsx(Aw,{id:"reviews",activeTab:t,setActiveTab:s,icon:n.jsx(bee,{}),label:`Reviews (${i})`})]}),n.jsxs("div",{className:"p-6 bg-white min-h-[400px] max-h-[600px] overflow-y-auto custom-scrollbar",children:[t==="description"&&n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("p",{className:"mb-6 leading-relaxed text-base",style:{color:"var(--text-secondary)"},children:r.description}),n.jsx("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:"Key Features:"}),n.jsxs("ul",{className:"space-y-3",children:[(r.features||[]).map((h,m)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-3 mt-0.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:m+1}),n.jsx("span",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:h})]},m)),(!r.features||r.features.length===0)&&n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-3 mt-0.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"1"}),n.jsx("span",{className:"text-base",style:{color:"var(--text-secondary)"},children:"High-quality materials and construction"})]})]})]}),t==="specifications"&&n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h3",{className:"font-semibold text-xl mb-6",style:{color:"var(--text-primary)"},children:"Technical Specifications"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.entries(r.specifications||{}).map(([h,m])=>n.jsx("div",{className:"group",children:n.jsxs("div",{className:"flex flex-col p-4 rounded-lg border-2 transition-all duration-300 group-hover:border-orange-500 group-hover:shadow-md",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[n.jsx("span",{className:"text-sm font-medium mb-2 uppercase tracking-wide",style:{color:"var(--brand-primary)"},children:h.replace(/([A-Z])/g," $1").replace(/^./,g=>g.toUpperCase())}),n.jsx("span",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:m})]})},h)),(!r.specifications||Object.keys(r.specifications).length===0)&&n.jsxs("div",{className:"col-span-full p-6 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Um,{className:"mx-auto mb-2 text-2xl"}),n.jsx("p",{children:"Product specifications not available"})]})]})]}),l.map(h=>t===`attribute-${h}`&&n.jsxs("div",{className:"animate-fadeIn",children:[n.jsx("h3",{className:"font-semibold text-xl mb-6",style:{color:"var(--text-primary)"},children:h.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),n.jsx("div",{className:"p-6 rounded-lg border-2",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-accent-light)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-sm font-medium uppercase tracking-wide block mb-3",style:{color:"var(--brand-primary)"},children:h}),n.jsx("span",{className:"text-2xl font-bold break-words",style:{color:"var(--text-primary)"},children:r.attributes[h]})]})})]},h)),t==="reviews"&&n.jsx("div",{className:"animate-fadeIn",children:n.jsx(Boe,{productId:r.id,product:r})})]})]})},Aw=({id:r,activeTab:t,setActiveTab:s,icon:i,label:l})=>{const h=t===r;return n.jsxs("button",{onClick:()=>s(r),className:`px-6 py-4 text-sm font-medium flex items-center transition-all duration-300 whitespace-nowrap ${h?"border-b-2":"hover:bg-white/50"}`,style:{borderColor:h?"var(--brand-primary)":"transparent",color:h?"var(--brand-primary)":"var(--text-secondary)",backgroundColor:h?"white":"transparent"},children:[i&&n.jsx("span",{className:"mr-2",children:i}),l]})},zoe=({validOptions:r=[],selectedVariant:t,onVariantChange:s})=>{const[i,l]=O.useState({}),[h,m]=O.useState({});O.useEffect(()=>{if(r.length===0)return;const k={},C=new Set;if(r.forEach(_=>{Object.keys(_).forEach(S=>{!["price","discounted_price","stock","id","product_id"].includes(S)&&_[S]!==void 0&&_[S]!==null&&_[S]!==""&&typeof _[S]=="string"&&_[S].trim()!==""&&C.add(S)})}),C.forEach(_=>{const S=[...new Set(r.map(T=>T[_]).filter(T=>T!=null&&T!==""&&typeof T=="string"&&T.trim()!==""&&T.length<100))];S.length>0&&(k[_]=S)}),m(k),console.log("Available options:",k),!t&&r.length>0){const _=r[0];console.log("Initializing with first option:",_);const S={};Object.keys(k).forEach(T=>{_[T]!==void 0&&(S[T]=_[T])}),console.log("Initial selections:",S),l(S),s(_)}},[r,t,s]),O.useEffect(()=>{if(console.log("Selected variant changed:",t),console.log("Available options:",h),t){const k={};Object.keys(h).forEach(C=>{t[C]!==void 0&&(k[C]=t[C])}),console.log("Updating variant selections to:",k),l(k)}},[t,h]);const g=(k,C)=>{console.log("Selection change:",k,C);const _={...i,[k]:C};console.log("New selections:",_),l(_);let S=r.find(T=>Object.keys(_).every(R=>T[R]===_[R]));if(S||(console.log("No exact match found, looking for option with selected value..."),S=r.find(T=>T[k]===C)),!S&&r.length>0&&(console.log("Using first available option as fallback"),S=r[0]),console.log("Selected option:",S),S){console.log("Calling onVariantChange with:",S),s(S);const T={};Object.keys(h).forEach(R=>{S[R]!==void 0&&S[R]!==null&&S[R]!==""&&(T[R]=S[R])}),l(T)}},b=k=>k.charAt(0).toUpperCase()+k.slice(1).replace(/([A-Z])/g," $1").trim(),v=(k,C)=>k==="storage"?C.toString().toUpperCase():k==="ram"?C.toString().includes("GB")?C:`${C}GB`:k==="size"?C.toString().includes("p")?C:`${C}`:k==="colors"?C.charAt(0).toUpperCase()+C.slice(1):C.toString();return console.log("ProductVariantSelector rendered with:",{validOptions:r,selectedVariant:t,variantSelections:i,availableOptions:h}),!r.length||!Object.keys(h).length?(console.log("No valid options or available options, returning null"),null):n.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([k,C])=>n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:[b(k),":"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(_=>{const S=i[k]===_;return n.jsxs("button",{onClick:()=>g(k,_),className:`px-3 py-2 text-sm font-medium rounded-md border transition-all duration-200 cursor-pointer ${S?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:[k==="colors"&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:_.toLowerCase()}}),n.jsx("span",{children:v(k,_)})]}),k!=="colors"&&v(k,_)]},_)})})]},k))})},Foe=({products:r,currentProductId:t,currentCategory:s})=>{const i=r.filter(l=>l.id!==t).slice(0,8);return i.length===0?null:n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Related Products"}),n.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"You might also like these products"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(l=>n.jsx(hg,{product:{...l,id:l.id||l._id,name:l.name||`${l.brand} ${l.model||""}`.trim(),image:l.images&&l.images.length>0?l.images[0]:l.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:l.discount_price||l.offer_price||l.price,price:l.price,discount:l.discount||(l.price&&l.discount_price?`${Math.round((l.price-(l.discount_price||l.offer_price))/l.price*100)}%`:null),rating:l.rating||4,reviews:l.reviews||l.reviews_count||0,brand:l.brand||"Unknown",category:l.category||"General",stock:l.stock||0}},l.id))}),n.jsx("div",{className:"text-center mt-8",children:n.jsxs(rt,{to:`/products/${s==null?void 0:s.toLowerCase().replace(/\s+/g,"-")}`,className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors duration-300 hover:shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",border:"2px solid var(--brand-primary)",textDecoration:"none"},onMouseEnter:l=>{l.target.style.backgroundColor="transparent",l.target.style.color="var(--brand-primary)"},onMouseLeave:l=>{l.target.style.backgroundColor="var(--brand-primary)",l.target.style.color="var(--text-on-brand)"},children:["View All ",s," Products"]})})]})})},Voe=()=>{var K,Z,ee,be;const{id:r}=Zf(),[t,s]=O.useState(0),[i,l]=O.useState(1),[h,m]=O.useState("description"),[g,b]=O.useState(null),{currentProduct:v,loading:k,error:C,fetchProduct:_,clearCurrentProduct:S,getProductsByCategory:T}=sc(),{addItem:R}=eh(),{addItem:P}=N1(),{user:V}=jr(),U=O.useCallback(xe=>{console.log("Variant changed to:",xe),b(xe),l(1)},[]);if(O.useEffect(()=>{window.scrollTo(0,0)},[]),O.useEffect(()=>(r&&(console.log("Fetching product with ID:",r),_(r)),()=>{S()}),[r]),O.useEffect(()=>{var xe;((xe=v==null?void 0:v.valid_options)==null?void 0:xe.length)>0&&b(v.valid_options[0])},[v]),O.useEffect(()=>{v&&console.log("Raw product data from API:",v)},[v]),k)return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})})})});if(C)return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:C}),n.jsx("button",{onClick:()=>_(r),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Retry"})]})})})});if(!v)return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Product not found"}),n.jsx(rt,{to:Et.PRODUCTS,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Back to Products"})]})})})});const F=v,q={...F,name:F.name||F.title||F.product_name||"Unknown Product",price:(g==null?void 0:g.price)||F.price||F.original_price||0,discountPrice:(g==null?void 0:g.discounted_price)||F.discount_price||F.discountPrice||F.discounted_price||F.sale_price||(g==null?void 0:g.price)||F.price||0,discount:F.discount||(g!=null&&g.price&&(g!=null&&g.discounted_price)&&g.discounted_price<g.price?Math.round((g.price-g.discounted_price)/g.price*100)+"%":F.price&&F.discount_price&&F.discount_price<F.price?Math.round((F.price-F.discount_price)/F.price*100)+"%":null),rating:F.rating||F.average_rating||0,reviews:F.total_reviews||(Array.isArray(F.reviews)?F.reviews.length:F.reviews||F.review_count||0),reviewsData:Array.isArray(F.reviews)?F.reviews.map(xe=>({id:xe.id,rating:xe.rating,comment:xe.comment,user:xe.email?xe.email.split("@")[0]:"Anonymous",userEmail:xe.email,date:xe.created_at,verified:!0,helpful:xe.helpful_count||0,helpful_count:xe.helpful_count||0,is_marked_helpful:xe.is_marked_helpful||!1,title:`${xe.title}`,reported_count:xe.reported_count||0,helpful_users:xe.helpful_users||[]})):[],stock:(g==null?void 0:g.stock)||F.stock||F.quantity||F.inventory||1,images:F.images||F.image_urls||F.photos||["https://via.placeholder.com/600x600?text=No+Image"],videos:F.videos||[],features:F.features||F.key_features||[],specifications:F.specifications||F.specs||{},attributes:F.attributes||{},description:F.description||F.product_description||"No description available",category:F.category||F.product_category||"General",brand:F.brand||F.manufacturer||"Unknown Brand",variant:F.variant||{},colors:((K=F.variant)==null?void 0:K.colors)||[],ramOptions:((Z=F.variant)==null?void 0:Z.ram)||[],storageOptions:((ee=F.variant)==null?void 0:ee.storage)||[],validOptions:F.valid_options||[],selectedColor:(g==null?void 0:g.colors)||null,currentPrice:(g==null?void 0:g.discounted_price)||(g==null?void 0:g.price)||F.discount_price||F.discountPrice||F.discounted_price||F.sale_price||F.price||0,originalPrice:(g==null?void 0:g.price)||F.price||F.original_price||0,currentStock:(g==null?void 0:g.stock)||F.stock||F.quantity||F.inventory||0};console.log("Normalized product data:",q),console.log("Selected variant:",g);const ne=xe=>{const ie=parseInt(xe.target.value),ae=q.currentStock;ie>0&&ie<=ae&&l(ie)},se=()=>{const xe=q.currentStock;i<xe&&l(i+1)},Q=()=>{i>1&&l(i-1)},B=async()=>{var xe;if(!V){_w("Please log in to add items to cart");return}try{const ie={id:q.id,name:q.name,price:q.currentPrice,image:((xe=q.images)==null?void 0:xe[0])||q.image,variant_id:(g==null?void 0:g.id)||null,variant:g?{id:g.id,color:g.colors,storage:g.storage,ram:g.ram,price:g.discounted_price||g.price}:null};await R(ie,i),w2(q.name,i)}catch(ie){console.error("Error adding to cart:",ie),_w("Failed to add item to cart")}},Y=async()=>{var xe;if(!V){_w("Please log in to add items to wishlist");return}try{const ie={id:q.id,name:q.name,price:q.currentPrice,image:((xe=q.images)==null?void 0:xe[0])||q.image,variant_id:(g==null?void 0:g.id)||null,variant:g?{id:g.id,color:g.colors,storage:g.storage,ram:g.ram,price:g.discounted_price||g.price}:null};await P(ie),w2(`${q.name} added to wishlist!`)}catch(ie){console.error("Error adding to wishlist:",ie),_w("Failed to add item to wishlist")}},J=[{label:"Home",link:Et.HOME},{label:q.category,link:Et.PRODUCTS},{label:q.brand,link:`/brand/${q.brand}`},{label:q.name}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(j1,{items:J}),n.jsxs(rt,{to:Et.PRODUCTS,className:"inline-flex items-center text-orange-500 mb-6",children:[n.jsx(id,{className:"mr-2"})," Back to Products"]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 p-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(Toe,{images:q.images,videos:q.videos,activeImage:t,setActiveImage:s})}),n.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[n.jsx(Ioe,{product:q,selectedVariant:g}),((be=q.validOptions)==null?void 0:be.length)>0&&n.jsx("div",{className:"border-t border-gray-200 py-4",children:n.jsx(zoe,{validOptions:q.validOptions,selectedVariant:g,onVariantChange:U})}),n.jsxs("div",{className:"border-t border-gray-200 py-4",children:[n.jsx(Roe,{quantity:i,setQuantity:l,stock:q.currentStock,handleQuantityChange:ne,incrementQuantity:se,decrementQuantity:Q}),n.jsx(Poe,{price:q.currentPrice,addToCart:B,addToWishlist:Y})]})]})]}),n.jsx(Loe,{product:q,activeTab:h,setActiveTab:m}),q.category&&n.jsx(Foe,{products:T(q.category),currentProductId:q.id,currentCategory:q.category})]})]})})},f6=({showFilters:r,setShowFilters:t,brands:s,products:i=[],currentCategory:l,selectedBrands:h,toggleBrandFilter:m,priceRange:g,setPriceRange:b,setSelectedBrands:v,stockFilters:k,setStockFilters:C,selectedRating:_,setSelectedRating:S,selectedStorage:T,setSelectedStorage:R,selectedRAM:P,setSelectedRAM:V,selectedColors:U,setSelectedColors:F,selectedCategories:q,setSelectedCategories:ne,selectedDiscount:se,setSelectedDiscount:Q,selectedAttributes:B,setSelectedAttributes:Y})=>{const[J,K]=O.useState({price:!0,stock:!1,rating:!1,discount:!1,brands:!1,storage:!1,ram:!1,colors:!1,category:!1}),Z=O.useMemo(()=>{if(!i||i.length===0)return{storageOptions:[],ramOptions:[],colorOptions:[],categoryOptions:[],attributeOptions:{},validOptionKeys:[]};let Ne=i;if(l){const lt=l.replace("-"," ");Ne=i.filter(It=>It.category.toLowerCase()===lt.toLowerCase())}const at=new Set,Qt=new Set,Sr=new Set,nn=new Set,Yr={},Er=new Set;Ne.forEach(lt=>{lt.variant&&(lt.variant.storage&&lt.variant.storage.forEach(It=>{It&&It.trim()&&at.add(It.trim())}),lt.variant.colors&&lt.variant.colors.forEach(It=>{It&&It.trim()&&Sr.add(It.trim())})),lt.valid_options&&Array.isArray(lt.valid_options)&&lt.valid_options.forEach(It=>{Object.keys(It).forEach(kt=>{if(!["id","stock","price","discounted_price","product_id"].includes(kt)){Er.add(kt);const er=It[kt];er&&typeof er=="string"&&er.trim()&&(kt==="storage"?at.add(er.trim()):kt==="ram"?Qt.add(er.trim()):kt==="colors"?Sr.add(er.trim()):(Yr[kt]||(Yr[kt]=new Set),Yr[kt].add(er.trim())))}})}),lt.attributes&&typeof lt.attributes=="object"&&Object.keys(lt.attributes).forEach(It=>{const kt=lt.attributes[It];kt&&typeof kt=="string"&&kt.trim()&&(Er.add(It),Yr[It]||(Yr[It]=new Set),Yr[It].add(kt.trim()))}),lt.category&&lt.category.trim()&&nn.add(lt.category.trim())});const Cr=(lt,It,kt)=>Array.from(lt).map(er=>({label:er,count:It.filter(kt(er)).length})).sort((er,sn)=>sn.count-er.count),Qs=Cr(at,Ne,lt=>It=>{var kt,er,sn;return((er=(kt=It.variant)==null?void 0:kt.storage)==null?void 0:er.includes(lt))||((sn=It.valid_options)==null?void 0:sn.some(ss=>ss.storage===lt))}),fo=Cr(Qt,Ne,lt=>It=>{var kt;return(kt=It.valid_options)==null?void 0:kt.some(er=>er.ram===lt)}),Yt=Cr(Sr,Ne,lt=>It=>{var kt,er,sn;return((er=(kt=It.variant)==null?void 0:kt.colors)==null?void 0:er.includes(lt))||((sn=It.valid_options)==null?void 0:sn.some(ss=>ss.colors===lt))}),wt=Cr(nn,Ne,lt=>It=>It.category===lt),Gr={};return Object.keys(Yr).forEach(lt=>{Gr[lt]=Cr(Yr[lt],Ne,It=>kt=>{var er,sn;return((er=kt.attributes)==null?void 0:er[lt])===It||((sn=kt.valid_options)==null?void 0:sn.some(ss=>ss[lt]===It))})}),{storageOptions:Qs,ramOptions:fo,colorOptions:Yt,categoryOptions:wt,attributeOptions:Gr,validOptionKeys:Array.from(Er).filter(lt=>!["storage","ram","colors","product_id","custom_keys","custom_values"].includes(lt))}},[i,l]),{storageOptions:ee,ramOptions:be,colorOptions:xe,categoryOptions:ie,attributeOptions:ae,validOptionKeys:le}=Z,oe=O.useMemo(()=>{if(!l||!i||i.length===0)return s;const Ne=l.replace("-"," "),at=i.filter(Sr=>Sr.category.toLowerCase()===Ne.toLowerCase()),Qt=new Set;return at.forEach(Sr=>{Sr.brand&&Sr.brand.trim()&&Qt.add(Sr.brand.trim())}),s.filter(Sr=>Qt.has(Sr))},[s,i,l]),G=Ne=>{K(at=>({...at,[Ne]:!at[Ne]}))},ue=(Ne,at)=>{const Qt=(B==null?void 0:B[Ne])||[],Sr=Qt.includes(at)?Qt.filter(nn=>nn!==at):[...Qt,at];Y({...B,[Ne]:Sr})};O.useEffect(()=>{le.length>0&&K(Ne=>{const at={...Ne};return le.forEach(Qt=>{Qt in at||(at[Qt]=!1)}),at})},[le]);const[pe,me]=O.useState(g.min||0),[ye,Se]=O.useState(g.max||15e4),_e=(Ne,at)=>{const Qt=parseInt(Ne.target.value)||0;at==="min"?me(Qt):Se(Qt)},qe=()=>{b({min:pe,max:ye})},Oe=Ne=>{C({...k,[Ne]:!k[Ne]})},Ye=Ne=>{T.includes(Ne)?R(T.filter(at=>at!==Ne)):R([...T,Ne])},Be=Ne=>{P.includes(Ne)?V(P.filter(at=>at!==Ne)):V([...P,Ne])},Ce=Ne=>{U.includes(Ne)?F(U.filter(at=>at!==Ne)):F([...U,Ne])},ot=Ne=>{q.includes(Ne)?ne(q.filter(at=>at!==Ne)):ne([...q,Ne])},Je=Ne=>{Q(se===Ne?null:Ne)},nt=()=>{v([]),b({min:0,max:15e4}),me(0),Se(15e4),S(0),C({inStock:!1,outOfStock:!1}),R([]),V([]),F([]),ne([]),Q(null),Y&&Y({})};O.useEffect(()=>{me(g.min),Se(g.max)},[g]);const Lt=[{label:"50% or more",value:50},{label:"40% or more",value:40},{label:"30% or more",value:30},{label:"20% or more",value:20},{label:"10% or more",value:10}];return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full md:hidden mb-4",children:n.jsx(tt,{onClick:()=>t(!r),className:"flex items-center justify-center gap-2 py-2.5",variant:"outline",icon:n.jsx(yd,{size:18}),children:r?"Hide Filters":"Show Filters"})}),n.jsxs("div",{className:`
          ${r?"block":"hidden md:block"}
          w-full md:w-1/4 rounded-lg overflow-hidden transition-all duration-300
        `,style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-base font-bold",style:{color:"var(--text-primary)"},children:"Filters"}),n.jsx("button",{onClick:nt,className:"text-sm font-medium hover:underline transition-all duration-200",style:{color:"var(--brand-primary)"},children:"Clear"})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("price"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"PRICE"}),J.price?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.price&&n.jsxs("div",{className:"px-4 pb-4",children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[" ",pe.toLocaleString()]}),n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[" ",ye.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[n.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:""}),n.jsx("input",{type:"number",value:pe,onChange:Ne=>_e(Ne,"min"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:"-"}),n.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[n.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:""}),n.jsx("input",{type:"number",value:ye,onChange:Ne=>_e(Ne,"max"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),n.jsx("button",{onClick:qe,className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Go"})]})]})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("stock"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"STOCK STATUS"}),J.stock?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.stock&&n.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"in-stock",checked:k.inStock,onChange:()=>Oe("inStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:"in-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"In Stock"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"out-of-stock",checked:k.outOfStock,onChange:()=>Oe("outOfStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:"out-of-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"Out Of Stock"})]})]})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("rating"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RATING"}),J.rating?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.rating&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:[5,4,3,2,1].map(Ne=>n.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>S(_===Ne?0:Ne),children:n.jsx("div",{className:"flex items-center",children:Array.from({length:5},(at,Qt)=>n.jsx("span",{className:"text-lg",children:Qt<Ne?n.jsx("span",{style:{color:"#FF9017"},children:""}):n.jsx("span",{style:{color:"#E4E5E8"},children:""})},Qt))})},Ne))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("discount"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"DISCOUNT"}),J.discount?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.discount&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:Lt.map(Ne=>n.jsxs("div",{className:"flex items-center",onClick:()=>Je(Ne.value),children:[n.jsx("input",{type:"radio",id:`discount-${Ne.value}`,checked:se===Ne.value,onChange:()=>{},className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:`discount-${Ne.value}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:Ne.label})]},Ne.value))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("brands"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"BRANDS"}),J.brands?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.brands&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:oe.map(Ne=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`brand-${Ne}`,checked:h.includes(Ne),onChange:()=>m(Ne),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsx("label",{htmlFor:`brand-${Ne}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:Ne})]},Ne))})]}),!l&&n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("category"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"CATEGORY"}),J.category?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.category&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:ie.map(Ne=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`category-${Ne.label}`,checked:q.includes(Ne.label),onChange:()=>ot(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`category-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("storage"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"INTERNAL STORAGE"}),J.storage?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.storage&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:ee.map(Ne=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`storage-${Ne.label}`,checked:T.includes(Ne.label),onChange:()=>Ye(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`storage-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("ram"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RAM"}),J.ram?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.ram&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:be.map(Ne=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`ram-${Ne.label}`,checked:P.includes(Ne.label),onChange:()=>Be(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`ram-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G("colors"),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"COLOR"}),J.colors?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J.colors&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:xe.map(Ne=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`color-${Ne.label}`,checked:U.includes(Ne.label),onChange:()=>Ce(Ne.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`color-${Ne.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Ne.label," (",Ne.count,")"]})]},Ne.label))})]}),le.map(Ne=>{var at;return ae[Ne]&&ae[Ne].length>0&&n.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>G(Ne),children:[n.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:Ne.toUpperCase().replace(/_/g," ")}),J[Ne]?n.jsx(Ul,{size:18,style:{color:"var(--text-secondary)"}}):n.jsx(ki,{size:18,style:{color:"var(--text-secondary)"}})]}),J[Ne]&&n.jsx("div",{className:"px-4 pb-4 space-y-2",children:(at=ae[Ne])==null?void 0:at.map(Qt=>{var Sr;return n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:`${Ne}-${Qt.label}`,checked:((Sr=B==null?void 0:B[Ne])==null?void 0:Sr.includes(Qt.label))||!1,onChange:()=>ue(Ne,Qt.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),n.jsxs("label",{htmlFor:`${Ne}-${Qt.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[Qt.label," (",Qt.count,")"]})]},Qt.label)})})]},Ne)}),n.jsx("div",{className:"md:hidden p-4",children:n.jsx(tt,{onClick:()=>t(!1),fullWidth:!0,variant:"primary",className:"py-2.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Apply Filters"})})]})]})},g6=({sortBy:r,setSortBy:t})=>n.jsx("div",{className:"rounded-xl p-6 mb-6 backdrop-blur-sm",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderBottom:"2px solid var(--brand-primary)"},children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"mb-4 md:mb-0 flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsx(GN,{size:16,style:{color:"var(--brand-primary)"}})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Products Found"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Showing all available products"})]})]}),n.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-1 border transition-all duration-200 hover:border-gray-300",style:{borderColor:"var(--border-primary)"},children:[n.jsx("label",{htmlFor:"sort-by",className:"text-sm mx-3 font-medium whitespace-nowrap",style:{color:"var(--text-secondary)"},children:"Sort by:"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:"sort-by",value:r,onChange:s=>t(s.target.value),className:"appearance-none border-0 bg-transparent rounded px-4 py-2 pr-8 text-sm font-medium focus:outline-none focus:ring-0",style:{color:"var(--text-primary)"},children:[n.jsx("option",{value:"popularity",children:"Popularity"}),n.jsx("option",{value:"rating",children:"Rating"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2",children:r==="price-low"?n.jsx(v1,{size:14,style:{color:"var(--brand-primary)"}}):r==="price-high"?n.jsx(x1,{size:14,style:{color:"var(--brand-primary)"}}):n.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.slice(0,3).toUpperCase()})})]})]})]})}),b6=({products:r,loading:t})=>t?n.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading products..."})]}):r.length===0?null:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8",children:r.map(s=>n.jsx("div",{className:"opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.5s forwards",animationFillMode:"forwards"},children:n.jsx(hg,{product:s})},s.id))}),y6=({resetFilters:r})=>n.jsx("div",{className:"rounded-xl p-10 text-center transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-6 rounded-full",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsx(Ei,{size:32,style:{color:"var(--brand-primary)"}})}),n.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"No products found"}),n.jsx("p",{className:"text-base mb-6 max-w-md mx-auto",style:{color:"var(--text-secondary)"},children:"We couldn't find any products matching your current filters. Try adjusting your filters or search criteria."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx(tt,{onClick:r,variant:"primary",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},icon:n.jsx(Mi,{size:16}),children:"Reset Filters"}),n.jsx(tt,{onClick:r,variant:"outline",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",icon:n.jsx(yd,{size:16}),children:"Modify Filters"})]})]})}),xR=()=>{let{category:r}=Zf();r=r?r.charAt(0).toUpperCase()+r.slice(1).replace(/s$/,""):null;const[t,s]=O.useState(!1),[i,l]=O.useState([]),[h,m]=O.useState({min:0,max:15e4}),[g,b]=O.useState("popularity"),[v,k]=O.useState(0),[C,_]=O.useState({inStock:!1,outOfStock:!1}),[S,T]=O.useState([]),[R,P]=O.useState([]),[V,U]=O.useState([]),[F,q]=O.useState([]),[ne,se]=O.useState(null),[Q,B]=O.useState({}),[Y,J]=O.useState(1),K=10,{products:Z,brands:ee,loading:be,fetchProducts:xe}=sc();O.useEffect(()=>{xe()},[]);const ie=(Z||[]).map(Oe=>({...Oe,discountPrice:Oe.discount_price||Oe.price,image:Oe.images&&Oe.images.length>0?Oe.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),ae=Oe=>{i.includes(Oe)?l(i.filter(Ye=>Ye!==Oe)):l([...i,Oe])},oe=(()=>{let Oe=[...ie];if(i.length>0&&(Oe=Oe.filter(Ye=>i.includes(Ye.brand))),r){const Ye=r.replace("-"," ");Oe=Oe.filter(Be=>Be.category.toLowerCase()===Ye.toLowerCase())}return F.length>0&&(Oe=Oe.filter(Ye=>F.includes(Ye.category))),Oe=Oe.filter(Ye=>Ye.discountPrice>=h.min&&Ye.discountPrice<=h.max),v>0&&(Oe=Oe.filter(Ye=>Math.round(Ye.rating||0)>=v)),C.inStock&&!C.outOfStock?Oe=Oe.filter(Ye=>Ye.stock>0):!C.inStock&&C.outOfStock&&(Oe=Oe.filter(Ye=>Ye.stock<=0)),S.length>0&&(Oe=Oe.filter(Ye=>Ye.variant&&Array.isArray(Ye.variant.storage)?Ye.variant.storage.some(Be=>S.includes(Be)):Ye.valid_options&&Array.isArray(Ye.valid_options)?Ye.valid_options.some(Be=>Be.storage&&S.includes(Be.storage)):!1)),R.length>0&&(Oe=Oe.filter(Ye=>Ye.valid_options&&Array.isArray(Ye.valid_options)?Ye.valid_options.some(Be=>Be.ram&&R.includes(Be.ram)):!1)),V.length>0&&(Oe=Oe.filter(Ye=>Ye.variant&&Array.isArray(Ye.variant.colors)?Ye.variant.colors.some(Be=>V.includes(Be)):Ye.valid_options&&Array.isArray(Ye.valid_options)?Ye.valid_options.some(Be=>Be.colors&&V.includes(Be.colors)):!1)),Q&&Object.keys(Q).length>0&&(Oe=Oe.filter(Ye=>Object.entries(Q).every(([Be,Ce])=>!Ce||Ce.length===0?!0:Ye.attributes&&Ye.attributes[Be]?Ce.includes(Ye.attributes[Be]):Ye.valid_options&&Array.isArray(Ye.valid_options)?Ye.valid_options.some(ot=>ot[Be]&&Ce.includes(ot[Be])):!1))),ne!==null&&(Oe=Oe.filter(Ye=>(Ye.price&&Ye.discountPrice?Math.round((Ye.price-Ye.discountPrice)/Ye.price*100):0)>=ne)),g==="price-low"?Oe.sort((Ye,Be)=>Ye.discountPrice-Be.discountPrice):g==="price-high"?Oe.sort((Ye,Be)=>Be.discountPrice-Ye.discountPrice):g==="rating"&&Oe.sort((Ye,Be)=>{const Ce=Ye.rating!==void 0&&Ye.rating!==null?Ye.rating:0;return(Be.rating!==void 0&&Be.rating!==null?Be.rating:0)-Ce}),Oe})(),G=oe.length,ue=Math.ceil(G/K),pe=(Y-1)*K,me=pe+K,ye=oe.slice(pe,me),Se=Oe=>{J(Oe),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{J(1)},[i,h,g,v,C,S,R,V,F,ne,Q,r]);const _e=()=>{l([]),m({min:0,max:15e4}),b("popularity"),k(0),_({inStock:!1,outOfStock:!1}),T([]),P([]),U([]),q([]),se(null),B({})},qe=[{label:"Home",link:Et.HOME},{label:r?r.charAt(0).toUpperCase()+r.slice(1).replace("-"," "):"Products"}];return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:r?r.charAt(0).toUpperCase()+r.slice(1).replace("-"," "):"All Products"}),n.jsx(j1,{items:qe})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[n.jsx(f6,{showFilters:t,setShowFilters:s,brands:ee,products:ie,currentCategory:r,selectedBrands:i,toggleBrandFilter:ae,priceRange:h,setPriceRange:m,setSelectedBrands:l,stockFilters:C,setStockFilters:_,selectedRating:v,setSelectedRating:k,selectedStorage:S,setSelectedStorage:T,selectedRAM:R,setSelectedRAM:P,selectedColors:V,setSelectedColors:U,selectedCategories:F,setSelectedCategories:q,selectedDiscount:ne,setSelectedDiscount:se,selectedAttributes:Q,setSelectedAttributes:B}),n.jsxs("div",{className:"w-full md:w-3/4",children:[n.jsx(g6,{sortBy:g,setSortBy:b}),n.jsx(b6,{products:ye,loading:be}),!be&&G>0&&n.jsx(Qa,{currentPage:Y,totalPages:ue,onPageChange:Se,totalItems:G,itemsPerPage:K}),!be&&oe.length===0&&n.jsx(y6,{resetFilters:_e})]})]})]})})},Uoe=()=>{const[r]=kG(),t=r.get("query")||"",[s,i]=O.useState(!1),[l,h]=O.useState([]),[m,g]=O.useState({min:0,max:15e4}),[b,v]=O.useState("popularity"),[k,C]=O.useState(0),[_,S]=O.useState({inStock:!1,outOfStock:!1}),[T,R]=O.useState([]),[P,V]=O.useState([]),[U,F]=O.useState([]),[q,ne]=O.useState([]),[se,Q]=O.useState(null),[B,Y]=O.useState({}),{brands:J,loading:K,searchProducts:Z}=sc(),ee=Z(t).map(oe=>({...oe,discountPrice:oe.discount_price||oe.price,image:oe.images&&oe.images.length>0?oe.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),be=oe=>{l.includes(oe)?h(l.filter(G=>G!==oe)):h([...l,oe])},xe=()=>{h([]),g({min:0,max:15e4}),v("popularity"),C(0),S({inStock:!1,outOfStock:!1}),R([]),V([]),F([]),ne([]),Q(null),Y({})},ae=(()=>{let oe=[...ee];return l.length>0&&(oe=oe.filter(G=>l.includes(G.brand))),oe=oe.filter(G=>G.discountPrice>=m.min&&G.discountPrice<=m.max),b==="price-low"?oe.sort((G,ue)=>G.discountPrice-ue.discountPrice):b==="price-high"?oe.sort((G,ue)=>ue.discountPrice-G.discountPrice):b==="rating"&&oe.sort((G,ue)=>{const pe=G.rating!==void 0&&G.rating!==null?G.rating:0;return(ue.rating!==void 0&&ue.rating!==null?ue.rating:0)-pe}),oe})(),le=[{label:"Home",link:Et.HOME},{label:`Search Results: "${t}"`}];return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:['Search Results for "',t,'"']}),n.jsx(j1,{items:le}),n.jsxs("p",{className:"text-gray-600 mt-2",children:[ae.length," results found"]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[n.jsx(f6,{showFilters:s,setShowFilters:i,brands:J,products:ee,selectedBrands:l,toggleBrandFilter:be,priceRange:m,setPriceRange:g,setSelectedBrands:h,stockFilters:_,setStockFilters:S,selectedRating:k,setSelectedRating:C,selectedStorage:T,setSelectedStorage:R,selectedRAM:P,setSelectedRAM:V,selectedColors:U,setSelectedColors:F,selectedCategories:q,setSelectedCategories:ne,selectedDiscount:se,setSelectedDiscount:Q,selectedAttributes:B,setSelectedAttributes:Y}),n.jsxs("div",{className:"w-full md:w-3/4",children:[n.jsx(g6,{sortBy:b,setSortBy:v}),K?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"spinner"})}):ae.length>0?n.jsx(b6,{products:ae}):n.jsx(y6,{searchQuery:t,resetFilters:xe})]})]})]})})},Goe=()=>n.jsxs("div",{className:"bg-white rounded-xl p-10 text-center transition-all duration-300 hover:shadow-lg",style:{boxShadow:"var(--shadow-medium)",background:"linear-gradient(to bottom, var(--bg-primary), var(--bg-secondary))"},children:[n.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-7 animate-pulse",style:{background:"var(--bg-accent-light)",boxShadow:"var(--shadow-medium)"},children:n.jsx(el,{className:"h-12 w-12",style:{color:"var(--brand-primary)"}})}),n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Your cart is empty"}),n.jsx("p",{className:"mb-8 max-w-md mx-auto text-base",style:{color:"var(--text-secondary)"},children:"Looks like you haven't added any products to your cart yet. Start shopping to fill it with amazing products!"}),n.jsx(rt,{to:Et.PRODUCTS,className:"inline-block",children:n.jsxs(tt,{variant:"primary",fullWidth:!1,className:"px-8 py-3.5 text-base group flex items-center transition-all duration-300 transform hover:translate-y-[-3px]",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)",borderRadius:"1rem"},children:["Browse Products",n.jsx(C9,{className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]}),Hoe=({item:r,updateQuantity:t,removeItem:s})=>n.jsxs("tr",{className:"group transition-all duration-200 hover:bg-opacity-50",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("td",{className:"py-6 px-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-20 w-20 rounded-lg flex items-center justify-center overflow-hidden transition-transform duration-200 group-hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:n.jsx("img",{src:r.image,alt:r.name,className:"h-16 w-16 object-contain"})}),n.jsxs("div",{className:"ml-5 flex-1",children:[n.jsx(rt,{to:`/products/${r.id}`,className:"font-medium hover:underline transition-all duration-200 block mb-1 text-base",style:{color:"var(--text-primary)"},children:r.name}),n.jsxs("span",{className:"text-sm block mt-1",style:{color:"var(--text-secondary)"},children:["",(r.price||0).toLocaleString()," each"]})]})]})}),n.jsx("td",{className:"py-6 px-4",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("button",{onClick:()=>t(r.item_id,-1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Decrease quantity",children:n.jsx(E9,{size:16})}),n.jsx("span",{className:"mx-4 w-8 text-center font-medium text-base",style:{color:"var(--text-primary)"},children:r.quantity}),n.jsx("button",{onClick:()=>t(r.item_id,1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Increase quantity",children:n.jsx(Hn,{size:16})})]})}),n.jsxs("td",{className:"py-6 px-4 text-right text-lg font-semibold",style:{color:"var(--brand-primary)"},children:["",((r.price||0)*r.quantity).toLocaleString()]}),n.jsx("td",{className:"py-6 px-4 text-center",children:n.jsx("button",{onClick:()=>s(r.item_id),className:"p-2.5 rounded-full hover:bg-red-50 transition-all duration-200 focus:outline-none",style:{color:"var(--error-color)",backgroundColor:"var(--bg-secondary)"},"aria-label":"Remove item",children:n.jsx(cn,{size:18})})})]}),qoe=({cartItems:r,updateQuantity:t,removeItem:s})=>n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"bg-white rounded-xl overflow-hidden mb-7",style:{boxShadow:"var(--shadow-medium)",borderLeft:"4px solid var(--brand-primary)"},children:[n.jsx("div",{className:"px-6 py-5 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:n.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:["Cart Items",n.jsx("span",{className:"ml-2 px-2.5 py-1 text-sm rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:r.length})]})}),n.jsx("div",{className:"overflow-x-auto p-2",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"py-4 px-5 text-left text-xs font-semibold uppercase tracking-wider rounded-tl-lg",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Quantity"}),n.jsx("th",{className:"py-4 px-5 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),n.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider rounded-tr-lg",style:{color:"var(--text-secondary)"},children:"Action"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:r.map(i=>n.jsx(Hoe,{item:i,updateQuantity:t,removeItem:s},i.id))})]})})]}),n.jsx("div",{className:"flex justify-between mt-6",children:n.jsxs(rt,{to:Et.PRODUCTS,className:"inline-flex items-center px-5 py-3 rounded-lg transition-all duration-300 font-medium text-sm hover:translate-x-[-5px]",style:{color:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)"},children:[n.jsx(id,{className:"mr-2"}),"Continue Shopping"]})})]}),Yoe=({subtotal:r,total:t,onCheckout:s})=>n.jsx("div",{className:"lg:col-span-1 sticky top-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 overflow-hidden",style:{boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[n.jsxs("h2",{className:"text-xl font-bold mb-6 pb-4 border-b flex items-center",style:{color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx(el,{className:"mr-2",style:{color:"var(--brand-primary)"}}),"Order Summary"]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"flex justify-between items-center py-1",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Subtotal"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",r.toLocaleString()]})]}),n.jsx("div",{className:"h-px my-3",style:{background:"var(--border-primary)"}}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Total"}),n.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["",t.toLocaleString()]})]})]}),n.jsx("div",{className:"mt-8",children:n.jsxs(tt,{onClick:s,className:"text-base py-3.5 transition-all duration-300 transform hover:translate-y-[-2px] rounded-lg font-medium",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)"},children:[n.jsx(na,{className:"mr-2"})," Proceed to Checkout"]})})]})}),x6=un((r,t)=>({addresses:[],isLoading:!1,error:null,fetchAddresses:async()=>{var i,l;const{isAuthenticated:s}=jr.getState();if(!s)return r({addresses:[],error:"User not authenticated"}),[];try{r({isLoading:!0,error:null});const g=((await or.get("/users/addresses/")).data.addresses||[]).map(b=>({id:b.id,name:b.type,address:b.street_address,city:b.city,state:b.state,pincode:b.postal_code,phone:b.phone_number,isDefault:b.is_default,type:b.type,street_address:b.street_address,postal_code:b.postal_code,phone_number:b.phone_number,is_default:b.is_default,created_at:b.created_at,updated_at:b.updated_at}));return r({addresses:g,isLoading:!1}),g}catch(h){return console.error("Error fetching addresses:",h),r({isLoading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch addresses"}),[]}},addAddress:async s=>{var l,h,m,g;const{isAuthenticated:i}=jr.getState();if(!i)return Re.error("Please login to add an address"),null;try{r({isLoading:!0,error:null});const b={type:s.type||s.name,street_address:s.street_address||s.address,city:s.city,state:s.state,postal_code:s.postal_code||s.pincode,phone_number:s.phone_number||s.phone,is_default:s.is_default||s.isDefault||!1},v=await or.post("/users/addresses/add/",b),k=v.data.address,C={id:v.data.address_id,name:k.type,address:k.street_address,city:k.city,state:k.state,pincode:k.postal_code,phone:k.phone_number,isDefault:k.is_default,...k};return r(_=>({addresses:[..._.addresses,C],isLoading:!1})),Re.success("Address added successfully"),C}catch(b){return console.error("Error adding address:",b),r({isLoading:!1,error:((h=(l=b.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to add address"}),Re.error(((g=(m=b.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to add address"),null}},updateAddress:async(s,i)=>{var h,m,g,b;const{isAuthenticated:l}=jr.getState();if(!l)return Re.error("Please login to update an address"),!1;try{r({isLoading:!0,error:null});const v={type:i.type||i.name,street_address:i.street_address||i.address,city:i.city,state:i.state,postal_code:i.postal_code||i.pincode,phone_number:i.phone_number||i.phone,is_default:i.is_default||i.isDefault||!1},C=(await or.put(`/users/addresses/update/${s}/`,v)).data.address,_={id:C.id||s,name:C.type,address:C.street_address,city:C.city,state:C.state,pincode:C.postal_code,phone:C.phone_number,isDefault:C.is_default,type:C.type,street_address:C.street_address,postal_code:C.postal_code,phone_number:C.phone_number,is_default:C.is_default,created_at:C.created_at,updated_at:C.updated_at};return r(S=>({addresses:S.addresses.map(T=>T.id===s?_:T),isLoading:!1})),Re.success("Address updated successfully"),!0}catch(v){return console.error("Error updating address:",v),r({isLoading:!1,error:((m=(h=v.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to update address"}),Re.error(((b=(g=v.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to update address"),!1}},deleteAddress:async s=>{var l,h,m,g;const{isAuthenticated:i}=jr.getState();if(!i)return Re.error("Please login to delete an address"),!1;try{return r({isLoading:!0,error:null}),await or.delete(`/users/addresses/delete/${s}/`),r(b=>({addresses:b.addresses.filter(v=>v.id!==s),isLoading:!1})),Re.success("Address deleted successfully"),!0}catch(b){return console.error("Error deleting address:",b),r({isLoading:!1,error:((h=(l=b.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to delete address"}),Re.error(((g=(m=b.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to delete address"),!1}},setDefaultAddress:async s=>{var l,h,m,g;const{isAuthenticated:i}=jr.getState();if(!i)return Re.error("Please login to set default address"),!1;try{return r({isLoading:!0,error:null}),await or.post(`/users/addresses/set-default/${s}/`),r(b=>({addresses:b.addresses.map(v=>({...v,isDefault:v.id===s,is_default:v.id===s})),isLoading:!1})),Re.success("Default address updated"),!0}catch(b){return console.error("Error setting default address:",b),r({isLoading:!1,error:((h=(l=b.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to set default address"}),Re.error(((g=(m=b.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to set default address"),!1}},getAddressById:s=>t().addresses.find(i=>i.id===s)||null,getDefaultAddress:()=>t().addresses.find(s=>s.isDefault)||(t().addresses.length>0?t().addresses[0]:null),clearError:()=>r({error:null})})),rA=(r,t,s)=>(console.log("Initiating Razorpay payment with data:",r),window.Razorpay?!r.key_id||!r.amount||!r.razorpay_order_id?(console.error("Missing required Razorpay data:",r),Re.error("Invalid payment configuration. Please try again."),Promise.reject("Invalid razorpay data")):new Promise((i,l)=>{const h={key:r.key_id,amount:r.amount,currency:r.currency||"INR",order_id:r.razorpay_order_id,name:"Anand Mobiles",description:"Purchase of products",image:"/logo.jpg",handler:function(m){console.log("Payment successful, response:",m);const g={razorpay_payment_id:m.razorpay_payment_id,razorpay_order_id:m.razorpay_order_id,razorpay_signature:m.razorpay_signature,order_id:r.app_order_id};or.post("/users/order/razorpay/verify/",g).then(b=>{console.log("Payment verified successfully:",b.data),t&&t(b.data),i(b.data)}).catch(b=>{console.error("Payment verification failed:",b),s&&s(b),l(b)})},prefill:{},notes:{order_id:r.app_order_id},theme:{color:"#3399cc"},modal:{ondismiss:function(){console.log("Payment modal dismissed by user"),s&&s({message:"Payment cancelled by user"}),l({message:"Payment cancelled by user"})}}};console.log("Opening Razorpay modal with options:",h);try{const m=new window.Razorpay(h);m.on("payment.failed",function(g){console.error("Payment failed:",g.error),s&&s(g.error),l(g.error)}),m.open(),console.log("Razorpay modal opened successfully")}catch(m){console.error("Error initiating Razorpay:",m),Re.error("Failed to open payment gateway. Please try again."),s&&s(m),l(m)}}):(console.error("Razorpay SDK is not loaded"),Re.error("Payment gateway not available. Please try again later."),Promise.reject("Razorpay SDK not loaded"))),pg=un(r=>({orders:[],currentOrder:null,isLoading:!1,isProcessingPayment:!1,paymentSuccessful:!1,error:null,initiatePayment:t=>rA(t,s=>{r(i=>({orders:i.orders.map(l=>l.id===t.app_order_id?{...l,status:"paid",payment_details:s}:l),paymentSuccessful:!0})),Re.success("Payment successful!"),setTimeout(()=>{r({paymentSuccessful:!1})},1e3)},s=>{Re.error("Payment failed. Please try again."),console.error("Payment error:",s)}),fetchOrders:async()=>{var t,s,i,l;try{r({isLoading:!0,error:null});const m=(await or.get("/users/orders/")).data.orders||[];return r({orders:m,isLoading:!1}),m}catch(h){return console.error("Error fetching orders:",h),r({isLoading:!1,error:((s=(t=h.response)==null?void 0:t.data)==null?void 0:s.detail)||((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch orders"}),[]}},placeOrderFromCart:async t=>{var s,i,l,h;try{r({isProcessingPayment:!0,error:null}),console.log("Starting placeOrderFromCart with addressId:",t);const m=eh.getState().items;if(console.log("Cart items:",m),!m||m.length===0)return Re.error("Your cart is empty"),r({isProcessingPayment:!1}),null;const g=Math.round(m.reduce((_,S)=>_+S.price*S.quantity,0)*100),b={address_id:t,amount:g,currency:"INR",product_ids:m.map(_=>_.item_id)};console.log("Order data being sent:",b);const v=await or.post("/users/order/razorpay/create/",b);console.log("API response:",v.data);const k=v.data;if(!k.key_id||!k.razorpay_order_id||!k.amount)return console.error("Invalid razorpay data received:",k),Re.error("Invalid payment configuration received from server"),r({isProcessingPayment:!1}),null;const C={id:k.app_order_id,razorpay_order_id:k.razorpay_order_id,status:"pending_payment"};return r(_=>({orders:[C,..._.orders],currentOrder:C})),console.log("Initiating Razorpay payment..."),await rA(k,async _=>{console.log("Payment successful:",_),r(S=>({orders:S.orders.map(T=>T.id===k.app_order_id?{...T,status:"paid",payment_details:_}:T),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{r({paymentSuccessful:!1})},1e3),Re.success("Payment successful! Order placed successfully.")},_=>{console.error("Payment error:",_),r({isProcessingPayment:!1}),_.message==="Payment cancelled by user"?Re.error("Payment was cancelled"):Re.error("Payment failed. Please try again.")}),C}catch(m){return console.error("Error placing order:",m),r({isProcessingPayment:!1,error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to place order"}),Re.error("Failed to place order. Please try again."),null}},placeSingleProductOrder:async(t,s,i)=>{var l,h,m,g;try{if(r({isProcessingPayment:!0,error:null}),console.log("Starting placeSingleProductOrder with:",{product:t,quantity:s,addressId:i}),!t)return Re.error("Product information is missing"),r({isProcessingPayment:!1}),null;const b=Math.round(t.price*s*100),v={address_id:i,amount:b,currency:"INR",product_ids:[t.id],single_product_order:!0,product_details:{product_id:t.id,quantity:s,variant_id:t.variant_id||null}};console.log("Single product order data being sent:",v);const k=await or.post("/users/order/razorpay/create/",v);console.log("Single product API response:",k.data);const C=k.data;if(!C.key_id||!C.razorpay_order_id||!C.amount)return console.error("Invalid razorpay data received for single product:",C),Re.error("Invalid payment configuration received from server"),r({isProcessingPayment:!1}),null;const _={id:C.app_order_id,razorpay_order_id:C.razorpay_order_id,status:"pending_payment"};return r(S=>({orders:[_,...S.orders],currentOrder:_})),console.log("Initiating Razorpay payment for single product..."),await rA(C,async S=>{console.log("Single product payment successful:",S),r(T=>({orders:T.orders.map(R=>R.id===C.app_order_id?{...R,status:"paid",payment_details:S}:R),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{r({paymentSuccessful:!1})},1e3),Re.success("Payment successful! Order placed successfully.")},S=>{console.error("Single product payment error:",S),r({isProcessingPayment:!1}),S.message==="Payment cancelled by user"?Re.error("Payment was cancelled"):Re.error("Payment failed. Please try again.")}),_}catch(b){return console.error("Error placing single product order:",b),r({isProcessingPayment:!1,error:((h=(l=b.response)==null?void 0:l.data)==null?void 0:h.detail)||((g=(m=b.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to place order"}),Re.error("Failed to place order. Please try again."),null}},getOrderById:async t=>{var s,i,l,h;try{r({isLoading:!0,error:null});const g=(await or.get(`/users/orders/${t}/`)).data.order_details;return console.log("Fetched order:",g),r({currentOrder:g,isLoading:!1}),g}catch(m){return console.error("Error fetching order:",m),r({isLoading:!1,error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch order"}),null}},cancelOrder:async t=>{var s,i,l,h;try{return r({isLoading:!0,error:null}),await or.post(`/users/orders/${t}/cancel/`),r(m=>({orders:m.orders.map(g=>g.id===t?{...g,status:"cancelled"}:g),isLoading:!1})),Re.success("Order cancelled successfully"),!0}catch(m){return console.error("Error cancelling order:",m),r({isLoading:!1,error:((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.detail)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to cancel order"}),Re.error("Failed to cancel order"),!1}},clearError:()=>r({error:null})})),Woe=({isOpen:r,onClose:t,product:s=null,quantity:i=1})=>{const l=ns(),{isAuthenticated:h}=jr(),{items:m,totalAmount:g}=eh(),{placeOrderFromCart:b,placeSingleProductOrder:v,isProcessingPayment:k,paymentSuccessful:C}=pg(),{addresses:_,fetchAddresses:S,isLoading:T}=x6(),[R,P]=O.useState(null),V=!s,U=V?m:[{...s,quantity:i}],F=V?g:(s==null?void 0:s.price)*i,se=F+0+0;O.useEffect(()=>{if(r&&h){if(!window.Razorpay){console.error("Razorpay SDK not loaded when checkout opened"),Re.error("Payment gateway not available. Please refresh and try again.");return}console.log("Razorpay SDK is available:",!!window.Razorpay),S()}},[r,h]),O.useEffect(()=>{var Y;if(_.length>0&&!R){const J=_.find(K=>K.isDefault);P((J==null?void 0:J.id)||((Y=_[0])==null?void 0:Y.id))}},[_,R]),O.useEffect(()=>{C&&r&&(console.log("Payment successful, closing checkout modal"),setTimeout(()=>{t()},1e3))},[C,r,t]);const Q=async()=>{if(console.log("handlePlaceOrder called",{isAuthenticated:h,selectedAddressId:R}),!h){Re.error("Please login to place order"),l("/login");return}if(!R){Re.error("Please select a delivery address");return}try{console.log("Attempting to place order...",{isCartOrder:V,product:s,quantity:i,selectedAddressId:R});let Y;V?(console.log("Placing cart order..."),Y=await b(R)):(console.log("Placing single product order..."),Y=await v(s,i,R)),console.log("Order placement result:",Y),console.log(Y?"Order placed successfully, waiting for payment completion...":"Order placement failed - no result returned")}catch(Y){console.error("Order placement failed:",Y),Re.error("Failed to place order. Please try again.")}},B=Y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Y);return r?n.jsx(Sj,{isOpen:r,onClose:t,size:"2xl",closeOnBackdropClick:!k,className:"animate-fadeIn w-11/12 max-w-5xl",children:n.jsxs("div",{className:"relative w-full",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[n.jsxs("div",{className:"relative px-8 py-8 text-center overflow-hidden",style:{background:"linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-hover) 100%)",color:"var(--text-on-brand)"},children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-10 transform translate-x-8 -translate-y-8",children:n.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full opacity-10 transform -translate-x-4 translate-y-4",children:n.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"p-4 rounded-full transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:n.jsx(el,{className:"text-3xl"})})}),n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Complete Your Order"}),n.jsx("p",{className:"text-lg opacity-90",children:"Review your order details and complete the secure checkout"}),n.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-100"}),n.jsx("div",{className:"w-8 h-1 bg-white opacity-60 rounded-full"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-60"}),n.jsx("div",{className:"w-8 h-1 bg-white opacity-30 rounded-full"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-30"})]})]})]}),n.jsx("div",{className:"p-6 md:p-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",style:{animation:"slideInLeft 0.6s ease-out"},children:[n.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-8",children:[n.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:n.jsx(el,{className:"text-xl"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Order Summary"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[U.length," item",U.length>1?"s":"","in your order"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[U.map((Y,J)=>n.jsxs("div",{className:`group/item flex items-center justify-between p-6 rounded-xl transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] ${J<U.length-1?"border-b-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden mr-6 group-hover/item:shadow-lg transition-shadow duration-300",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",border:"2px solid var(--border-primary)"},children:[n.jsx("img",{src:Y.image,alt:Y.name,className:"w-full h-full object-cover group-hover/item:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold mb-2 text-lg group-hover:item:text-opacity-80 transition-all duration-300",style:{color:"var(--text-primary)"},children:Y.name}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"text-sm px-4 py-2 rounded-full font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:["Qty: ",Y.quantity]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Xr,{className:"text-yellow-400 mr-1",size:14}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"4.5"})]})]})]})]}),n.jsxs("div",{className:"text-right ml-4",children:[n.jsx("p",{className:"font-bold text-xl mb-1 group-hover:item:scale-105 transition-transform duration-300",style:{color:"var(--brand-primary)"},children:B(Y.price*Y.quantity)}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[B(Y.price)," each"]})]})]},Y.id)),n.jsx("div",{className:"p-6 rounded-xl border-2",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)",background:"linear-gradient(145deg, var(--bg-accent-light) 0%, rgba(255, 255, 255, 0.8) 100%)"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(N9,{className:"mr-3 text-2xl",style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Total Amount"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Including all taxes"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--brand-primary)"},children:B(se)}),n.jsxs("div",{className:"flex items-center justify-end mt-1",children:[n.jsx(Lr,{className:"mr-1 text-green-500",size:14}),n.jsx("span",{className:"text-sm font-medium text-green-500",children:"FREE Delivery"})]})]})]})})]})]}),n.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:n.jsx(vn,{className:"text-xl"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Delivery Address"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose where you want your order delivered"})]})]})}),T?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("div",{className:"p-4 rounded-full mb-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Si,{className:"animate-spin",size:32})}),n.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Loading addresses..."}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Please wait while we fetch your saved addresses"})]}):_.length>0?n.jsx("div",{className:"space-y-4",children:_.map(Y=>n.jsx("div",{className:`group/addr p-6 rounded-xl cursor-pointer transition-all duration-300 border-2 transform ${R===Y.id?"shadow-lg scale-[1.02] border-2":"hover:shadow-md hover:scale-[1.01]"}`,style:{backgroundColor:R===Y.id?"var(--bg-accent-light)":"var(--bg-primary)",borderColor:R===Y.id?"var(--brand-primary)":"var(--border-primary)",boxShadow:R===Y.id?"0 10px 25px -5px rgba(245, 158, 11, 0.25)":"0 4px 15px rgba(0, 0, 0, 0.05)"},onClick:()=>P(Y.id),children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center mr-6 mt-1",children:n.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${R===Y.id?"border-2 scale-110":"group-hover/addr:scale-105"}`,style:{borderColor:R===Y.id?"var(--brand-primary)":"var(--border-secondary)",backgroundColor:R===Y.id?"var(--brand-primary)":"transparent"},children:R===Y.id&&n.jsx(rs,{className:"text-sm animate-fadeIn",style:{color:"var(--text-on-brand)"}})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("div",{className:"flex items-center mr-4",children:[n.jsx(Ds,{className:"mr-2 text-lg",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:Y.name})]}),Y.isDefault&&n.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full transform group-hover/addr:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--success-color)",color:"white"},children:" Default"})]}),n.jsxs("div",{className:"flex items-start mb-3",children:[n.jsx(vn,{className:"mr-3 mt-1 text-lg flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[Y.address,", ",Y.city,",",Y.state," - ",Y.pincode]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sa,{className:"mr-3 text-lg",style:{color:"var(--brand-primary)"}}),n.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-secondary)"},children:Y.phone})]})]}),R===Y.id&&n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"p-2 rounded-full animate-fadeIn",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:n.jsx(rs,{className:"text-lg"})})})]})},Y.id))}):n.jsxs("div",{className:"text-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:n.jsx(vn,{size:40,style:{color:"var(--text-secondary)"}})}),n.jsx("p",{className:"mb-4 text-xl font-bold",style:{color:"var(--text-primary)"},children:"No addresses found"}),n.jsx("p",{className:"mb-8 text-base",style:{color:"var(--text-secondary)"},children:"Add a delivery address from profile section to continue with your order"})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"rounded-xl p-6 border sticky top-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(na,{className:"text-lg"})}),n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Payment"})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--brand-primary)"},children:n.jsx(rs,{className:"text-xs",style:{color:"var(--text-on-brand)"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Razorpay"}),n.jsx(Sk,{className:"ml-2 text-sm",style:{color:"var(--success-color)"}})]}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secure payment with UPI, Cards, Net Banking"})]})]})})}),n.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Subtotal:"}),n.jsx("span",{style:{color:"var(--text-primary)"},children:B(F)})]}),n.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Total:"}),n.jsx("span",{className:"font-bold text-xl",style:{color:"var(--brand-primary)"},children:B(se)})]})]})}),n.jsx(tt,{onClick:Q,disabled:!R||k,className:"w-full transition-transform hover:scale-105 duration-300 mb-2",size:"lg",style:{backgroundColor:!R||k?"var(--text-secondary)":"var(--brand-primary)",color:"var(--text-on-brand)"},icon:k?n.jsx(Si,{className:"animate-spin"}):n.jsx(Eee,{}),children:k?"Processing Payment...":"Place Order"}),n.jsx("button",{onClick:t,className:"w-full py-2 mt-2 text-center font-medium transition-all duration-300 rounded-lg hover:bg-opacity-10",style:{color:"var(--brand-primary)",backgroundColor:"transparent",border:"1px solid var(--brand-primary)"},disabled:k,children:"Continue Shopping"}),n.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",border:"1px solid var(--border-primary)"},children:[n.jsx(Sk,{className:"mr-2 flex-shrink-0",style:{color:"var(--success-color)"}}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Your payment information is secure and encrypted"})]})]})})]})})]})}):null},Koe=()=>{const{items:r,totalAmount:t,fetchCart:s,updateQuantity:i,removeItem:l}=eh(),{isAuthenticated:h}=jr(),{paymentSuccessful:m}=pg(),[g,b]=O.useState(!1);O.useEffect(()=>{h&&s()},[h]),O.useEffect(()=>{m&&(console.log("Payment successful, refetching cart data"),setTimeout(()=>{s(),console.log("Cart data refetched after successful payment")},500))},[m]);const v=t,k=0,C=0,_=v+k+C,S=()=>{b(!0)},T=()=>{b(!1),s()},R=[{label:"Home",link:Et.HOME},{label:"Shopping Cart"}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(j1,{items:R}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Shopping Cart"}),r.length===0?n.jsx(Goe,{}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(qoe,{cartItems:r,updateQuantity:i,removeItem:l}),n.jsx(Yoe,{subtotal:v,tax:k,shipping:C,total:_,onCheckout:S})]}),n.jsx(Woe,{isOpen:g,onClose:T})]})})},Qoe=()=>{const{items:r,fetchWishlist:t,removeItem:s}=N1(),{addItem:i}=eh(),{isAuthenticated:l}=jr();O.useEffect(()=>{l&&t()},[l]);const h=async g=>{await s(g)&&Doe()},m=async g=>{await i(g,1)&&w2(g.name)};return n.jsx("div",{className:"min-h-screen py-8",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("nav",{className:"flex items-center text-sm mb-6",children:[n.jsx(rt,{to:Et.HOME,className:"hover:underline transition-colors duration-200",style:{color:"var(--text-secondary)"},children:"Home"}),n.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"/"}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"My Wishlist"})]}),n.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"My Wishlist"}),r.length===0?n.jsxs("div",{className:"rounded-lg p-8 text-center transition-shadow duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-6",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsx(ag,{className:"h-10 w-10",style:{color:"var(--brand-primary)"}})}),n.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Your wishlist is empty"}),n.jsx("p",{className:"mb-8",style:{color:"var(--text-secondary)"},children:"Save items you like to your wishlist and they'll appear here"}),n.jsx(rt,{to:Et.PRODUCTS,children:n.jsx(tt,{variant:"primary",fullWidth:!1,className:"px-6",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)","&:hover":{backgroundColor:"var(--brand-primary-hover)"}},children:"Continue Shopping"})})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(g=>n.jsx("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-white p-2 rounded-md flex items-center justify-center",style:{boxShadow:"var(--shadow-small)"},children:n.jsx("img",{src:g.image,alt:g.name,className:"h-24 w-24 object-contain"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:g.category}),n.jsx(rt,{to:`/products/${g.id}`,className:"font-medium hover:underline line-clamp-2",style:{color:"var(--text-primary)"},children:g.name}),n.jsxs("p",{className:"font-bold mt-1 text-lg",style:{color:"var(--brand-primary)"},children:["",g.price?g.price.toLocaleString():"N/A"]})]}),n.jsx("button",{onClick:()=>h(g.item_id),className:"p-2 rounded-full transition-colors hover:bg-gray-100",style:{color:"var(--text-secondary)"},"aria-label":"Remove from wishlist",children:n.jsx(cn,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"mt-4",children:[g.stock!==0?n.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--success-color)"},children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--success-color)"}}),"In Stock"]}):n.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--error-color)"},children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--error-color)"}}),"Out of Stock"]}),n.jsx(tt,{fullWidth:!0,onClick:()=>m(g),disabled:g.stock===0,icon:n.jsx(lg,{}),style:{backgroundColor:g.stock!==0?"var(--brand-primary)":"var(--bg-secondary)",color:g.stock!==0?"var(--text-on-brand)":"var(--text-secondary)",cursor:g.stock!==0?"pointer":"not-allowed"},children:"Add to Cart"})]})]})]})})},g.id))})]})})},Joe=({isOpen:r,onClose:t,orderId:s})=>{const{getOrderById:i,isLoading:l}=pg(),[h,m]=O.useState(null);if(O.useEffect(()=>{const C=_=>{_.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",C),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",C),document.body.style.overflow="unset"}},[r,t]),O.useEffect(()=>{r&&s&&(console.log("Modal opened for order:",s),(async()=>{try{const _=await i(s);console.log("Fetched order details:",_),m(_)}catch(_){console.error("Error fetching order details:",_)}})())},[r,s]),console.log("Modal render - isOpen:",r,"orderId:",s),!r)return null;const g=(C,_="INR")=>_==="INR"?`${C==null?void 0:C.toLocaleString()}`:`${C} ${_}`,b=C=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[C]||C,v=C=>({pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)"})[C]||"var(--brand-primary)",k=C=>{C.target===C.currentTarget&&t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:k,children:n.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:C=>C.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(vt,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",s]})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:l?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]}):h?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(rn,{className:"mr-2",style:{color:v(h.status)}}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Status:"})]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:`${v(h.status)}20`,color:v(h.status)},children:b(h.status)})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Order Summary"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Order Date"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:new Date(h.created_at).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Amount"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:g(h.total_amount,h.currency)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Payment Method"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(na,{className:"mr-1"}),n.jsx("span",{style:{color:"var(--text-primary)"},children:h.payment_method||"Online Payment"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Items Count"}),n.jsxs("p",{style:{color:"var(--text-primary)"},children:[h.item_count," item(s)"]})]})]})]}),h.invoice&&h.invoice.invoice_pdf_url&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Invoice"}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ji,{className:"mr-2",style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",h.invoice.invoice_id]}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Download your order invoice"})]})]}),n.jsxs("a",{href:h.invoice.invoice_pdf_url,download:`Invoice_${h.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-md text-white font-medium transition-colors duration-200 hover:opacity-90 flex items-center",style:{backgroundColor:"var(--brand-primary)"},onClick:()=>{setTimeout(()=>{console.log("Invoice download initiated")},100)},children:[n.jsx(ji,{className:"mr-2",size:16}),"Download Invoice"]})]})})]}),h.items&&h.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Ordered Items"}),n.jsx("div",{className:"space-y-3",children:h.items.map((C,_)=>n.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[C.image&&n.jsx("img",{src:C.image,alt:C.name,className:"w-16 h-16 object-cover rounded-md mr-3",onError:S=>{S.target.style.display="none"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Quantity: ",C.quantity]}),n.jsx("p",{className:"text-sm font-medium text-green-600",children:g(C.price)})]})]},_))})]}),h.shipping_address&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Delivery Address"}),n.jsxs("div",{className:"p-3 rounded-lg flex items-start",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(vn,{className:"mr-2 mt-1",style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-primary)"},children:h.shipping_address.street_address}),n.jsxs("p",{style:{color:"var(--text-secondary)"},children:[h.shipping_address.city,",",h.shipping_address.state,h.shipping_address.postal_code]})]})]})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Unable to load order details. Please try again."})})})]})})},Xoe=({isOpen:r,onClose:t,product:s})=>{const[i,l]=O.useState(0),[h,m]=O.useState(""),[g,b]=O.useState(0),{addReview:v,reviewLoading:k,reviewError:C,clearReviewError:_}=sc(),{isAuthenticated:S,user:T}=jr();O.useEffect(()=>{const V=U=>{U.key==="Escape"&&r&&t()};return r&&(document.addEventListener("keydown",V),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",V),document.body.style.overflow="unset"}},[r,t]),O.useEffect(()=>{r&&(l(0),m(""),b(0),_())},[r,_]);const R=async V=>{if(V.preventDefault(),!S){Re.error("Please log in to write a review");return}if(!s){Re.error("Product information not available");return}if(i===0){Re.error("Please select a rating");return}_();const U={rating:i,comment:h.trim(),verified_purchase:!0,order_id:s.orderId,purchase_date:s.orderDate},F=s.productId||s.id,q=await v(F,U);q.success?(l(0),m(""),b(0),Re.success("Review submitted successfully!"),t()):Re.error(q.error||"Failed to submit review. Please try again.")},P=V=>{V.target===V.currentTarget&&t()};return!r||!s?null:n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)"},onClick:P,children:n.jsxs("div",{className:"relative max-w-lg w-full max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl animate-slideIn",style:{backgroundColor:"var(--bg-primary)"},onClick:V=>V.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Xr,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"p-4 border-b",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[s.image&&n.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-lg mr-3",onError:V=>{V.target.style.display="none"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:s.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",s.orderId]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(vt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),n.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),n.jsxs("form",{onSubmit:R,className:"p-6",children:[C&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:C}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(V=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>b(V),onMouseLeave:()=>b(0),onClick:()=>l(V),children:n.jsx(Xr,{className:`w-8 h-8 transition-colors duration-200 ${V<=(g||i)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},V))}),i>0&&n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[i," out of 5 stars"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:h,onChange:V=>m(V.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"},maxLength:1e3}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[h.length,"/1000 characters"]}),T&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",T.name||T.email]})]}),n.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:n.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[n.jsx(vt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:k||i===0,className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:k?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})},$oe=r=>{if(!r)return null;try{const t=new Date(r);if(!isNaN(t.getTime()))return t;const s=/^(\d{2})\/(\d{2})\/(\d{4}) at (\d{1,2}):(\d{2}) (AM|PM)$/;let i=r.match(s);if(i){const[,m,g,b,v,k,C]=i;let _=parseInt(v);return C==="PM"&&_!==12?_+=12:C==="AM"&&_===12&&(_=0),new Date(b,m-1,g,_,k)}const l=/^(\d{1,2})\/(\d{1,2})\/(\d{4}) at (\d{1,2}):(\d{2}) (AM|PM)$/;if(i=r.match(l),i){const[,m,g,b,v,k,C]=i;let _=parseInt(v);return C==="PM"&&_!==12?_+=12:C==="AM"&&_===12&&(_=0),new Date(b,m-1,g,_,k)}const h=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.(\d{3})Z$/;return i=r.match(h),i?new Date(r):new Date(r)}catch(t){return console.error("Error parsing date:",r,t),null}},Zoe=r=>{if(!r)return"";const t=typeof r=="string"?$oe(r):r;return!t||isNaN(t.getTime())?"Invalid Date":{date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},eie={pending_payment:n.jsx(rn,{}),payment_successful:n.jsx(qn,{}),order_confirmed:n.jsx(vt,{}),processing:n.jsx(vt,{}),packed:n.jsx(Hu,{}),shipped:n.jsx(Lr,{}),out_for_delivery:n.jsx(vn,{}),delivered:n.jsx(qn,{}),cancelled:n.jsx(Lx,{}),Ordered:n.jsx(Hu,{}),Packed:n.jsx(vt,{}),Shipped:n.jsx(Lr,{}),"Out for Delivery":n.jsx(vn,{}),Delivered:n.jsx(qn,{})},nA={pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",packed:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},tie=r=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[r]||r,sA=r=>r.tracking_info&&r.tracking_info.status_history&&r.tracking_info.status_history.length>0?[...r.tracking_info.status_history].sort((s,i)=>new Date(i.timestamp)-new Date(s.timestamp))[0].status:r.status,rie=(r,t="INR")=>t==="INR"?`${r==null?void 0:r.toLocaleString()}`:`${r} ${t}`,nie=({orders:r})=>{const[t,s]=O.useState(null),[i,l]=O.useState(null),[h,m]=O.useState(!1),{initiatePayment:g,isProcessingPayment:b}=pg(),v=(T,R)=>{T.preventDefault(),T.stopPropagation(),console.log("Opening modal for order:",R),Re.info(`Opening modal for order: ${R}`),s(R)},k=()=>{s(null)},C=(T,R,P)=>{if(T.preventDefault(),T.stopPropagation(),sA(P)!=="delivered"){Re.error("You can only review products from delivered orders");return}console.log("Opening review modal for product:",R),l({...R,orderId:P.order_id,orderDate:P.created_at}),m(!0)},_=()=>{m(!1),l(null)},S=async(T,R)=>{if(T.preventDefault(),T.stopPropagation(),sA(R)!=="pending_payment"){Re.error("Payment can only be retried for pending payment orders");return}try{R.payment_data?await g(R.payment_data):Re.error("Payment information not available. Please contact support.")}catch(V){console.error("Error retrying payment:",V),Re.error("Failed to retry payment. Please try again.")}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:r.map(T=>{const R=sA(T);return n.jsx("div",{className:"group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:n.jsxs(rt,{to:`/order-tracking/${T.order_id}`,className:"flex items-center justify-between p-4",style:{textDecoration:"none"},children:[n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx("div",{className:"h-12 w-12 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:nA[R]||"var(--brand-primary)",color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:eie[R]||n.jsx(Hu,{})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",T.order_id]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsxs("div",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"mr-1",children:"Status:"}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${nA[R]||"var(--brand-primary)"}20`,color:nA[R]||"var(--brand-primary)",fontWeight:600},children:tie(R)})]}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"hidden sm:inline mx-2",children:""}),"Placed:",(()=>{const P=Zoe(T.created_at);return`${P.date} at ${P.time}`})()]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm",children:[n.jsxs("div",{style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium",children:"Amount:"}),n.jsx("span",{className:"text-green-600 font-semibold",children:rie(T.total_amount,T.currency)})]}),n.jsxs("div",{style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium",children:"Items:"}),T.item_count]})]}),T.items&&T.items.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[T.items.slice(0,2).map((P,V)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50",children:[n.jsxs("div",{className:"flex items-center",children:[P.image&&n.jsx("img",{src:P.image,alt:P.name,className:"w-8 h-8 object-cover rounded mr-2",onError:U=>{U.target.style.display="none"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium truncate max-w-40",style:{color:"var(--text-primary)"},children:P.name}),n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Qty: ",P.quantity]})]})]}),R==="delivered"&&n.jsxs("button",{onClick:U=>C(U,P,T),className:"flex items-center px-2 py-1 rounded text-xs font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[n.jsx(Xr,{size:12,className:"mr-1"}),"Review"]})]},V)),T.items.length>2&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["+",T.items.length-2," more items..."]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[R==="pending_payment"&&n.jsxs("button",{onClick:P=>S(P,T),disabled:b,className:"flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 hover:bg-orange-50 disabled:opacity-50",style:{color:"var(--warning-color)",border:"1px solid var(--warning-color)"},title:"Retry Payment",children:[n.jsx(na,{size:12,className:"mr-1"}),b?"Processing...":"Retry Payment"]}),n.jsx("button",{onClick:P=>v(P,T.order_id),className:"p-2 rounded-full hover:bg-blue-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Details",children:n.jsx(Di,{size:16})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2 text-sm font-medium hidden md:block",style:{color:"var(--brand-primary)"},children:"Track Order"}),n.jsx("div",{className:"bg-gray-100 p-2 rounded-full group-hover:bg-orange-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},children:n.jsx(Pn,{className:"text-lg"})})]})]})]})},T.order_id)})}),n.jsx(Joe,{isOpen:!!t,onClose:k,orderId:t}),n.jsx(Xoe,{isOpen:h,onClose:_,product:i}),t&&n.jsxs("div",{style:{display:"none"},children:["Selected Order ID: ",t]})]})},sie=()=>{const{fetchOrders:r,orders:t,isLoading:s,error:i}=pg();return O.useEffect(()=>{r()},[]),console.log("OrderStatusPage rendered",t),n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(rt,{to:"/",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(id,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Home"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(vt,{size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"My Orders"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Track your recent orders and see their status in real-time."})]})]}),n.jsxs("button",{onClick:()=>r(),disabled:s,className:"flex items-center px-4 py-2 rounded-lg transition-all duration-200 hover:bg-gray-100 disabled:opacity-50",style:{color:"var(--brand-primary)",border:"1px solid var(--border-primary)"},title:"Refresh orders",children:[n.jsx(Mi,{className:`mr-2 ${s?"animate-spin":""}`,size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center",style:{backgroundColor:"var(--bg-accent-light)"},children:n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Tip:"})," Click on any order to view detailed tracking information."]})})]}),n.jsx("div",{className:"p-6",children:s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading your orders..."})]}):i?n.jsxs("div",{className:"text-center py-12",style:{color:"var(--error-color)"},children:[n.jsx(Hu,{className:"mx-auto mb-4",size:40}),n.jsx("p",{className:"font-medium",children:"Error loading orders"}),n.jsx("p",{className:"text-sm",children:i}),n.jsx("button",{onClick:()=>r(),className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]}):t.length>0?n.jsx(nie,{orders:t}):n.jsxs("div",{className:"text-center py-12",style:{color:"var(--text-secondary)"},children:[n.jsx(Hu,{className:"mx-auto mb-4",size:40}),n.jsx("p",{className:"font-medium",children:"You don't have any orders yet"}),n.jsx(rt,{to:"/products",className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Start Shopping"})]})})]})]})})})},oie={"Pending Payment":n.jsx(rn,{size:18}),"Payment Successful":n.jsx(na,{size:18}),Assigned:n.jsx(Ds,{size:18}),Processing:n.jsx(nx,{size:18}),Ordered:n.jsx(Hu,{size:18}),Packed:n.jsx(vt,{size:18}),Shipped:n.jsx(Lr,{size:18}),"Out for Delivery":n.jsx(vn,{size:18}),Delivered:n.jsx(qn,{size:18})},Nw={"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},v6=({timeline:r,currentStatus:t})=>{const s=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];return n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5",style:{background:"var(--border-primary)"}}),n.jsx("div",{className:"absolute left-5 top-5 w-0.5 transition-all duration-1000 ease-out",style:{background:"linear-gradient(to bottom, var(--success-color), var(--brand-primary))",height:`${Math.min(r.filter((i,l)=>{const h=s.indexOf(r[l].status),m=s.indexOf(t);return h<m||r[l].date}).length/r.length*100,100)}%`}}),n.jsx("div",{className:"space-y-8",children:r.map((i,l)=>{const h=i.status===t,m=s.indexOf(t),g=s.indexOf(i.status),b=i.date||g<m&&m!==-1,v=!b&&!h;return n.jsxs("div",{className:"flex items-start relative animate-fadeIn",style:{animationDelay:`${l*100}ms`,animationFillMode:"both"},children:[n.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full z-10 transition-all duration-300",style:{backgroundColor:b||h?Nw[i.status]||"var(--success-color)":"var(--bg-primary)",color:b||h?"var(--text-on-brand)":"var(--text-secondary)",border:v?"2px solid var(--border-primary)":"none",boxShadow:h?"0 0 0 4px rgba(99, 102, 241, 0.1), var(--shadow-medium)":b?"0 0 0 2px rgba(34, 197, 94, 0.1), var(--shadow-small)":"var(--shadow-small)",transform:h?"scale(1.1)":"scale(1)"},children:b&&!h?n.jsx(qn,{size:18}):oie[i.status]||n.jsx(vt,{size:18})}),n.jsxs("div",{className:"ml-6 pb-2",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[n.jsx("div",{className:"font-semibold text-base",style:{color:h?Nw[i.status]:b?"var(--text-primary)":"var(--text-secondary)"},children:i.status}),i.date?n.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:n.jsxs("span",{style:{color:"var(--text-secondary)"},children:[new Date(i.date).toLocaleDateString()," at",new Date(i.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}):b?n.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Completed"})}):null]}),h&&n.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${Nw[i.status]}20`,color:Nw[i.status]},children:"Current Status"}),v&&n.jsx("div",{className:"mt-1 text-xs font-medium italic",style:{color:"var(--text-secondary)"},children:"Pending"}),n.jsx("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:i.description?i.description:n.jsxs(n.Fragment,{children:[i.status==="Pending Payment"&&b&&"Payment confirmation is being processed.",i.status==="Payment Successful"&&b&&"Payment has been received and confirmed.",i.status==="Assigned"&&b&&"Order has been assigned to a delivery partner.",i.status==="Processing"&&b&&"Your order is being prepared for shipping.",i.status==="Ordered"&&b&&"Your order has been received and is being processed.",i.status==="Packed"&&b&&"Your items have been carefully packed and are ready for shipping.",i.status==="Shipped"&&b&&"Your package is on its way to you.",i.status==="Out for Delivery"&&b&&"Your package will be delivered today.",i.status==="Delivered"&&b&&"Your package has been delivered. Enjoy!"]})})]})]},i.status)})})]})},iie=()=>{const[r,t]=O.useState(!1),[s,i]=O.useState(null),[l,h]=O.useState(0),[m,g]=O.useState(""),[b,v]=O.useState(0),[k,C]=O.useState(new Set),{addReview:_,reviewLoading:S,reviewError:T,clearReviewError:R}=sc(),{isAuthenticated:P,user:V}=jr(),U={id:"ORD123456",status:"Delivered",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:"2025-05-14T14:30:00Z"}],estimatedDelivery:"2025-05-14",orderItems:[{id:1,productId:1,name:"iPhone 15 Pro",brand:"Apple",model:"A3101",image:"/mobile1.png",price:99999,quantity:1,orderId:"ORD123456",orderDate:"2025-05-10T10:00:00Z",hasReviewed:!1},{id:2,productId:2,name:"AirPods Pro",brand:"Apple",model:"A2931",image:"/accessories.png",price:24999,quantity:1,orderId:"ORD123456",orderDate:"2025-05-10T10:00:00Z",hasReviewed:!1}]},F=se=>{const Q=se.productId||se.id;if(k.has(Q)||se.hasReviewed){Re.info("You have already reviewed this product");return}i(se),t(!0),h(0),g(""),v(0),R()},q=()=>{t(!1),i(null),h(0),g(""),v(0)},ne=async se=>{if(se.preventDefault(),!P){Re.error("Please log in to write a review");return}if(!s){Re.error("Product information not available");return}if(l===0){Re.error("Please select a rating");return}const Q=s.productId||s.id;if(k.has(Q)||s.hasReviewed){Re.error("You have already reviewed this product"),q();return}R();const B={rating:l,comment:m.trim(),verified_purchase:!0,order_id:s.orderId,purchase_date:s.orderDate},Y=await _(Q,B);Y.success?(Re.success("Review submitted successfully!"),C(J=>new Set([...J,Q])),q()):Re.error(Y.error||"Failed to submit review. Please try again.")};return n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(rt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(id,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(vt,{size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Track Your Order"}),n.jsxs("p",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium mr-1",children:"Order ID:"}),n.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",style:{color:"var(--text-primary)"},children:U.id})]})]})]}),n.jsxs("div",{className:"hidden md:block text-right",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"text-xs",children:"Current Status"}),n.jsx("div",{className:"font-semibold mt-1 px-3 py-1 rounded-full text-sm inline-block",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:U.status})]})]}),n.jsxs("div",{className:"mt-6 p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--text-primary)"},children:[n.jsx(ei,{className:"mr-3",size:20,style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Estimated Delivery"}),n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:new Date(U.estimatedDelivery).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-3 border-l-4 rounded-r-lg flex items-center",style:{borderColor:"var(--info-color)",backgroundColor:"var(--info-color)10"},children:[n.jsx(Um,{className:"mr-2",style:{color:"var(--info-color)"}}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"We'll update this page as your order progresses."})]}),n.jsx(v6,{timeline:U.timeline,currentStatus:U.status}),U.orderItems&&U.orderItems.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vt,{className:"mr-2",size:20}),"Order Items (",U.orderItems.length,")"]}),n.jsx("div",{className:"space-y-4",children:U.orderItems.map((se,Q)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[se.image?n.jsx("img",{src:se.image,alt:se.name,className:"w-16 h-16 object-cover rounded-lg"}):n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(vt,{size:24})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-base",style:{color:"var(--text-primary)"},children:se.name}),se.brand&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Brand: ",se.brand]}),se.model&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Model: ",se.model]}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Qty: ",se.quantity]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",se.price.toLocaleString()]})}),se.hasReviewed||k.has(se.productId||se.id)?n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-50 border border-green-200",children:[n.jsx(Xr,{size:16,className:"mr-2 text-green-600"}),n.jsx("span",{className:"text-green-700",children:"Reviewed"})]}):n.jsxs("button",{onClick:()=>F(se),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[n.jsx(Xr,{size:16,className:"mr-2"}),"Write Review"]})]})]},Q))})]}),r&&s&&n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"p-6 rounded-xl border-2 border-dashed animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Xr,{size:20})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),n.jsx("button",{onClick:q,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"p-4 mb-6 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[s.image&&n.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-lg mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:s.name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",s.orderId]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(vt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),n.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),n.jsxs("form",{onSubmit:ne,children:[T&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:T}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(se=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>v(se),onMouseLeave:()=>v(0),onClick:()=>h(se),children:n.jsx(Xr,{className:`w-8 h-8 transition-colors duration-200 ${se<=(b||l)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},se))}),l>0&&n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[l," out of 5 stars"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:m,onChange:se=>g(se.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"},maxLength:1e3}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[m.length,"/1000 characters"]}),V&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",V.name||V.email]})]}),n.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:n.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[n.jsx(vt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:S||l===0,className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:S?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})]})]})]})})})},aie=()=>{const{id:r}=Zf();console.log("OrderTrackingDetail rendered with orderId:",r);const{getOrderById:t,currentOrder:s,isLoading:i,error:l}=pg(),[h,m]=O.useState(!1),[g,b]=O.useState(null),[v,k]=O.useState(0),[C,_]=O.useState(""),[S,T]=O.useState(""),[R,P]=O.useState(0),[V,U]=O.useState(new Set),{addReview:F,reviewLoading:q,reviewError:ne,clearReviewError:se,checkExistingReview:Q}=sc(),{isAuthenticated:B,user:Y}=jr();O.useEffect(()=>{(async()=>{if(r){console.log("Fetching order details for:",r);try{await t(r)}catch(G){console.error("Error fetching order details:",G)}}})()},[r]),console.log("Order fetched successfully:",s);const J=oe=>{const G=oe.product_id||oe.id;if(V.has(G)){Re.info("You have already reviewed this product");return}b(oe),m(!0),k(0),_(""),T(""),P(0),se()},K=()=>{m(!1),b(null),k(0),_(""),T(""),P(0)},Z=async oe=>{if(oe.preventDefault(),!B){Re.error("Please log in to write a review");return}if(!g){Re.error("Product information not available");return}if(v===0){Re.error("Please select a rating");return}if(!C.trim()){Re.error("Please enter a review title");return}const G=g.product_id||g.id;if(V.has(G)){Re.error("You have already reviewed this product"),K();return}se();const ue={rating:v,title:C.trim(),comment:S.trim(),verified_purchase:!0,order_id:(s==null?void 0:s.invoice_id)||(s==null?void 0:s.razorpay_order_id)||r,purchase_date:s==null?void 0:s.created_at},pe=await F(G,ue);pe.success?(Re.success("Review submitted successfully!"),U(me=>new Set([...me,G])),K()):Re.error(pe.error||"Failed to submit review. Please try again.")};O.useEffect(()=>{s&&(async()=>{const G=(s==null?void 0:s.order_items)||(s==null?void 0:s.orderItems);if(console.log("Loading review statuses for items:",G),G&&G.length>0&&B&&Y){const ue=new Set;for(const pe of G){const me=pe.product_id||pe.id;if(console.log("Checking review for product:",me,"Item data:",pe),me)try{const ye=await Q(me);console.log(`Review check result for ${me}:`,ye),ye.success&&ye.has_reviewed&&(ue.add(me),console.log(`Product ${me} has been reviewed`))}catch(ye){console.error(`Error checking review for product ${me}:`,ye)}}console.log("Final reviewed products set:",Array.from(ue)),U(ue)}else console.log("Review status loading skipped:",{orderItems:!!G,orderItemsLength:G==null?void 0:G.length,isAuthenticated:B,user:!!Y})})()},[s,B,Y,Q]);const be=s?(oe=>{var Ye,Be,Ce,ot,Je,nt,Lt;if(!oe)return null;const G=(Ne,at)=>({"Pending Payment":at?"Awaiting payment confirmation":"Payment will be processed","Payment Successful":at?"Payment received successfully":"Payment confirmation pending",Assigned:at?"Order assigned to delivery partner":"Order will be assigned to partner",Processing:at?"Order is being processed":"Order processing will begin",Packed:at?"Items packed and ready for dispatch":"Items will be packed soon",Shipped:at?"Order dispatched from warehouse":"Order will be shipped soon","Out for Delivery":at?"Package is out for delivery":"Package will be out for delivery",Delivered:at?"Order successfully delivered":"Order will be delivered soon","Failed Delivery Attempt":at?"Delivery attempt was unsuccessful":"Delivery will be retried","Returning to Warehouse":at?"Package is being returned to warehouse":"Package may need to be returned",Cancelled:at?"Order has been cancelled":"Order cancellation pending"})[Ne]||`${Ne} - ${at?"completed":"pending"}`,ue=Ne=>(console.log("Mapping status:",Ne),{pending_payment:"Pending Payment",payment_successful:"Payment Successful",assigned:"Assigned",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled",failed_attempt:"Failed Delivery Attempt",returning_to_warehouse:"Returning to Warehouse",other:"Other Status"}[Ne]||Ne),pe=((Be=(Ye=oe.tracking_info)==null?void 0:Ye.status_history)==null?void 0:Be.map(Ne=>({status:ue(Ne.status),date:Ne.timestamp,description:Ne.description||`Status updated to ${ue(Ne.status)}`})))||[],me=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"],ye=pe.map(Ne=>Ne.status),Se=me.indexOf(ue(oe.delivery_status||oe.status));me.forEach((Ne,at)=>{ye.includes(Ne)||(at<=Se?pe.push({status:Ne,date:null,description:G(Ne,!0)}):pe.push({status:Ne,date:null,description:G(Ne,!1)}))});const _e=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];pe.sort((Ne,at)=>_e.indexOf(Ne.status)-_e.indexOf(at.status));const qe=Ne=>Ne?`${Ne.street_address}, ${Ne.city}, ${Ne.state} - ${Ne.postal_code}`:null,Oe=Ne=>Ne?Ne.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):null;return{id:oe.invoice_id||oe.razorpay_order_id||r,order_id:oe.invoice_id||oe.razorpay_order_id||r,status:ue(oe.delivery_status||oe.status),delivery_status:ue(oe.delivery_status),overall_status:ue(oe.status),timeline:pe,estimatedDelivery:oe.estimated_delivery,estimatedDeliveryFormatted:oe.estimated_delivery?new Date(oe.estimated_delivery).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):null,shippingAddress:qe(oe.address),phoneNumber:Oe((Ce=oe.address)==null?void 0:Ce.phone_number),addressType:(ot=oe.address)==null?void 0:ot.type,carrier:((Je=oe.tracking_info)==null?void 0:Je.carrier)||"Pending",trackingNumber:(nt=oe.tracking_info)==null?void 0:nt.tracking_number,trackingUrl:(Lt=oe.tracking_info)==null?void 0:Lt.tracking_url,orderItems:oe.orderItems||oe.order_items||[],totalAmount:oe.total_amount||oe.total_amount_calculated,currency:oe.currency||"INR",paymentDetails:oe.payment_details,createdAt:oe.created_at,createdAtFormatted:oe.created_at_formatted,invoice:oe.invoice,assigned_partner_name:oe.assigned_partner_name,assigned_at:oe.assigned_at,last_updated_by_admin_at:oe.last_updated_by_admin_at,last_updated_by_partner_at:oe.last_updated_by_partner_at}})(s):{id:r,order_id:r,status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14",shippingAddress:"123 Main St, Anytown, State 12345",carrier:"FastShip Express",trackingNumber:"FS78291782X"};console.log("Order data being used:",be),console.log("Order status:",be.status,"Delivery status:",be.delivery_status),console.log("Order items:",be.orderItems);const xe=!s,ie=()=>{var ue,pe;const oe=((ue=be.timeline)==null?void 0:ue.length)||5,G=((pe=be.timeline)==null?void 0:pe.findIndex(me=>me.status===be.status))||0;return Math.min((G+1)/oe*100,100)},ae=oe=>({"Pending Payment":n.jsx(rn,{}),"Payment Successful":n.jsx(qn,{}),Assigned:n.jsx(Ds,{}),Processing:n.jsx(nx,{}),Packed:n.jsx(Hu,{}),Shipped:n.jsx(Lr,{}),"Out for Delivery":n.jsx(_ee,{}),Delivered:n.jsx(qn,{}),Cancelled:n.jsx(qt,{}),"Failed Delivery Attempt":n.jsx(Mi,{}),"Returning to Warehouse":n.jsx(id,{}),"Other Status":n.jsx(Um,{})})[oe]||n.jsx(vt,{}),le=oe=>({"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Packed:"var(--brand-secondary)",Shipped:"var(--info-color)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)",Cancelled:"var(--error-color)","Failed Delivery Attempt":"var(--error-color)","Returning to Warehouse":"var(--warning-color)","Other Status":"var(--text-secondary)"})[oe]||"var(--brand-primary)";return i?n.jsx("div",{className:"min-h-screen py-10 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Si,{className:"animate-spin h-8 w-8 mx-auto mb-4",style:{color:"var(--brand-primary)"}}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]})}):l?n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsxs(rt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(id,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx(vt,{className:"h-16 w-16 mx-auto mb-4",style:{color:"var(--error-color)"}}),n.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Order Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:l}),n.jsx(rt,{to:"/orders",className:"inline-block px-6 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"View All Orders"})]})]})})}):n.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(rt,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[n.jsx(id,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(99, 102, 241, 0.02) 100%)"},children:[n.jsxs("div",{className:"relative h-3 w-full bg-gradient-to-r from-gray-200 to-gray-100 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600",style:{width:`${ie()}%`}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),n.jsx("div",{className:"p-8 border-b bg-gradient-to-r from-transparent to-blue-50/30",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[n.jsxs("div",{className:"flex items-start space-x-5",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center shrink-0 shadow-lg",style:{background:"linear-gradient(135deg, var(--brand-primary), var(--brand-secondary))",color:"white"},children:n.jsx(el,{size:28})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",style:{color:"var(--text-primary)"},children:["Order #",be.id||be.order_id]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm",style:{backgroundColor:`${le(be.status)}15`,color:le(be.status),border:`1px solid ${le(be.status)}30`},children:[ae(be.status),n.jsx("span",{className:"ml-2",children:be.status})]}),be.delivery_status&&be.delivery_status!==be.overall_status&&n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:`${le(be.delivery_status)}10`,color:le(be.delivery_status),border:`1px solid ${le(be.delivery_status)}20`},children:[n.jsx(Lr,{className:"mr-1",size:12}),"Delivery: ",be.delivery_status]}),be.totalAmount&&n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(na,{className:"mr-1",size:14}),"",be.totalAmount]})]})]}),be.createdAtFormatted&&n.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:[n.jsx(rn,{className:"mr-2",size:14}),"Ordered on ",be.createdAtFormatted]})]})]}),n.jsxs("div",{className:"flex items-center p-4 rounded-xl shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(ei,{size:20})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium uppercase tracking-wide mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),n.jsx("div",{className:"font-bold text-lg",style:{color:"var(--brand-primary)"},children:be.estimatedDeliveryFormatted||(be.estimatedDelivery?new Date(be.estimatedDelivery).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"}):"Pending")})]})]})]})}),n.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(34, 197, 94, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:n.jsx(vn,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Address"})]}),n.jsxs("div",{className:"ml-13 space-y-2",children:[n.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:be.shippingAddress||"Address not available"}),be.phoneNumber&&n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(sa,{className:"mr-2",size:14}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:be.phoneNumber})]}),be.addressType&&n.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:[n.jsx(vee,{className:"mr-1",size:10}),be.addressType]})]})]}),n.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(Lr,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Partner"})]}),n.jsxs("div",{className:"ml-13 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Partner:"}),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:be.assigned_partner_name||"Not Assigned"})]}),be.trackingNumber&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Tracking:"}),n.jsx("span",{className:"text-sm font-mono",style:{color:"var(--brand-primary)"},children:be.trackingNumber})]})]}),be.assigned_at&&n.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[n.jsx(rn,{className:"mr-1",size:12}),n.jsxs("span",{children:["Assigned on",new Date(be.assigned_at).toLocaleDateString("en-IN")]})]})]}),be.paymentDetails&&n.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:n.jsx(na,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Payment Details"})]}),n.jsxs("div",{className:"ml-13 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Method:"}),n.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:"var(--text-primary)"},children:be.paymentDetails.method||"N/A"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Status:"}),n.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:be.paymentDetails.status==="captured"?"var(--success-color)":"var(--warning-color)"},children:be.paymentDetails.status||"N/A"})]}),be.paymentDetails.captured_at_formatted&&n.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[n.jsx(qn,{className:"mr-1",size:12}),n.jsxs("span",{children:["Paid on",be.paymentDetails.captured_at_formatted]})]})]})]})]}),be.orderItems&&be.orderItems.length>0&&n.jsx("div",{className:"px-8 pb-6",children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(168, 85, 247, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-secondary)15",color:"var(--brand-secondary)"},children:n.jsx(vt,{size:18})}),n.jsxs("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:["Order Items (",be.orderItems.length,")"]}),n.jsxs("div",{className:"ml-auto text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",be.totalAmount]})]}),n.jsx("div",{className:"ml-13 space-y-4",children:be.orderItems.map((oe,G)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[oe.image_url?n.jsx("img",{src:oe.image_url,alt:oe.name,className:"w-12 h-12 object-cover rounded-lg"}):n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(vt,{size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:oe.name||`Item ${G+1}`}),oe.brand&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Brand: ",oe.brand]}),oe.model&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",oe.model]}),oe.color&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Color: ",oe.color]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Qty: ",oe.quantity||1]}),n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",oe.price_at_purchase||oe.total_item_price]})]})]},G))})]})})]}),be.invoice&&be.invoice.invoice_pdf_url&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"100ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:n.jsx(ji,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Invoice Available"})]}),n.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",be.invoice.invoice_id]}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Download your order invoice for records"})]}),n.jsxs("a",{href:be.invoice.invoice_pdf_url,download:`Invoice_${be.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--success-color)",color:"white",textDecoration:"none"},onClick:()=>{console.log("Invoice download initiated")},children:[n.jsx(ji,{className:"mr-2",size:16}),"Download PDF"]})]})]})}),(be.status==="Delivered"||be.delivery_status==="Delivered")&&be.orderItems&&be.orderItems.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"120ms"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vt,{className:"mr-2",size:20}),"Order Items (",be.orderItems.length,")"]}),n.jsx("div",{className:"space-y-4",children:be.orderItems.map((oe,G)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[oe.image||oe.image_url?n.jsx("img",{src:oe.image||oe.image_url,alt:oe.name,className:"w-16 h-16 object-cover rounded-lg"}):n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(vt,{size:24})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-base",style:{color:"var(--text-primary)"},children:oe.name||oe.product_name}),oe.brand&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Brand: ",oe.brand]}),oe.model&&n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Model: ",oe.model]}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Qty: ",oe.quantity]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["",(oe.price||oe.price_at_purchase||oe.total_amount||oe.total_item_price||0).toLocaleString()]})}),(()=>{const ue=oe.product_id||oe.id,pe=V.has(ue);return console.log("Review check for item:",{productId:ue,hasReviewed:pe,reviewedProducts:Array.from(V),reviewedProductsSize:V.size,item:oe}),console.log(`Direct check: reviewedProducts.has("${ue}") =`,V.has(ue)),pe})()?n.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-50 border border-green-200",children:[n.jsx(qn,{size:16,className:"mr-2 text-green-600"}),n.jsx("span",{className:"text-green-700",children:"Reviewed"})]}):n.jsxs("button",{onClick:()=>J({...oe,productId:oe.product_id||oe.id,orderId:be.id,orderDate:be.createdAt}),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-orange-100",style:{color:"var(--brand-primary)",border:"1px solid var(--brand-primary)"},title:"Write Review",children:[n.jsx(Xr,{size:16,className:"mr-2"}),"Write Review"]})]})]},G))})]}),h&&g&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"140ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border-2 border-dashed",style:{borderColor:"var(--brand-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Xr,{size:20})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Write a Review"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Share your experience with this product"})]})]}),n.jsx("button",{onClick:K,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"p-4 mb-6 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[g.image&&n.jsx("img",{src:g.image,alt:g.name||g.product_name,className:"w-16 h-16 object-cover rounded-lg mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-base",style:{color:"var(--text-primary)"},children:g.name||g.product_name}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["From Order #",g.orderId]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(vt,{size:12,className:"mr-1",style:{color:"var(--success-color)"}}),n.jsx("span",{className:"text-xs",style:{color:"var(--success-color)"},children:"Verified Purchase"})]})]})]})}),n.jsxs("form",{onSubmit:Z,children:[ne&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",style:{backgroundColor:"var(--error-bg)",borderColor:"var(--error-border)",color:"var(--error-color)"},children:ne}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Rating *"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(oe=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform duration-200 hover:scale-110",onMouseEnter:()=>P(oe),onMouseLeave:()=>P(0),onClick:()=>k(oe),children:n.jsx(Xr,{className:`w-8 h-8 transition-colors duration-200 ${oe<=(R||v)?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},oe))}),v>0&&n.jsxs("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:[v," out of 5 stars"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Review Title *"}),n.jsx("input",{type:"text",value:C,onChange:oe=>_(oe.target.value),placeholder:"Write a brief title for your review",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},maxLength:100}),n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[C.length,"/100 characters"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Your Review"}),n.jsx("textarea",{value:S,onChange:oe=>T(oe.target.value),placeholder:"Share your thoughts about this product... What did you like or dislike about it?",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},maxLength:1e3}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[S.length,"/1000 characters"]}),Y&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reviewing as ",Y.name||Y.email]})]}),n.jsx("div",{className:"mt-2 p-2 rounded-md",style:{backgroundColor:"var(--success-color)15"},children:n.jsxs("p",{className:"text-xs flex items-center",style:{color:"var(--success-color)"},children:[n.jsx(vt,{size:12,className:"mr-1"}),"This review will be marked as a verified purchase"]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 hover:bg-gray-100",style:{color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:q||v===0||!C.trim(),className:"px-6 py-2 rounded-md font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:q?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})}),be.trackingUrl&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"150ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:n.jsx(ox,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"External Tracking"})]}),n.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Track with carrier"}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Get real-time updates from delivery partner"})]}),n.jsxs("a",{href:be.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--brand-primary)",color:"white",textDecoration:"none"},children:[n.jsx(ox,{className:"mr-2",size:16}),"Track Now"]})]})]})}),be.last_updated_by_partner_at||be.last_updated_by_admin_at?n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"180ms"},children:n.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(245, 158, 11, 0.02) 100%)"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:n.jsx(nx,{size:18})}),n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Recent Updates"})]}),n.jsxs("div",{className:"ml-13 space-y-3",children:[be.last_updated_by_partner_at&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last partner update:"}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(be.last_updated_by_partner_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),be.last_updated_by_admin_at&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last admin update:"}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(be.last_updated_by_admin_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})}):null,n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"200ms"},children:[n.jsxs("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:["Delivery Progress",xe&&n.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Using Mock Data"})]}),n.jsx(v6,{timeline:be.timeline,currentStatus:be.status})]})]})})})},lie=()=>{const r=Do(),t=ns(),{logout:s}=jr(),i=[{id:"profile",name:"Profile Information",path:"/profile",icon:n.jsx(Ds,{className:"w-5 h-5"})},{id:"orders",name:"My Orders",path:"/orders",icon:n.jsx(el,{className:"w-5 h-5"})},{id:"wishlist",name:"My Wishlist",path:"/wishlist",icon:n.jsx(ag,{className:"w-5 h-5"})},{id:"addresses",name:"My Addresses",path:"/profile/addresses",icon:n.jsx(vn,{className:"w-5 h-5"})}],l=h=>{h.preventDefault(),s(),t("/login")};return n.jsxs("div",{className:"rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("div",{className:"p-4",style:{backgroundColor:"var(--brand-primary)"},children:n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-on-brand)"},children:"My Account"})}),n.jsx("div",{className:"p-2",children:n.jsxs("ul",{children:[i.map(h=>n.jsx("li",{children:n.jsxs(rt,{to:h.path,className:`flex items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 ${r.pathname===h.path?"bg-opacity-10 font-medium":"hover:bg-opacity-5"}`,style:{backgroundColor:r.pathname===h.path?"var(--bg-accent-light)":"transparent",color:r.pathname===h.path?"var(--brand-primary)":"var(--text-primary)"},children:[h.icon,n.jsx("span",{children:h.name})]})},h.id)),n.jsx("li",{children:n.jsxs("button",{onClick:l,className:"flex w-full items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 text-left hover:bg-opacity-5",style:{color:"var(--error-color)"},children:[n.jsx(S9,{className:"w-5 h-5"}),n.jsx("span",{children:"Logout"})]})})]})})]})},cie=()=>{const{user:r,isLoading:t,error:s,fetchUserProfile:i,updateUserProfileAPI:l,clearError:h}=jr(),{isOpen:m,modalConfig:g,isLoading:b,showConfirm:v,hideConfirm:k,handleConfirm:C}=mg(),[_,S]=mt.useState(!1),[T,R]=mt.useState({firstName:(r==null?void 0:r.first_name)||"",lastName:(r==null?void 0:r.last_name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[P,V]=mt.useState({});mt.useEffect(()=>{r!=null&&r.uid&&i().catch(()=>{})},[]),mt.useEffect(()=>{r&&R(Q=>({...Q,firstName:r.first_name||"",lastName:r.last_name||"",email:r.email||"",phone:r.phone||""}))},[r]),mt.useEffect(()=>()=>h(),[h]);const U=Q=>{const{name:B,value:Y}=Q.target;R(J=>({...J,[B]:Y})),P[B]&&V(J=>({...J,[B]:""}))},F=()=>{const Q={};return T.firstName.trim()||(Q.firstName="First name is required"),T.lastName.trim()||(Q.lastName="Last name is required"),T.email.trim()?/\S+@\S+\.\S+/.test(T.email)||(Q.email="Please enter a valid email address"):Q.email="Email is required",(T.currentPassword||T.newPassword||T.confirmPassword)&&(T.currentPassword||(Q.currentPassword="Current password is required to change password"),T.newPassword?T.newPassword.length<6&&(Q.newPassword="New password must be at least 6 characters long"):Q.newPassword="New password is required",T.confirmPassword?T.newPassword!==T.confirmPassword&&(Q.confirmPassword="New passwords do not match"):Q.confirmPassword="Please confirm your new password"),V(Q),Object.keys(Q).length===0},q=async Q=>{if(Q.preventDefault(),!F()){Re.error("Please fix the errors in the form");return}T.currentPassword&&T.newPassword&&T.confirmPassword?v({title:"Confirm Password Change",message:"Are you sure you want to change your password? You will need to use the new password for future logins.",confirmText:"Change Password",cancelText:"Cancel",type:"warning",onConfirm:async()=>{await ne(!0)}}):await ne(!1)},ne=async(Q=!1)=>{var B,Y;try{const J={first_name:T.firstName,last_name:T.lastName,phone_number:T.phone};Q&&(J.current_password=T.currentPassword,J.new_password=T.newPassword,J.confirm_new_password=T.confirmPassword);const K=await l(J);K.success&&(Re.success(K.message||"Profile updated successfully"),S(!1),R(Z=>({...Z,currentPassword:"",newPassword:"",confirmPassword:""})),V({}))}catch(J){Re.error(((Y=(B=J.response)==null?void 0:B.data)==null?void 0:Y.error)||"Failed to update profile")}},se=()=>{S(!_),V({}),R(_?Q=>({...Q,currentPassword:"",newPassword:"",confirmPassword:""}):{firstName:(r==null?void 0:r.first_name)||"",lastName:(r==null?void 0:r.last_name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""})};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Profile Information"}),n.jsx("button",{onClick:se,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:_?"var(--bg-secondary)":"var(--brand-primary)",color:_?"var(--text-primary)":"var(--text-on-brand)"},children:_?"Cancel":"Edit Profile"})]}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:s}),n.jsxs("form",{onSubmit:q,children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"First Name"}),_?n.jsxs("div",{children:[n.jsx("input",{type:"text",id:"firstName",name:"firstName",value:T.firstName,onChange:U,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.firstName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),P.firstName&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.firstName})]}):n.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(r==null?void 0:r.first_name)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Last Name"}),_?n.jsxs("div",{children:[n.jsx("input",{type:"text",id:"lastName",name:"lastName",value:T.lastName,onChange:U,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.lastName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),P.lastName&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.lastName})]}):n.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(r==null?void 0:r.last_name)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email Address"}),n.jsxs("div",{children:[n.jsx("input",{type:"email",id:"email",name:"email",value:T.email,onChange:U,disabled:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 disabled:opacity-60 disabled:cursor-not-allowed",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),_?n.jsx("input",{type:"tel",id:"phone",name:"phone",value:T.phone,onChange:U,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}):n.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(r==null?void 0:r.phone)||"Not provided"})]})]}),_&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium mb-3",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Current Password"}),n.jsxs("div",{children:[n.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:T.currentPassword,onChange:U,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.currentPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter current password"}),P.currentPassword&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.currentPassword})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"New Password"}),n.jsxs("div",{children:[n.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:T.newPassword,onChange:U,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.newPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter new password (min 6 characters)"}),P.newPassword&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.newPassword})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Confirm New Password"}),n.jsxs("div",{children:[n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:T.confirmPassword,onChange:U,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:P.confirmPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Confirm new password"}),P.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:P.confirmPassword})]})]})]})]}),_&&n.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:se,disabled:t,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t&&n.jsx(Si,{className:"w-4 h-4 animate-spin"}),"Save Changes"]})]})]}),n.jsx(th,{isOpen:m,onClose:k,onConfirm:C,title:g.title,message:g.message,confirmText:g.confirmText,cancelText:g.cancelText,type:g.type,isLoading:b})]})},die=()=>{const{addresses:r,isLoading:t,error:s,fetchAddresses:i,addAddress:l,updateAddress:h,deleteAddress:m,setDefaultAddress:g,clearError:b}=x6(),{isOpen:v,modalConfig:k,isLoading:C,showConfirm:_,hideConfirm:S,handleConfirm:T}=mg(),[R,P]=mt.useState(!1),[V,U]=mt.useState(null),[F,q]=mt.useState({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1});mt.useEffect(()=>{i()},[]),mt.useEffect(()=>()=>b(),[b]);const ne=J=>{const{name:K,value:Z,type:ee,checked:be}=J.target;q(xe=>({...xe,[K]:ee==="checkbox"?be:Z}))},se=J=>{q({name:J.name||J.type,address:J.address||J.street_address,city:J.city,state:J.state,pincode:J.pincode||J.postal_code,phone:J.phone||J.phone_number,isDefault:J.isDefault||J.is_default}),U(J.id),P(!0)},Q=async J=>{_({title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{await m(J)}})},B=async J=>{await g(J)},Y=async J=>{J.preventDefault();try{const K={type:F.name,street_address:F.address,city:F.city,state:F.state,postal_code:F.pincode,phone_number:F.phone,is_default:F.isDefault};V?await h(V,K):await l(K),q({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),P(!1),U(null)}catch(K){console.error("Error saving address:",K)}};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"My Addresses"}),!R&&n.jsxs("button",{onClick:()=>P(!0),disabled:t,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t?n.jsx(Si,{className:"w-4 h-4 animate-spin"}):n.jsx(Hn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add New Address"})]})]}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:s}),t&&!R&&n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(Si,{className:"w-6 h-6 animate-spin",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"ml-2",style:{color:"var(--text-secondary)"},children:"Loading addresses..."})]}),R?n.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:V?"Edit Address":"Add New Address"}),n.jsxs("form",{onSubmit:Y,children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Address Name"}),n.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Home, Office, etc.",value:F.name,onChange:ne,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"Contact number for delivery",value:F.phone,onChange:ne,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Street Address"}),n.jsx("textarea",{id:"address",name:"address",placeholder:"Flat, House no., Building, Company, Apartment",value:F.address,onChange:ne,rows:2,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",value:F.city,onChange:ne,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"State"}),n.jsx("input",{type:"text",id:"state",name:"state",value:F.state,onChange:ne,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"PIN Code"}),n.jsx("input",{type:"text",id:"pincode",name:"pincode",value:F.pincode,onChange:ne,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"isDefault",checked:F.isDefault,onChange:ne,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default address"})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{P(!1),U(null),q({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1})},disabled:t,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:t,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t&&n.jsx(Si,{className:"w-4 h-4 animate-spin"}),V?"Update Address":"Save Address"]})]})]})]}):n.jsx("div",{children:r.length===0&&!t?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(vn,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"No addresses found"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Add your first address to get started with deliveries"}),n.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Address"})]}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(J=>n.jsxs("div",{className:`border rounded-lg p-4 relative ${J.isDefault||J.is_default?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:J.isDefault||J.is_default?"var(--brand-primary)":void 0},children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:J.name||J.type}),(J.isDefault||J.is_default)&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),n.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[n.jsx(vn,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{style:{color:"var(--text-primary)"},children:[n.jsx("p",{children:J.address||J.street_address}),n.jsxs("p",{children:[J.city,", ",J.state," -",J.pincode||J.postal_code]}),n.jsxs("p",{className:"mt-1",children:["Phone: ",J.phone||J.phone_number]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[!(J.isDefault||J.is_default)&&n.jsx("button",{onClick:()=>B(J.id),disabled:t,className:"text-xs px-2 py-1 rounded border transition-colors disabled:opacity-50",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:"Set as Default"}),n.jsxs("div",{className:`flex gap-2 ${J.isDefault||J.is_default?"":"ml-auto"}`,children:[n.jsx("button",{onClick:()=>se(J),disabled:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--text-secondary)"},children:n.jsx(Zm,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Q(J.id),disabled:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--error-color)"},children:n.jsx(cn,{className:"w-4 h-4"})})]})]})]},J.id))})}),n.jsx(th,{isOpen:v,onClose:S,onConfirm:T,title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,type:k.type,isLoading:C})]})},uie=()=>{const[r,t]=mt.useState([{id:1,type:"Credit Card",name:"John Doe",cardNumber:"   1234",expiry:"12/25",isDefault:!0},{id:2,type:"Debit Card",name:"John Doe",cardNumber:"   5678",expiry:"08/26",isDefault:!1}]),[s,i]=mt.useState(!1),[l,h]=mt.useState(null),[m,g]=mt.useState({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),b=_=>{const{name:S,value:T,type:R,checked:P}=_.target;g(V=>({...V,[S]:R==="checkbox"?P:T}))},v=_=>{g({..._,cardNumber:"",cvv:""}),h(_.id),i(!0)},k=_=>{t(r.filter(S=>S.id!==_))},C=_=>{_.preventDefault();const S=`   ${m.cardNumber.slice(-4)}`;if(l)t(r.map(T=>T.id===l?{...m,id:l,cardNumber:S}:T));else{const T={...m,id:Date.now(),cardNumber:S};t([...r,T])}g({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),i(!1),h(null)};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Payment Methods"}),!s&&n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(Hn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add New Card"})]})]}),s?n.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:l?"Update Card":"Add New Card"}),n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Type"}),n.jsxs("select",{id:"type",name:"type",value:m.type,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},children:[n.jsx("option",{value:"Credit Card",children:"Credit Card"}),n.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cardholder Name"}),n.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name on card",value:m.name,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Number"}),n.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",value:m.cardNumber,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Expiry Date"}),n.jsx("input",{type:"text",id:"expiry",name:"expiry",placeholder:"MM/YY",value:m.expiry,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"CVV"}),n.jsx("input",{type:"text",id:"cvv",name:"cvv",placeholder:"XXX",value:m.cvv,onChange:b,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"isDefault",checked:m.isDefault,onChange:b,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default payment method"})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),h(null)},className:"px-4 py-2 rounded-md text-sm font-medium",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:l?"Update Card":"Add Card"})]})]})]}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(_=>n.jsxs("div",{className:`border rounded-lg p-4 relative ${_.isDefault?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:_.isDefault?"var(--brand-primary)":void 0},children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:_.type}),_.isDefault&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),n.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[n.jsx(na,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{style:{color:"var(--text-primary)"},children:[n.jsx("p",{className:"text-lg font-mono",children:_.cardNumber}),n.jsx("p",{children:_.name}),n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Expires: ",_.expiry]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx("button",{onClick:()=>v(_),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(Zm,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>k(_.id),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--error-color)"},children:n.jsx(cn,{className:"w-4 h-4"})})]})]},_.id))})]})},px=un((r,t)=>({theme:"light",isDarkMode:!1,setTheme:s=>{if(r({theme:s}),s==="system"){const i=window.matchMedia("(prefers-color-scheme: dark)").matches;r({isDarkMode:i}),vR(i)}else{const i=s==="dark";r({isDarkMode:i}),vR(i)}localStorage.setItem("anand-mobiles-theme",s)},toggleTheme:()=>{const i=t().theme==="light"?"dark":"light";t().setTheme(i)},initializeTheme:()=>{document.documentElement.classList.add("no-transitions");const s=localStorage.getItem("anand-mobiles-theme")||"light";t().setTheme(s),setTimeout(()=>{document.documentElement.classList.remove("no-transitions")},100)}})),vR=r=>{const t=document.documentElement;r?(t.classList.add("dark"),document.body.classList.add("dark")):(t.classList.remove("dark"),document.body.classList.remove("dark"))};typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const{theme:s,setTheme:i}=px.getState();s==="system"&&px.getState().setTheme("system")});const hie=()=>{const{theme:r,setTheme:t}=px(),[s,i]=mt.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,promotions:!1,newArrivals:!0,priceDrops:!0,twoFactorAuth:!1}),l=h=>{i(m=>({...m,[h]:!m[h]}))};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Account Settings"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Manage your notification preferences and account security"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_9,{}),n.jsx("span",{children:"Notification Preferences"})]})}),n.jsxs("div",{className:"space-y-4 pl-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Email Notifications"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via email"})]}),n.jsx("button",{onClick:()=>l("emailNotifications"),className:"text-2xl","aria-label":s.emailNotifications?"Disable email notifications":"Enable email notifications",children:s.emailNotifications?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"SMS Notifications"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via text message"})]}),n.jsx("button",{onClick:()=>l("smsNotifications"),className:"text-2xl","aria-label":s.smsNotifications?"Disable SMS notifications":"Enable SMS notifications",children:s.smsNotifications?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Push Notifications"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive notifications on mobile app"})]}),n.jsx("button",{onClick:()=>l("pushNotifications"),className:"text-2xl","aria-label":s.pushNotifications?"Disable push notifications":"Enable push notifications",children:s.pushNotifications?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Notification Types"}),n.jsxs("div",{className:"space-y-4 pl-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Order Updates"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates about your orders"})]}),n.jsx("button",{onClick:()=>l("orderUpdates"),className:"text-2xl","aria-label":s.orderUpdates?"Disable order updates":"Enable order updates",children:s.orderUpdates?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Promotions & Deals"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive special offers and promotions"})]}),n.jsx("button",{onClick:()=>l("promotions"),className:"text-2xl","aria-label":s.promotions?"Disable promotions":"Enable promotions",children:s.promotions?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"New Arrivals"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about new products"})]}),n.jsx("button",{onClick:()=>l("newArrivals"),className:"text-2xl","aria-label":s.newArrivals?"Disable new arrivals notifications":"Enable new arrivals notifications",children:s.newArrivals?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Price Drops"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about price drops on your wishlist"})]}),n.jsx("button",{onClick:()=>l("priceDrops"),className:"text-2xl","aria-label":s.priceDrops?"Disable price drop notifications":"Enable price drop notifications",children:s.priceDrops?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Appearance"}),n.jsx("div",{className:"space-y-4 pl-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Theme Mode"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose between light, dark, or system theme"}),n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Current: ",r==="system"?"Auto (System)":r.charAt(0).toUpperCase()+r.slice(1)]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>t("light"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${r==="light"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:r==="light"?"var(--brand-primary)":"transparent",color:r==="light"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${r==="light"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Light"}),n.jsx("button",{onClick:()=>t("dark"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${r==="dark"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:r==="dark"?"var(--brand-primary)":"transparent",color:r==="dark"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${r==="dark"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Dark"}),n.jsx("button",{onClick:()=>t("system"),className:`px-3 py-1 rounded text-xs font-medium transition-all duration-200 ${r==="system"?"shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{backgroundColor:r==="system"?"var(--brand-primary)":"transparent",color:r==="system"?"var(--text-on-brand)":"var(--text-primary)",border:`1px solid ${r==="system"?"var(--brand-primary)":"var(--border-primary)"}`},children:"Auto"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Security"}),n.jsx("div",{className:"space-y-4 pl-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Add an extra layer of security to your account"})]}),n.jsx("button",{onClick:()=>l("twoFactorAuth"),className:"text-2xl","aria-label":s.twoFactorAuth?"Disable two-factor authentication":"Enable two-factor authentication",children:s.twoFactorAuth?n.jsx(_i,{style:{color:"var(--brand-primary)"}}):n.jsx(Ci,{style:{color:"var(--text-secondary)"}})})]})})]}),n.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Settings"})})]})]})},wR=()=>{const{section:r="profile"}=Zf(),[t,s]=mt.useState(r);mt.useEffect(()=>{s(r)},[r]);const i=()=>{switch(t){case"addresses":return n.jsx(die,{});case"payment":return n.jsx(uie,{});case"settings":return n.jsx(hie,{});case"profile":default:return n.jsx(cie,{})}};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 md:mb-8",style:{color:"var(--text-primary)"},children:"My Account"}),n.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx(lie,{})}),n.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:i()})]})]})},sl=un((r,t)=>({content:null,loading:!1,error:null,pages:[],fetchAvailablePages:async()=>{const s=t();if(s.pages.length>0)return s.pages;try{const i=await Ze.get("/admin/content/pages/");if(i.status===200)return r({pages:i.data.pages||[]}),i.data.pages}catch(i){return console.error("Error fetching available pages:",i),[]}},fetchPageContent:async s=>{var i,l;r({loading:!0,error:null,content:null});try{const h=await Ze.get(`/admin/content/pages/${s.replace(/^\//,"")}/`);if(h.status===200)return r({content:h.data.content,loading:!1}),h.data.content}catch(h){console.error("Error fetching page content:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch page content",loading:!1})}},checkPageExists:async s=>{try{return(await Ze.head(`/admin/content/pages/${s.replace(/^\//,"")}/`)).status===200}catch{return!1}},clearContent:()=>{r({content:null,loading:!1,error:null})}})),mie=Object.freeze(Object.defineProperty({__proto__:null,usePageContentStore:sl},Symbol.toStringTag,{value:"Module"})),pie=()=>{const r=[{label:"Home",link:Et.HOME},{label:"About",link:Et.ABOUT}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=sl();return O.useEffect(()=>(i("about"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((h,m)=>n.jsxs(mt.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:h.label}):n.jsx(rt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--brand-primary)"},children:"About Us"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"We are a premier electronics retailer specializing in the latest mobile phones, laptops, tablets, and accessories. Our mission is to provide high-quality products with exceptional customer service."})]})})})," ",n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[n.jsx("div",{children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Story"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Founded in 2010, we began as a small mobile phone shop with a vision to make technology accessible to everyone. Over the years, we've grown to become one of the most trusted electronics retailers in the region."}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Our journey has been defined by a commitment to quality, innovation, and customer satisfaction. We carefully select each product in our inventory to ensure it meets our high standards of performance and reliability."}),n.jsx("p",{className:"text-gray-700",children:"Today, we continue to expand our offerings while maintaining the personalized service that has been the cornerstone of our success."})]})}),n.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1556742031-c6961e8560b0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Our store",className:"w-full h-auto"})})]})})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl font-bold mb-12 text-center",children:"Why Choose Us"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:n.jsx(Coe,{className:"text-4xl text-indigo-500 mb-4"}),title:"Quality Assurance",description:"All our products are genuine and come with official warranties."},{icon:n.jsx(Noe,{className:"text-4xl text-indigo-500 mb-4"}),title:"Expert Support",description:"Our knowledgeable team is always ready to help you make the right choice."},{icon:n.jsx(Aoe,{className:"text-4xl text-indigo-500 mb-4"}),title:"Wide Selection",description:"From budget-friendly to premium, we have options for every need and preference."}].map((h,m)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[h.icon,n.jsx("h3",{className:"text-xl font-semibold mb-2",children:h.title}),n.jsx("p",{className:"text-gray-600",children:h.description})]},m))})]})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"bg-indigo-50 p-8 rounded-lg",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Our Vision"}),n.jsx("p",{className:"text-gray-700",children:"To be the leading electronics retailer known for exceptional customer experience, innovative product offerings, and making technology accessible to all segments of society."})]}),n.jsxs("div",{className:"bg-blue-50 p-8 rounded-lg",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Our Mission"}),n.jsx("p",{className:"text-gray-700",children:"To provide our customers with high-quality electronics products at competitive prices, exceptional customer service, and an enjoyable shopping experience both online and in-store."})]})]})})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-indigo-500 to-blue-600 text-white",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Experience the Difference?"}),n.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Visit our store today or browse our online collection to find the perfect device for your needs."}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx(rt,{to:Et.PRODUCTS,className:"bg-white text-indigo-600 px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition duration-300",children:"Shop Now"}),n.jsx(rt,{to:Et.CONTACT,className:"bg-transparent border-2 border-white px-6 py-3 rounded-md font-medium hover:bg-white hover:text-indigo-600 transition duration-300",children:"Contact Us"})]})]})})]})},fie=()=>{const[r,t]=O.useState({name:"",email:"",phone:"",subject:"",message:""}),[s,i]=O.useState(!1),{content:l,loading:h,fetchPageContent:m,clearContent:g}=sl();O.useEffect(()=>(m("contact"),()=>{g()}),[]);const b=[{label:"Home",link:Et.HOME},{label:"Contact",link:Et.CONTACT}],v=_=>{const{name:S,value:T}=_.target;t(R=>({...R,[S]:T}))},k=_=>{_.preventDefault(),i(!0),setTimeout(()=>{i(!1),Rt.success("Thank you for your message! We'll get back to you soon."),t({name:"",email:"",phone:"",subject:"",message:""})},1e3)},C=[{icon:n.jsx(sa,{className:"text-lg"}),title:"Phone Number",details:["+91 98765 43210","+91 12345 67890"]},{icon:n.jsx(ec,{className:"text-lg"}),title:"Email Address",details:["support@yourdomain.com","info@yourdomain.com"]},{icon:n.jsx(vn,{className:"text-lg"}),title:"Office Address",details:["123 Main Street","New Delhi, India 110001"]},{icon:n.jsx(rn,{className:"text-lg"}),title:"Working Hours",details:["Mon - Sat: 10:00 AM - 8:00 PM","Sunday: Closed"]}];return n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:b.map((_,S)=>n.jsxs(mt.Fragment,{children:[S>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),S===b.length-1?n.jsx("span",{className:"font-medium",children:_.label}):n.jsx(rt,{to:_.link,className:"text-gray-500 hover:text-primary",children:_.label})]},S))})})})," ",n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-3xl mx-auto text-center",children:h?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):l?n.jsx("div",{className:"prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:l}}):n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--brand-primary)"},children:"Contact Us"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Have questions or need assistance? We're here to help! Our team is ready to provide you with the support you need."})]})})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map((_,S)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-300",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:_.icon}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:_.title}),_.details.map((T,R)=>n.jsx("p",{className:"text-gray-600",children:T},R))]},S))})})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),n.jsxs("form",{onSubmit:k,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Message"}),n.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:v,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsx("button",{type:"submit",className:"flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:s,children:s?"Sending...":n.jsxs(n.Fragment,{children:["Send Message ",n.jsx(I9,{className:"ml-2"})]})})]})]}),n.jsx("div",{className:"h-full min-h-[400px]",children:n.jsx("div",{className:"relative h-full w-full rounded-lg overflow-hidden shadow-md",children:n.jsx("iframe",{title:"Location Map",className:"absolute top-0 left-0 w-full h-full border-0",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3501.4784043211377!2d77.22117627415673!3d28.63483068241763!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd3724ed1d4b%3A0xff78448cc3bba8e2!2sConnaught%20Place%2C%20New%20Delhi%2C%20Delhi%20110001!5e0!3m2!1sen!2sin!4v1693231423844!5m2!1sen!2sin",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})]})})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-6",children:[{question:"What are your store hours?",answer:"Our stores are open Monday through Saturday from 10:00 AM to 8:00 PM. We are closed on Sundays and major holidays."},{question:"Do you offer product repairs?",answer:"Yes, we offer repair services for most of the products we sell. Please bring your device to the nearest store or contact our customer service team for more information."},{question:"How can I track my order?",answer:"You can track your order by visiting the Track Order page on our website and entering your order number and email address."},{question:"What is your return policy?",answer:"We offer a 7-day return policy for most products. Items must be returned in their original packaging with all accessories. Please check our Returns & Refunds page for more details."}].map((_,S)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:_.question}),n.jsx("p",{className:"text-gray-600",children:_.answer})]},S))})]})})})]})},gie=()=>{const[r,t]=O.useState(""),[s,i]=O.useState(""),[l,h]=O.useState(!1),[m,g]=O.useState(null),b=[{label:"Home",link:Et.HOME},{label:"Track Order",link:Et.TRACK_ORDER}],v=async C=>{C.preventDefault(),h(!0);try{const _=await fetch("undefined/api/orders/track/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:r,email:s})});if(_.ok){const S=await _.json();g(S)}else{const S=await _.json();Rt.error(S.error||"Order not found. Please check your order ID and email address."),g(null)}}catch(_){console.error("Error tracking order:",_),Rt.error("Unable to track order. Please try again later."),g(null)}finally{h(!1)}},k=()=>{t(""),i(""),g(null)};return n.jsxs("div",{className:"bg-white min-h-screen",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:b.map((C,_)=>n.jsxs(mt.Fragment,{children:[_>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),_===b.length-1?n.jsx("span",{className:"font-medium",children:C.label}):n.jsx(rt,{to:C.link,className:"text-gray-500 hover:text-primary",children:C.label})]},_))})})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:n.jsx(vt,{className:"text-2xl"})})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Track Your Order"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Enter your order ID and email address to track your order's current status and delivery progress."})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Order Tracking"}),n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"orderId",className:"block mb-2 text-sm font-medium text-gray-700",children:"Order ID"}),n.jsx("input",{type:"text",id:"orderId",value:r,onChange:C=>t(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Enter your order ID",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",value:s,onChange:C=>i(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Enter your email address",required:!0})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{type:"submit",className:"flex-1 flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:l,children:l?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Tracking..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ei,{className:"mr-2"})," Track Order"]})}),m&&n.jsx("button",{type:"button",onClick:k,className:"flex-1 flex items-center justify-center px-6 py-3 rounded-md border border-gray-300 bg-white text-gray-700 font-medium hover:bg-gray-50 transition duration-300",children:"Clear"})]})]})]}),m&&n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["Order #",m.orderId]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:m.status==="Delivered"?"rgba(16, 185, 129, 0.1)":"rgba(59, 130, 246, 0.1)",color:m.status==="Delivered"?"#10B981":"#3B82F6"},children:m.status})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Order Date"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ei,{className:"mr-2 text-gray-500"}),n.jsx("span",{className:"font-medium",children:m.date})]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Tracking Number"}),n.jsx("span",{className:"font-medium",children:m.trackingNumber})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Estimated Delivery"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(rn,{className:"mr-2 text-gray-500"}),n.jsx("span",{className:"font-medium",children:m.estimatedDelivery})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.items.map(C=>n.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200 last:border-0",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:C.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",C.quantity]})]}),n.jsx("div",{children:n.jsxs("span",{className:"font-medium",children:["",C.price.toLocaleString()]})})]},C.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tracking History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute top-0 left-6 w-0.5 h-full bg-gray-200"}),m.trackingHistory.map((C,_)=>n.jsxs("div",{className:"relative flex items-start mb-6 last:mb-0",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${_===0||_===m.trackingHistory.length-1&&C.status==="Delivered"?"bg-green-500":"bg-blue-500"}`,children:_===0?n.jsx(rs,{className:"text-white text-lg"}):_===m.trackingHistory.length-1?C.status==="Delivered"?n.jsx(rs,{className:"text-white text-lg"}):n.jsx(Lr,{className:"text-white text-lg"}):n.jsx(Lr,{className:"text-white text-lg"})}),n.jsxs("div",{className:"ml-6",children:[n.jsx("h4",{className:"font-medium",children:C.status}),n.jsx("p",{className:"text-sm text-gray-500",children:C.location}),n.jsxs("p",{className:"text-xs text-gray-500",children:[C.date," at ",C.time]})]})]},_))]})]})]})})]})})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Need Help with Your Order?"}),n.jsx("p",{className:"text-gray-700 mb-8",children:"If you're having trouble finding your order or have any other questions, please don't hesitate to contact our customer service team."}),n.jsx(rt,{to:Et.CONTACT,className:"inline-flex items-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},children:"Contact Support"})]})})})]})},bie=()=>{const[r,t]=O.useState({name:"",company:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",gstin:"",additionalInfo:""}),[s,i]=O.useState([{id:1,name:"",model:"",quantity:"",remarks:""}]),[l,h]=O.useState(!1),{content:m,loading:g,fetchPageContent:b,clearContent:v}=sl();O.useEffect(()=>(b("bulk-order"),()=>{v()}),[]);const k=[{label:"Home",link:Et.HOME},{label:"Bulk Order",link:Et.BULK_ORDER}],C=P=>{const{name:V,value:U}=P.target;t({...r,[V]:U})},_=(P,V,U)=>{const F=[...s];F[P][V]=U,i(F)},S=()=>{i([...s,{id:s.length+1,name:"",model:"",quantity:"",remarks:""}])},T=P=>{if(s.length>1){const V=[...s];V.splice(P,1),i(V)}else Rt.error("At least one product is required")},R=P=>{if(P.preventDefault(),h(!0),!(r.name&&r.email&&r.phone&&s.every(U=>U.name&&U.quantity))){Rt.error("Please fill in all required fields"),h(!1);return}setTimeout(()=>{Rt.success("Your bulk order inquiry has been submitted. We'll contact you shortly!"),t({name:"",company:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",gstin:"",additionalInfo:""}),i([{id:1,name:"",model:"",quantity:"",remarks:""}]),h(!1)},1500)};return n.jsxs("div",{className:"bg-white min-h-screen",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:k.map((P,V)=>n.jsxs(mt.Fragment,{children:[V>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),V===k.length-1?n.jsx("span",{className:"font-medium",children:P.label}):n.jsx(rt,{to:P.link,className:"text-gray-500 hover:text-primary",children:P.label})]},V))})})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[" ",g?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):m?n.jsx("div",{className:"prose max-w-none mx-auto",dangerouslySetInnerHTML:{__html:m}}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:n.jsx(fd,{className:"text-2xl"})})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Bulk Orders"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Get special pricing and dedicated support for your business or large quantity orders. Fill out the form below and our team will get in touch with you."})]})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-8 text-center",children:"Benefits of Bulk Ordering"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Special Pricing",description:"Get competitive discounts on bulk purchases across all our product categories."},{title:"Dedicated Support",description:"Enjoy personalized assistance from our business team throughout the ordering process."},{title:"Customized Solutions",description:"Get solutions tailored to your business needs with flexible delivery options."}].map((P,V)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:P.title}),n.jsx("p",{className:"text-gray-600",children:P.description})]},V))})]})})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Bulk Order Inquiry Form"}),n.jsxs("form",{onSubmit:R,children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-medium mb-4 pb-2 border-b border-gray-200",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:["Contact Person Name",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"company",className:"block mb-2 text-sm font-medium text-gray-700",children:"Company/Organization"}),n.jsx("input",{type:"text",id:"company",name:"company",value:r.company,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-700",children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-medium mb-4 pb-2 border-b border-gray-200",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address",className:"block mb-2 text-sm font-medium text-gray-700",children:"Address"}),n.jsx("textarea",{id:"address",name:"address",value:r.address,onChange:C,rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",value:r.city,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),n.jsx("input",{type:"text",id:"state",name:"state",value:r.state,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pincode",className:"block mb-2 text-sm font-medium text-gray-700",children:"PIN Code"}),n.jsx("input",{type:"text",id:"pincode",name:"pincode",value:r.pincode,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"gstin",className:"block mb-2 text-sm font-medium text-gray-700",children:"GSTIN (for business customers)"}),n.jsx("input",{type:"text",id:"gstin",name:"gstin",value:r.gstin,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Product Information"}),n.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center px-3 py-1 text-sm bg-green-50 text-green-700 rounded-md hover:bg-green-100",children:[n.jsx(dee,{className:"mr-1"})," Add Product"]})]}),n.jsx("div",{className:"space-y-6",children:s.map((P,V)=>n.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"font-medium",children:["Product #",V+1]}),s.length>1&&n.jsxs("button",{type:"button",onClick:()=>T(V),className:"inline-flex items-center text-sm text-red-600 hover:text-red-800",children:[n.jsx(cn,{className:"mr-1"})," Remove"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Product Name",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:P.name,onChange:U=>_(V,"name",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Model/Variant"}),n.jsx("input",{type:"text",value:P.model,onChange:U=>_(V,"model",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:P.quantity,onChange:U=>_(V,"quantity",U.target.value),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Special Requirements"}),n.jsx("input",{type:"text",value:P.remarks,onChange:U=>_(V,"remarks",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"}})]})]})]},P.id))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{htmlFor:"additionalInfo",className:"block mb-2 text-sm font-medium text-gray-700",children:"Additional Information or Requirements"}),n.jsx("textarea",{id:"additionalInfo",name:"additionalInfo",value:r.additionalInfo,onChange:C,rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:outline-none",style:{focusRing:"var(--brand-primary)"},placeholder:"Please provide any other details that might help us understand your requirements better."})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",className:"flex items-center justify-center px-6 py-3 rounded-md text-white font-medium transition duration-300",style:{backgroundColor:"var(--brand-primary)"},disabled:l,children:l?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(I9,{className:"mr-2"})," Submit Inquiry"]})})})]})]})})})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-8 text-center",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-6",children:[{question:"What is the minimum quantity for bulk orders?",answer:"We typically consider orders of 10+ units as bulk orders, but this can vary based on the product category and specific items."},{question:"How long does it take to process bulk orders?",answer:"Processing time depends on the quantity and product availability. Our team will provide you with an estimated timeline after reviewing your inquiry."},{question:"Do you provide installation services for bulk orders?",answer:"Yes, we offer installation and setup services for most products when ordered in bulk. Additional charges may apply based on the scope of work."},{question:"Can I get customized products for my business?",answer:"In some cases, we can arrange for customization like company branding or pre-loaded software. Please mention your specific requirements in the inquiry form."}].map((P,V)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:P.question}),n.jsx("p",{className:"text-gray-600",children:P.answer})]},V))})]})})})]})},yie=()=>{const[r,t]=O.useState("all"),[s,i]=O.useState([]),[l,h]=O.useState(["all"]),[m,g]=O.useState(!0),b=[{label:"Home",link:Et.HOME},{label:"Our Stores",link:Et.OUR_STORES}];O.useEffect(()=>{(async()=>{var C;try{const _=await fetch("undefined/api/stores/");if(_.ok){const S=await _.json();i(S.stores||[]);const T=["all",...new Set(((C=S.stores)==null?void 0:C.map(R=>R.city.toLowerCase()))||[])];h(T)}else console.error("Failed to fetch stores"),Rt.error("Failed to load store information")}catch(_){console.error("Error fetching stores:",_),Rt.error("Unable to load stores. Please try again later.")}finally{g(!1)}})()},[]);const v=r==="all"?s:s.filter(k=>k.city.toLowerCase()===r);return n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:b.map((k,C)=>n.jsxs(mt.Fragment,{children:[C>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),C===b.length-1?n.jsx("span",{className:"font-medium",children:k.label}):n.jsx(rt,{to:k.link,className:"text-gray-500 hover:text-primary",children:k.label})]},C))})})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Visit Our Stores"}),n.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Find the nearest store location and experience our products in person. Our expert staff are ready to assist you with all your technology needs."})]})})}),n.jsx("section",{className:"py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:l.map((k,C)=>n.jsx("button",{onClick:()=>t(k),className:`px-4 py-2 rounded-md transition-all ${r===k?"text-white font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:r===k?"var(--brand-primary)":void 0},children:k==="all"?"All Locations":k.charAt(0).toUpperCase()+k.slice(1)},C))})})}),n.jsx("section",{className:"py-8",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(k=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"h-48 relative overflow-hidden",children:[n.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),n.jsx("div",{className:"absolute top-0 right-0 bg-white px-3 py-1 m-3 rounded-full text-sm font-medium capitalize",children:k.city})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:k.name}),n.jsxs("div",{className:"space-y-3 mb-5",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(vn,{className:"text-gray-500 mt-1 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.address})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sa,{className:"text-gray-500 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.contact})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ec,{className:"text-gray-500 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.email})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(rn,{className:"text-gray-500 mr-3 flex-shrink-0"}),n.jsx("p",{className:"text-gray-700",children:k.hours})]})]}),n.jsxs("a",{href:k.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm font-medium transition-colors duration-300",style:{color:"var(--brand-primary)"},children:["View on Google Maps ",n.jsx(C9,{className:"ml-1"})]})]})]},k.id))}),v.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h3",{className:"text-xl font-medium mb-2",children:"No stores found in this location"}),n.jsx("p",{className:"text-gray-600",children:"Please select another location or view all stores."}),n.jsx("button",{onClick:()=>t("all"),className:"mt-4 px-4 py-2 rounded-md text-white transition-all",style:{backgroundColor:"var(--brand-primary)"},children:"View All Stores"})]})]})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Why Visit Our Stores?"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Expert Consultation",description:"Our trained staff can help you choose the perfect device based on your needs and budget."},{title:"Hands-on Experience",description:"Try before you buy! Get hands-on experience with our wide range of products."},{title:"Immediate Support",description:"Get immediate technical support and service for your existing devices."}].map((k,C)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:k.title}),n.jsx("p",{className:"text-gray-600",children:k.description})]},C))})]})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Services Available at Our Stores"}),n.jsx("p",{className:"text-gray-700",children:"Visit any of our stores to access these premium services and get the most out of your devices."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["Product Demonstrations","Technical Support","Device Setup & Configuration","Screen Protector Installation","Software Updates","Device Diagnostics","Warranty Services","Trade-in Programs"].map((k,C)=>n.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 text-center hover:shadow-md transition-shadow",children:n.jsx("p",{className:"font-medium",children:k})},C))})]})}),n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Can't Find a Store Near You?"}),n.jsx("p",{className:"text-lg mb-6",children:"Contact us to learn about our upcoming store locations or shop online with free delivery!"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.jsx(rt,{to:Et.CONTACT,className:"px-6 py-3 bg-white text-blue-600 font-medium rounded-md hover:bg-gray-100 transition-colors",children:"Contact Us"}),n.jsx(rt,{to:Et.PRODUCTS,className:"px-6 py-3 bg-transparent border-2 border-white font-medium rounded-md hover:bg-white hover:text-blue-600 transition-colors",children:"Shop Online"})]})]})})]})},kR=()=>{const{pagePath:r}=Zf(),t=ns(),[s,i]=O.useState(!0),{content:l,loading:h,error:m,fetchPageContent:g,clearContent:b,checkPageExists:v}=sl(),k=[{label:"Home",link:Et.HOME},{label:r?r.replace(/-/g," "):"",link:`/${r}`}];O.useEffect(()=>((async()=>{if(r)try{if(!await v(r)){i(!1);return}g(r)}catch(T){console.error("Error loading page:",T),i(!1)}})(),()=>{b()}),[r]),O.useEffect(()=>{(m||!s)&&t(Et.HOME)},[m,s,t]);const _=(S=>S?S.split("-").map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(" "):"")(r);return n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:k.map((S,T)=>n.jsxs(mt.Fragment,{children:[T>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),T===k.length-1?n.jsx("span",{className:"font-medium",children:S.label}):n.jsx(rt,{to:S.link,className:"text-gray-500 hover:text-primary",children:S.label})]},T))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto text-center",children:n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:_})})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:h?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):l?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:l}}):n.jsx("div",{className:"text-center py-16",children:n.jsx("p",{className:"text-gray-500",children:"Content not available"})})})})})})]})},xie=()=>{const r=[{label:"Home",link:Et.HOME},{label:"Terms & Conditions",link:Et.TERMS_CONDITIONS}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=sl();return O.useEffect(()=>(i("terms-conditions"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((h,m)=>n.jsxs(mt.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:h.label}):n.jsx(rt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Terms & Conditions"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{className:"mb-6",children:'These Terms & Conditions ("Terms") govern your use of our website and services. By accessing our website or purchasing products from us, you agree to be bound by these Terms. Please read them carefully.'}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"1. Use of the Website"}),n.jsx("p",{className:"mb-4",children:"1.1 You may use our website for lawful purposes only and in accordance with these Terms."})]})})})})})]})},vie=()=>{const r=[{label:"Home",link:Et.HOME},{label:"Cancellation & Refund Policy",link:Et.CANCELLATION_REFUND_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=sl();return O.useEffect(()=>(i("cancellation-refund-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((h,m)=>n.jsxs(mt.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:h.label}):n.jsx(rt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Cancellation & Refund Policy"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{className:"mb-6",children:"This Cancellation & Refund Policy outlines our procedures for order cancellations, returns, and refunds. Please review this policy carefully before making a purchase."})})})})})})]})},wie=()=>{const r=[{label:"Home",link:Et.HOME},{label:"Privacy Policy",link:Et.PRIVACY_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=sl();return O.useEffect(()=>(i("privacy-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((h,m)=>n.jsxs(mt.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:h.label}):n.jsx(rt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Privacy Policy"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{className:"mb-6",children:"This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from our website."})})})})})})]})},kie=()=>{const r=[{label:"Home",link:Et.HOME},{label:"Shipping & Delivery Policy",link:Et.SHIPPING_DELIVERY_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=sl();return O.useEffect(()=>(i("shipping-delivery-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[" "," ",n.jsxs("div",{className:"bg-gray-100 py-4",children:[" ",n.jsxs("div",{className:"container mx-auto px-4",children:[" ",n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[" ",r.map((h,m)=>n.jsxs(mt.Fragment,{children:[" ",m>0&&n.jsx("span",{className:"text-gray-500",children:"/"})," ",m===r.length-1?n.jsx("span",{className:"font-medium",children:h.label}):n.jsxs(rt,{to:h.link,className:"text-gray-500 hover:text-primary",children:[" ",h.label," "]})," "]},m))," "]})," "]})," "]})," "," ",n.jsxs("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:[" ",n.jsxs("div",{className:"container mx-auto px-4",children:[" ",n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[" ",n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:[" ","Shipping & Delivery Policy"," "]})," ",n.jsxs("p",{className:"text-lg text-gray-700",children:[" ","Last Updated: January 1, 2023"," "]})," "]})," "]})," "]})," "," ",n.jsxs("section",{className:"py-12",children:[" ",n.jsxs("div",{className:"container mx-auto px-4",children:[" ",n.jsxs("div",{className:"max-w-4xl mx-auto",children:[" ",n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:[" ",s?n.jsxs("div",{className:"flex justify-center items-center py-16",children:[" ",n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})," "]}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs("div",{className:"prose max-w-none",children:[" ",n.jsxs("p",{className:"mb-6",children:[" ","This Shipping & Delivery Policy outlines the terms and conditions for the delivery of products purchased from our website or physical stores. By placing an order with us, you agree to the terms of this policy."," "]})," ",n.jsxs("h2",{className:"text-xl font-bold mt-8 mb-4",children:[" ","1. Shipping Methods and Timeframes"," "]})," ",n.jsxs("h3",{className:"text-lg font-medium mt-6 mb-3",children:[" ","1.1 Standard Shipping"," "]})," ",n.jsxs("p",{className:"mb-4",children:[" ","Standard shipping typically takes 3-5 business days for delivery after your order has been processed and shipped. Processing time is usually 1-2 business days from the time your order is placed."," "]})," "," "]})," "]})," "]})," "]})," "]})," "]})},Cie=()=>{const r=[{label:"Home",link:Et.HOME},{label:"Warranty Policy",link:Et.WARRANTY_POLICY}],{content:t,loading:s,fetchPageContent:i,clearContent:l}=sl();return O.useEffect(()=>(i("warranty-policy"),()=>{l()}),[]),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"bg-gray-100 py-4",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"flex items-center space-x-2 text-sm",children:r.map((h,m)=>n.jsxs(mt.Fragment,{children:[m>0&&n.jsx("span",{className:"text-gray-500",children:"/"}),m===r.length-1?n.jsx("span",{className:"font-medium",children:h.label}):n.jsx(rt,{to:h.link,className:"text-gray-500 hover:text-primary",children:h.label})]},m))})})}),n.jsx("section",{className:"py-10 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--brand-primary)"},children:"Warranty Policy"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Last Updated: January 1, 2023"})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100",children:s?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):t?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{className:"mb-6",children:"This Warranty Policy outlines the terms and conditions of the warranty coverage for products purchased from our stores or website. By purchasing a product from us, you agree to the terms of this policy."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"1. Standard Manufacturer's Warranty"}),n.jsx("p",{className:"mb-4",children:"All products sold come with the standard manufacturer's warranty. The warranty period varies by product and manufacturer and is specified on the product page."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"2. Extended Warranty Options"}),n.jsx("p",{className:"mb-4",children:"We offer extended warranty options on select products for an additional fee. These extended warranties provide coverage beyond the standard manufacturer's warranty period and may offer additional benefits."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"3. Warranty Coverage"}),n.jsx("p",{className:"mb-4",children:"Our warranty covers defects in materials and workmanship under normal use during the warranty period. This warranty does not cover damage caused by accidents, misuse, abuse, neglect, improper installation, unauthorized modifications, or natural disasters."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"4. Warranty Claims Process"}),n.jsx("p",{className:"mb-4",children:"To make a warranty claim, customers must present the original invoice or receipt as proof of purchase. All warranty claims will be processed according to the manufacturer's warranty policies."}),n.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"5. Repair, Replacement, or Refund"}),n.jsx("p",{className:"mb-4",children:"For valid warranty claims, we will repair or replace defective products at our discretion. If a product cannot be repaired or replaced, we will provide a refund or store credit for the purchase price."}),n.jsxs("p",{className:"mt-8 text-sm italic",children:[n.jsx("strong",{children:"Note:"})," This warranty policy is in addition to, and does not affect, your statutory rights as a consumer under the Consumer Protection Act, 2019, and other applicable laws in India."]})]})})})})})]})},S1="admin_token",E1="admin_user",w6=r=>{try{const t=localStorage.getItem(r);return t?JSON.parse(t):null}catch(t){return console.error(`Error parsing stored admin data for key ${r}:`,t),null}},_ie=(r,t)=>{try{return localStorage.setItem(r,JSON.stringify(t)),!0}catch(s){return console.error(`Error storing admin data for key ${r}:`,s),!1}},Aie=(r,t)=>{try{return r&&localStorage.setItem(S1,r),t&&_ie(E1,t),!0}catch(s){return console.error("Error persisting admin auth data:",s),!1}},CR=()=>{try{localStorage.removeItem(S1),localStorage.removeItem(E1)}catch(r){console.error("Error clearing admin auth data:",r)}},Nie=()=>{const r=localStorage.getItem(S1),t=w6(E1);return{admin:t,isAuthenticated:!!(r&&t),isLoading:!1,error:null}},Ej=un(r=>({...Nie(),formData:{username:"",password:"",secretKey:""},formErrors:{username:null,password:null,secretKey:null},setFormData:s=>r(i=>({formData:{...i.formData,...s}})),setFormErrors:s=>r(()=>({formErrors:s})),setIsAuthenticated:s=>r(()=>({isAuthenticated:s})),setIsLoading:s=>r(()=>({isLoading:s})),setError:s=>r(()=>({error:s})),adminLogin:async s=>{var i,l,h,m,g,b;try{r({isLoading:!0,error:null});const k=(await Ze.post("/admin/login",{username:s.username,password:s.password})).data,C={id:k.admin_id,username:s.username};return Aie(k.token,C),r({admin:C,isAuthenticated:!0,isLoading:!1}),k}catch(v){console.error("Admin login error:",v);let k="Login failed. Please check your credentials.";throw v.code==="NETWORK_ERROR"||v.message==="Network Error"?k="Network error: Unable to connect to the server. Please check your internet connection and try again.":((i=v.response)==null?void 0:i.status)===502?k="Server error (502): The admin server is currently unavailable. Please contact your system administrator.":((l=v.response)==null?void 0:l.status)===500?k="Internal server error: Please try again later or contact support.":((h=v.response)==null?void 0:h.status)===404?k="Admin endpoint not found: The admin service may not be configured properly.":((m=v.response)==null?void 0:m.status)===401?k="Invalid credentials: Please check your username and password.":(b=(g=v.response)==null?void 0:g.data)!=null&&b.error&&(k=v.response.data.error),r({error:k,isLoading:!1}),v}},adminRegister:async s=>{var i,l,h,m,g,b,v;try{r({isLoading:!0,error:null});const k=await Ze.post("/admin/signup",{username:s.username,password:s.password,secret:s.secretKey});return r({isLoading:!1}),k.data}catch(k){console.error("Admin registration error:",k);let C="Registration failed. Please try again.";throw k.code==="NETWORK_ERROR"||k.message==="Network Error"?C="Network error: Unable to connect to the server. Please check your internet connection and try again.":((i=k.response)==null?void 0:i.status)===502?C="Server error (502): The admin server is currently unavailable. Please contact your system administrator.":((l=k.response)==null?void 0:l.status)===500?C="Internal server error: Please try again later or contact support.":((h=k.response)==null?void 0:h.status)===404?C="Admin endpoint not found: The admin service may not be configured properly.":((m=k.response)==null?void 0:m.status)===401?C="Invalid secret key: Please check your secret key and try again.":((g=k.response)==null?void 0:g.status)===409?C="Admin already exists: An admin with this username already exists.":(v=(b=k.response)==null?void 0:b.data)!=null&&v.error&&(C=k.response.data.error),r({error:C,isLoading:!1}),k}},adminLogout:()=>{CR(),r({admin:null,isAuthenticated:!1,error:null})},checkAdminAuthStatus:()=>{try{if(localStorage.getItem(S1)){const i=w6(E1);if(i)return r({admin:i,isAuthenticated:!0}),!0}return r({admin:null,isAuthenticated:!1}),!1}catch(s){return console.error("Admin auth check error:",s),CR(),r({admin:null,isAuthenticated:!1,error:"Authentication error"}),!1}},clearError:()=>r({error:null}),devModeLogin:s=>(s.username==="admin"&&s.password,!1),testServerConnection:async()=>{var s,i,l,h,m;try{r({isLoading:!0,error:null});const g=await Ze.get("/admin/health");return r({isLoading:!1,error:null}),{success:!0,message:" Production server is accessible and working",status:g.status,troubleshooting:[" Backend server is online"," You can use production login if you have credentials"," Development mode is still available as backup"]}}catch(g){console.error("Server connectivity test failed:",g);let b="",v=[];return g.message==="Network Error"&&((i=(s=g.config)==null?void 0:s.url)!=null&&i.includes("69.62.72.199"))?(b=" BACKEND TEST RESULT: Server has CORS/connectivity issues",v=[" THE TEST IS WORKING CORRECTLY!"," This confirms the backend server blocks localhost requests"," CORS Error: Production server needs proper CORS headers"," 502 Error: Backend service may be down/misconfigured",""," SOLUTION: Use Development Mode instead:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 Full admin access without backend dependency"]):((l=g.response)==null?void 0:l.status)===502?(b=" BACKEND TEST RESULT: 502 Bad Gateway detected",v=[" THE TEST IS WORKING CORRECTLY!"," Successfully detected backend server is down"," 502 Error means the backend service is unavailable",""," SOLUTION: Use Development Mode instead:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 All admin features work without backend"]):((h=g.response)==null?void 0:h.status)===404?(b=" BACKEND TEST RESULT: Health endpoint not found",v=[" Health endpoint (/admin/health) not implemented"," This doesn't mean the login won't work"," You can try production login if you have credentials"," Or use Development Mode for guaranteed access"]):(b=" BACKEND TEST RESULT: Connection issues detected",v=[" THE TEST IS WORKING - it found backend problems"," This confirms the production server has issues",""," RECOMMENDED SOLUTION:","1 Enable 'Development Mode' above","2 Login with: admin / admin123","3 Full admin functionality available"]),r({error:b,isLoading:!1}),{success:!1,message:b,status:((m=g.response)==null?void 0:m.status)||0,troubleshooting:v}}}})),k6=()=>{try{const r=localStorage.getItem("customColors");if(r){const t=JSON.parse(r);return Dj(t),t}}catch(r){console.error("Error loading custom colors:",r)}return null},Dj=r=>{const t=document.documentElement;r.primary&&t.style.setProperty("--brand-primary",r.primary),r.secondary&&t.style.setProperty("--brand-secondary",r.secondary),r.success&&t.style.setProperty("--success-color",r.success),r.error&&t.style.setProperty("--error-color",r.error),r.warning&&t.style.setProperty("--warning-color",r.warning),r.info&&t.style.setProperty("--accent-color",r.info)},jie=()=>({primary:"#3b82f6",secondary:"#10b981",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#f59e0b"}),Sie=r=>{try{return localStorage.setItem("customColors",JSON.stringify(r)),Dj(r),!0}catch(t){return console.error("Error saving custom colors:",t),!1}},Eie=()=>{const{theme:r,setTheme:t,isDarkMode:s}=px(),[i,l]=O.useState(!1),h=O.useRef(null),m=[{value:"light",icon:HT,label:"Light"},{value:"dark",icon:xee,label:"Dark"},{value:"system",icon:yee,label:"System"}],g=()=>{const k=m.find(C=>C.value===r);return k?k.icon:HT};O.useEffect(()=>{const k=C=>{h.current&&!h.current.contains(C.target)&&l(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const b=k=>{t(k),l(!1)},v=g();return n.jsxs("div",{className:"relative",ref:h,children:[n.jsxs(Rn.button,{onClick:()=>l(!i),className:"flex items-center justify-center gap-1 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20",style:{color:"var(--text-on-brand)",backgroundColor:i?"rgba(255, 255, 255, 0.1)":"transparent"},whileHover:{scale:1.02},whileTap:{scale:.98},title:"Change theme",children:[n.jsx(Rn.div,{initial:{scale:.8,opacity:0,rotate:r==="light"?180:0},animate:{scale:1,opacity:1,rotate:0},transition:{duration:.3,ease:"easeOut"},children:n.jsx(v,{className:"w-5 h-5"})},r),n.jsx(ki,{className:`w-3 h-3 transition-transform duration-200 ${i?"rotate-180":""}`})]}),n.jsx(yj,{children:i&&n.jsx(Rn.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute top-full right-0 mt-2 py-2 rounded-lg shadow-lg border min-w-[120px] z-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-large)"},children:m.map(({value:k,icon:C,label:_})=>n.jsxs(Rn.button,{onClick:()=>b(k),className:`w-full flex items-center gap-3 px-4 py-2 text-left transition-all duration-150 hover:bg-gray-50 dark:hover:bg-gray-700 ${r===k?"font-medium":""}`,style:{color:r===k?"var(--brand-primary)":"var(--text-primary)",backgroundColor:r===k?"var(--bg-secondary)":"transparent"},whileHover:{x:2},children:[n.jsx(C,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:_}),r===k&&n.jsx(Rn.div,{layoutId:"selected-indicator",className:"w-2 h-2 rounded-full ml-auto",style:{backgroundColor:"var(--brand-primary)"}})]},k))})})]})},Die=()=>{const r=ns(),[t,s]=O.useState(""),[i,l]=O.useState([]),[h,m]=O.useState(!1),g=O.useRef(null),b=O.useRef(null),v=O.useRef(!1),{isAuthenticated:k}=jr(),{itemCount:C,totalAmount:_,fetchCart:S}=eh(),{items:T,fetchWishlist:R}=N1(),P=O.useRef(!1),{searchProducts:V,fetchProducts:U}=sc(),{getDropdownBanners:F}=Gx(),[q,ne]=O.useState({city:"Bhopal",loading:!1,error:null}),[se,Q]=O.useState(!1),[B,Y]=O.useState(!1),[J,K]=O.useState(null),Z=[{id:1,name:"Mobiles & Accessories",path:"/products/smartphones",banners:[{image:"/mobile1.png",title:"Latest iPhones",subtitle:"Up to 25% OFF",buttonText:"Shop Now",link:"/products/smartphones?brand=Apple"},{image:"/accessories.png",title:"Mobile Accessories",subtitle:"Starting 99",buttonText:"Explore",link:"/products/accessories"}],subcategories:[{title:"Smartphones",items:[{name:"Apple iPhone",path:"/products/smartphones?brand=Apple",hot:!0},{name:"Samsung Galaxy",path:"/products/smartphones?brand=Samsung",popular:!0},{name:"Xiaomi Redmi",path:"/products/smartphones?brand=MI"},{name:"OnePlus",path:"/products/smartphones?brand=Oneplus"},{name:"Oppo",path:"/products/smartphones?brand=Oppo"},{name:"Vivo",path:"/products/smartphones?brand=Vivo"},{name:"Nothing Phone",path:"/products/smartphones?brand=Nothing",new:!0},{name:"Motorola",path:"/products/smartphones?brand=Motorola"}]},{title:"Mobile Accessories",items:[{name:"Cases & Covers",path:"/products/accessories?type=cases",popular:!0},{name:"Screen Protectors",path:"/products/accessories?type=screen-guards"},{name:"Chargers & Cables",path:"/products/accessories?type=chargers"},{name:"Power Banks",path:"/products/accessories?type=powerbanks"},{name:"Mobile Holders",path:"/products/accessories?type=holders"},{name:"Headphones",path:"/products/accessories?type=headphones"},{name:"Memory Cards",path:"/products/accessories?type=memory"},{name:"Bluetooth Speakers",path:"/products/accessories?type=speakers"}]},{title:"By Price Range",items:[{name:"Under 15,000",path:"/products/smartphones?price_max=15000"},{name:"15,000 - 25,000",path:"/products/smartphones?price_min=15000&price_max=25000"},{name:"25,000 - 50,000",path:"/products/smartphones?price_min=25000&price_max=50000"},{name:"Above 50,000",path:"/products/smartphones?price_min=50000",premium:!0}]},{title:"Popular Brands",items:[{name:"Apple Store",path:"/products/smartphones?brand=Apple",premium:!0},{name:"Samsung",path:"/products/smartphones?brand=Samsung"},{name:"Xiaomi",path:"/products/smartphones?brand=MI"},{name:"OnePlus",path:"/products/smartphones?brand=Oneplus"},{name:"Realme",path:"/products/smartphones?brand=Realme"},{name:"iQOO",path:"/products/smartphones?brand=iQOO",hot:!0}]}]},{id:2,name:"Computers & Tablets",path:"/products/laptops",banners:[{image:"/laptops.png",title:"Gaming Laptops",subtitle:"Up to 30% OFF",buttonText:"Shop Now",link:"/products/laptops?type=gaming"},{image:"/tablets1.png",title:"Premium Tablets",subtitle:"Starting 15,999",buttonText:"Explore",link:"/products/tablets"}],subcategories:[{title:"Laptops",items:[{name:"MacBooks",path:"/products/laptops?brand=Apple",premium:!0},{name:"Gaming Laptops",path:"/products/laptops?type=gaming",hot:!0},{name:"Business Laptops",path:"/products/laptops?type=business"},{name:"Student Laptops",path:"/products/laptops?type=student"},{name:"2-in-1 Laptops",path:"/products/laptops?type=convertible"},{name:"Ultrabooks",path:"/products/laptops?type=ultrabook"},{name:"Workstations",path:"/products/laptops?type=workstation"}]},{title:"Tablets & iPads",items:[{name:"Apple iPad",path:"/products/tablets?brand=Apple",premium:!0},{name:"Samsung Galaxy Tab",path:"/products/tablets?brand=Samsung",popular:!0},{name:"Xiaomi Pad",path:"/products/tablets?brand=MI"},{name:"OnePlus Pad",path:"/products/tablets?brand=Oneplus",new:!0},{name:"Realme Pad",path:"/products/tablets?brand=Realme"},{name:"Lenovo Tab",path:"/products/tablets?brand=Lenovo"}]},{title:"Computer Accessories",items:[{name:"Wireless Mouse",path:"/products/accessories?type=mouse"},{name:"Mechanical Keyboards",path:"/products/accessories?type=keyboards",popular:!0},{name:"Laptop Bags",path:"/products/accessories?type=bags"},{name:"Laptop Stands",path:"/products/accessories?type=stands"},{name:"Webcams",path:"/products/accessories?type=webcams"},{name:"USB Hubs",path:"/products/accessories?type=hubs"}]},{title:"By Brand",items:[{name:"Apple",path:"/products/laptops?brand=Apple",premium:!0},{name:"HP",path:"/products/laptops?brand=HP"},{name:"Dell",path:"/products/laptops?brand=Dell"},{name:"Lenovo",path:"/products/laptops?brand=Lenovo"},{name:"Asus",path:"/products/laptops?brand=Asus"},{name:"Acer",path:"/products/laptops?brand=Acer"}]}]},{id:3,name:"TV & Audio",path:"/products/televisions",banners:[{image:"/tv1.png",title:"Smart TVs",subtitle:"Up to 40% OFF",link:"/products/televisions"},{image:"/accessories.png",title:"Audio Devices",subtitle:"Premium Sound",link:"/products/audio"}],subcategories:[{title:"Smart TVs",items:[{name:"Xiaomi Smart TV",path:"/products/televisions?brand=Xiaomi",brands:["Xiaomi"]},{name:"Mi TV",path:"/products/televisions?brand=Mi",brands:["Mi"]},{name:"Cellecor TV",path:"/products/televisions?brand=Cellecor",brands:["Cellecor"]},{name:"4K TVs",path:"/products/televisions?resolution=4K"},{name:"Full HD TVs",path:"/products/televisions?resolution=Full HD"},{name:"Android TVs",path:"/products/televisions?os=Android"}]},{title:"Audio Devices",items:[{name:"Bluetooth Speakers",path:"/products/speakers?type=bluetooth"},{name:"Wireless Speakers",path:"/products/speakers?type=wireless"},{name:"Portable Speakers",path:"/products/speakers?type=portable"},{name:"Home Audio",path:"/products/speakers?type=home-audio"}]},{title:"Audio Brands",items:[{name:"JBL",path:"/products/speakers?brand=JBL",brands:["JBL"]},{name:"boAt",path:"/products/speakers?brand=Boat",brands:["Boat"]},{name:"Zebronics",path:"/products/speakers?brand=Zebronics",brands:["Zebronics"]},{name:"Digitek",path:"/products/speakers?brand=Digiteck",brands:["Digiteck"]},{name:"Edifier",path:"/products/speakers?brand=Edifier",brands:["Edifier"]},{name:"Ultra Prolink",path:"/products/speakers?brand=Ultra Prolink",brands:["Ultra Prolink"]}]}]},{id:4,name:"Smart Technology",path:"/products/smartwatches",banners:[{image:"/accessories.png",title:"Smart Watches",subtitle:"Latest Collection",link:"/products/smartwatches"},{image:"/mobile1.png",title:"Wireless Earbuds",subtitle:"Premium Audio",link:"/products/earbuds"}],subcategories:[{title:"Wearables",items:[{name:"Smartwatches",path:"/products/smartwatches"},{name:"Fitness Bands",path:"/products/fitness-bands"},{name:"Wireless Earbuds",path:"/products/earbuds"},{name:"Smart Rings",path:"/products/smart-rings"}]},{title:"Smart Home",items:[{name:"Smart Speakers",path:"/products/smart-speakers"},{name:"Smart Lights",path:"/products/smart-lights"},{name:"Smart Plugs",path:"/products/smart-plugs"},{name:"Security Cameras",path:"/products/security-cameras"}]}]}],ee=G=>{K(J===G?null:G)},be=(G,ue)=>{G.key==="Enter"||G.key===" "?(G.preventDefault(),ee(ue)):G.key==="Escape"&&K(null)},xe=G=>{},ie=()=>{};O.useEffect(()=>{P.current||(P.current=!0,U())},[]),O.useEffect(()=>{const G=pe=>{const me=g.current&&!g.current.contains(pe.target),ye=b.current&&!b.current.contains(pe.target);me&&ye&&m(!1),!pe.target.closest(".dropdown-container")&&!pe.target.closest('[aria-haspopup="true"]')&&K(null)},ue=pe=>{pe.key==="Escape"&&(K(null),m(!1))};return document.addEventListener("mousedown",G),document.addEventListener("keydown",ue),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("keydown",ue)}},[]),O.useEffect(()=>{if(t.trim()===""){l([]),m(!1);return}const G=V(t);l(G.slice(0,5)),m(!0)},[t]),O.useEffect(()=>{k&&!v.current?(v.current=!0,S(),R()):k||(v.current=!1)},[k]),O.useEffect(()=>{(()=>{navigator.geolocation?(ne(ue=>({...ue,loading:!0})),navigator.geolocation.getCurrentPosition(async ue=>{try{const{latitude:pe,longitude:me}=ue.coords,Se=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${pe}&lon=${me}&format=json`)).json(),_e=Se.address.city||Se.address.town||Se.address.village||Se.address.county||"Unknown";ne({city:_e,loading:!1,error:null})}catch(pe){ne({city:"Bhopal",loading:!1,error:pe||"Failed to fetch location"})}},ue=>{ne({city:"Jabalpur",loading:!1,error:ue||"Location access denied"})})):ne({city:"Jabalpur",loading:!1,error:"Geolocation not supported"})})()},[]);const ae=G=>{if(G.preventDefault(),t.trim()){const ue=V(t);console.log("Search results:",ue),r(`/search?query=${encodeURIComponent(t.trim())}`),m(!1)}},le=G=>{if(G.key==="Enter"&&t.trim()){const ue=V(t);console.log("Mobile search results:",ue),r(`/search?query=${encodeURIComponent(t.trim())}`),m(!1)}},oe=G=>{r(`/products/${G}`),m(!1),s("")};return n.jsxs("header",{className:"sticky top-0 z-50",children:[n.jsx("div",{className:"shadow-xl relative",style:{backgroundColor:"var(--brand-primary)",backgroundImage:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"},children:n.jsx("div",{className:"container mx-auto px-2 sm:px-3",children:n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>Q(!se),"aria-label":se?"Close menu":"Open menu",children:se?n.jsx(qt,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}}):n.jsx(gee,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}})}),n.jsx(rt,{to:Et.HOME,className:"flex items-center transform hover:scale-105 transition duration-300 ease-in-out",children:n.jsx(rk,{linkWrapper:!1,titleColor:"white"})}),n.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-6",children:n.jsxs("div",{className:`relative group ${B?"ring-4 ring-white/20 rounded-full":""}`,children:[n.jsxs("form",{onSubmit:ae,className:"w-full",children:[n.jsx("input",{type:"text",placeholder:"Search for Products, Brands, Offers",className:"w-full py-3 px-5 pr-12 rounded-full focus:outline-none transition-all duration-300",style:{backgroundColor:B?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:B?"0 0 20px rgba(255, 255, 255, 0.3)":"var(--shadow-small)",caretColor:"#333"},value:t,onChange:G=>{s(G.target.value),G.target.value.trim()===""&&m(!1)},onFocus:()=>{t.trim()!==""&&i.length>0&&m(!0)},onBlur:()=>Y(!1)}),n.jsx("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center transition-transform duration-300 hover:scale-110 active:scale-95",style:{color:"#333"},"aria-label":"Search",children:n.jsx(Ei,{className:"text-xl filter drop-shadow-lg"})})]}),h&&i.length>0&&n.jsx("div",{ref:g,className:"absolute left-0 right-0 z-10 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:n.jsxs("ul",{className:"py-1",children:[i.map(G=>n.jsx("li",{children:n.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>oe(G.id),children:[n.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3 bg-gray-200 rounded overflow-hidden",children:n.jsx("img",{src:G.images&&G.images.length>0?G.images[0]:"https://via.placeholder.com/40",alt:G.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[G.brand,"  ",G.category]})]}),n.jsxs("div",{className:"ml-3 text-sm font-medium text-gray-900",children:["",G.discount_price||G.price]})]})},G.id)),n.jsx("li",{children:n.jsx("div",{className:"px-4 py-2 text-center text-sm text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{ae({preventDefault:()=>{}}),m(!1)},children:"View all results"})})]})})]})}),n.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[n.jsxs("div",{className:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:translate-y-[-2px] relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(vn,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),n.jsxs("div",{className:"text-xs mt-1",children:[n.jsx("p",{className:"text-white/80 text-center",style:{color:"var(--text-on-brand-muted)"},children:"Delivery to"}),n.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:q.loading?n.jsx("span",{className:"inline-block w-16 h-3 bg-white/20 rounded-full animate-pulse"}):q.error?"Error fetching location":q.city})]})]}),n.jsxs(rt,{to:Et.WISHLIST,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(ag,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),n.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:T.length})]}),n.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Wishlist"})]}),n.jsxs(rt,{to:Et.ORDERS,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(ei,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),n.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Orders"})]}),n.jsxs(rt,{to:Et.CART,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(lg,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),n.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:C})]}),n.jsxs("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:[" ",_.toFixed(2)]})]}),n.jsxs(rt,{to:k?"/profile":Et.LOGIN,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),n.jsx(Ds,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),n.jsx("div",{className:"text-xs mt-1",children:n.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:k?"My Account":"Sign In"})})]}),n.jsx("div",{className:"flex flex-col items-center justify-center",children:n.jsx(Eie,{})})]})]})})}),n.jsx("div",{className:"md:hidden px-2 py-3",style:{backgroundColor:"var(--brand-primary-hover)"},children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full py-2 px-4 pr-10 rounded-full text-sm focus:outline-none",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:"var(--shadow-small)"},value:t,onChange:G=>s(G.target.value),onKeyDown:le,onFocus:()=>{t.trim()!==""&&i.length>0&&m(!0)}}),n.jsx("button",{onClick:()=>{if(t.trim()){const G=V(t);console.log("Mobile search results:",G),r(`/search?query=${encodeURIComponent(t.trim())}`)}},className:"absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center",style:{color:"#333"},children:n.jsx(Ei,{className:"text-lg"})}),h&&i.length>0&&n.jsx("div",{ref:b,className:"absolute left-0 right-0 z-50 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"300px",overflowY:"auto"},children:n.jsxs("ul",{className:"py-1",children:[i.map(G=>n.jsx("li",{children:n.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>oe(G.id),children:[n.jsx("div",{className:"w-8 h-8 flex-shrink-0 mr-2 bg-gray-200 rounded overflow-hidden",children:n.jsx("img",{src:G.images&&G.images.length>0?G.images[0]:"https://via.placeholder.com/32",alt:G.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:G.name}),n.jsx("p",{className:"text-xs text-gray-500",children:G.brand})]}),n.jsxs("div",{className:"ml-2 text-xs font-medium text-gray-900",children:["",G.discount_price||G.price]})]})},G.id)),n.jsx("li",{children:n.jsx("div",{className:"px-3 py-2 text-center text-xs text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{t.trim()&&(r(`/search?query=${encodeURIComponent(t.trim())}`),m(!1))},children:"View all results"})})]})})]})}),n.jsx("nav",{className:"bg-white shadow-md relative",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",zIndex:40},children:n.jsxs("div",{className:"container mx-auto px-2 sm:px-3 relative",children:[n.jsxs("ul",{className:"hidden lg:flex items-center justify-between py-3.5",style:{overflow:"visible"},children:[Z==null?void 0:Z.map(G=>n.jsx("li",{className:"whitespace-nowrap px-3 relative dropdown-container",style:{position:"relative"},children:n.jsxs("button",{onClick:()=>ee(G.id),onKeyDown:ue=>be(ue,G.id),className:"text-sm font-semibold transition-all duration-300 relative group py-2 px-3 hover:text-orange-600 flex items-center rounded-lg hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50",style:{color:"var(--text-primary)"},"aria-expanded":J===G.id,"aria-haspopup":"true","aria-label":`${G.name} menu`,children:[n.jsx("span",{className:"relative z-10",children:G.name}),n.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-300 ${J===G.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})}),n.jsx("span",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-1 bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-300 group-hover:w-3/4 rounded-full shadow-lg",style:{backgroundColor:"var(--brand-primary)"}})]})},G.id)),n.jsx("li",{className:"whitespace-nowrap px-3",children:n.jsxs(rt,{to:"/products",className:"text-sm font-semibold transition-all duration-300 relative group py-2 px-3 hover:text-orange-600 rounded-lg hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 transform hover:scale-105",style:{color:"var(--text-primary)"},children:[n.jsx("span",{className:"relative z-10",children:"Browse All"}),n.jsx("span",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-1 bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-300 group-hover:w-3/4 rounded-full shadow-lg",style:{backgroundColor:"var(--brand-primary)"}})]})})]}),J&&n.jsx("div",{className:"absolute bg-white shadow-lg border-t-2",style:{backgroundColor:"#ffffff",borderTopColor:"var(--brand-primary)",borderTopWidth:"2px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:9999,top:"100%",left:"50%",transform:"translateX(-50%)",width:"90vw",maxWidth:"1200px",marginTop:"-1px",borderRadius:"0 0 8px 8px",border:"1px solid #e5e7eb"},onMouseEnter:()=>xe(),onMouseLeave:ie,children:n.jsx("div",{className:"px-8 py-6",children:(()=>{const G=Z.find(ue=>ue.id===J);return G?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6 pb-4",style:{borderBottom:"1px solid var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:G.name}),n.jsx(rt,{to:G.path,className:"hover:opacity-80 text-sm font-medium transition-opacity",style:{color:"var(--brand-primary)"},onClick:()=>K(null),children:"View All "})]})}),n.jsxs("div",{className:"grid grid-cols-12 gap-6 h-full min-h-[340px]",children:[n.jsx("div",{className:"col-span-8 grid grid-cols-3 gap-6",children:G.subcategories.map((ue,pe)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-3 pb-2",style:{color:"var(--text-primary)",borderBottom:"1px solid var(--border-primary)"},children:ue.title}),n.jsx("ul",{className:"space-y-1",children:ue.items.map((me,ye)=>n.jsx("li",{children:n.jsx(rt,{to:me.path,className:"text-sm transition-colors block py-1 rounded px-2",style:{color:"var(--text-secondary)"},onMouseEnter:Se=>{Se.target.style.color="var(--brand-primary)",Se.target.style.backgroundColor="var(--bg-secondary)"},onMouseLeave:Se=>{Se.target.style.color="var(--text-secondary)",Se.target.style.backgroundColor=""},onClick:()=>K(null),children:me.name})},ye))})]},pe))}),n.jsx("div",{className:"col-span-4 pl-6",style:{borderLeft:"1px solid var(--border-primary)"},children:(()=>{const ue=F(G.name),pe=ue.length>0?ue:G.banners;return!pe||pe.length===0?n.jsx("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:n.jsx("p",{className:"text-sm",children:"No promotions available"})}):n.jsx("div",{className:"space-y-3",children:pe.slice(0,2).map((me,ye)=>n.jsxs(rt,{to:me.link||me.buttonLink||G.path,className:"block relative rounded-lg overflow-hidden hover:shadow-lg transition-shadow",onClick:()=>K(null),children:[n.jsxs("div",{className:"aspect-[16/9] w-full bg-gradient-to-br from-orange-500 to-red-500 relative",children:[n.jsx("img",{src:me.image||me.imageUrl,alt:me.title,className:"w-full h-full object-cover",onError:Se=>{Se.target.style.display="none"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white",children:n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-lg font-bold mb-2",children:me.title||"Smart TVs"}),n.jsx("div",{className:"text-sm opacity-90 mb-3",children:me.subtitle||"Up to 40% OFF"}),n.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-medium",children:me.buttonText||"Shop Now"})]})})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex items-end",children:n.jsxs("div",{className:"p-4 text-white w-full",children:[n.jsx("h4",{className:"font-bold text-base mb-1",children:me.title||"Smart TVs"}),n.jsx("p",{className:"text-sm opacity-90 mb-2",children:me.subtitle||"Up to 40% OFF"}),(me.buttonText||me.cta)&&n.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-medium",children:me.buttonText||me.cta||"Shop Now"})]})})]},ye))})})()})]})]}):null})()})})]})}),n.jsx("div",{className:`lg:hidden fixed inset-0 z-50 transition-all duration-300 ${se?"opacity-100 visible":"opacity-0 invisible"}`,style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:`absolute top-0 left-0 h-full w-3/4 max-w-xs bg-white shadow-2xl transition-transform duration-300 transform ${se?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx(rk,{size:"small",linkWrapper:!1,titleColor:"var(--text-primary)"}),n.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100",onClick:()=>Q(!1),"aria-label":"Close menu",children:n.jsx(qt,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]}),n.jsxs("div",{className:"py-4",children:[k&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"My Account"}),n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx(rt,{to:"/profile",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"Profile"})}),n.jsx("li",{children:n.jsx(rt,{to:"/profile/addresses",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"My Addresses"})}),n.jsx("li",{children:n.jsx(rt,{to:"/orders",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"Orders"})}),n.jsx("li",{children:n.jsx(rt,{to:"/wishlist",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:"Wishlist"})})]})]}),n.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"Categories"}),n.jsxs("ul",{children:[Z==null?void 0:Z.map(G=>n.jsx("li",{children:n.jsx(rt,{to:G.path,className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>Q(!1),children:G.name})},G.id)),n.jsx("li",{children:n.jsx(rt,{to:"/products",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors font-medium",style:{color:"var(--brand-primary)"},onClick:()=>Q(!1),children:"Browse All Products"})})]})]})]})})]})},Mie=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(!0),[l,h]=O.useState(null),[m,g]=O.useState([]),{pages:b,fetchAvailablePages:v}=sl(),k=async()=>{try{i(!0);const C=await Ze.get("/admin/footer/");if(C.status===200&&t(C.data.footer_config),b&&b.length>0)g(b);else try{if(await v(),!b||b.length===0){const _=await Ze.get("/admin/content/pages/");_.status===200&&g(_.data.pages||[])}}catch(_){console.error("Error fetching custom pages:",_)}i(!1)}catch(C){console.error("Error fetching footer data:",C),h("Failed to load footer data"),i(!1)}};return O.useEffect(()=>{k();const C=setInterval(()=>{v()},3e5);return()=>clearInterval(C)},[]),O.useEffect(()=>{b&&b.length>0&&g(b)},[b]),{footerData:r,loading:s,error:l,refetch:k,customPages:m}},Tie=()=>{var C,_,S,T,R,P,V,U,F,q,ne,se,Q,B,Y,J;const{footerData:r,loading:t,customPages:s}=Mie();if(t)return n.jsx("footer",{className:"bg-gray-900 text-white py-10",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"animate-pulse flex flex-col items-center justify-center",children:[n.jsx("div",{className:"h-8 w-40 bg-gray-700 rounded mb-6"}),n.jsx("div",{className:"h-4 w-3/4 md:w-1/2 bg-gray-700 rounded mb-4"}),n.jsx("div",{className:"h-4 w-2/3 md:w-1/3 bg-gray-700 rounded"})]})})});const i={FaFacebookF:n.jsx(Z_,{}),FaTwitter:n.jsx(cR,{}),FaInstagram:n.jsx(aR,{}),FaYoutube:n.jsx(dR,{}),FaLinkedinIn:n.jsx(lR,{}),FaWhatsapp:n.jsx(jy,{})},l=Array.isArray(s)?s.map(K=>({name:K.title,path:`/${K.path}`,isCustom:!0})):[],h=(Array.isArray(r==null?void 0:r.quick_links)?r.quick_links.filter(K=>K.enabled):[])||[{name:"Home",path:Et.HOME},{name:"About",path:Et.ABOUT},{name:"Contact",path:Et.CONTACT}],m=(Array.isArray(r==null?void 0:r.customer_service_links)?r.customer_service_links.filter(K=>K.enabled):[])||[{name:"Track Your Order",path:Et.TRACK_ORDER},{name:"Bulk Orders",path:Et.BULK_ORDER}],g=[...Array.isArray(r==null?void 0:r.policy_links)?r.policy_links.filter(K=>K.enabled):[{name:"Terms & Conditions",path:"/terms-conditions"},{name:"Cancellation & Refund Policy",path:"/cancellation-refund-policy"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Shipping & Delivery Policy",path:"/shipping-delivery-policy"}],...l.filter(K=>K.name.toLowerCase().includes("policy")||K.name.toLowerCase().includes("terms"))],b=[...Array.isArray(r==null?void 0:r.know_more_links)?r.know_more_links.filter(K=>K.enabled):[{name:"Our Stores",path:"/our-stores"},{name:"Service Center",url:"https://www.poorvika.com/service-center"}],...l.filter(K=>!K.name.toLowerCase().includes("policy")&&!K.name.toLowerCase().includes("terms"))],v=(Array.isArray(r==null?void 0:r.social_links)?r.social_links.filter(K=>K.enabled).map(K=>({icon:i[K.icon]||n.jsx(Z_,{}),url:K.url,label:K.name})):[])||[{icon:n.jsx(Z_,{}),url:"https://facebook.com",label:"Facebook"},{icon:n.jsx(cR,{}),url:"https://twitter.com",label:"Twitter"},{icon:n.jsx(aR,{}),url:"https://instagram.com",label:"Instagram"},{icon:n.jsx(dR,{}),url:"https://youtube.com",label:"YouTube"},{icon:n.jsx(lR,{}),url:"https://linkedin.com",label:"LinkedIn"}],k=[...Array.isArray(r==null?void 0:r.footer_policy_links)?r.footer_policy_links.filter(K=>K.enabled):[{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms of Use",path:"/terms-conditions"},{name:"Warranty Policy",path:"/warranty-policy"}],...l.filter(K=>K.name.toLowerCase().includes("policy")||K.name.toLowerCase().includes("terms")||K.name.toLowerCase().includes("privacy")||K.name.toLowerCase().includes("legal")).slice(0,3)];return n.jsxs("footer",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(-50%, -50%)"}}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(30%, 30%)"}}),n.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{className:"text-center md:text-left",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Stay Updated with Latest Offers!"}),n.jsx("p",{className:"text-orange-100",children:"Get exclusive deals and new product updates delivered to your inbox"})]}),n.jsxs("div",{className:"flex w-full md:w-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 md:w-80 px-4 py-3 rounded-l-lg border-0 focus:outline-none focus:ring-2 focus:ring-white"}),n.jsx("button",{className:"px-6 py-3 bg-white text-orange-500 font-semibold rounded-r-lg hover:bg-gray-100 transition-colors",children:"Subscribe"})]})]})})}),n.jsx("div",{className:"pt-16 pb-1",style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-12",children:[((C=r==null?void 0:r.company_info)==null?void 0:C.enabled)!==!1&&n.jsxs("div",{className:"space-y-5 lg:col-span-2",children:[n.jsx(rk,{linkWrapper:!1}),n.jsx("p",{className:"text-sm max-w-xs",style:{color:"var(--text-on-dark-bg)",lineHeight:"1.6"},children:((_=r==null?void 0:r.company_info)==null?void 0:_.description)||"Your trusted electronics partner offering the latest mobiles, laptops, and accessories at competitive prices with excellent customer service."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-semibold text-white",children:"Download Our App"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("a",{href:"https://play.google.com/store",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:[n.jsx(woe,{className:"text-green-400"}),n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{children:"Get it on"}),n.jsx("div",{className:"font-semibold",children:"Google Play"})]})]}),n.jsxs("a",{href:"https://apps.apple.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:[n.jsx(koe,{className:"text-white"}),n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{children:"Download on the"}),n.jsx("div",{className:"font-semibold",children:"App Store"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Store"}),n.jsxs("ul",{className:"space-y-2",children:[h.map((K,Z)=>n.jsx("li",{children:n.jsx(rt,{to:K.path,className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:ee=>{ee.target.style.color="var(--brand-primary)"},onMouseLeave:ee=>{ee.target.style.color="var(--text-on-dark-bg)"},children:K.name})},Z)),n.jsx("li",{children:n.jsx("a",{href:"/our-stores",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:K=>{K.target.style.color="var(--brand-primary)"},onMouseLeave:K=>{K.target.style.color="var(--text-on-dark-bg)"},children:"Our Stores"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Help"}),n.jsxs("ul",{className:"space-y-2",children:[m.map((K,Z)=>n.jsx("li",{children:n.jsx(rt,{to:K.path,className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:ee=>{ee.target.style.color="var(--brand-primary)"},onMouseLeave:ee=>{ee.target.style.color="var(--text-on-dark-bg)"},children:K.name})},Z)),n.jsx("li",{children:n.jsx("a",{href:"/bulk-orders",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:K=>{K.target.style.color="var(--brand-primary)"},onMouseLeave:K=>{K.target.style.color="var(--text-on-dark-bg)"},children:"Bulk Orders"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Policies"}),n.jsx("ul",{className:"space-y-2",children:g.map((K,Z)=>n.jsx("li",{children:n.jsx(rt,{to:K.path||K.url||"#",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:ee=>{ee.target.style.color="var(--brand-primary)"},onMouseLeave:ee=>{ee.target.style.color="var(--text-on-dark-bg)"},children:K.name})},Z))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Know More"}),n.jsxs("ul",{className:"space-y-2",children:[b.map((K,Z)=>n.jsx("li",{children:n.jsx("a",{href:K.url||K.path||"#",target:K.url?"_blank":"_self",rel:K.url?"noopener noreferrer":"",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:ee=>{ee.target.style.color="var(--brand-primary)"},onMouseLeave:ee=>{ee.target.style.color="var(--text-on-dark-bg)"},children:K.name})},Z)),n.jsx("li",{children:n.jsx("a",{href:"https://www.poorvika.com/service-center",target:"_blank",rel:"noopener noreferrer",className:"text-sm transition-colors block py-1",style:{color:"var(--text-on-dark-bg)",textDecoration:"none"},onMouseEnter:K=>{K.target.style.color="var(--brand-primary)"},onMouseLeave:K=>{K.target.style.color="var(--text-on-dark-bg)"},children:"Service Center"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-on-dark-bg)"},children:"Contact Us"}),n.jsxs("div",{className:"space-y-3",children:[((S=r==null?void 0:r.contact_info)==null?void 0:S.phone)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(sa,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsx("a",{href:`tel:${r.contact_info.phone}`,className:"text-sm transition-colors",style:{color:"var(--text-on-dark-bg)"},onMouseEnter:K=>{K.target.style.color="var(--brand-primary)"},onMouseLeave:K=>{K.target.style.color="var(--text-on-dark-bg)"},children:r.contact_info.phone})]}),((T=r==null?void 0:r.contact_info)==null?void 0:T.email)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ec,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsx("a",{href:`mailto:${r.contact_info.email}`,className:"text-sm transition-colors",style:{color:"var(--text-on-dark-bg)"},onMouseEnter:K=>{K.target.style.color="var(--brand-primary)"},onMouseLeave:K=>{K.target.style.color="var(--text-on-dark-bg)"},children:r.contact_info.email})]}),((R=r==null?void 0:r.contact_info)==null?void 0:R.address)&&n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(vn,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.address})]}),((P=r==null?void 0:r.contact_info)==null?void 0:P.hours)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rn,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.hours})]}),n.jsxs("div",{className:"pt-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3 text-white",children:"Follow Us"}),n.jsx("div",{className:"flex space-x-3",children:v.map((K,Z)=>n.jsx("a",{href:K.url,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 flex items-center justify-center rounded-full transition-all duration-300 hover:scale-110",style:{backgroundColor:"var(--brand-primary)",color:"white"},title:K.label,children:K.icon},Z))}),n.jsx("div",{className:"mt-4",children:n.jsxs("a",{href:"https://wa.me/919876543210",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[n.jsx(jy,{}),n.jsx("span",{className:"text-sm",children:"WhatsApp Business"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("button",{className:"inline-flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(uR,{}),n.jsx("span",{className:"text-sm",children:"Live Chat"})]})})]})]})]})]})})}),n.jsx("div",{className:"py-12",style:{backgroundColor:"var(--footer-bg)",color:"var(--text-on-dark-bg)"},children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[((V=r==null?void 0:r.whatsapp)==null?void 0:V.enabled)!==!1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Connect With Us",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("div",{className:"mt-4 pt-3",children:n.jsxs("a",{href:((U=r==null?void 0:r.whatsapp)==null?void 0:U.channel_url)||"https://whatsapp.com/channel/YOUR_CHANNEL_ID_HERE",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-300",children:[n.jsx(jy,{className:"text-lg"}),n.jsx("span",{className:"text-sm font-medium",children:"Join WhatsApp channel for offers & updates"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Store",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("ul",{className:"space-y-3",children:h.map(K=>n.jsx("li",{children:n.jsx(rt,{to:K.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:K.name})},K.name))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Help",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("ul",{className:"space-y-3",children:m.map(K=>n.jsx("li",{children:n.jsx(rt,{to:K.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:K.name})},K.name))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Policies",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]})," ",n.jsx("ul",{className:"space-y-3",children:g.map(K=>n.jsx("li",{children:n.jsx(rt,{to:K.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:K.name})},K.name||K.path))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Know More",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsx("ul",{className:"space-y-3",children:b.map(K=>n.jsx("li",{children:K.path?n.jsx(rt,{to:K.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:K.name}):n.jsx("a",{href:K.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:K.name})},K.name||K.path))})]}),((F=r==null?void 0:r.contact_info)==null?void 0:F.enabled)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Contact Us",n.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),n.jsxs("ul",{className:"space-y-3",children:[r.contact_info.phone&&n.jsx("li",{children:n.jsxs("a",{href:`tel:${r.contact_info.phone}`,className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[n.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(sa,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{children:r.contact_info.phone})]})}),r.contact_info.email&&n.jsx("li",{children:n.jsxs("a",{href:`mailto:${r.contact_info.email}`,className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[n.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(ec,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{children:r.contact_info.email})]})}),r.contact_info.address&&n.jsx("li",{children:n.jsxs("div",{className:"text-sm flex transition-colors duration-300",children:[n.jsx("div",{className:"p-2 mr-3 rounded-full flex-shrink-0 self-start mt-1",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(vn,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.address})]})}),r.contact_info.hours&&n.jsx("li",{children:n.jsxs("div",{className:"text-sm flex items-center transition-colors duration-300",children:[n.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:n.jsx(rn,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),n.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:r.contact_info.hours})]})})]})]})]})})}),n.jsxs("div",{className:"py-6 bg-blue-50 text-gray-700 w-full relative",children:[((q=r==null?void 0:r.whatsapp)==null?void 0:q.enabled)!==!1&&n.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col gap-2",children:[n.jsx("a",{href:`https://wa.me/${((ne=r==null?void 0:r.whatsapp)==null?void 0:ne.number)||"1234567890"}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Contact us on WhatsApp",children:n.jsx(jy,{size:20})}),n.jsx("a",{href:"#chat",className:"w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Open chat",children:n.jsx(uR,{size:18})})]}),n.jsx("div",{className:"container mx-auto",children:n.jsxs("div",{className:"flex flex-col items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("h4",{className:"text-sm font-medium",children:"Let's get social"}),n.jsx("div",{className:"flex items-center gap-6",children:v.map((K,Z)=>n.jsx("a",{href:K.url,target:"_blank",rel:"noopener noreferrer",className:"text-xl hover:text-blue-600 transition-colors duration-300","aria-label":K.label,children:K.icon},Z))})]})," ",n.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:k.map((K,Z)=>n.jsxs(mt.Fragment,{children:[n.jsx(rt,{to:K.path,className:"text-xs hover:underline",children:K.name}),Z<k.length-1&&n.jsx("span",{className:"text-xs",children:""})]},K.name||K.path))}),((se=r==null?void 0:r.copyright)==null?void 0:se.enabled)!==!1&&n.jsx("div",{className:"text-center pt-4 border-t border-gray-300",children:n.jsxs("p",{className:"text-xs text-gray-600",children:[((Q=r==null?void 0:r.copyright)==null?void 0:Q.text)||"Copyright  Anand mobiles | All Rights Reserved",((B=r==null?void 0:r.copyright)==null?void 0:B.developer_name)&&n.jsxs(n.Fragment,{children:[" | Developed By :",n.jsx(rt,{to:((Y=r==null?void 0:r.copyright)==null?void 0:Y.developer_url)||"#",children:(J=r==null?void 0:r.copyright)==null?void 0:J.developer_name})]})]})})]})})]})]})},Iie=un((r,t)=>({notifications:{orders:[],stock:[],reviews:[]},loading:!1,error:null,lastUpdated:null,isOrdersDropdownOpen:!1,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1,toggleOrdersDropdown:()=>r(s=>({isOrdersDropdownOpen:!s.isOrdersDropdownOpen,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1})),toggleStockDropdown:()=>r(s=>({isStockDropdownOpen:!s.isStockDropdownOpen,isOrdersDropdownOpen:!1,isReviewsDropdownOpen:!1})),toggleReviewsDropdown:()=>r(s=>({isReviewsDropdownOpen:!s.isReviewsDropdownOpen,isOrdersDropdownOpen:!1,isStockDropdownOpen:!1})),closeAllDropdowns:()=>r({isOrdersDropdownOpen:!1,isStockDropdownOpen:!1,isReviewsDropdownOpen:!1}),fetchNotifications:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.get("/admin/notifications/");l.status===200&&r({notifications:l.data.notifications,loading:!1,error:null,lastUpdated:new Date})}catch(l){console.error("Error fetching notifications:",l),r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch notifications"})}},markAsRead:async(s,i)=>{try{await Ze.post("/admin/notifications/mark-read/",{notification_id:i,category:s}),r(l=>({notifications:{...l.notifications,[s]:l.notifications[s].map(h=>h.id===i?{...h,read:!0}:h)}}))}catch(l){console.error("Error marking notification as read:",l)}},markAllAsRead:async s=>{try{await Ze.post("/admin/notifications/mark-all-read/",{category:s}),r(i=>({notifications:{...i.notifications,[s]:i.notifications[s].map(l=>({...l,read:!0}))}}))}catch(i){console.error("Error marking all notifications as read:",i)}},getUnreadCount:s=>{const{notifications:i}=t();return i[s].filter(l=>!l.read).length},getTotalUnreadCount:()=>{const{notifications:s}=t();return Object.values(s).flat().filter(i=>!i.read).length},refreshNotifications:async()=>{const{fetchNotifications:s}=t();await s()},addNotification:(s,i)=>r(l=>({notifications:{...l.notifications,[s]:[i,...l.notifications[s]]}}))})),Rie=()=>{const r=ns(),{notifications:t,loading:s,error:i,lastUpdated:l,isOrdersDropdownOpen:h,isStockDropdownOpen:m,isReviewsDropdownOpen:g,toggleOrdersDropdown:b,toggleStockDropdown:v,toggleReviewsDropdown:k,closeAllDropdowns:C,markAsRead:_,markAllAsRead:S,getUnreadCount:T,fetchNotifications:R,refreshNotifications:P}=Iie(),V=O.useRef(null);O.useEffect(()=>{R();const J=setInterval(()=>{P()},3e4);return()=>clearInterval(J)},[R,P]),O.useEffect(()=>{const J=K=>{V.current&&!V.current.contains(K.target)&&C()};return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[C]);const U=J=>{const Z=new Date-J,ee=Math.floor(Z/(1e3*60)),be=Math.floor(Z/(1e3*60*60));return ee<60?`${ee}m ago`:be<24?`${be}h ago`:`${Math.floor(be/24)}d ago`},F=J=>{switch(J){case"critical":return"#dc2626";case"high":return"#ea580c";case"medium":return"#ca8a04";case"low":return"#16a34a";default:return"#6b7280"}},q=()=>{C(),r("/admin/orders")},ne=()=>{C(),r("/admin/inventory")},se=()=>{C(),r("/admin/reviews")},Q=(J,K)=>{switch(C(),_(K,J.id),K){case"orders":r(`/admin/orders?search=${J.order_id||""}`);break;case"stock":r(`/admin/inventory?search=${J.product||""}`);break;case"reviews":r(`/admin/reviews?search=${J.product||""}`);break}},B=({icon:J,count:K,isOpen:Z,onClick:ee,label:be})=>n.jsxs("button",{onClick:ee,className:`notification-button relative flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 hover:bg-opacity-10 ${Z?"active":""}`,style:{backgroundColor:Z?"var(--brand-primary)":"transparent",color:Z?"white":"var(--text-primary)",borderRadius:"var(--rounded-lg)"},title:be,children:[n.jsx("span",{className:"flex items-center justify-center",children:J}),n.jsx("span",{className:"text-sm font-medium hidden sm:block",children:be}),K>0&&n.jsx("span",{className:"notification-badge",children:K>99?"99+":K})]}),Y=({notifications:J,category:K,isOpen:Z,onMarkAsRead:ee,onMarkAllAsRead:be,onViewAll:xe})=>Z?n.jsxs("div",{className:"notification-dropdown absolute top-full left-0 right-0 mt-2 bg-white border rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-light)"},children:[n.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[K.charAt(0).toUpperCase()+K.slice(1)," Notifications"]}),J.some(ie=>!ie.read)&&n.jsx("button",{onClick:()=>be(K),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Mark all as read"})]}),n.jsx("div",{className:"notification-dropdown-content max-h-80 overflow-y-auto",children:J.length===0?n.jsxs("div",{className:"p-6 text-center",style:{color:"var(--text-secondary)"},children:[n.jsx(_9,{className:"mx-auto mb-2",size:24}),n.jsx("p",{children:"No notifications"})]}):J.map(ie=>n.jsx("div",{className:`notification-item p-4 border-b hover:bg-opacity-5 cursor-pointer transition-colors ${ie.read?"":"unread bg-blue-50"}`,style:{borderColor:"var(--border-light)",backgroundColor:ie.read?"transparent":"rgba(59, 130, 246, 0.05)"},onClick:()=>Q(ie,K),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("div",{className:"notification-priority-dot",style:{backgroundColor:F(ie.priority)}}),n.jsx("span",{className:`text-sm font-medium ${ie.read?"":"font-semibold"}`,style:{color:"var(--text-primary)"},children:ie.message})]}),K==="orders"&&n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Ds,{size:12}),n.jsx("span",{children:ie.customer})]}),n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Mm,{size:12}),n.jsx("span",{children:ie.amount})]})]}),n.jsxs("span",{className:"text-xs font-mono",children:["#",ie.id]})]}),K==="stock"&&n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"font-medium",children:ie.product}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[n.jsxs("span",{children:["Stock: ",ie.currentStock]}),n.jsxs("span",{children:["Min: ",ie.minThreshold]}),n.jsx("span",{className:"font-mono",children:ie.sku})]})]}),K==="reviews"&&n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:ie.product}),n.jsx("div",{className:"flex items-center",children:[...Array(5)].map((ae,le)=>n.jsx(Xr,{size:12,className:le<ie.rating?"text-yellow-400":"text-gray-300",fill:le<ie.rating?"currentColor":"none"},le))})]}),n.jsxs("div",{className:"text-xs",children:[n.jsxs("span",{className:"font-medium",children:[ie.customer,":"]}),n.jsx("span",{className:"ml-1",children:ie.comment})]})]})]}),n.jsxs("div",{className:"flex flex-col items-end space-y-1 ml-4",children:[n.jsxs("span",{className:"text-xs flex items-center space-x-1",style:{color:"var(--text-secondary)"},children:[n.jsx(rn,{size:10}),n.jsx("span",{children:U(ie.timestamp)})]}),n.jsx(ox,{size:12,style:{color:"var(--text-secondary)"}})]})]})},ie.id))}),J.length>0&&n.jsx("div",{className:"p-3 border-t bg-gray-50",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:n.jsxs("button",{onClick:xe,className:"w-full text-sm text-center py-1 rounded transition-colors hover:underline",style:{color:"var(--brand-primary)"},children:["View all ",K]})})]}):null;return n.jsxs("div",{ref:V,className:"relative sticky top-0 z-40 border-b",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(B,{icon:n.jsx(lg,{size:18}),count:T("orders"),isOpen:h,onClick:b,label:"Orders"}),n.jsx(B,{icon:n.jsx(vt,{size:18}),count:T("stock"),isOpen:m,onClick:v,label:"Stock"}),n.jsx(B,{icon:n.jsx(Xr,{size:18}),count:T("reviews"),isOpen:g,onClick:k,label:"Reviews"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated: ",new Date().toLocaleTimeString()]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"live-indicator w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:"var(--brand-primary)"}}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Live"})]})]})]}),n.jsx(Y,{notifications:t.orders,category:"orders",isOpen:h,onMarkAsRead:_,onMarkAllAsRead:S,onViewAll:q}),n.jsx(Y,{notifications:t.stock,category:"stock",isOpen:m,onMarkAsRead:_,onMarkAllAsRead:S,onViewAll:ne}),n.jsx(Y,{notifications:t.reviews,category:"reviews",isOpen:g,onMarkAsRead:_,onMarkAllAsRead:S,onViewAll:se})]})},Pie=()=>{const r=Do(),[t,s]=O.useState(!1),i=[{name:"Dashboard",path:"/admin/dashboard",icon:n.jsx(HN,{size:20})},{name:"Products",path:"/admin/products",icon:n.jsx(Hu,{size:20})},{name:"Inventory",path:"/admin/inventory",icon:n.jsx(hee,{size:20})},{name:"Orders",path:"/admin/orders",icon:n.jsx(lg,{size:20})},{name:"Users",path:"/admin/users",icon:n.jsx(fd,{size:20})},{name:"Content",path:"/admin/content",icon:n.jsx(A9,{size:20})},{name:"Sell Phones",path:"/admin/sell-phones",icon:n.jsx(Cee,{size:20})},{name:"Reviews",path:"/admin/reviews",icon:n.jsx(Xr,{size:20})},{name:"Delivery Partners",path:"/admin/delivery-partners",icon:n.jsx(Lr,{size:20})}];return n.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[n.jsxs("aside",{className:`${t?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[n.jsxs("div",{className:`flex items-center ${t?"justify-center w-full":""}`,children:[!t&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Admin Panel"}),t&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"AP"})]}),n.jsx("button",{onClick:()=>s(!t),className:`p-1 rounded-md hover:bg-gray-700 transition-colors duration-150 ${t?"mx-auto mt-2":""}`,children:t?n.jsx(Pn,{size:24}):n.jsx(Za,{size:24})})]}),n.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:n.jsx("ul",{className:"px-2 space-y-1",children:i.map(l=>{const h=r.pathname===l.path;return n.jsx("li",{children:n.jsxs(rt,{to:l.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${h?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:h?"var(--brand-primary)":"transparent",color:h?"var(--text-on-brand)":"var(--text-on-dark-bg)",boxShadow:h?"var(--shadow-small)":"none",borderRadius:"var(--rounded-md)"},children:[n.jsx("span",{className:"flex items-center justify-center",children:l.icon}),!t&&n.jsx("span",{className:"ml-3",children:l.name})]})},l.name)})})}),n.jsx("div",{className:"p-4 border-t border-opacity-20",style:{borderColor:"var(--border-dark)"},children:n.jsxs(rt,{to:"/",className:"flex items-center px-4 py-2 rounded-md hover:bg-gray-700 hover:bg-opacity-30 transition-all duration-150 text-sm",style:{borderRadius:"var(--rounded-md)"},children:[n.jsx(id,{size:20}),!t&&n.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]}),n.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(Rie,{}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsx(I2,{})," "]})})]})]})},oA={pending:"var(--warning-color)",out_for_delivery:"var(--brand-secondary)",delivered:"var(--success-color)",failed:"var(--error-color)",payment_successful:"var(--brand-primary)"},Oie={pending:n.jsx(vt,{}),out_for_delivery:n.jsx(Lr,{}),delivered:n.jsx(vt,{}),failed:n.jsx(vt,{}),payment_successful:n.jsx(vt,{})},Bie=({delivery:r,onAccept:t})=>n.jsxs("div",{className:"flex flex-col md:flex-row justify-between p-4 group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100 mb-4",style:{textDecoration:"none",backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-start flex-grow",children:[n.jsx("div",{className:"h-12 w-12 flex-shrink-0 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:oA[r.status],color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:Oie[r.status]}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",r.orderId,n.jsx("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:r.total_amount?`${r.currency} ${r.total_amount.toFixed(2)}`:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 mt-3",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(vn,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.address||"Address not available"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(sa,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Contact"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.customerPhone||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(ei,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected Delivery"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.expectedDelivery?new Date(r.expectedDelivery).toLocaleDateString():"Not specified"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(rn,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Assigned On"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.assignedDate?`${new Date(r.assignedDate).toLocaleDateString()} ${new Date(r.assignedDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Not assigned yet"})]})]})]})]})]}),n.jsxs("div",{className:"flex md:flex-col justify-between items-end mt-4 md:mt-0 md:ml-4",children:[n.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${oA[r.status]||"var(--warning-color)"}20`,color:oA[r.status]||"var(--warning-color)"},children:r.status==="payment_successful"?"Payment Successful":r.status==="pending"?"Pending":r.status==="out_for_delivery"?"Out for Delivery":r.status==="delivered"?"Delivered":r.status==="failed"?"Failed":r.status||"Pending"}),n.jsxs("button",{onClick:()=>t(r.id),className:"flex items-center mt-4 font-medium text-sm hover:underline transition-colors",style:{color:"var(--brand-primary)"},children:["Update Status",n.jsx(Pn,{className:"ml-1"})]})]})]}),Lie={Pending:"var(--warning-color)","Out for Delivery":"var(--brand-secondary)",Delivered:"var(--success-color)",Failed:"var(--error-color)"},zie={Pending:n.jsx(vt,{size:16}),"Out for Delivery":n.jsx(Lr,{size:16}),Delivered:n.jsx(qn,{size:16}),Failed:n.jsx(qt,{size:16})},Fie=({delivery:r,onViewDetails:t})=>{var b,v,k,C,_;const s=S=>{if(!S)return"N/A";try{return new Date(S).toLocaleDateString()}catch(T){return console.error("Invalid date format:",S,T),"N/A"}},i=S=>{if(!S)return"";try{return new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(T){return console.error("Invalid date format:",S,T),""}},l=S=>{if(!S)return"No address provided";if(typeof S=="string")return S;if(typeof S=="object"){const{street_address:T,city:R,state:P,postal_code:V}=S,U=[T,R,P,V].filter(Boolean).filter(F=>typeof F=="string"&&F.trim()!=="");return U.length>0?U.join(", "):"No address provided"}return"No address provided"},h=Lie[r.status]||"var(--warning-color)",m=zie[r.status]||n.jsx(vt,{size:16}),g=typeof r.amount=="number"?r.amount.toFixed(2):parseFloat(r.amount||0).toFixed(2);return n.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"p-4 flex justify-between items-center border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("span",{className:"font-semibold mr-3",style:{color:"var(--text-primary)"},children:["Order #",r.orderId]}),n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${h}20`,color:h},children:[m,n.jsx("span",{className:"ml-1",children:r.status})]})]}),n.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:r.completedDate?`Completed on ${s(r.completedDate)} at ${i(r.completedDate)}`:"In progress"}),(((b=r.order_items)==null?void 0:b.length)>0||((v=r.items)==null?void 0:v.length)>0)&&n.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[((k=r.order_items)==null?void 0:k.length)||((C=r.items)==null?void 0:C.length)," items"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Amount"}),n.jsxs("div",{className:"text-lg font-bold",style:{color:r.paymentMethod==="COD"?"var(--success-color)":"var(--text-primary)"},children:["",g]}),n.jsx("div",{className:"text-xs",style:{color:"var(--brand-primary)"},children:((_=r.payment_details)==null?void 0:_.method)||r.paymentMethod||"Online"}),n.jsx("button",{onClick:t,className:"flex items-center justify-end text-xs font-medium mt-2",style:{color:"var(--brand-primary)"},children:"View Details"})]})]}),n.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex",children:[n.jsx(vn,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:l(r.address)})]})]}),n.jsxs("div",{className:"flex",children:[n.jsx(ei,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected vs Actual Delivery"}),n.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:["Expected: ",s(r.expectedDelivery),n.jsx("br",{}),r.status==="Delivered"?n.jsxs("span",{style:{color:new Date(r.completedDate)<=new Date(r.expectedDelivery)?"var(--success-color)":"var(--warning-color)"},children:["Actual: ",s(r.completedDate)]}):n.jsx("span",{style:{color:"var(--error-color)"},children:r.status})]})]})]})]}),r.notes&&n.jsxs("div",{className:"px-4 py-3 mt-1 border-t",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[n.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Notes"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.notes})]})]})},Vie=({collapsed:r})=>{const t=Do(),s=[{name:"Dashboard",path:"/delivery/dashboard",icon:n.jsx(HN,{className:"h-5 w-5"})},{name:"Assignments",path:"/delivery/assignments",icon:n.jsx(vt,{className:"h-5 w-5"})},{name:"Status Updates",path:"/delivery/status-update",icon:n.jsx(fee,{className:"h-5 w-5"})},{name:"Delivery History",path:"/delivery/history",icon:n.jsx(rn,{className:"h-5 w-5"})},{name:"Settings",path:"/delivery/settings",icon:n.jsx(qN,{className:"h-5 w-5"})}];return n.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:n.jsx("ul",{className:"px-2 space-y-1",children:s.map(i=>{const l=t.pathname===i.path;return n.jsx("li",{children:n.jsxs(rt,{to:i.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${l?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:l?"var(--brand-primary)":"transparent",color:l?"var(--text-on-brand)":"var(--text-on-dark-bg)"},children:[n.jsx("span",{className:"flex-shrink-0",children:i.icon}),!r&&n.jsx("span",{className:"ml-3",children:i.name}),!r&&l&&n.jsx("span",{className:"ml-auto",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 animate-pulse",style:{color:"var(--text-on-brand)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},i.name)})})})},oc=un(qm((r,t)=>({isAuthenticated:!!localStorage.getItem(Dy),partner:JSON.parse(localStorage.getItem("delivery_partner")||"null"),loading:!1,error:null,assignedDeliveries:[],deliveryHistory:[],partnerProfile:null,registerPartner:async s=>{var i,l;r({loading:!0,error:null});try{const h=await $c.post("/partners/register/",s);return r({loading:!1,error:null}),h.data}catch(h){throw r({loading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Registration failed"}),h}},loginPartner:async s=>{var i,l;r({loading:!0,error:null});try{const h=await $c.post("/partners/login/",s),{token:m,partner_id:g}=h.data;localStorage.setItem(Dy,m);const b={id:g,email:s.email};return localStorage.setItem("delivery_partner",JSON.stringify(b)),r({isAuthenticated:!0,partner:b,loading:!1,error:null}),h.data}catch(h){throw r({loading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Login failed"}),h}},fetchPartnerProfile:async()=>{var s,i;r({loading:!0,error:null});try{const h=(await $c.get("/partners/profile/")).data.partner;return r({partnerProfile:h,loading:!1,error:null}),h}catch(l){throw r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch profile"}),l}},updatePartnerProfile:async s=>{var i,l;r({loading:!0,error:null});try{const h=await $c.patch("/partners/profile/update/",s);return await t().fetchPartnerProfile(),r({loading:!1,error:null}),h.data}catch(h){throw r({loading:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update profile"}),h}},logoutPartner:()=>{localStorage.removeItem(Dy),localStorage.removeItem("delivery_partner"),r({isAuthenticated:!1,partner:null,partnerProfile:null,assignedDeliveries:[],deliveryHistory:[]})},fetchAssignedDeliveries:async()=>{var s,i;r({loading:!0,error:null});try{const h=(await $c.get("/partners/deliveries/assigned/")).data.assigned_orders||[];return r({assignedDeliveries:h,loading:!1,error:null}),h}catch(l){throw r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch assigned deliveries"}),l}},fetchDeliveryHistory:async()=>{var s,i;r({loading:!0,error:null});try{const l=await $c.get("/partners/deliveries/history/");return r({deliveryHistory:l.data.delivery_history,loading:!1,error:null}),l.data.delivery_history}catch(l){throw r({loading:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch delivery history"}),l}},updateDeliveryStatus:async(s,i,l={})=>{var h,m;r({loading:!0,error:null});try{const g={status:i,...l},b=await $c.patch(`/partners/deliveries/update_status/${s}/`,g);return await oc.getState().fetchAssignedDeliveries(),r({loading:!1,error:null}),b.data}catch(g){throw r({loading:!1,error:((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to update delivery status"}),g}}}))),ld=({children:r,hideMenu:t})=>{const[s,i]=mt.useState(!1),{logoutPartner:l}=oc(),h=async()=>{await l(),console.log("User logged out")};return n.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[!t&&n.jsxs("aside",{className:`${s?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[n.jsxs("div",{className:`flex items-center ${s?"justify-center w-full":""}`,children:[!s&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Delivery Partner"}),s&&n.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"DP"})]}),n.jsx("button",{onClick:()=>i(!s),className:"p-1 rounded-full hover:bg-gray-700 hover:bg-opacity-30 focus:outline-none",children:s?n.jsx(Pn,{className:"h-5 w-5"}):n.jsx(Za,{className:"h-5 w-5"})})]}),n.jsx(Vie,{collapsed:s}),n.jsx("div",{className:"mt-auto p-4",children:n.jsxs("button",{onClick:h,className:"flex items-center w-full py-3 px-4 rounded-md transition-all duration-200 hover:bg-gray-700 hover:bg-opacity-30 text-left",style:{color:"var(--text-on-dark-bg)"},children:[n.jsx(S9,{className:"h-5 w-5 mr-3"}),!s&&n.jsx("span",{className:"ml-3",children:"Logout"})]})})]}),n.jsx("main",{className:`flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn ${t?"flex justify-center items-center":""}`,style:{backgroundColor:"var(--bg-secondary)"},children:n.jsx("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6 w-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:r||n.jsx(I2,{})})})]})},Af=({children:r})=>{const{isAuthenticated:t,partner:s}=oc(),i=Do();return!t||!s?n.jsx(Hs,{to:"/delivery/login",state:{from:i},replace:!0}):r},fx=({isOpen:r,onClose:t,delivery:s,onStatusUpdate:i,isSubmitting:l=!1})=>{var Z,ee,be,xe;const[h,m]=O.useState(null);console.log("de",s);const[g,b]=O.useState((s==null?void 0:s.status)||"processing"),[v,k]=O.useState(""),[C,_]=O.useState(""),[S,T]=O.useState(""),[R,P]=O.useState(""),[V,U]=O.useState(""),[F,q]=O.useState(""),[ne,se]=O.useState("");if(O.useEffect(()=>{s&&(b(s.status||"processing"),T(s.expectedDelivery?new Date(s.expectedDelivery).toISOString().slice(0,16):""),U(s.carrier||""),q(s.tracking_number||""),k(""),_(""),P(""),m(null),se(""))},[s]),!r||!s)return null;const Q=[{value:"processing",label:"Processing",icon:n.jsx(vt,{}),color:"var(--info-color)",description:"Order is being processed"},{value:"packed",label:"Packed",icon:n.jsx(vt,{}),color:"var(--info-color)",description:"Package is packed and ready for shipping"},{value:"shipped",label:"Shipped",icon:n.jsx(Lr,{}),color:"var(--info-color)",description:"Package has been shipped",requiresTrackingInfo:!0},{value:"out_for_delivery",label:"Out for Delivery",icon:n.jsx(Lr,{}),color:"var(--brand-primary)",description:"Package is out for delivery",requiresTrackingInfo:!0},{value:"delivered",label:"Delivered",icon:n.jsx(qn,{}),color:"var(--success-color)",requiresOtp:!1,description:"Package successfully delivered"},{value:"failed_attempt",label:"Failed Delivery",icon:n.jsx(qt,{}),color:"var(--error-color)",requiresNotes:!0,description:"Delivery attempt failed"},{value:"returning_to_warehouse",label:"Returning to Warehouse",icon:n.jsx($a,{}),color:"var(--warning-color)",requiresNotes:!0,description:"Package being returned to warehouse"},{value:"other",label:"Other Status",icon:n.jsx(sx,{}),color:"var(--info-color)",requiresNotes:!0,description:"Specify a custom status for this delivery",isCustom:!0}],B=Q.find(ie=>ie.value===g),Y=ie=>{const ae=ie.target.files[0];if(ae){const le=new FileReader;le.onload=oe=>m(oe.target.result),le.readAsDataURL(ae)}},J=()=>{m(null)},K=async ie=>{if(ie.preventDefault(),P(""),B!=null&&B.requiresOtp&&!v){P("OTP is required for delivered status");return}if(B!=null&&B.requiresNotes&&!C){P("Please provide a reason for delivery failure");return}try{const ae=g==="other"?"other":g;if(g==="other"&&!ne){P("Please specify a custom status");return}if(B!=null&&B.requiresTrackingInfo){if(!V){P("Please provide a carrier name for shipped packages");return}if(!F){P("Please provide a tracking number for shipped packages");return}}const le={photo:h,otp:v,notes:C,estimated_delivery:S?new Date(S).toISOString():null,updatedAt:new Date().toISOString(),carrier:V,tracking_number:F};g==="other"&&(le.notes=`Custom status: ${ne}${C?` - ${C}`:""}`),await i(s.id,ae,le),m(null),k(""),_(""),T(""),U(""),q(""),se(""),P("")}catch(ae){console.error("Error updating status:",ae),P("Failed to update status. Please try again.")}};return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("div",{className:"fixed inset-0 bg-black/40 transition-opacity",onClick:t}),n.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:n.jsxs("div",{className:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order ID: ",s.orderId,"  Customer:",(Z=s.customer)==null?void 0:Z.name]})]})]}),n.jsx("button",{onClick:t,className:"rounded-md p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:K,children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"rounded-lg p-4 mb-4",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h4",{className:"text-md font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vt,{className:"mr-2"})," Update Status"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Q.map(ie=>n.jsxs("button",{type:"button",className:`p-3 rounded-lg flex items-center border transition-all duration-200 ${g===ie.value?"border-2":"hover:border-gray-300"}`,style:{backgroundColor:g===ie.value?`${ie.color}10`:"var(--bg-primary)",borderColor:g===ie.value?ie.color:"var(--border-primary)"},onClick:()=>{b(ie.value)},children:[n.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:g===ie.value?`${ie.color}20`:"var(--bg-secondary)",color:ie.color},children:ie.icon}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:ie.label})]},ie.value))})]}),g==="other"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"customStatus",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specify Custom Status"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:n.jsx(sx,{size:16})}),n.jsx("input",{type:"text",id:"customStatus",value:ne,onChange:ie=>se(ie.target.value),placeholder:"Enter custom delivery status",className:"w-full pl-10 p-3 rounded-md text-sm border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",color:"var(--text-primary)"}})]}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please specify a descriptive status for this delivery"})]}),(B==null?void 0:B.requiresOtp)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Delivery OTP"}),n.jsx("input",{type:"text",id:"otp",value:v,onChange:ie=>k(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter OTP provided by the customer"}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please collect the OTP from the customer upon delivery"})]}),(g==="shipped"||g==="out_for_delivery")&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"carrier",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Shipping Carrier"}),n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),n.jsx("input",{type:"text",id:"carrier",value:V,onChange:ie=>U(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter shipping carrier name (e.g., FedEx, UPS)"}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"The carrier responsible for delivering this package"})]}),(g==="shipped"||g==="out_for_delivery")&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"trackingNumber",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Tracking Number"}),n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),n.jsx("input",{type:"text",id:"trackingNumber",value:F,onChange:ie=>q(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter tracking number"}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Tracking number provided by the shipping carrier"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"estimatedDelivery",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Estimated Delivery Date & Time"}),g==="out_for_delivery"&&n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:"Recommended"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:n.jsx(ei,{size:16})}),n.jsx("input",{type:"datetime-local",id:"estimatedDelivery",value:S,onChange:ie=>T(ie.target.value),className:`w-full pl-10 p-3 border rounded-md text-sm ${g==="out_for_delivery"?"border-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:g==="out_for_delivery"?"var(--brand-primary)":"var(--border-primary)",color:"var(--text-primary)"}})]}),S&&n.jsxs("div",{className:"mt-2 py-2 px-3 rounded-md",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[n.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Current Estimate:"}),n.jsx("span",{className:"ml-2 text-sm font-semibold",style:{color:"var(--brand-primary)"},children:new Date(S).toLocaleDateString()+" at "+new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:g==="out_for_delivery"?"Please provide an estimated delivery time when going out for delivery":"Update the estimated delivery date and time for this order"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["Notes ",(B==null?void 0:B.requiresNotes)&&"(Required)"]}),n.jsx("textarea",{id:"notes",value:C,onChange:ie=>_(ie.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:B!=null&&B.requiresNotes?"Please provide a reason for delivery failure":"Add any relevant notes (optional)",rows:3})]}),R&&n.jsxs("div",{className:"p-3 rounded-md flex items-start mb-4",style:{backgroundColor:"var(--error-color)10",color:"var(--error-color)"},children:[n.jsx($a,{className:"mr-2 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:R})]})]}),(s.status==="out_for_delivery"||s.status==="assigned")&&n.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h4",{className:"text-md font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(VN,{className:"mr-2"})," Delivery Photo (Optional)"]}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:"Take a photo as proof of delivery"}),h?n.jsx("div",{className:"mb-3",children:n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:h,alt:"Delivery proof",className:"rounded-md max-h-40 max-w-full"}),n.jsx("button",{onClick:J,className:"absolute top-2 right-2 rounded-full p-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx(qt,{size:14,style:{color:"white"}})})]})}):n.jsx("div",{className:"mb-3",children:n.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 rounded-md cursor-pointer border-2 border-dashed",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(j9,{size:24,style:{color:"var(--text-secondary)"},className:"mb-2"}),n.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-primary)"},children:n.jsx("span",{className:"font-semibold",children:"Click to capture"})})]}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:Y})]})})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Current Status"}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:s.status==="delivered"?"var(--success-color)20":s.status==="failed_attempt"||s.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:s.status==="delivered"?"var(--success-color)":s.status==="failed_attempt"||s.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:s.status==="assigned"||s.status==="shipped"||s.status==="payment_successful"?"Assigned":s.status==="out_for_delivery"?"Out For Delivery":s.status==="delivered"?"Delivered":s.status==="failed_attempt"?"Failed Attempt":s.status==="failed_final"?"Failed":s.status==="returning_to_warehouse"?"Returning":s.status})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Information"}),n.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:((ee=s.customer)==null?void 0:ee.name)||"Customer"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:((be=s.customer)==null?void 0:be.phone)||s.customer_phone||"N/A"}),n.jsx("h5",{className:"text-xs font-medium mb-1 mt-2",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),s.delivery_address?n.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:[s.delivery_address.street_address,n.jsx("br",{}),s.delivery_address.city,",",s.delivery_address.state,s.delivery_address.postal_code]}):(xe=s.customer)!=null&&xe.address?n.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:s.customer.address}):n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Address not available"})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:["Items (",s.item_count||s.order_items&&s.order_items.length||s.items&&s.items.length||"Unknown",")"]}),n.jsx("div",{className:"max-h-32 overflow-y-auto",children:s.order_items&&s.order_items.length>0?n.jsx("ul",{className:"space-y-2",children:s.order_items.map((ie,ae)=>{var le,oe,G,ue;return n.jsxs("li",{className:"flex justify-between text-xs border-b pb-1 last:border-b-0",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:ie.name||ie.brand+" "+(((le=ie.variant_details)==null?void 0:le.storage)||"")||"Product"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Qty: ",ie.quantity]}),ie.variant_details&&n.jsx("span",{className:"text-xs mt-0.5",style:{color:"var(--text-secondary)"},children:[ie.variant_details.ram,ie.variant_details.storage,ie.variant_details.colors].filter(Boolean).join(", ")})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",ie.price_at_purchase||((oe=ie.variant_details)==null?void 0:oe.discounted_price)||ie.price||"N/A"]}),((G=ie.variant_details)==null?void 0:G.price)&&((ue=ie.variant_details)==null?void 0:ue.discounted_price)&&ie.variant_details.price>ie.variant_details.discounted_price&&n.jsxs("span",{className:"line-through text-xs",style:{color:"var(--text-secondary)"},children:["",ie.variant_details.price]})]})]},ae)})}):s.items&&s.items.length>0?n.jsx("ul",{className:"space-y-1",children:s.items.map((ie,ae)=>n.jsxs("li",{className:"flex justify-between text-xs",children:[n.jsxs("span",{style:{color:"var(--text-primary)"},children:[ie.name," x",ie.quantity]}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["",ie.price]})]},ae))}):n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Item details not available"})})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery?new Date(s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery).toLocaleDateString():"Not specified"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery?new Date(s.expectedDelivery||s.estimated_delivery||s.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Payment Information"}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),n.jsx("span",{className:"font-medium",style:{color:s.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:s.payment_method||s.paymentType||"Online Payment"})]}),n.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:s.paymentAmount||`${s.total_amount||0}`})]})]})]})]})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[n.jsx(tt,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancel"}),n.jsx(tt,{type:"submit",variant:"primary",disabled:l,className:"transition-transform hover:scale-105",children:l?"Updating...":"Update Status"})]})]})})]})})]})},Uie=()=>{const r=ns(),t=Do(),{loginPartner:s,isAuthenticated:i,partner:l,loading:h,error:m}=oc(),[g,b]=O.useState({email:"",password:""}),[v,k]=O.useState({}),[C,_]=O.useState("");O.useEffect(()=>{var P;(P=t.state)!=null&&P.message&&_(t.state.message)},[t.state]),O.useEffect(()=>{i&&l&&r("/delivery/dashboard")},[i,l,r]);const S=P=>{const{name:V,value:U}=P.target;b(F=>({...F,[V]:U})),v[V]&&k(F=>({...F,[V]:""}))},T=()=>{let P=!0;const V={};return g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(V.email="Please enter a valid email address",P=!1):(V.email="Email is required",P=!1),g.password||(V.password="Password is required",P=!1),k(V),P},R=async P=>{var V,U,F;if(P.preventDefault(),!!T())try{await s(g)&&r("/delivery/dashboard")}catch(q){Re.error(((U=(V=q.response)==null?void 0:V.data)==null?void 0:U.error)||"Failed to login. Please try again."),((F=q.response)==null?void 0:F.status)===403&&r("/delivery/admin-verify")}};return n.jsxs(Ym,{title:"Delivery Partner Login",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Lr,{size:36})})}),n.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Sign in to your delivery partner account to manage deliveries"}),n.jsxs("form",{onSubmit:R,className:"space-y-5",children:[C&&n.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),C]}),m&&n.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[n.jsx($a,{className:"h-5 w-5 mr-2"}),m]}),n.jsx(qr,{label:"Email",type:"email",name:"email",icon:n.jsx(ec,{}),value:g.email,onChange:S,required:!0,placeholder:"your@email.com",error:v.email}),n.jsx(qr,{label:"Password",type:"password",name:"password",icon:n.jsx(ad,{}),value:g.password,onChange:S,required:!0,placeholder:"Enter your password",error:v.password}),n.jsx(tt,{type:"submit",variant:"primary",fullWidth:!0,isLoading:h,children:h?"Signing In...":"Sign In"}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Don't have a partner account?",n.jsx(rt,{to:"/delivery/register",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Register here"})]})})]})]})},Gie=()=>{const r=ns(),{registerPartner:t,loading:s,error:i}=oc(),[l,h]=O.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[m,g]=O.useState({}),b=C=>{const{name:_,value:S}=C.target;h(T=>({...T,[_]:S})),m[_]&&g(T=>({...T,[_]:""}))},v=()=>{const C={};return l.name.trim()||(C.name="Full name is required"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(C.email="Email is invalid"):C.email="Email is required",l.password?l.password.length<6&&(C.password="Password must be at least 6 characters"):C.password="Password is required",l.password!==l.confirmPassword&&(C.confirmPassword="Passwords don't match"),l.phone.trim()?/^\d{10}$/.test(l.phone.replace(/\D/g,""))||(C.phone="Phone number must be 10 digits"):C.phone="Phone number is required",g(C),Object.keys(C).length===0},k=async C=>{if(C.preventDefault(),!v())return;const _={name:l.name,email:l.email,password:l.password,phone:l.phone};try{await t(_),r("/delivery/login",{state:{message:"Registration successful! Please wait for admin verification."}})}catch(S){console.error("Registration error:",S)}};return n.jsxs(Ym,{title:"Become a Delivery Partner",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(Lr,{size:36})})}),n.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Register as a delivery partner and start earning with flexible hours"}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i&&n.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[n.jsx($a,{className:"h-5 w-5 mr-2"}),i]}),n.jsx(qr,{label:"Full Name",type:"text",name:"name",icon:n.jsx(Ds,{}),value:l.name,onChange:b,required:!0,placeholder:"Enter your full name",error:m.name}),n.jsx(qr,{label:"Email",type:"email",name:"email",icon:n.jsx(ec,{}),value:l.email,onChange:b,required:!0,placeholder:"your@email.com",error:m.email}),n.jsx(qr,{label:"Phone Number",type:"tel",name:"phone",icon:n.jsx(sa,{}),value:l.phone,onChange:b,required:!0,placeholder:"Your phone number",error:m.phone}),n.jsx(qr,{label:"Password",type:"password",name:"password",icon:n.jsx(ad,{}),value:l.password,onChange:b,required:!0,placeholder:"Create a strong password",error:m.password}),n.jsx(qr,{label:"Confirm Password",type:"password",name:"confirmPassword",icon:n.jsx(ad,{}),value:l.confirmPassword,onChange:b,required:!0,placeholder:"Confirm your password",error:m.confirmPassword}),n.jsx("div",{className:"mt-6",children:n.jsx(tt,{type:"submit",variant:"primary",fullWidth:!0,isLoading:s,children:s?"Creating Account...":"Register as Partner"})}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Already have an account?",n.jsx(rt,{to:"/delivery/login",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Log in here"})]})}),n.jsx("div",{className:"text-xs text-center mt-4 px-4",style:{color:"var(--text-secondary)"},children:"By registering, you agree to our Terms of Service and acknowledge that your account requires admin verification before you can start accepting deliveries."})]})]})},_R=()=>{const r=ns(),[t,s]=O.useState(!0),[i,l]=O.useState("pending");O.useEffect(()=>{(async()=>{s(!0);try{await new Promise(_=>setTimeout(_,1500));const k=["pending","approved","rejected"],C=k[Math.floor(Math.random()*k.length)];l(C)}catch(k){console.error("Error fetching verification status:",k)}finally{s(!1)}})()},[]);const h=()=>{r("/delivery/login")},m=()=>{r("/delivery/register")},g=()=>{window.open("mailto:support@example.com","_blank")},b=()=>t?n.jsxs("div",{className:"flex flex-col items-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-4",style:{borderColor:"var(--brand-primary)"}}),n.jsx("p",{className:"text-center text-sm mt-4",style:{color:"var(--text-secondary)"},children:"Checking your verification status..."})]}):i==="approved"?n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:n.jsx(qn,{size:64})})}),n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Approved!"}),n.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account has been verified by our admin team. You can now log in to access your delivery dashboard."}),n.jsx(tt,{variant:"primary",icon:n.jsx(ix,{className:"mr-2"}),onClick:h,fullWidth:!0,children:"Log In to Your Account"})]}):i==="rejected"?n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:n.jsx(Dm,{size:64})})}),n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Rejected"}),n.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Unfortunately, your account verification was not approved. This could be due to incomplete or incorrect information provided during registration."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(tt,{variant:"primary",icon:n.jsx(ix,{className:"mr-2"}),onClick:m,fullWidth:!0,children:"Reapply with Correct Information"}),n.jsx(tt,{variant:"secondary",onClick:g,fullWidth:!0,children:"Contact Support"})]})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:n.jsx(w1,{size:64})})}),n.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Pending"}),n.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account is currently under review by our admin team. This process usually takes 1-2 business days. We'll notify you by email once your account is verified."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(tt,{variant:"secondary",onClick:h,fullWidth:!0,children:"Back to Login"}),n.jsx(tt,{variant:"outline",onClick:g,fullWidth:!0,children:"Contact Support"})]}),n.jsxs("div",{className:"text-xs mt-6 p-4 rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Note:"})," You will receive an email notification when your account is verified. If you don't see the email, please check your spam folder."]})]});return n.jsxs(Ym,{title:"Account Verification Status",children:[n.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Delivery partner account verification"}),b()]})},Hie=()=>{const[r,t]=O.useState(!0),[s,i]=O.useState([]),[l,h]=O.useState([]),[m,g]=O.useState(""),[b,v]=O.useState("all"),[k,C]=O.useState(!1),[_,S]=O.useState(null),[T,R]=O.useState(!1),[P,V]=O.useState(1),[U]=O.useState(10),{fetchAssignedDeliveries:F,updateDeliveryStatus:q,assignedDeliveries:ne}=oc(),se=O.useCallback(xe=>{if(!xe)return"N/A";const{street_address:ie,city:ae,state:le,postal_code:oe}=xe;return[ie,ae,le,oe].filter(Boolean).join(", ")},[]);O.useEffect(()=>{(async()=>{t(!0);try{await F()}catch(ie){console.error("Error fetching assigned deliveries:",ie),Xe.error("Failed to load delivery assignments")}finally{t(!1)}})()},[]),O.useEffect(()=>{const xe=ne==null?void 0:ne.map(ie=>{var ae,le,oe;return{id:ie.order_id,orderId:ie.order_id,customer:{name:ie.customer_name||"Customer",phone:ie.customer_phone||"N/A",address:se(ie.delivery_address)},address:se(ie.delivery_address),customerPhone:ie.customer_phone||"N/A",order_items:((ae=ie.order_items)==null?void 0:ae.map(G=>{var ue;return{...G,name:G.name||(G.brand&&((ue=G.variant_details)!=null&&ue.storage)?`${G.brand} ${G.variant_details.storage}`:G.brand||"Product")}}))||[],item_count:ie.item_count||((le=ie.order_items)==null?void 0:le.length)||0,status:ie.delivery_status||"pending",priority:Q(ie),distance:"N/A",expectedDelivery:ie.estimated_delivery,estimated_delivery:ie.estimated_delivery,estimatedDelivery:ie.estimated_delivery,assignedDate:ie.assigned_at,assigned_at:ie.assigned_at,paymentType:ie.payment_method||"Online Payment",payment_method:ie.payment_method||"Online Payment",paymentStatus:ie.status||"payment_successful",paymentAmount:`${((oe=ie.total_amount)==null?void 0:oe.toLocaleString())||0}`,createdAt:ie.created_at,created_at:ie.created_at,total_amount:ie.total_amount,currency:ie.currency||"INR",delivery_address:ie.delivery_address,...ie}});i(xe),h(xe),console.log("DeliveryAssignmentList rendered",s,l)},[ne,se]);const Q=xe=>{if(!xe)return"normal";const ie=xe.estimated_delivery?new Date(xe.estimated_delivery):null;return ie&&ie-new Date<24*60*60*1e3?"high":"normal"};O.useEffect(()=>{const xe=s==null?void 0:s.filter(ie=>{const ae=ie.orderId.toLowerCase().includes(m.toLowerCase())||ie.customer.name.toLowerCase().includes(m.toLowerCase())||ie.customer.address.toLowerCase().includes(m.toLowerCase());return b==="all"?ae:b==="high-priority"?ae&&ie.priority==="high":b==="normal-priority"?ae&&ie.priority==="normal":ae});h(xe)},[m,b,s]);const B=async xe=>{var ie,ae,le;try{const oe=s.find(G=>G.id===xe);if(oe){const G={...oe,id:oe.id||oe.order_id,orderId:oe.orderId||oe.order_id,customer:{name:((ie=oe.customer)==null?void 0:ie.name)||oe.customer_name||"Customer",phone:((ae=oe.customer)==null?void 0:ae.phone)||oe.customer_phone||oe.customerPhone||"N/A",address:((le=oe.customer)==null?void 0:le.address)||se(oe.delivery_address)},status:oe.status||oe.delivery_status||"assigned",order_items:oe.order_items||[],item_count:oe.item_count||oe.itemCount||oe.order_items&&oe.order_items.length||0};S(G),C(!0)}}catch(oe){console.error("Error processing delivery details:",oe),Xe.error("Could not load delivery details")}},Y=async(xe,ie,ae)=>{R(!0);try{await q(xe,ie,ae),i(le=>le.map(oe=>oe.id===xe?{...oe,status:ie}:oe)),h(le=>le.map(oe=>oe.id===xe?{...oe,status:ie}:oe)),Xe.success("Delivery status updated successfully"),C(!1),S(null)}catch(le){console.error("Error updating delivery status:",le),Xe.error("Failed to update delivery status")}finally{R(!1)}},J=()=>{C(!1),S(null)},K=P*U,Z=K-U,ee=l.slice(Z,K),be=xe=>V(xe);return n.jsxs(ld,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Available Delivery Assignments"}),n.jsxs("div",{className:"flex flex-col md:flex-row w-full md:w-auto gap-3",children:[n.jsxs("div",{className:"relative flex-grow md:w-64",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(Ei,{size:18})}),n.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:m,onChange:xe=>g(xe.target.value)})]}),n.jsxs("div",{className:"relative md:w-48",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(yd,{size:18})}),n.jsxs("select",{value:b,onChange:xe=>v(xe.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[n.jsx("option",{value:"all",children:"All Assignments"}),n.jsx("option",{value:"high-priority",children:"High Priority"}),n.jsx("option",{value:"normal-priority",children:"Normal Priority"})]})]})]})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(l==null?void 0:l.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:ee.map(xe=>n.jsx(Bie,{delivery:xe,onAccept:()=>B(xe.id)},xe.id))}),l.length>U&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>be(P-1),disabled:P===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:P===1?"var(--bg-disabled)":"var(--bg-secondary)",color:P===1?"var(--text-disabled)":"var(--text-primary)",cursor:P===1?"not-allowed":"pointer"},children:n.jsx(Za,{})}),Array.from({length:Math.ceil(l.length/U)}).map((xe,ie)=>n.jsx("button",{onClick:()=>be(ie+1),className:"px-4 py-2",style:{backgroundColor:P===ie+1?"var(--brand-primary)":"var(--bg-secondary)",color:P===ie+1?"white":"var(--text-primary)"},children:ie+1},ie)),n.jsx("button",{onClick:()=>be(P+1),disabled:P===Math.ceil(l.length/U),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:P===Math.ceil(l.length/U)?"var(--bg-disabled)":"var(--bg-secondary)",color:P===Math.ceil(l.length/U)?"var(--text-disabled)":"var(--text-primary)",cursor:P===Math.ceil(l.length/U)?"not-allowed":"pointer"},children:n.jsx(Pn,{})})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx($a,{size:48,style:{color:"var(--text-secondary)"},className:"mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No assignments found"}),n.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:m||b!=="all"?"Try changing your search terms or filters":"There are currently no delivery assignments available. Check back later!"})]})]}),n.jsx(fx,{isOpen:k,onClose:J,delivery:_,onStatusUpdate:Y,isSubmitting:T})]})},AR=()=>{const{id:r}=Zf(),t=ns(),[s,i]=O.useState(!!r),[l,h]=O.useState(null),[m,g]=O.useState(null),[b,v]=O.useState(""),[k,C]=O.useState([]),[_,S]=O.useState(!1),[T,R]=O.useState(null),[P,V]=O.useState(!1),[U,F]=O.useState(1),[q]=O.useState(10),{fetchAssignedDeliveries:ne,updateDeliveryStatus:se,assignedDeliveries:Q}=oc(),B=O.useCallback(G=>{if(!G)return"N/A";const{street_address:ue,city:pe,state:me,postal_code:ye}=G;return[ue,pe,me,ye].filter(Boolean).join(", ")},[]);console.log("assigned",Q);const Y=O.useCallback(async()=>{i(!0);try{await ne()}catch(G){console.error("Error fetching assigned deliveries:",G),Xe.error("Failed to load deliveries")}finally{i(!1)}},[]);O.useEffect(()=>{const G=Q==null?void 0:Q.map(ue=>{var pe,me,ye,Se;return{id:ue.order_id,orderId:ue.order_id,customerName:ue.customer_name||"Customer",customerAddress:B(ue.delivery_address),customerPhone:ue.customer_phone||"N/A",status:ue.delivery_status||ue.status||"assigned",order_items:((pe=ue.order_items)==null?void 0:pe.map(_e=>{var qe;return{..._e,name:_e.name||(_e.brand&&((qe=_e.variant_details)!=null&&qe.storage)?`${_e.brand} ${_e.variant_details.storage}`:_e.brand||"Product")}}))||[],items:ue.order_items||[],item_count:ue.item_count||((me=ue.order_items)==null?void 0:me.length)||0,itemCount:ue.item_count||((ye=ue.order_items)==null?void 0:ye.length)||0,expectedDelivery:ue.estimated_delivery,assignedOn:ue.assigned_at,paymentType:ue.payment_method||"Online Payment",paymentAmount:`${((Se=ue.total_amount)==null?void 0:Se.toLocaleString())||0}`,customer:{name:ue.customer_name||"Customer",phone:ue.customer_phone||"N/A",address:B(ue.delivery_address)},...ue}});C(G)},[Q,B]);const J=O.useCallback(async G=>{var ue,pe,me,ye;i(!0),g(null);try{const _e=(await ne()).find(qe=>qe.order_id===G);if(_e)h({id:_e.order_id,orderId:_e.order_id,status:_e.delivery_status||_e.status||"assigned",customer:{name:_e.customer_name||"Customer",phone:_e.customer_phone||"N/A",address:B(_e.delivery_address)},order_items:((ue=_e.order_items)==null?void 0:ue.map(qe=>{var Oe;return{...qe,name:qe.name||(qe.brand&&((Oe=qe.variant_details)!=null&&Oe.storage)?`${qe.brand} ${qe.variant_details.storage}`:qe.brand||"Product")}}))||[],items:_e.order_items||[],item_count:_e.item_count||((pe=_e.order_items)==null?void 0:pe.length)||0,itemCount:_e.item_count||((me=_e.order_items)==null?void 0:me.length)||0,paymentType:_e.payment_method||"Online Payment",payment_method:_e.payment_method||"Online Payment",paymentStatus:_e.status||"payment_successful",paymentAmount:`${((ye=_e.total_amount)==null?void 0:ye.toLocaleString())||0}`,total_amount:_e.total_amount,currency:_e.currency||"INR",deliveryInstructions:_e.delivery_instructions||"",expectedDelivery:_e.estimated_delivery,estimatedDelivery:_e.estimated_delivery,estimated_delivery:_e.estimated_delivery,assignedOn:_e.assigned_at,assigned_at:_e.assigned_at,assignedPartnerName:_e.assigned_partner_name,delivery_address:_e.delivery_address,..._e});else throw new Error("Delivery not found")}catch(Se){g("Failed to load delivery information. Please try again."),console.error("Error fetching delivery:",Se)}finally{i(!1)}},[ne,B]);O.useEffect(()=>{r?J(r):Y()},[r,J,Y]);const K=G=>{const ue=G.target.value.toLowerCase();if(v(ue),!ue.trim()){Y();return}const pe=k.filter(me=>me.id.toLowerCase().includes(ue)||me.orderId.toLowerCase().includes(ue)||me.customerName.toLowerCase().includes(ue)||me.customerAddress.toLowerCase().includes(ue));C(pe)},Z=G=>{var ue,pe,me,ye,Se;try{const _e=k.find(qe=>qe.id===G);if(_e){const qe={..._e,customer:{name:((ue=_e.customer)==null?void 0:ue.name)||_e.customerName||"Customer",phone:((pe=_e.customer)==null?void 0:pe.phone)||_e.customerPhone||"N/A",address:((me=_e.customer)==null?void 0:me.address)||_e.customerAddress},order_items:_e.order_items||_e.items||[],item_count:_e.item_count||_e.itemCount||((ye=_e.order_items)==null?void 0:ye.length)||0||((Se=_e.items)==null?void 0:Se.length)||0};R(qe),S(!0)}}catch(_e){console.error("Error processing delivery details:",_e),Xe.error("Could not load delivery details")}},ee=async(G,ue,pe)=>{V(!0);try{await se(G,ue,pe),l&&l.id===G&&h(me=>({...me,status:ue})),C(me=>me.map(ye=>ye.id===G?{...ye,status:ue}:ye)),Xe.success("Delivery status updated successfully"),S(!1),R(null)}catch(me){console.error("Error updating status:",me),Xe.error("Failed to update delivery status")}finally{V(!1)}},be=()=>{var ue,pe,me,ye,Se,_e,qe;const G={...l,order_items:((ue=l.order_items)==null?void 0:ue.map(Oe=>{var Ye;return{...Oe,name:Oe.name||(Oe.brand&&((Ye=Oe.variant_details)!=null&&Ye.storage)?`${Oe.brand} ${Oe.variant_details.storage}`:Oe.brand||"Product")}}))||l.items||[],customer:{name:((pe=l.customer)==null?void 0:pe.name)||l.customerName||"Customer",phone:((me=l.customer)==null?void 0:me.phone)||l.customerPhone||"N/A",address:((ye=l.customer)==null?void 0:ye.address)||B(l.delivery_address)||l.customerAddress},item_count:l.item_count||l.itemCount||((Se=l.order_items)==null?void 0:Se.length)||0||((_e=l.items)==null?void 0:_e.length)||0,paymentType:l.paymentType||l.payment_method||"Online Payment",paymentAmount:l.paymentAmount||`${((qe=l.total_amount)==null?void 0:qe.toLocaleString())||0}`};R(G),S(!0)},xe=()=>{S(!1),R(null)},ie=U*q,ae=ie-q,le=k.slice(ae,ie),oe=G=>F(G);return r?s||!l?n.jsx(ld,{children:n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})})}):n.jsx(ld,{children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:()=>t("/delivery/assignments"),className:"flex items-center text-sm font-medium mb-4",style:{color:"var(--brand-primary)"},children:[n.jsx(id,{className:"mr-2"})," Back to Assignments"]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Delivery ID:"}),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.id}),n.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:""}),n.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Order:"}),n.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.orderId})]})]}),n.jsxs("div",{className:"mt-4 md:mt-0 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:l.status==="delivered"?"var(--success-color)20":l.status==="failed_attempt"||l.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:l.status==="delivered"?"var(--success-color)":l.status==="failed_attempt"||l.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:[(l.status==="assigned"||l.status==="shipped"||l.status==="payment_successful")&&"Assigned",l.status==="out_for_delivery"&&"Out For Delivery",l.status==="delivered"&&"Delivered",l.status==="failed_attempt"&&"Failed Attempt",l.status==="failed_final"&&"Failed",l.status==="returning_to_warehouse"&&"Returning"]})]})]}),m&&n.jsx("div",{className:"p-4 mb-6 rounded-lg",style:{backgroundColor:"var(--error-color)10",borderLeft:"4px solid var(--error-color)"},children:n.jsx("p",{style:{color:"var(--error-color)"},children:m})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"rounded-lg p-6 mb-6",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vt,{className:"mr-2"})," Update Status"]}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Click the button below to update the delivery status for this order."}),n.jsx(tt,{variant:"primary",onClick:be,className:"transition-transform hover:scale-105",children:"Update Delivery Status"})]})}),n.jsx("div",{children:n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h2",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Customer Information"}),n.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:l.customer.name}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:l.customer.phone}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:l.customer.address})]}),l.estimatedDelivery&&n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:[new Date(l.estimatedDelivery).toLocaleDateString(),"at",new Date(l.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:["Items (",l.item_count||l.order_items&&l.order_items.length||l.items&&l.items.length||"Unknown",")"]}),l.order_items&&l.order_items.length>0?n.jsx("ul",{className:"space-y-2",children:l.order_items.map((G,ue)=>{var pe,me,ye,Se;return n.jsxs("li",{className:"flex justify-between text-sm border-b pb-1 last:border-b-0",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:G.name||G.brand+" "+(((pe=G.variant_details)==null?void 0:pe.storage)||"")||"Product"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Qty: ",G.quantity]}),G.variant_details&&n.jsx("span",{className:"text-xs mt-0.5",style:{color:"var(--text-secondary)"},children:[G.variant_details.ram,G.variant_details.storage,G.variant_details.colors].filter(Boolean).join(", ")})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",G.price_at_purchase||((me=G.variant_details)==null?void 0:me.discounted_price)||G.price||"N/A"]}),((ye=G.variant_details)==null?void 0:ye.price)&&((Se=G.variant_details)==null?void 0:Se.discounted_price)&&G.variant_details.price>G.variant_details.discounted_price&&n.jsxs("span",{className:"line-through text-xs",style:{color:"var(--text-secondary)"},children:["",G.variant_details.price]})]})]},ue)})}):l.items&&l.items.length>0?n.jsx("ul",{className:"space-y-2",children:l.items.map((G,ue)=>n.jsxs("li",{className:"flex justify-between text-sm",children:[n.jsxs("span",{style:{color:"var(--text-primary)"},children:[G.name," x",G.quantity]}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["",G.price]})]},ue))}):n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Item details not available. Contact support for order details."})]}),n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Payment Information"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),n.jsx("span",{className:"font-medium",style:{color:l.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:l.paymentType})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),n.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:l.paymentAmount})]})]}),l.deliveryInstructions&&n.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:l.deliveryInstructions})]})]})]})})]}),n.jsx(fx,{isOpen:_,onClose:xe,delivery:T,onStatusUpdate:ee,isSubmitting:P})]})}):n.jsxs(ld,{children:[n.jsxs("div",{className:"w-full",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),n.jsx("div",{className:"mb-6",children:n.jsx(qr,{type:"text",placeholder:"Search by Order ID, Customer Name, or Address...",value:b,onChange:K,icon:n.jsx(Ei,{})})}),s?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(k==null?void 0:k.length)===0?n.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[n.jsx(vt,{className:"h-12 w-12 mx-auto mb-3"}),n.jsx("h3",{className:"text-lg font-medium",children:"No deliveries found"}),n.jsx("p",{className:"mt-2",children:"Try a different search term or check back later."})]}):n.jsxs("div",{className:"space-y-4",children:[le.map(G=>n.jsx("div",{className:"p-4 rounded-lg cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"4px solid var(--brand-primary)"},onClick:()=>Z(G.id),children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:G.customerName}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:G.customerAddress}),n.jsx("div",{className:"mt-2 flex items-center",children:n.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:G.status==="delivered"?"var(--success-color)20":G.status==="failed_attempt"||G.status==="failed_final"?"var(--error-color)20":G.status==="shipped"||G.status==="payment_successful"||G.status==="assigned"?"var(--brand-primary)20":"var(--warning-color)20",color:G.status==="delivered"?"var(--success-color)":G.status==="failed_attempt"||G.status==="failed_final"?"var(--error-color)":G.status==="shipped"||G.status==="payment_successful"||G.status==="assigned"?"var(--brand-primary)":"var(--warning-color)"},children:G.status==="assigned"||G.status==="shipped"||G.status==="payment_successful"?"Assigned":G.status==="out_for_delivery"?"Out For Delivery":G.status==="delivered"?"Delivered":G.status==="failed_attempt"?"Failed Attempt":G.status==="failed_final"?"Failed":G.status==="returning_to_warehouse"?"Returning":G.status})})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:G.id}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order: ",G.orderId]})]})]})},G.id)),k.length>q&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>oe(U-1),disabled:U===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:U===1?"var(--bg-disabled)":"var(--bg-secondary)",color:U===1?"var(--text-disabled)":"var(--text-primary)",cursor:U===1?"not-allowed":"pointer"},children:n.jsx(Za,{})}),Array.from({length:Math.ceil(k.length/q)}).map((G,ue)=>n.jsx("button",{onClick:()=>oe(ue+1),className:"px-4 py-2",style:{backgroundColor:U===ue+1?"var(--brand-primary)":"var(--bg-secondary)",color:U===ue+1?"white":"var(--text-primary)"},children:ue+1},ue)),n.jsx("button",{onClick:()=>oe(U+1),disabled:U===Math.ceil(k.length/q),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:U===Math.ceil(k.length/q)?"var(--bg-disabled)":"var(--bg-secondary)",color:U===Math.ceil(k.length/q)?"var(--text-disabled)":"var(--text-primary)",cursor:U===Math.ceil(k.length/q)?"not-allowed":"pointer"},children:n.jsx(Pn,{})})]})})]})]}),n.jsx(fx,{isOpen:_,onClose:xe,delivery:T,onStatusUpdate:ee,isSubmitting:P})]})},qie=()=>{var ie;const r=Do(),[t,s]=O.useState(!0),[i,l]=O.useState([]),[h,m]=O.useState([]),[g,b]=O.useState(""),[v,k]=O.useState("all"),[C,_]=O.useState("all"),[S,T]=O.useState(""),[R,P]=O.useState(1),[V]=O.useState(10),[U,F]=O.useState(!1),[q,ne]=O.useState(null),{fetchDeliveryHistory:se}=oc(),Q=O.useCallback(ae=>{if(!ae)return"N/A";if(typeof ae=="string")return ae;if(typeof ae=="object"){const{street_address:le,city:oe,state:G,postal_code:ue}=ae,pe=[le,oe,G,ue].filter(Boolean).filter(me=>typeof me=="string"&&me.trim()!=="");return pe.length>0?pe.join(", "):"N/A"}return"N/A"},[]);O.useEffect(()=>{var ae;if((ae=r.state)!=null&&ae.successMessage){T(r.state.successMessage);const le=setTimeout(()=>{T("")},5e3);return()=>clearTimeout(le)}},[(ie=r.state)==null?void 0:ie.successMessage]),O.useEffect(()=>{(async()=>{s(!0);try{const oe=(await se()).map(G=>{var pe,me;const ue=Q(G.address||G.delivery_address);return{id:G.order_id,orderId:G.order_id,customer:G.customer_name||"Customer",customer_phone:G.customer_phone,address:ue,delivery_address:G.address||G.delivery_address,status:B(G.delivery_status||""),delivery_status:G.delivery_status,completedDate:G.delivered_at||G.updated_at||G.created_at,expectedDelivery:G.estimated_delivery||new Date().toISOString(),estimated_delivery:G.estimated_delivery,amount:parseFloat(G.total_amount||"0"),total_amount:G.total_amount,paymentMethod:((pe=G.payment_details)==null?void 0:pe.method)||G.payment_method||"Online",payment_method:((me=G.payment_details)==null?void 0:me.method)||G.payment_method,notes:G.notes||"",order_items:G.order_items||[],tracking_info:G.tracking_info||{},payment_details:G.payment_details||{method:G.payment_method||"Online",status:G.status||"payment_successful"},currency:G.currency||"INR",created_at:G.created_at,updated_at:G.updated_at,assigned_at:G.assigned_at,delivered_at:G.delivered_at,...G}});l(oe),m(oe)}catch(le){console.error("Error fetching delivery history:",le),Xe.error("Failed to load delivery history")}finally{s(!1)}})()},[]);const B=ae=>({delivered:"Delivered",out_for_delivery:"Out for Delivery",failed_final:"Failed",failed_attempt:"Failed",pending:"Pending",assigned:"Pending",cancelled:"Failed"})[ae.toLowerCase()]||"Pending";O.useEffect(()=>{const ae=i.filter(le=>{const oe=(le.orderId||"").toLowerCase().includes(g.toLowerCase())||(le.customer||"").toLowerCase().includes(g.toLowerCase())||(le.address||"").toLowerCase().includes(g.toLowerCase());let G=!0;const ue=new Date,pe=le.completedDate?new Date(le.completedDate):null;if(v==="today")G=pe&&pe.getDate()===ue.getDate()&&pe.getMonth()===ue.getMonth()&&pe.getFullYear()===ue.getFullYear();else if(v==="week"){const ye=new Date;ye.setDate(ye.getDate()-7),G=pe&&pe>=ye}else if(v==="month"){const ye=new Date;ye.setMonth(ye.getMonth()-1),G=pe&&pe>=ye}const me=C==="all"||(le.status||"").toLowerCase()===C.toLowerCase();return oe&&G&&me});m(ae)},[g,v,C,i]);const Y=ae=>{var oe,G,ue;const le=typeof ae.address=="string"?ae.address:Q(ae.delivery_address);ne({...ae,customer:{name:ae.customer||"Customer",phone:ae.customer_phone||"N/A",address:le},paymentType:((oe=ae.payment_details)==null?void 0:oe.method)||ae.payment_method||"Online",paymentStatus:((G=ae.payment_details)==null?void 0:G.status)||ae.status||"payment_successful",paymentAmount:`${((ue=ae.total_amount)==null?void 0:ue.toLocaleString())||0}`}),F(!0)},J=()=>{F(!1),ne(null)},K=R*V,Z=K-V,ee=h.slice(Z,K),be=ae=>P(ae),xe=()=>{if(h.length===0){Xe.error("No data to export");return}const oe="data:text/csv;charset=utf-8,"+[["Order ID","Customer","Address","Status","Completed Date","Expected Delivery","Amount","Payment Method","Notes"].join(","),...h.map(pe=>[`"${pe.orderId}"`,`"${pe.customer}"`,`"${pe.address}"`,`"${pe.status}"`,`"${new Date(pe.completedDate).toLocaleDateString()}"`,`"${new Date(pe.expectedDelivery).toLocaleDateString()}"`,pe.amount,`"${pe.paymentMethod}"`,`"${pe.notes}"`].join(","))].join(`
`),G=encodeURI(oe),ue=document.createElement("a");ue.setAttribute("href",G),ue.setAttribute("download",`delivery_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),Xe.success("Delivery history exported successfully")};return n.jsxs(ld,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[S&&n.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--success-color)10",borderLeft:"4px solid var(--success-color)"},children:n.jsx("p",{style:{color:"var(--success-color)"},children:S})}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Delivery History"}),n.jsxs("button",{onClick:xe,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:[n.jsx(ji,{className:"mr-2"}),"Export History"]})]}),n.jsx("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-3",children:[n.jsxs("div",{className:"relative flex-grow md:w-64",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(Ei,{size:18})}),n.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:g,onChange:ae=>b(ae.target.value)})]}),n.jsxs("div",{className:"relative md:w-48",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(ei,{size:18})}),n.jsxs("select",{value:v,onChange:ae=>k(ae.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]}),n.jsxs("div",{className:"relative md:w-48",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(yd,{size:18})}),n.jsxs("select",{value:C,onChange:ae=>_(ae.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"failed_final",children:"Failed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),t?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):h.length>0?n.jsxs("div",{className:"space-y-4",children:[ee.map(ae=>n.jsx(Fie,{delivery:ae,onViewDetails:()=>Y(ae)},ae.order_id||ae.id)),h.length>V&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>be(R-1),disabled:R===1,className:"px-3 py-2 rounded-l-md",style:{backgroundColor:R===1?"var(--bg-disabled)":"var(--bg-secondary)",color:R===1?"var(--text-disabled)":"var(--text-primary)",cursor:R===1?"not-allowed":"pointer"},children:n.jsx(Za,{})}),Array.from({length:Math.ceil(h.length/V)}).map((ae,le)=>n.jsx("button",{onClick:()=>be(le+1),className:"px-4 py-2",style:{backgroundColor:R===le+1?"var(--brand-primary)":"var(--bg-secondary)",color:R===le+1?"white":"var(--text-primary)"},children:le+1},le)),n.jsx("button",{onClick:()=>be(R+1),disabled:R===Math.ceil(h.length/V),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:R===Math.ceil(h.length/V)?"var(--bg-disabled)":"var(--bg-secondary)",color:R===Math.ceil(h.length/V)?"var(--text-disabled)":"var(--text-primary)",cursor:R===Math.ceil(h.length/V)?"not-allowed":"pointer"},children:n.jsx(Pn,{})})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,style:{color:"var(--text-secondary)"},children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No delivery history found"}),n.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:g||v!=="all"||C!=="all"?"Try changing your search terms or filters":"Your completed deliveries will appear here once you've made some deliveries."})]})]}),n.jsx(fx,{isOpen:U,onClose:J,delivery:q||{},isReadOnly:!0})]})},Yie=()=>{const[r,t]=O.useState(!0),[s,i]=O.useState({todayDeliveries:0,pendingDeliveries:0,completedDeliveries:0,rating:4.8}),[l,h]=O.useState([]),[m,g]=O.useState([]),[b,v]=O.useState(!1),[k,C]=O.useState(null),[_,S]=O.useState(!1),[T,R]=O.useState(1),[P]=O.useState(10),{fetchAssignedDeliveries:V,fetchDeliveryHistory:U,updateDeliveryStatus:F}=oc(),q=O.useCallback(ye=>{if(!ye)return"N/A";const{street_address:Se,city:_e,state:qe,postal_code:Oe}=ye;return[Se,_e,qe,Oe].filter(Boolean).join(", ")},[]),ne=O.useCallback(ye=>{if(!ye)return"N/A";const Se=new Date(ye),_e=new Date,qe=new Date(_e);return qe.setDate(qe.getDate()-1),Se.setHours(0,0,0,0)===_e.setHours(0,0,0,0)?`Today, ${Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:Se.setHours(0,0,0,0)===qe.setHours(0,0,0,0)?`Yesterday, ${Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:`${Se.toLocaleDateString()}, ${Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},[]),se=O.useCallback(ye=>!ye||!ye.estimated_delivery?"normal":new Date(ye.estimated_delivery)-new Date<24*60*60*1e3?"high":"normal",[]),Q=O.useCallback(ye=>ye?ye.charAt(0).toUpperCase()+ye.slice(1):"",[]),B=O.useCallback((ye=[],Se=[])=>{const _e=ye.slice(0,3).map(Be=>({id:Be.order_id,orderId:Be.order_id,customer:Be.customer_name||"Customer",address:q(Be.delivery_address),scheduledTime:ne(Be.estimated_delivery),priority:se(Be)}));g(_e);const qe=Se.slice(0,3).map(Be=>({id:Be.order_id,orderId:Be.order_id,customer:Be.customer_name||"Customer",address:q(Be.delivery_address),status:Q(Be.delivery_status||""),time:ne(Be.delivered_at||Be.updated_at||Be.created_at),reason:Be.notes||null}));h(qe);const Oe=new Date;Oe.setHours(0,0,0,0);const Ye=Se.filter(Be=>new Date(Be.delivered_at||Be.updated_at)>=Oe).length;i({todayDeliveries:Ye,pendingDeliveries:ye.length,completedDeliveries:Se.length,rating:4.8})},[q,ne,se,Q]);O.useEffect(()=>{(async()=>{t(!0);try{const Se=await V(),_e=await U();B(Se,_e)}catch(Se){console.error("Error fetching dashboard data:",Se),Xe.error("Failed to load dashboard data")}finally{t(!1)}})()},[]);const Y=O.useCallback(ye=>{switch(ye){case"Delivered":return"var(--success-color)";case"Failed_attempt":case"Failed_final":case"Failed":return"var(--error-color)";case"Assigned":case"Out_for_delivery":case"Pending":return"var(--warning-color)";default:return"var(--brand-primary)"}},[]),J=O.useCallback(ye=>{switch(ye){case"high":return{color:"var(--error-color)",label:"High Priority"};case"normal":return{color:"var(--brand-primary)",label:"Normal"};case"low":return{color:"var(--text-secondary)",label:"Low Priority"};default:return{color:"var(--brand-primary)",label:"Normal"}}},[]),K=({icon:ye,value:Se,label:_e,color:qe,bgColor:Oe})=>n.jsx("div",{className:"rounded-lg p-6 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:Se}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:_e})]}),n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:Oe,color:qe},children:ye})]})}),Z=({delivery:ye})=>n.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${Y(ye.status)}20`,color:Y(ye.status)},children:ye.status==="Delivered"?n.jsx(qn,{size:20}):n.jsx($a,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",ye.orderId]}),n.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${Y(ye.status)}20`,color:Y(ye.status)},children:ye.status})]}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:ye.customer}),n.jsxs("div",{className:"flex items-start mt-1",children:[n.jsx(vn,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ye.address})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-right",style:{color:"var(--text-secondary)"},children:ye.time}),ye.reason&&n.jsx("p",{className:"text-xs mt-1 text-right",style:{color:"var(--error-color)"},children:ye.reason}),n.jsxs("button",{onClick:Se=>{Se.stopPropagation(),be(ye)},className:"flex items-center justify-end text-xs font-medium mt-2",style:{color:"var(--brand-primary)"},children:["View Details",n.jsx(Pn,{size:14,className:"ml-0.5"})]})]})]})}),ee=({delivery:ye})=>{const Se=J(ye.priority);return n.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(vt,{size:20})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",ye.orderId]}),n.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${Se.color}20`,color:Se.color},children:Se.label})]}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:ye.customer}),n.jsxs("div",{className:"flex items-start mt-1",children:[n.jsx(vn,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ye.address})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-xs mb-2",style:{color:"var(--brand-primary)"},children:[n.jsx(rn,{size:12,className:"mr-1"}),ye.scheduledTime]}),n.jsxs("button",{onClick:_e=>{_e.stopPropagation(),be(ye)},className:"flex items-center justify-end text-xs font-medium",style:{color:"var(--brand-primary)"},children:["View Details",n.jsx(Pn,{size:14,className:"ml-0.5"})]})]})]})})},be=ye=>{(async()=>{var _e,qe,Oe;try{const Be=(await V()).find(Ce=>Ce.order_id===ye.id);if(Be){const Ce={id:Be.order_id,orderId:Be.order_id,customer:{name:Be.customer_name||"Customer",phone:Be.customer_phone||"N/A",address:q(Be.delivery_address)},status:Be.delivery_status||Be.status||"assigned",order_items:((_e=Be.order_items)==null?void 0:_e.map(ot=>{var Je;return{...ot,name:ot.name||(ot.brand&&((Je=ot.variant_details)!=null&&Je.storage)?`${ot.brand} ${ot.variant_details.storage}`:ot.brand||"Product")}}))||[],item_count:Be.item_count||((qe=Be.order_items)==null?void 0:qe.length)||0,expectedDelivery:Be.estimated_delivery,delivery_address:Be.delivery_address,paymentType:Be.payment_method||"Online Payment",paymentStatus:Be.status||"payment_successful",paymentAmount:`${((Oe=Be.total_amount)==null?void 0:Oe.toLocaleString())||0}`,currency:Be.currency||"INR",total_amount:Be.total_amount,assignedOn:Be.assigned_at,created_at:Be.created_at,estimatedDelivery:Be.estimated_delivery,...Be};C(Ce),v(!0)}else C(ye),v(!0),console.warn("Could not find full delivery details",ye.id)}catch(Ye){console.error("Error fetching delivery details:",Ye),C(ye),v(!0),Xe.error("Could not fetch complete delivery details")}})()},xe=()=>{v(!1),C(null)},ie=T*P,ae=ie-P,le=l.slice(ae,ie),oe=T*P,G=oe-P,ue=m.slice(G,oe),pe=ye=>R(ye),me=async(ye,Se,_e)=>{S(!0);try{await F(ye,Se,_e),h(qe=>qe.map(Oe=>Oe.id===ye?{...Oe,status:Se}:Oe)),g(qe=>qe.map(Oe=>Oe.id===ye?{...Oe,status:Se}:Oe)),Xe.success("Delivery status updated successfully"),v(!1),C(null)}catch(qe){console.error("Error updating delivery status:",qe),Xe.error("Failed to update delivery status")}finally{S(!1)}};return n.jsxs(ld,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Delivery Dashboard"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Welcome back! Here's an overview of your delivery activities."})]}),n.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:n.jsxs("div",{className:"mr-2 px-4 py-2 rounded-md text-sm flex items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx(ei,{size:16,className:"mr-2",style:{color:"var(--text-secondary)"}}),n.jsx("span",{style:{color:"var(--text-primary)"},children:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsx(K,{icon:n.jsx(Lr,{size:24}),value:s.todayDeliveries,label:"Today's Deliveries",color:"var(--brand-primary)",bgColor:"var(--bg-accent-light)"}),n.jsx(K,{icon:n.jsx(vt,{size:24}),value:s.pendingDeliveries,label:"Pending Deliveries",color:"var(--warning-color)",bgColor:"var(--warning-color)20"}),n.jsx(K,{icon:n.jsx(qn,{size:24}),value:s.completedDeliveries,label:"Completed Deliveries",color:"var(--success-color)",bgColor:"var(--success-color)20"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Upcoming Deliveries"}),n.jsxs(rt,{to:"/delivery/assignments",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View All",n.jsx(Pn,{size:14,className:"ml-0.5"})]})]}),n.jsx("div",{className:"space-y-3",children:m.length>0?n.jsxs(n.Fragment,{children:[ue.map(ye=>n.jsx(ee,{delivery:ye},ye.id)),m.length>P&&n.jsx("div",{className:"flex justify-center mt-4",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>pe(T-1),disabled:T===1,className:"px-2 py-1 rounded-l-md",style:{backgroundColor:T===1?"var(--bg-disabled)":"var(--bg-secondary)",color:T===1?"var(--text-disabled)":"var(--text-primary)",cursor:T===1?"not-allowed":"pointer"},children:n.jsx(Za,{size:16})}),Array.from({length:Math.ceil(m.length/P)}).map((ye,Se)=>n.jsx("button",{onClick:()=>pe(Se+1),className:"px-2 py-1",style:{backgroundColor:T===Se+1?"var(--brand-primary)":"var(--bg-secondary)",color:T===Se+1?"white":"var(--text-primary)"},children:Se+1},Se)),n.jsx("button",{onClick:()=>pe(T+1),disabled:T===Math.ceil(m.length/P),className:"px-2 py-1 rounded-r-md",style:{backgroundColor:T===Math.ceil(m.length/P)?"var(--bg-disabled)":"var(--bg-secondary)",color:T===Math.ceil(m.length/P)?"var(--text-disabled)":"var(--text-primary)",cursor:T===Math.ceil(m.length/P)?"not-allowed":"pointer"},children:n.jsx(Pn,{size:16})})]})})]}):n.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No upcoming deliveries at this time."})})]}),n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Recent Deliveries"}),n.jsxs(rt,{to:"/delivery/history",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View History",n.jsx(Pn,{size:14,className:"ml-0.5"})]})]}),n.jsx("div",{className:"space-y-3",children:l.length>0?n.jsxs(n.Fragment,{children:[le.map(ye=>n.jsx(Z,{delivery:ye},ye.id)),l.length>P&&n.jsx("div",{className:"flex justify-center mt-4",children:n.jsxs("nav",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>pe(T-1),disabled:T===1,className:"px-2 py-1 rounded-l-md",style:{backgroundColor:T===1?"var(--bg-disabled)":"var(--bg-secondary)",color:T===1?"var(--text-disabled)":"var(--text-primary)",cursor:T===1?"not-allowed":"pointer"},children:n.jsx(Za,{size:16})}),Array.from({length:Math.ceil(l.length/P)}).map((ye,Se)=>n.jsx("button",{onClick:()=>pe(Se+1),className:"px-2 py-1",style:{backgroundColor:T===Se+1?"var(--brand-primary)":"var(--bg-secondary)",color:T===Se+1?"white":"var(--text-primary)"},children:Se+1},Se)),n.jsx("button",{onClick:()=>pe(T+1),disabled:T===Math.ceil(l.length/P),className:"px-2 py-1 rounded-r-md",style:{backgroundColor:T===Math.ceil(l.length/P)?"var(--bg-disabled)":"var(--bg-secondary)",color:T===Math.ceil(l.length/P)?"var(--text-disabled)":"var(--text-primary)",cursor:T===Math.ceil(l.length/P)?"not-allowed":"pointer"},children:n.jsx(Pn,{size:16})})]})})]}):n.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No recent deliveries."})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[n.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(rt,{to:"/delivery/assignments",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)20",color:"var(--brand-primary)"},children:n.jsx(vt,{size:16})}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"View Assignments"})]}),n.jsx(Pn,{})]}),n.jsxs(rt,{to:"/delivery/history",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:n.jsx(rn,{size:16})}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"View Delivery History"})]}),n.jsx(Pn,{})]}),n.jsxs(rt,{to:"/delivery/status-update",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:n.jsx(Ou,{size:16})}),n.jsx("span",{style:{color:"var(--text-primary)"},children:"Update Delivery Status"})]}),n.jsx(Pn,{})]})]})]})})]})]})]}),n.jsx(fx,{isOpen:b,onClose:xe,delivery:k,onStatusUpdate:me,isSubmitting:_})]})},Wie=()=>{const{partnerProfile:r,loading:t,error:s,fetchPartnerProfile:i,updatePartnerProfile:l}=oc(),[h,m]=O.useState(!1),[g,b]=O.useState({name:"",email:"",phone:"",address:"",vehicleType:"bike",vehicleNumber:"",currentPassword:"",newPassword:"",confirmPassword:""}),[v,k]=O.useState({});O.useEffect(()=>{i().catch(()=>{})},[]),O.useEffect(()=>{r&&b(R=>({...R,name:r.name||"",email:r.email||"",phone:r.phone||"",address:r.address||"",vehicleType:r.vehicle_type||"bike",vehicleNumber:r.vehicle_number||""}))},[r]),O.useEffect(()=>{s&&Re.error(s)},[s]);const C=R=>{const{name:P,value:V}=R.target;b({...g,[P]:V}),v[P]&&k({...v,[P]:""})},_=R=>{const P={};return R==="profile"&&(g.name.trim()||(P.name="Full name is required"),g.phone.trim()||(P.phone="Phone number is required"),g.address.trim()||(P.address="Address is required"),g.vehicleNumber.trim()||(P.vehicleNumber="Vehicle number is required")),R==="password"&&(g.currentPassword||g.newPassword||g.confirmPassword)&&(g.currentPassword||(P.currentPassword="Current password is required"),g.newPassword?g.newPassword.length<6&&(P.newPassword="Password must be at least 6 characters"):P.newPassword="New password is required",g.confirmPassword?g.newPassword!==g.confirmPassword&&(P.confirmPassword="Passwords don't match"):P.confirmPassword="Please confirm your new password"),k(P),Object.keys(P).length===0},S=async(R,P)=>{if(R.preventDefault(),!_(P)){Re.error("Please fix the errors in the form");return}try{const V={};P==="profile"&&(V.name=g.name,V.phone=g.phone,V.address=g.address,V.vehicle_type=g.vehicleType,V.vehicle_number=g.vehicleNumber),P==="password"&&g.currentPassword&&g.newPassword&&(V.current_password=g.currentPassword,V.new_password=g.newPassword);const U=await l(V);Re.success(U.message||"Profile updated successfully"),P==="password"&&b(F=>({...F,currentPassword:"",newPassword:"",confirmPassword:""})),m(!1),k({})}catch{}},T=()=>{m(!h),k({}),b(!h&&r?R=>({...R,name:r.name||"",phone:r.phone||"",address:r.address||"",vehicleType:r.vehicle_type||"bike",vehicleNumber:r.vehicle_number||"",currentPassword:"",newPassword:"",confirmPassword:""}):R=>({...R,currentPassword:"",newPassword:"",confirmPassword:""}))};return!r&&t?n.jsx(ld,{children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Si,{className:"w-8 h-8 animate-spin",style:{color:"var(--brand-primary)"}})})}):!r&&!t?n.jsx(ld,{children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Failed to load profile data"}),n.jsx("button",{onClick:()=>i(),className:"mt-2 px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]})})}):n.jsx(ld,{children:n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Profile Settings"}),n.jsx("button",{onClick:T,disabled:t,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:h?"var(--bg-secondary)":"var(--brand-primary)",color:h?"var(--text-primary)":"var(--text-on-brand)"},children:h?"Cancel":"Edit Profile"})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Profile Information"}),n.jsxs("form",{onSubmit:R=>S(R,"profile"),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Full Name"}),h?n.jsx(qr,{type:"text",name:"name",value:g.name,onChange:C,placeholder:"Enter your full name",icon:n.jsx(Ds,{}),error:v.name}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.name||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Email Address"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.email}),h&&n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Phone Number"}),h?n.jsx(qr,{type:"tel",name:"phone",value:g.phone,onChange:C,placeholder:"Enter your phone number",icon:n.jsx(sa,{}),error:v.phone}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.phone||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Address"}),h?n.jsx(qr,{type:"text",name:"address",value:g.address,onChange:C,placeholder:"Enter your address",icon:n.jsx(vn,{}),error:v.address}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.address||"Not provided"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Vehicle Type"}),h?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:n.jsx(Lr,{})}),n.jsxs("select",{name:"vehicleType",value:g.vehicleType,onChange:C,className:"w-full pl-10 pr-3 py-2 rounded-md text-sm border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"bike",children:"Bike/Scooter"}),n.jsx("option",{value:"car",children:"Car"}),n.jsx("option",{value:"van",children:"Van/Mini Truck"})]})]}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.vehicle_type==="bike"?"Bike/Scooter":r.vehicle_type==="car"?"Car":r.vehicle_type==="van"?"Van/Mini Truck":r.vehicle_type||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Vehicle Number"}),h?n.jsx(qr,{type:"text",name:"vehicleNumber",value:g.vehicleNumber,onChange:C,placeholder:"Enter vehicle registration number",icon:n.jsx(Lr,{}),error:v.vehicleNumber}):n.jsx("p",{className:"text-lg py-2",style:{color:"var(--text-primary)"},children:r.vehicle_number||"Not provided"})]})]}),h&&n.jsx("div",{className:"mt-4",children:n.jsx(tt,{type:"submit",variant:"primary",isLoading:t,icon:n.jsx(Gm,{}),children:"Save Changes"})})]})]}),h&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"}),n.jsxs("form",{onSubmit:R=>S(R,"password"),className:"space-y-4",children:[n.jsx(qr,{label:"Current Password",type:"password",name:"currentPassword",value:g.currentPassword,onChange:C,placeholder:"Enter your current password",icon:n.jsx(ad,{}),error:v.currentPassword}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(qr,{label:"New Password",type:"password",name:"newPassword",value:g.newPassword,onChange:C,placeholder:"Enter new password (min 6 characters)",icon:n.jsx(ad,{}),error:v.newPassword}),n.jsx(qr,{label:"Confirm New Password",type:"password",name:"confirmPassword",value:g.confirmPassword,onChange:C,placeholder:"Confirm new password",icon:n.jsx(ad,{}),error:v.confirmPassword})]}),n.jsx("div",{className:"mt-4",children:n.jsx(tt,{type:"submit",variant:"primary",isLoading:t,icon:n.jsx(Gm,{}),children:"Update Password"})})]})]})]})]})})},Kie=({isOpen:r,onClose:t,stat:s})=>{if(!r||!s)return null;const i=m=>{m.target===m.currentTarget&&t()},h=(m=>{switch(m.toLowerCase()){case"total sales":return{description:"Total revenue generated from all completed orders",details:["Includes all successful transactions","Excludes cancelled and pending orders","Updated in real-time"]};case"new orders":return{description:"Number of new orders received in the last 24 hours",details:["Includes all order statuses","Refreshed every hour","Peak hours typically 10am-8pm"]};case"new customers":return{description:"Number of new customer registrations in the last 24 hours",details:["Counts verified accounts only","Includes both email and social logins","Conversion rate tracking available"]};case"low stock items":return{description:"Products with stock levels below 10 units",details:["Requires immediate attention","Includes all product variants","Auto-reorder recommendations available"]};default:return{description:"Statistical information about your business performance",details:["Data updated regularly","Historical trends available"]}}})(s.title);return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:i,children:n.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:m=>m.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${s.color}15`,color:s.color},children:s.icon}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:s.title}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Detailed Information"})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:s.color},children:s.value}),n.jsxs("div",{className:`inline-flex items-center text-sm font-medium px-3 py-1 rounded-full ${s.isPositive?"bg-green-100":"bg-red-100"}`,style:{color:s.isPositive?"var(--success-color)":"var(--error-color)"},children:[s.isPositive?n.jsx(v1,{className:"mr-1",size:14}):n.jsx(x1,{className:"mr-1",size:14}),s.change," from last period"]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Um,{className:"mr-2"}),"About This Metric"]}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:h.description}),n.jsx("ul",{className:"text-sm space-y-1",children:h.details.map((m,g)=>n.jsxs("li",{className:"flex items-start",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"mr-2",children:""}),m]},g))})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},Qie=({title:r,value:t,icon:s,change:i,isPositive:l,color:h})=>{const m=ns(),[g,b]=O.useState(!1),v=()=>{b(!0)},k=_=>{switch(_.toLowerCase()){case"new orders":return"/admin/orders";case"new customers":return"/admin/users";case"low stock items":return"/admin/inventory";default:return"/admin/dashboard"}},C=()=>{const _=k(r);_!=="/admin/dashboard"&&m(_)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg transition-all duration-300 hover:shadow-lg relative overflow-hidden cursor-pointer hover:scale-105 transform",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},onClick:v,onDoubleClick:C,title:`Click for details, double-click to navigate to ${k(r).split("/").pop()}`,children:[n.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 rounded-full opacity-10",style:{backgroundColor:h}}),n.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[n.jsx("div",{className:"p-3 rounded-full transition-transform duration-200 hover:scale-110",style:{backgroundColor:`${h}15`,color:h},children:s}),n.jsxs("div",{className:`flex items-center text-sm font-medium px-2.5 py-1 rounded-full ${l?"bg-green-100":"bg-red-100"}`,style:{color:l?"var(--success-color)":"var(--error-color)"},children:[l?n.jsx(v1,{className:"mr-1",size:14}):n.jsx(x1,{className:"mr-1",size:14}),i]})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:r}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:t})]}),n.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{color:"var(--text-secondary)"},children:n.jsx(Um,{size:16})})]}),n.jsx(Kie,{isOpen:g,onClose:()=>b(!1),stat:{title:r,value:t,icon:s,change:i,isPositive:l,color:h}})]})},Jie=({analytics:r})=>{const t=[{title:"Total Revenue",value:`$${r.totalRevenue.toLocaleString()}`,change:r.totalRevenueChange,icon:n.jsx(Mm,{size:24}),color:"#f59e0b"},{title:"Net Revenue",value:`$${r.netRevenue.toLocaleString()}`,change:r.netRevenueChange,icon:n.jsx(Ou,{size:24}),color:"#10b981"},{title:"Gross Profit",value:`$${r.grossProfit.toLocaleString()}`,change:r.grossProfitChange,icon:n.jsx(Bx,{size:24}),color:"#3b82f6"},{title:"Operating Costs",value:`$${r.operatingCosts.toLocaleString()}`,change:r.operatingCostsChange,icon:n.jsx(M9,{size:24}),color:"#ef4444"},{title:"Conversion Rate",value:`${r.conversionRate}%`,change:r.conversionRateChange,icon:n.jsx(wee,{size:24}),color:"#8b5cf6"},{title:"Avg Order Value",value:`$${r.averageOrderValue}`,change:r.averageOrderValueChange,icon:n.jsx(Mm,{size:24}),color:"#f59e0b"},{title:"Return Rate",value:`${r.returnRate}%`,change:r.returnRateChange,icon:n.jsx(Nee,{size:24}),color:"#ef4444"},{title:"Customer Acq. Cost",value:`$${r.customerAcquisitionCost}`,change:r.customerAcquisitionCostChange,icon:n.jsx(Mm,{size:24}),color:"#06b6d4"}],s=({title:i,value:l,change:h,icon:m,color:g})=>{const b=h.startsWith("+"),v=h.startsWith("-"),k=i.includes("Cost")||i.includes("Return")?v:b;return n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${g}15`,color:g},children:m}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${k?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:i}),n.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:l})]})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Business Analytics"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Last 30 days"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((i,l)=>n.jsx(s,{...i},l))})]})},NR=({statistics:r})=>{const t=[{title:"Total Orders",value:r.totalOrders.toLocaleString(),change:r.totalOrdersChange,icon:n.jsx(el,{size:20}),color:"#f59e0b",description:"All orders placed"},{title:"Pending",value:r.pendingOrders.toString(),change:r.pendingOrdersChange,icon:n.jsx(rn,{size:20}),color:"#f59e0b",description:"Awaiting processing"},{title:"Processing",value:r.processingOrders.toString(),change:r.processingOrdersChange,icon:n.jsx(Mi,{size:20}),color:"#3b82f6",description:"Being prepared"},{title:"Shipped",value:r.shippedOrders.toString(),change:r.shippedOrdersChange,icon:n.jsx(Lr,{size:20}),color:"#8b5cf6",description:"On the way"},{title:"Delivered",value:r.deliveredOrders.toString(),change:r.deliveredOrdersChange,icon:n.jsx(qn,{size:20}),color:"#10b981",description:"Successfully delivered"},{title:"Cancelled",value:r.cancelledOrders.toString(),change:r.cancelledOrdersChange,icon:n.jsx(Lx,{size:20}),color:"#ef4444",description:"Cancelled by customer"},{title:"Returned",value:r.returnedOrders.toString(),change:r.returnedOrdersChange,icon:n.jsx(T9,{size:20}),color:"#f59e0b",description:"Returned items"},{title:"Refunded",value:r.refundedOrders.toString(),change:r.refundedOrdersChange,icon:n.jsx(vt,{size:20}),color:"#6b7280",description:"Refund processed"}],s=({title:h,value:m,change:g,icon:b,color:v,description:k})=>{const C=g.startsWith("+"),_=g.startsWith("-"),S=h==="Cancelled"||h==="Returned"||h==="Refunded"?_:C;return n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${v}15`,color:v},children:b}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${S?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:h}),n.jsx("p",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:m}),n.jsx("p",{className:"text-xs opacity-75",style:{color:"var(--text-secondary)"},children:k})]})]})},i=r.totalOrders,l=h=>(h/i*100).toFixed(1);return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Order Statistics"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Overview of all order statuses and trends"})]}),n.jsxs("div",{className:"text-right",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"text-xs",children:"Success Rate"}),n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--success-color)"},children:[l(r.deliveredOrders),"%"]})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:t.map((h,m)=>n.jsx(s,{...h},m))}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Completed: ",l(r.deliveredOrders),"%"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["In Progress: ",l(r.processingOrders+r.shippedOrders),"%"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Issues: ",l(r.cancelledOrders+r.returnedOrders),"%"]})]})]}),n.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Last 30 days"})]})})]})},jR=({overview:r})=>{const t=[{title:"Total Customers",value:r.totalCustomers.toLocaleString(),change:r.totalCustomersChange,icon:n.jsx(fd,{size:24}),color:"#3b82f6",subtitle:"Registered users"},{title:"Active Customers",value:r.activeCustomers.toLocaleString(),change:r.activeCustomersChange,icon:n.jsx(nx,{size:24}),color:"#10b981",subtitle:"Active this month"},{title:"Total Delivery Men",value:r.totalDeliveryMen.toString(),change:r.totalDeliveryMenChange,icon:n.jsx(Lr,{size:24}),color:"#f59e0b",subtitle:"In our network"},{title:"Active Delivery Men",value:r.activeDeliveryMen.toString(),change:r.activeDeliveryMenChange,icon:n.jsx(nx,{size:24}),color:"#8b5cf6",subtitle:"Currently active"}],s=[{label:"New Today",value:r.newCustomersToday,icon:n.jsx(qT,{size:16}),color:"#10b981"},{label:"This Week",value:r.newCustomersThisWeek,icon:n.jsx(ei,{size:16}),color:"#3b82f6"},{label:"This Month",value:r.newCustomersThisMonth,icon:n.jsx(Bx,{size:16}),color:"#f59e0b"}],i=({title:h,value:m,change:g,icon:b,color:v,subtitle:k})=>{const C=g.startsWith("+");return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${v}15`,color:v},children:b}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${C?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:h}),n.jsx("p",{className:"text-3xl font-bold mb-1",style:{color:"var(--text-primary)"},children:m}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:k})]})]})},l=({label:h,value:m,icon:g,color:b})=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{style:{color:b},children:g}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:h})]}),n.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:m})]});return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"User Overview"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Customer and delivery personnel statistics"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:t.map((h,m)=>n.jsx(i,{...h},m))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(qT,{className:"mr-2",size:16}),"New Customer Growth"]}),n.jsx("div",{className:"space-y-2",children:s.map((h,m)=>n.jsx(l,{...h},m))})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Xr,{className:"mr-2",size:16}),"Key Metrics"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Customer Lifetime Value"}),n.jsxs("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:["$",r.averageCustomerLifetimeValue]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Retention Rate"}),n.jsxs("span",{className:"font-bold text-green-600",children:[r.customerRetentionRate,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Delivery Coverage"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[Math.round(r.activeDeliveryMen/r.totalDeliveryMen*100),"%"]})]})]})]})]})]})},Xie=({products:r})=>{const[t,s]=O.useState(!1),i=t?r:r.slice(0,5),l=({product:h,index:m})=>n.jsxs("div",{className:"flex items-center p-4 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold mr-4",style:{backgroundColor:m<3?"var(--brand-primary)":"var(--bg-secondary)",color:m<3?"white":"var(--text-secondary)"},children:m+1}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center overflow-hidden",children:h.image?n.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",style:{color:"var(--text-secondary)"},children:"IMG"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h4",{className:"font-medium text-sm truncate pr-2",style:{color:"var(--text-primary)"},children:h.name}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:h.category})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Di,{size:12}),n.jsx("span",{children:h.views.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ag,{size:12}),n.jsx("span",{children:h.wishlistCount})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(kee,{size:12}),n.jsx("span",{children:h.shareCount})]})]}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${h.viewsChange.startsWith("+")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.viewsChange})]})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-lg ml-2",style:{color:"var(--text-secondary)"},children:n.jsx(ox,{size:14})})]});return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Most Popular Products"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Based on views, engagement, and interactions"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("div",{className:"text-xs px-3 py-1 rounded-full bg-blue-100 text-blue-800",children:"Trending"})})]}),n.jsx("div",{className:"space-y-3",children:i.map((h,m)=>n.jsx(l,{product:h,index:m},h.id))}),r.length>5&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Products`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((h,m)=>h+m.views,0).toLocaleString()}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Views"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((h,m)=>h+m.wishlistCount,0).toLocaleString()}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Wishlisted"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((h,m)=>h+m.shareCount,0)}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Shared"})]})]})})]})},$ie=({products:r})=>{const[t,s]=O.useState(!1),[i,l]=O.useState("revenue"),h=[{value:"revenue",label:"Revenue"},{value:"unitsSold",label:"Units Sold"},{value:"profit",label:"Profit"},{value:"profitMargin",label:"Profit Margin"}],m=[...r].sort((C,_)=>i==="revenue"||i==="profit"?_[i]-C[i]:i==="unitsSold"?_.unitsSold-C.unitsSold:i==="profitMargin"?_.profitMargin-C.profitMargin:0),g=t?m:m.slice(0,5),b=C=>`$${C.toLocaleString()}`,v=C=>C.toLocaleString(),k=({product:C,index:_})=>{const S=T=>T===0?"#FFD700":T===1?"#C0C0C0":T===2?"#CD7F32":"var(--bg-secondary)";return n.jsxs("div",{className:"flex items-center p-4 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold mr-4",style:{backgroundColor:S(_),color:_<3?"white":"var(--text-secondary)"},children:_+1}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center overflow-hidden",children:C.image?n.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",style:{color:"var(--text-secondary)"},children:"IMG"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-sm truncate pr-2",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((T,R)=>n.jsx(Xr,{size:12,className:R<Math.floor(C.rating)?"text-yellow-400":"text-gray-300",fill:R<Math.floor(C.rating)?"currentColor":"none"},R)),n.jsx("span",{className:"text-xs ml-1",style:{color:"var(--text-secondary)"},children:C.rating})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:v(C.unitsSold)}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Units"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:b(C.revenue)}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Revenue"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:b(C.profit)}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Profit"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-green-600",children:[C.profitMargin,"%"]}),n.jsx("div",{style:{color:"var(--text-secondary)"},children:"Margin"})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:C.category}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${C.stock>50?"bg-green-100 text-green-800":C.stock>20?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Stock: ",C.stock]})})]})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-lg ml-2",style:{color:"var(--text-secondary)"},children:n.jsx(ox,{size:14})})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Selling Products"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Best performing products by sales metrics"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:h.map(C=>n.jsxs("option",{value:C.value,children:["Sort by ",C.label]},C.value))})})]}),n.jsx("div",{className:"space-y-3",children:g.map((C,_)=>n.jsx(k,{product:C,index:_},C.id))}),r.length>5&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Products`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:v(r.reduce((C,_)=>C+_.unitsSold,0))}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Units Sold"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:b(r.reduce((C,_)=>C+_.revenue,0))}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Revenue"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:b(r.reduce((C,_)=>C+_.profit,0))}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Profit"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(r.reduce((C,_)=>C+_.profit,0)/r.reduce((C,_)=>C+_.revenue,0)*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Profit Margin"})]})]})})]})},Zie=({deliveryMen:r})=>{const[t,s]=O.useState(!1),[i,l]=O.useState("totalDeliveries"),h=[{value:"totalDeliveries",label:"Total Deliveries"},{value:"successRate",label:"Success Rate"},{value:"averageRating",label:"Customer Rating"},{value:"totalEarnings",label:"Total Earnings"},{value:"onTimeDeliveryRate",label:"On-Time Rate"}],m=[...r].sort((C,_)=>i==="totalEarnings"?_.totalEarnings-C.totalEarnings:_[i]-C[i]),g=t?m:m.slice(0,5),b=C=>C===0?{bg:"#FFD700",text:"#B8860B",label:""}:C===1?{bg:"#C0C0C0",text:"#708090",label:""}:C===2?{bg:"#CD7F32",text:"#8B4513",label:""}:{bg:"var(--bg-secondary)",text:"var(--text-secondary)",label:C+1},v=C=>C>=95?"#10b981":C>=90?"#f59e0b":"#ef4444",k=({deliveryMan:C,index:_})=>{const S=b(_);return n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200 group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full font-bold text-sm",style:{backgroundColor:S.bg,color:S.text},children:S.label}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:C.avatar?n.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}):n.jsx(Lr,{size:20,style:{color:"var(--text-secondary)"}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Xr,{size:12,className:"text-yellow-400",fill:"currentColor"}),n.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)"},children:C.averageRating}),n.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["(",C.totalDeliveries,")"]})]})]})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:n.jsx(D9,{size:16})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:C.thisMonthDeliveries}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"This Month"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-bold",style:{color:v(C.successRate)},children:[C.successRate,"%"]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Success Rate"})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"On-Time Delivery"}),n.jsxs("span",{className:"font-medium",style:{color:v(C.onTimeDeliveryRate)},children:[C.onTimeDeliveryRate,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Customer Feedback"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Xr,{size:10,className:"text-yellow-400",fill:"currentColor"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:C.customerFeedback})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Total Earnings"}),n.jsxs("span",{className:"font-medium text-green-600",children:["$",C.totalEarnings.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Active Hours/Day"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:[C.activeHours,"h"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-600",children:"Active"})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx(rn,{size:10}),n.jsx("span",{children:"Online"})]})]})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Delivery Personnel"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Best performing delivery team members"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:h.map(C=>n.jsxs("option",{value:C.value,children:["Sort by ",C.label]},C.value))})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((C,_)=>n.jsx(k,{deliveryMan:C,index:_},C.id))}),r.length>5&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Delivery Personnel`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((C,_)=>C+_.totalDeliveries,0).toLocaleString()}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Deliveries"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(r.reduce((C,_)=>C+_.successRate,0)/r.length).toFixed(1),"%"]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Success Rate"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:(r.reduce((C,_)=>C+_.averageRating,0)/r.length).toFixed(1)}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Rating"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",r.reduce((C,_)=>C+_.totalEarnings,0).toLocaleString()]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Earnings"})]})]})})]})},eae=({customers:r})=>{const[t,s]=O.useState(!1),[i,l]=O.useState("totalSpent"),h=[{value:"totalSpent",label:"Total Spent"},{value:"totalOrders",label:"Total Orders"},{value:"averageOrderValue",label:"Avg Order Value"},{value:"lastOrderDate",label:"Recent Activity"}],m=[...r].sort((C,_)=>i==="lastOrderDate"?new Date(_.lastOrderDate)-new Date(C.lastOrderDate):_[i]-C[i]),g=t?m:m.slice(0,5),b=C=>{switch(C.toLowerCase()){case"platinum":return{bg:"#E5E7EB",text:"#374151",icon:"",color:"#6B7280"};case"gold":return{bg:"#FEF3C7",text:"#92400E",icon:"",color:"#D97706"};case"silver":return{bg:"#F3F4F6",text:"#4B5563",icon:"",color:"#6B7280"};default:return{bg:"#DBEAFE",text:"#1E40AF",icon:"",color:"#3B82F6"}}},v=C=>{const S=Math.abs(new Date-new Date(C)),T=Math.floor(S/(1e3*60*60*24));return T===0?"Today":T===1?"Yesterday":T<7?`${T} days ago`:T<30?`${Math.floor(T/7)} weeks ago`:T<365?`${Math.floor(T/30)} months ago`:`${Math.floor(T/365)} years ago`},k=({customer:C,index:_})=>{const S=b(C.loyaltyLevel),T=C.totalSpent>5e3;return n.jsxs("div",{className:`bg-white p-6 rounded-lg border hover:shadow-md transition-all duration-200 group ${T?"border-yellow-200 bg-gradient-to-br from-yellow-50 to-white":"border-gray-100"}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold",style:{backgroundColor:_<3?"var(--brand-primary)":"var(--bg-secondary)",color:_<3?"white":"var(--text-secondary)"},children:_+1}),n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:C.avatar?n.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}):n.jsx(fd,{size:20,style:{color:"var(--text-secondary)"}})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:C.name}),T&&n.jsx(Xr,{className:"text-yellow-500",size:14})]}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:C.email})]})]}),n.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",style:{backgroundColor:S.bg,color:S.text},children:[n.jsx("span",{children:S.icon}),n.jsx("span",{children:C.loyaltyLevel})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",C.totalSpent.toLocaleString()]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Spent"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:C.totalOrders}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Orders"})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Order Value"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["$",C.averageOrderValue.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Last Order"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:v(C.lastOrderDate)})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Customer Since"}),n.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:v(C.signupDate)})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Favorite Category"}),n.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:C.favoriteCategory})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"var(--text-secondary)"},title:"Send Email",children:n.jsx(ec,{size:14})}),n.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"var(--text-secondary)"},title:"View Profile",children:n.jsx(fd,{size:14})})]}),n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:n.jsx(D9,{size:14})})]})]})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Top Customers"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Most valuable customers by spending and engagement"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:h.map(C=>n.jsxs("option",{value:C.value,children:["Sort by ",C.label]},C.value))})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((C,_)=>n.jsx(k,{customer:C,index:_},C.id))}),r.length>5&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>s(!t),className:"text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:"var(--brand-primary)"},children:t?"Show Less":`Show All ${r.length} Customers`})}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",r.reduce((C,_)=>C+_.totalSpent,0).toLocaleString()]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Combined Spending"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r.reduce((C,_)=>C+_.totalOrders,0)}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Total Orders"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["$",(r.reduce((C,_)=>C+_.averageOrderValue,0)/r.length).toFixed(2)]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Avg Order Value"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-purple-600",children:r.filter(C=>C.loyaltyLevel==="Platinum").length}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"VIP Customers"})]})]})})]})},tae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState("last30days"),[l,h]=O.useState(!1),m=[{title:"Financial Reports",reports:[{id:"revenue",title:"Revenue Report",description:"Provides a broad overview of the financial status of a store.",details:"Reports gross revenue, refunds, the value of coupons used, taxes collected, shipping costs, and net revenue for a selected date range",icon:n.jsx(Mm,{size:20}),color:"#10b981",estimatedTime:"2-3 minutes"},{id:"tax",title:"Tax Report",description:"Compares tax report data by different tax codes",details:"Compares multiple tax codes, and displays data on how much tax was collected for orders and shipping",icon:n.jsx(A9,{size:20}),color:"#6b7280",estimatedTime:"1-2 minutes"}]},{title:"Sales & Orders",reports:[{id:"orders",title:"Orders Report",description:"Reports the total number of orders, net revenue, the average order value.",details:"Reports the total number of orders, net revenue, the average order value, and the average number of items per order for a selected date range",icon:n.jsx(el,{size:20}),color:"#3b82f6",estimatedTime:"2-3 minutes"},{id:"order-detailed",title:"Detailed Order Report",description:"Filters order data for a given time period by order status.",details:"Filters order data for a given time period by order status (i.e., pending and complete), product (orders with or without certain products), coupon codes (coupon codes were/were not used on orders), and new and returning customers.",icon:n.jsx(Ou,{size:20}),color:"#8b5cf6",estimatedTime:"3-4 minutes"}]},{title:"Product Analytics",reports:[{id:"product",title:"Product Report",description:"Displays and compares sales information for a given time period by product",details:"Comprehensive product performance analysis including sales, revenue, and trends",icon:n.jsx(vt,{size:20}),color:"#f59e0b",estimatedTime:"3-5 minutes"},{id:"stock",title:"Stock Report",description:"Displays the store's entire product catalog by stock status.",details:"Displays the store's entire product catalog by products that are in stock, low stock, and out of stock.",icon:n.jsx(Ou,{size:20}),color:"#ef4444",estimatedTime:"2-3 minutes"},{id:"product-comparison",title:"Product Comparison Report",description:"Performs highly customized analysis of sales data.",details:"Performs highly customized analysis of sales data by comparing the performance of different product/s and variation/s over a specified date range.",icon:n.jsx(Bx,{size:20}),color:"#06b6d4",estimatedTime:"4-6 minutes"},{id:"category",title:"Category Report",description:"Filters by all categories, single category, category comparison.",details:"Filters by all categories, a single category, category comparison, viewing top categories by items sold, and top categories by net revenue.",icon:n.jsx(M9,{size:20}),color:"#8b5cf6",estimatedTime:"3-4 minutes"}]},{title:"Customer Analytics",reports:[{id:"customers",title:"Customers Report",description:"Displays Customer Data: Name, Sign Up date, Email, number of Orders.",details:"Displays Customer Data: Name, Sign Up date, Email, number of Orders, Lifetime Spend, Average Order Value, Last Purchase Date, and Country. Provides a look into all customer data for a store, listing all registered and unregistered customers along with pertinent data about each customer such as email address, number of orders, lifetime spend, and average order value.",icon:n.jsx(fd,{size:20}),color:"#10b981",estimatedTime:"3-5 minutes"}]},{title:"Marketing & Promotions",reports:[{id:"coupons",title:"Coupons Report",description:"Compares multiple coupon codes to display usage and discounts.",details:"Compares multiple coupon codes to display how many orders used coupons and the total amount discounted. Uses advanced filters to compare coupons, and a few preset filters to displays Top Coupons by Discounted Orders or Amount Discounted using preset filters",icon:n.jsx(N9,{size:20}),color:"#f59e0b",estimatedTime:"2-3 minutes"}]},{title:"System Reports",reports:[{id:"downloads",title:"Downloads Report",description:"Allows filtering of Downloads by product, username, order number.",details:"Allows filtering of Downloads by product, username, order number, and IP address",icon:n.jsx(ji,{size:20}),color:"#6b7280",estimatedTime:"1-2 minutes"}]}],g=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last90days",label:"Last 90 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisYear",label:"This Year"},{value:"custom",label:"Custom Range"}],b=async k=>{var C;h(!0),t(k),await new Promise(_=>setTimeout(_,2e3)),h(!1),alert(`${(C=m.flatMap(_=>_.reports).find(_=>_.id===k))==null?void 0:C.title} has been generated and is ready for download!`)},v=({report:k})=>n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-small)"},onClick:()=>b(k.id),children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-lg group-hover:scale-110 transition-transform duration-200",style:{backgroundColor:`${k.color}15`,color:k.color},children:k.icon}),n.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-gray-100",style:{color:"var(--text-secondary)"},children:k.estimatedTime})]}),n.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-blue-600 transition-colors",style:{color:"var(--text-primary)"},children:k.title}),n.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:"var(--text-secondary)"},children:k.description}),n.jsx("p",{className:"text-xs mb-4 line-clamp-3",style:{color:"var(--text-secondary)"},children:k.details}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx(Di,{size:12}),n.jsx("span",{children:"View Details"})]}),n.jsx("button",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${l&&r===k.id?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,disabled:l&&r===k.id,children:l&&r===k.id?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-gray-600"}),n.jsx("span",{children:"Generating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(ji,{size:14}),n.jsx("span",{children:"Generate"})]})})]})]});return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Reports Dashboard"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Generate comprehensive business reports and analytics"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ei,{size:16,style:{color:"var(--text-secondary)"}}),n.jsx("select",{value:s,onChange:k=>i(k.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:g.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))})]})})]}),n.jsx("div",{className:"space-y-8",children:m.map((k,C)=>n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx("div",{className:"w-1 h-6 rounded-full mr-3",style:{backgroundColor:"var(--brand-primary)"}}),k.title]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.reports.map(_=>n.jsx(v,{report:_},_.id))})]},C))}),n.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Quick Actions"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(Ou,{size:14}),n.jsx("span",{children:"Schedule Reports"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm",children:[n.jsx(ji,{size:14}),n.jsx("span",{children:"Export All Data"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:[n.jsx(yd,{size:14}),n.jsx("span",{children:"Custom Report Builder"})]})]})]})]})},Cu=(r,t="status")=>r.reduce((s,i)=>{const l=i[t];return s[l]=(s[l]||0)+1,s},{}),ti=un(qm((r,t)=>({dashboard:{stats:[],salesData:[],topProducts:[],recentOrders:[],loading:!1},orders:{list:[],loading:!1,statusCounts:{},error:null},users:{list:[],loading:!1,statusCounts:{},error:null},products:{list:[],loading:!1,error:null},returns:{list:[],loading:!1,statusCounts:{}},deliveryPartners:{list:[],loading:!1,error:null},getUserById:async s=>{try{return(await Ze.get(`/admin/users/${s}/`)).data.user}catch(i){return console.error(`Failed to fetch user ${s}:`,i),null}},getProductById:async s=>{try{return(await Ze.get(`/admin/products/${s}/`)).data.product}catch(i){return console.error(`Failed to fetch product ${s}:`,i),null}},userCache:new Map,productCache:new Map,getCachedUser:async s=>{const i=t().userCache.get(s);if(i)return i;const l=await t().getUserById(s);return l&&r(h=>{const m=new Map(h.userCache);return m.set(s,l),{userCache:m}}),l},getCachedProduct:async s=>{const i=t().productCache.get(s);if(i)return i;const l=await t().getProductById(s);return l&&r(h=>{const m=new Map(h.productCache);return m.set(s,l),{productCache:m}}),l},footer:{config:null,loading:!1,error:null},fetchFooterConfig:async()=>{r(s=>({footer:{...s.footer,loading:!0,error:null}}));try{const s=await fetch("/api/admin/footer/"),i=await s.json();return s.ok?(r(l=>({footer:{...l.footer,config:i.footer_config,loading:!1}})),{success:!0,data:i.footer_config}):(r(l=>({footer:{...l.footer,error:i.error||"Failed to fetch footer configuration",loading:!1}})),{success:!1,error:i.error})}catch{const i="Network error occurred";return r(l=>({footer:{...l.footer,error:i,loading:!1}})),{success:!1,error:i}}},updateFooterConfig:async s=>{r(i=>({footer:{...i.footer,loading:!0,error:null}}));try{const i=localStorage.getItem("adminToken"),l=await fetch("/api/admin/footer/update/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({footer_config:s})}),h=await l.json();return l.ok?(r(m=>({footer:{...m.footer,config:s,loading:!1}})),{success:!0}):(r(m=>({footer:{...m.footer,error:h.error||"Failed to update footer configuration",loading:!1}})),{success:!1,error:h.error})}catch{const l="Network error occurred";return r(h=>({footer:{...h.footer,error:l,loading:!1}})),{success:!1,error:l}}},addFooterLink:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch("/api/admin/footer/links/add/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({section:s,...i})}),m=await h.json();return h.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:m.error||"Failed to add link"}}catch{return{success:!1,error:"Network error occurred"}}},deleteFooterLink:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch(`/api/admin/footer/links/${s}/${i}/delete/`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}});return h.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:(await h.json()).error||"Failed to delete link"}}catch{return{success:!1,error:"Network error occurred"}}},updateSocialLink:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch(`/api/admin/footer/social-links/${s}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(i)}),m=await h.json();return h.ok?(await t().fetchFooterConfig(),{success:!0}):{success:!1,error:m.error||"Failed to update social link"}}catch{return{success:!1,error:"Network error occurred"}}},toggleFooterSection:async(s,i)=>{try{const l=localStorage.getItem("adminToken"),h=await fetch(`/api/admin/footer/sections/${s}/toggle/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({enabled:i})}),m=await h.json();return h.ok?(r(g=>({footer:{...g.footer,config:{...g.footer.config,[s]:{...g.footer.config[s],enabled:i}}}})),{success:!0}):{success:!1,error:m.error||"Failed to toggle section"}}catch{return{success:!1,error:"Network error occurred"}}},fetchDashboardData:async()=>{r(s=>({dashboard:{...s.dashboard,loading:!0}}));try{const[s,i,l]=await Promise.all([Ze.get("/admin/get_all_orders"),Ze.get("/admin/get_all_users"),Ze.get("/admin/get_all_products")]),h=s.data.orders||[],m=i.data.users||[],g=l.data.products||[],b=new Date,v=new Date(b.getTime()-24*60*60*1e3),k=new Date(b.getFullYear(),b.getMonth()-1,b.getDate()),C=h.filter(J=>J.status!=="cancelled"&&J.status!=="pending_payment"),_=C.reduce((J,K)=>J+(K.total_amount||0),0),T=C.filter(J=>{const K=new Date(J.created_at);return K>=k&&K<new Date(b.getFullYear(),b.getMonth(),1)}).reduce((J,K)=>J+(K.total_amount||0),0),R=T>0?((_-T)/T*100).toFixed(1):0,P=h.filter(J=>new Date(J.created_at)>=v).length,V=m.filter(J=>new Date(J.created_at)>=v).length,U=g.filter(J=>(J.stock||0)<10).length,F=[{title:"Total Sales",value:`${_.toLocaleString()}`,change:`${R>=0?"+":""}${R}%`,isPositive:R>=0},{title:"New Orders",value:P.toString(),change:"+8.2%",isPositive:!0},{title:"New Customers",value:V.toString(),change:"+5.7%",isPositive:!0},{title:"Low Stock Items",value:U.toString(),change:U>0?"-2.3%":"0%",isPositive:U===0}],q={};C.forEach(J=>{var K;(K=J.order_items)==null||K.forEach(Z=>{q[Z.product_id]||(q[Z.product_id]={id:Z.product_id,name:Z.name||"Unknown Product",sales:0,revenue:0}),q[Z.product_id].sales+=Z.quantity||1,q[Z.product_id].revenue+=Z.total_item_price||0})});const ne=Object.values(q).sort((J,K)=>K.revenue-J.revenue).slice(0,5),se={},Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let J=0;J<12;J++){const K=Q[J];se[K]=0}C.forEach(J=>{const K=new Date(J.created_at),Z=Q[K.getMonth()];se[Z]+=J.total_amount||0});const B=Object.entries(se).map(([J,K])=>({month:J,sales:Math.round(K)})),Y=h.sort((J,K)=>new Date(K.created_at)-new Date(J.created_at)).slice(0,5);r({dashboard:{stats:F,salesData:B,topProducts:ne,recentOrders:Y,loading:!1}})}catch(s){console.error("Dashboard data fetch error:",s),r(i=>{var l,h;return{dashboard:{...i.dashboard,loading:!1,error:((h=(l=s.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch dashboard data"}}})}},fetchOrders:async()=>{r(s=>({orders:{...s.orders,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_orders")).data.orders,l=Cu(i);r({orders:{list:i,statusCounts:l,loading:!1,error:null}})}catch(s){r(i=>{var l,h;return{orders:{...i.orders,loading:!1,error:((h=(l=s.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch orders"}}})}},updateOrderStatus:async(s,i)=>{r(l=>({orders:{...l.orders,loading:!0,error:null}}));try{const l=await Ze.put(`/admin/order/edit/${s}/`,{status:i});(l.data.message||l.status===200)&&r(h=>{const m=h.orders.list.map(b=>b.order_id===s?{...b,status:i}:b),g=Cu(m);return{orders:{list:m,statusCounts:g,loading:!1,error:null}}})}catch(l){r(h=>{var m,g;return{orders:{...h.orders,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to update order status"}}})}},editOrder:async(s,i,l)=>{r(h=>({orders:{...h.orders,loading:!0,error:null}}));try{const h=await Ze.put(`/admin/users/${s}/orders/${i}/edit/`,l);if(h.data.message||h.status===200)return r(m=>{const g=m.orders.list.map(b=>b.order_id===i?{...b,...l}:b);return{orders:{list:g,statusCounts:Cu(g),loading:!1,error:null}}}),h.data}catch(h){throw r(m=>{var g,b;return{orders:{...m.orders,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to edit order"}}}),h}},assignOrderToDeliveryPartner:async(s,i,l)=>{var h,m;if(!l){const g="Partner ID is required. Please select a delivery partner.";throw r(b=>({orders:{...b.orders,loading:!1,error:g}})),console.error(g),new Error(g)}r(g=>({orders:{...g.orders,loading:!0,error:null}}));try{const g=await Ze.post(`/admin/users/${s}/orders/${i}/assign-partner/`,{partner_id:l});if(g.data.message||g.status===200)return r(b=>{const v=b.orders.list.map(C=>C.order_id===i?{...C,assigned_partner_id:l,delivery_status:"assigned",status:"assigned"}:C),k=Cu(v);return{orders:{list:v,statusCounts:k,loading:!1,error:null}}}),g.data}catch(g){const b=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to assign delivery partner";throw r(v=>({orders:{...v.orders,loading:!1,error:b}})),console.error("Error in assignOrderToDeliveryPartner:",g),g}},fetchProducts:async()=>{r(s=>({products:{...s.products,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_products")).data.products;r({products:{list:i,loading:!1,error:null}})}catch(s){r(i=>{var l,h;return{products:{...i.products,loading:!1,error:((h=(l=s.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch products"}}})}},updateProduct:async(s,i)=>{r(l=>({products:{...l.products,loading:!0,error:null}}));try{(await Ze.put(`/admin/products/edit/${s}/`,i)).data.success&&r(h=>({products:{list:h.products.list.map(g=>g.id===s?{...g,...i}:g),loading:!1,error:null}}))}catch(l){r(h=>{var m,g;return{products:{...h.products,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to update product"}}})}},addProduct:async s=>{r(i=>({products:{...i.products,loading:!0,error:null}}));try{const i=await Ze.post("/admin/products/add/",s);i.data.success&&r(l=>({products:{list:[...l.products.list,i.data.product],loading:!1,error:null}}))}catch(i){r(l=>{var h,m;return{products:{...l.products,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to add product"}}})}},deleteProduct:async s=>{r(i=>({products:{...i.products,loading:!0,error:null}}));try{(await Ze.delete(`/admin/delete-product/${s}/`)).data.success&&r(l=>({products:{list:l.products.list.filter(h=>h.id!==s),loading:!1,error:null}}))}catch(i){r(l=>{var h,m;return{products:{...l.products,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to delete product"}}})}},fetchUsers:async()=>{r(s=>({users:{...s.users,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_users")).data.users,l=Cu(i,"status");r({users:{list:i,statusCounts:l,loading:!1,error:null}})}catch(s){r(i=>{var l,h;return{users:{...i.users,loading:!1,error:((h=(l=s.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch users"}}})}},updateUserStatus:async s=>{r(i=>({users:{...i.users,loading:!0,error:null}}));try{const i=await Ze.patch(`/admin/users/ban/${s}/`);i.data.message&&r(l=>{const h=l.users.list.map(g=>g.id===s?{...g,is_banned:i.data.is_banned,status:i.data.is_banned?"banned":"active"}:g),m=Cu(h,"status");return{users:{list:h,statusCounts:m,loading:!1,error:null}}})}catch(i){r(l=>{var h,m;return{users:{...l.users,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to update user status"}}})}},banUser:async s=>{r(i=>({users:{...i.users,loading:!0,error:null}}));try{(await Ze.post(`/admin/users/ban/${s}/`)).data.success&&r(l=>{const h=l.users.list.map(m=>m.id===s?{...m,is_banned:!0}:m);return{users:{...l.users,list:h,loading:!1,error:null}}})}catch(i){r(l=>{var h,m;return{users:{...l.users,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to ban user"}}})}},fetchReturns:async()=>{r(h=>({returns:{...h.returns,loading:!0}}));const i=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",requestDate:"2023-05-10",status:"pending",refundAmount:49.99},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",requestDate:"2023-05-12",status:"approved",refundAmount:89.99},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",requestDate:"2023-05-15",status:"rejected",refundAmount:159.97}],l=Cu(i);r({returns:{list:i,statusCounts:l,loading:!1}})},updateReturnStatus:async(s,i)=>{r(l=>({returns:{...l.returns,loading:!0}})),r(l=>{const h=l.returns.list.map(g=>g.id===s?{...g,status:i}:g),m=Cu(h);return{returns:{list:h,statusCounts:m,loading:!1}}})},fetchDeliveryPartners:async()=>{r(s=>({deliveryPartners:{...s.deliveryPartners,loading:!0,error:null}}));try{const s=await Ze.get("/partners/all/");return r({deliveryPartners:{list:s.data.partners,loading:!1,error:null}}),s.data.partners}catch(s){throw r(i=>{var l,h;return{deliveryPartners:{...i.deliveryPartners,loading:!1,error:((h=(l=s.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch delivery partners"}}}),s}},verifyDeliveryPartner:async s=>{r(i=>({deliveryPartners:{...i.deliveryPartners,loading:!0,error:null}}));try{const i=await Ze.patch(`/partners/verify/${s}/`,{});return r(l=>({deliveryPartners:{list:l.deliveryPartners.list.map(m=>m.partner_id===s?{...m,is_verified:!0}:m),loading:!1,error:null}})),i.data}catch(i){throw r(l=>{var h,m;return{deliveryPartners:{...l.deliveryPartners,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to verify delivery partner"}}}),i}},assignDeliveryPartner:async(s,i,l)=>{r(h=>({deliveryPartners:{...h.deliveryPartners,loading:!0,error:null}}));try{const h=await Ze.post(`/admin/users/${s}/orders/${i}/assign-partner/`,{partner_id:l});return await ti.getState().fetchOrders(),r(m=>({deliveryPartners:{...m.deliveryPartners,loading:!1}})),h.data}catch(h){throw r(m=>{var g,b;return{deliveryPartners:{...m.deliveryPartners,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to assign delivery partner"}}}),h}}}))),rae=({isOpen:r,onClose:t,order:s})=>{var S,T,R,P,V,U;const{getCachedUser:i}=ti(),[l,h]=O.useState(null),[m,g]=O.useState(!1);if(mt.useEffect(()=>{s!=null&&s.user_id&&r&&(g(!0),i(s.user_id).then(F=>{h(F)}).catch(F=>{console.error("Failed to fetch customer data:",F)}).finally(()=>{g(!1)}))},[s==null?void 0:s.user_id,r,i]),!r||!s)return null;const b=F=>{F.target===F.currentTarget&&t()},v=F=>{if(!F)return"N/A";try{return new Date(F).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},C=(F=>{switch(F){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:n.jsx(qn,{size:16})};case"processing":case"payment_successful":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:n.jsx(rn,{size:16})};case"shipped":case"assigned":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:n.jsx(Lr,{size:16})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:n.jsx(Lx,{size:16})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:n.jsx(rn,{size:16})}}})(s.status),_=((S=s.order_items)==null?void 0:S.reduce((F,q)=>F+(q.quantity||1),0))||0;return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:b,children:n.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:F=>F.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(vt,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["#",((T=s.order_id)==null?void 0:T.slice(-8))||"N/A"]})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)] p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Order Status"}),n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:C.bgColor,color:C.textColor},children:[n.jsx("span",{className:"mr-2",children:C.icon}),((P=(R=s.status)==null?void 0:R.replace("_"," "))==null?void 0:P.charAt(0).toUpperCase())+((U=(V=s.status)==null?void 0:V.replace("_"," "))==null?void 0:U.slice(1))||"Unknown"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Order Date"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:v(s.created_at)})]}),n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Total Amount"}),n.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",(s.total_amount||0).toLocaleString()]})]})]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2"}),"Customer Information"]}),m?n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):l?n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Name"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:l.name||l.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Email"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:l.email||"N/A"})]}),l.phone&&n.jsxs("div",{children:[n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Phone"}),n.jsx("p",{style:{color:"var(--text-primary)"},children:l.phone})]})]}):n.jsxs("p",{style:{color:"var(--text-secondary)"},children:["Customer ID: ",s.user_id]})]}),s.order_items&&s.order_items.length>0&&n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:["Order Items (",_," items)"]}),n.jsxs("div",{className:"space-y-3",children:[s.order_items.slice(0,3).map((F,q)=>n.jsxs("div",{className:"flex items-center p-3 rounded-md",style:{backgroundColor:"var(--bg-primary)"},children:[F.image_url&&n.jsx("img",{src:F.image_url,alt:F.name||"Product",className:"w-12 h-12 object-cover rounded-md mr-3",onError:ne=>{ne.target.style.display="none"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:F.name||"Unknown Product"}),n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Quantity: ",F.quantity||1,"  ",(F.price||0).toLocaleString()]})]}),n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((F.price||0)*(F.quantity||1)).toLocaleString()]})]},q)),s.order_items.length>3&&n.jsxs("p",{className:"text-sm text-center py-2",style:{color:"var(--text-secondary)"},children:["+",s.order_items.length-3," more items"]})]})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},nae=()=>{const r=ns(),[t,s]=O.useState("all"),[i,l]=O.useState(null),[h,m]=O.useState(!1),{dashboard:g}=ti(),{recentOrders:b}=g,v=R=>{if(!R)return"N/A";try{return new Date(R).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},k=R=>R?`Customer ${R.slice(-4)}`:"Unknown Customer",C=R=>{switch(R){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:n.jsx(qn,{size:14})};case"processing":case"payment_successful":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:n.jsx(rn,{size:14})};case"shipped":case"assigned":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:n.jsx(Lr,{size:14})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:n.jsx(Lx,{size:14})};case"pending_payment":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:n.jsx(na,{size:14})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:n.jsx(rn,{size:14})}}},_=t==="all"?b||[]:(b||[]).filter(R=>R.status===t),S=R=>{l(R),m(!0)},T=()=>{r("/admin/orders")};return!b||b.length===0?n.jsx("div",{className:"p-6 rounded-lg h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(rn,{size:32,className:"mx-auto mb-3",style:{color:"var(--text-secondary)"}}),n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No Recent Orders"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Recent orders will appear here once customers start placing orders."})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Recent Orders"}),n.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2 sm:mt-0",children:[n.jsxs("div",{className:"relative rounded-md",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ei,{className:"h-4 w-4",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search orders...",className:"py-1.5 pl-9 pr-4 block w-full text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"}})]}),n.jsxs("select",{value:t,onChange:R=>s(R.target.value),className:"py-1.5 px-3 text-sm border rounded-md appearance-none bg-white",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:_.map(R=>{var V,U,F,q,ne;const P=C(R.status);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["#",((V=R.order_id)==null?void 0:V.slice(-8))||"N/A"]}),n.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-primary)"},children:k(R.user_id)}),n.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-secondary)"},children:v(R.created_at)}),n.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["",(R.total_amount||0).toLocaleString()]}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:P.bgColor,color:P.textColor},children:[n.jsx("span",{className:"mr-1.5",children:P.icon}),((F=(U=R.status)==null?void 0:U.replace("_"," "))==null?void 0:F.charAt(0).toUpperCase())+((ne=(q=R.status)==null?void 0:q.replace("_"," "))==null?void 0:ne.slice(1))||"Unknown"]})}),n.jsx("td",{className:"py-4 text-right",children:n.jsxs("button",{onClick:()=>S(R),className:"flex items-center text-xs hover:underline",style:{color:"var(--brand-primary)"},children:[n.jsx(Di,{size:14,className:"mr-1"}),"Details"]})})]},R.order_id)})})]})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("button",{onClick:T,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:["View All Orders",n.jsx(Pn,{size:16,className:"ml-1"})]})})]}),n.jsx(rae,{isOpen:h,onClose:()=>m(!1),order:i})]})},SR=()=>{const[r,t]=O.useState("yearly"),{dashboard:s}=ti(),{salesData:i}=s,l=(i==null?void 0:i.reduce((h,m)=>h+(m.sales||0),0))||0;return n.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Sales Overview"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total sales and revenue"})]}),n.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[n.jsxs("div",{className:"border rounded-md flex items-center px-3 py-1.5",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[n.jsx(ei,{size:14,className:"mr-2"}),n.jsxs("select",{value:r,onChange:h=>t(h.target.value),className:"text-sm bg-transparent border-none outline-none appearance-none pr-6",style:{color:"var(--text-primary)"},children:[n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]}),n.jsx(ki,{size:14,className:"ml-1"})]}),n.jsxs("button",{className:"border rounded-md px-3 py-1.5 flex items-center text-sm",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[n.jsx(ji,{size:14,className:"mr-2"}),"Export"]})]})]}),n.jsx("div",{className:"h-64 flex items-center justify-center mb-4",children:n.jsxs("div",{className:"text-center w-full",children:[i&&i.length>0?n.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden relative flex items-end justify-between p-4",style:{backgroundColor:"var(--bg-secondary)"},children:i.map((h,m)=>{var v;const g=Math.max(...i.map(k=>k.sales||0)),b=g>0?Math.max(h.sales/g*120,20):20;return n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 rounded-t-lg transition-all duration-300 hover:opacity-80",style:{height:`${b}px`,backgroundColor:"var(--brand-primary)",opacity:.9},title:`${h.month}: ${((v=h.sales)==null?void 0:v.toLocaleString())||0}`}),n.jsx("span",{className:"text-xs mt-2 font-medium",style:{color:"var(--text-secondary)"},children:h.month})]},m)})}):n.jsx("div",{className:"w-full h-48 rounded-lg mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bx,{size:32,className:"mx-auto mb-2",style:{color:"var(--text-secondary)"}}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"No sales data available"})]})}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Monthly sales overview (",(i==null?void 0:i.length)||0," months)"]})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Sales"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["",l.toLocaleString()]}),n.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Current year total"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Peak Month"}),n.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:i&&i.length>0?i.reduce((h,m)=>m.sales>h.sales?m:h,i[0]).month:"N/A"}),n.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Highest sales month"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Average Monthly"}),n.jsxs("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["",i&&i.length>0?Math.round(l/i.length).toLocaleString():"0"]}),n.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"Monthly average"})]})]})]})},sae=({isOpen:r,onClose:t,product:s})=>{var l;if(!r||!s)return null;const i=h=>{h.target===h.currentTarget&&t()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:i,children:n.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:h=>h.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:n.jsx(vt,{size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Product Details"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Information"})]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:20})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:s.name}),n.jsx("div",{className:"space-y-2 text-sm",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Product ID"}),n.jsxs("span",{style:{color:"var(--text-primary)"},children:["#",((l=s.id)==null?void 0:l.slice(-8))||"N/A"]})]})})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Bx,{className:"mr-2"}),"Sales Performance"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--brand-primary)"},children:s.sales||0}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Units Sold"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--success-color)"},children:["",(s.revenue||0).toLocaleString()]}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Total Revenue"})]})]})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Mm,{className:"mr-2"}),"Metrics"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Order Value"}),n.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["",s.sales>0?Math.round((s.revenue||0)/s.sales).toLocaleString():"0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Performance Rank"}),n.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:"Top Seller"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:"Sales Trend"}),n.jsx("span",{className:"font-medium",style:{color:"var(--success-color)"},children:"Trending Up"})]})]})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Close"})})]})})},ER=()=>{const r=ns(),[t,s]=O.useState("monthly"),[i,l]=O.useState(null),[h,m]=O.useState(!1),{dashboard:g}=ti(),{topProducts:b}=g,v=C=>{l(C),m(!0)},k=()=>{r("/admin/products")};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Top Products"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${t==="weekly"?"font-medium":""}`,style:{backgroundColor:t==="weekly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:t==="weekly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>s("weekly"),children:"Weekly"}),n.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${t==="monthly"?"font-medium":""}`,style:{backgroundColor:t==="monthly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:t==="monthly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>s("monthly"),children:"Monthly"})]})]}),n.jsx("div",{className:"space-y-4",children:b&&b.length>0?b.map((C,_)=>{var S;return n.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",style:{borderRadius:"var(--rounded-md)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white flex-shrink-0 flex items-center justify-center shadow-sm",style:{borderRadius:"var(--rounded-md)"},children:n.jsx(vt,{size:24,style:{color:"var(--brand-primary)"}})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("h3",{className:"font-medium text-sm line-clamp-1",style:{color:"var(--text-primary)"},children:C.name}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsxs("div",{className:"flex items-center text-xs mr-4",style:{color:"var(--text-secondary)"},children:[n.jsx(vt,{size:12,className:"mr-1"}),n.jsxs("span",{children:[C.sales," sold"]})]}),n.jsxs("div",{className:"text-xs font-medium",style:{color:"var(--success-color)"},children:["",(S=C.revenue)==null?void 0:S.toLocaleString()]})]})]}),n.jsx("button",{onClick:()=>v(C),className:"ml-2 p-2 rounded-full hover:bg-gray-100 transition-all duration-200",style:{color:"var(--brand-primary)"},children:n.jsx(Di,{size:18})})]},C.id||_)}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(vt,{size:32,className:"mx-auto mb-2",style:{color:"var(--text-secondary)"}}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"No product data available"})]})}),n.jsx("button",{onClick:k,className:"w-full mt-4 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center justify-center hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:"View All Products"})]}),n.jsx(sae,{isOpen:h,onClose:()=>m(!1),product:i})]})},DR=()=>({businessAnalytics:{totalRevenue:125430,totalRevenueChange:"+12.5%",netRevenue:98750.2,netRevenueChange:"+8.3%",grossProfit:45230.5,grossProfitChange:"+15.2%",operatingCosts:32140.8,operatingCostsChange:"-2.1%",conversionRate:3.2,conversionRateChange:"+0.4%",averageOrderValue:89.5,averageOrderValueChange:"+7.2%",returnRate:2.8,returnRateChange:"-0.5%",customerAcquisitionCost:23.4,customerAcquisitionCostChange:"-12.3%"},orderStatistics:{totalOrders:1456,totalOrdersChange:"+18.2%",pendingOrders:34,pendingOrdersChange:"+12.0%",processingOrders:67,processingOrdersChange:"+8.5%",shippedOrders:892,shippedOrdersChange:"+22.1%",deliveredOrders:1278,deliveredOrdersChange:"+16.8%",cancelledOrders:87,cancelledOrdersChange:"-5.2%",returnedOrders:45,returnedOrdersChange:"-8.1%",refundedOrders:23,refundedOrdersChange:"-15.6%"},userOverview:{totalCustomers:8945,totalCustomersChange:"+23.4%",newCustomersToday:12,newCustomersThisWeek:89,newCustomersThisMonth:342,activeCustomers:3456,activeCustomersChange:"+12.8%",totalDeliveryMen:45,totalDeliveryMenChange:"+15.0%",activeDeliveryMen:38,activeDeliveryMenChange:"+8.9%",averageCustomerLifetimeValue:234.56,customerRetentionRate:67.8},mostPopularProducts:[{id:1,name:"iPhone 15 Pro Max",image:"/products/iphone15.jpg",views:2456,viewsChange:"+12.3%",wishlistCount:567,shareCount:89,category:"Smartphones",price:1199.99},{id:2,name:'MacBook Pro 16"',image:"/products/macbook.jpg",views:1889,viewsChange:"+8.7%",wishlistCount:234,shareCount:45,category:"Laptops",price:2499.99},{id:3,name:"Samsung Galaxy S24 Ultra",image:"/products/samsung.jpg",views:1456,viewsChange:"+15.2%",wishlistCount:345,shareCount:67,category:"Smartphones",price:1299.99},{id:4,name:"AirPods Pro 2",image:"/products/airpods.jpg",views:1234,viewsChange:"+22.1%",wishlistCount:456,shareCount:78,category:"Audio",price:249.99},{id:5,name:'iPad Pro 12.9"',image:"/products/ipad.jpg",views:1098,viewsChange:"+6.4%",wishlistCount:189,shareCount:34,category:"Tablets",price:1099.99}],topSellingProducts:[{id:1,name:"iPhone 15 Pro Max",image:"/products/iphone15.jpg",unitsSold:234,revenue:280566,profit:45678.9,profitMargin:16.3,category:"Smartphones",stock:45,rating:4.8},{id:2,name:"AirPods Pro 2",image:"/products/airpods.jpg",unitsSold:456,revenue:113994.44,profit:34567.89,profitMargin:30.3,category:"Audio",stock:123,rating:4.7},{id:3,name:'MacBook Pro 16"',image:"/products/macbook.jpg",unitsSold:89,revenue:222499.11,profit:56789.12,profitMargin:25.5,category:"Laptops",stock:23,rating:4.9},{id:4,name:"Samsung Galaxy S24",image:"/products/samsung.jpg",unitsSold:178,revenue:159958.22,profit:23456.78,profitMargin:14.7,category:"Smartphones",stock:67,rating:4.6},{id:5,name:"Gaming Headset Pro",image:"/products/headset.jpg",unitsSold:345,revenue:51750,profit:18567.34,profitMargin:35.9,category:"Gaming",stock:89,rating:4.5}],topDeliveryMen:[{id:1,name:"John Smith",avatar:"/avatars/john.jpg",totalDeliveries:234,successRate:98.5,averageRating:4.8,totalEarnings:3456.78,thisMonthDeliveries:67,onTimeDeliveryRate:95.2,customerFeedback:4.7,activeHours:8.5},{id:2,name:"Mike Johnson",avatar:"/avatars/mike.jpg",totalDeliveries:189,successRate:97.2,averageRating:4.6,totalEarnings:2789.45,thisMonthDeliveries:54,onTimeDeliveryRate:92.8,customerFeedback:4.5,activeHours:7.8},{id:3,name:"David Wilson",avatar:"/avatars/david.jpg",totalDeliveries:167,successRate:96.8,averageRating:4.7,totalEarnings:2456.89,thisMonthDeliveries:48,onTimeDeliveryRate:94.1,customerFeedback:4.6,activeHours:8.2},{id:4,name:"Alex Brown",avatar:"/avatars/alex.jpg",totalDeliveries:145,successRate:95.5,averageRating:4.4,totalEarnings:2134.56,thisMonthDeliveries:41,onTimeDeliveryRate:91.7,customerFeedback:4.3,activeHours:7.5},{id:5,name:"Chris Davis",avatar:"/avatars/chris.jpg",totalDeliveries:123,successRate:94.8,averageRating:4.5,totalEarnings:1876.34,thisMonthDeliveries:35,onTimeDeliveryRate:90.3,customerFeedback:4.4,activeHours:6.8}],topCustomers:[{id:1,name:"Sarah Wilson",email:"sarah.wilson@email.com",avatar:"/avatars/sarah.jpg",totalOrders:45,totalSpent:8976.54,averageOrderValue:199.48,lastOrderDate:new Date(Date.now()-1e3*60*60*24*2),loyaltyLevel:"Platinum",signupDate:new Date(Date.now()-1e3*60*60*24*365),favoriteCategory:"Electronics"},{id:2,name:"Robert Chen",email:"robert.chen@email.com",avatar:"/avatars/robert.jpg",totalOrders:38,totalSpent:7234.89,averageOrderValue:190.39,lastOrderDate:new Date(Date.now()-1e3*60*60*24*1),loyaltyLevel:"Gold",signupDate:new Date(Date.now()-1e3*60*60*24*298),favoriteCategory:"Smartphones"},{id:3,name:"Emma Davis",email:"emma.davis@email.com",avatar:"/avatars/emma.jpg",totalOrders:42,totalSpent:6789.23,averageOrderValue:161.65,lastOrderDate:new Date(Date.now()-1e3*60*60*24*3),loyaltyLevel:"Gold",signupDate:new Date(Date.now()-1e3*60*60*24*234),favoriteCategory:"Fashion"},{id:4,name:"Michael Park",email:"michael.park@email.com",avatar:"/avatars/michael.jpg",totalOrders:29,totalSpent:5432.17,averageOrderValue:187.32,lastOrderDate:new Date(Date.now()-1e3*60*60*24*5),loyaltyLevel:"Silver",signupDate:new Date(Date.now()-1e3*60*60*24*156),favoriteCategory:"Gaming"},{id:5,name:"Lisa Anderson",email:"lisa.anderson@email.com",avatar:"/avatars/lisa.jpg",totalOrders:33,totalSpent:4876.45,averageOrderValue:147.77,lastOrderDate:new Date(Date.now()-1e3*60*60*24*4),loyaltyLevel:"Silver",signupDate:new Date(Date.now()-1e3*60*60*24*189),favoriteCategory:"Home & Garden"}],revenueChartData:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Revenue",data:[12e3,19e3,15e3,25e3,22e3,3e4,28e3,35e3,32e3,4e4,38e3,45e3],borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4},{label:"Profit",data:[8e3,12e3,9e3,16e3,14e3,19e3,18e3,22e3,2e4,25e3,24e3,28e3],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4}]},dateRange:{start:new Date(Date.now()-1e3*60*60*24*30),end:new Date,preset:"last30days"}}),oae=un((r,t)=>({analytics:DR(),loading:!1,error:null,selectedDateRange:"last30days",fetchAnalytics:async()=>{r({loading:!0,error:null});try{await new Promise(s=>setTimeout(s,1e3)),r({analytics:DR(),loading:!1})}catch(s){r({error:s.message,loading:!1})}},updateDateRange:s=>{r({selectedDateRange:s}),t().fetchAnalytics()},refreshData:()=>{t().fetchAnalytics()},getTopPerformers:(s,i=5)=>{const{analytics:l}=t();switch(s){case"products":return l.topSellingProducts.slice(0,i);case"delivery":return l.topDeliveryMen.slice(0,i);case"customers":return l.topCustomers.slice(0,i);default:return[]}},getTotalRevenue:()=>{const{analytics:s}=t();return s.businessAnalytics.totalRevenue},getConversionMetrics:()=>{const{analytics:s}=t();return{conversionRate:s.businessAnalytics.conversionRate,averageOrderValue:s.businessAnalytics.averageOrderValue,customerAcquisitionCost:s.businessAnalytics.customerAcquisitionCost}}})),iae=()=>{const{dashboard:r,fetchDashboardData:t}=ti(),{analytics:s,loading:i,fetchAnalytics:l,selectedDateRange:h,updateDateRange:m}=oae(),{stats:g,loading:b}=r,[v,k]=O.useState("overview"),C=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last90days",label:"Last 90 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"thisYear",label:"This Year"}],_=[{value:"overview",label:"Overview",icon:n.jsx(GN,{size:16})},{value:"products",label:"Products",icon:n.jsx(vt,{size:16})},{value:"customers",label:"Customers",icon:n.jsx(fd,{size:16})},{value:"delivery",label:"Delivery",icon:n.jsx(el,{size:16})},{value:"reports",label:"Reports",icon:n.jsx(Ou,{size:16})}],S=g.map((U,F)=>{const q=[n.jsx(Mm,{size:24}),n.jsx(el,{size:24}),n.jsx(fd,{size:24}),n.jsx(vt,{size:24})],ne=["var(--brand-primary)","var(--brand-secondary)","var(--success-color)","var(--error-color)"];return{...U,icon:q[F],color:ne[F]}});O.useEffect(()=>{t(),l()},[]);const T=()=>{t(),l()},R=b||i,P=()=>{var U,F,q;try{const ne=["Metric","Value","Change","Period"],se=[["Total Revenue",`${((U=g.totalRevenue)==null?void 0:U.toLocaleString())||0}`,g.revenueChange||"N/A",h],["Total Orders",g.totalOrders||0,g.ordersChange||"N/A",h],["New Customers",g.newCustomers||0,g.customersChange||"N/A",h],["Pending Orders",g.pendingOrders||0,"N/A",h],["Low Stock Items",g.lowStockItems||0,"N/A",h]];s!=null&&s.businessMetrics&&(se.push(["","","",""]),se.push(["Business Analytics","","",""]),se.push(["Total Revenue (Analytics)",`${((F=s.businessMetrics.totalRevenue)==null?void 0:F.toLocaleString())||0}`,s.businessMetrics.totalRevenueChange||"N/A",h]),se.push(["Average Order Value",`${((q=s.businessMetrics.averageOrderValue)==null?void 0:q.toLocaleString())||0}`,s.businessMetrics.averageOrderValueChange||"N/A",h]));const Q=[ne.join(","),...se.map(K=>K.map(Z=>typeof Z=="string"&&(Z.includes(",")||Z.includes('"'))?`"${Z.replace(/"/g,'""')}"`:Z).join(","))].join(`
`),B=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),J=`dashboard-report-${h}-${new Date().toISOString().split("T")[0]}.csv`;if(Y.download!==void 0){const K=URL.createObjectURL(B);Y.setAttribute("href",K),Y.setAttribute("download",J),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}}catch(ne){console.error("Error exporting dashboard data:",ne),alert("Failed to export dashboard data. Please try again.")}},V=()=>{switch(v){case"products":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[n.jsx(Xie,{products:s.mostPopularProducts}),n.jsx($ie,{products:s.topSellingProducts})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(SR,{})}),n.jsx("div",{children:n.jsx(ER,{})})]})]});case"customers":return n.jsxs("div",{className:"space-y-6",children:[n.jsx(eae,{customers:s.topCustomers}),n.jsx(jR,{overview:s.userOverview})]});case"delivery":return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Zie,{deliveryMen:s.topDeliveryMen}),n.jsx(NR,{statistics:s.orderStatistics})]});case"reports":return n.jsx(tae,{});default:return n.jsxs("div",{className:"space-y-6",children:[R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-64",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((U,F)=>n.jsx("div",{className:"h-20 bg-gray-200 rounded"},F))})]}):n.jsx(Jie,{analytics:s.businessAnalytics}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:R?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-80",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(8)].map((U,F)=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},F))})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-80",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(4)].map((U,F)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded"},F))})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(NR,{statistics:s.orderStatistics}),n.jsx(jR,{overview:s.userOverview})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"h-56 bg-gray-200 rounded w-full"})]}):n.jsx(SR,{})}),n.jsx("div",{children:R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((U,F)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},F))})]}):n.jsx(ER,{})})]}),n.jsx("div",{children:R?n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((U,F)=>n.jsx("div",{className:"h-12 bg-gray-200 rounded w-full"},F))})]}):n.jsx(nae,{})})]})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:"Analytics Dashboard"}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Comprehensive business insights and performance metrics"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ei,{size:16,style:{color:"var(--text-secondary)"}}),n.jsx("select",{value:h,onChange:U=>m(U.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:C.map(U=>n.jsx("option",{value:U.value,children:U.label},U.value))})]}),n.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,icon:n.jsx(ji,{size:16}),onClick:P,children:"Export"}),n.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,onClick:T,isLoading:R,icon:n.jsx(Mi,{size:16}),children:R?"Refreshing...":"Refresh"})]})]}),n.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:n.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:_.map(U=>n.jsxs("button",{onClick:()=>k(U.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${v===U.value?"text-white shadow-sm":"hover:bg-gray-100"}`,style:{backgroundColor:v===U.value?"var(--brand-primary)":"transparent",color:v===U.value?"white":"var(--text-primary)"},children:[U.icon,n.jsx("span",{className:"hidden sm:block",children:U.label})]},U.value))})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:R?[...Array(4)].map((U,F)=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},F)):S.map((U,F)=>n.jsx(Qie,{...U},F))}),V()]})},Ai=un((r,t)=>({products:{list:[],filteredList:null,loading:!1,error:null},fetchProducts:async()=>{r(s=>({products:{...s.products,loading:!0,error:null}}));try{const i=(await Ze.get("/admin/get_all_products")).data.products;r({products:{list:i,filteredList:null,loading:!1,error:null}})}catch(s){r(i=>{var l,h;return{products:{...i.products,loading:!1,error:((h=(l=s.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to fetch products"}}})}},deleteProduct:async s=>{var i,l;r(h=>({products:{...h.products,loading:!0,error:null}}));try{const h=await Ze.delete(`/admin/delete-product/${s}/`);if(h.status===200)return r(m=>({products:{...m.products,list:m.products.list.filter(g=>g.id!==s),filteredList:m.products.filteredList?m.products.filteredList.filter(g=>g.id!==s):null,loading:!1,error:null}})),{success:!0,message:h.data.message}}catch(h){return r(m=>{var g,b;return{products:{...m.products,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to delete product"}}}),{success:!1,message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete product"}}},toggleProductFeatured:async s=>{var i,l;r(h=>({products:{...h.products,loading:!0,error:null}}));try{const h=await Ze.patch(`/admin/toggle-featured/${s}/`);if(h.status===200){const m=g=>g.map(b=>b.id===s?{...b,featured:h.data.featured}:b);return r(g=>({products:{...g.products,list:m(g.products.list),filteredList:g.products.filteredList?m(g.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:h.data.message,featured:h.data.featured}}}catch(h){return r(m=>{var g,b;return{products:{...m.products,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to update featured status"}}}),{success:!1,message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update featured status"}}},updateProduct:async(s,i)=>{var l,h,m;r(g=>({products:{...g.products,loading:!0,error:null}}));try{const g=await Ze.patch(`/admin/products/edit/${s}/`,i);if(g.status===200){const b=v=>v.map(k=>k.id===s?{...k,...i}:k);return r(v=>({products:{...v.products,list:b(v.products.list),filteredList:v.products.filteredList?b(v.products.filteredList):null,loading:!1,error:null}})),r(v=>({products:{...v.products,list:b(v.products.list),filteredList:v.products.filteredList?b(v.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:g.data.message||"Product updated successfully",product_id:g.data.product_id||s}}}catch(g){const b=((h=(l=g.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update product";return r(v=>({products:{...v.products,loading:!1,error:b}})),{success:!1,message:b,status:(m=g.response)==null?void 0:m.status}}},addProduct:async s=>{var i,l,h;r(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await Ze.post("admin/products/add/",s);if(m.status===201){const g={...s,id:m.data.product_id};return r(b=>({products:{...b.products,list:[...b.products.list,g],filteredList:b.products.filteredList?[...b.products.filteredList,g]:null,loading:!1,error:null}})),{success:!0,message:m.data.message||"Product added successfully",product_id:m.data.product_id}}}catch(m){const g=((l=(i=m.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to add product";return r(b=>({products:{...b.products,loading:!1,error:g}})),{success:!1,message:g,status:(h=m.response)==null?void 0:h.status}}},filterAndSortProducts:(s,i,l)=>{const{list:h}=t().products;if(!(s&&s!=="all"||i&&i.trim())&&l==="newest"){r(b=>({products:{...b.products,filteredList:null}}));return}let g=[...h];if(s&&s!=="all"&&(g=g.filter(b=>b.category.toLowerCase()===s.toLowerCase())),i&&i.trim()){const b=i.toLowerCase().trim();g=g.filter(v=>v.name.toLowerCase().includes(b)||v.brand.toLowerCase().includes(b)||v.description.toLowerCase().includes(b))}switch(l){case"newest":g.sort((b,v)=>new Date(v.createdAt||v.created_at||0)-new Date(b.createdAt||b.created_at||0));break;case"price-asc":g.sort((b,v)=>parseFloat(b.price)-parseFloat(v.price));break;case"price-desc":g.sort((b,v)=>parseFloat(v.price)-parseFloat(b.price));break;case"name-asc":g.sort((b,v)=>b.name.localeCompare(v.name));break;case"stock-asc":g.sort((b,v)=>parseInt(b.stock)-parseInt(v.stock));break}r(b=>({products:{...b.products,filteredList:g}}))},resetFilters:()=>{r(s=>({products:{...s.products,filteredList:null}}))},uploadProductImage:async s=>{var i,l;try{const h=new FormData;h.append("image",s);const m=await Ze.post("/admin/products/upload-image/",h,{headers:{"Content-Type":"multipart/form-data"}});return m.data.success?{success:!0,imageUrl:m.data.image_url,message:m.data.message||"Image uploaded successfully"}:{success:!1,message:m.data.error||"Failed to upload image"}}catch(h){return{success:!1,message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||h.message||"Failed to upload image"}}},updateVariantStock:async(s,i)=>{var l,h;r(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await Ze.patch(`/admin/products/${s}/update-variant-stock/`,{variant_updates:i});if(m.status===200)return await t().fetchProducts(),{success:!0,message:m.data.message||"Variant stock updated successfully",updatedVariants:m.data.updated_variants}}catch(m){return r(g=>{var b,v;return{products:{...g.products,loading:!1,error:((v=(b=m.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to update variant stock"}}}),{success:!1,message:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update variant stock"}}}})),aae=({onViewProduct:r,onEditProduct:t})=>{const{products:s,fetchProducts:i,deleteProduct:l,toggleProductFeatured:h}=Ai(),{list:m,filteredList:g,loading:b}=s,v=g!==null?g:m,k=se=>{if(!se)return 0;if(se.valid_options&&se.valid_options.length>0){const B=se.valid_options[0],Y=B.discounted_price||B.price;return typeof Y=="number"?Y:0}const Q=se.discount_price||se.price;return typeof Q=="number"?Q:0},C=se=>{if(!se)return 0;if(se.valid_options&&se.valid_options.length>0)return se.valid_options.reduce((B,Y)=>{const J=typeof Y.stock=="number"?Y.stock:0;return B+J},0);const Q=se.stock;return typeof Q=="number"?Q:0},[_,S]=O.useState(!1),[T,R]=O.useState(!1),[P,V]=O.useState(null);O.useEffect(()=>{i()},[]);const U=se=>{V(se),S(!0)},F=async()=>{P&&(await l(P.id),S(!1))},q=se=>{V(se),R(!0)},ne=async()=>{P&&(await h(P.id),R(!1))};return n.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Featured"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:b?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"Loading products..."})}):v.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No products found matching your filters."})}):v.filter(se=>se&&se.id).map(se=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:se.images&&se.images.length>0?se.images[0]:"https://via.placeholder.com/50",alt:se.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:se.name}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["ID: ",se.id]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:se.category})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",k(se).toLocaleString()]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm",style:{color:C(se)===0?"var(--error-color)":C(se)<10?"var(--warning-color)":"var(--text-primary)"},children:[C(se),C(se)===1?"unit":"units"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("button",{onClick:()=>q(se),className:"w-5 h-5 rounded-full flex items-center justify-center transition-colors duration-200",style:{backgroundColor:se.featured?"var(--brand-primary)":"var(--bg-secondary)",border:"1px solid",borderColor:se.featured?"var(--brand-primary)":"var(--border-secondary)",color:se.featured?"var(--text-on-brand)":"var(--text-secondary)"},children:se.featured?n.jsx(rs,{size:12}):null})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:C(se)>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:C(se)>0?"var(--success-color)":"var(--error-color)"},children:C(se)>0?"Active":"Out of Stock"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>r(se),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Product",children:n.jsx(Di,{size:16})}),n.jsx("button",{onClick:()=>t(se),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Product",children:n.jsx(Zm,{size:16})}),n.jsx("button",{onClick:()=>U(se),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Product",children:n.jsx(cn,{size:16})})]})})]},se.id))})]}),n.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",v.length," of ",m.length," products"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]}),_&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"mb-4 flex items-center",children:[n.jsx($a,{className:"mr-3",size:24,style:{color:"var(--error-color)"}}),n.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Deletion"})]}),n.jsxs("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:['Are you sure you want to delete "',P==null?void 0:P.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsx("button",{onClick:F,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--error-color)",color:"white",borderRadius:"var(--rounded-md)"},children:"Delete"})]})]})}),T&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"mb-4 flex items-center",children:[n.jsx($a,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),n.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Featured Status Change"})]}),n.jsx("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:P!=null&&P.featured?`Are you sure you want to remove "${P==null?void 0:P.name}" from featured products?`:`Are you sure you want to add "${P==null?void 0:P.name}" to featured products?`}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsx("button",{onClick:ne,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:P!=null&&P.featured?"Remove Featured":"Make Featured"})]})]})})]})},lae=({onClose:r,onSave:t})=>{const[s,i]=O.useState(1),[l,h]=O.useState(!1),{uploadProductImage:m}=Ai(),[g,b]=O.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],videos:[],specifications:{},attributes:{},features:[],valid_options:[],featured:!1,rating:0,reviews:0}),v=async ie=>{const ae=ie.target.files[0];if(ae){h(!0);try{const le=await m(ae);le.success?(b(oe=>({...oe,images:[...oe.images,le.imageUrl].slice(0,5)})),Xe.info("Image uploaded successfully.")):Xe.error("Failed to upload image: "+le.message)}catch(le){console.error("Error uploading image:",le),Xe.error("Failed to upload image: "+le.message)}finally{h(!1)}}},k=ie=>{const{name:ae,value:le,type:oe,checked:G}=ie.target;b({...g,[ae]:oe==="checkbox"?G:le})},C=(ie,ae)=>{b({...g,specifications:{...g.specifications,[ie]:ae}})},_=()=>{b({...g,specifications:{...g.specifications,"":""}})},S=ie=>{const ae={...g.specifications};delete ae[ie],b({...g,specifications:ae})},T=(ie,ae)=>{b({...g,attributes:{...g.attributes,[ie]:ae}})},R=(ie,ae,le)=>{b(oe=>{if(ie===ae)return oe;const G={...oe.attributes};return Object.prototype.hasOwnProperty.call(G,ae)?(Xe.error(`Attribute key "${ae}" already exists. Please use a unique key.`),oe):(delete G[ie],G[ae]=le,{...oe,attributes:G})})},P=()=>{b(ie=>{const ae=ie.attributes;let le="",oe=le,G=0;for(;Object.prototype.hasOwnProperty.call(ae,oe);)G++,oe=`${le}${G}`;return{...ie,attributes:{...ae,[oe]:""}}})},V=ie=>{const ae={...g.attributes};delete ae[ie],b({...g,attributes:ae})},U=(ie,ae)=>{const le=[...g.features];le[ie]=ae,b({...g,features:le})},F=()=>{b({...g,features:[...g.features,""]})},q=ie=>{const ae=g.features.filter((le,oe)=>oe!==ie);b({...g,features:ae})},ne=()=>{const ie={colors:"",storage:"",ram:"",size:"",price:0,discounted_price:0,stock:0,custom_keys:[],custom_values:[]};b({...g,valid_options:[...g.valid_options,ie]})},se=ie=>{const ae=g.valid_options.filter((le,oe)=>oe!==ie);b({...g,valid_options:ae})},Q=(ie,ae,le)=>{const oe=[...g.valid_options];oe[ie]={...oe[ie],[ae]:ae==="price"||ae==="discounted_price"||ae==="stock"?parseFloat(le)||0:le},b({...g,valid_options:oe})},B=ie=>{const ae=[...g.valid_options],le=ae[ie];le.custom_keys||(le.custom_keys=[]),le.custom_values||(le.custom_values=[]),le.custom_keys.push(""),le.custom_values.push(""),b({...g,valid_options:ae})},Y=(ie,ae,le)=>{const oe=[...g.valid_options],G=oe[ie];G.custom_keys[ae]=le,b({...g,valid_options:oe})},J=(ie,ae,le)=>{const oe=[...g.valid_options],G=oe[ie];G.custom_values[ae]=le,b({...g,valid_options:oe})},K=(ie,ae)=>{const le=[...g.valid_options],oe=le[ie];oe.custom_keys.splice(ae,1),oe.custom_values.splice(ae,1),b({...g,valid_options:le})},Z=()=>{b({...g,videos:[...g.videos,""]})},ee=(ie,ae)=>{const le=[...g.videos];le[ie]=ae,b({...g,videos:le})},be=ie=>{b({...g,videos:g.videos.filter((ae,le)=>le!==ie)})},xe=ie=>{ie.preventDefault();const ae={...g,price:parseFloat(g.price)||0,discount_price:parseFloat(g.discount_price)||0,stock:parseInt(g.stock,10)||0,rating:parseFloat(g.rating)||0,reviews:parseInt(g.reviews,10)||0};t&&t(ae),r()};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s===1?"Add New Product - Basic Information":"Add New Product - Details & Media"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(qt,{size:24})})]}),n.jsx("form",{onSubmit:xe,children:s===1?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:g.name,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),n.jsx("input",{type:"text",id:"brand",name:"brand",value:g.brand,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),n.jsxs("select",{id:"category",name:"category",value:g.category,onChange:k,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"",children:"Select a category"}),n.jsx("option",{value:"Smartphone",children:"Smartphone"}),n.jsx("option",{value:"Laptop",children:"Laptop"}),n.jsx("option",{value:"Tablet",children:"Tablet"}),n.jsx("option",{value:"TV",children:"TV"}),n.jsx("option",{value:"Accessories",children:"Accessories"}),n.jsx("option",{value:"Audio",children:"Audio"}),n.jsx("option",{value:"Wearables",children:"Wearables"}),n.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP () *"}),n.jsx("input",{type:"number",id:"price",name:"price",value:g.price,onChange:k,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price () *"}),n.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:g.discount_price,onChange:k,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),n.jsx("input",{type:"text",id:"discount",name:"discount",value:g.discount,onChange:k,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),n.jsx("input",{type:"number",id:"stock",name:"stock",value:g.stock,onChange:k,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:g.description,onChange:k,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>i(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),n.jsxs("button",{type:"button",onClick:F,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Feature"]})]}),g.features.map((ie,ae)=>n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("input",{type:"text",value:ie,onChange:le=>U(ae,le.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),n.jsx("button",{type:"button",onClick:()=>q(ae),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(cn,{size:16})})]},ae))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),n.jsxs("button",{type:"button",onClick:_,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(g.specifications).map(([ie,ae],le)=>n.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[n.jsx("input",{type:"text",value:ie,onChange:oe=>{const G={...g.specifications},ue=G[ie];delete G[ie],b({...g,specifications:{...G,[oe.target.value]:ue}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),n.jsx("input",{type:"text",value:ae,onChange:oe=>C(ie,oe.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),n.jsx("button",{type:"button",onClick:()=>S(ie),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(cn,{size:16})})]},le))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),n.jsxs("button",{type:"button",onClick:P,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Attribute"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(g.attributes).map(([ie,ae])=>n.jsx(cae,{initialKey:ie,initialValue:ae,onKeyCommit:R,onValueChange:T,onDelete:V,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},ie)),n.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[n.jsx(Hn,{})," Add Attribute"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),n.jsxs("button",{type:"button",onClick:ne,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Option"]})]}),g.valid_options.map((ie,ae)=>n.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{type:"text",value:ie.colors||"",onChange:le=>Q(ae,"colors",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),n.jsx("input",{type:"text",value:ie.storage||"",onChange:le=>Q(ae,"storage",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),n.jsx("input",{type:"text",value:ie.ram||"",onChange:le=>Q(ae,"ram",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),n.jsx("input",{type:"text",value:ie.size||"",onChange:le=>Q(ae,"size",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx("input",{type:"number",value:ie.price||"",onChange:le=>Q(ae,"price",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:ie.discounted_price||"",onChange:le=>Q(ae,"discounted_price",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:ie.stock||"",onChange:le=>Q(ae,"stock",le.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),n.jsx("button",{type:"button",onClick:()=>se(ae),className:"p-1.5 rounded-md mt-2",style:{color:"var(--error-color)"},children:n.jsx(cn,{size:16})}),n.jsx("div",{className:"mt-2",children:ie.custom_keys&&ie.custom_keys.map((le,oe)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:le,onChange:G=>Y(ae,oe,G.target.value),placeholder:"Custom Key",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("input",{type:"text",value:ie.custom_values[oe],onChange:G=>J(ae,oe,G.target.value),placeholder:"Custom Value",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsxs("button",{type:"button",onClick:()=>K(ae,oe),className:"p-2 text-red-500 hover:text-red-700",children:[n.jsx("span",{className:"text-sm",children:"Remove Valid Option"}),n.jsx(cn,{})]})]},oe))}),n.jsxs("button",{type:"button",onClick:()=>B(ae),className:"mt-2 p-1.5 rounded-md flex justify-between items-center",style:{color:"var(--brand-primary)"},children:[n.jsx("span",{className:"text-sm",children:"Add Custom"}),n.jsx(Hn,{size:16})]})]},ae))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),n.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[g.images.map((ie,ae)=>n.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[n.jsx("img",{src:ie,alt:`Product ${ae+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>{const le=[...g.images];le.splice(ae,1),b({...g,images:le})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:n.jsx(qt,{size:12})})]},ae)),g.images.length<5&&n.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload").click(),children:[n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:v,className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center",children:[l?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):n.jsx(VN,{size:20,style:{color:"var(--text-secondary)"}}),n.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:l?"Uploading...":"Add Image"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:g.featured,onChange:k,className:"mr-2"}),n.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Videos"}),n.jsxs("div",{className:"space-y-2 mb-3",children:[g.videos.map((ie,ae)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"url",value:ie,onChange:le=>ee(ae,le.target.value),placeholder:"Enter video URL",className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("button",{type:"button",onClick:()=>be(ae),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(cn,{})})]},ae)),n.jsxs("button",{type:"button",onClick:Z,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(Hn,{size:16}),n.jsx("span",{children:"Add Video URL"})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:()=>i(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Product"})]})]})]})})]})})},cae=({initialKey:r,initialValue:t,onKeyCommit:s,onValueChange:i,onDelete:l,styleProps:h})=>{const[m,g]=O.useState(r),[b,v]=O.useState(t);O.useEffect(()=>{g(r)},[r]),O.useEffect(()=>{v(t)},[t]);const k=T=>{g(T.target.value)},C=()=>{m!==r&&s(r,m,b)},_=T=>{v(T.target.value)},S=()=>{b!==t&&i(r,b)};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:m,onChange:k,onBlur:C,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:h}),n.jsx("input",{type:"text",value:b,onChange:_,onBlur:S,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:h}),n.jsx("button",{type:"button",onClick:()=>l(r),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(cn,{})})]})},dae=({onClose:r})=>{const{isOpen:t,modalConfig:s,isLoading:i,showConfirm:l,hideConfirm:h,handleConfirm:m}=mg(),[g,b]=O.useState([{id:1,name:"Smartphones",slug:"smartphones",description:"Mobile phones and smartphones",productCount:28},{id:2,name:"Laptops",slug:"laptops",description:"Laptops and notebooks",productCount:15},{id:3,name:"Tablets",slug:"tablets",description:"Tablets and iPads",productCount:9},{id:4,name:"Accessories",slug:"accessories",description:"Mobile and laptop accessories",productCount:42},{id:5,name:"Audio",slug:"audio",description:"Headphones, earbuds, and speakers",productCount:23}]),[v,k]=O.useState(!1),[C,_]=O.useState({id:null,name:"",slug:"",description:""}),S=q=>q.toLowerCase().replace(/\s+/g,"-"),T=q=>{const ne=q.target.value;_({...C,name:ne,slug:S(ne)})},R=q=>{_({...C,description:q.target.value})},P=()=>{if(C.name.trim()){if(v)b(g.map(q=>q.id===C.id?{...C,productCount:q.productCount}:q));else{const q=Math.max(...g.map(ne=>ne.id))+1;b([...g,{...C,id:q,productCount:0}])}_({id:null,name:"",slug:"",description:""}),k(!1)}},V=q=>{_(q),k(!0)},U=()=>{_({id:null,name:"",slug:"",description:""}),k(!1)},F=q=>{const ne=g.find(se=>se.id===q);l({title:"Delete Category",message:`Are you sure you want to delete "${ne==null?void 0:ne.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{b(g.filter(se=>se.id!==q)),Xe.success("Category deleted successfully")}catch(se){console.error("Error deleting category:",se),Xe.error("Failed to delete category")}}})};return n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{backdropFilter:"blur(4px)"},children:[n.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Category Management"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(qt,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-lg)"},children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:v?"Edit Category":"Add New Category"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category-name",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Category Name"}),n.jsx("input",{type:"text",id:"category-name",value:C.name,onChange:T,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"e.g. Smartphones"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category-slug",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Slug (Auto-generated)"}),n.jsx("input",{type:"text",id:"category-slug",value:C.slug,readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-secondary)"},placeholder:"e.g. smartphones"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"category-description",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),n.jsx("textarea",{id:"category-description",value:C.description,onChange:R,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Brief description of the category",rows:"2"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[v&&n.jsx("button",{type:"button",onClick:U,className:"px-3 py-1.5 border rounded-md text-xs font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"button",onClick:P,className:"px-4 py-1.5 rounded-md flex items-center text-xs font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(Hn,{size:14,className:"mr-1"}),v?"Update Category":"Add Category"]})]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{style:{backgroundColor:"var(--bg-secondary)"},children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Products"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:g.map(q=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.name}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:q.description})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:[q.productCount," products"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>V(q),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Category",children:n.jsx(Zm,{size:16})}),n.jsx("button",{onClick:()=>F(q.id),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Category",disabled:q.productCount>0,children:n.jsx(cn,{size:16})})]})})]},q.id))})]})})]}),n.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:n.jsx("button",{onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Close"})})]}),n.jsx(th,{isOpen:t,onClose:h,onConfirm:m,title:s.title,message:s.message,confirmText:s.confirmText,cancelText:s.cancelText,type:s.type,isLoading:i})]})},uae=({product:r,onClose:t,onEdit:s})=>{var i,l,h,m;return r?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Details"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>s(r),className:"flex items-center px-3 py-1.5 rounded-md text-sm",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[n.jsx(sx,{size:16,className:"mr-1"}),"Edit"]}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(qt,{size:24})})]})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"mb-3 aspect-square rounded-lg overflow-hidden",children:n.jsx("img",{src:((i=r.images)==null?void 0:i[0])||"https://via.placeholder.com/400",alt:r.name,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:(l=r.images)==null?void 0:l.slice(1).map((g,b)=>n.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:n.jsx("img",{src:g||"https://via.placeholder.com/80",alt:`${r.name} - ${b+2}`,className:"w-full h-full object-cover"})},b))})]}),n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold mb-1",style:{color:"var(--text-primary)"},children:r.name}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Brand: ",n.jsx("span",{className:"font-medium",children:r.brand})]}),n.jsx("span",{className:"mx-2",style:{color:"var(--border-primary)"},children:"|"}),n.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Category:",n.jsx("span",{className:"font-medium",children:r.category})]})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Xr,{className:"fill-current"}),n.jsx("span",{className:"ml-1",children:r.rating})]}),n.jsxs("span",{className:"mx-2 text-sm",style:{color:"var(--text-secondary)"},children:[r.reviews," reviews"]})]}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsxs("span",{className:"text-2xl font-bold mr-3",style:{color:"var(--text-primary)"},children:["",(h=r.discount_price)==null?void 0:h.toLocaleString()]}),r.discount&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg line-through mr-2",style:{color:"var(--text-secondary)"},children:["",(m=r.price)==null?void 0:m.toLocaleString()]}),n.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[r.discount," OFF"]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("span",{className:"text-sm font-medium mb-1 block",style:{color:"var(--text-secondary)"},children:"Stock:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"px-2 py-1 rounded text-sm font-medium",style:{backgroundColor:r.stock>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:r.stock>0?"var(--success-color)":"var(--error-color)"},children:r.stock>0?`${r.stock} in stock`:"Out of stock"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Description"}),n.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:r.description})]}),r.features&&r.features.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key Features"}),n.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1",style:{color:"var(--text-secondary)"},children:r.features.map((g,b)=>n.jsx("li",{children:g},b))})]}),r.specifications&&Object.keys(r.specifications).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specifications"}),n.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(r.specifications).map(([g,b])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[g.replace(/([A-Z])/g," $1").trim(),":"]}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:b})]},g))})]}),r.attributes&&Object.keys(r.attributes).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Attributes"}),n.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(r.attributes).map(([g,b])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[g.replace(/([A-Z])/g," $1").trim(),":"]}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:b})]},g))})]}),r.valid_options&&r.valid_options.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",style:{color:"var(--text-primary)"},children:"Available Options"}),n.jsx("div",{className:"space-y-3",children:r.valid_options.map((g,b)=>{var v,k;return n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[g.colors&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.colors})]}),g.storage&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.storage})]}),g.ram&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.ram})]}),g.size&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.size})]}),g.resolution&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.resolution})]})]}),g.custom_keys&&g.custom_values&&g.custom_keys.length>0&&n.jsx("div",{className:"grid grid-cols-2 gap-4 mb-3 mt-3 border-t pt-3",children:g.custom_keys.map((C,_)=>C&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[C,":"]}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:g.custom_values[_]})]},_))}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Price:"}),n.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",(v=g.price)==null?void 0:v.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["",(k=g.discounted_price)==null?void 0:k.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock:"}),n.jsxs("p",{className:"text-sm font-medium",style:{color:g.stock>0?"var(--success-color)":"var(--error-color)"},children:[g.stock," units"]})]})]})]},b)})})]})]})]})})]})}):null},hae=({product:r,onClose:t,onSave:s})=>{const[i,l]=O.useState(1),[h,m]=O.useState(!1),{uploadProductImage:g}=Ai(),[b,v]=O.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],videos:[],specifications:{},attributes:{},features:[],valid_options:[],featured:!1}),k=({initialKey:le,initialValue:oe,onKeyCommit:G,onValueChange:ue,onDelete:pe,styleProps:me})=>{const[ye,Se]=O.useState(le),[_e,qe]=O.useState(oe);O.useEffect(()=>{Se(le)},[le]),O.useEffect(()=>{qe(oe)},[oe]);const Oe=ot=>{Se(ot.target.value)},Ye=()=>{ye!==le&&G(le,ye,_e)},Be=ot=>{qe(ot.target.value)},Ce=()=>{_e!==oe&&ue(le,_e)};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:ye,onChange:Oe,onBlur:Ye,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:me}),n.jsx("input",{type:"text",value:_e,onChange:Be,onBlur:Ce,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:me}),n.jsx("button",{type:"button",onClick:()=>pe(le),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(cn,{})})]})};O.useEffect(()=>{if(r){const le=r.specifications||{},oe=Array.isArray(r.features)?r.features:[],G=typeof r.price=="number"?r.price:parseFloat(r.price||0),ue=typeof r.discount_price=="number"?r.discount_price:parseFloat(r.discount_price||0),pe=typeof r.stock=="number"?r.stock:parseInt(r.stock||0,10);v({name:r.name||"",description:r.description||"",brand:r.brand||"",category:r.category||"",price:G,discount_price:ue,discount:r.discount||"",stock:pe,images:r.images||[],videos:r.videos||[],specifications:le,attributes:r.attributes||{},features:oe,valid_options:r.valid_options||[],featured:r.featured||!1})}},[r]);const C=le=>{const{name:oe,value:G,type:ue,checked:pe}=le.target;v({...b,[oe]:ue==="checkbox"?pe:G})},_=(le,oe)=>{v({...b,specifications:{...b.specifications,[le]:oe}})},S=()=>{v({...b,specifications:{...b.specifications,"":""}})},T=le=>{const oe={...b.specifications};delete oe[le],v({...b,specifications:oe})},R=(le,oe)=>{v({...b,attributes:{...b.attributes,[le]:oe}})},P=(le,oe,G)=>{v(ue=>{if(le===oe)return ue;const pe={...ue.attributes};return Object.prototype.hasOwnProperty.call(pe,oe)?(Xe.error(`Attribute key "${oe}" already exists. Please use a unique key.`),ue):(delete pe[le],pe[oe]=G,{...ue,attributes:pe})})},V=()=>{v(le=>{const oe=le.attributes;let G="",ue=G,pe=0;for(;Object.prototype.hasOwnProperty.call(oe,ue);)pe++,ue=`${G}${pe}`;return{...le,attributes:{...oe,[ue]:""}}})},U=le=>{const oe={...b.attributes};delete oe[le],v({...b,attributes:oe})},F=(le,oe)=>{const G=[...b.features];G[le]=oe,v({...b,features:G})},q=()=>{v({...b,features:[...b.features,""]})},ne=le=>{const oe=b.features.filter((G,ue)=>ue!==le);v({...b,features:oe})},se=()=>{const le={colors:"",storage:"",ram:"",size:"",resolution:"",price:0,discounted_price:0,stock:0,custom_keys:[],custom_values:[]};v({...b,valid_options:[...b.valid_options,le]})},Q=le=>{const oe=b.valid_options.filter((G,ue)=>ue!==le);v({...b,valid_options:oe})},B=(le,oe,G)=>{const ue=[...b.valid_options];ue[le]={...ue[le],[oe]:oe==="price"||oe==="discounted_price"||oe==="stock"?parseFloat(G)||0:G},v({...b,valid_options:ue})},Y=le=>{const oe=[...b.valid_options],G=oe[le];G.custom_keys||(G.custom_keys=[]),G.custom_values||(G.custom_values=[]),G.custom_keys.push(""),G.custom_values.push(""),v({...b,valid_options:oe})},J=(le,oe,G)=>{const ue=[...b.valid_options],pe=ue[le];pe.custom_keys[oe]=G,v({...b,valid_options:ue})},K=(le,oe,G)=>{const ue=[...b.valid_options],pe=ue[le];pe.custom_values[oe]=G,v({...b,valid_options:ue})},Z=(le,oe)=>{const G=[...b.valid_options],ue=G[le];ue.custom_keys.splice(oe,1),ue.custom_values.splice(oe,1),v({...b,valid_options:G})},ee=async le=>{const oe=le.target.files[0];if(oe){m(!0);try{const G=await g(oe);G.success?(v(ue=>({...ue,images:[...ue.images,G.imageUrl].slice(0,5)})),Xe.info("Image uploaded successfully.")):Xe.error("Failed to upload image: "+G.message)}catch(G){console.error("Error uploading image:",G),Xe.error("Failed to upload image: "+G.message)}finally{m(!1)}}},be=()=>{v({...b,videos:[...b.videos,""]})},xe=(le,oe)=>{const G=[...b.videos];G[le]=oe,v({...b,videos:G})},ie=le=>{v({...b,videos:b.videos.filter((oe,G)=>G!==le)})},ae=le=>{le.preventDefault(),s(b)};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:i===1?"Edit Product - Basic Information":"Edit Product - Details & Media"}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:n.jsx(qt,{size:24})})]}),n.jsx("form",{onSubmit:ae,children:i===1?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:b.name,onChange:C,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),n.jsx("input",{type:"text",id:"brand",name:"brand",value:b.brand,onChange:C,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),n.jsxs("select",{id:"category",name:"category",value:b.category,onChange:C,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"",children:"Select a category"}),n.jsx("option",{value:"Smartphone",children:"Smartphone"}),n.jsx("option",{value:"Laptop",children:"Laptop"}),n.jsx("option",{value:"Tablet",children:"Tablet"}),n.jsx("option",{value:"TV",children:"TV"}),n.jsx("option",{value:"Accessories",children:"Accessories"}),n.jsx("option",{value:"Audio",children:"Audio"}),n.jsx("option",{value:"Wearables",children:"Wearables"}),n.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP () *"}),n.jsx("input",{type:"number",id:"price",name:"price",value:b.price,onChange:C,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price () *"}),n.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:b.discount_price,onChange:C,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),n.jsx("input",{type:"text",id:"discount",name:"discount",value:b.discount,onChange:C,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),n.jsx("input",{type:"number",id:"stock",name:"stock",value:b.stock,onChange:C,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:b.description,onChange:C,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>l(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),n.jsxs("button",{type:"button",onClick:q,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Feature"]})]}),b.features.map((le,oe)=>n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("input",{type:"text",value:le,onChange:G=>F(oe,G.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),n.jsx("button",{type:"button",onClick:()=>ne(oe),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(cn,{size:16})})]},oe))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),n.jsxs("button",{type:"button",onClick:S,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(b.specifications).map(([le,oe],G)=>n.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[n.jsx("input",{type:"text",value:le,onChange:ue=>{const pe={...b.specifications},me=pe[le];delete pe[le],v({...b,specifications:{...pe,[ue.target.value]:me}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),n.jsx("input",{type:"text",value:oe,onChange:ue=>_(le,ue.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),n.jsx("button",{type:"button",onClick:()=>T(le),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:n.jsx(cn,{size:16})})]},G))]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),n.jsxs("button",{type:"button",onClick:V,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Attribute"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(b.attributes).map(([le,oe])=>n.jsx(k,{initialKey:le,initialValue:oe,onKeyCommit:P,onValueChange:R,onDelete:U,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},le)),n.jsxs("button",{type:"button",onClick:V,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[n.jsx(Hn,{})," Add Attribute"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),n.jsxs("button",{type:"button",onClick:se,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Option"]})]}),b.valid_options.map((le,oe)=>n.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{type:"text",value:le.colors||"",onChange:G=>B(oe,"colors",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),n.jsx("input",{type:"text",value:le.storage||"",onChange:G=>B(oe,"storage",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),n.jsx("input",{type:"text",value:le.ram||"",onChange:G=>B(oe,"ram",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),n.jsx("input",{type:"text",value:le.size||"",onChange:G=>B(oe,"size",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx("input",{type:"number",value:le.price||"",onChange:G=>B(oe,"price",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:le.discounted_price||"",onChange:G=>B(oe,"discounted_price",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),n.jsx("input",{type:"number",value:le.stock||"",onChange:G=>B(oe,"stock",G.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),n.jsx("div",{className:"mt-2",children:le.custom_keys&&le.custom_keys.map((G,ue)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:G,onChange:pe=>J(oe,ue,pe.target.value),placeholder:"Custom Key",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("input",{type:"text",value:le.custom_values[ue],onChange:pe=>K(oe,ue,pe.target.value),placeholder:"Custom Value",className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("button",{type:"button",onClick:()=>Z(oe,ue),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(cn,{})})]},ue))}),n.jsx("div",{className:"flex justify-between mt-2",children:n.jsxs("button",{type:"button",onClick:()=>Y(oe),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[n.jsx(Hn,{size:14,className:"mr-1"})," Add Custom Field"]})}),n.jsxs("button",{type:"button",onClick:()=>Q(oe),className:"p-1.5 rounded-md flex justify-between items-center",style:{color:"var(--error-color)"},children:[n.jsx("span",{className:"text-sm",children:"Delete Valid Option"}),n.jsx(cn,{size:16})]})]},oe))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),n.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[b.images.map((le,oe)=>n.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[n.jsx("img",{src:le,alt:`Product ${oe+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>{const G=[...b.images];G.splice(oe,1),v({...b,images:G})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:n.jsx(qt,{size:12})})]},oe)),b.images.length<5&&n.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors relative",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload-edit").click(),children:[n.jsx("input",{type:"file",id:"image-upload-edit",accept:"image/*",onChange:ee,className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center",children:[h?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):n.jsx(VN,{size:20,style:{color:"var(--text-secondary)"}}),n.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:h?"Uploading...":"Add Image"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:b.featured,onChange:C,className:"mr-2"}),n.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Videos"}),n.jsxs("div",{className:"space-y-2 mb-3",children:[b.videos.map((le,oe)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"url",value:le,onChange:G=>xe(oe,G.target.value),placeholder:"Enter video URL",className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}),n.jsx("button",{type:"button",onClick:()=>ie(oe),className:"p-2 text-red-500 hover:text-red-700",children:n.jsx(cn,{})})]},oe)),n.jsxs("button",{type:"button",onClick:be,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(Hn,{size:16}),n.jsx("span",{children:"Add Video URL"})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:()=>l(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Changes"})]})]})]})})]})})},mae=()=>{const[r,t]=O.useState(!1),[s,i]=O.useState(!1),[l,h]=O.useState("all"),[m,g]=O.useState(""),[b,v]=O.useState("newest"),[k,C]=O.useState(null),[_,S]=O.useState(!1),[T,R]=O.useState(!1),[P,V]=O.useState(1),U=10,{updateProduct:F,addProduct:q,filterAndSortProducts:ne,fetchProducts:se,filteredProducts:Q}=Ai();O.useEffect(()=>{se()},[]),O.useEffect(()=>{ne(l,m,b)},[l,m,b,ne]);const B=G=>{v(G.target.value)},Y=()=>{h("all"),g(""),v("newest"),V(1)},J=(Q==null?void 0:Q.length)||0,K=Math.ceil(J/U),Z=(P-1)*U,ee=Z+U,be=(Q==null?void 0:Q.slice(Z,ee))||[],xe=G=>{V(G),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{V(1)},[l,m,b]);const ie=G=>{C(G),S(!0)},ae=G=>{S(!1),C(G),R(!0)},le=async G=>{try{const ue=k.id,me=["name","brand","category","description"].filter(Se=>!G[Se]);if(me.length>0){console.error(`Missing required fields: ${me.join(", ")}`);return}const ye=await F(ue,G);ye.success?(R(!1),console.log(`Product updated successfully: ${ue}`)):console.error(`Failed to update product: ${ye.message}`)}catch(ue){console.error("Error in update product handler:",ue)}},oe=async G=>{try{const pe=["name","brand","category","price","stock","description","images"].filter(ye=>!G[ye]);if(pe.length>0){console.error(`Missing required fields: ${pe.join(", ")}`);return}const me=await q(G);me.success?(t(!1),console.log(`Product added successfully with ID: ${me.product_id}`)):console.error(`Failed to add product: ${me.message}`)}catch(ue){console.error("Error in add product handler:",ue)}};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Management"}),n.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:n.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(Hn,{className:"mr-2",size:16}),"Add New Product"]})})]}),n.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[240px]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ei,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:G=>g(G.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"}})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("select",{value:l,onChange:G=>h(G.target.value),className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"Smartphone",children:"Smartphones"}),n.jsx("option",{value:"Laptop",children:"Laptops"}),n.jsx("option",{value:"Tablet",children:"Tablets"}),n.jsx("option",{value:"Accessory",children:"Accessories"})]}),n.jsxs("select",{value:b,onChange:B,className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"newest",children:"Sort: Newest"}),n.jsx("option",{value:"price-asc",children:"Sort: Price (Low to High)"}),n.jsx("option",{value:"price-desc",children:"Sort: Price (High to Low)"}),n.jsx("option",{value:"name-asc",children:"Sort: Name (A-Z)"}),n.jsx("option",{value:"stock-asc",children:"Sort: Stock (Low to High)"})]}),n.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-secondary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"Clear Filters"})]})]}),n.jsx(aae,{products:be,onViewProduct:ie,onEditProduct:ae}),J>0&&n.jsx(Qa,{currentPage:P,totalPages:K,onPageChange:xe,totalItems:J,itemsPerPage:U}),r&&n.jsx(lae,{onClose:()=>t(!1),onSave:oe}),s&&n.jsx(dae,{onClose:()=>i(!1)}),_&&k&&n.jsx(uae,{product:k,onClose:()=>S(!1),onEdit:ae}),T&&k&&n.jsx(hae,{product:k,onClose:()=>R(!1),onSave:le})]})},Hl=un(()=>({getProductTotalStock:r=>{if(!r)return 0;if(r.valid_options&&r.valid_options.length>0)return r.valid_options.reduce((s,i)=>{const l=typeof i.stock=="number"?i.stock:0;return s+l},0);const t=r.stock;return typeof t=="number"?t:0},getLowStockVariants:r=>!r||!r.valid_options?[]:r.valid_options.filter(t=>{const s=typeof t.stock=="number"?t.stock:0;return s<=5&&s>0}),getOutOfStockVariants:r=>!r||!r.valid_options?[]:r.valid_options.filter(t=>(typeof t.stock=="number"?t.stock:0)===0),getProductStockStatus:r=>{if(!r)return{status:"unknown",details:[]};const t=Hl.getState().getProductTotalStock(r),s=Hl.getState().getLowStockVariants(r),i=Hl.getState().getOutOfStockVariants(r);let l="in-stock";const h=[];return t===0?(l="out-of-stock",h.push("All variants out of stock")):i.length>0&&(l="partial-out-of-stock",h.push(`${i.length} variant(s) out of stock`)),t<=5&&t>0?(l=l==="in-stock"?"low-stock":l,h.push(`Total stock low (${t} units)`)):s.length>0&&(l=l==="in-stock"?"low-stock":l,h.push(`${s.length} variant(s) low on stock`)),{status:l,details:h,totalStock:t,lowStockVariants:s,outOfStockVariants:i}},getFilteredInventory:(r,t,s)=>{const l=Ai.getState().products.list,h=Hl.getState();let m=[...l];if(r&&r!=="all"&&(m=m.filter(g=>g.category.toLowerCase()===r.toLowerCase())),t&&t!=="all")switch(t){case"in-stock":m=m.filter(g=>{const b=h.getProductStockStatus(g);return b.status==="in-stock"&&b.totalStock>5});break;case"low-stock":m=m.filter(g=>{const b=h.getProductStockStatus(g);return["low-stock","partial-out-of-stock"].includes(b.status)&&b.totalStock>0});break;case"out-of-stock":m=m.filter(g=>h.getProductStockStatus(g).status==="out-of-stock");break}if(s&&s.trim()){const g=s.toLowerCase().trim();m=m.filter(b=>b.name.toLowerCase().includes(g)||b.brand.toLowerCase().includes(g)||b.category.toLowerCase().includes(g))}return m},getLowStockProducts:()=>{const t=Ai.getState().products.list,s=Hl.getState();return t.filter(i=>{const l=s.getProductTotalStock(i);return l<=5&&l>0?!0:i.valid_options&&i.valid_options.length>0?i.valid_options.some(h=>{const m=typeof h.stock=="number"?h.stock:0;return m<=5&&m>0}):!1})},getOutOfStockProducts:()=>{const t=Ai.getState().products.list,s=Hl.getState();return t.filter(i=>s.getProductTotalStock(i)===0?!0:i.valid_options&&i.valid_options.length>0?i.valid_options.some(h=>(typeof h.stock=="number"?h.stock:0)===0):!1)},updateProductStock:async(r,t)=>{const s=Ai.getState();try{return await s.updateProduct(r,{stock:t})}catch(i){return console.error("Error updating product stock:",i),{success:!1,message:"Failed to update stock"}}},bulkUpdateStock:async r=>{const t=Ai.getState(),s=[];for(const i of r)try{const l=await t.updateProduct(i.productId,{stock:i.newStock});s.push({...i,success:l.success,message:l.message})}catch{s.push({...i,success:!1,message:"Failed to update stock"})}return s},getInventoryStats:()=>{const t=Ai.getState().products.list,s=Hl.getState(),i=t.length,l=t.filter(b=>{const v=s.getProductStockStatus(b);return v.status==="in-stock"&&v.totalStock>5}).length,h=t.filter(b=>{const v=s.getProductStockStatus(b);return["low-stock","partial-out-of-stock"].includes(v.status)&&v.totalStock>0}).length,m=t.filter(b=>s.getProductStockStatus(b).status==="out-of-stock").length,g=t.reduce((b,v)=>{const k=s.getProductTotalStock(v),C=v.price||0;return b+k*parseFloat(C)},0);return{totalProducts:i,inStock:l,lowStock:h,outOfStock:m,totalStockValue:g}},generateSKU:r=>{if(r.sku)return r.sku;const t=r.brand.substring(0,3).toUpperCase(),s=r.name.substring(0,3).toUpperCase(),i=r.category.substring(0,2).toUpperCase();return`${t}-${s}-${i}-${r.id}`}})),pae=({isOpen:r,onClose:t,product:s})=>{const[i,l]=O.useState([]),[h,m]=O.useState(null),[g,b]=O.useState(""),[v,k]=O.useState(!1),[C,_]=O.useState(!1),{updateVariantStock:S}=Ai();O.useEffect(()=>{s&&s.valid_options&&(l([...s.valid_options]),_(!1))},[s]);const T=(q,ne)=>{const se=i.map(Q=>Q.id===q?{...Q,stock:parseInt(ne,10)||0}:Q);l(se),_(!0)},R=(q,ne)=>{m(q),b(ne.toString())},P=q=>{const ne=parseInt(g,10);if(isNaN(ne)||ne<0){Rt.error("Please enter a valid stock value (0 or greater)");return}T(q,ne),m(null),b("")},V=()=>{m(null),b("")},U=async()=>{if(C){k(!0);try{const q=i.map(se=>({variant_id:se.id,new_stock:se.stock||0})),ne=await S(s.id,q);ne.success?(_(!1),Rt.success(`Variant stock updated successfully! ${ne.updatedVariants||q.length} variants updated.`),t()):(console.error("Failed to update variant stocks:",ne.message),Rt.error(ne.message||"Failed to update variant stock"))}catch(q){console.error("Error updating variant stocks:",q),Rt.error("Error updating variant stocks. Please try again.")}finally{k(!1)}}},F=()=>i.reduce((q,ne)=>q+(ne.stock||0),0);return!r||!s?null:n.jsx("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-90vh overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",maxHeight:"90vh"},children:[n.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Manage Variant Stock"}),n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[s.name," - Total Stock: ",F()]})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md",style:{borderRadius:"var(--rounded-md)"},children:n.jsx(qt,{size:20,style:{color:"var(--text-secondary)"}})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:i.length===0?n.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:[n.jsx("p",{children:"This product has no variants configured."}),n.jsxs("p",{className:"text-sm mt-2",children:["Current stock: ",s.stock||0]})]}):n.jsx("div",{className:"space-y-4",children:i.map((q,ne)=>{var se,Q,B;return n.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium mb-1",style:{color:"var(--text-primary)"},children:["Variant #",ne+1]}),n.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:["ID: ",q.id]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock Level:"}),h===q.id?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"number",min:"0",value:g,onChange:Y=>b(Y.target.value),className:"w-20 text-center p-2 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},autoFocus:!0,onKeyPress:Y=>{Y.key==="Enter"?P(q.id):Y.key==="Escape"&&V()}}),n.jsx("button",{onClick:()=>P(q.id),className:"p-2 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:n.jsx(rs,{size:16})}),n.jsx("button",{onClick:V,className:"p-2 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:n.jsx(qt,{size:16})})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-lg font-bold px-3 py-1 rounded",style:{color:q.stock===0?"var(--error-color)":q.stock<=5?"var(--warning-color)":"var(--success-color)",backgroundColor:q.stock===0?"rgba(239, 68, 68, 0.1)":q.stock<=5?"rgba(245, 158, 11, 0.1)":"rgba(16, 185, 129, 0.1)"},children:[q.stock||0," units"]}),n.jsx("button",{onClick:()=>R(q.id,q.stock||0),className:"p-2 rounded-md hover:bg-gray-100",title:"Edit stock level",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:n.jsx(Zm,{size:16})})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 mb-4",children:[q.colors&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.colors})]}),q.storage&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.storage})]}),q.ram&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.ram})]}),q.size&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.size})]}),q.resolution&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.resolution})]}),q.capacity&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Capacity:"}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.capacity})]})]}),q.custom_keys&&q.custom_values&&q.custom_keys.length>0&&n.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 mb-4 pt-3 border-t",style:{borderColor:"var(--border-primary)"},children:q.custom_keys.map((Y,J)=>Y&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[Y,":"]}),n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:q.custom_values[J]})]},J))}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Original Price:"}),n.jsxs("p",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["",((se=q.price)==null?void 0:se.toLocaleString())||0]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",((Q=q.discounted_price)==null?void 0:Q.toLocaleString())||((B=q.price)==null?void 0:B.toLocaleString())||0]}),q.discounted_price&&q.discounted_price!==q.price&&n.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium mt-1 inline-block",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[Math.round((q.price-q.discounted_price)/q.price*100),"% OFF"]})]})]})]},q.id)})})}),i.length>0&&n.jsxs("div",{className:"px-6 py-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsx("button",{onClick:U,disabled:!C||v,className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:C?"var(--brand-primary)":"var(--bg-secondary)",color:C?"var(--text-on-brand)":"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:v?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),n.jsx("span",{children:"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Gm,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})})},fae=({categoryFilter:r,stockFilter:t,searchQuery:s})=>{const[i,l]=O.useState(null),[h,m]=O.useState(""),[g,b]=O.useState(null),[v,k]=O.useState(!1),{products:C,fetchProducts:_}=Ai(),{getFilteredInventory:S,updateProductStock:T,generateSKU:R,getProductStockStatus:P}=Hl(),V=Z=>{if(!Z)return 0;if(Z.valid_options&&Z.valid_options.length>0){const be=Z.valid_options[0],xe=be.discounted_price||be.price;return typeof xe=="number"?xe:0}const ee=Z.discount_price||Z.price;return typeof ee=="number"?ee:0},U=Z=>{if(!Z)return 0;if(Z.valid_options&&Z.valid_options.length>0){const xe=Z.valid_options[0].price;return typeof xe=="number"?xe:0}const ee=Z.price;return typeof ee=="number"?ee:0},F=Z=>{if(!Z)return 0;if(Z.valid_options&&Z.valid_options.length>0)return Z.valid_options.reduce((be,xe)=>{const ie=typeof xe.stock=="number"?xe.stock:0;return be+ie},0);const ee=Z.stock;return typeof ee=="number"?ee:0};O.useEffect(()=>{C.list.length===0&&_()},[]);const q=S(r,t,s),ne=(Z,ee)=>{l(Z),m(ee.toString())},se=async Z=>{const ee=parseInt(h,10);if(!isNaN(ee)&&ee>=0){const be=await T(Z,ee);be.success?(l(null),m(""),_()):console.error("Failed to update stock:",be.message)}},Q=()=>{l(null),m("")},B=Z=>{b(Z),k(!0)},Y=()=>{b(null),k(!1)},J=Z=>Z.valid_options&&Z.valid_options.length>0,K=Z=>{const ee=P(Z);return ee.status==="out-of-stock"?{text:"Out of Stock",bgColor:"#FEF2F2",textColor:"#DC2626",icon:n.jsx(Dm,{size:14})}:ee.status==="partial-out-of-stock"?{text:"Variants Out",bgColor:"#FEF2F2",textColor:"#DC2626",icon:n.jsx(Dm,{size:14})}:ee.status==="low-stock"?{text:ee.lowStockVariants.length>0?"Variants Low":"Low Stock",bgColor:"#FFFBEB",textColor:"#D97706",icon:n.jsx(Dm,{size:14})}:{text:"In Stock",bgColor:"#F0FDF4",textColor:"#16A34A",icon:n.jsx(qn,{size:14})}};return C.loading?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsx("div",{className:"text-lg",children:"Loading inventory data..."})}):C.error?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsxs("div",{className:"text-red-600",children:["Error: ",C.error]})}):n.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:q.filter(Z=>Z&&Z.id).map(Z=>{const ee=K(Z),be=R(Z),xe=Z.images&&Z.images.length>0?Z.images[0]:"https://via.placeholder.com/50";return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:xe,alt:Z.name,className:"w-full h-full object-cover",onError:ie=>{ie.target.src="https://via.placeholder.com/50"}})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Z.name}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:Z.brand})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:be})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i===Z.id?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("input",{type:"number",min:"0",value:h,onChange:ie=>m(ie.target.value),className:"w-16 text-center p-1 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-sm)"},autoFocus:!0,onKeyPress:ie=>{ie.key==="Enter"?se(Z.id):ie.key==="Escape"&&Q()}}),n.jsx("button",{onClick:()=>se(Z.id),className:"ml-2 p-1 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:n.jsx(Gm,{size:16})}),n.jsx("button",{onClick:Q,className:"ml-1 p-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:n.jsx(qt,{size:16})})]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"text-sm font-medium mr-2",style:{color:F(Z)===0?"var(--error-color)":F(Z)<=5?"var(--warning-color)":"var(--text-primary)"},children:F(Z)}),n.jsxs("div",{className:"flex space-x-1",children:[J(Z)&&n.jsx("button",{onClick:()=>B(Z),className:"p-1 rounded-md hover:bg-gray-100",title:"View variant stocks",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:n.jsx(Di,{size:14})}),n.jsx("button",{onClick:()=>ne(Z.id,F(Z)),className:"p-1 rounded-md hover:bg-gray-100",title:"Edit total stock level",children:n.jsx(Zm,{size:14,style:{color:"var(--brand-primary)"}})})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:ee.bgColor,color:ee.textColor},children:[n.jsx("span",{className:"mr-1",children:ee.icon}),ee.text]})})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",V(Z).toLocaleString()]}),U(Z)!==V(Z)&&n.jsxs("div",{className:"text-xs line-through",style:{color:"var(--text-secondary)"},children:["",U(Z).toLocaleString()]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:Z.category})})]},Z.id)})})]}),q.length===0&&n.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"No products matching your filters"}),n.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",q.length," products"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]}),n.jsx(pae,{isOpen:v,onClose:Y,product:g})]})},gae=({products:r})=>{const{getProductTotalStock:t,getProductStockStatus:s}=Hl();return!r||r.length===0?n.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full",style:{backgroundColor:"#F0FDF4"},children:n.jsx(Mi,{size:16,style:{color:"#16A34A"}})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"All Good!"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No products are currently low on stock."})]})]})}):n.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FFFBEB",borderColor:"#FDE68A"},children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Dm,{size:20,style:{color:"#D97706"}})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"#92400E"},children:"Low Stock Alert"}),n.jsxs("div",{className:"mt-2 text-sm",style:{color:"#B45309"},children:[n.jsxs("p",{children:[r.length," product",r.length>1?"s":""," running low on stock:"]}),n.jsxs("ul",{className:"mt-2 space-y-1",children:[r.slice(0,3).map(i=>{const l=s(i),h=t(i);return n.jsxs("li",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:i.name}),n.jsxs("span",{className:"font-medium",children:[h," total"]})]}),l.details.length>0&&n.jsxs("div",{className:"text-xs ml-2",style:{color:"#92400E"},children:[" ",l.details.join(", ")]}),(l.lowStockVariants.length>0||l.outOfStockVariants.length>0)&&n.jsxs("div",{className:"text-xs ml-2 space-y-0.5",children:[l.outOfStockVariants.map((m,g)=>n.jsxs("div",{style:{color:"#DC2626"},children:["",m.colors||m.storage||m.ram||`Variant ${m.id}`,": Out of stock"]},`out-${g}`)),l.lowStockVariants.map((m,g)=>n.jsxs("div",{style:{color:"#D97706"},children:["",m.colors||m.storage||m.ram||`Variant ${m.id}`,": ",m.stock," left"]},`low-${g}`))]})]},i.id)}),r.length>3&&n.jsxs("li",{className:"font-medium",children:["...and ",r.length-3," more"]})]})]})]})]})})},bae=()=>{const[r,t]=O.useState("all"),[s,i]=O.useState("all"),[l,h]=O.useState(""),[m,g]=O.useState(1),b=10,{products:v,fetchProducts:k}=Ai(),{getLowStockProducts:C,getInventoryStats:_,getProductStockStatus:S}=Hl();O.useEffect(()=>{v.list.length===0&&k()},[]);const T=C(),R=_(),P=v.list.filter(B=>{const Y=B.name.toLowerCase().includes(l.toLowerCase())||B.brand.toLowerCase().includes(l.toLowerCase()),J=r==="all"||B.category===r;let K=!0;if(s==="in-stock"){const Z=S(B);K=Z.status==="in-stock"&&Z.totalStock>10}else if(s==="low-stock"){const Z=S(B);K=["low-stock","partial-out-of-stock"].includes(Z.status)&&Z.totalStock>0}else s==="out-of-stock"&&(K=S(B).status==="out-of-stock");return Y&&J&&K}),V=P.length,U=Math.ceil(V/b),F=(m-1)*b,q=F+b,ne=P.slice(F,q),se=B=>{g(B),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{g(1)},[r,s,l]);const Q=()=>{const B=["Product Name","Brand","Category","Stock","Price","SKU"],Y=v.list.map(be=>[be.name,be.brand,be.category,be.stock,be.price,`${be.brand.substring(0,3).toUpperCase()}-${be.name.substring(0,3).toUpperCase()}-${be.category.substring(0,2).toUpperCase()}-${be.id}`]),J=[B,...Y].map(be=>be.map(xe=>`"${xe}"`).join(",")).join(`
`),K=new Blob([J],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a"),ee=URL.createObjectURL(K);Z.setAttribute("href",ee),Z.setAttribute("download",`inventory_${new Date().toISOString().split("T")[0]}.csv`),Z.style.visibility="hidden",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Inventory Management"}),n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Track, update and manage product stock levels"})]}),n.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:n.jsxs("button",{onClick:Q,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx(ji,{className:"mr-2",size:16}),"Export CSV"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:R.totalProducts})]})})}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"In Stock"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#16A34A"},children:R.inStock})]})})}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#D97706"},children:R.lowStock})]})})}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#DC2626"},children:R.outOfStock})]})})})]}),T.length>0&&n.jsx("div",{className:"mb-6",children:n.jsx(gae,{products:T})}),n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ei,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:l,onChange:B=>h(B.target.value)})]})}),n.jsx("div",{children:n.jsxs("div",{className:"flex items-center h-full",children:[n.jsx(yd,{className:"mr-2",style:{color:"var(--text-secondary)"}}),n.jsxs("select",{value:r,onChange:B=>t(B.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"Smartphone",children:"Smartphones"}),n.jsx("option",{value:"Laptop",children:"Laptops"}),n.jsx("option",{value:"Tablet",children:"Tablets"}),n.jsx("option",{value:"Accessory",children:"Accessories"})]})]})}),n.jsx("div",{children:n.jsx("div",{className:"flex items-center h-full",children:n.jsxs("select",{value:s,onChange:B=>i(B.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("option",{value:"all",children:"All Stock Levels"}),n.jsx("option",{value:"in-stock",children:"In Stock"}),n.jsx("option",{value:"low-stock",children:"Low Stock"}),n.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})})})]}),n.jsx(fae,{products:ne,categoryFilter:r,stockFilter:s,searchQuery:l}),V>0&&n.jsx(Qa,{currentPage:m,totalPages:U,onPageChange:se,totalItems:V,itemsPerPage:b})]})},yae=({status:r})=>{const t={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:n.jsx(na,{size:12,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(rs,{size:12,className:"mr-1"})},processing:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:n.jsx(vt,{size:12,className:"mr-1"})},assigned:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:n.jsx(Ds,{size:12,className:"mr-1"})},shipped:{bg:"var(--brand-primary-light)",color:"var(--brand-primary)",icon:n.jsx(Lr,{size:12,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(rs,{size:12,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:n.jsx(qt,{size:12,className:"mr-1"})}},s=t[r]||t.pending_payment;return n.jsxs("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:[s.icon,r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1)]})},xae=({userId:r})=>{const{getCachedUser:t}=ti(),[s,i]=O.useState(null),[l,h]=O.useState(!0);if(O.useEffect(()=>{(async()=>{try{const b=await t(r);i(b)}catch(b){console.error("Error fetching user:",b),i(null)}finally{h(!1)}})()},[r,t]),l)return n.jsx(Si,{className:"animate-spin",size:14});const m=s?`${s.first_name||""} ${s.last_name||""}`.trim()||s.email||s.username:`User-${r.substring(0,8)}`;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:m}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[r.substring(0,12),"..."]})]})},vae=r=>`User-${r.substring(0,8)}`,wae=r=>{try{return new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},kae=({onSelectOrder:r,statusFilter:t,searchQuery:s})=>{const{orders:i}=ti(),{list:l,loading:h}=i,m=O.useMemo(()=>l.filter(g=>{const b=t==="all"||g.status===t,v=vae(g.user_id),k=!s||g.order_id.toLowerCase().includes(s.toLowerCase())||v.toLowerCase().includes(s.toLowerCase())||g.user_id.toLowerCase().includes(s.toLowerCase());return b&&k}),[l,t,s]);return n.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:h?n.jsxs("div",{className:"p-8 text-center animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Items"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:m.length>0?m.map(g=>{var b,v,k,C,_,S;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>r(g),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[g.order_id.substring(0,8),"..."]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:wae(g.created_at)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(xae,{userId:g.user_id})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[((b=g.order_items)==null?void 0:b.reduce((T,R)=>T+(R.quantity||0),0))||0,"items"]}),((v=g.order_items)==null?void 0:v.length)>0&&n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[g.order_items[0].name,g.order_items.length>1&&` +${g.order_items.length-1} more`]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((k=g.total_amount)==null?void 0:k.toLocaleString())||0]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:g.currency||"INR"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(yae,{status:g.status})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:((C=g.payment_details)==null?void 0:C.method)||"N/A"}),n.jsx("div",{className:"text-xs",style:{color:((_=g.payment_details)==null?void 0:_.status)==="captured"?"var(--success-color)":"var(--text-secondary)"},children:((S=g.payment_details)==null?void 0:S.status)||"Pending"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("div",{className:"flex justify-end space-x-2",children:n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Order Details",onClick:T=>{T.stopPropagation(),r(g)},children:n.jsx(Di,{size:18})})})})]},g.order_id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:n.jsx("div",{style:{color:"var(--text-secondary)"},children:s||t!=="all"?"No orders match your filter criteria":"No orders found"})})})})]}),n.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",m.length," of ",l.length," orders"]})})]})})},Cae=({order:r})=>{var J,K,Z,ee,be,xe,ie,ae,le,oe,G,ue;const[t,s]=O.useState(!1),[i,l]=O.useState({}),[h,m]=O.useState(!1),[g,b]=O.useState(""),[v,k]=O.useState(null),[C,_]=O.useState(!1),{editOrder:S,assignOrderToDeliveryPartner:T,deliveryPartners:R,fetchDeliveryPartners:P,getCachedUser:V}=ti();O.useEffect(()=>{r&&l({status:r.status||"",estimated_delivery:r.estimated_delivery||""})},[r]),O.useEffect(()=>{r!=null&&r.user_id&&(_(!0),V(r.user_id).then(pe=>{k(pe)}).catch(pe=>{console.error("Failed to fetch customer data:",pe)}).finally(()=>{_(!1)}))},[r==null?void 0:r.user_id]),O.useEffect(()=>{h&&R.list.length===0&&P()},[h]);const U=async()=>{try{if(!r||!r.user_id||!r.order_id){Rt.error("Order details are incomplete.");return}await S(r.user_id,r.order_id,i),s(!1),Rt.success("Order updated successfully!")}catch(pe){Rt.error(pe.message||"Failed to update order")}},F=async()=>{if(!g){Rt.error("Please select a delivery partner");return}if(!r||!r.user_id||!r.order_id){Rt.error("Order details are incomplete for assignment.");return}try{await T(r.user_id,r.order_id,g),m(!1),b(""),Rt.success("Delivery partner assigned successfully!")}catch(pe){Rt.error(pe.message||"Failed to assign delivery partner")}};if(!r)return null;const q={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:n.jsx(rn,{size:14,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(rs,{size:14,className:"mr-1"})},assigned:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:n.jsx(Ds,{size:14,className:"mr-1"})},shipped:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:n.jsx(Lr,{size:14,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:n.jsx(rs,{size:14,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:n.jsx(qt,{size:14,className:"mr-1"})}},ne=()=>{if(C)return"Loading...";if(!v)return`User ID: ${r.user_id.substring(0,8)}...`;const{first_name:pe="",last_name:me="",email:ye=""}=v;return pe||me?`${pe} ${me}`.trim():ye.split("@")[0]},se=pe=>pe?new Date(pe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set",Q=()=>{if(!r.address)return"No address provided";const{street_address:pe,city:me,state:ye,postal_code:Se}=r.address;return`${pe}, ${me}, ${ye} ${Se}`},B=()=>{if(!r.payment_details)return"No payment info";const{method:pe,card_last4:me,card_network:ye}=r.payment_details;return pe==="upi"?"UPI Payment":pe==="card"&&me?`${ye||"Card"} ending in ${me}`:(pe==null?void 0:pe.toUpperCase())||"Unknown"},Y=pe=>{const me=()=>{const _e=["pending_payment","payment_successful","assigned","shipped","delivered"],qe=_e.indexOf(r.status),Oe=_e.indexOf(pe);return r.status==="cancelled"?{iconClass:pe==="pending_payment"?"completed":"cancelled",textClass:pe==="pending_payment"?"completed":"cancelled"}:Oe<=qe?{iconClass:"completed",textClass:"completed"}:{iconClass:"pending",textClass:"pending"}},{iconClass:ye,textClass:Se}=me();return{icon:ye==="completed"?n.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--success-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--success-color-light)"}}):ye==="cancelled"?n.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--error-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--error-color-light)"}}):n.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"var(--border-secondary)"}}),textStyle:{color:Se==="completed"?"var(--text-primary)":Se==="cancelled"?"var(--error-color)":"var(--text-secondary)",fontWeight:Se==="pending"?"normal":"medium"}}};return n.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",r.order_id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"px-3 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:((J=q[r.status])==null?void 0:J.bg)||q.pending_payment.bg,color:((K=q[r.status])==null?void 0:K.color)||q.pending_payment.color},children:[((Z=q[r.status])==null?void 0:Z.icon)||q.pending_payment.icon,r.status.replace("_"," ").split(" ").map(pe=>pe.charAt(0).toUpperCase()+pe.slice(1)).join(" ")]}),n.jsx(tt,{variant:"secondary",size:"sm",icon:n.jsx(sx,{size:14}),onClick:()=>s(!t),children:t?"Cancel":"Edit"})]})]})}),n.jsxs("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2",size:16}),"Customer Information"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Name:"})," ",ne()]}),(v==null?void 0:v.email)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Email:"})," ",v.email]}),((ee=r.address)==null?void 0:ee.phone_number)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Phone:"})," ",r.address.phone_number]})]})]}),t&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Order Status"}),n.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:n.jsxs("select",{value:i.status,onChange:pe=>l(me=>({...me,status:pe.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"pending_payment",children:"Pending Payment"}),n.jsx("option",{value:"payment_successful",children:"Payment Successful"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Delivery Partner"}),!r.assigned_partner_id&&n.jsx(tt,{variant:"secondary",size:"sm",icon:n.jsx(Ds,{size:14}),onClick:()=>m(!0),children:"Assign"})]}),n.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.assigned_partner_id?`Partner ID: ${r.assigned_partner_id}`:"Not assigned"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vn,{className:"mr-2",size:16}),"Shipping Address"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:Q()}),((be=r.address)==null?void 0:be.type)&&n.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded",style:{backgroundColor:"var(--info-color-light)",color:"var(--info-color)"},children:r.address.type})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(na,{className:"mr-2",size:16}),"Payment Information"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Method:"})," ",B()]}),((xe=r.payment_details)==null?void 0:xe.status)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Status:"}),r.payment_details.status.charAt(0).toUpperCase()+r.payment_details.status.slice(1)]}),((ie=r.payment_details)==null?void 0:ie.captured_at)&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Captured:"}),se(r.payment_details.captured_at)]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(el,{className:"mr-2",size:16}),"Order Items"]}),n.jsxs("div",{className:"rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:(ae=r.order_items)==null?void 0:ae.map((pe,me)=>{var ye,Se;return n.jsx("div",{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:pe.name||"Product Name"}),pe.brand&&n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Brand: ",pe.brand]}),pe.model&&n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",pe.model]}),n.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Qty: ",pe.quantity||1,"  ",(ye=pe.price_at_purchase)==null?void 0:ye.toLocaleString()]})]}),n.jsxs("p",{className:"text-sm font-medium ml-4",style:{color:"var(--text-primary)"},children:["",(Se=pe.total_item_price)==null?void 0:Se.toLocaleString()]})]})},`${pe.product_id}-${me}`)})}),n.jsxs("div",{className:"p-3 flex justify-between font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.03)",color:"var(--text-primary)"},children:[n.jsx("p",{children:"Total Amount"}),n.jsxs("p",{children:["",(le=r.total_amount)==null?void 0:le.toLocaleString()]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Order Timeline"}),n.jsx("div",{className:"space-y-4",children:((G=(oe=r.tracking_info)==null?void 0:oe.status_history)==null?void 0:G.length)>0?r.tracking_info.status_history.map((pe,me,ye)=>{const{icon:Se,textStyle:_e}=Y(pe.status);return n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"mr-3 relative",children:[Se,me<ye.length-1&&n.jsx("div",{className:"h-full w-0.5 absolute top-3 left-1.5",style:{backgroundColor:"var(--border-secondary)"}})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",style:_e,children:pe.description||pe.status.replace("_"," ").split(" ").map(qe=>qe.charAt(0).toUpperCase()+qe.slice(1)).join(" ")}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:se(pe.timestamp)})]})]},`${pe.status}-${me}`)}):n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"mr-3",children:Y("pending_payment").icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",style:Y("pending_payment").textStyle,children:"Order Created"}),n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:se(r.created_at)})]})]})})]}),((ue=r.tracking_info)==null?void 0:ue.tracking_number)&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vt,{className:"mr-2",size:16}),"Tracking Information"]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[n.jsx("strong",{children:"Tracking Number:"}),r.tracking_info.tracking_number]}),r.tracking_info.carrier&&n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("strong",{children:"Carrier:"})," ",r.tracking_info.carrier]})]})]}),r.estimated_delivery&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Lr,{className:"mr-2",size:16}),"Estimated Delivery"]}),n.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t?n.jsx("input",{type:"datetime-local",value:i.estimated_delivery?new Date(i.estimated_delivery).toISOString().slice(0,16):"",onChange:pe=>l(me=>({...me,estimated_delivery:pe.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}):n.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:se(r.estimated_delivery)})})]})]}),n.jsx("div",{className:"p-4 border-t flex justify-between space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:t&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(tt,{variant:"secondary",size:"sm",icon:n.jsx(Lx,{size:16}),onClick:()=>s(!1),children:"Cancel"}),n.jsx(tt,{variant:"primary",size:"sm",icon:n.jsx(Gm,{size:16}),onClick:U,children:"Save Changes"})]})}),h&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Assign Delivery Partner"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Delivery Partner"}),n.jsxs("select",{value:g,onChange:pe=>b(pe.target.value),className:"w-full p-2 border rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[n.jsx("option",{value:"",children:"Select a partner..."}),R.list.filter(pe=>pe.is_verified).map(pe=>n.jsxs("option",{value:pe.partner_id,children:[pe.name," - ",pe.email]},pe.partner_id))]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>{m(!1),b("")},children:"Cancel"}),n.jsx(tt,{variant:"primary",size:"sm",onClick:F,disabled:!g,children:"Assign Partner"})]})]})})]})},_ae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(""),[l,h]=O.useState("all"),[m,g]=O.useState(!1),[b,v]=O.useState(1),k=10,{orders:C,fetchOrders:_}=ti(),{loading:S,statusCounts:T}=C;O.useEffect(()=>{_()},[]);const R=C.list.filter(Y=>{var Z,ee,be;const J=((Z=Y.order_id)==null?void 0:Z.toString().includes(s))||((ee=Y.user_id)==null?void 0:ee.toLowerCase().includes(s.toLowerCase()))||((be=Y.invoice_id)==null?void 0:be.toLowerCase().includes(s.toLowerCase())),K=l==="all"||Y.status===l;return J&&K}),P=R.length,V=Math.ceil(P/k),U=(b-1)*k,F=U+k,q=R.slice(U,F),ne=Y=>{v(Y),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{v(1)},[l,s]);const se=()=>{try{const Y=["Order ID","Customer Name","Email","Phone","Total Amount","Status","Order Date","Payment Method","Items Count"],J=C.list.map(xe=>{var ie;return[xe.order_id||"",xe.customer_name||xe.user_name||"",xe.customer_email||xe.user_email||"",xe.customer_phone||xe.phone||"",`${xe.total_amount||0}`,xe.status||"",xe.created_at?new Date(xe.created_at).toLocaleDateString():"",xe.payment_method||"N/A",xe.item_count||((ie=xe.order_items)==null?void 0:ie.length)||0]}),K=[Y.join(","),...J.map(xe=>xe.map(ie=>typeof ie=="string"&&(ie.includes(",")||ie.includes('"'))?`"${ie.replace(/"/g,'""')}"`:ie).join(","))].join(`
`),Z=new Blob([K],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),be=`orders-export-${new Date().toISOString().split("T")[0]}.csv`;if(ee.download!==void 0){const xe=URL.createObjectURL(Z);ee.setAttribute("href",xe),ee.setAttribute("download",be),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)}}catch(Y){console.error("Error exporting orders:",Y),alert("Failed to export orders. Please try again.")}},Q=Y=>{t(Y),g(!0)},B=()=>{g(!1)};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Management"}),n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"View and manage customer orders"})]}),n.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[n.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,onClick:_,isLoading:S,icon:n.jsx(Mi,{size:16}),children:S?"Refreshing...":"Refresh"}),n.jsxs("button",{onClick:se,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border hover:bg-gray-50 transition-colors",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsx(ji,{className:"mr-2",size:16}),"Export Orders"]})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:Object.entries({all:{label:"All Orders",color:"var(--brand-primary)"},pending_payment:{label:"Pending Payment",color:"var(--warning-color)"},payment_successful:{label:"Payment Success",color:"var(--success-color)"},processing:{label:"Processing",color:"var(--info-color)"},assigned:{label:"Assigned",color:"var(--brand-secondary)"},shipped:{label:"Shipped",color:"var(--brand-primary)"},delivered:{label:"Delivered",color:"var(--success-color)"},cancelled:{label:"Cancelled",color:"var(--error-color)"}}).map(([Y,{label:J,color:K}])=>n.jsxs("button",{className:`p-4 rounded-lg shadow-sm border transition-all ${l===Y?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:K},onClick:()=>h(Y),children:[n.jsx("div",{className:"text-sm font-medium",style:{color:K},children:J}),n.jsx("div",{className:"text-2xl font-bold mt-2",style:{color:"var(--text-primary)"},children:Y==="all"?C.list.length:T[Y]||0})]},Y))}),n.jsx("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:n.jsx("div",{className:"flex-1 min-w-[240px]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ei,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search orders by ID or customer...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:s,onChange:Y=>i(Y.target.value)})]})})}),n.jsxs("div",{className:"w-full",children:[n.jsx(kae,{onSelectOrder:Q,statusFilter:l,searchQuery:s,orders:q}),P>0&&n.jsx(Qa,{currentPage:b,totalPages:V,onPageChange:ne,totalItems:P,itemsPerPage:k,showItemCount:!0})]}),m&&r&&n.jsx("div",{className:"fixed inset-0 bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-lg shadow-2xl max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsx("div",{className:"sticky top-0 z-10",style:{backgroundColor:"var(--bg-primary)"},children:n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Details"}),n.jsx("button",{onClick:B,className:"text-gray-500 hover:text-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{size:24})})]})}),n.jsx(Cae,{order:r})]})})]})},Aae=({role:r})=>{const t={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"},moderator:{bg:"var(--success-color-light)",color:"var(--success-color)"}},s=t[r]||t.customer;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:r.charAt(0).toUpperCase()+r.slice(1)})},Nae=({status:r})=>{const t={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},s=t[r]||t.active;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:r.charAt(0).toUpperCase()+r.slice(1)})},jae=({onSelectUser:r,filterView:t,searchQuery:s})=>{const{users:i,updateUserStatus:l}=ti(),{list:h,loading:m}=i,g=O.useMemo(()=>h.filter(b=>{const v=t==="all"||t==="customers"&&((b==null?void 0:b.role)==="customer"||!(b!=null&&b.role))||t==="banned"&&((b==null?void 0:b.is_banned)||(b==null?void 0:b.status)==="banned"),k=`${(b==null?void 0:b.first_name)||""} ${(b==null?void 0:b.last_name)||""}`.trim(),C=!s||k.toLowerCase().includes(s.toLowerCase())||(b==null?void 0:b.email.toLowerCase().includes(s.toLowerCase()));return v&&C}),[h,t,s]);return n.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:m?n.jsxs("div",{className:"p-8 text-center animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Orders"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:g.length>0?g.map(b=>{var v,k;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>r(b),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 border flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:b!=null&&b.avatar?n.jsx("img",{src:b==null?void 0:b.avatar,alt:`${b==null?void 0:b.first_name} ${b==null?void 0:b.last_name}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center text-lg font-semibold",style:{color:"var(--text-primary)"},children:((v=b==null?void 0:b.first_name)==null?void 0:v.charAt(0).toUpperCase())||((k=b==null?void 0:b.email)==null?void 0:k.charAt(0).toUpperCase())})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:`${(b==null?void 0:b.first_name)||""} ${(b==null?void 0:b.last_name)||""}`.trim()||(b==null?void 0:b.email)}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Joined",new Date(b==null?void 0:b.created_at).toLocaleDateString()||"N/A"]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:b==null?void 0:b.email})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Aae,{role:(b==null?void 0:b.role)||"customer"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Nae,{status:b!=null&&b.is_banned?"banned":(b==null?void 0:b.status)||"active"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[(b==null?void 0:b.orders)||0," orders"]}),n.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["",((b==null?void 0:b.totalSpent)||0).toLocaleString()," total"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex justify-end space-x-2",onClick:C=>C.stopPropagation(),children:[n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View User Details",onClick:()=>r(b),children:n.jsx(Di,{size:18})}),n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:b!=null&&b.is_banned?"var(--success-color)":"var(--error-color)"},title:b!=null&&b.is_banned?"Unban User":"Ban User",onClick:()=>l(b==null?void 0:b.id),children:b!=null&&b.is_banned?n.jsx(ix,{size:18}):n.jsx(w1,{size:18})})]})})]},b==null?void 0:b.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:n.jsx("div",{style:{color:"var(--text-secondary)"},children:s||t!=="all"?"No users match your filter criteria":"No users found"})})})})]}),n.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",g.length," of ",h.length," users"]})})]})})},Sae=({user:r})=>{var m,g;const{updateUserStatus:t,users:s}=ti();if(!r)return null;const i=s.list.find(b=>b.id===r.id)||r,l=b=>{const v={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"}},k=v[b]||v.customer;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:k.bg,color:k.color},children:b.charAt(0).toUpperCase()+b.slice(1)})},h=b=>{const v={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},k=v[b]||v.active;return n.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:k.bg,color:k.color},children:b.charAt(0).toUpperCase()+b.slice(1)})};return n.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[n.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 border-2 flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:i!=null&&i.avatar?n.jsx("img",{src:i==null?void 0:i.avatar,alt:`${i==null?void 0:i.first_name} ${i==null?void 0:i.last_name}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center text-2xl font-semibold",style:{color:"var(--text-primary)"},children:((m=i==null?void 0:i.first_name)==null?void 0:m.charAt(0).toUpperCase())||((g=i==null?void 0:i.email)==null?void 0:g.charAt(0).toUpperCase())})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:`${(i==null?void 0:i.first_name)||""} ${(i==null?void 0:i.last_name)||""}`.trim()||(i==null?void 0:i.email)}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i==null?void 0:i.email}),n.jsxs("div",{className:"mt-2 flex space-x-2",children:[l((i==null?void 0:i.role)||"customer"),h(i!=null&&i.is_banned?"banned":(i==null?void 0:i.status)||"active")]})]})]})}),n.jsx("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Account Information"}),n.jsxs("div",{className:"rounded divide-y",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Registered"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Phone Number"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.phone_number)||"Not provided"})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Auth Provider"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.auth_provider)||"Email"})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.orders)||0})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Spent"}),n.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["",((i==null?void 0:i.totalSpent)||0).toLocaleString()]})]})]})]})}),n.jsx("div",{className:"p-4 border-t flex justify-end space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:i!=null&&i.is_banned?n.jsx(tt,{variant:"primary",size:"sm",icon:n.jsx(ix,{size:16}),onClick:()=>t(i==null?void 0:i.id),children:"Unban User"}):n.jsx(tt,{variant:"danger",size:"sm",icon:n.jsx(w1,{size:16}),onClick:()=>t(i==null?void 0:i.id),children:"Ban User"})})]})},Eae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState("all"),[l,h]=O.useState(""),[m,g]=O.useState(1),b=10,{users:v,fetchUsers:k}=ti(),{list:C,loading:_}=v;O.useEffect(()=>{k()},[]);const S=C.filter(se=>{var Y,J;const Q=((Y=se.name)==null?void 0:Y.toLowerCase().includes(l.toLowerCase()))||((J=se.email)==null?void 0:J.toLowerCase().includes(l.toLowerCase()));let B=!0;return s==="customers"?B=se.role==="customer"||!se.role:s==="banned"&&(B=se.status==="banned"),Q&&B}),T=S.length,R=Math.ceil(T/b),P=(m-1)*b,V=P+b,U=S.slice(P,V),F=se=>{g(se),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{g(1)},[s,l]);const q=[{name:"All Users",value:C.length||0,icon:n.jsx(fd,{size:20}),color:"var(--brand-primary)",view:"all"},{name:"Customers",value:C.filter(se=>se.role==="customer"||!se.role).length||0,icon:n.jsx(ix,{size:20}),color:"var(--success-color)",view:"customers"},{name:"Banned Users",value:C.filter(se=>se.status==="banned").length||0,icon:n.jsx(w1,{size:20}),color:"var(--error-color)",view:"banned"}],ne=()=>{try{const se=["User ID","Full Name","Email","Phone","Join Date","Status","Total Orders","Total Spent"],Q=v.list.map(Z=>[Z.id||"",Z.name||`${Z.first_name||""} ${Z.last_name||""}`.trim(),Z.email||"",Z.phone||"",Z.date_joined?new Date(Z.date_joined).toLocaleDateString():"",Z.is_active?"Active":"Inactive",Z.total_orders||0,`${Z.total_spent||0}`]),B=[se.join(","),...Q.map(Z=>Z.map(ee=>typeof ee=="string"&&(ee.includes(",")||ee.includes('"'))?`"${ee.replace(/"/g,'""')}"`:ee).join(","))].join(`
`),Y=new Blob([B],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a"),K=`users-export-${new Date().toISOString().split("T")[0]}.csv`;if(J.download!==void 0){const Z=URL.createObjectURL(Y);J.setAttribute("href",Z),J.setAttribute("download",K),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)}}catch(se){console.error("Error exporting users:",se),alert("Failed to export users. Please try again.")}};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"User Management"}),n.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Manage customer and admin accounts"})]}),n.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[n.jsx(tt,{variant:"secondary",size:"sm",fullWidth:!1,onClick:k,isLoading:_,icon:n.jsx(Mi,{size:16}),children:_?"Refreshing...":"Refresh"}),n.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},onClick:ne,children:[n.jsx(ji,{className:"mr-2",size:16}),"Export Users"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:q.map((se,Q)=>n.jsxs("button",{onClick:()=>i(se.view),className:`p-4 rounded-lg shadow-sm border transition-all ${s===se.view?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:se.color,cursor:"pointer"},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:`${se.color}20`,color:se.color},children:se.icon}),n.jsx("div",{className:"text-2xl font-bold",style:{color:s===se.view?se.color:"var(--text-primary)"},children:se.value})]}),n.jsx("div",{className:"text-sm font-medium mt-2",style:{color:"var(--text-secondary)"},children:se.name})]},Q))}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative w-full md:w-80",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ei,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),n.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:l,onChange:se=>h(se.target.value)})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx(jae,{users:U,onSelectUser:t,filterView:s,searchQuery:l}),T>0&&n.jsx("div",{className:"mt-6",children:n.jsx(Qa,{currentPage:m,totalPages:R,onPageChange:F,totalItems:T,itemsPerPage:b})})]}),n.jsx("div",{className:"lg:col-span-1",children:r?n.jsx(Sae,{user:r}):n.jsx("div",{className:"rounded-lg shadow-md h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:n.jsx("p",{children:"Select a user to view details"})})})]})]})},Dae=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",items:[{id:1,name:"Product 1",price:49.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-10",status:"pending",refundAmount:49.99,details:{reason:"Defective item",description:"The product arrived damaged with scratches on the surface.",images:["https://via.placeholder.com/150?text=Damage+Photo"],customerAddress:"123 Main St, New York, NY 10001"},timeline:[{date:"2023-05-10",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",items:[{id:3,name:"Product 3",price:89.99,quantity:1,reason:"Wrong item"}],requestDate:"2023-05-12",status:"approved",refundAmount:89.99,details:{reason:"Wrong item",description:"I ordered the blue version but received the red one.",images:["https://via.placeholder.com/150?text=Wrong+Item"],customerAddress:"456 Broadway, New York, NY 10002"},timeline:[{date:"2023-05-12",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-13",status:"Approved",comment:"Return request approved, shipping label sent"}]},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",items:[{id:4,name:"Product 4",price:99.99,quantity:1,reason:"Changed mind"},{id:5,name:"Product 5",price:29.99,quantity:2,reason:"Changed mind"}],requestDate:"2023-05-15",status:"rejected",refundAmount:159.97,details:{reason:"Changed mind",description:"I found a better deal elsewhere.",images:[],customerAddress:"789 Park Ave, New York, NY 10003"},timeline:[{date:"2023-05-15",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-16",status:"Rejected",comment:"Return period exceeded (31 days since delivery)"}]},{id:"RET-004",orderId:"ORD-12348",customer:"Sarah Williams",items:[{id:6,name:"Product 6",price:149.95,quantity:1,reason:"Not as described"}],requestDate:"2023-05-17",status:"pending",refundAmount:149.95,details:{reason:"Not as described",description:"Item does not match the specifications listed on website.",images:["https://via.placeholder.com/150?text=Item+Photo"],customerAddress:"101 Lexington Ave, New York, NY 10004"},timeline:[{date:"2023-05-17",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-005",orderId:"ORD-12349",customer:"Robert Brown",items:[{id:7,name:"Product 7",price:299.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-18",status:"approved",refundAmount:299.99,details:{reason:"Defective item",description:"The product is not working properly.",images:["https://via.placeholder.com/150?text=Defective+Item"],customerAddress:"202 5th Ave, New York, NY 10005"},timeline:[{date:"2023-05-18",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-19",status:"Approved",comment:"Return request approved, shipping label sent"}]}],Mae=({status:r})=>{const t={pending:{bg:"bg-yellow-100",text:"text-yellow-800"},approved:{bg:"bg-green-100",text:"text-green-800"},rejected:{bg:"bg-red-100",text:"text-red-800"},completed:{bg:"bg-blue-100",text:"text-blue-800"}},{bg:s,text:i}=t[r]||t.pending;return n.jsx("span",{className:`px-3 py-1 uppercase text-xs font-bold rounded-full ${s} ${i}`,children:r})},Tae=({onSelectReturn:r,filterStatus:t})=>{const[s,i]=O.useState(Dae),l=(m,g)=>{i(s.map(b=>b.id===m?{...b,status:g,timeline:[...b.timeline,{date:new Date().toISOString().split("T")[0],status:g.charAt(0).toUpperCase()+g.slice(1),comment:`Return request ${g}`}]}:b))},h=s.filter(m=>t==="all"?!0:m.status===t);return n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full whitespace-nowrap",children:[n.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left",children:"Return ID"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Order ID"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Customer"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),n.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>r(m),children:[n.jsx("td",{className:"py-3 px-4 text-sm",children:m.id}),n.jsx("td",{className:"py-3 px-4 text-sm",children:m.orderId}),n.jsx("td",{className:"py-3 px-4 text-sm",children:m.customer}),n.jsx("td",{className:"py-3 px-4 text-sm",children:m.requestDate}),n.jsxs("td",{className:"py-3 px-4 text-sm",children:["$",m.refundAmount.toFixed(2)]}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(Mae,{status:m.status})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(tt,{variant:"secondary",size:"sm",onClick:g=>{g.stopPropagation(),r(m)},children:"View"}),m.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{variant:"primary",size:"sm",onClick:g=>{g.stopPropagation(),l(m.id,"approved")},children:"Approve"}),n.jsx(tt,{variant:"danger",size:"sm",onClick:g=>{g.stopPropagation(),l(m.id,"rejected")},children:"Reject"})]}),m.status==="approved"&&n.jsx(tt,{variant:"primary",size:"sm",onClick:g=>{g.stopPropagation(),l(m.id,"completed")},children:"Mark Complete"})]})})]},m.id))})]})}),n.jsxs("div",{className:"py-3 px-4 bg-gray-50 text-gray-600 text-sm",children:["Showing ",h.length," returns"]})]})},Iae=({return:r})=>{if(!r)return null;const t=s=>{const i={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"};return i[s]||i.pending};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md h-full",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Return Request"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Return #",r.id]})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${t(r.status)}`,children:r.status})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Request Information"}),n.jsxs("div",{className:"bg-gray-50 rounded divide-y divide-gray-200",children:[n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Order ID"}),n.jsx("span",{className:"text-sm font-medium",children:r.orderId})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Customer"}),n.jsx("span",{className:"text-sm font-medium",children:r.customer})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Request Date"}),n.jsx("span",{className:"text-sm font-medium",children:r.requestDate})]}),n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Refund Amount"}),n.jsxs("span",{className:"text-sm font-medium",children:["$",r.refundAmount.toFixed(2)]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Reason"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-medium",children:r.details.reason}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.details.description})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Items to Return"}),n.jsx("div",{className:"bg-gray-50 rounded overflow-hidden divide-y divide-gray-200",children:r.items.map(s=>n.jsxs("div",{className:"p-3 flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:s.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",s.quantity," | Reason: ",s.reason]})]}),n.jsxs("p",{className:"text-sm font-medium",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))})]}),r.details.images&&r.details.images.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Images"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.details.images.map((s,i)=>n.jsx("div",{className:"rounded overflow-hidden border border-gray-200",children:n.jsx("img",{src:s,alt:`Return image ${i+1}`,className:"w-full h-auto"})},i))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Timeline"}),n.jsx("div",{className:"space-y-3",children:r.timeline.map((s,i)=>n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"mr-3 relative",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),i<r.timeline.length-1&&n.jsx("div",{className:"h-full w-0.5 bg-gray-200 absolute top-3 left-1.5"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:s.status}),n.jsx("p",{className:"text-xs text-gray-500",children:s.comment}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.date})]})]},i))})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[r.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{variant:"danger",children:"Reject Return"}),n.jsx(tt,{variant:"primary",children:"Approve Return"})]}),r.status==="approved"&&n.jsx(tt,{variant:"primary",children:"Mark as Completed"}),n.jsx(tt,{variant:"secondary",children:"Print Details"})]})]})},Rae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState("all");return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Return & Refund Requests"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:l=>i(l.target.value),children:[n.jsx("option",{value:"all",children:"All Requests"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(Tae,{onSelectReturn:t,filterStatus:s})}),n.jsx("div",{className:"lg:col-span-1",children:r?n.jsx(Iae,{return:r}):n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md h-full flex items-center justify-center text-gray-500",children:n.jsx("p",{children:"Select a return request to view details"})})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Return Policy"}),n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{children:"Current return policy allows customers to return items within 30 days of delivery for a full refund. Items must be unused and in original packaging."}),n.jsx("h3",{className:"text-md font-semibold mt-4",children:"Return Process:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:"Customer submits a return request with reason"}),n.jsx("li",{children:"Admin reviews request and approves/rejects"}),n.jsx("li",{children:"If approved, customer receives return shipping label"}),n.jsx("li",{children:"Once item is received and inspected, refund is processed"}),n.jsx("li",{children:"Customer receives notification when refund is complete"})]})]})]})]})},Mj=un(r=>({reviews:{list:[],loading:!1,error:null},reportedReviews:{list:[],loading:!1,error:null},selectedReview:null,pendingReviews:[],flaggedReviews:[],fetchReviews:async()=>{var t,s;r(i=>({reviews:{...i.reviews,loading:!0,error:null}}));try{const l=(await Ze.get("/admin/reviews/")).data.reviews.map(g=>({...g,status:g.status||"approved"})),h=l.filter(g=>g.status==="pending"),m=l.filter(g=>g.reported_count>0);return r({reviews:{list:l,loading:!1,error:null},pendingReviews:h,flaggedReviews:m}),{success:!0,data:l}}catch(i){return r(l=>{var h,m;return{reviews:{...l.reviews,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to fetch reviews"}}}),{success:!1,error:((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch reviews"}}},fetchReportedReviews:async()=>{var t,s;r(i=>({reportedReviews:{...i.reportedReviews,loading:!0,error:null}}));try{const l=(await Ze.get("/admin/reviews/reported/")).data.reported_reviews;return r({reportedReviews:{list:l,loading:!1,error:null},flaggedReviews:l}),{success:!0,data:l}}catch(i){return r(l=>{var h,m;return{reportedReviews:{...l.reportedReviews,loading:!1,error:((m=(h=i.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to fetch reported reviews"}}}),{success:!1,error:((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch reported reviews"}}},deleteReview:async(t,s)=>{var i,l;r(h=>({reviews:{...h.reviews,loading:!0,error:null}}));try{const h=await Ze.delete(`/admin/reviews/${t}/${s}/delete/`);if(h.status===200)return r(m=>{const g=m.reviews.list.filter(k=>!(k.id===s&&k.product_id===t)),b=g.filter(k=>k.status==="pending"),v=g.filter(k=>k.reported_count>0);return{reviews:{...m.reviews,list:g,loading:!1,error:null},reportedReviews:{...m.reportedReviews,list:m.reportedReviews.list.filter(k=>!(k.id===s&&k.product_id===t))},pendingReviews:b,flaggedReviews:v}}),{success:!0,message:h.data.message,updated_rating:h.data.updated_rating,total_reviews:h.data.total_reviews}}catch(h){return r(m=>{var g,b;return{reviews:{...m.reviews,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to delete review"}}}),{success:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete review"}}},updateReviewStatus:async(t,s,i)=>{var l,h;r(m=>({reviews:{...m.reviews,loading:!0,error:null}}));try{const m=await Ze.patch(`/admin/reviews/${t}/${s}/status/`,{status:i});if(m.status===200)return r(g=>{const b=g.reviews.list.map(C=>C.id===s&&C.product_id===t?{...C,status:i}:C),v=b.filter(C=>C.status==="pending"),k=b.filter(C=>C.reported_count>0);return{reviews:{...g.reviews,list:b,loading:!1,error:null},pendingReviews:v,flaggedReviews:k}}),{success:!0,message:m.data.message||`Review ${i} successfully`}}catch(m){return r(g=>{var b,v;return{reviews:{...g.reviews,loading:!1,error:((v=(b=m.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to update review status"}}}),{success:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update review status"}}},setSelectedReview:t=>{r({selectedReview:t})},clearSelectedReview:()=>{r({selectedReview:null})},toggleFlaggedStatus:async(t,s)=>{var i,l;r(h=>({reviews:{...h.reviews,loading:!0,error:null}}));try{const h=await Ze.patch(`/admin/reviews/${t}/${s}/flag/`,{toggle:!0});if(h.status===200){const m=h.data.is_flagged;return r(g=>{const b=g.reviews.list.map(k=>k.id===s&&k.product_id===t?{...k,flagged:m,reported_count:m?k.reported_count||1:0}:k),v=b.filter(k=>k.reported_count>0||k.flagged);return{reviews:{...g.reviews,list:b,loading:!1,error:null},flaggedReviews:v,reportedReviews:{...g.reportedReviews,list:m?[...g.reportedReviews.list,b.find(k=>k.id===s&&k.product_id===t)]:g.reportedReviews.list.filter(k=>!(k.id===s&&k.product_id===t))}}}),{success:!0,message:m?"Review flagged successfully":"Review unflagged successfully",is_flagged:m}}}catch(h){return r(m=>{var g,b;return{reviews:{...m.reviews,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to toggle flag status"}}}),{success:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to toggle flag status"}}}})),Pae=({isOpen:r,onClose:t,review:s})=>{var C,_,S,T,R;const{updateReviewStatus:i,deleteReview:l,toggleFlaggedStatus:h}=Mj();if(!s)return null;const m=new Date(s.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),g=async()=>{if(window.confirm("Are you sure you want to delete this review?"))try{const P=await l(s.product_id,s.id);P.success?(Xe.success(P.message||"Review deleted successfully"),t()):Xe.error(P.error||"Failed to delete review")}catch(P){console.error("Error deleting review:",P),Xe.error("Failed to delete review")}},b=async P=>{try{const V=await i(s.product_id,s.id,P);V.success?Xe.success(V.message||`Review ${P} successfully`):Xe.error(V.error||"Failed to update status")}catch(V){console.error("Error updating status:",V),Xe.error("Failed to update status")}},v=async()=>{try{const P=await h(s.product_id,s.id);P.success?Xe.success(P.message):Xe.error(P.error||"Failed to update flag status")}catch(P){console.error("Error updating flag status:",P),Xe.error("Failed to update flag status")}},k=P=>{const V=[];for(let U=0;U<5;U++)V.push(n.jsx(Xr,{size:16,className:U<P?"fill-current":"",style:{color:"var(--brand-primary)"}},U));return n.jsx("div",{className:"flex items-center",children:V})};return n.jsx(Sj,{isOpen:r,onClose:t,title:"Review Details",size:"lg",actions:n.jsxs("div",{className:"flex space-x-2",children:[s.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>b("approved"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--success-color)"},children:[n.jsx(rs,{className:"inline-block mr-1"})," Approve"]}),n.jsxs("button",{onClick:()=>b("rejected"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--error-color)"},children:[n.jsx(qt,{className:"inline-block mr-1"})," Reject"]})]}),n.jsxs("button",{onClick:v,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:s.reported_count>0?"var(--error-color)":"transparent",color:s.reported_count>0?"white":"var(--error-color)",border:s.reported_count>0?"none":"1px solid var(--error-color)"},children:[n.jsx(UN,{className:"inline-block mr-1"}),s.reported_count>0?"Remove Flag":"Flag Review"]}),n.jsxs("button",{onClick:g,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--error-color)",border:"1px solid var(--error-color)"},children:[n.jsx(cn,{className:"inline-block mr-1"})," Delete"]})]}),children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start mb-6",children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:s.productImage||"/public/logo.jpg",alt:s.product_name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-4 flex-grow",children:[n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:s.product_name}),n.jsxs("div",{className:"flex items-center mt-1",children:[k(s.rating),n.jsxs("span",{className:"ml-2 text-sm",style:{color:"var(--text-secondary)"},children:[s.rating,"/5"]})]}),n.jsxs("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:["Product ID: ",s.product_id]})]})]}),n.jsxs("div",{className:"p-4 mb-6 rounded",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"3px solid var(--brand-primary)"},children:[n.jsx("h4",{className:"text-md font-semibold mb-2",style:{color:"var(--text-primary)"},children:s.title||"Review"}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-primary)"},children:s.comment}),n.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:"var(--text-secondary)"},children:[n.jsxs("span",{children:[m,s.edited&&n.jsx("span",{className:"ml-2 italic",children:"(edited)"})]}),n.jsxs("span",{children:[((C=s.helpful_users)==null?void 0:C.length)||0," people found this helpful"]})]})]}),n.jsxs("div",{className:"border-t pt-4 mb-4",style:{borderColor:"var(--border-secondary)"},children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Reviewer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Username"}),n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((_=s.email)==null?void 0:_.split("@")[0])||"Unknown User",s.is_verified&&n.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[n.jsx(rs,{size:10,className:"mr-1"}),"Verified"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Email"}),n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:s.email})]})]})]}),n.jsxs("div",{className:"border-t pt-4",style:{borderColor:"var(--border-secondary)"},children:[n.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Review Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("div",{children:n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:s.status==="approved"?"rgba(16, 185, 129, 0.1)":s.status==="pending"?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.1)",color:s.status==="approved"?"var(--success-color)":s.status==="pending"?"var(--warning-color)":"var(--error-color)"},children:((T=(S=s==null?void 0:s.status)==null?void 0:S.charAt(0))==null?void 0:T.toUpperCase())+((R=s==null?void 0:s.status)==null?void 0:R.slice(1))})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Flagged"}),n.jsx("div",{children:s.reported_count>0?n.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:["Yes (",s.reported_count,s.reported_count===1?"report":"reports",")"]}):n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:"No"})})]})]})]})]})})},Oae=({activeTab:r="all"})=>{const{reviews:t,updateReviewStatus:s,deleteReview:i,fetchReviews:l}=Mj(),{isOpen:h,modalConfig:m,isLoading:g,showConfirm:b,hideConfirm:v,handleConfirm:k}=mg(),[C,_]=O.useState(null),[S,T]=O.useState(!1),R=ee=>{_(ee),T(!0)},P=()=>{T(!1),_(null)};O.useEffect(()=>{t.list.length===0&&l(),r==="pending"?U("pending"):r==="flagged"?(q(!0),U("all")):(q(!1),U("all"))},[r]);const[V,U]=O.useState("all"),[F,q]=O.useState(!1),[ne,se]=O.useState(!1),[Q,B]=O.useState(0),Y=(ee,be)=>{b({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{const xe=await i(ee,be);xe.success?Xe.success(xe.message||"Review deleted successfully"):Xe.error(xe.error||"Failed to delete review")}catch(xe){console.error("Error deleting review:",xe),Xe.error("Failed to delete review")}}})},J=t.list.filter(ee=>!(V!=="all"&&ee.status!==V||F&&ee.reported_count<=0||ne&&!ee.is_verified||Q!==0&&ee.rating!==Q)),K=ee=>{let be={},xe="";switch(ee){case"approved":be={backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},xe="Approved";break;case"pending":be={backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},xe="Pending";break;case"rejected":be={backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},xe="Rejected";break;default:be={backgroundColor:"rgba(107, 114, 128, 0.1)",color:"var(--text-secondary)"},xe="Unknown"}return n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:be,children:xe})},Z=ee=>{const be=[];for(let xe=0;xe<5;xe++)be.push(n.jsx(Xr,{size:12,className:xe<ee?"fill-current":"",style:{color:"var(--brand-primary)"}},xe));return n.jsx("div",{className:"flex items-center",children:be})};return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"status-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsxs("select",{id:"status-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:V,onChange:ee=>U(ee.target.value),children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"rating-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Rating"}),n.jsxs("select",{id:"rating-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:Q,onChange:ee=>B(parseInt(ee.target.value)),children:[n.jsx("option",{value:"0",children:"All Ratings"}),n.jsx("option",{value:"5",children:"5 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"1",children:"1 Star"})]})]}),n.jsxs("div",{className:"flex items-end space-x-4",children:[n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:F,onChange:()=>q(!F)}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Flagged Reviews"})]}),n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:ne,onChange:()=>se(!ne)}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Verified Purchases"})]})]})]}),n.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[n.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Review"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:[J.map(ee=>{var be,xe;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",style:{backgroundColor:ee.reported_count>0?"rgba(239, 68, 68, 0.05)":"transparent"},children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:n.jsx("img",{src:ee.productImage||"/public/logo.jpg",alt:ee.product_name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:ee.product_name}),n.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Product ID: ",ee.product_id]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((be=ee.email)==null?void 0:be.split("@")[0])||"Unknown User",ee.is_verified&&n.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[n.jsx(rs,{size:10,className:"mr-1"}),"Verified"]})]}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:ee.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z(ee.rating)}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:ee.title||"No Title"}),n.jsx("div",{className:"text-xs line-clamp-2",style:{color:"var(--text-secondary)"},children:ee.comment}),n.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[n.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:((xe=ee.helpful_users)==null?void 0:xe.length)||0}),"found helpful"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:K(ee.status)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(ee.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),n.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(ee.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Review",onClick:()=>R(ee),children:n.jsx(Di,{size:16})}),ee.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{b({title:"Approve Review",message:"Are you sure you want to approve this review?",confirmText:"Approve",cancelText:"Cancel",type:"success",onConfirm:async()=>{try{const ie=await s(ee.product_id,ee.id,"approved");ie.success?Xe.success(ie.message||"Review approved successfully"):Xe.error(ie.error||"Failed to approve review")}catch(ie){console.error("Error approving review:",ie),Xe.error("Failed to approve review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--success-color)"},title:"Approve Review",children:n.jsx(rs,{size:16})}),n.jsx("button",{onClick:()=>{b({title:"Reject Review",message:"Are you sure you want to reject this review?",confirmText:"Reject",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const ie=await s(ee.product_id,ee.id,"rejected");ie.success?Xe.success(ie.message||"Review rejected successfully"):Xe.error(ie.error||"Failed to reject review")}catch(ie){console.error("Error rejecting review:",ie),Xe.error("Failed to reject review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Reject Review",children:n.jsx(qt,{size:16})})]}),n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Review",onClick:()=>Y(ee.product_id,ee.id),children:n.jsx(cn,{size:16})})]})})]},ee.id)}),J.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"px-6 py-10 text-center text-sm",style:{color:"var(--text-secondary)"},children:[n.jsx("div",{className:"font-medium mb-1",children:"No reviews found"}),n.jsx("div",{className:"text-xs",children:"Try adjusting your filters"})]})})]})]}),n.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",J.length," of ",t.list.length," reviews"]}),n.jsx("div",{className:"flex space-x-1",children:[1,2,3].map(ee=>n.jsx("button",{className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:ee===1?"var(--brand-primary)":"var(--bg-secondary)",color:ee===1?"var(--text-on-brand)":"var(--text-secondary)"},children:ee},ee))})]})]}),n.jsx(th,{isOpen:h,onClose:v,onConfirm:k,title:m.title,message:m.message,confirmText:m.confirmText,cancelText:m.cancelText,type:m.type,isLoading:g}),n.jsx(Pae,{isOpen:S,onClose:P,review:C})]})},Bae=()=>{const[r,t]=O.useState("all"),[s,i]=O.useState(1),l=10,{reviews:h,pendingReviews:m,flaggedReviews:g,fetchReviews:b}=Mj();O.useEffect(()=>{h.list.length===0&&b()},[]);const v=h.list.filter(B=>B.status==="approved"),k=h.list.filter(B=>B.status==="rejected"),C=h.list.filter(B=>B.is_verified===!0),_=h.list.reduce((B,Y)=>B+Y.rating,0),S=h.list.length>0?(_/h.list.length).toFixed(1):0,T={total:h.list.length,pending:m.length,approved:v.length,rejected:k.length,flagged:g.length,averageRating:parseFloat(S),verifiedPurchases:C.length},P=(()=>{switch(r){case"pending":return m;case"flagged":return g;default:return h.list}})(),V=P.length,U=Math.ceil(V/l),F=(s-1)*l,q=F+l,ne=P.slice(F,q),se=B=>{i(B),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{i(1)},[r]);const Q=[{title:"Total Reviews",value:T.total,icon:n.jsx(Ou,{size:20}),color:"var(--brand-primary)"},{title:"Pending Reviews",value:T.pending,icon:n.jsx(yd,{size:20}),color:"var(--warning-color)"},{title:"Flagged Reviews",value:T.flagged,icon:n.jsx(UN,{size:20}),color:"var(--error-color)"},{title:"Avg. Rating",value:T.averageRating.toFixed(1),icon:n.jsx(Xr,{size:20}),color:"var(--success-color)"}];return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto animate-fadeIn",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Review Management"}),n.jsx("p",{style:{color:"var(--text-secondary)"},children:"Manage customer reviews, approve pending reviews, and address flagged content"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:Q.map((B,Y)=>n.jsxs("div",{className:"p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--border-primary)"},children:[n.jsx("div",{className:"rounded-full p-3 mr-4",style:{backgroundColor:`${B.color}15`,color:B.color},children:B.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:B.title}),n.jsx("div",{className:"text-xl font-bold mt-1",style:{color:"var(--text-primary)"},children:B.value})]})]},Y))}),n.jsxs("div",{className:"mb-8 p-5 rounded-lg flex flex-wrap gap-6 justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-secondary)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:n.jsx(qn,{size:18})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Approved Reviews"}),n.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[T.approved,n.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(T.approved/T.total*100),"%)"]})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:n.jsx(qn,{size:18})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Verified Purchase Reviews"}),n.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[T.verifiedPurchases,n.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(T.verifiedPurchases/T.total*100),"%)"]})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},children:n.jsx(Ou,{size:18})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Rating Distribution"}),n.jsx("div",{className:"flex items-center mt-1",children:[5,4,3,2,1].map(B=>n.jsxs("div",{className:"flex flex-col items-center mx-1",children:[n.jsx("div",{className:"h-10 w-4 rounded-t-sm",style:{backgroundColor:B>3?"var(--success-color)":B>1?"var(--warning-color)":"var(--error-color)",opacity:.7,height:`${25+B*8}px`}}),n.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[B,""]})]},B))})]})]})]}),n.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-secondary)"},children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsx("button",{onClick:()=>t("all"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${r==="all"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--brand-primary)",color:r==="all"?"var(--brand-primary)":"var(--text-secondary)"},children:"All Reviews"}),n.jsxs("button",{onClick:()=>t("pending"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${r==="pending"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--warning-color)",color:r==="pending"?"var(--warning-color)":"var(--text-secondary)"},children:["Pending Reviews",n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:r==="pending"?"var(--warning-color)":"rgba(245, 158, 11, 0.1)",color:r==="pending"?"white":"var(--warning-color)"},children:T.pending})]}),n.jsxs("button",{onClick:()=>t("flagged"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${r==="flagged"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--error-color)",color:r==="flagged"?"var(--error-color)":"var(--text-secondary)"},children:["Flagged Reviews",n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:r==="flagged"?"var(--error-color)":"rgba(239, 68, 68, 0.1)",color:r==="flagged"?"white":"var(--error-color)"},children:T.flagged})]})]})}),n.jsx(Oae,{activeTab:r,reviews:ne}),V>0&&n.jsx(Qa,{currentPage:s,totalPages:U,onPageChange:se,totalItems:V,itemsPerPage:l,showItemCount:!0})]})},Lae=({onImageSelect:r,onCancel:t,targetDimensions:s={width:1200,height:400},cropPresets:i=[],showDimensionGuide:l=!0})=>{const[h,m]=O.useState(null),[g,b]=O.useState(null),[v,k]=O.useState({x:0,y:0,width:50,height:50}),[C,_]=O.useState(""),S=O.useRef(null),T=O.useRef(null),R=O.useRef(null),P=[{name:"Hero Banner",width:1200,height:400,ratio:3},{name:"Dropdown Banner",width:300,height:200,ratio:1.5},{name:"Sidebar Banner",width:300,height:600,ratio:.5},{name:"Square Banner",width:400,height:400,ratio:1},{name:"Mobile Banner",width:800,height:300,ratio:2.67}],V=i.length>0?i:P,U=O.useCallback(K=>{const Z=K.target.files[0];if(Z&&Z.type.startsWith("image/")){b(Z);const ee=new FileReader;ee.onload=be=>{m(be.target.result),k({x:25,y:25,width:50,height:50})},ee.readAsDataURL(Z)}},[]),F=O.useCallback(K=>{const Z=s.width/s.height,ee=K.width/K.height;if(Math.abs(Z-ee)<.1)k({x:0,y:0,width:100,height:100});else{const be=K.ratio||ee;be>1?k({x:10,y:25,width:80,height:80/be}):k({x:25,y:10,width:80*be,height:80})}},[s]),q=O.useCallback(()=>{if(!h||!T.current||!R.current)return;const K=T.current,Z=K.getContext("2d"),ee=R.current;if(ee.naturalWidth===0||ee.naturalHeight===0)return;K.width=s.width,K.height=s.height;const be=ee.naturalWidth/100,xe=ee.naturalHeight/100,ie={x:Math.max(0,Math.min(v.x,100-v.width)),y:Math.max(0,Math.min(v.y,100-v.height)),width:Math.max(1,Math.min(v.width,100-v.x)),height:Math.max(1,Math.min(v.height,100-v.y))},ae=ie.x*be,le=ie.y*xe,oe=ie.width*be,G=ie.height*xe;Z.clearRect(0,0,K.width,K.height);try{Z.drawImage(ee,ae,le,oe,G,0,0,K.width,K.height),_(K.toDataURL("image/jpeg",.9))}catch(ue){console.error("Error updating preview:",ue),_("")}},[h,v,s]);O.useEffect(()=>{q()},[q]);const ne=O.useCallback(()=>{if(!h||!T.current||!R.current)return console.error("Missing required elements for cropping"),null;const K=T.current,Z=R.current;return Z.naturalWidth===0||Z.naturalHeight===0?(console.error("Image not loaded properly"),null):new Promise((ee,be)=>{try{const xe=K.getContext("2d");K.width=s.width,K.height=s.height;const ie=Z.naturalWidth/100,ae=Z.naturalHeight/100,le={x:Math.max(0,Math.min(v.x,100-v.width)),y:Math.max(0,Math.min(v.y,100-v.height)),width:Math.max(1,Math.min(v.width,100-v.x)),height:Math.max(1,Math.min(v.height,100-v.y))},oe=le.x*ie,G=le.y*ae,ue=le.width*ie,pe=le.height*ae;xe.clearRect(0,0,K.width,K.height),xe.drawImage(Z,oe,G,ue,pe,0,0,K.width,K.height),K.toBlob(me=>{if(!me){be(new Error("Failed to create image blob"));return}const ye=(g==null?void 0:g.name)||"cropped-image.jpg",Se=(g==null?void 0:g.type)||"image/jpeg";ee({file:new File([me],ye,{type:Se}),dataUrl:K.toDataURL("image/jpeg",.9)})},"image/jpeg",.9)}catch(xe){be(xe)}})},[h,g,v,s]),se=async()=>{try{const K=await ne();K&&r?(r(K),Q()):(console.error("Failed to crop image or no callback provided"),alert("Failed to crop image. Please try again."))}catch(K){console.error("Error cropping image:",K),alert("Error cropping image. Please try again.")}},Q=O.useCallback(()=>{m(null),b(null),_(""),k({x:25,y:25,width:50,height:50}),S.current&&(S.current.value=""),t&&t()},[t]),B=()=>{k({x:0,y:0,width:100,height:100})},Y=()=>{k({x:25,y:25,width:50,height:50})},J=K=>{const Z=(K.size/1048576).toFixed(2),ee=K.size>5*1024*1024;return{sizeInMB:Z,isLarge:ee}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-y-auto",style:{backgroundColor:"var(--bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Upload and Crop Banner Image"}),n.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Close",children:n.jsx(qt,{size:20,style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"p-6",children:[l&&n.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--bg-accent-light)",borderColor:"var(--border-primary)"},children:[n.jsx("h3",{className:"font-medium mb-2",style:{color:"var(--brand-primary)"},children:" Recommended Dimensions"}),n.jsxs("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:["Target size: ",s.width,"  ",s.height," pixels"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:V.map((K,Z)=>n.jsxs("button",{onClick:()=>F(K),className:"text-xs p-2 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-secondary)",color:"var(--text-primary)"},children:[n.jsx("div",{className:"font-medium",children:K.name}),n.jsxs("div",{className:"text-gray-500",children:[K.width,"",K.height]})]},Z))})]}),h?n.jsxs("div",{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:"Original Image - Adjust Crop Area"}),n.jsxs("div",{className:"relative border rounded-lg overflow-hidden bg-gray-100",children:[n.jsx("img",{ref:R,src:h,alt:"Original",className:"w-full h-64 object-contain",onLoad:q}),n.jsxs("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 pointer-events-none",style:{left:`${Math.max(0,Math.min(v.x,100-v.width))}%`,top:`${Math.max(0,Math.min(v.y,100-v.height))}%`,width:`${Math.max(1,Math.min(v.width,100-v.x))}%`,height:`${Math.max(1,Math.min(v.height,100-v.y))}%`},children:[n.jsx("div",{className:"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-1 rounded whitespace-nowrap",children:"Crop Area"}),n.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-blue-500 rounded-full -translate-x-1 -translate-y-1"}),n.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-blue-500 rounded-full translate-x-1 -translate-y-1"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-blue-500 rounded-full -translate-x-1 translate-y-1"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-blue-500 rounded-full translate-x-1 translate-y-1"})]}),g&&n.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[J(g).sizeInMB," MB",J(g).isLarge&&n.jsx("span",{className:"text-yellow-400 ml-1",children:""})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:["Live Preview (",s.width,"",s.height,")"]}),n.jsx("div",{className:"border rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden",style:{aspectRatio:`${s.width}/${s.height}`,minHeight:"200px"},children:C?n.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}):n.jsxs("div",{className:"text-center",style:{color:"var(--text-secondary)"},children:[n.jsx(GT,{size:24,className:"mx-auto mb-2"}),n.jsx("p",{className:"text-sm",children:"Preview loading..."})]})})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Crop Controls"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:Y,className:"px-3 py-1 text-xs border rounded hover:bg-gray-50 transition-colors flex items-center gap-1",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},title:"Center crop area",children:[n.jsx(qw,{size:12}),"Center"]}),n.jsxs("button",{onClick:B,className:"px-3 py-1 text-xs border rounded hover:bg-gray-50 transition-colors flex items-center gap-1",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},title:"Reset to full image",children:[n.jsx(z_,{size:12}),"Full"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(qw,{size:14}),"X Position (",Math.round(Math.max(0,Math.min(v.x,100-v.width))),"%)"]}),n.jsx("input",{type:"range",min:"0",max:Math.max(0,100-v.width),value:Math.min(v.x,100-v.width),onChange:K=>{const Z=parseInt(K.target.value);k(ee=>({...ee,x:Math.max(0,Math.min(Z,100-ee.width))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Left to right position"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(qw,{size:14}),"Y Position (",Math.round(Math.max(0,Math.min(v.y,100-v.height))),"%)"]}),n.jsx("input",{type:"range",min:"0",max:Math.max(0,100-v.height),value:Math.min(v.y,100-v.height),onChange:K=>{const Z=parseInt(K.target.value);k(ee=>({...ee,y:Math.max(0,Math.min(Z,100-ee.height))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Top to bottom position"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(z_,{size:14}),"Width (",Math.round(Math.max(10,Math.min(v.width,100-v.x))),"%)"]}),n.jsx("input",{type:"range",min:"10",max:100-v.x,value:Math.min(v.width,100-v.x),onChange:K=>{const Z=parseInt(K.target.value);k(ee=>({...ee,width:Math.max(10,Math.min(Z,100-ee.x))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Horizontal crop size"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1",style:{color:"var(--text-primary)"},children:[n.jsx(z_,{size:14}),"Height (",Math.round(Math.max(10,Math.min(v.height,100-v.y))),"%)"]}),n.jsx("input",{type:"range",min:"10",max:100-v.y,value:Math.min(v.height,100-v.y),onChange:K=>{const Z=parseInt(K.target.value);k(ee=>({...ee,height:Math.max(10,Math.min(Z,100-ee.y))}))},className:"w-full"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vertical crop size"})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("button",{onClick:()=>{m(null),b(null),_(""),k({x:25,y:25,width:50,height:50}),S.current&&(S.current.value="")},className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},children:[n.jsx(Mi,{size:16}),"Choose Different Image"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-secondary)",color:"var(--text-secondary)"},children:"Cancel"}),n.jsxs("button",{onClick:se,className:"px-6 py-2 text-sm font-medium text-white rounded-lg hover:opacity-90 transition-opacity flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--brand-primary)"},disabled:!h||!R.current,children:[n.jsx(GT,{size:16}),"Crop & Save Banner"]})]})]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:U,className:"hidden"}),n.jsxs("div",{onClick:()=>{var K;return(K=S.current)==null?void 0:K.click()},className:"border-2 border-dashed rounded-lg p-12 cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-secondary)",backgroundColor:"var(--bg-secondary)"},children:[n.jsx(Ek,{size:48,className:"mx-auto mb-4",style:{color:"var(--text-secondary)"}}),n.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Choose an Image"}),n.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Select a high-quality image. Supported formats: JPG, PNG, WebP"}),n.jsx("p",{className:"text-xs mt-2",style:{color:"var(--text-secondary)"},children:"Maximum file size: 5MB"})]})]})]}),n.jsx("canvas",{ref:T,style:{display:"none"}})]})})},zae=[{value:"hero",label:"Hero Banner (Top)"},{value:"carousel",label:"Banner Carousel"},{value:"home-middle",label:"Home Middle Section"},{value:"home-bottom",label:"Home Bottom Section"},{value:"category-top",label:"Category Page Top"},{value:"sidebar",label:"Sidebar"},{value:"dropdown",label:"Navigation Dropdown"}],MR=[{value:"Mobiles & Accessories",label:"Mobiles & Accessories"},{value:"Laptops & Computers",label:"Laptops & Computers"},{value:"TVs & Entertainment",label:"TVs & Entertainment"},{value:"Tablets & E-readers",label:"Tablets & E-readers"},{value:"Smart Watches",label:"Smart Watches"}],Fae=({positionOptions:r})=>{const{banners:t,loading:s,error:i,fetchBanners:l,addBanner:h,editBanner:m,deleteBanner:g,toggleBannerActive:b}=Gx(),[v,k]=O.useState(null),[C,_]=O.useState(null),[S,T]=O.useState(!1),[R,P]=O.useState(!1),[V,U]=O.useState({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",category:"",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),[F,q]=O.useState(null),[ne,se]=O.useState(null),[Q,B]=O.useState(null),[Y,J]=O.useState(null),[K,Z]=O.useState(!1),[ee,be]=O.useState(!1),[xe,ie]=O.useState("new");O.useEffect(()=>{l()},[]);const ae=Ce=>{const ot=Ce.target.files[0];if(ot){B(ot);const Je=new FileReader;Je.onload=nt=>J(nt.target.result),Je.readAsDataURL(ot)}},le=()=>{U({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",category:"",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),q(null),se(null)},oe=()=>{k(null),B(null),J(null)},G=async Ce=>{await b(Ce)},ue=Ce=>{k(Ce),J(Ce.image),Z(!1)},pe=async()=>{const Ce=new FormData;Object.keys(v).forEach(ot=>{ot!=="id"&&v[ot]!==null&&v[ot]!==void 0&&Ce.append(ot,v[ot])}),Q&&Ce.append("image_file",Q),await m(v.id,Ce),oe()},me=async()=>{if(!F){Re.info("Please select an image file");return}const Ce=new FormData;Object.keys(V).forEach(ot=>{ot!=="image"&&V[ot]!==null&&V[ot]!==void 0&&Ce.append(ot,V[ot])}),Ce.append("image_file",F),await h(Ce),le(),Z(!1)},ye=Ce=>{_(Ce),T(!0)},Se=async()=>{try{P(!0),await g(C.id),T(!1)}catch(Ce){console.error("Error deleting banner:",Ce)}finally{P(!1)}},_e=Ce=>{ie(Ce),be(!0)},qe=Ce=>{xe==="new"?(q(Ce.file),se(Ce.dataUrl)):(B(Ce.file),J(Ce.dataUrl)),be(!1)},Oe=Ce=>{switch(Ce){case"hero":return{width:1200,height:400,description:"Hero banners (wide format)"};case"dropdown":return{width:300,height:200,description:"Navigation dropdown banners (vertical format)"};case"sidebar":return{width:350,height:500,description:"Sidebar promotional banners"};case"footer":return{width:600,height:200,description:"Footer promotional banners"};default:return{width:800,height:400,description:"General promotional banners"}}},Ye=Ce=>{const ot=Oe(Ce);return{aspectRatio:ot.width/ot.height,recommendedSize:`${ot.width}x${ot.height}px`,description:ot.description}},Be=Ce=>{switch(Ce){case"hero":return 3;case"dropdown":return 1.5;case"sidebar":return .7;case"footer":return 3;default:return 2}};return n.jsxs("div",{className:"space-y-6",children:[s&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2",children:"Loading banners..."})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Banners"}),n.jsx(tt,{variant:"primary",onClick:()=>{K?(le(),Z(!1)):(Z(!0),oe())},children:K?"Cancel":"Add New Banner"})]}),K&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Add New Banner"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:V.title,onChange:Ce=>U({...V,title:Ce.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:V.subtitle,onChange:Ce=>U({...V,subtitle:Ce.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image"}),n.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"font-medium text-blue-700",children:["Recommended dimensions: ",Ye(V.position).recommendedSize]})]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[Ye(V.position).description,"  Aspect ratio: ",Ye(V.position).aspectRatio.toFixed(2),":1"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{type:"button",onClick:()=>_e("new"),className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-md hover:border-gray-400 transition-colors text-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{className:"text-sm text-gray-600",children:ne?"Change Image (with cropping)":"Upload & Crop Image"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Click to upload and automatically crop to ",Ye(V.position).recommendedSize]})]})}),ne&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:ne,alt:"Banner Preview",className:`w-full object-cover rounded border ${V.position==="dropdown"?"h-32":"h-24"}`,style:{aspectRatio:Be(V.position)}}),n.jsx("button",{type:"button",onClick:()=>{q(null),se(null)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:V.link,onChange:Ce=>U({...V,link:Ce.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:V.position,onChange:Ce=>U({...V,position:Ce.target.value}),children:r.map(Ce=>n.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]}),V.position==="dropdown"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:V.category,onChange:Ce=>U({...V,category:Ce.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select a category"}),MR.map(Ce=>n.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:V.tag,onChange:Ce=>U({...V,tag:Ce.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:V.cta,onChange:Ce=>U({...V,cta:Ce.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),n.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:V.backgroundColor,onChange:Ce=>U({...V,backgroundColor:Ce.target.value})})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:V.description,onChange:Ce=>U({...V,description:Ce.target.value}),rows:3})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:V.active,onChange:Ce=>U({...V,active:Ce.target.checked}),className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(tt,{variant:"primary",onClick:me,children:"Add Banner"})})]}),v&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Edit Banner"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.title||"",onChange:Ce=>k({...v,title:Ce.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.subtitle||"",onChange:Ce=>k({...v,subtitle:Ce.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),n.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:ae}),Y&&n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:Y,alt:"Current/Preview",className:"h-24 w-48 object-cover rounded border"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Q?"New image preview":"Current image"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.link||"",onChange:Ce=>k({...v,link:Ce.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:v.position||"hero",onChange:Ce=>k({...v,position:Ce.target.value}),children:r.map(Ce=>n.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]}),v.position==="dropdown"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:v.category||"",onChange:Ce=>k({...v,category:Ce.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select a category"}),MR.map(Ce=>n.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.tag||"",onChange:Ce=>k({...v,tag:Ce.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.cta||"",onChange:Ce=>k({...v,cta:Ce.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),n.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:v.backgroundColor||"#ffffff",onChange:Ce=>k({...v,backgroundColor:Ce.target.value})})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:v.description||"",onChange:Ce=>k({...v,description:Ce.target.value}),rows:3})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:v.active,onChange:Ce=>k({...v,active:Ce.target.checked}),className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(tt,{variant:"secondary",onClick:oe,children:"Cancel"}),n.jsx(tt,{variant:"primary",onClick:pe,children:"Save Changes"})]})]}),n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:n.jsxs("table",{className:"w-full min-w-full",children:[n.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left w-24",children:"Banner"}),n.jsx("th",{className:"py-3 px-4 text-left min-w-0 w-2/5",children:"Details"}),n.jsx("th",{className:"py-3 px-4 text-left w-24",children:"Position"}),n.jsx("th",{className:"py-3 px-4 text-left w-20",children:"Category"}),n.jsx("th",{className:"py-3 px-4 text-center w-20",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-right w-32",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(Ce=>{var ot;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 w-24",children:n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:Ce.image,alt:Ce.title,className:"h-16 w-20 object-cover rounded border",onError:Je=>{Je.target.src="/public/logo.jpg",Je.target.alt="Image not found"}})})}),n.jsx("td",{className:"py-3 px-4 min-w-0 max-w-0 w-2/5",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-medium text-sm truncate",title:Ce.title,children:Ce.title}),Ce.subtitle&&n.jsx("p",{className:"text-xs text-gray-600 truncate",title:Ce.subtitle,children:Ce.subtitle}),Ce.description&&n.jsx("p",{className:"text-xs text-gray-500 truncate",title:Ce.description,children:Ce.description}),Ce.link&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Link:"}),n.jsx("a",{href:Ce.link,className:"text-xs text-blue-500 hover:underline truncate max-w-32",target:"_blank",rel:"noopener noreferrer",title:Ce.link,children:Ce.link.length>25?`${Ce.link.substring(0,25)}...`:Ce.link})]}),Ce.tag&&n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded truncate max-w-24",children:Ce.tag.length>12?`${Ce.tag.substring(0,12)}...`:Ce.tag})]})}),n.jsx("td",{className:"py-3 px-4 w-24",children:n.jsx("span",{className:"text-sm whitespace-nowrap",children:((ot=r.find(Je=>Je.value===Ce.position))==null?void 0:ot.label)||Ce.position})}),n.jsx("td",{className:"py-3 px-4 w-20",children:Ce.position==="dropdown"?n.jsx("span",{className:"text-xs text-gray-600 truncate",title:Ce.category,children:Ce.category||"No category"}):n.jsx("span",{className:"text-xs text-gray-400",children:"N/A"})}),n.jsx("td",{className:"py-3 px-4 text-center w-20",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded whitespace-nowrap ${Ce.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Ce.active?"Active":"Inactive"})}),n.jsx("td",{className:"py-3 px-4 text-right w-32",children:n.jsxs("div",{className:"flex justify-end space-x-1",children:[n.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>ue(Ce),title:"Edit banner",className:"text-xs px-2 py-1",children:"Edit"}),n.jsx(tt,{variant:Ce.active?"danger":"primary",size:"sm",onClick:()=>G(Ce.id),title:Ce.active?"Deactivate banner":"Activate banner",className:"text-xs px-2 py-1",children:Ce.active?"Off":"On"}),n.jsx(tt,{variant:"danger",size:"sm",onClick:()=>ye(Ce),title:"Delete banner",className:"text-xs px-2 py-1",children:"Del"})]})})]},Ce.id)})})]})}),t.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:"No banners found. Add your first banner!"})}),n.jsx(th,{isOpen:S,onClose:()=>T(!1),onConfirm:Se,title:"Delete Banner",message:C?`Are you sure you want to delete the banner "${C.title}"? This action cannot be undone.`:"Are you sure you want to delete this banner?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:R}),ee&&n.jsx(Lae,{onImageSelect:qe,onCancel:()=>be(!1),targetDimensions:Oe(xe==="new"?V.position:v.position),cropPresets:Ye(xe==="new"?V.position:v.position),showDimensionGuide:!0})]})},Vae=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(null),{logo:l,loading:h,error:m,fetchLogo:g,uploadLogo:b,clearError:v}=VP();O.useEffect(()=>{g().catch(()=>{Re.error("Failed to fetch current logo")})},[]),O.useEffect(()=>{m&&(Re.error(m),v())},[m,v]);const k=_=>{const S=_.target.files[0];if(S){t(S);const T=new FileReader;T.onloadend=()=>{i(T.result)},T.readAsDataURL(S)}},C=async()=>{if(!r){Re.error("Please select a logo file");return}const _=new FormData;_.append("logo",r);try{await b(_),Re.success("Logo updated successfully"),t(null),i(null)}catch{}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shop Logo"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your shop's logo. This will be displayed in the header and other places."})]}),l&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),n.jsx("div",{className:"w-32 h-32 rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("img",{src:l,alt:"Current logo",className:"w-full h-full object-contain"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Upload New Logo"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo File"}),n.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"w-full p-2 border border-gray-300 rounded-md text-sm"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: PNG or JPEG, max 2MB"})]}),s&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Preview"}),n.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("img",{src:s,alt:"New logo preview",className:"w-full h-full object-contain"})})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx(tt,{variant:"primary",onClick:C,isLoading:h,disabled:!r||h,children:h?"Uploading...":"Upload New Logo"})})]})]})},Uae=()=>{const{categories:r,fetchCategories:t,addCategory:s,editCategory:i,uploadCategoryImage:l}=u6(),[h,m]=O.useState(null),[g,b]=O.useState(!1),[v,k]=O.useState({name:"",image_url:"",redirect_url:"",order:0}),[C,_]=O.useState(!1),S=O.useRef(null);O.useEffect(()=>{t()},[]);const T=async q=>{const ne=q.target.files[0];if(ne){b(!0);try{const se=await l(ne);se.success?(h?m({...h,image_url:se.imageUrl}):k({...v,image_url:se.imageUrl}),Xe.success("Image uploaded successfully")):Xe.error("Failed to upload image: "+se.message)}catch(se){console.error("Error uploading image:",se),Xe.error("Failed to upload image: "+se.message)}finally{b(!1)}}},R=q=>{m({...q}),_(!1)},P=async()=>{if(!h.name){Xe.error("Category name is required");return}const q=await i(h.id,{name:h.name,image_url:h.image_url,redirect_url:h.redirect_url||"",order:h.order||0});q.success?(Xe.success(q.message||"Category updated successfully"),m(null)):Xe.error(q.error||"Failed to update category")},V=async()=>{if(!v.name){Xe.error("Category name is required");return}const q=await s({name:v.name,image_url:v.image_url||"",redirect_url:v.redirect_url||"",order:v.order||0});q.success?(Xe.success(q.message||"Category added successfully"),k({name:"",image_url:"",redirect_url:"",order:0}),_(!1)):Xe.error(q.error||"Failed to add category")},U=async(q,ne)=>{const se=[...r.list].sort((B,Y)=>B.order-Y.order),Q=se.findIndex(B=>B.id===q.id);if(ne==="up"&&Q>0){const B=se[Q-1],Y=B.order;await i(q.id,{...q,order:Y}),await i(B.id,{...B,order:q.order}),t()}else if(ne==="down"&&Q<se.length-1){const B=se[Q+1],Y=B.order;await i(q.id,{...q,order:Y}),await i(B.id,{...B,order:q.order}),t()}},F=[...r.list||[]].sort((q,ne)=>(q.order||0)-(ne.order||0));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Categories"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(tt,{variant:"outline",onClick:()=>t(),className:"flex items-center gap-1",children:[n.jsx(Mi,{size:16})," Refresh"]}),n.jsx(tt,{variant:"primary",onClick:()=>{_(!C),m(null)},children:C?"Cancel":"Add New Category"})]})]}),C&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Add New Category"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.name,onChange:q=>k({...v,name:q.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex",children:[n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:v.image_url||"",onChange:q=>k({...v,image_url:q.target.value}),disabled:g}),n.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:T,disabled:g}),n.jsx("button",{type:"button",onClick:()=>S.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:g,children:g?n.jsx("span",{className:"flex items-center",children:n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):n.jsx(Ek,{})})]}),g&&n.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),v.image_url&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:v.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:v.redirect_url||"",onChange:q=>k({...v,redirect_url:q.target.value}),placeholder:"/products/category-name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:v.order||0,onChange:q=>k({...v,order:parseInt(q.target.value)||0}),min:"0",step:"1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(tt,{variant:"primary",onClick:V,disabled:!v.name,children:"Add Category"})})]}),h&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Edit Category"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:h.name,onChange:q=>m({...h,name:q.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex",children:[n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:h.image_url||"",onChange:q=>m({...h,image_url:q.target.value}),disabled:g}),n.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:T,disabled:g}),n.jsx("button",{type:"button",onClick:()=>S.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:g,children:g?n.jsx("span",{className:"flex items-center",children:n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):n.jsx(Ek,{})})]}),g&&n.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),h.image_url&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:h.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:h.redirect_url||"",onChange:q=>m({...h,redirect_url:q.target.value}),placeholder:"/products/category-name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:h.order||0,onChange:q=>m({...h,order:parseInt(q.target.value)||0}),min:"0",step:"1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(tt,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),n.jsx(tt,{variant:"primary",onClick:P,disabled:!h.name,children:"Save Changes"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Redirect URL"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((q,ne)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm text-gray-900 mr-3",children:q.order||0}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("button",{onClick:()=>U(q,"up"),disabled:ne===0,className:`text-gray-500 hover:text-gray-700 ${ne===0?"opacity-30":""}`,title:"Move up",children:n.jsx(v1,{size:14})}),n.jsx("button",{onClick:()=>U(q,"down"),disabled:ne===F.length-1,className:`text-gray-500 hover:text-gray-700 ${ne===F.length-1?"opacity-30":""}`,title:"Move down",children:n.jsx(x1,{size:14})})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.image_url?n.jsx("img",{src:q.image_url,alt:q.name,className:"h-10 w-10 object-cover rounded-md"}):n.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-md flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-gray-500",children:"No image"})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.redirect_url||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:n.jsx("button",{onClick:()=>R(q),className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},q.id))})]})}),r.loading&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading categories..."})}),!r.loading&&r.list.length===0&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No categories found"})}),r.error&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:r.error})})]})},Gae=un(qm((r,t)=>({footerConfig:null,loading:!1,error:null,pageContentLoading:!1,setFooterConfig:s=>r({footerConfig:s}),setLoading:s=>r({loading:s}),setError:s=>r({error:s}),clearError:()=>r({error:null}),fetchFooterConfig:async()=>{var s,i;r({loading:!0,error:null});try{const l=await Ze.get("/admin/footer/");if(l.status===200)return r({footerConfig:l.data.footer_config,loading:!1}),l.data.footer_config}catch(l){throw console.error("Error fetching footer config:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch footer configuration",loading:!1}),l}},updateFooterConfig:async s=>{var i,l;r({loading:!0,error:null});try{if((await Ze.put("/admin/footer/update/",{footer_config:s})).status===200)return r({footerConfig:s,loading:!1}),!0}catch(h){throw console.error("Error updating footer config:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update footer configuration",loading:!1}),h}},addFooterLink:async(s,i)=>{var l,h;r({loading:!0,error:null});try{const g={...t().footerConfig};if(Array.isArray(g[s])||(g[s]=[]),g[s].push(i),(await Ze.put("/admin/footer/update/",{footer_config:g})).status===200)return r({footerConfig:g,loading:!1}),!0}catch(m){throw console.error("Error adding footer link:",m),r({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to add footer link",loading:!1}),m}},deleteFooterLink:async(s,i)=>{var l,h;r({loading:!0,error:null});try{const g={...t().footerConfig};if(Array.isArray(g[s])&&g[s].splice(i,1),(await Ze.put("/admin/footer/update/",{footer_config:g})).status===200)return r({footerConfig:g,loading:!1}),!0}catch(m){throw console.error("Error deleting footer link:",m),r({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to delete footer link",loading:!1}),m}},toggleFooterSection:async(s,i)=>{var l,h;r({loading:!0,error:null});try{const g={...t().footerConfig};if(g[s]?typeof g[s]=="object"&&!Array.isArray(g[s])?g[s]={...g[s],enabled:i}:g[s]={enabled:i,...g[s]}:g[s]={enabled:i},(await Ze.put("/admin/footer/update/",{footer_config:g})).status===200)return r({footerConfig:g,loading:!1}),!0}catch(m){throw console.error("Error toggling footer section:",m),r({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to toggle footer section",loading:!1}),m}},fetchPageContent:async s=>{var i,l;r({pageContentLoading:!0,error:null});try{const h=await Ze.get(`/admin/page-content/${s.replace(/^\//,"")}/`);return r({pageContentLoading:!1}),h.data.content}catch(h){throw console.error("Error fetching page content:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to fetch page content",pageContentLoading:!1}),h}},updatePageContent:async(s,i)=>{var l,h;r({pageContentLoading:!0,error:null});try{const m=await Ze.put(`/admin/page-content/update/${s.replace(/^\//,"")}/`,{content:i});return r({pageContentLoading:!1}),m.data}catch(m){throw console.error("Error updating page content:",m),r({error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update page content",pageContentLoading:!1}),m}}}))),Hae=()=>{var le,oe,G,ue,pe,me,ye,Se,_e,qe,Oe,Ye,Be,Ce,ot;const[r,t]=O.useState({}),[s,i]=O.useState({section:"",name:"",path:"",url:"",enabled:!0}),[l,h]=O.useState(!1),[m,g]=O.useState({}),{footerConfig:b,loading:v,error:k,fetchFooterConfig:C,updateFooterConfig:_,addFooterLink:S,deleteFooterLink:T,toggleFooterSection:R,clearError:P}=Gae(),V={FaFacebookF:n.jsx(cee,{}),FaTwitter:n.jsx(jee,{}),FaInstagram:n.jsx(uee,{}),FaYoutube:n.jsx(See,{}),FaLinkedinIn:n.jsx(pee,{}),FaWhatsapp:n.jsx(jy,{})},U={quick_links:"Quick Links",customer_service_links:"Customer Service",policy_links:"Policies",know_more_links:"Know More",footer_policy_links:"Footer Policies",social_links:"Social Media"};O.useEffect(()=>{C().then(Je=>{Je&&g(Je)}).catch(()=>{Re.error("Failed to fetch footer configuration")})},[]),O.useEffect(()=>{b&&g(b)},[b]),O.useEffect(()=>{k&&(Re.error(k),P())},[k,P]);const F=async Je=>{var Lt;const nt=((Lt=b==null?void 0:b[Je])==null?void 0:Lt.enabled)||!1;try{await R(Je,!nt),Re.success("Section updated successfully")}catch{Re.error("Failed to update section")}},q=async(Je,nt)=>{const Lt={...b};Lt[Je][nt].enabled=!Lt[Je][nt].enabled;try{await _(Lt),Re.success("Link updated successfully")}catch{Re.error("Failed to update link")}},ne=(Je,nt)=>{t({section:Je,linkIndex:nt})},se=async(Je,nt,Lt)=>{const Ne={...b};Ne[Je][nt]=Lt;try{await _(Ne),t({}),Re.success("Link updated successfully")}catch{Re.error("Failed to update link")}},Q=async(Je,nt)=>{if(window.confirm("Are you sure you want to delete this link?"))try{await T(Je,nt),Re.success("Link deleted successfully")}catch{Re.error("Failed to delete link")}},B=async()=>{if(!s.section||!s.name){Re.error("Section and name are required");return}try{await S(s.section,{name:s.name,path:s.path,url:s.url,enabled:s.enabled}),i({section:"",name:"",path:"",url:"",enabled:!0}),h(!1),Re.success("Link added successfully")}catch{Re.error("Failed to add link")}},Y=(Je,nt)=>{g({...m,company_info:{...m.company_info,[Je]:nt}})},J=async()=>{try{const Je={...b,company_info:m.company_info};await _(Je),Re.success("Company information updated successfully")}catch{Re.error("Failed to update company info")}},K=(Je,nt)=>{g({...m,contact_info:{...m.contact_info,[Je]:nt}})},Z=async()=>{try{const Je={...b,contact_info:m.contact_info};await _(Je),Re.success("Contact information updated successfully")}catch{Re.error("Failed to update contact info")}},ee=(Je,nt)=>{g({...m,whatsapp:{...m.whatsapp,[Je]:nt}})},be=async()=>{try{const Je={...b,whatsapp:m.whatsapp};await _(Je),Re.success("WhatsApp settings updated successfully")}catch{Re.error("Failed to update WhatsApp settings")}},xe=(Je,nt)=>{g({...m,copyright:{...m.copyright,[Je]:nt}})},ie=async()=>{try{const Je={...b,copyright:m.copyright};await _(Je),Re.success("Copyright settings updated successfully")}catch{Re.error("Failed to update copyright settings")}},ae=(Je,nt,Lt)=>r.section===Je&&r.linkIndex===nt?n.jsx(qae,{link:Lt,section:Je,linkIndex:nt,onSave:se,onCancel:()=>t({})}):n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[Je==="social_links"&&V[Lt.icon]&&n.jsx("span",{className:"text-lg",children:V[Lt.icon]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:Lt.name}),n.jsx("p",{className:"text-xs text-gray-500",children:Lt.path||Lt.url||"No URL"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>q(Je,nt),className:"p-1 rounded-full hover:bg-gray-100",children:Lt.enabled?n.jsx(_i,{className:"text-green-500",size:20}):n.jsx(Ci,{className:"text-gray-400",size:20})}),n.jsx("button",{onClick:()=>ne(Je,nt),className:"p-1 rounded-full hover:bg-gray-100 text-blue-600",children:n.jsx(Zm,{size:16})}),n.jsx("button",{onClick:()=>Q(Je,nt),className:"p-1 rounded-full hover:bg-gray-100 text-red-600",children:n.jsx(cn,{size:16})})]})]});return v?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):k?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[n.jsx("p",{className:"text-red-800",children:k}),n.jsx("button",{onClick:()=>{P(),C()},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"Try again"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[" ",n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Footer Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(tt,{variant:"outline",onClick:()=>C(),className:"flex items-center gap-1",children:[n.jsx(Mi,{size:16})," Refresh"]}),n.jsx(tt,{variant:"primary",onClick:()=>h(!0),children:"Add Link"})]})]})," ",n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Company Information"}),n.jsx("button",{onClick:()=>F("company_info"),className:"flex items-center space-x-2",children:(le=b==null?void 0:b.company_info)!=null&&le.enabled?n.jsx(_i,{className:"text-green-500",size:24}):n.jsx(Ci,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"})," ",n.jsx("textarea",{value:((oe=m==null?void 0:m.company_info)==null?void 0:oe.description)||"",onChange:Je=>Y("description",Je.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Company description..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"})," ",n.jsx("input",{type:"url",value:((G=m==null?void 0:m.company_info)==null?void 0:G.logo_url)||"",onChange:Je=>Y("logo_url",Je.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://example.com/logo.png"})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(tt,{variant:"primary",onClick:J,children:"Save Changes"})})]})]})," ",n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Contact Information"}),n.jsx("button",{onClick:()=>F("contact_info"),className:"flex items-center space-x-2",children:(ue=b==null?void 0:b.contact_info)!=null&&ue.enabled?n.jsx(_i,{className:"text-green-500",size:24}):n.jsx(Ci,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"})," ",n.jsx("input",{type:"tel",value:((pe=m==null?void 0:m.contact_info)==null?void 0:pe.phone)||"",onChange:Je=>K("phone",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"1800-123-4567"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"})," ",n.jsx("input",{type:"email",value:((me=m==null?void 0:m.contact_info)==null?void 0:me.email)||"",onChange:Je=>K("email",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"info@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"})," ",n.jsx("textarea",{value:((ye=m==null?void 0:m.contact_info)==null?void 0:ye.address)||"",onChange:Je=>K("address",Je.target.value),className:"w-full p-3 border rounded-md",rows:"2",placeholder:"Business address..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Hours"})," ",n.jsx("input",{type:"text",value:((Se=m==null?void 0:m.contact_info)==null?void 0:Se.hours)||"",onChange:Je=>K("hours",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"Mon-Sat: 10:00 AM - 8:00 PM"})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(tt,{variant:"primary",onClick:Z,children:"Save Changes"})})]})]})," ",n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"WhatsApp Settings"}),n.jsx("button",{onClick:()=>F("whatsapp"),className:"flex items-center space-x-2",children:(_e=b==null?void 0:b.whatsapp)!=null&&_e.enabled?n.jsx(_i,{className:"text-green-500",size:24}):n.jsx(Ci,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"})," ",n.jsx("input",{type:"tel",value:((qe=m==null?void 0:m.whatsapp)==null?void 0:qe.number)||"",onChange:Je=>ee("number",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"1234567890"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Channel URL"})," ",n.jsx("input",{type:"url",value:((Oe=m==null?void 0:m.whatsapp)==null?void 0:Oe.channel_url)||"",onChange:Je=>ee("channel_url",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"https://whatsapp.com/channel/..."})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(tt,{variant:"primary",onClick:be,children:"Save Changes"})})]})]})," ",n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Copyright Settings"}),n.jsx("button",{onClick:()=>F("copyright"),className:"flex items-center space-x-2",children:(Ye=b==null?void 0:b.copyright)!=null&&Ye.enabled?n.jsx(_i,{className:"text-green-500",size:24}):n.jsx(Ci,{className:"text-gray-400",size:24})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Copyright Text"})," ",n.jsx("input",{type:"text",value:((Be=m==null?void 0:m.copyright)==null?void 0:Be.text)||"",onChange:Je=>xe("text",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"Copyright  Company Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer Name"})," ",n.jsx("input",{type:"text",value:((Ce=m==null?void 0:m.copyright)==null?void 0:Ce.developer_name)||"",onChange:Je=>xe("developer_name",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"Developer Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer URL"})," ",n.jsx("input",{type:"url",value:((ot=m==null?void 0:m.copyright)==null?void 0:ot.developer_url)||"",onChange:Je=>xe("developer_url",Je.target.value),className:"w-full p-3 border rounded-md",placeholder:"https://developer-website.com"})]})," ",n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(tt,{variant:"primary",onClick:ie,children:"Save Changes"})})]})]}),Object.entries(U).map(([Je,nt])=>{const Lt=(b==null?void 0:b[Je])||[];return n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:nt}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[Lt.length," links"]})})]}),n.jsxs("div",{className:"space-y-3",children:[Lt.map((Ne,at)=>ae(Je,at,Ne)),Lt.length===0&&n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No links in this section. Add some links to get started."})]})]},Je)}),l&&n.jsx(Yae,{newLinkForm:s,setNewLinkForm:i,onSubmit:B,onClose:()=>h(!1),sectionTitles:U})]})},qae=({link:r,section:t,linkIndex:s,onSave:i,onCancel:l})=>{const[h,m]=O.useState({name:r.name||"",path:r.path||"",url:r.url||"",icon:r.icon||"",enabled:r.enabled!==void 0?r.enabled:!0}),g=async b=>{b.preventDefault();try{await i(t,s,h)}catch(v){console.error("Error saving link:",v),Re.error("Failed to save link")}};return n.jsxs("form",{onSubmit:g,className:"p-4 border rounded-md bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:h.name,onChange:b=>m({...h,name:b.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),t==="social_links"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),n.jsxs("select",{value:h.icon,onChange:b=>m({...h,icon:b.target.value}),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:"",children:"Select Icon"}),n.jsx("option",{value:"FaFacebookF",children:"Facebook"}),n.jsx("option",{value:"FaTwitter",children:"Twitter"}),n.jsx("option",{value:"FaInstagram",children:"Instagram"}),n.jsx("option",{value:"FaYoutube",children:"YouTube"}),n.jsx("option",{value:"FaLinkedinIn",children:"LinkedIn"}),n.jsx("option",{value:"FaWhatsapp",children:"WhatsApp"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Path"}),n.jsx("input",{type:"text",value:h.path,onChange:b=>m({...h,path:b.target.value}),className:"w-full p-2 border rounded-md",placeholder:"/page-path"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"External URL"}),n.jsx("input",{type:"url",value:h.url,onChange:b=>m({...h,url:b.target.value}),className:"w-full p-2 border rounded-md",placeholder:"https://example.com"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:h.enabled,onChange:b=>m({...h,enabled:b.target.checked})}),n.jsx("span",{className:"text-sm",children:"Enabled"})]})," ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(tt,{type:"button",variant:"outline",onClick:l,children:n.jsx(qt,{size:16})}),n.jsx(tt,{type:"submit",variant:"primary",children:n.jsx(Gm,{size:16})})]})]})]})},Yae=({newLinkForm:r,setNewLinkForm:t,onSubmit:s,onClose:i,sectionTitles:l})=>{const h=m=>{m.preventDefault(),s()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Add New Link"}),n.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-gray-100",children:n.jsx(qt,{size:20})})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),n.jsxs("select",{value:r.section,onChange:m=>t({...r,section:m.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),Object.entries(l).map(([m,g])=>n.jsx("option",{value:m,children:g},m))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:r.name,onChange:m=>t({...r,name:m.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Path"}),n.jsx("input",{type:"text",value:r.path,onChange:m=>t({...r,path:m.target.value}),className:"w-full p-2 border rounded-md",placeholder:"/page-path"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"External URL"}),n.jsx("input",{type:"url",value:r.url,onChange:m=>t({...r,url:m.target.value}),className:"w-full p-2 border rounded-md",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:r.enabled,onChange:m=>t({...r,enabled:m.target.checked})}),n.jsx("label",{className:"text-sm",children:"Enabled"})]})," ",n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(tt,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),n.jsx(tt,{type:"submit",variant:"primary",children:"Add Link"})]})]})]})})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Wae(){const r={resolve:null,promise:null};return r.promise=new Promise(t=>{r.resolve=t}),r}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Kae(r){let t=null;return(...s)=>(t||(t={current:r(...s)}),t.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const lo=new Array(256).fill("").map((r,t)=>("0"+t.toString(16)).slice(-2));function Qae(){const[r,t,s,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+lo[r>>0&255]+lo[r>>8&255]+lo[r>>16&255]+lo[r>>24&255]+lo[t>>0&255]+lo[t>>8&255]+lo[t>>16&255]+lo[t>>24&255]+lo[s>>0&255]+lo[s>>8&255]+lo[s>>16&255]+lo[s>>24&255]+lo[i>>0&255]+lo[i>>8&255]+lo[i>>16&255]+lo[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Jae(r,t){const s=r.extraPlugins||[];return{...r,extraPlugins:[...s,...t.filter(i=>!s.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function C6(r){return!!r&&/^\d+\.\d+\.\d+/.test(r)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _6(r){return r?["nightly","alpha","internal","nightly-","staging"].some(t=>r.includes(t)):!1}function Xae(r){return C6(r)||_6(r)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $ae(r){if(!C6(r))throw new Error(`Invalid semantic version: ${r||"<blank>"}.`);const[t,s,i]=r.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(s,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zae(r){if(_6(r))return 3;const{major:t}=$ae(r);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ele(){const{CKEDITOR_VERSION:r,CKEDITOR:t}=window;return Xae(r)?{source:t?"cdn":"npm",version:r}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tle(){const r=ele();return r?Zae(r.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function A6(r,t){switch(t||(t=tle()||void 0),t){case 1:case 2:return r===void 0;case 3:return r==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rle(r,t){return function(i){A6(i.config.get("licenseKey"))||i.on("collectUsageData",(l,{setUsageData:h})=>{h(`integration.${r}`,t)})}}var nle=Object.defineProperty,sle=(r,t,s)=>t in r?nle(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,Ko=(r,t,s)=>sle(r,typeof t!="symbol"?t+"":t,s);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const N6=class j6{constructor(t,s){Ko(this,"_lifecycle"),Ko(this,"_element"),Ko(this,"_releaseLock",null),Ko(this,"_value",null),Ko(this,"_afterMountCallbacks",[]),Ko(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Ko(this,"release",Kae(()=>{const{_releaseLock:i,_state:l,_element:h,_lifecycle:m}=this;l.mountingInProgress?l.mountingInProgress.then(()=>m.unmount({element:h,mountResult:this.value})).catch(g=>{console.error("Semaphore unmounting error:",g)}).then(i.resolve).then(()=>{this._value=null}):(l.destroyedBeforeInitialization=!0,i.resolve())})),this._element=t,this._lifecycle=s,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(s=>s(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:s,_afterMountCallbacks:i}=this;s?t(s):i.push(t)}_lock(){const{_semaphores:t}=j6,{_state:s,_element:i,_lifecycle:l}=this,h=t.get(i)||Promise.resolve(null),m=Wae();this._releaseLock=m;const g=h.then(()=>s.destroyedBeforeInitialization?Promise.resolve(void 0):(s.mountingInProgress=l.mount().then(b=>(b&&this.unsafeSetValue(b),b)),s.mountingInProgress)).then(async b=>{b&&l.afterMount&&await l.afterMount({element:i,mountResult:b})}).then(()=>m.promise).catch(b=>{console.error("Semaphore mounting error:",b)}).then(()=>{t.get(i)===g&&t.delete(i)});t.set(i,g)}};Ko(N6,"_semaphores",new Map);let ole=N6;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ile="$__CKEditorReactContextMetadata";function ale(r,t){return{...t,[ile]:r}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const lle=mt.createContext(null),cle=r=>!!r&&typeof r=="object"&&"status"in r&&["initializing","initialized","error"].includes(r.status),S6=r=>t=>cle(t)&&t.status===r,TR=S6("initializing"),dle=r=>S6("initialized")(r)&&r.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ule=rle("react",{version:"9.5.0",frameworkVersion:mt.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hle(r){return A6(r.licenseKey)?r:Jae(r,[ule])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const iA="Lock from React integration (@ckeditor/ckeditor5-react)";class E6 extends mt.Component{constructor(t){super(t),Ko(this,"domContainer",mt.createRef()),Ko(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[s]=t.split(".").map(Number);s>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:s,editorSemaphore:i}=this;return t.id!==s.id||t.disableWatchdog!==s.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:l})=>{this._shouldUpdateEditorData(s,t,l)&&l.data.set(t.data)}),"disabled"in t&&i.runAfterMount(({instance:l})=>{t.disabled?l.enableReadOnlyMode(iA):l.disableReadOnlyMode(iA)})),!1)}componentDidMount(){TR(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){TR(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new ole(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:s}=this.props;s&&this.domContainer.current!==null&&s(t.instance)},unmount:async({element:t,mountResult:s})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(s),t.innerHTML=""}finally{i&&i(s.instance)}}})}render(){return mt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=dle(this.context)?new mle(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),s={current:0};return t.setCreator(async(i,l)=>{var h;const{editorSemaphore:m}=this,{onAfterDestroy:g}=this.props;s.current>0&&g&&((h=m==null?void 0:m.value)!=null&&h.instance)&&g(m.value.instance);const b=await this._createEditor(i,l);return m&&s.current>0&&(m.unsafeSetValue({instance:b,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),s.current++,b}),t.on("error",(i,{error:l,causesRestart:h})=>{(this.props.onError||console.error)(l,{phase:"runtime",willEditorRestart:h})}),await t.create(this.domContainer.current,this._getConfig()).catch(i=>{(this.props.onError||console.error)(i,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,s){const{contextItemMetadata:i}=this.props;return i&&(s=ale(i,s)),this.props.editor.create(t,hle(s)).then(l=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&l.enableReadOnlyMode(iA)}const h=l.model.document,m=l.editing.view.document;return h.on("change:data",g=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(g,l)}),m.on("focus",g=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(g,l)}),m.on("blur",g=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(g,l)}),l})}async _destroyEditor(t){const{watchdog:s,instance:i}=t;return new Promise((l,h)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(s)return await s.destroy(),l();if(i)return await i.destroy(),l();l()}catch(m){console.error(m),h(m)}})})}_shouldUpdateEditorData(t,s,i){return!(t.data===s.data||i.data.get()===s.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}Ko(E6,"contextType",lle);class mle{constructor(t){Ko(this,"_contextWatchdog"),Ko(this,"_id"),Ko(this,"_creator"),this._contextWatchdog=t,this._id=Qae()}setCreator(t){this._creator=t}create(t,s){return this._contextWatchdog.add({sourceElementOrData:t,config:s,creator:this._creator,id:this._id,type:"editor"})}on(t,s){this._contextWatchdog.on("itemError",(i,{itemId:l,error:h})=>{l===this._id&&s(null,{error:h,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function D6(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}const ple=O.memo(O.forwardRef(({id:r,semaphore:t,rootName:s},i)=>{const l=O.useRef(null);return O.useEffect(()=>{let h,m;return t.runAfterMount(({instance:g})=>{if(!l.current)return;m=g;const{ui:b,model:v}=m,k=v.document.getRoot(s);k&&m.ui.getEditableElement(s)&&m.detachEditable(k),h=b.view.createEditable(s,l.current),b.addEditable(h),g.editing.view.forceRender()}),()=>{if(m&&m.state!=="destroyed"&&l.current){const g=m.model.document.getRoot(s);/* istanbul ignore else -- @preserve */g&&m.detachEditable(g)}}},[t.revision]),mt.createElement("div",{key:t.revision,id:r,ref:D6(i,l)})}));ple.displayName="EditorEditable";const fle=O.forwardRef(({editor:r},t)=>{const s=O.useRef(null);return O.useEffect(()=>{const i=s.current;if(!r||!i)return;const l=r.ui.view.toolbar.element;return i.appendChild(l),()=>{i.contains(l)&&i.removeChild(l)}},[r&&r.id]),mt.createElement("div",{ref:D6(s,t)})});fle.displayName="EditorToolbarWrapper";var Sy={exports:{}};Sy.exports;var IR;function gle(){return IR||(IR=1,function(r,t){(function(s){const i=s.en=s.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(s,i){r.exports=i()}(self,()=>(()=>{var s={4959:(m,g,b)=>{const v=b(1103),k={};for(const _ of Object.keys(v))k[v[_]]=_;const C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};m.exports=C;for(const _ of Object.keys(C)){if(!("channels"in C[_]))throw new Error("missing channels property: "+_);if(!("labels"in C[_]))throw new Error("missing channel labels property: "+_);if(C[_].labels.length!==C[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:S,labels:T}=C[_];delete C[_].channels,delete C[_].labels,Object.defineProperty(C[_],"channels",{value:S}),Object.defineProperty(C[_],"labels",{value:T})}C.rgb.hsl=function(_){const S=_[0]/255,T=_[1]/255,R=_[2]/255,P=Math.min(S,T,R),V=Math.max(S,T,R),U=V-P;let F,q;V===P?F=0:S===V?F=(T-R)/U:T===V?F=2+(R-S)/U:R===V&&(F=4+(S-T)/U),F=Math.min(60*F,360),F<0&&(F+=360);const ne=(P+V)/2;return q=V===P?0:ne<=.5?U/(V+P):U/(2-V-P),[F,100*q,100*ne]},C.rgb.hsv=function(_){let S,T,R,P,V;const U=_[0]/255,F=_[1]/255,q=_[2]/255,ne=Math.max(U,F,q),se=ne-Math.min(U,F,q),Q=function(B){return(ne-B)/6/se+.5};return se===0?(P=0,V=0):(V=se/ne,S=Q(U),T=Q(F),R=Q(q),U===ne?P=R-T:F===ne?P=.3333333333333333+S-R:q===ne&&(P=.6666666666666666+T-S),P<0?P+=1:P>1&&(P-=1)),[360*P,100*V,100*ne]},C.rgb.hwb=function(_){const S=_[0],T=_[1];let R=_[2];const P=C.rgb.hsl(_)[0],V=1/255*Math.min(S,Math.min(T,R));return R=1-.00392156862745098*Math.max(S,Math.max(T,R)),[P,100*V,100*R]},C.rgb.cmyk=function(_){const S=_[0]/255,T=_[1]/255,R=_[2]/255,P=Math.min(1-S,1-T,1-R);return[100*((1-S-P)/(1-P)||0),100*((1-T-P)/(1-P)||0),100*((1-R-P)/(1-P)||0),100*P]},C.rgb.keyword=function(_){const S=k[_];if(S)return S;let T,R=1/0;for(const U of Object.keys(v)){const F=v[U],q=(V=F,((P=_)[0]-V[0])**2+(P[1]-V[1])**2+(P[2]-V[2])**2);q<R&&(R=q,T=U)}var P,V;return T},C.keyword.rgb=function(_){return v[_]},C.rgb.xyz=function(_){let S=_[0]/255,T=_[1]/255,R=_[2]/255;return S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,R=R>.04045?((R+.055)/1.055)**2.4:R/12.92,[100*(.4124*S+.3576*T+.1805*R),100*(.2126*S+.7152*T+.0722*R),100*(.0193*S+.1192*T+.9505*R)]},C.rgb.lab=function(_){const S=C.rgb.xyz(_);let T=S[0],R=S[1],P=S[2];return T/=95.047,R/=100,P/=108.883,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,[116*R-16,500*(T-R),200*(R-P)]},C.hsl.rgb=function(_){const S=_[0]/360,T=_[1]/100,R=_[2]/100;let P,V,U;if(T===0)return U=255*R,[U,U,U];P=R<.5?R*(1+T):R+T-R*T;const F=2*R-P,q=[0,0,0];for(let ne=0;ne<3;ne++)V=S+.3333333333333333*-(ne-1),V<0&&V++,V>1&&V--,U=6*V<1?F+6*(P-F)*V:2*V<1?P:3*V<2?F+(P-F)*(.6666666666666666-V)*6:F,q[ne]=255*U;return q},C.hsl.hsv=function(_){const S=_[0];let T=_[1]/100,R=_[2]/100,P=T;const V=Math.max(R,.01);return R*=2,T*=R<=1?R:2-R,P*=V<=1?V:2-V,[S,100*(R===0?2*P/(V+P):2*T/(R+T)),100*((R+T)/2)]},C.hsv.rgb=function(_){const S=_[0]/60,T=_[1]/100;let R=_[2]/100;const P=Math.floor(S)%6,V=S-Math.floor(S),U=255*R*(1-T),F=255*R*(1-T*V),q=255*R*(1-T*(1-V));switch(R*=255,P){case 0:return[R,q,U];case 1:return[F,R,U];case 2:return[U,R,q];case 3:return[U,F,R];case 4:return[q,U,R];case 5:return[R,U,F]}},C.hsv.hsl=function(_){const S=_[0],T=_[1]/100,R=_[2]/100,P=Math.max(R,.01);let V,U;U=(2-T)*R;const F=(2-T)*P;return V=T*P,V/=F<=1?F:2-F,V=V||0,U/=2,[S,100*V,100*U]},C.hwb.rgb=function(_){const S=_[0]/360;let T=_[1]/100,R=_[2]/100;const P=T+R;let V;P>1&&(T/=P,R/=P);const U=Math.floor(6*S),F=1-R;V=6*S-U,(1&U)!=0&&(V=1-V);const q=T+V*(F-T);let ne,se,Q;switch(U){default:case 6:case 0:ne=F,se=q,Q=T;break;case 1:ne=q,se=F,Q=T;break;case 2:ne=T,se=F,Q=q;break;case 3:ne=T,se=q,Q=F;break;case 4:ne=q,se=T,Q=F;break;case 5:ne=F,se=T,Q=q}return[255*ne,255*se,255*Q]},C.cmyk.rgb=function(_){const S=_[0]/100,T=_[1]/100,R=_[2]/100,P=_[3]/100;return[255*(1-Math.min(1,S*(1-P)+P)),255*(1-Math.min(1,T*(1-P)+P)),255*(1-Math.min(1,R*(1-P)+P))]},C.xyz.rgb=function(_){const S=_[0]/100,T=_[1]/100,R=_[2]/100;let P,V,U;return P=3.2406*S+-1.5372*T+-.4986*R,V=-.9689*S+1.8758*T+.0415*R,U=.0557*S+-.204*T+1.057*R,P=P>.0031308?1.055*P**.4166666666666667-.055:12.92*P,V=V>.0031308?1.055*V**.4166666666666667-.055:12.92*V,U=U>.0031308?1.055*U**.4166666666666667-.055:12.92*U,P=Math.min(Math.max(0,P),1),V=Math.min(Math.max(0,V),1),U=Math.min(Math.max(0,U),1),[255*P,255*V,255*U]},C.xyz.lab=function(_){let S=_[0],T=_[1],R=_[2];return S/=95.047,T/=100,R/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,[116*T-16,500*(S-T),200*(T-R)]},C.lab.xyz=function(_){let S,T,R;T=(_[0]+16)/116,S=_[1]/500+T,R=T-_[2]/200;const P=T**3,V=S**3,U=R**3;return T=P>.008856?P:(T-.13793103448275862)/7.787,S=V>.008856?V:(S-.13793103448275862)/7.787,R=U>.008856?U:(R-.13793103448275862)/7.787,S*=95.047,T*=100,R*=108.883,[S,T,R]},C.lab.lch=function(_){const S=_[0],T=_[1],R=_[2];let P;return P=360*Math.atan2(R,T)/2/Math.PI,P<0&&(P+=360),[S,Math.sqrt(T*T+R*R),P]},C.lch.lab=function(_){const S=_[0],T=_[1],R=_[2]/360*2*Math.PI;return[S,T*Math.cos(R),T*Math.sin(R)]},C.rgb.ansi16=function(_,S=null){const[T,R,P]=_;let V=S===null?C.rgb.hsv(_)[2]:S;if(V=Math.round(V/50),V===0)return 30;let U=30+(Math.round(P/255)<<2|Math.round(R/255)<<1|Math.round(T/255));return V===2&&(U+=60),U},C.hsv.ansi16=function(_){return C.rgb.ansi16(C.hsv.rgb(_),_[2])},C.rgb.ansi256=function(_){const S=_[0],T=_[1],R=_[2];return S===T&&T===R?S<8?16:S>248?231:Math.round((S-8)/247*24)+232:16+36*Math.round(S/255*5)+6*Math.round(T/255*5)+Math.round(R/255*5)},C.ansi16.rgb=function(_){let S=_%10;if(S===0||S===7)return _>50&&(S+=3.5),S=S/10.5*255,[S,S,S];const T=.5*(1+~~(_>50));return[(1&S)*T*255,(S>>1&1)*T*255,(S>>2&1)*T*255]},C.ansi256.rgb=function(_){if(_>=232){const T=10*(_-232)+8;return[T,T,T]}let S;return _-=16,[Math.floor(_/36)/5*255,Math.floor((S=_%36)/6)/5*255,S%6/5*255]},C.rgb.hex=function(_){const S=(((255&Math.round(_[0]))<<16)+((255&Math.round(_[1]))<<8)+(255&Math.round(_[2]))).toString(16).toUpperCase();return"000000".substring(S.length)+S},C.hex.rgb=function(_){const S=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!S)return[0,0,0];let T=S[0];S[0].length===3&&(T=T.split("").map(P=>P+P).join(""));const R=parseInt(T,16);return[R>>16&255,R>>8&255,255&R]},C.rgb.hcg=function(_){const S=_[0]/255,T=_[1]/255,R=_[2]/255,P=Math.max(Math.max(S,T),R),V=Math.min(Math.min(S,T),R),U=P-V;let F,q;return F=U<1?V/(1-U):0,q=U<=0?0:P===S?(T-R)/U%6:P===T?2+(R-S)/U:4+(S-T)/U,q/=6,q%=1,[360*q,100*U,100*F]},C.hsl.hcg=function(_){const S=_[1]/100,T=_[2]/100,R=T<.5?2*S*T:2*S*(1-T);let P=0;return R<1&&(P=(T-.5*R)/(1-R)),[_[0],100*R,100*P]},C.hsv.hcg=function(_){const S=_[1]/100,T=_[2]/100,R=S*T;let P=0;return R<1&&(P=(T-R)/(1-R)),[_[0],100*R,100*P]},C.hcg.rgb=function(_){const S=_[0]/360,T=_[1]/100,R=_[2]/100;if(T===0)return[255*R,255*R,255*R];const P=[0,0,0],V=S%1*6,U=V%1,F=1-U;let q=0;switch(Math.floor(V)){case 0:P[0]=1,P[1]=U,P[2]=0;break;case 1:P[0]=F,P[1]=1,P[2]=0;break;case 2:P[0]=0,P[1]=1,P[2]=U;break;case 3:P[0]=0,P[1]=F,P[2]=1;break;case 4:P[0]=U,P[1]=0,P[2]=1;break;default:P[0]=1,P[1]=0,P[2]=F}return q=(1-T)*R,[255*(T*P[0]+q),255*(T*P[1]+q),255*(T*P[2]+q)]},C.hcg.hsv=function(_){const S=_[1]/100,T=S+_[2]/100*(1-S);let R=0;return T>0&&(R=S/T),[_[0],100*R,100*T]},C.hcg.hsl=function(_){const S=_[1]/100,T=_[2]/100*(1-S)+.5*S;let R=0;return T>0&&T<.5?R=S/(2*T):T>=.5&&T<1&&(R=S/(2*(1-T))),[_[0],100*R,100*T]},C.hcg.hwb=function(_){const S=_[1]/100,T=S+_[2]/100*(1-S);return[_[0],100*(T-S),100*(1-T)]},C.hwb.hcg=function(_){const S=_[1]/100,T=1-_[2]/100,R=T-S;let P=0;return R<1&&(P=(T-R)/(1-R)),[_[0],100*R,100*P]},C.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},C.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},C.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},C.gray.hsl=function(_){return[0,0,_[0]]},C.gray.hsv=C.gray.hsl,C.gray.hwb=function(_){return[0,100,_[0]]},C.gray.cmyk=function(_){return[0,0,0,_[0]]},C.gray.lab=function(_){return[_[0],0,0]},C.gray.hex=function(_){const S=255&Math.round(_[0]/100*255),T=((S<<16)+(S<<8)+S).toString(16).toUpperCase();return"000000".substring(T.length)+T},C.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},841:(m,g,b)=>{const v=b(4959),k=b(9325),C={};Object.keys(v).forEach(_=>{C[_]={},Object.defineProperty(C[_],"channels",{value:v[_].channels}),Object.defineProperty(C[_],"labels",{value:v[_].labels});const S=k(_);Object.keys(S).forEach(T=>{const R=S[T];C[_][T]=function(P){const V=function(...U){const F=U[0];if(F==null)return F;F.length>1&&(U=F);const q=P(U);if(typeof q=="object")for(let ne=q.length,se=0;se<ne;se++)q[se]=Math.round(q[se]);return q};return"conversion"in P&&(V.conversion=P.conversion),V}(R),C[_][T].raw=function(P){const V=function(...U){const F=U[0];return F==null?F:(F.length>1&&(U=F),P(U))};return"conversion"in P&&(V.conversion=P.conversion),V}(R)})}),m.exports=C},9325:(m,g,b)=>{const v=b(4959);function k(S){const T=function(){const P={},V=Object.keys(v);for(let U=V.length,F=0;F<U;F++)P[V[F]]={distance:-1,parent:null};return P}(),R=[S];for(T[S].distance=0;R.length;){const P=R.pop(),V=Object.keys(v[P]);for(let U=V.length,F=0;F<U;F++){const q=V[F],ne=T[q];ne.distance===-1&&(ne.distance=T[P].distance+1,ne.parent=P,R.unshift(q))}}return T}function C(S,T){return function(R){return T(S(R))}}function _(S,T){const R=[T[S].parent,S];let P=v[T[S].parent][S],V=T[S].parent;for(;T[V].parent;)R.unshift(T[V].parent),P=C(v[T[V].parent][V],P),V=T[V].parent;return P.conversion=R,P}m.exports=function(S){const T=k(S),R={},P=Object.keys(T);for(let V=P.length,U=0;U<V;U++){const F=P[U];T[F].parent!==null&&(R[F]=_(F,T))}return R}},1103:m=>{m.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const S=_},3062:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const S=_},903:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const S=_},3143:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},4717:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const S=_},9315:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const S=_},8733:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const S=_},3508:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const S=_},2640:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const S=_},3535:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const S=_},1568:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const S=_},6270:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const S=_},5083:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4036:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const S=_},3773:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const S=_},3689:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const S=_},1905:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},9773:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const S=_},2347:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},7754:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},111:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const S=_},4721:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const S=_},5730:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const S=_},4564:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},6082:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const S=_},2417:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const S=_},1199:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const S=_},4652:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const S=_},7442:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},9292:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7368:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},4070:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},9247:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const S=_},1613:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const S=_},6306:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const S=_},2128:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const S=_},5087:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4101:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const S=_},3881:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const S=_},6237:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7341:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},6945:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4906:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=_},5332:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=_},6781:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const S=_},3398:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const S=_},4157:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const S=_},5485:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},3949:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7686:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},7339:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const S=_},9688:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},8847:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const S=_},6574:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},4879:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},3662:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const S=_},2577:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},1046:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},8793:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},4650:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const S=_},7676:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},5868:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},6764:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=_},9695:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const S=_},5542:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=_},3332:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const S=_},4793:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const S=_},3488:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=_},8506:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const S=_},4921:(m,g,b)=>{b.d(g,{Z:()=>S});var v=b(1799),k=b.n(v),C=b(2609),_=b.n(C)()(k());_.push([m.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const S=_},2609:m=>{m.exports=function(g){var b=[];return b.toString=function(){return this.map(function(v){var k=g(v);return v[2]?"@media ".concat(v[2]," {").concat(k,"}"):k}).join("")},b.i=function(v,k,C){typeof v=="string"&&(v=[[null,v,""]]);var _={};if(C)for(var S=0;S<this.length;S++){var T=this[S][0];T!=null&&(_[T]=!0)}for(var R=0;R<v.length;R++){var P=[].concat(v[R]);C&&_[P[0]]||(k&&(P[2]?P[2]="".concat(k," and ").concat(P[2]):P[2]=k),b.push(P))}},b}},1799:m=>{function g(v,k){return function(C){if(Array.isArray(C))return C}(v)||function(C,_){var S=C&&(typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"]);if(S!=null){var T,R,P=[],V=!0,U=!1;try{for(S=S.call(C);!(V=(T=S.next()).done)&&(P.push(T.value),!_||P.length!==_);V=!0);}catch(F){U=!0,R=F}finally{try{V||S.return==null||S.return()}finally{if(U)throw R}}return P}}(v,k)||function(C,_){if(C){if(typeof C=="string")return b(C,_);var S=Object.prototype.toString.call(C).slice(8,-1);if(S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set")return Array.from(C);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return b(C,_)}}(v,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(v,k){(k==null||k>v.length)&&(k=v.length);for(var C=0,_=new Array(k);C<k;C++)_[C]=v[C];return _}m.exports=function(v){var k=g(v,4),C=k[1],_=k[3];if(!_)return C;if(typeof btoa=="function"){var S=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),T="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),R="/*# ".concat(T," */"),P=_.sources.map(function(V){return"/*# sourceURL=".concat(_.sourceRoot||"").concat(V," */")});return[C].concat(P).concat([R]).join(`
`)}return[C].join(`
`)}},6062:(m,g,b)=>{var v,k=function(){return v===void 0&&(v=!!(window&&document&&document.all&&!window.atob)),v},C=function(){var Q={};return function(B){if(Q[B]===void 0){var Y=document.querySelector(B);if(window.HTMLIFrameElement&&Y instanceof window.HTMLIFrameElement)try{Y=Y.contentDocument.head}catch{Y=null}Q[B]=Y}return Q[B]}}(),_=[];function S(Q){for(var B=-1,Y=0;Y<_.length;Y++)if(_[Y].identifier===Q){B=Y;break}return B}function T(Q,B){for(var Y={},J=[],K=0;K<Q.length;K++){var Z=Q[K],ee=B.base?Z[0]+B.base:Z[0],be=Y[ee]||0,xe="".concat(ee," ").concat(be);Y[ee]=be+1;var ie=S(xe),ae={css:Z[1],media:Z[2],sourceMap:Z[3]};ie!==-1?(_[ie].references++,_[ie].updater(ae)):_.push({identifier:xe,updater:se(ae,B),references:1}),J.push(xe)}return J}function R(Q){var B=document.createElement("style"),Y=Q.attributes||{};if(Y.nonce===void 0){var J=b.nc;J&&(Y.nonce=J)}if(Object.keys(Y).forEach(function(Z){B.setAttribute(Z,Y[Z])}),typeof Q.insert=="function")Q.insert(B);else{var K=C(Q.insert||"head");if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");K.appendChild(B)}return B}var P,V=(P=[],function(Q,B){return P[Q]=B,P.filter(Boolean).join(`
`)});function U(Q,B,Y,J){var K=Y?"":J.media?"@media ".concat(J.media," {").concat(J.css,"}"):J.css;if(Q.styleSheet)Q.styleSheet.cssText=V(B,K);else{var Z=document.createTextNode(K),ee=Q.childNodes;ee[B]&&Q.removeChild(ee[B]),ee.length?Q.insertBefore(Z,ee[B]):Q.appendChild(Z)}}function F(Q,B,Y){var J=Y.css,K=Y.media,Z=Y.sourceMap;if(K?Q.setAttribute("media",K):Q.removeAttribute("media"),Z&&typeof btoa<"u"&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Z))))," */")),Q.styleSheet)Q.styleSheet.cssText=J;else{for(;Q.firstChild;)Q.removeChild(Q.firstChild);Q.appendChild(document.createTextNode(J))}}var q=null,ne=0;function se(Q,B){var Y,J,K;if(B.singleton){var Z=ne++;Y=q||(q=R(B)),J=U.bind(null,Y,Z,!1),K=U.bind(null,Y,Z,!0)}else Y=R(B),J=F.bind(null,Y,B),K=function(){(function(ee){if(ee.parentNode===null)return!1;ee.parentNode.removeChild(ee)})(Y)};return J(Q),function(ee){if(ee){if(ee.css===Q.css&&ee.media===Q.media&&ee.sourceMap===Q.sourceMap)return;J(Q=ee)}else K()}}m.exports=function(Q,B){(B=B||{}).singleton||typeof B.singleton=="boolean"||(B.singleton=k());var Y=T(Q=Q||[],B);return function(J){if(J=J||[],Object.prototype.toString.call(J)==="[object Array]"){for(var K=0;K<Y.length;K++){var Z=S(Y[K]);_[Z].references--}for(var ee=T(J,B),be=0;be<Y.length;be++){var xe=S(Y[be]);_[xe].references===0&&(_[xe].updater(),_.splice(xe,1))}Y=ee}}}}},i={};function l(m){var g=i[m];if(g!==void 0)return g.exports;var b=i[m]={id:m,exports:{}};return s[m](b,b.exports,l),b.exports}l.n=m=>{var g=m&&m.__esModule?()=>m.default:()=>m;return l.d(g,{a:g}),g},l.d=(m,g)=>{for(var b in g)l.o(g,b)&&!l.o(m,b)&&Object.defineProperty(m,b,{enumerable:!0,get:g[b]})},l.o=(m,g)=>Object.prototype.hasOwnProperty.call(m,g),l.nc=void 0;var h={};return(()=>{function m({emitter:c,activator:e,callback:o,contextElements:a}){c.listenTo(document,"mousedown",(d,p)=>{if(!e())return;const y=typeof p.composedPath=="function"?p.composedPath():[],w=typeof a=="function"?a():a;for(const A of w)if(A.contains(p.target)||y.includes(A))return;o()})}function g(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function b({view:c}){c.listenTo(c.element,"submit",(e,o)=>{o.preventDefault(),c.fire("submit")},{useCapture:!0})}l.d(h,{default:()=>u_});const v=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var k;const C={isMac:_(v),isWindows:(k=v,k.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(v),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(v),isiOS:function(c){return!!c.match(/iphone|ipad/i)||_(c)&&navigator.maxTouchPoints>0}(v),isAndroid:function(c){return c.indexOf("android")>-1}(v),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(v),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function _(c){return c.indexOf("macintosh")>-1}function S(c,e,o,a){o=o||function(A,j){return A===j};const d=Array.isArray(c)?c:Array.prototype.slice.call(c),p=Array.isArray(e)?e:Array.prototype.slice.call(e),y=function(A,j,D){const I=T(A,j,D);if(I===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const z=R(A,I),W=R(j,I),X=T(z,W,D),re=A.length-X,de=j.length-X;return{firstIndex:I,lastIndexOld:re,lastIndexNew:de}}(d,p,o);return a?function(A,j){const{firstIndex:D,lastIndexOld:I,lastIndexNew:z}=A;if(D===-1)return Array(j).fill("equal");let W=[];return D>0&&(W=W.concat(Array(D).fill("equal"))),z-D>0&&(W=W.concat(Array(z-D).fill("insert"))),I-D>0&&(W=W.concat(Array(I-D).fill("delete"))),z<j&&(W=W.concat(Array(j-z).fill("equal"))),W}(y,p.length):function(A,j){const D=[],{firstIndex:I,lastIndexOld:z,lastIndexNew:W}=j;return W-I>0&&D.push({index:I,type:"insert",values:A.slice(I,W)}),z-I>0&&D.push({index:I+(W-I),type:"delete",howMany:z-I}),D}(p,y)}function T(c,e,o){for(let a=0;a<Math.max(c.length,e.length);a++)if(c[a]===void 0||e[a]===void 0||!o(c[a],e[a]))return a;return-1}function R(c,e){return c.slice(e).reverse()}function P(c,e,o){o=o||function(re,de){return re===de};const a=c.length,d=e.length;if(a>200||d>200||a+d>300)return P.fastDiff(c,e,o,!0);let p,y;if(d<a){const re=c;c=e,e=re,p="delete",y="insert"}else p="insert",y="delete";const w=c.length,A=e.length,j=A-w,D={},I={};function z(re){const de=(I[re-1]!==void 0?I[re-1]:-1)+1,fe=I[re+1]!==void 0?I[re+1]:-1,we=de>fe?-1:1;D[re+we]&&(D[re]=D[re+we].slice(0)),D[re]||(D[re]=[]),D[re].push(de>fe?p:y);let Fe=Math.max(de,fe),st=Fe-re;for(;st<w&&Fe<A&&o(c[st],e[Fe]);)st++,Fe++,D[re].push("equal");return Fe}let W,X=0;do{for(W=-X;W<j;W++)I[W]=z(W);for(W=j+X;W>j;W--)I[W]=z(W);I[j]=z(j),X++}while(I[j]!==A);return D[j].slice(1)}P.fastDiff=S;const V=function(){return function c(){c.called=!0}};class U{constructor(e,o){this.source=e,this.name=o,this.path=[],this.stop=V(),this.off=V()}}const F=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function q(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+F[c>>0&255]+F[c>>8&255]+F[c>>16&255]+F[c>>24&255]+F[e>>0&255]+F[e>>8&255]+F[e>>16&255]+F[e>>24&255]+F[o>>0&255]+F[o>>8&255]+F[o>>16&255]+F[o>>24&255]+F[a>>0&255]+F[a>>8&255]+F[a>>16&255]+F[a>>24&255]}const ne={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function se(c,e){const o=ne.get(e.priority);for(let a=0;a<c.length;a++)if(ne.get(c[a].priority)<o)return void c.splice(a,0,e);c.push(e)}const Q="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(e,o,a){super(function(d,p){const y=new WeakSet,w=(D,I)=>{if(typeof I=="object"&&I!==null){if(y.has(I))return`[object ${I.constructor.name}]`;y.add(I)}return I},A=p?` ${JSON.stringify(p,w)}`:"",j=K(d);return d+A+j}(e,a)),this.name="CKEditorError",this.context=o,this.data=a}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,o){if(e.is&&e.is("CKEditorError"))throw e;const a=new B(e.message,o);throw a.stack=e.stack,a}}function Y(c,e){console.warn(...Z(c,e))}function J(c,e){console.error(...Z(c,e))}function K(c){return`
Read more: ${Q}#error-${c}`}function Z(c,e){const o=K(c);return e?[c,e,o]:[c,o]}const ee="39.0.2",be=new Date(2023,8,6);if(globalThis.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ee;const xe=Symbol("listeningTo"),ie=Symbol("emitterId"),ae=Symbol("delegations"),le=oe(Object);function oe(c){return c?class extends c{on(e,o,a){this.listenTo(this,e,o,a)}once(e,o,a){let d=!1;this.listenTo(this,e,(p,...y)=>{d||(d=!0,p.off(),o.call(this,p,...y))},a)}off(e,o){this.stopListening(this,e,o)}listenTo(e,o,a,d={}){let p,y;this[xe]||(this[xe]={});const w=this[xe];ue(e)||G(e);const A=ue(e);(p=w[A])||(p=w[A]={emitter:e,callbacks:{}}),(y=p.callbacks[o])||(y=p.callbacks[o]=[]),y.push(a),function(j,D,I,z,W){D._addEventListener?D._addEventListener(I,z,W):j._addEventListener.call(D,I,z,W)}(this,e,o,a,d)}stopListening(e,o,a){const d=this[xe];let p=e&&ue(e);const y=d&&p?d[p]:void 0,w=y&&o?y.callbacks[o]:void 0;if(!(!d||e&&!y||o&&!w))if(a)_e(this,e,o,a),w.indexOf(a)!==-1&&(w.length===1?delete y.callbacks[o]:_e(this,e,o,a));else if(w){for(;a=w.pop();)_e(this,e,o,a);delete y.callbacks[o]}else if(y){for(o in y.callbacks)this.stopListening(e,o);delete d[p]}else{for(p in d)this.stopListening(d[p].emitter);delete this[xe]}}fire(e,...o){try{const a=e instanceof U?e:new U(this,e),d=a.name;let p=ye(this,d);if(a.path.push(this),p){const w=[a,...o];p=Array.from(p);for(let A=0;A<p.length&&(p[A].callback.apply(this,w),a.off.called&&(delete a.off.called,this._removeEventListener(d,p[A].callback)),!a.stop.called);A++);}const y=this[ae];if(y){const w=y.get(d),A=y.get("*");w&&Se(w,a,o),A&&Se(A,a,o)}return a.return}catch(a){B.rethrowUnexpectedError(a,this)}}delegate(...e){return{to:(o,a)=>{this[ae]||(this[ae]=new Map),e.forEach(d=>{const p=this[ae].get(d);p?p.set(o,a):this[ae].set(d,new Map([[o,a]]))})}}}stopDelegating(e,o){if(this[ae])if(e)if(o){const a=this[ae].get(e);a&&a.delete(o)}else this[ae].delete(e);else this[ae].clear()}_addEventListener(e,o,a){(function(y,w){const A=pe(y);if(A[w])return;let j=w,D=null;const I=[];for(;j!==""&&!A[j];)A[j]={callbacks:[],childEvents:[]},I.push(A[j]),D&&A[j].childEvents.push(D),D=j,j=j.substr(0,j.lastIndexOf(":"));if(j!==""){for(const z of I)z.callbacks=A[j].callbacks.slice();A[j].childEvents.push(D)}})(this,e);const d=me(this,e),p={callback:o,priority:ne.get(a.priority)};for(const y of d)se(y,p)}_removeEventListener(e,o){const a=me(this,e);for(const d of a)for(let p=0;p<d.length;p++)d[p].callback==o&&(d.splice(p,1),p--)}}:le}function G(c,e){c[ie]||(c[ie]=e||q())}function ue(c){return c[ie]}function pe(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function me(c,e){const o=pe(c)[e];if(!o)return[];let a=[o.callbacks];for(let d=0;d<o.childEvents.length;d++){const p=me(c,o.childEvents[d]);a=a.concat(p)}return a}function ye(c,e){let o;return c._events&&(o=c._events[e])&&o.callbacks.length?o.callbacks:e.indexOf(":")>-1?ye(c,e.substr(0,e.lastIndexOf(":"))):null}function Se(c,e,o){for(let[a,d]of c){d?typeof d=="function"&&(d=d(e.name)):d=e.name;const p=new U(e.source,d);p.path=[...e.path],a.fire(p,...o)}}function _e(c,e,o,a){e._removeEventListener?e._removeEventListener(o,a):c._removeEventListener.call(e,o,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{oe[c]=le.prototype[c]});const qe=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},Oe=Symbol("observableProperties"),Ye=Symbol("boundObservables"),Be=Symbol("boundProperties"),Ce=Symbol("decoratedMethods"),ot=Symbol("decoratedOriginal"),Je=nt(oe());function nt(c){return c?class extends c{set(e,o){if(qe(e))return void Object.keys(e).forEach(d=>{this.set(d,e[d])},this);Lt(this);const a=this[Oe];if(e in this&&!a.has(e))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>a.get(e),set(d){const p=a.get(e);let y=this.fire(`set:${e}`,e,d,p);y===void 0&&(y=d),p===y&&a.has(e)||(a.set(e,y),this.fire(`change:${e}`,e,y,p))}}),this[e]=o}bind(...e){if(!e.length||!Qt(e))throw new B("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new B("observable-bind-duplicate-properties",this);Lt(this);const o=this[Be];e.forEach(d=>{if(o.has(d))throw new B("observable-bind-rebind",this)});const a=new Map;return e.forEach(d=>{const p={property:d,to:[]};o.set(d,p),a.set(d,p)}),{to:Ne,toMany:at,_observable:this,_bindProperties:e,_to:[],_bindings:a}}unbind(...e){if(!this[Oe])return;const o=this[Be],a=this[Ye];if(e.length){if(!Qt(e))throw new B("observable-unbind-wrong-properties",this);e.forEach(d=>{const p=o.get(d);p&&(p.to.forEach(([y,w])=>{const A=a.get(y),j=A[w];j.delete(p),j.size||delete A[w],Object.keys(A).length||(a.delete(y),this.stopListening(y,"change"))}),o.delete(d))})}else a.forEach((d,p)=>{this.stopListening(p,"change")}),a.clear(),o.clear()}decorate(e){Lt(this);const o=this[e];if(!o)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(a,d)=>{a.return=o.apply(this,d)}),this[e]=function(...a){return this.fire(e,a)},this[e][ot]=o,this[Ce]||(this[Ce]=[]),this[Ce].push(e)}stopListening(e,o,a){if(!e&&this[Ce]){for(const d of this[Ce])this[d]=this[d][ot];delete this[Ce]}super.stopListening(e,o,a)}}:Je}function Lt(c){c[Oe]||(Object.defineProperty(c,Oe,{value:new Map}),Object.defineProperty(c,Ye,{value:new Map}),Object.defineProperty(c,Be,{value:new Map}))}function Ne(...c){const e=function(...p){if(!p.length)throw new B("observable-bind-to-parse-error",null);const y={to:[]};let w;return typeof p[p.length-1]=="function"&&(y.callback=p.pop()),p.forEach(A=>{if(typeof A=="string")w.properties.push(A);else{if(typeof A!="object")throw new B("observable-bind-to-parse-error",null);w={observable:A,properties:[]},y.to.push(w)}}),y}(...c),o=Array.from(this._bindings.keys()),a=o.length;if(!e.callback&&e.to.length>1)throw new B("observable-bind-to-no-callback",this);if(a>1&&e.callback)throw new B("observable-bind-to-extra-callback",this);var d;e.to.forEach(p=>{if(p.properties.length&&p.properties.length!==a)throw new B("observable-bind-to-properties-length",this);p.properties.length||(p.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(o[0]).callback=e.callback),d=this._observable,this._to.forEach(p=>{const y=d[Ye];let w;y.get(p.observable)||d.listenTo(p.observable,"change",(A,j)=>{w=y.get(p.observable)[j],w&&w.forEach(D=>{Sr(d,D.property)})})}),function(p){let y;p._bindings.forEach((w,A)=>{p._to.forEach(j=>{y=j.properties[w.callback?0:p._bindProperties.indexOf(A)],w.to.push([j.observable,y]),function(D,I,z,W){const X=D[Ye],re=X.get(z),de=re||{};de[W]||(de[W]=new Set),de[W].add(I),re||X.set(z,de)}(p._observable,w,j.observable,y)})})}(this),this._bindProperties.forEach(p=>{Sr(this._observable,p)})}function at(c,e,o){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const p=a.map(y=>[y,d]);return Array.prototype.concat.apply([],p)}(c,e),o)}function Qt(c){return c.every(e=>typeof e=="string")}function Sr(c,e){const o=c[Be].get(e);let a;o.callback?a=o.callback.apply(c,o.to.map(d=>d[0][d[1]])):(a=o.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=a:c.set(e,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{nt[c]=Je.prototype[c]});class nn{constructor(){this._replacedElements=[]}replace(e,o){this._replacedElements.push({element:e,newElement:o}),e.style.display="none",o&&e.parentNode.insertBefore(o,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:o})=>{e.style.display="",o&&o.remove()}),this._replacedElements=[]}}function Yr(c){let e=0;for(const o of c)e++;return e}function Er(c,e){const o=Math.min(c.length,e.length);for(let a=0;a<o;a++)if(c[a]!=e[a])return a;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function Cr(c){return!(!c||!c[Symbol.iterator])}const Qs=typeof aw=="object"&&aw&&aw.Object===Object&&aw;var fo=typeof self=="object"&&self&&self.Object===Object&&self;const Yt=Qs||fo||Function("return this")(),wt=Yt.Symbol;var Gr=Object.prototype,lt=Gr.hasOwnProperty,It=Gr.toString,kt=wt?wt.toStringTag:void 0;const er=function(c){var e=lt.call(c,kt),o=c[kt];try{c[kt]=void 0;var a=!0}catch{}var d=It.call(c);return a&&(e?c[kt]=o:delete c[kt]),d};var sn=Object.prototype.toString;const ss=function(c){return sn.call(c)};var ze=wt?wt.toStringTag:void 0;const Jt=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":ze&&ze in Object(c)?er(c):ss(c)},Pt=Array.isArray,Dt=function(c){return c!=null&&typeof c=="object"},Js=function(c){return typeof c=="string"||!Pt(c)&&Dt(c)&&Jt(c)=="[object String]"};function Ts(c,e,o={},a=[]){const d=o&&o.xmlns,p=d?c.createElementNS(d,e):c.createElement(e);for(const y in o)p.setAttribute(y,o[y]);!Js(a)&&Cr(a)||(a=[a]);for(let y of a)Js(y)&&(y=c.createTextNode(y)),p.appendChild(y);return p}const Is=function(c,e){return function(o){return c(e(o))}},ir=Is(Object.getPrototypeOf,Object);var On=Function.prototype,Wr=Object.prototype,Rs=On.toString,hn=Wr.hasOwnProperty,_n=Rs.call(Object);const br=function(c){if(!Dt(c)||Jt(c)!="[object Object]")return!1;var e=ir(c);if(e===null)return!0;var o=hn.call(e,"constructor")&&e.constructor;return typeof o=="function"&&o instanceof o&&Rs.call(o)==_n},ni=function(){this.__data__=[],this.size=0},jt=function(c,e){return c===e||c!=c&&e!=e},yr=function(c,e){for(var o=c.length;o--;)if(jt(c[o][0],e))return o;return-1};var xr=Array.prototype.splice;const on=function(c){var e=this.__data__,o=yr(e,c);return!(o<0)&&(o==e.length-1?e.pop():xr.call(e,o,1),--this.size,!0)},si=function(c){var e=this.__data__,o=yr(e,c);return o<0?void 0:e[o][1]},ia=function(c){return yr(this.__data__,c)>-1},os=function(c,e){var o=this.__data__,a=yr(o,c);return a<0?(++this.size,o.push([c,e])):o[a][1]=e,this};function Ps(c){var e=-1,o=c==null?0:c.length;for(this.clear();++e<o;){var a=c[e];this.set(a[0],a[1])}}Ps.prototype.clear=ni,Ps.prototype.delete=on,Ps.prototype.get=si,Ps.prototype.has=ia,Ps.prototype.set=os;const Xs=Ps,ol=function(){this.__data__=new Xs,this.size=0},aa=function(c){var e=this.__data__,o=e.delete(c);return this.size=e.size,o},Ti=function(c){return this.__data__.get(c)},Ii=function(c){return this.__data__.has(c)},mn=function(c){if(!qe(c))return!1;var e=Jt(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},$r=Yt["__core-js_shared__"];var xd=function(){var c=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const vd=function(c){return!!xd&&xd in c};var oi=Function.prototype.toString;const Os=function(c){if(c!=null){try{return oi.call(c)}catch{}try{return c+""}catch{}}return""};var ep=/^\[object .+?Constructor\]$/,tp=Function.prototype,ic=Object.prototype,rp=tp.toString,il=ic.hasOwnProperty,Ri=RegExp("^"+rp.call(il).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const is=function(c){return!(!qe(c)||vd(c))&&(mn(c)?Ri:ep).test(Os(c))},ac=function(c,e){return c==null?void 0:c[e]},Pi=function(c,e){var o=ac(c,e);return is(o)?o:void 0},go=Pi(Yt,"Map"),Oi=Pi(Object,"create"),wd=function(){this.__data__=Oi?Oi(null):{},this.size=0},rh=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var kd=Object.prototype.hasOwnProperty;const Bs=function(c){var e=this.__data__;if(Oi){var o=e[c];return o==="__lodash_hash_undefined__"?void 0:o}return kd.call(e,c)?e[c]:void 0};var nh=Object.prototype.hasOwnProperty;const yg=function(c){var e=this.__data__;return Oi?e[c]!==void 0:nh.call(e,c)},Cd=function(c,e){var o=this.__data__;return this.size+=this.has(c)?0:1,o[c]=Oi&&e===void 0?"__lodash_hash_undefined__":e,this};function Bi(c){var e=-1,o=c==null?0:c.length;for(this.clear();++e<o;){var a=c[e];this.set(a[0],a[1])}}Bi.prototype.clear=wd,Bi.prototype.delete=rh,Bi.prototype.get=Bs,Bi.prototype.has=yg,Bi.prototype.set=Cd;const al=Bi,xg=function(){this.size=0,this.__data__={hash:new al,map:new(go||Xs),string:new al}},An=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},xs=function(c,e){var o=c.__data__;return An(e)?o[typeof e=="string"?"string":"hash"]:o.map},lc=function(c){var e=xs(this,c).delete(c);return this.size-=e?1:0,e},ll=function(c){return xs(this,c).get(c)},la=function(c){return xs(this,c).has(c)},Rr=function(c,e){var o=xs(this,c),a=o.size;return o.set(c,e),this.size+=o.size==a?0:1,this};function Mo(c){var e=-1,o=c==null?0:c.length;for(this.clear();++e<o;){var a=c[e];this.set(a[0],a[1])}}Mo.prototype.clear=xg,Mo.prototype.delete=lc,Mo.prototype.get=ll,Mo.prototype.has=la,Mo.prototype.set=Rr;const Ls=Mo,cc=function(c,e){var o=this.__data__;if(o instanceof Xs){var a=o.__data__;if(!go||a.length<199)return a.push([c,e]),this.size=++o.size,this;o=this.__data__=new Ls(a)}return o.set(c,e),this.size=o.size,this};function ca(c){var e=this.__data__=new Xs(c);this.size=e.size}ca.prototype.clear=ol,ca.prototype.delete=aa,ca.prototype.get=Ti,ca.prototype.has=Ii,ca.prototype.set=cc;const da=ca,sh=function(c,e){for(var o=-1,a=c==null?0:c.length;++o<a&&e(c[o],o,c)!==!1;);return c},_d=function(){try{var c=Pi(Object,"defineProperty");return c({},"",{}),c}catch{}}(),oh=function(c,e,o){e=="__proto__"&&_d?_d(c,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):c[e]=o};var Ad=Object.prototype.hasOwnProperty;const ii=function(c,e,o){var a=c[e];Ad.call(c,e)&&jt(a,o)&&(o!==void 0||e in c)||oh(c,e,o)},as=function(c,e,o,a){var d=!o;o||(o={});for(var p=-1,y=e.length;++p<y;){var w=e[p],A=void 0;A===void 0&&(A=c[w]),d?oh(o,w,A):ii(o,w,A)}return o},ua=function(c,e){for(var o=-1,a=Array(c);++o<c;)a[o]=e(o);return a},Li=function(c){return Dt(c)&&Jt(c)=="[object Arguments]"};var Nd=Object.prototype,zi=Nd.hasOwnProperty,np=Nd.propertyIsEnumerable;const ha=Li(function(){return arguments}())?Li:function(c){return Dt(c)&&zi.call(c,"callee")&&!np.call(c,"callee")},ai=function(){return!1};var bo=t&&!t.nodeType&&t,cl=bo&&!0&&r&&!r.nodeType&&r,li=cl&&cl.exports===bo?Yt.Buffer:void 0;const To=(li?li.isBuffer:void 0)||ai;var ma=/^(?:0|[1-9]\d*)$/;const dc=function(c,e){var o=typeof c;return!!(e=e??9007199254740991)&&(o=="number"||o!="symbol"&&ma.test(c))&&c>-1&&c%1==0&&c<e},ci=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var ar={};ar["[object Float32Array]"]=ar["[object Float64Array]"]=ar["[object Int8Array]"]=ar["[object Int16Array]"]=ar["[object Int32Array]"]=ar["[object Uint8Array]"]=ar["[object Uint8ClampedArray]"]=ar["[object Uint16Array]"]=ar["[object Uint32Array]"]=!0,ar["[object Arguments]"]=ar["[object Array]"]=ar["[object ArrayBuffer]"]=ar["[object Boolean]"]=ar["[object DataView]"]=ar["[object Date]"]=ar["[object Error]"]=ar["[object Function]"]=ar["[object Map]"]=ar["[object Number]"]=ar["[object Object]"]=ar["[object RegExp]"]=ar["[object Set]"]=ar["[object String]"]=ar["[object WeakMap]"]=!1;const ih=function(c){return Dt(c)&&ci(c.length)&&!!ar[Jt(c)]},Nn=function(c){return function(e){return c(e)}};var vr=t&&!t.nodeType&&t,Fi=vr&&!0&&r&&!r.nodeType&&r,pa=Fi&&Fi.exports===vr&&Qs.process;const fa=function(){try{var c=Fi&&Fi.require&&Fi.require("util").types;return c||pa&&pa.binding&&pa.binding("util")}catch{}}();var uc=fa&&fa.isTypedArray;const dl=uc?Nn(uc):ih;var Vi=Object.prototype.hasOwnProperty;const ul=function(c,e){var o=Pt(c),a=!o&&ha(c),d=!o&&!a&&To(c),p=!o&&!a&&!d&&dl(c),y=o||a||d||p,w=y?ua(c.length,String):[],A=w.length;for(var j in c)!e&&!Vi.call(c,j)||y&&(j=="length"||d&&(j=="offset"||j=="parent")||p&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||dc(j,A))||w.push(j);return w};var Io=Object.prototype;const jd=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||Io)},vg=Is(Object.keys,Object);var hc=Object.prototype.hasOwnProperty;const Sd=function(c){if(!jd(c))return vg(c);var e=[];for(var o in Object(c))hc.call(c,o)&&o!="constructor"&&e.push(o);return e},hl=function(c){return c!=null&&ci(c.length)&&!mn(c)},ml=function(c){return hl(c)?ul(c):Sd(c)},sp=function(c,e){return c&&as(e,ml(e),c)},Ed=function(c){var e=[];if(c!=null)for(var o in Object(c))e.push(o);return e};var wg=Object.prototype.hasOwnProperty;const ah=function(c){if(!qe(c))return Ed(c);var e=jd(c),o=[];for(var a in c)(a!="constructor"||!e&&wg.call(c,a))&&o.push(a);return o},Ro=function(c){return hl(c)?ul(c,!0):ah(c)},op=function(c,e){return c&&as(e,Ro(e),c)};var lh=t&&!t.nodeType&&t,Dd=lh&&!0&&r&&!r.nodeType&&r,pl=Dd&&Dd.exports===lh?Yt.Buffer:void 0,ch=pl?pl.allocUnsafe:void 0;const mc=function(c,e){if(e)return c.slice();var o=c.length,a=ch?ch(o):new c.constructor(o);return c.copy(a),a},dh=function(c,e){var o=-1,a=c.length;for(e||(e=Array(a));++o<a;)e[o]=c[o];return e},uh=function(c,e){for(var o=-1,a=c==null?0:c.length,d=0,p=[];++o<a;){var y=c[o];e(y,o,c)&&(p[d++]=y)}return p},Ui=function(){return[]};var ip=Object.prototype.propertyIsEnumerable,hh=Object.getOwnPropertySymbols;const Md=hh?function(c){return c==null?[]:(c=Object(c),uh(hh(c),function(e){return ip.call(c,e)}))}:Ui,ap=function(c,e){return as(c,Md(c),e)},pc=function(c,e){for(var o=-1,a=e.length,d=c.length;++o<a;)c[d+o]=e[o];return c},vs=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)pc(e,Md(c)),c=ir(c);return e}:Ui,lp=function(c,e){return as(c,vs(c),e)},mh=function(c,e,o){var a=e(c);return Pt(c)?a:pc(a,o(c))},Po=function(c){return mh(c,ml,Md)},E=function(c){return mh(c,Ro,vs)},H=Pi(Yt,"DataView"),$=Pi(Yt,"Promise"),he=Pi(Yt,"Set"),Ae=Pi(Yt,"WeakMap");var Ie="[object Map]",et="[object Promise]",rr="[object Set]",jn="[object WeakMap]",nr="[object DataView]",Yn=Os(H),Bn=Os(go),ga=Os($),ls=Os(he),Gi=Os(Ae),di=Jt;(H&&di(new H(new ArrayBuffer(1)))!=nr||go&&di(new go)!=Ie||$&&di($.resolve())!=et||he&&di(new he)!=rr||Ae&&di(new Ae)!=jn)&&(di=function(c){var e=Jt(c),o=e=="[object Object]"?c.constructor:void 0,a=o?Os(o):"";if(a)switch(a){case Yn:return nr;case Bn:return Ie;case ga:return et;case ls:return rr;case Gi:return jn}return e});const fl=di;var Kx=Object.prototype.hasOwnProperty;const Qx=function(c){var e=c.length,o=new c.constructor(e);return e&&typeof c[0]=="string"&&Kx.call(c,"index")&&(o.index=c.index,o.input=c.input),o},Td=Yt.Uint8Array,ph=function(c){var e=new c.constructor(c.byteLength);return new Td(e).set(new Td(c)),e},Jx=function(c,e){var o=e?ph(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.byteLength)};var Xx=/\w*$/;const $x=function(c){var e=new c.constructor(c.source,Xx.exec(c));return e.lastIndex=c.lastIndex,e};var Zx=wt?wt.prototype:void 0,ev=Zx?Zx.valueOf:void 0;const R1=function(c){return ev?Object(ev.call(c)):{}},tv=function(c,e){var o=e?ph(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.length)},P1=function(c,e,o){var a=c.constructor;switch(e){case"[object ArrayBuffer]":return ph(c);case"[object Boolean]":case"[object Date]":return new a(+c);case"[object DataView]":return Jx(c,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tv(c,o);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(c);case"[object RegExp]":return $x(c);case"[object Symbol]":return R1(c)}};var $s=Object.create;const fh=function(){function c(){}return function(e){if(!qe(e))return{};if($s)return $s(e);c.prototype=e;var o=new c;return c.prototype=void 0,o}}(),kg=function(c){return typeof c.constructor!="function"||jd(c)?{}:fh(ir(c))},rv=function(c){return Dt(c)&&fl(c)=="[object Map]"};var Cg=fa&&fa.isMap;const nv=Cg?Nn(Cg):rv,_g=function(c){return Dt(c)&&fl(c)=="[object Set]"};var sv=fa&&fa.isSet;const Id=sv?Nn(sv):_g;var cp="[object Arguments]",Rd="[object Function]",dp="[object Object]",zr={};zr[cp]=zr["[object Array]"]=zr["[object ArrayBuffer]"]=zr["[object DataView]"]=zr["[object Boolean]"]=zr["[object Date]"]=zr["[object Float32Array]"]=zr["[object Float64Array]"]=zr["[object Int8Array]"]=zr["[object Int16Array]"]=zr["[object Int32Array]"]=zr["[object Map]"]=zr["[object Number]"]=zr[dp]=zr["[object RegExp]"]=zr["[object Set]"]=zr["[object String]"]=zr["[object Symbol]"]=zr["[object Uint8Array]"]=zr["[object Uint8ClampedArray]"]=zr["[object Uint16Array]"]=zr["[object Uint32Array]"]=!0,zr["[object Error]"]=zr[Rd]=zr["[object WeakMap]"]=!1;const ba=function c(e,o,a,d,p,y){var w,A=1&o,j=2&o,D=4&o;if(a&&(w=p?a(e,d,p,y):a(e)),w!==void 0)return w;if(!qe(e))return e;var I=Pt(e);if(I){if(w=Qx(e),!A)return dh(e,w)}else{var z=fl(e),W=z==Rd||z=="[object GeneratorFunction]";if(To(e))return mc(e,A);if(z==dp||z==cp||W&&!p){if(w=j||W?{}:kg(e),!A)return j?lp(e,op(w,e)):ap(e,sp(w,e))}else{if(!zr[z])return p?e:{};w=P1(e,z,A)}}y||(y=new da);var X=y.get(e);if(X)return X;y.set(e,w),Id(e)?e.forEach(function(de){w.add(c(de,o,a,de,e,y))}):nv(e)&&e.forEach(function(de,fe){w.set(fe,c(de,o,a,fe,e,y))});var re=I?void 0:(D?j?E:Po:j?Ro:ml)(e);return sh(re||e,function(de,fe){re&&(de=e[fe=de]),ii(w,fe,c(de,o,a,fe,e,y))}),w},gl=function(c,e){return ba(c,5,e=typeof e=="function"?e:void 0)},ya=function(c){return Dt(c)&&c.nodeType===1&&!br(c)};class Ag{constructor(e,o){this._config={},o&&this.define(bl(o)),e&&this._setObjectToTarget(this._config,e)}set(e,o){this._setToTarget(this._config,e,o)}define(e,o){this._setToTarget(this._config,e,o,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,o,a,d=!1){if(br(o))return void this._setObjectToTarget(e,o,d);const p=o.split(".");o=p.pop();for(const y of p)br(e[y])||(e[y]={}),e=e[y];if(br(a))return br(e[o])||(e[o]={}),e=e[o],void this._setObjectToTarget(e,a,d);d&&e[o]!==void 0||(e[o]=a)}_getFromSource(e,o){const a=o.split(".");o=a.pop();for(const d of a){if(!br(e[d])){e=null;break}e=e[d]}return e?bl(e[o]):void 0}_setObjectToTarget(e,o,a){Object.keys(o).forEach(d=>{this._setToTarget(e,d,o[d],a)})}}function bl(c){return gl(c,ov)}function ov(c){return ya(c)?c:void 0}function xa(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function gh(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object global]"}const iv=yl(oe());function yl(c){return c?class extends c{listenTo(e,o,a,d={}){if(xa(e)||gh(e)){const p={capture:!!d.useCapture,passive:!!d.usePassive},y=this._getProxyEmitter(e,p)||new O1(e,p);this.listenTo(y,o,a,d)}else super.listenTo(e,o,a,d)}stopListening(e,o,a){if(xa(e)||gh(e)){const d=this._getAllProxyEmitters(e);for(const p of d)this.stopListening(p,o,a)}else super.stopListening(e,o,a)}_getProxyEmitter(e,o){return function(a,d){const p=a[xe];return p&&p[d]?p[d].emitter:null}(this,Ng(e,o))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(e,o)).filter(o=>!!o)}}:iv}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{yl[c]=iv.prototype[c]});class O1 extends oe(){constructor(e,o){super(),G(this,Ng(e,o)),this._domNode=e,this._options=o}attach(e){if(this._domListeners&&this._domListeners[e])return;const o=this._createDomListener(e);this._domNode.addEventListener(e,o,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=o}detach(e){let o;!this._domListeners[e]||(o=this._events[e])&&o.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,o,a){this.attach(e),oe().prototype._addEventListener.call(this,e,o,a)}_removeEventListener(e,o){oe().prototype._removeEventListener.call(this,e,o),this.detach(e)}_createDomListener(e){const o=a=>{this.fire(e,a)};return o.removeListener=()=>{this._domNode.removeEventListener(e,o,this._options),delete this._domListeners[e]},o}}function Ng(c,e){let o=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=q())}(c);for(const a of Object.keys(e).sort())e[a]&&(o+="-"+a);return o}let up;try{up={window,document}}catch{up={window:{},document:{}}}const Mt=up;function yo(c){let e=c.parentElement;if(!e)return null;for(;e.tagName!="BODY";){const o=e.style.overflowY||Mt.window.getComputedStyle(e).overflowY;if(o==="auto"||o==="scroll")break;if(e=e.parentElement,!e)return null}return e}function bh(c){return Object.prototype.toString.apply(c)=="[object Range]"}function xo(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function wr(c){return Object.prototype.toString.call(c)=="[object Text]"}const fc=["top","right","bottom","left","width","height"];class _r{constructor(e){const o=bh(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),hp(e)||o)if(o){const a=_r.getDomRangeRects(e);gc(this,_r.getBoundingRect(a))}else gc(this,e.getBoundingClientRect());else if(gh(e)){const{innerWidth:a,innerHeight:d}=e;gc(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else gc(this,e)}clone(){return new _r(this)}moveTo(e,o){return this.top=o,this.right=e+this.width,this.bottom=o+this.height,this.left=e,this}moveBy(e,o){return this.top+=o,this.right+=e,this.left+=e,this.bottom+=o,this}getIntersection(e){const o={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0?null:new _r(o)}getIntersectionArea(e){const o=this.getIntersection(e);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let o=this.clone();if(yh(e))return o;let a,d=e,p=e.parentNode||e.commonAncestorContainer;for(;p&&!yh(p);){if(d instanceof HTMLElement&&bc(d)==="absolute"&&(a=d),a&&(bc(p)!=="relative"||(y=p).ownerDocument.defaultView.getComputedStyle(y).overflow==="visible")){d=p,p=p.parentNode;continue}const w=new _r(p),A=o.getIntersection(w);if(!A)return null;A.getArea()<o.getArea()&&(o=A),d=p,p=p.parentNode}var y;return o}isEqual(e){for(const o of fc)if(this[o]!==e[o])return!1;return!0}contains(e){const o=this.getIntersection(e);return!(!o||!o.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let o,a,d;if(gh(e))o=e.innerWidth-e.document.documentElement.clientWidth,a=e.innerHeight-e.document.documentElement.clientHeight,d=e.getComputedStyle(e.document.documentElement).direction;else{const p=xo(e);o=e.offsetWidth-e.clientWidth-p.left-p.right,a=e.offsetHeight-e.clientHeight-p.top-p.bottom,d=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=p.left,this.top+=p.top,this.right-=p.right,this.bottom-=p.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,d==="ltr"?this.right-=o:this.left+=o,this.height-=a,this.bottom-=a,this}static getDomRangeRects(e){const o=[],a=Array.from(e.getClientRects());if(a.length)for(const d of a)o.push(new _r(d));else{let d=e.startContainer;wr(d)&&(d=d.parentNode);const p=new _r(d.getBoundingClientRect());p.right=p.left,p.width=0,o.push(p)}return o}static getBoundingRect(e){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const d of e)a++,o.left=Math.min(o.left,d.left),o.top=Math.min(o.top,d.top),o.right=Math.max(o.right,d.right),o.bottom=Math.max(o.bottom,d.bottom);return a==0?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new _r(o))}}function gc(c,e){for(const o of fc)c[o]=e[o]}function yh(c){return!!hp(c)&&c===c.ownerDocument.body}function hp(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function bc(c){return c.ownerDocument.defaultView.getComputedStyle(c).position}const an=class{constructor(c,e){an._observerInstance||an._createObserver(),this._element=c,this._callback=e,an._addElementCallback(c,e),an._observerInstance.observe(c)}get element(){return this._element}destroy(){an._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){an._elementCallbacks||(an._elementCallbacks=new Map);let o=an._elementCallbacks.get(c);o||(o=new Set,an._elementCallbacks.set(c,o)),o.add(e)}static _deleteElementCallback(c,e){const o=an._getElementCallbacks(c);o&&(o.delete(e),o.size||(an._elementCallbacks.delete(c),an._observerInstance.unobserve(c))),an._elementCallbacks&&!an._elementCallbacks.size&&(an._observerInstance=null,an._elementCallbacks=null)}static _getElementCallbacks(c){return an._elementCallbacks?an._elementCallbacks.get(c):null}static _createObserver(){an._observerInstance=new Mt.window.ResizeObserver(c=>{for(const e of c){const o=an._getElementCallbacks(e.target);if(o)for(const a of o)a(e)}})}};let yc=an;function Pd(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function jg(c){return e=>e+c}function ws(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function mp(c,e,o){c.insertBefore(o,c.childNodes[e]||null)}function vo(c){return c&&c.nodeType===Node.COMMENT_NODE}function xl(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}yc._observerInstance=null,yc._elementCallbacks=null;var xh=Math.pow;function vl({element:c,target:e,positions:o,limiter:a,fitInViewport:d,viewportOffsetConfig:p}){mn(e)&&(e=e()),mn(a)&&(a=a());const y=function(z){return z&&z.parentNode?z.offsetParent===Mt.document.body?null:z.offsetParent:null}(c),w=new _r(c),A=new _r(e);let j;const D=d&&function(z){z=Object.assign({top:0,bottom:0,left:0,right:0},z);const W=new _r(Mt.window);return W.top+=z.top,W.height-=z.top,W.bottom-=z.bottom,W.height-=z.bottom,W}(p)||null,I={targetRect:A,elementRect:w,positionedElementAncestor:y,viewportRect:D};if(a||d){const z=a&&new _r(a).getVisible();Object.assign(I,{limiterRect:z,viewportRect:D}),j=function(W,X){const{elementRect:re}=X,de=re.getArea(),fe=W.map(st=>new vh(st,X)).filter(st=>!!st.name);let we=0,Fe=null;for(const st of fe){const{limiterIntersectionArea:_t,viewportIntersectionArea:Ur}=st;if(_t===de)return st;const cr=xh(Ur,2)+xh(_t,2);cr>we&&(we=cr,Fe=st)}return Fe}(o,I)||new vh(o[0],I)}else j=new vh(o[0],I);return j}function pp(c){const{scrollX:e,scrollY:o}=Mt.window;return c.clone().moveBy(e,o)}class vh{constructor(e,o){const a=e(o.targetRect,o.elementRect,o.viewportRect);if(!a)return;const{left:d,top:p,name:y,config:w}=a;this.name=y,this.config=w,this._positioningFunctionCorrdinates={left:d,top:p},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const o=this._options.viewportRect;if(!o)return e.getIntersectionArea(this._rect);{const a=e.getIntersection(o);if(a)return a.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=pp(this._rect),this._options.positionedElementAncestor&&function(e,o){const a=pp(new _r(o)),d=xo(o);let p=0,y=0;p-=a.left,y-=a.top,p+=o.scrollLeft,y+=o.scrollTop,p-=d.left,y-=d.top,e.moveBy(p,y)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function xc(c){const e=c.parentNode;e&&e.removeChild(c)}function Od({window:c,rect:e,alignToTop:o,forceScroll:a,viewportOffset:d}){const p=e.clone().moveBy(0,d.bottom),y=e.clone().moveBy(0,-d.top),w=new _r(c).excludeScrollbarsAndBorders(),A=o&&a,j=[y,p].every(X=>w.contains(X));let{scrollX:D,scrollY:I}=c;const z=D,W=I;A?I-=w.top-e.top+d.top:j||(wo(y,w)?I-=w.top-e.top+d.top:wh(p,w)&&(I+=o?e.top-w.top-d.top:e.bottom-w.bottom+d.bottom)),j||(ko(e,w)?D-=w.left-e.left+d.left:wl(e,w)&&(D+=e.right-w.right+d.right)),D==z&&I===W||c.scrollTo(D,I)}function fp({parent:c,getRect:e,alignToTop:o,forceScroll:a,ancestorOffset:d=0,limiterElement:p}){const y=ui(c),w=o&&a;let A,j,D;const I=p||y.document.body;for(;c!=I;)j=e(),A=new _r(c).excludeScrollbarsAndBorders(),D=A.contains(j),w?c.scrollTop-=A.top-j.top+d:D||(wo(j,A)?c.scrollTop-=A.top-j.top+d:wh(j,A)&&(c.scrollTop+=o?j.top-A.top-d:j.bottom-A.bottom+d)),D||(ko(j,A)?c.scrollLeft-=A.left-j.left+d:wl(j,A)&&(c.scrollLeft+=j.right-A.right+d)),c=c.parentNode}function wh(c,e){return c.bottom>e.bottom}function wo(c,e){return c.top<e.top}function ko(c,e){return c.left<e.left}function wl(c,e){return c.right>e.right}function ui(c){return bh(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function va(c){if(bh(c)){let e=c.commonAncestorContainer;return wr(e)&&(e=e.parentNode),e}return c.parentNode}function kl(c,e){const o=ui(c),a=new _r(c);if(o===e)return a;{let d=o;for(;d!=e;){const p=d.frameElement,y=new _r(p).excludeScrollbarsAndBorders();a.moveBy(y.left,y.top),d=d.parent}}return a}const av={ctrl:"",cmd:"",alt:"",shift:""},Sg={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},tr=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;for(const e of"`-=[];',./\\")c[e]=e.charCodeAt(0);return c}(),zs=Object.fromEntries(Object.entries(tr).map(([c,e])=>[e,c.charAt(0).toUpperCase()+c.slice(1)]));function Fr(c){let e;if(typeof c=="string"){if(e=tr[c.toLowerCase()],!e)throw new B("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?tr.alt:0)+(c.ctrlKey?tr.ctrl:0)+(c.shiftKey?tr.shift:0)+(c.metaKey?tr.cmd:0);return e}function lr(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(o=>o.trim())}(c)),c.map(e=>typeof e=="string"?function(o){if(o.endsWith("!"))return Fr(o.slice(0,-1));const a=Fr(o);return C.isMac&&a==tr.ctrl?tr.cmd:a}(e):e).reduce((e,o)=>o+e,0)}function Cl(c){let e=lr(c);return Object.entries(C.isMac?av:Sg).reduce((o,[a,d])=>((e&tr[a])!=0&&(e&=~tr[a],o+=d),o),"")+(e?zs[e]:"")}function Oo(c,e){const o=e==="ltr";switch(c){case tr.arrowleft:return o?"left":"right";case tr.arrowright:return o?"right":"left";case tr.arrowup:return"up";case tr.arrowdown:return"down"}}function Sn(c){return Array.isArray(c)?c:[c]}function vc(c,e,o=1){if(typeof o!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:o});const a=Object.keys(Mt.window.CKEDITOR_TRANSLATIONS).length;a===1&&(c=Object.keys(Mt.window.CKEDITOR_TRANSLATIONS)[0]);const d=e.id||e.string;if(a===0||!function(A,j){return!!Mt.window.CKEDITOR_TRANSLATIONS[A]&&!!Mt.window.CKEDITOR_TRANSLATIONS[A].dictionary[j]}(c,d))return o!==1?e.plural:e.string;const p=Mt.window.CKEDITOR_TRANSLATIONS[c].dictionary,y=Mt.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(A=>A===1?0:1),w=p[d];return typeof w=="string"?w:w[Number(y(o))]}Mt.window.CKEDITOR_TRANSLATIONS||(Mt.window.CKEDITOR_TRANSLATIONS={});const lv=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Eg(c){return lv.includes(c)?"rtl":"ltr"}class kh{constructor({uiLanguage:e="en",contentLanguage:o}={}){this.uiLanguage=e,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=Eg(this.uiLanguage),this.contentLanguageDirection=Eg(this.contentLanguage),this.t=(a,d)=>this._t(a,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,o=[]){o=Sn(o),typeof e=="string"&&(e={string:e});const a=e.plural?o[0]:1;return function(d,p){return d.replace(/%(\d+)/g,(y,w)=>w<p.length?p[w]:y)}(vc(this.uiLanguage,e,a),o)}}class Fs extends oe(){constructor(e={},o={}){super();const a=Cr(e);if(a||(o=e),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of e)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,o){return this.addMany([e],o)}addMany(e,o){if(o===void 0)o=this._items.length;else if(o>this._items.length||o<0)throw new B("collection-add-item-invalid-index",this);let a=0;for(const d of e){const p=this._getItemIdBeforeAdding(d),y=o+a;this._items.splice(y,0,d),this._itemMap.set(p,d),this.fire("add",d,y),a++}return this.fire("change",{added:e,removed:[],index:o}),this}get(e){let o;if(typeof e=="string")o=this._itemMap.get(e);else{if(typeof e!="number")throw new B("collection-get-invalid-arg",this);o=this._items[e]}return o||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const o=e[this._idProperty];return o&&this._itemMap.has(o)}}getIndex(e){let o;return o=typeof e=="string"?this._itemMap.get(e):e,o?this._items.indexOf(o):-1}remove(e){const[o,a]=this._remove(e);return this.fire("change",{added:[],removed:[o],index:a}),o}map(e,o){return this._items.map(e,o)}find(e,o){return this._items.find(e,o)}filter(e,o){return this._items.filter(e,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:o=>{this._setUpBindToBinding(a=>new o(a))},using:o=>{typeof o=="function"?this._setUpBindToBinding(o):this._setUpBindToBinding(a=>a[o])}}}_setUpBindToBinding(e){const o=this._bindToCollection,a=(d,p,y)=>{const w=o._bindToCollection==this,A=o._bindToInternalToExternalMap.get(p);if(w&&A)this._bindToExternalToInternalMap.set(p,A),this._bindToInternalToExternalMap.set(A,p);else{const j=e(p);if(!j)return void this._skippedIndexesFromExternal.push(y);let D=y;for(const I of this._skippedIndexesFromExternal)y>I&&D--;for(const I of o._skippedIndexesFromExternal)D>=I&&D++;this._bindToExternalToInternalMap.set(p,j),this._bindToInternalToExternalMap.set(j,p),this.add(j,D);for(let I=0;I<o._skippedIndexesFromExternal.length;I++)D<=o._skippedIndexesFromExternal[I]&&o._skippedIndexesFromExternal[I]++}};for(const d of o)a(0,d,o.getIndex(d));this.listenTo(o,"add",a),this.listenTo(o,"remove",(d,p,y)=>{const w=this._bindToExternalToInternalMap.get(p);w&&this.remove(w),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((A,j)=>(y<j&&A.push(j-1),y>j&&A.push(j),A),[])})}_getItemIdBeforeAdding(e){const o=this._idProperty;let a;if(o in e){if(a=e[o],typeof a!="string")throw new B("collection-add-invalid-id",this);if(this.get(a))throw new B("collection-add-item-already-exists",this)}else e[o]=a=q();return a}_remove(e){let o,a,d,p=!1;const y=this._idProperty;if(typeof e=="string"?(a=e,d=this._itemMap.get(a),p=!d,d&&(o=this._items.indexOf(d))):typeof e=="number"?(o=e,d=this._items[o],p=!d,d&&(a=d[y])):(d=e,a=d[y],o=this._items.indexOf(d),p=o==-1||!this._itemMap.get(a)),p)throw new B("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(a);const w=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(w),this.fire("remove",d,o),[d,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function pn(c){const e=c.next();return e.done?null:e.value}class ks extends yl(nt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new B("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Bo{constructor(){this._listener=new(yl())}listenTo(e){this._listener.listenTo(e,"keydown",(o,a)=>{this._listener.fire("_keydown:"+Fr(a),a)})}set(e,o,a={}){const d=lr(e),p=a.priority;this._listener.listenTo(this._listener,"_keydown:"+d,(y,w)=>{o(w,()=>{w.preventDefault(),w.stopPropagation(),y.stop()}),y.return=!0},{priority:p})}press(e){return!!this._listener.fire("_keydown:"+Fr(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Cs(c){return Cr(c)?new Map(c):function(e){const o=new Map;for(const a in e)o.set(a,e[a]);return o}(c)}function hi(c,e){let o;function a(...d){a.cancel(),o=setTimeout(()=>c(...d),e)}return a.cancel=()=>{clearTimeout(o)},a}function Hi(c,e){return!!(o=c.charAt(e-1))&&o.length==1&&/[\ud800-\udbff]/.test(o)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(c.charAt(e));var o}function mi(c,e){return!!(o=c.charAt(e))&&o.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const Dg=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,o="(?:"+c.map(a=>a.source).join("|")+")";return new RegExp(`${e}|${o}(?:${o})*`,"ug")}();function gp(c,e){const o=String(c).matchAll(Dg);return Array.from(o).some(a=>a.index<e&&e<a.index+a[0].length)}class Lo extends Fs{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(o,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(o,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...e){if(!e.length||!e.every(o=>typeof o=="string"))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const a of this)for(const d of e)a.delegate(d).to(o);this.on("add",(a,d)=>{for(const p of e)d.delegate(p).to(o)}),this.on("remove",(a,d)=>{for(const p of e)d.stopDelegating(p,o)})}}}_renderViewIntoCollectionParent(e,o){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[o])}remove(e){return super.remove(e)}}var bp=l(6062),it=l.n(bp),cs=l(4793),yp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(cs.Z,yp),cs.Z.locals;class Wt extends yl(nt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Fs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,a)=>{a.locale=e,a.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=pi.bind(this,this)}createCollection(e){const o=new Lo(e);return this._viewCollections.add(o),o}registerChild(e){Cr(e)||(e=[e]);for(const o of e)this._unboundChildren.add(o)}deregisterChild(e){Cr(e)||(e=[e]);for(const o of e)this._unboundChildren.remove(o)}setTemplate(e){this.template=new pi(e)}extendTemplate(e){pi.extend(this.template,e)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class pi extends oe(){constructor(e){super(),Object.assign(this,cv(wc(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(o){if(o.children)for(const a of o.children)kc(a)?yield a:xp(a)&&(yield*e(a))}(this)}static bind(e,o){return{to:(a,d)=>new B1({eventNameOrFunction:a,attribute:a,observable:e,emitter:o,callback:d}),if:(a,d,p)=>new En({observable:e,emitter:o,attribute:a,valueIfTrue:d,callback:p})}}static extend(e,o){if(e._isRendered)throw new B("template-extend-render",[this,e]);_l(e,cv(wc(o)))}_renderNode(e){let o;if(o=e.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let o=e.node;return o||(o=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),o}_renderText(e){let o=e.node;return o?e.revertData.text=o.textContent:o=e.node=document.createTextNode(""),Bd(this.text)?this._bindToObservable({schema:this.text,updater:_h(o),data:e}):o.textContent=this.text.join(""),o}_renderAttributes(e){if(!this.attributes)return;const o=e.node,a=e.revertData;for(const d in this.attributes){const p=o.getAttribute(d),y=this.attributes[d];a&&(a.attributes[d]=p);const w=Rg(y)?y[0].ns:null;if(Bd(y)){const A=Rg(y)?y[0].value:y;a&&Ah(d)&&A.unshift(p),this._bindToObservable({schema:A,updater:Mg(o,d,w),data:e})}else if(d=="style"&&typeof y[0]!="string")this._renderStyleAttribute(y[0],e);else{a&&p&&Ah(d)&&y.unshift(p);const A=y.map(j=>j&&j.value||j).reduce((j,D)=>j.concat(D),[]).reduce(dv,"");Al(A)||o.setAttributeNS(w,d,A)}}}_renderStyleAttribute(e,o){const a=o.node;for(const d in e){const p=e[d];Bd(p)?this._bindToObservable({schema:[p],updater:zd(a,d),data:o}):a.style[d]=p}}_renderElementChildren(e){const o=e.node,a=e.intoFragment?document.createDocumentFragment():o,d=e.isApplying;let p=0;for(const y of this.children)if(Cc(y)){if(!d){y.setParent(o);for(const w of y)a.appendChild(w.element)}}else if(kc(y))d||(y.isRendered||y.render(),a.appendChild(y.element));else if(xa(y))a.appendChild(y);else if(d){const w={children:[],bindings:[],attributes:{}};e.revertData.children.push(w),y._renderNode({intoFragment:!1,node:a.childNodes[p++],isApplying:!0,revertData:w})}else a.appendChild(y.render());e.intoFragment&&o.appendChild(a)}_setUpListeners(e){if(this.eventListeners)for(const o in this.eventListeners){const a=this.eventListeners[o].map(d=>{const[p,y]=o.split("@");return d.activateDomEventListener(p,y,e)});e.revertData&&e.revertData.bindings.push(a)}}_bindToObservable({schema:e,updater:o,data:a}){const d=a.revertData;Ld(e,o,a);const p=e.filter(y=>!Al(y)).filter(y=>y.observable).map(y=>y.activateAttributeListener(e,o,a));d&&d.bindings.push(p)}_revertTemplateFromNode(e,o){for(const d of o.bindings)for(const p of d)p();if(o.text)return void(e.textContent=o.text);const a=e;for(const d in o.attributes){const p=o.attributes[d];p===null?a.removeAttribute(d):a.setAttribute(d,p)}for(let d=0;d<o.children.length;++d)this._revertTemplateFromNode(a.childNodes[d],o.children[d])}}class Ch{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const o=this.observable[this.attribute];return this.callback?this.callback(o,e):o}activateAttributeListener(e,o,a){const d=()=>Ld(e,o,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,d),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,d)}}}class B1 extends Ch{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,o,a){const d=(p,y)=>{o&&!y.target.matches(o)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(y):this.observable.fire(this.eventNameOrFunction,y))};return this.emitter.listenTo(a.node,e,d),()=>{this.emitter.stopListening(a.node,e,d)}}}class En extends Ch{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Al(super.getValue(e))&&(this.valueIfTrue||!0)}}function Bd(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(Bd):c instanceof Ch)}function Ld(c,e,{node:o}){const a=function(p,y){return p.map(w=>w instanceof Ch?w.getValue(y):w)}(c,o);let d;d=c.length==1&&c[0]instanceof En?a[0]:a.reduce(dv,""),Al(d)?e.remove():e.set(d)}function _h(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function Mg(c,e,o){return{set(a){c.setAttributeNS(o,e,a)},remove(){c.removeAttributeNS(o,e)}}}function zd(c,e){return{set(o){c.style[e]=o},remove(){c.style[e]=null}}}function wc(c){return gl(c,e=>{if(e&&(e instanceof Ch||xp(e)||kc(e)||Cc(e)))return e})}function cv(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=Sn(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const o in e)Tg(e,o);return e}(c.on),delete c.on),!c.text){c.attributes&&function(o){for(const a in o)o[a].value&&(o[a].value=Sn(o[a].value)),Tg(o,a)}(c.attributes);const e=[];if(c.children)if(Cc(c.children))e.push(c.children);else for(const o of c.children)xp(o)||kc(o)||xa(o)?e.push(o):e.push(new pi(o));c.children=e}return c}function Tg(c,e){c[e]=Sn(c[e])}function dv(c,e){return Al(e)?c:Al(c)?e:`${c} ${e}`}function Ig(c,e){for(const o in e)c[o]?c[o].push(...e[o]):c[o]=e[o]}function _l(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),Ig(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),Ig(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new B("ui-template-extend-children-mismatch",c);let o=0;for(const a of e.children)_l(c.children[o++],a)}}function Al(c){return!c&&c!==0}function kc(c){return c instanceof Wt}function xp(c){return c instanceof pi}function Cc(c){return c instanceof Lo}function Rg(c){return qe(c[0])&&c[0].ns}function Ah(c){return c=="class"||c=="style"}class Pg extends Lo{constructor(e,o=[]){super(o),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new pi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Ts(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var Og=l(6574),vp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Og.Z,vp),Og.Z.locals;const Bg=class extends Wt{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:o,value:a}of Array.from(c.attributes))Bg.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let qi=Bg;qi.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var Lg=l(4906),uv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Lg.Z,uv),Lg.Z.locals;class hr extends Wt{constructor(e){super(e),this._focusDelayed=null;const o=this.bindTemplate,a=q();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new qi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",p=>!p),o.if("isVisible","ck-hidden",p=>!p),o.to("isOn",p=>p?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],role:o.to("role"),type:o.to("type",p=>p||"button"),tabindex:o.to("tabindex"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy"),"aria-disabled":o.if("isEnabled",!0,p=>!p),"aria-checked":o.to("isOn"),"aria-pressed":o.to("isOn",p=>!!this.isToggleable&&String(!!p)),"data-cke-tooltip-text":o.to("_tooltipString"),"data-cke-tooltip-position":o.to("tooltipPosition")},children:this.children,on:{click:o.to(p=>{this.isEnabled?this.fire("execute"):p.preventDefault()})}};C.isSafari&&(this._focusDelayed||(this._focusDelayed=hi(()=>this.focus(),0)),d.on.mousedown=o.to(()=>{this._focusDelayed()}),d.on.mouseup=o.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const e=new Wt,o=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:o.to("label")}]}),e}_createKeystrokeView(){const e=new Wt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>Cl(o))}]}),e}_getTooltipString(e,o,a){return e?typeof e=="string"?e:(a&&(a=Cl(a)),e instanceof Function?e(o,a):`${o}${a?` (${a})`:""}`):""}}var wp=l(5332),zg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(wp.Z,zg),wp.Z.locals;class fi extends hr{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Wt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var wa=l(6781),Nh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(wa.Z,Nh),wa.Z.locals,l(1103),l(841);var kp=l(3662),Fg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(kp.Z,Fg),kp.Z.locals;class Fd extends Wt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${q()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}var Vd=l(2577),hv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Vd.Z,hv),Vd.Z.locals;class Cp extends Wt{constructor(e,o){super(e);const a=`ck-labeled-field-view-${q()}`,d=`ck-labeled-field-view-status-${q()}`;this.fieldView=o(this,a,d),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(y,w)=>y||w);const p=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",p.to("class"),p.if("isEnabled","ck-disabled",y=>!y),p.if("isEmpty","ck-labeled-field-view_empty"),p.if("isFocused","ck-labeled-field-view_focused"),p.if("placeholder","ck-labeled-field-view_placeholder"),p.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const o=new Fd(this.locale);return o.for=e,o.bind("text").to(this,"label"),o}_createStatusView(e){const o=new Wt(this.locale),a=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:e,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),o}focus(){this.fieldView.focus()}}var _c=l(4879),_p={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(_c.Z,_p),_c.Z.locals;class mv extends Wt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ks,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),inputmode:o.to("inputMode"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,o,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class Vg extends mv{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class Ug extends Wt{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",a=>`ck-dropdown__panel_${a}`),o.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:o.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Y("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var ka=l(5485),Gt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(ka.Z,Gt),ka.Z.locals;const Ar=class extends Wt{constructor(c,e,o){super(c);const a=this.bindTemplate;this.buttonView=e,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Bo,this.focusTracker=new ks,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",d=>!d)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[e,o]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,o,a)=>{a&&(this.panelPosition==="auto"?this.panelView.position=Ar._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const c=(e,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(e,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(e,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:o,southWest:a,northEast:d,northWest:p,southMiddleEast:y,southMiddleWest:w,northMiddleEast:A,northMiddleWest:j}=Ar.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[o,a,y,w,c,d,p,A,j,e]:[a,o,w,y,c,p,d,j,A,e]}};let ln=Ar;ln.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},ln._getOptimalPosition=vl;const jh='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Ud extends hr{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",o=>String(o))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new qi;return e.content=jh,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class zo{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const o in e.actions){let a=e.actions[o];typeof a=="string"&&(a=[a]);for(const d of a)e.keystrokeHandler.set(d,(p,y)=>{this[o](),y()})}}get first(){return this.focusables.find(Gd)||null}get last(){return this.focusables.filter(Gd).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((o,a)=>{const d=o.element===this.focusTracker.focusedElement;return d&&(e=a),d}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const o=this.current,a=this.focusables.length;if(!a)return null;if(o===null)return this[e===1?"first":"last"];let d=(o+a+e)%a;do{const p=this.focusables.get(d);if(Gd(p))return p;d=(d+a+e)%a}while(d!==o);return null}}function Gd(c){return!(!c.focus||!xl(c.element))}class Hd extends Wt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class qd extends Wt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function pv(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class Ge extends nt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Ap,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Ap),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ap(c){c.return=!1,c.stop()}class Vt extends nt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",o=>{if(!this.affectsData)return;const a=e.model.document.selection,d=a.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(a);(e.isReadOnly||this._isEnabledBasedOnSelection&&!d)&&(o.return=!1,o.stop())},{priority:"highest"}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Gg,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Gg),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Gg(c){c.return=!1,c.stop()}class Hg extends Vt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const o=this._getFirstEnabledCommand();return!!o&&o.execute(e)}registerChildCommand(e,o={}){se(this._childCommandsDefinitions,{command:e,priority:o.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:o})=>o.isEnabled);return e&&e.command}}class fv extends oe(){constructor(e,o=[],a=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const d of o)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,p]of a)this._contextPlugins.set(d,p),this._contextPlugins.set(p,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const o=this._plugins.get(e);if(!o){let a=e;throw typeof e=="function"&&(a=e.pluginName||e.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return o}has(e){return this._plugins.has(e)}init(e,o=[],a=[]){const d=this,p=this._context;(function X(re,de=new Set){re.forEach(fe=>{A(fe)&&(de.has(fe)||(de.add(fe),fe.pluginName&&!d._availablePlugins.has(fe.pluginName)&&d._availablePlugins.set(fe.pluginName,fe),fe.requires&&X(fe.requires,de)))})})(e),z(e);const y=[...function X(re,de=new Set){return re.map(fe=>A(fe)?fe:d._availablePlugins.get(fe)).reduce((fe,we)=>de.has(we)?fe:(de.add(we),we.requires&&(z(we.requires,we),X(we.requires,de).forEach(Fe=>fe.add(Fe))),fe.add(we)),new Set)}(e.filter(X=>!D(X,o)))];(function(X,re){for(const de of re){if(typeof de!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:de});const fe=de.pluginName;if(!fe)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:de});if(de.requires&&de.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:fe});const we=d._availablePlugins.get(fe);if(!we)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:fe});const Fe=X.indexOf(we);if(Fe===-1){if(d._contextPlugins.has(we))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:fe})}if(we.requires&&we.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:fe});X.splice(Fe,1,de),d._availablePlugins.set(fe,de)}})(y,a);const w=y.map(X=>{let re=d._contextPlugins.get(X);return re=re||new X(p),d._add(X,re),re});return W(w,"init").then(()=>W(w,"afterInit")).then(()=>w);function A(X){return typeof X=="function"}function j(X){return A(X)&&!!X.isContextPlugin}function D(X,re){return re.some(de=>de===X||I(X)===de||I(de)===X)}function I(X){return A(X)?X.pluginName||X.name:X}function z(X,re=null){X.map(de=>A(de)?de:d._availablePlugins.get(de)||de).forEach(de=>{(function(fe,we){if(!A(fe))throw we?new B("plugincollection-soft-required",p,{missingPlugin:fe,requiredBy:I(we)}):new B("plugincollection-plugin-not-found",p,{plugin:fe})})(de,re),function(fe,we){if(j(we)&&!j(fe))throw new B("plugincollection-context-required",p,{plugin:I(fe),requiredBy:I(we)})}(de,re),function(fe,we){if(we&&D(fe,o))throw new B("plugincollection-required",p,{plugin:I(fe),requiredBy:I(we)})}(de,re)})}function W(X,re){return X.reduce((de,fe)=>fe[re]?d._contextPlugins.has(fe)?de:de.then(fe[re].bind(fe)):de,Promise.resolve())}}destroy(){const e=[];for(const[,o]of this)typeof o.destroy!="function"||this._contextPlugins.has(o)||e.push(o.destroy());return Promise.all(e)}_add(e,o){this._plugins.set(e,o);const a=e.pluginName;if(a){if(this._plugins.has(a))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:e});this._plugins.set(a,o)}}}class Np{constructor(e){this._contextOwner=null,this.config=new Ag(e,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new fv(this,o);const a=this.config.get("language")||{};this.locale=new kh({uiLanguage:typeof a=="string"?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fs}initPlugins(){const e=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const a of e.concat(o)){if(typeof a!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(e,[],o)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,o){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(e),o&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(e[o]=this.config.get(o));return e}static create(e){return new Promise(o=>{const a=new this(e);o(a.initPlugins().then(()=>a))})}}class Yd extends nt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class qg extends Bo{constructor(e){super(),this.editor=e}set(e,o,a={}){if(typeof o=="string"){const d=o;o=(p,y)=>{this.editor.execute(d),y()}}super.set(e,o,a)}}var Vs=l(4717),Dn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Vs.Z,Dn),Vs.Z.locals;const Wd=new WeakMap;let Kd=!1;function Sh({view:c,element:e,text:o,isDirectHost:a=!0,keepOnFocus:d=!1}){const p=c.document;function y(w){Wd.get(p).set(e,{text:w,isDirectHost:a,keepOnFocus:d,hostElement:a?e:null}),c.change(A=>gi(p,A))}Wd.has(p)||(Wd.set(p,new Map),p.registerPostFixer(w=>gi(p,w)),p.on("change:isComposing",()=>{c.change(w=>gi(p,w))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(w,A,j)=>{y(j)}),e.placeholder?y(e.placeholder):o&&y(o),o&&function(){Kd||Y("enableplaceholder-deprecated-text-option"),Kd=!0}()}function Yg(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function gi(c,e){const o=Wd.get(c),a=[];let d=!1;for(const[p,y]of o)y.isDirectHost&&(a.push(p),Eh(e,p,y)&&(d=!0));for(const[p,y]of o){if(y.isDirectHost)continue;const w=Wg(p);w&&(a.includes(w)||(y.hostElement=w,Eh(e,p,y)&&(d=!0)))}return d}function Eh(c,e,o){const{text:a,isDirectHost:d,hostElement:p}=o;let y=!1;return p.getAttribute("data-placeholder")!==a&&(c.setAttribute("data-placeholder",a,p),y=!0),(d||e.childCount==1)&&function(w,A){if(!w.isAttached()||Array.from(w.getChildren()).some(I=>!I.is("uiElement")))return!1;const j=w.document,D=j.selection.anchor;return!(j.isComposing&&D&&D.parent===w||!A&&j.isFocused&&(!D||D.parent===w))}(p,o.keepOnFocus)?function(w,A){return!A.hasClass("ck-placeholder")&&(w.addClass("ck-placeholder",A),!0)}(c,p)&&(y=!0):Yg(c,p)&&(y=!0),y}function Wg(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Ca{is(){throw new Error("is() method is abstract")}}const Kg=function(c){return ba(c,4)};class Nl extends oe(Ca){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let o=this;for(;o.parent;)e.unshift(o.index),o=o.parent;return e}getAncestors(e={}){const o=[];let a=e.includeSelf?this:this.parent;for(;a;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(e,o={}){const a=this.getAncestors(o),d=e.getAncestors(o);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const o=this.getPath(),a=e.getPath(),d=Er(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,o){this.fire(`change:${e}`,o),this.parent&&this.parent._fireChange(e,o)}toJSON(){const e=Kg(this);return delete e.parent,e}}Nl.prototype.is=function(c){return c==="node"||c==="view:node"};class Dr extends Nl{constructor(e,o){super(e),this._textData=o}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Dr&&(this===e||this.data===e.data)}_clone(){return new Dr(this.document,this.data)}}Dr.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class bi extends Ca{constructor(e,o,a){if(super(),this.textNode=e,o<0||o>e.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(a<0||o+a>e.data.length)throw new B("view-textproxy-wrong-length",this);this.data=e.data.substring(o,o+a),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const o=[];let a=e.includeSelf?this.textNode:this.parent;for(;a!==null;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}}bi.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class Fo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let o of e)(typeof o=="string"||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...e){for(const o of e)for(const a of this._patterns){const d=Qg(o,a);if(d)return{element:o,pattern:a,match:d}}return null}matchAll(...e){const o=[];for(const a of e)for(const d of this._patterns){const p=Qg(a,d);p&&o.push({element:a,pattern:d,match:p})}return o.length>0?o:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],o=e.name;return typeof e=="function"||!o||o instanceof RegExp?null:o}}function Qg(c,e){if(typeof e=="function")return e(c);const o={};return e.name&&(o.name=function(a,d){return a instanceof RegExp?!!d.match(a):a===d}(e.name,c.name),!o.name)||e.attributes&&(o.attributes=function(a,d){const p=new Set(d.getAttributeKeys());return br(a)?(a.style!==void 0&&Y("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&Y("matcher-pattern-deprecated-attributes-class-key",a)):(p.delete("style"),p.delete("class")),Dh(a,p,y=>d.getAttribute(y))}(e.attributes,c),!o.attributes)||e.classes&&(o.classes=function(a,d){return Dh(a,d.getClassNames(),()=>{})}(e.classes,c),!o.classes)||e.styles&&(o.styles=function(a,d){return Dh(a,d.getStyleNames(!0),p=>d.getStyle(p))}(e.styles,c),!o.styles)?null:o}function Dh(c,e,o){const a=function(y){return Array.isArray(y)?y.map(w=>br(w)?(w.key!==void 0&&w.value!==void 0||Y("matcher-pattern-missing-key-or-value",w),[w.key,w.value]):[w,!0]):br(y)?Object.entries(y):[[y,!0]]}(c),d=Array.from(e),p=[];if(a.forEach(([y,w])=>{d.forEach(A=>{(function(j,D){return j===!0||j===D||j instanceof RegExp&&D.match(j)})(y,A)&&function(j,D,I){if(j===!0)return!0;const z=I(D);return j===z||j instanceof RegExp&&!!String(z).match(j)}(w,A,o)&&p.push(A)})}),a.length&&!(p.length<a.length))return p}const Mh=function(c){return typeof c=="symbol"||Dt(c)&&Jt(c)=="[object Symbol]"};var L1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gv=/^\w*$/;const bv=function(c,e){if(Pt(c))return!1;var o=typeof c;return!(o!="number"&&o!="symbol"&&o!="boolean"&&c!=null&&!Mh(c))||gv.test(c)||!L1.test(c)||e!=null&&c in Object(e)};function jp(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var o=function(){var a=arguments,d=e?e.apply(this,a):a[0],p=o.cache;if(p.has(d))return p.get(d);var y=c.apply(this,a);return o.cache=p.set(d,y)||p,y};return o.cache=new(jp.Cache||Ls),o}jp.Cache=Ls;const Jg=jp,yv=function(c){var e=Jg(c,function(a){return o.size===500&&o.clear(),a}),o=e.cache;return e};var xv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vv=/\\(\\)?/g,wv=yv(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(xv,function(o,a,d,p){e.push(d?p.replace(vv,"$1"):a||o)}),e});const kv=wv,z1=function(c,e){for(var o=-1,a=c==null?0:c.length,d=Array(a);++o<a;)d[o]=e(c[o],o,c);return d};var Xg=wt?wt.prototype:void 0,Ac=Xg?Xg.toString:void 0;const Sp=function c(e){if(typeof e=="string")return e;if(Pt(e))return z1(e,c)+"";if(Mh(e))return Ac?Ac.call(e):"";var o=e+"";return o=="0"&&1/e==-1/0?"-0":o},Ep=function(c){return c==null?"":Sp(c)},Qd=function(c,e){return Pt(c)?c:bv(c,e)?[c]:kv(Ep(c))},Th=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},Dp=function(c){if(typeof c=="string"||Mh(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},$g=function(c,e){for(var o=0,a=(e=Qd(e,c)).length;c!=null&&o<a;)c=c[Dp(e[o++])];return o&&o==a?c:void 0},Zg=function(c,e,o){var a=-1,d=c.length;e<0&&(e=-e>d?0:d+e),(o=o>d?d:o)<0&&(o+=d),d=e>o?0:o-e>>>0,e>>>=0;for(var p=Array(d);++a<d;)p[a]=c[a+e];return p},Cv=function(c,e){return e.length<2?c:$g(c,Zg(e,0,-1))},_v=function(c,e){return e=Qd(e,c),(c=Cv(c,e))==null||delete c[Dp(Th(e))]},Av=function(c,e){return c==null||_v(c,e)},Jd=function(c,e,o){var a=c==null?void 0:$g(c,e);return a===void 0?o:a},Mp=function(c,e,o){(o!==void 0&&!jt(c[e],o)||o===void 0&&!(e in c))&&oh(c,e,o)},Nv=function(c){return function(e,o,a){for(var d=-1,p=Object(e),y=a(e),w=y.length;w--;){var A=y[++d];if(o(p[A],A,p)===!1)break}return e}}(),eb=function(c){return Dt(c)&&hl(c)},tb=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},jv=function(c){return as(c,Ro(c))},F1=function(c,e,o,a,d,p,y){var w=tb(c,o),A=tb(e,o),j=y.get(A);if(j)Mp(c,o,j);else{var D=void 0,I=D===void 0;if(I){var z=Pt(A),W=!z&&To(A),X=!z&&!W&&dl(A);D=A,z||W||X?Pt(w)?D=w:eb(w)?D=dh(w):W?(I=!1,D=mc(A,!0)):X?(I=!1,D=tv(A,!0)):D=[]:br(A)||ha(A)?(D=w,ha(w)?D=jv(w):qe(w)&&!mn(w)||(D=kg(A))):I=!1}I&&(y.set(A,D),d(D,A,a,p,y),y.delete(A)),Mp(c,o,D)}},rb=function c(e,o,a,d,p){e!==o&&Nv(o,function(y,w){if(p||(p=new da),qe(y))F1(e,o,w,a,c,d,p);else{var A=void 0;A===void 0&&(A=y),Mp(e,w,A)}},Ro)},jl=function(c){return c},Sv=function(c,e,o){switch(o.length){case 0:return c.call(e);case 1:return c.call(e,o[0]);case 2:return c.call(e,o[0],o[1]);case 3:return c.call(e,o[0],o[1],o[2])}return c.apply(e,o)};var Tp=Math.max;const Ev=function(c,e,o){return e=Tp(e===void 0?c.length-1:e,0),function(){for(var a=arguments,d=-1,p=Tp(a.length-e,0),y=Array(p);++d<p;)y[d]=a[e+d];d=-1;for(var w=Array(e+1);++d<e;)w[d]=a[d];return w[e]=o(y),Sv(c,this,w)}},Dv=function(c){return function(){return c}},V1=_d?function(c,e){return _d(c,"toString",{configurable:!0,enumerable:!1,value:Dv(e),writable:!0})}:jl;var U1=Date.now;const Ih=function(c){var e=0,o=0;return function(){var a=U1(),d=16-(a-o);if(o=a,d>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(V1),nb=function(c,e){return Ih(Ev(c,e,jl),c+"")},Ip=function(c,e,o){if(!qe(o))return!1;var a=typeof e;return!!(a=="number"?hl(o)&&dc(e,o.length):a=="string"&&e in o)&&jt(o[e],c)},sb=function(c){return nb(function(e,o){var a=-1,d=o.length,p=d>1?o[d-1]:void 0,y=d>2?o[2]:void 0;for(p=c.length>3&&typeof p=="function"?(d--,p):void 0,y&&Ip(o[0],o[1],y)&&(p=d<3?void 0:p,d=1),e=Object(e);++a<d;){var w=o[a];w&&c(e,w,a,p)}return e})},ob=sb(function(c,e,o){rb(c,e,o)}),Rp=function(c,e,o,a){if(!qe(c))return c;for(var d=-1,p=(e=Qd(e,c)).length,y=p-1,w=c;w!=null&&++d<p;){var A=Dp(e[d]),j=o;if(A==="__proto__"||A==="constructor"||A==="prototype")return c;if(d!=y){var D=w[A];(j=void 0)==void 0&&(j=qe(D)?D:dc(e[d+1])?[]:{})}ii(w,A,j),w=w[A]}return c},Mv=function(c,e,o){return c==null?c:Rp(c,e,o)};class Tv{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const o=Array.from(function(a){let d=null,p=0,y=0,w=null;const A=new Map;if(a==="")return A;a.charAt(a.length-1)!=";"&&(a+=";");for(let j=0;j<a.length;j++){const D=a.charAt(j);if(d===null)switch(D){case":":w||(w=a.substr(p,j-p),y=j+1);break;case'"':case"'":d=D;break;case";":{const I=a.substr(y,j-y);w&&A.set(w.trim(),I.trim()),w=null,p=j+1;break}}else D===d&&(d=null)}return A}(e).entries());for(const[a,d]of o)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(e){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(o)}set(e,o){if(qe(e))for(const[a,d]of Object.entries(e))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(e,o,this._styles)}remove(e){const o=Sl(e);Av(this._styles,o),delete this._styles[e],this._cleanEmptyObjectsOnPath(o)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!qe(this._styles[e]))return this._styles[e];const o=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(o)?o[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([o])=>o)}clear(){this._styles={}}_getStylesEntries(){const e=[],o=Object.keys(this._styles);for(const a of o)e.push(...this._styleProcessor.getReducedForm(a,this._styles));return e}_cleanEmptyObjectsOnPath(e){const o=e.split(".");if(!(o.length>1))return;const a=o.splice(0,o.length-1).join("."),d=Jd(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}}class H1{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,o,a){if(qe(o))Nc(a,Sl(e),o);else if(this._normalizers.has(e)){const d=this._normalizers.get(e),{path:p,value:y}=d(o);Nc(a,p,y)}else Nc(a,e,o)}getNormalized(e,o){if(!e)return ob({},o);if(o[e]!==void 0)return o[e];if(this._extractors.has(e)){const a=this._extractors.get(e);if(typeof a=="string")return Jd(o,a);const d=a(e,o);if(d)return d}return Jd(o,Sl(e))}getReducedForm(e,o){const a=this.getNormalized(e,o);return a===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(a):[[e,a]]}getStyleNames(e){const o=Array.from(this._consumables.keys()).filter(d=>{const p=this.getNormalized(d,e);return p&&typeof p=="object"?Object.keys(p).length:p}),a=new Set([...o,...Object.keys(e)]);return Array.from(a.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,o){this._normalizers.set(e,o)}setExtractor(e,o){this._extractors.set(e,o)}setReducer(e,o){this._reducers.set(e,o)}setStyleRelation(e,o){this._mapStyleNames(e,o);for(const a of o)this._mapStyleNames(a,[e])}_mapStyleNames(e,o){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...o)}}function Sl(c){return c.replace("-",".")}function Nc(c,e,o){let a=o;qe(o)&&(a=ob({},Jd(c,e),o)),Mv(c,e,a)}class _s extends Nl{constructor(e,o,a,d){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=o,this._attrs=function(p){const y=Cs(p);for(const[w,A]of y)A===null?y.delete(w):typeof A!="string"&&y.set(w,String(A));return y}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const p=this._attrs.get("class");Xd(this._classes,p),this._attrs.delete("class")}this._styles=new Tv(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const o=this._styles.toString();return o==""?void 0:o}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof _s))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[o,a]of this._attrs)if(!e._attrs.has(o)||e._attrs.get(o)!==a)return!1;for(const o of this._classes)if(!e._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!e._styles.has(o)||e._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...e){for(const o of e)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const o of e)if(!this._styles.has(o))return!1;return!0}findAncestor(...e){const o=new Fo(...e);let a=this.parent;for(;a&&!a.is("documentFragment");){if(o.match(a))return a;a=a.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),o=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(o?` style="${o}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const o=[];if(e)for(const d of this.getChildren())o.push(d._clone(e));const a=new this.constructor(this.document,this.name,this._attrs,o);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,o){this._fireChange("children",this);let a=0;const d=function(p,y){return typeof y=="string"?[new Dr(p,y)]:(Cr(y)||(y=[y]),Array.from(y).map(w=>typeof w=="string"?new Dr(p,w):w instanceof bi?new Dr(p,w.data):w))}(this.document,o);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,p.document=this.document,this._children.splice(e,0,p),e++,a++;return a}_removeChildren(e,o=1){this._fireChange("children",this);for(let a=e;a<e+o;a++)this._children[a].parent=null;return this._children.splice(e,o)}_setAttribute(e,o){const a=String(o);this._fireChange("attributes",this),e=="class"?Xd(this._classes,a):e=="style"?this._styles.setTo(a):this._attrs.set(e,a)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const o of Sn(e))this._classes.add(o)}_removeClass(e){this._fireChange("attributes",this);for(const o of Sn(e))this._classes.delete(o)}_setStyle(e,o){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,o)}_removeStyle(e){this._fireChange("attributes",this);for(const o of Sn(e))this._styles.remove(o)}_setCustomProperty(e,o){this._customProperties.set(e,o)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Xd(c,e){const o=e.split(/\s+/);c.clear(),o.forEach(a=>c.add(a))}_s.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class El extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=ib}}function ib(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const o of c)if(!o.is("uiElement"))return null;return this.childCount}El.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Rh extends nt(El){constructor(e,o,a,d){super(e,o,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",p=>p&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Rh.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const jc=Symbol("rootName");class ab extends Rh{constructor(e,o){super(e,o),this.rootName="main"}get rootName(){return this.getCustomProperty(jc)}set rootName(e){this._setCustomProperty(jc,e)}set _name(e){this.name=e}}ab.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Wn{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new B("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new B("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=$e._createAt(e.startPosition):this._position=$e._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let o,a;do a=this.position,o=this.next();while(!o.done&&e(o.value));o.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const o=this.position,a=e.parent;if(a.parent===null&&e.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let d;if(a instanceof Dr){if(e.isAtEnd)return this._position=$e._createAfter(a),this._next();d=a.data[e.offset]}else d=a.getChild(e.offset);if(d instanceof _s){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new $e(d,0);return this._position=e,this._formatReturnValue("elementStart",d,o,e,1)}if(d instanceof Dr){if(this.singleCharacters)return e=new $e(d,0),this._position=e,this._next();let p,y=d.data.length;return d==this._boundaryEndParent?(y=this.boundaries.end.offset,p=new bi(d,0,y),e=$e._createAfter(p)):(p=new bi(d,0,d.data.length),e.offset++),this._position=e,this._formatReturnValue("text",p,o,e,y)}if(typeof d=="string"){let p;this.singleCharacters?p=1:p=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-e.offset;const y=new bi(a,e.offset,p);return e.offset+=p,this._position=e,this._formatReturnValue("text",y,o,e,p)}return e=$e._createAfter(a),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,o,e)}_previous(){let e=this.position.clone();const o=this.position,a=e.parent;if(a.parent===null&&e.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let d;if(a instanceof Dr){if(e.isAtStart)return this._position=$e._createBefore(a),this._previous();d=a.data[e.offset-1]}else d=a.getChild(e.offset-1);if(d instanceof _s)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",d,o,e,1)):(e=new $e(d,d.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,o,e));if(d instanceof Dr){if(this.singleCharacters)return e=new $e(d,d.data.length),this._position=e,this._previous();let p,y=d.data.length;if(d==this._boundaryStartParent){const w=this.boundaries.start.offset;p=new bi(d,w,d.data.length-w),y=p.data.length,e=$e._createBefore(p)}else p=new bi(d,0,d.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",p,o,e,y)}if(typeof d=="string"){let p;if(this.singleCharacters)p=1;else{const w=a===this._boundaryStartParent?this.boundaries.start.offset:0;p=e.offset-w}e.offset-=p;const y=new bi(a,e.offset,p);return this._position=e,this._formatReturnValue("text",y,o,e,p)}return e=$e._createBefore(a),this._position=e,this._formatReturnValue("elementStart",a,o,e,1)}_formatReturnValue(e,o,a,d,p){return o instanceof bi&&(o.offsetInText+o.data.length==o.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=$e._createAfter(o.textNode):(d=$e._createAfter(o.textNode),this._position=d)),o.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=$e._createBefore(o.textNode):(d=$e._createBefore(o.textNode),this._position=d))),{done:!1,value:{type:e,item:o,previousPosition:a,nextPosition:d,length:p}}}}class $e extends Ca{constructor(e,o){super(),this.parent=e,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Rh);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const o=$e._createAt(this),a=o.offset+e;return o.offset=a<0?0:a,o}getLastMatchingPosition(e,o={}){o.startPosition=this;const a=new Wn(o);return a.skip(e),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const o=this.getAncestors(),a=e.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return d===0?null:o[d-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const o=this.parent.is("node")?this.parent.getPath():[],a=e.parent.is("node")?e.parent.getPath():[];o.push(this.offset),a.push(e.offset);const d=Er(o,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return o[d]<a[d]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Wn(e)}clone(){return new $e(this.parent,this.offset)}static _createAt(e,o){if(e instanceof $e)return new this(e.parent,e.offset);{const a=e;if(o=="end")o=a.is("$text")?a.data.length:a.childCount;else{if(o=="before")return this._createBefore(a);if(o=="after")return this._createAfter(a);if(o!==0&&!o)throw new B("view-createpositionat-offset-required",a)}return new $e(a,o)}}static _createAfter(e){if(e.is("$textProxy"))return new $e(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new B("view-position-after-root",e,{root:e});return new $e(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new $e(e.textNode,e.offsetInText);if(!e.parent)throw new B("view-position-before-root",e,{root:e});return new $e(e.parent,e.index)}}$e.prototype.is=function(c){return c==="position"||c==="view:position"};class pt extends Ca{constructor(e,o=null){super(),this.start=e.clone(),this.end=o?o.clone():e.clone()}*[Symbol.iterator](){yield*new Wn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Ph,{direction:"backward"}),o=this.end.getLastMatchingPosition(Ph);return e.parent.is("$text")&&e.isAtStart&&(e=$e._createBefore(e.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=$e._createAfter(o.parent)),new pt(e,o)}getTrimmed(){let e=this.start.getLastMatchingPosition(Ph);if(e.isAfter(this.end)||e.isEqual(this.end))return new pt(e,e);let o=this.end.getLastMatchingPosition(Ph,{direction:"backward"});const a=e.nodeAfter,d=o.nodeBefore;return a&&a.is("$text")&&(e=new $e(a,0)),d&&d.is("$text")&&(o=new $e(d,d.data.length)),new pt(e,o)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,o=!1){e.isCollapsed&&(o=!1);const a=this.containsPosition(e.start)||o&&this.start.isEqual(e.start),d=this.containsPosition(e.end)||o&&this.end.isEqual(e.end);return a&&d}getDifference(e){const o=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&o.push(new pt(this.start,e.start)),this.containsPosition(e.end)&&o.push(new pt(e.end,this.end))):o.push(this.clone()),o}getIntersection(e){if(this.isIntersecting(e)){let o=this.start,a=this.end;return this.containsPosition(e.start)&&(o=e.start),this.containsPosition(e.end)&&(a=e.end),new pt(o,a)}return null}getWalker(e={}){return e.boundaries=this,new Wn(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),e&&e.is("element")&&e===o?e:null}clone(){return new pt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const o=new Wn(e);for(const a of o)yield a.item}*getPositions(e={}){e.boundaries=this;const o=new Wn(e);yield o.position;for(const a of o)yield a.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,o,a,d){return new this(new $e(e,o),new $e(a,d))}static _createFromPositionAndShift(e,o){const a=e,d=e.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const o=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift($e._createBefore(e),o)}}function Ph(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}pt.prototype.is=function(c){return c==="range"||c==="view:range"};class ds extends oe(Ca){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const o of this._ranges)e&&!o.start.isBefore(e.start)||(e=o);return e?e.clone():null}getLastRange(){let e=null;for(const o of this._ranges)e&&!o.end.isAfter(e.end)||(e=o);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of e._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const o=Yr(this.getRanges());if(o!=Yr(e.getRanges()))return!1;if(o==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let p of e.getRanges())if(p=p.getTrimmed(),a.start.isEqual(p.start)&&a.end.isEqual(p.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[o,a,d]=e;if(typeof a=="object"&&(d=a,a=void 0),o===null)this._setRanges([]),this._setFakeOptions(d);else if(o instanceof ds||o instanceof yi)this._setRanges(o.getRanges(),o.isBackward),this._setFakeOptions({fake:o.isFake,label:o.fakeSelectionLabel});else if(o instanceof pt)this._setRanges([o],d&&d.backward),this._setFakeOptions(d);else if(o instanceof $e)this._setRanges([new pt(o)]),this._setFakeOptions(d);else if(o instanceof Nl){const p=!!d&&!!d.backward;let y;if(a===void 0)throw new B("view-selection-setto-required-second-parameter",this);y=a=="in"?pt._createIn(o):a=="on"?pt._createOn(o):new pt($e._createAt(o,a)),this._setRanges([y],p),this._setFakeOptions(d)}else{if(!Cr(o))throw new B("view-selection-setto-not-selectable",this);this._setRanges(o,d&&d.backward),this._setFakeOptions(d)}this.fire("change")}setFocus(e,o){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const a=$e._createAt(e,o);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.pop(),a.compareWith(d)=="before"?this._addRange(new pt(a,d),!0):this._addRange(new pt(d,a)),this.fire("change")}_setRanges(e,o=!1){e=Array.from(e),this._ranges=[];for(const a of e)this._addRange(a);this._lastRangeBackward=!!o}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,o=!1){if(!(e instanceof pt))throw new B("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!o}_pushRange(e){for(const o of this._ranges)if(e.isIntersecting(o))throw new B("view-selection-range-intersects",this,{addedRange:e,intersectingRange:o});this._ranges.push(new pt(e.start,e.end))}}ds.prototype.is=function(c){return c==="selection"||c==="view:selection"};class yi extends oe(Ca){constructor(...e){super(),this._selection=new ds,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,o){this._selection.setFocus(e,o)}}yi.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Kr extends U{constructor(e,o,a){super(e,o),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const $d=Symbol("bubbling contexts");function Oh(c){return class extends c{fire(e,...o){try{const a=e instanceof U?e:new U(this,e),d=_a(this);if(!d.size)return;if(Sc(a,"capturing",this),Ec(d,"$capture",a,...o))return a.return;const p=a.startRange||this.selection.getFirstRange(),y=p?p.getContainedElement():null,w=!!y&&!!lb(d,y);let A=y||function(j){if(!j)return null;const D=j.start.parent,I=j.end.parent,z=D.getPath(),W=I.getPath();return z.length>W.length?D:I}(p);if(Sc(a,"atTarget",A),!w){if(Ec(d,"$text",a,...o))return a.return;Sc(a,"bubbling",A)}for(;A;){if(A.is("rootElement")){if(Ec(d,"$root",a,...o))return a.return}else if(A.is("element")&&Ec(d,A.name,a,...o))return a.return;if(Ec(d,A,a,...o))return a.return;A=A.parent,Sc(a,"bubbling",A)}return Sc(a,"bubbling",this),Ec(d,"$document",a,...o),a.return}catch(a){B.rethrowUnexpectedError(a,this)}}_addEventListener(e,o,a){const d=Sn(a.context||"$document"),p=_a(this);for(const y of d){let w=p.get(y);w||(w=new(oe()),p.set(y,w)),this.listenTo(w,e,o,a)}}_removeEventListener(e,o){const a=_a(this);for(const d of a.values())this.stopListening(d,e,o)}}}{const c=Oh(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Oh[e]=c.prototype[e]})}function Sc(c,e,o){c instanceof Kr&&(c._eventPhase=e,c._currentTarget=o)}function Ec(c,e,o,...a){const d=typeof e=="string"?c.get(e):lb(c,e);return!!d&&(d.fire(o,...a),o.stop.called)}function lb(c,e){for(const[o,a]of c)if(typeof o=="function"&&o(e))return a;return null}function _a(c){return c[$d]||(c[$d]=new Map),c[$d]}class Dc extends Oh(nt()){constructor(e){super(),this._postFixers=new Set,this.selection=new yi,this.roots=new Fs({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let o=!1;do for(const a of this._postFixers)if(o=a(e),o)break;while(o)}}class Dl extends _s{constructor(e,o,a,d){super(e,o,a,d),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Iv}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const o=super._clone(e);return o._priority=this._priority,o._id=this._id,o}}function Iv(){if(Pp(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Pp(c)>1)return null;c=c.parent}return!c||Pp(c)>1?null:this.childCount}function Pp(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}Dl.DEFAULT_PRIORITY=10,Dl.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Zd extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=Rv}_insertChild(e,o){if(o&&(o instanceof Nl||Array.from(o).length>0))throw new B("view-emptyelement-cannot-add",[this,o]);return 0}}function Rv(){return null}Zd.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class eu extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=Ov}_insertChild(e,o){if(o&&(o instanceof Nl||Array.from(o).length>0))throw new B("view-uielement-cannot-add",[this,o]);return 0}render(e,o){return this.toDomElement(e)}toDomElement(e){const o=e.createElement(this.name);for(const a of this.getAttributeKeys())o.setAttribute(a,this.getAttribute(a));return o}}function Pv(c){c.document.on("arrowKey",(e,o)=>function(a,d,p){if(d.keyCode==tr.arrowright){const y=d.domTarget.ownerDocument.defaultView.getSelection(),w=y.rangeCount==1&&y.getRangeAt(0).collapsed;if(w||d.shiftKey){const A=y.focusNode,j=y.focusOffset,D=p.domPositionToView(A,j);if(D===null)return;let I=!1;const z=D.getLastMatchingPosition(W=>(W.item.is("uiElement")&&(I=!0),!(!W.item.is("uiElement")&&!W.item.is("attributeElement"))));if(I){const W=p.viewPositionToDom(z);w?y.collapse(W.parent,W.offset):y.extend(W.parent,W.offset)}}}}(0,o,c.domConverter),{priority:"low"})}function Ov(){return null}eu.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class cb extends _s{constructor(e,o,a,d){super(e,o,a,d),this.getFillerOffset=Bv}_insertChild(e,o){if(o&&(o instanceof Nl||Array.from(o).length>0))throw new B("view-rawelement-cannot-add",[this,o]);return 0}render(e,o){}}function Bv(){return null}cb.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Qr extends oe(Ca){constructor(e,o){super(),this._children=[],this._customProperties=new Map,this.document=e,o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,o){this._fireChange("children",this);let a=0;const d=function(p,y){return typeof y=="string"?[new Dr(p,y)]:(Cr(y)||(y=[y]),Array.from(y).map(w=>typeof w=="string"?new Dr(p,w):w instanceof bi?new Dr(p,w.data):w))}(this.document,o);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,this._children.splice(e,0,p),e++,a++;return a}_removeChildren(e,o=1){this._fireChange("children",this);for(let a=e;a<e+o;a++)this._children[a].parent=null;return this._children.splice(e,o)}_fireChange(e,o){this.fire("change:"+e,o)}_setCustomProperty(e,o){this._customProperties.set(e,o)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Qr.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class Kn{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,o){this.document.selection._setFocus(e,o)}createDocumentFragment(e){return new Qr(this.document,e)}createText(e){return new Dr(this.document,e)}createAttributeElement(e,o,a={}){const d=new Dl(this.document,e,o);return typeof a.priority=="number"&&(d._priority=a.priority),a.id&&(d._id=a.id),a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createContainerElement(e,o,a={},d={}){let p=null;br(a)?d=a:p=a;const y=new El(this.document,e,o,p);return d.renderUnsafeAttributes&&y._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),y}createEditableElement(e,o,a={}){const d=new Rh(this.document,e,o);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createEmptyElement(e,o,a={}){const d=new Zd(this.document,e,o);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createUIElement(e,o,a){const d=new eu(this.document,e,o);return a&&(d.render=a),d}createRawElement(e,o,a,d={}){const p=new cb(this.document,e,o);return a&&(p.render=a),d.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),p}setAttribute(e,o,a){a._setAttribute(e,o)}removeAttribute(e,o){o._removeAttribute(e)}addClass(e,o){o._addClass(e)}removeClass(e,o){o._removeClass(e)}setStyle(e,o,a){br(e)&&a===void 0?o._setStyle(e):a._setStyle(e,o)}removeStyle(e,o){o._removeStyle(e)}setCustomProperty(e,o,a){a._setCustomProperty(e,o)}removeCustomProperty(e,o){return o._removeCustomProperty(e)}breakAttributes(e){return e instanceof $e?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const o=e.parent;if(!o.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!o.parent)throw new B("view-writer-break-root",this.document);if(e.isAtStart)return $e._createBefore(o);if(!e.isAtEnd){const a=o._clone(!1);this.insert($e._createAfter(o),a);const d=new pt(e,$e._createAt(o,"end")),p=new $e(a,0);this.move(d,p)}return $e._createAfter(o)}mergeAttributes(e){const o=e.offset,a=e.parent;if(a.is("$text"))return e;if(a.is("attributeElement")&&a.childCount===0){const y=a.parent,w=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new $e(y,w))}const d=a.getChild(o-1),p=a.getChild(o);if(!d||!p)return e;if(d.is("$text")&&p.is("$text"))return ub(d,p);if(d.is("attributeElement")&&p.is("attributeElement")&&d.isSimilar(p)){const y=d.childCount;return d._appendChild(p.getChildren()),p._remove(),this._removeFromClonedElementsGroup(p),this.mergeAttributes(new $e(d,y))}return e}mergeContainers(e){const o=e.nodeBefore,a=e.nodeAfter;if(!(o&&a&&o.is("containerElement")&&a.is("containerElement")))throw new B("view-writer-merge-containers-invalid-position",this.document);const d=o.getChild(o.childCount-1),p=d instanceof Dr?$e._createAt(d,"end"):$e._createAt(o,"end");return this.move(pt._createIn(a),$e._createAt(o,"end")),this.remove(pt._createOn(a)),p}insert(e,o){zp(o=Cr(o)?[...o]:[o],this.document);const a=o.reduce((y,w)=>{const A=y[y.length-1],j=!w.is("uiElement");return A&&A.breakAttributes==j?A.nodes.push(w):y.push({breakAttributes:j,nodes:[w]}),y},[]);let d=null,p=e;for(const{nodes:y,breakAttributes:w}of a){const A=this._insertNodes(p,y,w);d||(d=A.start),p=A.end}return d?new pt(d,p):new pt(e)}remove(e){const o=e instanceof pt?e:pt._createOn(e);if(tu(o,this.document),o.isCollapsed)return new Qr(this.document);const{start:a,end:d}=this._breakAttributesRange(o,!0),p=a.parent,y=d.offset-a.offset,w=p._removeChildren(a.offset,y);for(const j of w)this._removeFromClonedElementsGroup(j);const A=this.mergeAttributes(a);return o.start=A,o.end=A.clone(),new Qr(this.document,w)}clear(e,o){tu(e,this.document);const a=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const p=d.item;let y;if(p.is("element")&&o.isSimilar(p))y=pt._createOn(p);else if(!d.nextPosition.isAfter(e.start)&&p.is("$textProxy")){const w=p.getAncestors().find(A=>A.is("element")&&o.isSimilar(A));w&&(y=pt._createIn(w))}y&&(y.end.isAfter(e.end)&&(y.end=e.end),y.start.isBefore(e.start)&&(y.start=e.start),this.remove(y))}}move(e,o){let a;if(o.isAfter(e.end)){const d=(o=this._breakAttributes(o,!0)).parent,p=d.childCount;e=this._breakAttributesRange(e,!0),a=this.remove(e),o.offset+=d.childCount-p}else a=this.remove(e);return this.insert(o,a)}wrap(e,o){if(!(o instanceof Dl))throw new B("view-writer-wrap-invalid-attribute",this.document);if(tu(e,this.document),e.isCollapsed){let d=e.start;d.parent.is("element")&&(a=d.parent,!Array.from(a.getChildren()).some(y=>!y.is("uiElement")))&&(d=d.getLastMatchingPosition(y=>y.item.is("uiElement"))),d=this._wrapPosition(d,o);const p=this.document.selection;return p.isCollapsed&&p.getFirstPosition().isEqual(e.start)&&this.setSelection(d),new pt(d)}return this._wrapRange(e,o);var a}unwrap(e,o){if(!(o instanceof Dl))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(tu(e,this.document),e.isCollapsed)return e;const{start:a,end:d}=this._breakAttributesRange(e,!0),p=a.parent,y=this._unwrapChildren(p,a.offset,d.offset,o),w=this.mergeAttributes(y.start);w.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new pt(w,A)}rename(e,o){const a=new El(this.document,e,o.getAttributes());return this.insert($e._createAfter(o),a),this.move(pt._createIn(o),$e._createAt(a,0)),this.remove(pt._createOn(o)),a}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,o){return $e._createAt(e,o)}createPositionAfter(e){return $e._createAfter(e)}createPositionBefore(e){return $e._createBefore(e)}createRange(e,o){return new pt(e,o)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ds(...e)}createSlot(e="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,o,a){let d,p;if(d=a?Op(e):e.parent.is("$text")?e.parent.parent:e.parent,!d)throw new B("view-writer-invalid-position-container",this.document);p=a?this._breakAttributes(e,!0):e.parent.is("$text")?Bp(e):e;const y=d._insertChild(p.offset,o);for(const D of o)this._addToClonedElementsGroup(D);const w=p.getShiftedBy(y),A=this.mergeAttributes(p);A.isEqual(p)||w.offset--;const j=this.mergeAttributes(w);return new pt(A,j)}_wrapChildren(e,o,a,d){let p=o;const y=[];for(;p<a;){const A=e.getChild(p),j=A.is("$text"),D=A.is("attributeElement");if(D&&this._wrapAttributeElement(d,A))y.push(new $e(e,p));else if(j||!D||Lv(d,A)){const I=d._clone();A._remove(),I._appendChild(A),e._insertChild(p,I),this._addToClonedElementsGroup(I),y.push(new $e(e,p))}else this._wrapChildren(A,0,A.childCount,d);p++}let w=0;for(const A of y)A.offset-=w,A.offset!=o&&(this.mergeAttributes(A).isEqual(A)||(w++,a--));return pt._createFromParentsAndOffsets(e,o,e,a)}_unwrapChildren(e,o,a,d){let p=o;const y=[];for(;p<a;){const A=e.getChild(p);if(A.is("attributeElement"))if(A.isSimilar(d)){const j=A.getChildren(),D=A.childCount;A._remove(),e._insertChild(p,j),this._removeFromClonedElementsGroup(A),y.push(new $e(e,p),new $e(e,p+D)),p+=D,a+=D-1}else this._unwrapAttributeElement(d,A)?(y.push(new $e(e,p),new $e(e,p+1)),p++):(this._unwrapChildren(A,0,A.childCount,d),p++);else p++}let w=0;for(const A of y)A.offset-=w,!(A.offset==o||A.offset==a)&&(this.mergeAttributes(A).isEqual(A)||(w++,a--));return pt._createFromParentsAndOffsets(e,o,e,a)}_wrapRange(e,o){const{start:a,end:d}=this._breakAttributesRange(e,!0),p=a.parent,y=this._wrapChildren(p,a.offset,d.offset,o),w=this.mergeAttributes(y.start);w.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new pt(w,A)}_wrapPosition(e,o){if(o.isSimilar(e.parent))return db(e.clone());e.parent.is("$text")&&(e=Bp(e));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,e.parent._insertChild(e.offset,a);const d=new pt(e,e.getShiftedBy(1));this.wrap(d,o);const p=new $e(a.parent,a.index);a._remove();const y=p.nodeBefore,w=p.nodeAfter;return y instanceof Dr&&w instanceof Dr?ub(y,w):db(p)}_wrapAttributeElement(e,o){if(!hb(e,o)||e.name!==o.name||e.priority!==o.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&o.hasAttribute(a)&&o.getAttribute(a)!==e.getAttribute(a))return!1;for(const a of e.getStyleNames())if(o.hasStyle(a)&&o.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&(o.hasAttribute(a)||this.setAttribute(a,e.getAttribute(a),o));for(const a of e.getStyleNames())o.hasStyle(a)||this.setStyle(a,e.getStyle(a),o);for(const a of e.getClassNames())o.hasClass(a)||this.addClass(a,o);return!0}_unwrapAttributeElement(e,o){if(!hb(e,o)||e.name!==o.name||e.priority!==o.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!o.hasAttribute(a)||o.getAttribute(a)!==e.getAttribute(a)))return!1;if(!o.hasClass(...e.getClassNames()))return!1;for(const a of e.getStyleNames())if(!o.hasStyle(a)||o.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,o);return this.removeClass(Array.from(e.getClassNames()),o),this.removeStyle(Array.from(e.getStyleNames()),o),!0}_breakAttributesRange(e,o=!1){const a=e.start,d=e.end;if(tu(e,this.document),e.isCollapsed){const A=this._breakAttributes(e.start,o);return new pt(A,A)}const p=this._breakAttributes(d,o),y=p.parent.childCount,w=this._breakAttributes(a,o);return p.offset+=p.parent.childCount-y,new pt(w,p)}_breakAttributes(e,o=!1){const a=e.offset,d=e.parent;if(e.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!o&&d.is("$text")&&Fp(d.parent)||Fp(d))return e.clone();if(d.is("$text"))return this._breakAttributes(Bp(e),o);if(a==d.childCount){const p=new $e(d.parent,d.index+1);return this._breakAttributes(p,o)}if(a===0){const p=new $e(d.parent,d.index);return this._breakAttributes(p,o)}{const p=d.index+1,y=d._clone();d.parent._insertChild(p,y),this._addToClonedElementsGroup(y);const w=d.childCount-a,A=d._removeChildren(a,w);y._appendChild(A);const j=new $e(d.parent,p);return this._breakAttributes(j,o)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const d of e.getChildren())this._addToClonedElementsGroup(d);const o=e.id;if(!o)return;let a=this._cloneGroups.get(o);a||(a=new Set,this._cloneGroups.set(o,a)),a.add(e),e._clonesGroup=a}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const d of e.getChildren())this._removeFromClonedElementsGroup(d);const o=e.id;if(!o)return;const a=this._cloneGroups.get(o);a&&a.delete(e)}}function Op(c){let e=c.parent;for(;!Fp(e);){if(!e)return;e=e.parent}return e}function Lv(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function db(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new $e(e,e.data.length);const o=c.nodeAfter;return o&&o.is("$text")?new $e(o,0):c}function Bp(c){if(c.offset==c.parent.data.length)return new $e(c.parent.parent,c.parent.index+1);if(c.offset===0)return new $e(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new Dr(c.root.document,e)),new $e(c.parent.parent,c.parent.index+1)}function ub(c,e){const o=c.data.length;return c._data+=e.data,e._remove(),new $e(c,o)}const Lp=[Dr,Dl,El,Zd,cb,eu];function zp(c,e){for(const o of c){if(!Lp.some(a=>o instanceof a))throw new B("view-writer-insert-invalid-node-type",e);o.is("$text")||zp(o.getChildren(),e)}}function Fp(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function tu(c,e){const o=Op(c.start),a=Op(c.end);if(!o||!a||o!==a)throw new B("view-writer-invalid-range-container",e)}function hb(c,e){return c.id===null&&e.id===null}const Vp=c=>c.createTextNode(""),Up=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Gp=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},Vo=7,Mc="".repeat(Vo);function As(c){return typeof c=="string"?c.substr(0,Vo)===Mc:wr(c)&&c.data.substr(0,Vo)===Mc}function Tc(c){return c.data.length==Vo&&As(c)}function mb(c){const e=typeof c=="string"?c:c.data;return As(c)?e.slice(Vo):e}function pb(c,e){if(e.keyCode==tr.arrowleft){const o=e.domTarget.ownerDocument.defaultView.getSelection();if(o.rangeCount==1&&o.getRangeAt(0).collapsed){const a=o.getRangeAt(0).startContainer,d=o.getRangeAt(0).startOffset;As(a)&&d<=Vo&&o.collapse(a,0)}}}var fb=l(9315),Aa={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(fb.Z,Aa),fb.Z.locals;class gb extends nt(){constructor(e,o){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),C.isBlink&&!C.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,o){if(e==="text")this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if(e==="attributes")this.markedAttributes.add(o);else{if(e!=="children")throw new B("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){if(this.isComposing&&!C.isAndroid)return;let e=null;const o=!(C.isBlink&&!C.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=$e._createBefore(e.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:e});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:e});if(o)if(e){const a=this.domConverter.viewPositionToDom(e),d=a.parent.ownerDocument;As(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=zv(d,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const o=Array.from(this.domConverter.mapViewToDom(e).childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),d=this._diffNodeLists(o,a),p=this._findUpdateActions(d,o,a,Fv);if(p.indexOf("update")!==-1){const y={equal:0,insert:0,delete:0};for(const w of p)if(w==="update"){const A=y.equal+y.insert,j=y.equal+y.delete,D=e.getChild(A);!D||D.is("uiElement")||D.is("rawElement")||this._updateElementMappings(D,o[j]),xc(a[A]),y.equal++}else y[w]++}}_updateElementMappings(e,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?$e._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(e);return!!(o&&wr(o.parent)&&As(o.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!As(e))throw new B("view-renderer-filler-was-lost",this);Tc(e)?e.remove():e.data=e.data.substr(Vo),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),o=e.parent,a=e.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!function(y){if(y.getAttribute("contenteditable")=="false")return!1;const w=y.findAncestor(A=>A.hasAttribute("contenteditable"));return!w||w.getAttribute("contenteditable")=="true"}(o)||a===o.getFillerOffset())return!1;const d=e.nodeBefore,p=e.nodeAfter;return!(d instanceof Dr||p instanceof Dr)&&(!C.isAndroid||!d&&!p)}_updateText(e,o){const a=this.domConverter.findCorrespondingDomText(e);let d=this.domConverter.viewToDom(e).data;const p=o.inlineFillerPosition;p&&p.parent==e.parent&&p.offset==e.index&&(d=Mc+d),Bh(a,d)}_updateAttrs(e){const o=this.domConverter.mapViewToDom(e);if(!o)return;const a=Array.from(o.attributes).map(p=>p.name),d=e.getAttributeKeys();for(const p of d)this.domConverter.setDomElementAttribute(o,p,e.getAttribute(p),e);for(const p of a)e.hasAttribute(p)||this.domConverter.removeDomElementAttribute(o,p)}_updateChildren(e,o){const a=this.domConverter.mapViewToDom(e);if(!a)return;if(C.isAndroid){let I=null;for(const z of Array.from(a.childNodes)){if(I&&wr(I)&&wr(z)){a.normalize();break}I=z}}const d=o.inlineFillerPosition,p=a.childNodes,y=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));d&&d.parent===e&&zv(a.ownerDocument,y,d.offset);const w=this._diffNodeLists(p,y),A=this._findUpdateActions(w,p,y,Na);let j=0;const D=new Set;for(const I of A)I==="delete"?(D.add(p[j]),xc(p[j])):I!=="equal"&&I!=="update"||j++;j=0;for(const I of A)I==="insert"?(mp(a,j,y[j]),j++):I==="update"?(Bh(p[j],y[j].data),j++):I==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(y[j])),j++);for(const I of D)I.parentNode||this.domConverter.unbindDomElement(I)}_diffNodeLists(e,o){return e=function(a,d){const p=Array.from(a);return p.length==0||!d||p[p.length-1]==d&&p.pop(),p}(e,this._fakeSelectionContainer),P(e,o,Vv.bind(null,this.domConverter))}_findUpdateActions(e,o,a,d){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let p=[],y=[],w=[];const A={equal:0,insert:0,delete:0};for(const j of e)j==="insert"?w.push(a[A.equal+A.insert]):j==="delete"?y.push(o[A.equal+A.delete]):(p=p.concat(P(y,w,d).map(D=>D==="equal"?"update":D)),p.push("equal"),y=[],w=[]),A[j]++;return p.concat(P(y,w,d).map(j=>j==="equal"?"update":j))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const o of e.getChildren())this._markDescendantTextToSync(o)}}_updateSelection(){if(C.isBlink&&!C.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&C.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const o=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(y){const w=y.createElement("div");return w.className="ck-fake-selection-container",Object.assign(w.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),w.textContent="",w}(o));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(e))return;a.parentElement&&a.parentElement==e||e.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"";const d=o.getSelection(),p=o.createRange();d.removeAllRanges(),p.selectNodeContents(a),d.addRange(p)}_updateDomSelection(e){const o=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);o.setBaseAndExtent(a.parent,a.offset,d.parent,d.offset),C.isGecko&&function(p,y){const w=p.parent;if(w.nodeType!=Node.ELEMENT_NODE||p.offset!=w.childNodes.length-1)return;const A=w.childNodes[p.offset];A&&A.tagName=="BR"&&y.addRange(y.getRangeAt(0))}(d,o)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const o=e&&this.domConverter.domSelectionToView(e);return(!o||!this.selection.isEqual(o))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(e){const o=this._fakeSelectionContainer,a=e.ownerDocument.getSelection();return!o||o.parentElement!==e||a.anchorNode!==o&&!o.contains(a.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const o=e.getSelection();if(o.rangeCount){const a=e.activeElement,d=this.domConverter.mapDomToView(a);a&&d&&o.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function zv(c,e,o){const a=e instanceof Array?e:e.childNodes,d=a[o];if(wr(d))return d.data=Mc+d.data,d;{const p=c.createTextNode(Mc);return Array.isArray(e)?a.splice(o,0,p):mp(e,o,p),p}}function Fv(c,e){return xa(c)&&xa(e)&&!wr(c)&&!wr(e)&&!vo(c)&&!vo(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function Na(c,e){return xa(c)&&xa(e)&&wr(c)&&wr(e)}function Vv(c,e,o){return e===o||(wr(e)&&wr(o)?e.data===o.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(o)))}function Bh(c,e){const o=c.data;if(o==e)return;const a=S(o,e);for(const d of a)d.type==="insert"?c.insertData(d.index,d.values.join("")):c.deleteData(d.index,d.howMany)}const Lh=Gp(Mt.document),Zr=Vp(Mt.document),q1=Up(Mt.document),Hp="data-ck-unsafe-attribute-",bb="data-ck-unsafe-element";class Ml{constructor(e,{blockFillerMode:o,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Fo,this._inlineObjectElementMatcher=new Fo,this.document=e,this.renderingMode=a,this.blockFillerMode=o||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Mt.document:Mt.document.implementation.createHTMLDocument("")}bindFakeSelection(e,o){this._fakeSelectionMapping.set(e,new ds(o))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,o){this._domToViewMapping.set(e,o),this._viewToDomMapping.set(o,e)}unbindDomElement(e){const o=this._domToViewMapping.get(e);if(o){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(o);for(const a of Array.from(e.children))this.unbindDomElement(a)}}bindDocumentFragments(e,o){this._domToViewMapping.set(e,o),this._viewToDomMapping.set(o,e)}shouldRenderAttribute(e,o,a){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!o.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(e==="src"||e==="srcset")||a==="source"&&e==="srcset"||!o.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,o){if(this.renderingMode==="data")return void(e.innerHTML=o);const a=new DOMParser().parseFromString(o,"text/html"),d=a.createDocumentFragment(),p=a.body.childNodes;for(;p.length>0;)d.appendChild(p[0]);const y=a.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),w=[];let A;for(;A=y.nextNode();)w.push(A);for(const j of w){for(const I of j.getAttributeNames())this.setDomElementAttribute(j,I,j.getAttribute(I));const D=j.tagName.toLowerCase();this._shouldRenameElement(D)&&(ru(D),j.replaceWith(this._createReplacementDomElement(D,j)))}for(;e.firstChild;)e.firstChild.remove();e.append(d)}viewToDom(e,o={}){if(e.is("$text")){const a=this._processDataFromViewText(e);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let a;if(e.is("documentFragment"))a=this._domDocument.createDocumentFragment(),o.bind&&this.bindDocumentFragments(a,e);else{if(e.is("uiElement"))return a=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),o.bind&&this.bindElements(a,e),a;this._shouldRenameElement(e.name)?(ru(e.name),a=this._createReplacementDomElement(e.name)):a=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(a,this),o.bind&&this.bindElements(a,e);for(const d of e.getAttributeKeys())this.setDomElementAttribute(a,d,e.getAttribute(d),e)}if(o.withChildren!==!1)for(const d of this.viewChildrenToDom(e,o))a.appendChild(d);return a}}setDomElementAttribute(e,o,a,d){const p=this.shouldRenderAttribute(o,a,e.tagName.toLowerCase())||d&&d.shouldRenderUnsafeAttribute(o);p||Y("domconverter-unsafe-attribute-detected",{domElement:e,key:o,value:a}),function(y){try{Mt.document.createAttribute(y)}catch{return!1}return!0}(o)?(e.hasAttribute(o)&&!p?e.removeAttribute(o):e.hasAttribute(Hp+o)&&p&&e.removeAttribute(Hp+o),e.setAttribute(p?o:Hp+o,a)):Y("domconverter-invalid-attribute-detected",{domElement:e,key:o,value:a})}removeDomElementAttribute(e,o){o!=bb&&(e.removeAttribute(o),e.removeAttribute(Hp+o))}*viewChildrenToDom(e,o={}){const a=e.getFillerOffset&&e.getFillerOffset();let d=0;for(const p of e.getChildren()){a===d&&(yield this._getBlockFiller());const y=p.is("element")&&!!p.getCustomProperty("dataPipeline:transparentRendering")&&!pn(p.getAttributes());y&&this.renderingMode=="data"?yield*this.viewChildrenToDom(p,o):(y&&Y("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,o)),d++}a===d&&(yield this._getBlockFiller())}viewRangeToDom(e){const o=this.viewPositionToDom(e.start),a=this.viewPositionToDom(e.end),d=this._domDocument.createRange();return d.setStart(o.parent,o.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(e){const o=e.parent;if(o.is("$text")){const a=this.findCorrespondingDomText(o);if(!a)return null;let d=e.offset;return As(a)&&(d+=Vo),{parent:a,offset:d}}{let a,d,p;if(e.offset===0){if(a=this.mapViewToDom(o),!a)return null;p=a.childNodes[0]}else{const y=e.nodeBefore;if(d=y.is("$text")?this.findCorrespondingDomText(y):this.mapViewToDom(y),!d)return null;a=d.parentNode,p=d.nextSibling}return wr(p)&&As(p)?{parent:p,offset:Vo}:{parent:a,offset:d?ws(d)+1:0}}}domToView(e,o={}){const a=[],d=this._domToView(e,o,a),p=d.next().value;return p?(d.next(),this._processDomInlineNodes(null,a,o),p.is("$text")&&p.data.length==0?null:p):null}*domChildrenToView(e,o={},a=[]){for(let d=0;d<e.childNodes.length;d++){const p=e.childNodes[d],y=this._domToView(p,o,a),w=y.next().value;w!==null&&(this._isBlockViewElement(w)&&this._processDomInlineNodes(e,a,o),yield w,y.next())}this._processDomInlineNodes(e,a,o)}domSelectionToView(e){if(e.rangeCount===1){let d=e.getRangeAt(0).startContainer;wr(d)&&(d=d.parentNode);const p=this.fakeSelectionToView(d);if(p)return p}const o=this.isDomSelectionBackward(e),a=[];for(let d=0;d<e.rangeCount;d++){const p=e.getRangeAt(d),y=this.domRangeToView(p);y&&a.push(y)}return new ds(a,{backward:o})}domRangeToView(e){const o=this.domPositionToView(e.startContainer,e.startOffset),a=this.domPositionToView(e.endContainer,e.endOffset);return o&&a?new pt(o,a):null}domPositionToView(e,o=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,ws(e));const a=this.mapDomToView(e);if(a&&(a.is("uiElement")||a.is("rawElement")))return $e._createBefore(a);if(wr(e)){if(Tc(e))return this.domPositionToView(e.parentNode,ws(e));const d=this.findCorrespondingViewText(e);let p=o;return d?(As(e)&&(p-=Vo,p=p<0?0:p),new $e(d,p)):null}if(o===0){const d=this.mapDomToView(e);if(d)return new $e(d,0)}else{const d=e.childNodes[o-1];if(wr(d)&&Tc(d)||d&&this.isBlockFiller(d))return this.domPositionToView(d.parentNode,ws(d));const p=wr(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(p&&p.parent)return new $e(p.parent,p.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Tc(e))return null;const o=this.getHostViewElement(e);if(o)return o;const a=e.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d){const p=d.nextSibling;return p instanceof Dr?p:null}}else{const d=this.mapDomToView(e.parentNode);if(d){const p=d.getChild(0);return p instanceof Dr?p:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const o=e.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const o=this.mapViewToDom(e);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:a,scrollY:d}=Mt.window,p=[];yb(o,y=>{const{scrollLeft:w,scrollTop:A}=y;p.push([w,A])}),o.focus(),yb(o,y=>{const[w,A]=p.shift();y.scrollLeft=w,y.scrollTop=A}),Mt.window.scrollTo(a,d)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const o=e.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(o);a&&a.rangeCount>0&&o.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Lh):!(e.tagName!=="BR"||!xb(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(q1)||function(o,a){return o.isEqualNode(Zr)&&xb(o,a)&&o.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const o=this._domDocument.createRange();try{o.setStart(e.anchorNode,e.anchorOffset),o.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const a=o.collapsed;return o.detach(),a}getHostViewElement(e){const o=function(a){const d=[];let p=a;for(;p&&p.nodeType!=Node.DOCUMENT_NODE;)d.unshift(p),p=p.parentNode;return d}(e);for(o.pop();o.length;){const a=o.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Vp(this._domDocument);case"markedNbsp":return Up(this._domDocument);case"br":return Gp(this._domDocument)}}_isDomSelectionPositionCorrect(e,o){if(wr(e)&&As(e)&&o<Vo||this.isElement(e)&&As(e.childNodes[o]))return!1;const a=this.mapDomToView(e);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(e,o,a){if(this.isBlockFiller(e))return null;const d=this.getHostViewElement(e);if(d)return d;if(vo(e)&&o.skipComments)return null;if(wr(e)){if(Tc(e))return null;{const p=e.data;if(p==="")return null;const y=new Dr(this.document,p);return a.push(y),y}}{let p=this.mapDomToView(e);if(p)return this._isInlineObjectElement(p)&&a.push(p),p;if(this.isDocumentFragment(e))p=new Qr(this.document),o.bind&&this.bindDocumentFragments(e,p);else{p=this._createViewElement(e,o),o.bind&&this.bindElements(e,p);const w=e.attributes;if(w)for(let A=w.length,j=0;j<A;j++)p._setAttribute(w[j].name,w[j].value);if(this._isViewElementWithRawContent(p,o))return p._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(p)||a.push(p),p;if(vo(e))return p._setCustomProperty("$rawContent",e.data),p}yield p;const y=[];if(o.withChildren!==!1)for(const w of this.domChildrenToView(e,o,y))p._appendChild(w);if(this._isInlineObjectElement(p))a.push(p);else for(const w of y)a.push(w)}}_processDomInlineNodes(e,o,a){if(!o.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let d=!1;for(let p=0;p<o.length;p++){const y=o[p];if(!y.is("$text")){d=!1;continue}let w,A=!1;if(Tl(y,this.preElements))w=mb(y.data);else{w=y.data.replace(/[ \n\t\r]{1,}/g," "),A=/[^\S\u00A0]/.test(w.charAt(w.length-1));const j=p>0?o[p-1]:null,D=p+1<o.length?o[p+1]:null,I=!j||j.is("element")&&j.name=="br"||d,z=!D&&!As(y.data);a.withChildren!==!1&&(I&&(w=w.replace(/^ /,"")),z&&(w=w.replace(/ $/,""))),w=mb(w),w=w.replace(/ \u00A0/g,"  ");const W=D&&D.is("element")&&D.name!="br",X=D&&D.is("$text")&&D.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(w)||!D||W||X)&&(w=w.replace(/\u00A0$/," ")),(I||j&&j.is("element")&&j.name!="br")&&(w=w.replace(/^\u00A0/," "))}w.length==0&&y.parent?(y._remove(),o.splice(p,1),p--):(y._data=w,d=A)}o.length=0}_processDataFromViewText(e){let o=e.data;if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return o;if(o.charAt(0)==" "){const a=this._getTouchingInlineViewNode(e,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(o=""+o.substr(1))}if(o.charAt(o.length-1)==" "){const a=this._getTouchingInlineViewNode(e,!0),d=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";o.charAt(o.length-2)!=" "&&a&&!d||(o=o.substr(0,o.length-1)+"")}return o.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const o=this._processDataFromViewText(e);return o.charAt(o.length-1)==" "}_getTouchingInlineViewNode(e,o){const a=new Wn({startPosition:o?$e._createAfter(e):$e._createBefore(e),direction:o?"forward":"backward"});for(const d of a){if(d.item.is("element","br"))return null;if(this._isInlineObjectElement(d.item))return d.item;if(d.item.is("containerElement"))return null;if(d.item.is("$textProxy"))return d.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,o){if(vo(e))return new eu(this.document,"$comment");const a=o.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new _s(this.document,a)}_isViewElementWithRawContent(e,o){return o.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const o=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(o)}_createReplacementDomElement(e,o){const a=this._domDocument.createElement("span");if(a.setAttribute(bb,e),o){for(;o.firstChild;)a.appendChild(o.firstChild);for(const d of o.getAttributeNames())a.setAttribute(d,o.getAttribute(d))}return a}}function Tl(c,e){return c.getAncestors().some(o=>o.is("element")&&e.includes(o.name))}function yb(c,e){let o=c;for(;o;)e(o),o=o.parentElement}function xb(c,e){const o=c.parentNode;return!!o&&!!o.tagName&&e.includes(o.tagName.toLowerCase())}function ru(c){c==="script"&&Y("domconverter-unsafe-script-element-detected"),c==="style"&&Y("domconverter-unsafe-style-element-detected")}class Ln extends yl(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const vb=sb(function(c,e){as(e,Ro(e),c)});class Il{constructor(e,o,a){this.view=e,this.document=e.document,this.domEvent=o,this.domTarget=o.target,vb(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ja extends Ln{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(e,o,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,o,a){this.isEnabled&&this.document.fire(e,new Il(this.view,o,a))}}class wb extends ja{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const o={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Fr(this)}};this.fire(e.type,e,o)}}const zh=function(){return Yt.Date.now()};var qp=/\s/;const Uv=function(c){for(var e=c.length;e--&&qp.test(c.charAt(e)););return e};var Sa=/^\s+/;const fn=function(c){return c&&c.slice(0,Uv(c)+1).replace(Sa,"")};var kb=/^[-+]0x[0-9a-f]+$/i,Gv=/^0b[01]+$/i,Qn=/^0o[0-7]+$/i,Y1=parseInt;const Cb=function(c){if(typeof c=="number")return c;if(Mh(c))return NaN;if(qe(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=qe(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=fn(c);var o=Gv.test(c);return o||Qn.test(c)?Y1(c.slice(2),o?2:8):kb.test(c)?NaN:+c};var Hv=Math.max,Jr=Math.min;const Jn=function(c,e,o){var a,d,p,y,w,A,j=0,D=!1,I=!1,z=!0;if(typeof c!="function")throw new TypeError("Expected a function");function W(we){var Fe=a,st=d;return a=d=void 0,j=we,y=c.apply(st,Fe)}function X(we){var Fe=we-A;return A===void 0||Fe>=e||Fe<0||I&&we-j>=p}function re(){var we=zh();if(X(we))return de(we);w=setTimeout(re,function(Fe){var st=e-(Fe-A);return I?Jr(st,p-(Fe-j)):st}(we))}function de(we){return w=void 0,z&&a?W(we):(a=d=void 0,y)}function fe(){var we=zh(),Fe=X(we);if(a=arguments,d=this,A=we,Fe){if(w===void 0)return function(st){return j=st,w=setTimeout(re,e),D?W(st):y}(A);if(I)return clearTimeout(w),w=setTimeout(re,e),W(A)}return w===void 0&&(w=setTimeout(re,e)),y}return e=Cb(e)||0,qe(o)&&(D=!!o.leading,p=(I="maxWait"in o)?Hv(Cb(o.maxWait)||0,e):p,z="trailing"in o?!!o.trailing:z),fe.cancel=function(){w!==void 0&&clearTimeout(w),j=0,a=A=d=w=void 0},fe.flush=function(){return w===void 0?y:de(zh())},fe};class Ea extends Ln{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Jn(o=>{this.document.fire("selectionChangeDone",o)},200)}observe(){const e=this.document;e.on("arrowKey",(o,a)=>{e.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),e.on("arrowKey",(o,a)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const o=this.document.selection,a=new ds(o.getRanges(),{backward:o.isBackward,fake:!1});e!=tr.arrowleft&&e!=tr.arrowup||a.setTo(a.getFirstPosition()),e!=tr.arrowright&&e!=tr.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:o,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}const qv=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},Yv=function(c){return this.__data__.has(c)};function Yp(c){var e=-1,o=c==null?0:c.length;for(this.__data__=new Ls;++e<o;)this.add(c[e])}Yp.prototype.add=Yp.prototype.push=qv,Yp.prototype.has=Yv;const _b=Yp,Co=function(c,e){for(var o=-1,a=c==null?0:c.length;++o<a;)if(e(c[o],o,c))return!0;return!1},xi=function(c,e){return c.has(e)},Ab=function(c,e,o,a,d,p){var y=1&o,w=c.length,A=e.length;if(w!=A&&!(y&&A>w))return!1;var j=p.get(c),D=p.get(e);if(j&&D)return j==e&&D==c;var I=-1,z=!0,W=2&o?new _b:void 0;for(p.set(c,e),p.set(e,c);++I<w;){var X=c[I],re=e[I];if(a)var de=y?a(re,X,I,e,c,p):a(X,re,I,c,e,p);if(de!==void 0){if(de)continue;z=!1;break}if(W){if(!Co(e,function(fe,we){if(!xi(W,we)&&(X===fe||d(X,fe,o,a,p)))return W.push(we)})){z=!1;break}}else if(X!==re&&!d(X,re,o,a,p)){z=!1;break}}return p.delete(c),p.delete(e),z},_o=function(c){var e=-1,o=Array(c.size);return c.forEach(function(a,d){o[++e]=[d,a]}),o},Wv=function(c){var e=-1,o=Array(c.size);return c.forEach(function(a){o[++e]=a}),o};var Da=wt?wt.prototype:void 0,Ma=Da?Da.valueOf:void 0;const Rl=function(c,e,o,a,d,p,y){switch(o){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!p(new Td(c),new Td(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jt(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var w=_o;case"[object Set]":var A=1&a;if(w||(w=Wv),c.size!=e.size&&!A)return!1;var j=y.get(c);if(j)return j==e;a|=2,y.set(c,e);var D=Ab(w(c),w(e),a,d,p,y);return y.delete(c),D;case"[object Symbol]":if(Ma)return Ma.call(c)==Ma.call(e)}return!1};var Nb=Object.prototype.hasOwnProperty;const jb=function(c,e,o,a,d,p){var y=1&o,w=Po(c),A=w.length;if(A!=Po(e).length&&!y)return!1;for(var j=A;j--;){var D=w[j];if(!(y?D in e:Nb.call(e,D)))return!1}var I=p.get(c),z=p.get(e);if(I&&z)return I==e&&z==c;var W=!0;p.set(c,e),p.set(e,c);for(var X=y;++j<A;){var re=c[D=w[j]],de=e[D];if(a)var fe=y?a(de,re,D,e,c,p):a(re,de,D,c,e,p);if(!(fe===void 0?re===de||d(re,de,o,a,p):fe)){W=!1;break}X||(X=D=="constructor")}if(W&&!X){var we=c.constructor,Fe=e.constructor;we==Fe||!("constructor"in c)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Fe=="function"&&Fe instanceof Fe||(W=!1)}return p.delete(c),p.delete(e),W};var vi="[object Arguments]",Sb="[object Array]",Ta="[object Object]",nu=Object.prototype.hasOwnProperty;const Fh=function(c,e,o,a,d,p){var y=Pt(c),w=Pt(e),A=y?Sb:fl(c),j=w?Sb:fl(e),D=(A=A==vi?Ta:A)==Ta,I=(j=j==vi?Ta:j)==Ta,z=A==j;if(z&&To(c)){if(!To(e))return!1;y=!0,D=!1}if(z&&!D)return p||(p=new da),y||dl(c)?Ab(c,e,o,a,d,p):Rl(c,e,A,o,a,d,p);if(!(1&o)){var W=D&&nu.call(c,"__wrapped__"),X=I&&nu.call(e,"__wrapped__");if(W||X){var re=W?c.value():c,de=X?e.value():e;return p||(p=new da),d(re,de,o,a,p)}}return!!z&&(p||(p=new da),jb(c,e,o,a,d,p))},Ic=function c(e,o,a,d,p){return e===o||(e==null||o==null||!Dt(e)&&!Dt(o)?e!=e&&o!=o:Fh(e,o,a,d,c,p))},Kv=function(c,e,o){var a=(o=typeof o=="function"?o:void 0)?o(c,e):void 0;return a===void 0?Ic(c,e,void 0,o):!!a};class Eb extends Ln{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const o of this._domElements)this._mutationObserver.observe(o,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const o=this.domConverter,a=new Set,d=new Set;for(const y of e){const w=o.mapDomToView(y.target);w&&(w.is("uiElement")||w.is("rawElement")||y.type!=="childList"||this._isBogusBrMutation(y)||d.add(w))}for(const y of e){const w=o.mapDomToView(y.target);if((!w||!w.is("uiElement")&&!w.is("rawElement"))&&y.type==="characterData"){const A=o.findCorrespondingViewText(y.target);A&&!d.has(A.parent)?a.add(A):!A&&As(y.target)&&d.add(o.mapDomToView(y.target.parentNode))}}let p=!1;for(const y of a)p=!0,this.renderer.markToSync("text",y);for(const y of d){const w=o.mapViewToDom(y),A=Array.from(y.getChildren()),j=Array.from(o.domChildrenToView(w,{withChildren:!1}));Kv(A,j,Vh)||(p=!0,this.renderer.markToSync("children",y))}p&&this.view.forceRender()}_isBogusBrMutation(e){let o=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(o=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}function Vh(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class Uh extends ja{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),o.on("blur",(a,d)=>{const p=o.selection.editableElement;p!==null&&p!==d.target||(o.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Wp extends Ln{constructor(e){super(e),this.mutationObserver=e.getObserver(Eb),this.focusObserver=e.getObserver(Uh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Jn(o=>{this.document.fire("selectionChangeDone",o)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Jn(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const o=e.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,o),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(o)||(this.listenTo(o,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(o,"selectionchange",(d,p)=>{this.document.isComposing&&!C.isAndroid||(this._handleSelectionChange(p,o),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(o))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,o){if(!this.isEnabled)return;const a=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const p={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",p),this._fireSelectionChangeDoneDebounced(p)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Qv extends ja{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0},{priority:"low"}),o.on("compositionend",()=>{o.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Jv{constructor(e,o={}){this._files=o.cacheFiles?Xv(e):null,this._native=e}get files(){return this._files||(this._files=Xv(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,o){this._native.setData(e,o)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,o,a){this._native.setDragImage(e,o,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Xv(c){const e=Array.from(c.files||[]),o=Array.from(c.items||[]);return e.length?e:o.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class Mr extends ja{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const o=e.getTargetRanges(),a=this.view,d=a.document;let p=null,y=null,w=[];if(e.dataTransfer&&(p=new Jv(e.dataTransfer)),e.data!==null?y=e.data:p&&(y=p.getData("text/plain")),d.selection.isFake)w=Array.from(d.selection.getRanges());else if(o.length)w=o.map(A=>{const j=a.domConverter.domPositionToView(A.startContainer,A.startOffset),D=a.domConverter.domPositionToView(A.endContainer,A.endOffset);return j?a.createRange(j,D):D?a.createRange(D):void 0}).filter(A=>!!A);else if(C.isAndroid){const A=e.target.ownerDocument.defaultView.getSelection();w=Array.from(a.domConverter.domSelectionToView(A).getRanges())}if(C.isAndroid&&e.inputType=="insertCompositionText"&&y&&y.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[a.createRange(w[0].end)]});else if(e.inputType=="insertText"&&y&&y.includes(`
`)){const A=y.split(/\n{1,2}/g);let j=w;for(let D=0;D<A.length;D++){const I=A[D];I!=""&&(this.fire(e.type,e,{data:I,dataTransfer:p,targetRanges:j,inputType:e.inputType,isComposing:e.isComposing}),j=[d.selection.getFirstRange()]),D+1<A.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:j}),j=[d.selection.getFirstRange()])}}else this.fire(e.type,e,{data:y,dataTransfer:p,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing})}}class Hr extends Ln{constructor(e){super(e),this.document.on("keydown",(o,a)=>{if(this.isEnabled&&((d=a.keyCode)==tr.arrowright||d==tr.arrowleft||d==tr.arrowup||d==tr.arrowdown)){const p=new Kr(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(p,a),p.stop.called&&o.stop()}var d})}observe(){}stopObserving(){}}class Xt extends Ln{constructor(e){super(e);const o=this.document;o.on("keydown",(a,d)=>{if(!this.isEnabled||d.keyCode!=tr.tab||d.ctrlKey)return;const p=new Kr(o,"tab",o.selection.getFirstRange());o.fire(p,d),p.stop.called&&a.stop()})}observe(){}stopObserving(){}}const Ft=function(c){return ba(c,5)};class Tr extends nt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Dc(e),this.domConverter=new Ml(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new gb(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Kn(this.document),this.addObserver(Eb),this.addObserver(Uh),this.addObserver(Wp),this.addObserver(wb),this.addObserver(Ea),this.addObserver(Qv),this.addObserver(Hr),this.addObserver(Mr),this.addObserver(Xt),this.document.on("arrowKey",pb,{priority:"low"}),Pv(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),C.isiOS&&this.listenTo(this.document,"blur",(o,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,o="main"){const a=this.document.getRoot(o);a._name=e.tagName.toLowerCase();const d={};for(const{name:y,value:w}of Array.from(e.attributes))d[y]=w,y==="class"?this._writer.addClass(w.split(" "),a):this._writer.setAttribute(y,w,a);this._initialDomRootAttributes.set(e,d);const p=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};p(),this.domRoots.set(o,e),this.domConverter.bindElements(e,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(e.ownerDocument),a.on("change:children",(y,w)=>this._renderer.markToSync("children",w)),a.on("change:attributes",(y,w)=>this._renderer.markToSync("attributes",w)),a.on("change:text",(y,w)=>this._renderer.markToSync("text",w)),a.on("change:isReadOnly",()=>this.change(p)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const y of this._observers.values())y.observe(e,o)}detachDomRoot(e){const o=this.domRoots.get(e);Array.from(o.attributes).forEach(({name:d})=>o.removeAttribute(d));const a=this._initialDomRootAttributes.get(o);for(const d in a)o.setAttribute(d,a[d]);this.domRoots.delete(e),this.domConverter.unbindDomElement(o);for(const d of this._observers.values())d.stopObserving(o)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let o=this._observers.get(e);if(o)return o;o=new e(this),this._observers.set(e,o);for(const[a,d]of this.domRoots)o.observe(d,a);return o.enable(),o}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:o,viewportOffset:a=20,ancestorOffset:d=20}={}){const p=this.document.selection.getFirstRange();if(!p)return;const y=Ft({alignToTop:e,forceScroll:o,viewportOffset:a,ancestorOffset:d});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const w={target:this.domConverter.viewRangeToDom(p),viewportOffset:a,ancestorOffset:d,alignToTop:e,forceScroll:o};this.fire("scrollToTheSelection",w,y),function({target:A,viewportOffset:j=0,ancestorOffset:D=0,alignToTop:I,forceScroll:z}){const W=ui(A);let X=W,re=null;for(j=function(de){return typeof de=="number"?{top:de,bottom:de,left:de,right:de}:de}(j);X;){let de;de=va(X==W?A:re),fp({parent:de,getRect:()=>kl(A,X),alignToTop:I,ancestorOffset:D,forceScroll:z});const fe=kl(A,X);if(Od({window:X,rect:fe,viewportOffset:j,alignToTop:I,forceScroll:z}),X.parent!=X){if(re=X.frameElement,X=X.parent,!re)return}else X=null}}(w)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const o=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){B.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Uh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,o){return $e._createAt(e,o)}createPositionAfter(e){return $e._createAfter(e)}createPositionBefore(e){return $e._createBefore(e)}createRange(e,o){return new pt(e,o)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ds(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Mn{is(){throw new Error("is() method is abstract")}}class Zs extends Mn{constructor(e){super(),this.parent=null,this._attrs=Cs(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let o=this;for(;o.parent;)e.unshift(o.startOffset),o=o.parent;return e}getAncestors(e={}){const o=[];let a=e.includeSelf?this:this.parent;for(;a;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(e,o={}){const a=this.getAncestors(o),d=e.getAncestors(o);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const o=this.getPath(),a=e.getPath(),d=Er(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((o,a)=>(o[a[0]]=a[1],o),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,o){this._attrs.set(e,o)}_setAttributesTo(e){this._attrs=Cs(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Zs.prototype.is=function(c){return c==="node"||c==="model:node"};class Yi{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,o)=>e+o.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const o=this._nodes.indexOf(e);return o==-1?null:o}getNodeStartOffset(e){const o=this.getNodeIndex(e);return o===null?null:this._nodes.slice(0,o).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const o=this._nodes[e];if(!o)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(e){let o=0;for(const a of this._nodes){if(e>=o&&e<o+a.offsetSize)return this.getNodeIndex(a);o+=a.offsetSize}if(o!=e)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,o){for(const a of o)if(!(a instanceof Zs))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,d,p,y){if(Math.max(d.length,a.length)>1e4)return a.slice(0,p).concat(d).concat(a.slice(p+y,a.length));{const w=Array.from(a);return w.splice(p,y,...d),w}}(this._nodes,Array.from(o),e,0)}_removeNodes(e,o=1){return this._nodes.splice(e,o)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Nr extends Zs{constructor(e,o){super(o),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Nr(this.data,this.getAttributes())}static fromJSON(e){return new Nr(e.data,e.attributes)}}Nr.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class zn extends Mn{constructor(e,o,a){if(super(),this.textNode=e,o<0||o>e.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(a<0||o+a>e.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=e.data.substring(o,o+a),this.offsetInText=o}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const o=[];let a=e.includeSelf?this:this.parent;for(;a;)o[e.parentFirst?"push":"unshift"](a),a=a.parent;return o}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}zn.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class xt extends Zs{constructor(e,o,a){super(o),this._children=new Yi,this.name=e,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let o=this;for(const a of e)o=o.getChild(o.offsetToIndex(a));return o}findAncestor(e,o={}){let a=o.includeSelf?this:this.parent;for(;a;){if(a.name===e)return a;a=a.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const o of this._children)e.children.push(o.toJSON())}return e}_clone(e=!1){const o=e?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new xt(this.name,this.getAttributes(),o)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,o){const a=function(d){return typeof d=="string"?[new Nr(d)]:(Cr(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Nr(p):p instanceof zn?new Nr(p.data,p.getAttributes()):p))}(o);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,o=1){const a=this._children._removeNodes(e,o);for(const d of a)d.parent=null;return a}static fromJSON(e){let o;if(e.children){o=[];for(const a of e.children)a.name?o.push(xt.fromJSON(a)):o.push(Nr.fromJSON(a))}return new xt(e.name,e.attributes,o)}}xt.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class us{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new B("model-tree-walker-no-start-position",null);const o=e.direction||"forward";if(o!="forward"&&o!="backward")throw new B("model-tree-walker-unknown-direction",e,{direction:o});this.direction=o,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Qe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let o,a,d,p;do d=this.position,p=this._visitedParent,{done:o,value:a}=this.next();while(!o&&e(a));o||(this._position=d,this._visitedParent=p)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,o=this.position.clone(),a=this._visitedParent;if(a.parent===null&&o.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const d=Ns(o,a),p=d||Rc(o,a,d);if(p instanceof xt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(o))return{done:!0,value:void 0};o.offset++}else o.path.push(0),this._visitedParent=p;return this._position=o,Ao("elementStart",p,e,o,1)}if(p instanceof Nr){let y;if(this.singleCharacters)y=1;else{let j=p.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<j&&(j=this.boundaries.end.offset),y=j-o.offset}const w=o.offset-p.startOffset,A=new zn(p,w,y);return o.offset+=y,this._position=o,Ao("text",A,e,o,y)}return o.path.pop(),o.offset++,this._position=o,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():Ao("elementEnd",a,e,o)}_previous(){const e=this.position,o=this.position.clone(),a=this._visitedParent;if(a.parent===null&&o.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const d=o.parent,p=Ns(o,d),y=p||su(o,d,p);if(y instanceof xt)return o.offset--,this.shallow?(this._position=o,Ao("elementStart",y,e,o,1)):(o.path.push(y.maxOffset),this._position=o,this._visitedParent=y,this.ignoreElementEnd?this._previous():Ao("elementEnd",y,e,o));if(y instanceof Nr){let w;if(this.singleCharacters)w=1;else{let D=y.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),w=o.offset-D}const A=o.offset-y.startOffset,j=new zn(y,A-w,w);return o.offset-=w,this._position=o,Ao("text",j,e,o,w)}return o.path.pop(),this._position=o,this._visitedParent=a.parent,Ao("elementStart",a,e,o,1)}}function Ao(c,e,o,a,d){return{done:!1,value:{type:c,item:e,previousPosition:o,nextPosition:a,length:d}}}class Qe extends Mn{constructor(e,o,a="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new B("model-position-root-invalid",e);if(!(o instanceof Array)||o.length===0)throw new B("model-position-path-incorrect-format",e,{path:o});e.is("rootElement")?o=o.slice():(o=[...e.getPath(),...o],e=e.root),this.root=e,this.path=o,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let o=0;o<this.path.length-1;o++)if(e=e.getChild(e.offsetToIndex(this.path[o])),!e)throw new B("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ns(this,this.parent)}get nodeAfter(){const e=this.parent;return Rc(this,e,Ns(this,e))}get nodeBefore(){const e=this.parent;return su(this,e,Ns(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const o=Er(this.path,e.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<e.path[o]?"before":"after"}}getLastMatchingPosition(e,o={}){o.startPosition=this;const a=new us(o);return a.skip(e),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const o=this.parent;return o.is("element")?o.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const o=Er(this.path,e.path),a=typeof o=="string"?Math.min(this.path.length,e.path.length):o;return this.path.slice(0,a)}getCommonAncestor(e){const o=this.getAncestors(),a=e.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return d===0?null:o[d-1]}getShiftedBy(e){const o=this.clone(),a=o.offset+e;return o.offset=a<0?0:a,o}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const o=Math.min(this.path.length,e.path.length);for(let a=0;a<o;a++){const d=this.path[a]-e.path[a];if(d<-1||d>1)return!1;if(d===1)return Us(e,this,a);if(d===-1)return Us(this,e,a)}return this.path.length===e.path.length||(this.path.length>e.path.length?Gh(this.path,o):Gh(e.path,o))}hasSameParentAs(e){return this.root!==e.root?!1:Er(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let o;switch(e.type){case"insert":o=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(e);break;case"split":o=this._getTransformedBySplitOperation(e);break;case"merge":o=this._getTransformedByMergeOperation(e);break;default:o=Qe._createAt(this)}return o}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const o=e.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const o=e.movedRange;let a;return o.containsPosition(this)||o.start.isEqual(this)?(a=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(a=a._getTransformedByDeletion(e.deletionPosition,1))):a=this.isEqual(e.deletionPosition)?Qe._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),a}_getTransformedByDeletion(e,o){const a=Qe._createAt(this);if(this.root!=e.root)return a;if(Er(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+o>this.offset)return null;a.offset-=o}}else if(Er(e.getParentPath(),this.getParentPath())=="prefix"){const d=e.path.length-1;if(e.offset<=this.path[d]){if(e.offset+o>this.path[d])return null;a.path[d]-=o}}return a}_getTransformedByInsertion(e,o){const a=Qe._createAt(this);if(this.root!=e.root)return a;if(Er(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=o);else if(Er(e.getParentPath(),this.getParentPath())=="prefix"){const d=e.path.length-1;e.offset<=this.path[d]&&(a.path[d]+=o)}return a}_getTransformedByMove(e,o,a){if(o=o._getTransformedByDeletion(e,a),e.isEqual(o))return Qe._createAt(this);const d=this._getTransformedByDeletion(e,a);return d===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,o):d._getTransformedByInsertion(o,a)}_getCombined(e,o){const a=e.path.length-1,d=Qe._createAt(o);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-e.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,o,a="toNone"){if(e instanceof Qe)return new Qe(e.root,e.path,e.stickiness);{const d=e;if(o=="end")o=d.maxOffset;else{if(o=="before")return this._createBefore(d,a);if(o=="after")return this._createAfter(d,a);if(o!==0&&!o)throw new B("model-createpositionat-offset-required",[this,e])}if(!d.is("element")&&!d.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,e]);const p=d.getPath();return p.push(o),new this(d.root,p,a)}}static _createAfter(e,o){if(!e.parent)throw new B("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,o)}static _createBefore(e,o){if(!e.parent)throw new B("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,o)}static fromJSON(e,o){if(e.root==="$graveyard"){const a=new Qe(o.graveyard,e.path);return a.stickiness=e.stickiness,a}if(!o.getRoot(e.root))throw new B("model-position-fromjson-no-root",o,{rootName:e.root});return new Qe(o.getRoot(e.root),e.path,e.stickiness)}}function Ns(c,e){const o=e.getChild(e.offsetToIndex(c.offset));return o&&o.is("$text")&&o.startOffset<c.offset?o:null}function Rc(c,e,o){return o!==null?null:e.getChild(e.offsetToIndex(c.offset))}function su(c,e,o){return o!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function Us(c,e,o){return o+1!==c.path.length&&!!Gh(e.path,o+1)&&!!function(a,d){let p=a.parent,y=a.path.length-1,w=0;for(;y>=d;){if(a.path[y]+w!==p.maxOffset)return!1;w=1,y--,p=p.parent}return!0}(c,o+1)}function Gh(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}Qe.prototype.is=function(c){return c==="position"||c==="model:position"};class Te extends Mn{constructor(e,o){super(),this.start=Qe._createAt(e),this.end=o?Qe._createAt(o):Qe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new us({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Er(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,o=!1){e.isCollapsed&&(o=!1);const a=this.containsPosition(e.start)||o&&this.start.isEqual(e.start),d=this.containsPosition(e.end)||o&&this.end.isEqual(e.end);return a&&d}containsItem(e){const o=Qe._createBefore(e);return this.containsPosition(o)||this.start.isEqual(o)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const o=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&o.push(new Te(this.start,e.start)),this.containsPosition(e.end)&&o.push(new Te(e.end,this.end))):o.push(new Te(this.start,this.end)),o}getIntersection(e){if(this.isIntersecting(e)){let o=this.start,a=this.end;return this.containsPosition(e.start)&&(o=e.start),this.containsPosition(e.end)&&(a=e.end),new Te(o,a)}return null}getJoined(e,o=!1){let a=this.isIntersecting(e);if(a||(a=this.start.isBefore(e.start)?o?this.end.isTouching(e.start):this.end.isEqual(e.start):o?e.end.isTouching(this.start):e.end.isEqual(this.start)),!a)return null;let d=this.start,p=this.end;return e.start.isBefore(d)&&(d=e.start),e.end.isAfter(p)&&(p=e.end),new Te(d,p)}getMinimalFlatRanges(){const e=[],o=this.start.getCommonPath(this.end).length,a=Qe._createAt(this.start);let d=a.parent;for(;a.path.length>o+1;){const p=d.maxOffset-a.offset;p!==0&&e.push(new Te(a,a.getShiftedBy(p))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const p=this.end.path[a.path.length-1],y=p-a.offset;y!==0&&e.push(new Te(a,a.getShiftedBy(y))),a.offset=p,a.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new us(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const o=new us(e);for(const a of o)yield a.item}*getPositions(e={}){e.boundaries=this;const o=new us(e);yield o.position;for(const a of o)yield a.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Te(this.start,this.end)]}getTransformedByOperations(e){const o=[new Te(this.start,this.end)];for(const a of e)for(let d=0;d<o.length;d++){const p=o[d].getTransformedByOperation(a);o.splice(d,1,...p),d+=p.length-1}for(let a=0;a<o.length;a++){const d=o[a];for(let p=a+1;p<o.length;p++){const y=o[p];(d.containsRange(y)||y.containsRange(d)||d.isEqual(y))&&o.splice(p,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,o=this.end.nodeBefore;return e&&e.is("element")&&e===o?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,o=!1){return this._getTransformedByInsertion(e.position,e.howMany,o)}_getTransformedByMoveOperation(e,o=!1){const a=e.sourcePosition,d=e.howMany,p=e.targetPosition;return this._getTransformedByMove(a,p,d,o)}_getTransformedBySplitOperation(e){const o=this.start._getTransformedBySplitOperation(e);let a=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(a=this.end.getShiftedBy(1)),o.root!=a.root&&(a=this.end.getShiftedBy(-1)),new Te(o,a)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Te(this.start);let o=this.start._getTransformedByMergeOperation(e),a=this.end._getTransformedByMergeOperation(e);return o.root!=a.root&&(a=this.end.getShiftedBy(-1)),o.isAfter(a)?(e.sourcePosition.isBefore(e.targetPosition)?(o=Qe._createAt(a),o.offset=0):(e.deletionPosition.isEqual(o)||(a=e.deletionPosition),o=e.targetPosition),new Te(o,a)):new Te(o,a)}_getTransformedByInsertion(e,o,a=!1){if(a&&this.containsPosition(e))return[new Te(this.start,e),new Te(e.getShiftedBy(o),this.end._getTransformedByInsertion(e,o))];{const d=new Te(this.start,this.end);return d.start=d.start._getTransformedByInsertion(e,o),d.end=d.end._getTransformedByInsertion(e,o),[d]}}_getTransformedByMove(e,o,a,d=!1){if(this.isCollapsed){const I=this.start._getTransformedByMove(e,o,a);return[new Te(I)]}const p=Te._createFromPositionAndShift(e,a),y=o._getTransformedByDeletion(e,a);if(this.containsPosition(o)&&!d&&(p.containsPosition(this.start)||p.containsPosition(this.end))){const I=this.start._getTransformedByMove(e,o,a),z=this.end._getTransformedByMove(e,o,a);return[new Te(I,z)]}let w;const A=this.getDifference(p);let j=null;const D=this.getIntersection(p);if(A.length==1?j=new Te(A[0].start._getTransformedByDeletion(e,a),A[0].end._getTransformedByDeletion(e,a)):A.length==2&&(j=new Te(this.start,this.end._getTransformedByDeletion(e,a))),w=j?j._getTransformedByInsertion(y,a,D!==null||d):[],D){const I=new Te(D.start._getCombined(p.start,y),D.end._getCombined(p.start,y));w.length==2?w.splice(1,0,I):w.push(I)}return w}_getTransformedByDeletion(e,o){let a=this.start._getTransformedByDeletion(e,o),d=this.end._getTransformedByDeletion(e,o);return a==null&&d==null?null:(a==null&&(a=e),d==null&&(d=e),new Te(a,d))}static _createFromPositionAndShift(e,o){const a=e,d=e.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(e){return new this(Qe._createAt(e,0),Qe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Qe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new B("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const o=e[0];e.sort((p,y)=>p.start.isAfter(y.start)?1:-1);const a=e.indexOf(o),d=new this(o.start,o.end);if(a>0)for(let p=a-1;e[p].end.isEqual(d.start);p++)d.start=Qe._createAt(e[p].start);for(let p=a+1;p<e.length&&e[p].start.isEqual(d.end);p++)d.end=Qe._createAt(e[p].end);return d}static fromJSON(e,o){return new this(Qe.fromJSON(e.start,o),Qe.fromJSON(e.end,o))}}Te.prototype.is=function(c){return c==="range"||c==="model:range"};class Hh extends oe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,o)=>{if(o.viewPosition)return;const a=this._modelToViewMapping.get(o.modelPosition.parent);if(!a)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:o.modelPosition});o.viewPosition=this.findPositionIn(a,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,o)=>{if(o.modelPosition)return;const a=this.findMappedViewAncestor(o.viewPosition),d=this._viewToModelMapping.get(a),p=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,a);o.modelPosition=Qe._createAt(d,p)},{priority:"low"})}bindElements(e,o){this._modelToViewMapping.set(e,o),this._viewToModelMapping.set(o,e)}unbindViewElement(e,o={}){const a=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const d of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(d);o.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(a)==e&&this._modelToViewMapping.delete(a))}unbindModelElement(e){const o=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(o)==e&&this._viewToModelMapping.delete(o)}bindElementToMarker(e,o){const a=this._markerNameToElements.get(o)||new Set;a.add(e);const d=this._elementToMarkerNames.get(e)||new Set;d.add(o),this._markerNameToElements.set(o,a),this._elementToMarkerNames.set(e,d)}unbindElementFromMarkerName(e,o){const a=this._markerNameToElements.get(o);a&&(a.delete(e),a.size==0&&this._markerNameToElements.delete(o));const d=this._elementToMarkerNames.get(e);d&&(d.delete(o),d.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,o]of this._deferredBindingRemovals)e.root==o&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Te(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new pt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const o={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(e,o={}){const a={modelPosition:e,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(e){const o=this._markerNameToElements.get(e);if(!o)return null;const a=new Set;for(const d of o)if(d.is("attributeElement"))for(const p of d.getElementsWithSameId())a.add(p);else a.add(d);return a}registerViewToModelLength(e,o){this._viewToModelLengthCallbacks.set(e,o)}findMappedViewAncestor(e){let o=e.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(e,o,a){if(a!=e)return this._toModelOffset(e.parent,e.index,a)+this._toModelOffset(e,o,e);if(e.is("$text"))return o;let d=0;for(let p=0;p<o;p++)d+=this.getModelLength(e.getChild(p));return d}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let o=0;for(const a of e.getChildren())o+=this.getModelLength(a);return o}}findPositionIn(e,o){let a,d=0,p=0,y=0;if(e.is("$text"))return new $e(e,o);for(;p<o;)a=e.getChild(y),d=this.getModelLength(a),p+=d,y++;return p==o?this._moveViewPositionToTextNode(new $e(e,y)):this.findPositionIn(a,o-(p-d))}_moveViewPositionToTextNode(e){const o=e.nodeBefore,a=e.nodeAfter;return o instanceof Dr?new $e(o,o.data.length):a instanceof Dr?new $e(a,0):e}}class Kp{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,o){o=wi(o),e instanceof zn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(o,!0)}consume(e,o){return o=wi(o),e instanceof zn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,o)&&(this._consumable.get(e).set(o,!1),!0)}test(e,o){o=wi(o),e instanceof zn&&(e=this._getSymbolForTextProxy(e));const a=this._consumable.get(e);if(a===void 0)return null;const d=a.get(o);return d===void 0?null:d}revert(e,o){o=wi(o),e instanceof zn&&(e=this._getSymbolForTextProxy(e));const a=this.test(e,o);return a===!1?(this._consumable.get(e).set(o,!0),!0):a!==!0&&null}verifyAllConsumed(e){const o=[];for(const[a,d]of this._consumable)for(const[p,y]of d){const w=p.split(":")[0];y&&e==w&&o.push({event:p,item:a.name||a.description})}if(o.length)throw new B("conversion-model-consumable-not-consumed",null,{items:o})}_getSymbolForTextProxy(e){let o=null;const a=this._textProxyRegistry.get(e.startOffset);if(a){const d=a.get(e.endOffset);d&&(o=d.get(e.parent))}return o||(o=this._addSymbolForTextProxy(e)),o}_addSymbolForTextProxy(e){const o=e.startOffset,a=e.endOffset,d=e.parent,p=Symbol("$textProxy:"+e.data);let y,w;return y=this._textProxyRegistry.get(o),y||(y=new Map,this._textProxyRegistry.set(o,y)),w=y.get(a),w||(w=new Map,y.set(a,w)),w.set(d,p),p}}function wi(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var hs=Object.defineProperty,Pl=Object.defineProperties,ou=Object.getOwnPropertyDescriptors,Pc=Object.getOwnPropertySymbols,Db=Object.prototype.hasOwnProperty,Mb=Object.prototype.propertyIsEnumerable,Tb=(c,e,o)=>e in c?hs(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,Oc=(c,e)=>{for(var o in e||(e={}))Db.call(e,o)&&Tb(c,o,e[o]);if(Pc)for(var o of Pc(e))Mb.call(e,o)&&Tb(c,o,e[o]);return c},Qp=(c,e)=>Pl(c,ou(e));class eo extends oe(){constructor(e){super(),this._conversionApi=Oc({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,o,a){const d=this._createConversionApi(a,e.getRefreshedItems());for(const y of e.getMarkersToRemove())this._convertMarkerRemove(y.name,y.range,d);const p=this._reduceChanges(e.getChanges());for(const y of p)y.type==="insert"?this._convertInsert(Te._createFromPositionAndShift(y.position,y.length),d):y.type==="reinsert"?this._convertReinsert(Te._createFromPositionAndShift(y.position,y.length),d):y.type==="remove"?this._convertRemove(y.position,y.length,y.name,d):this._convertAttribute(y.range,y.attributeKey,y.attributeOldValue,y.attributeNewValue,d);for(const y of d.mapper.flushUnboundMarkerNames()){const w=o.get(y).getRange();this._convertMarkerRemove(y,w,d),this._convertMarkerAdd(y,w,d)}for(const y of e.getMarkersToAdd())this._convertMarkerAdd(y.name,y.range,d);d.mapper.flushDeferredBindings(),d.consumable.verifyAllConsumed("insert")}convert(e,o,a,d={}){const p=this._createConversionApi(a,void 0,d);this._convertInsert(e,p);for(const[y,w]of o)this._convertMarkerAdd(y,w,p);p.consumable.verifyAllConsumed("insert")}convertSelection(e,o,a){const d=this._createConversionApi(a);this.fire("cleanSelection",{selection:e},d);const p=e.getFirstPosition().root;if(!d.mapper.toViewElement(p))return;const y=Array.from(o.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(d.consumable,e,y),this.fire("selection",{selection:e},d),e.isCollapsed){for(const w of y)if(d.consumable.test(e,"addMarker:"+w.name)){const A=w.getRange();if(!$v(e.getFirstPosition(),w,d.mapper))continue;const j={item:e,markerName:w.name,markerRange:A};this.fire(`addMarker:${w.name}`,j,d)}for(const w of e.getAttributeKeys())if(d.consumable.test(e,"attribute:"+w)){const A={item:e,range:e.getFirstRange(),attributeKey:w,attributeOldValue:null,attributeNewValue:e.getAttribute(w)};this.fire(`attribute:${w}:$text`,A,d)}}}_convertInsert(e,o,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(o.consumable,Array.from(e));for(const d of Array.from(e.getWalker({shallow:!0})).map(to))this._testAndFire("insert",d,o)}_convertRemove(e,o,a,d){this.fire(`remove:${a}`,{position:e,length:o},d)}_convertAttribute(e,o,a,d,p){this._addConsumablesForRange(p.consumable,e,`attribute:${o}`);for(const y of e){const w={item:y.item,range:Te._createFromPositionAndShift(y.previousPosition,y.length),attributeKey:o,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${o}`,w,p)}}_convertReinsert(e,o){const a=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,a);for(const d of a.map(to))this._testAndFire("insert",Qp(Oc({},d),{reconversion:!0}),o)}_convertMarkerAdd(e,o,a){if(o.root.rootName=="$graveyard")return;const d=`addMarker:${e}`;if(a.consumable.add(o,d),this.fire(d,{markerName:e,markerRange:o},a),a.consumable.consume(o,d)){this._addConsumablesForRange(a.consumable,o,d);for(const p of o.getItems()){if(!a.consumable.test(p,d))continue;const y={item:p,range:Te._createOn(p),markerName:e,markerRange:o};this.fire(d,y,a)}}}_convertMarkerRemove(e,o,a){o.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:o},a)}_reduceChanges(e){const o={changes:e};return this.fire("reduceChanges",o),o.changes}_addConsumablesForInsert(e,o){for(const a of o){const d=a.item;if(e.test(d,"insert")===null){e.add(d,"insert");for(const p of d.getAttributeKeys())e.add(d,"attribute:"+p)}}return e}_addConsumablesForRange(e,o,a){for(const d of o.getItems())e.add(d,a);return e}_addConsumablesForSelection(e,o,a){e.add(o,"selection");for(const d of a)e.add(o,"addMarker:"+d.name);for(const d of o.getAttributeKeys())e.add(o,"attribute:"+d);return e}_testAndFire(e,o,a){const d=function(A,j){const D=j.item.is("element")?j.item.name:"$text";return`${A}:${D}`}(e,o),p=o.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(o.item):o.item,y=this._firedEventsMap.get(a),w=y.get(p);if(w){if(w.has(d))return;w.add(d)}else y.set(p,new Set([d]));this.fire(d,o,a)}_testAndFireAddAttributes(e,o){const a={item:e,range:Te._createOn(e)};for(const d of a.item.getAttributeKeys())a.attributeKey=d,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(d),this._testAndFire(`attribute:${d}`,a,o)}_createConversionApi(e,o=new Set,a={}){const d=Qp(Oc({},this._conversionApi),{consumable:new Kp,writer:e,options:a,convertItem:p=>this._convertInsert(Te._createOn(p),d),convertChildren:p=>this._convertInsert(Te._createIn(p),d,{doNotAddConsumables:!0}),convertAttributes:p=>this._testAndFireAddAttributes(p,d),canReuseView:p=>!o.has(d.mapper.toModelElement(p))});return this._firedEventsMap.set(d,new Map),d}}function $v(c,e,o){const a=e.getRange(),d=Array.from(c.getAncestors());return d.shift(),d.reverse(),!d.some(p=>{if(a.containsItem(p))return!!o.toViewElement(p).getCustomProperty("addHighlight")})}function to(c){return{item:c.item,range:Te._createFromPositionAndShift(c.previousPosition,c.length)}}class ro extends oe(Mn){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of e._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Te(e.start,e.end)}getFirstRange(){let e=null;for(const o of this._ranges)e&&!o.start.isBefore(e.start)||(e=o);return e?new Te(e.start,e.end):null}getLastRange(){let e=null;for(const o of this._ranges)e&&!o.end.isAfter(e.end)||(e=o);return e?new Te(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[o,a,d]=e;if(typeof a=="object"&&(d=a,a=void 0),o===null)this._setRanges([]);else if(o instanceof ro)this._setRanges(o.getRanges(),o.isBackward);else if(o&&typeof o.getRanges=="function")this._setRanges(o.getRanges(),o.isBackward);else if(o instanceof Te)this._setRanges([o],!!d&&!!d.backward);else if(o instanceof Qe)this._setRanges([new Te(o)]);else if(o instanceof Zs){const p=!!d&&!!d.backward;let y;if(a=="in")y=Te._createIn(o);else if(a=="on")y=Te._createOn(o);else{if(a===void 0)throw new B("model-selection-setto-required-second-parameter",[this,o]);y=new Te(Qe._createAt(o,a))}this._setRanges([y],p)}else{if(!Cr(o))throw new B("model-selection-setto-not-selectable",[this,o]);this._setRanges(o,d&&!!d.backward)}}_setRanges(e,o=!1){const a=Array.from(e),d=a.some(p=>{if(!(p instanceof Te))throw new B("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(y=>!y.isEqual(p))});(a.length!==this._ranges.length||d)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0}))}setFocus(e,o){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,e]);const a=Qe._createAt(e,o);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(d)=="before"?(this._pushRange(new Te(a,d)),this._lastRangeBackward=!0):(this._pushRange(new Te(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,o){this.getAttribute(e)!==o&&(this._attrs.set(e,o),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const o of this.getRanges()){const a=Ia(o.start,e);Rb(a,o)&&(yield a);for(const p of o.getWalker()){const y=p.item;p.type=="elementEnd"&&W1(y,e,o)&&(yield y)}const d=Ia(o.end,e);au(d,o)&&(yield d)}}containsEntireContent(e=this.anchor.root){const o=Qe._createAt(e,0),a=Qe._createAt(e,"end");return o.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Te(e.start,e.end))}_checkRange(e){for(let o=0;o<this._ranges.length;o++)if(e.isIntersecting(this._ranges[o]))throw new B("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[o]})}_replaceAllRanges(e){this._removeAllRanges();for(const o of e)this._pushRange(o)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ib(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function W1(c,e,o){return Ib(c,e)&&iu(c,o)}function Ia(c,e){const o=c.parent.root.document.model.schema,a=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const p=a.find(y=>!d&&(d=o.isLimit(y),!d&&Ib(y,e)));return a.forEach(y=>e.add(y)),p}function iu(c,e){const o=function(a){const d=a.root.document.model.schema;let p=a.parent;for(;p;){if(d.isBlock(p))return p;p=p.parent}}(c);return o?!e.containsRange(Te._createOn(o),!0):!0}function Rb(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(Qe._createAt(c,c.maxOffset))&&iu(c,e))}function au(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(Qe._createAt(c,0))&&iu(c,e))}ro.prototype.is=function(c){return c==="selection"||c==="model:selection"};class Uo extends oe(Te){constructor(e,o){super(e,o),Zv.call(this)}detach(){this.stopListening()}toRange(){return new Te(this.start,this.end)}static fromRange(e){return new Uo(e.start,e.end)}}function Zv(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const o=e[0];o.isDocumentOperation&&e0.call(this,o)},{priority:"low"})}function e0(c){const e=this.getTransformedByOperation(c),o=Te._createFromRanges(e),a=!o.isEqual(this),d=function(y,w){switch(w.type){case"insert":return y.containsPosition(w.position);case"move":case"remove":case"reinsert":case"merge":return y.containsPosition(w.sourcePosition)||y.start.isEqual(w.sourcePosition)||y.containsPosition(w.targetPosition);case"split":return y.containsPosition(w.splitPosition)||y.containsPosition(w.insertionPosition)}return!1}(this,c);let p=null;if(a){o.root.rootName=="$graveyard"&&(p=c.type=="remove"?c.sourcePosition:c.deletionPosition);const y=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",y,{deletionPosition:p})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:p})}Uo.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const lu="selection:";class No extends oe(Mn){constructor(e){super(),this._selection=new K1(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,o){this._selection.setFocus(e,o)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,o){this._selection.setAttribute(e,o)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return lu+e}static _isStoreAttributeKey(e){return e.startsWith(lu)}}No.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class K1 extends ro{constructor(e){super(),this.markers=new Fs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&d.type!="marker"&&d.type!="rename"&&d.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(o,a,d,p)=>{this._updateMarker(a,p)}),this.listenTo(this._document,"change",(o,a)=>{(function(d,p){const y=d.document.differ;for(const w of y.getChanges()){if(w.type!="insert")continue;const A=w.position.parent;w.length===A.maxOffset&&d.enqueueChange(p,j=>{const D=Array.from(A.getAttributeKeys()).filter(I=>I.startsWith(lu));for(const I of D)j.removeAttribute(I,A)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,o){super.setFocus(e,o),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,o){if(this._setAttribute(e,o)){const a=[e];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}overrideGravity(){const e=q();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new B("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const o=this._prepareRange(e);o&&this._ranges.push(o)}_validateSelectionRanges(e){for(const o of e)if(!this._document._validateSelectionRange(o))throw new B("document-selection-wrong-position",this,{range:o})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const o=Uo.fromRange(e);return o.on("change:range",(a,d,p)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=p.deletionPosition;const y=this._ranges.indexOf(o);this._ranges.splice(y,1),o.detach()}}),o}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let o=!1;for(const d of this._model.markers){const p=d.name.split(":",1)[0];if(!this._observedMarkers.has(p))continue;const y=d.getRange();for(const w of this.getRanges())y.containsRange(w,!w.isCollapsed)&&e.push(d)}const a=Array.from(this.markers);for(const d of e)this.markers.has(d)||(this.markers.add(d),o=!0);for(const d of Array.from(this.markers))e.includes(d)||(this.markers.remove(d),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(e,o){const a=e.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const p=Array.from(this.markers),y=this.markers.has(e);if(o){let w=!1;for(const A of this.getRanges())if(o.containsRange(A,!A.isCollapsed)){w=!0;break}w&&!y?(this.markers.add(e),d=!0):!w&&y&&(this.markers.remove(e),d=!0)}else y&&(this.markers.remove(e),d=!0);d&&this.fire("change:marker",{oldMarkers:p,directChange:!1})}_updateAttributes(e){const o=Cs(this._getSurroundingAttributes()),a=Cs(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[p,y]of this._attributePriority)y=="low"&&(this._attrs.delete(p),this._attributePriority.delete(p));this._setAttributesTo(o);const d=[];for(const[p,y]of this.getAttributes())a.has(p)&&a.get(p)===y||d.push(p);for(const[p]of a)this.hasAttribute(p)||d.push(p);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(e,o,a=!0){const d=a?"normal":"low";return d=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==o&&(this._attrs.set(e,o),this._attributePriority.set(e,d),!0)}_removeAttribute(e,o=!0){const a=o?"normal":"low";return(a!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,a),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const o=new Set;for(const[a,d]of this.getAttributes())e.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of e)this._setAttribute(a,d,!1)&&o.add(a);return o}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const o of e.getAttributeKeys())o.startsWith(lu)&&(yield[o.substr(10),e.getAttribute(o)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),o=this._model.schema;if(e.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const d=e.textNode?e.textNode:e.nodeBefore,p=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(a=qh(d,o)),a||(a=qh(p,o)),!this.isGravityOverridden&&!a){let y=d;for(;y&&!a;)y=y.previousSibling,a=qh(y,o)}if(!a){let y=p;for(;y&&!a;)y=y.nextSibling,a=qh(y,o)}a||(a=this.getStoredAttributes())}else{const d=this.getFirstRange();for(const p of d){if(p.item.is("element")&&o.isObject(p.item)){a=qh(p.item,o);break}if(p.type=="text"){a=p.item.getAttributes();break}}}return a}_fixGraveyardSelection(e){const o=this._model.schema.getNearestSelectionRange(e);o&&this._pushRange(o)}}function qh(c,e){if(!c)return null;if(c instanceof zn||c instanceof Nr)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const o=[];for(const[a,d]of c.getAttributes())e.checkAttribute("$text",a)&&e.getAttributeProperties(a).copyFromObject!==!1&&o.push([a,d]);return o}class t0{constructor(e){this._dispatchers=e}add(e){for(const o of this._dispatchers)e(o);return this}}class r0 extends t0{elementToElement(e){return this.add(function(o){const a=Yh(o.model),d=cu(o.view,"container");return a.attributes.length&&(a.children=!0),p=>{p.on(`insert:${a.name}`,function(y,w=s0){return(A,j,D)=>{if(!w(j.item,D.consumable,{preflight:!0}))return;const I=y(j.item,D,j);if(!I)return;w(j.item,D.consumable);const z=D.mapper.toViewPosition(j.range.start);D.mapper.bindElements(j.item,I),D.writer.insert(z,I),D.convertAttributes(j.item),Wh(I,j.item.getChildren(),D,{reconversion:j.reconversion})}}(d,zb(a)),{priority:o.converterPriority||"normal"}),(a.children||a.attributes.length)&&p.on("reduceChanges",Lb(a),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(o){const a=Yh(o.model),d=cu(o.view,"container");return a.children=!0,p=>{if(p._conversionApi.schema.checkChild(a.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",p,{elementName:a.name});var y,w;p.on(`insert:${a.name}`,(y=d,w=zb(a),(A,j,D)=>{if(!w(j.item,D.consumable,{preflight:!0}))return;const I=new Map;D.writer._registerSlotFactory(function(X,re,de){return(fe,we)=>{const Fe=fe.createContainerElement("$slot");let st=null;if(we==="children")st=Array.from(X.getChildren());else{if(typeof we!="function")throw new B("conversion-slot-mode-unknown",de.dispatcher,{modeOrFilter:we});st=Array.from(X.getChildren()).filter(_t=>we(_t))}return re.set(Fe,st),Fe}}(j.item,I,D));const z=y(j.item,D,j);if(D.writer._clearSlotFactory(),!z)return;(function(X,re,de){const fe=Array.from(re.values()).flat(),we=new Set(fe);if(we.size!=fe.length)throw new B("conversion-slot-filter-overlap",de.dispatcher,{element:X});if(we.size!=X.childCount)throw new B("conversion-slot-filter-incomplete",de.dispatcher,{element:X})})(j.item,I,D),w(j.item,D.consumable);const W=D.mapper.toViewPosition(j.range.start);D.mapper.bindElements(j.item,z),D.writer.insert(W,z),D.convertAttributes(j.item),function(X,re,de,fe){de.mapper.on("modelToViewPosition",st,{priority:"highest"});let we=null,Fe=null;for([we,Fe]of re)Wh(X,Fe,de,fe),de.writer.move(de.writer.createRangeIn(we),de.writer.createPositionBefore(we)),de.writer.remove(we);function st(_t,Ur){const cr=Ur.modelPosition.nodeAfter,fs=Fe.indexOf(cr);fs<0||(Ur.viewPosition=Ur.mapper.findPositionIn(we,fs))}de.mapper.off("modelToViewPosition",st)}(z,I,D,{reconversion:j.reconversion})}),{priority:o.converterPriority||"normal"}),p.on("reduceChanges",Lb(a),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(o){o=Ft(o);let a=o.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const y of a.values)o.view[y]=cu(o.view[y],"attribute");else o.view=cu(o.view,"attribute");const p=Ob(o);return y=>{y.on(d,function(w){return(A,j,D)=>{if(!D.consumable.test(j.item,A.name))return;const I=w(j.attributeOldValue,D,j),z=w(j.attributeNewValue,D,j);if(!I&&!z)return;D.consumable.consume(j.item,A.name);const W=D.writer,X=W.document.selection;if(j.item instanceof ro||j.item instanceof No)W.wrap(X.getFirstRange(),z);else{let re=D.mapper.toViewRange(j.range);j.attributeOldValue!==null&&I&&(re=W.unwrap(re,I)),j.attributeNewValue!==null&&z&&W.wrap(re,z)}}}(p),{priority:o.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(o){o=Ft(o);let a=o.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const y of a.values)o.view[y]=Bb(o.view[y]);else o.view=Bb(o.view);const p=Ob(o);return y=>{var w;y.on(d,(w=p,(A,j,D)=>{if(!D.consumable.test(j.item,A.name))return;const I=w(j.attributeOldValue,D,j),z=w(j.attributeNewValue,D,j);if(!I&&!z)return;D.consumable.consume(j.item,A.name);const W=D.mapper.toViewElement(j.item),X=D.writer;if(!W)throw new B("conversion-attribute-to-attribute-on-text",D.dispatcher,j);if(j.attributeOldValue!==null&&I)if(I.key=="class"){const re=Sn(I.value);for(const de of re)X.removeClass(de,W)}else if(I.key=="style"){const re=Object.keys(I.value);for(const de of re)X.removeStyle(de,W)}else X.removeAttribute(I.key,W);if(j.attributeNewValue!==null&&z)if(z.key=="class"){const re=Sn(z.value);for(const de of re)X.addClass(de,W)}else if(z.key=="style"){const re=Object.keys(z.value);for(const de of re)X.setStyle(de,z.value[de],W)}else X.setAttribute(z.key,z.value,W)}),{priority:o.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(o){const a=cu(o.view,"ui");return d=>{var p;d.on(`addMarker:${o.model}`,(p=a,(y,w,A)=>{w.isOpening=!0;const j=p(w,A);w.isOpening=!1;const D=p(w,A);if(!j||!D)return;const I=w.markerRange;if(I.isCollapsed&&!A.consumable.consume(I,y.name))return;for(const X of I)if(!A.consumable.consume(X.item,y.name))return;const z=A.mapper,W=A.writer;W.insert(z.toViewPosition(I.start),j),A.mapper.bindElementToMarker(j,w.markerName),I.isCollapsed||(W.insert(z.toViewPosition(I.end),D),A.mapper.bindElementToMarker(D,w.markerName)),y.stop()}),{priority:o.converterPriority||"normal"}),d.on(`removeMarker:${o.model}`,(y,w,A)=>{const j=A.mapper.markerNameToElements(w.markerName);if(j){for(const D of j)A.mapper.unbindElementFromMarkerName(D,w.markerName),A.writer.clear(A.writer.createRangeOn(D),D);A.writer.clearClonedElementsGroup(w.markerName),y.stop()}},{priority:o.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(o){return a=>{var d;a.on(`addMarker:${o.model}`,(d=o.view,(p,y,w)=>{if(!y.item||!(y.item instanceof ro||y.item instanceof No||y.item.is("$textProxy")))return;const A=Jp(d,y,w);if(!A||!w.consumable.consume(y.item,p.name))return;const j=w.writer,D=Pb(j,A),I=j.document.selection;if(y.item instanceof ro||y.item instanceof No)j.wrap(I.getFirstRange(),D);else{const z=w.mapper.toViewRange(y.range),W=j.wrap(z,D);for(const X of W.getItems())if(X.is("attributeElement")&&X.isSimilar(D)){w.mapper.bindElementToMarker(X,y.markerName);break}}}),{priority:o.converterPriority||"normal"}),a.on(`addMarker:${o.model}`,function(p){return(y,w,A)=>{if(!w.item||!(w.item instanceof xt))return;const j=Jp(p,w,A);if(!j||!A.consumable.test(w.item,y.name))return;const D=A.mapper.toViewElement(w.item);if(D&&D.getCustomProperty("addHighlight")){A.consumable.consume(w.item,y.name);for(const I of Te._createIn(w.item))A.consumable.consume(I.item,y.name);D.getCustomProperty("addHighlight")(D,j,A.writer),A.mapper.bindElementToMarker(D,w.markerName)}}}(o.view),{priority:o.converterPriority||"normal"}),a.on(`removeMarker:${o.model}`,function(p){return(y,w,A)=>{if(w.markerRange.isCollapsed)return;const j=Jp(p,w,A);if(!j)return;const D=Pb(A.writer,j),I=A.mapper.markerNameToElements(w.markerName);if(I){for(const z of I)A.mapper.unbindElementFromMarkerName(z,w.markerName),z.is("attributeElement")?A.writer.unwrap(A.writer.createRangeOn(z),D):z.getCustomProperty("removeHighlight")(z,j.id,A.writer);A.writer.clearClonedElementsGroup(w.markerName),y.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(o){o=Ft(o);const a=o.model;let d=o.view;return d||(d=p=>({group:a,name:p.substr(o.model.length+1)})),p=>{var y;p.on(`addMarker:${a}`,(y=d,(w,A,j)=>{const D=y(A.markerName,j);if(!D)return;const I=A.markerRange;j.consumable.consume(I,w.name)&&(Bc(I,!1,j,A,D),Bc(I,!0,j,A,D),w.stop())}),{priority:o.converterPriority||"normal"}),p.on(`removeMarker:${a}`,function(w){return(A,j,D)=>{const I=w(j.markerName,D);if(!I)return;const z=D.mapper.markerNameToElements(j.markerName);if(z){for(const X of z)D.mapper.unbindElementFromMarkerName(X,j.markerName),X.is("containerElement")?(W(`data-${I.group}-start-before`,X),W(`data-${I.group}-start-after`,X),W(`data-${I.group}-end-before`,X),W(`data-${I.group}-end-after`,X)):D.writer.clear(D.writer.createRangeOn(X),X);D.writer.clearClonedElementsGroup(j.markerName),A.stop()}function W(X,re){if(re.hasAttribute(X)){const de=new Set(re.getAttribute(X).split(","));de.delete(I.name),de.size==0?D.writer.removeAttribute(X,re):D.writer.setAttribute(X,Array.from(de).join(","),re)}}}}(d),{priority:o.converterPriority||"normal"})}}(e))}}function Pb(c,e){const o=c.createAttributeElement("span",e.attributes);return e.classes&&o._addClass(e.classes),typeof e.priority=="number"&&(o._priority=e.priority),o._id=e.id,o}function Bc(c,e,o,a,d){const p=e?c.start:c.end,y=p.nodeAfter&&p.nodeAfter.is("element")?p.nodeAfter:null,w=p.nodeBefore&&p.nodeBefore.is("element")?p.nodeBefore:null;if(y||w){let A,j;e&&y||!e&&!w?(A=y,j=!0):(A=w,j=!1);const D=o.mapper.toViewElement(A);if(D)return void function(I,z,W,X,re,de){const fe=`data-${de.group}-${z?"start":"end"}-${W?"before":"after"}`,we=I.hasAttribute(fe)?I.getAttribute(fe).split(","):[];we.unshift(de.name),X.writer.setAttribute(fe,we.join(","),I),X.mapper.bindElementToMarker(I,re.markerName)}(D,e,j,o,a,d)}(function(A,j,D,I,z){const W=`${z.group}-${j?"start":"end"}`,X=z.name?{name:z.name}:null,re=D.writer.createUIElement(W,X);D.writer.insert(A,re),D.mapper.bindElementToMarker(re,I.markerName)})(o.mapper.toViewPosition(p),e,o,a,d)}function Yh(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function cu(c,e){return typeof c=="function"?c:(o,a)=>function(d,p,y){typeof d=="string"&&(d={name:d});let w;const A=p.writer,j=Object.assign({},d.attributes);if(y=="container")w=A.createContainerElement(d.name,j);else if(y=="attribute"){const D={priority:d.priority||Dl.DEFAULT_PRIORITY};w=A.createAttributeElement(d.name,j,D)}else w=A.createUIElement(d.name,j);if(d.styles){const D=Object.keys(d.styles);for(const I of D)A.setStyle(I,d.styles[I],w)}if(d.classes){const D=d.classes;if(typeof D=="string")A.addClass(D,w);else for(const I of D)A.addClass(I,w)}return w}(c,a,e)}function Ob(c){return c.model.values?(e,o,a)=>{const d=c.view[e];return d?d(e,o,a):null}:c.view}function Bb(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function Jp(c,e,o){const a=typeof c=="function"?c(e,o):c;return a?(a.priority||(a.priority=10),a.id||(a.id=e.markerName),a):null}function Lb(c){const e=function(o){return(a,d)=>{if(!a.is("element",o.name))return!1;if(d.type=="attribute"){if(o.attributes.includes(d.attributeKey))return!0}else if(o.children)return!0;return!1}}(c);return(o,a)=>{const d=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const p of a.changes){const y=p.type=="attribute"?p.range.start.nodeAfter:p.position.parent;if(y&&e(y,p)){if(!a.reconvertedElements.has(y)){a.reconvertedElements.add(y);const w=Qe._createBefore(y);let A=d.length;for(let j=d.length-1;j>=0;j--){const D=d[j],I=(D.type=="attribute"?D.range.start:D.position).compareWith(w);if(I=="before"||D.type=="remove"&&I=="same")break;A=j}d.splice(A,0,{type:"remove",name:y.name,position:w,length:1},{type:"reinsert",name:y.name,position:w,length:1})}}else d.push(p)}a.changes=d}}function zb(c){return(e,o,a={})=>{const d=["insert"];for(const p of c.attributes)e.hasAttribute(p)&&d.push(`attribute:${p}`);return!!d.every(p=>o.test(e,p))&&(a.preflight||d.forEach(p=>o.consume(e,p)),!0)}}function Wh(c,e,o,a){for(const d of e)n0(c.root,d,o,a)||o.convertItem(d)}function n0(c,e,o,a){const{writer:d,mapper:p}=o;if(!a.reconversion)return!1;const y=p.toViewElement(e);return!(!y||y.root==c)&&!!o.canReuseView(y)&&(d.move(d.createRangeOn(y),p.toViewPosition(Qe._createBefore(e))),!0)}function s0(c,e,{preflight:o}={}){return o?e.test(c,"insert"):e.consume(c,"insert")}function Pr(c){const{schema:e,document:o}=c.model;for(const a of o.getRoots())if(a.isEmpty&&!e.checkChild(a,"$text")&&e.checkChild(a,"paragraph"))return c.insertElement("paragraph",a),!0;return!1}function Xp(c,e,o){const a=o.createContext(c);return!!o.checkChild(a,"paragraph")&&!!o.checkChild(a.push("paragraph"),e)}function o0(c,e){const o=e.createElement("paragraph");return e.insert(o,c),e.createPositionAt(o,0)}var i0=Object.defineProperty,Q1=Object.defineProperties,J1=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,$p=Object.prototype.hasOwnProperty,du=Object.prototype.propertyIsEnumerable,Zp=(c,e,o)=>e in c?i0(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class ef extends t0{elementToElement(e){return this.add(tf(e))}elementToAttribute(e){return this.add(function(o){o=Ft(o),uu(o);const a=l0(o,!1),d=Ra(o.view),p=d?`element:${d}`:"element";return y=>{y.on(p,a,{priority:o.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(o){o=Ft(o);let a=null;(typeof o.view=="string"||o.view.key)&&(a=function(p){typeof p.view=="string"&&(p.view={key:p.view});const y=p.view.key;let w;return y=="class"||y=="style"?w={[y=="class"?"classes":"styles"]:p.view.value}:w={attributes:{[y]:p.view.value===void 0?/[\s\S]*/:p.view.value}},p.view.name&&(w.name=p.view.name),p.view=w,y}(o)),uu(o,a);const d=l0(o,!0);return p=>{p.on("element",d,{priority:o.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(o){const a=function(y){return(w,A)=>{const j=typeof y=="string"?y:y(w,A);return A.writer.createElement("$marker",{"data-name":j})}}(o.model);return tf((d=((y,w)=>{for(var A in w||(w={}))$p.call(w,A)&&Zp(y,A,w[A]);if(a0)for(var A of a0(w))du.call(w,A)&&Zp(y,A,w[A]);return y})({},o),p={model:a},Q1(d,J1(p))));var d,p}(e))}dataToMarker(e){return this.add(function(o){o=Ft(o),o.model||(o.model=y=>y?o.view+":"+y:o.view);const a={view:o.view,model:o.model},d=Go(Fb(a,"start")),p=Go(Fb(a,"end"));return y=>{y.on(`element:${o.view}-start`,d,{priority:o.converterPriority||"normal"}),y.on(`element:${o.view}-end`,p,{priority:o.converterPriority||"normal"});const w=ne.low,A=ne.highest,j=ne.get(o.converterPriority)/A;y.on("element",function(D){return(I,z,W)=>{const X=`data-${D.view}`;function re(de,fe){for(const we of fe){const Fe=D.model(we,W),st=W.writer.createElement("$marker",{"data-name":Fe});W.writer.insert(st,de),z.modelCursor.isEqual(de)?z.modelCursor=z.modelCursor.getShiftedBy(1):z.modelCursor=z.modelCursor._getTransformedByInsertion(de,1),z.modelRange=z.modelRange._getTransformedByInsertion(de,1)[0]}}(W.consumable.test(z.viewItem,{attributes:X+"-end-after"})||W.consumable.test(z.viewItem,{attributes:X+"-start-after"})||W.consumable.test(z.viewItem,{attributes:X+"-end-before"})||W.consumable.test(z.viewItem,{attributes:X+"-start-before"}))&&(z.modelRange||Object.assign(z,W.convertChildren(z.viewItem,z.modelCursor)),W.consumable.consume(z.viewItem,{attributes:X+"-end-after"})&&re(z.modelRange.end,z.viewItem.getAttribute(X+"-end-after").split(",")),W.consumable.consume(z.viewItem,{attributes:X+"-start-after"})&&re(z.modelRange.end,z.viewItem.getAttribute(X+"-start-after").split(",")),W.consumable.consume(z.viewItem,{attributes:X+"-end-before"})&&re(z.modelRange.start,z.viewItem.getAttribute(X+"-end-before").split(",")),W.consumable.consume(z.viewItem,{attributes:X+"-start-before"})&&re(z.modelRange.start,z.viewItem.getAttribute(X+"-start-before").split(",")))}}(a),{priority:w+j})}}(e))}}function tf(c){const e=Go(c=Ft(c)),o=Ra(c.view),a=o?`element:${o}`:"element";return d=>{d.on(a,e,{priority:c.converterPriority||"normal"})}}function Ra(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function Go(c){const e=new Fo(c.view);return(o,a,d)=>{const p=e.match(a.viewItem);if(!p)return;const y=p.match;if(y.name=!0,!d.consumable.test(a.viewItem,y))return;const w=function(A,j,D){return A instanceof Function?A(j,D):D.writer.createElement(A)}(c.model,a.viewItem,d);w&&d.safeInsert(w,a.modelCursor)&&(d.consumable.consume(a.viewItem,y),d.convertChildren(a.viewItem,w),d.updateConversionResult(w,a))}}function uu(c,e=null){const o=e===null||(p=>p.getAttribute(e)),a=typeof c.model!="object"?c.model:c.model.key,d=typeof c.model!="object"||c.model.value===void 0?o:c.model.value;c.model={key:a,value:d}}function l0(c,e){const o=new Fo(c.view);return(a,d,p)=>{if(!d.modelRange&&e)return;const y=o.match(d.viewItem);if(!y||(function(D,I){const z=typeof D=="function"?D(I):D;return typeof z=="object"&&!Ra(z)?!1:!z.classes&&!z.attributes&&!z.styles}(c.view,d.viewItem)?y.match.name=!0:delete y.match.name,!p.consumable.test(d.viewItem,y.match)))return;const w=c.model.key,A=typeof c.model.value=="function"?c.model.value(d.viewItem,p):c.model.value;if(A===null)return;d.modelRange||Object.assign(d,p.convertChildren(d.viewItem,d.modelCursor)),function(D,I,z,W){let X=!1;for(const re of Array.from(D.getItems({shallow:z})))W.schema.checkAttribute(re,I.key)&&(X=!0,re.hasAttribute(I.key)||W.writer.setAttribute(I.key,I.value,re));return X}(d.modelRange,{key:w,value:A},e,p)&&(p.consumable.test(d.viewItem,{name:!0})&&(y.match.name=!0),p.consumable.consume(d.viewItem,y.match))}}function Fb(c,e){return{view:`${c.view}-${e}`,model:(o,a)=>{const d=o.getAttribute("name"),p=c.model(d,a);return a.writer.createElement("$marker",{"data-name":p})}}}function c0(c){c.document.registerPostFixer(e=>function(o,a){const d=a.document.selection,p=a.schema,y=[];let w=!1;for(const A of d.getRanges()){const j=Vb(A,p);j&&!j.isEqual(A)?(y.push(j),w=!0):y.push(A)}return w&&o.setSelection(function(A){const j=[...A],D=new Set;let I=1;for(;I<j.length;){const z=j[I],W=j.slice(0,I);for(const[X,re]of W.entries())if(!D.has(X)){if(z.isEqual(re))D.add(X);else if(z.isIntersecting(re)){D.add(X),D.add(I);const de=z.getJoined(re);j.push(de)}}I++}return j.filter((z,W)=>!D.has(W))}(y),{backward:d.isBackward}),!1}(e,c))}function Vb(c,e){return c.isCollapsed?function(o,a){const d=o.start,p=a.getNearestSelectionRange(d);if(!p){const w=d.getAncestors().reverse().find(A=>a.isObject(A));return w?Te._createOn(w):null}if(!p.isCollapsed)return p;const y=p.start;return d.isEqual(y)?null:new Te(y)}(c,e):function(o,a){const{start:d,end:p}=o,y=a.checkChild(d,"$text"),w=a.checkChild(p,"$text"),A=a.getLimitElement(d),j=a.getLimitElement(p);if(A===j){if(y&&w)return null;if(function(z,W,X){const re=z.nodeAfter&&!X.isLimit(z.nodeAfter)||X.checkChild(z,"$text"),de=W.nodeBefore&&!X.isLimit(W.nodeBefore)||X.checkChild(W,"$text");return re||de}(d,p,a)){const z=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),W=p.nodeBefore&&a.isSelectable(p.nodeBefore)?null:a.getNearestSelectionRange(p,"backward"),X=z?z.start:d,re=W?W.end:p;return new Te(X,re)}}const D=A&&!A.is("rootElement"),I=j&&!j.is("rootElement");if(D||I){const z=d.nodeAfter&&p.nodeBefore&&d.nodeAfter.parent===p.nodeBefore.parent,W=D&&(!z||!d0(d.nodeAfter,a)),X=I&&(!z||!d0(p.nodeBefore,a));let re=d,de=p;return W&&(re=Qe._createBefore(Ub(A,a))),X&&(de=Qe._createAfter(Ub(j,a))),new Te(re,de)}return null}(c,e)}function Ub(c,e){let o=c,a=o;for(;e.isLimit(a)&&a.parent;)o=a,a=a.parent;return o}function d0(c,e){return c&&e.isSelectable(c)}class Gb extends nt(){constructor(e,o){super(),this.model=e,this.view=new Tr(o),this.mapper=new Hh,this.downcastDispatcher=new eo({mapper:this.mapper,schema:e.schema});const a=this.model.document,d=a.selection,p=this.model.markers;var y,w,A;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(j=>{this.downcastDispatcher.convertChanges(a.differ,p,j),this.downcastDispatcher.convertSelection(d,p,j)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(j,D){return(I,z)=>{const W=z.newSelection,X=[];for(const de of W.getRanges())X.push(D.toModelRange(de));const re=j.createSelection(X,{backward:W.isBackward});re.isEqual(j.document.selection)||j.change(de=>{de.setSelection(re)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(y=this.mapper,w=this.model.schema,A=this.view,(j,D)=>{if(!A.document.isComposing||C.isAndroid)for(let I=0;I<D.targetRanges.length;I++){const z=D.targetRanges[I],W=y.toModelRange(z),X=Vb(W,w);X&&!X.isEqual(W)&&(D.targetRanges[I]=y.toViewRange(X))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(j,D,I)=>{if(!I.consumable.consume(D.item,j.name))return;const z=I.writer,W=I.mapper.toViewPosition(D.range.start),X=z.createText(D.item.data);z.insert(W,X)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(j,D,I)=>{I.convertAttributes(D.item),D.reconversion||!D.item.is("element")||D.item.isEmpty||I.convertChildren(D.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(j,D,I)=>{const z=I.mapper.toViewPosition(D.position),W=D.position.getShiftedBy(D.length),X=I.mapper.toViewPosition(W,{isPhantom:!0}),re=I.writer.createRange(z,X),de=I.writer.remove(re.getTrimmed());for(const fe of I.writer.createRangeIn(de).getItems())I.mapper.unbindViewElement(fe,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(j,D,I)=>{const z=I.writer,W=z.document.selection;for(const X of W.getRanges())X.isCollapsed&&X.end.parent.isAttached()&&I.writer.mergeAttributes(X.start);z.setSelection(null)}),this.downcastDispatcher.on("selection",(j,D,I)=>{const z=D.selection;if(z.isCollapsed||!I.consumable.consume(z,"selection"))return;const W=[];for(const X of z.getRanges())W.push(I.mapper.toViewRange(X));I.writer.setSelection(W,{backward:z.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(j,D,I)=>{const z=D.selection;if(!z.isCollapsed||!I.consumable.consume(z,"selection"))return;const W=I.writer,X=z.getFirstPosition(),re=I.mapper.toViewPosition(X),de=W.breakAttributes(re);W.setSelection(de)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(j=>{if(j.rootName=="$graveyard")return null;const D=new ab(this.view.document,j.name);return D.rootName=j.rootName,this.mapper.bindElements(j,D),D})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const o=typeof e=="string"?e:e.name,a=this.model.markers.get(o);if(!a)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:o});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class hu{constructor(){this._consumables=new Map}add(e,o){let a;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?a=this._consumables.get(e):(a=new X1(e),this._consumables.set(e,a)),a.add(o))}test(e,o){const a=this._consumables.get(e);return a===void 0?null:e.is("$text")||e.is("documentFragment")?a:a.test(o)}consume(e,o){return!!this.test(e,o)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(o),!0)}revert(e,o){const a=this._consumables.get(e);a!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):a.revert(o))}static consumablesFromElement(e){const o={element:e,name:!0,attributes:[],classes:[],styles:[]},a=e.getAttributeKeys();for(const y of a)y!="style"&&y!="class"&&o.attributes.push(y);const d=e.getClassNames();for(const y of d)o.classes.push(y);const p=e.getStyleNames();for(const y of p)o.styles.push(y);return o}static createFrom(e,o){if(o||(o=new hu),e.is("$text"))return o.add(e),o;e.is("element")&&o.add(e,hu.consumablesFromElement(e)),e.is("documentFragment")&&o.add(e);for(const a of e.getChildren())o=hu.createFrom(a,o);return o}}const Kh=["attributes","classes","styles"];class X1{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const o of Kh)o in e&&this._add(o,e[o])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const o of Kh)if(o in e){const a=this._test(o,e[o]);if(a!==!0)return a}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const o of Kh)o in e&&this._consume(o,e[o])}revert(e){e.name&&(this._canConsumeName=!0);for(const o of Kh)o in e&&this._revert(o,e[o])}_add(e,o){const a=Pt(o)?o:[o],d=this._consumables[e];for(const p of a){if(e==="attributes"&&(p==="class"||p==="style"))throw new B("viewconsumable-invalid-attribute",this);if(d.set(p,!0),e==="styles")for(const y of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(y,!0)}}_test(e,o){const a=Pt(o)?o:[o],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style"){const y=d.get(p);if(y===void 0)return null;if(!y)return!1}else{const y=p=="class"?"classes":"styles",w=this._test(y,[...this._consumables[y].keys()]);if(w!==!0)return w}return!0}_consume(e,o){const a=Pt(o)?o:[o],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style"){if(d.set(p,!1),e=="styles")for(const y of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(y,!1)}else{const y=p=="class"?"classes":"styles";this._consume(y,[...this._consumables[y].keys()])}}_revert(e,o){const a=Pt(o)?o:[o],d=this._consumables[e];for(const p of a)if(e!=="attributes"||p!=="class"&&p!=="style")d.get(p)===!1&&d.set(p,!0);else{const y=p=="class"?"classes":"styles";this._revert(y,[...this._consumables[y].keys()])}}}class Hb extends nt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,o)=>{o[0]=new Pa(o[0])},{priority:"highest"}),this.on("checkChild",(e,o)=>{o[0]=new Pa(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(e,o){if(this._sourceDefinitions[e])throw new B("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},o)],this._clearCache()}extend(e,o){if(!this._sourceDefinitions[e])throw new B("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let o;return o=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[o]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const o=this.getDefinition(e);return!(!o||!o.isBlock)}isLimit(e){const o=this.getDefinition(e);return!!o&&!(!o.isLimit&&!o.isObject)}isObject(e){const o=this.getDefinition(e);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(e){const o=this.getDefinition(e);return!(!o||!o.isInline)}isSelectable(e){const o=this.getDefinition(e);return!!o&&!(!o.isSelectable&&!o.isObject)}isContent(e){const o=this.getDefinition(e);return!!o&&!(!o.isContent&&!o.isObject)}checkChild(e,o){return!!o&&this._checkContextMatch(o,e)}checkAttribute(e,o){const a=this.getDefinition(e.last);return!!a&&a.allowAttributes.includes(o)}checkMerge(e,o){if(e instanceof Qe){const a=e.nodeBefore,d=e.nodeAfter;if(!(a instanceof xt))throw new B("schema-check-merge-no-element-before",this);if(!(d instanceof xt))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of o.getChildren())if(!this.checkChild(e,a))return!1;return!0}addChildCheck(e){this.on("checkChild",(o,[a,d])=>{if(!d)return;const p=e(a,d);typeof p=="boolean"&&(o.stop(),o.return=p)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(o,[a,d])=>{const p=e(a,d);typeof p=="boolean"&&(o.stop(),o.return=p)},{priority:"high"})}setAttributeProperties(e,o){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),o)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let o;for(e instanceof Qe?o=e.parent:o=(e instanceof Te?[e]:Array.from(e.getRanges())).reduce((a,d)=>{const p=d.getCommonAncestor();return a?a.getCommonAncestor(p,{includeSelf:!0}):p},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(e,o){if(e.isCollapsed){const a=[...e.getFirstPosition().getAncestors(),new Nr("",e.getAttributes())];return this.checkAttribute(a,o)}{const a=e.getRanges();for(const d of a)for(const p of d)if(this.checkAttribute(p.item,o))return!0}return!1}*getValidRanges(e,o){e=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(e);for(const a of e)yield*this._getValidRangesForRange(a,o)}getNearestSelectionRange(e,o="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Te(e);let a,d;const p=e.getAncestors().reverse().find(y=>this.isLimit(y))||e.root;o!="both"&&o!="backward"||(a=new us({boundaries:Te._createIn(p),startPosition:e,direction:"backward"})),o!="both"&&o!="forward"||(d=new us({boundaries:Te._createIn(p),startPosition:e}));for(const y of function*(w,A){let j=!1;for(;!j;){if(j=!0,w){const D=w.next();D.done||(j=!1,yield{walker:w,value:D.value})}if(A){const D=A.next();D.done||(j=!1,yield{walker:A,value:D.value})}}}(a,d)){const w=y.walker==a?"elementEnd":"elementStart",A=y.value;if(A.type==w&&this.isObject(A.item))return Te._createOn(A.item);if(this.checkChild(A.nextPosition,"$text"))return new Te(A.nextPosition)}return null}findAllowedParent(e,o){let a=e.parent;for(;a;){if(this.checkChild(a,o))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(e,o,a){const d=a.model;for(const[p,y]of Object.entries(o))d.schema.checkAttribute(e,p)&&a.setAttribute(p,y,e)}removeDisallowedAttributes(e,o){for(const a of e)if(a.is("$text"))Xh(this,a,o);else{const d=Te._createIn(a).getPositions();for(const p of d)Xh(this,p.nodeBefore||p.parent,o)}}getAttributesWithProperty(e,o,a){const d={};for(const[p,y]of e.getAttributes()){const w=this.getAttributeProperties(p);w[o]!==void 0&&(a!==void 0&&a!==w[o]||(d[p]=y))}return d}createContext(e){return new Pa(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},o=this._sourceDefinitions,a=Object.keys(o);for(const d of a)e[d]=$1(o[d],d);for(const d of a)Z1(e,d);for(const d of a)Qh(e,d);for(const d of a)eC(e,d);for(const d of a)u0(e,d),$t(e,d);for(const d of a)qb(e,d),rf(e,d),Yb(e,d);this._compiledDefinitions=e}_checkContextMatch(e,o,a=o.length-1){const d=o.getItem(a);if(e.allowIn.includes(d.name)){if(a==0)return!0;{const p=this.getDefinition(d);return this._checkContextMatch(p,o,a-1)}}return!1}*_getValidRangesForRange(e,o){let a=e.start,d=e.start;for(const p of e.getItems({shallow:!0}))p.is("element")&&(yield*this._getValidRangesForRange(Te._createIn(p),o)),this.checkAttribute(p,o)||(a.isEqual(d)||(yield new Te(a,d)),a=Qe._createAfter(p)),d=Qe._createAfter(p);a.isEqual(d)||(yield new Te(a,d))}}class Pa{constructor(e){if(e instanceof Pa)return e;let o;o=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=o.map(Jh)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const o=new Pa([e]);return o._items=[...this._items,...o._items],o}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function $1(c,e){const o={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,d){for(const p of a){const y=Object.keys(p).filter(w=>w.startsWith("is"));for(const w of y)d[w]=!!p[w]}}(c,o),Ol(c,o,"allowIn"),Ol(c,o,"allowContentOf"),Ol(c,o,"allowWhere"),Ol(c,o,"allowAttributes"),Ol(c,o,"allowAttributesOf"),Ol(c,o,"allowChildren"),Ol(c,o,"inheritTypesFrom"),function(a,d){for(const p of a){const y=p.inheritAllFrom;y&&(d.allowContentOf.push(y),d.allowWhere.push(y),d.allowAttributesOf.push(y),d.inheritTypesFrom.push(y))}}(c,o),o}function Z1(c,e){const o=c[e];for(const a of o.allowChildren){const d=c[a];d&&d.allowIn.push(e)}o.allowChildren.length=0}function Qh(c,e){for(const o of c[e].allowContentOf)c[o]&&Wb(c,o).forEach(a=>{a.allowIn.push(e)});delete c[e].allowContentOf}function eC(c,e){for(const o of c[e].allowWhere){const a=c[o];if(a){const d=a.allowIn;c[e].allowIn.push(...d)}}delete c[e].allowWhere}function u0(c,e){for(const o of c[e].allowAttributesOf){const a=c[o];if(a){const d=a.allowAttributes;c[e].allowAttributes.push(...d)}}delete c[e].allowAttributesOf}function $t(c,e){const o=c[e];for(const a of o.inheritTypesFrom){const d=c[a];if(d){const p=Object.keys(d).filter(y=>y.startsWith("is"));for(const y of p)y in o||(o[y]=d[y])}}delete o.inheritTypesFrom}function qb(c,e){const o=c[e],a=o.allowIn.filter(d=>c[d]);o.allowIn=Array.from(new Set(a))}function rf(c,e){const o=c[e];for(const a of o.allowIn)c[a].allowChildren.push(e)}function Yb(c,e){const o=c[e];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function Ol(c,e,o){for(const a of c){const d=a[o];typeof d=="string"?e[o].push(d):Array.isArray(d)&&e[o].push(...d)}}function Wb(c,e){const o=c[e];return(a=c,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(o.name));var a}function Jh(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function Xh(c,e,o){for(const a of e.getAttributeKeys())c.checkAttribute(e,a)||o.removeAttribute(a,e)}var mu=Object.defineProperty,h0=Object.defineProperties,tC=Object.getOwnPropertyDescriptors,m0=Object.getOwnPropertySymbols,p0=Object.prototype.hasOwnProperty,f0=Object.prototype.propertyIsEnumerable,$h=(c,e,o)=>e in c?mu(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class Or extends oe(){constructor(e){var o;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(o=((a,d)=>{for(var p in d||(d={}))p0.call(d,p)&&$h(a,p,d[p]);if(m0)for(var p of m0(d))f0.call(d,p)&&$h(a,p,d[p]);return a})({},e),h0(o,tC({consumable:null,writer:null,store:null,convertItem:(a,d)=>this._convertItem(a,d),convertChildren:(a,d)=>this._convertChildren(a,d),safeInsert:(a,d)=>this._safeInsert(a,d),updateConversionResult:(a,d)=>this._updateConversionResult(a,d),splitToAllowedParent:(a,d)=>this._splitToAllowedParent(a,d),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(e,o,a=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(y,w){let A;for(const j of new Pa(y)){const D={};for(const z of j.getAttributeKeys())D[z]=j.getAttribute(z);const I=w.createElement(j.name,D);A&&w.insert(I,A),A=Qe._createAt(I,0)}return A}(a,o),this.conversionApi.writer=o,this.conversionApi.consumable=hu.createFrom(e),this.conversionApi.store={};const{modelRange:d}=this._convertItem(e,this._modelCursor),p=o.createDocumentFragment();if(d){this._removeEmptyElements();for(const y of Array.from(this._modelCursor.parent.getChildren()))o.append(y,p);p.markers=function(y,w){const A=new Set,j=new Map,D=Te._createIn(y).getItems();for(const I of D)I.is("element","$marker")&&A.add(I);for(const I of A){const z=I.getAttribute("data-name"),W=w.createPositionBefore(I);j.has(z)?j.get(z).end=W.clone():j.set(z,new Te(W.clone())),w.remove(I)}return j}(p,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,p}_convertItem(e,o){const a={viewItem:e,modelCursor:o,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,a,this.conversionApi):e.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof Te))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(e,o){let a=o.is("position")?o:Qe._createAt(o,0);const d=new Te(a);for(const p of Array.from(e.getChildren())){const y=this._convertItem(p,a);y.modelRange instanceof Te&&(d.end=y.modelRange.end,a=y.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(e,o){const a=this._splitToAllowedParent(e,o);return!!a&&(this.conversionApi.writer.insert(e,a.position),!0)}_updateConversionResult(e,o){const a=this._getSplitParts(e),d=this.conversionApi.writer;o.modelRange||(o.modelRange=d.createRange(d.createPositionBefore(e),d.createPositionAfter(a[a.length-1])));const p=this._cursorParents.get(e);o.modelCursor=p?d.createPositionAt(p,0):o.modelRange.end}_splitToAllowedParent(e,o){const{schema:a,writer:d}=this.conversionApi;let p=a.findAllowedParent(o,e);if(p){if(p===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(p)&&(p=null)}if(!p)return Xp(o,e,a)?{position:o0(o,d)}:null;const y=this.conversionApi.writer.split(o,p),w=[];for(const j of y.range.getWalker())if(j.type=="elementEnd")w.push(j.item);else{const D=w.pop(),I=j.item;this._registerSplitPair(D,I)}const A=y.range.end.parent;return this._cursorParents.set(e,A),{position:y.position,cursorParent:A}}_registerSplitPair(e,o){this._splitParts.has(e)||this._splitParts.set(e,[e]);const a=this._splitParts.get(e);this._splitParts.set(o,a),a.push(o)}_getSplitParts(e){let o;return o=this._splitParts.has(e)?this._splitParts.get(e):[e],o}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const o of this._splitParts.keys())o.isEmpty&&!this._emptyElementsToKeep.has(o)&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),e=!0);e&&this._removeEmptyElements()}}class Kb{getHtml(e){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(e),o.innerHTML}}class ms{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Ml(e,{renderingMode:"data"}),this.htmlWriter=new Kb}toData(e){const o=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(o)}toView(e){const o=this._toDom(e);return this.domConverter.domToView(o,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const o=this.domParser.parseFromString(e,"text/html"),a=o.createDocumentFragment(),d=o.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class rC extends oe(){constructor(e,o){super(),this.model=e,this.mapper=new Hh,this.downcastDispatcher=new eo({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const y=p.writer,w=p.mapper.toViewPosition(d.range.start),A=y.createText(d.item.data);y.insert(w,A)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,d,p)=>{p.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||p.convertChildren(d.item)},{priority:"lowest"}),this.upcastDispatcher=new Or({schema:e.schema}),this.viewDocument=new Dc(o),this.stylesProcessor=o,this.htmlProcessor=new ms(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Kn(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:p,consumable:y,writer:w})=>{let A=d.modelCursor;if(!y.test(d.viewItem))return;if(!p.checkChild(A,"$text")){if(!Xp(A,"$text",p)||d.viewItem.data.trim().length==0)return;const D=A.nodeBefore;A=o0(A,w),D&&D.is("element","$marker")&&(w.move(w.createRangeOn(D),A),A=w.createPositionAfter(D))}y.consume(d.viewItem);const j=w.createText(d.viewItem.data);w.insert(j,A),d.modelRange=w.createRange(A,A.getShiftedBy(j.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:y,modelCursor:w}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=y,d.modelCursor=w}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:y,modelCursor:w}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=y,d.modelCursor=w}},{priority:"lowest"}),nt().prototype.decorate.call(this,"init"),nt().prototype.decorate.call(this,"set"),nt().prototype.decorate.call(this,"get"),nt().prototype.decorate.call(this,"toView"),nt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Pr)},{priority:"lowest"})}get(e={}){const{rootName:o="main",trim:a="empty"}=e;if(!this._checkIfRootsExists([o]))throw new B("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(o);return d.isAttached()||Y("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,e):""}stringify(e,o={}){const a=this.toView(e,o);return this.processor.toData(a)}toView(e,o={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const p=Te._createIn(e),y=new Qr(a);this.mapper.bindElements(e,y);const w=e.is("documentFragment")?e.markers:function(A){const j=[],D=A.root.document;if(!D)return new Map;const I=Te._createIn(A);for(const z of D.model.markers){const W=z.getRange(),X=W.isCollapsed,re=W.start.isEqual(I.start)||W.end.isEqual(I.end);if(X&&re)j.push([z.name,W]);else{const de=I.getIntersection(W);de&&j.push([z.name,de])}}return j.sort(([z,W],[X,re])=>{if(W.end.compareWith(re.start)!=="after")return 1;if(W.start.compareWith(re.end)!=="before")return-1;switch(W.start.compareWith(re.start)){case"before":return 1;case"after":return-1;default:switch(W.end.compareWith(re.end)){case"before":return 1;case"after":return-1;default:return X.localeCompare(z)}}}),new Map(j)}(e);return this.downcastDispatcher.convert(p,w,d,o),y}init(e){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const d of Object.keys(o)){const p=this.model.document.getRoot(d);a.insert(this.parse(o[d],p),p,0)}}),Promise.resolve()}set(e,o={}){let a={};if(typeof e=="string"?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||{},d=>{d.setSelection(null),d.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const p of Object.keys(a)){const y=this.model.document.getRoot(p);d.remove(d.createRangeIn(y)),d.insert(this.parse(a[p],y),y,0)}})}parse(e,o="$root"){const a=this.processor.toView(e);return this.toModel(a,o)}toModel(e,o="$root"){return this.model.change(a=>this.upcastDispatcher.convert(e,a,o))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const o of e)if(!this.model.document.getRoot(o))return!1;return!0}}class Qb{constructor(e,o){this._helpers=new Map,this._downcast=Sn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Sn(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,o){const a=this._downcast.includes(o);if(!this._upcast.includes(o)&&!a)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[o],isDowncast:a})}for(e){if(!this._helpers.has(e))throw new B("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:o,view:a}of Zh(e))this.for("upcast").elementToElement({model:o,view:a,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:o,view:a}of Zh(e))this.for("upcast").elementToAttribute({view:a,model:o,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:o,view:a}of Zh(e))this.for("upcast").attributeToAttribute({view:a,model:o})}_createConversionHelpers({name:e,dispatchers:o,isDowncast:a}){if(this._helpers.has(e))throw new B("conversion-group-exists",this);const d=a?new r0(o):new ef(o);this._helpers.set(e,d)}}function*Zh(c){if(c.model.values)for(const e of c.model.values){const o={key:c.model.key,value:e},a=c.view[e],d=c.upcastAlso?c.upcastAlso[e]:void 0;yield*em(o,a,d)}else yield*em(c.model,c.view,c.upcastAlso)}function*em(c,e,o){if(yield{model:c,view:e},o)for(const a of Sn(o))yield{model:c,view:a}}class no{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,o){return new this(e.baseVersion)}}function nf(c,e){const o=g0(e),a=o.reduce((y,w)=>y+w.offsetSize,0),d=c.parent;tm(c);const p=c.index;return d._insertChild(p,o),pu(d,p+o.length),pu(d,p),new Te(c,c.getShiftedBy(a))}function sf(c){if(!c.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const e=c.start.parent;tm(c.start),tm(c.end);const o=e._removeChildren(c.start.index,c.end.index-c.start.index);return pu(e,c.start.index),o}function Lc(c,e){if(!c.isFlat)throw new B("operation-utils-move-range-not-flat",this);const o=sf(c);return nf(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),o)}function g0(c){const e=[];(function o(a){if(typeof a=="string")e.push(new Nr(a));else if(a instanceof zn)e.push(new Nr(a.data,a.getAttributes()));else if(a instanceof Zs)e.push(a);else if(Cr(a))for(const d of a)o(d)})(c);for(let o=1;o<e.length;o++){const a=e[o],d=e[o-1];a instanceof Nr&&d instanceof Nr&&Jb(a,d)&&(e.splice(o-1,2,new Nr(d.data+a.data,d.getAttributes())),o--)}return e}function pu(c,e){const o=c.getChild(e-1),a=c.getChild(e);if(o&&a&&o.is("$text")&&a.is("$text")&&Jb(o,a)){const d=new Nr(o.data+a.data,o.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,d)}}function tm(c){const e=c.textNode,o=c.parent;if(e){const a=c.offset-e.startOffset,d=e.index;o._removeChildren(d,1);const p=new Nr(e.data.substr(0,a),e.getAttributes()),y=new Nr(e.data.substr(a),e.getAttributes());o._insertChild(d,[p,y])}}function Jb(c,e){const o=c.getAttributes(),a=e.getAttributes();for(const d of o){if(d[1]!==e.getAttribute(d[0]))return!1;a.next()}return a.next().done}class fr extends no{constructor(e,o,a,d){super(d),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Te._createFromPositionAndShift(this.sourcePosition,this.howMany),Te._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new fr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new fr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,o=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>e.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(e===o&&a<d&&d<a+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Er(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const p=this.sourcePosition.path.length-1;if(this.targetPosition.path[p]>=a&&this.targetPosition.path[p]<a+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){Lc(Te._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,o){const a=Qe.fromJSON(e.sourcePosition,o),d=Qe.fromJSON(e.targetPosition,o);return new this(a,e.howMany,d,e.baseVersion)}}class Xn extends no{constructor(e,o,a){super(a),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Yi(g0(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Yi([...this.nodes].map(a=>a._clone(!0))),o=new Xn(this.position,e,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const e=this.position.root.document.graveyard,o=new Qe(e,[0]);return new fr(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Yi([...e].map(o=>o._clone(!0))),nf(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,o){const a=[];for(const p of e.nodes)p.name?a.push(xt.fromJSON(p)):a.push(Nr.fromJSON(p));const d=new Xn(Qe.fromJSON(e.position,o),a,e.baseVersion);return d.shouldReceiveAttributes=e.shouldReceiveAttributes,d}}class sr extends no{constructor(e,o,a,d,p){super(p),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Qe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Te(this.splitPosition,e)}get affectedSelectable(){const e=[Te._createFromPositionAndShift(this.splitPosition,0),Te._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Te._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new sr(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,o=new Qe(e,[0]);return new en(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,o=this.splitPosition.offset;if(!e||e.maxOffset<o)throw new B("split-operation-position-invalid",this);if(!e.parent)throw new B("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Lc(Te._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=e._clone();nf(this.insertionPosition,o)}Lc(new Te(Qe._createAt(e,this.splitPosition.offset),Qe._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const o=e.path.slice(0,-1);return o[o.length-1]++,new Qe(e.root,o,"toPrevious")}static fromJSON(e,o){const a=Qe.fromJSON(e.splitPosition,o),d=Qe.fromJSON(e.insertionPosition,o),p=e.graveyardPosition?Qe.fromJSON(e.graveyardPosition,o):null;return new this(a,e.howMany,d,p,e.baseVersion)}}class en extends no{constructor(e,o,a,d,p){super(p),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new Qe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Te(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Te._createOn(e),Te._createFromPositionAndShift(this.targetPosition,0),Te._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new en(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),a=new Qe(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new sr(e,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,o=this.targetPosition.parent;if(!e.parent)throw new B("merge-operation-source-position-invalid",this);if(!o.parent)throw new B("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new B("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Lc(Te._createIn(e),this.targetPosition),Lc(Te._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,o){const a=Qe.fromJSON(e.sourcePosition,o),d=Qe.fromJSON(e.targetPosition,o),p=Qe.fromJSON(e.graveyardPosition,o);return new this(a,e.howMany,d,p,e.baseVersion)}}class js extends no{constructor(e,o,a,d,p,y){super(y),this.name=e,this.oldRange=o?o.clone():null,this.newRange=a?a.clone():null,this.affectsData=p,this._markers=d}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new js(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new js(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,o){return new js(e.name,e.oldRange?Te.fromJSON(e.oldRange,o):null,e.newRange?Te.fromJSON(e.newRange,o):null,o.model.markers,e.affectsData,e.baseVersion)}}const b0=function(c,e){return Ic(c,e)};class gn extends no{constructor(e,o,a,d,p){super(p),this.range=e.clone(),this.key=o,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new gn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new gn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!b0(e.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){b0(this.oldValue,this.newValue)||function(e,o,a){tm(e.start),tm(e.end);for(const d of e.getItems({shallow:!0})){const p=d.is("$textProxy")?d.textNode:d;a!==null?p._setAttribute(o,a):p._removeAttribute(o),pu(p.parent,p.index)}pu(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,o){return new gn(Te.fromJSON(e.range,o),e.key,e.oldValue,e.newValue,e.baseVersion)}}class bn extends no{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new bn(this.baseVersion)}getReversed(){return new bn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class so extends no{constructor(e,o,a,d){super(d),this.position=e,this.position.stickiness="toNext",this.oldName=o,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new so(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new so(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof xt))throw new B("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,o){return new so(Qe.fromJSON(e.position,o),e.oldName,e.newName,e.baseVersion)}}class Fn extends no{constructor(e,o,a,d,p){super(p),this.root=e,this.key=o,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Fn(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Fn(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,o){if(!o.getRoot(e.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Fn(o.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ho extends no{constructor(e,o,a,d,p){super(p),this.rootName=e,this.elementName=o,this.isAdd=a,this._document=d,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ho(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ho(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,o){return new Ho(e.rootName,e.elementName,e.isAdd,o,e.baseVersion)}}const jo={};jo[gn.className]=gn,jo[Xn.className]=Xn,jo[js.className]=js,jo[fr.className]=fr,jo[bn.className]=bn,jo[no.className]=no,jo[so.className]=so,jo[Fn.className]=Fn,jo[Ho.className]=Ho,jo[sr.className]=sr,jo[en.className]=en;class y0{static fromJSON(e,o){return jo[e.__className].fromJSON(e,o)}}const zc=new Map;function Tt(c,e,o){let a=zc.get(c);a||(a=new Map,zc.set(c,a)),a.set(e,o)}function x0(c){return[c]}function rm(c,e,o={}){const a=function(d,p){const y=zc.get(d);return y&&y.has(p)?y.get(p):x0}(c.constructor,e.constructor);try{return a(c=c.clone(),e,o)}catch(d){throw d}}function Oa(c,e,o){c=c.slice(),e=e.slice();const a=new nC(o.document,o.useRelations,o.forceWeakRemove);a.setOriginalOperations(c),a.setOriginalOperations(e);const d=a.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:d};const p=new WeakMap;for(const A of c)p.set(A,0);const y={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let w=0;for(;w<c.length;){const A=c[w],j=p.get(A);if(j==e.length){w++;continue}const D=e[j],I=rm(A,D,a.getContext(A,D,!0)),z=rm(D,A,a.getContext(D,A,!1));a.updateRelation(A,D),a.setOriginalOperations(I,A),a.setOriginalOperations(z,D);for(const W of I)p.set(W,j+z.length);c.splice(w,1,...I),e.splice(j,1,...z)}return v0(c,y.nextBaseVersionB),v0(e,y.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:d}}class nC{constructor(e,o,a=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=o,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(e,o=null){const a=o?this.originalOperations.get(o):null;for(const d of e)this.originalOperations.set(d,a||d)}updateRelation(e,o){if(e instanceof fr)o instanceof en?e.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,o,"insertAtSource"):e.targetPosition.isEqual(o.deletionPosition)?this._setRelation(e,o,"insertBetween"):e.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(e,o,"moveTargetAfter"):o instanceof fr&&(e.targetPosition.isEqual(o.sourcePosition)||e.targetPosition.isBefore(o.sourcePosition)?this._setRelation(e,o,"insertBefore"):this._setRelation(e,o,"insertAfter"));else if(e instanceof sr){if(o instanceof en)e.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(e,o,"splitBefore");else if(o instanceof fr)if(e.splitPosition.isEqual(o.sourcePosition)||e.splitPosition.isBefore(o.sourcePosition))this._setRelation(e,o,"splitBefore");else{const a=Te._createFromPositionAndShift(o.sourcePosition,o.howMany);if(e.splitPosition.hasSameParentAs(o.sourcePosition)&&a.containsPosition(e.splitPosition)){const d=a.end.offset-e.splitPosition.offset,p=e.splitPosition.offset-a.start.offset;this._setRelation(e,o,{howMany:d,offset:p})}}}else if(e instanceof en)o instanceof en?(e.targetPosition.isEqual(o.sourcePosition)||this._setRelation(e,o,"mergeTargetNotMoved"),e.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(e,o,"mergeSourceNotMoved"),e.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(e,o,"mergeSameElement")):o instanceof sr&&e.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(e,o,"splitAtSource");else if(e instanceof js){const a=e.newRange;if(!a)return;if(o instanceof fr){const d=Te._createFromPositionAndShift(o.sourcePosition,o.howMany),p=d.containsPosition(a.start)||d.start.isEqual(a.start),y=d.containsPosition(a.end)||d.end.isEqual(a.end);!p&&!y||d.containsRange(a)||this._setRelation(e,o,{side:p?"left":"right",path:p?a.start.path.slice():a.end.path.slice()})}else if(o instanceof en){const d=a.start.isEqual(o.targetPosition),p=a.start.isEqual(o.deletionPosition),y=a.end.isEqual(o.deletionPosition),w=a.end.isEqual(o.sourcePosition);(d||p||y||w)&&this._setRelation(e,o,{wasInLeftElement:d,wasStartBeforeMergedElement:p,wasEndBeforeMergedElement:y,wasInRightElement:w})}}}getContext(e,o,a){return{aIsStrong:a,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(e,o):null,baRelation:this._useRelations?this._getRelation(o,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const o=this.originalOperations.get(e);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(e,o){const a=this.originalOperations.get(o),d=this._history.getUndoneOperation(a);if(!d)return null;const p=this.originalOperations.get(e),y=this._relations.get(p);return y&&y.get(d)||null}_setRelation(e,o,a){const d=this.originalOperations.get(e),p=this.originalOperations.get(o);let y=this._relations.get(d);y||(y=new Map,this._relations.set(d,y)),y.set(p,a)}}function v0(c,e){for(const o of c)o.baseVersion=e++}function Fc(c,e,o){const a=c.nodes.getNode(0).getAttribute(e);if(a==o)return null;const d=new Te(c.position,c.position.getShiftedBy(c.howMany));return new gn(d,e,a,o,0)}function Xb(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function fu(c,e){const o=[];for(let a=0;a<c.length;a++){const d=c[a],p=new fr(d.start,d.end.offset-d.start.offset,e,0);o.push(p);for(let y=a+1;y<c.length;y++)c[y]=c[y]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)[0];e=e._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)}return o}Tt(gn,gn,(c,e,o)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const a=c.range.getDifference(e.range).map(p=>new gn(p,c.key,c.oldValue,c.newValue,0)),d=c.range.getIntersection(e.range);return d&&o.aIsStrong&&a.push(new gn(d,e.key,e.newValue,c.newValue,0)),a.length==0?[new bn(0)]:a}return[c]}),Tt(gn,Xn,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const o=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(a=>new gn(a,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const a=Fc(e,c.key,c.oldValue);a&&o.unshift(a)}return o}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),Tt(gn,en,(c,e)=>{const o=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&o.push(Te._createFromPositionAndShift(e.graveyardPosition,1));const a=c.range._getTransformedByMergeOperation(e);return a.isCollapsed||o.push(a),o.map(d=>new gn(d,c.key,c.oldValue,c.newValue,c.baseVersion))}),Tt(gn,fr,(c,e)=>function(a,d){const p=Te._createFromPositionAndShift(d.sourcePosition,d.howMany);let y=null,w=[];p.containsRange(a,!0)?y=a:a.start.hasSameParentAs(p.start)?(w=a.getDifference(p),y=a.getIntersection(p)):w=[a];const A=[];for(let j of w){j=j._getTransformedByDeletion(d.sourcePosition,d.howMany);const D=d.getMovedRangeStart(),I=j.start.hasSameParentAs(D),z=j._getTransformedByInsertion(D,d.howMany,I);A.push(...z)}return y&&A.push(y._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany,!1)[0]),A}(c.range,e).map(a=>new gn(a,c.key,c.oldValue,c.newValue,c.baseVersion))),Tt(gn,sr,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const o=c.clone();return o.range=new Te(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,o]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),Tt(Xn,gn,(c,e)=>{const o=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const a=Fc(c,e.key,e.newValue);a&&o.push(a)}return o}),Tt(Xn,Xn,(c,e,o)=>(c.position.isEqual(e.position)&&o.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),Tt(Xn,fr,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Tt(Xn,sr,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),Tt(Xn,en,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),Tt(js,Xn,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),Tt(js,js,(c,e,o)=>{if(c.name==e.name){if(!o.aIsStrong)return[new bn(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),Tt(js,en,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),Tt(js,fr,(c,e,o)=>{if(c.oldRange&&(c.oldRange=Te._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(o.abRelation){const a=Te._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(o.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=a.end,c.newRange.start.path=o.abRelation.path,[c];if(o.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=a.start,c.newRange.end.path=o.abRelation.path,[c]}c.newRange=Te._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),Tt(js,sr,(c,e,o)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(o.abRelation){const a=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?c.newRange.start=Qe._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!o.abRelation.wasInLeftElement&&(c.newRange.start=Qe._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasInRightElement?c.newRange.end=Qe._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?c.newRange.end=Qe._createAt(e.insertionPosition):c.newRange.end=a.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),Tt(en,Xn,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),Tt(en,en,(c,e,o)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(o.bWasUndone){const a=e.graveyardPosition.path.slice();return a.push(0),c.sourcePosition=new Qe(e.graveyardPosition.root,a),c.howMany=0,[c]}return[new bn(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!o.bWasUndone&&o.abRelation!="splitAtSource"){const a=c.targetPosition.root.rootName=="$graveyard",d=e.targetPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&o.aIsStrong){const p=e.targetPosition._getTransformedByMergeOperation(e),y=c.targetPosition._getTransformedByMergeOperation(e);return[new fr(p,c.howMany,y,0)]}return[new bn(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&o.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Tt(en,fr,(c,e,o)=>{const a=Te._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!o.bWasUndone&&!o.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.sourcePosition)?[new bn(0)]:(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),Tt(en,sr,(c,e,o)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const a=e.howMany!=0,d=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(a||d||o.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(o.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(o.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),Tt(fr,Xn,(c,e)=>{const o=Te._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=o.start,c.howMany=o.end.offset-o.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),Tt(fr,fr,(c,e,o)=>{const a=Te._createFromPositionAndShift(c.sourcePosition,c.howMany),d=Te._createFromPositionAndShift(e.sourcePosition,e.howMany);let p,y=o.aIsStrong,w=!o.aIsStrong;if(o.abRelation=="insertBefore"||o.baRelation=="insertAfter"?w=!0:o.abRelation!="insertAfter"&&o.baRelation!="insertBefore"||(w=!1),p=c.targetPosition.isEqual(e.targetPosition)&&w?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xb(c,e)&&Xb(e,c))return[e.getReversed()];if(a.containsPosition(e.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),fu([a],p);if(d.containsPosition(c.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),a.end=a.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),fu([a],p);const A=Er(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(A=="prefix"||A=="extension")return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),fu([a],p);c.type!="remove"||e.type=="remove"||o.aWasUndone||o.forceWeakRemove?c.type=="remove"||e.type!="remove"||o.bWasUndone||o.forceWeakRemove||(y=!1):y=!0;const j=[],D=a.getDifference(d);for(const z of D){z.start=z.start._getTransformedByDeletion(e.sourcePosition,e.howMany),z.end=z.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const W=Er(z.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",X=z._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,W);j.push(...X)}const I=a.getIntersection(d);return I!==null&&y&&(I.start=I.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),I.end=I.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),j.length===0?j.push(I):j.length==1?d.start.isBefore(a.start)||d.start.isEqual(a.start)?j.unshift(I):j.push(I):j.splice(1,0,I)),j.length===0?[new bn(c.baseVersion)]:fu(j,p)}),Tt(fr,sr,(c,e,o)=>{let a=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&o.abRelation!="moveTargetAfter"||(a=c.targetPosition._getTransformedBySplitOperation(e));const d=Te._createFromPositionAndShift(c.sourcePosition,c.howMany);if(d.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=a,[c];if(d.start.hasSameParentAs(e.splitPosition)&&d.containsPosition(e.splitPosition)){let y=new Te(e.splitPosition,d.end);return y=y._getTransformedBySplitOperation(e),fu([new Te(d.start,e.splitPosition),y],a)}c.targetPosition.isEqual(e.splitPosition)&&o.abRelation=="insertAtSource"&&(a=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&o.abRelation=="insertBetween"&&(a=c.targetPosition);const p=[d._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const y=d.start.isEqual(e.graveyardPosition)||d.containsPosition(e.graveyardPosition);c.howMany>1&&y&&!o.aWasUndone&&p.push(Te._createFromPositionAndShift(e.insertionPosition,1))}return fu(p,a)}),Tt(fr,en,(c,e,o)=>{const a=Te._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&a.containsPosition(e.sourcePosition)){if(c.type!="remove"||o.forceWeakRemove){if(c.howMany==1)return o.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new bn(0)]}else if(!o.aWasUndone){const p=[];let y=e.graveyardPosition.clone(),w=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(p.push(new fr(c.sourcePosition,c.howMany-1,c.targetPosition,0)),y=y._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const A=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),j=new fr(y,1,A,0),D=j.getMovedRangeStart().path.slice();D.push(0);const I=new Qe(j.targetPosition.root,D);w=w._getTransformedByMove(y,A,1);const z=new fr(w,e.howMany,I,0);return p.push(j),p.push(z),p}}const d=Te._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=d.start,c.howMany=d.end.offset-d.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),Tt(so,Xn,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),Tt(so,en,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),Tt(so,fr,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Tt(so,so,(c,e,o)=>{if(c.position.isEqual(e.position)){if(!o.aIsStrong)return[new bn(0)];c.oldName=e.newName}return[c]}),Tt(so,sr,(c,e)=>{if(Er(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const o=new so(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,o]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),Tt(Fn,Fn,(c,e,o)=>{if(c.root===e.root&&c.key===e.key){if(!o.aIsStrong||c.newValue===e.newValue)return[new bn(0)];c.oldValue=e.newValue}return[c]}),Tt(Ho,Ho,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new bn(0)]:[c]),Tt(sr,Xn,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),Tt(sr,en,(c,e,o)=>{if(!c.graveyardPosition&&!o.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const a=e.graveyardPosition.path.slice();a.push(0);const d=new Qe(e.graveyardPosition.root,a),p=sr.getInsertionPosition(new Qe(e.graveyardPosition.root,a)),y=new sr(d,0,p,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=sr.getInsertionPosition(c.splitPosition),c.graveyardPosition=y.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[y,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=sr.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Tt(sr,fr,(c,e,o)=>{const a=Te._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const p=a.start.isEqual(c.graveyardPosition)||a.containsPosition(c.graveyardPosition);if(!o.bWasUndone&&p){const y=c.splitPosition._getTransformedByMoveOperation(e),w=c.graveyardPosition._getTransformedByMoveOperation(e),A=w.path.slice();A.push(0);const j=new Qe(w.root,A);return[new fr(y,c.howMany,j,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const d=c.splitPosition.isEqual(e.targetPosition);if(d&&(o.baRelation=="insertAtSource"||o.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=sr.getInsertionPosition(c.splitPosition),[c];if(d&&o.abRelation&&o.abRelation.howMany){const{howMany:p,offset:y}=o.abRelation;return c.howMany+=p,c.splitPosition=c.splitPosition.getShiftedBy(y),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.splitPosition)){const p=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=p,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=sr.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=sr.getInsertionPosition(c.splitPosition),[c]}),Tt(sr,sr,(c,e,o)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new bn(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new bn(0)];if(o.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const a=c.splitPosition.root.rootName=="$graveyard",d=e.splitPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&o.aIsStrong){const p=[];return e.howMany&&p.push(new fr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&p.push(new fr(c.splitPosition,c.howMany,c.moveTargetPosition,0)),p}return[new bn(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&o.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&o.baRelation=="splitBefore"){const a=e.insertionPosition.path.slice();a.push(0);const d=new Qe(e.insertionPosition.root,a);return[c,new fr(c.insertionPosition,1,d,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=sr.getInsertionPosition(c.splitPosition),[c]});class ps extends oe(Qe){constructor(e,o,a="toNone"){if(super(e,o,a),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",e);sC.call(this)}detach(){this.stopListening()}toPosition(){return new Qe(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,o){return new this(e.root,e.path.slice(),o||e.stickiness)}}function sC(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const o=e[0];o.isDocumentOperation&&oC.call(this,o)},{priority:"low"})}function oC(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const o=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",o)}}ps.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class gu{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Y("batch-constructor-deprecated-string-type"));const{isUndoable:o=!0,isLocal:a=!0,isUndo:d=!1,isTyping:p=!1}=e;this.operations=[],this.isUndoable=o,this.isLocal=a,this.isUndo=d,this.isTyping=p}get type(){return Y("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var iC=Object.defineProperty,aC=Object.defineProperties,w0=Object.getOwnPropertyDescriptors,Vc=Object.getOwnPropertySymbols,nm=Object.prototype.hasOwnProperty,k0=Object.prototype.propertyIsEnumerable,C0=(c,e,o)=>e in c?iC(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,Uc=(c,e)=>{for(var o in e||(e={}))nm.call(e,o)&&C0(c,o,e[o]);if(Vc)for(var o of Vc(e))k0.call(e,o)&&C0(c,o,e[o]);return c};class sm{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const o=e;switch(o.type){case"insert":if(this._isInInsertedElement(o.position.parent))return;this._markInsert(o.position.parent,o.position.offset,o.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of o.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(o.sourcePosition.isEqual(o.targetPosition)||o.sourcePosition.getShiftedBy(o.howMany).isEqual(o.targetPosition))return;const a=this._isInInsertedElement(o.sourcePosition.parent),d=this._isInInsertedElement(o.targetPosition.parent);a||this._markRemove(o.sourcePosition.parent,o.sourcePosition.offset,o.howMany),d||this._markInsert(o.targetPosition.parent,o.getMovedRangeStart().offset,o.howMany);break}case"rename":{if(this._isInInsertedElement(o.position.parent))return;this._markRemove(o.position.parent,o.position.offset,1),this._markInsert(o.position.parent,o.position.offset,1);const a=Te._createFromPositionAndShift(o.position,1);for(const d of this._markerCollection.getMarkersIntersectingRange(a)){const p=d.getData();this.bufferMarkerChange(d.name,p,p)}break}case"split":{const a=o.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,o.splitPosition.offset,o.howMany),this._isInInsertedElement(o.insertionPosition.parent)||this._markInsert(o.insertionPosition.parent,o.insertionPosition.offset,1),o.graveyardPosition&&this._markRemove(o.graveyardPosition.parent,o.graveyardPosition.offset,1);break}case"merge":{const a=o.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const d=o.graveyardPosition.parent;this._markInsert(d,o.graveyardPosition.offset,1);const p=o.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,o.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=o.affectedSelectable;if(!a._isLoaded||a.isAttached()==o.isAdd)return;this._bufferRootStateChange(o.rootName,o.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!o.root._isLoaded)return;const a=o.root.rootName;this._bufferRootAttributeChange(a,o.key,o.oldValue,o.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,o,a){o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let d=this._changedMarkers.get(e);d?d.newMarkerData=a:(d={newMarkerData:a,oldMarkerData:o},this._changedMarkers.set(e,d)),d.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[o,a]of this._changedMarkers)a.oldMarkerData.range!=null&&e.push({name:o,range:a.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[o,a]of this._changedMarkers)a.newMarkerData.range!=null&&e.push({name:o,range:a.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,o])=>({name:e,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:o}of this._changedMarkers.values()){if(e.affectsData!==o.affectsData)return!0;if(e.affectsData){const a=e.range&&!o.range,d=!e.range&&o.range,p=e.range&&o.range&&!e.range.isEqual(o.range);if(a||d||p)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((D,I)=>D.offset===I.offset?D.type!=I.type?D.type=="remove"?-1:1:0:D.offset<I.offset?-1:1),p=this._elementSnapshots.get(a),y=$b(a.getChildren()),w=of(p.length,d);let A=0,j=0;for(const D of w)if(D==="i")o.push(this._getInsertDiff(a,A,y[A])),A++;else if(D==="r")o.push(this._getRemoveDiff(a,A,p[j])),j++;else if(D==="a"){const I=y[A].attributes,z=p[j].attributes;let W;if(y[A].name=="$text")W=new Te(Qe._createAt(a,A),Qe._createAt(a,A+1));else{const X=a.offsetToIndex(A);W=new Te(Qe._createAt(a,A),Qe._createAt(a.getChild(X),0))}o.push(...this._getAttributesDiff(W,z,I)),A++,j++}else A++,j++}o.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<o.length;a++){const p=o[d],y=o[a],w=p.type=="remove"&&y.type=="remove"&&p.name=="$text"&&y.name=="$text"&&p.position.isEqual(y.position),A=p.type=="insert"&&y.type=="insert"&&p.name=="$text"&&y.name=="$text"&&p.position.parent==y.position.parent&&p.position.offset+p.length==y.position.offset,j=p.type=="attribute"&&y.type=="attribute"&&p.position.parent==y.position.parent&&p.range.isFlat&&y.range.isFlat&&p.position.offset+p.length==y.position.offset&&p.attributeKey==y.attributeKey&&p.attributeOldValue==y.attributeOldValue&&p.attributeNewValue==y.attributeNewValue;w||A||j?(p.length++,j&&(p.range.end=p.range.end.getShiftedBy(1)),o[a]=null):d=a}o=o.filter(a=>a);for(const a of o)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o,this._cachedChanges=o.filter(Zb),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const o=Uc({},e);return o.state!==void 0&&delete o.attributes,o})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,o){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:o?"attached":"detached"});const a=this._changedRoots.get(e);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(e)):a.state=o?"attached":"detached"}_bufferRootAttributeChange(e,o,a,d){const p=this._changedRoots.get(e)||{name:e},y=p.attributes||{};if(y[o]){const w=y[o];d===w.oldValue?delete y[o]:w.newValue=d}else y[o]={oldValue:a,newValue:d};Object.entries(y).length===0?(delete p.attributes,p.state===void 0&&this._changedRoots.delete(e)):(p.attributes=y,this._changedRoots.set(e,p))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const o=Te._createOn(e);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const d=a.getData();this.bufferMarkerChange(a.name,d,d)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const a of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,a,null,e.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==e){const d=a.getData();this.bufferMarkerChange(a.name,(o=Uc({},d),aC(o,w0({range:null}))),d)}var o}}_markInsert(e,o,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const d={type:"insert",offset:o,howMany:a,count:this._changeCount++};this._markChange(e,d)}_markRemove(e,o,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const d={type:"remove",offset:o,howMany:a,count:this._changeCount++};this._markChange(e,d),this._removeAllNestedChanges(e,o,a)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,o)}_markChange(e,o){this._makeSnapshot(e);const a=this._getChangesForElement(e);this._handleChange(o,a),a.push(o);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(e){let o;return this._changesInElement.has(e)?o=this._changesInElement.get(e):(o=[],this._changesInElement.set(e,o)),o}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,$b(e.getChildren()))}_handleChange(e,o){e.nodesToHandle=e.howMany;for(const a of o){const d=e.offset+e.howMany,p=a.offset+a.howMany;if(e.type=="insert"&&(a.type=="insert"&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<p&&(a.howMany+=e.nodesToHandle,e.nodesToHandle=0)),a.type=="remove"&&e.offset<a.offset&&(a.offset+=e.howMany),a.type=="attribute")){if(e.offset<=a.offset)a.offset+=e.howMany;else if(e.offset<p){const y=a.howMany;a.howMany=e.offset-a.offset,o.unshift({type:"attribute",offset:d,howMany:y-a.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(a.type=="insert"){if(d<=a.offset)a.offset-=e.howMany;else if(d<=p)if(e.offset<a.offset){const y=d-a.offset;a.offset=e.offset,a.howMany-=y,e.nodesToHandle-=y}else a.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=a.offset)e.nodesToHandle-=a.howMany,a.howMany=0;else if(e.offset<p){const y=p-e.offset;a.howMany-=y,e.nodesToHandle-=y}}if(a.type=="remove"&&(d<=a.offset?a.offset-=e.howMany:e.offset<a.offset&&(e.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(d<=a.offset)a.offset-=e.howMany;else if(e.offset<a.offset){const y=d-a.offset;a.offset=e.offset,a.howMany-=y}else if(e.offset<p)if(d<=p){const y=a.howMany;a.howMany=e.offset-a.offset;const w=y-a.howMany-e.nodesToHandle;o.unshift({type:"attribute",offset:e.offset,howMany:w,count:this._changeCount++})}else a.howMany-=p-e.offset}}if(e.type=="attribute"){if(a.type=="insert")if(e.offset<a.offset&&d>a.offset){if(d>p){const y={type:"attribute",offset:p,howMany:d-p,count:this._changeCount++};this._handleChange(y,o),o.push(y)}e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=a.offset&&e.offset<p&&(d>p?(e.nodesToHandle=d-p,e.offset=p):e.nodesToHandle=0);if(a.type=="remove"&&e.offset<a.offset&&d>a.offset){const y={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(y,o),o.push(y),e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}a.type=="attribute"&&(e.offset>=a.offset&&d<=p?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=a.offset&&d>=p&&(a.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,o,a){return{type:"insert",position:Qe._createAt(e,o),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,o,a){return{type:"remove",position:Qe._createAt(e,o),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,o,a){const d=[];a=new Map(a);for(const[p,y]of o){const w=a.has(p)?a.get(p):null;w!==y&&d.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:y,attributeNewValue:w,changeCount:this._changeCount++}),a.delete(p)}for(const[p,y]of a)d.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:y,changeCount:this._changeCount++});return d}_isInInsertedElement(e){const o=e.parent;if(!o)return!1;const a=this._changesInElement.get(o),d=e.startOffset;if(a){for(const p of a)if(p.type=="insert"&&d>=p.offset&&d<p.offset+p.howMany)return!0}return this._isInInsertedElement(o)}_removeAllNestedChanges(e,o,a){const d=new Te(Qe._createAt(e,o),Qe._createAt(e,o+a));for(const p of d.getItems({shallow:!0}))p.is("element")&&(this._elementSnapshots.delete(p),this._changesInElement.delete(p),this._removeAllNestedChanges(p,0,p.maxOffset))}}function $b(c){const e=[];for(const o of c)if(o.is("$text"))for(let a=0;a<o.data.length;a++)e.push({name:"$text",attributes:new Map(o.getAttributes())});else e.push({name:o.name,attributes:new Map(o.getAttributes())});return e}function of(c,e){const o=[];let a=0,d=0;for(const p of e){if(p.offset>a){for(let y=0;y<p.offset-a;y++)o.push("e");d+=p.offset-a}if(p.type=="insert"){for(let y=0;y<p.howMany;y++)o.push("i");a=p.offset+p.howMany}else if(p.type=="remove"){for(let y=0;y<p.howMany;y++)o.push("r");a=p.offset,d+=p.howMany}else o.push(..."a".repeat(p.howMany).split("")),a=p.offset+p.howMany,d+=p.howMany}if(d<c)for(let p=0;p<c-d-a;p++)o.push("e");return o}function Zb(c){const e="position"in c&&c.position.root.rootName=="$graveyard",o="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!o}class ey{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,o=this.version){if(!this._operations.length)return[];const a=this._operations[0];e===void 0&&(e=a.baseVersion);let d=o-1;for(const[w,A]of this._gaps)e>w&&e<A&&(e=A),d>w&&d<A&&(d=w-1);if(d<a.baseVersion||e>this.lastOperation.baseVersion)return[];let p=this._baseVersionToOperationIndex.get(e);p===void 0&&(p=0);let y=this._baseVersionToOperationIndex.get(d);return y===void 0&&(y=this._operations.length-1),this._operations.slice(p,y+1)}getOperation(e){const o=this._baseVersionToOperationIndex.get(e);if(o!==void 0)return this._operations[o]}setOperationAsUndone(e,o){this._undoPairs.set(o,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Gc extends xt{constructor(e,o,a="main"){super(o),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Gc.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var _0=Object.defineProperty,A0=Object.defineProperties,lC=Object.getOwnPropertyDescriptors,ty=Object.getOwnPropertySymbols,om=Object.prototype.hasOwnProperty,cC=Object.prototype.propertyIsEnumerable,N0=(c,e,o)=>e in c?_0(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,j0=(c,e)=>{for(var o in e||(e={}))om.call(e,o)&&N0(c,o,e[o]);if(ty)for(var o of ty(e))cC.call(e,o)&&N0(c,o,e[o]);return c},im=(c,e)=>A0(c,lC(e));const am="$graveyard";class ry extends oe(){constructor(e){super(),this.model=e,this.history=new ey,this.selection=new No(this),this.roots=new Fs({idProperty:"rootName"}),this.differ=new sm(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",am),this.listenTo(e,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(e,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&this.history.addOperation(d)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(o,a,d,p,y)=>{const w=im(j0({},a.getData()),{range:p});this.differ.bufferMarkerChange(a.name,y,w),d===null&&a.on("change",(A,j)=>{const D=a.getData();this.differ.bufferMarkerChange(a.name,im(j0({},D),{range:j}),D)})}),this.registerPostFixer(o=>{let a=!1;for(const d of this.roots)d.isAttached()||d.isEmpty||(o.remove(o.createRangeIn(d)),a=!0);for(const d of this.model.markers)d.getRange().root.isAttached()||(o.removeMarker(d),a=!0);return a})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(am)}createRoot(e="$root",o="main"){if(this.roots.get(o))throw new B("model-document-createroot-name-exists",this,{name:o});const a=new Gc(this,e,o);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(o=>o.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(o=>o!=this.graveyard&&(e||o.isAttached())&&o._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Kg(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),o=this.model,a=o.schema,d=o.createPositionFromPath(e,[0]);return a.getNearestSelectionRange(d)||o.createRange(d)}_validateSelectionRange(e){return S0(e.start)&&S0(e.end)}_callPostFixers(e){let o=!1;do for(const a of this._postFixers)if(this.selection.refresh(),o=a(e),o)break;while(o)}}function S0(c){const e=c.textNode;if(e){const o=e.data,a=c.offset-e.startOffset;return!Hi(o,a)&&!mi(o,a)}return!0}var lm=Object.defineProperty,dC=Object.defineProperties,E0=Object.getOwnPropertyDescriptors,ny=Object.getOwnPropertySymbols,D0=Object.prototype.hasOwnProperty,M0=Object.prototype.propertyIsEnumerable,af=(c,e,o)=>e in c?lm(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class T0 extends oe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const o=e instanceof Ba?e.name:e;return this._markers.has(o)}get(e){return this._markers.get(e)||null}_set(e,o,a=!1,d=!1){const p=e instanceof Ba?e.name:e;if(p.includes(","))throw new B("markercollection-incorrect-marker-name",this);const y=this._markers.get(p);if(y){const D=y.getData(),I=y.getRange();let z=!1;return I.isEqual(o)||(y._attachLiveRange(Uo.fromRange(o)),z=!0),a!=y.managedUsingOperations&&(y._managedUsingOperations=a,z=!0),typeof d=="boolean"&&d!=y.affectsData&&(y._affectsData=d,z=!0),z&&this.fire(`update:${p}`,y,I,o,D),y}const w=Uo.fromRange(o),A=new Ba(p,w,a,d);var j;return this._markers.set(p,A),this.fire(`update:${p}`,A,null,o,(j=((D,I)=>{for(var z in I||(I={}))D0.call(I,z)&&af(D,z,I[z]);if(ny)for(var z of ny(I))M0.call(I,z)&&af(D,z,I[z]);return D})({},A.getData()),dC(j,E0({range:null})))),A}_remove(e){const o=e instanceof Ba?e.name:e,a=this._markers.get(o);return!!a&&(this._markers.delete(o),this.fire(`update:${o}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(e){const o=e instanceof Ba?e.name:e,a=this._markers.get(o);if(!a)throw new B("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire(`update:${o}`,a,d,d,a.getData())}*getMarkersAtPosition(e){for(const o of this)o.getRange().containsPosition(e)&&(yield o)}*getMarkersIntersectingRange(e){for(const o of this)o.getRange().getIntersection(e)!==null&&(yield o)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const o of this._markers.values())o.name.startsWith(e+":")&&(yield o)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ba extends oe(Mn){constructor(e,o,a,d){super(),this.name=e,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ba.prototype.is=function(c){return c==="marker"||c==="model:marker"};class uC extends no{constructor(e,o){super(null),this.sourcePosition=e.clone(),this.howMany=o}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){sf(Te._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class La extends Mn{constructor(e){super(),this.markers=new Map,this._children=new Yi,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let o=this;for(const a of e)o=o.getChild(o.offsetToIndex(a));return o}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const o of this._children)e.push(o.toJSON());return e}static fromJSON(e){const o=[];for(const a of e)a.name?o.push(xt.fromJSON(a)):o.push(Nr.fromJSON(a));return new La(o)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,o){const a=function(d){return typeof d=="string"?[new Nr(d)]:(Cr(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Nr(p):p instanceof zn?new Nr(p.data,p.getAttributes()):p))}(o);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,o=1){const a=this._children._removeNodes(e,o);for(const d of a)d.parent=null;return a}}La.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class sy{constructor(e,o){this.model=e,this.batch=o}createText(e,o){return new Nr(e,o)}createElement(e,o){return new xt(e,o)}createDocumentFragment(){return new La}cloneElement(e,o=!0){return e._clone(o)}insert(e,o,a=0){if(this._assertWriterUsedCorrectly(),e instanceof Nr&&e.data=="")return;const d=Qe._createAt(o,a);if(e.parent){if(cf(e.root,d.root))return void this.move(Te._createOn(e),d);if(e.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(e)}const p=d.root.document?d.root.document.version:null,y=new Xn(d,e,p);if(e instanceof Nr&&(y.shouldReceiveAttributes=!0),this.batch.addOperation(y),this.model.applyOperation(y),e instanceof La)for(const[w,A]of e.markers){const j=Qe._createAt(A.root,0),D={range:new Te(A.start._getCombined(j,d),A.end._getCombined(j,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(w)?this.updateMarker(w,D):this.addMarker(w,D)}}insertText(e,o,a,d){o instanceof La||o instanceof xt||o instanceof Qe?this.insert(this.createText(e),o,a):this.insert(this.createText(e,o),a,d)}insertElement(e,o,a,d){o instanceof La||o instanceof xt||o instanceof Qe?this.insert(this.createElement(e),o,a):this.insert(this.createElement(e,o),a,d)}append(e,o){this.insert(e,o,"end")}appendText(e,o,a){o instanceof La||o instanceof xt?this.insert(this.createText(e),o,"end"):this.insert(this.createText(e,o),a,"end")}appendElement(e,o,a){o instanceof La||o instanceof xt?this.insert(this.createElement(e),o,"end"):this.insert(this.createElement(e,o),a,"end")}setAttribute(e,o,a){if(this._assertWriterUsedCorrectly(),a instanceof Te){const d=a.getMinimalFlatRanges();for(const p of d)lf(this,e,o,p)}else cm(this,e,o,a)}setAttributes(e,o){for(const[a,d]of Cs(e))this.setAttribute(a,d,o)}removeAttribute(e,o){if(this._assertWriterUsedCorrectly(),o instanceof Te){const a=o.getMinimalFlatRanges();for(const d of a)lf(this,e,null,d)}else cm(this,e,null,o)}clearAttributes(e){this._assertWriterUsedCorrectly();const o=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(e instanceof Te)for(const a of e.getItems())o(a);else o(e)}move(e,o,a){if(this._assertWriterUsedCorrectly(),!(e instanceof Te))throw new B("writer-move-invalid-range",this);if(!e.isFlat)throw new B("writer-move-range-not-flat",this);const d=Qe._createAt(o,a);if(d.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!cf(e.root,d.root))throw new B("writer-move-different-document",this);const p=e.root.document?e.root.document.version:null,y=new fr(e.start,e.end.offset-e.start.offset,d,p);this.batch.addOperation(y),this.model.applyOperation(y)}remove(e){this._assertWriterUsedCorrectly();const o=(e instanceof Te?e:Te._createOn(e)).getMinimalFlatRanges().reverse();for(const a of o)this._addOperationForAffectedMarkers("move",a),I0(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const o=e.nodeBefore,a=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(o instanceof xt))throw new B("writer-merge-no-element-before",this);if(!(a instanceof xt))throw new B("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,o,a){return this.model.createPositionFromPath(e,o,a)}createPositionAt(e,o){return this.model.createPositionAt(e,o)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,o){return this.model.createRange(e,o)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const o=e.nodeBefore,a=e.nodeAfter;this.move(Te._createIn(a),Qe._createAt(o,"end")),this.remove(a)}_merge(e){const o=Qe._createAt(e.nodeBefore,"end"),a=Qe._createAt(e.nodeAfter,0),d=e.root.document.graveyard,p=new Qe(d,[0]),y=e.root.document.version,w=new en(a,e.nodeAfter.maxOffset,o,p,y);this.batch.addOperation(w),this.model.applyOperation(w)}rename(e,o){if(this._assertWriterUsedCorrectly(),!(e instanceof xt))throw new B("writer-rename-not-element-instance",this);const a=e.root.document?e.root.document.version:null,d=new so(Qe._createBefore(e),e.name,o,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(e,o){this._assertWriterUsedCorrectly();let a,d,p=e.parent;if(!p.parent)throw new B("writer-split-element-no-parent",this);if(o||(o=p.parent),!e.parent.getAncestors({includeSelf:!0}).includes(o))throw new B("writer-split-invalid-limit-element",this);do{const y=p.root.document?p.root.document.version:null,w=p.maxOffset-e.offset,A=sr.getInsertionPosition(e),j=new sr(e,w,A,null,y);this.batch.addOperation(j),this.model.applyOperation(j),a||d||(a=p,d=e.parent.nextSibling),p=(e=this.createPositionAfter(e.parent)).parent}while(p!==o);return{position:e,range:new Te(Qe._createAt(a,"end"),Qe._createAt(d,0))}}wrap(e,o){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new B("writer-wrap-range-not-flat",this);const a=o instanceof xt?o:new xt(o);if(a.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(a,e.start);const d=new Te(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(d,Qe._createAt(a,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(Te._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,o){if(this._assertWriterUsedCorrectly(),!o||typeof o.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const a=o.usingOperation,d=o.range,p=o.affectsData!==void 0&&o.affectsData;if(this.model.markers.has(e))throw new B("writer-addmarker-marker-exists",this);if(!d)throw new B("writer-addmarker-no-range",this);return a?(Hc(this,e,null,d,p),this.model.markers.get(e)):this.model.markers._set(e,d,a,p)}updateMarker(e,o){this._assertWriterUsedCorrectly();const a=typeof e=="string"?e:e.name,d=this.model.markers.get(a);if(!d)throw new B("writer-updatemarker-marker-not-exists",this);if(!o)return Y("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(d);const p=typeof o.usingOperation=="boolean",y=typeof o.affectsData=="boolean",w=y?o.affectsData:d.affectsData;if(!p&&!o.range&&!y)throw new B("writer-updatemarker-wrong-options",this);const A=d.getRange(),j=o.range?o.range:A;p&&o.usingOperation!==d.managedUsingOperations?o.usingOperation?Hc(this,a,null,j,w):(Hc(this,a,A,null,w),this.model.markers._set(a,j,void 0,w)):d.managedUsingOperations?Hc(this,a,A,j,w):this.model.markers._set(a,j,void 0,w)}removeMarker(e){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name;if(!this.model.markers.has(o))throw new B("writer-removemarker-no-marker",this);const a=this.model.markers.get(o);if(!a.managedUsingOperations)return void this.model.markers._remove(o);Hc(this,o,a.getRange(),null,a.affectsData)}addRoot(e,o="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(e);if(a&&a.isAttached())throw new B("writer-addroot-root-exists",this);const d=this.model.document,p=new Ho(e,o,!0,d,d.version);return this.batch.addOperation(p),this.model.applyOperation(p),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const o=typeof e=="string"?this.model.document.getRoot(e):e;if(!o||!o.isAttached())throw new B("writer-detachroot-no-root",this);for(const p of this.model.markers)p.getRange().root===o&&this.removeMarker(p);for(const p of o.getAttributeKeys())this.removeAttribute(p,o);this.remove(this.createRangeIn(o));const a=this.model.document,d=new Ho(o.rootName,o.name,!1,a,a.version);this.batch.addOperation(d),this.model.applyOperation(d)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,o)}setSelectionAttribute(e,o){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,o);else for(const[a,d]of Cs(e))this._setSelectionAttribute(a,d)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const o of e)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,o){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=No._getStoreAttributeKey(e);this.setAttribute(d,o,a.anchor.parent)}a._setAttribute(e,o)}_removeSelectionAttribute(e){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=No._getStoreAttributeKey(e);this.removeAttribute(a,o.anchor.parent)}o._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,o){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let p=!1;if(e==="move"){const y=o;p=y.containsPosition(d.start)||y.start.isEqual(d.start)||y.containsPosition(d.end)||y.end.isEqual(d.end)}else{const y=o,w=y.nodeBefore,A=y.nodeAfter,j=d.start.parent==w&&d.start.isAtEnd,D=d.end.parent==A&&d.end.offset==0,I=d.end.nodeAfter==A,z=d.start.nodeAfter==A;p=j||D||I||z}p&&this.updateMarker(a.name,{range:d})}}}function lf(c,e,o,a){const d=c.model,p=d.document;let y,w,A,j=a.start;for(const I of a.getWalker({shallow:!0}))A=I.item.getAttribute(e),y&&w!=A&&(w!=o&&D(),j=y),y=I.nextPosition,w=A;function D(){const I=new Te(j,y),z=I.root.document?p.version:null,W=new gn(I,e,w,o,z);c.batch.addOperation(W),d.applyOperation(W)}y instanceof Qe&&y!=j&&w!=o&&D()}function cm(c,e,o,a){const d=c.model,p=d.document,y=a.getAttribute(e);let w,A;if(y!=o){if(a.root===a){const j=a.document?p.version:null;A=new Fn(a,e,y,o,j)}else{w=new Te(Qe._createBefore(a),c.createPositionAfter(a));const j=w.root.document?p.version:null;A=new gn(w,e,y,o,j)}c.batch.addOperation(A),d.applyOperation(A)}}function Hc(c,e,o,a,d){const p=c.model,y=p.document,w=new js(e,o,a,p.markers,!!d,y.version);c.batch.addOperation(w),p.applyOperation(w)}function I0(c,e,o,a){let d;if(c.root.document){const p=a.document,y=new Qe(p.graveyard,[0]);d=new fr(c,e,y,p.version)}else d=new uC(c,e);o.addOperation(d),a.applyOperation(d)}function cf(c,e){return c===e||c instanceof Gc&&e instanceof Gc}function Bl(c,e,o={}){if(e.isCollapsed)return;const a=e.getFirstRange();if(a.root.rootName=="$graveyard")return;const d=c.schema;c.change(p=>{if(!o.doNotResetEntireContent&&function(j,D){const I=j.getLimitElement(D);if(!D.containsEntireContent(I))return!1;const z=D.getFirstRange();return z.start.parent==z.end.parent?!1:j.checkChild(I,"paragraph")}(d,e))return void function(j,D){const I=j.model.schema.getLimitElement(D);j.remove(j.createRangeIn(I)),bu(j,j.createPositionAt(I,0),D)}(p,e);const y={};if(!o.doNotAutoparagraph){const j=e.getSelectedElement();j&&Object.assign(y,d.getAttributesWithProperty(j,"copyOnReplace",!0))}const[w,A]=function(j){const D=j.root.document.model,I=j.start;let z=j.end;if(D.hasContent(j,{ignoreMarkers:!0})){const W=function(X){const re=X.parent,de=re.root.document.model.schema,fe=re.getAncestors({parentFirst:!0,includeSelf:!0});for(const we of fe){if(de.isLimit(we))return null;if(de.isBlock(we))return we}}(z);if(W&&z.isTouching(D.createPositionAt(W,0))){const X=D.createSelection(j);D.modifySelection(X,{direction:"backward"});const re=X.getLastPosition(),de=D.createRange(re,z);D.hasContent(de,{ignoreMarkers:!0})||(z=re)}}return[ps.fromPosition(I,"toPrevious"),ps.fromPosition(z,"toNext")]}(a);w.isTouching(A)||p.remove(p.createRange(w,A)),o.leaveUnmerged||(function(j,D,I){const z=j.model;if(!qc(j.model.schema,D,I))return;const[W,X]=function(re,de){const fe=re.getAncestors(),we=de.getAncestors();let Fe=0;for(;fe[Fe]&&fe[Fe]==we[Fe];)Fe++;return[fe[Fe],we[Fe]]}(D,I);!W||!X||(!z.hasContent(W,{ignoreMarkers:!0})&&z.hasContent(X,{ignoreMarkers:!0})?Fa(j,D,I,W.parent):za(j,D,I,W.parent))}(p,w,A),d.removeDisallowedAttributes(w.parent.getChildren(),p)),Va(p,e,w),!o.doNotAutoparagraph&&function(j,D){const I=j.checkChild(D,"$text"),z=j.checkChild(D,"paragraph");return!I&&z}(d,w)&&bu(p,w,e,y),w.detach(),A.detach()})}function za(c,e,o,a){const d=e.parent,p=o.parent;if(d!=a&&p!=a){for(e=c.createPositionAfter(d),(o=c.createPositionBefore(p)).isEqual(e)||c.insert(p,e),c.merge(e);o.parent.isEmpty;){const y=o.parent;o=c.createPositionBefore(y),c.remove(y)}qc(c.model.schema,e,o)&&za(c,e,o,a)}}function Fa(c,e,o,a){const d=e.parent,p=o.parent;if(d!=a&&p!=a){for(e=c.createPositionAfter(d),(o=c.createPositionBefore(p)).isEqual(e)||c.insert(d,o);e.parent.isEmpty;){const y=e.parent;e=c.createPositionBefore(y),c.remove(y)}o=c.createPositionBefore(p),function(y,w){const A=w.nodeBefore,j=w.nodeAfter;A.name!=j.name&&y.rename(A,j.name),y.clearAttributes(A),y.setAttributes(Object.fromEntries(j.getAttributes()),A),y.merge(w)}(c,o),qc(c.model.schema,e,o)&&Fa(c,e,o,a)}}function qc(c,e,o){const a=e.parent,d=o.parent;return a!=d&&!c.isLimit(a)&&!c.isLimit(d)&&function(p,y,w){const A=new Te(p,y);for(const j of A.getWalker())if(w.isLimit(j.item))return!1;return!0}(e,o,c)}function bu(c,e,o,a={}){const d=c.createElement("paragraph");c.model.schema.setAllowedAttributes(d,a,c),c.insert(d,e),Va(c,o,c.createPositionAt(d,0))}function Va(c,e,o){e instanceof No?c.setSelection(o):e.setTo(o)}function R0(c,e){const o=[];Array.from(c.getItems({direction:"backward"})).map(a=>e.createRangeOn(a)).filter(a=>(a.start.isAfter(c.start)||a.start.isEqual(c.start))&&(a.end.isBefore(c.end)||a.end.isEqual(c.end))).forEach(a=>{o.push(a.start.parent),e.remove(a)}),o.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const p=e.createRangeOn(d);d=d.parent,e.remove(p)}})}class P0{constructor(e,o,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=o,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const o of Array.from(e))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const o=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(e);if(a.isAfter(o)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Te._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Te(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let o=this._checkAndAutoParagraphToAllowedPosition(e);o||(o=this._checkAndSplitToAllowedPosition(e),o)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ps.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new B("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ps.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ps.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof xt)||!this._canMergeLeft(e))return;const o=ps._createBefore(e);o.stickiness="toNext";const a=ps.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=ps._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ps._createAt(o.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof xt)||!this._canMergeRight(e))return;const o=ps._createAfter(e);if(o.stickiness="toNext",!this.position.isEqual(o))throw new B("insertcontent-invalid-insertion-position",this);this.position=Qe._createAt(o.nodeBefore,"end");const a=ps.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=ps._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ps._createAt(o.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(e){const o=e.previousSibling;return o instanceof xt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,e)}_canMergeRight(e){const o=e.nextSibling;return o instanceof xt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(e,o)}_tryAutoparagraphing(e){const o=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,o)&&this.schema.checkChild(o,e)&&(o._appendChild(e),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(e){const o=this._getAllowedIn(this.position.parent,e);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===o&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,o){return this.schema.checkChild(e,o)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,o)}}function yu(c,e,o="auto"){const a=c.getSelectedElement();if(a&&e.schema.isObject(a)&&!e.schema.isInline(a))return o=="before"||o=="after"?e.createRange(e.createPositionAt(a,o)):e.createRangeOn(a);const d=pn(c.getSelectedBlocks());if(!d)return e.createRange(c.focus);if(d.isEmpty)return e.createRange(e.createPositionAt(d,0));const p=e.createPositionAfter(d);return c.focus.isTouching(p)?e.createRange(p):e.createRange(e.createPositionBefore(d))}function hC(c,e,o,a={}){if(!c.schema.isObject(e))throw new B("insertobject-element-not-an-object",c,{object:e});const d=o||c.document.selection;let p=d;a.findOptimalPosition&&c.schema.isBlock(e)&&(p=c.createSelection(yu(d,c,a.findOptimalPosition)));const y=pn(d.getSelectedBlocks()),w={};return y&&Object.assign(w,c.schema.getAttributesWithProperty(y,"copyOnReplace",!0)),c.change(A=>{p.isCollapsed||c.deleteContent(p,{doNotAutoparagraph:!0});let j=e;const D=p.anchor.parent;!c.schema.checkChild(D,e)&&c.schema.checkChild(D,"paragraph")&&c.schema.checkChild("paragraph",e)&&(j=A.createElement("paragraph"),A.insert(e,j)),c.schema.setAllowedAttributes(j,w,A);const I=c.insertContent(j,p);return I.isCollapsed||a.setSelection&&function(z,W,X,re){const de=z.model;if(X=="on")return void z.setSelection(W,"on");if(X!="after")throw new B("insertobject-invalid-place-parameter-value",de);let fe=W.nextSibling;if(de.schema.isInline(W))return void z.setSelection(W,"after");!(fe&&de.schema.checkChild(fe,"$text"))&&de.schema.checkChild(W.parent,"paragraph")&&(fe=z.createElement("paragraph"),de.schema.setAllowedAttributes(fe,re,z),de.insertContent(fe,z.createPositionAfter(W))),fe&&z.setSelection(fe,0)}(A,e,a.setSelection,w),I})}const O0=' ,.?!:;"-()';function df(c,e){const{isForward:o,walker:a,unit:d,schema:p,treatEmojiAsSingleUnit:y}=c,{type:w,item:A,nextPosition:j}=e;if(w=="text")return c.unit==="word"?function(D,I){let z=D.position.textNode;for(z||(z=I?D.position.nodeAfter:D.position.nodeBefore);z&&z.is("$text");){const W=D.position.offset-z.startOffset;if(uf(z,W,I))z=I?D.position.nodeAfter:D.position.nodeBefore;else{if(mC(z.data,W,I))break;D.next()}}return D.position}(a,o):function(D,I,z){const W=D.position.textNode;if(W){const X=W.data;let re=D.position.offset-W.startOffset;for(;Hi(X,re)||I=="character"&&mi(X,re)||z&&gp(X,re);)D.next(),re=D.position.offset-W.startOffset}return D.position}(a,d,y);if(w==(o?"elementStart":"elementEnd")){if(p.isSelectable(A))return Qe._createAt(A,o?"after":"before");if(p.checkChild(j,"$text"))return j}else{if(p.isLimit(A))return void a.skip(()=>!0);if(p.checkChild(j,"$text"))return j}}function B0(c,e){const o=c.root,a=Qe._createAt(o,e?"end":0);return e?new Te(c,a):new Te(a,c)}function mC(c,e,o){const a=e+(o?0:-1);return O0.includes(c.charAt(a))}function uf(c,e,o){return e===(o?c.offsetSize:0)}class hf extends nt(){constructor(){super(),this.markers=new T0,this.document=new ry(this),this.schema=new Hb,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,o)=>{if(o.name==="$marker")return!0}),c0(this),this.document.registerPostFixer(Pr),this.on("insertContent",(e,[o,a])=>{e.return=function(d,p,y){return d.change(w=>{const A=y||d.document.selection;A.isCollapsed||d.deleteContent(A,{doNotAutoparagraph:!0});const j=new P0(d,w,A.anchor),D=[];let I;if(p.is("documentFragment")){if(p.markers.size){const X=[];for(const[re,de]of p.markers){const{start:fe,end:we}=de,Fe=fe.isEqual(we);X.push({position:fe,name:re,isCollapsed:Fe},{position:we,name:re,isCollapsed:Fe})}X.sort(({position:re},{position:de})=>re.isBefore(de)?1:-1);for(const{position:re,name:de,isCollapsed:fe}of X){let we=null,Fe=null;const st=re.parent===p&&re.isAtStart,_t=re.parent===p&&re.isAtEnd;st||_t?fe&&(Fe=st?"start":"end"):(we=w.createElement("$marker"),w.insert(we,re)),D.push({name:de,element:we,collapsed:Fe})}}I=p.getChildren()}else I=[p];j.handleNodes(I);let z=j.getSelectionRange();if(p.is("documentFragment")&&D.length){const X=z?Uo.fromRange(z):null,re={};for(let de=D.length-1;de>=0;de--){const{name:fe,element:we,collapsed:Fe}=D[de],st=!re[fe];if(st&&(re[fe]=[]),we){const _t=w.createPositionAt(we,"before");re[fe].push(_t),w.remove(we)}else{const _t=j.getAffectedRange();if(!_t){Fe&&re[fe].push(j.position);continue}Fe?re[fe].push(_t[Fe]):re[fe].push(st?_t.start:_t.end)}}for(const[de,[fe,we]]of Object.entries(re))fe&&we&&fe.root===we.root&&w.addMarker(de,{usingOperation:!0,affectsData:!0,range:new Te(fe,we)});X&&(z=X.toRange(),X.detach())}z&&(A instanceof No?w.setSelection(z):A.setTo(z));const W=j.getAffectedRange()||d.createRange(A.anchor);return j.destroy(),W})}(this,o,a)}),this.on("insertObject",(e,[o,a,d])=>{e.return=hC(this,o,a,d)}),this.on("canEditAt",e=>{const o=!this.document.isReadOnly;e.return=o,o||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new gu,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(o){B.rethrowUnexpectedError(o,this)}}enqueueChange(e,o){try{e?typeof e=="function"?(o=e,e=new gu):e instanceof gu||(e=new gu(e)):e=new gu,this._pendingChanges.push({batch:e,callback:o}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){B.rethrowUnexpectedError(a,this)}}applyOperation(e){e._execute()}insertContent(e,o,a,...d){const p=mf(o,a);return this.fire("insertContent",[e,p,a,...d])}insertObject(e,o,a,d,...p){const y=mf(o,a);return this.fire("insertObject",[e,y,d,d,...p])}deleteContent(e,o){Bl(this,e,o)}modifySelection(e,o){(function(a,d,p={}){const y=a.schema,w=p.direction!="backward",A=p.unit?p.unit:"character",j=!!p.treatEmojiAsSingleUnit,D=d.focus,I=new us({boundaries:B0(D,w),singleCharacters:!0,direction:w?"forward":"backward"}),z={walker:I,schema:y,isForward:w,unit:A,treatEmojiAsSingleUnit:j};let W;for(;W=I.next();){if(W.done)return;const X=df(z,W.value);if(X)return void(d instanceof No?a.change(re=>{re.setSelectionFocus(X)}):d.setFocus(X))}})(this,e,o)}getSelectedContent(e){return function(o,a){return o.change(d=>{const p=d.createDocumentFragment(),y=a.getFirstRange();if(!y||y.isCollapsed)return p;const w=y.start.root,A=y.start.getCommonPath(y.end),j=w.getNodeByPath(A);let D;D=y.start.parent==y.end.parent?y:d.createRange(d.createPositionAt(j,y.start.path[A.length]),d.createPositionAt(j,y.end.path[A.length]+1));const I=D.end.offset-D.start.offset;for(const z of D.getItems({shallow:!0}))z.is("$textProxy")?d.appendText(z.data,z.getAttributes(),p):d.append(d.cloneElement(z,!0),p);if(D!=y){const z=y._getTransformedByMove(D.start,d.createPositionAt(p,0),I)[0],W=d.createRange(d.createPositionAt(p,0),z.start);R0(d.createRange(z.end,d.createPositionAt(p,"end")),d),R0(W,d)}return p})}(this,e)}hasContent(e,o={}){const a=e instanceof Te?e:Te._createIn(e);if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:p=!1}=o;if(!p){for(const y of this.markers.getMarkersIntersectingRange(a))if(y.affectsData)return!0}for(const y of a.getItems())if(this.schema.isContent(y)&&(!y.is("$textProxy")||!d||y.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const o=mf(e);return this.fire("canEditAt",[o])}createPositionFromPath(e,o,a){return new Qe(e,o,a)}createPositionAt(e,o){return Qe._createAt(e,o)}createPositionAfter(e){return Qe._createAfter(e)}createPositionBefore(e){return Qe._createBefore(e)}createRange(e,o){return new Te(e,o)}createRangeIn(e){return Te._createIn(e)}createRangeOn(e){return Te._createOn(e)}createSelection(...e){return new ro(...e)}createBatch(e){return new gu(e)}createOperationFromJSON(e){return y0.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const o=this._pendingChanges[0].batch;this._currentWriter=new sy(this,o);const a=this._pendingChanges[0].callback(this._currentWriter);e.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function mf(c,e){if(c)return c instanceof ro||c instanceof No?c:c instanceof Zs?e||e===0?new ro(c,e):c.is("rootElement")?new ro(c,"in"):new ro(c,"on"):new ro(c)}class dm extends ja{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class um extends ja{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Wi{constructor(e){this.document=e}createDocumentFragment(e){return new Qr(this.document,e)}createElement(e,o,a){return new _s(this.document,e,o,a)}createText(e){return new Dr(this.document,e)}clone(e,o=!1){return e._clone(o)}appendChild(e,o){return o._appendChild(e)}insertChild(e,o,a){return a._insertChild(e,o)}removeChildren(e,o,a){return a._removeChildren(e,o)}remove(e){const o=e.parent;return o?this.removeChildren(o.getChildIndex(e),1,o):[]}replace(e,o){const a=e.parent;if(a){const d=a.getChildIndex(e);return this.removeChildren(d,1,a),this.insertChild(d,o,a),!0}return!1}unwrapElement(e){const o=e.parent;if(o){const a=o.getChildIndex(e);this.remove(e),this.insertChild(a,e.getChildren(),o)}}rename(e,o){const a=new _s(this.document,e,o.getAttributes(),o.getChildren());return this.replace(o,a)?a:null}setAttribute(e,o,a){a._setAttribute(e,o)}removeAttribute(e,o){o._removeAttribute(e)}addClass(e,o){o._addClass(e)}removeClass(e,o){o._removeClass(e)}setStyle(e,o,a){br(e)&&a===void 0?o._setStyle(e):a._setStyle(e,o)}removeStyle(e,o){o._removeStyle(e)}setCustomProperty(e,o,a){a._setCustomProperty(e,o)}removeCustomProperty(e,o){return o._removeCustomProperty(e)}createPositionAt(e,o){return $e._createAt(e,o)}createPositionAfter(e){return $e._createAfter(e)}createPositionBefore(e){return $e._createBefore(e)}createRange(e,o){return new pt(e,o)}createRangeOn(e){return pt._createOn(e)}createRangeIn(e){return pt._createIn(e)}createSelection(...e){return new ds(...e)}}class L0{constructor(){this._commands=new Map}add(e,o){this._commands.set(e,o)}get(e){return this._commands.get(e)}execute(e,...o){const a=this.get(e);if(!a)throw new B("commandcollection-command-not-found",this,{commandName:e});return a.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class pC extends nt(){constructor(e={}){super();const o=this.constructor,a=e.language||o.defaultConfig&&o.defaultConfig.language;this._context=e.context||new Np({language:a}),this._context._addEditor(this,!e.context);const d=Array.from(o.builtinPlugins||[]);this.config=new Ag(e,o.defaultConfig),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new fv(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new L0,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new hf,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new H1;this.data=new rC(this.model,p),this.editing=new Gb(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Qb([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new qg(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,o=e.get("plugins"),a=e.get("removePlugins")||[],d=e.get("extraPlugins")||[],p=e.get("substitutePlugins")||[];return this.plugins.init(o.concat(d),a,p)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(o=>this.once("ready",o))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...o){try{return this.commands.execute(e,...o)}catch(a){B.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Yc(c){return class extends c{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const c=Yc(Object);Yc.setData=c.prototype.setData,Yc.getData=c.prototype.getData}function u(c){return class extends c{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;Pd(this.sourceElement,o||a?e:"")}}}u.updateSourceElement=u(Object).prototype.updateSourceElement;class f extends Yd{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new B("pendingactions-add-invalid-message",this);const o=new(nt());return o.set("message",e),this._actions.add(o),this.hasAny=!0,o}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const x={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var N=l(5542),M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(N.Z,M),N.Z.locals;const{threeVerticalDots:L}=x,te={alignLeft:x.alignLeft,bold:x.bold,importExport:x.importExport,paragraph:x.paragraph,plus:x.plus,text:x.text,threeVerticalDots:x.threeVerticalDots};class ce extends Wt{constructor(e,o){super(e);const a=this.bindTemplate,d=this.t;this.options=o||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ks,this.keystrokes=new Bo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new ge(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const p=e.uiLanguageDirection==="rtl";this._focusCycler=new zo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[p?"arrowright":"arrowleft","arrowup"],focusNext:[p?"arrowleft":"arrowright","arrowdown"]}});const y=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var w;this.options.shouldGroupWhenFull&&this.options.isFloating&&y.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:y,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(w=this,w.bindTemplate.to(A=>{A.target===w.element&&A.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Ve(this):new Ee(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(e,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,o,a){this.items.addMany(this._buildItemsFromConfig(e,o,a))}_buildItemsFromConfig(e,o,a){const d=pv(e),p=a||d.removeItems;return this._cleanItemsConfiguration(d.items,o,p).map(y=>qe(y)?this._createNestedToolbarDropdown(y,o,p):y==="|"?new Hd:y==="-"?new qd:o.create(y)).filter(y=>!!y)}_cleanItemsConfiguration(e,o,a){const d=e.filter((p,y,w)=>p==="|"||a.indexOf(p)===-1&&(p==="-"?!this.options.shouldGroupWhenFull||(Y("toolbarview-line-break-ignored-when-grouping-items",w),!1):!(!qe(p)&&!o.has(p))||(Y("toolbarview-item-unavailable",{item:p}),!1)));return this._cleanSeparatorsAndLineBreaks(d)}_cleanSeparatorsAndLineBreaks(e){const o=y=>y!=="-"&&y!=="|",a=e.length,d=e.findIndex(o);if(d===-1)return[];const p=a-e.slice().reverse().findIndex(o);return e.slice(d,p).filter((y,w,A)=>o(y)?!0:!(w>0&&A[w-1]===y))}_createNestedToolbarDropdown(e,o,a){let{label:d,icon:p,items:y,tooltip:w=!0,withText:A=!1}=e;if(y=this._cleanItemsConfiguration(y,o,a),!y.length)return null;const j=ht(this.locale);return d||Y("toolbarview-nested-toolbar-dropdown-missing-label",e),j.class="ck-toolbar__nested-toolbar-dropdown",j.buttonView.set({label:d,tooltip:w,withText:!!A}),p!==!1?j.buttonView.icon=te[p]||p||L:j.buttonView.withText=!0,ft(j,()=>j.toolbarView._buildItemsFromConfig(y,o,a)),j}}class ge extends Wt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Ee{constructor(e){const o=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(a=>a),e.focusables.bindTo(e.items).using(a=>a),e.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Ve{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(o,a)=>{const d=a.index,p=Array.from(a.added);for(const y of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(y):this.ungroupedItems.remove(y);for(let y=d;y<d+p.length;y++){const w=p[y-d];y>this.ungroupedItems.length?this.groupedItems.add(w,y-this.ungroupedItems.length):this.ungroupedItems.add(w,y)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!xl(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,o=this.viewLocale.uiLanguageDirection,a=new _r(e.lastChild),d=new _r(e);if(!this.cachedPadding){const p=Mt.window.getComputedStyle(e),y=o==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(p[y])}return o==="ltr"?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new yc(this.viewElement,o=>{e&&e===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Hd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,o=e.t,a=ht(e);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",ft(a,this.groupedItems),a.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:L}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var He=l(1046),De={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(He.Z,De),He.Z.locals;class Me extends Wt{constructor(e){super(e);const o=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new ks,this.keystrokes=new Bo,this._focusCycler=new zo({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:o.to("role"),"aria-label":o.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(e,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ct extends Wt{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class yt extends Wt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Ir=l(7686),ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Ir.Z,ke),Ir.Z.locals;class ve extends Wt{constructor(e){super(e);const o=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Bo,this.focusTracker=new ks,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.to("class"),o.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(e,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new hr;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new hr,o=e.bindTemplate;return e.icon=jh,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",a=>String(a))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var je=l(7339),Ue={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(je.Z,Ue),je.Z.locals;var dt=l(3949),Kt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(dt.Z,Kt),dt.Z.locals;function ht(c,e=Ud){const o=new e(c),a=new Ug(c),d=new ln(c,o,a);return o.bind("isEnabled").to(d),o instanceof ve?o.arrowView.bind("isOn").to(d,"isOpen"):o.bind("isOn").to(d,"isOpen"),function(p){(function(y){y.on("render",()=>{m({emitter:y,activator:()=>y.isOpen,callback:()=>{y.isOpen=!1},contextElements:()=>[y.element,...y.focusTracker._elements]})})})(p),function(y){y.on("execute",w=>{w.source instanceof fi||(y.isOpen=!1)})}(p),function(y){y.focusTracker.on("change:isFocused",(w,A,j)=>{y.isOpen&&!j&&(y.isOpen=!1)})}(p),function(y){y.keystrokes.set("arrowdown",(w,A)=>{y.isOpen&&(y.panelView.focus(),A())}),y.keystrokes.set("arrowup",(w,A)=>{y.isOpen&&(y.panelView.focusLast(),A())})}(p),function(y){y.on("change:isOpen",(w,A,j)=>{if(j)return;const D=y.panelView.element;D&&D.contains(Mt.document.activeElement)&&y.buttonView.focus()})}(p),function(y){y.on("change:isOpen",(w,A,j)=>{j&&y.panelView.focus()},{priority:"low"})}(p)}(d),d}function ft(c,e,o={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?Vn(c,e,o):c.once("change:isOpen",()=>Vn(c,e,o),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&z0(c,()=>c.toolbarView.items.find(a=>a.isOn))}function Vn(c,e,o){const a=c.locale,d=a.t,p=c.toolbarView=new ce(a),y=typeof e=="function"?e():e;p.ariaLabel=o.ariaLabel||d("Dropdown toolbar"),o.maxWidth&&(p.maxWidth=o.maxWidth),o.class&&(p.class=o.class),o.isCompact&&(p.isCompact=o.isCompact),o.isVertical&&(p.isVertical=!0),y instanceof Lo?p.items.bindTo(y).using(w=>w):p.items.addMany(y),c.panelView.children.add(p),p.items.delegate("execute").to(c)}function mr(c,e,o={}){c.isOpen?Ua(c,e,o):c.once("change:isOpen",()=>Ua(c,e,o),{priority:"highest"}),z0(c,()=>c.listView.items.find(a=>a instanceof Ct&&a.children.first.isOn))}function Ua(c,e,o){const a=c.locale,d=c.listView=new Me(a),p=typeof e=="function"?e():e;d.ariaLabel=o.ariaLabel,d.role=o.role,d.items.bindTo(p).using(y=>{if(y.type==="separator")return new yt(a);if(y.type==="button"||y.type==="switchbutton"){const w=new Ct(a);let A;return A=y.type==="button"?new hr(a):new fi(a),A.bind(...Object.keys(y.model)).to(y.model),A.delegate("execute").to(w),w.children.add(A),w}return null}),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function z0(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const o=e();o&&(typeof o.focus=="function"?o.focus():Y("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))},{priority:ne.low-10})}function fC(c,e,o){const a=new Vg(c.locale);return a.set({id:e,ariaDescribedById:o}),a.bind("isReadOnly").to(c,"isEnabled",d=>!d),a.bind("hasError").to(c,"errorText",d=>!!d),a.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(a),a}const oy=(c,e=0,o=1)=>c>o?o:c<e?e:c,Gs=(c,e=0,o=Math.pow(10,e))=>Math.round(o*c)/o,gC=c=>(c[0]==="#"&&(c=c.substring(1)),c.length<6?{r:parseInt(c[0]+c[0],16),g:parseInt(c[1]+c[1],16),b:parseInt(c[2]+c[2],16),a:c.length===4?Gs(parseInt(c[3]+c[3],16)/255,2):1}:{r:parseInt(c.substring(0,2),16),g:parseInt(c.substring(2,4),16),b:parseInt(c.substring(4,6),16),a:c.length===8?Gs(parseInt(c.substring(6,8),16)/255,2):1}),sL=({h:c,s:e,v:o,a})=>{const d=(200-e)*o/100;return{h:Gs(c),s:Gs(d>0&&d<200?e*o/100/(d<=100?d:200-d)*100:0),l:Gs(d/2),a:Gs(a,2)}},bC=c=>{const{h:e,s:o,l:a}=sL(c);return`hsl(${e}, ${o}%, ${a}%)`},oL=({h:c,s:e,v:o,a})=>{c=c/360*6,e/=100,o/=100;const d=Math.floor(c),p=o*(1-e),y=o*(1-(c-d)*e),w=o*(1-(1-c+d)*e),A=d%6;return{r:Gs(255*[o,y,p,p,w,o][A]),g:Gs(255*[w,o,o,y,p,p][A]),b:Gs(255*[p,p,w,o,o,y][A]),a:Gs(a,2)}},F0=c=>{const e=c.toString(16);return e.length<2?"0"+e:e},iL=({r:c,g:e,b:o,a})=>{const d=a<1?F0(Gs(255*a)):"";return"#"+F0(c)+F0(e)+F0(o)+d},aL=({r:c,g:e,b:o,a})=>{const d=Math.max(c,e,o),p=d-Math.min(c,e,o),y=p?d===c?(e-o)/p:d===e?2+(o-c)/p:4+(c-e)/p:0;return{h:Gs(60*(y<0?y+6:y)),s:Gs(d?p/d*100:0),v:Gs(d/255*100),a}},Vj=(c,e)=>{if(c===e)return!0;for(const o in c)if(c[o]!==e[o])return!1;return!0},Uj={},Gj=c=>{let e=Uj[c];return e||(e=document.createElement("template"),e.innerHTML=c,Uj[c]=e),e},yC=(c,e,o)=>{c.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let pf=!1;const xC=c=>"touches"in c,Hj=(c,e)=>{const o=xC(e)?e.touches[0]:e,a=c.el.getBoundingClientRect();yC(c.el,"move",c.getMove({x:oy((o.pageX-(a.left+window.pageXOffset))/a.width),y:oy((o.pageY-(a.top+window.pageYOffset))/a.height)}))};class qj{constructor(e,o,a,d){const p=Gj(`<div role="slider" tabindex="0" part="${o}" ${a}><div part="${o}-pointer"></div></div>`);e.appendChild(p.content.cloneNode(!0));const y=e.querySelector(`[part=${o}]`);y.addEventListener("mousedown",this),y.addEventListener("touchstart",this),y.addEventListener("keydown",this),this.el=y,this.xy=d,this.nodes=[y.firstChild,y]}set dragging(e){const o=e?document.addEventListener:document.removeEventListener;o(pf?"touchmove":"mousemove",this),o(pf?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(o=>!(pf&&!xC(o)||(pf||(pf=xC(o)),0)))(e)||!pf&&e.button!=0)return;this.el.focus(),Hj(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),Hj(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((o,a)=>{const d=a.keyCode;d>40||o.xy&&d<37||d<33||(a.preventDefault(),yC(o.el,"move",o.getMove({x:d===39?.01:d===37?-.01:d===34?.05:d===33?-.05:d===35?1:d===36?-1:0,y:d===40?.01:d===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((o,a)=>{for(const d in o)this.nodes[a].style.setProperty(d,o[d])})}}class lL extends qj{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:bC({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Gs(e)}`)}getMove(e,o){return{h:o?oy(this.h+360*e.x,0,360):360*e.x}}}class cL extends qj{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:bC(e)},{"background-color":bC({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Gs(e.s)}%, Brightness ${Gs(e.v)}%`)}getMove(e,o){return{s:o?oy(this.hsva.s+100*e.x,0,100):100*e.x,v:o?oy(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const V0=Symbol("same"),vC=Symbol("color"),Yj=Symbol("hsva"),wC=Symbol("update"),Wj=Symbol("parts"),Kj=Symbol("css"),Qj=Symbol("sliders");class dL extends HTMLElement{static get observedAttributes(){return["color"]}get[Kj](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[Qj](){return[cL,lL]}get color(){return this[vC]}set color(e){if(!this[V0](e)){const o=this.colorModel.toHsva(e);this[wC](o),this[vC]=e}}constructor(){super();const e=Gj(`<style>${this[Kj].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(e.content.cloneNode(!0)),o.addEventListener("move",this),this[Wj]=this[Qj].map(a=>new a(o))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,o,a){const d=this.colorModel.fromAttr(a);this[V0](d)||(this.color=d)}handleEvent(e){const o=this[Yj],a={...o,...e.detail};let d;this[wC](a),Vj(a,o)||this[V0](d=this.colorModel.fromHsva(a))||(this[vC]=d,yC(this,"color-changed",{value:d}))}[V0](e){return this.color&&this.colorModel.equal(e,this.color)}[wC](e){this[Yj]=e,this[Wj].forEach(o=>o.update(e))}}const uL={defaultColor:"#000",toHsva:c=>aL(gC(c)),fromHsva:({h:c,s:e,v:o})=>iL(oL({h:c,s:e,v:o,a:1})),equal:(c,e)=>c.toLowerCase()===e.toLowerCase()||Vj(gC(c),gC(e)),fromAttr:c=>c};class hL extends dL{get colorModel(){return uL}}customElements.define("hex-color-picker",class extends hL{});var Jj=l(3398),mL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Jj.Z,mL),Jj.Z.locals;var Xj=l(4157),pL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Xj.Z,pL),Xj.Z.locals;class fL{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,o){this._components.set(kC(e),{callback:o,originalName:e})}create(e){if(!this.has(e))throw new B("componentfactory-item-missing",this,{name:e});return this._components.get(kC(e)).callback(this.editor.locale)}has(e){return this._components.has(kC(e))}}function kC(c){return String(c).toLowerCase()}var $j=l(8793),gL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()($j.Z,gL),$j.Z.locals;var bL=Object.defineProperty,Zj=Object.getOwnPropertySymbols,yL=Object.prototype.hasOwnProperty,xL=Object.prototype.propertyIsEnumerable,eS=(c,e,o)=>e in c?bL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,kr=(c,e)=>{for(var o in e||(e={}))yL.call(e,o)&&eS(c,o,e[o]);if(Zj)for(var o of Zj(e))xL.call(e,o)&&eS(c,o,e[o]);return c};const tS=jg("px"),rS=Mt.document.body,CC=class extends Wt{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",o=>`ck-balloon-panel_${o}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",tS),left:e.to("left",tS)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=CC.defaultPositions,o=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:rS,fitInViewport:!0},c),a=CC._getOptimalPosition(o),d=parseInt(a.left),p=parseInt(a.top),y=a.name,w=a.config||{},{withArrow:A=!0}=w;this.top=p,this.left=d,this.position=y,this.withArrow=A}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=_C(c.target),o=c.limiter?_C(c.limiter):rS;this.listenTo(Mt.document,"scroll",(a,d)=>{const p=d.target,y=e&&p.contains(e),w=o&&p.contains(o);!y&&!w&&e&&o||this.attachTo(c)},{useCapture:!0}),this.listenTo(Mt.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(Mt.document,"scroll"),this.stopListening(Mt.window,"resize")}};let qo=CC;function _C(c){return ya(c)?c:bh(c)?c.commonAncestorContainer:typeof c=="function"?_C(c()):null}function nS(c={}){const{sideOffset:e=qo.arrowSideOffset,heightOffset:o=qo.arrowHeightOffset,stickyVerticalOffset:a=qo.stickyVerticalOffset,config:d}=c;return{northWestArrowSouthWest:(w,A)=>kr({top:p(w,A),left:w.left-e,name:"arrow_sw"},d&&{config:d}),northWestArrowSouthMiddleWest:(w,A)=>kr({top:p(w,A),left:w.left-.25*A.width-e,name:"arrow_smw"},d&&{config:d}),northWestArrowSouth:(w,A)=>kr({top:p(w,A),left:w.left-A.width/2,name:"arrow_s"},d&&{config:d}),northWestArrowSouthMiddleEast:(w,A)=>kr({top:p(w,A),left:w.left-.75*A.width+e,name:"arrow_sme"},d&&{config:d}),northWestArrowSouthEast:(w,A)=>kr({top:p(w,A),left:w.left-A.width+e,name:"arrow_se"},d&&{config:d}),northArrowSouthWest:(w,A)=>kr({top:p(w,A),left:w.left+w.width/2-e,name:"arrow_sw"},d&&{config:d}),northArrowSouthMiddleWest:(w,A)=>kr({top:p(w,A),left:w.left+w.width/2-.25*A.width-e,name:"arrow_smw"},d&&{config:d}),northArrowSouth:(w,A)=>kr({top:p(w,A),left:w.left+w.width/2-A.width/2,name:"arrow_s"},d&&{config:d}),northArrowSouthMiddleEast:(w,A)=>kr({top:p(w,A),left:w.left+w.width/2-.75*A.width+e,name:"arrow_sme"},d&&{config:d}),northArrowSouthEast:(w,A)=>kr({top:p(w,A),left:w.left+w.width/2-A.width+e,name:"arrow_se"},d&&{config:d}),northEastArrowSouthWest:(w,A)=>kr({top:p(w,A),left:w.right-e,name:"arrow_sw"},d&&{config:d}),northEastArrowSouthMiddleWest:(w,A)=>kr({top:p(w,A),left:w.right-.25*A.width-e,name:"arrow_smw"},d&&{config:d}),northEastArrowSouth:(w,A)=>kr({top:p(w,A),left:w.right-A.width/2,name:"arrow_s"},d&&{config:d}),northEastArrowSouthMiddleEast:(w,A)=>kr({top:p(w,A),left:w.right-.75*A.width+e,name:"arrow_sme"},d&&{config:d}),northEastArrowSouthEast:(w,A)=>kr({top:p(w,A),left:w.right-A.width+e,name:"arrow_se"},d&&{config:d}),southWestArrowNorthWest:w=>kr({top:y(w),left:w.left-e,name:"arrow_nw"},d&&{config:d}),southWestArrowNorthMiddleWest:(w,A)=>kr({top:y(w),left:w.left-.25*A.width-e,name:"arrow_nmw"},d&&{config:d}),southWestArrowNorth:(w,A)=>kr({top:y(w),left:w.left-A.width/2,name:"arrow_n"},d&&{config:d}),southWestArrowNorthMiddleEast:(w,A)=>kr({top:y(w),left:w.left-.75*A.width+e,name:"arrow_nme"},d&&{config:d}),southWestArrowNorthEast:(w,A)=>kr({top:y(w),left:w.left-A.width+e,name:"arrow_ne"},d&&{config:d}),southArrowNorthWest:w=>kr({top:y(w),left:w.left+w.width/2-e,name:"arrow_nw"},d&&{config:d}),southArrowNorthMiddleWest:(w,A)=>kr({top:y(w),left:w.left+w.width/2-.25*A.width-e,name:"arrow_nmw"},d&&{config:d}),southArrowNorth:(w,A)=>kr({top:y(w),left:w.left+w.width/2-A.width/2,name:"arrow_n"},d&&{config:d}),southArrowNorthMiddleEast:(w,A)=>kr({top:y(w),left:w.left+w.width/2-.75*A.width+e,name:"arrow_nme"},d&&{config:d}),southArrowNorthEast:(w,A)=>kr({top:y(w),left:w.left+w.width/2-A.width+e,name:"arrow_ne"},d&&{config:d}),southEastArrowNorthWest:w=>kr({top:y(w),left:w.right-e,name:"arrow_nw"},d&&{config:d}),southEastArrowNorthMiddleWest:(w,A)=>kr({top:y(w),left:w.right-.25*A.width-e,name:"arrow_nmw"},d&&{config:d}),southEastArrowNorth:(w,A)=>kr({top:y(w),left:w.right-A.width/2,name:"arrow_n"},d&&{config:d}),southEastArrowNorthMiddleEast:(w,A)=>kr({top:y(w),left:w.right-.75*A.width+e,name:"arrow_nme"},d&&{config:d}),southEastArrowNorthEast:(w,A)=>kr({top:y(w),left:w.right-A.width+e,name:"arrow_ne"},d&&{config:d}),westArrowEast:(w,A)=>kr({top:w.top+w.height/2-A.height/2,left:w.left-A.width-o,name:"arrow_e"},d&&{config:d}),eastArrowWest:(w,A)=>kr({top:w.top+w.height/2-A.height/2,left:w.right+o,name:"arrow_w"},d&&{config:d}),viewportStickyNorth:(w,A,j)=>w.getIntersection(j)?{top:j.top+a,left:w.left+w.width/2-A.width/2,name:"arrowless",config:kr({withArrow:!1},d)}:null};function p(w,A){return w.top-A.height-o}function y(w){return w.bottom+o}}qo.arrowSideOffset=25,qo.arrowHeightOffset=10,qo.stickyVerticalOffset=20,qo._getOptimalPosition=vl,qo.defaultPositions=nS();var sS=l(3332),vL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(sS.Z,vL),sS.Z.locals;const oS="ck-tooltip",Yo=class extends yl(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Yo._editors.add(c),Yo._instance)return Yo._instance;Yo._instance=this,this.tooltipTextView=new Wt(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new qo(c.locale),this.balloonPanelView.class=oS,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Jn(this._pinTooltip,600),this.listenTo(Mt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Mt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Mt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Mt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Mt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;Yo._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Yo._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Yo._instance=null)}static getPositioningFunctions(c){const e=Yo.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onEnterOrFocus(c,{target:e}){const o=AC(e);var a;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(a=o).dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(c,{target:e,relatedTarget:o}){if(c.name==="mouseleave"){if(!ya(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const a=AC(e),d=AC(o);a&&a!==d&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:o,cssClass:a}){const d=pn(Yo._editors.values()).ui.view.body;d.has(this.balloonPanelView)||d.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:Yo.getPositioningFunctions(o)}),this._resizeObserver=new yc(c,()=>{xl(c)||this._unpinTooltip()}),this.balloonPanelView.class=[oS,a].filter(p=>p).join(" ");for(const p of Yo._editors)this.listenTo(p.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of Yo._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){xl(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Yo.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let U0=Yo;function AC(c){return ya(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}U0.defaultBalloonPositions=nS({heightOffset:5,sideOffset:13}),U0._editors=new Set,U0._instance=null;const NC=function(c,e,o){var a=!0,d=!0;if(typeof c!="function")throw new TypeError("Expected a function");return qe(o)&&(a="leading"in o?!!o.leading:a,d="trailing"in o?!!o.trailing:d),Jn(c,e,{leading:a,maxWait:e,trailing:d})};var wL=Object.defineProperty,iS=Object.getOwnPropertySymbols,kL=Object.prototype.hasOwnProperty,CL=Object.prototype.propertyIsEnumerable,aS=(c,e,o)=>e in c?wL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,_L=(c,e)=>{for(var o in e||(e={}))kL.call(e,o)&&aS(c,o,e[o]);if(iS)for(var o of iS(e))CL.call(e,o)&&aS(c,o,e[o]);return c};const AL=50,NL=350,jL="Powered by",G0={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class SL extends yl(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=NC(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(o){function a(W){return W.length>=40&&W.length<=255?"VALID":"INVALID"}if(!o)return"INVALID";let d="";try{d=atob(o)}catch{return"INVALID"}const p=d.split("-"),y=p[0],w=p[1];if(!w)return a(o);try{atob(w)}catch{try{if(atob(y),!atob(y).length)return a(o)}catch{return a(o)}}if(y.length<40||y.length>255)return"INVALID";let A="";try{atob(y),A=atob(w)}catch{return"INVALID"}if(A.length!==8)return"INVALID";const j=Number(A.substring(0,4)),D=Number(A.substring(4,6))-1,I=Number(A.substring(6,8)),z=new Date(j,D,I);return z<be||isNaN(Number(z))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(o,a,d)=>{this._updateLastFocusedEditableElement(),d?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(o,a,d)=>{this._updateLastFocusedEditableElement(),d&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,o=this._balloonView=new qo,a=cS(e),d=new EL(e.locale,a.label);o.content.add(d),o.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(o),e.ui.focusTracker.add(o.element),this._balloonView=o}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(o,a){const d=cS(o),p=d.side==="right"?function(y,w){return lS(y,w,(A,j)=>A.left+A.width-j.width-w.horizontalOffset)}(a,d):function(y,w){return lS(y,w,A=>A.left+w.horizontalOffset)}(a,d);return{target:a,positions:[p]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,o=e.ui.focusTracker.isFocused,a=e.ui.focusTracker.focusedElement;if(!o||!a)return void(this._lastFocusedEditableElement=null);const d=Array.from(e.ui.getEditableElementsNames()).map(p=>e.ui.getEditableElement(p));d.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=d[0]}}class EL extends Wt{constructor(e,o){super(e);const a=new qi,d=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...o?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[o]}]:[],a],on:{dragstart:d.to(p=>p.preventDefault())}}]})}}function lS(c,e,o){return(a,d)=>{const p=a.getVisible();if(!p||a.width<NL||a.height<AL)return G0;let y;y=e.position==="inside"?a.bottom-d.height:a.bottom-d.height/2,y-=e.verticalOffset;const w=o(a,d);if(e.position==="inside"){const A=d.clone().moveTo(w,y);if(A.getIntersectionArea(p)<A.getArea())return G0}else{const A=yo(c);if(A){const j=new _r(A),D=p.bottom+d.height/2>j.bottom,I=e.side==="left"?a.left<j.left:a.right>j.right;if(D||I)return G0}}return{top:y,left:w,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function cS(c){const e=c.config.get("ui.poweredBy"),o=e&&e.position||"border";return _L({position:o,label:jL,verticalOffset:o==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var DL=Object.defineProperty,dS=Object.getOwnPropertySymbols,ML=Object.prototype.hasOwnProperty,TL=Object.prototype.propertyIsEnumerable,uS=(c,e,o)=>e in c?DL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class IL extends nt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const o=e.editing.view;this.editor=e,this.componentFactory=new fL(e),this.focusTracker=new ks,this.tooltipManager=new U0(e),this.poweredBy=new SL(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(o.document,"layoutChanged",this.update.bind(this)),this.listenTo(o,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,o){this._editableElementsMap.set(e,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const a=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(o)};this.isReady?a():this.once("ready",a)}removeEditableElement(e){const o=this._editableElementsMap.get(e);o&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,o={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:o})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,o=e.config.get("ui.viewportOffset");if(o)return o;const a=e.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const e=this.editor,o=e.editing.view;let a,d;e.keystrokes.set("Alt+F10",(p,y)=>{const w=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(w)&&!Array.from(o.domRoots.values()).includes(w)&&(a=w);const A=this._getCurrentFocusedToolbarDefinition();A&&d||(d=this._getFocusableCandidateToolbarDefinitions());for(let j=0;j<d.length;j++){const D=d.shift();if(d.push(D),D!==A&&this._focusFocusableCandidateToolbar(D)){A&&A.options.afterBlur&&A.options.afterBlur();break}}y()}),e.keystrokes.set("Esc",(p,y)=>{const w=this._getCurrentFocusedToolbarDefinition();w&&(a?(a.focus(),a=null):e.editing.view.focus(),w.options.afterBlur&&w.options.afterBlur(),y())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:a,options:d}=o;(xl(a.element)||d.beforeFocus)&&e.push(o)}return e.sort((o,a)=>hS(o)-hS(a)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:o,options:{beforeFocus:a}}=e;return a&&a(),!!xl(o.element)&&(o.focus(),!0)}_handleScrollToTheSelection(e,o){const a=((d,p)=>{for(var y in p||(p={}))ML.call(p,y)&&uS(d,y,p[y]);if(dS)for(var y of dS(p))TL.call(p,y)&&uS(d,y,p[y]);return d})({top:0,bottom:0,left:0,right:0},this.viewportOffset);o.viewportOffset.top+=a.top,o.viewportOffset.bottom+=a.bottom,o.viewportOffset.left+=a.left,o.viewportOffset.right+=a.right}}function hS(c){const{toolbarView:e,options:o}=c;let a=10;return xl(e.element)&&a--,o.isContextual&&a--,a}var mS=l(9688),RL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(mS.Z,RL),mS.Z.locals;class PL extends Wt{constructor(e){super(e),this.body=new Pg(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class OL extends PL{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,o=new Fd;return o.text=e("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class BL extends Wt{constructor(e,o,a){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function o(a){e.change(d=>{const p=e.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",p),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",p)})}e.isRenderingInProgress?function a(d){e.once("change:isRenderingInProgress",(p,y,w)=>{w?a(d):o(d)})}(this):o(this)}}class LL extends BL{constructor(e,o,a,d={}){super(e,o,a);const p=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=d.label||(()=>p("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(o=>{const a=e.document.getRoot(this.name);o.setAttribute("aria-label",this._generateLabel(this),a)})}}var pS=l(8847),zL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(pS.Z,zL),pS.Z.locals;class jC extends Yd{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(e,o={}){this._showNotification({message:e,type:"success",namespace:o.namespace,title:o.title})}showInfo(e,o={}){this._showNotification({message:e,type:"info",namespace:o.namespace,title:o.title})}showWarning(e,o={}){this._showNotification({message:e,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(e){const o=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(o,{message:e.message,type:e.type,title:e.title||""})}}class fS extends nt(){constructor(e,o){super(),o&&vb(this,o),e&&this.set(e)}}var gS=l(4650),FL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(gS.Z,FL),gS.Z.locals;var bS=l(7676),VL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(bS.Z,VL),bS.Z.locals;const H0=jg("px");class q0 extends Ge{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,a=o.document.selection.editableElement;return a?o.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new B("contextualballoon-add-view-exist",[this,e]);const o=e.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(o));const a=this._idToStack.get(o);e.singleViewMode&&this.showStack(o),a.set(e.view,e),this._viewToStack.set(e.view,a),a===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new B("contextualballoon-remove-view-not-exist",[this,e]);const o=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(o.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),o.size===1?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const o=this._idToStack.get(e);if(!o)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new qo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(o=>o[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let o=e.indexOf(this._visibleStack)+1;e[o]||(o=0),this.showStack(this._getStackId(e[o]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let o=e.indexOf(this._visibleStack)-1;e[o]||(o=e.length-1),this.showStack(this._getStackId(e[o]))}_createRotatorView(){const e=new UL(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const p=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[p,d])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new GL(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>=2?Math.min(o-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:o="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=o,this.view.withArrow=a,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class UL extends Wt{constructor(e){super(e);const o=e.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ks,this.buttonPrevView=this._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,o){const a=new hr(this.locale);return a.set({label:e,icon:o,tooltip:!0}),a}}class GL extends Wt{constructor(e,o){super(e);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",H0),left:a.to("left",H0),width:a.to("width",H0),height:a.to("height",H0)}},children:this.content}),this.on("change:numberOfPanels",(d,p,y,w)=>{y>w?this._addPanels(y-w):this._removePanels(w-y),this.updatePosition()})}_addPanels(e){for(;e--;){const o=new Wt;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(e){for(;e--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:o}=this._balloonPanelView,{width:a,height:d}=new _r(this._balloonPanelView.element);Object.assign(this,{top:e,left:o,width:a,height:d})}}}var yS=l(5868),HL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(yS.Z,HL),yS.Z.locals;const ff=jg("px");class qL extends Wt{constructor(e){super(e);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new pi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",a=>a?"block":"none"),height:o.to("isSticky",a=>a?ff(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new pi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",a=>a?ff(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_stickyTopOffset",a=>a&&ff(a)),bottom:o.to("_stickyBottomOffset",a=>a&&ff(a)),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Mt.document,"scroll",(e,o)=>{this.checkIfShouldBeSticky(o.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(e){if(!this.limiterElement||!this.isActive)return void this._unstick();const o=function(p){const y=[];let w=yo(p);for(;w&&w!==Mt.document.body;)y.push(w),w=yo(w);return y.push(Mt.document),y}(this.limiterElement);if(e&&!o.includes(e))return;const a=function(p,y=0){const w=p.map(j=>{if(j instanceof Document){const D=new _r(Mt.window);return D.top+=y,D.height-=y,D}return new _r(j)});let A=w[0];for(const j of w.slice(1))A&&(A=A.getIntersection(j));return A}(o,this.viewportTopOffset),d=new _r(this.limiterElement);if(a&&d.top<a.top){const p=d.getIntersection(a);if(p){const y=a.top;if(y+this._contentPanelRect.height+this.limiterBottomOffset>p.bottom){const w=Math.max(d.bottom-a.bottom,0)+this.limiterBottomOffset;d.bottom-w>d.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(w):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<d.height?this._stickToTopOfAncestors(y):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=ff(-Mt.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=ff(-Mt.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new _r(this._contentPanel)}}var xS=l(9695),YL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(xS.Z,YL),xS.Z.locals;class WL extends IL{constructor(e,o){super(e),this.view=o,this._toolbarConfig=pv(e.config.get("toolbar")),this._elementReplacer=new nn,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const o=this.editor,a=this.view,d=o.editing.view,p=a.editable,y=d.document.getRoot();p.name=y.rootName,a.render();const w=p.element;this.setEditableElement(p.name,w),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(w),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:o})=>o||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,o=e.editing.view,a=o.document.getRoot(),d=e.sourceElement;let p;const y=e.config.get("placeholder");y&&(p=typeof y=="string"?y:y[this.view.editable.name]),!p&&d&&d.tagName.toLowerCase()==="textarea"&&(p=d.getAttribute("placeholder")),p&&(a.placeholder=p),Sh({view:o,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,o,a){const d=this.view.stickyPanel;if(d.isSticky){const p=new _r(d.element).height;o.viewportOffset.top+=p}else{const p=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(d,"change:isSticky",p),setTimeout(()=>{this.stopListening(d,"change:isSticky",p)},20)}}}var vS=l(3143),KL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(vS.Z,KL),vS.Z.locals;class QL extends OL{constructor(e,o,a={}){super(e),this.stickyPanel=new qL(e),this.toolbar=new ce(e,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new LL(e,o)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class wS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const a="error"in o?o.error:o.reason;a instanceof Error&&this._handleError(a,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,o){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(o)}off(e,o){this._listeners[e]=this._listeners[e].filter(a=>a!==o)}_fire(e,...o){const a=this._listeners[e]||[];for(const d of a)d.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,o){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function SC(c,e=new Set){const o=[c],a=new Set;let d=0;for(;o.length>d;){const p=o[d++];if(!a.has(p)&&JL(p)&&!e.has(p))if(a.add(p),Symbol.iterator in p)try{for(const y of p)o.push(y)}catch{}else for(const y in p)y!=="defaultValue"&&o.push(p[y])}return a}function JL(c){const e=Object.prototype.toString.call(c),o=typeof c;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function kS(c,e,o=new Set){if(c===e&&typeof(a=c)=="object"&&a!==null)return!0;var a;const d=SC(c,o),p=SC(e,o);for(const y of d)if(p.has(y))return!0;return!1}var XL=Object.defineProperty,$L=Object.defineProperties,ZL=Object.getOwnPropertyDescriptors,Y0=Object.getOwnPropertySymbols,CS=Object.prototype.hasOwnProperty,_S=Object.prototype.propertyIsEnumerable,AS=(c,e,o)=>e in c?XL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,EC=(c,e)=>{for(var o in e||(e={}))CS.call(e,o)&&AS(c,o,e[o]);if(Y0)for(var o of Y0(e))_S.call(e,o)&&AS(c,o,e[o]);return c};class NS extends wS{constructor(e,o={}){super(o),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=NC(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),e&&(this._creator=(a,d)=>e.create(a,d)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},o=[],a=this._config.rootsAttributes||{},d={};for(const[A,j]of Object.entries(this._data.roots))j.isLoaded?(e[A]="",d[A]=a[A]||{}):o.push(A);const p=(y=EC({},this._config),w={extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:d,_watchdogInitialData:this._data},$L(y,ZL(w)));var y,w;return delete p.initialData,p.extraPlugins.push(e8),this._initUsingData?this.create(e,p,p.context):ya(this._elementOrData)?this.create(this._elementOrData,p,p.context):this.create(this._editables,p,p.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,o=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=a,this._creator(e,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,o=e.model.document.roots.filter(w=>w.isAttached()&&w.rootName!="$graveyard"),{plugins:a}=e,d=a.has("CommentsRepository")&&a.get("CommentsRepository"),p=a.has("TrackChanges")&&a.get("TrackChanges"),y={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(w=>{y.roots[w.rootName]={content:JSON.stringify(Array.from(w.getChildren())),attributes:JSON.stringify(Array.from(w.getAttributes())),isLoaded:w._isLoaded}});for(const w of e.model.markers)w._affectsData&&(y.markers[w.name]={rangeJSON:w.getRange().toJSON(),usingOperation:w._managedUsingOperations,affectsData:w._affectsData});return d&&(y.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),p&&(y.suggestions=JSON.stringify(p.getSuggestions({toJSON:!0,skipNotAttached:!0}))),y}_getEditables(){const e={};for(const o of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(o);a&&(e[o]=a)}return e}_isErrorComingFromThisItem(e){return kS(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return gl(e,(o,a)=>ya(o)||a==="context"?o:void 0)}}class e8{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,o){if("name"in o){const a=e.createElement(o.name,o.attributes);if(o.children)for(const d of o.children)a._appendChild(this._createNode(e,d));return a}return e.createText(o.data,o.attributes)}_restoreEditorData(e){const o=this.editor;Object.entries(this._data.roots).forEach(([a,{content:d,attributes:p}])=>{const y=JSON.parse(d),w=JSON.parse(p),A=o.model.document.getRoot(a);for(const[j,D]of w)e.setAttribute(j,D,A);for(const j of y){const D=this._createNode(e,j);e.insert(D,A,"end")}}),Object.entries(this._data.markers).forEach(([a,d])=>{const{document:p}=o.model,y=d,{rangeJSON:{start:w,end:A}}=y,j=((X,re)=>{var de={};for(var fe in X)CS.call(X,fe)&&re.indexOf(fe)<0&&(de[fe]=X[fe]);if(X!=null&&Y0)for(var fe of Y0(X))re.indexOf(fe)<0&&_S.call(X,fe)&&(de[fe]=X[fe]);return de})(y,["rangeJSON"]),D=p.getRoot(w.root),I=e.createPositionFromPath(D,w.path,w.stickiness),z=e.createPositionFromPath(D,A.path,A.stickiness),W=e.createRange(I,z);e.addMarker(a,EC({range:W},j))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);e.forEach(a=>{const d=this.editor.config.get("collaboration.channelId"),p=this.editor.plugins.get("CommentsRepository");p.hasCommentThread(a.threadId)&&p.getCommentThread(a.threadId).remove(),p.addCommentThread(EC({channelId:d},a))}),o.forEach(a=>{const d=this.editor.plugins.get("TrackChangesEditing");d.hasSuggestion(a.id)?d.getSuggestion(a.id).attributes=a.attributes:d.addSuggestionData(a)})}}const iy=Symbol("MainQueueId");class t8{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,o){const a=e===iy;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const d=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(iy),this._queues.get(e)])).then(o),p=d.catch(()=>{});return this._queues.set(e,p),d.finally(()=>{this._activeActions--,this._queues.get(e)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(y=>y())})}}function jS(c){return Array.isArray(c)?c:[c]}class W0 extends Yc(u(pC)){constructor(e,o={}){if(!K0(e)&&o.initialData!==void 0)throw new B("editor-create-initial-data",null);super(o),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return K0(p)?(y=p,y instanceof HTMLTextAreaElement?y.value:y.innerHTML):p;var y}(e)),K0(e)&&(this.sourceElement=e),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new QL(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new WL(this,d),function(p){if(!mn(p.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",p);const y=p.sourceElement;if(function(w){return!!w&&w.tagName.toLowerCase()==="textarea"}(y)&&y.form){let w;const A=y.form,j=()=>p.updateSourceElement();mn(A.submit)&&(w=A.submit,A.submit=()=>{j(),w.apply(A)}),A.addEventListener("submit",j),p.on("destroy",()=>{A.removeEventListener("submit",j),w&&(A.submit=w)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,o={}){return new Promise(a=>{const d=new this(e,o);a(d.initPlugins().then(()=>d.ui.init(K0(e)?e:null)).then(()=>d.data.init(d.config.get("initialData"))).then(()=>d.fire("ready")).then(()=>d))})}}function K0(c){return ya(c)}W0.Context=Np,W0.EditorWatchdog=NS,W0.ContextWatchdog=class extends wS{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new t8,this._watchdogConfig=e,this._creator=o=>c.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(iy,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=jS(c);return Promise.all(e.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return a=new NS(null,this._watchdogConfig),a.setCreator(o.creator),a._setExcludedProperties(this._contextProps),o.destructor&&a.setDestructor(o.destructor),this._watchdogs.set(o.id,a),a.on("error",(d,{error:p,causesRestart:y})=>{this._fire("itemError",{itemId:o.id,error:p}),y&&this._actionQueues.enqueue(o.id,()=>new Promise(w=>{const A=()=>{a.off("restart",A),this._fire("itemRestart",{itemId:o.id}),w()};a.on("restart",A)}))}),a.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(c){const e=jS(c);return Promise.all(e.map(o=>this._actionQueues.enqueue(o,()=>{const a=this._getWatchdog(o);return this._watchdogs.delete(o),a.destroy()})))}destroy(){return this._actionQueues.enqueue(iy,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(iy,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=SC(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return kS(this._context,c.context)}};class DC extends ja{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const o=this.document;function a(d){return(p,y)=>{y.preventDefault();const w=y.dropRange?[y.dropRange]:null,A=new U(o,d);o.fire(A,{dataTransfer:y.dataTransfer,method:p.name,targetRanges:w,target:y.target,domEvent:y.domEvent}),A.stop.called&&y.stopPropagation()}}this.listenTo(o,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",a("dragging"),{priority:"low"})}onDomEvent(e){const o="clipboardData"in e?e.clipboardData:e.dataTransfer,a=e.type=="drop"||e.type=="paste",d={dataTransfer:new Jv(o,{cacheFiles:a})};e.type!="drop"&&e.type!="dragover"||(d.dropRange=function(p,y){const w=y.target.ownerDocument,A=y.clientX,j=y.clientY;let D;return w.caretRangeFromPoint&&w.caretRangeFromPoint(A,j)?D=w.caretRangeFromPoint(A,j):y.rangeParent&&(D=w.createRange(),D.setStart(y.rangeParent,y.rangeOffset),D.collapse(!0)),D?p.domConverter.domRangeToView(D):null}(this.view,e)),this.fire(e.type,e,d)}}const SS=["figcaption","li"];function ES(c){let e="";if(c.is("$text")||c.is("$textProxy"))e=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))e=c.getAttribute("alt");else if(c.is("element","br"))e=`
`;else{let o=null;for(const a of c.getChildren()){const d=ES(a);o&&(o.is("containerElement")||a.is("containerElement"))&&(SS.includes(o.name)||SS.includes(a.name)?e+=`
`:e+=`

`),e+=d,o=a}}return e}class Ll extends Ge{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(DC),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,o=e.model,a=e.editing.view,d=a.document;this.listenTo(d,"clipboardInput",(p,y)=>{y.method!="paste"||e.model.canEditAt(e.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,y)=>{const w=y.dataTransfer;let A;if(y.content)A=y.content;else{let I="";w.getData("text/html")?I=function(z){return z.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(W,X)=>X.length==1?" ":X).replace(/<!--[\s\S]*?-->/g,"")}(w.getData("text/html")):w.getData("text/plain")&&(((j=(j=w.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||j.includes("<br>"))&&(j=`<p>${j}</p>`),I=j),A=this.editor.data.htmlProcessor.toView(I)}var j;const D=new U(this,"inputTransformation");this.fire(D,{content:A,dataTransfer:w,targetRanges:y.targetRanges,method:y.method}),D.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,y)=>{if(y.content.isEmpty)return;const w=this.editor.data.toModel(y.content,"$clipboardHolder");w.childCount!=0&&(p.stop(),o.change(()=>{this.fire("contentInsertion",{content:w,method:y.method,dataTransfer:y.dataTransfer,targetRanges:y.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,y)=>{y.resultRange=o.insertContent(y.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,o=e.model.document,a=e.editing.view.document,d=(p,y)=>{const w=y.dataTransfer;y.preventDefault();const A=e.data.toView(e.model.getSelectedContent(o.selection));a.fire("clipboardOutput",{dataTransfer:w,content:A,method:p.name})};this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(p,y)=>{e.model.canEditAt(e.model.document.selection)?d(p,y):y.preventDefault()},{priority:"low"}),this.listenTo(a,"clipboardOutput",(p,y)=>{y.content.isEmpty||(y.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(y.content)),y.dataTransfer.setData("text/plain",ES(y.content))),y.method=="cut"&&e.model.deleteContent(o.selection)},{priority:"low"})}}class DS{constructor(e,o=20){this._batch=null,this.model=e,this._size=0,this.limit=o,this._isLocked=!1,this._changeCallback=(a,d)=>{d.isLocal&&d.isUndoable&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class r8 extends Vt{constructor(e,o){super(e),this._buffer=new DS(e.model,o),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const o=this.editor.model,a=o.document,d=e.text||"",p=d.length;let y=a.selection;if(e.selection?y=e.selection:e.range&&(y=o.createSelection(e.range)),!o.canEditAt(y))return;const w=e.resultRange;o.enqueueChange(this._buffer.batch,A=>{this._buffer.lock(),o.deleteContent(y),d&&o.insertContent(A.createText(d,a.selection.getAttributes()),y),w?A.setSelection(w):y.is("documentSelection")||A.setSelection(y),this._buffer.unlock(),this._buffer.input(p)})}}const MS=["insertText","insertReplacementText"];class n8 extends Ln{constructor(e){super(e),this.focusObserver=e.getObserver(Uh),C.isAndroid&&MS.push("insertCompositionText");const o=e.document;o.on("beforeinput",(a,d)=>{if(!this.isEnabled)return;const{data:p,targetRanges:y,inputType:w,domEvent:A}=d;if(!MS.includes(w))return;this.focusObserver.flush();const j=new U(o,"insertText");o.fire(j,new Il(e,A,{text:p,selection:e.createSelection(y)})),j.stop.called&&a.stop()}),o.on("compositionend",(a,{data:d,domEvent:p})=>{this.isEnabled&&!C.isAndroid&&d&&o.fire("insertText",new Il(e,p,{text:d,selection:o.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class TS extends Ge{static get pluginName(){return"Input"}init(){const e=this.editor,o=e.model,a=e.editing.view,d=o.document.selection;a.addObserver(n8);const p=new r8(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",p),e.commands.add("input",p),this.listenTo(a.document,"insertText",(y,w)=>{a.document.isComposing||w.preventDefault();const{text:A,selection:j,resultRange:D}=w,I=Array.from(j.getRanges()).map(X=>e.editing.mapper.toModelRange(X));let z=A;if(C.isAndroid){const X=Array.from(I[0].getItems()).reduce((re,de)=>re+(de.is("$textProxy")?de.data:""),"");X&&(X.length<=z.length?z.startsWith(X)&&(z=z.substring(X.length),I[0].start=I[0].start.getShiftedBy(X.length)):X.startsWith(z)&&(I[0].start=I[0].start.getShiftedBy(z.length),z=""))}const W={text:z,selection:o.createSelection(I)};D&&(W.resultRange=e.editing.mapper.toModelRange(D)),e.execute("insertText",W),a.scrollToTheSelection()}),C.isAndroid?this.listenTo(a.document,"keydown",(y,w)=>{!d.isCollapsed&&w.keyCode==229&&a.document.isComposing&&IS(o,p)}):this.listenTo(a.document,"compositionstart",()=>{d.isCollapsed||IS(o,p)})}}function IS(c,e){if(!e.isEnabled)return;const o=e.buffer;o.lock(),c.enqueueChange(o.batch,()=>{c.deleteContent(c.document.selection)}),o.unlock()}class RS extends Vt{constructor(e,o){super(e),this.direction=o,this._buffer=new DS(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const o=this.editor.model,a=o.document;o.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const p=d.createSelection(e.selection||a.selection);if(!o.canEditAt(p))return;const y=e.sequence||1,w=p.isCollapsed;if(p.isCollapsed&&o.modifySelection(p,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(y))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(p,y))return void this.editor.execute("paragraph",{selection:p});if(p.isCollapsed)return;let A=0;p.getFirstRange().getMinimalFlatRanges().forEach(j=>{A+=Yr(j.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(p,{doNotResetEntireContent:w,direction:this.direction}),this._buffer.input(A),d.setSelection(p),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const o=this.editor.model,a=o.document.selection,d=o.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(d))||!o.schema.checkChild(d,"paragraph"))return!1;const p=d.getChild(0);return!p||!p.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const o=this.editor.model,a=o.document.selection,d=o.schema.getLimitElement(a),p=e.createElement("paragraph");e.remove(e.createRangeIn(d)),e.insert(p,d),e.setSelection(p,0)}_shouldReplaceFirstBlockWithParagraph(e,o){const a=this.editor.model;if(o>1||this.direction!="backward"||!e.isCollapsed)return!1;const d=e.getFirstPosition(),p=a.schema.getLimitElement(d),y=p.getChild(0);return d.parent==y&&!!e.containsEntireContent(y)&&!!a.schema.checkChild(p,"paragraph")&&y.name!="paragraph"}}const PS="word",xu="selection",gf="backward",ay="forward",OS={deleteContent:{unit:xu,direction:gf},deleteContentBackward:{unit:"codePoint",direction:gf},deleteWordBackward:{unit:PS,direction:gf},deleteHardLineBackward:{unit:xu,direction:gf},deleteSoftLineBackward:{unit:xu,direction:gf},deleteContentForward:{unit:"character",direction:ay},deleteWordForward:{unit:PS,direction:ay},deleteHardLineForward:{unit:xu,direction:ay},deleteSoftLineForward:{unit:xu,direction:ay}};class s8 extends Ln{constructor(e){super(e);const o=e.document;let a=0;o.on("keydown",()=>{a++}),o.on("keyup",()=>{a=0}),o.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;const{targetRanges:y,domEvent:w,inputType:A}=p,j=OS[A];if(!j)return;const D={direction:j.direction,unit:j.unit,sequence:a};D.unit==xu&&(D.selectionToRemove=e.createSelection(y[0])),A==="deleteContentBackward"&&(C.isAndroid&&(D.sequence=1),function(z){if(z.length!=1||z[0].isCollapsed)return!1;const W=z[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let X=0;for(const{nextPosition:re}of W){if(re.parent.is("$text")){const de=re.parent.data,fe=re.offset;if(Hi(de,fe)||mi(de,fe)||gp(de,fe))continue;X++}else X++;if(X>1)return!0}return!1}(y)&&(D.unit=xu,D.selectionToRemove=e.createSelection(y)));const I=new Kr(o,"delete",y[0]);o.fire(I,new Il(e,w,D)),I.stop.called&&d.stop()}),C.isBlink&&function(d){const p=d.view,y=p.document;let w=null,A=!1;function j(I){return I==tr.backspace||I==tr.delete}function D(I){return I==tr.backspace?gf:ay}y.on("keydown",(I,{keyCode:z})=>{w=z,A=!1}),y.on("keyup",(I,{keyCode:z,domEvent:W})=>{const X=y.selection,re=d.isEnabled&&z==w&&j(z)&&!X.isCollapsed&&!A;if(w=null,re){const de=X.getFirstRange(),fe=new Kr(y,"delete",de),we={unit:xu,direction:D(z),selectionToRemove:X};y.fire(fe,new Il(p,W,we))}}),y.on("beforeinput",(I,{inputType:z})=>{const W=OS[z];j(w)&&W&&W.direction==D(w)&&(A=!0)},{priority:"high"}),y.on("beforeinput",(I,{inputType:z,data:W})=>{w==tr.delete&&z=="insertText"&&W==""&&I.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Wc extends Ge{static get pluginName(){return"Delete"}init(){const e=this.editor,o=e.editing.view,a=o.document,d=e.model.document;o.addObserver(s8),this._undoOnBackspace=!1;const p=new RS(e,"forward");e.commands.add("deleteForward",p),e.commands.add("forwardDelete",p),e.commands.add("delete",new RS(e,"backward")),this.listenTo(a,"delete",(y,w)=>{a.isComposing||w.preventDefault();const{direction:A,sequence:j,selectionToRemove:D,unit:I}=w,z=A==="forward"?"deleteForward":"delete",W={sequence:j};if(I=="selection"){const X=Array.from(D.getRanges()).map(re=>e.editing.mapper.toModelRange(re));W.selection=e.model.createSelection(X)}else W.unit=I;e.execute(z,W),o.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(y,w)=>{this._undoOnBackspace&&w.direction=="backward"&&w.sequence==1&&w.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),w.preventDefault(),y.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class o8 extends Ge{static get requires(){return[TS,Wc]}static get pluginName(){return"Typing"}}function BS(c,e){let o=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((a,{item:d})=>d.is("$text")||d.is("$textProxy")?a+d.data:(o=e.createPositionAfter(d),""),""),range:e.createRange(o,c.end)}}class LS extends nt(){constructor(e,o){super(),this.model=e,this.testCallback=o,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(o,{directChange:a})=>{a&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(o,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(e,o={}){const a=this.model,d=a.document.selection,p=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:y,range:w}=BS(p,a),A=this.testCallback(y);if(!A&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!A,A){const j=Object.assign(o,{text:y,range:w});typeof A=="object"&&Object.assign(j,A),this.fire(`matched:${e}`,j)}}}class zS extends Ge{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,o=e.model,a=e.editing.view,d=e.locale,p=o.document.selection;this.listenTo(a.document,"arrowKey",(y,w)=>{if(!p.isCollapsed||w.shiftKey||w.altKey||w.ctrlKey)return;const A=w.keyCode==tr.arrowright,j=w.keyCode==tr.arrowleft;if(!A&&!j)return;const D=d.contentLanguageDirection;let I=!1;I=D==="ltr"&&A||D==="rtl"&&j?this._handleForwardMovement(w):this._handleBackwardMovement(w),I===!0&&y.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(p,"change:range",(y,w)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!w.directChange&&J0(p.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const o=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!MC(a,o))&&!!J0(d,o)&&(Q0(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const o=this.attributes,a=this.editor.model,d=a.document.selection,p=d.getFirstPosition();return this._isGravityOverridden?(Q0(e),this._restoreGravity(),TC(a,o,p),!0):p.isAtStart?!!MC(d,o)&&(Q0(e),TC(a,o,p),!0):!!function(y,w){const A=y.getShiftedBy(-1);return J0(A,w)}(p,o)&&(p.isAtEnd&&!MC(d,o)&&J0(p,o)?(Q0(e),TC(a,o,p),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function MC(c,e){for(const o of e)if(c.hasAttribute(o))return!0;return!1}function TC(c,e,o){const a=o.nodeBefore;c.change(d=>{if(a){const p=[],y=c.schema.isObject(a)&&c.schema.isInline(a);for(const[w,A]of a.getAttributes())!c.schema.checkAttribute("$text",w)||y&&c.schema.getAttributeProperties(w).copyFromObject===!1||p.push([w,A]);d.setSelectionAttribute(p)}else d.removeSelectionAttribute(e)})}function Q0(c){c.preventDefault()}function J0(c,e){const{nodeBefore:o,nodeAfter:a}=c;for(const d of e){const p=o?o.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==p)return!0}return!1}var FS=/[\\^$.*+?()[\]{}|]/g,i8=RegExp(FS.source);const a8=function(c){return(c=Ep(c))&&i8.test(c)?c.replace(FS,"\\$&"):c},VS={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:bf('"'),to:[null,"",null,""]},quotesSecondary:{from:bf("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:bf("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:bf('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:bf('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:bf("'"),to:[null,"",null,""]}},US={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},l8=["symbols","mathematical","typography","quotes"];function c8(c){return typeof c=="string"?new RegExp(`(${a8(c)})$`):c}function d8(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function u8(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function bf(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function yf(c,e,o,a){return a.createRange(GS(c,e,o,!0,a),GS(c,e,o,!1,a))}function GS(c,e,o,a,d){let p=c.textNode||(a?c.nodeBefore:c.nodeAfter),y=null;for(;p&&p.getAttribute(e)==o;)y=p,p=a?p.previousSibling:p.nextSibling;return y?d.createPositionAt(y,a?"before":"after"):c}function*HS(c,e){for(const o of e)o&&c.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class h8 extends Vt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const o=this.editor.model,a=o.document.selection,d=o.schema,p=a.isCollapsed,y=a.getFirstRange(),w=y.start.parent,A=y.end.parent;if(d.isLimit(w)||d.isLimit(A))return p||w!=A||o.deleteContent(a),!1;if(p){const j=HS(e.model.schema,a.getAttributes());return qS(e,y.start),e.setSelectionAttribute(j),!0}{const j=!(y.start.isAtStart&&y.end.isAtEnd),D=w==A;if(o.deleteContent(a,{leaveUnmerged:j}),j){if(D)return qS(e,a.focus),!0;e.setSelection(A,0)}}return!1}}function qS(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const m8={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class YS extends Ln{constructor(e){super(e);const o=this.document;let a=!1;o.on("keydown",(d,p)=>{a=p.shiftKey}),o.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;let y=p.inputType;C.isSafari&&a&&y=="insertParagraph"&&(y="insertLineBreak");const w=p.domEvent,A=m8[y];if(!A)return;const j=new Kr(o,"enter",p.targetRanges[0]);o.fire(j,new Il(e,w,{isSoft:A.isSoft})),j.stop.called&&d.stop()})}observe(){}stopObserving(){}}class X0 extends Ge{static get pluginName(){return"Enter"}init(){const e=this.editor,o=e.editing.view,a=o.document;o.addObserver(YS),e.commands.add("enter",new h8(e)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(e.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class p8 extends Vt{execute(){const e=this.editor.model,o=e.document;e.change(a=>{(function(d,p,y){const w=y.isCollapsed,A=y.getFirstRange(),j=A.start.parent,D=A.end.parent,I=j==D;if(w){const z=HS(d.schema,y.getAttributes());WS(d,p,A.end),p.removeSelectionAttribute(y.getAttributeKeys()),p.setSelectionAttribute(z)}else{const z=!(A.start.isAtStart&&A.end.isAtEnd);d.deleteContent(y,{leaveUnmerged:z}),I?WS(d,p,y.focus):z&&p.setSelection(D,0)}})(e,a,o.selection),this.fire("afterExecute",{writer:a})})}refresh(){const e=this.editor.model,o=e.document;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const p=d.anchor;if(!p||!a.checkChild(p,"softBreak"))return!1;const y=d.getFirstRange(),w=y.start.parent,A=y.end.parent;return!((IC(w,a)||IC(A,a))&&w!==A)}(e.schema,o.selection)}}function WS(c,e,o){const a=e.createElement("softBreak");c.insertContent(a,o),e.setSelection(a,"after")}function IC(c,e){return!c.is("rootElement")&&(e.isLimit(c)||IC(c.parent,e))}class f8 extends Ge{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,o=e.model.schema,a=e.conversion,d=e.editing.view,p=d.document;o.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(y,{writer:w})=>w.createEmptyElement("br")}),d.addObserver(YS),e.commands.add("shiftEnter",new p8(e)),this.listenTo(p,"enter",(y,w)=>{p.isComposing||w.preventDefault(),w.isSoft&&(e.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class g8 extends oe(){constructor(){super(...arguments),this._stack=[]}add(e,o){const a=this._stack,d=a[0];this._insertDescriptor(e);const p=a[0];d===p||RC(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:o})}remove(e,o){const a=this._stack,d=a[0];this._removeDescriptor(e);const p=a[0];d===p||RC(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:o})}_insertDescriptor(e){const o=this._stack,a=o.findIndex(p=>p.id===e.id);if(RC(e,o[a]))return;a>-1&&o.splice(a,1);let d=0;for(;o[d]&&b8(o[d],e);)d++;o.splice(d,0,e)}_removeDescriptor(e){const o=this._stack,a=o.findIndex(d=>d.id===e);a>-1&&o.splice(a,1)}}function RC(c,e){return c&&e&&c.priority==e.priority&&$0(c.classes)==$0(e.classes)}function b8(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&$0(c.classes)>$0(e.classes)}function $0(c){return Array.isArray(c)?c.sort().join(","):c}const y8='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',x8="ck-widget",KS="ck-widget_selected";function yn(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function PC(c,e,o={}){if(!c.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(x8,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=k8,e.setCustomProperty("widgetLabel",[],c),o.label&&function(a,d){a.getCustomProperty("widgetLabel").push(d)}(c,o.label),o.hasSelectionHandle&&function(a,d){const p=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(y){const w=this.toDomElement(y),A=new qi;return A.set("content",y8),A.render(),w.appendChild(A.element),w});d.insert(d.createPositionAt(a,0),p),d.addClass(["ck-widget_with-selection-handle"],a)}(c,e),QS(c,e),c}function v8(c,e,o){if(e.classes&&o.addClass(Sn(e.classes),c),e.attributes)for(const a in e.attributes)o.setAttribute(a,e.attributes[a],c)}function w8(c,e,o){if(e.classes&&o.removeClass(Sn(e.classes),c),e.attributes)for(const a in e.attributes)o.removeAttribute(a,c)}function QS(c,e,o=v8,a=w8){const d=new g8;d.on("change:top",(p,y)=>{y.oldDescriptor&&a(c,y.oldDescriptor,y.writer),y.newDescriptor&&o(c,y.newDescriptor,y.writer)}),e.setCustomProperty("addHighlight",(p,y,w)=>d.add(y,w),c),e.setCustomProperty("removeHighlight",(p,y,w)=>d.remove(y,w),c)}function JS(c,e,o={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),o.label&&e.setAttribute("aria-label",o.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(a,d,p)=>{e.setAttribute("contenteditable",p?"false":"true",c)}),c.on("change:isFocused",(a,d,p)=>{p?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),QS(c,e),c}function XS(c,e){const o=c.getSelectedElement();if(o){const a=vu(c);if(a)return e.createRange(e.createPositionAt(o,a))}return yu(c,e)}function k8(){return null}const Kc="widget-type-around";function hm(c,e,o){return!!c&&yn(c)&&!o.isInline(e)}function vu(c){return c.getAttribute(Kc)}var $S=l(4921),C8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()($S.Z,C8),$S.Z.locals;const ZS=["before","after"],_8=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,eE="ck-widget__type-around_disabled";class A8 extends Ge{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[X0,Wc]}init(){const e=this.editor,o=e.editing.view;this.on("change:isEnabled",(a,d,p)=>{o.change(y=>{for(const w of o.document.roots)p?y.removeClass(eE,w):y.addClass(eE,w)}),p||e.model.change(y=>{y.removeSelectionAttribute(Kc)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,o){const a=this.editor,d=a.editing.view,p=a.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(e,o),attributes:p}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(e,o,a,d){this.listenTo(e,o,(...p)=>{this.isEnabled&&a(...p)},d)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,o=vu(e);if(!o)return!1;const a=e.getSelectedElement();return this._insertParagraph(a,o),!0}_enableTypeAroundUIInjection(){const e=this.editor,o=e.model.schema,a=e.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(p,y,w)=>{const A=w.mapper.toViewElement(y.item);A&&hm(A,y.item,o)&&(function(j,D,I){const z=j.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(W){const X=this.toDomElement(W);return function(re,de){for(const fe of ZS){const we=new pi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${fe}`],title:de[fe],"aria-hidden":"true"},children:[re.ownerDocument.importNode(_8,!0)]});re.appendChild(we.render())}}(X,D),function(re){const de=new pi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});re.appendChild(de.render())}(X),X});j.insert(j.createPositionAt(I,"end"),z)}(w.writer,d,A),A.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,o=e.model,a=o.document.selection,d=o.schema,p=e.editing.view;function y(w){return`ck-widget_type-around_show-fake-caret_${w}`}this._listenToIfEnabled(p.document,"arrowKey",(w,A)=>{this._handleArrowKeyPress(w,A)},{context:[yn,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(w,A)=>{A.directChange&&e.model.change(j=>{j.removeSelectionAttribute(Kc)})}),this._listenToIfEnabled(o.document,"change:data",()=>{const w=a.getSelectedElement();w&&hm(e.editing.mapper.toViewElement(w),w,d)||e.model.change(A=>{A.removeSelectionAttribute(Kc)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(w,A,j)=>{const D=j.writer;if(this._currentFakeCaretModelElement){const X=j.mapper.toViewElement(this._currentFakeCaretModelElement);X&&(D.removeClass(ZS.map(y),X),this._currentFakeCaretModelElement=null)}const I=A.selection.getSelectedElement();if(!I)return;const z=j.mapper.toViewElement(I);if(!hm(z,I,d))return;const W=vu(A.selection);W&&(D.addClass(y(W),z),this._currentFakeCaretModelElement=I)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(w,A,j)=>{j||e.model.change(D=>{D.removeSelectionAttribute(Kc)})})}_handleArrowKeyPress(e,o){const a=this.editor,d=a.model,p=d.document.selection,y=d.schema,w=a.editing.view,A=function(I,z){const W=Oo(I,z);return W==="down"||W==="right"}(o.keyCode,a.locale.contentLanguageDirection),j=w.document.selection.getSelectedElement();let D;hm(j,a.editing.mapper.toModelElement(j),y)?D=this._handleArrowKeyPressOnSelectedWidget(A):p.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(A):o.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(A)),D&&(o.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const o=this.editor.model,a=vu(o.document.selection);return o.change(d=>a?a!==(e?"after":"before")?(d.removeSelectionAttribute(Kc),!0):!1:(d.setSelectionAttribute(Kc,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const o=this.editor,a=o.model,d=a.schema,p=o.plugins.get("Widget"),y=p._getObjectElementNextToSelection(e);return!!hm(o.editing.mapper.toViewElement(y),y,d)&&(a.change(w=>{p._setSelectionOverElement(y),w.setSelectionAttribute(Kc,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const o=this.editor,a=o.model,d=a.schema,p=o.editing.mapper,y=a.document.selection,w=e?y.getLastPosition().nodeBefore:y.getFirstPosition().nodeAfter;return!!hm(p.toViewElement(w),w,d)&&(a.change(A=>{A.setSelection(w,"on"),A.setSelectionAttribute(Kc,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,o=e.editing.view;this._listenToIfEnabled(o.document,"mousedown",(a,d)=>{const p=d.domTarget.closest(".ck-widget__type-around__button");if(!p)return;const y=function(j){return j.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(p),w=function(j,D){const I=j.closest(".ck-widget");return D.mapDomToView(I)}(p,o.domConverter),A=e.editing.mapper.toModelElement(w);this._insertParagraph(A,y),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,o=e.model.document.selection,a=e.editing.view;this._listenToIfEnabled(a.document,"enter",(d,p)=>{if(d.eventPhase!="atTarget")return;const y=o.getSelectedElement(),w=e.editing.mapper.toViewElement(y),A=e.model.schema;let j;this._insertParagraphAccordingToFakeCaretPosition()?j=!0:hm(w,y,A)&&(this._insertParagraph(y,p.isSoft?"before":"after"),j=!0),j&&(p.preventDefault(),d.stop())},{context:yn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(o,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=e.selection)},{priority:"high"}),C.isAndroid?this._listenToIfEnabled(e,"keydown",(o,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,o=e.editing.view,a=e.model,d=a.schema;this._listenToIfEnabled(o.document,"delete",(p,y)=>{if(p.eventPhase!="atTarget")return;const w=vu(a.document.selection);if(!w)return;const A=y.direction,j=a.document.selection.getSelectedElement(),D=A=="forward";if(w==="before"===D)e.execute("delete",{selection:a.createSelection(j,"on")});else{const I=d.getNearestSelectionRange(a.createPositionAt(j,w),A);if(I)if(I.isCollapsed){const z=a.createSelection(I.start);if(a.modifySelection(z,{direction:A}),z.focus.isEqual(I.start)){const W=function(X,re){let de=re;for(const fe of re.getAncestors({parentFirst:!0})){if(fe.childCount>1||X.isLimit(fe))break;de=fe}return de}(d,I.start.parent);a.deleteContent(a.createSelection(W,"on"),{doNotAutoparagraph:!0})}else a.change(W=>{W.setSelection(I),e.execute(D?"deleteForward":"delete")})}else a.change(z=>{z.setSelection(I),e.execute(D?"deleteForward":"delete")})}y.preventDefault(),p.stop()},{context:yn})}_enableInsertContentIntegration(){const e=this.editor,o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(e.model,"insertContent",(d,[p,y])=>{if(y&&!y.is("documentSelection"))return;const w=vu(a);return w?(d.stop(),o.change(A=>{const j=a.getSelectedElement(),D=o.createPositionAt(j,w),I=A.createSelection(D),z=o.insertContent(p,I);return A.setSelection(I),z})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(a,d)=>{const[,p,y={}]=d;if(p&&!p.is("documentSelection"))return;const w=vu(o);w&&(y.findOptimalPosition=w,d[3]=y)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(a,[d])=>{d&&!d.is("documentSelection")||vu(o)&&a.stop()},{priority:"high"})}}function N8(c){const e=c.model;return(o,a)=>{const d=a.keyCode==tr.arrowup,p=a.keyCode==tr.arrowdown,y=a.shiftKey,w=e.document.selection;if(!d&&!p)return;const A=p;if(y&&function(D,I){return!D.isCollapsed&&D.isBackward==I}(w,A))return;const j=function(D,I,z){const W=D.model;if(z){const X=I.isCollapsed?I.focus:I.getLastPosition(),re=tE(W,X,"forward");if(!re)return null;const de=W.createRange(X,re),fe=rE(W.schema,de,"backward");return fe?W.createRange(X,fe):null}{const X=I.isCollapsed?I.focus:I.getFirstPosition(),re=tE(W,X,"backward");if(!re)return null;const de=W.createRange(re,X),fe=rE(W.schema,de,"forward");return fe?W.createRange(fe,X):null}}(c,w,A);if(j){if(j.isCollapsed&&(w.isCollapsed||y))return;(j.isCollapsed||function(D,I,z){const W=D.model,X=D.view.domConverter;if(z){const Fe=W.createSelection(I.start);W.modifySelection(Fe),Fe.focus.isAtEnd||I.start.isEqual(Fe.focus)||(I=W.createRange(Fe.focus,I.end))}const re=D.mapper.toViewRange(I),de=X.viewRangeToDom(re),fe=_r.getDomRangeRects(de);let we;for(const Fe of fe)if(we!==void 0){if(Math.round(Fe.top)>=we)return!1;we=Math.max(we,Math.round(Fe.bottom))}else we=Math.round(Fe.bottom);return!0}(c,j,A))&&(e.change(D=>{const I=A?j.end:j.start;if(y){const z=e.createSelection(w.anchor);z.setFocus(I),D.setSelection(z)}else D.setSelection(I)}),o.stop(),a.preventDefault(),a.stopPropagation())}}}function tE(c,e,o){const a=c.schema,d=c.createRangeIn(e.root),p=o=="forward"?"elementStart":"elementEnd";for(const{previousPosition:y,item:w,type:A}of d.getWalker({startPosition:e,direction:o})){if(a.isLimit(w)&&!a.isInline(w))return y;if(A==p&&a.isBlock(w))return null}return null}function rE(c,e,o){const a=o=="backward"?e.end:e.start;if(c.checkChild(a,"$text"))return a;for(const{nextPosition:d}of e.getWalker({direction:o}))if(c.checkChild(d,"$text"))return d;return null}var nE=l(3488),j8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(nE.Z,j8),nE.Z.locals;class ly extends Ge{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[A8,Wc]}init(){const e=this.editor,o=e.editing.view,a=o.document;this.editor.editing.downcastDispatcher.on("selection",(d,p,y)=>{const w=y.writer,A=p.selection;if(A.isCollapsed)return;const j=A.getSelectedElement();if(!j)return;const D=e.editing.mapper.toViewElement(j);var I;yn(D)&&y.consumable.consume(A,"selection")&&w.setSelection(w.createRangeOn(D),{fake:!0,label:(I=D,I.getCustomProperty("widgetLabel").reduce((z,W)=>typeof W=="function"?z?z+". "+W():W():z?z+". "+W:W,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,y)=>{this._clearPreviouslySelectedWidgets(y.writer);const w=y.writer,A=w.document.selection;let j=null;for(const D of A.getRanges())for(const I of D){const z=I.item;yn(z)&&!S8(z,j)&&(w.addClass(KS,z),this._previouslySelected.add(z),j=z)}},{priority:"low"}),o.addObserver(um),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[yn,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",N8(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(e,o){const a=this.editor,d=a.editing.view,p=d.document;let y=o.target;if(function(A){let j=A;for(;j;){if(j.is("editableElement")&&!j.is("rootElement"))return!0;if(yn(j))return!1;j=j.parent}return!1}(y)){if((C.isSafari||C.isGecko)&&o.domEvent.detail>=3){const A=a.editing.mapper,j=y.is("attributeElement")?y.findAncestor(I=>!I.is("attributeElement")):y,D=A.toModelElement(j);o.preventDefault(),this.editor.model.change(I=>{I.setSelection(D,"in")})}return}if(!yn(y)&&(y=y.findAncestor(yn),!y))return;C.isAndroid&&o.preventDefault(),p.isFocused||d.focus();const w=a.editing.mapper.toModelElement(y);this._setSelectionOverElement(w)}_handleSelectionChangeOnArrowKeyPress(e,o){const a=o.keyCode,d=this.editor.model,p=d.schema,y=d.document.selection,w=y.getSelectedElement(),A=Oo(a,this.editor.locale.contentLanguageDirection),j=A=="down"||A=="right",D=A=="up"||A=="down";if(w&&p.isObject(w)){const z=j?y.getLastPosition():y.getFirstPosition(),W=p.getNearestSelectionRange(z,j?"forward":"backward");return void(W&&(d.change(X=>{X.setSelection(W)}),o.preventDefault(),e.stop()))}if(!y.isCollapsed&&!o.shiftKey){const z=y.getFirstPosition(),W=y.getLastPosition(),X=z.nodeAfter,re=W.nodeBefore;return void((X&&p.isObject(X)||re&&p.isObject(re))&&(d.change(de=>{de.setSelection(j?W:z)}),o.preventDefault(),e.stop()))}if(!y.isCollapsed)return;const I=this._getObjectElementNextToSelection(j);if(I&&p.isObject(I)){if(p.isInline(I)&&D)return;this._setSelectionOverElement(I),o.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,o){const a=this.editor.model,d=a.schema,p=a.document.selection.getSelectedElement();p&&d.isObject(p)&&(o.preventDefault(),e.stop())}_handleDelete(e){const o=this.editor.model.document.selection;if(!this.editor.model.canEditAt(o)||!o.isCollapsed)return;const a=this._getObjectElementNextToSelection(e);return a?(this.editor.model.change(d=>{let p=o.anchor.parent;for(;p.isEmpty;){const y=p;p=y.parent,d.remove(y)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(e))})}_getObjectElementNextToSelection(e){const o=this.editor.model,a=o.schema,d=o.document.selection,p=o.createSelection(d);if(o.modifySelection(p,{direction:e?"forward":"backward"}),p.isEqual(d))return null;const y=e?p.focus.nodeBefore:p.focus.nodeAfter;return y&&a.isObject(y)?y:null}_clearPreviouslySelectedWidgets(e){for(const o of this._previouslySelected)e.removeClass(KS,o);this._previouslySelected.clear()}}function S8(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class Z0 extends Ge{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[q0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const o=e.plugins.get("BalloonToolbar");this.listenTo(o,"show",a=>{(function(d){const p=d.getSelectedElement();return!(!p||!yn(p))})(e.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:o,items:a,getRelatedElement:d,balloonClassName:p="ck-toolbar-container"}){if(!a.length)return void Y("widget-toolbar-no-items",{toolbarId:e});const y=this.editor,w=y.t,A=new ce(y.locale);if(A.ariaLabel=o||w("Widget toolbar"),this._toolbarDefinitions.has(e))throw new B("widget-toolbar-duplicated",this,{toolbarId:e});const j={view:A,getRelatedElement:d,balloonClassName:p,itemsConfig:a,initialized:!1};y.ui.addToolbar(A,{isContextual:!0,beforeFocus:()=>{const D=d(y.editing.view.document.selection);D&&this._showToolbar(j,D)},afterBlur:()=>{this._hideToolbar(j)}}),this._toolbarDefinitions.set(e,j)}_updateToolbarsVisibility(){let e=0,o=null,a=null;for(const d of this._toolbarDefinitions.values()){const p=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&p)if(this.editor.ui.focusTracker.isFocused){const y=p.getAncestors().length;y>e&&(e=y,o=p,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,o)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,o){this._isToolbarVisible(e)?sE(this.editor,o):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:oE(this.editor,o),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);sE(this.editor,d)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function sE(c,e){const o=c.plugins.get("ContextualBalloon"),a=oE(c,e);o.updatePosition(a)}function oE(c,e){const o=c.editing.view,a=qo.defaultPositions;return{target:o.domConverter.mapViewToDom(e),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var iE=l(8506),E8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(iE.Z,E8),iE.Z.locals;var aE=l(903),D8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(aE.Z,D8),aE.Z.locals;class M8 extends Ge{static get pluginName(){return"DragDrop"}static get requires(){return[Ll,ly]}init(){const e=this.editor,o=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=NC(a=>this._updateDropMarker(a),40),this._removeDropMarkerDelayed=hi(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=hi(()=>this._clearDraggableAttributes(),40),e.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(o.addObserver(DC),o.addObserver(um),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(a,d,p)=>{p?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,p)=>{p||this._finalizeDragging(!1)}),C.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,o=e.model,a=o.document,d=e.editing.view,p=d.document;this.listenTo(p,"dragstart",(y,w)=>{const A=a.selection;if(w.target&&w.target.is("editableElement"))return void w.preventDefault();const j=w.target?dE(w.target):null;if(j){const W=e.editing.mapper.toModelElement(j);this._draggedRange=Uo.fromRange(o.createRangeOn(W)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!p.selection.isCollapsed){const W=p.selection.getSelectedElement();W&&yn(W)||(this._draggedRange=Uo.fromRange(A.getFirstRange()))}if(!this._draggedRange)return void w.preventDefault();this._draggingUid=q();const D=this.isEnabled&&e.model.canEditAt(this._draggedRange);w.dataTransfer.effectAllowed=D?"copyMove":"copy",w.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const I=o.createSelection(this._draggedRange.toRange()),z=e.data.toView(o.getSelectedContent(I));p.fire("clipboardOutput",{dataTransfer:w.dataTransfer,content:z,method:"dragstart"}),D||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(p,"dragend",(y,w)=>{this._finalizeDragging(!w.dataTransfer.isCanceled&&w.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(p,"dragenter",()=>{this.isEnabled&&d.focus()}),this.listenTo(p,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(p,"dragging",(y,w)=>{if(!this.isEnabled)return void(w.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const A=lE(e,w.targetRanges,w.target);e.model.canEditAt(A)?(this._draggedRange||(w.dataTransfer.dropEffect="copy"),C.isGecko||(w.dataTransfer.effectAllowed=="copy"?w.dataTransfer.dropEffect="copy":["all","copyMove"].includes(w.dataTransfer.effectAllowed)&&(w.dataTransfer.dropEffect="move")),A&&this._updateDropMarkerThrottled(A)):w.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"clipboardInput",(a,d)=>{if(d.method!="drop")return;const p=lE(e,d.targetRanges,d.target);if(this._removeDropMarker(),!p||!e.model.canEditAt(p))return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),cE(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(p,!0))return this._finalizeDragging(!1),void a.stop();d.targetRanges=[e.editing.mapper.toViewRange(p)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ll);e.on("contentInsertion",(o,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=a.targetRanges.map(p=>this.editor.editing.mapper.toModelRange(p));this.editor.model.change(p=>p.setSelection(d))},{priority:"high"}),e.on("contentInsertion",(o,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=cE(a.dataTransfer)=="move",p=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(p&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,o=e.editing.view,a=o.document;this.listenTo(a,"mousedown",(d,p)=>{if(C.isAndroid||!p)return;this._clearDraggableAttributesDelayed.cancel();let y=dE(p.target);if(C.isBlink&&!y&&!a.selection.isCollapsed){const w=a.selection.getSelectedElement();if(!w||!yn(w)){const A=a.selection.editableElement;A&&!A.isReadOnly&&(y=A)}}y&&(o.change(w=>{w.setAttribute("draggable","true",y)}),this._draggableElement=e.editing.mapper.toModelElement(y))}),this.listenTo(a,"mouseup",()=>{C.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(o=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&o.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:a})=>{if(e.model.schema.checkChild(o.markerRange.start,"$text"))return a.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const p=this.toDomElement(d);return p.append("",d.createElement("span"),""),p})}})}_updateDropMarker(e){const o=this.editor,a=o.model.markers;o.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(e)||d.updateMarker("drop-target",{range:e}):d.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(o=>{o.removeMarker("drop-target")})}_finalizeDragging(e){const o=this.editor,a=o.model;this._removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&a.deleteContent(a.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function lE(c,e,o){const a=c.model,d=c.editing.mapper;let p=null;const y=e?e[0].start:null;if(o.is("uiElement")&&(o=o.parent),p=function(j,D){const I=j.model,z=j.editing.mapper;if(yn(D))return I.createRangeOn(z.toModelElement(D));if(!D.is("editableElement")){const W=D.findAncestor(X=>yn(X)||X.is("editableElement"));if(yn(W))return I.createRangeOn(z.toModelElement(W))}return null}(c,o),p)return p;const w=function(j,D){const I=j.editing.mapper,z=j.editing.view,W=I.toModelElement(D);if(W)return W;const X=z.createPositionBefore(D),re=I.findMappedViewAncestor(X);return I.toModelElement(re)}(c,o),A=y?d.toModelPosition(y):null;return A?(p=function(j,D,I){const z=j.model;if(!z.schema.checkChild(I,"$block"))return null;const W=z.createPositionAt(I,0),X=D.path.slice(0,W.path.length),re=z.createPositionFromPath(D.root,X),de=re.nodeAfter;return de&&z.schema.isObject(de)?z.createRangeOn(de):null}(c,A,w),p||(p=a.schema.getNearestSelectionRange(A,C.isGecko?"forward":"backward"),p||function(j,D){const I=j.model;let z=D;for(;z;){if(I.schema.isObject(z))return I.createRangeOn(z);z=z.parent}return null}(c,A.parent))):function(j,D){const I=j.model,z=I.schema,W=I.createPositionAt(D,0);return z.getNearestSelectionRange(W,"forward")}(c,w)}function cE(c){return C.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function dE(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(yn);if(yn(c))return c;const e=c.findAncestor(o=>yn(o)||o.is("editableElement"));return yn(e)?e:null}class T8 extends Ge{static get pluginName(){return"PastePlainText"}static get requires(){return[Ll]}init(){const e=this.editor,o=e.model,a=e.editing.view,d=a.document,p=o.document.selection;let y=!1;a.addObserver(DC),this.listenTo(d,"keydown",(w,A)=>{y=A.shiftKey}),e.plugins.get(Ll).on("contentInsertion",(w,A)=>{(y||function(j,D){if(j.childCount>1)return!1;const I=j.getChild(0);return D.isObject(I)?!1:Array.from(I.getAttributeKeys()).length==0}(A.content,o.schema))&&o.change(j=>{const D=Array.from(p.getAttributes()).filter(([z])=>o.schema.getAttributeProperties(z).isFormatting);p.isCollapsed||o.deleteContent(p,{doNotAutoparagraph:!0}),D.push(...p.getAttributes());const I=j.createRangeIn(A.content);for(const z of I.getItems())z.is("$textProxy")&&j.setAttributes(D,z)})})}}class uE extends Ge{static get pluginName(){return"Clipboard"}static get requires(){return[Ll,M8,T8]}}class I8 extends Vt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,o=e.document.selection;let a=e.schema.getLimitElement(o);if(o.containsEntireContent(a)||!hE(e.schema,a))do if(a=a.parent,!a)return;while(!hE(e.schema,a));e.change(d=>{d.setSelection(a,"in")})}}function hE(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const R8=lr("Ctrl+A");class P8 extends Ge{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,o=e.editing.view.document;e.commands.add("selectAll",new I8(e)),this.listenTo(o,"keydown",(a,d)=>{Fr(d)===R8&&(e.execute("selectAll"),d.preventDefault())})}}class O8 extends Ge{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",o=>{const a=e.commands.get("selectAll"),d=new hr(o),p=o.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isEnabled").to(a,"isEnabled"),this.listenTo(d,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),d})}}class B8 extends Ge{static get requires(){return[P8,O8]}static get pluginName(){return"SelectAll"}}var L8=Object.defineProperty,mE=Object.getOwnPropertySymbols,z8=Object.prototype.hasOwnProperty,F8=Object.prototype.propertyIsEnumerable,pE=(c,e,o)=>e in c?L8(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class fE extends Vt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(o,a)=>{a[1]=((p,y)=>{for(var w in y||(y={}))z8.call(y,w)&&pE(p,w,y[w]);if(mE)for(var w of mE(y))F8.call(y,w)&&pE(p,w,y[w]);return p})({},a[1]);const d=a[1];d.batchType||(d.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(o,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const o=this.editor.model.document.selection,a={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:e,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,o,a){const d=this.editor.model,p=d.document,y=[],w=e.map(j=>j.getTransformedByOperations(a)),A=w.flat();for(const j of w){const D=j.filter(I=>I.root!=p.graveyard).filter(I=>!U8(I,A));D.length&&(V8(D),y.push(D[0]))}y.length&&d.change(j=>{j.setSelection(y,{backward:o})})}_undo(e,o){const a=this.editor.model,d=a.document;this._createdBatches.add(o);const p=e.operations.slice().filter(y=>y.isDocumentOperation);p.reverse();for(const y of p){const w=y.baseVersion+1,A=Array.from(d.history.getOperations(w)),j=Oa([y.getReversed()],A,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let D of j){const I=D.affectedSelectable;I&&!a.canEditAt(I)&&(D=new bn(D.baseVersion)),o.addOperation(D),a.applyOperation(D),d.history.setOperationAsUndone(y,D)}}}}function V8(c){c.sort((e,o)=>e.start.isBefore(o.start)?-1:1);for(let e=1;e<c.length;e++){const o=c[e-1].getJoined(c[e],!0);o&&(e--,c.splice(e,2,o))}}function U8(c,e){return e.some(o=>o!==c&&o.containsRange(c,!0))}class G8 extends fE{execute(e=null){const o=e?this._stack.findIndex(p=>p.batch==e):this._stack.length-1,a=this._stack.splice(o,1)[0],d=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const p=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,p)}),this.fire("revert",a.batch,d),this.refresh()}}class H8 extends fE{execute(){const e=this._stack.pop(),o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{const a=e.batch.operations[e.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(a);this._restoreSelection(e.selection.ranges,e.selection.isBackward,d),this._undo(e.batch,o)}),this.refresh()}}class q8 extends Ge{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new G8(e),this._redoCommand=new H8(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(o,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const p=d.batch,y=this._redoCommand.createdBatches.has(p),w=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(y?this._undoCommand.addBatch(p):w||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,a,d)=>{this._redoCommand.addBatch(d)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const gE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Y8 extends Ge{static get pluginName(){return"UndoUI"}init(){const e=this.editor,o=e.locale,a=e.t,d=o.uiLanguageDirection=="ltr"?gE:bE,p=o.uiLanguageDirection=="ltr"?bE:gE;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",p)}_addButton(e,o,a,d){const p=this.editor;p.ui.componentFactory.add(e,y=>{const w=p.commands.get(e),A=new hr(y);return A.set({label:o,icon:d,keystroke:a,tooltip:!0}),A.bind("isEnabled").to(w,"isEnabled"),this.listenTo(A,"execute",()=>{p.execute(e),p.editing.view.focus()}),A})}}class yE extends Ge{static get requires(){return[q8,Y8]}static get pluginName(){return"Undo"}}class W8 extends nt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const o=this._reader;return this.total=e.size,new Promise((a,d)=>{o.onload=()=>{const p=o.result;this._data=p,a(p)},o.onerror=()=>{d("error")},o.onabort=()=>{d("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Ga extends Ge{constructor(){super(...arguments),this.loaders=new Fs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[f]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,o)=>o?e/o*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Y("filerepository-no-upload-adapter"),null;const o=new xE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(e,o),e instanceof Promise&&o.file.then(a=>{this._loadersMap.set(a,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),o.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),o}destroyLoader(e){const o=e instanceof xE?e:this.getLoader(e);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((a,d)=>{a===o&&this._loadersMap.delete(d)})}_updatePendingAction(){const e=this.editor.plugins.get(f);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,a=d=>`${o("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=e.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else e.remove(this._pendingAction),this._pendingAction=null}}class xE extends nt(){constructor(e,o){super(),this.id=q(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=o(this),this._reader=new W8,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new B("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new B("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const o={};return o.promise=new Promise((a,d)=>{o.rejecter=d,o.isFulfilled=!1,e.then(p=>{o.isFulfilled=!0,a(p)}).catch(p=>{o.isFulfilled=!0,d(p)})}),o}}class K8 extends Wt{constructor(e){super(e),this.buttonView=new hr(e),this._fileInputView=new Q8(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Q8 extends Wt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const vE="ckCsrfToken",wE="abcdefghijklmnopqrstuvwxyz0123456789";function J8(){let c=function(a){a=a.toLowerCase();const d=document.cookie.split(";");for(const p of d){const y=p.split("=");if(decodeURIComponent(y[0].trim().toLowerCase())===a)return decodeURIComponent(y[1])}return null}(vE);var e,o;return c&&c.length==40||(c=function(a){let d="";const p=new Uint8Array(a);window.crypto.getRandomValues(p);for(let y=0;y<p.length;y++){const w=wE.charAt(p[y]%wE.length);d+=Math.random()>.5?w.toUpperCase():w}return d}(40),e=vE,o=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+";path=/"),c}class X8{constructor(e,o,a){this.loader=e,this.url=o,this.t=a}upload(){return this.loader.file.then(e=>new Promise((o,a)=>{this._initRequest(),this._initListeners(o,a,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,o,a){const d=this.xhr,p=this.loader,y=(0,this.t)("Cannot upload file:")+` ${a.name}.`;d.addEventListener("error",()=>o(y)),d.addEventListener("abort",()=>o()),d.addEventListener("load",()=>{const w=d.response;if(!w||!w.uploaded)return o(w&&w.error&&w.error.message?w.error.message:y);e({default:w.url})}),d.upload&&d.upload.addEventListener("progress",w=>{w.lengthComputable&&(p.uploadTotal=w.total,p.uploaded=w.loaded)})}_sendRequest(e){const o=new FormData;o.append("upload",e),o.append("ckCsrfToken",J8()),this.xhr.send(o)}}function wu(c,e,o,a){let d,p=null;typeof a=="function"?d=a:(p=c.commands.get(a),d=()=>{c.execute(a)}),c.model.document.on("change:data",(y,w)=>{if(p&&!p.isEnabled||!e.isEnabled)return;const A=pn(c.model.document.selection.getRanges());if(!A.isCollapsed||w.isUndo||!w.isLocal)return;const j=Array.from(c.model.document.differ.getChanges()),D=j[0];if(j.length!=1||D.type!=="insert"||D.name!="$text"||D.length!=1)return;const I=D.position.parent;if(I.is("element","codeBlock")||I.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||p&&p.value===!0)return;const z=I.getChild(0),W=c.model.createRangeOn(z);if(!W.containsRange(A)&&!A.end.isEqual(W.end))return;const X=o.exec(z.data.substr(0,A.end.offset));X&&c.model.enqueueChange(re=>{const de=re.createPositionAt(I,0),fe=re.createPositionAt(I,X[0].length),we=new Uo(de,fe);if(d({match:X})!==!1){re.remove(we);const Fe=c.model.document.selection.getFirstRange(),st=re.createRangeIn(I);!I.isEmpty||st.isEqual(Fe)||st.containsRange(Fe,!0)||re.remove(I)}we.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function xf(c,e,o,a){let d,p;o instanceof RegExp?d=o:p=o,p=p||(y=>{let w;const A=[],j=[];for(;(w=d.exec(y))!==null&&!(w&&w.length<4);){let{index:D,1:I,2:z,3:W}=w;const X=I+z+W;D+=w[0].length-X.length;const re=[D,D+I.length],de=[D+I.length+z.length,D+I.length+z.length+W.length];A.push(re),A.push(de),j.push([D+I.length,D+I.length+z.length])}return{remove:A,format:j}}),c.model.document.on("change:data",(y,w)=>{if(w.isUndo||!w.isLocal||!e.isEnabled)return;const A=c.model,j=A.document.selection;if(!j.isCollapsed)return;const D=Array.from(A.document.differ.getChanges()),I=D[0];if(D.length!=1||I.type!=="insert"||I.name!="$text"||I.length!=1)return;const z=j.focus,W=z.parent,{text:X,range:re}=function(Fe,st){let _t=Fe.start;return{text:Array.from(Fe.getItems()).reduce((cr,fs)=>!fs.is("$text")&&!fs.is("$textProxy")||fs.getAttribute("code")?(_t=st.createPositionAfter(fs),""):cr+fs.data,""),range:st.createRange(_t,Fe.end)}}(A.createRange(A.createPositionAt(W,0),z),A),de=p(X),fe=kE(re.start,de.format,A),we=kE(re.start,de.remove,A);fe.length&&we.length&&A.enqueueChange(Fe=>{if(a(Fe,fe)!==!1){for(const st of we.reverse())Fe.remove(st);A.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function kE(c,e,o){return e.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>o.createRange(c.getShiftedBy(a[0]),c.getShiftedBy(a[1])))}function ew(c,e){return(o,a)=>{if(!c.commands.get(e).isEnabled)return!1;const d=c.model.schema.getValidRanges(a,e);for(const p of d)o.setAttribute(e,!0,p);o.removeSelectionAttribute(e)}}class CE extends Vt{constructor(e,o){super(e),this.attributeKey=o}refresh(){const e=this.editor.model,o=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(e={}){const o=this.editor.model,a=o.document.selection,d=e.forceValue===void 0?!this.value:e.forceValue;o.change(p=>{if(a.isCollapsed)d?p.setSelectionAttribute(this.attributeKey,!0):p.removeSelectionAttribute(this.attributeKey);else{const y=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const w of y)d?p.setAttribute(this.attributeKey,d,w):p.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,o=e.schema,a=e.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const p of d.getItems())if(o.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey);return!1}}const vf="bold";class $8 extends Ge{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:vf}),e.model.schema.setAttributeProperties(vf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:vf,view:"strong",upcastAlso:["b",o=>{const a=o.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(vf,new CE(e,vf)),e.keystrokes.set("CTRL+B",vf)}}const OC="bold";class Z8 extends Ge{static get pluginName(){return"BoldUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(OC,a=>{const d=e.commands.get(OC),p=new hr(a);return p.set({label:o("Bold"),icon:x.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute(OC),e.editing.view.focus()}),p})}}var _E=l(8603),e7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(_E.Z,e7),_E.Z.locals;const wf="italic";class t7 extends Ge{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:wf}),e.model.schema.setAttributeProperties(wf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:wf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(wf,new CE(e,wf)),e.keystrokes.set("CTRL+I",wf)}}const BC="italic";class r7 extends Ge{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(BC,a=>{const d=e.commands.get(BC),p=new hr(a);return p.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute(BC),e.editing.view.focus()}),p})}}class n7 extends Vt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const o=this.editor.model,a=o.schema,d=o.document.selection,p=Array.from(d.getSelectedBlocks()),y=e.forceValue===void 0?!this.value:e.forceValue;o.change(w=>{if(y){const A=p.filter(j=>tw(j)||NE(a,j));this._applyQuote(w,A)}else this._removeQuote(w,p.filter(tw))})}_getValue(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!tw(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,o=this.editor.model.schema,a=pn(e.getSelectedBlocks());return!!a&&NE(o,a)}_removeQuote(e,o){AE(e,o).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void e.unwrap(a.start.parent);if(a.start.isAtStart){const p=e.createPositionBefore(a.start.parent);return void e.move(a,p)}a.end.isAtEnd||e.split(a.end);const d=e.createPositionAfter(a.end.parent);e.move(a,d)})}_applyQuote(e,o){const a=[];AE(e,o).reverse().forEach(d=>{let p=tw(d.start);p||(p=e.createElement("blockQuote"),e.wrap(d,p)),a.push(p)}),a.reverse().reduce((d,p)=>d.nextSibling==p?(e.merge(e.createPositionAfter(d)),d):p)}}function tw(c){return c.parent.name=="blockQuote"?c.parent:null}function AE(c,e){let o,a=0;const d=[];for(;a<e.length;){const p=e[a],y=e[a+1];o||(o=c.createPositionBefore(p)),y&&p.nextSibling==y||(d.push(c.createRange(o,c.createPositionAfter(p))),o=null),a++}return d}function NE(c,e){const o=c.checkChild(e.parent,"blockQuote"),a=c.checkChild(["$root","blockQuote"],e);return o&&a}class s7 extends Ge{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[X0,Wc]}init(){const e=this.editor,o=e.model.schema;e.commands.add("blockQuote",new n7(e)),o.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(y=>{const w=e.model.document.differ.getChanges();for(const A of w)if(A.type=="insert"){const j=A.position.nodeAfter;if(!j)continue;if(j.is("element","blockQuote")&&j.isEmpty)return y.remove(j),!0;if(j.is("element","blockQuote")&&!o.checkChild(A.position,j))return y.unwrap(j),!0;if(j.is("element")){const D=y.createRangeIn(j);for(const I of D.getItems())if(I.is("element","blockQuote")&&!o.checkChild(y.createPositionBefore(I),I))return y.unwrap(I),!0}}else if(A.type=="remove"){const j=A.position.parent;if(j.is("element","blockQuote")&&j.isEmpty)return y.remove(j),!0}return!1});const a=this.editor.editing.view.document,d=e.model.document.selection,p=e.commands.get("blockQuote");this.listenTo(a,"enter",(y,w)=>{!d.isCollapsed||!p.value||d.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),y.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(y,w)=>{if(w.direction!="backward"||!d.isCollapsed||!p.value)return;const A=d.getLastPosition().parent;A.isEmpty&&!A.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),y.stop())},{context:"blockquote"})}}var jE=l(3062),o7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(jE.Z,o7),jE.Z.locals;class i7 extends Ge{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add("blockQuote",a=>{const d=e.commands.get("blockQuote"),p=new hr(a);return p.set({label:o("Block quote"),icon:x.quote,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),p})}}class a7 extends Ge{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,o=e.commands.get("ckbox");if(!o)return;const a=e.t;e.ui.componentFactory.add("ckbox",d=>{const p=new hr(d);return p.set({label:a("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),p.bind("isOn","isEnabled").to(o,"value","isEnabled"),p.on("execute",()=>{e.execute("ckbox")}),p})}}function SE(c){const e=[];let o=0;for(const d in c){const p=parseInt(d,10);isNaN(p)||(p>o&&(o=p),e.push(`${c[d]} ${d}w`))}const a=[{srcset:e.join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:a}}class l7 extends Vt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");return!(!e.isEnabled&&!o.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:o=>this.fire("ckbox:choose",o)}}}_initListeners(){const e=this.editor,o=e.model,a=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{!this.isEnabled||this.value||(this._wrapper=Ts(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()),EE(50))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(d,p)=>{if(!this.isEnabled)return;const y=e.commands.get("insertImage"),w=e.commands.get("link"),A=function({assets:j,isImageAllowed:D,isLinkAllowed:I}){return j.map(z=>function(W){const X=W.data.metadata;return X?X.width&&X.height:!1}(z)?{id:z.data.id,type:"image",attributes:c7(z)}:{id:z.data.id,type:"link",attributes:d7(z)}).filter(z=>z.type==="image"?D:I)}({assets:p,isImageAllowed:y.isEnabled,isLinkAllowed:w.isEnabled});A.length!==0&&o.change(j=>{for(const D of A){const I=D===A[A.length-1];this._insertAsset(D,I,j),a&&(setTimeout(()=>this._chosenAssets.delete(D),1e3),this._chosenAssets.add(D))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,o,a){const d=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,a),o||a.setSelection(d.getLastPosition())}_insertImage(e){const o=this.editor,{imageFallbackUrl:a,imageSources:d,imageTextAlternative:p}=e.attributes;o.execute("insertImage",{source:{src:a,sources:d,alt:p}})}_insertLink(e,o){const a=this.editor,d=a.model,p=d.document.selection,{linkName:y,linkHref:w}=e.attributes;if(p.isCollapsed){const A=Cs(p.getAttributes()),j=o.createText(y,A),D=d.insertContent(j);o.setSelection(D)}a.execute("link",w)}}function c7(c){const{imageFallbackUrl:e,imageSources:o}=SE(c.data.imageUrls);return{imageFallbackUrl:e,imageSources:o,imageTextAlternative:c.data.metadata.description||""}}function d7(c){return{linkName:c.data.name,linkHref:u7(c)}}function u7(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}function EE(c){setTimeout(()=>{if(c===0)return;const e=document.querySelector(".ckbox-gallery .ckbox-gallery-item"),o=document.querySelector(".ckbox-empty-view .ckbox-btn");o&&o instanceof HTMLElement?o.focus():e&&e instanceof HTMLElement?e.focus():EE(c-1)},100)}var mm=(c,e,o)=>new Promise((a,d)=>{var p=A=>{try{w(o.next(A))}catch(j){d(j)}},y=A=>{try{w(o.throw(A))}catch(j){d(j)}},w=A=>A.done?a(A.value):Promise.resolve(A.value).then(p,y);w((o=o.apply(c,e)).next())});class h7 extends Ge{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ga,LC]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return mm(this,null,function*(){const e=this.editor,o=!!e.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;const d=e.plugins.get(Ga),p=e.plugins.get(LC);d.createUploadAdapter=A=>new m7(A,p.getToken(),e);const y=!e.config.get("ckbox.ignoreDataId"),w=e.plugins.get("ImageUploadEditing");y&&w.on("uploadComplete",(A,{imageElement:j,data:D})=>{e.model.change(I=>{I.setAttribute("ckboxImageId",D.ckboxImageId,j)})})})}}class m7{constructor(e,o,a){this.loader=e,this.token=o,this.editor=a,this.controller=new AbortController,this.serviceOrigin=a.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),o=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(d,p){const[,y]=d.value.split("."),w=JSON.parse(atob(y)),A=w.auth&&w.auth.ckbox&&w.auth.ckbox.workspaces||[w.aud];return p?(w.auth&&w.auth.ckbox&&w.auth.ckbox.role)=="superadmin"||A.includes(p)?p:null:A[0]}(this.token,o);if(a==null)throw J("ckbox-access-default-workspace-error"),e;return a}getAvailableCategories(e=0){return mm(this,null,function*(){const o=new URL("categories",this.serviceOrigin);return o.searchParams.set("limit","50"),o.searchParams.set("offset",e.toString()),o.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:o}).then(a=>mm(this,null,function*(){if(a.totalCount-(e+50)>0){const d=yield this.getAvailableCategories(e+50);return[...a.items,...d]}return a.items})).catch(()=>{this.controller.signal.throwIfAborted(),J("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return mm(this,null,function*(){const o=function(y){const w=new RegExp("\\.(?<ext>[^.]+)$");return y.match(w).groups.ext.toLowerCase()}(e.name),a=yield this.getAvailableCategories();if(!a)return null;const d=this.editor.config.get("ckbox.defaultUploadCategories");if(d){const y=Object.keys(d).find(w=>d[w].find(A=>A.toLowerCase()==o));if(y){const w=a.find(A=>A.id===y||A.name===y);return w?w.id:null}}const p=a.find(y=>y.extensions.find(w=>w.toLowerCase()==o));return p?p.id:null})}upload(){return mm(this,null,function*(){const e=this.editor.t,o=e("Cannot determine a category for the uploaded file."),a=yield this.loader.file,d=yield this.getCategoryIdForFile(a);if(!d)return Promise.reject(o);const p=new URL("assets",this.serviceOrigin),y=new FormData;p.searchParams.set("workspaceId",this.getWorkspaceId()),y.append("categoryId",d),y.append("file",a);const w={method:"POST",url:p,data:y,onUploadProgress:A=>{A.lengthComputable&&(this.loader.uploadTotal=A.total,this.loader.uploaded=A.loaded)}};return this._sendHttpRequest(w).then(A=>mm(this,null,function*(){const j=SE(A.imageUrls);return{ckboxImageId:A.id,default:j.imageFallbackUrl,sources:j.imageSources}})).catch(()=>{const A=e("Cannot upload file:")+` ${a.name}.`;return Promise.reject(A)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:o="GET",data:a,onUploadProgress:d}){const p=this.controller.signal,y=new XMLHttpRequest;y.open(o,e.toString(),!0),y.setRequestHeader("Authorization",this.token.value),y.setRequestHeader("CKBox-Version","CKEditor 5"),y.responseType="json";const w=()=>{y.abort()};return new Promise((A,j)=>{p.addEventListener("abort",w),y.addEventListener("loadstart",()=>{p.addEventListener("abort",w)}),y.addEventListener("loadend",()=>{p.removeEventListener("abort",w)}),y.addEventListener("error",()=>{j()}),y.addEventListener("abort",()=>{j()}),y.addEventListener("load",()=>mm(this,null,function*(){const D=y.response;return!D||D.statusCode>=400?j(D&&D.message):A(D)})),d&&y.upload.addEventListener("progress",D=>{d(D)}),y.send(a)})}}class LC extends Ge{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",h7]}init(){return e=this,o=null,a=function*(){const d=this.editor,p=!!d.config.get("ckbox"),y=!!window.CKBox;if(!p&&!y)return;this._initConfig();const w=d.plugins.get("CloudServicesCore"),A=d.config.get("ckbox.tokenUrl");if(A===d.config.get("cloudServices.tokenUrl")){const j=d.plugins.get("CloudServices");this._token=j.token}else this._token=yield w.createToken(A).init();d.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),y&&d.commands.add("ckbox",new l7(d))},new Promise((d,p)=>{var y=j=>{try{A(a.next(j))}catch(D){p(D)}},w=j=>{try{A(a.throw(j))}catch(D){p(D)}},A=j=>j.done?d(j.value):Promise.resolve(j.value).then(y,w);A((a=a.apply(e,o)).next())});var e,o,a}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new B("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||J("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((o,a)=>{if(!o.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(o=>{o.on("attribute:ckboxLinkId:imageBlock",(a,d,p)=>{const{writer:y,mapper:w,consumable:A}=p;if(!A.consume(d.item,a.name))return;const j=[...w.toViewElement(d.item).getChildren()].find(D=>D.name==="a");j&&(d.item.hasAttribute("ckboxLinkId")?y.setAttribute("data-ckbox-resource-id",d.item.getAttribute("ckboxLinkId"),j):y.removeAttribute("data-ckbox-resource-id",j))},{priority:"low"}),o.on("attribute:ckboxLinkId",(a,d,p)=>{const{writer:y,mapper:w,consumable:A}=p;if(A.consume(d.item,a.name)){if(d.attributeOldValue){const j=DE(y,d.attributeOldValue);y.unwrap(w.toViewRange(d.range),j)}if(d.attributeNewValue){const j=DE(y,d.attributeNewValue);if(d.item.is("selection")){const D=y.document.selection;y.wrap(D.getFirstRange(),j)}else y.wrap(w.toViewRange(d.range),j)}}},{priority:"low"})}),e.conversion.for("upcast").add(o=>{o.on("element:a",(a,d,p)=>{const{writer:y,consumable:w}=p;if(!d.viewItem.getAttribute("href")||!w.consume(d.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const A=d.viewItem.getAttribute("data-ckbox-resource-id");if(A)if(d.modelRange)for(let j of d.modelRange.getItems())j.is("$textProxy")&&(j=j.textNode),f7(j)&&y.setAttribute("ckboxLinkId",A,j);else{const j=d.modelCursor.nodeBefore||d.modelCursor.parent;y.setAttribute("ckboxLinkId",A,j)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:o=>o.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,o=e.model,a=o.document.selection;o.document.registerPostFixer(function(d){return p=>{let y=!1;const w=d.model,A=d.commands.get("ckbox");if(!A)return y;for(const j of w.document.differ.getChanges()){if(j.type!=="insert"&&j.type!=="attribute")continue;const D=j.type==="insert"?new Te(j.position,j.position.getShiftedBy(j.length)):j.range,I=j.type==="attribute"&&j.attributeKey==="linkHref"&&j.attributeNewValue===null;for(const z of D.getItems()){if(I&&z.hasAttribute("ckboxLinkId")){p.removeAttribute("ckboxLinkId",z),y=!0;continue}const W=p7(z,A._chosenAssets);for(const X of W){const re=X.type==="image"?"ckboxImageId":"ckboxLinkId";X.id!==z.getAttribute(re)&&(p.setAttribute(re,X.id,z),y=!0)}}}return y}}(e)),o.document.registerPostFixer(function(d){return p=>!(d.hasAttribute("linkHref")||!d.hasAttribute("ckboxLinkId"))&&(p.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function p7(c,e){const o=c.is("element","imageInline")||c.is("element","imageBlock"),a=c.hasAttribute("linkHref");return[...e].filter(d=>d.type==="image"&&o?d.attributes.imageFallbackUrl===c.getAttribute("src"):d.type==="link"&&a?d.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function DE(c,e){const o=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,o),o}function f7(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}class g7 extends Ge{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,o=e.ui.componentFactory,a=e.t;o.add("ckfinder",d=>{const p=e.commands.get("ckfinder"),y=new hr(d);return y.set({label:a("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),y.bind("isEnabled").to(p),y.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),y})}}class b7 extends Vt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=e.isEnabled||o.isEnabled}execute(){const e=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if(o!="popup"&&o!="modal")throw new B("ckfinder-unknown-openermethod",e);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const d=a.onInit;a.language||(a.language=e.locale.uiLanguage),a.onInit=p=>{d&&d(p),p.on("files:choose",y=>{const w=y.data.files.toArray(),A=w.filter(I=>!I.isImage()),j=w.filter(I=>I.isImage());for(const I of A)e.execute("link",I.getUrl());const D=[];for(const I of j){const z=I.getUrl();D.push(z||p.request("file:getProxyUrl",{file:I}))}D.length&&ME(e,D)}),p.on("file:choose:resizedImage",y=>{const w=y.data.resizedUrl;if(w)ME(e,[w]);else{const A=e.plugins.get("Notification"),j=e.locale.t;A.showWarning(j("Could not obtain resized image URL."),{title:j("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](a)}}function ME(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const o=c.plugins.get("Notification"),a=c.locale.t;o.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class y7 extends Ge{static get pluginName(){return"CKFinderEditing"}static get requires(){return[jC,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new B("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new b7(e))}}class x7 extends Ge{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ga]}init(){const e=this.editor,o=e.plugins.get("CloudServices"),a=o.token,d=o.uploadUrl;if(!a)return;const p=e.plugins.get("CloudServicesCore");this._uploadGateway=p.createUploadGateway(a,d),e.plugins.get(Ga).createUploadAdapter=y=>new v7(this._uploadGateway,y)}}class v7{constructor(e,o){this.uploadGateway=e,this.loader=o}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(o,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class w7 extends Vt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,o=pn(e.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&TE(o,e.schema)}execute(e={}){const o=this.editor.model,a=o.document,d=e.selection||a.selection;o.canEditAt(d)&&o.change(p=>{const y=d.getSelectedBlocks();for(const w of y)!w.is("element","paragraph")&&TE(w,o.schema)&&p.rename(w,"paragraph")})}}function TE(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class k7 extends Vt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const o=this.editor.model,a=e.attributes;let d=e.position;o.canEditAt(d)&&o.change(p=>{if(d=this._findPositionToInsertParagraph(d,p),!d)return;const y=p.createElement("paragraph");a&&o.schema.setAllowedAttributes(y,a,p),o.insertContent(y,d),p.setSelection(y,"in")})}_findPositionToInsertParagraph(e,o){const a=this.editor.model;if(a.schema.checkChild(e,"paragraph"))return e;const d=a.schema.findAllowedParent(e,"paragraph");if(!d)return null;const p=e.parent,y=a.schema.checkChild(p,"$text");return p.isEmpty||y&&e.isAtEnd?a.createPositionAfter(p):!p.isEmpty&&y&&e.isAtStart?a.createPositionBefore(p):o.split(e,d).position}}const IE=class extends Ge{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new w7(c)),c.commands.add("insertParagraph",new k7(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(o,{writer:a})=>IE.paragraphLikeElements.has(o.name)?o.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let zC=IE;zC.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class C7 extends Vt{constructor(e,o){super(e),this.modelElements=o}refresh(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(o=>RE(e,o,this.editor.model.schema))}execute(e){const o=this.editor.model,a=o.document,d=e.value;o.change(p=>{const y=Array.from(a.selection.getSelectedBlocks()).filter(w=>RE(w,d,o.schema));for(const w of y)w.is("element",d)||p.rename(w,d)})}}function RE(c,e,o){return o.checkChild(c.parent,e)&&!o.isObject(c)}const PE="paragraph";class _7 extends Ge{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[zC]}init(){const e=this.editor,o=e.config.get("heading.options"),a=[];for(const d of o)d.model!=="paragraph"&&(e.model.schema.register(d.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new C7(e,a))}afterInit(){const e=this.editor,o=e.commands.get("enter"),a=e.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(d,p)=>{const y=e.model.document.selection.getFirstPosition().parent;a.some(w=>y.is("element",w.model))&&!y.is("element",PE)&&y.childCount===0&&p.writer.rename(y,PE)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ne.low+1})}}var OE=l(8733),A7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(OE.Z,A7),OE.Z.locals;class N7 extends Ge{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,o=e.t,a=function(y){const w=y.t,A={Paragraph:w("Paragraph"),"Heading 1":w("Heading 1"),"Heading 2":w("Heading 2"),"Heading 3":w("Heading 3"),"Heading 4":w("Heading 4"),"Heading 5":w("Heading 5"),"Heading 6":w("Heading 6")};return y.config.get("heading.options").map(j=>{const D=A[j.title];return D&&D!=j.title&&(j.title=D),j})}(e),d=o("Choose heading"),p=o("Heading");e.ui.componentFactory.add("heading",y=>{const w={},A=new Fs,j=e.commands.get("heading"),D=e.commands.get("paragraph"),I=[j];for(const W of a){const X={type:"button",model:new fS({label:W.title,class:W.class,role:"menuitemradio",withText:!0})};W.model==="paragraph"?(X.model.bind("isOn").to(D,"value"),X.model.set("commandName","paragraph"),I.push(D)):(X.model.bind("isOn").to(j,"value",re=>re===W.model),X.model.set({commandName:"heading",commandValue:W.model})),A.add(X),w[W.model]=W.title}const z=ht(y);return mr(z,A,{ariaLabel:p,role:"menu"}),z.buttonView.set({ariaLabel:p,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:p}),z.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),z.bind("isEnabled").toMany(I,"isEnabled",(...W)=>W.some(X=>X)),z.buttonView.bind("label").to(j,"value",D,"value",(W,X)=>{const re=W||X&&"paragraph";return typeof re=="boolean"?d:w[re]?w[re]:d}),this.listenTo(z,"execute",W=>{const{commandName:X,commandValue:re}=W.source;e.execute(X,re?{value:re}:void 0),e.editing.view.focus()}),z})}}function BE(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function LE(c,e){const o=c.plugins.get("ImageUtils"),a=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return p=>o.isInlineImageView(p)?a&&(p.getStyle("display")=="block"||p.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==e?null:d(p):null;function d(p){const y={name:!0};return p.hasAttribute("src")&&(y.attributes=["src"]),y}}function FC(c,e){const o=pn(e.getSelectedBlocks());return!o||c.isObject(o)||o.isEmpty&&o.name!="listItem"?"imageBlock":"imageInline"}var j7=Object.defineProperty,zE=Object.getOwnPropertySymbols,S7=Object.prototype.hasOwnProperty,E7=Object.prototype.propertyIsEnumerable,FE=(c,e,o)=>e in c?j7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,VE=(c,e)=>{for(var o in e||(e={}))S7.call(e,o)&&FE(c,o,e[o]);if(zE)for(var o of zE(e))E7.call(e,o)&&FE(c,o,e[o]);return c};class Ha extends Ge{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},o=null,a=null){const d=this.editor,p=d.model,y=p.document.selection;a=UE(d,o||y,a),e=VE(VE({},Object.fromEntries(y.getAttributes())),e);for(const w in e)p.schema.checkAttribute(a,w)||delete e[w];return p.change(w=>{const A=w.createElement(a,e);return p.insertObject(A,o,null,{setSelection:"on",findOptimalPosition:o||a=="imageInline"?void 0:"auto"}),A.parent?A:null})}getClosestSelectedImageWidget(e){const o=e.getFirstPosition();if(!o)return null;const a=e.getSelectedElement();if(a&&this.isImageWidget(a))return a;let d=o.parent;for(;d;){if(d.is("element")&&this.isImageWidget(d))return d;d=d.parent}return null}getClosestSelectedImageElement(e){const o=e.getSelectedElement();return this.isImage(o)?o:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(o,a){if(UE(o,a,null)=="imageBlock"){const p=function(y,w){const A=XS(y,w),j=A.start.parent;return j.isEmpty&&!j.is("element","$root")?j.parent:j}(a,o.model);if(o.model.schema.checkChild(p,"imageBlock"))return!0}else if(o.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(o){return[...o.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(e)}toImageWidget(e,o,a){return o.setCustomProperty("image",!0,e),PC(e,o,{label:()=>{const d=this.findViewImgElement(e).getAttribute("alt");return d?`${d} ${a}`:a}})}isImageWidget(e){return!!e.getCustomProperty("image")&&yn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const o=this.editor.editing.view;for(const{item:a}of o.createRangeIn(e))if(this.isInlineImageView(a))return a}}function UE(c,e,o){const a=c.model.schema,d=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?o||(d==="inline"?"imageInline":d==="block"?"imageBlock":e.is("selection")?FC(a,e):a.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class D7 extends Vt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const o=this.editor,a=o.plugins.get("ImageUtils"),d=o.model,p=a.getClosestSelectedImageElement(d.document.selection);d.change(y=>{y.setAttribute("alt",e.newValue,p)})}}class M7 extends Ge{static get requires(){return[Ha]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new D7(this.editor))}}var GE=l(1905),T7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(GE.Z,T7),GE.Z.locals;var HE=l(6764),I7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(HE.Z,I7),HE.Z.locals;class R7 extends Wt{constructor(e){super(e);const o=this.locale.t;this.focusTracker=new ks,this.keystrokes=new Bo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),b({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,o,a,d){const p=new hr(this.locale);return p.set({label:e,icon:o,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createLabeledInputView(){const e=this.locale.t,o=new Cp(this.locale,fC);return o.label=e("Text alternative"),o}}function qE(c){const e=c.editing.view,o=qo.defaultPositions,a=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(e.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class P7 extends Ge{static get requires(){return[q0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,o=e.t;e.ui.componentFactory.add("imageTextAlternative",a=>{const d=e.commands.get("imageTextAlternative"),p=new hr(a);return p.set({label:o("Change image text alternative"),icon:x.lowVision,tooltip:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",y=>!!y),this.listenTo(p,"execute",()=>{this._showForm()}),p})}_createForm(){const e=this.editor,o=e.editing.view.document,a=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(g(R7))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,p)=>{this._hideForm(!0),p()}),this.listenTo(e.ui,"update",()=>{a.getClosestSelectedImageWidget(o.selection)?this._isVisible&&function(d){const p=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const y=qE(d);p.updatePosition(y)}}(e):this._hideForm(!0)}),m({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,o=e.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:qE(e)}),a.fieldView.value=a.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class YE extends Ge{static get requires(){return[M7,P7]}static get pluginName(){return"ImageTextAlternative"}}function WE(c,e){const o=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const y=p.writer,w=p.mapper.toViewElement(d.item),A=c.findViewImgElement(w);if(d.attributeNewValue===null){const j=d.attributeOldValue;j&&j.data&&(y.removeAttribute("srcset",A),y.removeAttribute("sizes",A),j.width&&y.removeAttribute("width",A))}else{const j=d.attributeNewValue;j&&j.data&&(y.setAttribute("srcset",j.data,A),y.setAttribute("sizes","100vw",A),j.width&&y.setAttribute("width",j.width,A))}};return a=>{a.on(`attribute:srcset:${e}`,o)}}function rw(c,e,o){const a=(d,p,y)=>{if(!y.consumable.consume(p.item,d.name))return;const w=y.writer,A=y.mapper.toViewElement(p.item),j=c.findViewImgElement(A);w.setAttribute(p.attributeKey,p.attributeNewValue||"",j)};return d=>{d.on(`attribute:${o}:${e}`,a)}}class O7 extends Ln{observe(e){this.listenTo(e,"load",(o,a)=>{const d=a.target;this.checkShouldIgnoreEventFromTarget(d)||d.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var B7=Object.defineProperty,KE=Object.getOwnPropertySymbols,L7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,QE=(c,e,o)=>e in c?B7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,nw=(c,e)=>{for(var o in e||(e={}))L7.call(e,o)&&QE(c,o,e[o]);if(KE)for(var o of KE(e))z7.call(e,o)&&QE(c,o,e[o]);return c};class F7 extends Vt{constructor(e){super(e);const o=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||o==="block"&&Y("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||o==="inline"&&Y("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const o=Sn(e.source),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());o.forEach((y,w)=>{const A=a.getSelectedElement();if(typeof y=="string"&&(y={src:y}),w&&A&&d.isImage(A)){const j=this.editor.model.createPositionAfter(A);d.insertImage(nw(nw({},y),p),j)}else d.insertImage(nw(nw({},y),p))})}}class V7 extends Vt{refresh(){const e=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}execute(e){const o=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",e.source,o),a.removeAttribute("srcset",o),a.removeAttribute("sizes",o)})}}class VC extends Ge{static get requires(){return[Ha]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,o=e.conversion;e.editing.view.addObserver(O7),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:p=>{const y={data:p.getAttribute("srcset")};return p.hasAttribute("width")&&(y.width=p.getAttribute("width")),y}}});const a=new F7(e),d=new V7(e);e.commands.add("insertImage",a),e.commands.add("replaceImageSource",d),e.commands.add("imageInsert",a)}}class JE extends Vt{constructor(e,o){super(e),this._modelElementName=o}refresh(){const e=this.editor.plugins.get("ImageUtils"),o=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(o):this.isEnabled=e.isBlockImage(o)}execute(){const e=this.editor,o=this.editor.model,a=e.plugins.get("ImageUtils"),d=a.getClosestSelectedImageElement(o.document.selection),p=Object.fromEntries(d.getAttributes());return p.src||p.uploadId?o.change(y=>{const w=Array.from(o.markers).filter(D=>D.getRange().containsItem(d)),A=a.insertImage(p,o.createSelection(d,"on"),this._modelElementName);if(!A)return null;const j=y.createRangeOn(A);for(const D of w){const I=D.getRange(),z=I.root.rootName!="$graveyard"?I.getJoined(j,!0):j;y.updateMarker(D,{range:z})}return{oldElement:d,newElement:A}}):null}}class XE extends Ge{static get requires(){return[VC,Ha,Ll]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new JE(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,o=e.t,a=e.conversion,d=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:y})=>BE(y)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:y})=>d.toImageWidget(BE(y),y,o("image widget"))}),a.for("downcast").add(rw(d,"imageBlock","src")).add(rw(d,"imageBlock","alt")).add(WE(d,"imageBlock")),a.for("upcast").elementToElement({view:LE(e,"imageBlock"),model:(p,{writer:y})=>y.createElement("imageBlock",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)}).add(function(p){const y=(w,A,j)=>{if(!j.consumable.test(A.viewItem,{name:!0,classes:"image"}))return;const D=p.findViewImgElement(A.viewItem);if(!D||!j.consumable.test(D,{name:!0}))return;j.consumable.consume(A.viewItem,{name:!0,classes:"image"});const I=pn(j.convertItem(D,A.modelCursor).modelRange.getItems());I?(j.convertChildren(A.viewItem,I),j.updateConversionResult(I,A)):j.consumable.revert(A.viewItem,{name:!0,classes:"image"})};return w=>{w.on("element:figure",y)}}(d))}_setupClipboardIntegration(){const e=this.editor,o=e.model,a=e.editing.view,d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(y,w)=>{const A=Array.from(w.content.getChildren());let j;if(!A.every(d.isInlineImageView))return;j=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):o.document.selection.getFirstRange();const D=o.createSelection(j);if(FC(o.schema,D)==="imageBlock"){const I=new Wi(a.document),z=A.map(W=>I.createElement("figure",{class:"image"},W));w.content=I.createDocumentFragment(z)}})}}var $E=l(3508),U7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()($E.Z,U7),$E.Z.locals;class G7 extends Ge{static get requires(){return[XE,ly,YE]}static get pluginName(){return"ImageBlock"}}class H7 extends Ge{static get requires(){return[VC,Ha,Ll]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,o=e.model.schema;o.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),o.addChildCheck((a,d)=>{if(a.endsWith("caption")&&d.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new JE(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,o=e.t,a=e.conversion,d=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(p,{writer:y})=>y.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(p,{writer:y})=>d.toImageWidget(function(w){return w.createContainerElement("span",{class:"image-inline"},w.createEmptyElement("img"))}(y),y,o("image widget"))}),a.for("downcast").add(rw(d,"imageInline","src")).add(rw(d,"imageInline","alt")).add(WE(d,"imageInline")),a.for("upcast").elementToElement({view:LE(e,"imageInline"),model:(p,{writer:y})=>y.createElement("imageInline",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,o=e.model,a=e.editing.view,d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(y,w)=>{const A=Array.from(w.content.getChildren());let j;if(!A.every(d.isBlockImageView))return;j=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):o.document.selection.getFirstRange();const D=o.createSelection(j);if(FC(o.schema,D)==="imageInline"){const I=new Wi(a.document),z=A.map(W=>W.childCount===1?(Array.from(W.getAttributes()).forEach(X=>I.setAttribute(...X,d.findViewImgElement(W))),W.getChild(0)):W);w.content=I.createDocumentFragment(z)}})}}class q7 extends Ge{static get requires(){return[H7,ly,YE]}static get pluginName(){return"ImageInline"}}class ZE extends Ge{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ha]}getCaptionFromImageModelElement(e){for(const o of e.getChildren())if(o&&o.is("element","caption"))return o;return null}getCaptionFromModelSelection(e){const o=this.editor.plugins.get("ImageUtils"),a=e.getFirstPosition().findAncestor("caption");return a&&o.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(e){const o=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&o.isBlockImageView(e.parent)?{name:!0}:null}}class Y7 extends Vt{refresh(){const e=this.editor,o=e.plugins.get("ImageCaptionUtils"),a=e.plugins.get("ImageUtils");if(!e.plugins.has(XE))return this.isEnabled=!1,void(this.value=!1);const d=e.model.document.selection,p=d.getSelectedElement();if(!p){const y=o.getCaptionFromModelSelection(d);return this.isEnabled=!!y,void(this.value=!!y)}this.isEnabled=a.isImage(p),this.isEnabled?this.value=!!o.getCaptionFromImageModelElement(p):this.value=!1}execute(e={}){const{focusCaptionOnShow:o}=e;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,o)})}_showImageCaption(e,o){const a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing"),p=this.editor.plugins.get("ImageUtils");let y=a.getSelectedElement();const w=d._getSavedCaption(y);p.isInlineImage(y)&&(this.editor.execute("imageTypeBlock"),y=a.getSelectedElement());const A=w||e.createElement("caption");e.append(A,y),o&&e.setSelection(A,"in")}_hideImageCaption(e){const o=this.editor,a=o.model.document.selection,d=o.plugins.get("ImageCaptionEditing"),p=o.plugins.get("ImageCaptionUtils");let y,w=a.getSelectedElement();w?y=p.getCaptionFromImageModelElement(w):(y=p.getCaptionFromModelSelection(a),w=y.parent),d._saveCaption(w,y),e.setSelection(w,"on"),e.remove(y)}}class W7 extends Ge{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Ha,ZE]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,o=e.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new Y7(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,o=e.editing.view,a=e.plugins.get("ImageUtils"),d=e.plugins.get("ImageCaptionUtils"),p=e.t;e.conversion.for("upcast").elementToElement({view:y=>d.matchImageCaptionViewElement(y),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(y,{writer:w})=>a.isBlockImage(y.parent)?w.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(y,{writer:w})=>{if(!a.isBlockImage(y.parent))return null;const A=w.createEditableElement("figcaption");w.setCustomProperty("imageCaption",!0,A),A.placeholder=p("Enter image caption"),Sh({view:o,element:A,keepOnFocus:!0});const j=y.parent.getAttribute("alt");return JS(A,w,{label:j?p("Caption for image: %0",[j]):p("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),d=e.commands.get("imageTypeInline"),p=e.commands.get("imageTypeBlock"),y=w=>{if(!w.return)return;const{oldElement:A,newElement:j}=w.return;if(!A)return;if(o.isBlockImage(A)){const I=a.getCaptionFromImageModelElement(A);if(I)return void this._saveCaption(j,I)}const D=this._getSavedCaption(A);D&&this._saveCaption(j,D)};d&&this.listenTo(d,"execute",y,{priority:"low"}),p&&this.listenTo(p,"execute",y,{priority:"low"})}_getSavedCaption(e){const o=this._savedCaptionsMap.get(e);return o?xt.fromJSON(o):null}_saveCaption(e,o){this._savedCaptionsMap.set(e,o.toJSON())}_registerCaptionReconversion(){const e=this.editor,o=e.model,a=e.plugins.get("ImageUtils"),d=e.plugins.get("ImageCaptionUtils");o.document.on("change:data",()=>{const p=o.document.differ.getChanges();for(const y of p){if(y.attributeKey!=="alt")continue;const w=y.range.start.nodeAfter;if(a.isBlockImage(w)){const A=d.getCaptionFromImageModelElement(w);if(!A)return;e.editing.reconvertItem(A)}}})}}class K7 extends Ge{static get requires(){return[ZE]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,o=e.editing.view,a=e.plugins.get("ImageCaptionUtils"),d=e.t;e.ui.componentFactory.add("toggleImageCaption",p=>{const y=e.commands.get("toggleImageCaption"),w=new hr(p);return w.set({icon:x.caption,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(y,"value","isEnabled"),w.bind("label").to(y,"value",A=>d(A?"Toggle caption off":"Toggle caption on")),this.listenTo(w,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const A=a.getCaptionFromModelSelection(e.model.document.selection);if(A){const j=e.editing.mapper.toViewElement(A);o.scrollToTheSelection(),o.change(D=>{D.addClass("image__caption_highlighted",j)})}e.editing.view.focus()}),w})}}var e4=l(2640),Q7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(e4.Z,Q7),e4.Z.locals;function t4(c){const e=c.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function J7(c){return new Promise((e,o)=>{const a=c.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const p=r4(d,a),y=p.replace("image/",""),w=new File([d],`image.${y}`,{type:p});e(w)}).catch(d=>d&&d.name==="TypeError"?function(p){return function(y){return new Promise((w,A)=>{const j=Mt.document.createElement("img");j.addEventListener("load",()=>{const D=Mt.document.createElement("canvas");D.width=j.width,D.height=j.height,D.getContext("2d").drawImage(j,0,0),D.toBlob(I=>I?w(I):A())}),j.addEventListener("error",()=>A()),j.src=y})}(p).then(y=>{const w=r4(y,p),A=w.replace("image/","");return new File([y],`image.${A}`,{type:w})})}(a).then(e).catch(o):o(d))})}function r4(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class X7 extends Ge{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,o=e.t,a=d=>{const p=new K8(d),y=e.commands.get("uploadImage"),w=e.config.get("image.upload.types"),A=t4(w);return p.set({acceptedType:w.map(j=>`image/${j}`).join(","),allowMultipleFiles:!0}),p.buttonView.set({label:o("Insert image"),icon:x.image,tooltip:!0}),p.buttonView.bind("isEnabled").to(y),p.on("done",(j,D)=>{const I=Array.from(D).filter(z=>A.test(z.type));I.length&&(e.execute("uploadImage",{file:I}),e.editing.view.focus())}),p};e.ui.componentFactory.add("uploadImage",a),e.ui.componentFactory.add("imageUpload",a)}}var n4=l(3689),$7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(n4.Z,$7),n4.Z.locals;var s4=l(4036),Z7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(s4.Z,Z7),s4.Z.locals;var o4=l(3773),ez={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(o4.Z,ez),o4.Z.locals;class tz extends Ge{constructor(e){super(e),this.uploadStatusChange=(o,a,d)=>{const p=this.editor,y=a.item,w=y.getAttribute("uploadId");if(!d.consumable.consume(a.item,o.name))return;const A=p.plugins.get("ImageUtils"),j=p.plugins.get(Ga),D=w?a.attributeNewValue:null,I=this.placeholder,z=p.editing.mapper.toViewElement(y),W=d.writer;if(D=="reading")return i4(z,W),void a4(A,I,z,W);if(D=="uploading"){const X=j.loaders.get(w);return i4(z,W),void(X?(l4(z,W),function(re,de,fe,we){const Fe=function(st){const _t=st.createUIElement("div",{class:"ck-progress-bar"});return st.setCustomProperty("progressBar",!0,_t),_t}(de);de.insert(de.createPositionAt(re,"end"),Fe),fe.on("change:uploadedPercent",(st,_t,Ur)=>{we.change(cr=>{cr.setStyle("width",Ur+"%",Fe)})})}(z,W,X,p.editing.view),function(re,de,fe,we){if(we.data){const Fe=re.findViewImgElement(de);fe.setAttribute("src",we.data,Fe)}}(A,z,W,X)):a4(A,I,z,W))}D=="complete"&&j.loaders.get(w)&&function(X,re,de){const fe=re.createUIElement("div",{class:"ck-image-upload-complete-icon"});re.insert(re.createPositionAt(X,"end"),fe),setTimeout(()=>{de.change(we=>we.remove(we.createRangeOn(fe)))},3e3)}(z,W,p.editing.view),function(X,re){d4(X,re,"progressBar")}(z,W),l4(z,W),function(X,re){re.removeClass("ck-appear",X)}(z,W)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function i4(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function a4(c,e,o,a){o.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",o);const d=c.findViewImgElement(o);d.getAttribute("src")!==e&&a.setAttribute("src",e,d),c4(o,"placeholder")||a.insert(a.createPositionAfter(d),function(p){const y=p.createUIElement("div",{class:"ck-upload-placeholder-loader"});return p.setCustomProperty("placeholder",!0,y),y}(a))}function l4(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),d4(c,e,"placeholder")}function c4(c,e){for(const o of c.getChildren())if(o.getCustomProperty(e))return o}function d4(c,e,o){const a=c4(c,o);a&&e.remove(e.createRangeOn(a))}var rz=Object.defineProperty,nz=Object.defineProperties,sz=Object.getOwnPropertyDescriptors,u4=Object.getOwnPropertySymbols,oz=Object.prototype.hasOwnProperty,iz=Object.prototype.propertyIsEnumerable,h4=(c,e,o)=>e in c?rz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;class az extends Vt{refresh(){const e=this.editor,o=e.plugins.get("ImageUtils"),a=e.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(a)}execute(e){const o=Sn(e.file),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());o.forEach((y,w)=>{const A=a.getSelectedElement();if(w&&A&&d.isImage(A)){const j=this.editor.model.createPositionAfter(A);this._uploadImage(y,p,j)}else this._uploadImage(y,p)})}_uploadImage(e,o,a){const d=this.editor,p=d.plugins.get(Ga).createLoader(e),y=d.plugins.get("ImageUtils");var w,A;p&&y.insertImage((w=((j,D)=>{for(var I in D||(D={}))oz.call(D,I)&&h4(j,I,D[I]);if(u4)for(var I of u4(D))iz.call(D,I)&&h4(j,I,D[I]);return j})({},o),A={uploadId:p.id},nz(w,sz(A))),a)}}class lz extends Ge{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Ga,jC,Ll,Ha]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,o=e.model.document,a=e.conversion,d=e.plugins.get(Ga),p=e.plugins.get("ImageUtils"),y=e.plugins.get("ClipboardPipeline"),w=t4(e.config.get("image.upload.types")),A=new az(e);e.commands.add("uploadImage",A),e.commands.add("imageUpload",A),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(j,D)=>{if(I=D.dataTransfer,Array.from(I.types).includes("text/html")&&I.getData("text/html")!=="")return;var I;const z=Array.from(D.dataTransfer.files).filter(W=>!!W&&w.test(W.type));z.length&&(j.stop(),e.model.change(W=>{D.targetRanges&&W.setSelection(D.targetRanges.map(X=>e.editing.mapper.toModelRange(X))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:z})})}))}),this.listenTo(y,"inputTransformation",(j,D)=>{const I=Array.from(e.editing.view.createRangeIn(D.content)).map(W=>W.item).filter(W=>function(X,re){return!(!X.isInlineImageView(re)||!re.getAttribute("src")||!re.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!re.getAttribute("src").match(/^blob:/g))}(p,W)&&!W.getAttribute("uploadProcessed")).map(W=>({promise:J7(W),imageElement:W}));if(!I.length)return;const z=new Wi(e.editing.view.document);for(const W of I){z.setAttribute("uploadProcessed",!0,W.imageElement);const X=d.createLoader(W.promise);X&&(z.setAttribute("src","",W.imageElement),z.setAttribute("uploadId",X.id,W.imageElement))}}),e.editing.view.document.on("dragover",(j,D)=>{D.preventDefault()}),o.on("change",()=>{const j=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),D=new Set;for(const I of j)if(I.type=="insert"&&I.name!="$text"){const z=I.position.nodeAfter,W=I.position.root.rootName=="$graveyard";for(const X of cz(e,z)){const re=X.getAttribute("uploadId");if(!re)continue;const de=d.loaders.get(re);de&&(W?D.has(re)||de.abort():(D.add(re),this._uploadImageElements.set(re,X),de.status=="idle"&&this._readAndUpload(de)))}}}),this.on("uploadComplete",(j,{imageElement:D,data:I})=>{const z=I.urls?I.urls:I;this.editor.model.change(W=>{W.setAttribute("src",z.default,D),this._parseAndSetSrcsetAttributeOnImage(z,D,W)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const o=this.editor,a=o.model,d=o.locale.t,p=o.plugins.get(Ga),y=o.plugins.get(jC),w=o.plugins.get("ImageUtils"),A=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","reading",A.get(e.id))}),e.read().then(()=>{const D=e.upload(),I=A.get(e.id);if(C.isSafari){const z=o.editing.mapper.toViewElement(I),W=w.findViewImgElement(z);o.editing.view.once("render",()=>{if(!W.parent)return;const X=o.editing.view.domConverter.mapViewToDom(W.parent);if(!X)return;const re=X.style.display;X.style.display="none",X._ckHack=X.offsetHeight,X.style.display=re})}return a.enqueueChange({isUndoable:!1},z=>{z.setAttribute("uploadStatus","uploading",I)}),D}).then(D=>{a.enqueueChange({isUndoable:!1},I=>{const z=A.get(e.id);I.setAttribute("uploadStatus","complete",z),this.fire("uploadComplete",{data:D,imageElement:z})}),j()}).catch(D=>{if(e.status!=="error"&&e.status!=="aborted")throw D;e.status=="error"&&D&&y.showWarning(D,{title:d("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},I=>{I.remove(A.get(e.id))}),j()});function j(){a.enqueueChange({isUndoable:!1},D=>{const I=A.get(e.id);D.removeAttribute("uploadId",I),D.removeAttribute("uploadStatus",I),A.delete(e.id)}),p.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,o,a){let d=0;const p=Object.keys(e).filter(y=>{const w=parseInt(y,10);if(!isNaN(w))return d=Math.max(d,w),!0}).map(y=>`${e[y]} ${y}w`).join(", ");p!=""&&a.setAttribute("srcset",{data:p,width:d},o)}}function cz(c,e){const o=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(a=>o.isImage(a.item)).map(a=>a.item)}var m4=l(1568),dz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(m4.Z,dz),m4.Z.locals;var p4=l(3535),uz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(p4.Z,uz),p4.Z.locals;var f4=l(6270),hz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(f4.Z,hz),f4.Z.locals;class mz extends Vt{constructor(e,o){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map(a=>{if(a.isDefault)for(const d of a.modelElements)this._defaultStyles[d]=a.name;return[a.name,a]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const o=this.editor,a=o.model,d=o.plugins.get("ImageUtils");a.change(p=>{const y=e.value;let w=d.getClosestSelectedImageElement(a.document.selection);y&&this.shouldConvertImageType(y,w)&&(this.editor.execute(d.isBlockImage(w)?"imageTypeInline":"imageTypeBlock"),w=d.getClosestSelectedImageElement(a.document.selection)),!y||this._styles.get(y).isDefault?p.removeAttribute("imageStyle",w):p.setAttribute("imageStyle",y,w)})}shouldConvertImageType(e,o){return!this._styles.get(e).modelElements.includes(o.name)}}var pz=Object.defineProperty,g4=Object.getOwnPropertySymbols,fz=Object.prototype.hasOwnProperty,gz=Object.prototype.propertyIsEnumerable,b4=(c,e,o)=>e in c?pz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,y4=(c,e)=>{for(var o in e||(e={}))fz.call(e,o)&&b4(c,o,e[o]);if(g4)for(var o of g4(e))gz.call(e,o)&&b4(c,o,e[o]);return c};const{objectFullWidth:bz,objectInline:x4,objectLeft:v4,objectRight:UC,objectCenter:GC,objectBlockLeft:w4,objectBlockRight:k4}=x,sw={get inline(){return{name:"inline",title:"In line",icon:x4,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:v4,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:w4,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:GC,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:UC,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:k4,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:GC,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:UC,modelElements:["imageBlock"],className:"image-style-side"}}},C4={full:bz,left:w4,right:k4,center:GC,inlineLeft:v4,inlineRight:UC,inline:x4},_4=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function A4(c){Y("image-style-configuration-definition-invalid",c)}const HC={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(o){return o=typeof o=="string"?sw[o]?y4({},sw[o]):{name:o}:function(a,d){const p=y4({},d);for(const y in a)Object.prototype.hasOwnProperty.call(d,y)||(p[y]=a[y]);return p}(sw[o.name],o),typeof o.icon=="string"&&(o.icon=C4[o.icon]||o.icon),o}(e)).filter(e=>function(o,{isBlockPluginLoaded:a,isInlinePluginLoaded:d}){const{modelElements:p,name:y}=o;if(!(p&&p.length&&y))return A4({style:o}),!1;{const w=[a?"imageBlock":null,d?"imageInline":null];if(!p.some(A=>w.includes(A)))return Y("image-style-missing-dependency",{style:o,missingPlugins:p.map(A=>A==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[..._4]:[]},warnInvalidStyle:A4,DEFAULT_OPTIONS:sw,DEFAULT_ICONS:C4,DEFAULT_DROPDOWN_DEFINITIONS:_4};function N4(c,e){for(const o of e)if(o.name===c)return o}class j4 extends Ge{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ha]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:o}=HC,a=this.editor,d=a.plugins.has("ImageBlockEditing"),p=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",o(d,p)),this.normalizedStyles=e({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:p}),this._setupConversion(d,p),this._setupPostFixer(),a.commands.add("imageStyle",new mz(a,this.normalizedStyles))}_setupConversion(e,o){const a=this.editor,d=a.model.schema,p=(y=this.normalizedStyles,(A,j,D)=>{if(!D.consumable.consume(j.item,A.name))return;const I=N4(j.attributeNewValue,y),z=N4(j.attributeOldValue,y),W=D.mapper.toViewElement(j.item),X=D.writer;z&&X.removeClass(z.className,W),I&&X.addClass(I.className,W)});var y;const w=function(A){const j={imageInline:A.filter(D=>!D.isDefault&&D.modelElements.includes("imageInline")),imageBlock:A.filter(D=>!D.isDefault&&D.modelElements.includes("imageBlock"))};return(D,I,z)=>{if(!I.modelRange)return;const W=I.viewItem,X=pn(I.modelRange.getItems());if(X&&z.schema.checkAttribute(X,"imageStyle"))for(const re of j[X.name])z.consumable.consume(W,{classes:re.className})&&z.writer.setAttribute("imageStyle",re.name,X)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",p),a.data.downcastDispatcher.on("attribute:imageStyle",p),e&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",w,{priority:"low"})),o&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",w,{priority:"low"}))}_setupPostFixer(){const e=this.editor,o=e.model.document,a=e.plugins.get(Ha),d=new Map(this.normalizedStyles.map(p=>[p.name,p]));o.registerPostFixer(p=>{let y=!1;for(const w of o.differ.getChanges())if(w.type=="insert"||w.type=="attribute"&&w.attributeKey=="imageStyle"){let A=w.type=="insert"?w.position.nodeAfter:w.range.start.nodeAfter;if(A&&A.is("element","paragraph")&&A.childCount>0&&(A=A.getChild(0)),!a.isImage(A))continue;const j=A.getAttribute("imageStyle");if(!j)continue;const D=d.get(j);D&&D.modelElements.includes(A.name)||(p.removeAttribute("imageStyle",A),y=!0)}return y})}}var S4=l(5083),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(S4.Z,yz),S4.Z.locals;class xz extends Ge{static get requires(){return[j4]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],a=E4(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const p of a)this._createButton(p);const d=E4([...o.filter(qe),...HC.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const p of d)this._createDropdown(p,a)}_createDropdown(e,o){const a=this.editor.ui.componentFactory;a.add(e.name,d=>{let p;const{defaultItem:y,items:w,title:A}=e,j=w.filter(W=>o.find(({name:X})=>D4(X)===W)).map(W=>{const X=a.create(W);return W===y&&(p=X),X});w.length!==j.length&&HC.warnInvalidStyle({dropdown:e});const D=ht(d,ve),I=D.buttonView,z=I.arrowView;return ft(D,j,{enableActiveItemFocusOnDropdownOpen:!0}),I.set({label:M4(A,p.label),class:null,tooltip:!0}),z.unbind("label"),z.set({label:A}),I.bind("icon").toMany(j,"isOn",(...W)=>{const X=W.findIndex(jl);return X<0?p.icon:j[X].icon}),I.bind("label").toMany(j,"isOn",(...W)=>{const X=W.findIndex(jl);return M4(A,X<0?p.label:j[X].label)}),I.bind("isOn").toMany(j,"isOn",(...W)=>W.some(jl)),I.bind("class").toMany(j,"isOn",(...W)=>W.some(jl)?"ck-splitbutton_flatten":void 0),I.on("execute",()=>{j.some(({isOn:W})=>W)?D.isOpen=!D.isOpen:p.fire("execute")}),D.bind("isEnabled").toMany(j,"isEnabled",(...W)=>W.some(jl)),this.listenTo(D,"execute",()=>{this.editor.editing.view.focus()}),D})}_createButton(e){const o=e.name;this.editor.ui.componentFactory.add(D4(o),a=>{const d=this.editor.commands.get("imageStyle"),p=new hr(a);return p.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",y=>y===o),p.on("execute",this._executeCommand.bind(this,o)),p})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function E4(c,e){for(const o of c)e[o.title]&&(o.title=e[o.title]);return c}function D4(c){return`imageStyle:${c}`}function M4(c,e){return(c?c+": ":"")+e}class vz extends Ge{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Hg(e)),e.commands.add("outdent",new Hg(e))}}const T4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',I4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class wz extends Ge{static get pluginName(){return"IndentUI"}init(){const e=this.editor,o=e.locale,a=e.t,d=o.uiLanguageDirection=="ltr"?T4:I4,p=o.uiLanguageDirection=="ltr"?I4:T4;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),p)}_defineButton(e,o,a){const d=this.editor;d.ui.componentFactory.add(e,p=>{const y=d.commands.get(e),w=new hr(p);return w.set({label:o,icon:a,tooltip:!0}),w.bind("isEnabled").to(y,"isEnabled"),this.listenTo(w,"execute",()=>{d.execute(e),d.editing.view.focus()}),w})}}class kz{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(o=>this._definitions.add(o)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(o,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!d.schema.isInline(a.item))return;const p=d.writer,y=p.document.selection;for(const w of this._definitions){const A=p.createAttributeElement("a",w.attributes,{priority:5});w.classes&&p.addClass(w.classes,A);for(const j in w.styles)p.setStyle(j,w.styles[j],A);p.setCustomProperty("link",!0,A),w.callback(a.attributeNewValue)?a.item.is("selection")?p.wrap(y.getFirstRange(),A):p.wrap(d.mapper.toViewRange(a.range),A):p.unwrap(d.mapper.toViewRange(a.range),A)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(o,a,{writer:d,mapper:p})=>{const y=p.toViewElement(a.item),w=Array.from(y.getChildren()).find(A=>A.is("element","a"));for(const A of this._definitions){const j=Cs(A.attributes);if(A.callback(a.attributeNewValue)){for(const[D,I]of j)D==="class"?d.addClass(I,w):d.setAttribute(D,I,w);A.classes&&d.addClass(A.classes,w);for(const D in A.styles)d.setStyle(D,A.styles[D],w)}else{for(const[D,I]of j)D==="class"?d.removeClass(I,w):d.removeAttribute(D,w);A.classes&&d.removeClass(A.classes,w);for(const D in A.styles)d.removeStyle(D,w)}}})}}}const Cz=function(c,e,o){var a=c.length;return o=o===void 0?a:o,!e&&o>=a?c:Zg(c,e,o)};var _z=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const R4=function(c){return _z.test(c)},Az=function(c){return c.split("")};var P4="\\ud800-\\udfff",Nz="["+P4+"]",qC="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",YC="\\ud83c[\\udffb-\\udfff]",O4="[^"+P4+"]",B4="(?:\\ud83c[\\udde6-\\uddff]){2}",L4="[\\ud800-\\udbff][\\udc00-\\udfff]",z4="(?:"+qC+"|"+YC+")?",F4="[\\ufe0e\\ufe0f]?",jz=F4+z4+("(?:\\u200d(?:"+[O4,B4,L4].join("|")+")"+F4+z4+")*"),Sz="(?:"+[O4+qC+"?",qC,B4,L4,Nz].join("|")+")",Ez=RegExp(YC+"(?="+YC+")|"+Sz+jz,"g");const Dz=function(c){return c.match(Ez)||[]},Mz=function(c){return R4(c)?Dz(c):Az(c)},Tz=function(c){return function(e){e=Ep(e);var o=R4(e)?Mz(e):void 0,a=o?o[0]:e.charAt(0),d=o?Cz(o,1).join(""):e.slice(1);return a[c]()+d}}("toUpperCase"),Iz=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Rz=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Pz=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Oz=/^((\w+:(\/{2,})?)|(\W))/i,WC="Ctrl+K";function V4(c,{writer:e}){const o=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,o),o}function U4(c){const e=String(c);return function(o){return!!o.replace(Iz,"").match(Rz)}(e)?e:"#"}function KC(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function QC(c,e){const o=(a=c,Pz.test(a)?"mailto:":e);var a;const d=!!o&&!G4(c);return c&&d?o+c:c}function G4(c){return Oz.test(c)}function H4(c){window.open(c,"_blank","noopener")}class Bz extends Vt{constructor(){super(...arguments),this.manualDecorators=new Fs,this.automaticDecorators=new kz}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,o=e.document.selection,a=o.getSelectedElement()||pn(o.getSelectedBlocks());KC(a,e.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(a,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(e,o={}){const a=this.editor.model,d=a.document.selection,p=[],y=[];for(const w in o)o[w]?p.push(w):y.push(w);a.change(w=>{if(d.isCollapsed){const A=d.getFirstPosition();if(d.hasAttribute("linkHref")){const j=q4(d);let D=yf(A,"linkHref",d.getAttribute("linkHref"),a);d.getAttribute("linkHref")===j&&(D=this._updateLinkContent(a,w,D,e)),w.setAttribute("linkHref",e,D),p.forEach(I=>{w.setAttribute(I,!0,D)}),y.forEach(I=>{w.removeAttribute(I,D)}),w.setSelection(w.createPositionAfter(D.end.nodeBefore))}else if(e!==""){const j=Cs(d.getAttributes());j.set("linkHref",e),p.forEach(I=>{j.set(I,!0)});const{end:D}=a.insertContent(w.createText(e,j),A);w.setSelection(D)}["linkHref",...p,...y].forEach(j=>{w.removeSelectionAttribute(j)})}else{const A=a.schema.getValidRanges(d.getRanges(),"linkHref"),j=[];for(const I of d.getSelectedBlocks())a.schema.checkAttribute(I,"linkHref")&&j.push(w.createRangeOn(I));const D=j.slice();for(const I of A)this._isRangeToUpdate(I,j)&&D.push(I);for(const I of D){let z=I;if(D.length===1){const W=q4(d);d.getAttribute("linkHref")===W&&(z=this._updateLinkContent(a,w,I,e),w.setSelection(w.createSelection(z)))}w.setAttribute("linkHref",e,z),p.forEach(W=>{w.setAttribute(W,!0,z)}),y.forEach(W=>{w.removeAttribute(W,z)})}}})}_getDecoratorStateFromModel(e){const o=this.editor.model,a=o.document.selection,d=a.getSelectedElement();return KC(d,o.schema)?d.getAttribute(e):a.getAttribute(e)}_isRangeToUpdate(e,o){for(const a of o)if(a.containsRange(e))return!1;return!0}_updateLinkContent(e,o,a,d){const p=o.createText(d,{linkHref:d});return e.insertContent(p,a)}}function q4(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const o=e[0];return o.is("$text")||o.is("$textProxy")?o.data:null}}class Lz extends Vt{refresh(){const e=this.editor.model,o=e.document.selection,a=o.getSelectedElement();KC(a,e.schema)?this.isEnabled=e.schema.checkAttribute(a,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref")}execute(){const e=this.editor,o=this.editor.model,a=o.document.selection,d=e.commands.get("link");o.change(p=>{const y=a.isCollapsed?[yf(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),o)]:o.schema.getValidRanges(a.getRanges(),"linkHref");for(const w of y)if(p.removeAttribute("linkHref",w),d)for(const A of d.manualDecorators)p.removeAttribute(A.id,w)})}}class zz extends nt(){constructor({id:e,label:o,attributes:a,classes:d,styles:p,defaultValue:y}){super(),this.id=e,this.set("value",void 0),this.defaultValue=y,this.label=o,this.attributes=a,this.classes=d,this.styles=p}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Y4=l(9773),Fz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Y4.Z,Fz),Y4.Z.locals;var Vz=Object.defineProperty,W4=Object.getOwnPropertySymbols,Uz=Object.prototype.hasOwnProperty,Gz=Object.prototype.propertyIsEnumerable,K4=(c,e,o)=>e in c?Vz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,Hz=(c,e)=>{for(var o in e||(e={}))Uz.call(e,o)&&K4(c,o,e[o]);if(W4)for(var o of W4(e))Gz.call(e,o)&&K4(c,o,e[o]);return c};const Q4="automatic",qz=/^(https?:)?\/\//;class Yz extends Ge{static get pluginName(){return"LinkEditing"}static get requires(){return[zS,TS,Ll]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:V4}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>V4(U4(a),d)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new Bz(e)),e.commands.add("unlink",new Lz(e));const o=function(a,d){const p={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(y=>("label"in y&&p[y.label]&&(y.label=p[y.label]),y)),d}(e.t,function(a){const d=[];if(a)for(const[p,y]of Object.entries(a)){const w=Object.assign({},y,{id:`link${Tz(p)}`});d.push(w)}return d}(e.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(a=>a.mode===Q4)),this._enableManualDecorators(o.filter(a=>a.mode==="manual")),e.plugins.get(zS).registerAttribute("linkHref"),function(a,d,p,y){const w=a.editing.view,A=new Set;w.document.registerPostFixer(j=>{const D=a.model.document.selection;let I=!1;if(D.hasAttribute(d)){const z=yf(D.getFirstPosition(),d,D.getAttribute(d),a.model),W=a.editing.mapper.toViewRange(z);for(const X of W.getItems())X.is("element",p)&&!X.hasClass(y)&&(j.addClass(y,X),A.add(X),I=!0)}return I}),a.conversion.for("editingDowncast").add(j=>{function D(){w.change(I=>{for(const z of A.values())I.removeClass(y,z),A.delete(z)})}j.on("insert",D,{priority:"highest"}),j.on("remove",D,{priority:"highest"}),j.on("attribute",D,{priority:"highest"}),j.on("selection",D,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const o=this.editor,a=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:Q4,callback:d=>!!d&&qz.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(e),a.length&&o.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const o=this.editor,a=o.commands.get("link").manualDecorators;e.forEach(d=>{o.model.schema.extend("$text",{allowAttributes:d.id});const p=new zz(d);a.add(p),o.conversion.for("downcast").attributeToElement({model:p.id,view:(y,{writer:w,schema:A},{item:j})=>{if((j.is("selection")||A.isInline(j))&&y){const D=w.createAttributeElement("a",p.attributes,{priority:5});p.classes&&w.addClass(p.classes,D);for(const I in p.styles)w.setStyle(I,p.styles[I],D);return w.setCustomProperty("link",!0,D),D}}}),o.conversion.for("upcast").elementToAttribute({view:Hz({name:"a"},p._createPattern()),model:{key:p.id}})})}_enableLinkOpen(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",(a,d)=>{if(!(C.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let p=d.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const y=p.getAttribute("href");y&&(a.stop(),d.preventDefault(),H4(y))},{context:"$capture"}),this.listenTo(o,"keydown",(a,d)=>{const p=e.commands.get("link").value;p&&d.keyCode===tr.enter&&d.altKey&&(a.stop(),H4(p))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,o=e.document.selection;this.listenTo(e,"insertContent",()=>{const a=o.anchor.nodeBefore,d=o.anchor.nodeAfter;o.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||e.change(p=>{JC(p,XC(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,o=e.model;e.editing.view.addObserver(um);let a=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=o.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const p=d.getFirstPosition(),y=yf(p,"linkHref",d.getAttribute("linkHref"),o);(p.isTouching(y.start)||p.isTouching(y.end))&&o.change(w=>{JC(w,XC(o.schema))})})}_enableTypingOverLink(){const e=this.editor,o=e.editing.view;let a=null,d=!1;this.listenTo(o.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const p=e.model.document.selection;p.isCollapsed||(d?d=!1:J4(e)&&function(y){const w=y.document.selection,A=w.getFirstPosition(),j=w.getLastPosition(),D=A.nodeAfter;if(!D||!D.is("$text")||!D.hasAttribute("linkHref"))return!1;const I=j.textNode||j.nodeBefore;return D===I?!0:yf(A,"linkHref",D.getAttribute("linkHref"),y).containsRange(y.createRange(A,j),!0)}(e.model)&&(a=p.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(p,[y])=>{d=!1,J4(e)&&a&&(e.model.change(w=>{for(const[A,j]of a)w.setAttribute(A,j,y)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,o=e.model,a=o.document.selection,d=e.editing.view;let p=!1,y=!1;this.listenTo(d.document,"delete",(w,A)=>{y=A.direction==="backward"},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{p=!1;const w=a.getFirstPosition(),A=a.getAttribute("linkHref");if(!A)return;const j=yf(w,"linkHref",A,o);p=j.containsPosition(w)||j.end.isEqual(w)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{y&&(y=!1,p||e.model.enqueueChange(w=>{JC(w,XC(o.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,o=e.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(d,p)=>{o.change(y=>{const w=y.createRangeIn(p.content);for(const A of w.getItems())if(A.hasAttribute("linkHref")){const j=QC(A.getAttribute("linkHref"),a);y.setAttribute("linkHref",j,A)}})})}}function JC(c,e){c.removeSelectionAttribute("linkHref");for(const o of e)c.removeSelectionAttribute(o)}function J4(c){return c.model.change(e=>e.batch).isTyping}function XC(c){return c.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var X4=l(7754),Wz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(X4.Z,Wz),X4.Z.locals;class Kz extends Wt{constructor(e,o){super(e),this.focusTracker=new ks,this.keystrokes=new Bo,this._focusables=new Lo;const a=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,o)=>(e[o.name]=o.isOn,e),{})}render(){super.render(),b({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,o=new Cp(this.locale,fC);return o.label=e("Link URL"),o}_createButton(e,o,a,d){const p=new hr(this.locale);return p.set({label:e,icon:o,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createManualDecoratorSwitches(e){const o=this.createCollection();for(const a of e.manualDecorators){const d=new fi(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,e],"value",(p,y)=>y===void 0&&p===void 0?!!a.defaultValue:!!p),d.on("execute",()=>{a.set("value",!d.isOn)}),o.add(d)}return o}_createFormChildren(e){const o=this.createCollection();if(o.add(this.urlInputView),e.length){const a=new Wt;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(a)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}var $4=l(2347),Qz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()($4.Z,Qz),$4.Z.locals;class Jz extends Wt{constructor(e){super(e),this.focusTracker=new ks,this.keystrokes=new Bo,this._focusables=new Lo;const o=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),x.pencil,"edit"),this.set("href",void 0),this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,o,a){const d=new hr(this.locale);return d.set({label:e,icon:o,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const e=new hr(this.locale),o=this.bindTemplate,a=this.t;return e.set({withText:!0,tooltip:a("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",d=>d&&U4(d)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",d=>d||a("This link has no URL")),e.bind("isEnabled").to(this,"href",d=>!!d),e.template.tag="a",e.template.eventListeners={},e}}const zl="link-ui";class Xz extends Ge{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[q0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(dm),this._balloon=e.plugins.get(q0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:zl,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:zl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,o=new Jz(e.locale),a=e.commands.get("link"),d=e.commands.get("unlink");return o.bind("href").to(a,"value"),o.editButtonView.bind("isEnabled").to(a),o.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{e.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(p,y)=>{this._hideUI(),y()}),o.keystrokes.set(WC,(p,y)=>{this._addFormView(),y()}),o}_createFormView(){const e=this.editor,o=e.commands.get("link"),a=e.config.get("link.defaultProtocol"),d=new(g(Kz))(e.locale,o);return d.urlInputView.fieldView.bind("value").to(o,"value"),d.urlInputView.bind("isEnabled").to(o,"isEnabled"),d.saveButtonView.bind("isEnabled").to(o),this.listenTo(d,"submit",()=>{const{value:p}=d.urlInputView.fieldView.element,y=QC(p,a);e.execute("link",y,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(p,y)=>{this._closeFormView(),y()}),d}_createToolbarLinkButton(){const e=this.editor,o=e.commands.get("link"),a=e.t;e.ui.componentFactory.add("link",d=>{const p=new hr(d);return p.isEnabled=!0,p.label=a("Link"),p.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',p.keystroke=WC,p.tooltip=!0,p.isToggleable=!0,p.bind("isEnabled").to(o,"isEnabled"),p.bind("isOn").to(o,"value",y=>!!y),this.listenTo(p,"execute",()=>this._showUI(!0)),p})}_enableBalloonActivators(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(WC,(a,d)=>{d(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,o)=>{this._isUIVisible&&(this._hideUI(),o())}),m({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,o=e.editing.view.document;let a=this._getSelectedLinkElement(),d=y();const p=()=>{const w=this._getSelectedLinkElement(),A=y();a&&!w||!a&&A!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=w,d=A};function y(){return o.selection.focus.getAncestors().reverse().find(w=>w.is("element"))}this.listenTo(e.ui,"update",p),this.listenTo(this._balloon,"change:visibleView",p)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,o=this.editor.model,a=e.document;let d;if(o.markers.has(zl)){const p=Array.from(this.editor.editing.mapper.markerNameToElements(zl)),y=e.createRange(e.createPositionBefore(p[0]),e.createPositionAfter(p[p.length-1]));d=e.domConverter.viewRangeToDom(y)}else d=()=>{const p=this._getSelectedLinkElement();return p?e.domConverter.mapViewToDom(p):e.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const e=this.editor.editing.view,o=e.document.selection,a=o.getSelectedElement();if(o.isCollapsed||a&&yn(a))return $C(o.getFirstPosition());{const d=o.getFirstRange().getTrimmed(),p=$C(d.start),y=$C(d.end);return p&&p==y&&e.createRangeIn(p).getTrimmed().isEqual(d)?p:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(o=>{const a=e.document.selection.getFirstRange();if(e.markers.has(zl))o.updateMarker(zl,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:p})=>!e.schema.isContent(p),{boundaries:a});o.addMarker(zl,{usingOperation:!1,affectsData:!1,range:o.createRange(d,a.end)})}else o.addMarker(zl,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(zl)&&e.change(o=>{o.removeMarker(zl)})}}function $C(c){return c.getAncestors().find(e=>{return(o=e).is("attributeElement")&&!!o.getCustomProperty("link");var o})||null}const $z=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Zz extends Ge{static get requires(){return[Wc]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,o=new LS(e.model,a=>{if(!function(p){return p.length>4&&p[p.length-1]===" "&&p[p.length-2]!==" "}(a))return;const d=Z4(a.substr(0,a.length-1));return d?{url:d}:void 0});o.on("matched:data",(a,d)=>{const{batch:p,range:y,url:w}=d;if(!p.isTyping)return;const A=y.end.getShiftedBy(-1),j=A.getShiftedBy(-w.length),D=e.model.createRange(j,A);this._applyAutoLink(w,D)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,o=e.model,a=e.commands.get("enter");a&&a.on("execute",()=>{const d=o.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const p=o.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(p)})}_enableShiftEnterHandling(){const e=this.editor,o=e.model,a=e.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=o.document.selection.getFirstPosition(),p=o.createRange(o.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(p)})}_checkAndApplyAutoLinkOnRange(e){const o=this.editor.model,{text:a,range:d}=BS(e,o),p=Z4(a);if(p){const y=o.createRange(d.end.getShiftedBy(-p.length),d.end);this._applyAutoLink(p,y)}}_applyAutoLink(e,o){const a=this.editor.model,d=QC(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(p,y){return y.schema.checkAttributeInSelection(y.createSelection(p),"linkHref")}(o,a)&&G4(d)&&!function(p){const y=p.start.nodeAfter;return!!y&&y.hasAttribute("linkHref")}(o)&&this._persistAutoLink(d,o)}_persistAutoLink(e,o){const a=this.editor.model,d=this.editor.plugins.get("Delete");a.enqueueChange(p=>{p.setAttribute("linkHref",e,o),a.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function Z4(c){const e=$z.exec(c);return e?e[2]:null}var eD=l(111),eF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(eD.Z,eF),eD.Z.locals;var tD=l(5730),tF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(tD.Z,tF),tD.Z.locals;var rD=l(4564),rF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(rD.Z,rF),rD.Z.locals;function nF(c,e){const o=e.mapper,a=e.writer,d=c.getAttribute("listType")=="numbered"?"ol":"ul",p=function(w){const A=w.createContainerElement("li");return A.getFillerOffset=iF,A}(a),y=a.createContainerElement(d,null);return a.insert(a.createPositionAt(y,0),p),o.bindElements(c,p),p}function nD(c,e,o,a){const d=e.parent,p=o.mapper,y=o.writer;let w=p.toViewPosition(a.createPositionBefore(c));const A=oD(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),j=c.previousSibling;if(A&&A.getAttribute("listIndent")==c.getAttribute("listIndent")){const D=p.toViewElement(A);w=y.breakContainer(y.createPositionAfter(D))}else if(j&&j.name=="listItem"){w=p.toViewPosition(a.createPositionAt(j,"end"));const D=p.findMappedViewAncestor(w),I=function(z){for(const W of z.getChildren())if(W.name=="ul"||W.name=="ol")return W;return null}(D);w=I?y.createPositionBefore(I):y.createPositionAt(D,"end")}else w=p.toViewPosition(a.createPositionBefore(c));if(w=sD(w),y.insert(w,d),j&&j.name=="listItem"){const D=p.toViewElement(j),I=y.createRange(y.createPositionAt(D,0),w).getWalker({ignoreElementEnd:!0});for(const z of I)if(z.item.is("element","li")){const W=y.breakContainer(y.createPositionBefore(z.item)),X=z.item.parent,re=y.createPositionAt(e,"end");Ki(y,re.nodeBefore,re.nodeAfter),y.move(y.createRangeOn(X),re),I._position=W}}else{const D=d.nextSibling;if(D&&(D.is("element","ul")||D.is("element","ol"))){let I=null;for(const z of D.getChildren()){const W=p.toModelElement(z);if(!(W&&W.getAttribute("listIndent")>c.getAttribute("listIndent")))break;I=z}I&&(y.breakContainer(y.createPositionAfter(I)),y.move(y.createRangeOn(I.parent),y.createPositionAt(e,"end")))}}Ki(y,d,d.nextSibling),Ki(y,d.previousSibling,d)}function Ki(c,e,o){return!e||!o||e.name!="ul"&&e.name!="ol"||e.name!=o.name||e.getAttribute("class")!==o.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(e))}function sD(c){return c.getLastMatchingPosition(e=>e.item.is("uiElement"))}function oD(c,e){const o=!!e.sameIndent,a=!!e.smallerIndent,d=e.listIndent;let p=c;for(;p&&p.name=="listItem";){const y=p.getAttribute("listIndent");if(o&&d==y||a&&d>y)return p;p=e.direction==="forward"?p.nextSibling:p.previousSibling}return null}function iD(c,e,o,a){c.ui.componentFactory.add(e,d=>{const p=c.commands.get(e),y=new hr(d);return y.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(p,"value","isEnabled"),y.on("execute",()=>{c.execute(e),c.editing.view.focus()}),y})}function ZC(c,e){const o=[],a=c.parent,d={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:e},p=a.getAttribute("listIndent"),y=[...new us(d)].filter(w=>w.item.is("element")).map(w=>w.item);for(const w of y){if(!w.is("element","listItem")||w.getAttribute("listIndent")<p)break;if(!(w.getAttribute("listIndent")>p)){if(w.getAttribute("listType")!==a.getAttribute("listType")||w.getAttribute("listStyle")!==a.getAttribute("listStyle")||w.getAttribute("listReversed")!==a.getAttribute("listReversed")||w.getAttribute("listStart")!==a.getAttribute("listStart"))break;e==="backward"?o.unshift(w):o.push(w)}}return o}const sF=["disc","circle","square"],oF=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function iF(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:ib.call(this)}class aF extends Ge{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;iD(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),iD(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const lF=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:o}of lF);var aD=l(4721),cF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(aD.Z,cF),aD.Z.locals;var lD=l(6082),dF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(lD.Z,dF),lD.Z.locals;var cD=l(2417),uF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(cD.Z,uF),cD.Z.locals;class dD extends Vt{constructor(e,o){super(e),this._indentBy=o=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,o=e.document;let a=Array.from(o.selection.getSelectedBlocks());e.change(d=>{const p=a[a.length-1];let y=p.nextSibling;for(;y&&y.name=="listItem"&&y.getAttribute("listIndent")>p.getAttribute("listIndent");)a.push(y),y=y.nextSibling;this._indentBy<0&&(a=a.reverse());for(const w of a){const A=w.getAttribute("listIndent")+this._indentBy;A<0?d.rename(w,"paragraph"):d.setAttribute("listIndent",A,w)}this.fire("_executeCleanup",a)})}_checkEnabled(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const o=e.getAttribute("listIndent"),a=e.getAttribute("listType");let d=e.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;){if(d.getAttribute("listIndent")==o)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}class uD extends Vt{constructor(e,o){super(e),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const o=this.editor.model,a=o.document,d=Array.from(a.selection.getSelectedBlocks()).filter(y=>mD(y,o.schema)),p=e.forceValue!==void 0?!e.forceValue:this.value;o.change(y=>{if(p){let w=d[d.length-1].nextSibling,A=Number.POSITIVE_INFINITY,j=[];for(;w&&w.name=="listItem"&&w.getAttribute("listIndent")!==0;){const D=w.getAttribute("listIndent");D<A&&(A=D);const I=D-A;j.push({element:w,listIndent:I}),w=w.nextSibling}j=j.reverse();for(const D of j)y.setAttribute("listIndent",D.listIndent,D.element)}if(!p){let w=Number.POSITIVE_INFINITY;for(const A of d)A.is("element","listItem")&&A.getAttribute("listIndent")<w&&(w=A.getAttribute("listIndent"));w=w===0?1:w,hD(d,!0,w),hD(d,!1,w)}for(const w of d.reverse())p&&w.name=="listItem"?y.rename(w,"paragraph"):p||w.name=="listItem"?p||w.name!="listItem"||w.getAttribute("listType")==this.type||y.setAttribute("listType",this.type,w):(y.setAttributes({listType:this.type,listIndent:0},w),y.rename(w,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const e=pn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,o=this.editor.model.schema,a=pn(e.getSelectedBlocks());return!!a&&mD(a,o)}}function hD(c,e,o){const a=e?c[0]:c[c.length-1];if(a.is("element","listItem")){let d=a[e?"previousSibling":"nextSibling"],p=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;)p>d.getAttribute("listIndent")&&(p=d.getAttribute("listIndent")),d.getAttribute("listIndent")==p&&c[e?"unshift":"push"](d),d=d[e?"previousSibling":"nextSibling"]}}function mD(c,e){return e.checkChild(c.parent,"listItem")&&!e.isObject(c)}class hF extends Ge{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(o){return sF.includes(o)?"bulleted":oF.includes(o)?"numbered":null}(e)}getSelectedListItems(e){return function(o){let a=[...o.document.selection.getSelectedBlocks()].filter(d=>d.is("element","listItem")).map(d=>{const p=o.change(y=>y.createPositionAt(d,0));return[...ZC(p,"backward"),...ZC(p,"forward")]}).flat();return a=[...new Set(a)],a}(e)}getSiblingNodes(e,o){return ZC(e,o)}}function pD(c){return(e,o,a)=>{const d=a.consumable;if(!d.test(o.item,"insert")||!d.test(o.item,"attribute:listType")||!d.test(o.item,"attribute:listIndent"))return;d.consume(o.item,"insert"),d.consume(o.item,"attribute:listType"),d.consume(o.item,"attribute:listIndent");const p=o.item;nD(p,nF(p,a),a,c)}}const mF=(c,e,o)=>{if(!o.consumable.test(e.item,c.name))return;const a=o.mapper.toViewElement(e.item),d=o.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a));const p=a.parent,y=e.attributeNewValue=="numbered"?"ol":"ul";d.rename(y,p)},pF=(c,e,o)=>{o.consumable.consume(e.item,c.name);const a=o.mapper.toViewElement(e.item).parent,d=o.writer;Ki(d,a,a.nextSibling),Ki(d,a.previousSibling,a)},fD=(c,e,o)=>{if(o.consumable.test(e.item,c.name)&&e.item.name!="listItem"){let a=o.mapper.toViewPosition(e.range.start);const d=o.writer,p=[];for(;(a.parent.name=="ul"||a.parent.name=="ol")&&(a=d.breakContainer(a),a.parent.name=="li");){const y=a,w=d.createPositionAt(a.parent,"end");if(!y.isEqual(w)){const A=d.remove(d.createRange(y,w));p.push(A)}a=d.createPositionAfter(a.parent)}if(p.length>0){for(let y=0;y<p.length;y++){const w=a.nodeBefore;if(a=d.insert(a,p[y]).end,y>0){const A=Ki(d,w,w.nextSibling);A&&A.parent==w&&a.offset--}}Ki(d,a.nodeBefore,a.nodeAfter)}}},fF=(c,e,o)=>{const a=o.mapper.toViewPosition(e.position),d=a.nodeBefore,p=a.nodeAfter;Ki(o.writer,d,p)},gF=(c,e,o)=>{if(o.consumable.consume(e.viewItem,{name:!0})){const a=o.writer,d=a.createElement("listItem"),p=function(A){let j=0,D=A.parent;for(;D;){if(D.is("element","li"))j++;else{const I=D.previousSibling;I&&I.is("element","li")&&j++}D=D.parent}return j}(e.viewItem);a.setAttribute("listIndent",p,d);const y=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(a.setAttribute("listType",y,d),!o.safeInsert(d,e.modelCursor))return;const w=function(A,j,D){const{writer:I,schema:z}=D;let W=I.createPositionAfter(A);for(const X of j)if(X.name=="ul"||X.name=="ol")W=D.convertItem(X,W).modelCursor;else{const re=D.convertItem(X,I.createPositionAt(A,"end")),de=re.modelRange.start.nodeAfter;de&&de.is("element")&&!z.checkChild(A,de.name)&&(A=re.modelCursor.parent.is("element","listItem")?re.modelCursor.parent:xF(re.modelCursor),W=I.createPositionAfter(A))}return W}(d,e.viewItem.getChildren(),o);e.modelRange=a.createRange(e.modelCursor,w),o.updateConversionResult(d,e)}},gD=(c,e,o)=>{if(o.consumable.test(e.viewItem,{name:!0})){const a=Array.from(e.viewItem.getChildren());for(const d of a)!(d.is("element","li")||kf(d))&&d._remove()}},bF=(c,e,o)=>{if(o.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const a=[...e.viewItem.getChildren()];let d=!1;for(const p of a)d&&!kf(p)&&p._remove(),kf(p)&&(d=!0)}};function bD(c){return(e,o)=>{if(o.isPhantom)return;const a=o.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=o.mapper.toViewElement(a),p=d.getAncestors().find(kf),y=c.createPositionAt(d,0).getWalker();for(const w of y){if(w.type=="elementStart"&&w.item.is("element","li")){o.viewPosition=w.previousPosition;break}if(w.type=="elementEnd"&&w.item==p){o.viewPosition=w.nextPosition;break}}}}}const yF=function(c,[e,o]){const a=this;let d,p=e.is("documentFragment")?e.getChild(0):e;if(d=o?a.createSelection(o):a.document.selection,p&&p.is("element","listItem")){const y=d.getFirstPosition();let w=null;if(y.parent.is("element","listItem")?w=y.parent:y.nodeBefore&&y.nodeBefore.is("element","listItem")&&(w=y.nodeBefore),w){const A=w.getAttribute("listIndent");if(A>0)for(;p&&p.is("element","listItem");)p._setAttribute("listIndent",p.getAttribute("listIndent")+A),p=p.nextSibling}}};function xF(c){const e=new us({startPosition:c});let o;do o=e.next();while(!o.value.item.is("element","listItem"));return o.value.item}function yD(c,e,o,a,d,p){const y=oD(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),w=d.mapper,A=d.writer,j=y?y.getAttribute("listIndent"):null;let D;if(y)if(j==c){const I=w.toViewElement(y).parent;D=A.createPositionAfter(I)}else{const I=p.createPositionAt(y,"end");D=w.toViewPosition(I)}else D=o;D=sD(D);for(const I of[...a.getChildren()])kf(I)&&(D=A.move(A.createRangeOn(I),D).end,Ki(A,I,I.nextSibling),Ki(A,I.previousSibling,I))}function kf(c){return c.is("element","ol")||c.is("element","ul")}class vF extends Ge{static get pluginName(){return"ListEditing"}static get requires(){return[X0,Wc,hF]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=e.data,a=e.editing;var d;e.model.document.registerPostFixer(y=>function(w,A){const j=w.document.differ.getChanges(),D=new Map;let I=!1;for(const re of j)if(re.type=="insert"&&re.name=="listItem")z(re.position);else if(re.type=="insert"&&re.name!="listItem"){if(re.name!="$text"){const de=re.position.nodeAfter;de.hasAttribute("listIndent")&&(A.removeAttribute("listIndent",de),I=!0),de.hasAttribute("listType")&&(A.removeAttribute("listType",de),I=!0),de.hasAttribute("listStyle")&&(A.removeAttribute("listStyle",de),I=!0),de.hasAttribute("listReversed")&&(A.removeAttribute("listReversed",de),I=!0),de.hasAttribute("listStart")&&(A.removeAttribute("listStart",de),I=!0);for(const fe of Array.from(w.createRangeIn(de)).filter(we=>we.item.is("element","listItem")))z(fe.previousPosition)}z(re.position.getShiftedBy(re.length))}else re.type=="remove"&&re.name=="listItem"?z(re.position):(re.type=="attribute"&&re.attributeKey=="listIndent"||re.type=="attribute"&&re.attributeKey=="listType")&&z(re.range.start);for(const re of D.values())W(re),X(re);return I;function z(re){const de=re.nodeBefore;if(de&&de.is("element","listItem")){let fe=de;if(D.has(fe))return;for(let we=fe.previousSibling;we&&we.is("element","listItem");we=fe.previousSibling)if(fe=we,D.has(fe))return;D.set(de,fe)}else{const fe=re.nodeAfter;fe&&fe.is("element","listItem")&&D.set(fe,fe)}}function W(re){let de=0,fe=null;for(;re&&re.is("element","listItem");){const we=re.getAttribute("listIndent");if(we>de){let Fe;fe===null?(fe=we-de,Fe=de):(fe>we&&(fe=we),Fe=we-fe),A.setAttribute("listIndent",Fe,re),I=!0}else fe=null,de=re.getAttribute("listIndent")+1;re=re.nextSibling}}function X(re){let de=[],fe=null;for(;re&&re.is("element","listItem");){const we=re.getAttribute("listIndent");if(fe&&fe.getAttribute("listIndent")>we&&(de=de.slice(0,we+1)),we!=0)if(de[we]){const Fe=de[we];re.getAttribute("listType")!=Fe&&(A.setAttribute("listType",Fe,re),I=!0)}else de[we]=re.getAttribute("listType");fe=re,re=re.nextSibling}}}(e.model,y)),a.mapper.registerViewToModelLength("li",e_),o.mapper.registerViewToModelLength("li",e_),a.mapper.on("modelToViewPosition",bD(a.view)),a.mapper.on("viewToModelPosition",(d=e.model,(y,w)=>{const A=w.viewPosition,j=A.parent,D=w.mapper;if(j.name=="ul"||j.name=="ol"){if(A.isAtEnd){const I=D.toModelElement(A.nodeBefore),z=D.getModelLength(A.nodeBefore);w.modelPosition=d.createPositionBefore(I).getShiftedBy(z)}else{const I=D.toModelElement(A.nodeAfter);w.modelPosition=d.createPositionBefore(I)}y.stop()}else if(j.name=="li"&&A.nodeBefore&&(A.nodeBefore.name=="ul"||A.nodeBefore.name=="ol")){const I=D.toModelElement(j);let z=1,W=A.nodeBefore;for(;W&&kf(W);)z+=D.getModelLength(W),W=W.previousSibling;w.modelPosition=d.createPositionBefore(I).getShiftedBy(z),y.stop()}})),o.mapper.on("modelToViewPosition",bD(a.view)),e.conversion.for("editingDowncast").add(y=>{y.on("insert",fD,{priority:"high"}),y.on("insert:listItem",pD(e.model)),y.on("attribute:listType:listItem",mF,{priority:"high"}),y.on("attribute:listType:listItem",pF,{priority:"low"}),y.on("attribute:listIndent:listItem",function(w){return(A,j,D)=>{if(!D.consumable.consume(j.item,"attribute:listIndent"))return;const I=D.mapper.toViewElement(j.item),z=D.writer;z.breakContainer(z.createPositionBefore(I)),z.breakContainer(z.createPositionAfter(I));const W=I.parent,X=W.previousSibling,re=z.createRangeOn(W);z.remove(re),X&&X.nextSibling&&Ki(z,X,X.nextSibling),yD(j.attributeOldValue+1,j.range.start,re.start,I,D,w),nD(j.item,I,D,w);for(const de of j.item.getChildren())D.consumable.consume(de,"insert")}}(e.model)),y.on("remove:listItem",function(w){return(A,j,D)=>{const I=D.mapper.toViewPosition(j.position).getLastMatchingPosition(fe=>!fe.item.is("element","li")).nodeAfter,z=D.writer;z.breakContainer(z.createPositionBefore(I)),z.breakContainer(z.createPositionAfter(I));const W=I.parent,X=W.previousSibling,re=z.createRangeOn(W),de=z.remove(re);X&&X.nextSibling&&Ki(z,X,X.nextSibling),yD(D.mapper.toModelElement(I).getAttribute("listIndent")+1,j.position,re.start,I,D,w);for(const fe of z.createRangeIn(de).getItems())D.mapper.unbindViewElement(fe);A.stop()}}(e.model)),y.on("remove",fF,{priority:"low"})}),e.conversion.for("dataDowncast").add(y=>{y.on("insert",fD,{priority:"high"}),y.on("insert:listItem",pD(e.model))}),e.conversion.for("upcast").add(y=>{y.on("element:ul",gD,{priority:"high"}),y.on("element:ol",gD,{priority:"high"}),y.on("element:li",bF,{priority:"high"}),y.on("element:li",gF)}),e.model.on("insertContent",yF,{priority:"high"}),e.commands.add("numberedList",new uD(e,"numbered")),e.commands.add("bulletedList",new uD(e,"bulleted")),e.commands.add("indentList",new dD(e,"forward")),e.commands.add("outdentList",new dD(e,"backward"));const p=a.view.document;this.listenTo(p,"enter",(y,w)=>{const A=this.editor.model.document,j=A.selection.getLastPosition().parent;A.selection.isCollapsed&&j.name=="listItem"&&j.isEmpty&&(this.editor.execute("outdentList"),w.preventDefault(),y.stop())},{context:"li"}),this.listenTo(p,"delete",(y,w)=>{if(w.direction!=="backward")return;const A=this.editor.model.document.selection;if(!A.isCollapsed)return;const j=A.getFirstPosition();if(!j.isAtStart)return;const D=j.parent;D.name==="listItem"&&(D.previousSibling&&D.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),w.preventDefault(),y.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(y,w)=>{const A=w.shiftKey?"outdentList":"indentList";this.editor.commands.get(A).isEnabled&&(e.execute(A),w.stopPropagation(),w.preventDefault(),y.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,o=e.get("indent"),a=e.get("outdent");o&&o.registerChildCommand(e.get("indentList")),a&&a.registerChildCommand(e.get("outdentList"))}}function e_(c){let e=1;for(const o of c.getChildren())if(o.name=="ul"||o.name=="ol")for(const a of o.getChildren())e+=e_(a);return e}lr("Ctrl+Enter");var xD=l(1199),wF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(xD.Z,wF),xD.Z.locals;function vD(c,e){const o=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const y=d.attributeNewValue,w=p.writer,A=p.mapper.toViewElement(d.item),j=[...A.getChildren()].find(I=>I.getCustomProperty("media-content"));w.remove(j);const D=c.getMediaViewElement(w,y,e);w.insert(w.createPositionAt(A,0),D)};return a=>{a.on("attribute:url:media",o)}}function wD(c,e,o,a){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,o,a),c.createSlot()])}function kD(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function CD(c,e,o,a){c.change(d=>{const p=d.createElement("media",{url:e});c.insertObject(p,o,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class kF extends Vt{refresh(){const e=this.editor.model,o=e.document.selection,a=kD(o);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(d){const p=d.getSelectedElement();return!!p&&p.name==="media"}(o)||function(d,p){let w=XS(d,p).start.parent;return w.isEmpty&&!p.schema.isLimit(w)&&(w=w.parent),p.schema.checkChild(w,"media")}(o,e)}execute(e){const o=this.editor.model,a=o.document.selection,d=kD(a);d?o.change(p=>{p.setAttribute("url",e,d)}):CD(o,e,a,!0)}}class CF{constructor(e,o){const a=o.providers,d=o.extraProviders||[],p=new Set(o.removeProviders),y=a.concat(d).filter(w=>{const A=w.name;return A?!p.has(A):(Y("media-embed-no-provider-name",{provider:w}),!1)});this.locale=e,this.providerDefinitions=y}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,o,a){return this._getMedia(o).getViewElement(e,a)}_getMedia(e){if(!e)return new _D(this.locale);e=e.trim();for(const o of this.providerDefinitions){const a=o.html,d=Sn(o.url);for(const p of d){const y=this._getUrlMatches(e,p);if(y)return new _D(this.locale,e,y,a)}}return null}_getUrlMatches(e,o){let a=e.match(o);if(a)return a;let d=e.replace(/^https?:\/\//,"");return a=d.match(o),a||(d=d.replace(/^www\./,""),a=d.match(o),a||null)}}class _D{constructor(e,o,a,d){this.url=this._getValidUrl(o),this._locale=e,this._match=a,this._previewRenderer=d}getViewElement(e,o){const a={};let d;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),o.renderForEditingView&&(a.class="ck-media__wrapper");const p=this._getPreviewHtml(o);d=e.createRawElement("div",a,(y,w)=>{w.setContentOf(y,p)})}else this.url&&(a.url=this.url),d=e.createEmptyElement(o.elementName,a);return e.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new qi,o=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new pi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":o("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var AD=l(7442),_F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(AD.Z,_F),AD.Z.locals;class ow extends Ge{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:o=>{const a=o[1],d=o[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${d?`?start=${d}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new CF(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,o=e.model.schema,a=e.t,d=e.conversion,p=e.config.get("mediaEmbed.previewsInData"),y=e.config.get("mediaEmbed.elementName"),w=this.registry;e.commands.add("mediaEmbed",new kF(e)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),d.for("dataDowncast").elementToStructure({model:"media",view:(A,{writer:j})=>{const D=A.getAttribute("url");return wD(j,w,D,{elementName:y,renderMediaPreview:!!D&&p})}}),d.for("dataDowncast").add(vD(w,{elementName:y,renderMediaPreview:p})),d.for("editingDowncast").elementToStructure({model:"media",view:(A,{writer:j})=>{const D=A.getAttribute("url");return function(I,z,W){return z.setCustomProperty("media",!0,I),PC(I,z,{label:W})}(wD(j,w,D,{elementName:y,renderForEditingView:!0}),j,a("media widget"))}}),d.for("editingDowncast").add(vD(w,{elementName:y,renderForEditingView:!0})),d.for("upcast").elementToElement({view:A=>["oembed",y].includes(A.name)&&A.getAttribute("url")?{name:!0}:null,model:(A,{writer:j})=>{const D=A.getAttribute("url");return w.hasMedia(D)?j.createElement("media",{url:D}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(A,{writer:j})=>{const D=A.getAttribute("data-oembed-url");return w.hasMedia(D)?j.createElement("media",{url:D}):null}}).add(A=>{A.on("element:figure",(j,D,I)=>{if(!I.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:z,modelCursor:W}=I.convertChildren(D.viewItem,D.modelCursor);D.modelRange=z,D.modelCursor=W,pn(z.getItems())||I.consumable.revert(D.viewItem,{name:!0,classes:"media"})})})}}const AF=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class NF extends Ge{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[uE,Wc,yE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,o=e.model.document,a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const d=o.selection.getFirstRange(),p=ps.fromPosition(d.start);p.stickiness="toPrevious";const y=ps.fromPosition(d.end);y.stickiness="toNext",o.once("change:data",()=>{this._embedMediaBetweenPositions(p,y),p.detach(),y.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Mt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,o){const a=this.editor,d=a.plugins.get(ow).registry,p=new Uo(e,o),y=p.getWalker({ignoreElementEnd:!0});let w="";for(const A of y)A.item.is("$textProxy")&&(w+=A.item.data);if(w=w.trim(),!w.match(AF)||!d.hasMedia(w))return void p.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ps.fromPosition(e),this._timeoutId=Mt.window.setTimeout(()=>{a.model.change(A=>{this._timeoutId=null,A.remove(p),p.detach();let j=null;this._positionToInsert.root.rootName!=="$graveyard"&&(j=this._positionToInsert),CD(a.model,w,j,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Wc).requestUndoOnBackspace()},100)):p.detach()}}var ND=l(9292),jF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(ND.Z,jF),ND.Z.locals;class SF extends Wt{constructor(e,o){super(o);const a=o.t;this.focusTracker=new ks,this.keystrokes=new Bo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),x.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(a("Cancel"),x.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),b({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);const e=o=>o.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const o=e(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,o=new Cp(this.locale,fC),a=o.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),o.label=e("Media URL"),o.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{o.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),o}_createButton(e,o,a,d){const p=new hr(this.locale);return p.set({label:e,icon:o,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}}class EF extends Ge{static get requires(){return[ow]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,o=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",a=>{const d=ht(a);return this._setUpDropdown(d,o),d})}_setUpDropdown(e,o){const a=this.editor,d=a.t,p=e.buttonView,y=a.plugins.get(ow).registry;e.once("change:isOpen",()=>{const w=new(g(SF))(function(A,j){return[D=>{if(!D.url.length)return A("The URL must not be empty.")},D=>{if(!j.hasMedia(D.url))return A("This media URL is not supported.")}]}(a.t,y),a.locale);e.panelView.children.add(w),p.on("open",()=>{w.disableCssTransitions(),w.url=o.value||"",w.urlInputView.fieldView.select(),w.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{w.isValid()&&(a.execute("mediaEmbed",w.url),a.editing.view.focus())}),e.on("change:isOpen",()=>w.resetFormStatus()),e.on("cancel",()=>{a.editing.view.focus()}),w.delegate("submit","cancel").to(e),w.urlInputView.fieldView.bind("value").to(o,"value"),w.urlInputView.bind("isEnabled").to(o,"isEnabled")}),e.bind("isEnabled").to(o),p.set({label:d("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var jD=l(4652),DF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(jD.Z,DF),jD.Z.locals;function MF(c,e){if(!c.childCount)return;const o=new Wi(c.document),a=function(y,w){const A=w.createRangeIn(y),j=new Fo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),D=[];for(const I of A)if(I.type==="elementStart"&&j.match(I.item)){const z=IF(I.item);D.push({element:I.item,id:z.id,order:z.order,indent:z.indent})}return D}(c,o);if(!a.length)return;let d=null,p=1;a.forEach((y,w)=>{const A=function(X,re){if(!X)return!0;if(X.id!==re.id)return re.indent-X.indent!=1;const de=re.element.previousSibling;if(!de)return!0;return fe=de,!(fe.is("element","ol")||fe.is("element","ul"));var fe}(a[w-1],y),j=A?null:a[w-1],D=(z=y,(I=j)?z.indent-I.indent:z.indent-1);var I,z;if(A&&(d=null,p=1),!d||D!==0){const X=function(re,de){const fe=new RegExp(`@list l${re.id}:level${re.indent}\\s*({[^}]*)`,"gi"),we=/mso-level-number-format:([^;]{0,100});/gi,Fe=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,st=fe.exec(de);let _t="decimal",Ur="ol",cr=null;if(st&&st[1]){const fs=we.exec(st[1]);if(fs&&fs[1]&&(_t=fs[1].trim(),Ur=_t!=="bullet"&&_t!=="image"?"ol":"ul"),_t==="bullet"){const $n=function(_f){const Fl=function(Qc){if(Qc.getChild(0).is("$text"))return null;for(const Jc of Qc.getChildren()){if(!Jc.is("element","span"))continue;const bm=Jc.getChild(0);if(bm)return bm.is("$text")?bm:bm.getChild(0)}return null}(_f);if(!Fl)return null;const Qi=Fl._data;return Qi==="o"?"circle":Qi===""?"disc":Qi===""?"square":null}(re.element);$n&&(_t=$n)}else{const $n=Fe.exec(st[1]);$n&&$n[1]&&(cr=parseInt($n[1]))}}return{type:Ur,startIndex:cr,style:TF(_t)}}(y,e);if(d){if(y.indent>p){const re=d.getChild(d.childCount-1),de=re.getChild(re.childCount-1);d=SD(X,de,o),p+=1}else if(y.indent<p){const re=p-y.indent;d=function(de,fe){const we=de.getAncestors({parentFirst:!0});let Fe=null,st=0;for(const _t of we)if((_t.is("element","ul")||_t.is("element","ol"))&&st++,st===fe){Fe=_t;break}return Fe}(d,re),p=y.indent}}else d=SD(X,y.element,o);y.indent<=p&&(d.is("element",X.type)||(d=o.rename(X.type,d)))}const W=function(X,re){return function(de,fe){const we=new Fo({name:"span",styles:{"mso-list":"Ignore"}}),Fe=fe.createRangeIn(de);for(const st of Fe)st.type==="elementStart"&&we.match(st.item)&&fe.remove(st.item)}(X,re),re.removeStyle("text-indent",X),re.rename("li",X)}(y.element,o);o.appendChild(W,d)})}function TF(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function SD(c,e,o){const a=e.parent,d=o.createElement(c.type),p=a.getChildIndex(e)+1;return o.insertChild(p,d,a),c.style&&o.setStyle("list-style-type",c.style,d),c.startIndex&&c.startIndex>1&&o.setAttribute("start",c.startIndex,d),d}function IF(c){const e={},o=c.getStyle("mso-list");if(o){const a=o.match(/(^|\s{1,100})l(\d+)/i),d=o.match(/\s{0,100}lfo(\d+)/i),p=o.match(/\s{0,100}level(\d+)/i);a&&d&&p&&(e.id=a[2],e.order=d[1],e.indent=parseInt(p[1]))}return e}function RF(c,e){if(!c.childCount)return;const o=new Wi(c.document),a=function(p,y){const w=y.createRangeIn(p),A=new Fo({name:/v:(.+)/}),j=[];for(const D of w){if(D.type!="elementStart")continue;const I=D.item,z=I.previousSibling,W=z&&z.is("element")?z.name:null;A.match(I)&&I.getAttribute("o:gfxdata")&&W!=="v:shapetype"&&j.push(D.item.getAttribute("id"))}return j}(c,o);(function(p,y,w){const A=w.createRangeIn(y),j=new Fo({name:"img"}),D=[];for(const I of A)if(I.item.is("element")&&j.match(I.item)){const z=I.item,W=z.getAttribute("v:shapes")?z.getAttribute("v:shapes").split(" "):[];W.length&&W.every(X=>p.indexOf(X)>-1)?D.push(z):z.getAttribute("src")||D.push(z)}for(const I of D)w.remove(I)})(a,c,o),function(p,y,w){const A=w.createRangeIn(y),j=[];for(const z of A)if(z.type=="elementStart"&&z.item.is("element","v:shape")){const W=z.item.getAttribute("id");if(p.includes(W))continue;D(z.item.parent.getChildren(),W)||j.push(z.item)}for(const z of j){const W={src:I(z)};z.hasAttribute("alt")&&(W.alt=z.getAttribute("alt"));const X=w.createElement("img",W);w.insertChild(z.index+1,X,z.parent)}function D(z,W){for(const X of z)if(X.is("element")&&(X.name=="img"&&X.getAttribute("v:shapes")==W||D(X.getChildren(),W)))return!0;return!1}function I(z){for(const W of z.getChildren())if(W.is("element")&&W.getAttribute("src"))return W.getAttribute("src")}}(a,c,o),function(p,y){const w=y.createRangeIn(p),A=new Fo({name:/v:(.+)/}),j=[];for(const D of w)D.type=="elementStart"&&A.match(D.item)&&j.push(D.item);for(const D of j)y.remove(D)}(c,o);const d=function(p,y){const w=y.createRangeIn(p),A=new Fo({name:"img"}),j=[];for(const D of w)D.item.is("element")&&A.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&j.push(D.item);return j}(c,o);d.length&&function(p,y,w){if(p.length===y.length)for(let A=0;A<p.length;A++){const j=`data:${y[A].type};base64,${PF(y[A].hex)}`;w.setAttribute("src",j,p[A])}}(d,function(p){if(!p)return[];const y=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,w=new RegExp("(?:("+y.source+"))([\\da-fA-F\\s]+)\\}","g"),A=p.match(w),j=[];if(A)for(const D of A){let I=!1;D.includes("\\pngblip")?I="image/png":D.includes("\\jpegblip")&&(I="image/jpeg"),I&&j.push({hex:D.replace(y,"").replace(/[^\da-fA-F]/g,""),type:I})}return j}(e),o)}function PF(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const OF=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,BF=/xmlns:o="urn:schemas-microsoft-com/i;class LF{constructor(e){this.document=e}isActive(e){return OF.test(e)||BF.test(e)}execute(e){const{body:o,stylesString:a}=e._parsedData;MF(o,a),RF(o,e.dataTransfer.getData("text/rtf")),e.content=o}}function ED(c,e,o,{blockElements:a,inlineObjectElements:d}){let p=o.createPositionAt(c,e=="forward"?"after":"before");return p=p.getLastMatchingPosition(({item:y})=>y.is("element")&&!a.includes(y.name)&&!d.includes(y.name),{direction:e}),e=="forward"?p.nodeAfter:p.nodeBefore}function DD(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const zF=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class FF{constructor(e){this.document=e}isActive(e){return zF.test(e)}execute(e){const o=new Wi(this.document),{body:a}=e._parsedData;(function(d,p){for(const y of d.getChildren())if(y.is("element","b")&&y.getStyle("font-weight")==="normal"){const w=d.getChildIndex(y);p.remove(y),p.insertChild(w,y.getChildren(),d)}})(a,o),function(d,p){for(const y of p.createRangeIn(d)){const w=y.item;if(w.is("element","li")){const A=w.getChild(0);A&&A.is("element","p")&&p.unwrapElement(A)}}}(a,o),function(d,p){const y=new Dc(p.document.stylesProcessor),w=new Ml(y,{renderingMode:"data"}),A=w.blockElements,j=w.inlineObjectElements,D=[];for(const I of p.createRangeIn(d)){const z=I.item;if(z.is("element","br")){const W=ED(z,"forward",p,{blockElements:A,inlineObjectElements:j}),X=ED(z,"backward",p,{blockElements:A,inlineObjectElements:j}),re=DD(W,A);(DD(X,A)||re)&&D.push(z)}}for(const I of D)I.hasClass("Apple-interchange-newline")?p.remove(I):p.replace(I,p.createElement("p"))}(a,o),e.content=a}}const VF=/<google-sheets-html-origin/i;class UF{constructor(e){this.document=e}isActive(e){return VF.test(e)}execute(e){const o=new Wi(this.document),{body:a}=e._parsedData;(function(d,p){for(const y of d.getChildren())if(y.is("element","google-sheets-html-origin")){const w=d.getChildIndex(y);p.remove(y),p.insertChild(w,y.getChildren(),d)}})(a,o),function(d,p){for(const y of d.getChildren())y.is("element","table")&&y.hasAttribute("xmlns")&&p.removeAttribute("xmlns",y)}(a,o),function(d,p){for(const y of d.getChildren())y.is("element","table")&&y.getStyle("width")==="0px"&&p.removeStyle("width",y)}(a,o),function(d,p){for(const y of Array.from(d.getChildren()))y.is("element","style")&&p.remove(y)}(a,o),e.content=a}}function MD(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,o)=>o.length===1?" ":Array(o.length+1).join(" ").substr(0,o.length))}function GF(c,e){const o=new DOMParser,a=function(A){return MD(MD(A)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(A){const j="</body>",D="</html>",I=A.indexOf(j);if(I<0)return A;const z=A.indexOf(D,I+j.length);return A.substring(0,I+j.length)+(z>=0?A.substring(z):"")}(c=c.replace(/<!--\[if gte vml 1]>/g,""))),d=o.parseFromString(a,"text/html");(function(A){A.querySelectorAll("span[style*=spacerun]").forEach(j=>{const D=j,I=D.innerText.length||0;D.innerText=Array(I+1).join(" ").substr(0,I)})})(d);const p=d.body.innerHTML,y=function(A,j){const D=new Dc(j),I=new Ml(D,{renderingMode:"data"}),z=A.createDocumentFragment(),W=A.body.childNodes;for(;W.length>0;)z.appendChild(W[0]);return I.domToView(z,{skipComments:!0})}(d,e),w=function(A){const j=[],D=[],I=Array.from(A.getElementsByTagName("style"));for(const z of I)z.sheet&&z.sheet.cssRules&&z.sheet.cssRules.length&&(j.push(z.sheet),D.push(z.innerHTML));return{styles:j,stylesString:D.join(" ")}}(d);return{body:y,bodyString:p,styles:w.styles,stylesString:w.stylesString}}function Tn(c,e,o,a,d=1){e!=null&&d!=null&&e>d?a.setAttribute(c,e,o):a.removeAttribute(c,o)}function pm(c,e,o={}){const a=c.createElement("tableCell",o);return c.insertElement("paragraph",a),c.insert(a,e),a}function t_(c,e){const o=e.parent.parent,a=parseInt(o.getAttribute("headingColumns")||"0"),{column:d}=c.getCellLocation(e);return!!a&&d<a}function HF(){return c=>{c.on("element:table",(e,o,a)=>{const d=o.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:p,headingRows:y,headingColumns:w}=function(D){let I,z=0;const W=[],X=[];let re;for(const de of Array.from(D.getChildren())){if(de.name!=="tbody"&&de.name!=="thead"&&de.name!=="tfoot")continue;de.name!=="thead"||re||(re=de);const fe=Array.from(de.getChildren()).filter(we=>we.is("element","tr"));for(const we of fe)if(re&&de===re||de.name==="tbody"&&Array.from(we.getChildren()).length&&Array.from(we.getChildren()).every(Fe=>Fe.is("element","th")))z++,W.push(we);else{X.push(we);const Fe=qF(we);(!I||Fe<I)&&(I=Fe)}}return{headingRows:z,headingColumns:I||0,rows:[...W,...X]}}(d),A={};w&&(A.headingColumns=w),y&&(A.headingRows=y);const j=a.writer.createElement("table",A);if(a.safeInsert(j,o.modelCursor)){if(a.consumable.consume(d,{name:!0}),p.forEach(D=>a.convertItem(D,a.writer.createPositionAt(j,"end"))),a.convertChildren(d,a.writer.createPositionAt(j,"end")),j.isEmpty){const D=a.writer.createElement("tableRow");a.writer.insert(D,a.writer.createPositionAt(j,"end")),pm(a.writer,a.writer.createPositionAt(D,"end"))}a.updateConversionResult(j,o)}})}}function TD(c){return e=>{e.on(`element:${c}`,(o,a,{writer:d})=>{if(!a.modelRange)return;const p=a.modelRange.start.nodeAfter,y=d.createPositionAt(p,0);if(a.viewItem.isEmpty)return void d.insertElement("paragraph",y);const w=Array.from(p.getChildren());if(w.every(A=>A.is("element","$marker"))){const A=d.createElement("paragraph");d.insert(A,d.createPositionAt(p,0));for(const j of w)d.move(d.createRangeOn(j),d.createPositionAt(A,"end"))}},{priority:"low"})}}function qF(c){let e=0,o=0;const a=Array.from(c.getChildren()).filter(d=>d.name==="th"||d.name==="td");for(;o<a.length&&a[o].name==="th";){const d=a[o];e+=parseInt(d.getAttribute("colspan")||"1"),o++}return e}class Vr{constructor(e,o={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=o.row!==void 0?o.row:o.startRow||0,this._endRow=o.row!==void 0?o.row:o.endRow,this._startColumn=o.column!==void 0?o.column:o.startColumn||0,this._endColumn=o.column!==void 0?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(a.cell,a.row,a.column));else{const d=e.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const p=parseInt(d.getAttribute("colspan")||"1"),y=parseInt(d.getAttribute("rowspan")||"1");(p>1||y>1)&&this._recordSpans(d,y,p),this._shouldSkipSlot()||(o=this._formatOutValue(d)),this._nextCellAtColumn=this._column+p}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,o=this._row,a=this._column){return{done:!1,value:new YF(this,e,o,a)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),o=this._row<this._startRow,a=this._column<this._startColumn,d=this._endColumn!==void 0&&this._column>this._endColumn;return e||o||a||d}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,o,a){const d={cell:e,row:this._row,column:this._column};for(let p=this._row;p<this._row+o;p++)for(let y=this._column;y<this._column+a;y++)p==this._row&&y==this._column||this._markSpannedCell(p,y,d)}_markSpannedCell(e,o,a){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(o,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let o=this._startRow;!this._jumpedToStartRow;o--)e===this._getRowLength(o)&&(this._row=o,this._rowIndex=o,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||"1"),0)}}class YF{constructor(e,o,a,d){this.cell=o,this.row=e._row,this.column=e._column,this.cellAnchorRow=a,this.cellAnchorColumn=d,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function ID(c,e){return(o,{writer:a})=>{const d=o.getAttribute("headingRows")||0,p=a.createContainerElement("table",null,[]),y=a.createContainerElement("figure",{class:"table"},p);d>0&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("thead",null,a.createSlot(w=>w.is("element","tableRow")&&w.index<d))),d<c.getRows(o)&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("tbody",null,a.createSlot(w=>w.is("element","tableRow")&&w.index>=d)));for(const{positionOffset:w,filter:A}of e.additionalSlots)a.insert(a.createPositionAt(p,w),a.createSlot(A));return a.insert(a.createPositionAt(p,"after"),a.createSlot(w=>!w.is("element","tableRow")&&!e.additionalSlots.some(({filter:A})=>A(w)))),e.asWidget?function(w,A){return A.setCustomProperty("table",!0,w),PC(w,A,{hasSelectionHandle:!0})}(y,a):y}}function RD(c={}){return(e,{writer:o})=>{const a=e.parent,d=a.parent,p=d.getChildIndex(a),y=new Vr(d,{row:p}),w=d.getAttribute("headingRows")||0,A=d.getAttribute("headingColumns")||0;let j=null;for(const D of y)if(D.cell==e){const I=D.row<w||D.column<A?"th":"td";j=c.asWidget?JS(o.createEditableElement(I),o):o.createContainerElement(I);break}return j}}function PD(c={}){return(e,{writer:o})=>{if(!e.parent.is("element","tableCell")||!OD(e))return null;if(c.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function OD(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class WF extends Vt{refresh(){const e=this.editor.model,o=e.document.selection,a=e.schema;this.isEnabled=function(d,p){const y=d.getFirstPosition().parent,w=y===y.root?y:y.parent;return p.checkChild(w,"table")}(o,a)}execute(e={}){const o=this.editor,a=o.model,d=o.plugins.get("TableUtils"),p=o.config.get("table.defaultHeadings.rows"),y=o.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&p&&(e.headingRows=p),e.headingColumns===void 0&&y&&(e.headingColumns=y),a.change(w=>{const A=d.createTable(w,e);a.insertObject(A,null,null,{findOptimalPosition:"auto"}),w.setSelection(w.createPositionAt(A.getNodeByPath([0,0,0]),0))})}}class BD extends Vt{constructor(e,o={}){super(e),this.order=o.order||"below"}refresh(){const e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}execute(){const e=this.editor,o=e.model.document.selection,a=e.plugins.get("TableUtils"),d=this.order==="above",p=a.getSelectionAffectedTableCells(o),y=a.getRowIndexes(p),w=d?y.first:y.last,A=p[0].findAncestor("table");a.insertRows(A,{at:d?w:w+1,copyStructureFromAbove:!d})}}class LD extends Vt{constructor(e,o={}){super(e),this.order=o.order||"right"}refresh(){const e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}execute(){const e=this.editor,o=e.model.document.selection,a=e.plugins.get("TableUtils"),d=this.order==="left",p=a.getSelectionAffectedTableCells(o),y=a.getColumnIndexes(p),w=d?y.first:y.last,A=p[0].findAncestor("table");a.insertColumns(A,{columns:1,at:d?w:w+1})}}class zD extends Vt{constructor(e,o={}){super(e),this.direction=o.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(o,2):e.splitCellVertically(o,2)}}function FD(c,e,o){const{startRow:a,startColumn:d,endRow:p,endColumn:y}=e,w=o.createElement("table"),A=p-a+1;for(let D=0;D<A;D++)o.insertElement("tableRow",w,"end");const j=[...new Vr(c,{startRow:a,endRow:p,startColumn:d,endColumn:y,includeAllSlots:!0})];for(const{row:D,column:I,cell:z,isAnchor:W,cellAnchorRow:X,cellAnchorColumn:re}of j){const de=D-a,fe=w.getChild(de);if(W){const we=o.cloneElement(z);o.append(we,fe),qD(we,D,I,p,y,o)}else(X<a||re<d)&&pm(o,o.createPositionAt(fe,"end"))}return function(D,I,z,W,X){const re=parseInt(I.getAttribute("headingRows")||"0");re>0&&Tn("headingRows",re-z,D,X,0);const de=parseInt(I.getAttribute("headingColumns")||"0");de>0&&Tn("headingColumns",de-W,D,X,0)}(w,c,a,d,o),w}function VD(c,e,o=0){const a=[],d=new Vr(c,{startRow:o,endRow:e-1});for(const p of d){const{row:y,cellHeight:w}=p;y<e&&e<=y+w-1&&a.push(p)}return a}function UD(c,e,o){const a=c.parent,d=a.parent,p=a.index,y=e-p,w={},A=parseInt(c.getAttribute("rowspan"))-y;A>1&&(w.rowspan=A);const j=parseInt(c.getAttribute("colspan")||"1");j>1&&(w.colspan=j);const D=p+y,I=[...new Vr(d,{startRow:p,endRow:D,includeAllSlots:!0})];let z,W=null;for(const X of I){const{row:re,column:de,cell:fe}=X;fe===c&&z===void 0&&(z=de),z!==void 0&&z===de&&re===D&&(W=pm(o,X.getPositionBefore(),w))}return Tn("rowspan",y,c,o),W}function GD(c,e){const o=[],a=new Vr(c);for(const d of a){const{column:p,cellWidth:y}=d;p<e&&e<=p+y-1&&o.push(d)}return o}function HD(c,e,o,a){const d=o-e,p={},y=parseInt(c.getAttribute("colspan"))-d;y>1&&(p.colspan=y);const w=parseInt(c.getAttribute("rowspan")||"1");w>1&&(p.rowspan=w);const A=pm(a,a.createPositionAfter(c),p);return Tn("colspan",d,c,a),A}function qD(c,e,o,a,d,p){const y=parseInt(c.getAttribute("colspan")||"1"),w=parseInt(c.getAttribute("rowspan")||"1");o+y-1>d&&Tn("colspan",d-o+1,c,p,1),e+w-1>a&&Tn("rowspan",a-e+1,c,p,1)}function r_(c,e){const o=e.getColumns(c),a=new Array(o).fill(0);for(const{column:p}of new Vr(c))a[p]++;const d=a.reduce((p,y,w)=>y?p:[...p,w],[]);if(d.length>0){const p=d[d.length-1];return e.removeColumns(c,{at:p}),!0}return!1}function n_(c,e){const o=[],a=e.getRows(c);for(let d=0;d<a;d++)c.getChild(d).isEmpty&&o.push(d);if(o.length>0){const d=o[o.length-1];return e.removeRows(c,{at:d}),!0}return!1}function s_(c,e){r_(c,e)||n_(c,e)}function YD(c,e){const o=Array.from(new Vr(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(o.every(({cellHeight:d})=>d===1))return e.lastRow;const a=o[0].cellHeight-1;return e.lastRow+a}function WD(c,e){const o=Array.from(new Vr(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(o.every(({cellWidth:d})=>d===1))return e.lastColumn;const a=o[0].cellWidth-1;return e.lastColumn+a}class iw extends Vt{constructor(e,o){super(e),this.direction=o.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,o=e.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(o.selection)[0],d=this.value,p=this.direction;e.change(y=>{const w=p=="right"||p=="down",A=w?a:d,j=w?d:a,D=j.parent;(function(re,de,fe){KD(re)||(KD(de)&&fe.remove(fe.createRangeIn(de)),fe.move(fe.createRangeIn(re),fe.createPositionAt(de,"end"))),fe.remove(re)})(j,A,y);const I=this.isHorizontal?"colspan":"rowspan",z=parseInt(a.getAttribute(I)||"1"),W=parseInt(d.getAttribute(I)||"1");y.setAttribute(I,z+W,A),y.setSelection(y.createRangeIn(A));const X=this.editor.plugins.get("TableUtils");s_(D.findAncestor("table"),X)})}_getMergeableCell(){const e=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),a=o.getTableCellsContainingSelection(e.selection)[0];if(!a)return;const d=this.isHorizontal?function(w,A,j){const D=w.parent,I=D.parent,z=A=="right"?w.nextSibling:w.previousSibling,W=(I.getAttribute("headingColumns")||0)>0;if(!z)return;const X=A=="right"?w:z,re=A=="right"?z:w,{column:de}=j.getCellLocation(X),{column:fe}=j.getCellLocation(re),we=parseInt(X.getAttribute("colspan")||"1"),Fe=t_(j,X),st=t_(j,re);if(!(W&&Fe!=st))return de+we===fe?z:void 0}(a,this.direction,o):function(w,A,j){const D=w.parent,I=D.parent,z=I.getChildIndex(D);if(A=="down"&&z===j.getRows(I)-1||A=="up"&&z===0)return null;const W=parseInt(w.getAttribute("rowspan")||"1"),X=I.getAttribute("headingRows")||0,re=A=="down"&&z+W===X,de=A=="up"&&z===X;if(X&&(re||de))return null;const fe=parseInt(w.getAttribute("rowspan")||"1"),we=A=="down"?z+fe:z,Fe=[...new Vr(I,{endRow:we})],st=Fe.find(cr=>cr.cell===w),_t=st.column,Ur=Fe.find(({row:cr,cellHeight:fs,column:$n})=>$n===_t&&(A=="down"?cr===we:we===cr+fs));return Ur&&Ur.cell?Ur.cell:null}(a,this.direction,o);if(!d)return;const p=this.isHorizontal?"rowspan":"colspan",y=parseInt(a.getAttribute(p)||"1");return parseInt(d.getAttribute(p)||"1")===y?d:void 0}}function KD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class KF extends Vt{refresh(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=o[0];if(a){const d=a.findAncestor("table"),p=e.getRows(d)-1,y=e.getRowIndexes(o),w=y.first===0&&y.last===p;this.isEnabled=!w}else this.isEnabled=!1}execute(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(e.document.selection),d=o.getRowIndexes(a),p=a[0],y=p.findAncestor("table"),w=o.getCellLocation(p).column;e.change(A=>{const j=d.last-d.first+1;o.removeRows(y,{at:d.first,rows:j});const D=function(I,z,W,X){const re=I.getChild(Math.min(z,X-1));let de=re.getChild(0),fe=0;for(const we of re.getChildren()){if(fe>W)return de;de=we,fe+=parseInt(we.getAttribute("colspan")||"1")}return de}(y,d.first,w,o.getRows(y));A.setSelection(A.createPositionAt(D,0))})}}class QF extends Vt{refresh(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=o[0];if(a){const d=a.findAncestor("table"),p=e.getColumns(d),{first:y,last:w}=e.getColumnIndexes(o);this.isEnabled=w-y<p-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[o,a]=function(A,j){const D=j.getSelectionAffectedTableCells(A),I=D[0],z=D.pop(),W=[I,z];return I.isBefore(z)?W:W.reverse()}(this.editor.model.document.selection,e),d=o.parent.parent,p=[...new Vr(d)],y={first:p.find(A=>A.cell===o).column,last:p.find(A=>A.cell===a).column},w=function(A,j,D,I){return parseInt(D.getAttribute("colspan")||"1")>1?D:j.previousSibling||D.nextSibling?D.nextSibling||j.previousSibling:I.first?A.reverse().find(({column:W})=>W<I.first).cell:A.reverse().find(({column:W})=>W>I.last).cell}(p,o,a,y);this.editor.model.change(A=>{const j=y.last-y.first+1;e.removeColumns(d,{at:y.first,columns:j}),A.setSelection(A.createPositionAt(w,0))})}}class JF extends Vt{refresh(){const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=e.getSelectionAffectedTableCells(o.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>this._isInHeading(p,p.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=o.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:y,last:w}=o.getRowIndexes(d),A=this.value?y:w+1,j=p.getAttribute("headingRows")||0;a.change(D=>{if(A){const I=VD(p,A,A>j?j:0);for(const{cell:z}of I)UD(z,A,D)}Tn("headingRows",A,p,D,0)})}_isInHeading(e,o){const a=parseInt(o.getAttribute("headingRows")||"0");return!!a&&e.parent.index<a}}class XF extends Vt{refresh(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(e.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>t_(o,p))}execute(e={}){if(e.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=o.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:y,last:w}=o.getColumnIndexes(d),A=this.value?y:w+1;a.change(j=>{if(A){const D=GD(p,A);for(const{cell:I,column:z}of D)HD(I,z,A,j)}Tn("headingColumns",A,p,j,0)})}}function $F(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(o=>o.is("element","tableColumnGroup"))}function ZF(c){const e=$F(c);return e?Array.from(e.getChildren()):[]}class oo extends Ge{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const o=e.parent,a=o.parent,d=a.getChildIndex(o),p=new Vr(a,{row:d});for(const{cell:y,row:w,column:A}of p)if(y===e)return{row:w,column:A}}createTable(e,o){const a=e.createElement("table"),d=o.rows||2,p=o.columns||2;return o_(e,a,0,d,p),o.headingRows&&Tn("headingRows",Math.min(o.headingRows,d),a,e,0),o.headingColumns&&Tn("headingColumns",Math.min(o.headingColumns,p),a,e,0),a}insertRows(e,o={}){const a=this.editor.model,d=o.at||0,p=o.rows||1,y=o.copyStructureFromAbove!==void 0,w=o.copyStructureFromAbove?d-1:d,A=this.getRows(e),j=this.getColumns(e);if(d>A)throw new B("tableutils-insertrows-insert-out-of-range",this,{options:o});a.change(D=>{const I=e.getAttribute("headingRows")||0;if(I>d&&Tn("headingRows",I+p,e,D,0),!y&&(d===0||d===A))return void o_(D,e,d,p,j);const z=y?Math.max(d,w):d,W=new Vr(e,{endRow:z}),X=new Array(j).fill(1);for(const{row:re,column:de,cellHeight:fe,cellWidth:we,cell:Fe}of W){const st=re+fe-1,_t=re<=w&&w<=st;re<d&&d<=st?(D.setAttribute("rowspan",fe+p,Fe),X[de]=-we):y&&_t&&(X[de]=we)}for(let re=0;re<p;re++){const de=D.createElement("tableRow");D.insert(de,e,d);for(let fe=0;fe<X.length;fe++){const we=X[fe],Fe=D.createPositionAt(de,"end");we>0&&pm(D,Fe,we>1?{colspan:we}:void 0),fe+=Math.abs(we)-1}}})}insertColumns(e,o={}){const a=this.editor.model,d=o.at||0,p=o.columns||1;a.change(y=>{const w=e.getAttribute("headingColumns");d<w&&y.setAttribute("headingColumns",w+p,e);const A=this.getColumns(e);if(d===0||A===d){for(const D of e.getChildren())D.is("element","tableRow")&&Cf(p,y,y.createPositionAt(D,d?"end":0));return}const j=new Vr(e,{column:d,includeAllSlots:!0});for(const D of j){const{row:I,cell:z,cellAnchorColumn:W,cellAnchorRow:X,cellWidth:re,cellHeight:de}=D;if(W<d){y.setAttribute("colspan",re+p,z);const fe=X+de-1;for(let we=I;we<=fe;we++)j.skipRow(we)}else Cf(p,y,D.getPositionBefore())}})}removeRows(e,o){const a=this.editor.model,d=o.rows||1,p=this.getRows(e),y=o.at,w=y+d-1;if(w>p-1)throw new B("tableutils-removerows-row-index-out-of-range",this,{table:e,options:o});a.change(A=>{const j={first:y,last:w},{cellsToMove:D,cellsToTrim:I}=function(z,{first:W,last:X}){const re=new Map,de=[];for(const{row:fe,column:we,cellHeight:Fe,cell:st}of new Vr(z,{endRow:X})){const _t=fe+Fe-1;if(fe>=W&&fe<=X&&_t>X){const Ur=Fe-(X-fe+1);re.set(we,{cell:st,rowspan:Ur})}if(fe<W&&_t>=W){let Ur;Ur=_t>=X?X-W+1:_t-W+1,de.push({cell:st,rowspan:Fe-Ur})}}return{cellsToMove:re,cellsToTrim:de}}(e,j);D.size&&function(z,W,X,re){const de=new Vr(z,{includeAllSlots:!0,row:W}),fe=[...de],we=z.getChild(W);let Fe;for(const{column:st,cell:_t,isAnchor:Ur}of fe)if(X.has(st)){const{cell:cr,rowspan:fs}=X.get(st),$n=Fe?re.createPositionAfter(Fe):re.createPositionAt(we,0);re.move(re.createRangeOn(cr),$n),Tn("rowspan",fs,cr,re),Fe=cr}else Ur&&(Fe=_t)}(e,w+1,D,A);for(let z=w;z>=y;z--)A.remove(e.getChild(z));for(const{rowspan:z,cell:W}of I)Tn("rowspan",z,W,A);(function(z,{first:W,last:X},re){const de=z.getAttribute("headingRows")||0;W<de&&Tn("headingRows",X<de?de-(X-W+1):W,z,re,0)})(e,j,A),r_(e,this)||n_(e,this)})}removeColumns(e,o){const a=this.editor.model,d=o.at,p=o.columns||1,y=o.at+p-1;a.change(w=>{(function(j,D,I){const z=j.getAttribute("headingColumns")||0;if(z&&D.first<z){const W=Math.min(z-1,D.last)-D.first+1;I.setAttribute("headingColumns",z-W,j)}})(e,{first:d,last:y},w);const A=ZF(e);for(let j=y;j>=d;j--){for(const{cell:D,column:I,cellWidth:z}of[...new Vr(e)])I<=j&&z>1&&I+z>j?Tn("colspan",z-1,D,w):I===j&&w.remove(D);if(A[j]){const D=j===0?A[1]:A[j-1],I=parseFloat(A[j].getAttribute("columnWidth")),z=parseFloat(D.getAttribute("columnWidth"));w.remove(A[j]),w.setAttribute("columnWidth",I+z+"%",D)}}n_(e,this)||r_(e,this)})}splitCellVertically(e,o=2){const a=this.editor.model,d=e.parent.parent,p=parseInt(e.getAttribute("rowspan")||"1"),y=parseInt(e.getAttribute("colspan")||"1");a.change(w=>{if(y>1){const{newCellsSpan:A,updatedSpan:j}=QD(y,o);Tn("colspan",j,e,w);const D={};A>1&&(D.colspan=A),p>1&&(D.rowspan=p),Cf(y>o?o-1:y-1,w,w.createPositionAfter(e),D)}if(y<o){const A=o-y,j=[...new Vr(d)],{column:D}=j.find(({cell:X})=>X===e),I=j.filter(({cell:X,cellWidth:re,column:de})=>X!==e&&de===D||de<D&&de+re>D);for(const{cell:X,cellWidth:re}of I)w.setAttribute("colspan",re+A,X);const z={};p>1&&(z.rowspan=p),Cf(A,w,w.createPositionAfter(e),z);const W=d.getAttribute("headingColumns")||0;W>D&&Tn("headingColumns",W+A,d,w)}})}splitCellHorizontally(e,o=2){const a=this.editor.model,d=e.parent,p=d.parent,y=p.getChildIndex(d),w=parseInt(e.getAttribute("rowspan")||"1"),A=parseInt(e.getAttribute("colspan")||"1");a.change(j=>{if(w>1){const D=[...new Vr(p,{startRow:y,endRow:y+w-1,includeAllSlots:!0})],{newCellsSpan:I,updatedSpan:z}=QD(w,o);Tn("rowspan",z,e,j);const{column:W}=D.find(({cell:re})=>re===e),X={};I>1&&(X.rowspan=I),A>1&&(X.colspan=A);for(const re of D){const{column:de,row:fe}=re;fe>=y+z&&de===W&&(fe+y+z)%I==0&&Cf(1,j,re.getPositionBefore(),X)}}if(w<o){const D=o-w,I=[...new Vr(p,{startRow:0,endRow:y})];for(const{cell:X,cellHeight:re,row:de}of I)if(X!==e&&de+re>y){const fe=re+D;j.setAttribute("rowspan",fe,X)}const z={};A>1&&(z.colspan=A),o_(j,p,y+1,D,1,z);const W=p.getAttribute("headingRows")||0;W>y&&Tn("headingRows",W+D,p,j)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((o,a)=>a.is("element","tableRow")?o+1:o,0)}createTableWalker(e,o={}){return new Vr(e,o)}getSelectedTableCells(e){const o=[];for(const a of this.sortRanges(e.getRanges())){const d=a.getContainedElement();d&&d.is("element","tableCell")&&o.push(d)}return o}getTableCellsContainingSelection(e){const o=[];for(const a of e.getRanges()){const d=a.start.findAncestor("tableCell");d&&o.push(d)}return o}getSelectionAffectedTableCells(e){const o=this.getSelectedTableCells(e);return o.length?o:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const o=e.map(a=>a.parent.index);return this._getFirstLastIndexesObject(o)}getColumnIndexes(e){const o=e[0].findAncestor("table"),a=[...new Vr(o)].filter(d=>e.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const o=new Set,a=new Set;let d=0;for(const y of e){const{row:w,column:A}=this.getCellLocation(y),j=parseInt(y.getAttribute("rowspan"))||1,D=parseInt(y.getAttribute("colspan"))||1;o.add(w),a.add(A),j>1&&o.add(w+j-1),D>1&&a.add(A+D-1),d+=j*D}return function(y,w){const A=Array.from(y.values()),j=Array.from(w.values()),D=Math.max(...A),I=Math.min(...A),z=Math.max(...j),W=Math.min(...j);return(D-I+1)*(z-W+1)}(o,a)==d}sortRanges(e){return Array.from(e).sort(eV)}_getFirstLastIndexesObject(e){const o=e.sort((a,d)=>a-d);return{first:o[0],last:o[o.length-1]}}_areCellInTheSameTableSection(e){const o=e[0].findAncestor("table"),a=this.getRowIndexes(e),d=parseInt(o.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,d))return!1;const p=this.getColumnIndexes(e),y=parseInt(o.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(p,y)}_areIndexesInSameSection({first:e,last:o},a){return e<a==o<a}}function o_(c,e,o,a,d,p={}){for(let y=0;y<a;y++){const w=c.createElement("tableRow");c.insert(w,e,o),Cf(d,c,c.createPositionAt(w,"end"),p)}}function Cf(c,e,o,a={}){for(let d=0;d<c;d++)pm(e,o,a)}function QD(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(c/e);return{newCellsSpan:o,updatedSpan:c-o*e+o}}function eV(c,e){const o=c.start,a=e.start;return o.isBefore(a)?-1:1}class tV extends Vt{refresh(){const e=this.editor.plugins.get(oo),o=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(o)}execute(){const e=this.editor.model,o=this.editor.plugins.get(oo);e.change(a=>{const d=o.getSelectedTableCells(e.document.selection),p=d.shift(),{mergeWidth:y,mergeHeight:w}=function(A,j,D){let I=0,z=0;for(const fe of j){const{row:we,column:Fe}=D.getCellLocation(fe);I=XD(fe,Fe,I,"colspan"),z=XD(fe,we,z,"rowspan")}const{row:W,column:X}=D.getCellLocation(A),re=I-X,de=z-W;return{mergeWidth:re,mergeHeight:de}}(p,d,o);Tn("colspan",y,p,a),Tn("rowspan",w,p,a);for(const A of d)rV(A,p,a);s_(p.findAncestor("table"),o),a.setSelection(p,"in")})}}function rV(c,e,o){JD(c)||(JD(e)&&o.remove(o.createRangeIn(e)),o.move(o.createRangeIn(c),o.createPositionAt(e,"end"))),o.remove(c)}function JD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function XD(c,e,o,a){const d=parseInt(c.getAttribute(a)||"1");return Math.max(o,e+d)}class nV extends Vt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(e.document.selection),d=o.getRowIndexes(a),p=a[0].findAncestor("table"),y=[];for(let w=d.first;w<=d.last;w++)for(const A of p.getChild(w).getChildren())y.push(e.createRangeOn(A));e.change(w=>{w.setSelection(y)})}}class sV extends Vt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=e.getSelectionAffectedTableCells(o.document.selection),d=a[0],p=a.pop(),y=d.findAncestor("table"),w=e.getCellLocation(d),A=e.getCellLocation(p),j=Math.min(w.column,A.column),D=Math.max(w.column,A.column),I=[];for(const z of new Vr(y,{startColumn:j,endColumn:D}))I.push(o.createRangeOn(z.cell));o.change(z=>{z.setSelection(I)})}}function oV(c){c.document.registerPostFixer(e=>function(o,a){const d=a.document.differ.getChanges();let p=!1;const y=new Set;for(const w of d){let A=null;w.type=="insert"&&w.name=="table"&&(A=w.position.nodeAfter),w.type!="insert"&&w.type!="remove"||w.name!="tableRow"&&w.name!="tableCell"||(A=w.position.findAncestor("table")),lV(w)&&(A=w.range.start.findAncestor("table")),A&&!y.has(A)&&(p=iV(A,o)||p,p=aV(A,o)||p,y.add(A))}return p}(e,c))}function iV(c,e){let o=!1;const a=function(d){const p=parseInt(d.getAttribute("headingRows")||"0"),y=Array.from(d.getChildren()).reduce((A,j)=>j.is("element","tableRow")?A+1:A,0),w=[];for(const{row:A,cell:j,cellHeight:D}of new Vr(d)){if(D<2)continue;const I=A<p?p:y;if(A+D>I){const z=I-A;w.push({cell:j,rowspan:z})}}return w}(c);if(a.length){o=!0;for(const d of a)Tn("rowspan",d.rowspan,d.cell,e,1)}return o}function aV(c,e){let o=!1;const a=function(w){const A=new Array(w.childCount).fill(0);for(const{rowIndex:j}of new Vr(w,{includeAllSlots:!0}))A[j]++;return A}(c),d=[];for(const[w,A]of a.entries())!A&&c.getChild(w).is("element","tableRow")&&d.push(w);if(d.length){o=!0;for(const w of d.reverse())e.remove(c.getChild(w)),a.splice(w,1)}const p=a.filter((w,A)=>c.getChild(A).is("element","tableRow")),y=p[0];if(!p.every(w=>w===y)){const w=p.reduce((A,j)=>j>A?j:A,0);for(const[A,j]of p.entries()){const D=w-j;if(D){for(let I=0;I<D;I++)pm(e,e.createPositionAt(c.getChild(A),"end"));o=!0}}}return o}function lV(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function cV(c){c.document.registerPostFixer(e=>function(o,a){const d=a.document.differ.getChanges();let p=!1;for(const y of d)y.type=="insert"&&y.name=="table"&&(p=dV(y.position.nodeAfter,o)||p),y.type=="insert"&&y.name=="tableRow"&&(p=$D(y.position.nodeAfter,o)||p),y.type=="insert"&&y.name=="tableCell"&&(p=i_(y.position.nodeAfter,o)||p),y.type!="remove"&&y.type!="insert"||!uV(y)||(p=i_(y.position.parent,o)||p);return p}(e,c))}function dV(c,e){let o=!1;for(const a of c.getChildren())a.is("element","tableRow")&&(o=$D(a,e)||o);return o}function $D(c,e){let o=!1;for(const a of c.getChildren())o=i_(a,e)||o;return o}function i_(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const o=Array.from(c.getChildren()).filter(a=>a.is("$text"));for(const a of o)e.wrap(e.createRangeOn(a),"paragraph");return!!o.length}function uV(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function hV(c,e){if(!c.is("element","paragraph"))return!1;const o=e.toViewElement(c);return!!o&&OD(c)!==o.is("element","span")}var ZD=l(3881),mV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(ZD.Z,mV),ZD.Z.locals;class pV extends Ge{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[oo]}init(){const e=this.editor,o=e.model,a=o.schema,d=e.conversion,p=e.plugins.get(oo);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(y=>{y.on("element:figure",(w,A,j)=>{if(!j.consumable.test(A.viewItem,{name:!0,classes:"table"}))return;const D=function(z){for(const W of z.getChildren())if(W.is("element","table"))return W}(A.viewItem);if(!D||!j.consumable.test(D,{name:!0}))return;j.consumable.consume(A.viewItem,{name:!0,classes:"table"});const I=pn(j.convertItem(D,A.modelCursor).modelRange.getItems());I?(j.convertChildren(A.viewItem,j.writer.createPositionAt(I,"end")),j.updateConversionResult(I,A)):j.consumable.revert(A.viewItem,{name:!0,classes:"table"})})}),d.for("upcast").add(HF()),d.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:ID(p,{asWidget:!0,additionalSlots:this._additionalSlots})}),d.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:ID(p,{additionalSlots:this._additionalSlots})}),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(y=>{y.on("element:tr",(w,A)=>{A.viewItem.isEmpty&&A.modelCursor.index==0&&w.stop()},{priority:"high"})}),d.for("downcast").elementToElement({model:"tableRow",view:(y,{writer:w})=>y.isEmpty?w.createEmptyElement("tr"):w.createContainerElement("tr")}),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(TD("td")),d.for("upcast").add(TD("th")),d.for("editingDowncast").elementToElement({model:"tableCell",view:RD({asWidget:!0})}),d.for("dataDowncast").elementToElement({model:"tableCell",view:RD()}),d.for("editingDowncast").elementToElement({model:"paragraph",view:PD({asWidget:!0}),converterPriority:"high"}),d.for("dataDowncast").elementToElement({model:"paragraph",view:PD(),converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:eM("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:eM("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new WF(e)),e.commands.add("insertTableRowAbove",new BD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new BD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new LD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new LD(e,{order:"right"})),e.commands.add("removeTableRow",new KF(e)),e.commands.add("removeTableColumn",new QF(e)),e.commands.add("splitTableCellVertically",new zD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new zD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new tV(e)),e.commands.add("mergeTableCellRight",new iw(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new iw(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new iw(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new iw(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new XF(e)),e.commands.add("setTableRowHeader",new JF(e)),e.commands.add("selectTableRow",new nV(e)),e.commands.add("selectTableColumn",new sV(e)),oV(o),cV(o),this.listenTo(o.document,"change:data",()=>{(function(y,w){const A=y.document.differ;for(const j of A.getChanges()){let D,I=!1;if(j.type=="attribute"){const re=j.range.start.nodeAfter;if(!re||!re.is("element","table")||j.attributeKey!="headingRows"&&j.attributeKey!="headingColumns")continue;D=re,I=j.attributeKey=="headingRows"}else j.name!="tableRow"&&j.name!="tableCell"||(D=j.position.findAncestor("table"),I=j.name=="tableRow");if(!D)continue;const z=D.getAttribute("headingRows")||0,W=D.getAttribute("headingColumns")||0,X=new Vr(D);for(const re of X){const de=re.row<z||re.column<W?"th":"td",fe=w.mapper.toViewElement(re.cell);fe&&fe.is("element")&&fe.name!=de&&w.reconvertItem(I?re.cell.parent:re.cell)}}})(o,e.editing),function(y,w){const A=y.document.differ,j=new Set;for(const D of A.getChanges()){const I=D.type=="attribute"?D.range.start.parent:D.position.parent;I.is("element","tableCell")&&j.add(I)}for(const D of j.values()){const I=Array.from(D.getChildren()).filter(z=>hV(z,w.mapper));for(const z of I)w.reconvertItem(z)}}(o,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function eM(c){return e=>{const o=parseInt(e.getAttribute(c));return Number.isNaN(o)||o<=0?null:o}}var tM=l(1613),fV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(tM.Z,fV),tM.Z.locals;class gV extends Wt{constructor(e){super(e);const o=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Bo,this.focusTracker=new ks,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d}  ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:o.to("label")}]}],on:{mousedown:o.to(a=>{a.preventDefault()}),click:o.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,d)=>{const{row:p,column:y}=d.target.dataset;this.items.get(10*(parseInt(p,10)-1)+(parseInt(y,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,d,p)=>{if(!p)return;const{row:y,column:w}=p.dataset;this.set({rows:parseInt(y),columns:parseInt(w)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:o,gridItems:a,numberOfColumns:d,uiLanguageDirection:p}){const y=()=>d;function w(D){return I=>{const z=a.find(re=>re.element===o.focusedElement),W=a.getIndex(z),X=D(W,a);a.get(X).focus(),I.stopPropagation(),I.preventDefault()}}function A(D,I){return D===I-1?0:D+1}function j(D,I){return D===0?I-1:D-1}e.set("arrowright",w((D,I)=>p==="rtl"?j(D,I.length):A(D,I.length))),e.set("arrowleft",w((D,I)=>p==="rtl"?A(D,I.length):j(D,I.length))),e.set("arrowup",w((D,I)=>{let z=D-y();return z<0&&(z=D+y()*Math.floor(I.length/y()),z>I.length-1&&(z-=y())),z})),e.set("arrowdown",w((D,I)=>{let z=D+y();return z>I.length-1&&(z=D%y()),z}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,o=this.columns;this.items.map((a,d)=>{const p=Math.floor(d/10)<e&&d%10<o;a.set("isOn",p)})}_createGridButton(e,o,a,d){const p=new hr(e);return p.set({label:d,class:"ck-insert-table-dropdown-grid-box"}),p.extendTemplate({attributes:{"data-row":o,"data-column":a}}),p}_createGridCollection(){const e=[];for(let o=0;o<100;o++){const a=Math.floor(o/10),d=o%10,p=`${a+1}  ${d+1}`;e.push(this._createGridButton(this.locale,a+1,d+1,p))}return this.createCollection(e)}}class bV extends Ge{static get pluginName(){return"TableUI"}init(){const e=this.editor,o=this.editor.t,a=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",d=>{const p=e.commands.get("insertTable"),y=ht(d);let w;return y.bind("isEnabled").to(p),y.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),y.on("change:isOpen",()=>{w||(w=new gV(d),y.panelView.children.add(w),w.delegate("execute").to(y),y.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}))}),y}),e.ui.componentFactory.add("tableColumn",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',p,d)}),e.ui.componentFactory.add("tableRow",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',p,d)}),e.ui.componentFactory.add("mergeTableCells",d=>{const p=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',p,d)})}_prepareDropdown(e,o,a,d){const p=this.editor,y=ht(d),w=this._fillDropdownWithListOptions(y,a);return y.buttonView.set({label:e,icon:o,tooltip:!0}),y.bind("isEnabled").toMany(w,"isEnabled",(...A)=>A.some(j=>j)),this.listenTo(y,"execute",A=>{p.execute(A.source.commandName),A.source instanceof fi||p.editing.view.focus()}),y}_prepareMergeSplitButtonDropdown(e,o,a,d){const p=this.editor,y=ht(d,ve),w="mergeTableCells",A=p.commands.get(w),j=this._fillDropdownWithListOptions(y,a);return y.buttonView.set({label:e,icon:o,tooltip:!0,isEnabled:!0}),y.bind("isEnabled").toMany([A,...j],"isEnabled",(...D)=>D.some(I=>I)),this.listenTo(y.buttonView,"execute",()=>{p.execute(w),p.editing.view.focus()}),this.listenTo(y,"execute",D=>{p.execute(D.source.commandName),p.editing.view.focus()}),y}_fillDropdownWithListOptions(e,o){const a=this.editor,d=[],p=new Fs;for(const y of o)yV(y,a,d,p);return mr(e,p),d}}function yV(c,e,o,a){if(c.type==="button"||c.type==="switchbutton"){const d=c.model=new fS(c.model),{commandName:p,bindIsOn:y}=c.model,w=e.commands.get(p);o.push(w),d.set({commandName:p}),d.bind("isEnabled").to(w),y&&d.bind("isOn").to(w,"value"),d.set({withText:!0})}a.add(c)}var rM=l(6945),xV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(rM.Z,xV),rM.Z.locals;class fm extends Ge{static get pluginName(){return"TableSelection"}static get requires(){return[oo,oo]}init(){const e=this.editor,o=e.model,a=e.editing.view;this.listenTo(o,"deleteContent",(d,p)=>this._handleDeleteContent(d,p),{priority:"high"}),this.listenTo(a.document,"insertText",(d,p)=>this._handleInsertTextEvent(d,p),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(oo),o=this.editor.model.document.selection,a=e.getSelectedTableCells(o);return a.length==0?null:a}getSelectionAsFragment(){const e=this.editor.plugins.get(oo),o=this.getSelectedTableCells();return o?this.editor.model.change(a=>{const d=a.createDocumentFragment(),{first:p,last:y}=e.getColumnIndexes(o),{first:w,last:A}=e.getRowIndexes(o),j=o[0].findAncestor("table");let D=A,I=y;if(e.isSelectionRectangular(o)){const W={firstColumn:p,lastColumn:y,firstRow:w,lastRow:A};D=YD(j,W),I=WD(j,W)}const z=FD(j,{startRow:w,startColumn:p,endRow:D,endColumn:I},a);return a.insert(z,d,0),d}):null}setCellSelection(e,o){const a=this._getCellsToSelect(e,o);this.editor.model.change(d=>{d.setSelection(a.cells.map(p=>d.createRangeOn(p)),{backward:a.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=pn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,o=new Set;e.conversion.for("editingDowncast").add(a=>a.on("selection",(d,p,y)=>{const w=y.writer;(function(D){for(const I of o)D.removeClass("ck-editor__editable_selected",I);o.clear()})(w);const A=this.getSelectedTableCells();if(!A)return;for(const D of A){const I=y.mapper.toViewElement(D);w.addClass("ck-editor__editable_selected",I),o.add(I)}const j=y.mapper.toViewElement(A[A.length-1]);w.setSelection(j,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;e.model.change(a=>{const d=a.createPositionAt(o[0],0),p=e.model.schema.getNearestSelectionRange(d);a.setSelection(p)})}})}_handleDeleteContent(e,o){const a=this.editor.plugins.get(oo),d=o[0],p=o[1],y=this.editor.model,w=!p||p.direction=="backward",A=a.getSelectedTableCells(d);A.length&&(e.stop(),y.change(j=>{const D=A[w?A.length-1:0];y.change(z=>{for(const W of A)y.deleteContent(z.createSelection(W,"in"))});const I=y.schema.getNearestSelectionRange(j.createPositionAt(D,0));d.is("documentSelection")?j.setSelection(I):d.setTo(I)}))}_handleInsertTextEvent(e,o){const a=this.editor,d=this.getSelectedTableCells();if(!d)return;const p=a.editing.view,y=a.editing.mapper,w=d.map(A=>p.createRangeOn(y.toViewElement(A)));o.selection=p.createSelection(w)}_getCellsToSelect(e,o){const a=this.editor.plugins.get("TableUtils"),d=a.getCellLocation(e),p=a.getCellLocation(o),y=Math.min(d.row,p.row),w=Math.max(d.row,p.row),A=Math.min(d.column,p.column),j=Math.max(d.column,p.column),D=new Array(w-y+1).fill(null).map(()=>[]),I={startRow:y,endRow:w,startColumn:A,endColumn:j};for(const{row:X,cell:re}of new Vr(e.findAncestor("table"),I))D[X-y].push(re);const z=p.row<d.row,W=p.column<d.column;return z&&D.reverse(),W&&D.forEach(X=>X.reverse()),{cells:D.flat(),backward:z||W}}}class vV extends Ge{static get pluginName(){return"TableClipboard"}static get requires(){return[fm,oo]}init(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"copy",(a,d)=>this._onCopyCut(a,d)),this.listenTo(o,"cut",(a,d)=>this._onCopyCut(a,d)),this.listenTo(e.model,"insertContent",(a,[d,p])=>this._onInsertContent(a,d,p),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,o){const a=this.editor.plugins.get(fm);if(!a.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;o.preventDefault(),e.stop();const d=this.editor.data,p=this.editor.editing.view.document,y=d.toView(a.getSelectionAsFragment());p.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:y,method:e.name})}_onInsertContent(e,o,a){if(a&&!a.is("documentSelection"))return;const d=this.editor.model,p=this.editor.plugins.get(oo);let y=this.getTableIfOnlyTableInContent(o,d);if(!y)return;const w=p.getSelectionAffectedTableCells(d.document.selection);w.length?(e.stop(),d.change(A=>{const j={width:p.getColumns(y),height:p.getRows(y)},D=function(de,fe,we,Fe){const st=de[0].findAncestor("table"),_t=Fe.getColumnIndexes(de),Ur=Fe.getRowIndexes(de),cr={firstColumn:_t.first,lastColumn:_t.last,firstRow:Ur.first,lastRow:Ur.last},fs=de.length===1;return fs&&(cr.lastRow+=fe.height-1,cr.lastColumn+=fe.width-1,function($n,_f,Fl,Qi){const Qc=Qi.getColumns($n),Jc=Qi.getRows($n);Fl>Qc&&Qi.insertColumns($n,{at:Qc,columns:Fl-Qc}),_f>Jc&&Qi.insertRows($n,{at:Jc,rows:_f-Jc})}(st,cr.lastRow+1,cr.lastColumn+1,Fe)),fs||!Fe.isSelectionRectangular(de)?function($n,_f,Fl){const{firstRow:Qi,lastRow:Qc,firstColumn:Jc,lastColumn:bm}=_f,vM={first:Qi,last:Qc},wM={first:Jc,last:bm};l_($n,Jc,vM,Fl),l_($n,bm+1,vM,Fl),a_($n,Qi,wM,Fl),a_($n,Qc+1,wM,Fl,Qi)}(st,cr,we):(cr.lastRow=YD(st,cr),cr.lastColumn=WD(st,cr)),cr}(w,j,A,p),I=D.lastRow-D.firstRow+1,z=D.lastColumn-D.firstColumn+1,W={startRow:0,startColumn:0,endRow:Math.min(I,j.height)-1,endColumn:Math.min(z,j.width)-1};y=FD(y,W,A);const X=w[0].findAncestor("table"),re=this._replaceSelectedCellsWithPasted(y,j,X,D,A);if(this.editor.plugins.get("TableSelection").isEnabled){const de=p.sortRanges(re.map(fe=>A.createRangeOn(fe)));A.setSelection(de)}else A.setSelection(re[0],0)})):s_(y,p)}_replaceSelectedCellsWithPasted(e,o,a,d,p){const{width:y,height:w}=o,A=function(de,fe,we){const Fe=new Array(we).fill(null).map(()=>new Array(fe).fill(null));for(const{column:st,row:_t,cell:Ur}of new Vr(de))Fe[_t][st]=Ur;return Fe}(e,y,w),j=[...new Vr(a,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],D=[];let I;for(const de of j){const{row:fe,column:we}=de;we===d.firstColumn&&(I=de.getPositionBefore());const Fe=fe-d.firstRow,st=we-d.firstColumn,_t=A[Fe%w][st%y],Ur=_t?p.cloneElement(_t):null,cr=this._replaceTableSlotCell(de,Ur,I,p);cr&&(qD(cr,fe,we,d.lastRow,d.lastColumn,p),D.push(cr),I=p.createPositionAfter(cr))}const z=parseInt(a.getAttribute("headingRows")||"0"),W=parseInt(a.getAttribute("headingColumns")||"0"),X=d.firstRow<z&&z<=d.lastRow,re=d.firstColumn<W&&W<=d.lastColumn;if(X){const de=a_(a,z,{first:d.firstColumn,last:d.lastColumn},p,d.firstRow);D.push(...de)}if(re){const de=l_(a,W,{first:d.firstRow,last:d.lastRow},p);D.push(...de)}return D}_replaceTableSlotCell(e,o,a,d){const{cell:p,isAnchor:y}=e;return y&&d.remove(p),o?(d.insert(o,a),o):null}getTableIfOnlyTableInContent(e,o){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const a=o.createRangeIn(e);for(const d of a.getItems())if(d.is("element","table")){const p=o.createRange(a.start,o.createPositionBefore(d));if(o.hasContent(p,{ignoreWhitespaces:!0}))return null;const y=o.createRange(o.createPositionAfter(d),a.end);return o.hasContent(y,{ignoreWhitespaces:!0})?null:d}return null}}function a_(c,e,o,a,d=0){if(!(e<1))return VD(c,e,d).filter(({column:p,cellWidth:y})=>nM(p,y,o)).map(({cell:p})=>UD(p,e,a))}function l_(c,e,o,a){if(!(e<1))return GD(c,e).filter(({row:d,cellHeight:p})=>nM(d,p,o)).map(({cell:d,column:p})=>HD(d,p,e,a))}function nM(c,e,o){const a=c+e-1,{first:d,last:p}=o;return c>=d&&c<=p||c<d&&a>=d}class wV extends Ge{static get pluginName(){return"TableKeyboard"}static get requires(){return[fm,oo]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(e,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(e,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]})}_handleTabOnSelectedTable(e,o){const a=this.editor,d=a.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(o.preventDefault(),o.stopPropagation(),e.stop(),a.model.change(p=>{p.setSelection(p.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(e,o){const a=this.editor,d=this.editor.plugins.get(oo),p=this.editor.plugins.get("TableSelection"),y=a.model.document.selection,w=!o.shiftKey;let A=d.getTableCellsContainingSelection(y)[0];if(A||(A=p.getFocusCell()),!A)return;o.preventDefault(),o.stopPropagation(),e.stop();const j=A.parent,D=j.parent,I=D.getChildIndex(j),z=j.getChildIndex(A),W=z===0;if(!w&&W&&I===0)return void a.model.change(fe=>{fe.setSelection(fe.createRangeOn(D))});const X=z===j.childCount-1,re=I===d.getRows(D)-1;if(w&&re&&X&&(a.execute("insertTableRowBelow"),I===d.getRows(D)-1))return void a.model.change(fe=>{fe.setSelection(fe.createRangeOn(D))});let de;if(w&&X)de=D.getChild(I+1).getChild(0);else if(!w&&W){const fe=D.getChild(I-1);de=fe.getChild(fe.childCount-1)}else de=j.getChild(z+(w?1:-1));a.model.change(fe=>{fe.setSelection(fe.createRangeIn(de))})}_onArrowKey(e,o){const a=this.editor,d=Oo(o.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(d,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),e.stop())}_handleArrowKeys(e,o){const a=this.editor.plugins.get(oo),d=this.editor.plugins.get("TableSelection"),p=this.editor.model,y=p.document.selection,w=["right","down"].includes(e),A=a.getSelectedTableCells(y);if(A.length){let D;return D=o?d.getFocusCell():w?A[A.length-1]:A[0],this._navigateFromCellInDirection(D,e,o),!0}const j=y.focus.findAncestor("tableCell");if(!j)return!1;if(!y.isCollapsed)if(o){if(y.isBackward==w&&!y.containsEntireContent(j))return!1}else{const D=y.getSelectedElement();if(!D||!p.schema.isObject(D))return!1}return!!this._isSelectionAtCellEdge(y,j,w)&&(this._navigateFromCellInDirection(j,e,o),!0)}_isSelectionAtCellEdge(e,o,a){const d=this.editor.model,p=this.editor.model.schema,y=a?e.getLastPosition():e.getFirstPosition();if(!p.getLimitElement(y).is("element","tableCell"))return d.createPositionAt(o,a?"end":0).isTouching(y);const w=d.createSelection(y);return d.modifySelection(w,{direction:a?"forward":"backward"}),y.isEqual(w.focus)}_navigateFromCellInDirection(e,o,a=!1){const d=this.editor.model,p=e.findAncestor("table"),y=[...new Vr(p,{includeAllSlots:!0})],{row:w,column:A}=y[y.length-1],j=y.find(({cell:re})=>re==e);let{row:D,column:I}=j;switch(o){case"left":I--;break;case"up":D--;break;case"right":I+=j.cellWidth;break;case"down":D+=j.cellHeight}if(D<0||D>w||I<0&&D<=0||I>A&&D>=w)return void d.change(re=>{re.setSelection(re.createRangeOn(p))});I<0?(I=a?0:A,D--):I>A&&(I=a?A:0,D++);const z=y.find(re=>re.row==D&&re.column==I).cell,W=["right","down"].includes(o),X=this.editor.plugins.get("TableSelection");if(a&&X.isEnabled){const re=X.getAnchorCell()||e;X.setCellSelection(re,z)}else{const re=d.createPositionAt(z,W?0:"end");d.change(de=>{de.setSelection(re)})}}}class kV extends ja{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class CV extends Ge{static get pluginName(){return"TableMouse"}static get requires(){return[fm,oo]}init(){this.editor.editing.view.addObserver(kV),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,o=e.plugins.get(oo);let a=!1;const d=e.plugins.get(fm);this.listenTo(e.editing.view.document,"mousedown",(p,y)=>{const w=e.model.document.selection;if(!this.isEnabled||!d.isEnabled||!y.domEvent.shiftKey)return;const A=d.getAnchorCell()||o.getTableCellsContainingSelection(w)[0];if(!A)return;const j=this._getModelTableCellFromDomEvent(y);j&&sM(A,j)&&(a=!0,d.setCellSelection(A,j),y.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(e.editing.view.document,"selectionChange",p=>{a&&p.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let o,a,d=!1,p=!1;const y=e.plugins.get(fm);this.listenTo(e.editing.view.document,"mousedown",(w,A)=>{this.isEnabled&&y.isEnabled&&(A.domEvent.shiftKey||A.domEvent.ctrlKey||A.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(A)))}),this.listenTo(e.editing.view.document,"mousemove",(w,A)=>{if(!A.domEvent.buttons||!o)return;const j=this._getModelTableCellFromDomEvent(A);j&&sM(o,j)&&(a=j,d||a==o||(d=!0)),d&&(p=!0,y.setCellSelection(o,a),A.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{d=!1,p=!1,o=null,a=null}),this.listenTo(e.editing.view.document,"selectionChange",w=>{p&&w.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const o=e.target,a=this.editor.editing.view.createPositionAt(o,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function sM(c,e){return c.parent.parent==e.parent.parent}var oM=l(6306),_V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(oM.Z,_V),oM.Z.locals;function AV(c){const e=c.getSelectedElement();return e&&iM(e)?e:null}function NV(c){const e=c.getFirstPosition();if(!e)return null;let o=e.parent;for(;o;){if(o.is("element")&&iM(o))return o;o=o.parent}return null}function iM(c){return!!c.getCustomProperty("table")&&yn(c)}var aM=l(7368),jV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(aM.Z,jV),aM.Z.locals;var lM=l(9247),SV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(lM.Z,SV),lM.Z.locals;var cM=l(4070),EV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(cM.Z,EV),cM.Z.locals;var dM=l(6237),DV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(dM.Z,DV),dM.Z.locals;var uM=l(5087),MV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(uM.Z,MV),uM.Z.locals;const gm=qo.defaultPositions;gm.northArrowSouth,gm.northArrowSouthWest,gm.northArrowSouthEast,gm.southArrowNorth,gm.southArrowNorthWest,gm.southArrowNorthEast,gm.viewportStickyNorth;var hM=l(7341),TV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(hM.Z,TV),hM.Z.locals;var mM=l(2128),IV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(mM.Z,IV),mM.Z.locals;var pM=l(4101),RV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(pM.Z,RV),pM.Z.locals;var PV=Object.defineProperty,fM=Object.getOwnPropertySymbols,OV=Object.prototype.hasOwnProperty,BV=Object.prototype.propertyIsEnumerable,gM=(c,e,o)=>e in c?PV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o,bM=(c,e)=>{for(var o in e||(e={}))OV.call(e,o)&&gM(c,o,e[o]);if(fM)for(var o of fM(e))BV.call(e,o)&&gM(c,o,e[o]);return c};const LV={autoRefresh:!0},yM=36e5;class c_ extends nt(){constructor(e,o={}){if(super(),!e)throw new B("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh=typeof e=="function"?e:()=>{return a=e,new Promise((d,p)=>{const y=new XMLHttpRequest;y.open("GET",a),y.addEventListener("load",()=>{const w=y.status,A=y.response;return w<200||w>299?p(new B("token-cannot-download-new-token",null)):d(A)}),y.addEventListener("error",()=>p(new Error("Network Error"))),y.addEventListener("abort",()=>p(new Error("Abort"))),y.send()});var a},this._options=bM(bM({},LV),o)}init(){return new Promise((e,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(o)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const o=typeof e=="string",a=!/^".*"$/.test(e),d=o&&e.split(".").length===3;if(!a||!d)throw new B("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:o}=JSON.parse(atob(e));return o?Math.floor((1e3*o-Date.now())/2):yM}catch{return yM}}static create(e,o={}){return new c_(e,o).init()}}const d_=/^data:(\S*?);base64,/;class zV extends oe(){constructor(e,o,a){if(super(),!e)throw new B("fileuploader-missing-file",null);if(!o)throw new B("fileuploader-missing-token",null);if(!a)throw new B("fileuploader-missing-api-address",null);this.file=function(d){if(typeof d!="string")return!1;const p=d.match(d_);return!(!p||!p.length)}(e)?function(d,p=512){try{const y=d.match(d_)[1],w=atob(d.replace(d_,"")),A=[];for(let j=0;j<w.length;j+=p){const D=w.slice(j,j+p),I=new Array(D.length);for(let z=0;z<D.length;z++)I[z]=D.charCodeAt(z);A.push(new Uint8Array(I))}return new Blob(A,{type:y})}catch{throw new B("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=o,this._apiAddress=a}onProgress(e){return this.on("progress",(o,a)=>e(a)),this}onError(e){return this.once("error",(o,a)=>e(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,o=a=>()=>this.fire("error",a);e.addEventListener("error",o("Network Error")),e.addEventListener("abort",o("Abort")),e.upload&&e.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),e.addEventListener("load",()=>{const a=e.status,d=e.response;if(a<200||a>299)return this.fire("error",d.message||d.error)})}_sendRequest(){const e=new FormData,o=this.xhr;return e.append("file",this.file),new Promise((a,d)=>{o.addEventListener("load",()=>{const p=o.status,y=o.response;return p<200||p>299?y.message?d(new B("fileuploader-uploading-data-failed",this,{message:y.message})):d(y.error):a(y)}),o.addEventListener("error",()=>d(new Error("Network Error"))),o.addEventListener("abort",()=>d(new Error("Abort"))),o.send(e)})}}class FV{constructor(e,o){if(!e)throw new B("uploadgateway-missing-token",null);if(!o)throw new B("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=o}upload(e){return new zV(e,this._token,this._apiAddress)}}class VV extends Yd{static get pluginName(){return"CloudServicesCore"}createToken(e,o){return new c_(e,o)}createUploadGateway(e,o){return new FV(e,o)}}var xM=(c,e,o)=>new Promise((a,d)=>{var p=A=>{try{w(o.next(A))}catch(j){d(j)}},y=A=>{try{w(o.throw(A))}catch(j){d(j)}},w=A=>A.done?a(A.value):Promise.resolve(A.value).then(p,y);w((o=o.apply(c,e)).next())});class u_ extends W0{}u_.builtinPlugins=[class extends Ge{static get requires(){return[uE,X0,B8,f8,o8,yE]}static get pluginName(){return"Essentials"}},class extends Ge{static get requires(){return[Ga]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(Ga).createUploadAdapter=e=>new X8(e,c,this.editor.t))}},class extends Ge{static get requires(){return[Wc]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&wu(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&wu(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&wu(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&wu(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=ew(this.editor,"bold");xf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),xf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=ew(this.editor,"italic");xf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),xf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=ew(this.editor,"code");xf(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=ew(this.editor,"strikethrough");xf(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const o=e[7],a=new RegExp(`^(#{${o}})\\s$`);wu(this.editor,this,a,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&wu(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&wu(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&wu(this.editor,this,/^---$/,"horizontalLine")}},class extends Ge{static get requires(){return[$8,Z8]}static get pluginName(){return"Bold"}},class extends Ge{static get requires(){return[t7,r7]}static get pluginName(){return"Italic"}},class extends Ge{static get requires(){return[s7,i7]}static get pluginName(){return"BlockQuote"}},class extends Ge{static get pluginName(){return"CKBox"}static get requires(){return[LC,a7]}},class extends Ge{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",y7,g7]}},class extends Yd{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[VV]}init(){return xM(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[o,a]of Object.entries(c))this[o]=a;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return xM(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),o=yield e.createToken(c).init();return this._tokens.set(c,o),o})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new B("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends Ge{static get pluginName(){return"EasyImage"}static get requires(){return[x7,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||Y("easy-image-image-feature-missing",c)}},class extends Ge{static get requires(){return[_7,N7]}static get pluginName(){return"Heading"}},class extends Ge{static get requires(){return[G7,q7]}static get pluginName(){return"Image"}},class extends Ge{static get requires(){return[W7,K7]}static get pluginName(){return"ImageCaption"}},class extends Ge{static get requires(){return[j4,xz]}static get pluginName(){return"ImageStyle"}},class extends Ge{static get requires(){return[Z0,Ha]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,o=c.plugins.get(Z0),a=c.plugins.get("ImageUtils");var d;o.register("image",{ariaLabel:e("Image toolbar"),items:(d=c.config.get("image.toolbar")||[],d.map(p=>qe(p)?p.name:p)),getRelatedElement:p=>a.getClosestSelectedImageWidget(p)})}},class extends Ge{static get pluginName(){return"ImageUpload"}static get requires(){return[lz,X7,tz]}},class extends Ge{static get pluginName(){return"Indent"}static get requires(){return[vz,wz]}},class extends Ge{static get requires(){return[Yz,Xz,Zz]}static get pluginName(){return"Link"}},class extends Ge{static get requires(){return[vF,aF]}static get pluginName(){return"List"}},class extends Ge{static get requires(){return[ow,EF,NF,ly]}static get pluginName(){return"MediaEmbed"}},zC,class extends Ge{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ll]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),o=c.editing.view.document,a=[];a.push(new LF(o)),a.push(new FF(o)),a.push(new UF(o)),e.on("inputTransformation",(d,p)=>{if(p._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const y=p.dataTransfer.getData("text/html"),w=a.find(A=>A.isActive(y));w&&(p._parsedData||(p._parsedData=GF(y,o.stylesProcessor)),w.execute(p),p._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Ge{static get requires(){return[VC,Ha]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,o=c.plugins.get("ImageUtils");e.for("upcast").add(function(a){const d=["srcset","media","type","sizes"],p=(y,w,A)=>{const j=w.viewItem;if(!A.consumable.test(j,{name:!0}))return;const D=new Map;for(const W of j.getChildren())if(W.is("element","source")){const X={};for(const re of d)W.hasAttribute(re)&&A.consumable.test(W,{attributes:re})&&(X[re]=W.getAttribute(re));Object.keys(X).length&&D.set(W,X)}const I=a.findViewImgElement(j);if(!I)return;let z=w.modelCursor.parent;if(!z.is("element","imageBlock")){const W=A.convertItem(I,w.modelCursor);w.modelRange=W.modelRange,w.modelCursor=W.modelCursor,z=pn(W.modelRange.getItems())}A.consumable.consume(j,{name:!0});for(const[W,X]of D)A.consumable.consume(W,{attributes:Object.keys(X)});D.size&&A.writer.setAttribute("sources",Array.from(D.values()),z),A.convertChildren(j,z)};return y=>{y.on("element:picture",p)}}(o)),e.for("downcast").add(function(a){const d=(p,y,w)=>{if(!w.consumable.consume(y.item,p.name))return;const A=w.writer,j=w.mapper.toViewElement(y.item),D=a.findViewImgElement(j),I=y.attributeNewValue;if(I&&I.length){const z=A.createContainerElement("picture",null,I.map(re=>A.createEmptyElement("source",re))),W=[];let X=D.parent;for(;X&&X.is("attributeElement");){const re=X.parent;A.unwrap(A.createRangeOn(D),X),W.unshift(X),X=re}A.insert(A.createPositionBefore(D),z),A.move(A.createRangeOn(D),A.createPositionAt(z,"end"));for(const re of W)A.wrap(A.createRangeOn(z),re)}else if(D.parent.is("element","picture")){const z=D.parent;A.move(A.createRangeOn(D),A.createPositionBefore(z)),A.remove(z)}};return p=>{p.on("attribute:sources:imageBlock",d),p.on("attribute:sources:imageInline",d)}}(o))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(o,{imageElement:a,data:d})=>{const p=d.sources;p&&c.model.change(y=>{y.setAttributes({sources:p},a)})})}},class extends Ge{static get requires(){return[pV,bV,fm,CV,wV,vV,ly]}static get pluginName(){return"Table"}},class extends Ge{static get requires(){return[Z0]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,o=c.plugins.get(Z0),a=c.config.get("table.contentToolbar"),d=c.config.get("table.tableToolbar");a&&o.register("tableContent",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:NV}),d&&o.register("table",{ariaLabel:e("Table toolbar"),items:d,getRelatedElement:AV})}},class extends Ge{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:l8}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,o=c.plugins.get("Delete"),a=function(p){const y=p.extra||[],w=p.remove||[],A=j=>!w.includes(j);return function(j){const D=new Set;for(const I of j)if(typeof I=="string"&&US[I])for(const z of US[I])D.add(z);else D.add(I);return Array.from(D)}(p.include.concat(y).filter(A)).filter(A).map(j=>typeof j=="string"&&VS[j]?VS[j]:j).filter(j=>typeof j=="object").map(j=>({from:c8(j.from),to:d8(j.to)}))}(c.config.get("typing.transformations")),d=new LS(c.model,p=>{for(const y of a)if(y.from.test(p))return{normalizedTransformation:y}});d.on("matched:data",(p,y)=>{if(!y.batch.isTyping)return;const{from:w,to:A}=y.normalizedTransformation,j=w.exec(y.text),D=A(j.slice(1)),I=y.range;let z=j.index;e.enqueueChange(W=>{for(let X=1;X<j.length;X++){const re=j[X],de=D[X-1];if(de==null){z+=re.length;continue}const fe=I.start.getShiftedBy(z),we=e.createRange(fe,fe.getShiftedBy(re.length)),Fe=u8(fe);e.insertContent(W.createText(de,Fe),we),z+=de.length}e.enqueueChange(()=>{o.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}}],u_.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),h=h.default})())}(Sy,Sy.exports)),Sy.exports}var ble=gle();const yle=zk(ble),xle=un(qm(r=>({pages:[{path:"terms-conditions",title:"Terms & Conditions"},{path:"privacy-policy",title:"Privacy Policy"},{path:"cancellation-refund-policy",title:"Cancellation & Refund Policy"},{path:"shipping-policy",title:"Shipping Policy"},{path:"about-us",title:"About Us"},{path:"contact-us",title:"Contact Us"},{path:"faq",title:"FAQ"},{path:"careers",title:"Careers"}],content:null,loading:!1,error:null,savingPage:!1,setLoading:t=>r({loading:t}),setError:t=>r({error:t}),setSavingPage:t=>r({savingPage:t}),setContent:t=>r({content:t}),clearContent:()=>r({content:null,loading:!1,error:null}),clearError:()=>r({error:null}),fetchPageContent:async t=>{var s,i;if(t){r({loading:!0,error:null});try{const l=await Ze.get(`/admin/page-content/${t}/`);if(l.status===200)return r({content:l.data.content||"",loading:!1}),l.data.content}catch(l){throw console.error("Error fetching page content:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch page content",loading:!1}),l}}},updatePageContent:async(t,s)=>{var i,l;if(t){r({savingPage:!0,error:null});try{if((await Ze.put(`/admin/page-content/update/${t}/`,{content:s})).status===200)return r({content:s,savingPage:!1}),!0}catch(h){throw console.error("Error updating page content:",h),r({error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to update page content",savingPage:!1}),h}}},addCustomPage:async(t,s)=>{const i=s.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");r(l=>{if(l.pages.some(m=>m.path===i))throw new Error("A page with this path already exists");return{pages:[...l.pages,{path:i,title:t,isCustom:!0}]}});try{return await Ze.put(`/admin/page-content/update/${i}/`,{content:""}),i}catch(l){throw console.error("Error creating custom page:",l),r(h=>{var m,g;return{pages:h.pages.filter(b=>b.path!==i),error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to create custom page"}}),l}},deleteCustomPage:async t=>{var s,i;r(l=>{const h=l.pages.find(m=>m.path===t);if(!h||!h.isCustom)throw new Error("Only custom pages can be deleted");return l});try{return await Ze.delete(`/admin/page-content/${t}/`),r(l=>({pages:l.pages.filter(h=>h.path!==t)})),!0}catch(l){throw console.error("Error deleting custom page:",l),r({error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to delete custom page"}),l}}}))),vle=()=>{const[r,t]=O.useState(null),[s,i]=O.useState(!1),[l,h]=O.useState(!1),[m,g]=O.useState({title:"",path:""}),b=O.useRef(null),{pages:v,content:k,loading:C,savingPage:_,fetchPageContent:S,updatePageContent:T,addCustomPage:R,deleteCustomPage:P,setContent:V,clearContent:U,error:F}=xle();O.useEffect(()=>(r&&S(r.path).catch(()=>{Re.error("Failed to load page content")}),()=>{U()}),[r]),O.useEffect(()=>{F&&Re.error(F)},[F]);const q=Y=>{t(Y),i(!1)},ne=async()=>{if(r)try{await T(r.path,k),Re.success(`${r.title} content updated successfully`)}catch{Re.error("Failed to update page content")}},se=()=>{i(!s)},Q=async Y=>{if(Y.preventDefault(),!m.title||!m.path){Re.error("Title and URL path are required");return}try{const J=await R(m.title,m.path);g({title:"",path:""}),h(!1),Re.success("Custom page created successfully");const K=v.find(Z=>Z.path===J);K&&q(K)}catch(J){Re.error(J.message||"Failed to create custom page")}},B=async(Y,J)=>{if(J.stopPropagation(),!Y.isCustom){Re.error("Only custom pages can be deleted");return}if(confirm(`Are you sure you want to delete the page "${Y.title}"? This cannot be undone.`))try{await P(Y.path),Re.success("Page deleted successfully"),(r==null?void 0:r.path)===Y.path&&t(null)}catch(K){Re.error(K.message||"Failed to delete page")}};return O.useEffect(()=>{if(r&&!s){const Y=setTimeout(()=>{k||V("")},100);return()=>clearTimeout(Y)}},[r,s,k,V]),n.jsxs("div",{className:"page-manager",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"w-full md:w-1/4",children:[" ",n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsx("h3",{className:"font-medium text-lg",children:"Website Pages"})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"System Pages"}),n.jsx("ul",{className:"space-y-2",children:v.filter(Y=>!Y.isCustom).map(Y=>n.jsx("li",{children:n.jsx("button",{className:`w-full text-left px-4 py-2 rounded-md transition ${(r==null?void 0:r.path)===Y.path?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>q(Y),children:Y.title})},Y.path))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Custom Pages"}),v.filter(Y=>Y.isCustom).length>0?n.jsx("ul",{className:"space-y-2",children:v.filter(Y=>Y.isCustom).map(Y=>n.jsx("li",{className:"relative group",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{className:`w-full text-left px-4 py-2 rounded-md transition ${(r==null?void 0:r.path)===Y.path?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>q(Y),children:Y.title}),n.jsx("button",{onClick:J=>B(Y,J),className:"text-red-500 hover:text-red-700 ml-2",children:n.jsx(cn,{})})]})},Y.path))}):n.jsx("p",{className:"text-sm text-gray-500 italic px-4 py-2",children:"No custom pages created"})," "]})]})]}),n.jsx("div",{className:"w-full md:w-3/4",children:r?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[" ",n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h3",{className:"font-medium text-xl",children:[s?"Previewing: ":"Editing: ",r.title]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(tt,{onClick:se,type:"secondary",children:s?"Back to Edit":"Preview"}),n.jsx(tt,{onClick:ne,disabled:C||_||s,type:"primary",children:_?"Saving...":"Save Changes"})]})]}),C?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?n.jsx("div",{className:"preview-mode border rounded-md p-4 prose max-w-none min-h-[400px] overflow-auto bg-gray-50",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:k||"No content available to preview."}})}):n.jsx("div",{className:"editor-container",children:n.jsx(E6,{editor:yle,data:k||"",onReady:Y=>{b.current=Y},onChange:(Y,J)=>{const K=J.getData();V(K)},config:{height:"500px",toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"]}},(r==null?void 0:r.path)||"editor")})]}):n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Select a page from the sidebar to edit its content"})})})]}),l&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-medium mb-4",children:"Create New Page"}),n.jsxs("form",{onSubmit:Q,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Title"}),n.jsx("input",{type:"text",value:m.title,onChange:Y=>g({...m,title:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Path"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-500 mr-1",children:"/"}),n.jsx("input",{type:"text",value:m.path,onChange:Y=>g({...m,path:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"my-custom-page",required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use lowercase letters, numbers, and hyphens only. No spaces."})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Page"})]})]})]})})]})},wle=()=>{const[r,t]=O.useState({primary:"#3b82f6",secondary:"#10b981",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#f59e0b"}),[s,i]=O.useState({}),[l,h]=O.useState(!1),[m,g]=O.useState(!1);O.useEffect(()=>{(()=>{const R=k6();if(R){t(R),i(R);return}const P=document.documentElement,V=getComputedStyle(P),U={primary:V.getPropertyValue("--brand-primary").trim()||"#3b82f6",secondary:V.getPropertyValue("--brand-secondary").trim()||"#10b981",success:V.getPropertyValue("--success-color").trim()||"#10b981",error:V.getPropertyValue("--error-color").trim()||"#ef4444",warning:V.getPropertyValue("--warning-color").trim()||"#f59e0b",info:V.getPropertyValue("--accent-color").trim()||"#f59e0b"};t(U),i(U)})()},[]);const b=T=>{Dj(T)},v=(T,R)=>{const P={...r,[T]:R};t(P),m&&b(P)},k=()=>{g(!m),b(m?s:r)},C=async()=>{h(!0);try{if(Sie(r))i(r),alert("Colors saved successfully!");else throw new Error("Failed to save colors")}catch(T){console.error("Error saving colors:",T),alert("Error saving colors. Please try again.")}finally{h(!1)}},_=()=>{const T=jie();t(T),b(T),g(!1),localStorage.removeItem("customColors")},S={primary:"Brand Primary",secondary:"Brand Secondary",success:"Success",error:"Error",warning:"Warning",info:"Accent/Info"};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Color Theme Settings"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Customize the application's color scheme"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx(tt,{variant:m?"primary":"outline",size:"sm",onClick:k,icon:n.jsx(Di,{size:16}),children:m?"Previewing":"Preview"})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(r).map(([T,R])=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:S[T]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-sm",style:{backgroundColor:R}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"color",value:R,onChange:P=>v(T,P.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer"}),n.jsx("input",{type:"text",value:R,onChange:P=>v(T,P.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-mono bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"#000000"})]})]})]},T))}),m&&n.jsxs("div",{className:"mt-8 p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[n.jsx(qN,{className:"mr-2"}),"Color Preview"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(r).map(([T,R])=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg mx-auto mb-2 shadow-md",style:{backgroundColor:R}}),n.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:S[T]}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 font-mono",children:R})]},T))})]}),n.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(tt,{variant:"outline",size:"md",onClick:_,icon:n.jsx(T9,{size:16}),children:"Reset to Default"}),n.jsx("div",{className:"flex gap-3",children:n.jsx(tt,{variant:"primary",size:"md",onClick:C,isLoading:l,icon:n.jsx(Gm,{size:16}),children:l?"Saving...":"Save Changes"})})]}),n.jsxs("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Usage Instructions"}),n.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[n.jsx("li",{children:" Use the color pickers or enter hex values directly"}),n.jsx("li",{children:' Click "Preview" to see changes in real-time'}),n.jsx("li",{children:' "Save Changes" will apply colors across the application'}),n.jsx("li",{children:' "Reset to Default" will restore original theme colors'})]})]})]})};function kle(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return O.useMemo(()=>i=>{t.forEach(l=>l(i))},t)}const D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fg(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function Tj(r){return"nodeType"in r}function ri(r){var t,s;return r?fg(r)?r:Tj(r)&&(t=(s=r.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function Ij(r){const{Document:t}=ri(r);return r instanceof t}function Hx(r){return fg(r)?!1:r instanceof ri(r).HTMLElement}function M6(r){return r instanceof ri(r).SVGElement}function gg(r){return r?fg(r)?r.document:Tj(r)?Ij(r)?r:Hx(r)||M6(r)?r.ownerDocument:document:document:document}const tc=D1?O.useLayoutEffect:O.useEffect;function Rj(r){const t=O.useRef(r);return tc(()=>{t.current=r}),O.useCallback(function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return t.current==null?void 0:t.current(...i)},[])}function Cle(){const r=O.useRef(null),t=O.useCallback((i,l)=>{r.current=setInterval(i,l)},[]),s=O.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,s]}function gx(r,t){t===void 0&&(t=[r]);const s=O.useRef(r);return tc(()=>{s.current!==r&&(s.current=r)},t),s}function qx(r,t){const s=O.useRef();return O.useMemo(()=>{const i=r(s.current);return s.current=i,i},[...t])}function Pk(r){const t=Rj(r),s=O.useRef(null),i=O.useCallback(l=>{l!==s.current&&(t==null||t(l,s.current)),s.current=l},[]);return[s,i]}function k2(r){const t=O.useRef();return O.useEffect(()=>{t.current=r},[r]),t.current}let aA={};function Yx(r,t){return O.useMemo(()=>{if(t)return t;const s=aA[r]==null?0:aA[r]+1;return aA[r]=s,r+"-"+s},[r,t])}function T6(r){return function(t){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return i.reduce((h,m)=>{const g=Object.entries(m);for(const[b,v]of g){const k=h[b];k!=null&&(h[b]=k+r*v)}return h},{...t})}}const Ff=T6(1),bx=T6(-1);function _le(r){return"clientX"in r&&"clientY"in r}function Pj(r){if(!r)return!1;const{KeyboardEvent:t}=ri(r.target);return t&&r instanceof t}function Ale(r){if(!r)return!1;const{TouchEvent:t}=ri(r.target);return t&&r instanceof t}function C2(r){if(Ale(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:s}=r.touches[0];return{x:t,y:s}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:s}=r.changedTouches[0];return{x:t,y:s}}}return _le(r)?{x:r.clientX,y:r.clientY}:null}const yx=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:s}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:s}=r;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(r){if(r)return[yx.Translate.toString(r),yx.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:s,easing:i}=r;return t+" "+s+"ms "+i}}}),RR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Nle(r){return r.matches(RR)?r:r.querySelector(RR)}const jle={display:"none"};function Sle(r){let{id:t,value:s}=r;return mt.createElement("div",{id:t,style:jle},s)}function Ele(r){let{id:t,announcement:s,ariaLiveType:i="assertive"}=r;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mt.createElement("div",{id:t,style:l,role:"status","aria-live":i,"aria-atomic":!0},s)}function Dle(){const[r,t]=O.useState("");return{announce:O.useCallback(i=>{i!=null&&t(i)},[]),announcement:r}}const I6=O.createContext(null);function Mle(r){const t=O.useContext(I6);O.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function Tle(){const[r]=O.useState(()=>new Set),t=O.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[O.useCallback(i=>{let{type:l,event:h}=i;r.forEach(m=>{var g;return(g=m[l])==null?void 0:g.call(m,h)})},[r]),t]}const Ile={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Rle={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:s}=r;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:s}=r;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ple(r){let{announcements:t=Rle,container:s,hiddenTextDescribedById:i,screenReaderInstructions:l=Ile}=r;const{announce:h,announcement:m}=Dle(),g=Yx("DndLiveRegion"),[b,v]=O.useState(!1);if(O.useEffect(()=>{v(!0)},[]),Mle(O.useMemo(()=>({onDragStart(C){let{active:_}=C;h(t.onDragStart({active:_}))},onDragMove(C){let{active:_,over:S}=C;t.onDragMove&&h(t.onDragMove({active:_,over:S}))},onDragOver(C){let{active:_,over:S}=C;h(t.onDragOver({active:_,over:S}))},onDragEnd(C){let{active:_,over:S}=C;h(t.onDragEnd({active:_,over:S}))},onDragCancel(C){let{active:_,over:S}=C;h(t.onDragCancel({active:_,over:S}))}}),[h,t])),!b)return null;const k=mt.createElement(mt.Fragment,null,mt.createElement(Sle,{id:i,value:l.draggable}),mt.createElement(Ele,{id:g,announcement:m}));return s?by.createPortal(k,s):k}var gs;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(gs||(gs={}));function Ok(){}function PR(r,t){return O.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function Ole(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return O.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const tl=Object.freeze({x:0,y:0});function R6(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function P6(r,t){let{data:{value:s}}=r,{data:{value:i}}=t;return s-i}function Ble(r,t){let{data:{value:s}}=r,{data:{value:i}}=t;return i-s}function OR(r){let{left:t,top:s,height:i,width:l}=r;return[{x:t,y:s},{x:t+l,y:s},{x:t,y:s+i},{x:t+l,y:s+i}]}function O6(r,t){if(!r||r.length===0)return null;const[s]=r;return s[t]}function BR(r,t,s){return t===void 0&&(t=r.left),s===void 0&&(s=r.top),{x:t+r.width*.5,y:s+r.height*.5}}const Lle=r=>{let{collisionRect:t,droppableRects:s,droppableContainers:i}=r;const l=BR(t,t.left,t.top),h=[];for(const m of i){const{id:g}=m,b=s.get(g);if(b){const v=R6(BR(b),l);h.push({id:g,data:{droppableContainer:m,value:v}})}}return h.sort(P6)},zle=r=>{let{collisionRect:t,droppableRects:s,droppableContainers:i}=r;const l=OR(t),h=[];for(const m of i){const{id:g}=m,b=s.get(g);if(b){const v=OR(b),k=l.reduce((_,S,T)=>_+R6(v[T],S),0),C=Number((k/4).toFixed(4));h.push({id:g,data:{droppableContainer:m,value:C}})}}return h.sort(P6)};function Fle(r,t){const s=Math.max(t.top,r.top),i=Math.max(t.left,r.left),l=Math.min(t.left+t.width,r.left+r.width),h=Math.min(t.top+t.height,r.top+r.height),m=l-i,g=h-s;if(i<l&&s<h){const b=t.width*t.height,v=r.width*r.height,k=m*g,C=k/(b+v-k);return Number(C.toFixed(4))}return 0}const Vle=r=>{let{collisionRect:t,droppableRects:s,droppableContainers:i}=r;const l=[];for(const h of i){const{id:m}=h,g=s.get(m);if(g){const b=Fle(g,t);b>0&&l.push({id:m,data:{droppableContainer:h,value:b}})}}return l.sort(Ble)};function Ule(r,t,s){return{...r,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function B6(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:tl}function Gle(r){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),h=1;h<i;h++)l[h-1]=arguments[h];return l.reduce((m,g)=>({...m,top:m.top+r*g.y,bottom:m.bottom+r*g.y,left:m.left+r*g.x,right:m.right+r*g.x}),{...s})}}const Hle=Gle(1);function qle(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Yle(r,t,s){const i=qle(t);if(!i)return r;const{scaleX:l,scaleY:h,x:m,y:g}=i,b=r.left-m-(1-l)*parseFloat(s),v=r.top-g-(1-h)*parseFloat(s.slice(s.indexOf(" ")+1)),k=l?r.width/l:r.width,C=h?r.height/h:r.height;return{width:k,height:C,top:v,right:b+k,bottom:v+C,left:b}}const Wle={ignoreTransform:!1};function bg(r,t){t===void 0&&(t=Wle);let s=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:v,transformOrigin:k}=ri(r).getComputedStyle(r);v&&(s=Yle(s,v,k))}const{top:i,left:l,width:h,height:m,bottom:g,right:b}=s;return{top:i,left:l,width:h,height:m,bottom:g,right:b}}function LR(r){return bg(r,{ignoreTransform:!0})}function Kle(r){const t=r.innerWidth,s=r.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function Qle(r,t){return t===void 0&&(t=ri(r).getComputedStyle(r)),t.position==="fixed"}function Jle(r,t){t===void 0&&(t=ri(r).getComputedStyle(r));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const h=t[l];return typeof h=="string"?s.test(h):!1})}function M1(r,t){const s=[];function i(l){if(t!=null&&s.length>=t||!l)return s;if(Ij(l)&&l.scrollingElement!=null&&!s.includes(l.scrollingElement))return s.push(l.scrollingElement),s;if(!Hx(l)||M6(l)||s.includes(l))return s;const h=ri(r).getComputedStyle(l);return l!==r&&Jle(l,h)&&s.push(l),Qle(l,h)?s:i(l.parentNode)}return r?i(r):s}function L6(r){const[t]=M1(r,1);return t??null}function lA(r){return!D1||!r?null:fg(r)?r:Tj(r)?Ij(r)||r===gg(r).scrollingElement?window:Hx(r)?r:null:null}function z6(r){return fg(r)?r.scrollX:r.scrollLeft}function F6(r){return fg(r)?r.scrollY:r.scrollTop}function _2(r){return{x:z6(r),y:F6(r)}}var Es;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Es||(Es={}));function V6(r){return!D1||!r?!1:r===document.scrollingElement}function U6(r){const t={x:0,y:0},s=V6(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-s.width,y:r.scrollHeight-s.height},l=r.scrollTop<=t.y,h=r.scrollLeft<=t.x,m=r.scrollTop>=i.y,g=r.scrollLeft>=i.x;return{isTop:l,isLeft:h,isBottom:m,isRight:g,maxScroll:i,minScroll:t}}const Xle={x:.2,y:.2};function $le(r,t,s,i,l){let{top:h,left:m,right:g,bottom:b}=s;i===void 0&&(i=10),l===void 0&&(l=Xle);const{isTop:v,isBottom:k,isLeft:C,isRight:_}=U6(r),S={x:0,y:0},T={x:0,y:0},R={height:t.height*l.y,width:t.width*l.x};return!v&&h<=t.top+R.height?(S.y=Es.Backward,T.y=i*Math.abs((t.top+R.height-h)/R.height)):!k&&b>=t.bottom-R.height&&(S.y=Es.Forward,T.y=i*Math.abs((t.bottom-R.height-b)/R.height)),!_&&g>=t.right-R.width?(S.x=Es.Forward,T.x=i*Math.abs((t.right-R.width-g)/R.width)):!C&&m<=t.left+R.width&&(S.x=Es.Backward,T.x=i*Math.abs((t.left+R.width-m)/R.width)),{direction:S,speed:T}}function Zle(r){if(r===document.scrollingElement){const{innerWidth:h,innerHeight:m}=window;return{top:0,left:0,right:h,bottom:m,width:h,height:m}}const{top:t,left:s,right:i,bottom:l}=r.getBoundingClientRect();return{top:t,left:s,right:i,bottom:l,width:r.clientWidth,height:r.clientHeight}}function G6(r){return r.reduce((t,s)=>Ff(t,_2(s)),tl)}function ece(r){return r.reduce((t,s)=>t+z6(s),0)}function tce(r){return r.reduce((t,s)=>t+F6(s),0)}function rce(r,t){if(t===void 0&&(t=bg),!r)return;const{top:s,left:i,bottom:l,right:h}=t(r);L6(r)&&(l<=0||h<=0||s>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const nce=[["x",["left","right"],ece],["y",["top","bottom"],tce]];class Oj{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=M1(s),l=G6(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[h,m,g]of nce)for(const b of m)Object.defineProperty(this,b,{get:()=>{const v=g(i),k=l[h]-v;return this.rect[b]+k},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uy{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...s)})},this.target=t}add(t,s,i){var l;(l=this.target)==null||l.addEventListener(t,s,i),this.listeners.push([t,s,i])}}function sce(r){const{EventTarget:t}=ri(r);return r instanceof t?r:gg(r)}function cA(r,t){const s=Math.abs(r.x),i=Math.abs(r.y);return typeof t=="number"?Math.sqrt(s**2+i**2)>t:"x"in t&&"y"in t?s>t.x&&i>t.y:"x"in t?s>t.x:"y"in t?i>t.y:!1}var $i;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})($i||($i={}));function zR(r){r.preventDefault()}function oce(r){r.stopPropagation()}var pr;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(pr||(pr={}));const H6={start:[pr.Space,pr.Enter],cancel:[pr.Esc],end:[pr.Space,pr.Enter,pr.Tab]},ice=(r,t)=>{let{currentCoordinates:s}=t;switch(r.code){case pr.Right:return{...s,x:s.x+25};case pr.Left:return{...s,x:s.x-25};case pr.Down:return{...s,y:s.y+25};case pr.Up:return{...s,y:s.y-25}}};class Bj{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new Uy(gg(s)),this.windowListeners=new Uy(ri(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($i.Resize,this.handleCancel),this.windowListeners.add($i.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($i.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,i=t.node.current;i&&rce(i),s(tl)}handleKeyDown(t){if(Pj(t)){const{active:s,context:i,options:l}=this.props,{keyboardCodes:h=H6,coordinateGetter:m=ice,scrollBehavior:g="smooth"}=l,{code:b}=t;if(h.end.includes(b)){this.handleEnd(t);return}if(h.cancel.includes(b)){this.handleCancel(t);return}const{collisionRect:v}=i.current,k=v?{x:v.left,y:v.top}:tl;this.referenceCoordinates||(this.referenceCoordinates=k);const C=m(t,{active:s,context:i.current,currentCoordinates:k});if(C){const _=bx(C,k),S={x:0,y:0},{scrollableAncestors:T}=i.current;for(const R of T){const P=t.code,{isTop:V,isRight:U,isLeft:F,isBottom:q,maxScroll:ne,minScroll:se}=U6(R),Q=Zle(R),B={x:Math.min(P===pr.Right?Q.right-Q.width/2:Q.right,Math.max(P===pr.Right?Q.left:Q.left+Q.width/2,C.x)),y:Math.min(P===pr.Down?Q.bottom-Q.height/2:Q.bottom,Math.max(P===pr.Down?Q.top:Q.top+Q.height/2,C.y))},Y=P===pr.Right&&!U||P===pr.Left&&!F,J=P===pr.Down&&!q||P===pr.Up&&!V;if(Y&&B.x!==C.x){const K=R.scrollLeft+_.x,Z=P===pr.Right&&K<=ne.x||P===pr.Left&&K>=se.x;if(Z&&!_.y){R.scrollTo({left:K,behavior:g});return}Z?S.x=R.scrollLeft-K:S.x=P===pr.Right?R.scrollLeft-ne.x:R.scrollLeft-se.x,S.x&&R.scrollBy({left:-S.x,behavior:g});break}else if(J&&B.y!==C.y){const K=R.scrollTop+_.y,Z=P===pr.Down&&K<=ne.y||P===pr.Up&&K>=se.y;if(Z&&!_.x){R.scrollTo({top:K,behavior:g});return}Z?S.y=R.scrollTop-K:S.y=P===pr.Down?R.scrollTop-ne.y:R.scrollTop-se.y,S.y&&R.scrollBy({top:-S.y,behavior:g});break}}this.handleMove(t,Ff(bx(C,this.referenceCoordinates),S))}}}handleMove(t,s){const{onMove:i}=this.props;t.preventDefault(),i(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Bj.activators=[{eventName:"onKeyDown",handler:(r,t,s)=>{let{keyboardCodes:i=H6,onActivation:l}=t,{active:h}=s;const{code:m}=r.nativeEvent;if(i.start.includes(m)){const g=h.activatorNode.current;return g&&r.target!==g?!1:(r.preventDefault(),l==null||l({event:r.nativeEvent}),!0)}return!1}}];function FR(r){return!!(r&&"distance"in r)}function VR(r){return!!(r&&"delay"in r)}class Lj{constructor(t,s,i){var l;i===void 0&&(i=sce(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:h}=t,{target:m}=h;this.props=t,this.events=s,this.document=gg(m),this.documentListeners=new Uy(this.document),this.listeners=new Uy(i),this.windowListeners=new Uy(ri(m)),this.initialCoordinates=(l=C2(h))!=null?l:tl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($i.Resize,this.handleCancel),this.windowListeners.add($i.DragStart,zR),this.windowListeners.add($i.VisibilityChange,this.handleCancel),this.windowListeners.add($i.ContextMenu,zR),this.documentListeners.add($i.Keydown,this.handleKeydown),s){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(VR(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(FR(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:i,onPending:l}=this.props;l(i,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add($i.Click,oce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($i.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:i,initialCoordinates:l,props:h}=this,{onMove:m,options:{activationConstraint:g}}=h;if(!l)return;const b=(s=C2(t))!=null?s:tl,v=bx(l,b);if(!i&&g){if(FR(g)){if(g.tolerance!=null&&cA(v,g.tolerance))return this.handleCancel();if(cA(v,g.distance))return this.handleStart()}if(VR(g)&&cA(v,g.tolerance))return this.handleCancel();this.handlePending(g,v);return}t.cancelable&&t.preventDefault(),m(b)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===pr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ace={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class zj extends Lj{constructor(t){const{event:s}=t,i=gg(s.target);super(t,ace,i)}}zj.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:s}=r,{onActivation:i}=t;return!s.isPrimary||s.button!==0?!1:(i==null||i({event:s}),!0)}}];const lce={move:{name:"mousemove"},end:{name:"mouseup"}};var A2;(function(r){r[r.RightClick=2]="RightClick"})(A2||(A2={}));class cce extends Lj{constructor(t){super(t,lce,gg(t.event.target))}}cce.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:s}=r,{onActivation:i}=t;return s.button===A2.RightClick?!1:(i==null||i({event:s}),!0)}}];const dA={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dce extends Lj{constructor(t){super(t,dA)}static setup(){return window.addEventListener(dA.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(dA.move.name,t)};function t(){}}}dce.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:s}=r,{onActivation:i}=t;const{touches:l}=s;return l.length>1?!1:(i==null||i({event:s}),!0)}}];var Gy;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Gy||(Gy={}));var Bk;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bk||(Bk={}));function uce(r){let{acceleration:t,activator:s=Gy.Pointer,canScroll:i,draggingRect:l,enabled:h,interval:m=5,order:g=Bk.TreeOrder,pointerCoordinates:b,scrollableAncestors:v,scrollableAncestorRects:k,delta:C,threshold:_}=r;const S=mce({delta:C,disabled:!h}),[T,R]=Cle(),P=O.useRef({x:0,y:0}),V=O.useRef({x:0,y:0}),U=O.useMemo(()=>{switch(s){case Gy.Pointer:return b?{top:b.y,bottom:b.y,left:b.x,right:b.x}:null;case Gy.DraggableRect:return l}},[s,l,b]),F=O.useRef(null),q=O.useCallback(()=>{const se=F.current;if(!se)return;const Q=P.current.x*V.current.x,B=P.current.y*V.current.y;se.scrollBy(Q,B)},[]),ne=O.useMemo(()=>g===Bk.TreeOrder?[...v].reverse():v,[g,v]);O.useEffect(()=>{if(!h||!v.length||!U){R();return}for(const se of ne){if((i==null?void 0:i(se))===!1)continue;const Q=v.indexOf(se),B=k[Q];if(!B)continue;const{direction:Y,speed:J}=$le(se,B,U,t,_);for(const K of["x","y"])S[K][Y[K]]||(J[K]=0,Y[K]=0);if(J.x>0||J.y>0){R(),F.current=se,T(q,m),P.current=J,V.current=Y;return}}P.current={x:0,y:0},V.current={x:0,y:0},R()},[t,q,i,R,h,m,JSON.stringify(U),JSON.stringify(S),T,v,ne,k,JSON.stringify(_)])}const hce={x:{[Es.Backward]:!1,[Es.Forward]:!1},y:{[Es.Backward]:!1,[Es.Forward]:!1}};function mce(r){let{delta:t,disabled:s}=r;const i=k2(t);return qx(l=>{if(s||!i||!l)return hce;const h={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[Es.Backward]:l.x[Es.Backward]||h.x===-1,[Es.Forward]:l.x[Es.Forward]||h.x===1},y:{[Es.Backward]:l.y[Es.Backward]||h.y===-1,[Es.Forward]:l.y[Es.Forward]||h.y===1}}},[s,t,i])}function pce(r,t){const s=t!=null?r.get(t):void 0,i=s?s.node.current:null;return qx(l=>{var h;return t==null?null:(h=i??l)!=null?h:null},[i,t])}function fce(r,t){return O.useMemo(()=>r.reduce((s,i)=>{const{sensor:l}=i,h=l.activators.map(m=>({eventName:m.eventName,handler:t(m.handler,i)}));return[...s,...h]},[]),[r,t])}var xx;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(xx||(xx={}));var N2;(function(r){r.Optimized="optimized"})(N2||(N2={}));const UR=new Map;function gce(r,t){let{dragging:s,dependencies:i,config:l}=t;const[h,m]=O.useState(null),{frequency:g,measure:b,strategy:v}=l,k=O.useRef(r),C=P(),_=gx(C),S=O.useCallback(function(V){V===void 0&&(V=[]),!_.current&&m(U=>U===null?V:U.concat(V.filter(F=>!U.includes(F))))},[_]),T=O.useRef(null),R=qx(V=>{if(C&&!s)return UR;if(!V||V===UR||k.current!==r||h!=null){const U=new Map;for(let F of r){if(!F)continue;if(h&&h.length>0&&!h.includes(F.id)&&F.rect.current){U.set(F.id,F.rect.current);continue}const q=F.node.current,ne=q?new Oj(b(q),q):null;F.rect.current=ne,ne&&U.set(F.id,ne)}return U}return V},[r,h,s,C,b]);return O.useEffect(()=>{k.current=r},[r]),O.useEffect(()=>{C||S()},[s,C]),O.useEffect(()=>{h&&h.length>0&&m(null)},[JSON.stringify(h)]),O.useEffect(()=>{C||typeof g!="number"||T.current!==null||(T.current=setTimeout(()=>{S(),T.current=null},g))},[g,C,S,...i]),{droppableRects:R,measureDroppableContainers:S,measuringScheduled:h!=null};function P(){switch(v){case xx.Always:return!1;case xx.BeforeDragging:return s;default:return!s}}}function q6(r,t){return qx(s=>r?s||(typeof t=="function"?t(r):r):null,[t,r])}function bce(r,t){return q6(r,t)}function yce(r){let{callback:t,disabled:s}=r;const i=Rj(t),l=O.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:h}=window;return new h(i)},[i,s]);return O.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function T1(r){let{callback:t,disabled:s}=r;const i=Rj(t),l=O.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:h}=window;return new h(i)},[s]);return O.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function xce(r){return new Oj(bg(r),r)}function GR(r,t,s){t===void 0&&(t=xce);const[i,l]=O.useState(null);function h(){l(b=>{if(!r)return null;if(r.isConnected===!1){var v;return(v=b??s)!=null?v:null}const k=t(r);return JSON.stringify(b)===JSON.stringify(k)?b:k})}const m=yce({callback(b){if(r)for(const v of b){const{type:k,target:C}=v;if(k==="childList"&&C instanceof HTMLElement&&C.contains(r)){h();break}}}}),g=T1({callback:h});return tc(()=>{h(),r?(g==null||g.observe(r),m==null||m.observe(document.body,{childList:!0,subtree:!0})):(g==null||g.disconnect(),m==null||m.disconnect())},[r]),i}function vce(r){const t=q6(r);return B6(r,t)}const HR=[];function wce(r){const t=O.useRef(r),s=qx(i=>r?i&&i!==HR&&r&&t.current&&r.parentNode===t.current.parentNode?i:M1(r):HR,[r]);return O.useEffect(()=>{t.current=r},[r]),s}function kce(r){const[t,s]=O.useState(null),i=O.useRef(r),l=O.useCallback(h=>{const m=lA(h.target);m&&s(g=>g?(g.set(m,_2(m)),new Map(g)):null)},[]);return O.useEffect(()=>{const h=i.current;if(r!==h){m(h);const g=r.map(b=>{const v=lA(b);return v?(v.addEventListener("scroll",l,{passive:!0}),[v,_2(v)]):null}).filter(b=>b!=null);s(g.length?new Map(g):null),i.current=r}return()=>{m(r),m(h)};function m(g){g.forEach(b=>{const v=lA(b);v==null||v.removeEventListener("scroll",l)})}},[l,r]),O.useMemo(()=>r.length?t?Array.from(t.values()).reduce((h,m)=>Ff(h,m),tl):G6(r):tl,[r,t])}function qR(r,t){t===void 0&&(t=[]);const s=O.useRef(null);return O.useEffect(()=>{s.current=null},t),O.useEffect(()=>{const i=r!==tl;i&&!s.current&&(s.current=r),!i&&s.current&&(s.current=null)},[r]),s.current?bx(r,s.current):tl}function Cce(r){O.useEffect(()=>{if(!D1)return;const t=r.map(s=>{let{sensor:i}=s;return i.setup==null?void 0:i.setup()});return()=>{for(const s of t)s==null||s()}},r.map(t=>{let{sensor:s}=t;return s}))}function _ce(r,t){return O.useMemo(()=>r.reduce((s,i)=>{let{eventName:l,handler:h}=i;return s[l]=m=>{h(m,t)},s},{}),[r,t])}function Y6(r){return O.useMemo(()=>r?Kle(r):null,[r])}const YR=[];function Ace(r,t){t===void 0&&(t=bg);const[s]=r,i=Y6(s?ri(s):null),[l,h]=O.useState(YR);function m(){h(()=>r.length?r.map(b=>V6(b)?i:new Oj(t(b),b)):YR)}const g=T1({callback:m});return tc(()=>{g==null||g.disconnect(),m(),r.forEach(b=>g==null?void 0:g.observe(b))},[r]),l}function Nce(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return Hx(t)?t:r}function jce(r){let{measure:t}=r;const[s,i]=O.useState(null),l=O.useCallback(v=>{for(const{target:k}of v)if(Hx(k)){i(C=>{const _=t(k);return C?{...C,width:_.width,height:_.height}:_});break}},[t]),h=T1({callback:l}),m=O.useCallback(v=>{const k=Nce(v);h==null||h.disconnect(),k&&(h==null||h.observe(k)),i(k?t(k):null)},[t,h]),[g,b]=Pk(m);return O.useMemo(()=>({nodeRef:g,rect:s,setRef:b}),[s,g,b])}const Sce=[{sensor:zj,options:{}},{sensor:Bj,options:{}}],Ece={current:{}},Xw={draggable:{measure:LR},droppable:{measure:LR,strategy:xx.WhileDragging,frequency:N2.Optimized},dragOverlay:{measure:bg}};class Hy extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,i;return(s=(i=this.get(t))==null?void 0:i.node.current)!=null?s:void 0}}const Dce={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hy,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ok},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xw,measureDroppableContainers:Ok,windowRect:null,measuringScheduled:!1},Mce={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ok,draggableNodes:new Map,over:null,measureDroppableContainers:Ok},I1=O.createContext(Mce),W6=O.createContext(Dce);function Tce(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hy}}}function Ice(r,t){switch(t.type){case gs.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case gs.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case gs.DragEnd:case gs.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gs.RegisterDroppable:{const{element:s}=t,{id:i}=s,l=new Hy(r.droppable.containers);return l.set(i,s),{...r,droppable:{...r.droppable,containers:l}}}case gs.SetDroppableDisabled:{const{id:s,key:i,disabled:l}=t,h=r.droppable.containers.get(s);if(!h||i!==h.key)return r;const m=new Hy(r.droppable.containers);return m.set(s,{...h,disabled:l}),{...r,droppable:{...r.droppable,containers:m}}}case gs.UnregisterDroppable:{const{id:s,key:i}=t,l=r.droppable.containers.get(s);if(!l||i!==l.key)return r;const h=new Hy(r.droppable.containers);return h.delete(s),{...r,droppable:{...r.droppable,containers:h}}}default:return r}}function Rce(r){let{disabled:t}=r;const{active:s,activatorEvent:i,draggableNodes:l}=O.useContext(I1),h=k2(i),m=k2(s==null?void 0:s.id);return O.useEffect(()=>{if(!t&&!i&&h&&m!=null){if(!Pj(h)||document.activeElement===h.target)return;const g=l.get(m);if(!g)return;const{activatorNode:b,node:v}=g;if(!b.current&&!v.current)return;requestAnimationFrame(()=>{for(const k of[b.current,v.current]){if(!k)continue;const C=Nle(k);if(C){C.focus();break}}})}},[i,t,l,m,h]),null}function Pce(r,t){let{transform:s,...i}=t;return r!=null&&r.length?r.reduce((l,h)=>h({transform:l,...i}),s):s}function Oce(r){return O.useMemo(()=>({draggable:{...Xw.draggable,...r==null?void 0:r.draggable},droppable:{...Xw.droppable,...r==null?void 0:r.droppable},dragOverlay:{...Xw.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function Bce(r){let{activeNode:t,measure:s,initialRect:i,config:l=!0}=r;const h=O.useRef(!1),{x:m,y:g}=typeof l=="boolean"?{x:l,y:l}:l;tc(()=>{if(!m&&!g||!t){h.current=!1;return}if(h.current||!i)return;const v=t==null?void 0:t.node.current;if(!v||v.isConnected===!1)return;const k=s(v),C=B6(k,i);if(m||(C.x=0),g||(C.y=0),h.current=!0,Math.abs(C.x)>0||Math.abs(C.y)>0){const _=L6(v);_&&_.scrollBy({top:C.y,left:C.x})}},[t,m,g,i,s])}const K6=O.createContext({...tl,scaleX:1,scaleY:1});var Au;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Au||(Au={}));const Lce=O.memo(function(t){var s,i,l,h;let{id:m,accessibility:g,autoScroll:b=!0,children:v,sensors:k=Sce,collisionDetection:C=Vle,measuring:_,modifiers:S,...T}=t;const R=O.useReducer(Ice,void 0,Tce),[P,V]=R,[U,F]=Tle(),[q,ne]=O.useState(Au.Uninitialized),se=q===Au.Initialized,{draggable:{active:Q,nodes:B,translate:Y},droppable:{containers:J}}=P,K=Q!=null?B.get(Q):null,Z=O.useRef({initial:null,translated:null}),ee=O.useMemo(()=>{var ir;return Q!=null?{id:Q,data:(ir=K==null?void 0:K.data)!=null?ir:Ece,rect:Z}:null},[Q,K]),be=O.useRef(null),[xe,ie]=O.useState(null),[ae,le]=O.useState(null),oe=gx(T,Object.values(T)),G=Yx("DndDescribedBy",m),ue=O.useMemo(()=>J.getEnabled(),[J]),pe=Oce(_),{droppableRects:me,measureDroppableContainers:ye,measuringScheduled:Se}=gce(ue,{dragging:se,dependencies:[Y.x,Y.y],config:pe.droppable}),_e=pce(B,Q),qe=O.useMemo(()=>ae?C2(ae):null,[ae]),Oe=Is(),Ye=bce(_e,pe.draggable.measure);Bce({activeNode:Q!=null?B.get(Q):null,config:Oe.layoutShiftCompensation,initialRect:Ye,measure:pe.draggable.measure});const Be=GR(_e,pe.draggable.measure,Ye),Ce=GR(_e?_e.parentElement:null),ot=O.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:J,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=J.getNodeFor((s=ot.current.over)==null?void 0:s.id),nt=jce({measure:pe.dragOverlay.measure}),Lt=(i=nt.nodeRef.current)!=null?i:_e,Ne=se?(l=nt.rect)!=null?l:Be:null,at=!!(nt.nodeRef.current&&nt.rect),Qt=vce(at?null:Be),Sr=Y6(Lt?ri(Lt):null),nn=wce(se?Je??_e:null),Yr=Ace(nn),Er=Pce(S,{transform:{x:Y.x-Qt.x,y:Y.y-Qt.y,scaleX:1,scaleY:1},activatorEvent:ae,active:ee,activeNodeRect:Be,containerNodeRect:Ce,draggingNodeRect:Ne,over:ot.current.over,overlayNodeRect:nt.rect,scrollableAncestors:nn,scrollableAncestorRects:Yr,windowRect:Sr}),Cr=qe?Ff(qe,Y):null,Qs=kce(nn),fo=qR(Qs),Yt=qR(Qs,[Be]),wt=Ff(Er,fo),Gr=Ne?Hle(Ne,Er):null,lt=ee&&Gr?C({active:ee,collisionRect:Gr,droppableRects:me,droppableContainers:ue,pointerCoordinates:Cr}):null,It=O6(lt,"id"),[kt,er]=O.useState(null),sn=at?Er:Ff(Er,Yt),ss=Ule(sn,(h=kt==null?void 0:kt.rect)!=null?h:null,Be),ze=O.useRef(null),Jt=O.useCallback((ir,On)=>{let{sensor:Wr,options:Rs}=On;if(be.current==null)return;const hn=B.get(be.current);if(!hn)return;const _n=ir.nativeEvent,br=new Wr({active:be.current,activeNode:hn,event:_n,options:Rs,context:ot,onAbort(jt){if(!B.get(jt))return;const{onDragAbort:xr}=oe.current,on={id:jt};xr==null||xr(on),U({type:"onDragAbort",event:on})},onPending(jt,yr,xr,on){if(!B.get(jt))return;const{onDragPending:ia}=oe.current,os={id:jt,constraint:yr,initialCoordinates:xr,offset:on};ia==null||ia(os),U({type:"onDragPending",event:os})},onStart(jt){const yr=be.current;if(yr==null)return;const xr=B.get(yr);if(!xr)return;const{onDragStart:on}=oe.current,si={activatorEvent:_n,active:{id:yr,data:xr.data,rect:Z}};by.unstable_batchedUpdates(()=>{on==null||on(si),ne(Au.Initializing),V({type:gs.DragStart,initialCoordinates:jt,active:yr}),U({type:"onDragStart",event:si}),ie(ze.current),le(_n)})},onMove(jt){V({type:gs.DragMove,coordinates:jt})},onEnd:ni(gs.DragEnd),onCancel:ni(gs.DragCancel)});ze.current=br;function ni(jt){return async function(){const{active:xr,collisions:on,over:si,scrollAdjustedTranslate:ia}=ot.current;let os=null;if(xr&&ia){const{cancelDrop:Ps}=oe.current;os={activatorEvent:_n,active:xr,collisions:on,delta:ia,over:si},jt===gs.DragEnd&&typeof Ps=="function"&&await Promise.resolve(Ps(os))&&(jt=gs.DragCancel)}be.current=null,by.unstable_batchedUpdates(()=>{V({type:jt}),ne(Au.Uninitialized),er(null),ie(null),le(null),ze.current=null;const Ps=jt===gs.DragEnd?"onDragEnd":"onDragCancel";if(os){const Xs=oe.current[Ps];Xs==null||Xs(os),U({type:Ps,event:os})}})}}},[B]),Pt=O.useCallback((ir,On)=>(Wr,Rs)=>{const hn=Wr.nativeEvent,_n=B.get(Rs);if(be.current!==null||!_n||hn.dndKit||hn.defaultPrevented)return;const br={active:_n};ir(Wr,On.options,br)===!0&&(hn.dndKit={capturedBy:On.sensor},be.current=Rs,Jt(Wr,On))},[B,Jt]),Dt=fce(k,Pt);Cce(k),tc(()=>{Be&&q===Au.Initializing&&ne(Au.Initialized)},[Be,q]),O.useEffect(()=>{const{onDragMove:ir}=oe.current,{active:On,activatorEvent:Wr,collisions:Rs,over:hn}=ot.current;if(!On||!Wr)return;const _n={active:On,activatorEvent:Wr,collisions:Rs,delta:{x:wt.x,y:wt.y},over:hn};by.unstable_batchedUpdates(()=>{ir==null||ir(_n),U({type:"onDragMove",event:_n})})},[wt.x,wt.y]),O.useEffect(()=>{const{active:ir,activatorEvent:On,collisions:Wr,droppableContainers:Rs,scrollAdjustedTranslate:hn}=ot.current;if(!ir||be.current==null||!On||!hn)return;const{onDragOver:_n}=oe.current,br=Rs.get(It),ni=br&&br.rect.current?{id:br.id,rect:br.rect.current,data:br.data,disabled:br.disabled}:null,jt={active:ir,activatorEvent:On,collisions:Wr,delta:{x:hn.x,y:hn.y},over:ni};by.unstable_batchedUpdates(()=>{er(ni),_n==null||_n(jt),U({type:"onDragOver",event:jt})})},[It]),tc(()=>{ot.current={activatorEvent:ae,active:ee,activeNode:_e,collisionRect:Gr,collisions:lt,droppableRects:me,draggableNodes:B,draggingNode:Lt,draggingNodeRect:Ne,droppableContainers:J,over:kt,scrollableAncestors:nn,scrollAdjustedTranslate:wt},Z.current={initial:Ne,translated:Gr}},[ee,_e,lt,Gr,B,Lt,Ne,me,J,kt,nn,wt]),uce({...Oe,delta:Y,draggingRect:Gr,pointerCoordinates:Cr,scrollableAncestors:nn,scrollableAncestorRects:Yr});const Js=O.useMemo(()=>({active:ee,activeNode:_e,activeNodeRect:Be,activatorEvent:ae,collisions:lt,containerNodeRect:Ce,dragOverlay:nt,draggableNodes:B,droppableContainers:J,droppableRects:me,over:kt,measureDroppableContainers:ye,scrollableAncestors:nn,scrollableAncestorRects:Yr,measuringConfiguration:pe,measuringScheduled:Se,windowRect:Sr}),[ee,_e,Be,ae,lt,Ce,nt,B,J,me,kt,ye,nn,Yr,pe,Se,Sr]),Ts=O.useMemo(()=>({activatorEvent:ae,activators:Dt,active:ee,activeNodeRect:Be,ariaDescribedById:{draggable:G},dispatch:V,draggableNodes:B,over:kt,measureDroppableContainers:ye}),[ae,Dt,ee,Be,V,G,B,kt,ye]);return mt.createElement(I6.Provider,{value:F},mt.createElement(I1.Provider,{value:Ts},mt.createElement(W6.Provider,{value:Js},mt.createElement(K6.Provider,{value:ss},v)),mt.createElement(Rce,{disabled:(g==null?void 0:g.restoreFocus)===!1})),mt.createElement(Ple,{...g,hiddenTextDescribedById:G}));function Is(){const ir=(xe==null?void 0:xe.autoScrollEnabled)===!1,On=typeof b=="object"?b.enabled===!1:b===!1,Wr=se&&!ir&&!On;return typeof b=="object"?{...b,enabled:Wr}:{enabled:Wr}}}),zce=O.createContext(null),WR="button",Fce="Draggable";function Vce(r){let{id:t,data:s,disabled:i=!1,attributes:l}=r;const h=Yx(Fce),{activators:m,activatorEvent:g,active:b,activeNodeRect:v,ariaDescribedById:k,draggableNodes:C,over:_}=O.useContext(I1),{role:S=WR,roleDescription:T="draggable",tabIndex:R=0}=l??{},P=(b==null?void 0:b.id)===t,V=O.useContext(P?K6:zce),[U,F]=Pk(),[q,ne]=Pk(),se=_ce(m,t),Q=gx(s);tc(()=>(C.set(t,{id:t,key:h,node:U,activatorNode:q,data:Q}),()=>{const Y=C.get(t);Y&&Y.key===h&&C.delete(t)}),[C,t]);const B=O.useMemo(()=>({role:S,tabIndex:R,"aria-disabled":i,"aria-pressed":P&&S===WR?!0:void 0,"aria-roledescription":T,"aria-describedby":k.draggable}),[i,S,R,P,T,k.draggable]);return{active:b,activatorEvent:g,activeNodeRect:v,attributes:B,isDragging:P,listeners:i?void 0:se,node:U,over:_,setNodeRef:F,setActivatorNodeRef:ne,transform:V}}function Uce(){return O.useContext(W6)}const Gce="Droppable",Hce={timeout:25};function qce(r){let{data:t,disabled:s=!1,id:i,resizeObserverConfig:l}=r;const h=Yx(Gce),{active:m,dispatch:g,over:b,measureDroppableContainers:v}=O.useContext(I1),k=O.useRef({disabled:s}),C=O.useRef(!1),_=O.useRef(null),S=O.useRef(null),{disabled:T,updateMeasurementsFor:R,timeout:P}={...Hce,...l},V=gx(R??i),U=O.useCallback(()=>{if(!C.current){C.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{v(Array.isArray(V.current)?V.current:[V.current]),S.current=null},P)},[P]),F=T1({callback:U,disabled:T||!m}),q=O.useCallback((B,Y)=>{F&&(Y&&(F.unobserve(Y),C.current=!1),B&&F.observe(B))},[F]),[ne,se]=Pk(q),Q=gx(t);return O.useEffect(()=>{!F||!ne.current||(F.disconnect(),C.current=!1,F.observe(ne.current))},[ne,F]),O.useEffect(()=>(g({type:gs.RegisterDroppable,element:{id:i,key:h,disabled:s,node:ne,rect:_,data:Q}}),()=>g({type:gs.UnregisterDroppable,key:h,id:i})),[i]),O.useEffect(()=>{s!==k.current.disabled&&(g({type:gs.SetDroppableDisabled,id:i,key:h,disabled:s}),k.current.disabled=s)},[i,h,s,g]),{active:m,rect:_,isOver:(b==null?void 0:b.id)===i,node:ne,over:b,setNodeRef:se}}function Fj(r,t,s){const i=r.slice();return i.splice(s<0?i.length+s:s,0,i.splice(t,1)[0]),i}function Yce(r,t){return r.reduce((s,i,l)=>{const h=t.get(i);return h&&(s[l]=h),s},Array(r.length))}function jw(r){return r!==null&&r>=0}function Wce(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==t[s])return!1;return!0}function Kce(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const Q6=r=>{let{rects:t,activeIndex:s,overIndex:i,index:l}=r;const h=Fj(t,i,s),m=t[l],g=h[l];return!g||!m?null:{x:g.left-m.left,y:g.top-m.top,scaleX:g.width/m.width,scaleY:g.height/m.height}},Sw={scaleX:1,scaleY:1},Qce=r=>{var t;let{activeIndex:s,activeNodeRect:i,index:l,rects:h,overIndex:m}=r;const g=(t=h[s])!=null?t:i;if(!g)return null;if(l===s){const v=h[m];return v?{x:0,y:s<m?v.top+v.height-(g.top+g.height):v.top-g.top,...Sw}:null}const b=Jce(h,l,s);return l>s&&l<=m?{x:0,y:-g.height-b,...Sw}:l<s&&l>=m?{x:0,y:g.height+b,...Sw}:{x:0,y:0,...Sw}};function Jce(r,t,s){const i=r[t],l=r[t-1],h=r[t+1];return i?s<t?l?i.top-(l.top+l.height):h?h.top-(i.top+i.height):0:h?h.top-(i.top+i.height):l?i.top-(l.top+l.height):0:0}const J6="Sortable",X6=mt.createContext({activeIndex:-1,containerId:J6,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Q6,disabled:{draggable:!1,droppable:!1}});function Xce(r){let{children:t,id:s,items:i,strategy:l=Q6,disabled:h=!1}=r;const{active:m,dragOverlay:g,droppableRects:b,over:v,measureDroppableContainers:k}=Uce(),C=Yx(J6,s),_=g.rect!==null,S=O.useMemo(()=>i.map(se=>typeof se=="object"&&"id"in se?se.id:se),[i]),T=m!=null,R=m?S.indexOf(m.id):-1,P=v?S.indexOf(v.id):-1,V=O.useRef(S),U=!Wce(S,V.current),F=P!==-1&&R===-1||U,q=Kce(h);tc(()=>{U&&T&&k(S)},[U,S,T,k]),O.useEffect(()=>{V.current=S},[S]);const ne=O.useMemo(()=>({activeIndex:R,containerId:C,disabled:q,disableTransforms:F,items:S,overIndex:P,useDragOverlay:_,sortedRects:Yce(S,b),strategy:l}),[R,C,q.draggable,q.droppable,F,S,P,b,_,l]);return mt.createElement(X6.Provider,{value:ne},t)}const $ce=r=>{let{id:t,items:s,activeIndex:i,overIndex:l}=r;return Fj(s,i,l).indexOf(t)},Zce=r=>{let{containerId:t,isSorting:s,wasDragging:i,index:l,items:h,newIndex:m,previousItems:g,previousContainerId:b,transition:v}=r;return!v||!i||g!==h&&l===m?!1:s?!0:m!==l&&t===b},ede={duration:200,easing:"ease"},$6="transform",tde=yx.Transition.toString({property:$6,duration:0,easing:"linear"}),rde={roleDescription:"sortable"};function nde(r){let{disabled:t,index:s,node:i,rect:l}=r;const[h,m]=O.useState(null),g=O.useRef(s);return tc(()=>{if(!t&&s!==g.current&&i.current){const b=l.current;if(b){const v=bg(i.current,{ignoreTransform:!0}),k={x:b.left-v.left,y:b.top-v.top,scaleX:b.width/v.width,scaleY:b.height/v.height};(k.x||k.y)&&m(k)}}s!==g.current&&(g.current=s)},[t,s,i,l]),O.useEffect(()=>{h&&m(null)},[h]),h}function sde(r){let{animateLayoutChanges:t=Zce,attributes:s,disabled:i,data:l,getNewIndex:h=$ce,id:m,strategy:g,resizeObserverConfig:b,transition:v=ede}=r;const{items:k,containerId:C,activeIndex:_,disabled:S,disableTransforms:T,sortedRects:R,overIndex:P,useDragOverlay:V,strategy:U}=O.useContext(X6),F=ode(i,S),q=k.indexOf(m),ne=O.useMemo(()=>({sortable:{containerId:C,index:q,items:k},...l}),[C,l,q,k]),se=O.useMemo(()=>k.slice(k.indexOf(m)),[k,m]),{rect:Q,node:B,isOver:Y,setNodeRef:J}=qce({id:m,data:ne,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:se,...b}}),{active:K,activatorEvent:Z,activeNodeRect:ee,attributes:be,setNodeRef:xe,listeners:ie,isDragging:ae,over:le,setActivatorNodeRef:oe,transform:G}=Vce({id:m,data:ne,attributes:{...rde,...s},disabled:F.draggable}),ue=kle(J,xe),pe=!!K,me=pe&&!T&&jw(_)&&jw(P),ye=!V&&ae,Se=ye&&me?G:null,qe=me?Se??(g??U)({rects:R,activeNodeRect:ee,activeIndex:_,overIndex:P,index:q}):null,Oe=jw(_)&&jw(P)?h({id:m,items:k,activeIndex:_,overIndex:P}):q,Ye=K==null?void 0:K.id,Be=O.useRef({activeId:Ye,items:k,newIndex:Oe,containerId:C}),Ce=k!==Be.current.items,ot=t({active:K,containerId:C,isDragging:ae,isSorting:pe,id:m,index:q,items:k,newIndex:Be.current.newIndex,previousItems:Be.current.items,previousContainerId:Be.current.containerId,transition:v,wasDragging:Be.current.activeId!=null}),Je=nde({disabled:!ot,index:q,node:B,rect:Q});return O.useEffect(()=>{pe&&Be.current.newIndex!==Oe&&(Be.current.newIndex=Oe),C!==Be.current.containerId&&(Be.current.containerId=C),k!==Be.current.items&&(Be.current.items=k)},[pe,Oe,C,k]),O.useEffect(()=>{if(Ye===Be.current.activeId)return;if(Ye!=null&&Be.current.activeId==null){Be.current.activeId=Ye;return}const Lt=setTimeout(()=>{Be.current.activeId=Ye},50);return()=>clearTimeout(Lt)},[Ye]),{active:K,activeIndex:_,attributes:be,data:ne,rect:Q,index:q,newIndex:Oe,items:k,isOver:Y,isSorting:pe,isDragging:ae,listeners:ie,node:B,overIndex:P,over:le,setNodeRef:ue,setActivatorNodeRef:oe,setDroppableNodeRef:J,setDraggableNodeRef:xe,transform:Je??qe,transition:nt()};function nt(){if(Je||Ce&&Be.current.newIndex===q)return tde;if(!(ye&&!Pj(Z)||!v)&&(pe||ot))return yx.Transition.toString({...v,property:$6})}}function ode(r,t){var s,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(s=r==null?void 0:r.draggable)!=null?s:t.draggable,droppable:(i=r==null?void 0:r.droppable)!=null?i:t.droppable}}function Lk(r){if(!r)return!1;const t=r.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const ide=[pr.Down,pr.Right,pr.Up,pr.Left],ade=(r,t)=>{let{context:{active:s,collisionRect:i,droppableRects:l,droppableContainers:h,over:m,scrollableAncestors:g}}=t;if(ide.includes(r.code)){if(r.preventDefault(),!s||!i)return;const b=[];h.getEnabled().forEach(C=>{if(!C||C!=null&&C.disabled)return;const _=l.get(C.id);if(_)switch(r.code){case pr.Down:i.top<_.top&&b.push(C);break;case pr.Up:i.top>_.top&&b.push(C);break;case pr.Left:i.left>_.left&&b.push(C);break;case pr.Right:i.left<_.left&&b.push(C);break}});const v=zle({collisionRect:i,droppableRects:l,droppableContainers:b});let k=O6(v,"id");if(k===(m==null?void 0:m.id)&&v.length>1&&(k=v[1].id),k!=null){const C=h.get(s.id),_=h.get(k),S=_?l.get(_.id):null,T=_==null?void 0:_.node.current;if(T&&S&&C&&_){const P=M1(T).some((se,Q)=>g[Q]!==se),V=Z6(C,_),U=lde(C,_),F=P||!V?{x:0,y:0}:{x:U?i.width-S.width:0,y:U?i.height-S.height:0},q={x:S.left,y:S.top};return F.x&&F.y?q:bx(q,F)}}}};function Z6(r,t){return!Lk(r)||!Lk(t)?!1:r.data.current.sortable.containerId===t.data.current.sortable.containerId}function lde(r,t){return!Lk(r)||!Lk(t)||!Z6(r,t)?!1:r.data.current.sortable.index<t.data.current.sortable.index}const cde=()=>{const{sections:r,loading:t,error:s,sectionTypes:i,designTemplates:l,fetchSections:h,addSection:m,editSection:g,deleteSection:b,toggleSection:v,reorderSections:k,getSectionTemplates:C,initializeDefaultSections:_,getSectionTypeDisplayName:S,getSortedSections:T,clearError:R}=m6(),[P,V]=O.useState(!1),[U,F]=O.useState(!1),[q,ne]=O.useState(!1),[se,Q]=O.useState(null),[B,Y]=O.useState({section_type:"",title:"",description:"",design_template:"",config:{},enabled:!0}),J=Ole(PR(zj),PR(Bj,{coordinateGetter:ade})),K=async me=>{const{active:ye,over:Se}=me;if(!Se||ye.id===Se.id)return;const _e=r.findIndex(Oe=>Oe.section_id===ye.id),qe=r.findIndex(Oe=>Oe.section_id===Se.id);if(_e!==-1&&qe!==-1){const Ye=Fj(r,_e,qe).map((Be,Ce)=>({section_id:Be.section_id,display_order:Ce+1}));try{await k(Ye)}catch{Re.error("Failed to reorder sections")}}},Z=({section:me,index:ye})=>{const{attributes:Se,listeners:_e,setNodeRef:qe,transform:Oe,transition:Ye,isDragging:Be}=sde({id:me.section_id}),Ce={transform:yx.Transform.toString(Oe),transition:Ye,opacity:Be?.5:1};return n.jsxs("div",{ref:qe,style:Ce,className:`bg-white rounded-lg border shadow-sm p-4 transition-all ${Be?"shadow-lg":""} ${me.enabled?"":"opacity-60"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{...Se,..._e,className:"text-gray-400 hover:text-gray-600 cursor-grab",children:n.jsx(qw,{size:20})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${me.enabled?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{className:"font-medium text-gray-800",children:me.title}),n.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:S(me.section_type)}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:me.design_template})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>le(me.section_id),className:`p-2 rounded-md transition-colors ${me.enabled?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:me.enabled?"Disable section":"Enable section",children:me.enabled?n.jsx(Di,{size:16}):n.jsx(lee,{size:16})}),n.jsx("button",{onClick:()=>ie(),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit section",children:n.jsx(sx,{size:16})}),n.jsx("button",{onClick:()=>ae(),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete section",children:n.jsx(cn,{size:16})})]})]}),Object.keys(me.config).length>0&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(qN,{size:14}),n.jsx("span",{children:"Configuration:"}),n.jsx("span",{className:"font-mono text-xs bg-gray-50 px-2 py-1 rounded",children:Object.keys(me.config).join(", ")})]})})]})},[ee,be]=O.useState({section_type:"",title:"",enabled:!0,order:0,design_template:"default",config:{}});O.useEffect(()=>{h()},[]),O.useEffect(()=>{s&&(Re.error(s),R())},[s]);const xe=async()=>{try{if(!ee.section_type||!ee.title){Re.error("Section type and title are required");return}await m(ee),setShowAddForm(!1),G()}catch(me){console.error("Error adding section:",me)}},ie=async()=>{try{if(!editingSection.title){Re.error("Title is required");return}await g(editingSection.section_id,editingSection),setShowEditForm(!1),setEditingSection(null)}catch(me){console.error("Error editing section:",me)}},ae=async()=>{try{sectionToDelete&&(await b(sectionToDelete.section_id),ne(!1),setSectionToDelete(null))}catch(me){console.error("Error deleting section:",me)}},le=async me=>{try{await v(me)}catch(ye){console.error("Error toggling section:",ye)}},oe=async(me,ye=!1)=>{try{const Se=await C(me);setAvailableTemplates(Se),ye?setEditingSection({...editingSection,section_type:me,design_template:Se[0]||"default"}):be({...ee,section_type:me,design_template:Se[0]||"default"})}catch(Se){console.error("Error fetching templates:",Se),setAvailableTemplates(["default"])}},G=()=>{be({section_type:"",title:"",enabled:!0,order:r.length+1,design_template:"default",config:{}}),setAvailableTemplates([])},ue=async()=>{try{await _()}catch(me){console.error("Error initializing default sections:",me)}},pe=T();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Homepage Section Manager"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Control which sections appear on the homepage and their order"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(tt,{variant:"outline",onClick:()=>h(),disabled:t,className:"flex items-center space-x-2",children:[n.jsx(Mi,{className:t?"animate-spin":""}),n.jsx("span",{children:"Refresh"})]}),r.length===0&&n.jsxs(tt,{variant:"secondary",onClick:ue,disabled:t,className:"flex items-center space-x-2",children:[n.jsx(mee,{}),n.jsx("span",{children:"Initialize Default"})]}),n.jsxs(tt,{variant:"primary",onClick:()=>{G(),setShowAddForm(!0)},className:"flex items-center space-x-2",children:[n.jsx(Hn,{}),n.jsx("span",{children:"Add Section"})]})]})]}),t&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sections..."})]}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),!t&&pe.length>0&&n.jsx(Lce,{sensors:J,collisionDetection:Lle,onDragEnd:K,children:n.jsx(Xce,{items:pe.map(me=>me.section_id),strategy:Qce,children:n.jsx("div",{className:"space-y-4",children:pe.map((me,ye)=>n.jsx(Z,{section:me,index:ye},me.section_id))})})}),!t&&pe.length===0&&n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(GN,{size:48,className:"mx-auto text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No sections configured"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Start by adding sections to customize your homepage layout"}),n.jsx(tt,{variant:"primary",onClick:ue,className:"mr-2",children:"Initialize Default Sections"}),n.jsx(tt,{variant:"outline",onClick:()=>{G(),setShowAddForm(!0)},children:"Add Custom Section"})]}),showAddForm&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Section"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:ee.section_type,onChange:me=>oe(me.target.value),children:[n.jsx("option",{value:"",children:"Select section type"}),i.map(me=>n.jsx("option",{value:me,children:S(me)},me))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:ee.title,onChange:me=>be({...ee,title:me.target.value}),placeholder:"Enter section title"})]}),availableTemplates.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Design Template"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:ee.design_template,onChange:me=>be({...ee,design_template:me.target.value}),children:availableTemplates.map(me=>n.jsx("option",{value:me,children:me.charAt(0).toUpperCase()+me.slice(1)},me))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:ee.order,onChange:me=>be({...ee,order:parseInt(me.target.value)||0}),min:"0"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"enabled",checked:ee.enabled,onChange:me=>be({...ee,enabled:me.target.checked}),className:"mr-2"}),n.jsx("label",{htmlFor:"enabled",className:"text-sm text-gray-700",children:"Enable section"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(tt,{variant:"outline",onClick:()=>{setShowAddForm(!1),G()},children:"Cancel"}),n.jsx(tt,{variant:"primary",onClick:xe,disabled:t,children:"Add Section"})]})]})}),showEditForm&&editingSection&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Section"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:editingSection.section_type,onChange:me=>oe(me.target.value,!0),children:i.map(me=>n.jsx("option",{value:me,children:S(me)},me))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:editingSection.title,onChange:me=>setEditingSection({...editingSection,title:me.target.value}),placeholder:"Enter section title"})]}),availableTemplates.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Design Template"}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:editingSection.design_template,onChange:me=>setEditingSection({...editingSection,design_template:me.target.value}),children:availableTemplates.map(me=>n.jsx("option",{value:me,children:me.charAt(0).toUpperCase()+me.slice(1)},me))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),n.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:editingSection.order,onChange:me=>setEditingSection({...editingSection,order:parseInt(me.target.value)||0}),min:"0"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"editEnabled",checked:editingSection.enabled,onChange:me=>setEditingSection({...editingSection,enabled:me.target.checked}),className:"mr-2"}),n.jsx("label",{htmlFor:"editEnabled",className:"text-sm text-gray-700",children:"Enable section"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(tt,{variant:"outline",onClick:()=>{setShowEditForm(!1),setEditingSection(null)},children:"Cancel"}),n.jsx(tt,{variant:"primary",onClick:ie,disabled:t,children:"Save Changes"})]})]})}),n.jsx(th,{isOpen:q,onClose:()=>ne(!1),onConfirm:ae,title:"Delete Section",message:sectionToDelete?`Are you sure you want to delete "${sectionToDelete.title}"? This action cannot be undone.`:"Are you sure you want to delete this section?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:t})]})},dde=()=>{const[r,t]=O.useState("logo");return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Content Management"})}),n.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex border-b overflow-x-auto",children:[n.jsx("button",{className:`px-6 py-3 font-medium ${r==="logo"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("logo"),children:"Logo"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="banners"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("banners"),children:"Banners"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="categories"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("categories"),children:"Categories"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="footer"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("footer"),children:"Footer"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="pages"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("pages"),children:"Pages"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="colors"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("colors"),children:"Theme Colors"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="homepage"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("homepage"),children:"Homepage Sections"})]}),n.jsxs("div",{className:"p-6",children:[r==="banners"&&n.jsx(Fae,{positionOptions:zae}),r==="logo"&&n.jsx(Vae,{}),r==="categories"&&n.jsx(Uae,{}),r==="footer"&&n.jsx(Hae,{}),r==="pages"&&n.jsx(vle,{}),r==="colors"&&n.jsx(wle,{}),r==="homepage"&&n.jsx(cde,{})]})]})]})},ude=()=>{const r=ns(),{adminLogin:t,devModeLogin:s,testServerConnection:i,error:l,clearError:h,isLoading:m}=Ej(),[g,b]=O.useState({username:"",password:""}),[v,k]=O.useState({}),[C,_]=O.useState(!1),[S,T]=O.useState(null),R=F=>{const{name:q,value:ne}=F.target;b(se=>({...se,[q]:ne})),v[q]&&k(se=>({...se,[q]:""})),l&&h()},P=()=>{const F={};return g.username.trim()||(F.username="Username is required"),g.password||(F.password="Password is required"),k(F),Object.keys(F).length===0},V=async F=>{if(F.preventDefault(),!!P())try{if(C&&s(g)){r("/admin/dashboard");return}await t(g),r("/admin/dashboard")}catch(q){console.error("Admin login failed:",q)}},U=async()=>{const F=await i();T(F)};return n.jsxs(Ym,{title:"Admin Portal Login",children:[n.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Sign in to manage the application."}),!1,n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"text-center mb-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Backend Server Test"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check if production server is accessible (optional)"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{type:"button",onClick:U,disabled:m,className:"px-4 py-2 text-sm bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors disabled:opacity-50",children:m?"Testing...":"Test Server Connection"})})]}),S&&n.jsxs("div",{className:`mt-3 p-4 rounded-lg text-sm border ${S.success?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-800"}`,children:[n.jsx("div",{className:"font-medium text-center mb-2",children:S.success?" Backend Server Online":" Backend Server Test Results"}),n.jsx("div",{className:"text-center mb-2",children:S.message}),S.status&&n.jsxs("div",{className:"text-center text-xs mb-2",children:["HTTP Status: ",S.status]}),S.troubleshooting&&S.troubleshooting.length>0&&n.jsx("div",{className:"mt-3 text-xs",children:n.jsx("div",{className:"space-y-1",children:S.troubleshooting.map((F,q)=>n.jsx("div",{className:`${F.startsWith("")||F.startsWith("")?"font-medium":""} ${F===""?"h-1":""}`,children:F},q))})})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:V,children:[n.jsxs("div",{className:"rounded-md space-y-5",children:[n.jsx(qr,{label:"Username",type:"text",name:"username",value:g.username,onChange:R,required:!0,error:v.username,placeholder:"admin",icon:"user"}),n.jsx(qr,{label:"Password",type:"password",name:"password",value:g.password,onChange:R,required:!0,error:v.password,placeholder:"",icon:"lock"})]}),l&&n.jsxs("div",{className:"text-red-500 text-sm bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 rounded-md",children:[n.jsx("div",{className:"font-medium mb-1",children:"Login Failed"}),n.jsx("div",{children:l}),l.includes("502")&&n.jsxs("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:[n.jsx("strong",{children:"Troubleshooting:"}),n.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[n.jsx("li",{children:"Check if the backend server is running"}),n.jsx("li",{children:"Verify the API URL in constants.js"}),n.jsx("li",{children:"Contact your system administrator"}),!1]})]})]}),n.jsx("div",{className:"pt-2",children:n.jsx(tt,{type:"submit",isLoading:m,variant:"primary",size:"lg",fullWidth:!0,children:m?"Signing in...":"Sign in"})}),n.jsx("div",{className:"text-sm text-center mt-4",children:n.jsx(rt,{to:"/admin/register",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Create an admin account"})})]})]})},hde=()=>{const r=ns(),{adminRegister:t,error:s,clearError:i,isLoading:l}=Ej(),[h,m]=O.useState({username:"",password:"",secretKey:""}),[g,b]=O.useState({}),v=_=>{const{name:S,value:T}=_.target;m(R=>({...R,[S]:T})),g[S]&&b(R=>({...R,[S]:""})),s&&i()},k=()=>{const _={};return h.username.trim()||(_.username="Username is required"),h.password?h.password.length<6&&(_.password="Password must be at least 6 characters"):_.password="Password is required",h.secretKey.trim()||(_.secretKey="Secret Key is required"),b(_),Object.keys(_).length===0},C=async _=>{if(_.preventDefault(),!!k())try{await t({username:h.username,password:h.password,secretKey:h.secretKey}),r("/admin/login")}catch(S){console.error("Admin registration failed:",S)}};return n.jsxs(Ym,{title:"Create Admin Account",children:[n.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Register to gain administrative access."}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[n.jsxs("div",{className:"rounded-md space-y-5",children:[n.jsx(qr,{label:"Username",type:"text",name:"username",value:h.username,onChange:v,required:!0,error:g.username,placeholder:"admin",icon:"user"}),n.jsx(qr,{label:"Password",type:"password",name:"password",value:h.password,onChange:v,required:!0,error:g.password,placeholder:"",icon:"lock"}),n.jsx(qr,{label:"Secret Key",type:"password",name:"secretKey",value:h.secretKey,onChange:v,required:!0,error:g.secretKey,placeholder:"Enter your secret key",icon:"key"})]}),s&&n.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:s}),n.jsx("div",{className:"pt-2",children:n.jsx(tt,{type:"submit",isLoading:l,variant:"primary",size:"lg",fullWidth:!0,children:l?"Creating Account...":"Create Account"})}),n.jsxs("div",{className:"text-sm text-center mt-4",children:["Already have an admin account?",n.jsx(rt,{to:"/admin/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Sign in"})]})]})]})},mde=()=>{const{deliveryPartners:r,fetchDeliveryPartners:t,verifyDeliveryPartner:s}=ti(),[i,l]=O.useState(""),[h,m]=O.useState("all"),[g,b]=O.useState(!1),[v,k]=O.useState(null),[C,_]=O.useState(!1),[S,T]=O.useState(null),[R,P]=O.useState(1),V=10;O.useEffect(()=>{t().catch(Z=>{Rt.error("Failed to load delivery partners"),console.error("Error fetching delivery partners:",Z)})},[]);const U=Z=>{k(Z),b(!0)},F=Z=>{T(Z),_(!0)},q=async()=>{v&&(Rt.promise(s(v.partner_id),{loading:`Verifying ${v.name}...`,success:`${v.name} has been verified successfully!`,error:`Failed to verify ${v.name}`}),b(!1))},ne=r.list.filter(Z=>{const ee=Z.name.toLowerCase().includes(i.toLowerCase())||Z.email.toLowerCase().includes(i.toLowerCase())||Z.phone.includes(i);return h==="all"?ee:h==="verified"?ee&&Z.is_verified:h==="unverified"?ee&&!Z.is_verified:ee}),se=ne.length,Q=Math.ceil(se/V),B=(R-1)*V,Y=B+V,J=ne.slice(B,Y),K=Z=>{P(Z),window.scrollTo({top:0,behavior:"smooth"})};return O.useEffect(()=>{P(1)},[i,h]),n.jsxs("div",{className:"animate-fadeIn",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Partners"}),n.jsxs("button",{onClick:()=>{Rt.promise(t(),{loading:"Refreshing partners list...",success:"Partners list updated!",error:"Failed to refresh partners"})},className:"flex items-center bg-brand-primary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all duration-200",children:[n.jsx(Mi,{className:"mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:n.jsx(Ds,{className:"text-blue-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Partners"}),n.jsx("p",{className:"text-2xl font-bold",children:r.list.length})]})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:n.jsx(rs,{className:"text-green-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Verified Partners"}),n.jsx("p",{className:"text-2xl font-bold",children:r.list.filter(Z=>Z.is_verified).length})]})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:n.jsx(qt,{className:"text-yellow-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Verification"}),n.jsx("p",{className:"text-2xl font-bold",children:r.list.filter(Z=>!Z.is_verified).length})]})]})})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search partners...",value:i,onChange:Z=>l(Z.target.value),className:"pl-10 p-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})}),n.jsx("div",{className:"w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-md px-3",children:[n.jsx(yd,{className:"text-gray-400"}),n.jsxs("select",{value:h,onChange:Z=>m(Z.target.value),className:"bg-transparent py-2 focus:outline-none",children:[n.jsx("option",{value:"all",children:"All Partners"}),n.jsx("option",{value:"verified",children:"Verified"}),n.jsx("option",{value:"unverified",children:"Unverified"})]})]})})]}),r.loading?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):r.error?n.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-500 flex items-center",children:[n.jsx(Dm,{className:"mr-2",size:20}),n.jsx("span",{children:r.error})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 text-left",children:[n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:ne.length>0?J.map(Z=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"font-medium text-gray-900",children:Z.name})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:Z.email}),n.jsx("div",{className:"text-sm text-gray-500",children:Z.phone})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.is_verified?n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending Verification"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Z.created_at).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!Z.is_verified&&n.jsx("button",{onClick:()=>U(Z),className:"text-brand-primary hover:text-brand-primary-dark mr-3",children:"Verify"}),n.jsxs("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>F(Z),children:[n.jsx(Di,{className:"inline mr-1"}),"Details"]})]})]},Z.partner_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No delivery partners found."})})})]})}),se>0&&n.jsx(Qa,{currentPage:R,totalPages:Q,onPageChange:K,totalItems:se,itemsPerPage:V,showItemCount:!0}),g&&v&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 transform transition-all duration-200 scale-100",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start mb-4",children:[n.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:n.jsx(rs,{className:"text-green-500",size:24})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Verify Delivery Partner"}),n.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:["Are you sure you want to verify",n.jsx("span",{className:"font-semibold",children:v.name}),"as a delivery partner?"]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-color)",color:"var(--text-secondary)",backgroundColor:"transparent"},children:"Cancel"}),n.jsx("button",{onClick:q,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Verify Partner"})]})]})})}),C&&S&&n.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-90vh overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",maxHeight:"90vh"},children:[n.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",style:{borderColor:"var(--border-primary)"},children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2"}),"Delivery Partner Details"]}),n.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Complete information for ",S.name]})]}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-md",style:{borderRadius:"var(--rounded-md)"},children:n.jsx(qt,{size:20,style:{color:"var(--text-secondary)"}})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Status:"}),S.is_verified?n.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 flex items-center",children:[n.jsx(rs,{className:"mr-1",size:16}),"Verified"]}):n.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800 flex items-center",children:[n.jsx(rn,{className:"mr-1",size:16}),"Pending Verification"]})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Ds,{className:"mr-2"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Full Name:"}),n.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-primary)"},children:S.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Partner ID:"}),n.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:S.partner_id})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(sa,{className:"mr-2"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[n.jsx(ec,{className:"inline mr-1"}),"Email Address:"]}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.email})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:[n.jsx(sa,{className:"inline mr-1"}),"Phone Number:"]}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.phone})]})]})]}),(S.address||S.city||S.state||S.pincode)&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(vn,{className:"mr-2"}),"Address Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.address&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Address:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.address})]}),S.city&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"City:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.city})]}),S.state&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"State:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.state})]}),S.pincode&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Pincode:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.pincode})]})]})]}),(S.vehicle_type||S.vehicle_number||S.license_number)&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(Lr,{className:"mr-2"}),"Vehicle Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.vehicle_type&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Vehicle Type:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:S.vehicle_type})]}),S.vehicle_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Vehicle Number:"}),n.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:S.vehicle_number})]}),S.license_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"License Number:"}),n.jsx("p",{className:"text-base font-mono",style:{color:"var(--text-primary)"},children:S.license_number})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[n.jsx(ei,{className:"mr-2"}),"Registration Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Registration Date:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Registration Time:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]}),S.updated_at&&S.updated_at!==S.created_at&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Last Updated:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.updated_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Update Time:"}),n.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:new Date(S.updated_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[!S.is_verified&&n.jsxs("button",{onClick:()=>{_(!1),U(S)},className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--success-color)",color:"white",borderRadius:"var(--rounded-md)"},children:[n.jsx(rs,{className:"inline mr-1",size:16}),"Verify Partner"]}),n.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},children:"Close"})]})]})})]})]})},Wx=un(O2((r,t)=>({inquiries:{list:[],loading:!1,error:null},catalogs:{data:null,loading:!1,error:null},faq:{data:[],loading:!1,error:null},selectedInquiry:null,selectedCatalog:null,fetchInquiries:async()=>{var s,i;r(l=>({inquiries:{...l.inquiries,loading:!0,error:null}}));try{const h=(await Ze.get("/sell-mobile/inquiries/")).data.data;return r({inquiries:{list:h,loading:!1,error:null}}),{success:!0,data:h}}catch(l){return r(h=>{var m,g;return{inquiries:{...h.inquiries,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to fetch inquiries"}}}),{success:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch inquiries"}}},setSelectedInquiry:s=>{r({selectedInquiry:s})},clearSelectedInquiry:()=>{r({selectedInquiry:null})},updateInquiryStatus:async(s,i)=>{var l,h;r(m=>({inquiries:{...m.inquiries,loading:!0,error:null}}));try{const m=await Ze.put(`/sell-mobile/listings/${s}/status/`,{status:i});if(m.status===200)return r(g=>{const b=g.inquiries.list.map(v=>v.id===s?{...v,status:i}:v);return{inquiries:{...g.inquiries,list:b,loading:!1,error:null}}}),{success:!0,message:m.data.message||"Inquiry status updated successfully"}}catch(m){return r(g=>{var b,v;return{inquiries:{...g.inquiries,loading:!1,error:((v=(b=m.response)==null?void 0:b.data)==null?void 0:v.error)||"Failed to update inquiry status"}}}),{success:!1,error:((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||"Failed to update inquiry status"}}},deleteInquiry:async s=>{var i,l;r(h=>({inquiries:{...h.inquiries,loading:!0,error:null}}));try{const h=await Ze.delete(`/sell-mobile/inquiries/${s}/delete/`);if(h.status===200)return r(m=>({inquiries:{...m.inquiries,list:m.inquiries.list.filter(g=>g.id!==s),loading:!1,error:null}})),{success:!0,message:h.data.message||"Inquiry deleted successfully"}}catch(h){return r(m=>{var g,b;return{inquiries:{...m.inquiries,loading:!1,error:((b=(g=h.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to delete inquiry"}}}),{success:!1,error:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.error)||"Failed to delete inquiry"}}},fetchCatalogs:async()=>{var s,i;r(l=>({catalogs:{...l.catalogs,loading:!0,error:null}}));try{const h=(await Ze.get("/sell-mobile/catalog/all/")).data.data.brands;return r({catalogs:{data:h,loading:!1,error:null}}),{success:!0,data:h}}catch(l){return r(h=>{var m,g;return{catalogs:{...h.catalogs,data:null,loading:!1,error:((g=(m=l.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to fetch phone catalogs"}}}),{success:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Failed to fetch phone catalogs"}}},addBrand:async s=>{var i,l,h;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.post("/sell-mobile/catalog/brands/",s);if(m.status===201||m.status===200)return r(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Brand added successfully"),{success:!0,data:m.data};throw new Error(((i=m.data)==null?void 0:i.error)||"Failed to add brand")}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to add brand";return r(b=>({catalogs:{...b.catalogs,loading:!1,error:g}})),Xe.error(g),{success:!1,error:g}}},updateBrand:async(s,i)=>{var l,h,m;r(g=>({catalogs:{...g.catalogs,loading:!0,error:null}}));try{const g=await Ze.put(`/sell-mobile/catalog/brands/${s}/`,i);if(g.status===200)return r(b=>({catalogs:{...b.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Brand updated successfully"),{success:!0,data:g.data};throw new Error(((l=g.data)==null?void 0:l.error)||"Failed to update brand")}catch(g){const b=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||g.message||"Failed to update brand";return r(v=>({catalogs:{...v.catalogs,loading:!1,error:b}})),Xe.error(b),{success:!1,error:b}}},deleteBrand:async s=>{var i,l,h;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.delete(`/sell-mobile/catalog/brands/${s}/`);if(m.status===200||m.status===204)return r(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Brand deleted successfully"),{success:!0};throw new Error(((i=m.data)==null?void 0:i.error)||"Failed to delete brand")}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to delete brand";return r(b=>({catalogs:{...b.catalogs,loading:!1,error:g}})),Xe.error(g),{success:!1,error:g}}},addSeries:async(s,i)=>{var l,h;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.post(`/sell-mobile/catalog/brands/${s}/series/`,i);if(m.status===201||m.status===200)return r(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Series added successfully"),{success:!0,data:m.data}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to add series";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:g}})),Xe.error(g),m}},updateSeries:async(s,i,l)=>{var h,m;r(g=>({catalogs:{...g.catalogs,loading:!0,error:null}}));try{const g=await Ze.put(`/sell-mobile/catalog/brands/${s}/series/${i}/`,l);if(g.status===200)return r(b=>({catalogs:{...b.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Series updated successfully"),{success:!0,data:g.data}}catch(g){const b=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||g.message||"Failed to update series";throw r(v=>({catalogs:{...v.catalogs,loading:!1,error:b}})),Xe.error(b),g}},deleteSeries:async(s,i)=>{var l,h;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.delete(`/sell-mobile/catalog/brands/${s}/series/${i}/`);if(m.status===204||m.status===200)return r(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Series deleted successfully"),{success:!0}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to delete series";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:g}})),Xe.error(g),m}},addModel:async(s,i)=>{var l,h;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.post(`/sell-mobile/catalog/series/${s}/models/`,i);if(m.status===201||m.status===200)return r(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Model added successfully"),{success:!0,data:m.data}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to add model";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:g}})),Xe.error(g),m}},updateModel:async(s,i,l)=>{var h,m;r(g=>({catalogs:{...g.catalogs,loading:!0,error:null}}));try{const g=await Ze.put(`/sell-mobile/catalog/series/${s}/models/${i}/`,l);if(g.status===200)return r(b=>({catalogs:{...b.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Model updated successfully"),{success:!0,data:g.data}}catch(g){const b=((m=(h=g.response)==null?void 0:h.data)==null?void 0:m.error)||g.message||"Failed to update model";throw r(v=>({catalogs:{...v.catalogs,loading:!1,error:b}})),Xe.error(b),g}},deleteModel:async(s,i)=>{var l,h;r(m=>({catalogs:{...m.catalogs,loading:!0,error:null}}));try{const m=await Ze.delete(`/sell-mobile/catalog/series/${s}/models/${i}/`);if(m.status===204||m.status===200)return r(g=>({catalogs:{...g.catalogs,loading:!1}})),await t().fetchCatalogs(),Xe.success("Model deleted successfully"),{success:!0}}catch(m){const g=((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to delete model";throw r(b=>({catalogs:{...b.catalogs,loading:!1,error:g}})),Xe.error(g),m}},fetchFaq:async()=>{var s,i,l,h;r(m=>({faq:{...m.faq,loading:!0,error:null}}));try{const m=await Ze.get("/sell-mobile/faqs/");let g=[];return m.data.faqs?g=m.data.faqs:Array.isArray(m.data)?g=m.data:m.data.results?g=m.data.results:m.data.data&&(g=m.data.data),r({faq:{data:g,loading:!1,error:null}}),{success:!0,data:g}}catch(m){const g=((i=(s=m.response)==null?void 0:s.data)==null?void 0:i.message)||((h=(l=m.response)==null?void 0:l.data)==null?void 0:h.error)||m.message||"Failed to fetch FAQs";return r(b=>({faq:{...b.faq,loading:!1,error:g}})),Xe.error(g),{success:!1,error:g}}},addFaq:async s=>{var i,l,h,m,g,b;r(v=>({faq:{...v.faq,loading:!0,error:null}}));try{const v=await Ze.post("/sell-mobile/faqs/",s);if(v.status===201||v.status===200){await t().fetchFaq();const k=v.data.message||v.data.detail||"FAQ added successfully";return Xe.success(k),{success:!0,data:v.data}}else throw new Error("Unexpected response status")}catch(v){const k=((l=(i=v.response)==null?void 0:i.data)==null?void 0:l.message)||((m=(h=v.response)==null?void 0:h.data)==null?void 0:m.error)||((b=(g=v.response)==null?void 0:g.data)==null?void 0:b.detail)||v.message||"Failed to add FAQ";throw r(C=>({faq:{...C.faq,loading:!1,error:k}})),Xe.error(k),v}},updateFaq:async(s,i)=>{var l,h,m,g,b,v;r(k=>({faq:{...k.faq,loading:!0,error:null}}));try{const k=await Ze.put(`/sell-mobile/faqs/${s}/`,i);if(k.status===200){await t().fetchFaq();const C=k.data.message||k.data.detail||"FAQ updated successfully";return Xe.success(C),{success:!0,data:k.data}}else throw new Error("Unexpected response status")}catch(k){const C=((h=(l=k.response)==null?void 0:l.data)==null?void 0:h.message)||((g=(m=k.response)==null?void 0:m.data)==null?void 0:g.error)||((v=(b=k.response)==null?void 0:b.data)==null?void 0:v.detail)||k.message||"Failed to update FAQ";throw r(_=>({faq:{..._.faq,loading:!1,error:C}})),Xe.error(C),k}},deleteFaq:async s=>{var i,l,h,m,g,b,v,k;r(C=>({faq:{...C.faq,loading:!0,error:null}}));try{const C=await Ze.delete(`/sell-mobile/faqs/${s}/`);if(C.status===204||C.status===200){await t().fetchFaq();const _=((i=C.data)==null?void 0:i.message)||((l=C.data)==null?void 0:l.detail)||"FAQ deleted successfully";return Xe.success(_),{success:!0}}else throw new Error("Unexpected response status")}catch(C){const _=((m=(h=C.response)==null?void 0:h.data)==null?void 0:m.message)||((b=(g=C.response)==null?void 0:g.data)==null?void 0:b.error)||((k=(v=C.response)==null?void 0:v.data)==null?void 0:k.detail)||C.message||"Failed to delete FAQ";throw r(S=>({faq:{...S.faq,loading:!1,error:_}})),Xe.error(_),C}}}),{name:"admin-sell-phone-store"}));var uA={exports:{}},hA,KR;function pde(){if(KR)return hA;KR=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hA=r,hA}var mA,QR;function fde(){if(QR)return mA;QR=1;var r=pde();function t(){}function s(){}return s.resetWarningCache=t,mA=function(){function i(m,g,b,v,k,C){if(C!==r){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function l(){return i}var h={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:l,element:i,elementType:i,instanceOf:l,node:i,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:s,resetWarningCache:t};return h.PropTypes=h,h},mA}var JR;function gde(){return JR||(JR=1,uA.exports=fde()()),uA.exports}var bde=gde();const Bt=zk(bde),yde=({label:r,accept:t="image/*",maxSize:s=5*1024*1024,dimensions:i=null,onFileSelect:l,currentImage:h=null,error:m=null,required:g=!1,disabled:b=!1,helperText:v=null})=>{const[k,C]=O.useState(!1),[_,S]=O.useState(h),[T,R]=O.useState(m),P=O.useRef(),V=B=>B?B.type.startsWith("image/")?B.size>s?{valid:!1,error:`File size must be less than ${(s/1048576).toFixed(1)}MB`}:{valid:!0,error:null}:{valid:!1,error:"Please select an image file"}:{valid:!1,error:"No file selected"},U=B=>{const Y=V(B);if(!Y.valid){R(Y.error);return}const J=new FileReader;J.onload=K=>{S(K.target.result)},J.readAsDataURL(B),R(null),l&&l(B)},F=B=>{B.preventDefault(),B.stopPropagation(),B.type==="dragenter"||B.type==="dragover"?C(!0):B.type==="dragleave"&&C(!1)},q=B=>{B.preventDefault(),B.stopPropagation(),C(!1),B.dataTransfer.files&&B.dataTransfer.files[0]&&U(B.dataTransfer.files[0])},ne=B=>{B.preventDefault(),B.target.files&&B.target.files[0]&&U(B.target.files[0])},se=()=>{S(null),R(null),P.current&&(P.current.value=""),l&&l(null)},Q=B=>{if(B===0)return"0 Bytes";const Y=1024,J=["Bytes","KB","MB","GB"],K=Math.floor(Math.log(B)/Math.log(Y));return parseFloat((B/Math.pow(Y,K)).toFixed(2))+" "+J[K]};return n.jsxs("div",{className:"w-full",children:[r&&n.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[r,g&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${k?"border-blue-400 bg-blue-50":T?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"} ${b?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{backgroundColor:k?"rgba(59, 130, 246, 0.05)":T?"rgba(239, 68, 68, 0.05)":"var(--bg-secondary)",borderColor:k?"var(--brand-primary)":T?"var(--error-color)":"var(--border-primary)"},onDragEnter:F,onDragLeave:F,onDragOver:F,onDrop:q,onClick:()=>{var B;return!b&&((B=P.current)==null?void 0:B.click())},children:[n.jsx("input",{ref:P,type:"file",accept:t,onChange:ne,className:"hidden",disabled:b}),_?n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:_,alt:"Preview",className:"max-h-32 max-w-full rounded-lg object-contain"}),n.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),se()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",disabled:b,children:n.jsx(qt,{size:12})})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Ek,{size:32,style:{color:T?"var(--error-color)":"var(--text-secondary)"}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Click to upload or drag and drop"}),n.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[t.includes("image")?"PNG, JPG, GIF up to":"Files up to"," ",Q(s)]})]})]})]}),(v||i)&&n.jsxs("div",{className:"mt-2 space-y-1",children:[v&&n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:v}),i&&n.jsxs("div",{className:"flex items-center space-x-1 text-xs",style:{color:"var(--text-secondary)"},children:[n.jsx(j9,{size:12}),n.jsxs("span",{children:["Recommended: ",i.width,"",i.height,"px",i.aspectRatio&&` (${i.aspectRatio})`]})]})]}),T&&n.jsxs("div",{className:"mt-2 flex items-center space-x-1 text-xs",style:{color:"var(--error-color)"},children:[n.jsx($a,{size:12}),n.jsx("span",{children:T})]})]})},eL=({brandToEdit:r,onClose:t,open:s})=>{const{addBrand:i,updateBrand:l}=Wx(),[h,m]=O.useState({id:"",logo_url:""}),[g,b]=O.useState(null),[v,k]=O.useState("file"),[C,_]=O.useState(!1),[S,T]=O.useState({});O.useEffect(()=>{r?(m({id:r.id||"",logo_url:r.logo_url||""}),k(r.logo_url?"url":"file")):(m({id:"",logo_url:""}),k("file")),b(null),T({})},[r,s]);const R=()=>{const q={};return h.id.trim()?/^[a-z0-9_-]+$/.test(h.id)||(q.id="Brand ID must contain only lowercase letters, numbers, hyphens, and underscores"):q.id="Brand ID is required",v==="url"?h.logo_url&&!P(h.logo_url)&&(q.logo_url="Please enter a valid URL"):v==="file"&&!g&&!(r!=null&&r.logo_url)&&(q.logo_file="Please select a logo file"),T(q),Object.keys(q).length===0},P=q=>{try{return new URL(q),!0}catch{return!1}},V=q=>{const{name:ne,value:se}=q.target;m(Q=>({...Q,[ne]:se})),S[ne]&&T(Q=>({...Q,[ne]:""}))},U=async q=>{var ne,se;if(q.preventDefault(),!!R()){_(!0);try{let Q=h.logo_url;if(v==="file"&&g){const Y=new FormData;Y.append("image",g),Y.append("type","brand_logo");const J=await Ze.post("/admin/upload-image/",Y,{headers:{"Content-Type":"multipart/form-data"}});J.data.image_url&&(Q=J.data.image_url)}const B={...h,logo_url:Q};r?(await l(r.id,B),Rt.success("Brand updated successfully")):(await i(B),Rt.success("Brand added successfully")),t()}catch(Q){console.error("Form submission error:",Q),Rt.error(((se=(ne=Q.response)==null?void 0:ne.data)==null?void 0:se.error)||"Failed to save brand")}_(!1)}},F=()=>{m({id:"",logo_url:""}),b(null),k("file"),T({}),t()};return s?n.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:["        ",n.jsxs("div",{className:"w-full max-w-lg mx-auto transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:r?"Edit Brand":"Add New Brand"}),"          ",n.jsx("button",{onClick:F,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:C,style:{color:"var(--text-secondary)"},children:n.jsx(qt,{className:"w-5 h-5"})})]}),"        ",n.jsxs("form",{onSubmit:U,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"id",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Brand ID *"}),n.jsx("input",{type:"text",id:"id",name:"id",value:h.id,onChange:V,placeholder:"e.g., apple, samsung",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:S.id?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:r||C}),r&&n.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Brand ID cannot be changed"}),S.id&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:S.id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo Upload Method"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"file",checked:v==="file",onChange:q=>k(q.target.value),className:"mr-2",disabled:C}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Upload File"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"url",checked:v==="url",onChange:q=>k(q.target.value),className:"mr-2",disabled:C}),n.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Enter URL"})]})]})]}),v==="file"&&n.jsx(yde,{label:"Brand Logo",accept:"image/*",maxSize:2*1024*1024,dimensions:{width:200,height:200,aspectRatio:"1:1"},onFileSelect:b,currentImage:r==null?void 0:r.logo_url,error:S.logo_file,helperText:"Upload a brand logo. Square images work best.",disabled:C}),v==="url"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"logo_url",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo URL"}),n.jsx("input",{type:"url",id:"logo_url",name:"logo_url",value:h.logo_url,onChange:V,placeholder:"https://example.com/logo.png",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:S.logo_url?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},disabled:C}),S.logo_url&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:S.logo_url})]}),(v==="url"&&h.logo_url||(r==null?void 0:r.logo_url))&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Logo Preview"}),n.jsxs("div",{className:"flex items-center justify-center p-4 rounded-md border-2 border-dashed",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[n.jsx("img",{src:h.logo_url,alt:"Logo preview",className:"max-w-20 max-h-20 object-contain",onError:q=>{q.target.style.display="none",q.target.nextSibling.style.display="block"}}),n.jsx("div",{className:"text-sm hidden",style:{color:"var(--text-secondary)"},children:"Failed to load image"})]})]}),"          ",n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:F,disabled:C,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:C,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[C&&n.jsx(Si,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:C?r?"Updating...":"Adding...":r?"Update Brand":"Add Brand"})]})]})]})]})]}):null};eL.propTypes={brandToEdit:Bt.shape({id:Bt.string,logo_url:Bt.string}),onClose:Bt.func.isRequired,open:Bt.bool.isRequired};Bt.arrayOf(Bt.shape({id:Bt.string.isRequired,name:Bt.string.isRequired,logo_url:Bt.string,seriesCount:Bt.number})).isRequired,Bt.func.isRequired,Bt.string;const tL=({open:r,onClose:t,seriesToEdit:s,brandId:i})=>{const{addSeries:l,updateSeries:h}=Wx(),[m,g]=O.useState({name:"",description:""}),[b,v]=O.useState(!1),[k,C]=O.useState({});O.useEffect(()=>{g(s?{name:s.name||"",description:s.description||""}:{name:"",description:""}),C({})},[s,r]);const _=P=>{const{name:V,value:U}=P.target;g(F=>({...F,[V]:U})),k[V]&&C(F=>({...F,[V]:""}))},S=()=>{const P={};return m.name.trim()||(P.name="Series name is required"),m.description.trim()||(P.description="Description is required"),C(P),Object.keys(P).length===0},T=async P=>{if(P.preventDefault(),!!S()){v(!0);try{s?await h(i,s.id,m):await l(i,m),t()}catch(V){console.error("Series form submission error:",V)}finally{v(!1)}}},R=()=>{g({name:"",description:""}),C({}),t()};return r?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"w-full max-w-lg transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s?"Edit Series":"Add New Series"}),n.jsx("button",{onClick:R,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:b,style:{color:"var(--text-secondary)"},children:n.jsx(qt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Series Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:_,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:k.name?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Enter series name (e.g., iPhone 15)",disabled:b}),k.name&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:k.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:_,rows:4,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200 resize-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:k.description?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Enter series description",disabled:b}),k.description&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:k.description})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:R,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},disabled:b,children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},disabled:b,children:[b&&n.jsx(Si,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:b?s?"Updating...":"Adding...":s?"Update Series":"Add Series"})]})]})]})]})}):null};tL.propTypes={open:Bt.bool.isRequired,onClose:Bt.func.isRequired,seriesToEdit:Bt.object,brandId:Bt.string.isRequired};Bt.string.isRequired,Bt.arrayOf(Bt.shape({id:Bt.string.isRequired,name:Bt.string.isRequired,models:Bt.array})).isRequired,Bt.func.isRequired,Bt.string;const rL=({open:r,onClose:t,brandId:s,seriesId:i,modelToEdit:l})=>{const{addModel:h,updateModel:m}=Wx(),[g,b]=O.useState({id:"",display_name:"",image_url:"",launch_year:new Date().getFullYear(),demand_score:5,variant_options:{ram:[""],storage:[""],color:[""]},variant_prices:{}}),[v,k]=O.useState(!1);O.useEffect(()=>{var U,F,q;b(l?{id:l.id||"",display_name:l.display_name||"",image_url:l.image_url||"",launch_year:l.launch_year||new Date().getFullYear(),demand_score:l.demand_score||5,variant_options:{ram:((U=l.variant_options)==null?void 0:U.ram)||[""],storage:((F=l.variant_options)==null?void 0:F.storage)||[""],color:((q=l.variant_options)==null?void 0:q.color)||[""]},variant_prices:l.variant_prices||{}}:{id:"",display_name:"",image_url:"",launch_year:new Date().getFullYear(),demand_score:5,variant_options:{ram:[""],storage:[""],color:[""]},variant_prices:{}})},[l]);const C=(U,F)=>{b(q=>({...q,[U]:F}))},_=(U,F,q)=>{b(ne=>({...ne,variant_options:{...ne.variant_options,[U]:ne.variant_options[U].map((se,Q)=>Q===F?q:se)}}))},S=U=>{b(F=>({...F,variant_options:{...F.variant_options,[U]:[...F.variant_options[U],""]}}))},T=(U,F)=>{b(q=>({...q,variant_options:{...q.variant_options,[U]:q.variant_options[U].filter((ne,se)=>se!==F)}}))},R=(U,F,q)=>{b(ne=>({...ne,variant_prices:{...ne.variant_prices,[U]:{...ne.variant_prices[U],[F]:parseInt(q)||0}}}))},P=()=>{const U=g.variant_options.storage.filter(q=>q.trim()),F=g.variant_options.ram.filter(q=>q.trim());return U.map(q=>n.jsxs("div",{className:"mb-4 p-4 border rounded",children:[n.jsxs("h4",{className:"font-medium mb-2",children:[q," Storage"]}),F.map(ne=>{var se;return n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsxs("label",{className:"w-16 text-sm",children:[ne,":"]}),n.jsx("input",{type:"number",placeholder:"Price",value:((se=g.variant_prices[q])==null?void 0:se[ne])||"",onChange:Q=>R(q,ne,Q.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded text-sm"})]},`${q}-${ne}`)})]},q))},V=async U=>{U.preventDefault(),k(!0);try{const F={...g,variant_options:{ram:g.variant_options.ram.filter(q=>q.trim()),storage:g.variant_options.storage.filter(q=>q.trim()),color:g.variant_options.color.filter(q=>q.trim())}};l?await m(i,l.id,F):await h(i,F),t()}catch(F){console.error("Model form submission error:",F)}k(!1)};return r?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:n.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:n.jsxs("div",{className:"w-full max-w-4xl transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:l?"Edit Model":"Add New Model"}),"            ",n.jsx("button",{onClick:t,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{color:"var(--text-secondary)"},children:n.jsx(qt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model ID"}),n.jsx("input",{type:"text",value:g.id,onChange:U=>C("id",U.target.value),placeholder:"e.g., iphone_14_pro",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,disabled:l}),l&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Model ID cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),n.jsx("input",{type:"text",value:g.display_name,onChange:U=>C("display_name",U.target.value),placeholder:"e.g., iPhone 14 Pro",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),n.jsx("input",{type:"url",value:g.image_url,onChange:U=>C("image_url",U.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Launch Year"}),n.jsx("input",{type:"number",value:g.launch_year,onChange:U=>C("launch_year",parseInt(U.target.value)),min:"2000",max:"2030",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Demand Score (1-10)"}),n.jsx("input",{type:"number",value:g.demand_score,onChange:U=>C("demand_score",parseInt(U.target.value)),min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:"Variant Options"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RAM Options"}),g.variant_options.ram.map((U,F)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"text",value:U,onChange:q=>_("ram",F,q.target.value),placeholder:"e.g., 6GB",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),n.jsx("button",{type:"button",onClick:()=>T("ram",F),className:"text-red-500 hover:text-red-700",disabled:g.variant_options.ram.length===1,children:n.jsx(FaTrash,{})})]},F)),n.jsxs("button",{type:"button",onClick:()=>S("ram"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[n.jsx(FaPlus,{className:"mr-1"})," Add RAM Option"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Options"}),g.variant_options.storage.map((U,F)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"text",value:U,onChange:q=>_("storage",F,q.target.value),placeholder:"e.g., 128GB",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),n.jsx("button",{type:"button",onClick:()=>T("storage",F),className:"text-red-500 hover:text-red-700",disabled:g.variant_options.storage.length===1,children:n.jsx(FaTrash,{})})]},F)),n.jsxs("button",{type:"button",onClick:()=>S("storage"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[n.jsx(FaPlus,{className:"mr-1"})," Add Storage Option"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Options"}),g.variant_options.color.map((U,F)=>n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"text",value:U,onChange:q=>_("color",F,q.target.value),placeholder:"e.g., Deep Purple",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),n.jsx("button",{type:"button",onClick:()=>T("color",F),className:"text-red-500 hover:text-red-700",disabled:g.variant_options.color.length===1,children:n.jsx(FaTrash,{})})]},F)),n.jsxs("button",{type:"button",onClick:()=>S("color"),className:"flex items-center text-blue-500 hover:text-blue-700",children:[n.jsx(FaPlus,{className:"mr-1"})," Add Color Option"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium mb-4",children:"Variant Pricing"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:P()})]}),g.image_url&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Preview"}),n.jsx("img",{src:g.image_url,alt:"Model preview",className:"w-32 h-32 object-contain border rounded",onError:U=>{U.target.style.display="none"}})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,disabled:v,className:"px-6 py-2 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:v,className:"px-6 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[v&&n.jsx(Si,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:v?l?"Updating...":"Adding...":l?"Update Model":"Add Model"})]})]})]})]})})}):null};rL.propTypes={open:Bt.bool.isRequired,onClose:Bt.func.isRequired,brandId:Bt.string.isRequired,seriesId:Bt.string.isRequired,modelToEdit:Bt.object};Bt.string.isRequired,Bt.string.isRequired,Bt.arrayOf(Bt.shape({id:Bt.string.isRequired,name:Bt.string.isRequired,image:Bt.string,variantOptions:Bt.array,questionGroups:Bt.array})).isRequired;const nL=({open:r,onClose:t,faqToEdit:s})=>{const{addFaq:i,updateFaq:l}=Wx(),[h,m]=O.useState({question:"",answer:""}),[g,b]=O.useState(!1),[v,k]=O.useState({});O.useEffect(()=>{m(s?{question:s.question||"",answer:s.answer||""}:{question:"",answer:""}),k({})},[s]);const C=()=>{const T={};return h.question.trim()||(T.question="Question is required"),h.answer.trim()||(T.answer="Answer is required"),k(T),Object.keys(T).length===0},_=T=>{const{name:R,value:P}=T.target;m(V=>({...V,[R]:P}))},S=async T=>{if(T.preventDefault(),!!C()){b(!0);try{s?await l(s.id,h):await i(h),t()}catch(R){console.error("FAQ form submission error:",R)}finally{b(!1)}}};return r?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},children:n.jsxs("div",{className:"w-full max-w-2xl transform transition-all duration-300 animate-slideIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",border:"1px solid var(--border-primary)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[n.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s?"Edit FAQ":"Add New FAQ"}),"          ",n.jsx("button",{onClick:t,className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",disabled:g,style:{color:"var(--text-secondary)"},children:n.jsx(qt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:["          ",n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"question",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Question *"}),n.jsx("input",{type:"text",id:"question",name:"question",value:h.question,onChange:_,placeholder:"Enter the FAQ question",className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:v.question?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:g}),v.question&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:v.question})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium",style:{color:"var(--text-primary)"},children:"Answer *"}),n.jsx("textarea",{id:"answer",name:"answer",value:h.answer,onChange:_,placeholder:"Enter the FAQ answer",rows:6,className:"w-full px-3 py-2.5 border rounded-md text-sm focus:outline-none focus:ring-2 transition-all duration-200 resize-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:v.answer?"var(--error-color)":"var(--border-primary)",borderRadius:"var(--rounded-md)"},required:!0,disabled:g}),v.answer&&n.jsx("p",{className:"text-sm",style:{color:"var(--error-color)"},children:v.answer})]}),"          ",n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[n.jsx("button",{type:"button",onClick:t,disabled:g,className:"px-4 py-2.5 text-sm font-medium rounded-md border transition-all duration-200 hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:g,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[g&&n.jsx(Si,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:g?s?"Updating...":"Adding...":s?"Update FAQ":"Add FAQ"})]})]})]})]})}):null};nL.propTypes={open:Bt.bool.isRequired,onClose:Bt.func.isRequired,faqToEdit:Bt.shape({id:Bt.string,question:Bt.string,answer:Bt.string})};const xde=()=>{const[r,t]=O.useState("catalog"),[s,i]=O.useState("overview"),[l,h]=O.useState(null),[m,g]=O.useState(null),[b,v]=O.useState(null),[k,C]=O.useState(!1),[_,S]=O.useState(!1),[T,R]=O.useState(!1),[P,V]=O.useState(!1),[U,F]=O.useState(null),[q,ne]=O.useState(1),se=10,{catalogs:Q,inquiries:B,faq:Y,fetchCatalogs:J,fetchInquiries:K,fetchFaq:Z,updateInquiryStatus:ee,deleteInquiry:be,addBrand:xe,updateBrand:ie,deleteBrand:ae,addSeries:le,updateSeries:oe,deleteSeries:G,addModel:ue,updateModel:pe,deleteModel:me,addFaq:ye,updateFaq:Se,deleteFaq:_e}=Wx();O.useEffect(()=>{r==="catalog"?J():r==="inquiries"?K():r==="faqs"&&Z()},[r]);const qe=()=>!Q.data||typeof Q.data!="object"?[]:Object.keys(Q.data).map(ze=>({id:ze,name:ze.charAt(0).toUpperCase()+ze.slice(1),logo_url:Q.data[ze].logo_url,seriesCount:Q.data[ze].phone_series?Object.keys(Q.data[ze].phone_series).length:0,...Q.data[ze]})),Oe=ze=>{if(!Q.data||!Q.data[ze]||!Q.data[ze].phone_series)return[];const Jt=Q.data[ze].phone_series;return Object.keys(Jt).map(Pt=>({id:Pt,display_name:Jt[Pt].display_name,modelCount:Jt[Pt].phones?Object.keys(Jt[Pt].phones).length:0,...Jt[Pt]}))},Ye=(ze,Jt)=>{if(!Q.data||!Q.data[ze]||!Q.data[ze].phone_series||!Q.data[ze].phone_series[Jt]||!Q.data[ze].phone_series[Jt].phones)return[];const Pt=Q.data[ze].phone_series[Jt].phones;return Object.keys(Pt).map(Dt=>({id:Dt,display_name:Pt[Dt].display_name,image_url:Pt[Dt].image_url,launch_year:Pt[Dt].launch_year,demand_score:Pt[Dt].demand_score,...Pt[Dt]}))},Ce=(()=>{if(r==="catalog"){const ze=Q.data;if(!ze||typeof ze!="object"||Array.isArray(ze))return[];const Jt=[];return Object.keys(ze).forEach(Pt=>{const Dt=ze[Pt];Dt&&Dt.phone_series&&typeof Dt.phone_series=="object"&&Object.keys(Dt.phone_series).forEach(Js=>{const Ts=Dt.phone_series[Js];Ts&&Ts.phones&&typeof Ts.phones=="object"&&Object.keys(Ts.phones).forEach(Is=>{const ir=Ts.phones[Is];ir&&Jt.push({id:`${Pt}-${Js}-${Is}`,name:ir.display_name,image:ir.image_url||Dt.logo_url,brand:Pt,series:Ts.display_name,launch_year:ir.launch_year,demand_score:ir.demand_score})})})}),Jt}else{if(r==="inquiries")return B.list||[];if(r==="faqs")return Y.data||[]}return[]})(),ot=Ce.length,Je=Math.ceil(ot/se),nt=(q-1)*se,Lt=nt+se,Ne=Ce.slice(nt,Lt),at=ze=>{ne(ze),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{ne(1),i("overview"),h(null),g(null),v(null)},[r]);const Qt=()=>{h(null),g(null),v(null)},Sr=()=>{g(null),v(null)},nn=ze=>{h(ze),g(null),v(null)},Yr=ze=>{g(ze),v(null)},Er=(ze=null)=>{F(ze),C(!0)},Cr=(ze=null)=>{F(ze),S(!0)},Qs=(ze=null)=>{F(ze),R(!0)},fo=()=>{C(!1),S(!1),R(!1),V(!1),F(null)},Yt=async ze=>{window.confirm("Are you sure you want to delete this brand and all its series and models?")&&(await ae(ze),l===ze&&(h(null),g(null)))},wt=async ze=>{window.confirm("Are you sure you want to delete this series and all its models?")&&(await G(l,ze),m===ze&&g(null))},Gr=async ze=>{window.confirm("Are you sure you want to delete this model?")&&await me(m,ze)},[lt,It]=O.useState({}),kt=async(ze,Jt,Pt=null)=>{It(Dt=>({...Dt,[ze]:Jt}));try{let Dt;Jt==="delete"?Dt=await be(ze):Jt==="updateStatus"&&Pt&&(Dt=await ee(ze,Pt)),Dt.success?(Rt.success(Dt.message||`Inquiry ${Jt==="delete"?"deleted":"updated"} successfully`),await K()):Rt.error(Dt.error||`Failed to ${Jt} inquiry`)}catch(Dt){console.error(`Error ${Jt} inquiry:`,Dt),Rt.error(`Failed to ${Jt} inquiry`)}finally{It(Dt=>{const Js={...Dt};return delete Js[ze],Js})}},er=()=>{if(s==="overview")return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Phone Catalog Overview"}),n.jsx("p",{className:"text-gray-500",children:"Overview of all phone models in the catalog"})]}),"            ",n.jsxs("button",{onClick:()=>i("manageCatalog"),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(fy,{className:"w-4 h-4"}),n.jsx("span",{children:"Manage Catalog"})]})]}),Q.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading catalog overview..."})}):Q.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:Q.error})}):Ne.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No phone listings found."})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Series"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Launch Year"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demand Score"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.map(ze=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[ze.image&&n.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:n.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:ze.image,alt:ze.name})}),n.jsx("div",{className:ze.image?"ml-4":"",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ze.name})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.brand})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.series})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.launch_year})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[ze.demand_score,"/10"]})})]},ze.id))})]}),ot>0&&n.jsx("div",{className:"pt-4",children:n.jsx(Qa,{currentPage:q,totalPages:Je,onPageChange:at,totalItems:ot,itemsPerPage:se,showItemCount:!0})})]})]});if(s==="manageCatalog")return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:["            ",n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>i("overview"),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(eA,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Overview"})]}),l&&n.jsxs("button",{onClick:Qt,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(eA,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Brands"})]}),m&&n.jsxs("button",{onClick:Sr,className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(eA,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Series"})]})]}),n.jsx("h2",{className:"text-lg font-semibold",children:l?m?`Manage ${m} Models`:`Manage ${l} Series`:"Manage Brands"})]}),Q.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading catalog..."})}):Q.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:Q.error})}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[!l&&n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Brands"}),"                      ",n.jsxs("button",{onClick:()=>Er(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(kw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Brand"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:qe().map(ze=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[ze.logo_url&&n.jsx("img",{src:ze.logo_url,alt:ze.name,className:"w-8 h-8 rounded-full mr-2"}),n.jsx("h4",{className:"font-semibold",children:ze.name})]}),"                            ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Er(ze),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(fy,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>Yt(ze.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(Cw,{className:"w-3 h-3"})})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[ze.seriesCount," series"]}),"                          ",n.jsxs("button",{onClick:()=>nn(ze.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center justify-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(hR,{className:"w-3 h-3"}),n.jsx("span",{children:"Manage Series"})]})]},ze.id))})]})}),l&&!m&&n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-semibold",children:["Series for ",l]}),"                      ",n.jsxs("button",{onClick:()=>Cr(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(kw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Series"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Oe(l).map(ze=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold",children:ze.display_name}),"                            ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Cr(ze),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(fy,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>wt(ze.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(Cw,{className:"w-3 h-3"})})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[ze.modelCount," models"]}),"                          ",n.jsxs("button",{onClick:()=>Yr(ze.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center justify-center space-x-2",style:{backgroundColor:"var(--success-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[n.jsx(hR,{className:"w-3 h-3"}),n.jsx("span",{children:"Manage Models"})]})]},ze.id))})]})}),l&&m&&n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-semibold",children:["Models for ",m]}),"                      ",n.jsxs("button",{onClick:()=>Qs(),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(kw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Model"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ye(l,m).map(ze=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[ze.image_url&&n.jsx("img",{src:ze.image_url,alt:ze.display_name,className:"w-12 h-12 rounded mr-2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:ze.display_name}),n.jsx("p",{className:"text-xs text-gray-500",children:ze.launch_year})]})]}),"                            ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Qs(ze),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--warning-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(fy,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>Gr(ze.id),className:"p-2 rounded-md transition-all duration-200 hover:opacity-70",style:{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:n.jsx(Cw,{className:"w-3 h-3"})})]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Demand Score: ",ze.demand_score,"/10"]})]},ze.id))})]})})]})]})},sn=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Phone Sell Inquiries"}),n.jsx("p",{className:"text-gray-500",children:"Manage customer inquiries for selling phones"}),B.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading inquiries..."})}):B.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:B.error})}):Ne.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No inquiries found."})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Variant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condition"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.map(ze=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ze.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:ze.user_email})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.selected_variant})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ze.selected_condition})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                        ${ze.status==="pending"?"bg-yellow-100 text-yellow-800":ze.status==="approved"?"bg-green-100 text-green-800":ze.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:ze.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(ze.created_at).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[ze.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>kt(ze.id,"updateStatus","approved"),disabled:lt[ze.id],className:"text-green-600 hover:text-green-900 mr-3 disabled:opacity-50 disabled:cursor-not-allowed",children:lt[ze.id]==="updateStatus"?"Processing...":"Approve"}),n.jsx("button",{onClick:()=>kt(ze.id,"updateStatus","rejected"),disabled:lt[ze.id],className:"text-red-600 hover:text-red-900 mr-3 disabled:opacity-50 disabled:cursor-not-allowed",children:lt[ze.id]==="updateStatus"?"Processing...":"Reject"})]}),n.jsx("button",{onClick:()=>kt(ze.id,"delete"),disabled:lt[ze.id],className:"text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:lt[ze.id]==="delete"?"Deleting...":"Delete"})]})]},ze.id))})]}),ot>0&&n.jsx("div",{className:"pt-4",children:n.jsx(Qa,{currentPage:q,totalPages:Je,onPageChange:at,totalItems:ot,itemsPerPage:se,showItemCount:!0})})]})]}),ss=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-500",children:"Manage FAQs related to phone selling"})]}),"          ",n.jsxs("button",{onClick:()=>V(!0),className:"px-4 py-2.5 text-sm font-medium rounded-md transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"},children:[n.jsx(kw,{className:"w-4 h-4"}),n.jsx("span",{children:"Add FAQ"})]})]}),Y.loading?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"Loading FAQs..."})}):Y.error?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-red-500",children:Y.error})}):Ne.length===0?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No FAQs found."})}):n.jsxs("div",{className:"space-y-4",children:[Ne.map(ze=>n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:ze.question}),n.jsx("p",{className:"text-gray-600",children:ze.answer})]}),n.jsxs("div",{className:"flex space-x-2 ml-4",children:[n.jsx("button",{onClick:()=>{F(ze),V(!0)},className:"text-blue-500 hover:text-blue-700",children:n.jsx(fy,{})}),n.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this FAQ?")&&_e(ze.id)},className:"text-red-500 hover:text-red-700",children:n.jsx(Cw,{})})]})]})},ze.id)),ot>0&&n.jsx("div",{className:"pt-4",children:n.jsx(Qa,{currentPage:q,totalPages:Je,onPageChange:at,totalItems:ot,itemsPerPage:se,showItemCount:!0})})]})]});return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Phone Selling Management"})}),n.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex border-b",children:[n.jsx("button",{className:`px-6 py-3 font-medium ${r==="catalog"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("catalog"),children:"Catalog"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="inquiries"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("inquiries"),children:"Inquiries"}),n.jsx("button",{className:`px-6 py-3 font-medium ${r==="faqs"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("faqs"),children:"FAQs"})]}),n.jsxs("div",{className:"p-6",children:[r==="catalog"&&er(),r==="inquiries"&&sn(),r==="faqs"&&ss()]})]}),k&&n.jsx(eL,{open:k,onClose:fo,brandToEdit:U}),_&&n.jsx(tL,{open:_,onClose:fo,brandId:l,seriesToEdit:U}),T&&n.jsx(rL,{open:T,onClose:fo,seriesId:m,brandId:l,modelToEdit:U}),P&&n.jsx(nL,{open:P,onClose:fo,faqToEdit:U})]})},vde={getProducts:async(r={})=>{try{let t=XA(Du,"products");return r.category&&(t=P_(t,RT("category","==",r.category))),r.brand&&(t=P_(t,RT("brand","==",r.brand))),r.limit&&(t=P_(t,vZ(r.limit))),(await y9(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},getProduct:async r=>{try{const t=zf(Du,"products",r),s=await _Z(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Product not found")}catch(t){throw console.error("Error fetching product:",t),t}},addProduct:async r=>{try{return(await jZ(XA(Du,"products"),{...r,createdAt:new Date})).id}catch(t){throw console.error("Error adding product:",t),t}},updateProduct:async(r,t)=>{try{const s=zf(Du,"products",r);await AZ(s,{...t,updatedAt:new Date})}catch(s){throw console.error("Error updating product:",s),s}},deleteProduct:async r=>{try{await NZ(zf(Du,"products",r))}catch(t){throw console.error("Error deleting product:",t),t}}},wde=JSON.parse('[{"Category":"Mobile","Brand":"Samsung","Model Name":"Galaxy A15","Specs (RAM/ROM/Display/etc)":"6GB/128GB, 6.6\\" FHD+ AMOLED","Price":"13,999","Offer Price":"12,999","Stock":10,"Product Image URL":"[URL]","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4 GB 64GB 4G BLACK","Price":11999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/4eKjhPS","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4 GB 64GB 4G GOLD","Price":11999,"Offer Price":8999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4GB 128GB 5G LIGHT GREEN","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://amzn.in/d/91iG423","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 4GB 128GB 5G GREY","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://amzn.in/d/91iG423","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 6GB 128GB 5G BLACK","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A06 ","Specs (RAM/ROM/Display/etc)":"A06 6GB 128GB 5G GREY","Price":13999,"Offer Price":11499,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15 ","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G JAZZY GREEN","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15 ","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G GROOVY VIOLET","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 4GB 128GB 5G ASH BLACK","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://amzn.in/d/5aivlMx","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G JAZZY GREEN","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G GROOVY VIOLET","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 6GB 128GB 5G ASH BLACK","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://amzn.in/d/8aUommy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G JAZZY GREEN","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G GROOVY VIOLET","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F15","Specs (RAM/ROM/Display/etc)":"F15 8GB 128GB 5G ASH BLACK","Price":17999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/f4Qjv1L","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G GOLD ","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G BLUE BLACK","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 6GB 128GB 5G LIGHT GREEN","Price":19999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://amzn.in/d/6IrTEz3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G GOLD","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G BLUE BLACK","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 128GB 5G LIGHT GREEN","Price":21499,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/3k4TSek","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G GOLD","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G BLUE BLACK","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A16","Specs (RAM/ROM/Display/etc)":"A16 8GB 256GB 5G LIGHT GREEN","Price":24999,"Offer Price":17999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME WHITE","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME BLACK","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 128GB 5G AWESOME LAVENDER","Price":35999,"Offer Price":30999,"Stock":8,"Product Image URL":"https://amzn.in/d/5XjfDXD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G  AWESOME WHITE","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G  AWESOME BLACK","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 8GB 256GB 5G AWESOME LAVENDER","Price":38999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://amzn.in/d/8McBRmT","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME WHITE ","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME BLACK","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A36","Specs (RAM/ROM/Display/etc)":"A36 12GB 256GB 5G AWESOME LAVENDER","Price":41999,"Offer Price":35999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME LIGHT GRAY","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME GRAPHITE","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 128GB 5G AWESOME OLIVE","Price":44999,"Offer Price":38999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"","Price":44999,"Offer Price":43999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME LIGHT GRAY","Price":48999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME GRAPHITE","Price":48999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 8GB 256GB 5G AWESOME OLIVE","Price":48899,"Offer Price":43999,"Stock":8,"Product Image URL":"https://amzn.in/d/g3ScErJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME LIGHT GRAY","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME GRAPHITE","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"A56 ","Specs (RAM/ROM/Display/etc)":"A56 12GB 256GB 5G AWESOME OLIVE","Price":52999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/5IEAh2S","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F55","Specs (RAM/ROM/Display/etc)":"F55 8GB 128GB 5G BLACK","Price":28999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/6JmGSSr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"F55","Specs (RAM/ROM/Display/etc)":"F55 8GB 128GB 5G ORANGE","Price":28999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/6JmGSSr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G BLUE ","Price":59999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G GRAPHITE","Price":59999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 128GB 5G MINT","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/hl94zDP","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G BLUE ","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G GRAPHITE","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24FE","Specs (RAM/ROM/Display/etc)":"S24FE 8GB 256GB 5G MINT","Price":64999,"Offer Price":45999,"Stock":8,"Product Image URL":"https://amzn.in/d/excqDe5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G MARBLE GREY","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G ONXY BLACK","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G YELLOW","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 128GB 5G VIOLET","Price":74999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://amzn.in/d/biMKIAZ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G MARBLE GREY","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G ONXY BLACK","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G YELLOW","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 256GB 5G VIOLET","Price":79999,"Offer Price":60999,"Stock":8,"Product Image URL":"https://amzn.in/d/8LEjiLj","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G MARBLE GREY","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G ONXY BLACK","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G YELLOW","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24","Specs (RAM/ROM/Display/etc)":"S24 8GB 512GB 5G VIOLET","Price":84999,"Offer Price":69999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM GREY","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM VIOLET","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G TITANIUM BLACK","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 256GB 5G YELLOW","Price":134999,"Offer Price":104999,"Stock":8,"Product Image URL":"https://amzn.in/d/ecCQtLt","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM GREY","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM VIOLET","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM BLACK","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S24 ULTRA","Specs (RAM/ROM/Display/etc)":"S24 ULTRA 12GB 512GB 5G TITANIUM YELLOW","Price":144999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/fcSNRTs","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G ICY BLUE","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G MINT","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G SILVER SHADOW","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 256GB 5G NAVY","Price":80999,"Offer Price":80999,"Stock":8,"Product Image URL":"https://amzn.in/d/3jrobGQ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G ICY BLUE ","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G MINT","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G SILVER SHADOW","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25","Specs (RAM/ROM/Display/etc)":"S25 12GB 512GB 5G NAVY","Price":92999,"Offer Price":92999,"Stock":8,"Product Image URL":"https://amzn.in/d/ahQHaFi","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM BLUE ","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM BLACK","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM GRAY","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 256GB 5G TITANIUM SILVER","Price":129999,"Offer Price":129999,"Stock":8,"Product Image URL":"https://amzn.in/d/iDNjGyK","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM BLUE ","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM BLACK","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM GRAY","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 512GB 5G TITANIUM SILVER","Price":141999,"Offer Price":141999,"Stock":8,"Product Image URL":"https://amzn.in/d/1CWiR5R","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM BLUE","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM BLACK","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA ","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM GRAY","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"S25 ULTRA","Specs (RAM/ROM/Display/etc)":"S25 ULTRA 12GB 1TB 5G TITANIUM SILVER","Price":165999,"Offer Price":159999,"Stock":8,"Product Image URL":"https://amzn.in/d/cedbjP4","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G MINT ","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G SILVER SHADOW","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 256GB 5G BLUE","Price":109999,"Offer Price":84999,"Stock":8,"Product Image URL":"https://amzn.in/d/0iMtA8q","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G MINT","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G SILVER SHADOW","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FLIP 6","Specs (RAM/ROM/Display/etc)":"FLIP 6 12GB 512GB 5G BLUE","Price":119999,"Offer Price":115000,"Stock":8,"Product Image URL":"https://amzn.in/d/bLpE7j3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G SILVER SHADOW","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G NAVY ","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 256GB 5G PINK","Price":164999,"Offer Price":144999,"Stock":8,"Product Image URL":"https://amzn.in/d/hiGcWbJ","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G SILVER SHADOW","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G NAVY ","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"SAMSUNG ","Model Name":"FOLD 6","Specs (RAM/ROM/Display/etc)":"FOLD 6 12GB 512GB 5G PINK","Price":184999,"Offer Price":164999,"Stock":8,"Product Image URL":"https://www.amazon.in/Samsung-Galaxy-Fold6-Smartphone-Storage/dp/B0D841Z76B/ref=sr_1_3?crid=3OZX5PTD28B3X&dib=eyJ2IjoiMSJ9.AX32kOKEuelzroivY6tDohY6sakEh5s5yaZUNUwcp_Y7TUokQhDjgvJo3hPPBXxm6L3gbTx9Zm3xqxC7KuYGuckGGceOjBtlTPMVz3ffb3S9hu54UOLGU6HWV87ULWJgzBG_po_Zf7CdQwB7oQ3gYSo_A49lMnaufeovQV2zphiOtwWZy46n_hPlmyPW5FtmzF8LzNkTSkZddjFnZBWVfcU--arCPxP0L-d-XMea_kM.Em12lPIDjffQvfb6mtQjt-8BgBBKNtKsKeuKDYbWaLI&dib_tag=se&keywords=samsung+fold+6+5g&nsdOptOutParam=true&qid=1745923814&sprefix=sasmung+fol%2Caps%2C344&sr=8-3","Description":"","Warranty":"1 Year ","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64GB Starry Purple","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64GB Nebula Red,","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 64G Sparkle Black","Price":12999,"Offer Price":8999,"Stock":8,"Product Image URL":"https://amzn.in/d/062nKLC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB STARRY PURPLE","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB NEBULA RED","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3X 5G","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB SPARKLE BLACK","Price":13999,"Offer Price":9999,"Stock":8,"Product Image URL":"https://amzn.in/d/iycJc5f","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 5G ","Specs (RAM/ROM/Display/etc)":"A3 5G 6GB 128GB NEBULA RED ","Price":19999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://amzn.in/d/755XU2A","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 5G ","Specs (RAM/ROM/Display/etc)":"A3 5G 6GB 128GB OCEAN BLUE","Price":19999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://amzn.in/d/755XU2A","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 128GB MOONLIGHT PURPLE","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/2BoF2CG","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 128GB STARRY BLACK","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://amzn.in/d/2BoF2CG","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 256GB MOONLIGHT PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://amzn.in/d/dfdKHeC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A3 PRO","Specs (RAM/ROM/Display/etc)":"A3PRO 5G 8GB 256GB STARRY BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://amzn.in/d/dfdKHeC","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 128GB MOCHA BROWN","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://amzn.in/d/i5LqBce","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 128GB FEATHER BLUE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://amzn.in/d/i5LqBce","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 256GB MOCHA BROWN","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://amzn.in/d/gqq4yKH","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"A5 PRO","Specs (RAM/ROM/Display/etc)":"A5PRO 5G 8GB 256GB FEATHER BLUE","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://amzn.in/d/gqq4yKH","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 128GB EMERALD GREEN","Price":26999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://amzn.in/d/dc49bBv","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 128GB ORANGE","Price":26999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://amzn.in/d/dc49bBv","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 256GB EMERALD GREEN","Price":28999,"Offer Price":22999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 5G 8GB 256GB ORANGE","Price":28999,"Offer Price":22999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 128GB MIDNIGHT NAVY","Price":32999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/6HcjLXy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 128GB DUSK PINK","Price":32999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/6HcjLXy","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 256GB MIDNIGHT NAVY","Price":34999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/aTDjwgE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F27","Specs (RAM/ROM/Display/etc)":"F27 PRO+ 5G 8GB 256GB DUSK PINK","Price":34999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/aTDjwgE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 128GB SOLID PURPLE","Price":28999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://amzn.in/d/9hGCEnz","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29 ","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 128GB GLACIER BLUE","Price":28999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://amzn.in/d/9hGCEnz","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 256GB SOLID PURPLE","Price":30999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/2NiO8cp","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 5G 8GB 256GB GLACIER BLUE","Price":30999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://amzn.in/d/2NiO8cp","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 128GB GRANITE BLACK","Price":32999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/2VU32WF","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 128GB MARBLE WHITE","Price":32999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://amzn.in/d/2VU32WF","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 256GB GRANITE BLACK","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://amzn.in/d/6U5seOn","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 8GB 256GB MARBLE WHITE","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://amzn.in/d/6U5seOn","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29 ","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 12GB 256GB GRANITE BLACK","Price":36999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://amzn.in/d/0rCw1Dr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"F29","Specs (RAM/ROM/Display/etc)":"F29 PRO 5G 12GB 256GB MARBLE WHITE","Price":36999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://amzn.in/d/0rCw1Dr","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 5G 8GB 256GB MATTE BROWN","Price":43999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Matte-Brown-256/dp/B0DB6B6NB6/ref=sr_1_2?crid=1UJ8PCRATL089&dib=eyJ2IjoiMSJ9.y2Q0sXcnUDRAgK7QkzLbsGNuYYbgJrwbYJ-X3ZZQSVS1cPhFABptWd3fiEx0ZuML9Da3IsiBQyFLV6m_Cb3OX6x5aHeiFp1ikZKSqiguRWF-z1MM_Flunkw4ycAs8hxsDoHDSuL5iyiHAof-XJFbQU6-bjn5rd2xHi3qQSSQV43IiOSH7zBWykQjDIhy8MvqJBv4gdbKZQQiGbyEtS391UPy72WkOFf7gjmcZ_TEbXM.-Im1Yt63CiFNrpJkmB1ovACbJBluFvMq9E2QtExFlzI&dib_tag=se&keywords=reno+12+5g&qid=1745834723&sprefix=RENO+12%2Caps%2C272&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 5G 8GB 256GB SUNSET PEACH","Price":43999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Matte-Brown-256/dp/B0DB6B6NB6/ref=sr_1_2?crid=1UJ8PCRATL089&dib=eyJ2IjoiMSJ9.y2Q0sXcnUDRAgK7QkzLbsGNuYYbgJrwbYJ-X3ZZQSVS1cPhFABptWd3fiEx0ZuML9Da3IsiBQyFLV6m_Cb3OX6x5aHeiFp1ikZKSqiguRWF-z1MM_Flunkw4ycAs8hxsDoHDSuL5iyiHAof-XJFbQU6-bjn5rd2xHi3qQSSQV43IiOSH7zBWykQjDIhy8MvqJBv4gdbKZQQiGbyEtS391UPy72WkOFf7gjmcZ_TEbXM.-Im1Yt63CiFNrpJkmB1ovACbJBluFvMq9E2QtExFlzI&dib_tag=se&keywords=reno+12+5g&qid=1745834723&sprefix=RENO+12%2Caps%2C272&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB SPACE BROWN","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB SUNSET GOLD","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB MANISH MALHOTRA","Price":51999,"Offer Price":38999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9C5JZCT/ref=sr_1_3?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 512GB SPACE BROWN ","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 512GB SUNSET GOLD","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO12","Specs (RAM/ROM/Display/etc)":"RENO12 PRO 5G 12GB 256GB MANISH MALHOTRA","Price":55999,"Offer Price":40999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno-Pro-Sunset-Gold/dp/B0D9KMH6QN/ref=sr_1_1?crid=2DIJGQTELPXXR&dib=eyJ2IjoiMSJ9.vxzhTWwVy7Jd_L0l_mSVfpRCC2btho_a8N5n_QjCV9lfdSXQjbS1_G8PDUOOduJtTdCeiITtaPKiGJONcpZghv1sEIXOpmxSU6H9aEP9_GMiSdkmFYLgdt25gSUTCq3lggeetr9a0iMacfiKx371YdaBRPjA_JaU_Gfw2cki6EZRn6oVqC7kz7Ugv_XBnXGZu2eIZz3WM45u0moJD3qRy3RALpWsni5k8tO39jm5eII.Z3PzF5Oh3agj6RfQ97_sTpFugZnd0uOijGzKnIYP6BU&dib_tag=se&keywords=reno+12+PRO+5g&qid=1745834771&sprefix=reno+12+pro+5g%2Caps%2C279&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB LUMINOUS BLUE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB IVORY WHITE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 128GB SKY BLUE","Price":41999,"Offer Price":37999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Storage-Additional-Exchange/dp/B0DSQ85794/ref=sr_1_2?crid=1TN2HPEBBSJAX&dib=eyJ2IjoiMSJ9.YEVtOf6-OCin_Qt9vSrfPuOO9exKb2tQUSDqjK7tzNNHccg6-r9yLf_rdRPDFQRsjOJMx0LLEcSEfizCSJBmO6oZ1Wv0kKrgHlmVqNf_bY8_YwoKTG5FAJQ58MLFighqFL-fIqHSarJWQNuHK844gNBCb4oLw4ercso3Ds_60vV7Oaf1N6gacXJDpoQuiKFD5lTmwEzB3FxAtwG-WxiicI_-SiFXXAYW1032DDWGNy4.VzfIWIk2lv7N2_SnsGmbgr2PqPaVDwU1vt1GMbAiuyg&dib_tag=se&keywords=oppo%2Breno%2B13%2Bpro%2B5%2Bg%2B8%2B128&nsdOptOutParam=true&qid=1745834974&sprefix=reno%2B13%2B128%2Caps%2C278&sr=8-2&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB LUMINOUS BLUE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB IVORY WHITE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 8GB 256GB SKY BLUE","Price":43999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Reno13-Luminous-Blue-256/dp/B0DST7WTKF/ref=sr_1_1_sspa?crid=39902KQBY0FC4&dib=eyJ2IjoiMSJ9.lZP1-1c4-fBbdAktfFFMH3Zx-wQsGnbl-voC0LcQiA2uR13cIxymo_DgnBnwUIZNGjwKKXI4nDQo3rT0qu2S-TPQIt-G2_T9uXalx4iSp2uevaaEzEbIUw_dEADf_NAokg_7SHliFafwICzpsZFqYI97v1AKumq8B9PCxMk6Ty_ApOf51HXqEanUMsf5_G134If66GKlD1t2BFgAaN6xdTm3P1yZsJU3bMmElajwwAo.WF3cto08RZT01sSR8ggaqzwiY_JW8nq6ADvIDC7u1MU&dib_tag=se&keywords=reno%2B13&qid=1745834902&sprefix=reno%2B13%2Caps%2C315&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB LUMINOUS BLUE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"REBO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB IVORY WHITE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 5G 12GB 256GB SKY BLUE","Price":47999,"Offer Price":43999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_1?crid=1YU59HZMGAR7&dib=eyJ2IjoiMSJ9.fYv6UI8ymCqyaHYcMuxzKboPhyQL857NycZ6ZrDMqDlo8DXDtnAmZlf9RK0pRpPYsI-nVTY1DiAAR52iXmZslbrqo9PNV1pORTTGrG2Oo6kJ3cTsmtfEsccKwxZwcGUSubWoAng_SbobmP2Xe2fdk-82x2H3HglN4A7FWJWJzBLCkItImlxT3ltkXx_0qme65mG7kKTfG1_X278UJka9NGW2rrMKBiVVUT6vGlKf8qc.a7wa4IAEle-9AN-iktpnLvAz5KoaEcKGcChxU44bN98&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+256&nsdOptOutParam=true&qid=1745835021&sprefix=oppo+reno+13+pro+5%2Bg++12%2Caps%2C260&sr=8-1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 256GB GRAPHITE GREY","Price":54999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_7?crid=2VDP7ZPPYAQ1W&dib=eyJ2IjoiMSJ9.2qu2XugoNPEtwec2lgM2XbDpBS4KMuFDgMBxGzbtOZkDqbm2GUGcTK2gg711EbPgCQb4dSee59XwHkEI-NmrYfhWDPck9v9EPXATHFkMaRK1a7nmTzi91a3yaLh1j7VKcVq27gCL7cY7snzRC35cC4Ktm1GTjWIiO2_Gu4QSEJBX5dqryjky2IXHwy9YX40qKoKY88TnY6C9EVeMmUmNswq6T4d6mu2LP3BTfPvQXsI.dIU6wc1uLmcBCx8RS6qUVXnW_tceZ77bd41-9xNPvV0&dib_tag=se&keywords=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256&nsdOptOutParam=true&qid=1745835054&sprefix=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256%2Caps%2C253&sr=8-7&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 256GB MIST LAVENDER","Price":54999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13-Pro-Graphite-Grey/dp/B0DSQ7ZJKT/ref=sr_1_7?crid=2VDP7ZPPYAQ1W&dib=eyJ2IjoiMSJ9.2qu2XugoNPEtwec2lgM2XbDpBS4KMuFDgMBxGzbtOZkDqbm2GUGcTK2gg711EbPgCQb4dSee59XwHkEI-NmrYfhWDPck9v9EPXATHFkMaRK1a7nmTzi91a3yaLh1j7VKcVq27gCL7cY7snzRC35cC4Ktm1GTjWIiO2_Gu4QSEJBX5dqryjky2IXHwy9YX40qKoKY88TnY6C9EVeMmUmNswq6T4d6mu2LP3BTfPvQXsI.dIU6wc1uLmcBCx8RS6qUVXnW_tceZ77bd41-9xNPvV0&dib_tag=se&keywords=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256&nsdOptOutParam=true&qid=1745835054&sprefix=oppo%2Breno%2B13%2B5%2Bg%2B12%2B256%2Caps%2C253&sr=8-7&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 512GB GRAPHITE GREY","Price":60999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13Pro-Graphite-512GB-Storage/dp/B0F1G42K9M/ref=sr_1_2?crid=2Q2DDQ61CZYUA&dib=eyJ2IjoiMSJ9.-KxNQlDd7hGyxFotD4xbNZRvhX2rDf_gdqRd0fdOawkVdc_tIqSrpNaPdrecxNxACE4b17ElijRjh8QpeaKt-kSyIiCerNIiWYDHm1vZCQL-dgDzhxkXjiGcpp-6KqY8S6OR2remDtZLn2v3DFEvmjypnMq9OSvCo3IcsvuDfZwwN1weDnM4LvOstaQlc7sHZHIT4eiUHNh71gGCCZrWBLqkp0eyNUnLj4xpry05GJs.J3unGvTLOxfoVRM7QAI8h9X0U9rAbVoT6CfRqPdWayk&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+512&nsdOptOutParam=true&qid=1745835097&sprefix=oppo+reno+13+5%2Bg+12+512%2Caps%2C347&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"RENO13","Specs (RAM/ROM/Display/etc)":"RENO13 PRO 5G 12GB 512GB MIST LAVENDER","Price":60999,"Offer Price":54999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Reno13Pro-Graphite-512GB-Storage/dp/B0F1G42K9M/ref=sr_1_2?crid=2Q2DDQ61CZYUA&dib=eyJ2IjoiMSJ9.-KxNQlDd7hGyxFotD4xbNZRvhX2rDf_gdqRd0fdOawkVdc_tIqSrpNaPdrecxNxACE4b17ElijRjh8QpeaKt-kSyIiCerNIiWYDHm1vZCQL-dgDzhxkXjiGcpp-6KqY8S6OR2remDtZLn2v3DFEvmjypnMq9OSvCo3IcsvuDfZwwN1weDnM4LvOstaQlc7sHZHIT4eiUHNh71gGCCZrWBLqkp0eyNUnLj4xpry05GJs.J3unGvTLOxfoVRM7QAI8h9X0U9rAbVoT6CfRqPdWayk&dib_tag=se&keywords=oppo+reno+13+pro+5%2Bg+12+512&nsdOptOutParam=true&qid=1745835097&sprefix=oppo+reno+13+5%2Bg+12+512%2Caps%2C347&sr=8-2","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"N3 FLIP","Specs (RAM/ROM/Display/etc)":"FIND N3 FLIP 5G 12GB 256GB CREAM GOLD","Price":99999,"Offer Price":85999,"Stock":8,"Product Image URL":"skip","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB MIDNIGHT VIOLET","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB BOX FEATHER PINK","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 6GB 128GB BREEZE BLUE","Price":16999,"Offer Price":12999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-K12x-SUPERVOOC-Charger-Breeze/dp/B0DHCXDHWQ/ref=sr_1_3?crid=29D0C2CIHBTV8&dib=eyJ2IjoiMSJ9.-DWsWAAYVLjnaJhV328r_IZFn0LbyAx9DUD8ZLdtt4CdC1LzTjCnUB2-PB7p3WLjUvW1vEwfDRUnGZzvQ1ePhz56_zMthYjaK3nZQ_Dms_VEHRxyYZwkAkgSUcFIUStv8NBxt129tedzjAUCQId6xMUVbjDks_K6CxZ3Sj4PoiyDpMaYT2uXtj3lRjTdeOX4z4um-aO4M-vzwrIzWoMPJ8l66m3UPE6d4Csfd0FPSOw.qbvFO0Hi6ryXvJsqSMjsFg0_zyCeNP1VS3lfD1ic97M&dib_tag=se&keywords=oppo+k12+x+6+128+5g+mobile+phone+2024+new&nsdOptOutParam=true&qid=1745924126&sprefix=k12+x+oppo+5g+6%2Caps%2C250&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB MIDNIGHT VIOLET","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB BOX FEATHER PINK","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"K12X","Specs (RAM/ROM/Display/etc)":"K12X 5G 8GB 256GB BREEZE BLUE","Price":20999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.oppo.com/in/product/oppo-k13-5g.P.P1110064?utm_source=google&utm_medium=cpc&utm_campaign=OPPO-Publicis-IN_EN-OPPO_K13_5G-Sustain-All-CPC-Search_Exact-20250414--Intent-Conversions&gad_source=1&gbraid=0AAAAAptvrE49TTmWXbwsuzt3lKUsPzTkt&gclid=EAIaIQobChMI4fulmr_6jAMVrBCDAx2BWBc6EAAYASAAEgJTR_D_BwE","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 12GB 256GB STAR GREY","Price":69999,"Offer Price":69999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 12GB 256GB SPACE BLACK","Price":69999,"Offer Price":69999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 16GB 512GB STAR GREY","Price":74999,"Offer Price":79999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 5G 16GB 512GB SPACE BLACK","Price":74999,"Offer Price":79999,"Stock":8,"Product Image URL":"https://www.amazon.in/Oppo-Find-Star-Grey-256/dp/B0DPT96ZMB/ref=sr_1_3?crid=XV0BK65TJZC0&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923974&sprefix=oppo+find+x8%2Caps%2C260&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"OPPO ","Model Name":"FIND X8","Specs (RAM/ROM/Display/etc)":"FIND X8 PRO 5G 16GB 512GB SPACE BLACK","Price":109999,"Offer Price":94999,"Stock":8,"Product Image URL":"https://www.amazon.in/OPPO-Find-X8-Pro-Smartphone/dp/B0DMP3T6QW/ref=sr_1_4?crid=UO8ZQI92KJ4I&dib=eyJ2IjoiMSJ9.nHLZpbqCinBzx5d216OyXCjl0uhcb93vmXBFt5Lw9x1CcUeGlZ_NyB3ra2xOLk9Or-Xpnx8xJ8fAGTokoK_OsGzVu6eKy76k0YYJ5tNApZE_fYE8ig5U1l-K1zroYZ3Yr32jok9-tsL9TAwNyqwzG4tJhHQjbO605XCoDcsUYAdQEHlcFVTTYEcyv8likId62uaIBtrtScwWER910wuZJpybJ7iDevvjMjvGwQqJtOk.1K2V9MhYQujcXnvxVN3kMe2l9OKCFYy-8gaBG75JSFo&dib_tag=se&keywords=oppo+find+x8&nsdOptOutParam=true&qid=1745923941&sprefix=oppo+find+x%2Caps%2C254&sr=8-4","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 64GB VINTAGE RED","Price":14999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXKLJMQ3/ref=sr_1_3?crid=1LU9QHNWWXX52&dib=eyJ2IjoiMSJ9.JpotSLR7d0mUdhyXZz5m5ra377_dR4Mx59SUnY8CTXXV7jhnG5qLmmr1HS_S7e5yzxbGk458QSskkXBvtftJHssr6stulMY9t1l_zbkXPc_2oha9vT_iBcDfrbEplMIYuiCzz89AQPf-9DTi6JFxzFVcyHXb5M7oT8UY0tgBDfkzGyhCLq-s2jhlHhzaVFS0sLDsWpEmBUwe7k452llvv82HiJ3w2XEG0__TjCIOZA4.T1CgaMCVhn57Jxz3t9miItHhfzPmsFlhMQ8PyRmS7Vs&dib_tag=se&keywords=y28e&qid=1745924327&sprefix=y28%2Caps%2C246&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 64GB BREEZE GREEN","Price":14999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXKLJMQ3/ref=sr_1_3?crid=1LU9QHNWWXX52&dib=eyJ2IjoiMSJ9.JpotSLR7d0mUdhyXZz5m5ra377_dR4Mx59SUnY8CTXXV7jhnG5qLmmr1HS_S7e5yzxbGk458QSskkXBvtftJHssr6stulMY9t1l_zbkXPc_2oha9vT_iBcDfrbEplMIYuiCzz89AQPf-9DTi6JFxzFVcyHXb5M7oT8UY0tgBDfkzGyhCLq-s2jhlHhzaVFS0sLDsWpEmBUwe7k452llvv82HiJ3w2XEG0__TjCIOZA4.T1CgaMCVhn57Jxz3t9miItHhfzPmsFlhMQ8PyRmS7Vs&dib_tag=se&keywords=y28e&qid=1745924327&sprefix=y28%2Caps%2C246&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 128GB VINTAGE RED","Price":15999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXK9MCQ1/ref=sr_1_3?crid=Q0HOPL0A66WE&dib=eyJ2IjoiMSJ9.DJCibWaOc7C6Rlu9LBAGE1_cCNUbxIlZYY83dfdJr7HFS7nfs1XobN6M5e6z0GBpqn6rYrHhXTkrSiFJNser2Gldhr74xA6gu-5j44xpvxVdzjL0LJRt5SwL7jyMPpK3FcKIzzj7ljYHWGUIb8BjGu3Tm5iMlzGBhHfH1uOd4uOPQadttlLik-cjehSMaL0ehVqy9ZLrLS6Uz6WEzZSRHDM2plpeaINSiSmMCocPtvY.YoJRp9Saezlbr-6vScem2gDEL1O0ekpNiu6R7k7G7x8&dib_tag=se&keywords=y28e+128gb&qid=1745924389&sprefix=y28e+128gb%2Caps%2C270&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y28","Specs (RAM/ROM/Display/etc)":"Y28E 5G 4GB 128GB BREEZE GREEN","Price":15999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Vintage-Storage-Additional-Exchange-Charger/dp/B0DXK9MCQ1/ref=sr_1_3?crid=Q0HOPL0A66WE&dib=eyJ2IjoiMSJ9.DJCibWaOc7C6Rlu9LBAGE1_cCNUbxIlZYY83dfdJr7HFS7nfs1XobN6M5e6z0GBpqn6rYrHhXTkrSiFJNser2Gldhr74xA6gu-5j44xpvxVdzjL0LJRt5SwL7jyMPpK3FcKIzzj7ljYHWGUIb8BjGu3Tm5iMlzGBhHfH1uOd4uOPQadttlLik-cjehSMaL0ehVqy9ZLrLS6Uz6WEzZSRHDM2plpeaINSiSmMCocPtvY.YoJRp9Saezlbr-6vScem2gDEL1O0ekpNiu6R7k7G7x8&dib_tag=se&keywords=y28e+128gb&qid=1745924389&sprefix=y28e+128gb%2Caps%2C270&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB GLACIER BLUE","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WGPJWQL/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB DAIMOND BLACK","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WHQQW74/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 4GB 128GB TITANIUM GOLD","Price":16499,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/dp/B07WGN696J/ref=twister_B0DV5DC7S5?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB GLACIER BLUE ","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB DAIMOND BLUE ","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WHQQW74?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 6GB 128GB TITANIUM GOLD","Price":17999,"Offer Price":15499,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGN696J?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB GLACIER BLUE ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB DAIMOND BLACK","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGPJWQL?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 128GB TITANIUM GOLD ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.amazon.in/Y29-Glacier-Storage-Additional-Exchange/dp/B07WGN696J?th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB GLACIER BLUE","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-glacier-blue-128-gb/p/itm2795be01d3dcc?pid=MOBH7JWEHAMNY6EF&lid=LSTMOBH7JWEHAMNY6EFZHI79Y&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&sattr[]=ram&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB DAIMOND BLUE","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-diamond-black-256-gb/p/itm2795be01d3dcc?pid=MOBH7JWEGA52DYYD","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y29","Specs (RAM/ROM/Display/etc)":"Y29 5G 8GB 256GB TITANIUM GOLD ","Price":25999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y29-5g-titanium-gold-256-gb/p/itm2795be01d3dcc?pid=MOBH7JWECZBYZMHQ&lid=LSTMOBH7JWECZBYZMHQRD1OG4&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&sattr[]=ram&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 128GB LOTUS PURPLE","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-lotus-purple-128-gb/p/itm378912b5322d2?pid=MOBHAFRHXZFXDW93&lid=LSTMOBHAFRHXZFXDW93S66GZD&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 128GB OCEAN BLUE ","Price":21999,"Offer Price":16999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-ocean-blue-128-gb/p/itm378912b5322d2?pid=MOBHAFRHRRDYUQ5E&lid=LSTMOBHAFRHRRDYUQ5ETUDQUN&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 256GB LOTUS PURPLE","Price":23999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-lotus-purple-256-gb/p/itm378912b5322d2?pid=MOBHAFRHAZFHYHX6&lid=LSTMOBHAFRHAZFHYHX6T7IVDT&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"Y39","Specs (RAM/ROM/Display/etc)":"Y39 5G 8GB 256GB OCEAB BLUE ","Price":23999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-y39-5g-ocean-blue-256-gb/p/itm378912b5322d2?pid=MOBHAFRH2N5SH35X&lid=LSTMOBHAFRH2N5SH35XAN2S7H&marketplace=FLIPKART","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 12GB 256GB COSMOS BLACK","Price":71999,"Offer Price":65999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-natural-green-256-gb/p/itm8a4d46ac97f57?pid=MOBH7443UHDKDZRJ&lid=LSTMOBH7443UHDKDZRJQ02NKQ&marketplace=FLIPKART&q=vivo+x200&store=tyy%2F4io&srno=s_1_1&otracker=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&otracker1=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&fm=search-autosuggest&iid=fabdbf7e-cd04-4c02-8c60-5c95702556dc.MOBH7443UHDKDZRJ.SEARCH&ppt=sp&ppn=sp&ssid=03n38y2z400000001745925602702&qH=260782e1c82122f0","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 12GB 256GB NATURAL GREEN","Price":71999,"Offer Price":65999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-natural-green-256-gb/p/itm8a4d46ac97f57?pid=MOBH7443UHDKDZRJ&lid=LSTMOBH7443UHDKDZRJQ02NKQ&marketplace=FLIPKART&q=vivo+x200&store=tyy%2F4io&srno=s_1_1&otracker=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&otracker1=AS_Query_OrganicAutoSuggest_3_4_na_na_ps&fm=search-autosuggest&iid=fabdbf7e-cd04-4c02-8c60-5c95702556dc.MOBH7443UHDKDZRJ.SEARCH&ppt=sp&ppn=sp&ssid=03n38y2z400000001745925602702&qH=260782e1c82122f0","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 16GB 512GB COSMOS BLACK","Price":71999,"Offer Price":78999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-cosmos-black-512-gb/p/itm8a4d46ac97f57?pid=MOBH7443NCRZ7TVZ&lid=LSTMOBH7443NCRZ7TVZJ0DZIC&marketplace=FLIPKART&q=vivo%20x200&sattr[]=color&sattr[]=storage&sattr[]=ram&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 5G 16GB 512GB NATURAL GREEN ","Price":71999,"Offer Price":78999,"Stock":8,"Product Image URL":"https://www.flipkart.com/vivo-x200-5g-cosmos-black-512-gb/p/itm8a4d46ac97f57?pid=MOBH7443NCRZ7TVZ&lid=LSTMOBH7443NCRZ7TVZJ0DZIC&marketplace=FLIPKART&q=vivo%20x200&sattr[]=color&sattr[]=storage&sattr[]=ram&st=storage","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 PRO 5G 16GB 512GB TITANIUM GREY","Price":94999,"Offer Price":99999,"Stock":8,"Product Image URL":"https://www.amazon.in/Titanium-Storage-Additional-Exchange-Offers/dp/B07WDJMX16/ref=sr_1_3?adgrpid=60072919918&dib=eyJ2IjoiMSJ9.RW_o5BJcY4Y9WG3FGpJDNVjBJdyUcw7FDDpBFarvvl_CwAOXF32vc0-_TE4SIYqIBeA9rEImuw2LszxnbTV5v_xhRZE8gVeCIiR3V6zFaE6EI5NS0JuQ_wgnUT9ilu4wf2-N-AwEQ5JthbYcmRq91zing97Ce6ZjwbZaLudIfJHU5k_7gMYB_aMmkGxZVBO-4XxxKruXgZDVc3kMjlUF56xoJ0MzHddEj_2uclwenWo.CziC5rnovpcQJEE8dII9493X359qZGNFh-mJhPgGcNM&dib_tag=se&ext_vrnc=hi&hvadid=398121804443&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=332903811455969308&hvtargid=kwd-26725506&hydadcr=29298_1997155&keywords=x200&mcid=11cb2b0deaba3791986742ae26d5ff51&qid=1745925176&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"VIVO","Model Name":"X200","Specs (RAM/ROM/Display/etc)":"X200 PRO 5G 16GB 516GB COSMOS BLACK","Price":94999,"Offer Price":99999,"Stock":8,"Product Image URL":"https://www.amazon.in/Titanium-Storage-Additional-Exchange-Offers/dp/B07WDJMX16/ref=sr_1_3?adgrpid=60072919918&dib=eyJ2IjoiMSJ9.RW_o5BJcY4Y9WG3FGpJDNVjBJdyUcw7FDDpBFarvvl_CwAOXF32vc0-_TE4SIYqIBeA9rEImuw2LszxnbTV5v_xhRZE8gVeCIiR3V6zFaE6EI5NS0JuQ_wgnUT9ilu4wf2-N-AwEQ5JthbYcmRq91zing97Ce6ZjwbZaLudIfJHU5k_7gMYB_aMmkGxZVBO-4XxxKruXgZDVc3kMjlUF56xoJ0MzHddEj_2uclwenWo.CziC5rnovpcQJEE8dII9493X359qZGNFh-mJhPgGcNM&dib_tag=se&ext_vrnc=hi&hvadid=398121804443&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=332903811455969308&hvtargid=kwd-26725506&hydadcr=29298_1997155&keywords=x200&mcid=11cb2b0deaba3791986742ae26d5ff51&qid=1745925176&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB MIDNIGHT BLACK","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB MOONLIGHT WHITE","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 3GB 64GB AURORA  GREEN","Price":7499,"Offer Price":6699,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VYHPY/ref=sr_1_3?adgrpid=165138821242&dib=eyJ2IjoiMSJ9.TasSAds_7KXoYgEz6dK6JGEspxstFFNwY04GcYPzPHJyCbSQg3Se9OVdKs7q3XgwvfoAG0mNbSDDqEB2oTPzeI3lrhepIdsW1kOGL01qaGIO3QzVgsB6cbBIJSwA_P_ATDRb5arrV3XlfcFRiZDiuB2pIwT429BBKMNtH8zrybxx1a0cR_Nzou_I4eAwUV0dS5i79XfXZjYOAaIGyOLpwzROpje4ZFee3rUZQLaKrvM.PmyFSNl489quYAW2R38fXAsEThoYJOtZ5fNOxK586G8&dib_tag=se&gad_source=1&hvadid=702463339610&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=4046545522301404915&hvtargid=kwd-886097154601&hydadcr=26417_2636097&keywords=mi+a3x&mcid=866906ee6dc330c0a482e8a3f2e1d0b1&nsdOptOutParam=true&qid=1745925722&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB MIDNIGHT BLACK","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VSVGS/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi+a3x+4%2F64&qid=1745925755&sprefix=mi+a3x+%2Caps%2C304&sr=8-9","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128G MOONLIGHT WHITE","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VSVGS/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi+a3x+4%2F64&qid=1745925755&sprefix=mi+a3x+%2Caps%2C304&sr=8-9","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A3X","Specs (RAM/ROM/Display/etc)":"A3X 4G 4GB 128GB AURORA GREEN","Price":8499,"Offer Price":7499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Storage-Powerful-Processor/dp/B0D78VJQ93/ref=sr_1_9?crid=29TCJU09182L1&dib=eyJ2IjoiMSJ9.4wTMmCdYM8R8ZWh1wYev7uE2FsuBZ4V87dT8EsuWBFJ9Ehki-QNdvpUwoVREmg8x0qT4vFIEVJbfmMGOQ05qIESMRjTZUBhFC7EyjtGzH6VHkgiuGtAdDXweq1XdYkAg2_pECSzMFTJs-iHbSsLiQXLIZTA6YxWg2NPw3ntvwLf8XZfhJJIWO-5Mj-DPgRBX6WocuanWgwAsfw5mfmq1BDBFeq-uNH0X7A1I0HfGMnE.IF7lYV4nuMxboNpxs7WNDDClbNRnh-_4RR4x7gRPCxk&dib_tag=se&keywords=mi%2Ba3x%2B4%2F64&qid=1745925755&sprefix=mi%2Ba3x%2B%2Caps%2C304&sr=8-9&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 64GB SPARKLE PURPLE","Price":10999,"Offer Price":8499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 64GB STARRY BLACK","Price":10999,"Offer Price":8499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW1L5PR/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 128GB SPARKLE PURPLE","Price":11999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI A4","Specs (RAM/ROM/Display/etc)":"A4 5G 4GB 128GB STARRY BLACK ","Price":11999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-A4-5G-Sparkle-Charging/dp/B0DLW427YG/ref=sr_1_3?crid=1S39BBKJ9DM0O&dib=eyJ2IjoiMSJ9.jWPCFXSGwJg78ri23mjPIGn26OhR4czZV6tRE-q9fll_NSm6f2mLX5UZBTqoM756cf97uVA3lgpIqq_zzVoZZOo6F3qJdEGJwzW_pEjkDfTZJMXF7vCpNoHvDrhpuX3zF_SKtH_EOvoV16uONVIne-TsTHRA97l-ihUhjrGKxgQyxqknbdemYEgCekCHOB3RErxclI6u7SakhvGbB4_ctn5hs79vtwvc2M1Lzffl_EQ.PgBI-3dmkZJMq8MlqZMFmRya_7jOLL0xKErYikE7l7A&dib_tag=se&keywords=mi%2Ba4&qid=1745925979&sprefix=mi%2Ba%2Caps%2C343&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB BLACK","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB GREEN","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 4GB 128GB SILVER","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVG5/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB BLACK ","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX7BZ7R/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB GREEN","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 6GB 128GB SILVER","Price":15999,"Offer Price":11999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB BLACK","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB GREEN","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13C 5G 8GB 256GB SILVER","Price":18999,"Offer Price":14999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Starlight-Storage-MediaTek-Dimensity/dp/B0CNX6WVZF/ref=sr_1_1?crid=23CXY1OYTIWWL&dib=eyJ2IjoiMSJ9.Gi_Yp1ZQyW9sObjGAzJn4xNCaYnKlw4F78X-2JPSlXmDPs9p1ImYqyd2efYoAGAedq3YbTFMx-u9q52WPl2Rlj1bI-mcm01o3uDyVWz5OrmoglIHR9kxeGFEihCcICkNT7snJRznoeSqaVtifPDRDYpLq--u6_00xj1vuGFgVdXRCnmQ5hJt1nW5ye-BkLbLXWEhypgnDONGajCQL0mXntD_jhutjjDScUfBg5x89J8.bGGbXf0uB8c_mMfNHPXQW2ioEvaGE1Lnnwo58-_-b8k&dib_tag=se&keywords=mi%2B13c%2B5g%2B4%2F128&qid=1745926320&sprefix=mi%2B13c%2Caps%2C244&sr=8-1&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB HAWAIIAN BLACK","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB BLACK DAIMOND","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 6GB 128GB ORCHID PINK","Price":17999,"Offer Price":12499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB HAWAIIAH BLACK","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB BLACK DAIMOND","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"13 5G 8GB 128GB ORCHID PINK ","Price":19999,"Offer Price":13999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Orchid-Largest-Display-Segment/dp/B0D78W2HF5/ref=sr_1_1_sspa?crid=TBOQ32SG4OE8&dib=eyJ2IjoiMSJ9.mXRYExX2Y8ml349jgxnJyh7K8l4b6kc8IspYNJqnw_EJTtrHM-73hzrSEn2RhFknE90-z3lII8C_e2YQ3kOm-a65Cb8fe1wcVu8bu6pDjyqlopsPrTtVC5gi7Z_LeK8umYvbagWgeuB8hfD2uHs5Ag2AmdGMWoSE7OXVHWEenl1CjRy3gtlc4DJO9usfr_S4U5LTtLKE39Xhl-1tlfed5EE4s_LspJo14xniB9RaT_M.H5pw-nCe4MhFIUSEdbW4DRVYmhCDwlCIZqPS7D1HqQ8&dib_tag=se&keywords=mi%2B13%2B5g%2B4%2F128&qid=1745926536&sprefix=mi%2B13%2B5g%2B4%2F128%2Caps%2C279&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB ARCTIC WHITE","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB CHROMATIC PURPLE","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB PRISM GOLD","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 6GB 128GB STEALTH BLACK","Price":20999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63995Z4/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB ARCTIC WHITE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB CHROMATIC PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB PRISM GOLD","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 8GB 256GB STEALTH BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D6392VSM/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB ARCTIC WHITE","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB CHROMATIC PURPLE","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB PRISM GOLD","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13 ","Specs (RAM/ROM/Display/etc)":"NOTE 13 5G 12GB 256GB STEALTH BLACK","Price":24999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Chromatic-Purple-256GB-Storage/dp/B0D63F3WCN/ref=sr_1_3?crid=7BJJ9D7AGZDP&dib=eyJ2IjoiMSJ9.A9ojEG7WDVfUbTpVA5AJx-adjvA4p6YuSmleJygHKgVPylihEMRQ6hXEI8gziWllQxxXhfyqk7d-O7ZSHDOf5G_0yxlRs8hb9FrCMFBuzCKAcj26z2nj9SMi9KV27LDoUx5iLSdvgFLaECafwFeR_fuodigPPY_Nyo_rLHiQchjAwQ9k3vKak5KbT7Nsf7BD6lNqgj2bW0bDUSK5GHd58U53kqcRj3OTJpmSoZqlyVw.uhtCgY2M85DKQkYgrwORei77UTmYhF8ExIKQF8dzY1Y&dib_tag=se&keywords=mi%2Bnote%2B13%2B5g&qid=1745926610&sprefix=mki%2Bnote%2B13%2Caps%2C249&sr=8-3&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB MIDNIGHT BLACK","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB AURORA PURPLE","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB OCEAN TEAL","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 128GB OLIVE GREEN","Price":23999,"Offer Price":19999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Midnight-Black-Storage-Without/dp/B0CXXH3D5D/ref=sr_1_6?crid=CBUDO85LL940&dib=eyJ2IjoiMSJ9.ilxCKw_hTfixJ6j1kEPmgEj6neNqA1x6zhzF5GkpQ20mbVGwsUhpDxaUKZ6pKEc3gvNTGY4HBq1ruA2nO9_9ebtgHrQhTeKdI-IZQW3xtkLbYmU-Hj9QefUkgFpJCyuTEjRkSYhrvqBQj8GFGgDKOWlUawQYkdZqlPQMnuKoX9qj9SUDkOQE2AQzEcMsBiDQyUbxJABv5TK9-zctiXuywTXNC7YPMZ8O7roFd52rM4o.g0vEmPIjpcMSmmKY_VoT7t6zfsDcrVWcSWMu_AeUl08&dib_tag=se&keywords=mi+note+13pro+8+128+5g&qid=1745929947&sprefix=mi+note+13pro+8+128+5g%2Caps%2C205&sr=8-6","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB MIDNIGHT BLACK","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB AURORA PURPLE","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB OCEAN TEAL","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 8GB 256GB OLIVE GREEN","Price":26999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Coral-Purple-Storage-Without/dp/B0CXX7XG6H/ref=sr_1_3?crid=1JFHWAVYB13AM&dib=eyJ2IjoiMSJ9.LA9p0ta8zOtrZNSwfRTulXk57YjxbHi6OYJq6NIfAxbWcp08uMV5z9lUX6sCBoCvWixvX9N6r633iCvvSm8HRIyTRhikr0gCLfWv1B6Jw8mVRqFWsJgVMaGYItgw2TEjF_I7GYOyaieTmBEIqUHeXUtRvFeqgqcEsPJdj_KNrPmSPLu9beVOutZzOTWLn121spprcqc9IMMlwKfPzuQ0dpapXmTb4Y5fnwr4A26iKX4.9MOj2BvjA5e_bVJ8rXXu5jdhIG-Q_J2Cbv6QZtqQN2I&dib_tag=se&keywords=mi+note+13pro+8+256+5g&qid=1745929861&sprefix=mi+note+13pro+8+256+5g%2Caps%2C225&sr=8-3","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB MIDNIGHT BLACK","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB AURORA PURPLE","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB OCEAN TEAL","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO 5G 12GB 512GB OLIVE GREEN","Price":29999,"Offer Price":22999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_6?crid=PSROO5TB44EM&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0M3OjctNKtpRcWzBWRf0sVYq-eJ7JEkkeHV36-o95yY98Y9jWDrXOLtJzjLvXZmmkPZgAYGwykBo7tD63aBmUZqxTI6g-favjW7T18wkOMZwrDcpJZRkKc79jI7UCwKc11qEmVD2YEScjpxBmF-xpGAt82-j55nPPYA06e_uNmLiq-tqPkPL2GoZqR24JXw0rwm8mCKltPqIhV8zSoFyMRE.PFFoWAkPmuYk_9BGejAwFEieniiaFGKYN6x88wqJTpw&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B8%2B512&qid=1745930028&sprefix=mi%2Bnote%2B13pro%2B8%2B51%2Caps%2C199&sr=8-6&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB MIDNIGHT BLACK","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB MOONLIGHT WHITE","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 8GB 256GB AURORA PURPLE","Price":32999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ8R766/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi+note+13pro%2B+8+512&qid=1745930098&sprefix=mi+note+13pro%2B+8+512%2Caps%2C207&sr=8-5","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB MIDNIGHT BLACK","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB MOONLIGHT WHITE","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 256GB AURORA PURPLE","Price":34999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"1 Year","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB MIDNIGHT BLACK","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB MOONLIGHT WHIRE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB AURORA PURPLE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 13","Specs (RAM/ROM/Display/etc)":"NOTE 13 PRO+ 5G 12GB 512GB WCE","Price":36999,"Offer Price":28999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Fusion-Black-512GB-Storage/dp/B0CRQ7RH64/ref=sr_1_5?crid=1X16BHPXZSTO3&dib=eyJ2IjoiMSJ9.fjlBrQmWARQ_Gn06M8tI0IV1cnkBxege-HQiJPEyWB_pwDjGZg1PLxRYD2OPOhBNDc9DOEc8xwoHtjbtKNv1Gd2Wa9cln9eJAwaSQmd-KpcuKO7T-qMsKQTNbLxv2lMo0ufMUdDLZ-ZDkVY5aW2jvA9Ew9uwHOul6k5ELOrlPm-LQ7exp2s2WemBZbKw2k80phPvPIypCRNdhuU_OdYtewSetBokTgpWCRpjMkyJ2Is.UHUzfoEzczJFnzawQMZLVCo8Ax-KAgSe_0S2ndZeLE4&dib_tag=se&keywords=mi%2Bnote%2B13pro%2B%2B8%2B512&qid=1745930098&sprefix=mi%2Bnote%2B13pro%2B%2B8%2B512%2Caps%2C207&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARGAZE BLACK","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARDUST PURPLE","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 64GB STARLIGHT BLUE","Price":12999,"Offer Price":9499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DS65KZ8B/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi+14c&qid=1745930255&sprefix=mi+14%2Caps%2C226&sr=8-5","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARGAZE BLACK","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARDUST PURPLE","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 4GB 128GB STARLIGHT BLUE","Price":13999,"Offer Price":10499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV8QJRR/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARGAZE BLACK","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARDUST PURPLE","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"14C 5G 6GB 128GB STARLIGHT BLUE","Price":14999,"Offer Price":11499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Stargaze-Superfast-Snapdragon-Starlight/dp/B0DQV9T66N/ref=sr_1_5?crid=KTEJY7L3P9D9&dib=eyJ2IjoiMSJ9.m_pslXwZy-RytD9BXCl4rXG7mg9Sg4vapIm_dbFzJ6AFljD3NvgvPya9Lrg9vNEVxfiuAXFEgXeUadEGe1G8Kih2PsdlRW3Di8oJHy6XwmqQ4oBfImsQrWdt1ix48VZkSKQEf4JKM04v39Y8z9ErrBEAXaHVOJsmtQEEYAsPmNeHYoXPdfnnKfRvpno3KFuhOi99jS6l0QkLTw2OrWOy-eEcw6DOlhie9vrGX1t3OQI.FDS4luimDP0QC4V0uWi_kRgYx7ueLXiq3CFGcCve0Ic&dib_tag=se&keywords=mi%2B14c&qid=1745930255&sprefix=mi%2B14%2Caps%2C226&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB MYSTIQUE WHITE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB PHANTOM PURPLE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 6GB 128GB TITAN BLACK","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/s?k=mi+note+14&adgrpid=62202479476&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&mcid=d7d348ceab83360ea16b7ddd46afa99a&tag=googinhydr1-21&ref=pd_sl_5x5x47wlx7_e","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB MYSTIQUE WHITE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB PHANTOM PURPLE","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 128GB TITAN BLACK","Price":22999,"Offer Price":18999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFTHDBX/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi+note+14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB MYSTIQUE WHITE ","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB PHANTOM PURPLE","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 5G 8GB 256GB TITAN BLACK","Price":24999,"Offer Price":20999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-5G-Dimensity/dp/B0DPFVDFT3/ref=sr_1_3?adgrpid=62202479476&dib=eyJ2IjoiMSJ9.W0mP-4mRHAFSFChkhNzTq0es7HRjifUruaq6TpZyC1NDZI1mQbIFvW8Jk8ayHH9Cqrin_c36A7RPQqh-s6Wq4E_QaVqXm2-mc-aYsfd_a-XcSe-QamsHjLXBJqqIdqn5KCyHZ8RDoFy4OwF5_omFjrBPSOw_k1x0mJc1cINyLfT9Sh02xvErljNynwWiKJevsQbg92-qFa1X80OKPzw-53oOEUgnTmYA4QIw1-OzkQg.MuRXzaeACfGaqxPa4DoSk-KJSXH-aoGszKCKoRzRa-E&dib_tag=se&ext_vrnc=hi&hvadid=590652575689&hvdev=c&hvlocphy=9062066&hvnetw=g&hvqmt=e&hvrand=2935369478108929447&hvtargid=kwd-798405960169&hydadcr=24573_2265459&keywords=mi%2Bnote%2B14&mcid=d7d348ceab83360ea16b7ddd46afa99a&qid=1745930388&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB IVY GREEN","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB TITAN BLACK","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 128GB PHANTOM PURPLE ","Price":28999,"Offer Price":21999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQVH9QGQ/ref=sr_1_3?crid=3LIZVDA9HFOCP&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjMS2P-LhJM8xtkYpO0cRkojK5pocAaOg6AQJm1NjZ3dRtd4bU0UnH3-pq2n7slu2uTo-IzDAptdSMAH46utjtN80-OOajMPy4Wa7SBk-gq66gWBUj86n7vVp11KYjfEs0jPA9b4CTLMWSSJhTtGPMONZb0WJyr6FMmMIPY7Y6wsidWXQH4SkAUMXM9rZbU6AphaeAAihDrRs6SWFzRtB0mw.KAPGojplfIub-3IW2TBoR3sDt8XbQuHn3Cj-5dp1HIw&dib_tag=se&keywords=mi+note+14+pro+8%2F128&qid=1745930557&sprefix=mi+note+14+pro+128%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB IVY GREEN ","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB TITAN BLACK","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO 5G 8GB 256GB PHANTOM PURPLE","Price":30999,"Offer Price":24499,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-pro-Green-256gb/dp/B0DQFG2MX4/ref=sr_1_2?crid=PLP6WSWC8SXP&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo36NXCYb8GN8FhsInfkdUlQ71xipcR73xtn8wMQ1tK_hNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvMYKMvV2WszPyMAqxiWVuXis-x5G2V5q26y9ogrWsytfYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.i4-Gs6amoagklLVNPq9mTm7jIxvxcuqjHGSIyzMd6uY&dib_tag=se&keywords=NOTE+14+PRO+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930841&sprefix=note+14+pro+5g+8gb+256gb+ivy+green+%2Caps%2C261&sr=8-2","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB PHANTOM PURPLE","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB SPECTRE BLUE ","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 128GB TITAN BLACK","Price":34999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Note-14-Pro-5G-Snapdragon/dp/B0DQPYTJSV/ref=sr_1_5?crid=1AMQHN6A9VWXR&dib=eyJ2IjoiMSJ9.qXOdJax9pgX8kw83XK3BjCSPSZyll-7wpJ3WRbkNyKrhV0uawBEjRd1N_UEqAH_MEZPciKhqw9aNcEu0HCJubJXsDfCmPiANvcK7wILSe6IxNGrnqpUSCcvnHR-E0oXWTP3r_Jt0QLYgYAHKtB1Yzu89CG21Of-GT-H9ZqBZhik404W88GURN_nvjcV3piYo2DhNGTJViWdJ-F-mfiSOWLZUnIaRwm4YS4yJBuggPuQ.THPa_jYJYKqHltKAyfYju6fgaXaWVAI4Yi6Q3hiVQKE&dib_tag=se&keywords=NOTE%2B14%2BPRO%2B%2B%2B5G%2B8GB%2B128gb&qid=1745930984&sprefix=note%2B14%2Bpro%2B%2B%2B5g%2B8gb%2B1328gb%2Caps%2C492&sr=8-5&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB PHANTOM PURPLE","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB SPECTRE BLUE","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 8GB 256GB TITAN BLACK","Price":36999,"Offer Price":32999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-Pro-Spectre-Blue/dp/B0DQQCXTYT/ref=sr_1_8?crid=1RG7MF65OHEQ2&dib=eyJ2IjoiMSJ9.LN7SXUjxmPheA6uF0zghim8vJRyrRPCdqp8u2oXvWkuTNOFXAzoFqTyF5aNROzo3NdBPrlWRpzqw_L1E6w-TWfB_s_0GSKq12TQ3qNzOkeNVpRV95Z3C1EHrN9oqxnoZQi1DDSEEtMWMN0ZxFM_vvKCgRsuEfSZHHG1IR1yJ9-LIUaVQq1zLxiwUOys5v9JFYLj1WEEb-Ca4FFU-vwAu3wLVDZyPoeKxPhaT4TGfMAE.lH7PS_xhgIkRg-b7tBleasVmaQx6YLEZxnM4YSOAjgQ&dib_tag=se&keywords=NOTE+14+PRO+%2B+5G+8GB+256GB+IVY+GREEN&nsdOptOutParam=true&qid=1745930910&sprefix=note+14+pro+%2B+5g+8gb+256gb+ivy+green%2Caps%2C220&sr=8-8","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB PHANTOM PURPLE","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14 ","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB SPECTRE BLUE","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"REDMI 14","Specs (RAM/ROM/Display/etc)":"NOTE 14 PRO+ 5G 12GB 512GB TITAN BLACK","Price":39999,"Offer Price":36999,"Stock":8,"Product Image URL":"https://www.amazon.in/Redmi-Note-14-Pro-5G/dp/B0DQRH4J62/ref=sr_1_3?crid=2YQELFFQUXU9Z&dib=eyJ2IjoiMSJ9.OVCMA1L5IHj2SPdohntgdVu499QIOLSHV0MjWtR15U4aBzOy80K_9kytOWz-fyHQRJAdv2wyyoN_ZlKpap4phL41sOusYFPCVeLp9Zx9DlRKec6Pju6hz2IAM66r7b01t8UrsLgJwx1V0Vu9JZo5fnot46ojX1g3VBj6ng_TM1aAIyPwM-rZ9Ecva9yJg0q3XApFmH5xPQwobAj_tKrg6z2vtZxW9MFWELcqmIYlKRM.ldLKFL_nHWOPHqy4Z7DumZzCoqTqGiWSdMBQmg8kFrA&dib_tag=se&keywords=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom&nsdOptOutParam=true&qid=1745931038&sprefix=redmi+note+14+pro+%2B5g+12gb+ram+and+256+gb+rom%2Caps%2C202&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB SHADOW BLACK","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB MATCHA GREEN","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 8GB 256GB CRUISE BLUE","Price":54999,"Offer Price":39999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D81JPDKX/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi+14+civi&qid=1745931179&sprefix=redmi+14+civi%2Caps%2C511&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB SHADOW BLACK","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB MATCHA GREEN","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB CRUISE BLUE","Price":59999,"Offer Price":49999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Shadow-Black-256GB-Storage/dp/B0D83Q3DT9/ref=sr_1_3?crid=32M03HEMO5BTP&dib=eyJ2IjoiMSJ9.cWK1W3Dzgewlp7InydO95H6lYI8XsOmdjZHwvyx1aPke8ehIun0EXv94C4lTlvRO6WZfaZLWn4DiOmFQFRwid_TxDjGkbkwYw3Dvu89_zvRTIzyBCojWdcDSvVMqWNh7f_ebAniJPTNfR2X75r_6b0H1PRICcl0Vu1dSSaML6fuVhDDBiUcq5Nc5M4hG2dJ6MRMZAR-6GV1kSGhxVfeMwPHRAdD5DwVurkeTOrw13us.1-780xGCwoEFgZbCrdV5Nb6u1-fUljAPINQL6aym2Ls&dib_tag=se&keywords=redmi%2B14%2Bcivi&qid=1745931179&sprefix=redmi%2B14%2Bcivi%2Caps%2C511&sr=8-3&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB PANDA WHITE","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB AQUA BLUE","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 14","Specs (RAM/ROM/Display/etc)":"XIAOMI 14 CIVI 5G 12GB 512GB HOT PINK","Price":54999,"Offer Price":44999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB BLACK","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB GREEN","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 5G 12GB 512GB WHITE","Price":79999,"Offer Price":64999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Triple-Camera-CrystalRes-Dynamic/dp/B0DY7JX8V2/ref=sr_1_11_sspa?crid=QO6NXI5ZQLZ7&dib=eyJ2IjoiMSJ9.ZJOsLsKCEeNXyPA4KDcQ16pgyFPC4rRgs_iWi3tuGt--L2sYmoIxXBWr9S8dqUtlBbZQ-I0TPI-fE444m_H6YiT8Hk0AItcS4OcY0N-4DZMLkVYPDdwHqpZjvP91FkN6Sz0CkX_mISuAr54pSbl7NRTD5tD0zg67qDLEHV-FhGVpiaqnspOzegpXC2HcXWsea_LgjOWx1U2N1WMd-9LiHCVsT2CPywdXA9VMD2xMbag.GRw17XrUvRx9NVg8AA4qK56C2CyPNIdEw1kT7IY0J-8&dib_tag=se&keywords=redmi%2B14%2Bcivi%2Bspecial%2Bedition&qid=1745931273&sprefix=redmi%2B14%2Bcivi%2Bspecial%2Bedition%2Caps%2C371&sr=8-11-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&th=1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"MI","Model Name":"XIAOMI 15","Specs (RAM/ROM/Display/etc)":"XIAOMI 15 ULTRA 5G 16GB 512GB SILVER CHROME","Price":109999,"Offer Price":109999,"Stock":8,"Product Image URL":"https://www.amazon.in/Xiaomi-Silver-Chrome-Leica-Quad-Camera/dp/B0DYV4177R/ref=sr_1_1?crid=27LH747RKSZBR&dib=eyJ2IjoiMSJ9.SIwGDtLsGB9zcjOAi-WPna8OoNbV1ZjtaKLSccrPQif6k-a7td03dhP3WOhN008KS4vh8hANmvookUS0cUg5iV6-PCLkL4rpdJuiEEYiWVHQMPCsCXM-ZnoKYlF_OAQYHwZgSJdqvVGPSdJG15BiboOqwQQVZlXVv2h9tgcvd3ZxSnbj90B5n29NYrkBqwOzS8XT7imDJIbw8dlxLHnWIBaeAAihDrRs6SWFzRtB0mw.VQaPPgmdfe9bipPhcwGiyxfsZTRklcLngChmCZm3Tq8&dib_tag=se&keywords=redmi+15+civi+ultra&qid=1745931336&sprefix=redmi+15+civi+ultra%2Caps%2C204&sr=8-1","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB BLACK","Price":19999,"Offer Price":1999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB LIGHT GREEN","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB BLUE","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 6GB 128GB ORANGE","Price":19999,"Offer Price":15999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D935PW3P/ref=sr_1_4?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB BLACK","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB LIGHT GREEN","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB BLUE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"CMF","Model Name":"PHONE 1","Specs (RAM/ROM/Display/etc)":"CMF PHONE 1 5G 8GB 128GB ORANGE","Price":21999,"Offer Price":17999,"Stock":8,"Product Image URL":"https://www.amazon.in/CMF-NOTHING-Phone-128-Black/dp/B0D93396RT/ref=sr_1_3?crid=2H7PPN3AR4EKM&dib=eyJ2IjoiMSJ9.XpjftAlN_Dnum0QMiGRsXgzDbQZ4Jfo-noqrQGV4k3xCjq43xriGmscdbzMD55vYGj4cdqSiH3fQ4WYcokLe8KfWotU2RH_ELoGjNQrAy3uMEllYp8ZYbuvURV4XnsAM3ihxhtZ6VX1FAdQKm2TIjXwOvGXYckEWTZwjwpwgkpv6Rku7RBMnP1dY8tgU1CM-rcG3lE5ti9L20PLOIcNfAxb5JhN_eSXw8q6rI_hrUo8.SppjOdrDtBPsKN7kem5xdfyabSzBPK4LZ85cT9iVACU&dib_tag=se&keywords=phone+1+5g&qid=1745931403&sprefix=phone+1+%2Caps%2C243&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"","Model Name":"","Specs (RAM/ROM/Display/etc)":"","Price":"","Offer Price":"","Stock":"","Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB BLACK","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB WHITE","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 128GB BLUE","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0CX7G9PZ4/ref=sr_1_3?crid=1X9MCES4BBJTH&dib=eyJ2IjoiMSJ9.YNHx5RSkOHUil0XwT8dHbBOPrDrmG0njdJascKpqa5Cfz8G3zbOODh5sLgZn8NaUrGBBwZ8HgDPcUbE4lM9A0t2Y5OQsV8SmKzxQZfJj-tEx1-BFgp77T07VSXEsPkncnIp_f_Q5mNGAfZxKWALPpG8Mn_XRXVUxCx_Jl8TXsfkGeeJEap0rqQ8ARmxCEWchoEw0mwRmD5pQkUJltkmgDs-99NrE-epZdHYgj6UCe5E.EFegSr1e652iAfeC7Sp8gnHdwXaoyNo8pZy14WlupYw&dib_tag=se&keywords=nothing+2a+phone&qid=1745931511&sprefix=nothing+2a%2Caps%2C245&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB BLACK","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB WHITE","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 8GB 256GB BLUE","Price":27999,"Offer Price":25999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0CX74JKLL/ref=sr_1_3?crid=14DVKFX79IGP2&dib=eyJ2IjoiMSJ9.sRta9l_HVE128q88Gb9RlREug2TtH68iobHQDSyO8C3WUh5s0VP9S_3vtbtrp78yR3PEGIgTfgKMUCWgSmksHzDLlAdYT_A-YhpXhWx4q5ujcWTUUuo_FONLPfCnv2q4Gp6_bAiQg1bbqytbfoj9DAEcqITTQrYEPg9JFxVXPrvB4XUAXlb83AfstMOCO6S40-__4T9iXwdQHH4j8gzP-yMtM6Y5stKCQKocDgG2dq8.g7N21YilD5ew7_S2GPCCQQRQy4tPfzYp8ZG3tjxJaqY&dib_tag=se&keywords=nothing+2a+phone+8gb+256gb&qid=1745931543&sprefix=nothing+2a+phone+8gb+256gb+%2Caps%2C223&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB BLACK","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB WHITE","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) 5G 12GB 256GB BLUE","Price":29999,"Offer Price":27999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Mediatek-Dimensity-Processor-Charging/dp/B0CX745DBN/ref=sr_1_3?crid=2RHN8UISIZEBS&dib=eyJ2IjoiMSJ9.4aa6srt9PGzlNAWQZ4AO2lo6o2E86NxhVsGYIDRe2k2zsPRrFZLdVnG_1TPlWb9afgcjPMTzTcihJCbDLaz7BL2U2otWe9ZLygXgBXiiZ_KOoXw42pWfHG45YwqlECadeYS39CGfeUnAAnqgunClbwqHEPtKCs7svWt-ikOO4zWSHVeiaYEVAbV3QQ2mnTHw9H7D2rzx2iakKWB8AL7lQOby8F01nygnNHG1Fc3Xzds.j_FVIdffxpHRFo5Vy0ZsNakXxqaOvmeHCoAOH2wajTc&dib_tag=se&keywords=nothing+2a+phone+12gb+256gb&qid=1745931577&sprefix=nothing+2a+phone+12gb+256gb%2Caps%2C213&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 8GB 256GB BLACK","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Storage-Dimensity-Processor-Display/dp/B0DC8F2X6T/ref=sr_1_3?crid=KOE3SUWYIDYT&dib=eyJ2IjoiMSJ9.Tpn5Njn9GFpNybo9ccg_g82xFHGR2XAQy3DHQy8KkH4rVc8o-EmMhOlQcHe1Mt68rprcuTRJEXLzdiJ1AOfTvnC2t8Y_4wIscEjoYec43cSeFKA6gQoNQ7mHh46Hm0jJCe6V4-qFK0OKO-HuUqSkMUlk52TuAHywK6F-nMUenVYLTijsMAQ6Iry7A15CVxFv8OftLWtPAv9DrBsycQhyTSniE8-A8gGF0zwXfQ7Rfr4.qUm136bU50fqtqo2Df7qRz4Lu62OVPjisW8bj9gJXyY&dib_tag=se&keywords=nothing+phone+2a+plus+8gb+256gb&qid=1745931637&sprefix=nothing+2a+plus+phone+8gb+256gb%2Caps%2C218&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 8GB 256GB GREY","Price":25999,"Offer Price":23999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Storage-Dimensity-Processor-Display/dp/B0DC8F2X6T/ref=sr_1_3?crid=KOE3SUWYIDYT&dib=eyJ2IjoiMSJ9.Tpn5Njn9GFpNybo9ccg_g82xFHGR2XAQy3DHQy8KkH4rVc8o-EmMhOlQcHe1Mt68rprcuTRJEXLzdiJ1AOfTvnC2t8Y_4wIscEjoYec43cSeFKA6gQoNQ7mHh46Hm0jJCe6V4-qFK0OKO-HuUqSkMUlk52TuAHywK6F-nMUenVYLTijsMAQ6Iry7A15CVxFv8OftLWtPAv9DrBsycQhyTSniE8-A8gGF0zwXfQ7Rfr4.qUm136bU50fqtqo2Df7qRz4Lu62OVPjisW8bj9gJXyY&dib_tag=se&keywords=nothing+phone+2a+plus+8gb+256gb&qid=1745931637&sprefix=nothing+2a+plus+phone+8gb+256gb%2Caps%2C218&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 12GB 256GB BLACK","Price":31999,"Offer Price":29999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"2A ","Specs (RAM/ROM/Display/etc)":"PHONE (2A) PLUS 5G 12GB 256GB GREY","Price":31999,"Offer Price":29999,"Stock":8,"Product Image URL":"","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB BLACK","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB WHITE","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 128GB BLUE","Price":27999,"Offer Price":24999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-128GB-Storage-White/dp/B0DZTMFWDB/ref=sr_1_4?crid=3CDOP5DPH1L5&dib=eyJ2IjoiMSJ9.fcsMhNnv17_jVcK0xQV8XkBhZOjZmJFpWZ83GAqiu7X7HNalqFilP990vdekj9k4vd4Xr1zabPvZ0F2GP9Ad_bA_5fwUpGqFc8q0pvCz6gP14_JhIuIwS_ZeDl9ZDozySL_bQPF5Q0pf8iQ9aewdpi4W5iq5mos0BLCR9aImqcAxZ0F31TK1sv16kGN9zeCpD-H1jvD8M4aQE71vimWHyoVMeD7Zrg8sjdfb1XYPQsg.R85BdFvD3LiLsI92LZDs4ZXUpl35-4uan1ol8fXISSg&dib_tag=se&keywords=nothing+phone+3a+128gb&qid=1745931765&sprefix=nothing+phone+3a+128%2Caps%2C235&sr=8-4","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256G BLACK","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256GB WHITE","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) 5G 8GB 256GB BLUE","Price":29999,"Offer Price":26999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-White-256GB-Storage/dp/B0DZNP1MN3/ref=sr_1_3?crid=358FXWQLKG1NC&dib=eyJ2IjoiMSJ9.k4LDU1LEvT_DhwCVqJxo_Fp1t1pei-sbxX6HSN4wlJTRv-v_-6pvAiViU6_puBym7jeMNPVkX6CN0WJVWl-XM8cy2yde2fL9B3VCoHqtKJttOIr48rRXtYAh-XocoiJFr_NxuEdeAq38NGWyY8zK3WzBMh0nfWQj_anYcaucAb7qSADLfTAvjfSlXqTsvrumFUaKCBno4vmd2L8jvjYJB5G-KDMkxGHyjVYDuKOUIEI.f8p6H3dihCBnD5bGseWYW9-hus65yzY47jLBMhY8mgQ&dib_tag=se&keywords=nothing+phone+3a&qid=1745931735&sprefix=nothing+phone+3a%2Caps%2C309&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 128GB BLACK","Price":32999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0DZTNQKX7/ref=sr_1_3?crid=33SWKWSZ9GTQJ&dib=eyJ2IjoiMSJ9.TxcznIk0GGFd6LoTuw117uqeBtHBzE5TVnLQgqpxugOOjradX5lWQd6M_ulfQT-j7dPRjImSYss0BYOTeHCAlk6luPpDRF90QhVAzgDCVZ-4pDREGFUoIzFjaLE4F1PpWfo5b1scqdiFpPnw4vEFz2_Mt1YejoJbi4SPw8RYLQuJyxM_67B9pmfkrmiPNAU5Tnm740mORECGVeWWtv3z1-5aFgRvhmu2hW86Fdmk2a4.FXvyVABvxZNlV3wmxLDTKmmLbURN6raHSzHTXaVTe2g&dib_tag=se&keywords=nothing+phone+3a+pro+128gb&nsdOptOutParam=true&qid=1745931832&sprefix=nothing+phone+3a+pro+128gb%2Caps%2C214&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 128GB GREY","Price":32999,"Offer Price":29999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-128GB-Storage/dp/B0DZTNQKX7/ref=sr_1_3?crid=33SWKWSZ9GTQJ&dib=eyJ2IjoiMSJ9.TxcznIk0GGFd6LoTuw117uqeBtHBzE5TVnLQgqpxugOOjradX5lWQd6M_ulfQT-j7dPRjImSYss0BYOTeHCAlk6luPpDRF90QhVAzgDCVZ-4pDREGFUoIzFjaLE4F1PpWfo5b1scqdiFpPnw4vEFz2_Mt1YejoJbi4SPw8RYLQuJyxM_67B9pmfkrmiPNAU5Tnm740mORECGVeWWtv3z1-5aFgRvhmu2hW86Fdmk2a4.FXvyVABvxZNlV3wmxLDTKmmLbURN6raHSzHTXaVTe2g&dib_tag=se&keywords=nothing+phone+3a+pro+128gb&nsdOptOutParam=true&qid=1745931832&sprefix=nothing+phone+3a+pro+128gb%2Caps%2C214&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 256GB BLACK","Price":34999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQ44FC/ref=sr_1_3?crid=1JSACW6YXGL4&dib=eyJ2IjoiMSJ9.YG0c3Rre36d_u73AroztUyXT1EtHjc2en2OBGY-uxgXOokQ4x4fPensGGE7slufnhmqLjfrpeIcOmJgDmWfcZbwMWwRNHvvXcBQwMkt2H1ijT3WKygSRXEz_jyr3EkTSBwAzU3orRj5Bv15Tm7O85p421wi7ZYniTu8OQCJBY-8Oqo8EItGXILUfZ3mCslkD4xVHyAS6rHiHDOgtFK1Jlg186LTQt59sWzS39nQ1nrE.tfOofDAsUy-JJj9YOA8H-TMhPzD2hJNFQCTr2EW8Xto&dib_tag=se&keywords=nothing+phone+3a+pro+8+256&qid=1745931887&sprefix=nothing+phone+3a+pro+8+256%2Caps%2C211&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 8GB 256GB GREY","Price":34999,"Offer Price":31999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQ44FC/ref=sr_1_3?crid=1JSACW6YXGL4&dib=eyJ2IjoiMSJ9.YG0c3Rre36d_u73AroztUyXT1EtHjc2en2OBGY-uxgXOokQ4x4fPensGGE7slufnhmqLjfrpeIcOmJgDmWfcZbwMWwRNHvvXcBQwMkt2H1ijT3WKygSRXEz_jyr3EkTSBwAzU3orRj5Bv15Tm7O85p421wi7ZYniTu8OQCJBY-8Oqo8EItGXILUfZ3mCslkD4xVHyAS6rHiHDOgtFK1Jlg186LTQt59sWzS39nQ1nrE.tfOofDAsUy-JJj9YOA8H-TMhPzD2hJNFQCTr2EW8Xto&dib_tag=se&keywords=nothing+phone+3a+pro+8+256&qid=1745931887&sprefix=nothing+phone+3a+pro+8+256%2Caps%2C211&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 12GB 256GB BLACK","Price":36999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQBWXB/ref=sr_1_3?crid=2GYPVCWG1HT3S&dib=eyJ2IjoiMSJ9.s83CYwh5SkXZculdp5pAGGgT93i4NebU4u954L6NSO4_iSHnh9d-uuS5yoMSgMGYGbl_nG1fQbtY8BdUxfb--ExV68k8P1WJlJJnDvPlIRFTVFnNVmL5_kNUPz9giHOutZy8bV_i7HuMHDOor9pfD56EOcyf4TlkHuxbvRxytugvLNp3IFV1Hr3qQPRN-JU2Cf1bl4YVJ_qgVZrcB3f7imto_krTTGa3xHQw2gQqA8E.5uQ_Yfj0q0-LcDhMdukmh77cJWrFatzHQGwxFDzgKhc&dib_tag=se&keywords=nothing+phone+3a+pro+12+256&qid=1745931863&sprefix=nothing+phone+3a+pro+%2Caps%2C220&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"},{"Category":"Mobile","Brand":"NOTHING","Model Name":"3A","Specs (RAM/ROM/Display/etc)":"PHONE (3A) PRO 5G 12GB 256GB GREY","Price":36999,"Offer Price":33999,"Stock":8,"Product Image URL":"https://www.amazon.in/Nothing-Phone-Black-256GB-Storage/dp/B0DZTQBWXB/ref=sr_1_3?crid=2GYPVCWG1HT3S&dib=eyJ2IjoiMSJ9.s83CYwh5SkXZculdp5pAGGgT93i4NebU4u954L6NSO4_iSHnh9d-uuS5yoMSgMGYGbl_nG1fQbtY8BdUxfb--ExV68k8P1WJlJJnDvPlIRFTVFnNVmL5_kNUPz9giHOutZy8bV_i7HuMHDOor9pfD56EOcyf4TlkHuxbvRxytugvLNp3IFV1Hr3qQPRN-JU2Cf1bl4YVJ_qgVZrcB3f7imto_krTTGa3xHQw2gQqA8E.5uQ_Yfj0q0-LcDhMdukmh77cJWrFatzHQGwxFDzgKhc&dib_tag=se&keywords=nothing+phone+3a+pro+12+256&qid=1745931863&sprefix=nothing+phone+3a+pro+%2Caps%2C220&sr=8-3","Description":"","Warranty":"","EMI Options":"Yes"}]'),kde=async()=>{var r,t,s,i,l,h,m;console.log("Starting product migration to Firebase...");try{let g=0,b=0;for(const v of wde)try{const k={category:((r=v.Category)==null?void 0:r.toLowerCase())||"general",brand:((t=v.Brand)==null?void 0:t.trim())||"Unknown",name:v["Model Name"]||"Unknown Product",model:v["Model Name"]||"",specifications:v["Specs (RAM/ROM/Display/etc)"]||"",price:parseFloat((s=v.Price)==null?void 0:s.toString().replace(/[,]/g,""))||0,offerPrice:parseFloat((i=v["Offer Price"])==null?void 0:i.toString().replace(/[,]/g,""))||0,stock:parseInt(v.Stock)||0,imageUrl:v["Product Image URL"]||"",description:v.Description||"",warranty:v.Warranty||"",emiOptions:v["EMI Options"]==="Yes",isActive:!0,featured:Math.random()>.8,rating:Math.floor(Math.random()*2)+3,totalReviews:Math.floor(Math.random()*100),searchTags:[(l=v.Brand)==null?void 0:l.toLowerCase(),(h=v["Model Name"])==null?void 0:h.toLowerCase(),(m=v.Category)==null?void 0:m.toLowerCase()].filter(Boolean),createdAt:new Date,updatedAt:new Date};k.price>0&&k.offerPrice>0&&(k.discountPercentage=Math.round((k.price-k.offerPrice)/k.price*100));const C=await vde.addProduct(k);console.log(` Added product: ${k.name} (ID: ${C})`),g++,await new Promise(_=>setTimeout(_,100))}catch(k){console.error(` Error adding product ${v["Model Name"]}:`,k),b++}return console.log(`
 Migration completed!`),console.log(` Successfully added: ${g} products`),console.log(` Failed: ${b} products`),{success:g,errors:b}}catch(g){throw console.error("Migration failed:",g),g}},Cde=()=>{const[r,t]=O.useState({auth:!1,firestore:!1,storage:!1,products:!1}),[s,i]=O.useState(!1),[l,h]=O.useState({}),m=async()=>{try{i(!0);const _="test@anandmobiles.com",S="test123456";try{await(await N5(_y,_,S)).user.delete(),h(R=>({...R,auth:{success:!0,message:"Firebase Auth is working properly"}})),t(R=>({...R,auth:!0}))}catch(T){if(T.code==="auth/email-already-in-use")await $K(_y,_,S),await tQ(_y),h(R=>({...R,auth:{success:!0,message:"Firebase Auth is working (test user exists)"}})),t(R=>({...R,auth:!0}));else throw T}}catch(_){h(S=>({...S,auth:{success:!1,message:`Auth test failed: ${_.message}`}}))}finally{i(!1)}},g=async()=>{try{i(!0);const _=zf(Du,"test_collection","test_doc");await BT(_,{message:"Firebase setup test",timestamp:new Date,success:!0});const S=await y9(XA(Du,"test_collection"));h(T=>({...T,firestore:{success:!0,message:`Firestore is working (${S.size} test documents)`}})),t(T=>({...T,firestore:!0}))}catch(_){h(S=>({...S,firestore:{success:!1,message:`Firestore test failed: ${_.message}`}}))}finally{i(!1)}},b=async()=>{try{i(!0),h(_=>({..._,storage:{success:!0,message:"Firebase Storage is configured and accessible"}})),t(_=>({..._,storage:!0}))}catch(_){h(S=>({...S,storage:{success:!1,message:`Storage test failed: ${_.message}`}}))}finally{i(!1)}},v=async()=>{try{i(!0),Re.loading("Migrating products to Firebase...",{id:"migration"});const _=await kde();h(S=>({...S,products:{success:!0,message:`Successfully migrated ${_.success} products, ${_.errors} errors`}})),t(S=>({...S,products:!0})),Re.success(`Migration completed! ${_.success} products added`,{id:"migration"})}catch(_){h(S=>({...S,products:{success:!1,message:`Migration failed: ${_.message}`}})),Re.error("Migration failed",{id:"migration"})}finally{i(!1)}},k=async()=>{try{i(!0);const _="admin@anandmobiles.com",S="admin123456",R=(await N5(_y,_,S)).user;await BT(zf(Du,"users",R.uid),{uid:R.uid,email:R.email,firstName:"Admin",lastName:"User",role:"admin",permissions:["read","write","delete","manage_orders","manage_users"],createdAt:new Date,isActive:!0}),Re.success(`Admin user created: ${_} / ${S}`)}catch(_){_.code==="auth/email-already-in-use"?Re.info("Admin user already exists"):Re.error(`Failed to create admin: ${_.message}`)}finally{i(!1)}},C=async()=>{await m(),await g(),await b()};return n.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[n.jsx("h1",{children:"Firebase Setup & Configuration"}),n.jsx("p",{children:"Use this page to test and configure your Firebase integration."}),n.jsxs("div",{style:{marginBottom:"30px"},children:[n.jsx("h2",{children:"Setup Status"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:Object.entries(r).map(([_,S])=>n.jsxs("div",{style:{padding:"10px",border:`2px solid ${S?"#10B981":"#EF4444"}`,borderRadius:"8px",backgroundColor:S?"#F0FDF4":"#FEF2F2",textAlign:"center"},children:[n.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize"},children:_==="firestore"?"Database":_}),n.jsx("div",{style:{color:S?"#047857":"#DC2626"},children:S?" Ready":" Not Ready"})]},_))})]}),n.jsxs("div",{style:{marginBottom:"30px"},children:[n.jsx("h2",{children:"Firebase Tests"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[n.jsx("button",{onClick:m,disabled:s,style:{padding:"10px 20px",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Test Authentication"}),n.jsx("button",{onClick:g,disabled:s,style:{padding:"10px 20px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Test Database"}),n.jsx("button",{onClick:b,disabled:s,style:{padding:"10px 20px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Test Storage"}),n.jsx("button",{onClick:C,disabled:s,style:{padding:"10px 20px",backgroundColor:"#7C3AED",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Run All Tests"})]})]}),n.jsxs("div",{style:{marginBottom:"30px"},children:[n.jsx("h2",{children:"Data Migration"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[n.jsx("button",{onClick:v,disabled:s,style:{padding:"10px 20px",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Migrate Products to Firebase"}),n.jsx("button",{onClick:k,disabled:s,style:{padding:"10px 20px",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:"Create Admin User"})]}),n.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Note:"})," Product migration will import all products from the JSON file to Firebase."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Admin credentials:"})," admin@anandmobiles.com / admin123456"]})]})]}),Object.keys(l).length>0&&n.jsxs("div",{children:[n.jsx("h2",{children:"Test Results"}),Object.entries(l).map(([_,S])=>n.jsxs("div",{style:{margin:"10px 0",padding:"15px",border:`2px solid ${S.success?"#10B981":"#EF4444"}`,borderRadius:"8px",backgroundColor:S.success?"#F0FDF4":"#FEF2F2"},children:[n.jsxs("h4",{style:{margin:"0 0 10px 0",color:S.success?"#047857":"#DC2626",textTransform:"capitalize"},children:[_,": ",S.success?" PASS":" FAIL"]}),n.jsx("p",{style:{margin:"0"},children:S.message})]},_))]}),n.jsxs("div",{style:{marginTop:"40px",padding:"20px",backgroundColor:"#FEF3C7",borderRadius:"8px"},children:[n.jsx("h2",{children:" Firebase Console Configuration Required"}),n.jsx("p",{children:"Before running tests, make sure you've configured the following in Firebase Console:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Authentication:"})," Enable Email/Password and Google sign-in methods"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Firestore:"})," Create database and set up security rules"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Storage:"})," Set up storage bucket and rules"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Hosting:"})," Add your domain to authorized domains"]})]}),n.jsxs("p",{children:["See ",n.jsx("code",{children:"FIREBASE_SETUP_GUIDE.md"})," for detailed instructions."]})]})]})},_de=()=>n.jsxs(n.Fragment,{children:[n.jsx(Die,{}),n.jsx(I2,{}),n.jsx(Tie,{})]}),Ade=()=>{const{isAuthenticated:r,checkAuthStatus:t}=jr(),{isAuthenticated:s,checkAdminAuthStatus:i}=Ej(),{initializeTheme:l}=px();return mt.useEffect(()=>{(async()=>{l(),k6(),t(),i();const{useProductStore:m}=await IM(async()=>{const{useProductStore:b}=await Promise.resolve().then(()=>Soe);return{useProductStore:b}},[]);m.getState().fetchProducts();const{usePageContentStore:g}=await IM(async()=>{const{usePageContentStore:b}=await Promise.resolve().then(()=>mie);return{usePageContentStore:b}},void 0);g.getState().fetchAvailablePages()})()},[]),O.useEffect(()=>{l()},[]),n.jsxs(bG,{children:[n.jsx(bH,{position:"top-right",toastOptions:{duration:3e3}}),n.jsxs(YU,{children:[n.jsx(gt,{path:"/signup",element:r?n.jsx(Hs,{to:"/"}):n.jsx(Mee,{})}),n.jsx(gt,{path:"/login",element:r?n.jsx(Hs,{to:"/"}):n.jsx(Tee,{})}),n.jsx(gt,{path:"/firebase-setup",element:n.jsx(Cde,{})}),n.jsxs(gt,{path:"/delivery",children:[n.jsx(gt,{path:"login",element:n.jsx(Uie,{})}),n.jsx(gt,{path:"register",element:n.jsx(Gie,{})}),n.jsx(gt,{path:"admin-verify",element:n.jsx(_R,{})}),n.jsx(gt,{path:"dashboard",element:n.jsx(Af,{children:n.jsx(Yie,{})})}),n.jsx(gt,{path:"assignments",element:n.jsx(Af,{children:n.jsx(Hie,{})})}),n.jsx(gt,{path:"update/:id",element:n.jsx(Af,{children:n.jsx(AR,{})})}),n.jsx(gt,{path:"status-update",element:n.jsx(Af,{children:n.jsx(AR,{})})}),n.jsx(gt,{path:"history",element:n.jsx(Af,{children:n.jsx(qie,{})})}),n.jsx(gt,{path:"settings",element:n.jsx(Af,{children:n.jsx(Wie,{})})}),n.jsx(gt,{path:"verification",element:s?n.jsx(_R,{}):n.jsx(Hs,{to:"/admin/login"})})]}),n.jsxs(gt,{element:n.jsx(_de,{}),children:[n.jsx(gt,{path:"/",element:n.jsx(Eoe,{})}),n.jsx(gt,{path:"/products",element:n.jsx(xR,{})}),n.jsx(gt,{path:"/products/:id",element:n.jsx(Voe,{})}),n.jsx(gt,{path:"/category/:category",element:n.jsx(xR,{})}),n.jsx(gt,{path:"/cart",element:n.jsx(Koe,{})}),n.jsx(gt,{path:"/wishlist",element:n.jsx(Qoe,{})}),n.jsx(gt,{path:"/orders",element:n.jsx(sie,{})}),n.jsx(gt,{path:"/order-tracking",element:n.jsx(iie,{})}),n.jsx(gt,{path:"/order-tracking/:id",element:n.jsx(aie,{})}),n.jsx(gt,{path:"/search",element:n.jsx(Uoe,{})}),n.jsx(gt,{path:"/dynamic-page",element:n.jsx(kR,{})}),n.jsx(gt,{path:"/about",element:n.jsx(pie,{})}),n.jsx(gt,{path:"/contact",element:n.jsx(fie,{})}),n.jsx(gt,{path:"/track-order",element:n.jsx(gie,{})}),n.jsx(gt,{path:"/bulk-order",element:n.jsx(bie,{})}),n.jsx(gt,{path:"/terms-conditions",element:n.jsx(xie,{})}),n.jsx(gt,{path:"/cancellation-refund-policy",element:n.jsx(vie,{})})," ",n.jsx(gt,{path:"/privacy-policy",element:n.jsx(wie,{})}),n.jsx(gt,{path:"/shipping-delivery-policy",element:n.jsx(kie,{})}),n.jsx(gt,{path:"/our-stores",element:n.jsx(yie,{})}),n.jsx(gt,{path:"/warranty-policy",element:n.jsx(Cie,{})}),n.jsx(gt,{path:"/profile",element:n.jsx(wR,{})}),n.jsx(gt,{path:"/profile/:section",element:n.jsx(wR,{})}),n.jsx(gt,{path:"/:pagePath",element:n.jsx(kR,{})})]}),n.jsx(gt,{path:"/admin",element:n.jsx(Hs,{to:s?"/admin/dashboard":"/admin/login"})}),n.jsx(gt,{path:"/admin/login",element:s?n.jsx(Hs,{to:"/admin/dashboard"}):n.jsx(ude,{})}),n.jsx(gt,{path:"/admin/register",element:s?n.jsx(Hs,{to:"/admin/dashboard"}):n.jsx(hde,{})}),n.jsxs(gt,{element:n.jsx(Pie,{}),children:[n.jsx(gt,{path:"/admin/dashboard",element:s?n.jsx(iae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/products",element:s?n.jsx(mae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/inventory",element:s?n.jsx(bae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/orders",element:s?n.jsx(_ae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/users",element:s?n.jsx(Eae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/returns",element:s?n.jsx(Rae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/content",element:s?n.jsx(dde,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/sell-phones",element:s?n.jsx(xde,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/reviews",element:s?n.jsx(Bae,{}):n.jsx(Hs,{to:"/admin/login"})}),n.jsx(gt,{path:"/admin/delivery-partners",element:s?n.jsx(mde,{}):n.jsx(Hs,{to:"/admin/login"})})]})]})]})};XV.createRoot(document.getElementById("root")).render(n.jsx(Ade,{}));
